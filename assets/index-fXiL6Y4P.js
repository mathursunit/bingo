(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function lN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ug={exports:{}},Qc={};var ZT;function cN(){if(ZT)return Qc;ZT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Qc.Fragment=e,Qc.jsx=n,Qc.jsxs=n,Qc}var JT;function uN(){return JT||(JT=1,ug.exports=cN()),ug.exports}var b=uN(),hg={exports:{}},Le={};var ew;function hN(){if(ew)return Le;ew=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function C(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,N={};function H(x,$,ne){this.props=x,this.context=$,this.refs=N,this.updater=ne||M}H.prototype.isReactComponent={},H.prototype.setState=function(x,$){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,$,"setState")},H.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function X(){}X.prototype=H.prototype;function Y(x,$,ne){this.props=x,this.context=$,this.refs=N,this.updater=ne||M}var Q=Y.prototype=new X;Q.constructor=Y,O(Q,H.prototype),Q.isPureReactComponent=!0;var re=Array.isArray;function ce(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function D(x,$,ne){var oe=ne.ref;return{$$typeof:t,type:x,key:$,ref:oe!==void 0?oe:null,props:ne}}function j(x,$){return D(x.type,$,x.props)}function P(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function z(x){var $={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ne){return $[ne]})}var V=/\/+/g;function pe(x,$){return typeof x=="object"&&x!==null&&x.key!=null?z(""+x.key):$.toString(36)}function ye(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ce,ce):(x.status="pending",x.then(function($){x.status==="pending"&&(x.status="fulfilled",x.value=$)},function($){x.status==="pending"&&(x.status="rejected",x.reason=$)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function U(x,$,ne,oe,ge){var ve=typeof x;(ve==="undefined"||ve==="boolean")&&(x=null);var fe=!1;if(x===null)fe=!0;else switch(ve){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(x.$$typeof){case t:case e:fe=!0;break;case y:return fe=x._init,U(fe(x._payload),$,ne,oe,ge)}}if(fe)return ge=ge(x),fe=oe===""?"."+pe(x,0):oe,re(ge)?(ne="",fe!=null&&(ne=fe.replace(V,"$&/")+"/"),U(ge,$,ne,"",function(Ge){return Ge})):ge!=null&&(P(ge)&&(ge=j(ge,ne+(ge.key==null||x&&x.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+fe)),$.push(ge)),1;fe=0;var xe=oe===""?".":oe+":";if(re(x))for(var Ie=0;Ie<x.length;Ie++)oe=x[Ie],ve=xe+pe(oe,Ie),fe+=U(oe,$,ne,ve,ge);else if(Ie=C(x),typeof Ie=="function")for(x=Ie.call(x),Ie=0;!(oe=x.next()).done;)oe=oe.value,ve=xe+pe(oe,Ie++),fe+=U(oe,$,ne,ve,ge);else if(ve==="object"){if(typeof x.then=="function")return U(ye(x),$,ne,oe,ge);throw $=String(x),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return fe}function Z(x,$,ne){if(x==null)return x;var oe=[],ge=0;return U(x,oe,"","",function(ve){return $.call(ne,ve,ge++)}),oe}function q(x){if(x._status===-1){var $=x._result;$=$(),$.then(function(ne){(x._status===0||x._status===-1)&&(x._status=1,x._result=ne)},function(ne){(x._status===0||x._status===-1)&&(x._status=2,x._result=ne)}),x._status===-1&&(x._status=0,x._result=$)}if(x._status===1)return x._result.default;throw x._result}var me=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},B={map:Z,forEach:function(x,$,ne){Z(x,function(){$.apply(this,arguments)},ne)},count:function(x){var $=0;return Z(x,function(){$++}),$},toArray:function(x){return Z(x,function($){return $})||[]},only:function(x){if(!P(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Le.Activity=v,Le.Children=B,Le.Component=H,Le.Fragment=n,Le.Profiler=a,Le.PureComponent=Y,Le.StrictMode=s,Le.Suspense=p,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Le.__COMPILER_RUNTIME={__proto__:null,c:function(x){return I.H.useMemoCache(x)}},Le.cache=function(x){return function(){return x.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(x,$,ne){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var oe=O({},x.props),ge=x.key;if($!=null)for(ve in $.key!==void 0&&(ge=""+$.key),$)!S.call($,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&$.ref===void 0||(oe[ve]=$[ve]);var ve=arguments.length-2;if(ve===1)oe.children=ne;else if(1<ve){for(var fe=Array(ve),xe=0;xe<ve;xe++)fe[xe]=arguments[xe+2];oe.children=fe}return D(x.type,ge,oe)},Le.createContext=function(x){return x={$$typeof:u,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:l,_context:x},x},Le.createElement=function(x,$,ne){var oe,ge={},ve=null;if($!=null)for(oe in $.key!==void 0&&(ve=""+$.key),$)S.call($,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ge[oe]=$[oe]);var fe=arguments.length-2;if(fe===1)ge.children=ne;else if(1<fe){for(var xe=Array(fe),Ie=0;Ie<fe;Ie++)xe[Ie]=arguments[Ie+2];ge.children=xe}if(x&&x.defaultProps)for(oe in fe=x.defaultProps,fe)ge[oe]===void 0&&(ge[oe]=fe[oe]);return D(x,ve,ge)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(x){return{$$typeof:f,render:x}},Le.isValidElement=P,Le.lazy=function(x){return{$$typeof:y,_payload:{_status:-1,_result:x},_init:q}},Le.memo=function(x,$){return{$$typeof:d,type:x,compare:$===void 0?null:$}},Le.startTransition=function(x){var $=I.T,ne={};I.T=ne;try{var oe=x(),ge=I.S;ge!==null&&ge(ne,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ce,me)}catch(ve){me(ve)}finally{$!==null&&ne.types!==null&&($.types=ne.types),I.T=$}},Le.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Le.use=function(x){return I.H.use(x)},Le.useActionState=function(x,$,ne){return I.H.useActionState(x,$,ne)},Le.useCallback=function(x,$){return I.H.useCallback(x,$)},Le.useContext=function(x){return I.H.useContext(x)},Le.useDebugValue=function(){},Le.useDeferredValue=function(x,$){return I.H.useDeferredValue(x,$)},Le.useEffect=function(x,$){return I.H.useEffect(x,$)},Le.useEffectEvent=function(x){return I.H.useEffectEvent(x)},Le.useId=function(){return I.H.useId()},Le.useImperativeHandle=function(x,$,ne){return I.H.useImperativeHandle(x,$,ne)},Le.useInsertionEffect=function(x,$){return I.H.useInsertionEffect(x,$)},Le.useLayoutEffect=function(x,$){return I.H.useLayoutEffect(x,$)},Le.useMemo=function(x,$){return I.H.useMemo(x,$)},Le.useOptimistic=function(x,$){return I.H.useOptimistic(x,$)},Le.useReducer=function(x,$,ne){return I.H.useReducer(x,$,ne)},Le.useRef=function(x){return I.H.useRef(x)},Le.useState=function(x){return I.H.useState(x)},Le.useSyncExternalStore=function(x,$,ne){return I.H.useSyncExternalStore(x,$,ne)},Le.useTransition=function(){return I.H.useTransition()},Le.version="19.2.3",Le}var tw;function Wy(){return tw||(tw=1,hg.exports=hN()),hg.exports}var k=Wy();const ed=lN(k);var fg={exports:{}},Xc={},dg={exports:{}},mg={};var nw;function fN(){return nw||(nw=1,(function(t){function e(U,Z){var q=U.length;U.push(Z);e:for(;0<q;){var me=q-1>>>1,B=U[me];if(0<a(B,Z))U[me]=Z,U[q]=B,q=me;else break e}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var Z=U[0],q=U.pop();if(q!==Z){U[0]=q;e:for(var me=0,B=U.length,x=B>>>1;me<x;){var $=2*(me+1)-1,ne=U[$],oe=$+1,ge=U[oe];if(0>a(ne,q))oe<B&&0>a(ge,ne)?(U[me]=ge,U[oe]=q,me=oe):(U[me]=ne,U[$]=q,me=$);else if(oe<B&&0>a(ge,q))U[me]=ge,U[oe]=q,me=oe;else break e}}return Z}function a(U,Z){var q=U.sortIndex-Z.sortIndex;return q!==0?q:U.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],d=[],y=1,v=null,w=3,C=!1,M=!1,O=!1,N=!1,H=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function Q(U){for(var Z=n(d);Z!==null;){if(Z.callback===null)s(d);else if(Z.startTime<=U)s(d),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=n(d)}}function re(U){if(O=!1,Q(U),!M)if(n(p)!==null)M=!0,ce||(ce=!0,z());else{var Z=n(d);Z!==null&&ye(re,Z.startTime-U)}}var ce=!1,I=-1,S=5,D=-1;function j(){return N?!0:!(t.unstable_now()-D<S)}function P(){if(N=!1,ce){var U=t.unstable_now();D=U;var Z=!0;try{e:{M=!1,O&&(O=!1,X(I),I=-1),C=!0;var q=w;try{t:{for(Q(U),v=n(p);v!==null&&!(v.expirationTime>U&&j());){var me=v.callback;if(typeof me=="function"){v.callback=null,w=v.priorityLevel;var B=me(v.expirationTime<=U);if(U=t.unstable_now(),typeof B=="function"){v.callback=B,Q(U),Z=!0;break t}v===n(p)&&s(p),Q(U)}else s(p);v=n(p)}if(v!==null)Z=!0;else{var x=n(d);x!==null&&ye(re,x.startTime-U),Z=!1}}break e}finally{v=null,w=q,C=!1}Z=void 0}}finally{Z?z():ce=!1}}}var z;if(typeof Y=="function")z=function(){Y(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,pe=V.port2;V.port1.onmessage=P,z=function(){pe.postMessage(null)}}else z=function(){H(P,0)};function ye(U,Z){I=H(function(){U(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(U){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var q=w;w=Z;try{return U()}finally{w=q}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var q=w;w=U;try{return Z()}finally{w=q}},t.unstable_scheduleCallback=function(U,Z,q){var me=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?me+q:me):q=me,U){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=q+B,U={id:y++,callback:Z,priorityLevel:U,startTime:q,expirationTime:B,sortIndex:-1},q>me?(U.sortIndex=q,e(d,U),n(p)===null&&U===n(d)&&(O?(X(I),I=-1):O=!0,ye(re,q-me))):(U.sortIndex=B,e(p,U),M||C||(M=!0,ce||(ce=!0,z()))),U},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(U){var Z=w;return function(){var q=w;w=Z;try{return U.apply(this,arguments)}finally{w=q}}}})(mg)),mg}var iw;function dN(){return iw||(iw=1,dg.exports=fN()),dg.exports}var pg={exports:{}},Cn={};var sw;function mN(){if(sw)return Cn;sw=1;var t=Wy();function e(p){var d="https://react.dev/errors/"+p;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,d,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:p,containerInfo:d,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,d){if(p==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Cn.createPortal=function(p,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return l(p,d,null,y)},Cn.flushSync=function(p){var d=u.T,y=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=d,s.p=y,s.d.f()}},Cn.preconnect=function(p,d){typeof p=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(p,d))},Cn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Cn.preinit=function(p,d){if(typeof p=="string"&&d&&typeof d.as=="string"){var y=d.as,v=f(y,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,C=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?s.d.S(p,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:C}):y==="script"&&s.d.X(p,{crossOrigin:v,integrity:w,fetchPriority:C,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Cn.preinitModule=function(p,d){if(typeof p=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=f(d.as,d.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(p)},Cn.preload=function(p,d){if(typeof p=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,v=f(y,d.crossOrigin);s.d.L(p,y,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Cn.preloadModule=function(p,d){if(typeof p=="string")if(d){var y=f(d.as,d.crossOrigin);s.d.m(p,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(p)},Cn.requestFormReset=function(p){s.d.r(p)},Cn.unstable_batchedUpdates=function(p,d){return p(d)},Cn.useFormState=function(p,d,y){return u.H.useFormState(p,d,y)},Cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Cn.version="19.2.3",Cn}var rw;function pN(){if(rw)return pg.exports;rw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pg.exports=mN(),pg.exports}var aw;function gN(){if(aw)return Xc;aw=1;var t=dN(),e=Wy(),n=pN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function d(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return p(m),i;if(g===c)return p(m),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=m,c=g;else{for(var T=!1,A=m.child;A;){if(A===o){T=!0,o=m,c=g;break}if(A===c){T=!0,c=m,o=g;break}A=A.sibling}if(!T){for(A=g.child;A;){if(A===o){T=!0,o=g,c=m;break}if(A===c){T=!0,c=g,o=m;break}A=A.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function pe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case H:return"Profiler";case N:return"StrictMode";case re:return"Suspense";case ce:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case Y:return i.displayName||"Context";case X:return(i._context.displayName||"Context")+".Consumer";case Q:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:pe(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return pe(i(r))}catch{}}return null}var ye=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},me=[],B=-1;function x(i){return{current:i}}function $(i){0>B||(i.current=me[B],me[B]=null,B--)}function ne(i,r){B++,me[B]=i.current,i.current=r}var oe=x(null),ge=x(null),ve=x(null),fe=x(null);function xe(i,r){switch(ne(ve,r),ne(ge,i),ne(oe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?TT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=TT(r),i=wT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}$(oe),ne(oe,i)}function Ie(){$(oe),$(ge),$(ve)}function Ge(i){i.memoizedState!==null&&ne(fe,i);var r=oe.current,o=wT(r,i.type);r!==o&&(ne(ge,i),ne(oe,o))}function qe(i){ge.current===i&&($(oe),$(ge)),fe.current===i&&($(fe),Gc._currentValue=q)}var $e,wt;function Ve(i){if($e===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);$e=r&&r[1]||"",wt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$e+i+wt}var lt=!1;function zt(i,r){if(!i||lt)return"";lt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(se){var te=se}Reflect.construct(i,[],ue)}else{try{ue.call()}catch(se){te=se}i.call(ue.prototype)}}else{try{throw Error()}catch(se){te=se}(ue=i())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(se){if(se&&te&&typeof se.stack=="string")return[se.stack,te.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],A=g[1];if(T&&A){var L=T.split(`
`),ee=A.split(`
`);for(m=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ee.length&&!ee[m].includes("DetermineComponentFrameRoot");)m++;if(c===L.length||m===ee.length)for(c=L.length-1,m=ee.length-1;1<=c&&0<=m&&L[c]!==ee[m];)m--;for(;1<=c&&0<=m;c--,m--)if(L[c]!==ee[m]){if(c!==1||m!==1)do if(c--,m--,0>m||L[c]!==ee[m]){var ae=`
`+L[c].replace(" at new "," at ");return i.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",i.displayName)),ae}while(1<=c&&0<=m);break}}}finally{lt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ve(o):""}function Bt(i,r){switch(i.tag){case 26:case 27:case 5:return Ve(i.type);case 16:return Ve("Lazy");case 13:return i.child!==r&&r!==null?Ve("Suspense Fallback"):Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 15:return zt(i.type,!1);case 11:return zt(i.type.render,!1);case 1:return zt(i.type,!0);case 31:return Ve("Activity");default:return""}}function gn(i){try{var r="",o=null;do r+=Bt(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ct=Object.prototype.hasOwnProperty,et=t.unstable_scheduleCallback,pi=t.unstable_cancelCallback,Ca=t.unstable_shouldYield,_r=t.unstable_requestPaint,Kt=t.unstable_now,xn=t.unstable_getCurrentPriorityLevel,Mn=t.unstable_ImmediatePriority,Bn=t.unstable_UserBlockingPriority,Sn=t.unstable_NormalPriority,js=t.unstable_LowPriority,as=t.unstable_IdlePriority,os=t.log,Bi=t.unstable_setDisableYieldValue,it=null,kt=null;function Vn(i){if(typeof os=="function"&&Bi(i),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(it,i)}catch{}}var Et=Math.clz32?Math.clz32:Ra,Us=Math.log,gi=Math.LN2;function Ra(i){return i>>>=0,i===0?32:31-(Us(i)/gi|0)|0}var Jn=256,yi=262144,Ot=4194304;function ei(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function vi(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?m=ei(c):(T&=A,T!==0?m=ei(T):o||(o=A&~i,o!==0&&(m=ei(o))))):(A=c&~g,A!==0?m=ei(A):T!==0?m=ei(T):o||(o=c&~i,o!==0&&(m=ei(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function Fn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Ia(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function br(){var i=Ot;return Ot<<=1,(Ot&62914560)===0&&(Ot=4194304),i}function _i(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function zs(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Wl(i,r,o,c,m,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,L=i.expirationTimes,ee=i.hiddenUpdates;for(o=T&~o;0<o;){var ae=31-Et(o),ue=1<<ae;A[ae]=0,L[ae]=-1;var te=ee[ae];if(te!==null)for(ee[ae]=null,ae=0;ae<te.length;ae++){var se=te[ae];se!==null&&(se.lane&=-536870913)}o&=~ue}c!==0&&ls(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~r))}function ls(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Et(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Na(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Et(o),m=1<<c;m&r|i[c]&r&&(i[c]|=r),o&=~m}}function Da(i,r){var o=r&-r;return o=(o&42)!==0?1:Tr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Tr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function bi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function wr(){var i=Z.p;return i!==0?i:(i=window.event,i===void 0?32:GT(i.type))}function Pn(i,r){var o=Z.p;try{return Z.p=i,r()}finally{Z.p=o}}var ti=Math.random().toString(36).slice(2),K="__reactFiber$"+ti,Te="__reactProps$"+ti,ut="__reactContainer$"+ti,Rt="__reactEvents$"+ti,Yt="__reactListeners$"+ti,An="__reactHandles$"+ti,Fi="__reactResources$"+ti,ni="__reactMarker$"+ti;function xo(i){delete i[K],delete i[Te],delete i[Rt],delete i[Yt],delete i[An]}function cs(i){var r=i[K];if(r)return r;for(var o=i.parentNode;o;){if(r=o[ut]||o[K]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=IT(i);i!==null;){if(o=i[K])return o;i=IT(i)}return r}i=o,o=i.parentNode}return null}function Ti(i){if(i=i[K]||i[ut]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function ii(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function us(i){var r=i[Fi];return r||(r=i[Fi]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Qt(i){i[ni]=!0}var Zl=new Set,Jl={};function hs(i,r){fs(i,r),fs(i+"Capture",r)}function fs(i,r){for(Jl[i]=r,i=0;i<r.length;i++)Zl.add(r[i])}var ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tc={},nc={};function ih(i){return ct.call(nc,i)?!0:ct.call(tc,i)?!1:ec.test(i)?nc[i]=!0:(tc[i]=!0,!1)}function So(i,r,o){if(ih(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function si(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Xt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function hn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Er(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ic(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function dt(i){if(!i._valueTracker){var r=Er(i)?"checked":"value";i._valueTracker=ic(i,r,""+i[r])}}function ka(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Er(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function ds(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ma=/[\n"\\]/g;function qn(i){return i.replace(Ma,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ao(i,r,o,c,m,g,T,A){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+hn(r)):i.value!==""+hn(r)&&(i.value=""+hn(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?sc(i,T,hn(r)):o!=null?sc(i,T,hn(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+hn(A):i.removeAttribute("name")}function sh(i,r,o,c,m,g,T,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){dt(i);return}o=o!=null?""+hn(o):"",r=r!=null?""+hn(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),dt(i)}function sc(i,r,o){r==="number"&&ds(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function xr(i,r,o,c){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+hn(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function rh(i,r,o){if(r!=null&&(r=""+hn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+hn(o):""}function Sr(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(ye(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=hn(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),dt(i)}function Hn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var ah=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rc(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||ah.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function ac(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&rc(i,m,c)}else for(var g in r)r.hasOwnProperty(g)&&rc(i,g,r[g])}function Co(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ro(i){return Ar.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function qi(){}var oc=null;function wi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Cr=null,ms=null;function Va(i){var r=Ti(i);if(r&&(i=r.stateNode)){var o=i[Te]||null;e:switch(i=r.stateNode,r.type){case"input":if(Ao(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+qn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var m=c[Te]||null;if(!m)throw Error(s(90));Ao(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&ka(c)}break e;case"textarea":rh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&xr(i,!!o.multiple,r,!1)}}}var Io=!1;function Rr(i,r,o){if(Io)return i(r,o);Io=!0;try{var c=i(r);return c}finally{if(Io=!1,(Cr!==null||ms!==null)&&(ef(),Cr&&(r=Cr,i=ms,ms=Cr=null,Va(r),i)))for(r=0;r<i.length;r++)Va(i[r])}}function Hi(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Te]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pa=!1;if(Ei)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){Pa=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{Pa=!1}var ps=null,lc=null,Oa=null;function cc(){if(Oa)return Oa;var i,r=lc,o=r.length,c,m="value"in ps?ps.value:ps.textContent,g=m.length;for(i=0;i<o&&r[i]===m[i];i++);var T=o-i;for(c=1;c<=T&&r[o-c]===m[g-c];c++);return Oa=m.slice(i,1<c?1-c:void 0)}function La(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Bs(){return!0}function Gi(){return!1}function yn(i){function r(o,c,m,g,T){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Bs:Gi,this.isPropagationStopped=Gi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),r}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gs=yn(Fs),Ir=v({},Fs,{view:0,detail:0}),uc=yn(Ir),Nr,No,ys,Do=v({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ys&&(ys&&i.type==="mousemove"?(Nr=i.screenX-ys.screenX,No=i.screenY-ys.screenY):No=Nr=0,ys=i),Nr)},movementY:function(i){return"movementY"in i?i.movementY:No}}),hc=yn(Do),ja=v({},Do,{dataTransfer:0}),lh=yn(ja),ch=v({},Ir,{relatedTarget:0}),Ua=yn(ch),fc=v({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),uh=yn(fc),ko=v({},Fs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),hh=yn(ko),fh=v({},Fs,{data:0}),vs=yn(fh),dh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ph={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=ph[i])?!!r[i]:!1}function Dr(){return gh}var On=v({},Ir,{key:function(i){if(i.key){var r=dh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=La(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?mh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(i){return i.type==="keypress"?La(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?La(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),yh=yn(On),vh=v({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qs=yn(vh),h=v({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),_=yn(h),E=v({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=yn(E),W=v({},Do,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ie=yn(W),_e=v({},Fs,{newState:0,oldState:0}),Ue=yn(_e),Ft=[9,13,27,32],at=Ei&&"CompositionEvent"in window,It=null;Ei&&"documentMode"in document&&(It=document.documentMode);var xi=Ei&&"TextEvent"in window&&!It,_s=Ei&&(!at||It&&8<It&&11>=It),$i=" ",Ki=!1;function za(i,r){switch(i){case"keyup":return Ft.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Vo=!1;function k2(i,r){switch(i){case"compositionend":return Mo(r);case"keypress":return r.which!==32?null:(Ki=!0,$i);case"textInput":return i=r.data,i===$i&&Ki?null:i;default:return null}}function M2(i,r){if(Vo)return i==="compositionend"||!at&&za(i,r)?(i=cc(),Oa=lc=ps=null,Vo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _s&&r.locale!=="ko"?null:r.data;default:return null}}var V2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!V2[i.type]:r==="textarea"}function M0(i,r,o,c){Cr?ms?ms.push(c):ms=[c]:Cr=c,r=lf(r,"onChange"),0<r.length&&(o=new gs("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var dc=null,mc=null;function P2(i){pT(i,0)}function _h(i){var r=ii(i);if(ka(r))return i}function V0(i,r){if(i==="change")return r}var P0=!1;if(Ei){var ym;if(Ei){var vm="oninput"in document;if(!vm){var O0=document.createElement("div");O0.setAttribute("oninput","return;"),vm=typeof O0.oninput=="function"}ym=vm}else ym=!1;P0=ym&&(!document.documentMode||9<document.documentMode)}function L0(){dc&&(dc.detachEvent("onpropertychange",j0),mc=dc=null)}function j0(i){if(i.propertyName==="value"&&_h(mc)){var r=[];M0(r,mc,i,wi(i)),Rr(P2,r)}}function O2(i,r,o){i==="focusin"?(L0(),dc=r,mc=o,dc.attachEvent("onpropertychange",j0)):i==="focusout"&&L0()}function L2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return _h(mc)}function j2(i,r){if(i==="click")return _h(r)}function U2(i,r){if(i==="input"||i==="change")return _h(r)}function z2(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var ri=typeof Object.is=="function"?Object.is:z2;function pc(i,r){if(ri(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!ct.call(r,m)||!ri(i[m],r[m]))return!1}return!0}function U0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function z0(i,r){var o=U0(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=U0(o)}}function B0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?B0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function F0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ds(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=ds(i.document)}return r}function _m(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var B2=Ei&&"documentMode"in document&&11>=document.documentMode,Po=null,bm=null,gc=null,Tm=!1;function q0(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Tm||Po==null||Po!==ds(c)||(c=Po,"selectionStart"in c&&_m(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),gc&&pc(gc,c)||(gc=c,c=lf(bm,"onSelect"),0<c.length&&(r=new gs("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Po)))}function Ba(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Oo={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionrun:Ba("Transition","TransitionRun"),transitionstart:Ba("Transition","TransitionStart"),transitioncancel:Ba("Transition","TransitionCancel"),transitionend:Ba("Transition","TransitionEnd")},wm={},H0={};Ei&&(H0=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function Fa(i){if(wm[i])return wm[i];if(!Oo[i])return i;var r=Oo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in H0)return wm[i]=r[o];return i}var G0=Fa("animationend"),$0=Fa("animationiteration"),K0=Fa("animationstart"),F2=Fa("transitionrun"),q2=Fa("transitionstart"),H2=Fa("transitioncancel"),Y0=Fa("transitionend"),Q0=new Map,Em="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Em.push("scrollEnd");function Yi(i,r){Q0.set(i,r),hs(r,[i])}var bh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Si=[],Lo=0,xm=0;function Th(){for(var i=Lo,r=xm=Lo=0;r<i;){var o=Si[r];Si[r++]=null;var c=Si[r];Si[r++]=null;var m=Si[r];Si[r++]=null;var g=Si[r];if(Si[r++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}g!==0&&X0(o,m,g)}}function wh(i,r,o,c){Si[Lo++]=i,Si[Lo++]=r,Si[Lo++]=o,Si[Lo++]=c,xm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Sm(i,r,o,c){return wh(i,r,o,c),Eh(i)}function qa(i,r){return wh(i,null,null,r),Eh(i)}function X0(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&r!==null&&(m=31-Et(o),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[r]:c.push(r),r.lane=o|536870912),g):null}function Eh(i){if(50<jc)throw jc=0,Vp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var jo={};function G2(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(i,r,o,c){return new G2(i,r,o,c)}function Am(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Hs(i,r){var o=i.alternate;return o===null?(o=ai(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function W0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function xh(i,r,o,c,m,g){var T=0;if(c=i,typeof i=="function")Am(i)&&(T=1);else if(typeof i=="string")T=XI(i,o,oe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=ai(31,o,r,m),i.elementType=D,i.lanes=g,i;case O:return Ha(o.children,m,g,r);case N:T=8,m|=24;break;case H:return i=ai(12,o,r,m|2),i.elementType=H,i.lanes=g,i;case re:return i=ai(13,o,r,m),i.elementType=re,i.lanes=g,i;case ce:return i=ai(19,o,r,m),i.elementType=ce,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:T=10;break e;case X:T=9;break e;case Q:T=11;break e;case I:T=14;break e;case S:T=16,c=null;break e}T=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=ai(T,o,r,m),r.elementType=i,r.type=c,r.lanes=g,r}function Ha(i,r,o,c){return i=ai(7,i,c,r),i.lanes=o,i}function Cm(i,r,o){return i=ai(6,i,null,r),i.lanes=o,i}function Z0(i){var r=ai(18,null,null,0);return r.stateNode=i,r}function Rm(i,r,o){return r=ai(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var J0=new WeakMap;function Ai(i,r){if(typeof i=="object"&&i!==null){var o=J0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:gn(r)},J0.set(i,r),r)}return{value:i,source:r,stack:gn(r)}}var Uo=[],zo=0,Sh=null,yc=0,Ci=[],Ri=0,kr=null,bs=1,Ts="";function Gs(i,r){Uo[zo++]=yc,Uo[zo++]=Sh,Sh=i,yc=r}function e_(i,r,o){Ci[Ri++]=bs,Ci[Ri++]=Ts,Ci[Ri++]=kr,kr=i;var c=bs;i=Ts;var m=32-Et(c)-1;c&=~(1<<m),o+=1;var g=32-Et(r)+m;if(30<g){var T=m-m%5;g=(c&(1<<T)-1).toString(32),c>>=T,m-=T,bs=1<<32-Et(r)+m|o<<m|c,Ts=g+i}else bs=1<<g|o<<m|c,Ts=i}function Im(i){i.return!==null&&(Gs(i,1),e_(i,1,0))}function Nm(i){for(;i===Sh;)Sh=Uo[--zo],Uo[zo]=null,yc=Uo[--zo],Uo[zo]=null;for(;i===kr;)kr=Ci[--Ri],Ci[Ri]=null,Ts=Ci[--Ri],Ci[Ri]=null,bs=Ci[--Ri],Ci[Ri]=null}function t_(i,r){Ci[Ri++]=bs,Ci[Ri++]=Ts,Ci[Ri++]=kr,bs=r.id,Ts=r.overflow,kr=i}var vn=null,St=null,tt=!1,Mr=null,Ii=!1,Dm=Error(s(519));function Vr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vc(Ai(r,i)),Dm}function n_(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[K]=i,r[Te]=c,o){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(o=0;o<zc.length;o++)Ye(zc[o],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":Ye("invalid",r),sh(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ye("invalid",r);break;case"textarea":Ye("invalid",r),Sr(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||_T(r.textContent,o)?(c.popover!=null&&(Ye("beforetoggle",r),Ye("toggle",r)),c.onScroll!=null&&Ye("scroll",r),c.onScrollEnd!=null&&Ye("scrollend",r),c.onClick!=null&&(r.onclick=qi),r=!0):r=!1,r||Vr(i,!0)}function i_(i){for(vn=i.return;vn;)switch(vn.tag){case 5:case 31:case 13:Ii=!1;return;case 27:case 3:Ii=!0;return;default:vn=vn.return}}function Bo(i){if(i!==vn)return!1;if(!tt)return i_(i),tt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Qp(i.type,i.memoizedProps)),o=!o),o&&St&&Vr(i),i_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));St=RT(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));St=RT(i)}else r===27?(r=St,Yr(i.type)?(i=eg,eg=null,St=i):St=r):St=vn?Di(i.stateNode.nextSibling):null;return!0}function Ga(){St=vn=null,tt=!1}function km(){var i=Mr;return i!==null&&(Yn===null?Yn=i:Yn.push.apply(Yn,i),Mr=null),i}function vc(i){Mr===null?Mr=[i]:Mr.push(i)}var Mm=x(null),$a=null,$s=null;function Pr(i,r,o){ne(Mm,r._currentValue),r._currentValue=o}function Ks(i){i._currentValue=Mm.current,$(Mm)}function Vm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function Pm(i,r,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var T=m.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=m;for(var L=0;L<r.length;L++)if(A.context===r[L]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Vm(g.return,o,i),c||(T=null);break e}g=A.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(s(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Vm(T,o,i),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===i){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Fo(i,r,o,c){i=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var A=m.type;ri(m.pendingProps.value,T.value)||(i!==null?i.push(A):i=[A])}}else if(m===fe.current){if(T=m.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Gc):i=[Gc])}m=m.return}i!==null&&Pm(r,i,o,c),r.flags|=262144}function Ah(i){for(i=i.firstContext;i!==null;){if(!ri(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ka(i){$a=i,$s=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function _n(i){return s_($a,i)}function Ch(i,r){return $a===null&&Ka(i),s_(i,r)}function s_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},$s===null){if(i===null)throw Error(s(308));$s=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else $s=$s.next=r;return o}var $2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},K2=t.unstable_scheduleCallback,Y2=t.unstable_NormalPriority,Wt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Om(){return{controller:new $2,data:new Map,refCount:0}}function _c(i){i.refCount--,i.refCount===0&&K2(Y2,function(){i.controller.abort()})}var bc=null,Lm=0,qo=0,Ho=null;function Q2(i,r){if(bc===null){var o=bc=[];Lm=0,qo=zp(),Ho={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Lm++,r.then(r_,r_),r}function r_(){if(--Lm===0&&bc!==null){Ho!==null&&(Ho.status="fulfilled");var i=bc;bc=null,qo=0,Ho=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function X2(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var a_=U.S;U.S=function(i,r){qb=Kt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Q2(i,r),a_!==null&&a_(i,r)};var Ya=x(null);function jm(){var i=Ya.current;return i!==null?i:Tt.pooledCache}function Rh(i,r){r===null?ne(Ya,Ya.current):ne(Ya,r.pool)}function o_(){var i=jm();return i===null?null:{parent:Wt._currentValue,pool:i}}var Go=Error(s(460)),Um=Error(s(474)),Ih=Error(s(542)),Nh={then:function(){}};function l_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function c_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(qi,qi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,h_(i),i;default:if(typeof r.status=="string")r.then(qi,qi);else{if(i=Tt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,h_(i),i}throw Xa=r,Go}}function Qa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Xa=o,Go):o}}var Xa=null;function u_(){if(Xa===null)throw Error(s(459));var i=Xa;return Xa=null,i}function h_(i){if(i===Go||i===Ih)throw Error(s(483))}var $o=null,Tc=0;function Dh(i){var r=Tc;return Tc+=1,$o===null&&($o=[]),c_($o,i,r)}function wc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function kh(i,r){throw r.$$typeof===w?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function f_(i){function r(G,F){if(i){var J=G.deletions;J===null?(G.deletions=[F],G.flags|=16):J.push(F)}}function o(G,F){if(!i)return null;for(;F!==null;)r(G,F),F=F.sibling;return null}function c(G){for(var F=new Map;G!==null;)G.key!==null?F.set(G.key,G):F.set(G.index,G),G=G.sibling;return F}function m(G,F){return G=Hs(G,F),G.index=0,G.sibling=null,G}function g(G,F,J){return G.index=J,i?(J=G.alternate,J!==null?(J=J.index,J<F?(G.flags|=67108866,F):J):(G.flags|=67108866,F)):(G.flags|=1048576,F)}function T(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function A(G,F,J,le){return F===null||F.tag!==6?(F=Cm(J,G.mode,le),F.return=G,F):(F=m(F,J),F.return=G,F)}function L(G,F,J,le){var De=J.type;return De===O?ae(G,F,J.props.children,le,J.key):F!==null&&(F.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===S&&Qa(De)===F.type)?(F=m(F,J.props),wc(F,J),F.return=G,F):(F=xh(J.type,J.key,J.props,null,G.mode,le),wc(F,J),F.return=G,F)}function ee(G,F,J,le){return F===null||F.tag!==4||F.stateNode.containerInfo!==J.containerInfo||F.stateNode.implementation!==J.implementation?(F=Rm(J,G.mode,le),F.return=G,F):(F=m(F,J.children||[]),F.return=G,F)}function ae(G,F,J,le,De){return F===null||F.tag!==7?(F=Ha(J,G.mode,le,De),F.return=G,F):(F=m(F,J),F.return=G,F)}function ue(G,F,J){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Cm(""+F,G.mode,J),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case C:return J=xh(F.type,F.key,F.props,null,G.mode,J),wc(J,F),J.return=G,J;case M:return F=Rm(F,G.mode,J),F.return=G,F;case S:return F=Qa(F),ue(G,F,J)}if(ye(F)||z(F))return F=Ha(F,G.mode,J,null),F.return=G,F;if(typeof F.then=="function")return ue(G,Dh(F),J);if(F.$$typeof===Y)return ue(G,Ch(G,F),J);kh(G,F)}return null}function te(G,F,J,le){var De=F!==null?F.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return De!==null?null:A(G,F,""+J,le);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return J.key===De?L(G,F,J,le):null;case M:return J.key===De?ee(G,F,J,le):null;case S:return J=Qa(J),te(G,F,J,le)}if(ye(J)||z(J))return De!==null?null:ae(G,F,J,le,null);if(typeof J.then=="function")return te(G,F,Dh(J),le);if(J.$$typeof===Y)return te(G,F,Ch(G,J),le);kh(G,J)}return null}function se(G,F,J,le,De){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return G=G.get(J)||null,A(F,G,""+le,De);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case C:return G=G.get(le.key===null?J:le.key)||null,L(F,G,le,De);case M:return G=G.get(le.key===null?J:le.key)||null,ee(F,G,le,De);case S:return le=Qa(le),se(G,F,J,le,De)}if(ye(le)||z(le))return G=G.get(J)||null,ae(F,G,le,De,null);if(typeof le.then=="function")return se(G,F,J,Dh(le),De);if(le.$$typeof===Y)return se(G,F,J,Ch(F,le),De);kh(F,le)}return null}function Se(G,F,J,le){for(var De=null,st=null,Re=F,Be=F=0,Xe=null;Re!==null&&Be<J.length;Be++){Re.index>Be?(Xe=Re,Re=null):Xe=Re.sibling;var rt=te(G,Re,J[Be],le);if(rt===null){Re===null&&(Re=Xe);break}i&&Re&&rt.alternate===null&&r(G,Re),F=g(rt,F,Be),st===null?De=rt:st.sibling=rt,st=rt,Re=Xe}if(Be===J.length)return o(G,Re),tt&&Gs(G,Be),De;if(Re===null){for(;Be<J.length;Be++)Re=ue(G,J[Be],le),Re!==null&&(F=g(Re,F,Be),st===null?De=Re:st.sibling=Re,st=Re);return tt&&Gs(G,Be),De}for(Re=c(Re);Be<J.length;Be++)Xe=se(Re,G,Be,J[Be],le),Xe!==null&&(i&&Xe.alternate!==null&&Re.delete(Xe.key===null?Be:Xe.key),F=g(Xe,F,Be),st===null?De=Xe:st.sibling=Xe,st=Xe);return i&&Re.forEach(function(Jr){return r(G,Jr)}),tt&&Gs(G,Be),De}function ke(G,F,J,le){if(J==null)throw Error(s(151));for(var De=null,st=null,Re=F,Be=F=0,Xe=null,rt=J.next();Re!==null&&!rt.done;Be++,rt=J.next()){Re.index>Be?(Xe=Re,Re=null):Xe=Re.sibling;var Jr=te(G,Re,rt.value,le);if(Jr===null){Re===null&&(Re=Xe);break}i&&Re&&Jr.alternate===null&&r(G,Re),F=g(Jr,F,Be),st===null?De=Jr:st.sibling=Jr,st=Jr,Re=Xe}if(rt.done)return o(G,Re),tt&&Gs(G,Be),De;if(Re===null){for(;!rt.done;Be++,rt=J.next())rt=ue(G,rt.value,le),rt!==null&&(F=g(rt,F,Be),st===null?De=rt:st.sibling=rt,st=rt);return tt&&Gs(G,Be),De}for(Re=c(Re);!rt.done;Be++,rt=J.next())rt=se(Re,G,Be,rt.value,le),rt!==null&&(i&&rt.alternate!==null&&Re.delete(rt.key===null?Be:rt.key),F=g(rt,F,Be),st===null?De=rt:st.sibling=rt,st=rt);return i&&Re.forEach(function(oN){return r(G,oN)}),tt&&Gs(G,Be),De}function _t(G,F,J,le){if(typeof J=="object"&&J!==null&&J.type===O&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case C:e:{for(var De=J.key;F!==null;){if(F.key===De){if(De=J.type,De===O){if(F.tag===7){o(G,F.sibling),le=m(F,J.props.children),le.return=G,G=le;break e}}else if(F.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===S&&Qa(De)===F.type){o(G,F.sibling),le=m(F,J.props),wc(le,J),le.return=G,G=le;break e}o(G,F);break}else r(G,F);F=F.sibling}J.type===O?(le=Ha(J.props.children,G.mode,le,J.key),le.return=G,G=le):(le=xh(J.type,J.key,J.props,null,G.mode,le),wc(le,J),le.return=G,G=le)}return T(G);case M:e:{for(De=J.key;F!==null;){if(F.key===De)if(F.tag===4&&F.stateNode.containerInfo===J.containerInfo&&F.stateNode.implementation===J.implementation){o(G,F.sibling),le=m(F,J.children||[]),le.return=G,G=le;break e}else{o(G,F);break}else r(G,F);F=F.sibling}le=Rm(J,G.mode,le),le.return=G,G=le}return T(G);case S:return J=Qa(J),_t(G,F,J,le)}if(ye(J))return Se(G,F,J,le);if(z(J)){if(De=z(J),typeof De!="function")throw Error(s(150));return J=De.call(J),ke(G,F,J,le)}if(typeof J.then=="function")return _t(G,F,Dh(J),le);if(J.$$typeof===Y)return _t(G,F,Ch(G,J),le);kh(G,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,F!==null&&F.tag===6?(o(G,F.sibling),le=m(F,J),le.return=G,G=le):(o(G,F),le=Cm(J,G.mode,le),le.return=G,G=le),T(G)):o(G,F)}return function(G,F,J,le){try{Tc=0;var De=_t(G,F,J,le);return $o=null,De}catch(Re){if(Re===Go||Re===Ih)throw Re;var st=ai(29,Re,null,G.mode);return st.lanes=le,st.return=G,st}}}var Wa=f_(!0),d_=f_(!1),Or=!1;function zm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Lr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function jr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(ot&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=Eh(i),X0(i,null,o),r}return wh(i,c,r,o),Eh(i)}function Ec(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Na(i,o)}}function Fm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var qm=!1;function xc(){if(qm){var i=Ho;if(i!==null)throw i}}function Sc(i,r,o,c){qm=!1;var m=i.updateQueue;Or=!1;var g=m.firstBaseUpdate,T=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var L=A,ee=L.next;L.next=null,T===null?g=ee:T.next=ee,T=L;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,A=ae.lastBaseUpdate,A!==T&&(A===null?ae.firstBaseUpdate=ee:A.next=ee,ae.lastBaseUpdate=L))}if(g!==null){var ue=m.baseState;T=0,ae=ee=L=null,A=g;do{var te=A.lane&-536870913,se=te!==A.lane;if(se?(Qe&te)===te:(c&te)===te){te!==0&&te===qo&&(qm=!0),ae!==null&&(ae=ae.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Se=i,ke=A;te=r;var _t=o;switch(ke.tag){case 1:if(Se=ke.payload,typeof Se=="function"){ue=Se.call(_t,ue,te);break e}ue=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ke.payload,te=typeof Se=="function"?Se.call(_t,ue,te):Se,te==null)break e;ue=v({},ue,te);break e;case 2:Or=!0}}te=A.callback,te!==null&&(i.flags|=64,se&&(i.flags|=8192),se=m.callbacks,se===null?m.callbacks=[te]:se.push(te))}else se={lane:te,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ae===null?(ee=ae=se,L=ue):ae=ae.next=se,T|=te;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;se=A,A=se.next,se.next=null,m.lastBaseUpdate=se,m.shared.pending=null}}while(!0);ae===null&&(L=ue),m.baseState=L,m.firstBaseUpdate=ee,m.lastBaseUpdate=ae,g===null&&(m.shared.lanes=0),qr|=T,i.lanes=T,i.memoizedState=ue}}function m_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function p_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)m_(o[i],r)}var Ko=x(null),Mh=x(0);function g_(i,r){i=nr,ne(Mh,i),ne(Ko,r),nr=i|r.baseLanes}function Hm(){ne(Mh,nr),ne(Ko,Ko.current)}function Gm(){nr=Mh.current,$(Ko),$(Mh)}var oi=x(null),Ni=null;function Ur(i){var r=i.alternate;ne(qt,qt.current&1),ne(oi,i),Ni===null&&(r===null||Ko.current!==null||r.memoizedState!==null)&&(Ni=i)}function $m(i){ne(qt,qt.current),ne(oi,i),Ni===null&&(Ni=i)}function y_(i){i.tag===22?(ne(qt,qt.current),ne(oi,i),Ni===null&&(Ni=i)):zr()}function zr(){ne(qt,qt.current),ne(oi,oi.current)}function li(i){$(oi),Ni===i&&(Ni=null),$(qt)}var qt=x(0);function Vh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Zp(o)||Jp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ys=0,ze=null,yt=null,Zt=null,Ph=!1,Yo=!1,Za=!1,Oh=0,Ac=0,Qo=null,W2=0;function Lt(){throw Error(s(321))}function Km(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!ri(i[o],r[o]))return!1;return!0}function Ym(i,r,o,c,m,g){return Ys=g,ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U.H=i===null||i.memoizedState===null?eb:cp,Za=!1,g=o(c,m),Za=!1,Yo&&(g=__(r,o,c,m)),v_(i),g}function v_(i){U.H=Ic;var r=yt!==null&&yt.next!==null;if(Ys=0,Zt=yt=ze=null,Ph=!1,Ac=0,Qo=null,r)throw Error(s(300));i===null||Jt||(i=i.dependencies,i!==null&&Ah(i)&&(Jt=!0))}function __(i,r,o,c){ze=i;var m=0;do{if(Yo&&(Qo=null),Ac=0,Yo=!1,25<=m)throw Error(s(301));if(m+=1,Zt=yt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}U.H=tb,g=r(o,c)}while(Yo);return g}function Z2(){var i=U.H,r=i.useState()[0];return r=typeof r.then=="function"?Cc(r):r,i=i.useState()[0],(yt!==null?yt.memoizedState:null)!==i&&(ze.flags|=1024),r}function Qm(){var i=Oh!==0;return Oh=0,i}function Xm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Wm(i){if(Ph){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ph=!1}Ys=0,Zt=yt=ze=null,Yo=!1,Ac=Oh=0,Qo=null}function Ln(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?ze.memoizedState=Zt=i:Zt=Zt.next=i,Zt}function Ht(){if(yt===null){var i=ze.alternate;i=i!==null?i.memoizedState:null}else i=yt.next;var r=Zt===null?ze.memoizedState:Zt.next;if(r!==null)Zt=r,yt=i;else{if(i===null)throw ze.alternate===null?Error(s(467)):Error(s(310));yt=i,i={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Zt===null?ze.memoizedState=Zt=i:Zt=Zt.next=i}return Zt}function Lh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cc(i){var r=Ac;return Ac+=1,Qo===null&&(Qo=[]),i=c_(Qo,i,r),r=ze,(Zt===null?r.memoizedState:Zt.next)===null&&(r=r.alternate,U.H=r===null||r.memoizedState===null?eb:cp),i}function jh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Cc(i);if(i.$$typeof===Y)return _n(i)}throw Error(s(438,String(i)))}function Zm(i){var r=null,o=ze.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Lh(),ze.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=j;return r.index++,o}function Qs(i,r){return typeof r=="function"?r(i):r}function Uh(i){var r=Ht();return Jm(r,yt,i)}function Jm(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var T=m.next;m.next=g.next,g.next=T}r.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{r=m.next;var A=T=null,L=null,ee=r,ae=!1;do{var ue=ee.lane&-536870913;if(ue!==ee.lane?(Qe&ue)===ue:(Ys&ue)===ue){var te=ee.revertLane;if(te===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ue===qo&&(ae=!0);else if((Ys&te)===te){ee=ee.next,te===qo&&(ae=!0);continue}else ue={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},L===null?(A=L=ue,T=g):L=L.next=ue,ze.lanes|=te,qr|=te;ue=ee.action,Za&&o(g,ue),g=ee.hasEagerState?ee.eagerState:o(g,ue)}else te={lane:ue,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},L===null?(A=L=te,T=g):L=L.next=te,ze.lanes|=ue,qr|=ue;ee=ee.next}while(ee!==null&&ee!==r);if(L===null?T=g:L.next=A,!ri(g,i.memoizedState)&&(Jt=!0,ae&&(o=Ho,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=L,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function ep(i){var r=Ht(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var T=m=m.next;do g=i(g,T.action),T=T.next;while(T!==m);ri(g,r.memoizedState)||(Jt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function b_(i,r,o){var c=ze,m=Ht(),g=tt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!ri((yt||m).memoizedState,o);if(T&&(m.memoizedState=o,Jt=!0),m=m.queue,ip(E_.bind(null,c,m,i),[i]),m.getSnapshot!==r||T||Zt!==null&&Zt.memoizedState.tag&1){if(c.flags|=2048,Xo(9,{destroy:void 0},w_.bind(null,c,m,o,r),null),Tt===null)throw Error(s(349));g||(Ys&127)!==0||T_(c,r,o)}return o}function T_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=ze.updateQueue,r===null?(r=Lh(),ze.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function w_(i,r,o,c){r.value=o,r.getSnapshot=c,x_(r)&&S_(i)}function E_(i,r,o){return o(function(){x_(r)&&S_(i)})}function x_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!ri(i,o)}catch{return!0}}function S_(i){var r=qa(i,2);r!==null&&Qn(r,i,2)}function tp(i){var r=Ln();if(typeof i=="function"){var o=i;if(i=o(),Za){Vn(!0);try{o()}finally{Vn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:i},r}function A_(i,r,o,c){return i.baseState=o,Jm(i,yt,typeof c=="function"?c:Qs)}function J2(i,r,o,c,m){if(Fh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};U.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,C_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function C_(i,r){var o=r.action,c=r.payload,m=i.state;if(r.isTransition){var g=U.T,T={};U.T=T;try{var A=o(m,c),L=U.S;L!==null&&L(T,A),R_(i,r,A)}catch(ee){np(i,r,ee)}finally{g!==null&&T.types!==null&&(g.types=T.types),U.T=g}}else try{g=o(m,c),R_(i,r,g)}catch(ee){np(i,r,ee)}}function R_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){I_(i,r,c)},function(c){return np(i,r,c)}):I_(i,r,o)}function I_(i,r,o){r.status="fulfilled",r.value=o,N_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,C_(i,o)))}function np(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,N_(r),r=r.next;while(r!==c)}i.action=null}function N_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function D_(i,r){return r}function k_(i,r){if(tt){var o=Tt.formState;if(o!==null){e:{var c=ze;if(tt){if(St){t:{for(var m=St,g=Ii;m.nodeType!==8;){if(!g){m=null;break t}if(m=Di(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){St=Di(m.nextSibling),c=m.data==="F!";break e}}Vr(c)}c=!1}c&&(r=o[0])}}return o=Ln(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:D_,lastRenderedState:r},o.queue=c,o=W_.bind(null,ze,c),c.dispatch=o,c=tp(!1),g=lp.bind(null,ze,!1,c.queue),c=Ln(),m={state:r,dispatch:null,action:i,pending:null},c.queue=m,o=J2.bind(null,ze,m,g,o),m.dispatch=o,c.memoizedState=i,[r,o,!1]}function M_(i){var r=Ht();return V_(r,yt,i)}function V_(i,r,o){if(r=Jm(i,r,D_)[0],i=Uh(Qs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Cc(r)}catch(T){throw T===Go?Ih:T}else c=r;r=Ht();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(ze.flags|=2048,Xo(9,{destroy:void 0},eI.bind(null,m,o),null)),[c,g,i]}function eI(i,r){i.action=r}function P_(i){var r=Ht(),o=yt;if(o!==null)return V_(r,o,i);Ht(),r=r.memoizedState,o=Ht();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Xo(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=ze.updateQueue,r===null&&(r=Lh(),ze.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function O_(){return Ht().memoizedState}function zh(i,r,o,c){var m=Ln();ze.flags|=i,m.memoizedState=Xo(1|r,{destroy:void 0},o,c===void 0?null:c)}function Bh(i,r,o,c){var m=Ht();c=c===void 0?null:c;var g=m.memoizedState.inst;yt!==null&&c!==null&&Km(c,yt.memoizedState.deps)?m.memoizedState=Xo(r,g,o,c):(ze.flags|=i,m.memoizedState=Xo(1|r,g,o,c))}function L_(i,r){zh(8390656,8,i,r)}function ip(i,r){Bh(2048,8,i,r)}function tI(i){ze.flags|=4;var r=ze.updateQueue;if(r===null)r=Lh(),ze.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function j_(i){var r=Ht().memoizedState;return tI({ref:r,nextImpl:i}),function(){if((ot&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function U_(i,r){return Bh(4,2,i,r)}function z_(i,r){return Bh(4,4,i,r)}function B_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function F_(i,r,o){o=o!=null?o.concat([i]):null,Bh(4,4,B_.bind(null,r,i),o)}function sp(){}function q_(i,r){var o=Ht();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Km(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function H_(i,r){var o=Ht();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Km(r,c[1]))return c[0];if(c=i(),Za){Vn(!0);try{i()}finally{Vn(!1)}}return o.memoizedState=[c,r],c}function rp(i,r,o){return o===void 0||(Ys&1073741824)!==0&&(Qe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Gb(),ze.lanes|=i,qr|=i,o)}function G_(i,r,o,c){return ri(o,r)?o:Ko.current!==null?(i=rp(i,o,c),ri(i,r)||(Jt=!0),i):(Ys&42)===0||(Ys&1073741824)!==0&&(Qe&261930)===0?(Jt=!0,i.memoizedState=o):(i=Gb(),ze.lanes|=i,qr|=i,r)}function $_(i,r,o,c,m){var g=Z.p;Z.p=g!==0&&8>g?g:8;var T=U.T,A={};U.T=A,lp(i,!1,r,o);try{var L=m(),ee=U.S;if(ee!==null&&ee(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ae=X2(L,c);Rc(i,r,ae,hi(i))}else Rc(i,r,c,hi(i))}catch(ue){Rc(i,r,{then:function(){},status:"rejected",reason:ue},hi())}finally{Z.p=g,T!==null&&A.types!==null&&(T.types=A.types),U.T=T}}function nI(){}function ap(i,r,o,c){if(i.tag!==5)throw Error(s(476));var m=K_(i).queue;$_(i,m,r,q,o===null?nI:function(){return Y_(i),o(c)})}function K_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:q},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Y_(i){var r=K_(i);r.next===null&&(r=i.alternate.memoizedState),Rc(i,r.next.queue,{},hi())}function op(){return _n(Gc)}function Q_(){return Ht().memoizedState}function X_(){return Ht().memoizedState}function iI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=hi();i=Lr(o);var c=jr(r,i,o);c!==null&&(Qn(c,r,o),Ec(c,r,o)),r={cache:Om()},i.payload=r;return}r=r.return}}function sI(i,r,o){var c=hi();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fh(i)?Z_(r,o):(o=Sm(i,r,o,c),o!==null&&(Qn(o,i,c),J_(o,r,c)))}function W_(i,r,o){var c=hi();Rc(i,r,o,c)}function Rc(i,r,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Fh(i))Z_(r,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,A=g(T,o);if(m.hasEagerState=!0,m.eagerState=A,ri(A,T))return wh(i,r,m,0),Tt===null&&Th(),!1}catch{}if(o=Sm(i,r,m,c),o!==null)return Qn(o,i,c),J_(o,r,c),!0}return!1}function lp(i,r,o,c){if(c={lane:2,revertLane:zp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Fh(i)){if(r)throw Error(s(479))}else r=Sm(i,o,c,2),r!==null&&Qn(r,i,2)}function Fh(i){var r=i.alternate;return i===ze||r!==null&&r===ze}function Z_(i,r){Yo=Ph=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function J_(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Na(i,o)}}var Ic={readContext:_n,use:jh,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};Ic.useEffectEvent=Lt;var eb={readContext:_n,use:jh,useCallback:function(i,r){return Ln().memoizedState=[i,r===void 0?null:r],i},useContext:_n,useEffect:L_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,zh(4194308,4,B_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return zh(4194308,4,i,r)},useInsertionEffect:function(i,r){zh(4,2,i,r)},useMemo:function(i,r){var o=Ln();r=r===void 0?null:r;var c=i();if(Za){Vn(!0);try{i()}finally{Vn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=Ln();if(o!==void 0){var m=o(r);if(Za){Vn(!0);try{o(r)}finally{Vn(!1)}}}else m=r;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=sI.bind(null,ze,i),[c.memoizedState,i]},useRef:function(i){var r=Ln();return i={current:i},r.memoizedState=i},useState:function(i){i=tp(i);var r=i.queue,o=W_.bind(null,ze,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:sp,useDeferredValue:function(i,r){var o=Ln();return rp(o,i,r)},useTransition:function(){var i=tp(!1);return i=$_.bind(null,ze,i.queue,!0,!1),Ln().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=ze,m=Ln();if(tt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Tt===null)throw Error(s(349));(Qe&127)!==0||T_(c,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,L_(E_.bind(null,c,g,i),[i]),c.flags|=2048,Xo(9,{destroy:void 0},w_.bind(null,c,g,o,r),null),o},useId:function(){var i=Ln(),r=Tt.identifierPrefix;if(tt){var o=Ts,c=bs;o=(c&~(1<<32-Et(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Oh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=W2++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:op,useFormState:k_,useActionState:k_,useOptimistic:function(i){var r=Ln();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=lp.bind(null,ze,!0,o),o.dispatch=r,[i,r]},useMemoCache:Zm,useCacheRefresh:function(){return Ln().memoizedState=iI.bind(null,ze)},useEffectEvent:function(i){var r=Ln(),o={impl:i};return r.memoizedState=o,function(){if((ot&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},cp={readContext:_n,use:jh,useCallback:q_,useContext:_n,useEffect:ip,useImperativeHandle:F_,useInsertionEffect:U_,useLayoutEffect:z_,useMemo:H_,useReducer:Uh,useRef:O_,useState:function(){return Uh(Qs)},useDebugValue:sp,useDeferredValue:function(i,r){var o=Ht();return G_(o,yt.memoizedState,i,r)},useTransition:function(){var i=Uh(Qs)[0],r=Ht().memoizedState;return[typeof i=="boolean"?i:Cc(i),r]},useSyncExternalStore:b_,useId:Q_,useHostTransitionStatus:op,useFormState:M_,useActionState:M_,useOptimistic:function(i,r){var o=Ht();return A_(o,yt,i,r)},useMemoCache:Zm,useCacheRefresh:X_};cp.useEffectEvent=j_;var tb={readContext:_n,use:jh,useCallback:q_,useContext:_n,useEffect:ip,useImperativeHandle:F_,useInsertionEffect:U_,useLayoutEffect:z_,useMemo:H_,useReducer:ep,useRef:O_,useState:function(){return ep(Qs)},useDebugValue:sp,useDeferredValue:function(i,r){var o=Ht();return yt===null?rp(o,i,r):G_(o,yt.memoizedState,i,r)},useTransition:function(){var i=ep(Qs)[0],r=Ht().memoizedState;return[typeof i=="boolean"?i:Cc(i),r]},useSyncExternalStore:b_,useId:Q_,useHostTransitionStatus:op,useFormState:P_,useActionState:P_,useOptimistic:function(i,r){var o=Ht();return yt!==null?A_(o,yt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Zm,useCacheRefresh:X_};tb.useEffectEvent=j_;function up(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var hp={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=hi(),m=Lr(c);m.payload=r,o!=null&&(m.callback=o),r=jr(i,m,c),r!==null&&(Qn(r,i,c),Ec(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=hi(),m=Lr(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=jr(i,m,c),r!==null&&(Qn(r,i,c),Ec(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=hi(),c=Lr(o);c.tag=2,r!=null&&(c.callback=r),r=jr(i,c,o),r!==null&&(Qn(r,i,o),Ec(r,i,o))}};function nb(i,r,o,c,m,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,T):r.prototype&&r.prototype.isPureReactComponent?!pc(o,c)||!pc(m,g):!0}function ib(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&hp.enqueueReplaceState(r,r.state,null)}function Ja(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function sb(i){bh(i)}function rb(i){console.error(i)}function ab(i){bh(i)}function qh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function ob(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function fp(i,r,o){return o=Lr(o),o.tag=3,o.payload={element:null},o.callback=function(){qh(i,r)},o}function lb(i){return i=Lr(i),i.tag=3,i}function cb(i,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){ob(r,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){ob(r,o,c),typeof m!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function rI(i,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Fo(r,o,m,!0),o=oi.current,o!==null){switch(o.tag){case 31:case 13:return Ni===null?tf():o.alternate===null&&jt===0&&(jt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Nh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Lp(i,c,m)),!1;case 22:return o.flags|=65536,c===Nh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Lp(i,c,m)),!1}throw Error(s(435,o.tag))}return Lp(i,c,m),tf(),!1}if(tt)return r=oi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==Dm&&(i=Error(s(422),{cause:c}),vc(Ai(i,o)))):(c!==Dm&&(r=Error(s(423),{cause:c}),vc(Ai(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Ai(c,o),m=fp(i.stateNode,c,m),Fm(i,m),jt!==4&&(jt=2)),!1;var g=Error(s(520),{cause:c});if(g=Ai(g,o),Lc===null?Lc=[g]:Lc.push(g),jt!==4&&(jt=2),r===null)return!0;c=Ai(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=fp(o.stateNode,c,i),Fm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Hr===null||!Hr.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=lb(m),cb(m,i,o,c),Fm(o,m),!1}o=o.return}while(o!==null);return!1}var dp=Error(s(461)),Jt=!1;function bn(i,r,o,c){r.child=i===null?d_(r,null,o,c):Wa(r,i.child,o,c)}function ub(i,r,o,c,m){o=o.render;var g=r.ref;if("ref"in c){var T={};for(var A in c)A!=="ref"&&(T[A]=c[A])}else T=c;return Ka(r),c=Ym(i,r,o,T,g,m),A=Qm(),i!==null&&!Jt?(Xm(i,r,m),Xs(i,r,m)):(tt&&A&&Im(r),r.flags|=1,bn(i,r,c,m),r.child)}function hb(i,r,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!Am(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,fb(i,r,g,c,m)):(i=xh(o.type,null,c,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Tp(i,m)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:pc,o(T,c)&&i.ref===r.ref)return Xs(i,r,m)}return r.flags|=1,i=Hs(g,c),i.ref=r.ref,i.return=r,r.child=i}function fb(i,r,o,c,m){if(i!==null){var g=i.memoizedProps;if(pc(g,c)&&i.ref===r.ref)if(Jt=!1,r.pendingProps=c=g,Tp(i,m))(i.flags&131072)!==0&&(Jt=!0);else return r.lanes=i.lanes,Xs(i,r,m)}return mp(i,r,o,c,m)}function db(i,r,o,c){var m=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,r.child=null;return mb(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Rh(r,g!==null?g.cachePool:null),g!==null?g_(r,g):Hm(),y_(r);else return c=r.lanes=536870912,mb(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Rh(r,g.cachePool),g_(r,g),zr(),r.memoizedState=null):(i!==null&&Rh(r,null),Hm(),zr());return bn(i,r,m,o),r.child}function Nc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function mb(i,r,o,c,m){var g=jm();return g=g===null?null:{parent:Wt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Rh(r,null),Hm(),y_(r),i!==null&&Fo(i,r,c,!0),r.childLanes=m,null}function Hh(i,r){return r=$h({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function pb(i,r,o){return Wa(r,i.child,null,o),i=Hh(r,r.pendingProps),i.flags|=2,li(r),r.memoizedState=null,i}function aI(i,r,o){var c=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(tt){if(c.mode==="hidden")return i=Hh(r,c),r.lanes=536870912,Nc(null,i);if($m(r),(i=St)?(i=CT(i,Ii),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:kr!==null?{id:bs,overflow:Ts}:null,retryLane:536870912,hydrationErrors:null},o=Z0(i),o.return=r,r.child=o,vn=r,St=null)):i=null,i===null)throw Vr(r);return r.lanes=536870912,null}return Hh(r,c)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if($m(r),m)if(r.flags&256)r.flags&=-257,r=pb(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Jt||Fo(i,r,o,!1),m=(o&i.childLanes)!==0,Jt||m){if(c=Tt,c!==null&&(T=Da(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,qa(i,T),Qn(c,i,T),dp;tf(),r=pb(i,r,o)}else i=g.treeContext,St=Di(T.nextSibling),vn=r,tt=!0,Mr=null,Ii=!1,i!==null&&t_(r,i),r=Hh(r,c),r.flags|=4096;return r}return i=Hs(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Gh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function mp(i,r,o,c,m){return Ka(r),o=Ym(i,r,o,c,void 0,m),c=Qm(),i!==null&&!Jt?(Xm(i,r,m),Xs(i,r,m)):(tt&&c&&Im(r),r.flags|=1,bn(i,r,o,m),r.child)}function gb(i,r,o,c,m,g){return Ka(r),r.updateQueue=null,o=__(r,c,o,m),v_(i),c=Qm(),i!==null&&!Jt?(Xm(i,r,g),Xs(i,r,g)):(tt&&c&&Im(r),r.flags|=1,bn(i,r,o,g),r.child)}function yb(i,r,o,c,m){if(Ka(r),r.stateNode===null){var g=jo,T=o.contextType;typeof T=="object"&&T!==null&&(g=_n(T)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=hp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},zm(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?_n(T):jo,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(up(r,o,T,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&hp.enqueueReplaceState(g,g.state,null),Sc(r,c,g,m),xc(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var A=r.memoizedProps,L=Ja(o,A);g.props=L;var ee=g.context,ae=o.contextType;T=jo,typeof ae=="object"&&ae!==null&&(T=_n(ae));var ue=o.getDerivedStateFromProps;ae=typeof ue=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ae||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||ee!==T)&&ib(r,g,c,T),Or=!1;var te=r.memoizedState;g.state=te,Sc(r,c,g,m),xc(),ee=r.memoizedState,A||te!==ee||Or?(typeof ue=="function"&&(up(r,o,ue,c),ee=r.memoizedState),(L=Or||nb(r,o,L,c,te,ee,T))?(ae||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=ee),g.props=c,g.state=ee,g.context=T,c=L):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Bm(i,r),T=r.memoizedProps,ae=Ja(o,T),g.props=ae,ue=r.pendingProps,te=g.context,ee=o.contextType,L=jo,typeof ee=="object"&&ee!==null&&(L=_n(ee)),A=o.getDerivedStateFromProps,(ee=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ue||te!==L)&&ib(r,g,c,L),Or=!1,te=r.memoizedState,g.state=te,Sc(r,c,g,m),xc();var se=r.memoizedState;T!==ue||te!==se||Or||i!==null&&i.dependencies!==null&&Ah(i.dependencies)?(typeof A=="function"&&(up(r,o,A,c),se=r.memoizedState),(ae=Or||nb(r,o,ae,c,te,se,L)||i!==null&&i.dependencies!==null&&Ah(i.dependencies))?(ee||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,se,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,se,L)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&te===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&te===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=se),g.props=c,g.state=se,g.context=L,c=ae):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&te===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&te===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,Gh(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=Wa(r,i.child,null,m),r.child=Wa(r,null,o,m)):bn(i,r,o,m),r.memoizedState=g.state,i=r.child):i=Xs(i,r,m),i}function vb(i,r,o,c){return Ga(),r.flags|=256,bn(i,r,o,c),r.child}var pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gp(i){return{baseLanes:i,cachePool:o_()}}function yp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=ui),i}function _b(i,r,o){var c=r.pendingProps,m=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(qt.current&2)!==0),T&&(m=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(tt){if(m?Ur(r):zr(),(i=St)?(i=CT(i,Ii),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:kr!==null?{id:bs,overflow:Ts}:null,retryLane:536870912,hydrationErrors:null},o=Z0(i),o.return=r,r.child=o,vn=r,St=null)):i=null,i===null)throw Vr(r);return Jp(i)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,m?(zr(),m=r.mode,A=$h({mode:"hidden",children:A},m),c=Ha(c,m,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=gp(o),c.childLanes=yp(i,T,o),r.memoizedState=pp,Nc(null,c)):(Ur(r),vp(r,A))}var L=i.memoizedState;if(L!==null&&(A=L.dehydrated,A!==null)){if(g)r.flags&256?(Ur(r),r.flags&=-257,r=_p(i,r,o)):r.memoizedState!==null?(zr(),r.child=i.child,r.flags|=128,r=null):(zr(),A=c.fallback,m=r.mode,c=$h({mode:"visible",children:c.children},m),A=Ha(A,m,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,Wa(r,i.child,null,o),c=r.child,c.memoizedState=gp(o),c.childLanes=yp(i,T,o),r.memoizedState=pp,r=Nc(null,c));else if(Ur(r),Jp(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var ee=T.dgst;T=ee,c=Error(s(419)),c.stack="",c.digest=T,vc({value:c,source:null,stack:null}),r=_p(i,r,o)}else if(Jt||Fo(i,r,o,!1),T=(o&i.childLanes)!==0,Jt||T){if(T=Tt,T!==null&&(c=Da(T,o),c!==0&&c!==L.retryLane))throw L.retryLane=c,qa(i,c),Qn(T,i,c),dp;Zp(A)||tf(),r=_p(i,r,o)}else Zp(A)?(r.flags|=192,r.child=i.child,r=null):(i=L.treeContext,St=Di(A.nextSibling),vn=r,tt=!0,Mr=null,Ii=!1,i!==null&&t_(r,i),r=vp(r,c.children),r.flags|=4096);return r}return m?(zr(),A=c.fallback,m=r.mode,L=i.child,ee=L.sibling,c=Hs(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,ee!==null?A=Hs(ee,A):(A=Ha(A,m,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,Nc(null,c),c=r.child,A=i.child.memoizedState,A===null?A=gp(o):(m=A.cachePool,m!==null?(L=Wt._currentValue,m=m.parent!==L?{parent:L,pool:L}:m):m=o_(),A={baseLanes:A.baseLanes|o,cachePool:m}),c.memoizedState=A,c.childLanes=yp(i,T,o),r.memoizedState=pp,Nc(i.child,c)):(Ur(r),o=i.child,i=o.sibling,o=Hs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function vp(i,r){return r=$h({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function $h(i,r){return i=ai(22,i,null,r),i.lanes=0,i}function _p(i,r,o){return Wa(r,i.child,null,o),i=vp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function bb(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),Vm(i.return,r,o)}function bp(i,r,o,c,m,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=m,T.treeForkCount=g)}function Tb(i,r,o){var c=r.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var T=qt.current,A=(T&2)!==0;if(A?(T=T&1|2,r.flags|=128):T&=1,ne(qt,T),bn(i,r,c,o),c=tt?yc:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bb(i,o,r);else if(i.tag===19)bb(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&Vh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),bp(r,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&Vh(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}bp(r,!0,o,null,g,c);break;case"together":bp(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Xs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),qr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Fo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Hs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Hs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Tp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Ah(i)))}function oI(i,r,o){switch(r.tag){case 3:xe(r,r.stateNode.containerInfo),Pr(r,Wt,i.memoizedState.cache),Ga();break;case 27:case 5:Ge(r);break;case 4:xe(r,r.stateNode.containerInfo);break;case 10:Pr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,$m(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Ur(r),r.flags|=128,null):(o&r.child.childLanes)!==0?_b(i,r,o):(Ur(r),i=Xs(i,r,o),i!==null?i.sibling:null);Ur(r);break;case 19:var m=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Fo(i,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return Tb(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ne(qt,qt.current),c)break;return null;case 22:return r.lanes=0,db(i,r,o,r.pendingProps);case 24:Pr(r,Wt,i.memoizedState.cache)}return Xs(i,r,o)}function wb(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Jt=!0;else{if(!Tp(i,o)&&(r.flags&128)===0)return Jt=!1,oI(i,r,o);Jt=(i.flags&131072)!==0}else Jt=!1,tt&&(r.flags&1048576)!==0&&e_(r,yc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Qa(r.elementType),r.type=i,typeof i=="function")Am(i)?(c=Ja(i,c),r.tag=1,r=yb(null,r,i,c,o)):(r.tag=0,r=mp(null,r,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===Q){r.tag=11,r=ub(null,r,i,c,o);break e}else if(m===I){r.tag=14,r=hb(null,r,i,c,o);break e}}throw r=pe(i)||i,Error(s(306,r,""))}}return r;case 0:return mp(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=Ja(c,r.pendingProps),yb(i,r,c,m,o);case 3:e:{if(xe(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;m=g.element,Bm(i,r),Sc(r,c,null,o);var T=r.memoizedState;if(c=T.cache,Pr(r,Wt,c),c!==g.cache&&Pm(r,[Wt],o,!0),xc(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=vb(i,r,c,o);break e}else if(c!==m){m=Ai(Error(s(424)),r),vc(m),r=vb(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,St=Di(i.firstChild),vn=r,tt=!0,Mr=null,Ii=!0,o=d_(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ga(),c===m){r=Xs(i,r,o);break e}bn(i,r,c,o)}r=r.child}return r;case 26:return Gh(i,r),i===null?(o=MT(r.type,null,r.pendingProps,null))?r.memoizedState=o:tt||(o=r.type,i=r.pendingProps,c=cf(ve.current).createElement(o),c[K]=r,c[Te]=i,Tn(c,o,i),Qt(c),r.stateNode=c):r.memoizedState=MT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ge(r),i===null&&tt&&(c=r.stateNode=NT(r.type,r.pendingProps,ve.current),vn=r,Ii=!0,m=St,Yr(r.type)?(eg=m,St=Di(c.firstChild)):St=m),bn(i,r,r.pendingProps.children,o),Gh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&tt&&((m=c=St)&&(c=LI(c,r.type,r.pendingProps,Ii),c!==null?(r.stateNode=c,vn=r,St=Di(c.firstChild),Ii=!1,m=!0):m=!1),m||Vr(r)),Ge(r),m=r.type,g=r.pendingProps,T=i!==null?i.memoizedProps:null,c=g.children,Qp(m,g)?c=null:T!==null&&Qp(m,T)&&(r.flags|=32),r.memoizedState!==null&&(m=Ym(i,r,Z2,null,null,o),Gc._currentValue=m),Gh(i,r),bn(i,r,c,o),r.child;case 6:return i===null&&tt&&((i=o=St)&&(o=jI(o,r.pendingProps,Ii),o!==null?(r.stateNode=o,vn=r,St=null,i=!0):i=!1),i||Vr(r)),null;case 13:return _b(i,r,o);case 4:return xe(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Wa(r,null,c,o):bn(i,r,c,o),r.child;case 11:return ub(i,r,r.type,r.pendingProps,o);case 7:return bn(i,r,r.pendingProps,o),r.child;case 8:return bn(i,r,r.pendingProps.children,o),r.child;case 12:return bn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Pr(r,r.type,c.value),bn(i,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,Ka(r),m=_n(m),c=c(m),r.flags|=1,bn(i,r,c,o),r.child;case 14:return hb(i,r,r.type,r.pendingProps,o);case 15:return fb(i,r,r.type,r.pendingProps,o);case 19:return Tb(i,r,o);case 31:return aI(i,r,o);case 22:return db(i,r,o,r.pendingProps);case 24:return Ka(r),c=_n(Wt),i===null?(m=jm(),m===null&&(m=Tt,g=Om(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:c,cache:m},zm(r),Pr(r,Wt,m)):((i.lanes&o)!==0&&(Bm(i,r),Sc(r,null,null,o),xc()),m=i.memoizedState,g=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Pr(r,Wt,c)):(c=g.cache,Pr(r,Wt,c),c!==m.cache&&Pm(r,[Wt],o,!0))),bn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ws(i){i.flags|=4}function wp(i,r,o,c,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(Qb())i.flags|=8192;else throw Xa=Nh,Um}else i.flags&=-16777217}function Eb(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!jT(r))if(Qb())i.flags|=8192;else throw Xa=Nh,Um}function Kh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?br():536870912,i.lanes|=r,el|=r)}function Dc(i,r){if(!tt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function At(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function lI(i,r,o){var c=r.pendingProps;switch(Nm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(r),null;case 1:return At(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Ks(Wt),Ie(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Bo(r)?Ws(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,km())),At(r),null;case 26:var m=r.type,g=r.memoizedState;return i===null?(Ws(r),g!==null?(At(r),Eb(r,g)):(At(r),wp(r,m,null,c,o))):g?g!==i.memoizedState?(Ws(r),At(r),Eb(r,g)):(At(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Ws(r),At(r),wp(r,m,i,c,o)),null;case 27:if(qe(r),o=ve.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ws(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return At(r),null}i=oe.current,Bo(r)?n_(r):(i=NT(m,c,o),r.stateNode=i,Ws(r))}return At(r),null;case 5:if(qe(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ws(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return At(r),null}if(g=oe.current,Bo(r))n_(r);else{var T=cf(ve.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(m,{is:c.is}):T.createElement(m)}}g[K]=r,g[Te]=c;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;e:switch(Tn(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ws(r)}}return At(r),wp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Ws(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=ve.current,Bo(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,m=vn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[K]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||_T(i.nodeValue,o)),i||Vr(r,!0)}else i=cf(i).createTextNode(c),i[K]=r,r.stateNode=i}return At(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=Bo(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[K]=r}else Ga(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;At(r),i=!1}else o=km(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(li(r),r):(li(r),null);if((r.flags&128)!==0)throw Error(s(558))}return At(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Bo(r),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[K]=r}else Ga(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;At(r),m=!1}else m=km(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(li(r),r):(li(r),null)}return li(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Kh(r,r.updateQueue),At(r),null);case 4:return Ie(),i===null&&Hp(r.stateNode.containerInfo),At(r),null;case 10:return Ks(r.type),At(r),null;case 19:if($(qt),c=r.memoizedState,c===null)return At(r),null;if(m=(r.flags&128)!==0,g=c.rendering,g===null)if(m)Dc(c,!1);else{if(jt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Vh(i),g!==null){for(r.flags|=128,Dc(c,!1),i=g.updateQueue,r.updateQueue=i,Kh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)W0(o,i),o=o.sibling;return ne(qt,qt.current&1|2),tt&&Gs(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&Kt()>Zh&&(r.flags|=128,m=!0,Dc(c,!1),r.lanes=4194304)}else{if(!m)if(i=Vh(g),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,Kh(r,i),Dc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!tt)return At(r),null}else 2*Kt()-c.renderingStartTime>Zh&&o!==536870912&&(r.flags|=128,m=!0,Dc(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Kt(),i.sibling=null,o=qt.current,ne(qt,m?o&1|2:o&1),tt&&Gs(r,c.treeForkCount),i):(At(r),null);case 22:case 23:return li(r),Gm(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(At(r),r.subtreeFlags&6&&(r.flags|=8192)):At(r),o=r.updateQueue,o!==null&&Kh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&$(Ya),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ks(Wt),At(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function cI(i,r){switch(Nm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ks(Wt),Ie(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return qe(r),null;case 31:if(r.memoizedState!==null){if(li(r),r.alternate===null)throw Error(s(340));Ga()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(li(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ga()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return $(qt),null;case 4:return Ie(),null;case 10:return Ks(r.type),null;case 22:case 23:return li(r),Gm(),i!==null&&$(Ya),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ks(Wt),null;case 25:return null;default:return null}}function xb(i,r){switch(Nm(r),r.tag){case 3:Ks(Wt),Ie();break;case 26:case 27:case 5:qe(r);break;case 4:Ie();break;case 31:r.memoizedState!==null&&li(r);break;case 13:li(r);break;case 19:$(qt);break;case 10:Ks(r.type);break;case 22:case 23:li(r),Gm(),i!==null&&$(Ya);break;case 24:Ks(Wt)}}function kc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==m)}}catch(A){pt(r,r.return,A)}}function Br(i,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var T=c.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,m=r;var L=o,ee=A;try{ee()}catch(ae){pt(m,L,ae)}}}c=c.next}while(c!==g)}}catch(ae){pt(r,r.return,ae)}}function Sb(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{p_(r,o)}catch(c){pt(i,i.return,c)}}}function Ab(i,r,o){o.props=Ja(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){pt(i,r,c)}}function Mc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){pt(i,r,m)}}function ws(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){pt(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){pt(i,r,m)}else o.current=null}function Cb(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){pt(i,i.return,m)}}function Ep(i,r,o){try{var c=i.stateNode;DI(c,i.type,o,r),c[Te]=r}catch(m){pt(i,i.return,m)}}function Rb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Yr(i.type)||i.tag===4}function xp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Rb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Yr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Sp(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=qi));else if(c!==4&&(c===27&&Yr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Sp(i,r,o),i=i.sibling;i!==null;)Sp(i,r,o),i=i.sibling}function Yh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Yr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Yh(i,r,o),i=i.sibling;i!==null;)Yh(i,r,o),i=i.sibling}function Ib(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);Tn(r,c,o),r[K]=i,r[Te]=o}catch(g){pt(i,i.return,g)}}var Zs=!1,en=!1,Ap=!1,Nb=typeof WeakSet=="function"?WeakSet:Set,fn=null;function uI(i,r){if(i=i.containerInfo,Kp=gf,i=F0(i),_m(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,A=-1,L=-1,ee=0,ae=0,ue=i,te=null;t:for(;;){for(var se;ue!==o||m!==0&&ue.nodeType!==3||(A=T+m),ue!==g||c!==0&&ue.nodeType!==3||(L=T+c),ue.nodeType===3&&(T+=ue.nodeValue.length),(se=ue.firstChild)!==null;)te=ue,ue=se;for(;;){if(ue===i)break t;if(te===o&&++ee===m&&(A=T),te===g&&++ae===c&&(L=T),(se=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=se}o=A===-1||L===-1?null:{start:A,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(Yp={focusedElem:i,selectionRange:o},gf=!1,fn=r;fn!==null;)if(r=fn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,fn=i;else for(;fn!==null;){switch(r=fn,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Se=Ja(o.type,m);i=c.getSnapshotBeforeUpdate(Se,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(ke){pt(o,o.return,ke)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Wp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,fn=i;break}fn=r.return}}function Db(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:er(i,o),c&4&&kc(5,o);break;case 1:if(er(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){pt(o,o.return,T)}else{var m=Ja(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){pt(o,o.return,T)}}c&64&&Sb(o),c&512&&Mc(o,o.return);break;case 3:if(er(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{p_(i,r)}catch(T){pt(o,o.return,T)}}break;case 27:r===null&&c&4&&Ib(o);case 26:case 5:er(i,o),r===null&&c&4&&Cb(o),c&512&&Mc(o,o.return);break;case 12:er(i,o);break;case 31:er(i,o),c&4&&Vb(i,o);break;case 13:er(i,o),c&4&&Pb(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=_I.bind(null,o),UI(i,o))));break;case 22:if(c=o.memoizedState!==null||Zs,!c){r=r!==null&&r.memoizedState!==null||en,m=Zs;var g=en;Zs=c,(en=r)&&!g?tr(i,o,(o.subtreeFlags&8772)!==0):er(i,o),Zs=m,en=g}break;case 30:break;default:er(i,o)}}function kb(i){var r=i.alternate;r!==null&&(i.alternate=null,kb(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&xo(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Nt=null,Gn=!1;function Js(i,r,o){for(o=o.child;o!==null;)Mb(i,r,o),o=o.sibling}function Mb(i,r,o){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(it,o)}catch{}switch(o.tag){case 26:en||ws(o,r),Js(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:en||ws(o,r);var c=Nt,m=Gn;Yr(o.type)&&(Nt=o.stateNode,Gn=!1),Js(i,r,o),Fc(o.stateNode),Nt=c,Gn=m;break;case 5:en||ws(o,r);case 6:if(c=Nt,m=Gn,Nt=null,Js(i,r,o),Nt=c,Gn=m,Nt!==null)if(Gn)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(o.stateNode)}catch(g){pt(o,r,g)}else try{Nt.removeChild(o.stateNode)}catch(g){pt(o,r,g)}break;case 18:Nt!==null&&(Gn?(i=Nt,ST(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),ll(i)):ST(Nt,o.stateNode));break;case 4:c=Nt,m=Gn,Nt=o.stateNode.containerInfo,Gn=!0,Js(i,r,o),Nt=c,Gn=m;break;case 0:case 11:case 14:case 15:Br(2,o,r),en||Br(4,o,r),Js(i,r,o);break;case 1:en||(ws(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Ab(o,r,c)),Js(i,r,o);break;case 21:Js(i,r,o);break;case 22:en=(c=en)||o.memoizedState!==null,Js(i,r,o),en=c;break;default:Js(i,r,o)}}function Vb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ll(i)}catch(o){pt(r,r.return,o)}}}function Pb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ll(i)}catch(o){pt(r,r.return,o)}}function hI(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Nb),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Nb),r;default:throw Error(s(435,i.tag))}}function Qh(i,r){var o=hI(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var m=bI.bind(null,i,c);c.then(m,m)}})}function $n(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,T=r,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(Yr(A.type)){Nt=A.stateNode,Gn=!1;break e}break;case 5:Nt=A.stateNode,Gn=!1;break e;case 3:case 4:Nt=A.stateNode.containerInfo,Gn=!0;break e}A=A.return}if(Nt===null)throw Error(s(160));Mb(g,T,m),Nt=null,Gn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Ob(r,i),r=r.sibling}var Qi=null;function Ob(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:$n(r,i),Kn(i),c&4&&(Br(3,i,i.return),kc(3,i),Br(5,i,i.return));break;case 1:$n(r,i),Kn(i),c&512&&(en||o===null||ws(o,o.return)),c&64&&Zs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Qi;if($n(r,i),Kn(i),c&512&&(en||o===null||ws(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[ni]||g[K]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),Tn(g,c,o),g[K]=i,Qt(g),c=g;break e;case"link":var T=OT("link","href",m).get(c+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(g=T[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break t}}g=m.createElement(c),Tn(g,c,o),m.head.appendChild(g);break;case"meta":if(T=OT("meta","content",m).get(c+(o.content||""))){for(A=0;A<T.length;A++)if(g=T[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break t}}g=m.createElement(c),Tn(g,c,o),m.head.appendChild(g);break;default:throw Error(s(468,c))}g[K]=i,Qt(g),c=g}i.stateNode=c}else LT(m,i.type,i.stateNode);else i.stateNode=PT(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?LT(m,i.type,i.stateNode):PT(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Ep(i,i.memoizedProps,o.memoizedProps)}break;case 27:$n(r,i),Kn(i),c&512&&(en||o===null||ws(o,o.return)),o!==null&&c&4&&Ep(i,i.memoizedProps,o.memoizedProps);break;case 5:if($n(r,i),Kn(i),c&512&&(en||o===null||ws(o,o.return)),i.flags&32){m=i.stateNode;try{Hn(m,"")}catch(Se){pt(i,i.return,Se)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Ep(i,m,o!==null?o.memoizedProps:m)),c&1024&&(Ap=!0);break;case 6:if($n(r,i),Kn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(Se){pt(i,i.return,Se)}}break;case 3:if(ff=null,m=Qi,Qi=uf(r.containerInfo),$n(r,i),Qi=m,Kn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ll(r.containerInfo)}catch(Se){pt(i,i.return,Se)}Ap&&(Ap=!1,Lb(i));break;case 4:c=Qi,Qi=uf(i.stateNode.containerInfo),$n(r,i),Kn(i),Qi=c;break;case 12:$n(r,i),Kn(i);break;case 31:$n(r,i),Kn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Qh(i,c)));break;case 13:$n(r,i),Kn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Wh=Kt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Qh(i,c)));break;case 22:m=i.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,ee=Zs,ae=en;if(Zs=ee||m,en=ae||L,$n(r,i),en=ae,Zs=ee,Kn(i),c&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||L||Zs||en||eo(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){L=o=r;try{if(g=L.stateNode,m)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=L.stateNode;var ue=L.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;A.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Se){pt(L,L.return,Se)}}}else if(r.tag===6){if(o===null){L=r;try{L.stateNode.nodeValue=m?"":L.memoizedProps}catch(Se){pt(L,L.return,Se)}}}else if(r.tag===18){if(o===null){L=r;try{var se=L.stateNode;m?AT(se,!0):AT(L.stateNode,!1)}catch(Se){pt(L,L.return,Se)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Qh(i,o))));break;case 19:$n(r,i),Kn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Qh(i,c)));break;case 30:break;case 21:break;default:$n(r,i),Kn(i)}}function Kn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(Rb(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,g=xp(i);Yh(i,g,m);break;case 5:var T=o.stateNode;o.flags&32&&(Hn(T,""),o.flags&=-33);var A=xp(i);Yh(i,A,T);break;case 3:case 4:var L=o.stateNode.containerInfo,ee=xp(i);Sp(i,ee,L);break;default:throw Error(s(161))}}catch(ae){pt(i,i.return,ae)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Lb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Lb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function er(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Db(i,r.alternate,r),r=r.sibling}function eo(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Br(4,r,r.return),eo(r);break;case 1:ws(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Ab(r,r.return,o),eo(r);break;case 27:Fc(r.stateNode);case 26:case 5:ws(r,r.return),eo(r);break;case 22:r.memoizedState===null&&eo(r);break;case 30:eo(r);break;default:eo(r)}i=i.sibling}}function tr(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=i,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:tr(m,g,o),kc(4,g);break;case 1:if(tr(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ee){pt(c,c.return,ee)}if(c=g,m=c.updateQueue,m!==null){var A=c.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)m_(L[m],A)}catch(ee){pt(c,c.return,ee)}}o&&T&64&&Sb(g),Mc(g,g.return);break;case 27:Ib(g);case 26:case 5:tr(m,g,o),o&&c===null&&T&4&&Cb(g),Mc(g,g.return);break;case 12:tr(m,g,o);break;case 31:tr(m,g,o),o&&T&4&&Vb(m,g);break;case 13:tr(m,g,o),o&&T&4&&Pb(m,g);break;case 22:g.memoizedState===null&&tr(m,g,o),Mc(g,g.return);break;case 30:break;default:tr(m,g,o)}r=r.sibling}}function Cp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&_c(o))}function Rp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&_c(i))}function Xi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)jb(i,r,o,c),r=r.sibling}function jb(i,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Xi(i,r,o,c),m&2048&&kc(9,r);break;case 1:Xi(i,r,o,c);break;case 3:Xi(i,r,o,c),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&_c(i)));break;case 12:if(m&2048){Xi(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,T=g.id,A=g.onPostCommit;typeof A=="function"&&A(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){pt(r,r.return,L)}}else Xi(i,r,o,c);break;case 31:Xi(i,r,o,c);break;case 13:Xi(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?Xi(i,r,o,c):Vc(i,r):g._visibility&2?Xi(i,r,o,c):(g._visibility|=2,Wo(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Cp(T,r);break;case 24:Xi(i,r,o,c),m&2048&&Rp(r.alternate,r);break;default:Xi(i,r,o,c)}}function Wo(i,r,o,c,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,T=r,A=o,L=c,ee=T.flags;switch(T.tag){case 0:case 11:case 15:Wo(g,T,A,L,m),kc(8,T);break;case 23:break;case 22:var ae=T.stateNode;T.memoizedState!==null?ae._visibility&2?Wo(g,T,A,L,m):Vc(g,T):(ae._visibility|=2,Wo(g,T,A,L,m)),m&&ee&2048&&Cp(T.alternate,T);break;case 24:Wo(g,T,A,L,m),m&&ee&2048&&Rp(T.alternate,T);break;default:Wo(g,T,A,L,m)}r=r.sibling}}function Vc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,m=c.flags;switch(c.tag){case 22:Vc(o,c),m&2048&&Cp(c.alternate,c);break;case 24:Vc(o,c),m&2048&&Rp(c.alternate,c);break;default:Vc(o,c)}r=r.sibling}}var Pc=8192;function Zo(i,r,o){if(i.subtreeFlags&Pc)for(i=i.child;i!==null;)Ub(i,r,o),i=i.sibling}function Ub(i,r,o){switch(i.tag){case 26:Zo(i,r,o),i.flags&Pc&&i.memoizedState!==null&&WI(o,Qi,i.memoizedState,i.memoizedProps);break;case 5:Zo(i,r,o);break;case 3:case 4:var c=Qi;Qi=uf(i.stateNode.containerInfo),Zo(i,r,o),Qi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Pc,Pc=16777216,Zo(i,r,o),Pc=c):Zo(i,r,o));break;default:Zo(i,r,o)}}function zb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Oc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];fn=c,Fb(c,i)}zb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Bb(i),i=i.sibling}function Bb(i){switch(i.tag){case 0:case 11:case 15:Oc(i),i.flags&2048&&Br(9,i,i.return);break;case 3:Oc(i);break;case 12:Oc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Xh(i)):Oc(i);break;default:Oc(i)}}function Xh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];fn=c,Fb(c,i)}zb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Br(8,r,r.return),Xh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Xh(r));break;default:Xh(r)}i=i.sibling}}function Fb(i,r){for(;fn!==null;){var o=fn;switch(o.tag){case 0:case 11:case 15:Br(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:_c(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,fn=c;else e:for(o=i;fn!==null;){c=fn;var m=c.sibling,g=c.return;if(kb(c),c===o){fn=null;break e}if(m!==null){m.return=g,fn=m;break e}fn=g}}}var fI={getCacheForType:function(i){var r=_n(Wt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return _n(Wt).controller.signal}},dI=typeof WeakMap=="function"?WeakMap:Map,ot=0,Tt=null,Ke=null,Qe=0,mt=0,ci=null,Fr=!1,Jo=!1,Ip=!1,nr=0,jt=0,qr=0,to=0,Np=0,ui=0,el=0,Lc=null,Yn=null,Dp=!1,Wh=0,qb=0,Zh=1/0,Jh=null,Hr=null,an=0,Gr=null,tl=null,ir=0,kp=0,Mp=null,Hb=null,jc=0,Vp=null;function hi(){return(ot&2)!==0&&Qe!==0?Qe&-Qe:U.T!==null?zp():wr()}function Gb(){if(ui===0)if((Qe&536870912)===0||tt){var i=yi;yi<<=1,(yi&3932160)===0&&(yi=262144),ui=i}else ui=536870912;return i=oi.current,i!==null&&(i.flags|=32),ui}function Qn(i,r,o){(i===Tt&&(mt===2||mt===9)||i.cancelPendingCommit!==null)&&(nl(i,0),$r(i,Qe,ui,!1)),zs(i,o),((ot&2)===0||i!==Tt)&&(i===Tt&&((ot&2)===0&&(to|=o),jt===4&&$r(i,Qe,ui,!1)),Es(i))}function $b(i,r,o){if((ot&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Fn(i,r),m=c?gI(i,r):Op(i,r,!0),g=c;do{if(m===0){Jo&&!c&&$r(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!mI(o)){m=Op(i,r,!1),g=!1;continue}if(m===2){if(g=r,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var A=i;m=Lc;var L=A.current.memoizedState.isDehydrated;if(L&&(nl(A,T).flags|=256),T=Op(A,T,!1),T!==2){if(Ip&&!L){A.errorRecoveryDisabledLanes|=g,to|=g,m=4;break e}g=Yn,Yn=m,g!==null&&(Yn===null?Yn=g:Yn.push.apply(Yn,g))}m=T}if(g=!1,m!==2)continue}}if(m===1){nl(i,0),$r(i,r,0,!0);break}e:{switch(c=i,g=m,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:$r(c,r,ui,!Fr);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=Wh+300-Kt(),10<m)){if($r(c,r,ui,!Fr),vi(c,0,!0)!==0)break e;ir=r,c.timeoutHandle=ET(Kb.bind(null,c,o,Yn,Jh,Dp,r,ui,to,el,Fr,g,"Throttled",-0,0),m);break e}Kb(c,o,Yn,Jh,Dp,r,ui,to,el,Fr,g,null,-0,0)}}break}while(!0);Es(i)}function Kb(i,r,o,c,m,g,T,A,L,ee,ae,ue,te,se){if(i.timeoutHandle=-1,ue=r.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qi},Ub(r,g,ue);var Se=(g&62914560)===g?Wh-Kt():(g&4194048)===g?qb-Kt():0;if(Se=ZI(ue,Se),Se!==null){ir=g,i.cancelPendingCommit=Se(tT.bind(null,i,r,g,o,c,m,T,A,L,ae,ue,null,te,se)),$r(i,g,T,!ee);return}}tT(i,r,g,o,c,m,T,A,L)}function mI(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!ri(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $r(i,r,o,c){r&=~Np,r&=~to,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var m=r;0<m;){var g=31-Et(m),T=1<<g;c[g]=-1,m&=~T}o!==0&&ls(i,o,r)}function ef(){return(ot&6)===0?(Uc(0),!1):!0}function Pp(){if(Ke!==null){if(mt===0)var i=Ke.return;else i=Ke,$s=$a=null,Wm(i),$o=null,Tc=0,i=Ke;for(;i!==null;)xb(i.alternate,i),i=i.return;Ke=null}}function nl(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,VI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ir=0,Pp(),Tt=i,Ke=o=Hs(i.current,null),Qe=r,mt=0,ci=null,Fr=!1,Jo=Fn(i,r),Ip=!1,el=ui=Np=to=qr=jt=0,Yn=Lc=null,Dp=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var m=31-Et(c),g=1<<m;r|=i[m],c&=~g}return nr=r,Th(),o}function Yb(i,r){ze=null,U.H=Ic,r===Go||r===Ih?(r=u_(),mt=3):r===Um?(r=u_(),mt=4):mt=r===dp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ci=r,Ke===null&&(jt=1,qh(i,Ai(r,i.current)))}function Qb(){var i=oi.current;return i===null?!0:(Qe&4194048)===Qe?Ni===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?i===Ni:!1}function Xb(){var i=U.H;return U.H=Ic,i===null?Ic:i}function Wb(){var i=U.A;return U.A=fI,i}function tf(){jt=4,Fr||(Qe&4194048)!==Qe&&oi.current!==null||(Jo=!0),(qr&134217727)===0&&(to&134217727)===0||Tt===null||$r(Tt,Qe,ui,!1)}function Op(i,r,o){var c=ot;ot|=2;var m=Xb(),g=Wb();(Tt!==i||Qe!==r)&&(Jh=null,nl(i,r)),r=!1;var T=jt;e:do try{if(mt!==0&&Ke!==null){var A=Ke,L=ci;switch(mt){case 8:Pp(),T=6;break e;case 3:case 2:case 9:case 6:oi.current===null&&(r=!0);var ee=mt;if(mt=0,ci=null,il(i,A,L,ee),o&&Jo){T=0;break e}break;default:ee=mt,mt=0,ci=null,il(i,A,L,ee)}}pI(),T=jt;break}catch(ae){Yb(i,ae)}while(!0);return r&&i.shellSuspendCounter++,$s=$a=null,ot=c,U.H=m,U.A=g,Ke===null&&(Tt=null,Qe=0,Th()),T}function pI(){for(;Ke!==null;)Zb(Ke)}function gI(i,r){var o=ot;ot|=2;var c=Xb(),m=Wb();Tt!==i||Qe!==r?(Jh=null,Zh=Kt()+500,nl(i,r)):Jo=Fn(i,r);e:do try{if(mt!==0&&Ke!==null){r=Ke;var g=ci;t:switch(mt){case 1:mt=0,ci=null,il(i,r,g,1);break;case 2:case 9:if(l_(g)){mt=0,ci=null,Jb(r);break}r=function(){mt!==2&&mt!==9||Tt!==i||(mt=7),Es(i)},g.then(r,r);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:l_(g)?(mt=0,ci=null,Jb(r)):(mt=0,ci=null,il(i,r,g,7));break;case 5:var T=null;switch(Ke.tag){case 26:T=Ke.memoizedState;case 5:case 27:var A=Ke;if(T?jT(T):A.stateNode.complete){mt=0,ci=null;var L=A.sibling;if(L!==null)Ke=L;else{var ee=A.return;ee!==null?(Ke=ee,nf(ee)):Ke=null}break t}}mt=0,ci=null,il(i,r,g,5);break;case 6:mt=0,ci=null,il(i,r,g,6);break;case 8:Pp(),jt=6;break e;default:throw Error(s(462))}}yI();break}catch(ae){Yb(i,ae)}while(!0);return $s=$a=null,U.H=c,U.A=m,ot=o,Ke!==null?0:(Tt=null,Qe=0,Th(),jt)}function yI(){for(;Ke!==null&&!Ca();)Zb(Ke)}function Zb(i){var r=wb(i.alternate,i,nr);i.memoizedProps=i.pendingProps,r===null?nf(i):Ke=r}function Jb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=gb(o,r,r.pendingProps,r.type,void 0,Qe);break;case 11:r=gb(o,r,r.pendingProps,r.type.render,r.ref,Qe);break;case 5:Wm(r);default:xb(o,r),r=Ke=W0(r,nr),r=wb(o,r,nr)}i.memoizedProps=i.pendingProps,r===null?nf(i):Ke=r}function il(i,r,o,c){$s=$a=null,Wm(r),$o=null,Tc=0;var m=r.return;try{if(rI(i,m,r,o,Qe)){jt=1,qh(i,Ai(o,i.current)),Ke=null;return}}catch(g){if(m!==null)throw Ke=m,g;jt=1,qh(i,Ai(o,i.current)),Ke=null;return}r.flags&32768?(tt||c===1?i=!0:Jo||(Qe&536870912)!==0?i=!1:(Fr=i=!0,(c===2||c===9||c===3||c===6)&&(c=oi.current,c!==null&&c.tag===13&&(c.flags|=16384))),eT(r,i)):nf(r)}function nf(i){var r=i;do{if((r.flags&32768)!==0){eT(r,Fr);return}i=r.return;var o=lI(r.alternate,r,nr);if(o!==null){Ke=o;return}if(r=r.sibling,r!==null){Ke=r;return}Ke=r=i}while(r!==null);jt===0&&(jt=5)}function eT(i,r){do{var o=cI(i.alternate,i);if(o!==null){o.flags&=32767,Ke=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ke=i;return}Ke=i=o}while(i!==null);jt=6,Ke=null}function tT(i,r,o,c,m,g,T,A,L){i.cancelPendingCommit=null;do sf();while(an!==0);if((ot&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=xm,Wl(i,o,g,T,A,L),i===Tt&&(Ke=Tt=null,Qe=0),tl=r,Gr=i,ir=o,kp=g,Mp=m,Hb=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,TI(Sn,function(){return aT(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=U.T,U.T=null,m=Z.p,Z.p=2,T=ot,ot|=4;try{uI(i,r,o)}finally{ot=T,Z.p=m,U.T=c}}an=1,nT(),iT(),sT()}}function nT(){if(an===1){an=0;var i=Gr,r=tl,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=U.T,U.T=null;var c=Z.p;Z.p=2;var m=ot;ot|=4;try{Ob(r,i);var g=Yp,T=F0(i.containerInfo),A=g.focusedElem,L=g.selectionRange;if(T!==A&&A&&A.ownerDocument&&B0(A.ownerDocument.documentElement,A)){if(L!==null&&_m(A)){var ee=L.start,ae=L.end;if(ae===void 0&&(ae=ee),"selectionStart"in A)A.selectionStart=ee,A.selectionEnd=Math.min(ae,A.value.length);else{var ue=A.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var se=te.getSelection(),Se=A.textContent.length,ke=Math.min(L.start,Se),_t=L.end===void 0?ke:Math.min(L.end,Se);!se.extend&&ke>_t&&(T=_t,_t=ke,ke=T);var G=z0(A,ke),F=z0(A,_t);if(G&&F&&(se.rangeCount!==1||se.anchorNode!==G.node||se.anchorOffset!==G.offset||se.focusNode!==F.node||se.focusOffset!==F.offset)){var J=ue.createRange();J.setStart(G.node,G.offset),se.removeAllRanges(),ke>_t?(se.addRange(J),se.extend(F.node,F.offset)):(J.setEnd(F.node,F.offset),se.addRange(J))}}}}for(ue=[],se=A;se=se.parentNode;)se.nodeType===1&&ue.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ue.length;A++){var le=ue[A];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}gf=!!Kp,Yp=Kp=null}finally{ot=m,Z.p=c,U.T=o}}i.current=r,an=2}}function iT(){if(an===2){an=0;var i=Gr,r=tl,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=U.T,U.T=null;var c=Z.p;Z.p=2;var m=ot;ot|=4;try{Db(i,r.alternate,r)}finally{ot=m,Z.p=c,U.T=o}}an=3}}function sT(){if(an===4||an===3){an=0,_r();var i=Gr,r=tl,o=ir,c=Hb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?an=5:(an=0,tl=Gr=null,rT(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Hr=null),bi(o),r=r.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(it,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=U.T,m=Z.p,Z.p=2,U.T=null;try{for(var g=i.onRecoverableError,T=0;T<c.length;T++){var A=c[T];g(A.value,{componentStack:A.stack})}}finally{U.T=r,Z.p=m}}(ir&3)!==0&&sf(),Es(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===Vp?jc++:(jc=0,Vp=i):jc=0,Uc(0)}}function rT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,_c(r)))}function sf(){return nT(),iT(),sT(),aT()}function aT(){if(an!==5)return!1;var i=Gr,r=kp;kp=0;var o=bi(ir),c=U.T,m=Z.p;try{Z.p=32>o?32:o,U.T=null,o=Mp,Mp=null;var g=Gr,T=ir;if(an=0,tl=Gr=null,ir=0,(ot&6)!==0)throw Error(s(331));var A=ot;if(ot|=4,Bb(g.current),jb(g,g.current,T,o),ot=A,Uc(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(it,g)}catch{}return!0}finally{Z.p=m,U.T=c,rT(i,r)}}function oT(i,r,o){r=Ai(o,r),r=fp(i.stateNode,r,2),i=jr(i,r,2),i!==null&&(zs(i,2),Es(i))}function pt(i,r,o){if(i.tag===3)oT(i,i,o);else for(;r!==null;){if(r.tag===3){oT(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Hr===null||!Hr.has(c))){i=Ai(o,i),o=lb(2),c=jr(r,o,2),c!==null&&(cb(o,c,r,i),zs(c,2),Es(c));break}}r=r.return}}function Lp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new dI;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(Ip=!0,m.add(o),i=vI.bind(null,i,r,o),r.then(i,i))}function vI(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Tt===i&&(Qe&o)===o&&(jt===4||jt===3&&(Qe&62914560)===Qe&&300>Kt()-Wh?(ot&2)===0&&nl(i,0):Np|=o,el===Qe&&(el=0)),Es(i)}function lT(i,r){r===0&&(r=br()),i=qa(i,r),i!==null&&(zs(i,r),Es(i))}function _I(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),lT(i,o)}function bI(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),lT(i,o)}function TI(i,r){return et(i,r)}var rf=null,sl=null,jp=!1,af=!1,Up=!1,Kr=0;function Es(i){i!==sl&&i.next===null&&(sl===null?rf=sl=i:sl=sl.next=i),af=!0,jp||(jp=!0,EI())}function Uc(i,r){if(!Up&&af){Up=!0;do for(var o=!1,c=rf;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var T=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-Et(42|i)+1)-1,g&=m&~(T&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,fT(c,g))}else g=Qe,g=vi(c,c===Tt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Fn(c,g)||(o=!0,fT(c,g));c=c.next}while(o);Up=!1}}function wI(){cT()}function cT(){af=jp=!1;var i=0;Kr!==0&&MI()&&(i=Kr);for(var r=Kt(),o=null,c=rf;c!==null;){var m=c.next,g=uT(c,r);g===0?(c.next=null,o===null?rf=m:o.next=m,m===null&&(sl=o)):(o=c,(i!==0||(g&3)!==0)&&(af=!0)),c=m}an!==0&&an!==5||Uc(i),Kr!==0&&(Kr=0)}function uT(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-Et(g),A=1<<T,L=m[T];L===-1?((A&o)===0||(A&c)!==0)&&(m[T]=Ia(A,r)):L<=r&&(i.expiredLanes|=A),g&=~A}if(r=Tt,o=Qe,o=vi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(mt===2||mt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&pi(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Fn(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&pi(c),bi(o)){case 2:case 8:o=Bn;break;case 32:o=Sn;break;case 268435456:o=as;break;default:o=Sn}return c=hT.bind(null,i),o=et(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&pi(c),i.callbackPriority=2,i.callbackNode=null,2}function hT(i,r){if(an!==0&&an!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(sf()&&i.callbackNode!==o)return null;var c=Qe;return c=vi(i,i===Tt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:($b(i,c,r),uT(i,Kt()),i.callbackNode!=null&&i.callbackNode===o?hT.bind(null,i):null)}function fT(i,r){if(sf())return null;$b(i,r,!0)}function EI(){PI(function(){(ot&6)!==0?et(Mn,wI):cT()})}function zp(){if(Kr===0){var i=qo;i===0&&(i=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),Kr=i}return Kr}function dT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ro(""+i)}function mT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function xI(i,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var g=dT((m[Te]||null).action),T=c.submitter;T&&(r=(r=T[Te]||null)?dT(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var A=new gs("action","action",null,c,m);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Kr!==0){var L=T?mT(m,T):new FormData(m);ap(o,{pending:!0,data:L,method:m.method,action:g},null,L)}}else typeof g=="function"&&(A.preventDefault(),L=T?mT(m,T):new FormData(m),ap(o,{pending:!0,data:L,method:m.method,action:g},g,L))},currentTarget:m}]})}}for(var Bp=0;Bp<Em.length;Bp++){var Fp=Em[Bp],SI=Fp.toLowerCase(),AI=Fp[0].toUpperCase()+Fp.slice(1);Yi(SI,"on"+AI)}Yi(G0,"onAnimationEnd"),Yi($0,"onAnimationIteration"),Yi(K0,"onAnimationStart"),Yi("dblclick","onDoubleClick"),Yi("focusin","onFocus"),Yi("focusout","onBlur"),Yi(F2,"onTransitionRun"),Yi(q2,"onTransitionStart"),Yi(H2,"onTransitionCancel"),Yi(Y0,"onTransitionEnd"),fs("onMouseEnter",["mouseout","mouseover"]),fs("onMouseLeave",["mouseout","mouseover"]),fs("onPointerEnter",["pointerout","pointerover"]),fs("onPointerLeave",["pointerout","pointerover"]),hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zc));function pT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var T=c.length-1;0<=T;T--){var A=c[T],L=A.instance,ee=A.currentTarget;if(A=A.listener,L!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=ee;try{g(m)}catch(ae){bh(ae)}m.currentTarget=null,g=L}else for(T=0;T<c.length;T++){if(A=c[T],L=A.instance,ee=A.currentTarget,A=A.listener,L!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=ee;try{g(m)}catch(ae){bh(ae)}m.currentTarget=null,g=L}}}}function Ye(i,r){var o=r[Rt];o===void 0&&(o=r[Rt]=new Set);var c=i+"__bubble";o.has(c)||(gT(r,i,2,!1),o.add(c))}function qp(i,r,o){var c=0;r&&(c|=4),gT(o,i,c,r)}var of="_reactListening"+Math.random().toString(36).slice(2);function Hp(i){if(!i[of]){i[of]=!0,Zl.forEach(function(o){o!=="selectionchange"&&(CI.has(o)||qp(o,!1,i),qp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[of]||(r[of]=!0,qp("selectionchange",!1,r))}}function gT(i,r,o,c){switch(GT(r)){case 2:var m=tN;break;case 8:m=nN;break;default:m=rg}o=m.bind(null,r,o,i),m=void 0,!Pa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function Gp(i,r,o,c,m){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var A=c.stateNode.containerInfo;if(A===m)break;if(T===4)for(T=c.return;T!==null;){var L=T.tag;if((L===3||L===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;A!==null;){if(T=cs(A),T===null)return;if(L=T.tag,L===5||L===6||L===26||L===27){c=g=T;continue e}A=A.parentNode}}c=c.return}Rr(function(){var ee=g,ae=wi(o),ue=[];e:{var te=Q0.get(i);if(te!==void 0){var se=gs,Se=i;switch(i){case"keypress":if(La(o)===0)break e;case"keydown":case"keyup":se=yh;break;case"focusin":Se="focus",se=Ua;break;case"focusout":Se="blur",se=Ua;break;case"beforeblur":case"afterblur":se=Ua;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=lh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=_;break;case G0:case $0:case K0:se=uh;break;case Y0:se=R;break;case"scroll":case"scrollend":se=uc;break;case"wheel":se=ie;break;case"copy":case"cut":case"paste":se=hh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=qs;break;case"toggle":case"beforetoggle":se=Ue}var ke=(r&4)!==0,_t=!ke&&(i==="scroll"||i==="scrollend"),G=ke?te!==null?te+"Capture":null:te;ke=[];for(var F=ee,J;F!==null;){var le=F;if(J=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||J===null||G===null||(le=Hi(F,G),le!=null&&ke.push(Bc(F,le,J))),_t)break;F=F.return}0<ke.length&&(te=new se(te,Se,null,o,ae),ue.push({event:te,listeners:ke}))}}if((r&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",se=i==="mouseout"||i==="pointerout",te&&o!==oc&&(Se=o.relatedTarget||o.fromElement)&&(cs(Se)||Se[ut]))break e;if((se||te)&&(te=ae.window===ae?ae:(te=ae.ownerDocument)?te.defaultView||te.parentWindow:window,se?(Se=o.relatedTarget||o.toElement,se=ee,Se=Se?cs(Se):null,Se!==null&&(_t=l(Se),ke=Se.tag,Se!==_t||ke!==5&&ke!==27&&ke!==6)&&(Se=null)):(se=null,Se=ee),se!==Se)){if(ke=hc,le="onMouseLeave",G="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(ke=qs,le="onPointerLeave",G="onPointerEnter",F="pointer"),_t=se==null?te:ii(se),J=Se==null?te:ii(Se),te=new ke(le,F+"leave",se,o,ae),te.target=_t,te.relatedTarget=J,le=null,cs(ae)===ee&&(ke=new ke(G,F+"enter",Se,o,ae),ke.target=J,ke.relatedTarget=_t,le=ke),_t=le,se&&Se)t:{for(ke=RI,G=se,F=Se,J=0,le=G;le;le=ke(le))J++;le=0;for(var De=F;De;De=ke(De))le++;for(;0<J-le;)G=ke(G),J--;for(;0<le-J;)F=ke(F),le--;for(;J--;){if(G===F||F!==null&&G===F.alternate){ke=G;break t}G=ke(G),F=ke(F)}ke=null}else ke=null;se!==null&&yT(ue,te,se,ke,!1),Se!==null&&_t!==null&&yT(ue,_t,Se,ke,!0)}}e:{if(te=ee?ii(ee):window,se=te.nodeName&&te.nodeName.toLowerCase(),se==="select"||se==="input"&&te.type==="file")var st=V0;else if(k0(te))if(P0)st=U2;else{st=L2;var Re=O2}else se=te.nodeName,!se||se.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&Co(ee.elementType)&&(st=V0):st=j2;if(st&&(st=st(i,ee))){M0(ue,st,o,ae);break e}Re&&Re(i,te,ee),i==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&sc(te,"number",te.value)}switch(Re=ee?ii(ee):window,i){case"focusin":(k0(Re)||Re.contentEditable==="true")&&(Po=Re,bm=ee,gc=null);break;case"focusout":gc=bm=Po=null;break;case"mousedown":Tm=!0;break;case"contextmenu":case"mouseup":case"dragend":Tm=!1,q0(ue,o,ae);break;case"selectionchange":if(B2)break;case"keydown":case"keyup":q0(ue,o,ae)}var Be;if(at)e:{switch(i){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Vo?za(i,o)&&(Xe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Xe="onCompositionStart");Xe&&(_s&&o.locale!=="ko"&&(Vo||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Vo&&(Be=cc()):(ps=ae,lc="value"in ps?ps.value:ps.textContent,Vo=!0)),Re=lf(ee,Xe),0<Re.length&&(Xe=new vs(Xe,i,null,o,ae),ue.push({event:Xe,listeners:Re}),Be?Xe.data=Be:(Be=Mo(o),Be!==null&&(Xe.data=Be)))),(Be=xi?k2(i,o):M2(i,o))&&(Xe=lf(ee,"onBeforeInput"),0<Xe.length&&(Re=new vs("onBeforeInput","beforeinput",null,o,ae),ue.push({event:Re,listeners:Xe}),Re.data=Be)),xI(ue,i,ee,o,ae)}pT(ue,r)})}function Bc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function lf(i,r){for(var o=r+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Hi(i,o),m!=null&&c.unshift(Bc(i,m,g)),m=Hi(i,r),m!=null&&c.push(Bc(i,m,g))),i.tag===3)return c;i=i.return}return[]}function RI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function yT(i,r,o,c,m){for(var g=r._reactName,T=[];o!==null&&o!==c;){var A=o,L=A.alternate,ee=A.stateNode;if(A=A.tag,L!==null&&L===c)break;A!==5&&A!==26&&A!==27||ee===null||(L=ee,m?(ee=Hi(o,g),ee!=null&&T.unshift(Bc(o,ee,L))):m||(ee=Hi(o,g),ee!=null&&T.push(Bc(o,ee,L)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var II=/\r\n?/g,NI=/\u0000|\uFFFD/g;function vT(i){return(typeof i=="string"?i:""+i).replace(II,`
`).replace(NI,"")}function _T(i,r){return r=vT(r),vT(i)===r}function vt(i,r,o,c,m,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Hn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Hn(i,""+c);break;case"className":si(i,"class",c);break;case"tabIndex":si(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":si(i,o,c);break;case"style":ac(i,c,g);break;case"data":if(r!=="object"){si(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ro(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&vt(i,r,"name",m.name,m,null),vt(i,r,"formEncType",m.formEncType,m,null),vt(i,r,"formMethod",m.formMethod,m,null),vt(i,r,"formTarget",m.formTarget,m,null)):(vt(i,r,"encType",m.encType,m,null),vt(i,r,"method",m.method,m,null),vt(i,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ro(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=qi);break;case"onScroll":c!=null&&Ye("scroll",i);break;case"onScrollEnd":c!=null&&Ye("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Ro(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ye("beforetoggle",i),Ye("toggle",i),So(i,"popover",c);break;case"xlinkActuate":Xt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Xt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Xt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Xt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Xt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Xt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":So(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=oh.get(o)||o,So(i,o,c))}}function $p(i,r,o,c,m,g){switch(o){case"style":ac(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Hn(i,c):(typeof c=="number"||typeof c=="bigint")&&Hn(i,""+c);break;case"onScroll":c!=null&&Ye("scroll",i);break;case"onScrollEnd":c!=null&&Ye("scrollend",i);break;case"onClick":c!=null&&(i.onclick=qi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=i[Te]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):So(i,o,c)}}}function Tn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",i),Ye("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:vt(i,r,g,T,o,null)}}m&&vt(i,r,"srcSet",o.srcSet,o,null),c&&vt(i,r,"src",o.src,o,null);return;case"input":Ye("invalid",i);var A=g=T=m=null,L=null,ee=null;for(c in o)if(o.hasOwnProperty(c)){var ae=o[c];if(ae!=null)switch(c){case"name":m=ae;break;case"type":T=ae;break;case"checked":L=ae;break;case"defaultChecked":ee=ae;break;case"value":g=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,r));break;default:vt(i,r,c,ae,o,null)}}sh(i,g,A,L,ee,T,m,!1);return;case"select":Ye("invalid",i),c=T=g=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":g=A;break;case"defaultValue":T=A;break;case"multiple":c=A;default:vt(i,r,m,A,o,null)}r=g,o=T,i.multiple=!!c,r!=null?xr(i,!!c,r,!1):o!=null&&xr(i,!!c,o,!0);return;case"textarea":Ye("invalid",i),g=m=c=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":c=A;break;case"defaultValue":m=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:vt(i,r,T,A,o,null)}Sr(i,c,m,g);return;case"option":for(L in o)o.hasOwnProperty(L)&&(c=o[L],c!=null)&&(L==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":vt(i,r,L,c,o,null));return;case"dialog":Ye("beforetoggle",i),Ye("toggle",i),Ye("cancel",i),Ye("close",i);break;case"iframe":case"object":Ye("load",i);break;case"video":case"audio":for(c=0;c<zc.length;c++)Ye(zc[c],i);break;case"image":Ye("error",i),Ye("load",i);break;case"details":Ye("toggle",i);break;case"embed":case"source":case"link":Ye("error",i),Ye("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(c=o[ee],c!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:vt(i,r,ee,c,o,null)}return;default:if(Co(r)){for(ae in o)o.hasOwnProperty(ae)&&(c=o[ae],c!==void 0&&$p(i,r,ae,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&vt(i,r,A,c,o,null))}function DI(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,T=null,A=null,L=null,ee=null,ae=null;for(se in o){var ue=o[se];if(o.hasOwnProperty(se)&&ue!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":L=ue;default:c.hasOwnProperty(se)||vt(i,r,se,null,c,ue)}}for(var te in c){var se=c[te];if(ue=o[te],c.hasOwnProperty(te)&&(se!=null||ue!=null))switch(te){case"type":g=se;break;case"name":m=se;break;case"checked":ee=se;break;case"defaultChecked":ae=se;break;case"value":T=se;break;case"defaultValue":A=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,r));break;default:se!==ue&&vt(i,r,te,se,c,ue)}}Ao(i,T,A,L,ee,ae,g,m);return;case"select":se=T=A=te=null;for(g in o)if(L=o[g],o.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":se=L;default:c.hasOwnProperty(g)||vt(i,r,g,null,c,L)}for(m in c)if(g=c[m],L=o[m],c.hasOwnProperty(m)&&(g!=null||L!=null))switch(m){case"value":te=g;break;case"defaultValue":A=g;break;case"multiple":T=g;default:g!==L&&vt(i,r,m,g,c,L)}r=A,o=T,c=se,te!=null?xr(i,!!o,te,!1):!!c!=!!o&&(r!=null?xr(i,!!o,r,!0):xr(i,!!o,o?[]:"",!1));return;case"textarea":se=te=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:vt(i,r,A,null,c,m)}for(T in c)if(m=c[T],g=o[T],c.hasOwnProperty(T)&&(m!=null||g!=null))switch(T){case"value":te=m;break;case"defaultValue":se=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==g&&vt(i,r,T,m,c,g)}rh(i,te,se);return;case"option":for(var Se in o)te=o[Se],o.hasOwnProperty(Se)&&te!=null&&!c.hasOwnProperty(Se)&&(Se==="selected"?i.selected=!1:vt(i,r,Se,null,c,te));for(L in c)te=c[L],se=o[L],c.hasOwnProperty(L)&&te!==se&&(te!=null||se!=null)&&(L==="selected"?i.selected=te&&typeof te!="function"&&typeof te!="symbol":vt(i,r,L,te,c,se));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in o)te=o[ke],o.hasOwnProperty(ke)&&te!=null&&!c.hasOwnProperty(ke)&&vt(i,r,ke,null,c,te);for(ee in c)if(te=c[ee],se=o[ee],c.hasOwnProperty(ee)&&te!==se&&(te!=null||se!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:vt(i,r,ee,te,c,se)}return;default:if(Co(r)){for(var _t in o)te=o[_t],o.hasOwnProperty(_t)&&te!==void 0&&!c.hasOwnProperty(_t)&&$p(i,r,_t,void 0,c,te);for(ae in c)te=c[ae],se=o[ae],!c.hasOwnProperty(ae)||te===se||te===void 0&&se===void 0||$p(i,r,ae,te,c,se);return}}for(var G in o)te=o[G],o.hasOwnProperty(G)&&te!=null&&!c.hasOwnProperty(G)&&vt(i,r,G,null,c,te);for(ue in c)te=c[ue],se=o[ue],!c.hasOwnProperty(ue)||te===se||te==null&&se==null||vt(i,r,ue,te,c,se)}function bT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,T=m.initiatorType,A=m.duration;if(g&&A&&bT(T)){for(T=0,A=m.responseEnd,c+=1;c<o.length;c++){var L=o[c],ee=L.startTime;if(ee>A)break;var ae=L.transferSize,ue=L.initiatorType;ae&&bT(ue)&&(L=L.responseEnd,T+=ae*(L<A?1:(A-ee)/(L-ee)))}if(--c,r+=8*(g+T)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Kp=null,Yp=null;function cf(i){return i.nodeType===9?i:i.ownerDocument}function TT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Qp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xp=null;function MI(){var i=window.event;return i&&i.type==="popstate"?i===Xp?!1:(Xp=i,!0):(Xp=null,!1)}var ET=typeof setTimeout=="function"?setTimeout:void 0,VI=typeof clearTimeout=="function"?clearTimeout:void 0,xT=typeof Promise=="function"?Promise:void 0,PI=typeof queueMicrotask=="function"?queueMicrotask:typeof xT<"u"?function(i){return xT.resolve(null).then(i).catch(OI)}:ET;function OI(i){setTimeout(function(){throw i})}function Yr(i){return i==="head"}function ST(i,r){var o=r,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),ll(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Fc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Fc(o);for(var g=o.firstChild;g;){var T=g.nextSibling,A=g.nodeName;g[ni]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Fc(i.ownerDocument.body);o=m}while(o);ll(r)}function AT(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Wp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Wp(o),xo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function LI(i,r,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[ni])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Di(i.nextSibling),i===null)break}return null}function jI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Di(i.nextSibling),i===null))return null;return i}function CT(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Di(i.nextSibling),i===null))return null;return i}function Zp(i){return i.data==="$?"||i.data==="$~"}function Jp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function UI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Di(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var eg=null;function RT(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Di(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function IT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function NT(i,r,o){switch(r=cf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Fc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);xo(i)}var ki=new Map,DT=new Set;function uf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var sr=Z.d;Z.d={f:zI,r:BI,D:FI,C:qI,L:HI,m:GI,X:KI,S:$I,M:YI};function zI(){var i=sr.f(),r=ef();return i||r}function BI(i){var r=Ti(i);r!==null&&r.tag===5&&r.type==="form"?Y_(r):sr.r(i)}var rl=typeof document>"u"?null:document;function kT(i,r,o){var c=rl;if(c&&typeof r=="string"&&r){var m=qn(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),DT.has(m)||(DT.add(m),i={rel:i,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),Tn(r,"link",i),Qt(r),c.head.appendChild(r)))}}function FI(i){sr.D(i),kT("dns-prefetch",i,null)}function qI(i,r){sr.C(i,r),kT("preconnect",i,r)}function HI(i,r,o){sr.L(i,r,o);var c=rl;if(c&&i&&r){var m='link[rel="preload"][as="'+qn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+qn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+qn(o.imageSizes)+'"]')):m+='[href="'+qn(i)+'"]';var g=m;switch(r){case"style":g=al(i);break;case"script":g=ol(i)}ki.has(g)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ki.set(g,i),c.querySelector(m)!==null||r==="style"&&c.querySelector(qc(g))||r==="script"&&c.querySelector(Hc(g))||(r=c.createElement("link"),Tn(r,"link",i),Qt(r),c.head.appendChild(r)))}}function GI(i,r){sr.m(i,r);var o=rl;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+qn(c)+'"][href="'+qn(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ol(i)}if(!ki.has(g)&&(i=v({rel:"modulepreload",href:i},r),ki.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Hc(g)))return}c=o.createElement("link"),Tn(c,"link",i),Qt(c),o.head.appendChild(c)}}}function $I(i,r,o){sr.S(i,r,o);var c=rl;if(c&&i){var m=us(c).hoistableStyles,g=al(i);r=r||"default";var T=m.get(g);if(!T){var A={loading:0,preload:null};if(T=c.querySelector(qc(g)))A.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ki.get(g))&&tg(i,o);var L=T=c.createElement("link");Qt(L),Tn(L,"link",i),L._p=new Promise(function(ee,ae){L.onload=ee,L.onerror=ae}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,hf(T,r,c)}T={type:"stylesheet",instance:T,count:1,state:A},m.set(g,T)}}}function KI(i,r){sr.X(i,r);var o=rl;if(o&&i){var c=us(o).hoistableScripts,m=ol(i),g=c.get(m);g||(g=o.querySelector(Hc(m)),g||(i=v({src:i,async:!0},r),(r=ki.get(m))&&ng(i,r),g=o.createElement("script"),Qt(g),Tn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function YI(i,r){sr.M(i,r);var o=rl;if(o&&i){var c=us(o).hoistableScripts,m=ol(i),g=c.get(m);g||(g=o.querySelector(Hc(m)),g||(i=v({src:i,async:!0,type:"module"},r),(r=ki.get(m))&&ng(i,r),g=o.createElement("script"),Qt(g),Tn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function MT(i,r,o,c){var m=(m=ve.current)?uf(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=al(o.href),o=us(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=al(o.href);var g=us(m).hoistableStyles,T=g.get(i);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=m.querySelector(qc(i)))&&!g._p&&(T.instance=g,T.state.loading=5),ki.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ki.set(i,o),g||QI(m,i,o,T.state))),r&&c===null)throw Error(s(528,""));return T}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ol(o),o=us(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function al(i){return'href="'+qn(i)+'"'}function qc(i){return'link[rel="stylesheet"]['+i+"]"}function VT(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function QI(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Tn(r,"link",o),Qt(r),i.head.appendChild(r))}function ol(i){return'[src="'+qn(i)+'"]'}function Hc(i){return"script[async]"+i}function PT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+qn(o.href)+'"]');if(c)return r.instance=c,Qt(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Qt(c),Tn(c,"style",m),hf(c,o.precedence,i),r.instance=c;case"stylesheet":m=al(o.href);var g=i.querySelector(qc(m));if(g)return r.state.loading|=4,r.instance=g,Qt(g),g;c=VT(o),(m=ki.get(m))&&tg(c,m),g=(i.ownerDocument||i).createElement("link"),Qt(g);var T=g;return T._p=new Promise(function(A,L){T.onload=A,T.onerror=L}),Tn(g,"link",c),r.state.loading|=4,hf(g,o.precedence,i),r.instance=g;case"script":return g=ol(o.src),(m=i.querySelector(Hc(g)))?(r.instance=m,Qt(m),m):(c=o,(m=ki.get(g))&&(c=v({},o),ng(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Qt(m),Tn(m,"link",c),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,hf(c,o.precedence,i));return r.instance}function hf(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,T=0;T<c.length;T++){var A=c[T];if(A.dataset.precedence===r)g=A;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function tg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function ng(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var ff=null;function OT(i,r,o){if(ff===null){var c=new Map,m=ff=new Map;m.set(o,c)}else m=ff,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[ni]||g[K]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=i+T;var A=c.get(T);A?A.push(g):c.set(T,[g])}}return c}function LT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function XI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function jT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function WI(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=al(c.href),g=r.querySelector(qc(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=df.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Qt(g);return}g=r.ownerDocument||r,c=VT(c),(m=ki.get(m))&&tg(c,m),g=g.createElement("link"),Qt(g);var T=g;T._p=new Promise(function(A,L){T.onload=A,T.onerror=L}),Tn(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=df.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var ig=0;function ZI(i,r){return i.stylesheets&&i.count===0&&pf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&pf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&ig===0&&(ig=62500*kI());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&pf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>ig?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function df(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var mf=null;function pf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,mf=new Map,r.forEach(JI,i),mf=null,df.call(i))}function JI(i,r){if(!(r.state.loading&4)){var o=mf.get(i);if(o)var c=o.get(null);else{o=new Map,mf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var T=m[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}m=r.instance,T=m.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,m),o.set(T,m),this.count++,c=df.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var Gc={$$typeof:Y,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function eN(i,r,o,c,m,g,T,A,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function UT(i,r,o,c,m,g,T,A,L,ee,ae,ue){return i=new eN(i,r,o,T,L,ee,ae,ue,A),r=1,g===!0&&(r|=24),g=ai(3,null,null,r),i.current=g,g.stateNode=i,r=Om(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},zm(g),i}function zT(i){return i?(i=jo,i):jo}function BT(i,r,o,c,m,g){m=zT(m),c.context===null?c.context=m:c.pendingContext=m,c=Lr(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=jr(i,c,r),o!==null&&(Qn(o,i,r),Ec(o,i,r))}function FT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function sg(i,r){FT(i,r),(i=i.alternate)&&FT(i,r)}function qT(i){if(i.tag===13||i.tag===31){var r=qa(i,67108864);r!==null&&Qn(r,i,67108864),sg(i,67108864)}}function HT(i){if(i.tag===13||i.tag===31){var r=hi();r=Tr(r);var o=qa(i,r);o!==null&&Qn(o,i,r),sg(i,r)}}var gf=!0;function tN(i,r,o,c){var m=U.T;U.T=null;var g=Z.p;try{Z.p=2,rg(i,r,o,c)}finally{Z.p=g,U.T=m}}function nN(i,r,o,c){var m=U.T;U.T=null;var g=Z.p;try{Z.p=8,rg(i,r,o,c)}finally{Z.p=g,U.T=m}}function rg(i,r,o,c){if(gf){var m=ag(c);if(m===null)Gp(i,r,c,yf,o),$T(i,c);else if(sN(m,i,r,o,c))c.stopPropagation();else if($T(i,c),r&4&&-1<iN.indexOf(i)){for(;m!==null;){var g=Ti(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ei(g.pendingLanes);if(T!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var L=1<<31-Et(T);A.entanglements[1]|=L,T&=~L}Es(g),(ot&6)===0&&(Zh=Kt()+500,Uc(0))}}break;case 31:case 13:A=qa(g,2),A!==null&&Qn(A,g,2),ef(),sg(g,2)}if(g=ag(c),g===null&&Gp(i,r,c,yf,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Gp(i,r,c,null,o)}}function ag(i){return i=wi(i),og(i)}var yf=null;function og(i){if(yf=null,i=cs(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return yf=i,null}function GT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xn()){case Mn:return 2;case Bn:return 8;case Sn:case js:return 32;case as:return 268435456;default:return 32}default:return 32}}var lg=!1,Qr=null,Xr=null,Wr=null,$c=new Map,Kc=new Map,Zr=[],iN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $T(i,r){switch(i){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":$c.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kc.delete(r.pointerId)}}function Yc(i,r,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},r!==null&&(r=Ti(r),r!==null&&qT(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function sN(i,r,o,c,m){switch(r){case"focusin":return Qr=Yc(Qr,i,r,o,c,m),!0;case"dragenter":return Xr=Yc(Xr,i,r,o,c,m),!0;case"mouseover":return Wr=Yc(Wr,i,r,o,c,m),!0;case"pointerover":var g=m.pointerId;return $c.set(g,Yc($c.get(g)||null,i,r,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Kc.set(g,Yc(Kc.get(g)||null,i,r,o,c,m)),!0}return!1}function KT(i){var r=cs(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,Pn(i.priority,function(){HT(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,Pn(i.priority,function(){HT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function vf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=ag(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);oc=c,o.target.dispatchEvent(c),oc=null}else return r=Ti(o),r!==null&&qT(r),i.blockedOn=o,!1;r.shift()}return!0}function YT(i,r,o){vf(i)&&o.delete(r)}function rN(){lg=!1,Qr!==null&&vf(Qr)&&(Qr=null),Xr!==null&&vf(Xr)&&(Xr=null),Wr!==null&&vf(Wr)&&(Wr=null),$c.forEach(YT),Kc.forEach(YT)}function _f(i,r){i.blockedOn===r&&(i.blockedOn=null,lg||(lg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,rN)))}var bf=null;function QT(i){bf!==i&&(bf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){bf===i&&(bf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],m=i[r+2];if(typeof c!="function"){if(og(c||o)===null)continue;break}var g=Ti(o);g!==null&&(i.splice(r,3),r-=3,ap(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function ll(i){function r(L){return _f(L,i)}Qr!==null&&_f(Qr,i),Xr!==null&&_f(Xr,i),Wr!==null&&_f(Wr,i),$c.forEach(r),Kc.forEach(r);for(var o=0;o<Zr.length;o++){var c=Zr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Zr.length&&(o=Zr[0],o.blockedOn===null);)KT(o),o.blockedOn===null&&Zr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],T=m[Te]||null;if(typeof g=="function")T||QT(o);else if(T){var A=null;if(g&&g.hasAttribute("formAction")){if(m=g,T=g[Te]||null)A=T.formAction;else if(og(m)!==null)continue}else A=T.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),QT(o)}}}function XT(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function cg(i){this._internalRoot=i}Tf.prototype.render=cg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=hi();BT(o,c,i,r,null,null)},Tf.prototype.unmount=cg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;BT(i.current,2,null,i,null,null),ef(),r[ut]=null}};function Tf(i){this._internalRoot=i}Tf.prototype.unstable_scheduleHydration=function(i){if(i){var r=wr();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Zr.length&&r!==0&&r<Zr[o].priority;o++);Zr.splice(o,0,i),o===0&&KT(i)}};var WT=e.version;if(WT!=="19.2.3")throw Error(s(527,WT,"19.2.3"));Z.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=d(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var aN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wf.isDisabled&&wf.supportsFiber)try{it=wf.inject(aN),kt=wf}catch{}}return Xc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",m=sb,g=rb,T=ab;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=UT(i,1,!1,null,null,o,c,null,m,g,T,XT),i[ut]=r.current,Hp(i),new cg(r)},Xc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,m="",g=sb,T=rb,A=ab,L=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),r=UT(i,1,!0,r,o??null,c,m,L,g,T,A,XT),r.context=zT(null),o=r.current,c=hi(),c=Tr(c),m=Lr(c),m.callback=null,jr(o,m,c),o=c,r.current.lanes=o,zs(r,o),Es(r),i[ut]=r.current,Hp(i),new Tf(r)},Xc.version="19.2.3",Xc}var ow;function yN(){if(ow)return fg.exports;ow=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fg.exports=gN(),fg.exports}var vN=yN();var lw="popstate";function _N(t={}){function e(s,a){let{pathname:l,search:u,hash:f}=s.location;return Jg("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:bu(a)}return TN(e,n,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bN(){return Math.random().toString(36).substring(2,10)}function cw(t,e){return{usr:t.state,key:t.key,idx:e}}function Jg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ll(e):e,state:n,key:e&&e.key||s||bN()}}function bu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ll(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function TN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,f="POP",p=null,d=y();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function y(){return(u.state||{idx:null}).idx}function v(){f="POP";let N=y(),H=N==null?null:N-d;d=N,p&&p({action:f,location:O.location,delta:H})}function w(N,H){f="PUSH";let X=Jg(O.location,N,H);d=y()+1;let Y=cw(X,d),Q=O.createHref(X);try{u.pushState(Y,"",Q)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(Q)}l&&p&&p({action:f,location:O.location,delta:1})}function C(N,H){f="REPLACE";let X=Jg(O.location,N,H);d=y();let Y=cw(X,d),Q=O.createHref(X);u.replaceState(Y,"",Q),l&&p&&p({action:f,location:O.location,delta:0})}function M(N){return wN(N)}let O={get action(){return f},get location(){return t(a,u)},listen(N){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(lw,v),p=N,()=>{a.removeEventListener(lw,v),p=null}},createHref(N){return e(a,N)},createURL:M,encodeLocation(N){let H=M(N);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:w,replace:C,go(N){return u.go(N)}};return O}function wN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:bu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Ax(t,e,n="/"){return EN(t,e,n,!1)}function EN(t,e,n,s){let a=typeof e=="string"?Ll(e):e,l=dr(a.pathname||"/",n);if(l==null)return null;let u=Cx(t);xN(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let d=PN(l);f=MN(u[p],d,s)}return f}function Cx(t,e=[],n=[],s="",a=!1){let l=(u,f,p=a,d)=>{let y={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&p)return;Dt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=cr([s,y.relativePath]),w=n.concat(y);u.children&&u.children.length>0&&(Dt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Cx(u.children,e,w,v,p)),!(u.path==null&&!u.index)&&e.push({path:v,score:DN(v,u.index),routesMeta:w})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let p of Rx(u.path))l(u,f,!0,p)}),e}function Rx(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=Rx(s.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...u),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function xN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var SN=/^:[\w-]+$/,AN=3,CN=2,RN=1,IN=10,NN=-2,uw=t=>t==="*";function DN(t,e){let n=t.split("/"),s=n.length;return n.some(uw)&&(s+=NN),e&&(s+=CN),n.filter(a=>!uw(a)).reduce((a,l)=>a+(SN.test(l)?AN:l===""?RN:IN),s)}function kN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function MN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let f=0;f<s.length;++f){let p=s[f],d=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=td({path:p.relativePath,caseSensitive:p.caseSensitive,end:d},y),w=p.route;if(!v&&d&&n&&!s[s.length-1].route.index&&(v=td({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:cr([l,v.pathname]),pathnameBase:UN(cr([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=cr([l,v.pathnameBase]))}return u}function td(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=VN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((d,{paramName:y,isOptional:v},w)=>{if(y==="*"){let M=f[w]||"";u=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const C=f[w];return v&&!C?d[y]=void 0:d[y]=(C||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:u,pattern:t}}function VN(t,e=!1,n=!0){zi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function PN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function dr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var Ix=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ON=t=>Ix.test(t);function LN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Ll(t):t,l;if(n)if(ON(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),zi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=hw(n.substring(1),"/"):l=hw(n,e)}else l=e;return{pathname:l,search:zN(s),hash:BN(a)}}function hw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function gg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zy(t){let e=jN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Jy(t,e,n,s=!1){let a;typeof t=="string"?a=Ll(t):(a={...t},Dt(!a.pathname||!a.pathname.includes("?"),gg("?","pathname","search",a)),Dt(!a.pathname||!a.pathname.includes("#"),gg("#","pathname","hash",a)),Dt(!a.search||!a.search.includes("#"),gg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let v=e.length-1;if(!s&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;a.pathname=w.join("/")}f=v>=0?e[v]:"/"}let p=LN(a,f),d=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(d||y)&&(p.pathname+="/"),p}var cr=t=>t.join("/").replace(/\/\/+/g,"/"),UN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,FN=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function qN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function HN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Nx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Dx(t,e){let n=t;if(typeof n!="string"||!Ix.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(Nx)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=dr(u.pathname,e);u.origin===l.origin&&f!=null?n=f+u.search+u.hash:a=!0}catch{zi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kx=["POST","PUT","PATCH","DELETE"];new Set(kx);var GN=["GET",...kx];new Set(GN);var jl=k.createContext(null);jl.displayName="DataRouter";var Ud=k.createContext(null);Ud.displayName="DataRouterState";var $N=k.createContext(!1),Mx=k.createContext({isTransitioning:!1});Mx.displayName="ViewTransition";var KN=k.createContext(new Map);KN.displayName="Fetchers";var YN=k.createContext(null);YN.displayName="Await";var mi=k.createContext(null);mi.displayName="Navigation";var Mu=k.createContext(null);Mu.displayName="Location";var rs=k.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var ev=k.createContext(null);ev.displayName="RouteError";var Vx="REACT_ROUTER_ERROR",QN="REDIRECT",XN="ROUTE_ERROR_RESPONSE";function WN(t){if(t.startsWith(`${Vx}:${QN}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ZN(t){if(t.startsWith(`${Vx}:${XN}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new FN(e.status,e.statusText,e.data)}catch{}}function JN(t,{relative:e}={}){Dt(Ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(mi),{hash:a,pathname:l,search:u}=Vu(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:cr([n,l])),s.createHref({pathname:f,search:u,hash:a})}function Ul(){return k.useContext(Mu)!=null}function wa(){return Dt(Ul(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Mu).location}var Px="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ox(t){k.useContext(mi).static||k.useLayoutEffect(t)}function zd(){let{isDataRoute:t}=k.useContext(rs);return t?dD():eD()}function eD(){Dt(Ul(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(jl),{basename:e,navigator:n}=k.useContext(mi),{matches:s}=k.useContext(rs),{pathname:a}=wa(),l=JSON.stringify(Zy(s)),u=k.useRef(!1);return Ox(()=>{u.current=!0}),k.useCallback((p,d={})=>{if(zi(u.current,Px),!u.current)return;if(typeof p=="number"){n.go(p);return}let y=Jy(p,JSON.parse(l),a,d.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:cr([e,y.pathname])),(d.replace?n.replace:n.push)(y,d.state,d)},[e,n,l,a,t])}k.createContext(null);function tD(){let{matches:t}=k.useContext(rs),e=t[t.length-1];return e?e.params:{}}function Vu(t,{relative:e}={}){let{matches:n}=k.useContext(rs),{pathname:s}=wa(),a=JSON.stringify(Zy(n));return k.useMemo(()=>Jy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function nD(t,e){return Lx(t,e)}function Lx(t,e,n,s,a){Dt(Ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=k.useContext(mi),{matches:u}=k.useContext(rs),f=u[u.length-1],p=f?f.params:{},d=f?f.pathname:"/",y=f?f.pathnameBase:"/",v=f&&f.route;{let X=v&&v.path||"";Ux(d,!v||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let w=wa(),C;if(e){let X=typeof e=="string"?Ll(e):e;Dt(y==="/"||X.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${X.pathname}" was given in the \`location\` prop.`),C=X}else C=w;let M=C.pathname||"/",O=M;if(y!=="/"){let X=y.replace(/^\//,"").split("/");O="/"+M.replace(/^\//,"").split("/").slice(X.length).join("/")}let N=Ax(t,{pathname:O});zi(v||N!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),zi(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=oD(N&&N.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:cr([y,l.encodeLocation?l.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?y:cr([y,l.encodeLocation?l.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),u,n,s,a);return e&&H?k.createElement(Mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},H):H}function iD(){let t=fD(),e=qN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:a},n):null,u)}var sD=k.createElement(iD,null),jx=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=ZN(t.digest);n&&(t=n)}let e=t!==void 0?k.createElement(rs.Provider,{value:this.props.routeContext},k.createElement(ev.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?k.createElement(rD,{error:t},e):e}};jx.contextType=$N;var yg=new WeakMap;function rD({children:t,error:e}){let{basename:n}=k.useContext(mi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=WN(e.digest);if(s){let a=yg.get(e);if(a)throw a;let l=Dx(s.location,n);if(Nx&&!yg.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw yg.set(e,u),u}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function aD({routeContext:t,match:e,children:n}){let s=k.useContext(jl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(rs.Provider,{value:t},n)}function oD(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Dt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,p=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:w,errors:C}=n,M=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!C||C[v.route.id]===void 0);if(v.route.lazy||M){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let d=n&&s?(y,v)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:HN(n.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,w)=>{let C,M=!1,O=null,N=null;n&&(C=u&&v.route.id?u[v.route.id]:void 0,O=v.route.errorElement||sD,f&&(p<0&&w===0?(Ux("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,N=null):p===w&&(M=!0,N=v.route.hydrateFallbackElement||null)));let H=e.concat(l.slice(0,w+1)),X=()=>{let Y;return C?Y=O:M?Y=N:v.route.Component?Y=k.createElement(v.route.Component,null):v.route.element?Y=v.route.element:Y=y,k.createElement(aD,{match:v,routeContext:{outlet:y,matches:H,isDataRoute:n!=null},children:Y})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?k.createElement(jx,{location:n.location,revalidation:n.revalidation,component:O,error:C,children:X(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:d}):X()},null)}function tv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lD(t){let e=k.useContext(jl);return Dt(e,tv(t)),e}function cD(t){let e=k.useContext(Ud);return Dt(e,tv(t)),e}function uD(t){let e=k.useContext(rs);return Dt(e,tv(t)),e}function nv(t){let e=uD(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function hD(){return nv("useRouteId")}function fD(){let t=k.useContext(ev),e=cD("useRouteError"),n=nv("useRouteError");return t!==void 0?t:e.errors?.[n]}function dD(){let{router:t}=lD("useNavigate"),e=nv("useNavigate"),n=k.useRef(!1);return Ox(()=>{n.current=!0}),k.useCallback(async(a,l={})=>{zi(n.current,Px),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var fw={};function Ux(t,e,n){!e&&!fw[t]&&(fw[t]=!0,zi(!1,n))}k.memo(mD);function mD({routes:t,future:e,state:n,onError:s}){return Lx(t,void 0,n,s,e)}function dw({to:t,replace:e,state:n,relative:s}){Dt(Ul(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(mi);zi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(rs),{pathname:u}=wa(),f=zd(),p=Jy(t,Zy(l),u,s==="path"),d=JSON.stringify(p);return k.useEffect(()=>{f(JSON.parse(d),{replace:e,state:n,relative:s})},[f,d,s,e,n]),null}function ul(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pD({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){Dt(!Ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),p=k.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[f,a,l,u]);typeof n=="string"&&(n=Ll(n));let{pathname:d="/",search:y="",hash:v="",state:w=null,key:C="default"}=n,M=k.useMemo(()=>{let O=dr(d,f);return O==null?null:{location:{pathname:O,search:y,hash:v,state:w,key:C},navigationType:s}},[f,d,y,v,w,C,s]);return zi(M!=null,`<Router basename="${f}"> is not able to match the URL "${d}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:k.createElement(mi.Provider,{value:p},k.createElement(Mu.Provider,{children:e,value:M}))}function gD({children:t,location:e}){return nD(ey(t),e)}function ey(t,e=[]){let n=[];return k.Children.forEach(t,(s,a)=>{if(!k.isValidElement(s))return;let l=[...e,a];if(s.type===k.Fragment){n.push.apply(n,ey(s.props.children,l));return}Dt(s.type===ul,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=ey(s.props.children,l)),n.push(u)}),n}var jf="get",Uf="application/x-www-form-urlencoded";function Bd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function yD(t){return Bd(t)&&t.tagName.toLowerCase()==="button"}function vD(t){return Bd(t)&&t.tagName.toLowerCase()==="form"}function _D(t){return Bd(t)&&t.tagName.toLowerCase()==="input"}function bD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TD(t,e){return t.button===0&&(!e||e==="_self")&&!bD(t)}var Ef=null;function wD(){if(Ef===null)try{new FormData(document.createElement("form"),0),Ef=!1}catch{Ef=!0}return Ef}var ED=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vg(t){return t!=null&&!ED.has(t)?(zi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uf}"`),null):t}function xD(t,e){let n,s,a,l,u;if(vD(t)){let f=t.getAttribute("action");s=f?dr(f,e):null,n=t.getAttribute("method")||jf,a=vg(t.getAttribute("enctype"))||Uf,l=new FormData(t)}else if(yD(t)||_D(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(s=p?dr(p,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||jf,a=vg(t.getAttribute("formenctype"))||vg(f.getAttribute("enctype"))||Uf,l=new FormData(f,t),!wD()){let{name:d,type:y,value:v}=t;if(y==="image"){let w=d?`${d}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else d&&l.append(d,v)}}else{if(Bd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jf,s=null,a=Uf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function iv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function SD(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&dr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function AD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function RD(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await AD(l,n);return u.links?u.links():[]}return[]}));return kD(s.flat(1).filter(CD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function mw(t,e,n,s,a,l){let u=(p,d)=>n[d]?p.route.id!==n[d].route.id:!0,f=(p,d)=>n[d].pathname!==p.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,d)=>u(p,d)||f(p,d)):l==="data"?e.filter((p,d)=>{let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(u(p,d)||f(p,d))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function ID(t,e,{includeHydrateFallback:n}={}){return ND(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function ND(t){return[...new Set(t)]}function DD(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function kD(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(DD(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function zx(){let t=k.useContext(jl);return iv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function MD(){let t=k.useContext(Ud);return iv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var sv=k.createContext(void 0);sv.displayName="FrameworkContext";function Bx(){let t=k.useContext(sv);return iv(t,"You must render this element inside a <HydratedRouter> element"),t}function VD(t,e){let n=k.useContext(sv),[s,a]=k.useState(!1),[l,u]=k.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:d,onMouseLeave:y,onTouchStart:v}=e,w=k.useRef(null);k.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let O=H=>{H.forEach(X=>{u(X.isIntersecting)})},N=new IntersectionObserver(O,{threshold:.5});return w.current&&N.observe(w.current),()=>{N.disconnect()}}},[t]),k.useEffect(()=>{if(s){let O=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(O)}}},[s]);let C=()=>{a(!0)},M=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Wc(f,C),onBlur:Wc(p,M),onMouseEnter:Wc(d,C),onMouseLeave:Wc(y,M),onTouchStart:Wc(v,C)}]:[!1,w,{}]}function Wc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function PD({page:t,...e}){let{router:n}=zx(),s=k.useMemo(()=>Ax(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?k.createElement(LD,{page:t,matches:s,...e}):null}function OD(t){let{manifest:e,routeModules:n}=Bx(),[s,a]=k.useState([]);return k.useEffect(()=>{let l=!1;return RD(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function LD({page:t,matches:e,...n}){let s=wa(),{future:a,manifest:l,routeModules:u}=Bx(),{basename:f}=zx(),{loaderData:p,matches:d}=MD(),y=k.useMemo(()=>mw(t,e,d,l,s,"data"),[t,e,d,l,s]),v=k.useMemo(()=>mw(t,e,d,l,s,"assets"),[t,e,d,l,s]),w=k.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let O=new Set,N=!1;if(e.forEach(X=>{let Y=l.routes[X.route.id];!Y||!Y.hasLoader||(!y.some(Q=>Q.route.id===X.route.id)&&X.route.id in p&&u[X.route.id]?.shouldRevalidate||Y.hasClientLoader?N=!0:O.add(X.route.id))}),O.size===0)return[];let H=SD(t,f,a.unstable_trailingSlashAwareDataRequests,"data");return N&&O.size>0&&H.searchParams.set("_routes",e.filter(X=>O.has(X.route.id)).map(X=>X.route.id).join(",")),[H.pathname+H.search]},[f,a.unstable_trailingSlashAwareDataRequests,p,s,l,y,e,t,u]),C=k.useMemo(()=>ID(v,l),[v,l]),M=OD(v);return k.createElement(k.Fragment,null,w.map(O=>k.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),C.map(O=>k.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),M.map(({key:O,link:N})=>k.createElement("link",{key:O,nonce:n.nonce,...N})))}function jD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var UD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UD&&(window.__reactRouterVersion="7.12.0")}catch{}function zD({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=k.useRef();a.current==null&&(a.current=_N({window:s,v5Compat:!0}));let l=a.current,[u,f]=k.useState({action:l.action,location:l.location}),p=k.useCallback(d=>{n===!1?f(d):k.startTransition(()=>f(d))},[n]);return k.useLayoutEffect(()=>l.listen(p),[l,p]),k.createElement(pD,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var Fx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qx=k.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:f,target:p,to:d,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:w,...C},M){let{basename:O,unstable_useTransitions:N}=k.useContext(mi),H=typeof d=="string"&&Fx.test(d),X=Dx(d,O);d=X.to;let Y=JN(d,{relative:a}),[Q,re,ce]=VD(s,C),I=HD(d,{replace:u,state:f,target:p,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:w,unstable_useTransitions:N});function S(j){e&&e(j),j.defaultPrevented||I(j)}let D=k.createElement("a",{...C,...ce,href:X.absoluteURL||Y,onClick:X.isExternal||l?e:S,ref:jD(M,re),target:p,"data-discover":!H&&n==="render"?"true":void 0});return Q&&!H?k.createElement(k.Fragment,null,D,k.createElement(PD,{page:Y})):D});qx.displayName="Link";var BD=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:f,children:p,...d},y){let v=Vu(u,{relative:d.relative}),w=wa(),C=k.useContext(Ud),{navigator:M,basename:O}=k.useContext(mi),N=C!=null&&QD(v)&&f===!0,H=M.encodeLocation?M.encodeLocation(v).pathname:v.pathname,X=w.pathname,Y=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(X=X.toLowerCase(),Y=Y?Y.toLowerCase():null,H=H.toLowerCase()),Y&&O&&(Y=dr(Y,O)||Y);const Q=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let re=X===H||!a&&X.startsWith(H)&&X.charAt(Q)==="/",ce=Y!=null&&(Y===H||!a&&Y.startsWith(H)&&Y.charAt(H.length)==="/"),I={isActive:re,isPending:ce,isTransitioning:N},S=re?e:void 0,D;typeof s=="function"?D=s(I):D=[s,re?"active":null,ce?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(I):l;return k.createElement(qx,{...d,"aria-current":S,className:D,ref:y,style:j,to:u,viewTransition:f},typeof p=="function"?p(I):p)});BD.displayName="NavLink";var FD=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=jf,action:f,onSubmit:p,relative:d,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:w,...C},M)=>{let{unstable_useTransitions:O}=k.useContext(mi),N=KD(),H=YD(f,{relative:d}),X=u.toLowerCase()==="get"?"get":"post",Y=typeof f=="string"&&Fx.test(f),Q=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let ce=re.nativeEvent.submitter,I=ce?.getAttribute("formmethod")||u,S=()=>N(ce||re.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:a,state:l,relative:d,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:w});O&&n!==!1?k.startTransition(()=>S()):S()};return k.createElement("form",{ref:M,method:X,action:H,onSubmit:s?p:Q,...C,"data-discover":!Y&&t==="render"?"true":void 0})});FD.displayName="Form";function qD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hx(t){let e=k.useContext(jl);return Dt(e,qD(t)),e}function HD(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let d=zd(),y=wa(),v=Vu(t,{relative:l});return k.useCallback(w=>{if(TD(w,e)){w.preventDefault();let C=n!==void 0?n:bu(y)===bu(v),M=()=>d(t,{replace:C,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f});p?k.startTransition(()=>M()):M()}},[y,d,v,n,s,e,t,a,l,u,f,p])}var GD=0,$D=()=>`__${String(++GD)}__`;function KD(){let{router:t}=Hx("useSubmit"),{basename:e}=k.useContext(mi),n=hD(),s=t.fetch,a=t.navigate;return k.useCallback(async(l,u={})=>{let{action:f,method:p,encType:d,formData:y,body:v}=xD(l,e);if(u.navigate===!1){let w=u.fetcherKey||$D();await s(w,n,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||p,formEncType:u.encType||d,flushSync:u.flushSync})}else await a(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||p,formEncType:u.encType||d,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function YD(t,{relative:e}={}){let{basename:n}=k.useContext(mi),s=k.useContext(rs);Dt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Vu(t||".",{relative:e})},u=wa();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(y=>y==="")){f.delete("index"),p.filter(v=>v).forEach(v=>f.append("index",v));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:cr([n,l.pathname])),bu(l)}function QD(t,{relative:e}={}){let n=k.useContext(Mx);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Hx("useViewTransitionState"),a=Vu(t,{relative:e});if(!n.isTransitioning)return!1;let l=dr(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=dr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return td(a.pathname,u)!=null||td(a.pathname,l)!=null}const XD="modulepreload",WD=function(t){return"/"+t},pw={},ty=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let p=function(d){return Promise.all(d.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");a=p(n.map(d=>{if(d=WD(d),d in pw)return;pw[d]=!0;const y=d.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":XD,y||(w.as="script"),w.crossOrigin="",w.href=d,f&&w.setAttribute("nonce",f),document.head.appendChild(w),y)return new Promise((C,M)=>{w.addEventListener("load",C),w.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})},ZD=()=>{};var gw={};const Gx=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},JD=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},$x={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,p=a+2<t.length,d=p?t[a+2]:0,y=l>>2,v=(l&3)<<4|f>>4;let w=(f&15)<<2|d>>6,C=d&63;p||(C=64,u||(w=64)),s.push(n[y],n[v],n[w],n[C])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Gx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const d=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||d==null||v==null)throw new ek;const w=l<<2|f>>4;if(s.push(w),d!==64){const C=f<<4&240|d>>2;if(s.push(C),v!==64){const M=d<<6&192|v;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ek extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tk=function(t){const e=Gx(t);return $x.encodeByteArray(e,!0)},nd=function(t){return tk(t).replace(/\./g,"")},Kx=function(t){try{return $x.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ik=()=>nk().__FIREBASE_DEFAULTS__,sk=()=>{if(typeof process>"u"||typeof gw>"u")return;const t=gw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Kx(t[1]);return e&&JSON.parse(e)},Fd=()=>{try{return ZD()||ik()||sk()||rk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Yx=t=>Fd()?.emulatorHosts?.[t],Qx=t=>{const e=Yx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Xx=()=>Fd()?.config,Wx=t=>Fd()?.[`_${t}`];class ak{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function bo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rv(t){return(await fetch(t,{credentials:"include"})).ok}function Zx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[nd(JSON.stringify(n)),nd(JSON.stringify(u)),""].join(".")}const ou={};function ok(){const t={prod:[],emulator:[]};for(const e of Object.keys(ou))ou[e]?t.emulator.push(e):t.prod.push(e);return t}function lk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let yw=!1;function av(t,e){if(typeof window>"u"||typeof document>"u"||!bo(window.location.host)||ou[t]===e||ou[t]||yw)return;ou[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=ok().prod.length>0;function u(){const w=document.getElementById(s);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,C){w.setAttribute("width","24"),w.setAttribute("id",C),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function d(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{yw=!0,u()},w}function y(w,C){w.setAttribute("id",C),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=lk(s),C=n("text"),M=document.getElementById(C)||document.createElement("span"),O=n("learnmore"),N=document.getElementById(O)||document.createElement("a"),H=n("preprendIcon"),X=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Y=w.element;f(Y),y(N,O);const Q=d();p(X,H),Y.append(X,M,N,Q),document.body.appendChild(Y)}l?(M.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ck(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function uk(){const t=Fd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mk(){const t=kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pk(){return!uk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gk(){try{return typeof indexedDB=="object"}catch{return!1}}function yk(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const vk="FirebaseError";class Os extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=vk,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pu.prototype.create)}}class Pu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?_k(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Os(a,f,s)}}function _k(t,e){return t.replace(bk,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const bk=/\{\$([^}]+)}/g;function Tk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(vw(l)&&vw(u)){if(!mo(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function vw(t){return t!==null&&typeof t=="object"}function Ou(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function wk(t,e){const n=new Ek(t,e);return n.subscribe.bind(n)}class Ek{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");xk(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=_g),a.error===void 0&&(a.error=_g),a.complete===void 0&&(a.complete=_g);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _g(){}function un(t){return t&&t._delegate?t._delegate:t}class da{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const so="[DEFAULT]";class Sk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new ak;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ck(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ak(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ak(t){return t===so?void 0:t}function Ck(t){return t.instantiationMode==="EAGER"}class Rk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Sk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const Ik={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},Nk=We.INFO,Dk={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},kk=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=Dk[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ov{constructor(e){this.name=e,this._logLevel=Nk,this._logHandler=kk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ik[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const Mk=(t,e)=>e.some(n=>t instanceof n);let _w,bw;function Vk(){return _w||(_w=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pk(){return bw||(bw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jx=new WeakMap,ny=new WeakMap,eS=new WeakMap,bg=new WeakMap,lv=new WeakMap;function Ok(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(la(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Jx.set(n,t)}).catch(()=>{}),lv.set(e,t),e}function Lk(t){if(ny.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});ny.set(t,e)}let iy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ny.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return la(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jk(t){iy=t(iy)}function Uk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Tg(this),e,...n);return eS.set(s,e.sort?e.sort():[e]),la(s)}:Pk().includes(t)?function(...e){return t.apply(Tg(this),e),la(Jx.get(this))}:function(...e){return la(t.apply(Tg(this),e))}}function zk(t){return typeof t=="function"?Uk(t):(t instanceof IDBTransaction&&Lk(t),Mk(t,Vk())?new Proxy(t,iy):t)}function la(t){if(t instanceof IDBRequest)return Ok(t);if(bg.has(t))return bg.get(t);const e=zk(t);return e!==t&&(bg.set(t,e),lv.set(e,t)),e}const Tg=t=>lv.get(t);function Bk(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=la(u);return s&&u.addEventListener("upgradeneeded",p=>{s(la(u.result),p.oldVersion,p.newVersion,la(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}const Fk=["get","getKey","getAll","getAllKeys","count"],qk=["put","add","delete","clear"],wg=new Map;function Tw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wg.get(e))return wg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=qk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Fk.includes(n)))return;const l=async function(u,...f){const p=this.transaction(u,a?"readwrite":"readonly");let d=p.store;return s&&(d=d.index(f.shift())),(await Promise.all([d[n](...f),a&&p.done]))[0]};return wg.set(e,l),l}jk(t=>({...t,get:(e,n,s)=>Tw(e,n)||t.get(e,n,s),has:(e,n)=>!!Tw(e,n)||t.has(e,n)}));class Hk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Gk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Gk(t){return t.getComponent()?.type==="VERSION"}const sy="@firebase/app",ww="0.14.7";const mr=new ov("@firebase/app"),$k="@firebase/app-compat",Kk="@firebase/analytics-compat",Yk="@firebase/analytics",Qk="@firebase/app-check-compat",Xk="@firebase/app-check",Wk="@firebase/auth",Zk="@firebase/auth-compat",Jk="@firebase/database",eM="@firebase/data-connect",tM="@firebase/database-compat",nM="@firebase/functions",iM="@firebase/functions-compat",sM="@firebase/installations",rM="@firebase/installations-compat",aM="@firebase/messaging",oM="@firebase/messaging-compat",lM="@firebase/performance",cM="@firebase/performance-compat",uM="@firebase/remote-config",hM="@firebase/remote-config-compat",fM="@firebase/storage",dM="@firebase/storage-compat",mM="@firebase/firestore",pM="@firebase/ai",gM="@firebase/firestore-compat",yM="firebase",vM="12.8.0";const ry="[DEFAULT]",_M={[sy]:"fire-core",[$k]:"fire-core-compat",[Yk]:"fire-analytics",[Kk]:"fire-analytics-compat",[Xk]:"fire-app-check",[Qk]:"fire-app-check-compat",[Wk]:"fire-auth",[Zk]:"fire-auth-compat",[Jk]:"fire-rtdb",[eM]:"fire-data-connect",[tM]:"fire-rtdb-compat",[nM]:"fire-fn",[iM]:"fire-fn-compat",[sM]:"fire-iid",[rM]:"fire-iid-compat",[aM]:"fire-fcm",[oM]:"fire-fcm-compat",[lM]:"fire-perf",[cM]:"fire-perf-compat",[uM]:"fire-rc",[hM]:"fire-rc-compat",[fM]:"fire-gcs",[dM]:"fire-gcs-compat",[mM]:"fire-fst",[gM]:"fire-fst-compat",[pM]:"fire-vertex","fire-js":"fire-js",[yM]:"fire-js-all"};const id=new Map,bM=new Map,ay=new Map;function Ew(t,e){try{t.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function po(t){const e=t.name;if(ay.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;ay.set(e,t);for(const n of id.values())Ew(n,t);for(const n of bM.values())Ew(n,t);return!0}function qd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pi(t){return t==null?!1:t.settings!==void 0}const TM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new Pu("app","Firebase",TM);class wM{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}const To=vM;function tS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:ry,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw ca.create("bad-app-name",{appName:String(a)});if(n||(n=Xx()),!n)throw ca.create("no-options");const l=id.get(a);if(l){if(mo(n,l.options)&&mo(s,l.config))return l;throw ca.create("duplicate-app",{appName:a})}const u=new Rk(a);for(const p of ay.values())u.addComponent(p);const f=new wM(n,s,u);return id.set(a,f),f}function cv(t=ry){const e=id.get(t);if(!e&&t===ry&&Xx())return tS();if(!e)throw ca.create("no-app",{appName:t});return e}function Ss(t,e,n){let s=_M[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(u.join(" "));return}po(new da(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const EM="firebase-heartbeat-database",xM=1,Tu="firebase-heartbeat-store";let Eg=null;function nS(){return Eg||(Eg=Bk(EM,xM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ca.create("idb-open",{originalErrorMessage:t.message})})),Eg}async function SM(t){try{const n=(await nS()).transaction(Tu),s=await n.objectStore(Tu).get(iS(t));return await n.done,s}catch(e){if(e instanceof Os)mr.warn(e.message);else{const n=ca.create("idb-get",{originalErrorMessage:e?.message});mr.warn(n.message)}}}async function xw(t,e){try{const s=(await nS()).transaction(Tu,"readwrite");await s.objectStore(Tu).put(e,iS(t)),await s.done}catch(n){if(n instanceof Os)mr.warn(n.message);else{const s=ca.create("idb-set",{originalErrorMessage:n?.message});mr.warn(s.message)}}}function iS(t){return`${t.name}!${t.options.appId}`}const AM=1024,CM=30;class RM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Sw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>CM){const a=DM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Sw(),{heartbeatsToSend:n,unsentEntries:s}=IM(this._heartbeatsCache.heartbeats),a=nd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return mr.warn(e),""}}}function Sw(){return new Date().toISOString().substring(0,10)}function IM(t,e=AM){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Aw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Aw(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class NM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gk()?yk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Aw(t){return nd(JSON.stringify({version:2,heartbeats:t})).length}function DM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function kM(t){po(new da("platform-logger",e=>new Hk(e),"PRIVATE")),po(new da("heartbeat",e=>new RM(e),"PRIVATE")),Ss(sy,ww,t),Ss(sy,ww,"esm2020"),Ss("fire-js","")}kM("");var MM="firebase",VM="12.8.0";Ss(MM,VM,"app");function sS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PM=sS,rS=new Pu("auth","Firebase",sS());const sd=new ov("@firebase/auth");function OM(t,...e){sd.logLevel<=We.WARN&&sd.warn(`Auth (${To}): ${t}`,...e)}function zf(t,...e){sd.logLevel<=We.ERROR&&sd.error(`Auth (${To}): ${t}`,...e)}function Ds(t,...e){throw hv(t,...e)}function ns(t,...e){return hv(t,...e)}function uv(t,e,n){const s={...PM(),[e]:n};return new Pu("auth","Firebase",s).create(e,{appName:t.name})}function uo(t){return uv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function LM(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ds(t,"argument-error"),uv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hv(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return rS.create(t,...e)}function Pe(t,e,...n){if(!t)throw hv(e,...n)}function or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zf(e),new Error(e)}function pr(t,e){t||or(e)}function oy(){return typeof self<"u"&&self.location?.href||""}function jM(){return Cw()==="http:"||Cw()==="https:"}function Cw(){return typeof self<"u"&&self.location?.protocol||null}function UM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jM()||fk()||"connection"in navigator)?navigator.onLine:!0}function zM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=ck()||dk()}get(){return UM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fv(t,e){pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class aS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const BM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const FM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qM=new Lu(3e4,6e4);function dv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function zl(t,e,n,s,a={}){return oS(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=Ou({key:t.config.apiKey,...u}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:p,...l};return hk()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&bo(t.emulatorConfig.host)&&(d.credentials="include"),aS.fetch()(await lS(t,t.config.apiHost,n,f),d)})}async function oS(t,e,n){t._canInitEmulator=!1;const s={...BM,...e};try{const a=new GM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw xf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[p,d]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw xf(t,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw xf(t,"email-already-in-use",u);if(p==="USER_DISABLED")throw xf(t,"user-disabled",u);const y=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw uv(t,y,d);Ds(t,y)}}catch(a){if(a instanceof Os)throw a;Ds(t,"network-request-failed",{message:String(a)})}}async function HM(t,e,n,s,a={}){const l=await zl(t,e,n,s,a);return"mfaPendingCredential"in l&&Ds(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function lS(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?fv(t.config,a):`${t.config.apiScheme}://${a}`;return FM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class GM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ns(this.auth,"network-request-failed")),qM.get())})}}function xf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=ns(t,e,s);return a.customData._tokenResponse=n,a}async function $M(t,e){return zl(t,"POST","/v1/accounts:delete",e)}async function rd(t,e){return zl(t,"POST","/v1/accounts:lookup",e)}function lu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KM(t,e=!1){const n=un(t),s=await n.getIdToken(e),a=mv(s);Pe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:lu(xg(a.auth_time)),issuedAtTime:lu(xg(a.iat)),expirationTime:lu(xg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function xg(t){return Number(t)*1e3}function mv(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return zf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Kx(n);return a?JSON.parse(a):(zf("Failed to decode base64 JWT payload"),null)}catch(a){return zf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Rw(t){const e=mv(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Os&&YM(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function YM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class QM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ly{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ad(t){const e=t.auth,n=await t.getIdToken(),s=await wu(t,rd(e,{idToken:n}));Pe(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?cS(a.providerUserInfo):[],u=WM(t.providerData,l),f=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!u?.length,d=f?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new ly(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,y)}async function XM(t){const e=un(t);await ad(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WM(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function cS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function ZM(t,e){const n=await oS(t,{},async()=>{const s=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await lS(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:s};return t.emulatorConfig&&bo(t.emulatorConfig.host)&&(p.credentials="include"),aS.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JM(t,e){return zl(t,"POST","/v2/accounts:revokeToken",dv(t,e))}class wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=Rw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await ZM(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new wl;return s&&(Pe(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Pe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Pe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wl,this.toJSON())}_performRefresh(){return or("not implemented")}}function ea(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class es{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new QM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ly(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await wu(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KM(this,e)}reload(){return XM(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new es({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ad(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pi(this.auth.app))return Promise.reject(uo(this.auth));const e=await this.getIdToken();return await wu(this,$M(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,p=n._redirectEventId??void 0,d=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:C,providerData:M,stsTokenManager:O}=n;Pe(v&&O,e,"internal-error");const N=wl.fromJSON(this.name,O);Pe(typeof v=="string",e,"internal-error"),ea(s,e.name),ea(a,e.name),Pe(typeof w=="boolean",e,"internal-error"),Pe(typeof C=="boolean",e,"internal-error"),ea(l,e.name),ea(u,e.name),ea(f,e.name),ea(p,e.name),ea(d,e.name),ea(y,e.name);const H=new es({uid:v,auth:e,email:a,emailVerified:w,displayName:s,isAnonymous:C,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:N,createdAt:d,lastLoginAt:y});return M&&Array.isArray(M)&&(H.providerData=M.map(X=>({...X}))),p&&(H._redirectEventId=p),H}static async _fromIdTokenResponse(e,n,s=!1){const a=new wl;a.updateFromServerResponse(n);const l=new es({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await ad(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Pe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?cS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new wl;f.updateFromIdToken(s);const p=new es({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ly(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,d),p}}const Iw=new Map;function lr(t){pr(t instanceof Function,"Expected a class definition");let e=Iw.get(t);return e?(pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Iw.set(t,e),e)}class uS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uS.type="NONE";const Nw=uS;function Bf(t,e,n){return`firebase:${t}:${e}:${n}`}class El{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Bf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Bf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rd(this.auth,{idToken:e}).catch(()=>{});return n?es._fromGetAccountInfoResponse(this.auth,n,e):null}return es._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new El(lr(Nw),e,s);const a=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let l=a[0]||lr(Nw);const u=Bf(s,e.config.apiKey,e.name);let f=null;for(const d of n)try{const y=await d._get(u);if(y){let v;if(typeof y=="string"){const w=await rd(e,{idToken:y}).catch(()=>{});if(!w)break;v=await es._fromGetAccountInfoResponse(e,w,y)}else v=es._fromJSON(e,y);d!==l&&(f=v),l=d;break}}catch{}const p=a.filter(d=>d._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new El(l,e,s):(l=p[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async d=>{if(d!==l)try{await d._remove(u)}catch{}})),new El(l,e,s))}}function Dw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gS(e))return"Blackberry";if(yS(e))return"Webos";if(fS(e))return"Safari";if((e.includes("chrome/")||dS(e))&&!e.includes("edge/"))return"Chrome";if(pS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function hS(t=kn()){return/firefox\//i.test(t)}function fS(t=kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dS(t=kn()){return/crios\//i.test(t)}function mS(t=kn()){return/iemobile/i.test(t)}function pS(t=kn()){return/android/i.test(t)}function gS(t=kn()){return/blackberry/i.test(t)}function yS(t=kn()){return/webos/i.test(t)}function pv(t=kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function eV(t=kn()){return pv(t)&&!!window.navigator?.standalone}function tV(){return mk()&&document.documentMode===10}function vS(t=kn()){return pv(t)||pS(t)||yS(t)||gS(t)||/windows phone/i.test(t)||mS(t)}function _S(t,e=[]){let n;switch(t){case"Browser":n=Dw(kn());break;case"Worker":n=`${Dw(kn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${s}`}class nV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const p=e(l);u(p)}catch(p){f(p)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function iV(t,e={}){return zl(t,"GET","/v2/passwordPolicy",dv(t,e))}const sV=6;class rV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class aV{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kw(this),this.idTokenSubscription=new kw(this),this.beforeStateQueue=new nV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await El.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rd(this,{idToken:e}),s=await es._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ad(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pi(this.app))return Promise.reject(uo(this));const n=e?un(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pi(this.app)?Promise.reject(uo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pi(this.app)?Promise.reject(uo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iV(this),n=new rV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await JM(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await El.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,a);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_S(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&OM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Hd(t){return un(t)}class kw{constructor(e){this.auth=e,this.observer=null,this.addObserver=wk(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oV(t){gv=t}function lV(t){return gv.loadJS(t)}function cV(){return gv.gapiScript}function uV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function hV(t,e){const n=qd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(mo(l,e??{}))return a;Ds(a,"already-initialized")}return n.initialize({options:e})}function fV(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(lr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function dV(t,e,n){const s=Hd(t);Pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=bS(e),{host:u,port:f}=mV(e),p=f===null?"":`:${f}`,d={url:`${l}//${u}${p}/`},y=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Pe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Pe(mo(d,s.config.emulator)&&mo(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,bo(u)?(rv(`${l}//${u}${p}`),av("Auth",!0)):pV()}function bS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mV(t){const e=bS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Mw(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:Mw(u)}}}function Mw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class TS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function xl(t,e){return HM(t,"POST","/v1/accounts:signInWithIdp",dv(t,e))}const gV="http://localhost";class go extends TS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new go(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ds("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new go(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return xl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,xl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xl(e,n)}buildRequest(){const e={requestUri:gV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ou(n)}return e}}class yv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ju extends yv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ia extends ju{constructor(){super("facebook.com")}static credential(e){return go._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";class ar extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return go._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ar.credential(n,s)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";class sa extends ju{constructor(){super("github.com")}static credential(e){return go._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sa.credential(e.oauthAccessToken)}catch{return null}}}sa.GITHUB_SIGN_IN_METHOD="github.com";sa.PROVIDER_ID="github.com";class ra extends ju{constructor(){super("twitter.com")}static credential(e,n){return go._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ra.credential(n,s)}catch{return null}}}ra.TWITTER_SIGN_IN_METHOD="twitter.com";ra.PROVIDER_ID="twitter.com";class Rl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await es._fromIdTokenResponse(e,s,a),u=Vw(s);return new Rl({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=Vw(s);return new Rl({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function Vw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class od extends Os{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,od.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new od(e,n,s,a)}}function wS(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?od._fromErrorAndOperation(t,l,e,s):l})}async function yV(t,e,n=!1){const s=await wu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Rl._forOperation(t,"link",s)}async function vV(t,e,n=!1){const{auth:s}=t;if(Pi(s.app))return Promise.reject(uo(s));const a="reauthenticate";try{const l=await wu(t,wS(s,a,e,t),n);Pe(l.idToken,s,"internal-error");const u=mv(l.idToken);Pe(u,s,"internal-error");const{sub:f}=u;return Pe(t.uid===f,s,"user-mismatch"),Rl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ds(s,"user-mismatch"),l}}async function _V(t,e,n=!1){if(Pi(t.app))return Promise.reject(uo(t));const s="signIn",a=await wS(t,s,e),l=await Rl._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}function bV(t,e,n,s){return un(t).onIdTokenChanged(e,n,s)}function TV(t,e,n){return un(t).beforeAuthStateChanged(e,n)}function wV(t,e,n,s){return un(t).onAuthStateChanged(e,n,s)}function EV(t){return un(t).signOut()}const ld="__sak";class ES{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ld,"1"),this.storage.removeItem(ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const xV=1e3,SV=10;class xS extends ES{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);tV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,SV):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},xV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xS.type="LOCAL";const AV=xS;class SS extends ES{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SS.type="SESSION";const AS=SS;function CV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Gd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async d=>d(n.origin,l)),p=await CV(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gd.receivers=[];function vv(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class RV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,p)=>{const d=vv("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(v){const w=v;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(w.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function As(){return window}function IV(t){As().location.href=t}function CS(){return typeof As().WorkerGlobalScope<"u"&&typeof As().importScripts=="function"}async function NV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DV(){return navigator?.serviceWorker?.controller||null}function kV(){return CS()?self:null}const RS="firebaseLocalStorageDb",MV=1,cd="firebaseLocalStorage",IS="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $d(t,e){return t.transaction([cd],e?"readwrite":"readonly").objectStore(cd)}function VV(){const t=indexedDB.deleteDatabase(RS);return new Uu(t).toPromise()}function cy(){const t=indexedDB.open(RS,MV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(cd,{keyPath:IS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(cd)?e(s):(s.close(),await VV(),e(await cy()))})})}async function Pw(t,e,n){const s=$d(t,!0).put({[IS]:e,value:n});return new Uu(s).toPromise()}async function PV(t,e){const n=$d(t,!1).get(e),s=await new Uu(n).toPromise();return s===void 0?null:s.value}function Ow(t,e){const n=$d(t,!0).delete(e);return new Uu(n).toPromise()}const OV=800,LV=3;class NS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>LV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gd._getInstance(kV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await NV(),!this.activeServiceWorker)return;this.sender=new RV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cy();return await Pw(e,ld,"1"),await Ow(e,ld),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Pw(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>PV(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ow(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=$d(a,!1).getAll();return new Uu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NS.type="LOCAL";const jV=NS;new Lu(3e4,6e4);function DS(t,e){return e?lr(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class _v extends TS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function UV(t){return _V(t.auth,new _v(t),t.bypassAuthState)}function zV(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),vV(n,new _v(t),t.bypassAuthState)}async function BV(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),yV(n,new _v(t),t.bypassAuthState)}class kS{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UV;case"linkViaPopup":case"linkViaRedirect":return BV;case"reauthViaPopup":case"reauthViaRedirect":return zV;default:Ds(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const FV=new Lu(2e3,1e4);async function qV(t,e,n){if(Pi(t.app))return Promise.reject(ns(t,"operation-not-supported-in-this-environment"));const s=Hd(t);LM(t,e,yv);const a=DS(s,n);return new ao(s,"signInViaPopup",e,a).executeNotNull()}class ao extends kS{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=vv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FV.get())};e()}}ao.currentPopupAction=null;const HV="pendingRedirect",Ff=new Map;class GV extends kS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ff.get(this.auth._key());if(!e){try{const s=await $V(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ff.set(this.auth._key(),e)}return this.bypassAuthState||Ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $V(t,e){const n=QV(e),s=YV(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function KV(t,e){Ff.set(t._key(),e)}function YV(t){return lr(t._redirectPersistence)}function QV(t){return Bf(HV,t.config.apiKey,t.name)}async function XV(t,e,n=!1){if(Pi(t.app))return Promise.reject(uo(t));const s=Hd(t),a=DS(s,e),u=await new GV(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const WV=600*1e3;class ZV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!MS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ns(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lw(e))}saveEventToCache(e){this.cachedEventUids.add(Lw(e)),this.lastProcessedEventTime=Date.now()}}function Lw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function JV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MS(t);default:return!1}}async function eP(t,e={}){return zl(t,"GET","/v1/projects",e)}const tP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nP=/^https?/;async function iP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eP(t);for(const n of e)try{if(sP(n))return}catch{}Ds(t,"unauthorized-domain")}function sP(t){const e=oy(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!nP.test(n))return!1;if(tP.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const rP=new Lu(3e4,6e4);function jw(){const t=As().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aP(t){return new Promise((e,n)=>{function s(){jw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jw(),n(ns(t,"network-request-failed"))},timeout:rP.get()})}if(As().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(As().gapi?.load)s();else{const a=uV("iframefcb");return As()[a]=()=>{gapi.load?s():n(ns(t,"network-request-failed"))},lV(`${cV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw qf=null,e})}let qf=null;function oP(t){return qf=qf||aP(t),qf}const lP=new Lu(5e3,15e3),cP="__/auth/iframe",uP="emulator/auth/iframe",hP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dP(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fv(e,uP):`https://${t.config.authDomain}/${cP}`,s={apiKey:e.apiKey,appName:t.name,v:To},a=fP.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Ou(s).slice(1)}`}async function mP(t){const e=await oP(t),n=As().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:dP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hP,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=ns(t,"network-request-failed"),f=As().setTimeout(()=>{l(u)},lP.get());function p(){As().clearTimeout(f),a(s)}s.ping(p).then(p,()=>{l(u)})}))}const pP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gP=500,yP=600,vP="_blank",_P="http://localhost";class Uw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bP(t,e,n,s=gP,a=yP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p={...pP,width:s.toString(),height:a.toString(),top:l,left:u},d=kn().toLowerCase();n&&(f=dS(d)?vP:n),hS(d)&&(e=e||_P,p.scrollbars="yes");const y=Object.entries(p).reduce((w,[C,M])=>`${w}${C}=${M},`,"");if(eV(d)&&f!=="_self")return TP(e||"",f),new Uw(null);const v=window.open(e||"",f,y);Pe(v,t,"popup-blocked");try{v.focus()}catch{}return new Uw(v)}function TP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const wP="__/auth/handler",EP="emulator/auth/handler",xP=encodeURIComponent("fac");async function zw(t,e,n,s,a,l){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:To,eventId:a};if(e instanceof yv){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",Tk(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof ju){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const p=await t._getAppCheckToken(),d=p?`#${xP}=${encodeURIComponent(p)}`:"";return`${SP(t)}?${Ou(f).slice(1)}${d}`}function SP({config:t}){return t.emulator?fv(t,EP):`https://${t.authDomain}/${wP}`}const Sg="webStorageSupport";class AP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AS,this._completeRedirectFn=XV,this._overrideRedirectResult=KV}async _openPopup(e,n,s,a){pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await zw(e,n,s,oy(),a);return bP(e,l,vv())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await zw(e,n,s,oy(),a);return IV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(pr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await mP(e),s=new ZV(e);return n.register("authEvent",a=>(Pe(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sg,{type:Sg},a=>{const l=a?.[0]?.[Sg];l!==void 0&&n(!!l),Ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vS()||fS()||pv()}}const CP=AP;var Bw="@firebase/auth",Fw="1.12.0";class RP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function IP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NP(t){po(new da("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;Pe(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_S(t)},d=new aV(s,a,l,p);return fV(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),po(new da("auth-internal",e=>{const n=Hd(e.getProvider("auth").getImmediate());return(s=>new RP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(Bw,Fw,IP(t)),Ss(Bw,Fw,"esm2020")}const DP=300,kP=Wx("authIdTokenMaxAge")||DP;let qw=null;const MP=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>kP)return;const a=n?.token;qw!==a&&(qw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function VP(t=cv()){const e=qd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hV(t,{popupRedirectResolver:CP,persistence:[jV,AV,AS]}),s=Wx("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=MP(l.toString());TV(n,u,()=>u(n.currentUser)),bV(n,f=>u(f))}}const a=Yx("auth");return a&&dV(n,`http://${a}`),n}function PP(){return document.getElementsByTagName("head")?.[0]??document}oV({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=ns("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",PP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NP("Browser");var Hw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ua,VS;(function(){var t;function e(I,S){function D(){}D.prototype=S.prototype,I.F=S.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(j,P,z){for(var V=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)V[pe-2]=arguments[pe];return S.prototype[P].apply(j,V)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,S,D){D||(D=0);const j=Array(16);if(typeof S=="string")for(var P=0;P<16;++P)j[P]=S.charCodeAt(D++)|S.charCodeAt(D++)<<8|S.charCodeAt(D++)<<16|S.charCodeAt(D++)<<24;else for(P=0;P<16;++P)j[P]=S[D++]|S[D++]<<8|S[D++]<<16|S[D++]<<24;S=I.g[0],D=I.g[1],P=I.g[2];let z=I.g[3],V;V=S+(z^D&(P^z))+j[0]+3614090360&4294967295,S=D+(V<<7&4294967295|V>>>25),V=z+(P^S&(D^P))+j[1]+3905402710&4294967295,z=S+(V<<12&4294967295|V>>>20),V=P+(D^z&(S^D))+j[2]+606105819&4294967295,P=z+(V<<17&4294967295|V>>>15),V=D+(S^P&(z^S))+j[3]+3250441966&4294967295,D=P+(V<<22&4294967295|V>>>10),V=S+(z^D&(P^z))+j[4]+4118548399&4294967295,S=D+(V<<7&4294967295|V>>>25),V=z+(P^S&(D^P))+j[5]+1200080426&4294967295,z=S+(V<<12&4294967295|V>>>20),V=P+(D^z&(S^D))+j[6]+2821735955&4294967295,P=z+(V<<17&4294967295|V>>>15),V=D+(S^P&(z^S))+j[7]+4249261313&4294967295,D=P+(V<<22&4294967295|V>>>10),V=S+(z^D&(P^z))+j[8]+1770035416&4294967295,S=D+(V<<7&4294967295|V>>>25),V=z+(P^S&(D^P))+j[9]+2336552879&4294967295,z=S+(V<<12&4294967295|V>>>20),V=P+(D^z&(S^D))+j[10]+4294925233&4294967295,P=z+(V<<17&4294967295|V>>>15),V=D+(S^P&(z^S))+j[11]+2304563134&4294967295,D=P+(V<<22&4294967295|V>>>10),V=S+(z^D&(P^z))+j[12]+1804603682&4294967295,S=D+(V<<7&4294967295|V>>>25),V=z+(P^S&(D^P))+j[13]+4254626195&4294967295,z=S+(V<<12&4294967295|V>>>20),V=P+(D^z&(S^D))+j[14]+2792965006&4294967295,P=z+(V<<17&4294967295|V>>>15),V=D+(S^P&(z^S))+j[15]+1236535329&4294967295,D=P+(V<<22&4294967295|V>>>10),V=S+(P^z&(D^P))+j[1]+4129170786&4294967295,S=D+(V<<5&4294967295|V>>>27),V=z+(D^P&(S^D))+j[6]+3225465664&4294967295,z=S+(V<<9&4294967295|V>>>23),V=P+(S^D&(z^S))+j[11]+643717713&4294967295,P=z+(V<<14&4294967295|V>>>18),V=D+(z^S&(P^z))+j[0]+3921069994&4294967295,D=P+(V<<20&4294967295|V>>>12),V=S+(P^z&(D^P))+j[5]+3593408605&4294967295,S=D+(V<<5&4294967295|V>>>27),V=z+(D^P&(S^D))+j[10]+38016083&4294967295,z=S+(V<<9&4294967295|V>>>23),V=P+(S^D&(z^S))+j[15]+3634488961&4294967295,P=z+(V<<14&4294967295|V>>>18),V=D+(z^S&(P^z))+j[4]+3889429448&4294967295,D=P+(V<<20&4294967295|V>>>12),V=S+(P^z&(D^P))+j[9]+568446438&4294967295,S=D+(V<<5&4294967295|V>>>27),V=z+(D^P&(S^D))+j[14]+3275163606&4294967295,z=S+(V<<9&4294967295|V>>>23),V=P+(S^D&(z^S))+j[3]+4107603335&4294967295,P=z+(V<<14&4294967295|V>>>18),V=D+(z^S&(P^z))+j[8]+1163531501&4294967295,D=P+(V<<20&4294967295|V>>>12),V=S+(P^z&(D^P))+j[13]+2850285829&4294967295,S=D+(V<<5&4294967295|V>>>27),V=z+(D^P&(S^D))+j[2]+4243563512&4294967295,z=S+(V<<9&4294967295|V>>>23),V=P+(S^D&(z^S))+j[7]+1735328473&4294967295,P=z+(V<<14&4294967295|V>>>18),V=D+(z^S&(P^z))+j[12]+2368359562&4294967295,D=P+(V<<20&4294967295|V>>>12),V=S+(D^P^z)+j[5]+4294588738&4294967295,S=D+(V<<4&4294967295|V>>>28),V=z+(S^D^P)+j[8]+2272392833&4294967295,z=S+(V<<11&4294967295|V>>>21),V=P+(z^S^D)+j[11]+1839030562&4294967295,P=z+(V<<16&4294967295|V>>>16),V=D+(P^z^S)+j[14]+4259657740&4294967295,D=P+(V<<23&4294967295|V>>>9),V=S+(D^P^z)+j[1]+2763975236&4294967295,S=D+(V<<4&4294967295|V>>>28),V=z+(S^D^P)+j[4]+1272893353&4294967295,z=S+(V<<11&4294967295|V>>>21),V=P+(z^S^D)+j[7]+4139469664&4294967295,P=z+(V<<16&4294967295|V>>>16),V=D+(P^z^S)+j[10]+3200236656&4294967295,D=P+(V<<23&4294967295|V>>>9),V=S+(D^P^z)+j[13]+681279174&4294967295,S=D+(V<<4&4294967295|V>>>28),V=z+(S^D^P)+j[0]+3936430074&4294967295,z=S+(V<<11&4294967295|V>>>21),V=P+(z^S^D)+j[3]+3572445317&4294967295,P=z+(V<<16&4294967295|V>>>16),V=D+(P^z^S)+j[6]+76029189&4294967295,D=P+(V<<23&4294967295|V>>>9),V=S+(D^P^z)+j[9]+3654602809&4294967295,S=D+(V<<4&4294967295|V>>>28),V=z+(S^D^P)+j[12]+3873151461&4294967295,z=S+(V<<11&4294967295|V>>>21),V=P+(z^S^D)+j[15]+530742520&4294967295,P=z+(V<<16&4294967295|V>>>16),V=D+(P^z^S)+j[2]+3299628645&4294967295,D=P+(V<<23&4294967295|V>>>9),V=S+(P^(D|~z))+j[0]+4096336452&4294967295,S=D+(V<<6&4294967295|V>>>26),V=z+(D^(S|~P))+j[7]+1126891415&4294967295,z=S+(V<<10&4294967295|V>>>22),V=P+(S^(z|~D))+j[14]+2878612391&4294967295,P=z+(V<<15&4294967295|V>>>17),V=D+(z^(P|~S))+j[5]+4237533241&4294967295,D=P+(V<<21&4294967295|V>>>11),V=S+(P^(D|~z))+j[12]+1700485571&4294967295,S=D+(V<<6&4294967295|V>>>26),V=z+(D^(S|~P))+j[3]+2399980690&4294967295,z=S+(V<<10&4294967295|V>>>22),V=P+(S^(z|~D))+j[10]+4293915773&4294967295,P=z+(V<<15&4294967295|V>>>17),V=D+(z^(P|~S))+j[1]+2240044497&4294967295,D=P+(V<<21&4294967295|V>>>11),V=S+(P^(D|~z))+j[8]+1873313359&4294967295,S=D+(V<<6&4294967295|V>>>26),V=z+(D^(S|~P))+j[15]+4264355552&4294967295,z=S+(V<<10&4294967295|V>>>22),V=P+(S^(z|~D))+j[6]+2734768916&4294967295,P=z+(V<<15&4294967295|V>>>17),V=D+(z^(P|~S))+j[13]+1309151649&4294967295,D=P+(V<<21&4294967295|V>>>11),V=S+(P^(D|~z))+j[4]+4149444226&4294967295,S=D+(V<<6&4294967295|V>>>26),V=z+(D^(S|~P))+j[11]+3174756917&4294967295,z=S+(V<<10&4294967295|V>>>22),V=P+(S^(z|~D))+j[2]+718787259&4294967295,P=z+(V<<15&4294967295|V>>>17),V=D+(z^(P|~S))+j[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(P+(V<<21&4294967295|V>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+z&4294967295}s.prototype.v=function(I,S){S===void 0&&(S=I.length);const D=S-this.blockSize,j=this.C;let P=this.h,z=0;for(;z<S;){if(P==0)for(;z<=D;)a(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<S;)if(j[P++]=I.charCodeAt(z++),P==this.blockSize){a(this,j),P=0;break}}else for(;z<S;)if(j[P++]=I[z++],P==this.blockSize){a(this,j),P=0;break}}this.h=P,this.o+=S},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,D=0;D<4;++D)for(let j=0;j<32;j+=8)I[S++]=this.g[D]>>>j&255;return I};function l(I,S){var D=f;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=S(I)}function u(I,S){this.h=S;const D=[];let j=!0;for(let P=I.length-1;P>=0;P--){const z=I[P]|0;j&&z==S||(D[P]=z,j=!1)}this.g=D}var f={};function p(I){return-128<=I&&I<128?l(I,function(S){return new u([S|0],S<0?-1:0)}):new u([I|0],I<0?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return N(d(-I));const S=[];let D=1;for(let j=0;I>=D;j++)S[j]=I/D|0,D*=4294967296;return new u(S,0)}function y(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return N(y(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(S,8));let j=v;for(let z=0;z<I.length;z+=8){var P=Math.min(8,I.length-z);const V=parseInt(I.substring(z,z+P),S);P<8?(P=d(Math.pow(S,P)),j=j.j(P).add(d(V))):(j=j.j(D),j=j.add(d(V)))}return j}var v=p(0),w=p(1),C=p(16777216);t=u.prototype,t.m=function(){if(O(this))return-N(this).m();let I=0,S=1;for(let D=0;D<this.g.length;D++){const j=this.i(D);I+=(j>=0?j:4294967296+j)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(O(this))return"-"+N(this).toString(I);const S=d(Math.pow(I,6));var D=this;let j="";for(;;){const P=Q(D,S).g;D=H(D,P.j(S));let z=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=P,M(D))return z+j;for(;z.length<6;)z="0"+z;j=z+j}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function O(I){return I.h==-1}t.l=function(I){return I=H(this,I),O(I)?-1:M(I)?0:1};function N(I){const S=I.g.length,D=[];for(let j=0;j<S;j++)D[j]=~I.g[j];return new u(D,~I.h).add(w)}t.abs=function(){return O(this)?N(this):this},t.add=function(I){const S=Math.max(this.g.length,I.g.length),D=[];let j=0;for(let P=0;P<=S;P++){let z=j+(this.i(P)&65535)+(I.i(P)&65535),V=(z>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);j=V>>>16,z&=65535,V&=65535,D[P]=V<<16|z}return new u(D,D[D.length-1]&-2147483648?-1:0)};function H(I,S){return I.add(N(S))}t.j=function(I){if(M(this)||M(I))return v;if(O(this))return O(I)?N(this).j(N(I)):N(N(this).j(I));if(O(I))return N(this.j(N(I)));if(this.l(C)<0&&I.l(C)<0)return d(this.m()*I.m());const S=this.g.length+I.g.length,D=[];for(var j=0;j<2*S;j++)D[j]=0;for(j=0;j<this.g.length;j++)for(let P=0;P<I.g.length;P++){const z=this.i(j)>>>16,V=this.i(j)&65535,pe=I.i(P)>>>16,ye=I.i(P)&65535;D[2*j+2*P]+=V*ye,X(D,2*j+2*P),D[2*j+2*P+1]+=z*ye,X(D,2*j+2*P+1),D[2*j+2*P+1]+=V*pe,X(D,2*j+2*P+1),D[2*j+2*P+2]+=z*pe,X(D,2*j+2*P+2)}for(I=0;I<S;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=S;I<2*S;I++)D[I]=0;return new u(D,0)};function X(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function Y(I,S){this.g=I,this.h=S}function Q(I,S){if(M(S))throw Error("division by zero");if(M(I))return new Y(v,v);if(O(I))return S=Q(N(I),S),new Y(N(S.g),N(S.h));if(O(S))return S=Q(I,N(S)),new Y(N(S.g),S.h);if(I.g.length>30){if(O(I)||O(S))throw Error("slowDivide_ only works with positive integers.");for(var D=w,j=S;j.l(I)<=0;)D=re(D),j=re(j);var P=ce(D,1),z=ce(j,1);for(j=ce(j,2),D=ce(D,2);!M(j);){var V=z.add(j);V.l(I)<=0&&(P=P.add(D),z=V),j=ce(j,1),D=ce(D,1)}return S=H(I,P.j(S)),new Y(P,S)}for(P=v;I.l(S)>=0;){for(D=Math.max(1,Math.floor(I.m()/S.m())),j=Math.ceil(Math.log(D)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),z=d(D),V=z.j(S);O(V)||V.l(I)>0;)D-=j,z=d(D),V=z.j(S);M(z)&&(z=w),P=P.add(z),I=H(I,V)}return new Y(P,I)}t.B=function(I){return Q(this,I).h},t.and=function(I){const S=Math.max(this.g.length,I.g.length),D=[];for(let j=0;j<S;j++)D[j]=this.i(j)&I.i(j);return new u(D,this.h&I.h)},t.or=function(I){const S=Math.max(this.g.length,I.g.length),D=[];for(let j=0;j<S;j++)D[j]=this.i(j)|I.i(j);return new u(D,this.h|I.h)},t.xor=function(I){const S=Math.max(this.g.length,I.g.length),D=[];for(let j=0;j<S;j++)D[j]=this.i(j)^I.i(j);return new u(D,this.h^I.h)};function re(I){const S=I.g.length+1,D=[];for(let j=0;j<S;j++)D[j]=I.i(j)<<1|I.i(j-1)>>>31;return new u(D,I.h)}function ce(I,S){const D=S>>5;S%=32;const j=I.g.length-D,P=[];for(let z=0;z<j;z++)P[z]=S>0?I.i(z+D)>>>S|I.i(z+D+1)<<32-S:I.i(z+D);return new u(P,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,VS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=y,ua=u}).apply(typeof Hw<"u"?Hw:typeof self<"u"?self:typeof window<"u"?window:{});var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var PS,nu,OS,Hf,uy,LS,jS,US;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sf=="object"&&Sf];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var E=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var W=h[R];if(!(W in E))break e;E=E[W]}h=h[h.length-1],R=E[h],_=_(R),_!=R&&_!=null&&e(E,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var E=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&E.push([R,_[R]]);return E}});var l=l||{},u=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,E){return h.call.apply(h.bind,arguments)}function d(h,_,E){return d=p,d.apply(null,arguments)}function y(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function v(h,_){function E(){}E.prototype=_.prototype,h.Z=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(R,W,ie){for(var _e=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)_e[Ue-2]=arguments[Ue];return _.prototype[W].apply(R,_e)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const _=h.length;if(_>0){const E=Array(_);for(let R=0;R<_;R++)E[R]=h[R];return E}return[]}function M(h,_){for(let R=1;R<arguments.length;R++){const W=arguments[R];var E=typeof W;if(E=E!="object"?E:W?Array.isArray(W)?"array":E:"null",E=="array"||E=="object"&&typeof W.length=="number"){E=h.length||0;const ie=W.length||0;h.length=E+ie;for(let _e=0;_e<ie;_e++)h[E+_e]=W[_e]}else h.push(W)}}class O{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(h){u.setTimeout(()=>{throw h},0)}function H(){var h=I;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class X{constructor(){this.h=this.g=null}add(_,E){const R=Y.get();R.set(_,E),this.h?this.h.next=R:this.g=R,this.h=R}}var Y=new O(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ce=!1,I=new X,S=()=>{const h=Promise.resolve(void 0);re=()=>{h.then(D)}};function D(){for(var h;h=H();){try{h.h.call(h.g)}catch(E){N(E)}var _=Y;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ce=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return h})();function V(h){return/^[\s\xa0]*$/.test(h)}function pe(h,_){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}v(pe,P),pe.prototype.init=function(h,_){const E=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(E=="mouseover"?_=h.fromElement:E=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),U=0;function Z(h,_,E,R,W){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!R,this.ha=W,this.key=++U,this.da=this.fa=!1}function q(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function me(h,_,E){for(const R in h)_.call(E,h[R],R,h)}function B(h,_){for(const E in h)_.call(void 0,h[E],E,h)}function x(h){const _={};for(const E in h)_[E]=h[E];return _}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(h,_){let E,R;for(let W=1;W<arguments.length;W++){R=arguments[W];for(E in R)h[E]=R[E];for(let ie=0;ie<$.length;ie++)E=$[ie],Object.prototype.hasOwnProperty.call(R,E)&&(h[E]=R[E])}}function oe(h){this.src=h,this.g={},this.h=0}oe.prototype.add=function(h,_,E,R,W){const ie=h.toString();h=this.g[ie],h||(h=this.g[ie]=[],this.h++);const _e=ve(h,_,R,W);return _e>-1?(_=h[_e],E||(_.fa=!1)):(_=new Z(_,this.src,ie,!!R,W),_.fa=E,h.push(_)),_};function ge(h,_){const E=_.type;if(E in h.g){var R=h.g[E],W=Array.prototype.indexOf.call(R,_,void 0),ie;(ie=W>=0)&&Array.prototype.splice.call(R,W,1),ie&&(q(_),h.g[E].length==0&&(delete h.g[E],h.h--))}}function ve(h,_,E,R){for(let W=0;W<h.length;++W){const ie=h[W];if(!ie.da&&ie.listener==_&&ie.capture==!!E&&ie.ha==R)return W}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),xe={};function Ie(h,_,E,R,W){if(Array.isArray(_)){for(let ie=0;ie<_.length;ie++)Ie(h,_[ie],E,R,W);return null}return E=gn(E),h&&h[ye]?h.J(_,E,f(R)?!!R.capture:!1,W):Ge(h,_,E,!1,R,W)}function Ge(h,_,E,R,W,ie){if(!_)throw Error("Invalid event type");const _e=f(W)?!!W.capture:!!W;let Ue=zt(h);if(Ue||(h[fe]=Ue=new oe(h)),E=Ue.add(_,E,R,_e,ie),E.proxy)return E;if(R=qe(),E.proxy=R,R.src=h,R.listener=E,h.addEventListener)z||(W=_e),W===void 0&&(W=!1),h.addEventListener(_.toString(),R,W);else if(h.attachEvent)h.attachEvent(Ve(_.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function qe(){function h(E){return _.call(h.src,h.listener,E)}const _=lt;return h}function $e(h,_,E,R,W){if(Array.isArray(_))for(var ie=0;ie<_.length;ie++)$e(h,_[ie],E,R,W);else R=f(R)?!!R.capture:!!R,E=gn(E),h&&h[ye]?(h=h.i,ie=String(_).toString(),ie in h.g&&(_=h.g[ie],E=ve(_,E,R,W),E>-1&&(q(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete h.g[ie],h.h--)))):h&&(h=zt(h))&&(_=h.g[_.toString()],h=-1,_&&(h=ve(_,E,R,W)),(E=h>-1?_[h]:null)&&wt(E))}function wt(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ye])ge(_.i,h);else{var E=h.type,R=h.proxy;_.removeEventListener?_.removeEventListener(E,R,h.capture):_.detachEvent?_.detachEvent(Ve(E),R):_.addListener&&_.removeListener&&_.removeListener(R),(E=zt(_))?(ge(E,h),E.h==0&&(E.src=null,_[fe]=null)):q(h)}}}function Ve(h){return h in xe?xe[h]:xe[h]="on"+h}function lt(h,_){if(h.da)h=!0;else{_=new pe(_,this);const E=h.listener,R=h.ha||h.src;h.fa&&wt(h),h=E.call(R,_)}return h}function zt(h){return h=h[fe],h instanceof oe?h:null}var Bt="__closure_events_fn_"+(Math.random()*1e9>>>0);function gn(h){return typeof h=="function"?h:(h[Bt]||(h[Bt]=function(_){return h.handleEvent(_)}),h[Bt])}function ct(){j.call(this),this.i=new oe(this),this.M=this,this.G=null}v(ct,j),ct.prototype[ye]=!0,ct.prototype.removeEventListener=function(h,_,E,R){$e(this,h,_,E,R)};function et(h,_){var E,R=h.G;if(R)for(E=[];R;R=R.G)E.push(R);if(h=h.M,R=_.type||_,typeof _=="string")_=new P(_,h);else if(_ instanceof P)_.target=_.target||h;else{var W=_;_=new P(R,h),ne(_,W)}W=!0;let ie,_e;if(E)for(_e=E.length-1;_e>=0;_e--)ie=_.g=E[_e],W=pi(ie,R,!0,_)&&W;if(ie=_.g=h,W=pi(ie,R,!0,_)&&W,W=pi(ie,R,!1,_)&&W,E)for(_e=0;_e<E.length;_e++)ie=_.g=E[_e],W=pi(ie,R,!1,_)&&W}ct.prototype.N=function(){if(ct.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const E=h.g[_];for(let R=0;R<E.length;R++)q(E[R]);delete h.g[_],h.h--}}this.G=null},ct.prototype.J=function(h,_,E,R){return this.i.add(String(h),_,!1,E,R)},ct.prototype.K=function(h,_,E,R){return this.i.add(String(h),_,!0,E,R)};function pi(h,_,E,R){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let W=!0;for(let ie=0;ie<_.length;++ie){const _e=_[ie];if(_e&&!_e.da&&_e.capture==E){const Ue=_e.listener,Ft=_e.ha||_e.src;_e.fa&&ge(h.i,_e),W=Ue.call(Ft,R)!==!1&&W}}return W&&!R.defaultPrevented}function Ca(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function _r(h){h.g=Ca(()=>{h.g=null,h.i&&(h.i=!1,_r(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Kt extends j{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:_r(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xn(h){j.call(this),this.h=h,this.g={}}v(xn,j);var Mn=[];function Bn(h){me(h.g,function(_,E){this.g.hasOwnProperty(E)&&wt(_)},h),h.g={}}xn.prototype.N=function(){xn.Z.N.call(this),Bn(this)},xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=u.JSON.stringify,js=u.JSON.parse,as=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function os(){}function Bi(){}var it={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kt(){P.call(this,"d")}v(kt,P);function Vn(){P.call(this,"c")}v(Vn,P);var Et={},Us=null;function gi(){return Us=Us||new ct}Et.Ia="serverreachability";function Ra(h){P.call(this,Et.Ia,h)}v(Ra,P);function Jn(h){const _=gi();et(_,new Ra(_))}Et.STAT_EVENT="statevent";function yi(h,_){P.call(this,Et.STAT_EVENT,h),this.stat=_}v(yi,P);function Ot(h){const _=gi();et(_,new yi(_,h))}Et.Ja="timingevent";function ei(h,_){P.call(this,Et.Ja,h),this.size=_}v(ei,P);function vi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Ia(h,_,E,R,W,ie){h.info(function(){if(h.g)if(ie){var _e="",Ue=ie.split("&");for(let at=0;at<Ue.length;at++){var Ft=Ue[at].split("=");if(Ft.length>1){const It=Ft[0];Ft=Ft[1];const xi=It.split("_");_e=xi.length>=2&&xi[1]=="type"?_e+(It+"="+Ft+"&"):_e+(It+"=redacted&")}}}else _e=null;else _e=ie;return"XMLHTTP REQ ("+R+") [attempt "+W+"]: "+_+`
`+E+`
`+_e})}function br(h,_,E,R,W,ie,_e){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+W+"]: "+_+`
`+E+`
`+ie+" "+_e})}function _i(h,_,E,R){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Wl(h,E)+(R?" "+R:"")})}function zs(h,_){h.info(function(){return"TIMEOUT: "+_})}Fn.prototype.info=function(){};function Wl(h,_){if(!h.g)return _;if(!_)return null;try{const ie=JSON.parse(_);if(ie){for(h=0;h<ie.length;h++)if(Array.isArray(ie[h])){var E=ie[h];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var W=R[0];if(W!="noop"&&W!="stop"&&W!="close")for(let _e=1;_e<R.length;_e++)R[_e]=""}}}}return Sn(ie)}catch{return _}}var ls={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Na={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Da;function Tr(){}v(Tr,os),Tr.prototype.g=function(){return new XMLHttpRequest},Da=new Tr;function bi(h){return encodeURIComponent(String(h))}function wr(h){var _=1;h=h.split(":");const E=[];for(;_>0&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function Pn(h,_,E,R){this.j=h,this.i=_,this.l=E,this.S=R||1,this.V=new xn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var K={},Te={};function ut(h,_,E){h.M=1,h.A=ka(Xt(_)),h.u=E,h.R=!0,Rt(h,null)}function Rt(h,_){h.F=Date.now(),ni(h),h.B=Xt(h.A);var E=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Co(E.i,"t",R),h.C=0,E=h.j.L,h.h=new ti,h.g=ph(h.j,E?_:null,!h.u),h.P>0&&(h.O=new Kt(d(h.Y,h,h.g),h.P)),_=h.V,E=h.g,R=h.ba;var W="readystatechange";Array.isArray(W)||(W&&(Mn[0]=W.toString()),W=Mn);for(let ie=0;ie<W.length;ie++){const _e=Ie(E,W[ie],R||_.handleEvent,!1,_.h||_);if(!_e)break;_.g[_e.key]=_e}_=h.J?x(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Jn(),Ia(h.i,h.v,h.B,h.l,h.S,h.u)}Pn.prototype.ba=function(h){h=h.target;const _=this.O;_&&Gi(h)==3?_.j():this.Y(h)},Pn.prototype.Y=function(h){try{if(h==this.g)e:{const Ue=Gi(this.g),Ft=this.g.ya(),at=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||yn(this.g)))){this.K||Ue!=4||Ft==7||(Ft==8||at<=0?Jn(3):Jn(2)),cs(this);var _=this.g.ca();this.X=_;var E=Yt(this);if(this.o=_==200,br(this.i,this.v,this.B,this.l,this.S,Ue,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,W=this.g;if((R=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(R)){var ie=R;break t}}ie=null}if(h=ie)_i(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,us(this,h);else{this.o=!1,this.m=3,Ot(12),ii(this),Ti(this);break e}}if(this.R){h=!0;let It;for(;!this.K&&this.C<E.length;)if(It=Fi(this,E),It==Te){Ue==4&&(this.m=4,Ot(14),h=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(It==K){this.m=4,Ot(15),_i(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else _i(this.i,this.l,It,null),us(this,It);if(An(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||E.length!=0||this.h.h||(this.m=1,Ot(16),h=!1),this.o=this.o&&h,!h)_i(this.i,this.l,E,"[Invalid Chunked Response]"),ii(this),Ti(this);else if(E.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),fc(_e),_e.P=!0,Ot(11))}}else _i(this.i,this.l,E,null),us(this,E);Ue==4&&ii(this),this.o&&!this.K&&(Ue==4?hh(this.j,this):(this.o=!1,ni(this)))}else Fs(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),ii(this),Ti(this)}}}catch{}};function Yt(h){if(!An(h))return h.g.la();const _=yn(h.g);if(_==="")return"";let E="";const R=_.length,W=Gi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return ii(h),Ti(h),"";h.h.i=new u.TextDecoder}for(let ie=0;ie<R;ie++)h.h.h=!0,E+=h.h.i.decode(_[ie],{stream:!(W&&ie==R-1)});return _.length=0,h.h.g+=E,h.C=0,h.h.g}function An(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Fi(h,_){var E=h.C,R=_.indexOf(`
`,E);return R==-1?Te:(E=Number(_.substring(E,R)),isNaN(E)?K:(R+=1,R+E>_.length?Te:(_=_.slice(R,R+E),h.C=R+E,_)))}Pn.prototype.cancel=function(){this.K=!0,ii(this)};function ni(h){h.T=Date.now()+h.H,xo(h,h.H)}function xo(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=vi(d(h.aa,h),_)}function cs(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Pn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(zs(this.i,this.B),this.M!=2&&(Jn(),Ot(17)),ii(this),this.m=2,Ti(this)):xo(this,this.T-h)};function Ti(h){h.j.I==0||h.K||hh(h.j,h)}function ii(h){cs(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Bn(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function us(h,_){try{var E=h.j;if(E.I!=0&&(E.g==h||fs(E.h,h))){if(!h.L&&fs(E.h,h)&&E.I==3){try{var R=E.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var W=R;if(W[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)ko(E),Nr(E);else break e;Ua(E),Ot(18)}}else E.xa=W[1],0<E.xa-E.K&&W[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=vi(d(E.Va,E),6e3));hs(E.h)<=1&&E.ta&&(E.ta=void 0)}else vs(E,11)}else if((h.L||E.g==h)&&ko(E),!V(_))for(W=E.Ba.g.parse(_),_=0;_<W.length;_++){let at=W[_];const It=at[0];if(!(It<=E.K))if(E.K=It,at=at[1],E.I==2)if(at[0]=="c"){E.M=at[1],E.ba=at[2];const xi=at[3];xi!=null&&(E.ka=xi,E.j.info("VER="+E.ka));const _s=at[4];_s!=null&&(E.za=_s,E.j.info("SVER="+E.za));const $i=at[5];$i!=null&&typeof $i=="number"&&$i>0&&(R=1.5*$i,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Ki=h.g;if(Ki){const za=Ki.g?Ki.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(za){var ie=R.h;ie.g||za.indexOf("spdy")==-1&&za.indexOf("quic")==-1&&za.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(ec(ie,ie.h),ie.h=null))}if(R.G){const Mo=Ki.g?Ki.g.getResponseHeader("X-HTTP-Session-Id"):null;Mo&&(R.wa=Mo,dt(R.J,R.G,Mo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var _e=h;if(R.na=mh(R,R.L?R.ba:null,R.W),_e.L){tc(R.h,_e);var Ue=_e,Ft=R.O;Ft&&(Ue.H=Ft),Ue.D&&(cs(Ue),ni(Ue)),R.g=_e}else ch(R);E.i.length>0&&ys(E)}else at[0]!="stop"&&at[0]!="close"||vs(E,7);else E.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?vs(E,7):uc(E):at[0]!="noop"&&E.l&&E.l.qa(at),E.A=0)}}Jn(4)}catch{}}var Qt=class{constructor(h,_){this.g=h,this.map=_}};function Zl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function hs(h){return h.h?1:h.g?h.g.size:0}function fs(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function ec(h,_){h.g?h.g.add(_):h.h=_}function tc(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Zl.prototype.cancel=function(){if(this.i=nc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function nc(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const E of h.g.values())_=_.concat(E.G);return _}return C(h.i)}var ih=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function So(h,_){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const R=h[E].indexOf("=");let W,ie=null;R>=0?(W=h[E].substring(0,R),ie=h[E].substring(R+1)):W=h[E],_(W,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function si(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof si?(this.l=h.l,hn(this,h.j),this.o=h.o,this.g=h.g,Er(this,h.u),this.h=h.h,ic(this,oh(h.i)),this.m=h.m):h&&(_=String(h).match(ih))?(this.l=!1,hn(this,_[1]||"",!0),this.o=ds(_[2]||""),this.g=ds(_[3]||"",!0),Er(this,_[4]),this.h=ds(_[5]||"",!0),ic(this,_[6]||"",!0),this.m=ds(_[7]||"")):(this.l=!1,this.i=new Sr(null,this.l))}si.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Ma(_,Ao,!0),":");var E=this.g;return(E||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Ma(_,Ao,!0),"@"),h.push(bi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ma(E,E.charAt(0)=="/"?sc:sh,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ma(E,rh)),h.join("")},si.prototype.resolve=function(h){const _=Xt(this);let E=!!h.j;E?hn(_,h.j):E=!!h.o,E?_.o=h.o:E=!!h.g,E?_.g=h.g:E=h.u!=null;var R=h.h;if(E)Er(_,h.u);else if(E=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var W=_.h.lastIndexOf("/");W!=-1&&(R=_.h.slice(0,W+1)+R)}if(W=R,W==".."||W==".")R="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){R=W.lastIndexOf("/",0)==0,W=W.split("/");const ie=[];for(let _e=0;_e<W.length;){const Ue=W[_e++];Ue=="."?R&&_e==W.length&&ie.push(""):Ue==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),R&&_e==W.length&&ie.push("")):(ie.push(Ue),R=!0)}R=ie.join("/")}else R=W}return E?_.h=R:E=h.i.toString()!=="",E?ic(_,oh(h.i)):E=!!h.m,E&&(_.m=h.m),_};function Xt(h){return new si(h)}function hn(h,_,E){h.j=E?ds(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Er(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function ic(h,_,E){_ instanceof Sr?(h.i=_,Ro(h.i,h.l)):(E||(_=Ma(_,xr)),h.i=new Sr(_,h.l))}function dt(h,_,E){h.i.set(_,E)}function ka(h){return dt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ds(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ma(h,_,E){return typeof h=="string"?(h=encodeURI(h).replace(_,qn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function qn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ao=/[#\/\?@]/g,sh=/[#\?:]/g,sc=/[#\?]/g,xr=/[#\?@]/g,rh=/#/g;function Sr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Hn(h){h.g||(h.g=new Map,h.h=0,h.i&&So(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=Sr.prototype,t.add=function(h,_){Hn(this),this.i=null,h=Ar(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this};function ah(h,_){Hn(h),_=Ar(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function rc(h,_){return Hn(h),_=Ar(h,_),h.g.has(_)}t.forEach=function(h,_){Hn(this),this.g.forEach(function(E,R){E.forEach(function(W){h.call(_,W,R,this)},this)},this)};function ac(h,_){Hn(h);let E=[];if(typeof _=="string")rc(h,_)&&(E=E.concat(h.g.get(Ar(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)E=E.concat(h[_]);return E}t.set=function(h,_){return Hn(this),this.i=null,h=Ar(this,h),rc(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=ac(this,h),h.length>0?String(h[0]):_):_};function Co(h,_,E){ah(h,_),E.length>0&&(h.i=null,h.g.set(Ar(h,_),C(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var E=_[R];const W=bi(E);E=ac(this,E);for(let ie=0;ie<E.length;ie++){let _e=W;E[ie]!==""&&(_e+="="+bi(E[ie])),h.push(_e)}}return this.i=h.join("&")};function oh(h){const _=new Sr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Ar(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Ro(h,_){_&&!h.j&&(Hn(h),h.i=null,h.g.forEach(function(E,R){const W=R.toLowerCase();R!=W&&(ah(this,R),Co(this,W,E))},h)),h.j=_}function qi(h,_){const E=new Fn;if(u.Image){const R=new Image;R.onload=y(wi,E,"TestLoadImage: loaded",!0,_,R),R.onerror=y(wi,E,"TestLoadImage: error",!1,_,R),R.onabort=y(wi,E,"TestLoadImage: abort",!1,_,R),R.ontimeout=y(wi,E,"TestLoadImage: timeout",!1,_,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else _(!1)}function oc(h,_){const E=new Fn,R=new AbortController,W=setTimeout(()=>{R.abort(),wi(E,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:R.signal}).then(ie=>{clearTimeout(W),ie.ok?wi(E,"TestPingServer: ok",!0,_):wi(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(W),wi(E,"TestPingServer: error",!1,_)})}function wi(h,_,E,R,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),R(E)}catch{}}function Cr(){this.g=new as}function ms(h){this.i=h.Sb||null,this.h=h.ab||!1}v(ms,os),ms.prototype.g=function(){return new Va(this.i,this.h)};function Va(h,_){ct.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Va,ct),t=Va.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Hi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Hi(this)),this.g&&(this.readyState=3,Hi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Io(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Io(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Rr(this):Hi(this),this.readyState==3&&Io(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Rr(this))},t.Na=function(h){this.g&&(this.response=h,Rr(this))},t.ga=function(){this.g&&Rr(this)};function Rr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Hi(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=_.next();return h.join(`\r
`)};function Hi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ei(h){let _="";return me(h,function(E,R){_+=R,_+=":",_+=E,_+=`\r
`}),_}function Pa(h,_,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Ei(E),typeof h=="string"?E!=null&&bi(E):dt(h,_,E))}function gt(h){ct.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(gt,ct);var ps=/^https?$/i,lc=["POST","PUT"];t=gt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Da.g(),this.g.onreadystatechange=w(d(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(ie){Oa(this,ie);return}if(h=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var W in R)E.set(W,R[W]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ie of R.keys())E.set(ie,R.get(ie));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(ie=>ie.toLowerCase()=="content-type"),W=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(lc,_,void 0)>=0)||R||W||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,_e]of E)this.g.setRequestHeader(ie,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ie){Oa(this,ie)}};function Oa(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,cc(h),Bs(h)}function cc(h){h.A||(h.A=!0,et(h,"complete"),et(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,et(this,"complete"),et(this,"abort"),Bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bs(this,!0)),gt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?La(this):this.Xa())},t.Xa=function(){La(this)};function La(h){if(h.h&&typeof l<"u"){if(h.v&&Gi(h)==4)setTimeout(h.Ca.bind(h),0);else if(et(h,"readystatechange"),Gi(h)==4){h.h=!1;try{const ie=h.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var R;if(R=ie===0){let _e=String(h.D).match(ih)[1]||null;!_e&&u.self&&u.self.location&&(_e=u.self.location.protocol.slice(0,-1)),R=!ps.test(_e?_e.toLowerCase():"")}E=R}if(E)et(h,"complete"),et(h,"success");else{h.o=6;try{var W=Gi(h)>2?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.ca()+"]",cc(h)}}finally{Bs(h)}}}}function Bs(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,_||et(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Gi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Gi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),js(_)}};function yn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Fs(h){const _={};h=(h.g&&Gi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(V(h[R]))continue;var E=wr(h[R]);const W=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ie=_[W]||[];_[W]=ie,ie.push(E)}B(_,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function Ir(h){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gs("baseRetryDelayMs",5e3,h),this.Za=gs("retryDelaySeedMs",1e4,h),this.Ta=gs("forwardChannelMaxRetries",2,h),this.va=gs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Zl(h&&h.concurrentRequestLimit),this.Ba=new Cr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ir.prototype,t.ka=8,t.I=1,t.connect=function(h,_,E,R){Ot(0),this.W=h,this.H=_||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=mh(this,null,this.W),ys(this)};function uc(h){if(No(h),h.I==3){var _=h.V++,E=Xt(h.J);if(dt(E,"SID",h.M),dt(E,"RID",_),dt(E,"TYPE","terminate"),ja(h,E),_=new Pn(h,h.j,_),_.M=2,_.A=ka(Xt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=ph(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ni(_)}dh(h)}function Nr(h){h.g&&(fc(h),h.g.cancel(),h.g=null)}function No(h){Nr(h),h.v&&(u.clearTimeout(h.v),h.v=null),ko(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function ys(h){if(!Jl(h.h)&&!h.m){h.m=!0;var _=h.Ea;re||S(),ce||(re(),ce=!0),I.add(_,h),h.D=0}}function Do(h,_){return hs(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=vi(d(h.Ea,h,_),fh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const W=new Pn(this,this.j,h);let ie=this.o;if(this.U&&(ie?(ie=x(ie),ne(ie,this.U)):ie=this.U),this.u!==null||this.R||(W.J=ie,ie=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=lh(this,W,_),E=Xt(this.J),dt(E,"RID",h),dt(E,"CVER",22),this.G&&dt(E,"X-HTTP-Session-Id",this.G),ja(this,E),ie&&(this.R?_="headers="+bi(Ei(ie))+"&"+_:this.u&&Pa(E,this.u,ie)),ec(this.h,W),this.Ra&&dt(E,"TYPE","init"),this.S?(dt(E,"$req",_),dt(E,"SID","null"),W.U=!0,ut(W,E,null)):ut(W,E,_),this.I=2}}else this.I==3&&(h?hc(this,h):this.i.length==0||Jl(this.h)||hc(this))};function hc(h,_){var E;_?E=_.l:E=h.V++;const R=Xt(h.J);dt(R,"SID",h.M),dt(R,"RID",E),dt(R,"AID",h.K),ja(h,R),h.u&&h.o&&Pa(R,h.u,h.o),E=new Pn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),_&&(h.i=_.G.concat(h.i)),_=lh(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ec(h.h,E),ut(E,R,_)}function ja(h,_){h.H&&me(h.H,function(E,R){dt(_,R,E)}),h.l&&me({},function(E,R){dt(_,R,E)})}function lh(h,_,E){E=Math.min(h.i.length,E);const R=h.l?d(h.l.Ka,h.l,h):null;e:{var W=h.i;let Ue=-1;for(;;){const Ft=["count="+E];Ue==-1?E>0?(Ue=W[0].g,Ft.push("ofs="+Ue)):Ue=0:Ft.push("ofs="+Ue);let at=!0;for(let It=0;It<E;It++){var ie=W[It].g;const xi=W[It].map;if(ie-=Ue,ie<0)Ue=Math.max(0,W[It].g-100),at=!1;else try{ie="req"+ie+"_"||"";try{var _e=xi instanceof Map?xi:Object.entries(xi);for(const[_s,$i]of _e){let Ki=$i;f($i)&&(Ki=Sn($i)),Ft.push(ie+_s+"="+encodeURIComponent(Ki))}}catch(_s){throw Ft.push(ie+"type="+encodeURIComponent("_badmap")),_s}}catch{R&&R(xi)}}if(at){_e=Ft.join("&");break e}}_e=void 0}return h=h.i.splice(0,E),_.G=h,_e}function ch(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;re||S(),ce||(re(),ce=!0),I.add(_,h),h.A=0}}function Ua(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=vi(d(h.Da,h),fh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,uh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=vi(d(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),Nr(this),uh(this))};function fc(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function uh(h){h.g=new Pn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Xt(h.na);dt(_,"RID","rpc"),dt(_,"SID",h.M),dt(_,"AID",h.K),dt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&dt(_,"TO",h.ia),dt(_,"TYPE","xmlhttp"),ja(h,_),h.u&&h.o&&Pa(_,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ka(Xt(_)),E.u=null,E.R=!0,Rt(E,h)}t.Va=function(){this.C!=null&&(this.C=null,Nr(this),Ua(this),Ot(19))};function ko(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function hh(h,_){var E=null;if(h.g==_){ko(h),fc(h),h.g=null;var R=2}else if(fs(h.h,_))E=_.G,tc(h.h,_),R=1;else return;if(h.I!=0){if(_.o)if(R==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var W=h.D;R=gi(),et(R,new ei(R,E)),ys(h)}else ch(h);else if(W=_.m,W==3||W==0&&_.X>0||!(R==1&&Do(h,_)||R==2&&Ua(h)))switch(E&&E.length>0&&(_=h.h,_.i=_.i.concat(E)),W){case 1:vs(h,5);break;case 4:vs(h,10);break;case 3:vs(h,6);break;default:vs(h,2)}}}function fh(h,_){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*_}function vs(h,_){if(h.j.info("Error code "+_),_==2){var E=d(h.bb,h),R=h.Ua;const W=!R;R=new si(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||hn(R,"https"),ka(R),W?qi(R.toString(),E):oc(R.toString(),E)}else Ot(2);h.I=0,h.l&&h.l.pa(_),dh(h),No(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function dh(h){if(h.I=0,h.ja=[],h.l){const _=nc(h.h);(_.length!=0||h.i.length!=0)&&(M(h.ja,_),M(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function mh(h,_,E){var R=E instanceof si?Xt(E):new si(E);if(R.g!="")_&&(R.g=_+"."+R.g),Er(R,R.u);else{var W=u.location;R=W.protocol,_=_?_+"."+W.hostname:W.hostname,W=+W.port;const ie=new si(null);R&&hn(ie,R),_&&(ie.g=_),W&&Er(ie,W),E&&(ie.h=E),R=ie}return E=h.G,_=h.wa,E&&_&&dt(R,E,_),dt(R,"VER",h.ka),ja(h,R),R}function ph(h,_,E){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new gt(new ms({ab:E})):new gt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gh(){}t=gh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Dr(){}Dr.prototype.g=function(h,_){return new On(h,_)};function On(h,_){ct.call(this),this.g=new Ir(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!V(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!V(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new qs(this)}v(On,ct),On.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){uc(this.g)},On.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Sn(h),h=E);_.i.push(new Qt(_.Ya++,h)),_.I==3&&ys(_)},On.prototype.N=function(){this.g.l=null,delete this.j,uc(this.g),delete this.g,On.Z.N.call(this)};function yh(h){kt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const E in _){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}v(yh,kt);function vh(){Vn.call(this),this.status=1}v(vh,Vn);function qs(h){this.g=h}v(qs,gh),qs.prototype.ra=function(){et(this.g,"a")},qs.prototype.qa=function(h){et(this.g,new yh(h))},qs.prototype.pa=function(h){et(this.g,new vh)},qs.prototype.oa=function(){et(this.g,"b")},Dr.prototype.createWebChannel=Dr.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,US=function(){return new Dr},jS=function(){return gi()},LS=Et,uy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ls.NO_ERROR=0,ls.TIMEOUT=8,ls.HTTP_ERROR=6,Hf=ls,Na.COMPLETE="complete",OS=Na,Bi.EventType=it,it.OPEN="a",it.CLOSE="b",it.ERROR="c",it.MESSAGE="d",ct.prototype.listen=ct.prototype.J,nu=Bi,gt.prototype.listenOnce=gt.prototype.K,gt.prototype.getLastError=gt.prototype.Ha,gt.prototype.getLastErrorCode=gt.prototype.ya,gt.prototype.getStatus=gt.prototype.ca,gt.prototype.getResponseJson=gt.prototype.La,gt.prototype.getResponseText=gt.prototype.la,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Fa,PS=gt}).apply(typeof Sf<"u"?Sf:typeof self<"u"?self:typeof window<"u"?window:{});let In=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");let Bl="12.8.0";function OP(t){Bl=t}const yo=new ov("@firebase/firestore");function hl(){return yo.logLevel}function we(t,...e){if(yo.logLevel<=We.DEBUG){const n=e.map(bv);yo.debug(`Firestore (${Bl}): ${t}`,...n)}}function gr(t,...e){if(yo.logLevel<=We.ERROR){const n=e.map(bv);yo.error(`Firestore (${Bl}): ${t}`,...n)}}function vo(t,...e){if(yo.logLevel<=We.WARN){const n=e.map(bv);yo.warn(`Firestore (${Bl}): ${t}`,...n)}}function bv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Me(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,zS(t,s,n)}function zS(t,e,n){let s=`FIRESTORE (${Bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw gr(s),new Error(s)}function ft(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||zS(e,a,s)}function je(t,e){return t}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Os{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class BS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(In.UNAUTHENTICATED)))}shutdown(){}}class LP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class jP{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ur,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},f=p=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ur)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ft(typeof s.accessToken=="string",31837,{l:s}),new BS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class UP{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=In.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class zP{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new UP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0,3512);const s=l=>{l.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,we("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Gw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function FP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Kd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=FP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Ze(t,e){return t<e?-1:t>e?1:0}function hy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Ag(a)===Ag(l)?Ze(a,l):Ag(a)?1:-1}return Ze(t.length,e.length)}const qP=55296,HP=57343;function Ag(t){const e=t.charCodeAt(0);return e>=qP&&e<=HP}function Il(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const $w="__name__";class xs{constructor(e,n,s){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Me(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return xs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xs?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=xs.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ze(e.length,n.length)}static compareSegments(e,n){const s=xs.isNumericId(e),a=xs.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?xs.extractNumericId(e).compare(xs.extractNumericId(n)):hy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ua.fromString(e.substring(4,e.length-2))}}class xt extends xs{construct(e,n,s){return new xt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new be(he.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new xt(n)}static emptyPath(){return new xt([])}}const GP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends xs{construct(e,n,s){return new mn(e,n,s)}static isValidIdentifier(e){return GP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$w}static keyField(){return new mn([$w])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new be(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new be(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new be(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new be(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(xt.fromString(e))}static fromName(e){return new Ne(xt.fromString(e).popFirst(5))}static empty(){return new Ne(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new xt(e.slice()))}}function qS(t,e,n){if(!n)throw new be(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HS(t,e,n,s){if(e===!0&&s===!0)throw new be(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Kw(t){if(!Ne.isDocumentKey(t))throw new be(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Yw(t){if(Ne.isDocumentKey(t))throw new be(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function GS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Yd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yd(t);throw new be(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function zu(t,e){if(!GS(t))throw new be(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new be(he.INVALID_ARGUMENT,n);return!0}const Qw=-62135596800,Xw=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Xw);return new Fe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Qw)throw new be(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xw}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zu(e,Fe._jsonSchema))return new Fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Qw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:rn("string",Fe._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Fe(0,0))}static max(){return new Oe(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Eu=-1;function $P(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(s===1e9?new Fe(n+1,0):new Fe(n,s));return new ma(a,Ne.empty(),e)}function KP(t){return new ma(t.readTime,t.key,Eu)}class ma{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ma(Oe.min(),Ne.empty(),Eu)}static max(){return new ma(Oe.max(),Ne.empty(),Eu)}}function YP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}const QP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Fl(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==QP)throw t;we("LocalStore","Unexpectedly lost primary lease")}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,s)=>{n(e)}))}static reject(e){return new de(((n,s)=>{s(e)}))}static waitFor(e){return new de(((n,s)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(p=>s(p)))})),u=!0,l===a&&n()}))}static or(e){let n=de.resolve(!1);for(const s of e)n=n.next((a=>a?de.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new de(((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const d=p;n(e[d]).next((y=>{u[d]=y,++f,f===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new de(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function WP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ql(t){return t.name==="IndexedDbTransactionError"}class Qd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qd.ce=-1;const Tv=-1;function Xd(t){return t==null}function ud(t){return t===0&&1/t==-1/0}function ZP(t){return typeof t=="number"&&Number.isInteger(t)&&!ud(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const $S="";function JP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ww(e)),e=eO(t.get(n),e);return Ww(e)}function eO(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case $S:n+="";break;default:n+=l}}return n}function Ww(t){return t+$S+""}function Zw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ea(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Pt{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Af(this.root,e,this.comparator,!1)}getReverseIterator(){return new Af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Af(this.root,e,this.comparator,!0)}}class Af{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??En.RED,this.left=a??En.EMPTY,this.right=l??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new En(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return En.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cn{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jw(this.data.getIterator())}getIteratorFrom(e){return new Jw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new cn(this.comparator);return n.data=e,n}}class Jw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class di{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new di([])}unionWith(e){let n=new cn(mn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new di(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Il(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class YS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new YS("Invalid base64 string: "+l):l}})(e);return new pn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const tO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pa(t){if(ft(!!t,39018),typeof t=="string"){let e=0;const n=tO.exec(t);if(ft(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ga(t){return typeof t=="string"?pn.fromBase64String(t):pn.fromUint8Array(t)}const QS="server_timestamp",XS="__type__",WS="__previous_value__",ZS="__local_write_time__";function wv(t){return(t?.mapValue?.fields||{})[XS]?.stringValue===QS}function Wd(t){const e=t.mapValue.fields[WS];return wv(e)?Wd(e):e}function xu(t){const e=pa(t.mapValue.fields[ZS].timestampValue);return new Fe(e.seconds,e.nanos)}class nO{constructor(e,n,s,a,l,u,f,p,d,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=d,this.isUsingEmulator=y,this.apiKey=v}}const hd="(default)";class Nl{constructor(e,n){this.projectId=e,this.database=n||hd}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===hd}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}function iO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new be(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(t.options.projectId,e)}const JS="__type__",sO="__max__",Cf={mapValue:{}},eA="__vector__",fd="value";function ya(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wv(t)?4:aO(t)?9007199254740991:rO(t)?10:11:Me(28295,{value:t})}function ks(t,e){if(t===e)return!0;const n=ya(t);if(n!==ya(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xu(t).isEqual(xu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=pa(a.timestampValue),f=pa(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ga(a.bytesValue).isEqual(ga(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return $t(a.geoPointValue.latitude)===$t(l.geoPointValue.latitude)&&$t(a.geoPointValue.longitude)===$t(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return $t(a.integerValue)===$t(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=$t(a.doubleValue),f=$t(l.doubleValue);return u===f?ud(u)===ud(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Il(t.arrayValue.values||[],e.arrayValue.values||[],ks);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Zw(u)!==Zw(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!ks(u[p],f[p])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function Su(t,e){return(t.values||[]).find((n=>ks(n,e)))!==void 0}function Dl(t,e){if(t===e)return 0;const n=ya(t),s=ya(e);if(n!==s)return Ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=$t(l.integerValue||l.doubleValue),p=$t(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(t,e);case 3:return e1(t.timestampValue,e.timestampValue);case 4:return e1(xu(t),xu(e));case 5:return hy(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=ga(l),p=ga(u);return f.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),p=u.split("/");for(let d=0;d<f.length&&d<p.length;d++){const y=Ze(f[d],p[d]);if(y!==0)return y}return Ze(f.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Ze($t(l.latitude),$t(u.latitude));return f!==0?f:Ze($t(l.longitude),$t(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return t1(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},p=u.fields||{},d=f[fd]?.arrayValue,y=p[fd]?.arrayValue,v=Ze(d?.values?.length||0,y?.values?.length||0);return v!==0?v:t1(d,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Cf.mapValue&&u===Cf.mapValue)return 0;if(l===Cf.mapValue)return 1;if(u===Cf.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),d=u.fields||{},y=Object.keys(d);p.sort(),y.sort();for(let v=0;v<p.length&&v<y.length;++v){const w=hy(p[v],y[v]);if(w!==0)return w;const C=Dl(f[p[v]],d[y[v]]);if(C!==0)return C}return Ze(p.length,y.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function e1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=pa(t),s=pa(e),a=Ze(n.seconds,s.seconds);return a!==0?a:Ze(n.nanos,s.nanos)}function t1(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Dl(n[a],s[a]);if(l)return l}return Ze(n.length,s.length)}function kl(t){return fy(t)}function fy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=pa(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ga(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=fy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${fy(n.fields[u])}`;return a+"}"})(t.mapValue):Me(61005,{value:t})}function Gf(t){switch(ya(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wd(t);return e?16+Gf(e):16;case 5:return 2*t.stringValue.length;case 6:return ga(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Gf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Ea(s.fields,((l,u)=>{a+=l.length+Gf(u)})),a})(t.mapValue);default:throw Me(13486,{value:t})}}function n1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dy(t){return!!t&&"integerValue"in t}function Ev(t){return!!t&&"arrayValue"in t}function i1(t){return!!t&&"nullValue"in t}function s1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $f(t){return!!t&&"mapValue"in t}function rO(t){return(t?.mapValue?.fields||{})[JS]?.stringValue===eA}function cu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ea(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=cu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cu(t.arrayValue.values[n]);return e}return{...t}}function aO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===sO}class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!$f(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(n)}setAll(e){let n=mn.emptyPath(),s={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,s,a),s={},a=[],n=f.popLast()}u?s[f.lastSegment()]=cu(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());$f(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ks(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];$f(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Ea(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Zn(cu(this.value))}}function tA(t){const e=[];return Ea(t.fields,((n,s)=>{const a=new mn([n]);if($f(s)){const l=tA(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new di(e)}class Nn{constructor(e,n,s,a,l,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Nn(e,0,Oe.min(),Oe.min(),Oe.min(),Zn.empty(),0)}static newFoundDocument(e,n,s,a){return new Nn(e,1,n,Oe.min(),s,a,0)}static newNoDocument(e,n){return new Nn(e,2,n,Oe.min(),Oe.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,Oe.min(),Oe.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dd{constructor(e,n){this.position=e,this.inclusive=n}}function r1(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=Ne.comparator(Ne.fromName(u.referenceValue),n.key):s=Dl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function a1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ks(t.position[n],e.position[n]))return!1;return!0}class md{constructor(e,n="asc"){this.field=e,this.dir=n}}function oO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class nA{}class sn extends nA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new cO(e,n,s):n==="array-contains"?new fO(e,s):n==="in"?new dO(e,s):n==="not-in"?new mO(e,s):n==="array-contains-any"?new pO(e,s):new sn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new uO(e,s):new hO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Dl(n,this.value)):n!==null&&ya(this.value)===ya(n)&&this.matchesComparison(Dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ss extends nA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ss(e,n)}matches(e){return iA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iA(t){return t.op==="and"}function sA(t){return lO(t)&&iA(t)}function lO(t){for(const e of t.filters)if(e instanceof ss)return!1;return!0}function my(t){if(t instanceof sn)return t.field.canonicalString()+t.op.toString()+kl(t.value);if(sA(t))return t.filters.map((e=>my(e))).join(",");{const e=t.filters.map((n=>my(n))).join(",");return`${t.op}(${e})`}}function rA(t,e){return t instanceof sn?(function(s,a){return a instanceof sn&&s.op===a.op&&s.field.isEqual(a.field)&&ks(s.value,a.value)})(t,e):t instanceof ss?(function(s,a){return a instanceof ss&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,f)=>l&&rA(u,a.filters[f])),!0):!1})(t,e):void Me(19439)}function aA(t){return t instanceof sn?(function(n){return`${n.field.canonicalString()} ${n.op} ${kl(n.value)}`})(t):t instanceof ss?(function(n){return n.op.toString()+" {"+n.getFilters().map(aA).join(" ,")+"}"})(t):"Filter"}class cO extends sn{constructor(e,n,s){super(e,n,s),this.key=Ne.fromName(s.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class uO extends sn{constructor(e,n){super(e,"in",n),this.keys=oA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class hO extends sn{constructor(e,n){super(e,"not-in",n),this.keys=oA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function oA(t,e){return(e.arrayValue?.values||[]).map((n=>Ne.fromName(n.referenceValue)))}class fO extends sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ev(n)&&Su(n.arrayValue,this.value)}}class dO extends sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Su(this.value.arrayValue,n)}}class mO extends sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Su(this.value.arrayValue,n)}}class pO extends sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ev(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Su(this.value.arrayValue,s)))}}class gO{constructor(e,n=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function o1(t,e=null,n=[],s=[],a=null,l=null,u=null){return new gO(t,e,n,s,a,l,u)}function xv(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>my(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Xd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>kl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>kl(s))).join(",")),e.Te=n}return e.Te}function Sv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!a1(t.startAt,e.startAt)&&a1(t.endAt,e.endAt)}function py(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Bu{constructor(e,n=null,s=[],a=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function yO(t,e,n,s,a,l,u,f){return new Bu(t,e,n,s,a,l,u,f)}function Zd(t){return new Bu(t)}function l1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vO(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function lA(t){return t.collectionGroup!==null}function uu(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new cn(mn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((d=>{d.isInequality()&&(f=f.add(d.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new md(l,s))})),n.has(mn.keyField().canonicalString())||e.Ie.push(new md(mn.keyField(),s))}return e.Ie}function Cs(t){const e=je(t);return e.Ee||(e.Ee=_O(e,uu(t))),e.Ee}function _O(t,e){if(t.limitType==="F")return o1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new md(a.field,l)}));const n=t.endAt?new dd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new dd(t.startAt.position,t.startAt.inclusive):null;return o1(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function gy(t,e){const n=t.filters.concat([e]);return new Bu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yy(t,e,n){return new Bu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jd(t,e){return Sv(Cs(t),Cs(e))&&t.limitType===e.limitType}function cA(t){return`${xv(Cs(t))}|lt:${t.limitType}`}function fl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>aA(a))).join(", ")}]`),Xd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>kl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>kl(a))).join(",")),`Target(${s})`})(Cs(t))}; limitType=${t.limitType})`}function em(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ne.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of uu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,f,p){const d=r1(u,f,p);return u.inclusive?d<=0:d<0})(s.startAt,uu(s),a)||s.endAt&&!(function(u,f,p){const d=r1(u,f,p);return u.inclusive?d>=0:d>0})(s.endAt,uu(s),a))})(t,e)}function bO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uA(t){return(e,n)=>{let s=!1;for(const a of uu(t)){const l=TO(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function TO(t,e,n){const s=t.field.isKeyField()?Ne.comparator(e.key,n.key):(function(l,u,f){const p=u.data.field(l),d=f.data.field(l);return p!==null&&d!==null?Dl(p,d):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Me(19790,{direction:t.dir})}}class wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return KS(this.inner)}size(){return this.innerSize}}const wO=new Pt(Ne.comparator);function yr(){return wO}const hA=new Pt(Ne.comparator);function iu(...t){let e=hA;for(const n of t)e=e.insert(n.key,n);return e}function fA(t){let e=hA;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function oo(){return hu()}function dA(){return hu()}function hu(){return new wo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const EO=new Pt(Ne.comparator),xO=new cn(Ne.comparator);function Je(...t){let e=xO;for(const n of t)e=e.add(n);return e}const SO=new cn(Ze);function AO(){return SO}function Av(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ud(e)?"-0":e}}function mA(t){return{integerValue:""+t}}function CO(t,e){return ZP(e)?mA(e):Av(t,e)}class tm{constructor(){this._=void 0}}function RO(t,e,n){return t instanceof pd?(function(a,l){const u={fields:{[XS]:{stringValue:QS},[ZS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&wv(l)&&(l=Wd(l)),l&&(u.fields[WS]=l),{mapValue:u}})(n,e):t instanceof Au?gA(t,e):t instanceof Cu?yA(t,e):(function(a,l){const u=pA(a,l),f=c1(u)+c1(a.Ae);return dy(u)&&dy(a.Ae)?mA(f):Av(a.serializer,f)})(t,e)}function IO(t,e,n){return t instanceof Au?gA(t,e):t instanceof Cu?yA(t,e):n}function pA(t,e){return t instanceof gd?(function(s){return dy(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class pd extends tm{}class Au extends tm{constructor(e){super(),this.elements=e}}function gA(t,e){const n=vA(e);for(const s of t.elements)n.some((a=>ks(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Cu extends tm{constructor(e){super(),this.elements=e}}function yA(t,e){let n=vA(e);for(const s of t.elements)n=n.filter((a=>!ks(a,s)));return{arrayValue:{values:n}}}class gd extends tm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function c1(t){return $t(t.integerValue||t.doubleValue)}function vA(t){return Ev(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function NO(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Au&&a instanceof Au||s instanceof Cu&&a instanceof Cu?Il(s.elements,a.elements,ks):s instanceof gd&&a instanceof gd?ks(s.Ae,a.Ae):s instanceof pd&&a instanceof pd})(t.transform,e.transform)}class DO{constructor(e,n){this.version=e,this.transformResults=n}}class Li{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class nm{}function _A(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cv(t.key,Li.none()):new Fu(t.key,t.data,Li.none());{const n=t.data,s=Zn.empty();let a=new cn(mn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new xa(t.key,s,new di(a.toArray()),Li.none())}}function kO(t,e,n){t instanceof Fu?(function(a,l,u){const f=a.value.clone(),p=h1(a.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof xa?(function(a,l,u){if(!Kf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=h1(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(bA(a)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function fu(t,e,n,s){return t instanceof Fu?(function(l,u,f,p){if(!Kf(l.precondition,u))return f;const d=l.value.clone(),y=f1(l.fieldTransforms,p,u);return d.setAll(y),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(t,e,n,s):t instanceof xa?(function(l,u,f,p){if(!Kf(l.precondition,u))return f;const d=f1(l.fieldTransforms,p,u),y=u.data;return y.setAll(bA(l)),y.setAll(d),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,s):(function(l,u,f){return Kf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function MO(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=pA(s.transform,a||null);l!=null&&(n===null&&(n=Zn.empty()),n.set(s.field,l))}return n||null}function u1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Il(s,a,((l,u)=>NO(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fu extends nm{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class xa extends nm{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function bA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function h1(t,e,n){const s=new Map;ft(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,IO(u,f,n[a]))}return s}function f1(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,RO(l,u,e))}return s}class Cv extends nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VO extends nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PO{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&kO(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=fu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=fu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=dA();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const p=_A(u,f);p!==null&&s.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(Oe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Je())}isEqual(e){return this.batchId===e.batchId&&Il(this.mutations,e.mutations,((n,s)=>u1(n,s)))&&Il(this.baseMutations,e.baseMutations,((n,s)=>u1(n,s)))}}class Rv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){ft(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return EO})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new Rv(e,n,s,a)}}class OO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class LO{constructor(e,n){this.count=e,this.unchangedNames=n}}var tn,nt;function jO(t){switch(t){case he.OK:return Me(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function TA(t){if(t===void 0)return gr("GRPC error has no .code"),he.UNKNOWN;switch(t){case tn.OK:return he.OK;case tn.CANCELLED:return he.CANCELLED;case tn.UNKNOWN:return he.UNKNOWN;case tn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case tn.INTERNAL:return he.INTERNAL;case tn.UNAVAILABLE:return he.UNAVAILABLE;case tn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case tn.NOT_FOUND:return he.NOT_FOUND;case tn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case tn.ABORTED:return he.ABORTED;case tn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case tn.DATA_LOSS:return he.DATA_LOSS;default:return Me(39323,{code:t})}}(nt=tn||(tn={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";function UO(){return new TextEncoder}const zO=new ua([4294967295,4294967295],0);function d1(t){const e=UO().encode(t),n=new VS;return n.update(e),new Uint8Array(n.digest())}function m1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ua([n,s],0),new ua([a,l],0)]}class Iv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new su(`Invalid padding: ${n}`);if(s<0)throw new su(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new su(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ua.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(ua.fromNumber(s)));return a.compare(zO)===1&&(a=new ua([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=d1(e),[s,a]=m1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Iv(l,a,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=d1(e),[s,a]=m1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class im{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new im(Oe.min(),a,new Pt(Ze),yr(),Je())}}class qu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new qu(s,n,Je(),Je(),Je())}}class Yf{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class wA{constructor(e,n){this.targetId=e,this.Ce=n}}class EA{constructor(e,n,s=pn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class p1{constructor(){this.ve=0,this.Fe=g1(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),s=Je();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Me(38017,{changeType:l})}})),new qu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=g1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class BO{constructor(e){this.Ge=e,this.ze=new Map,this.je=yr(),this.He=Rf(),this.Je=Rf(),this.Ze=new Pt(Ze)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(py(l))if(s===0){const u=new Ne(l.path);this.et(n,u,Nn.newNoDocument(u,Oe.min()))}else ft(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),p=f?this.ct(f,e,u):1;if(p!==0){this.it(n);const d=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=ga(s).toUint8Array()}catch(p){if(p instanceof YS)return vo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Iv(u,a,l)}catch(p){return vo(p instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&py(f.target)){const p=new Ne(f.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,Nn.newNoDocument(p,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let s=Je();this.Je.forEach(((l,u)=>{let f=!0;u.forEachWhile((p=>{const d=this.ot(p);return!d||d.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new im(e,n,this.Ze,this.je,s);return this.je=yr(),this.He=Rf(),this.Je=Rf(),this.Ze=new Pt(Ze),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new p1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new cn(Ze),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new cn(Ze),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new p1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rf(){return new Pt(Ne.comparator)}function g1(){return new Pt(Ne.comparator)}const FO={asc:"ASCENDING",desc:"DESCENDING"},qO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HO={and:"AND",or:"OR"};class GO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vy(t,e){return t.useProto3Json||Xd(e)?e:{value:e}}function yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $O(t,e){return yd(t,e.toTimestamp())}function Rs(t){return ft(!!t,49232),Oe.fromTimestamp((function(n){const s=pa(n);return new Fe(s.seconds,s.nanos)})(t))}function Nv(t,e){return _y(t,e).canonicalString()}function _y(t,e){const n=(function(a){return new xt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function SA(t){const e=xt.fromString(t);return ft(NA(e),10190,{key:e.toString()}),e}function by(t,e){return Nv(t.databaseId,e.path)}function Cg(t,e){const n=SA(e);if(n.get(1)!==t.databaseId.projectId)throw new be(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(CA(n))}function AA(t,e){return Nv(t.databaseId,e)}function KO(t){const e=SA(t);return e.length===4?xt.emptyPath():CA(e)}function Ty(t){return new xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CA(t){return ft(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function y1(t,e,n){return{name:by(t,e),fields:n.value.mapValue.fields}}function YO(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Me(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(d,y){return d.useProto3Json?(ft(y===void 0||typeof y=="string",58123),pn.fromBase64String(y||"")):(ft(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),pn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(d){const y=d.code===void 0?he.UNKNOWN:TA(d.code);return new be(y,d.message||"")})(u);n=new EA(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Cg(t,s.document.name),l=Rs(s.document.updateTime),u=s.document.createTime?Rs(s.document.createTime):Oe.min(),f=new Zn({mapValue:{fields:s.document.fields}}),p=Nn.newFoundDocument(a,l,u,f),d=s.targetIds||[],y=s.removedTargetIds||[];n=new Yf(d,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Cg(t,s.document),l=s.readTime?Rs(s.readTime):Oe.min(),u=Nn.newNoDocument(a,l),f=s.removedTargetIds||[];n=new Yf([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Cg(t,s.document),l=s.removedTargetIds||[];n=new Yf([],l,a,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new LO(a,l),f=s.targetId;n=new wA(f,u)}}return n}function QO(t,e){let n;if(e instanceof Fu)n={update:y1(t,e.key,e.value)};else if(e instanceof Cv)n={delete:by(t,e.key)};else if(e instanceof xa)n={update:y1(t,e.key,e.data),updateMask:s4(e.fieldMask)};else{if(!(e instanceof VO))return Me(16599,{dt:e.type});n={verify:by(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const f=u.transform;if(f instanceof pd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Au)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Cu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof gd)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Me(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:$O(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Me(27497)})(t,e.precondition)),n}function XO(t,e){return t&&t.length>0?(ft(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?Rs(a.updateTime):Rs(l);return u.isEqual(Oe.min())&&(u=Rs(l)),new DO(u,a.transformResults||[])})(n,e)))):[]}function WO(t,e){return{documents:[AA(t,e.path)]}}function ZO(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=AA(t,a);const l=(function(d){if(d.length!==0)return IA(ss.create(d,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(d){if(d.length!==0)return d.map((y=>(function(w){return{field:dl(w.field),direction:t4(w.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=vy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:a}}function JO(t){let e=KO(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ft(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const w=RA(v);return w instanceof ss&&sA(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((w=>(function(M){return new md(ml(M.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(w)))})(n.orderBy));let f=null;n.limit&&(f=(function(v){let w;return w=typeof v=="object"?v.value:v,Xd(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(v){const w=!!v.before,C=v.values||[];return new dd(C,w)})(n.startAt));let d=null;return n.endAt&&(d=(function(v){const w=!v.before,C=v.values||[];return new dd(C,w)})(n.endAt)),yO(e,a,u,l,f,"F",p,d)}function e4(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ml(n.unaryFilter.field);return sn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=ml(n.unaryFilter.field);return sn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ml(n.unaryFilter.field);return sn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ml(n.unaryFilter.field);return sn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return sn.create(ml(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ss.create(n.compositeFilter.filters.map((s=>RA(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function t4(t){return FO[t]}function n4(t){return qO[t]}function i4(t){return HO[t]}function dl(t){return{fieldPath:t.canonicalString()}}function ml(t){return mn.fromServerFormat(t.fieldPath)}function IA(t){return t instanceof sn?(function(n){if(n.op==="=="){if(s1(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NAN"}};if(i1(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s1(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NOT_NAN"}};if(i1(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(n.field),op:n4(n.op),value:n.value}}})(t):t instanceof ss?(function(n){const s=n.getFilters().map((a=>IA(a)));return s.length===1?s[0]:{compositeFilter:{op:i4(n.op),filters:s}}})(t):Me(54877,{filter:t})}function s4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function NA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function DA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class aa{constructor(e,n,s,a,l=Oe.min(),u=Oe.min(),f=pn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class r4{constructor(e){this.yt=e}}function a4(t){const e=JO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yy(e,e.limit,"L"):e}class o4{constructor(){this.Sn=new l4}addToCollectionParentIndex(e,n){return this.Sn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(ma.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(ma.min())}updateCollectionGroup(e,n,s){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class l4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new cn(xt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new cn(xt.comparator)).toArray()}}const v1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kA=41943040;class Xn{static withCacheSize(e){return new Xn(e,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(kA,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);class Ml{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ml(0)}static ar(){return new Ml(-1)}}const _1="LruGarbageCollector",c4=1048576;function b1([t,e],[n,s]){const a=Ze(t,n);return a===0?Ze(e,s):a}class u4{constructor(e){this.Pr=e,this.buffer=new cn(b1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();b1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class h4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){we(_1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ql(n)?we(_1,"Ignoring IndexedDB error during garbage collection: ",n):await Fl(n)}await this.Ar(3e5)}))}}class f4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return de.resolve(Qd.ce);const s=new u4(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(v1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v1):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,u,f,p,d;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(s=v,f=Date.now(),this.removeTargets(e,s,n)))).next((v=>(l=v,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(d=Date.now(),hl()<=We.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${v} documents in `+(d-p)+`ms
Total Duration: ${d-y}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function d4(t,e){return new f4(t,e)}class m4{constructor(){this.changes=new wo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?de.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class p4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class g4{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&fu(s.mutation,a,di.empty(),Fe.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Je()){const a=oo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=iu();return l.forEach(((f,p)=>{u=u.insert(f,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=oo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Je())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,a){let l=yr();const u=hu(),f=(function(){return hu()})();return n.forEach(((p,d)=>{const y=s.get(d.key);a.has(d.key)&&(y===void 0||y.mutation instanceof xa)?l=l.insert(d.key,d):y!==void 0?(u.set(d.key,y.mutation.getFieldMask()),fu(y.mutation,d,y.mutation.getFieldMask(),Fe.now())):u.set(d.key,di.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((d,y)=>u.set(d,y))),n.forEach(((d,y)=>f.set(d,new p4(y,u.get(d)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=hu();let a=new Pt(((u,f)=>u-f)),l=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((p=>{const d=n.get(p);if(d===null)return;let y=s.get(p)||di.empty();y=f.applyToLocalView(d,y),s.set(p,y);const v=(a.get(f.batchId)||Je()).add(p);a=a.insert(f.batchId,v)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),d=p.key,y=p.value,v=dA();y.forEach((w=>{if(!l.has(w)){const C=_A(n.get(w),s.get(w));C!==null&&v.set(w,C),l=l.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,v))}return de.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return vO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):de.resolve(oo());let f=Eu,p=l;return u.next((d=>de.forEach(d,((y,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),l.get(y)?de.resolve():this.remoteDocumentCache.getEntry(e,y).next((w=>{p=p.insert(y,w)}))))).next((()=>this.populateOverlays(e,d,l))).next((()=>this.computeViews(e,p,d,Je()))).next((y=>({batchId:f,changes:fA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next((s=>{let a=iu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=iu();return this.indexManager.getCollectionParents(e,l).next((f=>de.forEach(f,(p=>{const d=(function(v,w){return new Bu(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,d,s,a).next((y=>{y.forEach(((v,w)=>{u=u.insert(v,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((p,d)=>{const y=d.getKey();u.get(y)===null&&(u=u.insert(y,Nn.newInvalidDocument(y)))}));let f=iu();return u.forEach(((p,d)=>{const y=l.get(p);y!==void 0&&fu(y.mutation,d,di.empty(),Fe.now()),em(n,d)&&(f=f.insert(p,d))})),f}))}}class y4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return de.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Rs(a.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:a4(a.bundledQuery),readTime:Rs(a.readTime)}})(n)),de.resolve()}}class v4{constructor(){this.overlays=new Pt(Ne.comparator),this.Lr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const s=oo();return de.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),de.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),de.resolve()}getOverlaysForCollection(e,n,s){const a=oo(),l=n.length+1,u=new Ne(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,d=p.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return de.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Pt(((d,y)=>d-y));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>s){let y=l.get(d.largestBatchId);y===null&&(y=oo(),l=l.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const f=oo(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((d,y)=>f.set(d,y))),!(f.size()>=a)););return de.resolve(f)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new OO(n,s));let l=this.Lr.get(n);l===void 0&&(l=Je(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class _4{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}class Dv{constructor(){this.kr=new cn(dn.Kr),this.qr=new cn(dn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new dn(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new dn(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Ne(new xt([])),s=new dn(n,e),a=new dn(n,e+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ne(new xt([])),s=new dn(n,e),a=new dn(n,e+1);let l=Je();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new dn(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class dn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ne.comparator(e.key,n.key)||Ze(e.Hr,n.Hr)}static Ur(e,n){return Ze(e.Hr,n.Hr)||Ne.comparator(e.key,n.key)}}class b4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new cn(dn.Kr)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new PO(l,n,s,a);this.mutationQueue.push(u);for(const f of a)this.Jr=this.Jr.add(new dn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,n){return de.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?Tv:this.Yn-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new dn(n,0),a=new dn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const f=this.Zr(u.Hr);l.push(f)})),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new cn(Ze);return n.forEach((a=>{const l=new dn(a,0),u=new dn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(f=>{s=s.add(f.Hr)}))})),de.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Ne.isDocumentKey(l)||(l=l.child(""));const u=new dn(new Ne(l),0);let f=new cn(Ze);return this.Jr.forEachWhile((p=>{const d=p.key.path;return!!s.isPrefixOf(d)&&(d.length===a&&(f=f.add(p.Hr)),!0)}),u),de.resolve(this.Yr(f))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ft(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return de.forEach(n.mutations,(a=>{const l=new dn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new dn(n,0),a=this.Jr.firstAfterOrEqual(s);return de.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class T4{constructor(e){this.ti=e,this.docs=(function(){return new Pt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return de.resolve(s?s.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let s=yr();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Nn.newInvalidDocument(a))})),de.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=yr();const u=n.path,f=new Ne(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:d,value:{document:y}}=p.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||YP(KP(y),s)<=0||(a.has(y.key)||em(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Me(9500)}ni(e,n){return de.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new w4(this)}getSize(e){return de.resolve(this.size)}}class w4 extends m4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),de.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class E4{constructor(e){this.persistence=e,this.ri=new wo((n=>xv(n)),Sv),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.ii=0,this.si=new Dv,this.targetCount=0,this.oi=Ml._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),de.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Ml(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.lr(n),de.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),de.waitFor(l).next((()=>a))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return de.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),de.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),de.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return de.resolve(s)}containsKey(e,n){return de.resolve(this.si.containsKey(n))}}class MA{constructor(e,n){this._i={},this.overlays={},this.ai=new Qd(0),this.ui=!1,this.ui=!0,this.ci=new _4,this.referenceDelegate=e(this),this.li=new E4(this),this.indexManager=new o4,this.remoteDocumentCache=(function(a){return new T4(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new r4(n),this.Pi=new y4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new v4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new b4(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){we("MemoryPersistence","Starting transaction:",e);const a=new x4(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return de.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class x4 extends XP{constructor(e){super(),this.currentSequenceNumber=e}}class kv{constructor(e){this.persistence=e,this.Ri=new Dv,this.Ai=null}static Vi(e){return new kv(e)}get di(){if(this.Ai)return this.Ai;throw Me(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),de.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),de.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.di,(s=>{const a=Ne.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Oe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return de.or([()=>de.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class vd{constructor(e,n){this.persistence=e,this.fi=new wo((s=>JP(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=d4(this,n)}static Vi(e,n){return new vd(e,n)}Ti(){}Ii(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return de.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?de.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((f=>{f||(s++,l.removeEntry(u,Oe.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),de.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),de.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gf(e.data.value)),n}wr(e,n,s){return de.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return de.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Mv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=Je(),a=Je();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Mv(e,n.fromCache,s,a)}}class S4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class A4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return pk()?8:WP(kn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new S4;return this.ys(e,n,u).next((f=>{if(l.result=f,this.As)return this.ws(e,n,u,f.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(hl()<=We.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",fl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),de.resolve()):(hl()<=We.DEBUG&&we("QueryEngine","Query:",fl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(hl()<=We.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",fl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cs(n))):de.resolve())}gs(e,n){if(l1(n))return de.resolve(null);let s=Cs(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=yy(n,null,"F"),s=Cs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Je(...l);return this.fs.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((p=>{const d=this.bs(n,f);return this.Ss(n,d,u,p.readTime)?this.gs(e,yy(n,null,"F")):this.Ds(e,d,n,p)}))))})))))}ps(e,n,s,a){return l1(n)||a.isEqual(Oe.min())?de.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,s,a)?de.resolve(null):(hl()<=We.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),fl(n)),this.Ds(e,u,n,$P(a,Eu)).next((f=>f)))}))}bs(e,n){let s=new cn(uA(e));return n.forEach(((a,l)=>{em(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return hl()<=We.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",fl(n)),this.fs.getDocumentsMatchingQuery(e,n,ma.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Vv="LocalStore",C4=3e8;class R4{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Pt(Ze),this.Fs=new wo((l=>xv(l)),Sv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function I4(t,e,n,s){return new R4(t,e,n,s)}async function VA(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],f=[];let p=Je();for(const d of a){u.push(d.batchId);for(const y of d.mutations)p=p.add(y.key)}for(const d of l){f.push(d.batchId);for(const y of d.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(s,p).next((d=>({Ns:d,removedBatchIds:u,addedBatchIds:f})))}))}))}function N4(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,p,d,y){const v=d.batch,w=v.keys();let C=de.resolve();return w.forEach((M=>{C=C.next((()=>y.getEntry(p,M))).next((O=>{const N=d.docVersions.get(M);ft(N!==null,48541),O.version.compareTo(N)<0&&(v.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),y.addEntry(O)))}))})),C.next((()=>f.mutationQueue.removeMutationBatch(p,v)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let p=Je();for(let d=0;d<f.mutationResults.length;++d)f.mutationResults[d].transformResults.length>0&&(p=p.add(f.batch.mutations[d].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function PA(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function D4(t,e){const n=je(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const f=[];e.targetChanges.forEach(((y,v)=>{const w=a.get(v);if(!w)return;f.push(n.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,v))));let C=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?C=C.withResumeToken(pn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(v,C),(function(O,N,H){return O.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=C4?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(w,C,y)&&f.push(n.li.updateTargetData(l,C))}));let p=yr(),d=Je();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(k4(l,u,e.documentUpdates).next((y=>{p=y.Bs,d=y.Ls}))),!s.isEqual(Oe.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((v=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(y)}return de.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,d))).next((()=>p))})).then((l=>(n.vs=a,l)))}function k4(t,e,n){let s=Je(),a=Je();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=yr();return n.forEach(((f,p)=>{const d=l.get(f);p.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!d.isValidDocument()||p.version.compareTo(d.version)>0||p.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):we(Vv,"Ignoring outdated watch update for ",f,". Current version:",d.version," Watch version:",p.version)})),{Bs:u,Ls:a}}))}function M4(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Tv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function V4(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,de.resolve(a)):n.li.allocateTargetId(s).next((u=>(a=new aa(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function wy(t,e,n){const s=je(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!ql(u))throw u;we(Vv,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function T1(t,e,n){const s=je(t);let a=Oe.min(),l=Je();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,d,y){const v=je(p),w=v.Fs.get(y);return w!==void 0?de.resolve(v.vs.get(w)):v.li.getTargetData(d,y)})(s,u,Cs(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,f.targetId).next((p=>{l=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,n?a:Oe.min(),n?l:Je()))).next((f=>(P4(s,bO(e),f),{documents:f,ks:l})))))}function P4(t,e,n){let s=t.Ms.get(e)||Oe.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class w1{constructor(){this.activeTargetIds=AO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O4{constructor(){this.vo=new w1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new w1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class L4{Mo(e){}shutdown(){}}const E1="ConnectivityMonitor";class x1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){we(E1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){we(E1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let If=null;function Ey(){return If===null?If=(function(){return 268435456+Math.round(2147483648*Math.random())})():If++,"0x"+If.toString(16)}const Rg="RestConnection",j4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class U4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===hd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const u=Ey(),f=this.Qo(e,n.toUriEncodedString());we(Rg,`Sending RPC '${e}' ${u}:`,f,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,a,l);const{host:d}=new URL(f),y=bo(d);return this.zo(e,f,p,s,y).then((v=>(we(Rg,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw vo(Rg,`RPC '${e}' ${u} failed with error: `,v,"url: ",f,"request:",s),v}))}jo(e,n,s,a,l,u){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=j4[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class z4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Rn="WebChannelConnection",Zc=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Sl extends U4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Sl.c_){const e=jS();Zc(e,LS.STAT_EVENT,(n=>{n.stat===uy.PROXY?we(Rn,"STAT_EVENT: detected buffering proxy"):n.stat===uy.NOPROXY&&we(Rn,"STAT_EVENT: detected no buffering proxy")})),Sl.c_=!0}}zo(e,n,s,a,l){const u=Ey();return new Promise(((f,p)=>{const d=new PS;d.setWithCredentials(!0),d.listenOnce(OS.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Hf.NO_ERROR:const v=d.getResponseJson();we(Rn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),f(v);break;case Hf.TIMEOUT:we(Rn,`RPC '${e}' ${u} timed out`),p(new be(he.DEADLINE_EXCEEDED,"Request time out"));break;case Hf.HTTP_ERROR:const w=d.getStatus();if(we(Rn,`RPC '${e}' ${u} failed with status:`,w,"response text:",d.getResponseText()),w>0){let C=d.getResponseJson();Array.isArray(C)&&(C=C[0]);const M=C?.error;if(M&&M.status&&M.message){const O=(function(H){const X=H.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(X)>=0?X:he.UNKNOWN})(M.status);p(new be(O,M.message))}else p(new be(he.UNKNOWN,"Server responded with status "+d.getStatus()))}else p(new be(he.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{we(Rn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);we(Rn,`RPC '${e}' ${u} sending request:`,a),d.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=Ey(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const d=l.join("");we(Rn,`Creating RPC '${e}' stream ${a}: ${d}`,f);const y=u.createWebChannel(d,f);this.I_(y);let v=!1,w=!1;const C=new z4({Ho:M=>{w?we(Rn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(v||(we(Rn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),v=!0),we(Rn,`RPC '${e}' stream ${a} sending:`,M),y.send(M))},Jo:()=>y.close()});return Zc(y,nu.EventType.OPEN,(()=>{w||(we(Rn,`RPC '${e}' stream ${a} transport opened.`),C.i_())})),Zc(y,nu.EventType.CLOSE,(()=>{w||(w=!0,we(Rn,`RPC '${e}' stream ${a} transport closed`),C.o_(),this.E_(y))})),Zc(y,nu.EventType.ERROR,(M=>{w||(w=!0,vo(Rn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),C.o_(new be(he.UNAVAILABLE,"The operation could not be completed")))})),Zc(y,nu.EventType.MESSAGE,(M=>{if(!w){const O=M.data[0];ft(!!O,16349);const N=O,H=N?.error||N[0]?.error;if(H){we(Rn,`RPC '${e}' stream ${a} received error:`,H);const X=H.status;let Y=(function(ce){const I=tn[ce];if(I!==void 0)return TA(I)})(X),Q=H.message;Y===void 0&&(Y=he.INTERNAL,Q="Unknown error status: "+X+" with message "+H.message),w=!0,C.o_(new be(Y,Q)),y.close()}else we(Rn,`RPC '${e}' stream ${a} received:`,O),C.__(O)}})),Sl.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return US()}}function B4(t){return new Sl(t)}function Ig(){return typeof document<"u"?document:null}function sm(t){return new GO(t,!0)}Sl.c_=!1;class OA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&we("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const S1="PersistentStream";class LA{constructor(e,n,s,a,l,u,f,p){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new OA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new be(he.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(S1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(we(S1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class F4 extends LA{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=YO(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Oe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?Rs(u.readTime):Oe.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Ty(this.serializer),n.addTarget=(function(l,u){let f;const p=u.target;if(f=py(p)?{documents:WO(l,p)}:{query:ZO(l,p).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=xA(l,u.resumeToken);const d=vy(l,u.expectedCount);d!==null&&(f.expectedCount=d)}else if(u.snapshotVersion.compareTo(Oe.min())>0){f.readTime=yd(l,u.snapshotVersion.toTimestamp());const d=vy(l,u.expectedCount);d!==null&&(f.expectedCount=d)}return f})(this.serializer,e);const s=e4(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Ty(this.serializer),n.removeTarget=e,this.K_(n)}}class q4 extends LA{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=XO(e.writeResults,e.commitTime),s=Rs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Ty(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>QO(this.serializer,s)))};this.K_(n)}}class H4{}class G4 extends H4{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new be(he.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,_y(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(he.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(e,_y(n,s),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(he.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function $4(t,e,n,s){return new G4(t,e,n,s)}class K4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gr(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _o="RemoteStore";class Y4{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{Eo(this)&&(we(_o,"Restarting streams for network reachability change."),await(async function(p){const d=je(p);d.Ea.add(4),await Hu(d),d.Va.set("Unknown"),d.Ea.delete(4),await rm(d)})(this))}))})),this.Va=new K4(s,a)}}async function rm(t){if(Eo(t))for(const e of t.Ra)await e(!0)}async function Hu(t){for(const e of t.Ra)await e(!1)}function jA(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),jv(n)?Lv(n):Hl(n).O_()&&Ov(n,e))}function Pv(t,e){const n=je(t),s=Hl(n);n.Ia.delete(e),s.O_()&&UA(n,e),n.Ia.size===0&&(s.O_()?s.L_():Eo(n)&&n.Va.set("Unknown"))}function Ov(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hl(t).Z_(e)}function UA(t,e){t.da.$e(e),Hl(t).X_(e)}function Lv(t){t.da=new BO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Hl(t).start(),t.Va.ua()}function jv(t){return Eo(t)&&!Hl(t).x_()&&t.Ia.size>0}function Eo(t){return je(t).Ea.size===0}function zA(t){t.da=void 0}async function Q4(t){t.Va.set("Online")}async function X4(t){t.Ia.forEach(((e,n)=>{Ov(t,e)}))}async function W4(t,e){zA(t),jv(t)?(t.Va.ha(e),Lv(t)):t.Va.set("Unknown")}async function Z4(t,e,n){if(t.Va.set("Online"),e instanceof EA&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.da.removeTarget(f))})(t,e)}catch(s){we(_o,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _d(t,s)}else if(e instanceof Yf?t.da.Xe(e):e instanceof wA?t.da.st(e):t.da.tt(e),!n.isEqual(Oe.min()))try{const s=await PA(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const f=l.da.Tt(u);return f.targetChanges.forEach(((p,d)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ia.get(d);y&&l.Ia.set(d,y.withResumeToken(p.resumeToken,u))}})),f.targetMismatches.forEach(((p,d)=>{const y=l.Ia.get(p);if(!y)return;l.Ia.set(p,y.withResumeToken(pn.EMPTY_BYTE_STRING,y.snapshotVersion)),UA(l,p);const v=new aa(y.target,p,d,y.sequenceNumber);Ov(l,v)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){we(_o,"Failed to raise snapshot:",s),await _d(t,s)}}async function _d(t,e,n){if(!ql(e))throw e;t.Ea.add(1),await Hu(t),t.Va.set("Offline"),n||(n=()=>PA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(_o,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await rm(t)}))}function BA(t,e){return e().catch((n=>_d(t,n,e)))}async function am(t){const e=je(t),n=va(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Tv;for(;J4(e);)try{const a=await M4(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,e5(e,a)}catch(a){await _d(e,a)}FA(e)&&qA(e)}function J4(t){return Eo(t)&&t.Ta.length<10}function e5(t,e){t.Ta.push(e);const n=va(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function FA(t){return Eo(t)&&!va(t).x_()&&t.Ta.length>0}function qA(t){va(t).start()}async function t5(t){va(t).ra()}async function n5(t){const e=va(t);for(const n of t.Ta)e.ea(n.mutations)}async function i5(t,e,n){const s=t.Ta.shift(),a=Rv.from(s,e,n);await BA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await am(t)}async function s5(t,e){e&&va(t).Y_&&await(async function(s,a){if((function(u){return jO(u)&&u!==he.ABORTED})(a.code)){const l=s.Ta.shift();va(s).B_(),await BA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await am(s)}})(t,e),FA(t)&&qA(t)}async function A1(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),we(_o,"RemoteStore received new credentials");const s=Eo(n);n.Ea.add(3),await Hu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rm(n)}async function r5(t,e){const n=je(t);e?(n.Ea.delete(2),await rm(n)):e||(n.Ea.add(2),await Hu(n),n.Va.set("Unknown"))}function Hl(t){return t.ma||(t.ma=(function(n,s,a){const l=je(n);return l.sa(),new F4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:Q4.bind(null,t),Yo:X4.bind(null,t),t_:W4.bind(null,t),J_:Z4.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),jv(t)?Lv(t):t.Va.set("Unknown")):(await t.ma.stop(),zA(t))}))),t.ma}function va(t){return t.fa||(t.fa=(function(n,s,a){const l=je(n);return l.sa(),new q4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:t5.bind(null,t),t_:s5.bind(null,t),ta:n5.bind(null,t),na:i5.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await am(t)):(await t.fa.stop(),t.Ta.length>0&&(we(_o,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Uv{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,f=new Uv(e,n,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zv(t,e){if(gr("AsyncQueue",`${e}: ${t}`),ql(t))return new be(he.UNAVAILABLE,`${e}: ${t}`);throw t}class Al{static emptySet(e){return new Al(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ne.comparator(n.key,s.key):(n,s)=>Ne.comparator(n.key,s.key),this.keyedMap=iu(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Al)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Al;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class C1{constructor(){this.ga=new Pt(Ne.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Vl{constructor(e,n,s,a,l,u,f,p,d){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=d}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Vl(e,n,Al.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class a5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class o5{constructor(){this.queries=R1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=je(n),l=a.queries;a.queries=R1(),l.forEach(((u,f)=>{for(const p of f.ba)p.onError(s)}))})(this,new be(he.ABORTED,"Firestore shutting down"))}}function R1(){return new wo((t=>cA(t)),Jd)}async function Bv(t,e){const n=je(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new a5,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=zv(u,`Initialization of query '${fl(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&qv(n)}async function Fv(t,e){const n=je(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function l5(t,e){const n=je(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.ba)f.Fa(a)&&(s=!0);u.wa=a}}s&&qv(n)}function c5(t,e,n){const s=je(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function qv(t){t.Ca.forEach((e=>{e.next()}))}var xy,I1;(I1=xy||(xy={})).Ma="default",I1.Cache="cache";class Hv{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Vl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xy.Cache}}class HA{constructor(e){this.key=e}}class GA{constructor(e){this.key=e}}class u5{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Je(),this.mutatedKeys=Je(),this.eu=uA(e),this.tu=new Al(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new C1,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const w=a.get(y),C=em(this.query,v)?v:null,M=!!w&&this.mutatedKeys.has(w.key),O=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let N=!1;w&&C?w.data.isEqual(C.data)?M!==O&&(s.track({type:3,doc:C}),N=!0):this.su(w,C)||(s.track({type:2,doc:C}),N=!0,(p&&this.eu(C,p)>0||d&&this.eu(C,d)<0)&&(f=!0)):!w&&C?(s.track({type:0,doc:C}),N=!0):w&&!C&&(s.track({type:1,doc:w}),N=!0,(p||d)&&(f=!0)),N&&(C?(u=u.add(C),l=O?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Ss:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(C,M){const O=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:N})}};return O(C)-O(M)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],p=this.Ya.size===0&&this.current&&!a?1:0,d=p!==this.Xa;return this.Xa=p,u.length!==0||d?{snapshot:new Vl(this.query,e.tu,l,u,e.mutatedKeys,p===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new GA(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new HA(s))})),n}cu(e){this.Za=e.ks,this.Ya=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Gv="SyncEngine";class h5{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class f5{constructor(e){this.key=e,this.hu=!1}}class d5{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new wo((f=>cA(f)),Jd),this.Iu=new Map,this.Eu=new Set,this.Ru=new Pt(Ne.comparator),this.Au=new Map,this.Vu=new Dv,this.du={},this.mu=new Map,this.fu=Ml.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function m5(t,e,n=!0){const s=WA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await $A(s,e,n,!0),a}async function p5(t,e){const n=WA(t);await $A(n,e,!0,!1)}async function $A(t,e,n,s){const a=await V4(t.localStore,Cs(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await g5(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&jA(t.remoteStore,a),f}async function g5(t,e,n,s,a){t.pu=(v,w,C)=>(async function(O,N,H,X){let Y=N.view.ru(H);Y.Ss&&(Y=await T1(O.localStore,N.query,!1).then((({documents:I})=>N.view.ru(I,Y))));const Q=X&&X.targetChanges.get(N.targetId),re=X&&X.targetMismatches.get(N.targetId)!=null,ce=N.view.applyChanges(Y,O.isPrimaryClient,Q,re);return D1(O,N.targetId,ce.au),ce.snapshot})(t,v,w,C);const l=await T1(t.localStore,e,!0),u=new u5(e,l.ks),f=u.ru(l.documents),p=qu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),d=u.applyChanges(f,t.isPrimaryClient,p);D1(t,n,d.au);const y=new h5(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function y5(t,e,n){const s=je(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Jd(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await wy(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Pv(s.remoteStore,a.targetId),Sy(s,a.targetId)})).catch(Fl)):(Sy(s,a.targetId),await wy(s.localStore,a.targetId,!0))}async function v5(t,e){const n=je(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Pv(n.remoteStore,s.targetId))}async function _5(t,e,n){const s=A5(t);try{const a=await(function(u,f){const p=je(u),d=Fe.now(),y=f.reduce(((C,M)=>C.add(M.key)),Je());let v,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let M=yr(),O=Je();return p.xs.getEntries(C,y).next((N=>{M=N,M.forEach(((H,X)=>{X.isValidDocument()||(O=O.add(H))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,M))).next((N=>{v=N;const H=[];for(const X of f){const Y=MO(X,v.get(X.key).overlayedDocument);Y!=null&&H.push(new xa(X.key,Y,tA(Y.value.mapValue),Li.exists(!0)))}return p.mutationQueue.addMutationBatch(C,d,H,f)})).next((N=>{w=N;const H=N.applyToLocalDocumentSet(v,O);return p.documentOverlayCache.saveOverlays(C,N.batchId,H)}))})).then((()=>({batchId:w.batchId,changes:fA(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,f,p){let d=u.du[u.currentUser.toKey()];d||(d=new Pt(Ze)),d=d.insert(f,p),u.du[u.currentUser.toKey()]=d})(s,a.batchId,n),await Gu(s,a.changes),await am(s.remoteStore)}catch(a){const l=zv(a,"Failed to persist write");n.reject(l)}}async function KA(t,e){const n=je(t);try{const s=await D4(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?ft(u.hu,14607):a.removedDocuments.size>0&&(ft(u.hu,42227),u.hu=!1))})),await Gu(n,s,e)}catch(s){await Fl(s)}}function N1(t,e,n){const s=je(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const p=je(u);p.onlineState=f;let d=!1;p.queries.forEach(((y,v)=>{for(const w of v.ba)w.va(f)&&(d=!0)})),d&&qv(p)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function b5(t,e,n){const s=je(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new Pt(Ne.comparator);u=u.insert(l,Nn.newNoDocument(l,Oe.min()));const f=Je().add(l),p=new im(Oe.min(),new Map,new Pt(Ze),u,f);await KA(s,p),s.Ru=s.Ru.remove(l),s.Au.delete(e),$v(s)}else await wy(s.localStore,e,!1).then((()=>Sy(s,e,n))).catch(Fl)}async function T5(t,e){const n=je(t),s=e.batch.batchId;try{const a=await N4(n.localStore,e);QA(n,s,null),YA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Gu(n,a)}catch(a){await Fl(a)}}async function w5(t,e,n){const s=je(t);try{const a=await(function(u,f){const p=je(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return p.mutationQueue.lookupMutationBatch(d,f).next((v=>(ft(v!==null,37113),y=v.keys(),p.mutationQueue.removeMutationBatch(d,v)))).next((()=>p.mutationQueue.performConsistencyCheck(d))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(d,y,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>p.localDocuments.getDocuments(d,y)))}))})(s.localStore,e);QA(s,e,n),YA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Gu(s,a)}catch(a){await Fl(a)}}function YA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function QA(t,e,n){const s=je(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function Sy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||XA(t,s)}))}function XA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Pv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),$v(t))}function D1(t,e,n){for(const s of n)s instanceof HA?(t.Vu.addReference(s.key,e),E5(t,s)):s instanceof GA?(we(Gv,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||XA(t,s.key)):Me(19791,{wu:s})}function E5(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(we(Gv,"New document in limbo: "+n),t.Eu.add(s),$v(t))}function $v(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ne(xt.fromString(e)),s=t.fu.next();t.Au.set(s,new f5(n)),t.Ru=t.Ru.insert(n,s),jA(t.remoteStore,new aa(Cs(Zd(n.path)),s,"TargetPurposeLimboResolution",Qd.ce))}}async function Gu(t,e,n){const s=je(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,p)=>{u.push(s.pu(p,e,n).then((d=>{if((d||n)&&s.isPrimaryClient){const y=d?!d.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(d){a.push(d);const y=Mv.Es(p.targetId,d);l.push(y)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(p,d){const y=je(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>de.forEach(d,(w=>de.forEach(w.Ts,(C=>y.persistence.referenceDelegate.addReference(v,w.targetId,C))).next((()=>de.forEach(w.Is,(C=>y.persistence.referenceDelegate.removeReference(v,w.targetId,C)))))))))}catch(v){if(!ql(v))throw v;we(Vv,"Failed to update sequence numbers: "+v)}for(const v of d){const w=v.targetId;if(!v.fromCache){const C=y.vs.get(w),M=C.snapshotVersion,O=C.withLastLimboFreeSnapshotVersion(M);y.vs=y.vs.insert(w,O)}}})(s.localStore,l))}async function x5(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){we(Gv,"User change. New user:",e.toKey());const s=await VA(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new be(he.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Gu(n,s.Ns)}}function S5(t,e){const n=je(t),s=n.Au.get(e);if(s&&s.hu)return Je().add(s.key);{let a=Je();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function WA(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b5.bind(null,e),e.Pu.J_=l5.bind(null,e.eventManager),e.Pu.yu=c5.bind(null,e.eventManager),e}function A5(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w5.bind(null,e),e}class bd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return I4(this.persistence,new A4,e.initialUser,this.serializer)}Cu(e){return new MA(kv.Vi,this.serializer)}Du(e){return new O4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bd.provider={build:()=>new bd};class C5 extends bd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ft(this.persistence.referenceDelegate instanceof vd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new h4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new MA((s=>vd.Vi(s,n)),this.serializer)}}class Ay{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>N1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=x5.bind(null,this.syncEngine),await r5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new o5})()}createDatastore(e){const n=sm(e.databaseInfo.databaseId),s=B4(e.databaseInfo);return $4(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,f){return new Y4(s,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>N1(this.syncEngine,n,0)),(function(){return x1.v()?new x1:new L4})())}createSyncEngine(e,n){return(function(a,l,u,f,p,d,y){const v=new d5(a,l,u,f,p,d);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=je(n);we(_o,"RemoteStore shutting down."),s.Ea.add(5),await Hu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ay.provider={build:()=>new Ay};class Kv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const _a="FirestoreClient";class R5{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=In.UNAUTHENTICATED,this.clientId=Kd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{we(_a,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(we(_a,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=zv(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ng(t,e){t.asyncQueue.verifyOperationInProgress(),we(_a,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await VA(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function k1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await I5(t);we(_a,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>A1(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>A1(e.remoteStore,a))),t._onlineComponents=e}async function I5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(_a,"Using user provided OfflineComponentProvider");try{await Ng(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===he.FAILED_PRECONDITION||a.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await Ng(t,new bd)}}else we(_a,"Using default OfflineComponentProvider"),await Ng(t,new C5(void 0));return t._offlineComponents}async function ZA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(_a,"Using user provided OnlineComponentProvider"),await k1(t,t._uninitializedComponentsProvider._online)):(we(_a,"Using default OnlineComponentProvider"),await k1(t,new Ay))),t._onlineComponents}function N5(t){return ZA(t).then((e=>e.syncEngine))}async function Td(t){const e=await ZA(t),n=e.eventManager;return n.onListen=m5.bind(null,e.syncEngine),n.onUnlisten=y5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=p5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=v5.bind(null,e.syncEngine),n}function D5(t,e,n,s){const a=new Kv(s),l=new Hv(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>Bv(await Td(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>Fv(await Td(t),l)))}}function k5(t,e,n={}){const s=new ur;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,d){const y=new Kv({next:w=>{y.Nu(),u.enqueueAndForget((()=>Fv(l,v)));const C=w.docs.has(f);!C&&w.fromCache?d.reject(new be(he.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&p&&p.source==="server"?d.reject(new be(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(w)},error:w=>d.reject(w)}),v=new Hv(Zd(f.path),y,{includeMetadataChanges:!0,Ka:!0});return Bv(l,v)})(await Td(t),t.asyncQueue,e,n,s))),s.promise}function M5(t,e,n={}){const s=new ur;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,d){const y=new Kv({next:w=>{y.Nu(),u.enqueueAndForget((()=>Fv(l,v))),w.fromCache&&p.source==="server"?d.reject(new be(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(w)},error:w=>d.reject(w)}),v=new Hv(f,y,{includeMetadataChanges:!0,Ka:!0});return Bv(l,v)})(await Td(t),t.asyncQueue,e,n,s))),s.promise}function V5(t,e){const n=new ur;return t.asyncQueue.enqueueAndForget((async()=>_5(await N5(t),e,n))),n.promise}function JA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const P5="ComponentProvider",M1=new Map;function O5(t,e,n,s,a){return new nO(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,JA(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const eC="firestore.googleapis.com",V1=!0;class P1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eC,this.ssl=V1}else this.host=e.host,this.ssl=e.ssl??V1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c4)throw new be(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new be(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new be(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new be(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class om{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new FS;switch(s.type){case"firstParty":return new zP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new be(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=M1.get(n);s&&(we(P5,"Removing Datastore"),M1.delete(n),s.terminate())})(this),Promise.resolve()}}function tC(t,e,n,s={}){t=zn(t,om);const a=bo(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(rv(`https://${f}`),av("Firestore",!0)),l.host!==eC&&l.host!==f&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:a,emulatorOptions:s};if(!mo(p,u)&&(t._setSettings(p),s.mockUserToken)){let d,y;if(typeof s.mockUserToken=="string")d=s.mockUserToken,y=In.MOCK_USER;else{d=Zx(s.mockUserToken,t._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new be(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new In(v)}t._authCredentials=new LP(new BS(d,y))}}class Sa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Sa(this.firestore,e,this._query)}}class Vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(zu(n,Vt._jsonSchema))return new Vt(e,s||null,new Ne(xt.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:rn("string",Vt._jsonSchemaVersion),referencePath:rn("string")};class hr extends Sa{constructor(e,n,s){super(e,n,Zd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new Ne(e))}withConverter(e){return new hr(this.firestore,e,this._path)}}function pl(t,e,...n){if(t=un(t),qS("collection","path",e),t instanceof om){const s=xt.fromString(e,...n);return Yw(s),new hr(t,null,s)}{if(!(t instanceof Vt||t instanceof hr))throw new be(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(xt.fromString(e,...n));return Yw(s),new hr(t.firestore,null,s)}}function Is(t,e,...n){if(t=un(t),arguments.length===1&&(e=Kd.newId()),qS("doc","path",e),t instanceof om){const s=xt.fromString(e,...n);return Kw(s),new Vt(t,null,new Ne(s))}{if(!(t instanceof Vt||t instanceof hr))throw new be(he.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(xt.fromString(e,...n));return Kw(s),new Vt(t.firestore,t instanceof hr?t.converter:null,new Ne(s))}}const O1="AsyncQueue";class L1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new OA(this,"async_queue_retry"),this._c=()=>{const s=Ig();s&&we(O1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Ig();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ig();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ql(e))throw e;we(O1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,gr("INTERNAL UNHANDLED ERROR: ",j1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Uv.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Me(47125,{Pc:j1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function j1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ms extends om{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new L1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L1(e),this._firestoreClient=void 0,await e}}}function nC(t,e){const n=typeof t=="object"?t:cv(),s=typeof t=="string"?t:hd,a=qd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=Qx("firestore");l&&tC(a,...l)}return a}function $u(t){if(t._terminated)throw new be(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||L5(t),t._firestoreClient}function L5(t){const e=t._freezeSettings(),n=O5(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new R5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fi(pn.fromBase64String(e))}catch(n){throw new be(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fi(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zu(e,fi._jsonSchema))return fi.fromBase64String(e.bytes)}}fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:rn("string",fi._jsonSchemaVersion),bytes:rn("string")};class lm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cm{constructor(e){this._methodName=e}}class is{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:is._jsonSchemaVersion}}static fromJSON(e){if(zu(e,is._jsonSchema))return new is(e.latitude,e.longitude)}}is._jsonSchemaVersion="firestore/geoPoint/1.0",is._jsonSchema={type:rn("string",is._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};class ji{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zu(e,ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ji(e.vectorValues);throw new be(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:rn("string",ji._jsonSchemaVersion),vectorValues:rn("object")};const j5=/^__.*__$/;class U5{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new xa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fu(e,this.data,n,this.fieldTransforms)}}class iC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new xa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{dataSource:t})}}class Yv{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Yv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return wd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(sC(this.dataSource)&&j5.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class z5{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||sm(e)}createContext(e,n,s,a=!1){return new Yv({dataSource:e,methodName:n,targetDoc:s,path:mn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function um(t){const e=t._freezeSettings(),n=sm(t._databaseId);return new z5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rC(t,e,n,s,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);Qv("Data must be an object, but it was:",u,s);const f=aC(s,u);let p,d;if(l.merge)p=new di(u.fieldMask),d=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const w=Pl(e,v,n);if(!u.contains(w))throw new be(he.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);cC(y,w)||y.push(w)}p=new di(y),d=u.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,d=u.fieldTransforms;return new U5(new Zn(f),p,d)}class Ku extends cm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ku}}function B5(t,e,n,s){const a=t.createContext(1,e,n);Qv("Data must be an object, but it was:",a,s);const l=[],u=Zn.empty();Ea(s,((p,d)=>{const y=lC(e,p,n);d=un(d);const v=a.childContextForFieldPath(y);if(d instanceof Ku)l.push(y);else{const w=Yu(d,v);w!=null&&(l.push(y),u.set(y,w))}}));const f=new di(l);return new iC(u,f,a.fieldTransforms)}function F5(t,e,n,s,a,l){const u=t.createContext(1,e,n),f=[Pl(e,s,n)],p=[a];if(l.length%2!=0)throw new be(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)f.push(Pl(e,l[w])),p.push(l[w+1]);const d=[],y=Zn.empty();for(let w=f.length-1;w>=0;--w)if(!cC(d,f[w])){const C=f[w];let M=p[w];M=un(M);const O=u.childContextForFieldPath(C);if(M instanceof Ku)d.push(C);else{const N=Yu(M,O);N!=null&&(d.push(C),y.set(C,N))}}const v=new di(d);return new iC(y,v,u.fieldTransforms)}function q5(t,e,n,s=!1){return Yu(n,t.createContext(s?4:3,e))}function Yu(t,e){if(oC(t=un(t)))return Qv("Unsupported field value:",e,t),aC(t,e);if(t instanceof cm)return(function(s,a){if(!sC(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const f of s){let p=Yu(f,a.childContextForArray(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return CO(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Fe.fromDate(s);return{timestampValue:yd(a.serializer,l)}}if(s instanceof Fe){const l=new Fe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yd(a.serializer,l)}}if(s instanceof is)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof fi)return{bytesValue:xA(a.serializer,s._byteString)};if(s instanceof Vt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Nv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ji)return(function(u,f){const p=u instanceof ji?u.toArray():u;return{mapValue:{fields:{[JS]:{stringValue:eA},[fd]:{arrayValue:{values:p.map((y=>{if(typeof y!="number")throw f.createError("VectorValues must only contain numeric values.");return Av(f.serializer,y)}))}}}}}})(s,a);if(DA(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Yd(s)}`)})(t,e)}function aC(t,e){const n={};return KS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(t,((s,a)=>{const l=Yu(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function oC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof is||t instanceof fi||t instanceof Vt||t instanceof cm||t instanceof ji||DA(t))}function Qv(t,e,n){if(!oC(n)||!GS(n)){const s=Yd(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function Pl(t,e,n){if((e=un(e))instanceof lm)return e._internalPath;if(typeof e=="string")return lC(t,e);throw wd("Field path arguments must be of type string or ",t,!1,void 0,n)}const H5=new RegExp("[~\\*/\\[\\]]");function lC(t,e,n){if(e.search(H5)>=0)throw wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lm(...e.split("."))._internalPath}catch{throw wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wd(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${s}`),u&&(p+=` in document ${a}`),p+=")"),new be(he.INVALID_ARGUMENT,f+t+p)}function cC(t,e){return t.some((n=>n.isEqual(e)))}class uC{convertValue(e,n="none"){switch(ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ea(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[fd].arrayValue?.values?.map((s=>$t(s.doubleValue)));return new ji(n)}convertGeoPoint(e){return new is($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Wd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const n=pa(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=xt.fromString(e);ft(NA(s),9688,{name:e});const a=new Nl(s.get(1),s.get(3)),l=new Ne(s.popFirst(5));return a.isEqual(n)||gr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Xv extends uC{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function Ed(){return new Ku("deleteField")}const U1="@firebase/firestore",z1="4.10.0";function B1(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class hC{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Pl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G5 extends hC{data(){return super.data()}}function fC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wv{}class dC extends Wv{}function xd(t,e,...n){let s=[];e instanceof Wv&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((p=>p instanceof hm)).length,f=l.filter((p=>p instanceof Qu)).length;if(u>1||u>0&&f>0)throw new be(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Qu extends dC{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Qu(e,n,s)}_apply(e){const n=this._parse(e);return mC(e._query,n),new Sa(e.firestore,e.converter,gy(e._query,n))}_parse(e){const n=um(e.firestore);return(function(l,u,f,p,d,y,v){let w;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new be(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){q1(v,y);const M=[];for(const O of v)M.push(F1(p,l,O));w={arrayValue:{values:M}}}else w=F1(p,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||q1(v,y),w=q5(f,u,v,y==="in"||y==="not-in");return sn.create(d,y,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Sd(t,e,n){const s=e,a=Pl("where",t);return Qu._create(a,s,n)}class hm extends Wv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hm(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ss.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const p of f)mC(u,p),u=gy(u,p)})(e._query,n),new Sa(e.firestore,e.converter,gy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function F1(t,e,n){if(typeof(n=un(n))=="string"){if(n==="")throw new be(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lA(e)&&n.indexOf("/")!==-1)throw new be(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(xt.fromString(n));if(!Ne.isDocumentKey(s))throw new be(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return n1(t,new Ne(s))}if(n instanceof Vt)return n1(t,n._key);throw new be(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yd(n)}.`)}function q1(t,e){if(!Array.isArray(t)||t.length===0)throw new be(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mC(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new be(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function pC(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends hC{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new du(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Pl("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:rn("string",ha._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class du extends ha{data(e={}){return super.data(e)}}class fa{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new gl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new du(this._firestore,this._userDataWriter,s.key,s,new gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const p=new du(a._firestore,a._userDataWriter,f.doc.key,f.doc,new gl(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new du(a._firestore,a._userDataWriter,f.doc.key,f.doc,new gl(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,y=-1;return f.type!==0&&(d=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:$5(f.type),doc:p,oldIndex:d,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}fa._jsonSchemaVersion="firestore/querySnapshot/1.0",fa._jsonSchema={type:rn("string",fa._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};function Xu(t){t=zn(t,Vt);const e=zn(t.firestore,Ms),n=$u(e);return k5(n,t._key).then((s=>_C(e,t,s)))}function mu(t){t=zn(t,Sa);const e=zn(t.firestore,Ms),n=$u(e),s=new Xv(e);return fC(t._query),M5(n,t._query).then((a=>new fa(e,s,t,a)))}function Ad(t,e,n){t=zn(t,Vt);const s=zn(t.firestore,Ms),a=pC(t.converter,e,n),l=um(s);return Wu(s,[rC(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Li.none())])}function Mi(t,e,n,...s){t=zn(t,Vt);const a=zn(t.firestore,Ms),l=um(a);let u;return u=typeof(e=un(e))=="string"||e instanceof lm?F5(l,"updateDoc",t._key,e,n,s):B5(l,"updateDoc",t._key,e),Wu(a,[u.toMutation(t._key,Li.exists(!0))])}function gC(t){return Wu(zn(t.firestore,Ms),[new Cv(t._key,Li.none())])}function yC(t,e){const n=zn(t.firestore,Ms),s=Is(t),a=pC(t.converter,e),l=um(t.firestore);return Wu(n,[rC(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Li.exists(!1))]).then((()=>s))}function vC(t,...e){t=un(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||B1(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(B1(e[s])){const d=e[s];e[s]=d.next?.bind(d),e[s+1]=d.error?.bind(d),e[s+2]=d.complete?.bind(d)}let l,u,f;if(t instanceof Vt)u=zn(t.firestore,Ms),f=Zd(t._key.path),l={next:d=>{e[s]&&e[s](_C(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=zn(t,Sa);u=zn(d.firestore,Ms),f=d._query;const y=new Xv(u);l={next:v=>{e[s]&&e[s](new fa(u,y,d,v))},error:e[s+1],complete:e[s+2]},fC(t._query)}const p=$u(u);return D5(p,f,a,l)}function Wu(t,e){const n=$u(t);return V5(n,e)}function _C(t,e,n){const s=n.docs.get(e._key),a=new Xv(t);return new ha(t,a,e._key,s,new gl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){OP(To),po(new da("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new Ms(new jP(s.getProvider("auth-internal")),new BP(u,s.getProvider("app-check-internal")),iO(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Ss(U1,z1,e),Ss(U1,z1,"esm2020")})();const K5=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:uC,Bytes:fi,CollectionReference:hr,DocumentReference:Vt,DocumentSnapshot:ha,FieldPath:lm,FieldValue:cm,Firestore:Ms,FirestoreError:be,GeoPoint:is,Query:Sa,QueryCompositeFilterConstraint:hm,QueryConstraint:dC,QueryDocumentSnapshot:du,QueryFieldFilterConstraint:Qu,QuerySnapshot:fa,SnapshotMetadata:gl,Timestamp:Fe,VectorValue:ji,_AutoId:Kd,_ByteString:pn,_DatabaseId:Nl,_DocumentKey:Ne,_EmptyAuthCredentialsProvider:FS,_FieldPath:mn,_cast:zn,_logWarn:vo,_validateIsNotUsedTogether:HS,addDoc:yC,collection:pl,connectFirestoreEmulator:tC,deleteDoc:gC,deleteField:Ed,doc:Is,ensureFirestoreConfigured:$u,executeWrite:Wu,getDoc:Xu,getDocs:mu,getFirestore:nC,onSnapshot:vC,query:xd,setDoc:Ad,updateDoc:Mi,where:Sd},Symbol.toStringTag,{value:"Module"}));const bC="firebasestorage.googleapis.com",Y5="storageBucket",Q5=120*1e3,X5=600*1e3;class Ls extends Os{constructor(e,n,s=0){super(Dg(e),`Firebase Storage: ${n} (${Dg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ls.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vs||(Vs={}));function Dg(t){return"storage/"+t}function W5(){const t="An unknown error occurred, please check the error payload for server response.";return new Ls(Vs.UNKNOWN,t)}function Z5(){return new Ls(Vs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function J5(){return new Ls(Vs.CANCELED,"User canceled the upload/download.")}function e3(t){return new Ls(Vs.INVALID_URL,"Invalid URL '"+t+"'.")}function t3(t){return new Ls(Vs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function H1(t){return new Ls(Vs.INVALID_ARGUMENT,t)}function TC(){return new Ls(Vs.APP_DELETED,"The Firebase app was deleted.")}function n3(t){return new Ls(Vs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ts{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ts.makeFromUrl(e,n)}catch{return new ts(e,"")}if(s.path==="")return s;throw t3(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),p={bucket:1,path:3};function d(Q){Q.path_=decodeURIComponent(Q.path)}const y="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",C=new RegExp(`^https?://${v}/${y}/b/${a}/o${w}`,"i"),M={bucket:1,path:3},O=n===bC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",H=new RegExp(`^https?://${O}/${a}/${N}`,"i"),Y=[{regex:f,indices:p,postModify:l},{regex:C,indices:M,postModify:d},{regex:H,indices:{bucket:1,path:2},postModify:d}];for(let Q=0;Q<Y.length;Q++){const re=Y[Q],ce=re.regex.exec(e);if(ce){const I=ce[re.indices.bucket];let S=ce[re.indices.path];S||(S=""),s=new ts(I,S),re.postModify(s);break}}if(s==null)throw e3(e);return s}}class i3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function s3(t,e,n){let s=1,a=null,l=null,u=!1,f=0;function p(){return f===2}let d=!1;function y(...N){d||(d=!0,e.apply(null,N))}function v(N){a=setTimeout(()=>{a=null,t(C,p())},N)}function w(){l&&clearTimeout(l)}function C(N,...H){if(d){w();return}if(N){w(),y.call(null,N,...H);return}if(p()||u){w(),y.call(null,N,...H);return}s<64&&(s*=2);let Y;f===1?(f=2,Y=0):Y=(s+Math.random())*1e3,v(Y)}let M=!1;function O(N){M||(M=!0,w(),!d&&(a!==null?(N||(f=2),clearTimeout(a),v(0)):N||(f=1)))}return v(0),l=setTimeout(()=>{u=!0,O(!0)},n),O}function r3(t){t(!1)}function a3(t){return t!==void 0}function G1(t,e,n,s){if(s<e)throw H1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw H1(`Invalid value for '${t}'. Expected ${n} or less.`)}function o3(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Cd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Cd||(Cd={}));function l3(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class c3{constructor(e,n,s,a,l,u,f,p,d,y,v,w=!0,C=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=p,this.timeout_=d,this.progressCallback_=y,this.connectionFactory_=v,this.retry=w,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,O)=>{this.resolve_=M,this.reject_=O,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Nf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const p=f.loaded,d=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,d)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===Cd.NO_ERROR,p=l.getStatus();if(!f||l3(p,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Cd.ABORT;s(!1,new Nf(!1,null,y));return}const d=this.successCodes_.indexOf(p)!==-1;s(!0,new Nf(d,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());a3(p)?l(p):l()}catch(p){u(p)}else if(f!==null){const p=W5();p.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,p)):u(p)}else if(a.canceled){const p=this.appDelete_?TC():J5();u(p)}else{const p=Z5();u(p)}};this.canceled_?n(!1,new Nf(!1,null,!0)):this.backoffId_=s3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&r3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function u3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function h3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function f3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function d3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function m3(t,e,n,s,a,l,u=!0,f=!1){const p=o3(t.urlParams),d=t.url+p,y=Object.assign({},t.headers);return f3(y,e),u3(y,n),h3(y,l),d3(y,s),new c3(d,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}function p3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function g3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Rd{constructor(e,n){this._service=e,n instanceof ts?this._location=n:this._location=ts.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Rd(e,n)}get root(){const e=new ts(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return g3(this._location.path)}get storage(){return this._service}get parent(){const e=p3(this._location.path);if(e===null)return null;const n=new ts(this._location.bucket,e);return new Rd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw n3(e)}}function $1(t,e){const n=e?.[Y5];return n==null?null:ts.makeFromBucketSpec(n,t)}function y3(t,e,n,s={}){t.host=`${e}:${n}`;const a=bo(e);a&&(rv(`https://${t.host}/b`),av("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:Zx(l,t.app.options.projectId))}class v3{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=bC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Q5,this._maxUploadRetryTime=X5,this._requests=new Set,a!=null?this._bucket=ts.makeFromBucketSpec(a,this._host):this._bucket=$1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ts.makeFromBucketSpec(this._url,e):this._bucket=$1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){G1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){G1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rd(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new i3(TC());{const u=m3(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const K1="@firebase/storage",Y1="0.14.0";const wC="storage";function _3(t=cv(),e){t=un(t);const s=qd(t,wC).getImmediate({identifier:e}),a=Qx("storage");return a&&b3(s,...a),s}function b3(t,e,n,s={}){y3(t,e,n,s)}function T3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new v3(n,s,a,e,To)}function w3(){po(new da(wC,T3,"PUBLIC").setMultipleInstances(!0)),Ss(K1,Y1,""),Ss(K1,Y1,"esm2020")}w3();const E3={apiKey:"AIzaSyC7IaK8e0JimVT2DeKQovTDLPyufibEu_4",authDomain:"sunsar-bingo.firebaseapp.com",projectId:"sunsar-bingo",storageBucket:"sunsar-bingo.firebasestorage.app",messagingSenderId:"256131852935",appId:"1:256131852935:web:fe514c1e6758e5af252622"},fm=tS(E3),Qf=VP(fm),EC=new ar,Wn=nC(fm);_3(fm);const x3=Object.freeze(Object.defineProperty({__proto__:null,app:fm,auth:Qf,db:Wn,googleProvider:EC},Symbol.toStringTag,{value:"Module"})),xC=k.createContext(void 0),S3=({children:t})=>{const[e,n]=k.useState(null),[s,a]=k.useState(!0),[l,u]=k.useState(null);k.useEffect(()=>{const d=wV(Qf,async y=>{if(y){const v={uid:y.uid,email:y.email,displayName:y.displayName,photoURL:y.photoURL};n(v),u(null);try{const{doc:w,setDoc:C,Timestamp:M}=await ty(async()=>{const{doc:N,setDoc:H,Timestamp:X}=await Promise.resolve().then(()=>K5);return{doc:N,setDoc:H,Timestamp:X}},[]),{db:O}=await ty(async()=>{const{db:N}=await Promise.resolve().then(()=>x3);return{db:N}},void 0);await C(w(O,"users",y.uid),{...v,lastSeen:M.now()},{merge:!0})}catch(w){console.error("Error syncing user profile:",w)}}else n(null);a(!1)});return()=>d()},[]);const f=async()=>{u(null);try{await qV(Qf,EC)}catch(d){u(d.message||"Failed to sign in")}},p=async()=>{await EV(Qf)};return b.jsx(xC.Provider,{value:{user:e,loading:s,signIn:f,logout:p,error:l},children:t})},Gl=()=>{const t=k.useContext(xC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Zv=k.createContext({});function Jv(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const SC=typeof window<"u",AC=SC?k.useLayoutEffect:k.useEffect,dm=k.createContext(null);function e0(t,e){t.indexOf(e)===-1&&t.push(e)}function t0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ps=(t,e,n)=>n>e?e:n<t?t:n;let n0=()=>{};const vr={},CC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function RC(t){return typeof t=="object"&&t!==null}const IC=t=>/^0[^.\s]+$/u.test(t);function i0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ui=t=>t,A3=(t,e)=>n=>e(t(n)),Zu=(...t)=>t.reduce(A3),Ru=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class s0{constructor(){this.subscriptions=[]}add(e){return e0(this.subscriptions,e),()=>t0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fr=t=>t*1e3,Oi=t=>t/1e3;function NC(t,e){return e?t*(1e3/e):0}const DC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,C3=1e-7,R3=12;function I3(t,e,n,s,a){let l,u,f=0;do u=e+(n-e)/2,l=DC(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>C3&&++f<R3);return u}function Ju(t,e,n,s){if(t===e&&n===s)return Ui;const a=l=>I3(l,0,1,t,n);return l=>l===0||l===1?l:DC(a(l),e,s)}const kC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,MC=t=>e=>1-t(1-e),VC=Ju(.33,1.53,.69,.99),r0=MC(VC),PC=kC(r0),OC=t=>(t*=2)<1?.5*r0(t):.5*(2-Math.pow(2,-10*(t-1))),a0=t=>1-Math.sin(Math.acos(t)),LC=MC(a0),jC=kC(a0),N3=Ju(.42,0,1,1),D3=Ju(0,0,.58,1),UC=Ju(.42,0,.58,1),k3=t=>Array.isArray(t)&&typeof t[0]!="number",zC=t=>Array.isArray(t)&&typeof t[0]=="number",M3={linear:Ui,easeIn:N3,easeInOut:UC,easeOut:D3,circIn:a0,circInOut:jC,circOut:LC,backIn:r0,backInOut:PC,backOut:VC,anticipate:OC},V3=t=>typeof t=="string",Q1=t=>{if(zC(t)){n0(t.length===4);const[e,n,s,a]=t;return Ju(e,n,s,a)}else if(V3(t))return M3[t];return t},Df=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function P3(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(y){u.has(y)&&(d.schedule(y),t()),y(f)}const d={schedule:(y,v=!1,w=!1)=>{const M=w&&a?n:s;return v&&u.add(y),M.has(y)||M.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(p),n.clear(),a=!1,l&&(l=!1,d.process(y))}};return d}const O3=40;function BC(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Df.reduce((Y,Q)=>(Y[Q]=P3(l),Y),{}),{setup:f,read:p,resolveKeyframes:d,preUpdate:y,update:v,preRender:w,render:C,postRender:M}=u,O=()=>{const Y=vr.useManualTiming?a.timestamp:performance.now();n=!1,vr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(Y-a.timestamp,O3),1)),a.timestamp=Y,a.isProcessing=!0,f.process(a),p.process(a),d.process(a),y.process(a),v.process(a),w.process(a),C.process(a),M.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(O))},N=()=>{n=!0,s=!0,a.isProcessing||t(O)};return{schedule:Df.reduce((Y,Q)=>{const re=u[Q];return Y[Q]=(ce,I=!1,S=!1)=>(n||N(),re.schedule(ce,I,S)),Y},{}),cancel:Y=>{for(let Q=0;Q<Df.length;Q++)u[Df[Q]].cancel(Y)},state:a,steps:u}}const{schedule:Ct,cancel:ba,state:wn,steps:kg}=BC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ui,!0);let Xf;function L3(){Xf=void 0}const jn={now:()=>(Xf===void 0&&jn.set(wn.isProcessing||vr.useManualTiming?wn.timestamp:performance.now()),Xf),set:t=>{Xf=t,queueMicrotask(L3)}},FC=t=>e=>typeof e=="string"&&e.startsWith(t),qC=FC("--"),j3=FC("var(--"),o0=t=>j3(t)?U3.test(t.split("/*")[0].trim()):!1,U3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function X1(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const $l={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Iu={...$l,transform:t=>Ps(0,1,t)},kf={...$l,default:1},pu=t=>Math.round(t*1e5)/1e5,l0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function z3(t){return t==null}const B3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,c0=(t,e)=>n=>!!(typeof n=="string"&&B3.test(n)&&n.startsWith(t)||e&&!z3(n)&&Object.prototype.hasOwnProperty.call(n,e)),HC=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,f]=s.match(l0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},F3=t=>Ps(0,255,t),Mg={...$l,transform:t=>Math.round(F3(t))},lo={test:c0("rgb","red"),parse:HC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Mg.transform(t)+", "+Mg.transform(e)+", "+Mg.transform(n)+", "+pu(Iu.transform(s))+")"};function q3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Cy={test:c0("#"),parse:q3,transform:lo.transform},eh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),na=eh("deg"),Ns=eh("%"),Ee=eh("px"),H3=eh("vh"),G3=eh("vw"),W1={...Ns,parse:t=>Ns.parse(t)/100,transform:t=>Ns.transform(t*100)},yl={test:c0("hsl","hue"),parse:HC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ns.transform(pu(e))+", "+Ns.transform(pu(n))+", "+pu(Iu.transform(s))+")"},nn={test:t=>lo.test(t)||Cy.test(t)||yl.test(t),parse:t=>lo.test(t)?lo.parse(t):yl.test(t)?yl.parse(t):Cy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?lo.transform(t):yl.transform(t),getAnimatableNone:t=>{const e=nn.parse(t);return e.alpha=0,nn.transform(e)}},$3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function K3(t){return isNaN(t)&&typeof t=="string"&&(t.match(l0)?.length||0)+(t.match($3)?.length||0)>0}const GC="number",$C="color",Y3="var",Q3="var(",Z1="${}",X3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(X3,p=>(nn.test(p)?(s.color.push(l),a.push($C),n.push(nn.parse(p))):p.startsWith(Q3)?(s.var.push(l),a.push(Y3),n.push(p)):(s.number.push(l),a.push(GC),n.push(parseFloat(p))),++l,Z1)).split(Z1);return{values:n,split:f,indexes:s,types:a}}function KC(t){return Nu(t).values}function YC(t){const{split:e,types:n}=Nu(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===GC?l+=pu(a[u]):f===$C?l+=nn.transform(a[u]):l+=a[u]}return l}}const W3=t=>typeof t=="number"?0:nn.test(t)?nn.getAnimatableNone(t):t;function Z3(t){const e=KC(t);return YC(t)(e.map(W3))}const Ta={test:K3,parse:KC,createTransformer:YC,getAnimatableNone:Z3};function Vg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function J3({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,p=2*n-f;a=Vg(p,f,t+1/3),l=Vg(p,f,t),u=Vg(p,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function Id(t,e){return n=>n>0?e:t}const Mt=(t,e,n)=>t+(e-t)*n,Pg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},eL=[Cy,lo,yl],tL=t=>eL.find(e=>e.test(t));function J1(t){const e=tL(t);if(!e)return!1;let n=e.parse(t);return e===yl&&(n=J3(n)),n}const eE=(t,e)=>{const n=J1(t),s=J1(e);if(!n||!s)return Id(t,e);const a={...n};return l=>(a.red=Pg(n.red,s.red,l),a.green=Pg(n.green,s.green,l),a.blue=Pg(n.blue,s.blue,l),a.alpha=Mt(n.alpha,s.alpha,l),lo.transform(a))},Ry=new Set(["none","hidden"]);function nL(t,e){return Ry.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function iL(t,e){return n=>Mt(t,e,n)}function u0(t){return typeof t=="number"?iL:typeof t=="string"?o0(t)?Id:nn.test(t)?eE:aL:Array.isArray(t)?QC:typeof t=="object"?nn.test(t)?eE:sL:Id}function QC(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>u0(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function sL(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=u0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function rL(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],f=t.values[u]??0;n[a]=f,s[l]++}return n}const aL=(t,e)=>{const n=Ta.createTransformer(e),s=Nu(t),a=Nu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Ry.has(t)&&!a.values.length||Ry.has(e)&&!s.values.length?nL(t,e):Zu(QC(rL(s,a),a.values),n):Id(t,e)};function XC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Mt(t,e,n):u0(t)(t,e)}const oL=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ct.update(e,n),stop:()=>ba(e),now:()=>wn.isProcessing?wn.timestamp:jn.now()}},WC=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Nd=2e4;function h0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Nd;)e+=n,s=t.next(e);return e>=Nd?1/0:e}function lL(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(h0(s),Nd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Oi(a)}}const cL=5;function ZC(t,e,n){const s=Math.max(e-cL,0);return NC(n-t(s),e-s)}const Ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Og=.001;function uL({duration:t=Ut.duration,bounce:e=Ut.bounce,velocity:n=Ut.velocity,mass:s=Ut.mass}){let a,l,u=1-e;u=Ps(Ut.minDamping,Ut.maxDamping,u),t=Ps(Ut.minDuration,Ut.maxDuration,Oi(t)),u<1?(a=d=>{const y=d*u,v=y*t,w=y-n,C=Iy(d,u),M=Math.exp(-v);return Og-w/C*M},l=d=>{const v=d*u*t,w=v*n+n,C=Math.pow(u,2)*Math.pow(d,2)*t,M=Math.exp(-v),O=Iy(Math.pow(d,2),u);return(-a(d)+Og>0?-1:1)*((w-C)*M)/O}):(a=d=>{const y=Math.exp(-d*t),v=(d-n)*t+1;return-Og+y*v},l=d=>{const y=Math.exp(-d*t),v=(n-d)*(t*t);return y*v});const f=5/t,p=fL(a,l,f);if(t=fr(t),isNaN(p))return{stiffness:Ut.stiffness,damping:Ut.damping,duration:t};{const d=Math.pow(p,2)*s;return{stiffness:d,damping:u*2*Math.sqrt(s*d),duration:t}}}const hL=12;function fL(t,e,n){let s=n;for(let a=1;a<hL;a++)s=s-t(s)/e(s);return s}function Iy(t,e){return t*Math.sqrt(1-e*e)}const dL=["duration","bounce"],mL=["stiffness","damping","mass"];function tE(t,e){return e.some(n=>t[n]!==void 0)}function pL(t){let e={velocity:Ut.velocity,stiffness:Ut.stiffness,damping:Ut.damping,mass:Ut.mass,isResolvedFromDuration:!1,...t};if(!tE(t,mL)&&tE(t,dL))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ps(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ut.mass,stiffness:a,damping:l}}else{const n=uL(t);e={...e,...n,mass:Ut.mass},e.isResolvedFromDuration=!0}return e}function Dd(t=Ut.visualDuration,e=Ut.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:p,damping:d,mass:y,duration:v,velocity:w,isResolvedFromDuration:C}=pL({...n,velocity:-Oi(n.velocity||0)}),M=w||0,O=d/(2*Math.sqrt(p*y)),N=u-l,H=Oi(Math.sqrt(p/y)),X=Math.abs(N)<5;s||(s=X?Ut.restSpeed.granular:Ut.restSpeed.default),a||(a=X?Ut.restDelta.granular:Ut.restDelta.default);let Y;if(O<1){const re=Iy(H,O);Y=ce=>{const I=Math.exp(-O*H*ce);return u-I*((M+O*H*N)/re*Math.sin(re*ce)+N*Math.cos(re*ce))}}else if(O===1)Y=re=>u-Math.exp(-H*re)*(N+(M+H*N)*re);else{const re=H*Math.sqrt(O*O-1);Y=ce=>{const I=Math.exp(-O*H*ce),S=Math.min(re*ce,300);return u-I*((M+O*H*N)*Math.sinh(S)+re*N*Math.cosh(S))/re}}const Q={calculatedDuration:C&&v||null,next:re=>{const ce=Y(re);if(C)f.done=re>=v;else{let I=re===0?M:0;O<1&&(I=re===0?fr(M):ZC(Y,re,ce));const S=Math.abs(I)<=s,D=Math.abs(u-ce)<=a;f.done=S&&D}return f.value=f.done?u:ce,f},toString:()=>{const re=Math.min(h0(Q),Nd),ce=WC(I=>Q.next(re*I).value,re,30);return re+"ms "+ce},toTransition:()=>{}};return Q}Dd.applyToOptions=t=>{const e=lL(t,100,Dd);return t.ease=e.ease,t.duration=fr(e.duration),t.type="keyframes",t};function Ny({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:p,restDelta:d=.5,restSpeed:y}){const v=t[0],w={done:!1,value:v},C=S=>f!==void 0&&S<f||p!==void 0&&S>p,M=S=>f===void 0?p:p===void 0||Math.abs(f-S)<Math.abs(p-S)?f:p;let O=n*e;const N=v+O,H=u===void 0?N:u(N);H!==N&&(O=H-v);const X=S=>-O*Math.exp(-S/s),Y=S=>H+X(S),Q=S=>{const D=X(S),j=Y(S);w.done=Math.abs(D)<=d,w.value=w.done?H:j};let re,ce;const I=S=>{C(w.value)&&(re=S,ce=Dd({keyframes:[w.value,M(w.value)],velocity:ZC(Y,S,w.value),damping:a,stiffness:l,restDelta:d,restSpeed:y}))};return I(0),{calculatedDuration:null,next:S=>{let D=!1;return!ce&&re===void 0&&(D=!0,Q(S),I(S)),re!==void 0&&S>=re?ce.next(S-re):(!D&&Q(S),w)}}}function gL(t,e,n){const s=[],a=n||vr.mix||XC,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const p=Array.isArray(e)?e[u]||Ui:e;f=Zu(p,f)}s.push(f)}return s}function yL(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(n0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=gL(e,s,a),p=f.length,d=y=>{if(u&&y<t[0])return e[0];let v=0;if(p>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const w=Ru(t[v],t[v+1],y);return f[v](w)};return n?y=>d(Ps(t[0],t[l-1],y)):d}function vL(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Ru(0,e,s);t.push(Mt(n,1,a))}}function _L(t){const e=[0];return vL(e,t.length-1),e}function bL(t,e){return t.map(n=>n*e)}function TL(t,e){return t.map(()=>e||UC).splice(0,t.length-1)}function gu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=k3(s)?s.map(Q1):Q1(s),l={done:!1,value:e[0]},u=bL(n&&n.length===e.length?n:_L(e),t),f=yL(u,e,{ease:Array.isArray(a)?a:TL(e,a)});return{calculatedDuration:t,next:p=>(l.value=f(p),l.done=p>=t,l)}}const wL=t=>t!==null;function f0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(wL),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const EL={decay:Ny,inertia:Ny,tween:gu,keyframes:gu,spring:Dd};function JC(t){typeof t.type=="string"&&(t.type=EL[t.type])}class d0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const xL=t=>t/100;class m0 extends d0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==jn.now()&&this.tick(jn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;JC(e);const{type:n=gu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const p=n||gu;p!==gu&&typeof f[0]!="number"&&(this.mixKeyframes=Zu(xL,XC(f[0],f[1])),f=[0,100]);const d=p({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...f].reverse(),velocity:-u})),d.calculatedDuration===null&&(d.calculatedDuration=h0(d));const{calculatedDuration:y}=d;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:y,repeat:v,repeatType:w,repeatDelay:C,type:M,onUpdate:O,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const H=this.currentTime-d*(this.playbackSpeed>=0?1:-1),X=this.playbackSpeed>=0?H<0:H>a;this.currentTime=Math.max(H,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Y=this.currentTime,Q=s;if(v){const S=Math.min(this.currentTime,a)/f;let D=Math.floor(S),j=S%1;!j&&S>=1&&(j=1),j===1&&D--,D=Math.min(D,v+1),D%2&&(w==="reverse"?(j=1-j,C&&(j-=C/f)):w==="mirror"&&(Q=u)),Y=Ps(0,1,j)*f}const re=X?{done:!1,value:y[0]}:Q.next(Y);l&&(re.value=l(re.value));let{done:ce}=re;!X&&p!==null&&(ce=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ce);return I&&M!==Ny&&(re.value=f0(y,this.options,N,this.speed)),O&&O(re.value),I&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return Oi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Oi(e)}get time(){return Oi(this.currentTime)}set time(e){e=fr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(jn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Oi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=oL,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(jn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function SL(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const co=t=>t*180/Math.PI,Dy=t=>{const e=co(Math.atan2(t[1],t[0]));return ky(e)},AL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Dy,rotateZ:Dy,skewX:t=>co(Math.atan(t[1])),skewY:t=>co(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ky=t=>(t=t%360,t<0&&(t+=360),t),nE=Dy,iE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),sE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),CL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iE,scaleY:sE,scale:t=>(iE(t)+sE(t))/2,rotateX:t=>ky(co(Math.atan2(t[6],t[5]))),rotateY:t=>ky(co(Math.atan2(-t[2],t[0]))),rotateZ:nE,rotate:nE,skewX:t=>co(Math.atan(t[4])),skewY:t=>co(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function My(t){return t.includes("scale")?1:0}function Vy(t,e){if(!t||t==="none")return My(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=CL,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=AL,a=f}if(!a)return My(e);const l=s[e],u=a[1].split(",").map(IL);return typeof l=="function"?l(u):u[l]}const RL=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Vy(n,e)};function IL(t){return parseFloat(t.trim())}const Kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yl=new Set(Kl),rE=t=>t===$l||t===Ee,NL=new Set(["x","y","z"]),DL=Kl.filter(t=>!NL.has(t));function kL(t){const e=[];return DL.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const oa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Vy(e,"x"),y:(t,{transform:e})=>Vy(e,"y")};oa.translateX=oa.x;oa.translateY=oa.y;const ho=new Set;let Py=!1,Oy=!1,Ly=!1;function eR(){if(Oy){const t=Array.from(ho).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=kL(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Oy=!1,Py=!1,ho.forEach(t=>t.complete(Ly)),ho.clear()}function tR(){ho.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Oy=!0)})}function ML(){Ly=!0,tR(),eR(),Ly=!1}class p0{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(ho.add(this),Py||(Py=!0,Ct.read(tR),Ct.resolveKeyframes(eR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}SL(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ho.delete(this)}cancel(){this.state==="scheduled"&&(ho.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const VL=t=>t.startsWith("--");function PL(t,e,n){VL(e)?t.style.setProperty(e,n):t.style[e]=n}const OL=i0(()=>window.ScrollTimeline!==void 0),LL={};function jL(t,e){const n=i0(t);return()=>LL[e]??n()}const nR=jL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ru=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,aE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ru([0,.65,.55,1]),circOut:ru([.55,0,1,.45]),backIn:ru([.31,.01,.66,-.59]),backOut:ru([.33,1.53,.69,.99])};function iR(t,e){if(t)return typeof t=="function"?nR()?WC(t,e):"ease-out":zC(t)?ru(t):Array.isArray(t)?t.map(n=>iR(n,e)||aE.easeOut):aE[t]}function UL(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:p}={},d=void 0){const y={[e]:n};p&&(y.offset=p);const v=iR(f,a);Array.isArray(v)&&(y.easing=v);const w={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return d&&(w.pseudoElement=d),t.animate(y,w)}function sR(t){return typeof t=="function"&&"applyToOptions"in t}function zL({type:t,...e}){return sR(t)&&nR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class BL extends d0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:p}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,n0(typeof e.type!="string");const d=zL(e);this.animation=UL(n,s,a,d,l),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=f0(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):PL(n,s,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Oi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Oi(e)}get time(){return Oi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=fr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&OL()?(this.animation.timeline=e,Ui):n(this)}}const rR={anticipate:OC,backInOut:PC,circInOut:jC};function FL(t){return t in rR}function qL(t){typeof t.ease=="string"&&FL(t.ease)&&(t.ease=rR[t.ease])}const Lg=10;class HL extends BL{constructor(e){qL(e),JC(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new m0({...u,autoplay:!1}),p=Math.max(Lg,jn.now()-this.startTime),d=Ps(0,Lg,p-Lg);n.setWithVelocity(f.sample(Math.max(0,p-d)).value,f.sample(p).value,d),f.stop()}}const oE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ta.test(t)||t==="0")&&!t.startsWith("url("));function GL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function $L(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=oE(a,e),f=oE(l,e);return!u||!f?!1:GL(t)||(n==="spring"||sR(n))&&s}function jy(t){t.duration=0,t.type="keyframes"}const KL=new Set(["opacity","clipPath","filter","transform"]),YL=i0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function QL(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:d}=e.owner.getProps();return YL()&&n&&KL.has(n)&&(n!=="transform"||!d)&&!p&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const XL=40;class WL extends d0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:p,motionValue:d,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=jn.now();const w={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:p,motionValue:d,element:y,...v},C=y?.KeyframeResolver||p0;this.keyframeResolver=new C(f,(M,O,N)=>this.onKeyframesResolved(M,O,w,!N),p,d,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:p,isHandoff:d,onUpdate:y}=s;this.resolvedAt=jn.now(),$L(e,l,u,f)||((vr.instantAnimations||!p)&&y?.(f0(e,s,n)),e[0]=e[e.length-1],jy(s),s.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>XL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},C=!d&&QL(w)?new HL({...w,element:w.motionValue.owner.current}):new m0(w);C.finished.then(()=>this.notifyFinished()).catch(Ui),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),ML()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const ZL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function JL(t){const e=ZL.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function aR(t,e,n=1){const[s,a]=JL(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return CC(u)?parseFloat(u):u}return o0(a)?aR(a,e,n+1):a}function g0(t,e){return t?.[e]??t?.default??t}const ej={type:"spring",stiffness:500,damping:25,restSpeed:10},tj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),nj={type:"keyframes",duration:.8},ij={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sj=(t,{keyframes:e})=>e.length>2?nj:Yl.has(t)?t.startsWith("scale")?tj(e[1]):ej:ij;function rj({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:p,elapsed:d,...y}){return!!Object.keys(y).length}const aj=t=>t!==null;function oj(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(aj),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function oR(t,e,n,s=0,a=1){const l=Array.from(t).sort((d,y)=>d.sortNodePosition(y)).indexOf(e),u=t.size,f=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:f-l*s}const y0=(t,e,n,s={},a,l)=>u=>{const f=g0(s,t)||{},p=f.delay||s.delay||0;let{elapsed:d=0}=s;d=d-fr(p);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-d,onUpdate:w=>{e.set(w),f.onUpdate&&f.onUpdate(w)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};rj(f)||Object.assign(y,sj(t,y)),y.duration&&(y.duration=fr(y.duration)),y.repeatDelay&&(y.repeatDelay=fr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(jy(y),y.delay===0&&(v=!0)),(vr.instantAnimations||vr.skipAnimations)&&(v=!0,jy(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,v&&!l&&e.get()!==void 0){const w=oj(y.keyframes,f);if(w!==void 0){Ct.update(()=>{y.onUpdate(w),y.onComplete()});return}}return f.isSync?new m0(y):new WL(y)},lR=new Set(["width","height","top","left","right","bottom",...Kl]),lE=30,lj=t=>!isNaN(parseFloat(t));class cj{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=jn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=jn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=lj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new s0);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ct.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=jn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>lE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,lE);return NC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ol(t,e){return new cj(t,e)}function cE(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function v0(t,e,n,s){if(typeof e=="function"){const[a,l]=cE(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=cE(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Cl(t,e,n){const s=t.getProps();return v0(s,e,n!==void 0?n:s.custom,t)}const Uy=t=>Array.isArray(t);function uj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ol(n))}function hj(t){return Uy(t)?t[t.length-1]||0:t}function fj(t,e){const n=Cl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const f=hj(l[u]);uj(t,u,f)}}const Dn=t=>!!(t&&t.getVelocity);function dj(t){return!!(Dn(t)&&t.add)}function zy(t,e){const n=t.getValue("willChange");if(dj(n))return n.add(e);if(!n&&vr.WillChange){const s=new vr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function _0(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const mj="framerAppearId",cR="data-"+_0(mj);function uR(t){return t.props[cR]}function pj({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function hR(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;s&&(l=s);const p=[],d=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const v=t.getValue(y,t.latestValues[y]??null),w=f[y];if(w===void 0||d&&pj(d,y))continue;const C={delay:n,...g0(l||{},y)},M=v.get();if(M!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===M&&!C.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const H=uR(t);if(H){const X=window.MotionHandoffAnimation(H,y,Ct);X!==null&&(C.startTime=X,O=!0)}}zy(t,y),v.start(y0(y,v,w,t.shouldReduceMotion&&lR.has(y)?{type:!1}:C,t,O));const N=v.animation;N&&p.push(N)}return u&&Promise.all(p).then(()=>{Ct.update(()=>{u&&fj(t,u)})}),p}function By(t,e,n={}){const s=Cl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(hR(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:d=0,staggerChildren:y,staggerDirection:v}=a;return gj(t,e,p,d,y,v,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,d]=f==="beforeChildren"?[l,u]:[u,l];return p().then(()=>d())}else return Promise.all([l(),u(n.delay)])}function gj(t,e,n=0,s=0,a=0,l=1,u){const f=[];for(const p of t.variantChildren)p.notify("AnimationStart",e),f.push(By(p,e,{...u,delay:n+(typeof s=="function"?0:s)+oR(t.variantChildren,p,s,a,l)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(f)}function yj(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>By(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=By(t,e,n);else{const a=typeof e=="function"?Cl(t,e,n.custom):e;s=Promise.all(hR(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const vj={test:t=>t==="auto",parse:t=>t},fR=t=>e=>e.test(t),dR=[$l,Ee,Ns,na,G3,H3,vj],uE=t=>dR.find(fR(t));function _j(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||IC(t):!0}const bj=new Set(["brightness","contrast","saturate","opacity"]);function Tj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(l0)||[];if(!s)return t;const a=n.replace(s,"");let l=bj.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const wj=/\b([a-z-]*)\(.*?\)/gu,Fy={...Ta,getAnimatableNone:t=>{const e=t.match(wj);return e?e.map(Tj).join(" "):t}},hE={...$l,transform:Math.round},Ej={rotate:na,rotateX:na,rotateY:na,rotateZ:na,scale:kf,scaleX:kf,scaleY:kf,scaleZ:kf,skew:na,skewX:na,skewY:na,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:Iu,originX:W1,originY:W1,originZ:Ee},b0={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,inset:Ee,insetBlock:Ee,insetBlockStart:Ee,insetBlockEnd:Ee,insetInline:Ee,insetInlineStart:Ee,insetInlineEnd:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,paddingBlock:Ee,paddingBlockStart:Ee,paddingBlockEnd:Ee,paddingInline:Ee,paddingInlineStart:Ee,paddingInlineEnd:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,marginBlock:Ee,marginBlockStart:Ee,marginBlockEnd:Ee,marginInline:Ee,marginInlineStart:Ee,marginInlineEnd:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...Ej,zIndex:hE,fillOpacity:Iu,strokeOpacity:Iu,numOctaves:hE},xj={...b0,color:nn,backgroundColor:nn,outlineColor:nn,fill:nn,stroke:nn,borderColor:nn,borderTopColor:nn,borderRightColor:nn,borderBottomColor:nn,borderLeftColor:nn,filter:Fy,WebkitFilter:Fy},mR=t=>xj[t];function pR(t,e){let n=mR(t);return n!==Fy&&(n=Ta),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Sj=new Set(["auto","none","0"]);function Aj(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!Sj.has(l)&&Nu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=pR(n,a)}class Cj extends p0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),o0(v))){const w=aR(v,n.current);w!==void 0&&(e[y]=w),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!lR.has(s)||e.length!==2)return;const[a,l]=e,u=uE(a),f=uE(l),p=X1(a),d=X1(l);if(p!==d&&oa[s]){this.needsMeasurement=!0;return}if(u!==f)if(rE(u)&&rE(f))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else oa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||_j(e[a]))&&s.push(a);s.length&&Aj(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=oa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function Rj(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const gR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function yR(t){return RC(t)&&"offsetHeight"in t}const{schedule:T0}=BC(queueMicrotask,!1),Zi={x:!1,y:!1};function vR(){return Zi.x||Zi.y}function Ij(t){return t==="x"||t==="y"?Zi[t]?null:(Zi[t]=!0,()=>{Zi[t]=!1}):Zi.x||Zi.y?null:(Zi.x=Zi.y=!0,()=>{Zi.x=Zi.y=!1})}function _R(t,e){const n=Rj(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function fE(t){return!(t.pointerType==="touch"||vR())}function Nj(t,e,n={}){const[s,a,l]=_R(t,n),u=f=>{if(!fE(f))return;const{target:p}=f,d=e(p,f);if(typeof d!="function"||!p)return;const y=v=>{fE(v)&&(d(v),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,a)};return s.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const bR=(t,e)=>e?t===e?!0:bR(t,e.parentElement):!1,w0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Dj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TR(t){return Dj.has(t.tagName)||t.isContentEditable===!0}const Wf=new WeakSet;function dE(t){return e=>{e.key==="Enter"&&t(e)}}function jg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const kj=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=dE(()=>{if(Wf.has(n))return;jg(n,"down");const a=dE(()=>{jg(n,"up")}),l=()=>jg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function mE(t){return w0(t)&&!vR()}function Mj(t,e,n={}){const[s,a,l]=_R(t,n),u=f=>{const p=f.currentTarget;if(!mE(f))return;Wf.add(p);const d=e(p,f),y=(C,M)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Wf.has(p)&&Wf.delete(p),mE(C)&&typeof d=="function"&&d(C,{success:M})},v=C=>{y(C,p===window||p===document||n.useGlobalTarget||bR(p,C.target))},w=C=>{y(C,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",w,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),yR(f)&&(f.addEventListener("focus",d=>kj(d,a)),!TR(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function wR(t){return RC(t)&&"ownerSVGElement"in t}function Vj(t){return wR(t)&&t.tagName==="svg"}const Pj=[...dR,nn,Ta],Oj=t=>Pj.find(fR(t)),pE=()=>({translate:0,scale:1,origin:0,originPoint:0}),vl=()=>({x:pE(),y:pE()}),gE=()=>({min:0,max:0}),ln=()=>({x:gE(),y:gE()}),qy={current:null},ER={current:!1},Lj=typeof window<"u";function jj(){if(ER.current=!0,!!Lj)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qy.current=t.matches;t.addEventListener("change",e),e()}else qy.current=!1}const Uj=new WeakMap;function mm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Du(t){return typeof t=="string"||Array.isArray(t)}const E0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],x0=["initial",...E0];function pm(t){return mm(t.animate)||x0.some(e=>Du(t[e]))}function xR(t){return!!(pm(t)||t.variants)}function zj(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Dn(a))t.addValue(s,a);else if(Dn(l))t.addValue(s,Ol(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,Ol(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const yE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let kd={};function SR(t){kd=t}function Bj(){return kd}class Fj{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=p0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=jn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Ct.render(this.render,!1,!0))};const{latestValues:p,renderState:d}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=pm(n),this.isVariantNode=xR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const C=v[w];p[w]!==void 0&&Dn(C)&&C.set(p[w])}}mount(e){this.current=e,Uj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(ER.current||jj(),this.shouldReduceMotion=qy.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ba(this.notifyUpdate),ba(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Yl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ct.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in kd){const n=kd[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ln()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<yE.length;s++){const a=yE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=zj(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Ol(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(CC(s)||IC(s))?s=parseFloat(s):!Oj(s)&&Ta.test(n)&&(s=pR(e,n)),this.setBaseTarget(e,Dn(s)?s.get():s)),Dn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=v0(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Dn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new s0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){T0.render(this.render)}}class Aa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class AR extends Fj{constructor(){super(...arguments),this.KeyframeResolver=Cj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function CR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function qj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Hj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ug(t){return t===void 0||t===1}function Hy({scale:t,scaleX:e,scaleY:n}){return!Ug(t)||!Ug(e)||!Ug(n)}function ro(t){return Hy(t)||RR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function RR(t){return vE(t.x)||vE(t.y)}function vE(t){return t&&t!=="0%"}function Md(t,e,n){const s=t-n,a=e*s;return n+a}function _E(t,e,n,s,a){return a!==void 0&&(t=Md(t,a,s)),Md(t,n,s)+e}function Gy(t,e=0,n=1,s,a){t.min=_E(t.min,e,n,s,a),t.max=_E(t.max,e,n,s,a)}function IR(t,{x:e,y:n}){Gy(t.x,e.translate,e.scale,e.originPoint),Gy(t.y,n.translate,n.scale,n.originPoint)}const bE=.999999999999,TE=1.0000000000001;function Gj(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&bl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,IR(t,u)),s&&ro(l.latestValues)&&bl(t,l.latestValues))}e.x<TE&&e.x>bE&&(e.x=1),e.y<TE&&e.y>bE&&(e.y=1)}function _l(t,e){t.min=t.min+e,t.max=t.max+e}function wE(t,e,n,s,a=.5){const l=Mt(t.min,t.max,a);Gy(t,e,n,l,s)}function bl(t,e){wE(t.x,e.x,e.scaleX,e.scale,e.originX),wE(t.y,e.y,e.scaleY,e.scale,e.originY)}function NR(t,e){return CR(Hj(t.getBoundingClientRect(),e))}function $j(t,e,n){const s=NR(t,n),{scroll:a}=e;return a&&(_l(s.x,a.offset.x),_l(s.y,a.offset.y)),s}const Kj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Yj=Kl.length;function Qj(t,e,n){let s="",a=!0;for(let l=0;l<Yj;l++){const u=Kl[l],f=t[u];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(u.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||n){const d=gR(f,b0[u]);if(!p){a=!1;const y=Kj[u]||u;s+=`${y}(${d}) `}n&&(e[u]=d)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function S0(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const p in e){const d=e[p];if(Yl.has(p)){u=!0;continue}else if(qC(p)){a[p]=d;continue}else{const y=gR(d,b0[p]);p.startsWith("origin")?(f=!0,l[p]=y):s[p]=y}}if(e.transform||(u||n?s.transform=Qj(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:p="50%",originY:d="50%",originZ:y=0}=l;s.transformOrigin=`${p} ${d} ${y}`}}function DR(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function EE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Jc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const n=EE(t,e.target.x),s=EE(t,e.target.y);return`${n}% ${s}%`}},Xj={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Ta.parse(t);if(a.length>5)return s;const l=Ta.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,p=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=p;const d=Mt(f,p,.5);return typeof a[2+u]=="number"&&(a[2+u]/=d),typeof a[3+u]=="number"&&(a[3+u]/=d),l(a)}},$y={borderRadius:{...Jc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jc,borderTopRightRadius:Jc,borderBottomLeftRadius:Jc,borderBottomRightRadius:Jc,boxShadow:Xj};function kR(t,{layout:e,layoutId:n}){return Yl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!$y[t]||t==="opacity")}function A0(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const u in s)(Dn(s[u])||a&&Dn(a[u])||kR(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function Wj(t){return window.getComputedStyle(t)}class Zj extends AR{constructor(){super(...arguments),this.type="html",this.renderInstance=DR}readValueFromInstance(e,n){if(Yl.has(n))return this.projection?.isProjecting?My(n):RL(e,n);{const s=Wj(e),a=(qC(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return NR(e,n)}build(e,n,s){S0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return A0(e,n,s)}}const Jj={offset:"stroke-dashoffset",array:"stroke-dasharray"},e6={offset:"strokeDashoffset",array:"strokeDasharray"};function t6(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?Jj:e6;t[l.offset]=Ee.transform(-s);const u=Ee.transform(e),f=Ee.transform(n);t[l.array]=`${u} ${f}`}const n6=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function MR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},p,d,y){if(S0(t,f,d),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const C of n6)v[C]!==void 0&&(w[C]=v[C],delete v[C]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&t6(v,a,l,u,!1)}const VR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),PR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function i6(t,e,n,s){DR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(VR.has(a)?a:_0(a),e.attrs[a])}function OR(t,e,n){const s=A0(t,e,n);for(const a in t)if(Dn(t[a])||Dn(e[a])){const l=Kl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class s6 extends AR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ln}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Yl.has(n)){const s=mR(n);return s&&s.default||0}return n=VR.has(n)?n:_0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return OR(e,n,s)}build(e,n,s){MR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){i6(e,n,s,a)}mount(e){this.isSVGTag=PR(e.tagName),super.mount(e)}}const r6=x0.length;function LR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?LR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<r6;n++){const s=x0[n],a=t.props[s];(Du(a)||a===!1)&&(e[s]=a)}return e}function jR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const a6=[...E0].reverse(),o6=E0.length;function l6(t){return e=>Promise.all(e.map(({animation:n,options:s})=>yj(t,n,s)))}function c6(t){let e=l6(t),n=xE(),s=!0;const a=p=>(d,y)=>{const v=Cl(t,y,p==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:C,...M}=v;d={...d,...M,...C}}return d};function l(p){e=p(t)}function u(p){const{props:d}=t,y=LR(t.parent)||{},v=[],w=new Set;let C={},M=1/0;for(let N=0;N<o6;N++){const H=a6[N],X=n[H],Y=d[H]!==void 0?d[H]:y[H],Q=Du(Y),re=H===p?X.isActive:null;re===!1&&(M=N);let ce=Y===y[H]&&Y!==d[H]&&Q;if(ce&&s&&t.manuallyAnimateOnMount&&(ce=!1),X.protectedKeys={...C},!X.isActive&&re===null||!Y&&!X.prevProp||mm(Y)||typeof Y=="boolean")continue;const I=u6(X.prevProp,Y);let S=I||H===p&&X.isActive&&!ce&&Q||N>M&&Q,D=!1;const j=Array.isArray(Y)?Y:[Y];let P=j.reduce(a(H),{});re===!1&&(P={});const{prevResolvedValues:z={}}=X,V={...z,...P},pe=Z=>{S=!0,w.has(Z)&&(D=!0,w.delete(Z)),X.needsAnimating[Z]=!0;const q=t.getValue(Z);q&&(q.liveStyle=!1)};for(const Z in V){const q=P[Z],me=z[Z];if(C.hasOwnProperty(Z))continue;let B=!1;Uy(q)&&Uy(me)?B=!jR(q,me):B=q!==me,B?q!=null?pe(Z):w.add(Z):q!==void 0&&w.has(Z)?pe(Z):X.protectedKeys[Z]=!0}X.prevProp=Y,X.prevResolvedValues=P,X.isActive&&(C={...C,...P}),s&&t.blockInitialAnimation&&(S=!1);const ye=ce&&I;S&&(!ye||D)&&v.push(...j.map(Z=>{const q={type:H};if(typeof Z=="string"&&s&&!ye&&t.manuallyAnimateOnMount&&t.parent){const{parent:me}=t,B=Cl(me,Z);if(me.enteringChildren&&B){const{delayChildren:x}=B.transition||{};q.delay=oR(me.enteringChildren,t,x)}}return{animation:Z,options:q}}))}if(w.size){const N={};if(typeof d.initial!="boolean"){const H=Cl(t,Array.isArray(d.initial)?d.initial[0]:d.initial);H&&H.transition&&(N.transition=H.transition)}w.forEach(H=>{const X=t.getBaseTarget(H),Y=t.getValue(H);Y&&(Y.liveStyle=!0),N[H]=X??null}),v.push({animation:N})}let O=!!v.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(O=!1),s=!1,O?e(v):Promise.resolve()}function f(p,d){if(n[p].isActive===d)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(p,d)),n[p].isActive=d;const y=u(p);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=xE()}}}function u6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!jR(e,t):!1}function no(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xE(){return{animate:no(!0),whileInView:no(),whileHover:no(),whileTap:no(),whileDrag:no(),whileFocus:no(),exit:no()}}const UR=1e-4,h6=1-UR,f6=1+UR,zR=.01,d6=0-zR,m6=0+zR;function Un(t){return t.max-t.min}function p6(t,e,n){return Math.abs(t-e)<=n}function SE(t,e,n,s=.5){t.origin=s,t.originPoint=Mt(e.min,e.max,t.origin),t.scale=Un(n)/Un(e),t.translate=Mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=h6&&t.scale<=f6||isNaN(t.scale))&&(t.scale=1),(t.translate>=d6&&t.translate<=m6||isNaN(t.translate))&&(t.translate=0)}function yu(t,e,n,s){SE(t.x,e.x,n.x,s?s.originX:void 0),SE(t.y,e.y,n.y,s?s.originY:void 0)}function AE(t,e,n){t.min=n.min+e.min,t.max=t.min+Un(e)}function g6(t,e,n){AE(t.x,e.x,n.x),AE(t.y,e.y,n.y)}function CE(t,e,n){t.min=e.min-n.min,t.max=t.min+Un(e)}function Vd(t,e,n){CE(t.x,e.x,n.x),CE(t.y,e.y,n.y)}function RE(t,e,n,s,a){return t-=e,t=Md(t,1/n,s),a!==void 0&&(t=Md(t,1/a,s)),t}function y6(t,e=0,n=1,s=.5,a,l=t,u=t){if(Ns.test(e)&&(e=parseFloat(e),e=Mt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=Mt(l.min,l.max,s);t===l&&(f-=e),t.min=RE(t.min,e,n,f,a),t.max=RE(t.max,e,n,f,a)}function IE(t,e,[n,s,a],l,u){y6(t,e[n],e[s],e[a],e.scale,l,u)}const v6=["x","scaleX","originX"],_6=["y","scaleY","originY"];function NE(t,e,n,s){IE(t.x,e,v6,n?n.x:void 0,s?s.x:void 0),IE(t.y,e,_6,n?n.y:void 0,s?s.y:void 0)}function DE(t,e){t.min=e.min,t.max=e.max}function Wi(t,e){DE(t.x,e.x),DE(t.y,e.y)}function kE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ME(t){return t.translate===0&&t.scale===1}function BR(t){return ME(t.x)&&ME(t.y)}function VE(t,e){return t.min===e.min&&t.max===e.max}function b6(t,e){return VE(t.x,e.x)&&VE(t.y,e.y)}function PE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function FR(t,e){return PE(t.x,e.x)&&PE(t.y,e.y)}function OE(t){return Un(t.x)/Un(t.y)}function LE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Vi(t){return[t("x"),t("y")]}function T6(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:y,rotateX:v,rotateY:w,skewX:C,skewY:M}=n;d&&(s=`perspective(${d}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),w&&(s+=`rotateY(${w}deg) `),C&&(s+=`skewX(${C}deg) `),M&&(s+=`skewY(${M}deg) `)}const f=t.x.scale*e.x,p=t.y.scale*e.y;return(f!==1||p!==1)&&(s+=`scale(${f}, ${p})`),s||"none"}const qR=["TopLeft","TopRight","BottomLeft","BottomRight"],w6=qR.length,jE=t=>typeof t=="string"?parseFloat(t):t,UE=t=>typeof t=="number"||Ee.test(t);function E6(t,e,n,s,a,l){a?(t.opacity=Mt(0,n.opacity??1,x6(s)),t.opacityExit=Mt(e.opacity??1,0,S6(s))):l&&(t.opacity=Mt(e.opacity??1,n.opacity??1,s));for(let u=0;u<w6;u++){const f=`border${qR[u]}Radius`;let p=zE(e,f),d=zE(n,f);if(p===void 0&&d===void 0)continue;p||(p=0),d||(d=0),p===0||d===0||UE(p)===UE(d)?(t[f]=Math.max(Mt(jE(p),jE(d),s),0),(Ns.test(d)||Ns.test(p))&&(t[f]+="%")):t[f]=d}(e.rotate||n.rotate)&&(t.rotate=Mt(e.rotate||0,n.rotate||0,s))}function zE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const x6=HR(0,.5,LC),S6=HR(.5,.95,Ui);function HR(t,e,n){return s=>s<t?0:s>e?1:n(Ru(t,e,s))}function A6(t,e){const n=jn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(ba(s),t(l-e))};return Ct.setup(s,!0),()=>ba(s)}function ku(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Zf(t){return Dn(t)?t.get():t}function C6(t,e,n){const s=Dn(t)?t:Ol(t);return s.start(y0("",s,e,n)),s.animation}const R6=(t,e)=>t.depth-e.depth;class I6{constructor(){this.children=[],this.isDirty=!1}add(e){e0(this.children,e),this.isDirty=!0}remove(e){t0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(R6),this.isDirty=!1,this.children.forEach(e)}}class N6{constructor(){this.members=[]}add(e){e0(this.members,e),e.scheduleRender()}remove(e){if(t0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Jf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},zg=["","X","Y","Z"],D6=1e3;let k6=0;function Bg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function GR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=uR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ct,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&GR(s)}function $R({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=k6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(P6),this.nodes.forEach(U6),this.nodes.forEach(z6),this.nodes.forEach(O6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new I6)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new s0),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const p=this.eventHandlers.get(u);p&&p.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=wR(u)&&!Vj(u),this.instance=u;const{layoutId:f,layout:p,visualElement:d}=this.options;if(d&&!d.current&&d.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),t){let y,v=0;const w=()=>this.root.updateBlockedByResize=!1;Ct.read(()=>{v=window.innerWidth}),t(u,()=>{const C=window.innerWidth;C!==v&&(v=C,this.root.updateBlockedByResize=!0,y&&y(),y=A6(w,250),Jf.hasAnimatedSinceResize&&(Jf.hasAnimatedSinceResize=!1,this.nodes.forEach(qE)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&d&&(f||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||d.getDefaultTransition()||G6,{onLayoutAnimationStart:O,onLayoutAnimationComplete:N}=d.getProps(),H=!this.targetLayout||!FR(this.targetLayout,C),X=!v&&w;if(this.options.layoutRoot||this.resumeFrom||X||v&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...g0(M,"layout"),onPlay:O,onComplete:N};(d.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(y,X)}else v||qE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ba(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(B6),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(BE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(FE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(j6),this.nodes.forEach(M6),this.nodes.forEach(V6)):this.nodes.forEach(FE),this.clearAllSnapshots();const f=jn.now();wn.delta=Ps(0,1e3/60,f-wn.timestamp),wn.timestamp=f,wn.isProcessing=!0,kg.update.process(wn),kg.preRender.process(wn),kg.render.process(wn),wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,T0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(L6),this.sharedNodes.forEach(F6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Un(this.snapshot.measuredBox.x)&&!Un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!BR(this.projectionDelta),p=this.getTransformTemplate(),d=p?p(this.latestValues,""):void 0,y=d!==this.prevTransformTemplateValue;u&&this.instance&&(f||ro(this.latestValues)||y)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return u&&(p=this.removeTransform(p)),$6(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return ln();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(K6))){const{scroll:d}=this.root;d&&(_l(f.x,d.offset.x),_l(f.y,d.offset.y))}return f}removeElementScroll(u){const f=ln();if(Wi(f,u),this.scroll?.wasRoot)return f;for(let p=0;p<this.path.length;p++){const d=this.path[p],{scroll:y,options:v}=d;d!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Wi(f,u),_l(f.x,y.offset.x),_l(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const p=ln();Wi(p,u);for(let d=0;d<this.path.length;d++){const y=this.path[d];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&bl(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ro(y.latestValues)&&bl(p,y.latestValues)}return ro(this.latestValues)&&bl(p,this.latestValues),p}removeTransform(u){const f=ln();Wi(f,u);for(let p=0;p<this.path.length;p++){const d=this.path[p];if(!d.instance||!ro(d.latestValues))continue;Hy(d.latestValues)&&d.updateSnapshot();const y=ln(),v=d.measurePageBox();Wi(y,v),NE(f,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,y)}return ro(this.latestValues)&&NE(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=wn.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ln(),this.targetWithTransforms=ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),g6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wi(this.target,this.layout.layoutBox),IR(this.target,this.targetDelta)):Wi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Hy(this.parent.latestValues)||RR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,p){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),Vd(this.relativeTargetOrigin,f,p),Wi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===wn.timestamp&&(p=!1),p)return;const{layout:d,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||y))return;Wi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;Gj(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=ln());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kE(this.prevProjectionDelta.x,this.projectionDelta.x),kE(this.prevProjectionDelta.y,this.projectionDelta.y)),yu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!LE(this.projectionDelta.x,this.prevProjectionDelta.x)||!LE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vl(),this.projectionDelta=vl(),this.projectionDeltaWithTransform=vl()}setAnimationOrigin(u,f=!1){const p=this.snapshot,d=p?p.latestValues:{},y={...this.latestValues},v=vl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const w=ln(),C=p?p.source:void 0,M=this.layout?this.layout.source:void 0,O=C!==M,N=this.getStack(),H=!N||N.members.length<=1,X=!!(O&&!H&&this.options.crossfade===!0&&!this.path.some(H6));this.animationProgress=0;let Y;this.mixTargetDelta=Q=>{const re=Q/1e3;HE(v.x,u.x,re),HE(v.y,u.y,re),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vd(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),q6(this.relativeTarget,this.relativeTargetOrigin,w,re),Y&&b6(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=ln()),Wi(Y,this.relativeTarget)),O&&(this.animationValues=y,E6(y,d,this.latestValues,re,X,H)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ba(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ct.update(()=>{Jf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ol(0)),this.currentAnimation=C6(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(D6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:p,layout:d,latestValues:y}=u;if(!(!f||!p||!d)){if(this!==u&&this.layout&&d&&KR(this.options.animationType,this.layout.layoutBox,d.layoutBox)){p=this.target||ln();const v=Un(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+v;const w=Un(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+w}Wi(f,p),bl(f,y),yu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new N6),this.sharedNodes.get(u).add(f);const d=f.options.initialPromotionConfig;f.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:p}={}){const d=this.getStack();d&&d.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const d={};p.z&&Bg("z",u,d,this.animationValues);for(let y=0;y<zg.length;y++)Bg(`rotate${zg[y]}`,u,d,this.animationValues),Bg(`skew${zg[y]}`,u,d,this.animationValues);u.render();for(const y in d)u.setStaticValue(y,d[y]),this.animationValues&&(this.animationValues[y]=d[y]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Zf(f?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Zf(f?.pointerEvents)||""),this.hasProjected&&!ro(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=d.animationValues||d.latestValues;this.applyTransformsToTarget();let v=T6(this.projectionDeltaWithTransform,this.treeScale,y);p&&(v=p(y,v)),u.transform=v;const{x:w,y:C}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${C.origin*100}% 0`,d.animationValues?u.opacity=d===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=d===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const M in $y){if(y[M]===void 0)continue;const{correct:O,applyTo:N,isCSSVariable:H}=$y[M],X=v==="none"?y[M]:O(y[M],d);if(N){const Y=N.length;for(let Q=0;Q<Y;Q++)u[N[Q]]=X}else H?this.options.visualElement.renderState.vars[M]=X:u[M]=X}this.options.layoutId&&(u.pointerEvents=d===this?Zf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(BE),this.root.sharedNodes.clear()}}}function M6(t){t.updateLayout()}function V6(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Vi(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],w=Un(v);v.min=n[y].min,v.max=v.min+w}):KR(a,e.layoutBox,n)&&Vi(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],w=Un(n[y]);v.max=v.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+w)});const u=vl();yu(u,n,e.layoutBox);const f=vl();l?yu(f,t.applyTransform(s,!0),e.measuredBox):yu(f,n,e.layoutBox);const p=!BR(u);let d=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:w}=y;if(v&&w){const C=ln();Vd(C,e.layoutBox,v.layoutBox);const M=ln();Vd(M,n,w.layoutBox),FR(C,M)||(d=!0),y.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=C,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function P6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function O6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function L6(t){t.clearSnapshot()}function BE(t){t.clearMeasurements()}function FE(t){t.isLayoutDirty=!1}function j6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function qE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function U6(t){t.resolveTargetDelta()}function z6(t){t.calcProjection()}function B6(t){t.resetSkewAndRotation()}function F6(t){t.removeLeadSnapshot()}function HE(t,e,n){t.translate=Mt(e.translate,0,n),t.scale=Mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function GE(t,e,n,s){t.min=Mt(e.min,n.min,s),t.max=Mt(e.max,n.max,s)}function q6(t,e,n,s){GE(t.x,e.x,n.x,s),GE(t.y,e.y,n.y,s)}function H6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const G6={duration:.45,ease:[.4,0,.1,1]},$E=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),KE=$E("applewebkit/")&&!$E("chrome/")?Math.round:Ui;function YE(t){t.min=KE(t.min),t.max=KE(t.max)}function $6(t){YE(t.x),YE(t.y)}function KR(t,e,n){return t==="position"||t==="preserve-aspect"&&!p6(OE(e),OE(n),.2)}function K6(t){return t!==t.root&&t.scroll?.wasRoot}const Y6=$R({attachResizeListener:(t,e)=>ku(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fg={current:void 0},YR=$R({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fg.current){const t=new Y6({});t.mount(window),t.setOptions({layoutScroll:!0}),Fg.current=t}return Fg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),C0=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function QE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Q6(...t){return e=>{let n=!1;const s=t.map(a=>{const l=QE(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():QE(t[a],null)}}}}function X6(...t){return k.useCallback(Q6(...t),t)}class W6 extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=yR(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Z6({children:t,isPresent:e,anchorX:n,root:s}){const a=k.useId(),l=k.useRef(null),u=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=k.useContext(C0),p=t.props?.ref??t?.ref,d=X6(l,p);return k.useInsertionEffect(()=>{const{width:y,height:v,top:w,left:C,right:M}=u.current;if(e||!l.current||!y||!v)return;const O=n==="left"?`left: ${C}`:`right: ${M}`;l.current.dataset.motionPopId=a;const N=document.createElement("style");f&&(N.nonce=f);const H=s??document.head;return H.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${v}px !important;
            ${O}px !important;
            top: ${w}px !important;
          }
        `),()=>{H.contains(N)&&H.removeChild(N)}},[e]),b.jsx(W6,{isPresent:e,childRef:l,sizeRef:u,children:k.cloneElement(t,{ref:d})})}const J6=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,root:p})=>{const d=Jv(eU),y=k.useId();let v=!0,w=k.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:C=>{d.set(C,!0);for(const M of d.values())if(!M)return;s&&s()},register:C=>(d.set(C,!1),()=>d.delete(C))}),[n,d,s]);return l&&v&&(w={...w}),k.useMemo(()=>{d.forEach((C,M)=>d.set(M,!1))},[n]),k.useEffect(()=>{!n&&!d.size&&s&&s()},[n]),u==="popLayout"&&(t=b.jsx(Z6,{isPresent:n,anchorX:f,root:p,children:t})),b.jsx(dm.Provider,{value:w,children:t})};function eU(){return new Map}function QR(t=!0){const e=k.useContext(dm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=k.useId();k.useEffect(()=>{if(t)return a(l)},[t]);const u=k.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Mf=t=>t.key||"";function XE(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const Ji=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",root:p})=>{const[d,y]=QR(u),v=k.useMemo(()=>XE(t),[t]),w=u&&!d?[]:v.map(Mf),C=k.useRef(!0),M=k.useRef(v),O=Jv(()=>new Map),N=k.useRef(new Set),[H,X]=k.useState(v),[Y,Q]=k.useState(v);AC(()=>{C.current=!1,M.current=v;for(let I=0;I<Y.length;I++){const S=Mf(Y[I]);w.includes(S)?(O.delete(S),N.current.delete(S)):O.get(S)!==!0&&O.set(S,!1)}},[Y,w.length,w.join("-")]);const re=[];if(v!==H){let I=[...v];for(let S=0;S<Y.length;S++){const D=Y[S],j=Mf(D);w.includes(j)||(I.splice(S,0,D),re.push(D))}return l==="wait"&&re.length&&(I=re),Q(XE(I)),X(v),null}const{forceRender:ce}=k.useContext(Zv);return b.jsx(b.Fragment,{children:Y.map(I=>{const S=Mf(I),D=u&&!d?!1:v===Y||w.includes(S),j=()=>{if(N.current.has(S))return;if(N.current.add(S),O.has(S))O.set(S,!0);else return;let P=!0;O.forEach(z=>{z||(P=!1)}),P&&(ce?.(),Q(M.current),u&&y?.(),s&&s())};return b.jsx(J6,{isPresent:D,initial:!C.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:D?void 0:j,anchorX:f,children:I},S)})})},XR=k.createContext({strict:!1}),WE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let ZE=!1;function tU(){if(ZE)return;const t={};for(const e in WE)t[e]={isEnabled:n=>WE[e].some(s=>!!n[s])};SR(t),ZE=!0}function WR(){return tU(),Bj()}function nU(t){const e=WR();for(const n in t)e[n]={...e[n],...t[n]};SR(e)}const iU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||iU.has(t)}let ZR=t=>!Pd(t);function sU(t){typeof t=="function"&&(ZR=e=>e.startsWith("on")?!Pd(e):t(e))}try{sU(require("@emotion/is-prop-valid").default)}catch{}function rU(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(ZR(a)||n===!0&&Pd(a)||!e&&!Pd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const gm=k.createContext({});function aU(t,e){if(pm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Du(n)?n:void 0,animate:Du(s)?s:void 0}}return t.inherit!==!1?e:{}}function oU(t){const{initial:e,animate:n}=aU(t,k.useContext(gm));return k.useMemo(()=>({initial:e,animate:n}),[JE(e),JE(n)])}function JE(t){return Array.isArray(t)?t.join(" "):t}const R0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JR(t,e,n){for(const s in e)!Dn(e[s])&&!kR(s,n)&&(t[s]=e[s])}function lU({transformTemplate:t},e){return k.useMemo(()=>{const n=R0();return S0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function cU(t,e){const n=t.style||{},s={};return JR(s,n,t),Object.assign(s,lU(t,e)),s}function uU(t,e){const n={},s=cU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const e2=()=>({...R0(),attrs:{}});function hU(t,e,n,s){const a=k.useMemo(()=>{const l=e2();return MR(l,e,PR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};JR(l,t.style,t),a.style={...l,...a.style}}return a}const fU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function I0(t){return typeof t!="string"||t.includes("-")?!1:!!(fU.indexOf(t)>-1||/[A-Z]/u.test(t))}function dU(t,e,n,{latestValues:s},a,l=!1,u){const p=(u??I0(t)?hU:uU)(e,s,a,t),d=rU(e,typeof t=="string",l),y=t!==k.Fragment?{...d,...p,ref:n}:{},{children:v}=e,w=k.useMemo(()=>Dn(v)?v.get():v,[v]);return k.createElement(t,{...y,children:w})}function mU({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:pU(n,s,a,t),renderState:e()}}function pU(t,e,n,s){const a={},l=s(t,{});for(const w in l)a[w]=Zf(l[w]);let{initial:u,animate:f}=t;const p=pm(t),d=xR(t);e&&d&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?f:u;if(v&&typeof v!="boolean"&&!mm(v)){const w=Array.isArray(v)?v:[v];for(let C=0;C<w.length;C++){const M=v0(t,w[C]);if(M){const{transitionEnd:O,transition:N,...H}=M;for(const X in H){let Y=H[X];if(Array.isArray(Y)){const Q=y?Y.length-1:0;Y=Y[Q]}Y!==null&&(a[X]=Y)}for(const X in O)a[X]=O[X]}}}return a}const t2=t=>(e,n)=>{const s=k.useContext(gm),a=k.useContext(dm),l=()=>mU(t,e,s,a);return n?l():Jv(l)},gU=t2({scrapeMotionValuesFromProps:A0,createRenderState:R0}),yU=t2({scrapeMotionValuesFromProps:OR,createRenderState:e2}),vU=Symbol.for("motionComponentSymbol");function _U(t,e,n){const s=k.useRef(n);k.useInsertionEffect(()=>{s.current=n});const a=k.useRef(null);return k.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const f=u(l);typeof f=="function"&&(a.current=f)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const n2=k.createContext({});function au(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function bU(t,e,n,s,a,l){const{visualElement:u}=k.useContext(gm),f=k.useContext(XR),p=k.useContext(dm),d=k.useContext(C0).reducedMotion,y=k.useRef(null);s=s||f.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:u,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:d,isSVG:l}));const v=y.current,w=k.useContext(n2);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&TU(y.current,n,a,w);const C=k.useRef(!1);k.useInsertionEffect(()=>{v&&C.current&&v.update(n,p)});const M=n[cR],O=k.useRef(!!M&&!window.MotionHandoffIsComplete?.(M)&&window.MotionHasOptimisedAnimation?.(M));return AC(()=>{v&&(C.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),O.current&&v.animationState&&v.animationState.animateChanges())}),k.useEffect(()=>{v&&(!O.current&&v.animationState&&v.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(M)}),O.current=!1),v.enteringChildren=void 0)}),v}function TU(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:p,layoutRoot:d,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:i2(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&au(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:p,layoutRoot:d})}function i2(t){if(t)return t.options.allowProjection!==!1?t.projection:i2(t.parent)}function qg(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&nU(s);const l=n?n==="svg":I0(t),u=l?yU:gU;function f(d,y){let v;const w={...k.useContext(C0),...d,layoutId:wU(d)},{isStatic:C}=w,M=oU(d),O=u(d,C);if(!C&&SC){EU();const N=xU(w);v=N.MeasureLayout,M.visualElement=bU(t,O,w,a,N.ProjectionNode,l)}return b.jsxs(gm.Provider,{value:M,children:[v&&M.visualElement?b.jsx(v,{visualElement:M.visualElement,...w}):null,dU(t,d,_U(O,M.visualElement,y),O,C,e,l)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const p=k.forwardRef(f);return p[vU]=t,p}function wU({layoutId:t}){const e=k.useContext(Zv).id;return e&&t!==void 0?e+"-"+t:t}function EU(t,e){k.useContext(XR).strict}function xU(t){const e=WR(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function SU(t,e){if(typeof Proxy>"u")return qg;const n=new Map,s=(l,u)=>qg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,qg(u,void 0,t,e)),n.get(u))})}const AU=(t,e)=>e.isSVG??I0(t)?new s6(e):new Zj(e,{allowProjection:t!==k.Fragment});class CU extends Aa{constructor(e){super(e),e.animationState||(e.animationState=c6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let RU=0;class IU extends Aa{constructor(){super(...arguments),this.id=RU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const NU={animation:{Feature:CU},exit:{Feature:IU}};function th(t){return{point:{x:t.pageX,y:t.pageY}}}const DU=t=>e=>w0(e)&&t(e,th(e));function vu(t,e,n,s){return ku(t,e,DU(n),s)}const s2=({current:t})=>t?t.ownerDocument.defaultView:null,ex=(t,e)=>Math.abs(t-e);function kU(t,e){const n=ex(t.x,e.x),s=ex(t.y,e.y);return Math.sqrt(n**2+s**2)}const tx=new Set(["auto","scroll"]);class r2{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=C=>{this.handleScroll(C.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Gg(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,O=kU(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!O)return;const{point:N}=C,{timestamp:H}=wn;this.history.push({...N,timestamp:H});const{onStart:X,onMove:Y}=this.handlers;M||(X&&X(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,C)},this.handlePointerMove=(C,M)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=Hg(M,this.transformPagePoint),Ct.update(this.updatePoint,!0)},this.handlePointerUp=(C,M)=>{this.end();const{onEnd:O,onSessionEnd:N,resumeAnimation:H}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&H&&H(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const X=Gg(C.type==="pointercancel"?this.lastMoveEventInfo:Hg(M,this.transformPagePoint),this.history);this.startEvent&&O&&O(C,X),N&&N(C,X)},!w0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const p=th(e),d=Hg(p,this.transformPagePoint),{point:y}=d,{timestamp:v}=wn;this.history=[{...y,timestamp:v}];const{onSessionStart:w}=n;w&&w(e,Gg(d,this.history)),this.removeListeners=Zu(vu(this.contextWindow,"pointermove",this.handlePointerMove),vu(this.contextWindow,"pointerup",this.handlePointerUp),vu(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(tx.has(s.overflowX)||tx.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),Ct.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ba(this.updatePoint)}}function Hg(t,e){return e?{point:e(t.point)}:t}function nx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Gg({point:t},e){return{point:t,delta:nx(t,a2(e)),offset:nx(t,MU(e)),velocity:VU(e,.1)}}function MU(t){return t[0]}function a2(t){return t[t.length-1]}function VU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=a2(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>fr(e)));)n--;if(!s)return{x:0,y:0};const l=Oi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function PU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Mt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Mt(n,t,s.max):Math.min(t,n)),t}function ix(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function OU(t,{top:e,left:n,bottom:s,right:a}){return{x:ix(t.x,n,a),y:ix(t.y,e,s)}}function sx(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function LU(t,e){return{x:sx(t.x,e.x),y:sx(t.y,e.y)}}function jU(t,e){let n=.5;const s=Un(t),a=Un(e);return a>s?n=Ru(e.min,e.max-s,t.min):s>a&&(n=Ru(t.min,t.max-a,e.min)),Ps(0,1,n)}function UU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ky=.35;function zU(t=Ky){return t===!1?t=0:t===!0&&(t=Ky),{x:rx(t,"left","right"),y:rx(t,"top","bottom")}}function rx(t,e,n){return{min:ax(t,e),max:ax(t,n)}}function ax(t,e){return typeof t=="number"?t:t[e]||0}const BU=new WeakMap;class FU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ln(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(th(v).point)):this.pauseAnimation()},u=(v,w)=>{this.stopAnimation();const{drag:C,dragPropagation:M,onDragStart:O}=this.getProps();if(C&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ij(C),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vi(H=>{let X=this.getAxisMotionValue(H).get()||0;if(Ns.test(X)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const Q=Y.layout.layoutBox[H];Q&&(X=Un(Q)*(parseFloat(X)/100))}}this.originPoint[H]=X}),O&&Ct.postRender(()=>O(v,w)),zy(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},f=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:C,dragDirectionLock:M,onDirectionLock:O,onDrag:N}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:H}=w;if(M&&this.currentDirection===null){this.currentDirection=qU(H),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",w.point,H),this.updateAxis("y",w.point,H),this.visualElement.render(),N&&N(v,w)},p=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Vi(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new r2(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:p,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:s2(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&Ct.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Vf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=PU(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&au(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=OU(s.layoutBox,e):this.constraints=!1,this.elastic=zU(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Vi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=UU(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!au(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=$j(s,a.root,this.visualElement.getTransformPagePoint());let u=LU(a.layout.layoutBox,l);if(n){const f=n(qj(u));this.hasMutatedConstraints=!!f,f&&(u=CR(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},d=Vi(y=>{if(!Vf(y,n,this.currentDirection))return;let v=p&&p[y]||{};u&&(v={min:0,max:0});const w=a?200:1e6,C=a?40:1e7,M={type:"inertia",velocity:s?e[y]:0,bounceStiffness:w,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,M)});return Promise.all(d).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return zy(this.visualElement,e),s.start(y0(e,s,0,n,this.visualElement,!1))}stopAnimation(){Vi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Vi(n=>{const{drag:s}=this.getProps();if(!Vf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n],p=l.get()||0;l.set(e[n]-Mt(u,f,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!au(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Vi(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const p=f.get();a[u]=jU({min:p,max:p},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Vi(u=>{if(!Vf(u,e,null))return;const f=this.getAxisMotionValue(u),{min:p,max:d}=this.constraints[u];f.set(Mt(p,d,a[u]))})}addListeners(){if(!this.visualElement.current)return;BU.set(this.visualElement,this);const e=this.visualElement.current,n=vu(e,"pointerdown",p=>{const{drag:d,dragListener:y=!0}=this.getProps();d&&y&&!TR(p.target)&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();au(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ct.read(s);const u=ku(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:d})=>{this.isDragging&&d&&(Vi(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=p[y].translate,v.set(v.get()+p[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Ky,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function Vf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function qU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class HU extends Aa{constructor(e){super(e),this.removeGroupControls=Ui,this.removeListeners=Ui,this.controls=new FU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ui}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const ox=t=>(e,n)=>{t&&Ct.postRender(()=>t(e,n))};class GU extends Aa{constructor(){super(...arguments),this.removePointerDownListener=Ui}onPointerDown(e){this.session=new r2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:s2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:ox(e),onStart:ox(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&Ct.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=vu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let $g=!1;class $U extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),$g&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Jf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,$g=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Ct.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),T0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;$g=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function o2(t){const[e,n]=QR(),s=k.useContext(Zv);return b.jsx($U,{...t,layoutGroup:s,switchLayoutGroup:k.useContext(n2),isPresent:e,safeToRemove:n})}const KU={pan:{Feature:GU},drag:{Feature:HU,ProjectionNode:YR,MeasureLayout:o2}};function lx(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Ct.postRender(()=>l(e,th(e)))}class YU extends Aa{mount(){const{current:e}=this.node;e&&(this.unmount=Nj(e,(n,s)=>(lx(this.node,s,"Start"),a=>lx(this.node,a,"End"))))}unmount(){}}class QU extends Aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zu(ku(this.node.current,"focus",()=>this.onFocus()),ku(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cx(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Ct.postRender(()=>l(e,th(e)))}class XU extends Aa{mount(){const{current:e}=this.node;e&&(this.unmount=Mj(e,(n,s)=>(cx(this.node,s,"Start"),(a,{success:l})=>cx(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yy=new WeakMap,Kg=new WeakMap,WU=t=>{const e=Yy.get(t.target);e&&e(t)},ZU=t=>{t.forEach(WU)};function JU({root:t,...e}){const n=t||document;Kg.has(n)||Kg.set(n,{});const s=Kg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(ZU,{root:t,...e})),s[a]}function e9(t,e,n){const s=JU(e);return Yy.set(t,n),s.observe(t),()=>{Yy.delete(t),s.unobserve(t)}}const t9={some:0,all:1};class n9 extends Aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:t9[a]},f=p=>{const{isIntersecting:d}=p;if(this.isInView===d||(this.isInView=d,l&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),w=d?y:v;w&&w(p)};return e9(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(i9(e,n))&&this.startObserver()}unmount(){}}function i9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const s9={inView:{Feature:n9},tap:{Feature:XU},focus:{Feature:QU},hover:{Feature:YU}},r9={layout:{ProjectionNode:YR,MeasureLayout:o2}},a9={...NU,...s9,...KU,...r9},ht=SU(a9,AU);const o9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),ux=t=>{const e=l9(t);return e.charAt(0).toUpperCase()+e.slice(1)},l2=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),c9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var u9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const h9=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...f},p)=>k.createElement("svg",{ref:p,...u9,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:l2("lucide",a),...!l&&!c9(f)&&{"aria-hidden":"true"},...f},[...u.map(([d,y])=>k.createElement(d,y)),...Array.isArray(l)?l:[l]]));const bt=(t,e)=>{const n=k.forwardRef(({className:s,...a},l)=>k.createElement(h9,{ref:l,iconNode:e,className:l2(`lucide-${o9(ux(t))}`,`lucide-${t}`,s),...a}));return n.displayName=ux(t),n};const f9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],hx=bt("award",f9);const d9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Qy=bt("book-open",d9);const m9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Od=bt("calendar",m9);const p9=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],fx=bt("camera",p9);const g9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Tl=bt("check",g9);const y9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],c2=bt("chevron-left",y9);const v9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],u2=bt("chevron-right",v9);const _9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],dx=bt("circle-alert",_9);const b9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],T9=bt("circle-check-big",b9);const w9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],E9=bt("circle-question-mark",w9);const x9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],S9=bt("clock",x9);const A9=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],h2=bt("layout-grid",A9);const C9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],f2=bt("log-out",C9);const R9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],I9=bt("mail",R9);const N9=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],mx=bt("palette",N9);const D9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],px=bt("pen",D9);const k9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ld=bt("plus",k9);const M9=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],V9=bt("printer",M9);const P9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],d2=bt("settings",P9);const O9=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Yg=bt("share-2",O9);const L9=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],j9=bt("shuffle",L9);const U9=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],z9=bt("sparkles",U9);const B9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],m2=bt("trash-2",B9);const F9=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],q9=bt("type",F9);const H9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],G9=bt("user",H9);const $9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],K9=bt("users",$9);const Y9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fo=bt("x",Y9);const Q9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],gx=bt("zap",Q9),p2=k.createContext(null),g2=()=>{const t=k.useContext(p2);if(!t)throw new Error("useDialog must be used within a DialogProvider");return t},X9=({children:t})=>{const[e,n]=k.useState({isOpen:!1,type:"alert",options:{message:""},resolve:null}),[s,a]=k.useState(""),[l,u]=k.useState("editor"),f=k.useCallback((M,O)=>new Promise(N=>{a(O.inputDefaultValue||""),u("editor"),n({isOpen:!0,type:M,options:O,resolve:N})}),[]),p=k.useCallback(M=>{e.resolve&&e.resolve(M),n(O=>({...O,isOpen:!1,resolve:null}))},[e.resolve]),d=k.useCallback((M,O)=>f("alert",{message:M,title:"Notice",confirmText:"OK",type:"info",...O}),[f]),y=k.useCallback((M,O)=>f("confirm",{message:M,title:"Confirm",confirmText:"Yes",cancelText:"Cancel",type:"warning",...O}),[f]),v=k.useCallback((M,O)=>f("prompt",{message:M,title:"Input",confirmText:"OK",cancelText:"Cancel",inputPlaceholder:"",...O}),[f]),w=k.useCallback((M,O)=>f("share",{message:M,title:"Share Board",confirmText:"Send Invite",cancelText:"Cancel",showRoleSelector:!0,inputPlaceholder:"Enter email address",...O}),[f]),C=()=>{switch(e.options.type){case"success":return b.jsx(T9,{className:"w-8 h-8 text-green-400"});case"warning":return b.jsx(dx,{className:"w-8 h-8 text-amber-400"});case"error":return b.jsx(dx,{className:"w-8 h-8 text-red-400"});default:return b.jsx(E9,{className:"w-8 h-8 text-accent-primary"})}};return b.jsxs(p2.Provider,{value:{alert:d,confirm:y,prompt:v,sharePrompt:w},children:[t,b.jsx(Ji,{children:e.isOpen&&b.jsx(ht.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{e.type==="alert"?p(void 0):e.type==="confirm"?p(!1):p(null)},children:b.jsxs(ht.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:M=>M.stopPropagation(),children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="share"?b.jsx(I9,{className:"w-6 h-6 text-accent-primary"}):C(),b.jsx("h3",{className:"text-lg font-bold text-white",children:e.options.title})]}),b.jsx("button",{onClick:()=>{e.type==="alert"?p(void 0):e.type==="confirm"?p(!1):p(null)},className:"p-1 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:b.jsx(fo,{size:20})})]}),b.jsxs("div",{className:"p-6",children:[b.jsx("p",{className:"text-slate-300 mb-4 whitespace-pre-wrap",children:e.options.message}),(e.type==="prompt"||e.type==="share")&&b.jsx("input",{type:e.type==="share"?"email":"text",autoFocus:!0,value:s,onChange:M=>a(M.target.value),placeholder:e.options.inputPlaceholder,className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors mb-4",onKeyDown:M=>{M.key==="Enter"&&s.trim()&&(e.type==="share"?p({email:s.trim(),role:l}):p(s.trim()))}}),e.type==="share"&&e.options.showRoleSelector&&b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"text-sm font-medium text-slate-400 mb-2 block",children:"Access Level"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>u("viewer"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="viewer"?"bg-accent-primary/20 text-accent-primary border border-accent-primary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Viewer"}),b.jsx("button",{onClick:()=>u("editor"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Editor"})]}),b.jsx("p",{className:"text-xs text-slate-500 mt-2",children:l==="viewer"?"Can view the board but not make changes":"Can view and edit the board"})]})]}),b.jsxs("div",{className:"flex gap-3 p-4 pt-0",children:[e.type!=="alert"&&b.jsx("button",{onClick:()=>{e.type==="confirm"?p(!1):p(null)},className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:e.options.cancelText}),b.jsx("button",{onClick:()=>{e.type==="alert"?p(void 0):e.type==="confirm"?p(!0):e.type==="share"?s.trim()&&p({email:s.trim(),role:l}):p(s.trim()||null)},disabled:(e.type==="prompt"||e.type==="share")&&!s.trim(),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.options.confirmText})]})]})})})]})};function y2(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=y2(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function W9(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=y2(t))&&(s&&(s+=" "),s+=e);return s}const Z9=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},J9=(t,e)=>({classGroupId:t,validator:e}),v2=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),jd="-",yx=[],ez="arbitrary..",tz=t=>{const e=iz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return nz(u);const f=u.split(jd),p=f[0]===""&&f.length>1?1:0;return _2(f,p,e)},getConflictingClassGroupIds:(u,f)=>{if(f){const p=s[u],d=n[u];return p?d?Z9(d,p):p:d||yx}return n[u]||yx}}},_2=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const d=_2(t,e+1,l);if(d)return d}const u=n.validators;if(u===null)return;const f=e===0?t.join(jd):t.slice(e).join(jd),p=u.length;for(let d=0;d<p;d++){const y=u[d];if(y.validator(f))return y.classGroupId}},nz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?ez+s:void 0})(),iz=t=>{const{theme:e,classGroups:n}=t;return sz(n,e)},sz=(t,e)=>{const n=v2();for(const s in t){const a=t[s];N0(a,n,s,e)}return n},N0=(t,e,n,s)=>{const a=t.length;for(let l=0;l<a;l++){const u=t[l];rz(u,e,n,s)}},rz=(t,e,n,s)=>{if(typeof t=="string"){az(t,e,n);return}if(typeof t=="function"){oz(t,e,n,s);return}lz(t,e,n,s)},az=(t,e,n)=>{const s=t===""?e:b2(e,t);s.classGroupId=n},oz=(t,e,n,s)=>{if(cz(t)){N0(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(J9(n,t))},lz=(t,e,n,s)=>{const a=Object.entries(t),l=a.length;for(let u=0;u<l;u++){const[f,p]=a[u];N0(p,b2(e,f),n,s)}},b2=(t,e)=>{let n=t;const s=e.split(jd),a=s.length;for(let l=0;l<a;l++){const u=s[l];let f=n.nextPart.get(u);f||(f=v2(),n.nextPart.set(u,f)),n=f}return n},cz=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,uz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const a=(l,u)=>{n[l]=u,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(l){let u=n[l];if(u!==void 0)return u;if((u=s[l])!==void 0)return a(l,u),u},set(l,u){l in n?n[l]=u:a(l,u)}}},Xy="!",vx=":",hz=[],_x=(t,e,n,s,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:a}),fz=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const l=[];let u=0,f=0,p=0,d;const y=a.length;for(let O=0;O<y;O++){const N=a[O];if(u===0&&f===0){if(N===vx){l.push(a.slice(p,O)),p=O+1;continue}if(N==="/"){d=O;continue}}N==="["?u++:N==="]"?u--:N==="("?f++:N===")"&&f--}const v=l.length===0?a:a.slice(p);let w=v,C=!1;v.endsWith(Xy)?(w=v.slice(0,-1),C=!0):v.startsWith(Xy)&&(w=v.slice(1),C=!0);const M=d&&d>p?d-p:void 0;return _x(l,C,w,M)};if(e){const a=e+vx,l=s;s=u=>u.startsWith(a)?l(u.slice(a.length)):_x(hz,!1,u,void 0,!0)}if(n){const a=s;s=l=>n({className:l,parseClassName:a})}return s},dz=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let a=[];for(let l=0;l<n.length;l++){const u=n[l],f=u[0]==="[",p=e.has(u);f||p?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(u)):a.push(u)}return a.length>0&&(a.sort(),s.push(...a)),s}},mz=t=>({cache:uz(t.cacheSize),parseClassName:fz(t),sortModifiers:dz(t),...tz(t)}),pz=/\s+/,gz=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],f=t.trim().split(pz);let p="";for(let d=f.length-1;d>=0;d-=1){const y=f[d],{isExternal:v,modifiers:w,hasImportantModifier:C,baseClassName:M,maybePostfixModifierPosition:O}=n(y);if(v){p=y+(p.length>0?" "+p:p);continue}let N=!!O,H=s(N?M.substring(0,O):M);if(!H){if(!N){p=y+(p.length>0?" "+p:p);continue}if(H=s(M),!H){p=y+(p.length>0?" "+p:p);continue}N=!1}const X=w.length===0?"":w.length===1?w[0]:l(w).join(":"),Y=C?X+Xy:X,Q=Y+H;if(u.indexOf(Q)>-1)continue;u.push(Q);const re=a(H,N);for(let ce=0;ce<re.length;++ce){const I=re[ce];u.push(Y+I)}p=y+(p.length>0?" "+p:p)}return p},yz=(...t)=>{let e=0,n,s,a="";for(;e<t.length;)(n=t[e++])&&(s=T2(n))&&(a&&(a+=" "),a+=s);return a},T2=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=T2(t[s]))&&(n&&(n+=" "),n+=e);return n},vz=(t,...e)=>{let n,s,a,l;const u=p=>{const d=e.reduce((y,v)=>v(y),t());return n=mz(d),s=n.cache.get,a=n.cache.set,l=f,f(p)},f=p=>{const d=s(p);if(d)return d;const y=gz(p,n);return a(p,y),y};return l=u,(...p)=>l(yz(...p))},_z=[],on=t=>{const e=n=>n[t]||_z;return e.isThemeGetter=!0,e},w2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,E2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,bz=/^\d+\/\d+$/,Tz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ez=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,xz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Sz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cl=t=>bz.test(t),He=t=>!!t&&!Number.isNaN(Number(t)),ta=t=>!!t&&Number.isInteger(Number(t)),Qg=t=>t.endsWith("%")&&He(t.slice(0,-1)),rr=t=>Tz.test(t),Az=()=>!0,Cz=t=>wz.test(t)&&!Ez.test(t),x2=()=>!1,Rz=t=>xz.test(t),Iz=t=>Sz.test(t),Nz=t=>!Ae(t)&&!Ce(t),Dz=t=>Ql(t,C2,x2),Ae=t=>w2.test(t),io=t=>Ql(t,R2,Cz),Xg=t=>Ql(t,Oz,He),bx=t=>Ql(t,S2,x2),kz=t=>Ql(t,A2,Iz),Pf=t=>Ql(t,I2,Rz),Ce=t=>E2.test(t),eu=t=>Xl(t,R2),Mz=t=>Xl(t,Lz),Tx=t=>Xl(t,S2),Vz=t=>Xl(t,C2),Pz=t=>Xl(t,A2),Of=t=>Xl(t,I2,!0),Ql=(t,e,n)=>{const s=w2.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Xl=(t,e,n=!1)=>{const s=E2.exec(t);return s?s[1]?e(s[1]):n:!1},S2=t=>t==="position"||t==="percentage",A2=t=>t==="image"||t==="url",C2=t=>t==="length"||t==="size"||t==="bg-size",R2=t=>t==="length",Oz=t=>t==="number",Lz=t=>t==="family-name",I2=t=>t==="shadow",jz=()=>{const t=on("color"),e=on("font"),n=on("text"),s=on("font-weight"),a=on("tracking"),l=on("leading"),u=on("breakpoint"),f=on("container"),p=on("spacing"),d=on("radius"),y=on("shadow"),v=on("inset-shadow"),w=on("text-shadow"),C=on("drop-shadow"),M=on("blur"),O=on("perspective"),N=on("aspect"),H=on("ease"),X=on("animate"),Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],re=()=>[...Q(),Ce,Ae],ce=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],S=()=>[Ce,Ae,p],D=()=>[cl,"full","auto",...S()],j=()=>[ta,"none","subgrid",Ce,Ae],P=()=>["auto",{span:["full",ta,Ce,Ae]},ta,Ce,Ae],z=()=>[ta,"auto",Ce,Ae],V=()=>["auto","min","max","fr",Ce,Ae],pe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ye=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...S()],Z=()=>[cl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],q=()=>[t,Ce,Ae],me=()=>[...Q(),Tx,bx,{position:[Ce,Ae]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],x=()=>["auto","cover","contain",Vz,Dz,{size:[Ce,Ae]}],$=()=>[Qg,eu,io],ne=()=>["","none","full",d,Ce,Ae],oe=()=>["",He,eu,io],ge=()=>["solid","dashed","dotted","double"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],fe=()=>[He,Qg,Tx,bx],xe=()=>["","none",M,Ce,Ae],Ie=()=>["none",He,Ce,Ae],Ge=()=>["none",He,Ce,Ae],qe=()=>[He,Ce,Ae],$e=()=>[cl,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[rr],breakpoint:[rr],color:[Az],container:[rr],"drop-shadow":[rr],ease:["in","out","in-out"],font:[Nz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[rr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[rr],shadow:[rr],spacing:["px",He],text:[rr],"text-shadow":[rr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",cl,Ae,Ce,N]}],container:["container"],columns:[{columns:[He,Ae,Ce,f]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:re()}],overflow:[{overflow:ce()}],"overflow-x":[{"overflow-x":ce()}],"overflow-y":[{"overflow-y":ce()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[ta,"auto",Ce,Ae]}],basis:[{basis:[cl,"full","auto",f,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[He,cl,"auto","initial","none",Ae]}],grow:[{grow:["",He,Ce,Ae]}],shrink:[{shrink:["",He,Ce,Ae]}],order:[{order:[ta,"first","last","none",Ce,Ae]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...pe(),"normal"]}],"justify-items":[{"justify-items":[...ye(),"normal"]}],"justify-self":[{"justify-self":["auto",...ye()]}],"align-content":[{content:["normal",...pe()]}],"align-items":[{items:[...ye(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ye(),{baseline:["","last"]}]}],"place-content":[{"place-content":pe()}],"place-items":[{"place-items":[...ye(),"baseline"]}],"place-self":[{"place-self":["auto",...ye()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[f,"screen",...Z()]}],"min-w":[{"min-w":[f,"screen","none",...Z()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",n,eu,io]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ce,Xg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Qg,Ae]}],"font-family":[{font:[Mz,Ae,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ce,Ae]}],"line-clamp":[{"line-clamp":[He,"none",Ce,Xg]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",Ce,Ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ce,Ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[He,"from-font","auto",Ce,io]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[He,"auto",Ce,Ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce,Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce,Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:me()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:x()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ta,Ce,Ae],radial:["",Ce,Ae],conic:[ta,Ce,Ae]},Pz,kz]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[He,Ce,Ae]}],"outline-w":[{outline:["",He,eu,io]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",y,Of,Pf]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",v,Of,Pf]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[He,io]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",w,Of,Pf]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[He,Ce,Ae]}],"mix-blend":[{"mix-blend":[...ve(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ve()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[He]}],"mask-image-linear-from-pos":[{"mask-linear-from":fe()}],"mask-image-linear-to-pos":[{"mask-linear-to":fe()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":fe()}],"mask-image-t-to-pos":[{"mask-t-to":fe()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":fe()}],"mask-image-r-to-pos":[{"mask-r-to":fe()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":fe()}],"mask-image-b-to-pos":[{"mask-b-to":fe()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":fe()}],"mask-image-l-to-pos":[{"mask-l-to":fe()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":fe()}],"mask-image-x-to-pos":[{"mask-x-to":fe()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":fe()}],"mask-image-y-to-pos":[{"mask-y-to":fe()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Ce,Ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":fe()}],"mask-image-radial-to-pos":[{"mask-radial-to":fe()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Q()}],"mask-image-conic-pos":[{"mask-conic":[He]}],"mask-image-conic-from-pos":[{"mask-conic-from":fe()}],"mask-image-conic-to-pos":[{"mask-conic-to":fe()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:me()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:x()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ce,Ae]}],filter:[{filter:["","none",Ce,Ae]}],blur:[{blur:xe()}],brightness:[{brightness:[He,Ce,Ae]}],contrast:[{contrast:[He,Ce,Ae]}],"drop-shadow":[{"drop-shadow":["","none",C,Of,Pf]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",He,Ce,Ae]}],"hue-rotate":[{"hue-rotate":[He,Ce,Ae]}],invert:[{invert:["",He,Ce,Ae]}],saturate:[{saturate:[He,Ce,Ae]}],sepia:[{sepia:["",He,Ce,Ae]}],"backdrop-filter":[{"backdrop-filter":["","none",Ce,Ae]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[He,Ce,Ae]}],"backdrop-contrast":[{"backdrop-contrast":[He,Ce,Ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",He,Ce,Ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[He,Ce,Ae]}],"backdrop-invert":[{"backdrop-invert":["",He,Ce,Ae]}],"backdrop-opacity":[{"backdrop-opacity":[He,Ce,Ae]}],"backdrop-saturate":[{"backdrop-saturate":[He,Ce,Ae]}],"backdrop-sepia":[{"backdrop-sepia":["",He,Ce,Ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ce,Ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[He,"initial",Ce,Ae]}],ease:[{ease:["linear","initial",H,Ce,Ae]}],delay:[{delay:[He,Ce,Ae]}],animate:[{animate:["none",X,Ce,Ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[O,Ce,Ae]}],"perspective-origin":[{"perspective-origin":re()}],rotate:[{rotate:Ie()}],"rotate-x":[{"rotate-x":Ie()}],"rotate-y":[{"rotate-y":Ie()}],"rotate-z":[{"rotate-z":Ie()}],scale:[{scale:Ge()}],"scale-x":[{"scale-x":Ge()}],"scale-y":[{"scale-y":Ge()}],"scale-z":[{"scale-z":Ge()}],"scale-3d":["scale-3d"],skew:[{skew:qe()}],"skew-x":[{"skew-x":qe()}],"skew-y":[{"skew-y":qe()}],transform:[{transform:[Ce,Ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:re()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$e()}],"translate-x":[{"translate-x":$e()}],"translate-y":[{"translate-y":$e()}],"translate-z":[{"translate-z":$e()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce,Ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce,Ae]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[He,eu,io,Xg]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Uz=vz(jz);function Gt(...t){return Uz(W9(t))}const zz=()=>{const{isSettingsOpen:t,closeSettings:e,settings:n,updateSettings:s}=nh(),a=ed.useRef(n);if(ed.useEffect(()=>{t&&(a.current=n)},[t]),!t)return null;const l=()=>{s(a.current,!1),e()},u=()=>{s(n,!0),e()},f=[{id:"dawn",name:"Dawn",color:"bg-[#0f111a] from-violet-500/20 to-pink-500/20"},{id:"midnight",name:"Midnight",color:"bg-[#020617] from-sky-500/20 to-indigo-500/20"},{id:"forest",name:"Forest",color:"bg-[#052e16] from-green-500/20 to-emerald-500/20"},{id:"ocean",name:"Ocean",color:"bg-[#083344] from-cyan-500/20 to-teal-500/20"},{id:"sunset",name:"Sunset",color:"bg-[#2a0a0a] from-orange-500/20 to-rose-500/20"}],p=[{id:"outfit",name:"Modern",family:"font-[Outfit]"},{id:"inter",name:"Clean",family:"font-[Inter]"},{id:"playfair",name:"Elegant",family:'font-["Playfair_Display"]'},{id:"mono",name:"Tech",family:'font-["Fira_Code"]'}];return b.jsx(Ji,{children:t&&b.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 font-sans",children:[b.jsx(ht.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:l}),b.jsxs(ht.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-lg bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[b.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[b.jsx(mx,{className:"w-5 h-5 text-accent-primary"}),"Customization"]}),b.jsx("button",{onClick:l,className:"text-slate-400 hover:text-white transition-colors",children:b.jsx(fo,{className:"w-6 h-6"})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(mx,{className:"w-4 h-4"})," Theme"]}),b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:f.map(d=>b.jsxs("button",{onClick:()=>s({theme:d.id},!1),className:Gt("relative group overflow-hidden rounded-xl border transition-all duration-300",n.theme===d.id?"border-accent-primary ring-2 ring-accent-primary/50":"border-white/10 hover:border-white/30"),children:[b.jsx("div",{className:Gt("h-16 w-full bg-gradient-to-br",d.color)}),b.jsx("div",{className:"p-3 bg-slate-800/50",children:b.jsx("span",{className:Gt("text-sm font-medium",n.theme===d.id?"text-white":"text-slate-400"),children:d.name})}),n.theme===d.id&&b.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-accent-primary rounded-full flex items-center justify-center shadow-lg",children:b.jsx(Tl,{className:"w-3 h-3 text-white"})})]},d.id))})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(q9,{className:"w-4 h-4"})," Typography"]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:p.map(d=>b.jsxs("button",{onClick:()=>s({font:d.id},!1),className:Gt("flex items-center justify-between p-4 rounded-xl border transition-all duration-200 text-left",n.font===d.id?"bg-white/10 border-accent-primary text-white":"bg-white/5 border-white/5 hover:bg-white/10 text-slate-300"),children:[b.jsxs("div",{children:[b.jsx("span",{className:Gt("text-lg block mb-0.5",d.family),children:"Aa"}),b.jsx("span",{className:"text-xs text-slate-400",children:d.name})]}),n.font===d.id&&b.jsx(Tl,{className:"w-5 h-5 text-accent-primary"})]},d.id))}),b.jsx("div",{className:"mt-4 p-4 rounded-xl bg-black/20 border border-white/5",children:b.jsx("p",{className:Gt("text-sm text-slate-300 leading-relaxed",n.font==="outfit"&&"font-[Outfit]",n.font==="inter"&&"font-[Inter]",n.font==="playfair"&&'font-["Playfair_Display"]',n.font==="mono"&&'font-["Fira_Code"]'),children:"The quick brown fox jumps over the lazy dog. 1234567890."})})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(gx,{className:"w-4 h-4"})," Experience"]}),b.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 mb-3",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:Gt("p-2 rounded-lg",n.enableAnimation?"bg-accent-primary/20 text-accent-primary":"bg-slate-700 text-slate-400"),children:b.jsx(gx,{size:20})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium text-white",children:"Live Backgrounds"}),b.jsx("div",{className:"text-xs text-slate-400",children:"Dynamic particles and ambient effects"})]})]}),b.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:n.enableAnimation,onChange:d=>s({enableAnimation:d.target.checked},!1),className:"sr-only peer"}),b.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-accent-primary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary"})]})]}),b.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:Gt("p-2 rounded-lg",n.enableSound?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-slate-400"),children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),b.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),b.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium text-white",children:"Sound Effects"}),b.jsx("div",{className:"text-xs text-slate-400",children:"Satisfying clicks and celebrations"})]})]}),b.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:d=>s({enableSound:d.target.checked},!1),className:"sr-only peer"}),b.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]})]})]}),b.jsxs("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3 sticky bottom-0 bg-slate-900 z-10 shrink-0",children:[b.jsx("button",{onClick:l,className:"px-4 py-2 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:u,className:"px-6 py-2 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all active:scale-95",children:"Save Changes"})]})]})]})})},Wg={theme:"dawn",font:"outfit",enableAnimation:!0,enableSound:!0},N2=k.createContext(null),nh=()=>{const t=k.useContext(N2);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},Bz=({children:t})=>{const{user:e}=Gl(),[n,s]=k.useState(Wg),[a,l]=k.useState(!1);k.useEffect(()=>{(async()=>{if(!e){s(Wg);return}try{const y=Is(Wn,"users",e.uid),v=await Xu(y);v.exists()&&v.data().settings&&s({...Wg,...v.data().settings})}catch(y){console.error("Error loading settings:",y)}})()},[e]),k.useEffect(()=>{const d=document.body;d.classList.remove("theme-midnight","theme-forest","theme-ocean","theme-sunset"),n.theme!=="dawn"&&d.classList.add(`theme-${n.theme}`),d.classList.remove("font-inter","font-playfair","font-mono","font-comic"),n.font!=="outfit"&&d.classList.add(`font-${n.font}`),n.enableAnimation?d.classList.remove("reduce-motion"):d.classList.add("reduce-motion")},[n]);const u=async(d,y=!0)=>{const v={...n,...d};if(s(v),e&&y)try{await Ad(Is(Wn,"users",e.uid),{settings:v},{merge:!0})}catch(w){console.error("Error saving settings:",w)}},f=()=>l(!0),p=()=>l(!1);return b.jsxs(N2.Provider,{value:{settings:n,updateSettings:u,isSettingsOpen:a,openSettings:f,closeSettings:p},children:[t,b.jsx(zz,{})]})},Fz=()=>{const{signIn:t,error:e}=Gl();return b.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center",children:[b.jsx("div",{className:"background-animation"}),b.jsxs("div",{className:"glass-panel p-8 max-w-md w-full flex flex-col items-center gap-6 animate-fade-in",children:[b.jsxs("div",{className:"flex flex-col items-center gap-2 mb-2",children:[b.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-24 w-auto object-contain drop-shadow-[0_0_15px_rgba(251,191,36,0.3)]"}),b.jsx("div",{className:"rounded-full bg-accent-primary/20 p-2 hidden",children:b.jsx(z9,{className:"w-6 h-6 text-accent-gold animate-pulse"})})]}),b.jsx("h1",{className:"text-4xl font-heading font-bold text-gradient sr-only",children:"SunSar Bingo"}),b.jsxs("p",{className:"text-slate-300 font-light text-lg",children:["Track your goals, share with friends,",b.jsx("br",{}),"and make 2026 your best year yet."]}),e&&b.jsx("div",{className:"bg-red-500/20 text-red-200 px-4 py-2 rounded-lg text-sm border border-red-500/30",children:e}),b.jsx("button",{onClick:t,className:"group relative px-6 py-3 bg-white text-bg-dark font-bold rounded-full transition-all hover:scale-105 hover:shadow-[0_0_20px_rgba(255,255,255,0.3)]",children:b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"G",className:"w-5 h-5"}),"Sign in / Sign up with Google"]})})]}),b.jsx("footer",{className:"absolute bottom-4 text-slate-500 text-xs",children:" 2026 SunSar Bingo  Free & Open Source"})]})};var D0={};(function t(e,n,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),u=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;try{var B=new OffscreenCanvas(1,1),x=B.getContext("2d");x.fillRect(0,0,1,1);var $=B.transferToImageBitmap();x.createPattern($,"no-repeat")}catch{return!1}return!0})();function p(){}function d(B){var x=n.exports.Promise,$=x!==void 0?x:e.Promise;return typeof $=="function"?new $(B):(B(p,p),null)}var y=(function(B,x){return{transform:function($){if(B)return $;if(x.has($))return x.get($);var ne=new OffscreenCanvas($.width,$.height),oe=ne.getContext("2d");return oe.drawImage($,0,0),x.set($,ne),ne},clear:function(){x.clear()}}})(f,new Map),v=(function(){var B=Math.floor(16.666666666666668),x,$,ne={},oe=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(x=function(ge){var ve=Math.random();return ne[ve]=requestAnimationFrame(function fe(xe){oe===xe||oe+B-1<xe?(oe=xe,delete ne[ve],ge()):ne[ve]=requestAnimationFrame(fe)}),ve},$=function(ge){ne[ge]&&cancelAnimationFrame(ne[ge])}):(x=function(ge){return setTimeout(ge,B)},$=function(ge){return clearTimeout(ge)}),{frame:x,cancel:$}})(),w=(function(){var B,x,$={};function ne(oe){function ge(ve,fe){oe.postMessage({options:ve||{},callback:fe})}oe.init=function(fe){var xe=fe.transferControlToOffscreen();oe.postMessage({canvas:xe},[xe])},oe.fire=function(fe,xe,Ie){if(x)return ge(fe,null),x;var Ge=Math.random().toString(36).slice(2);return x=d(function(qe){function $e(wt){wt.data.callback===Ge&&(delete $[Ge],oe.removeEventListener("message",$e),x=null,y.clear(),Ie(),qe())}oe.addEventListener("message",$e),ge(fe,Ge),$[Ge]=$e.bind(null,{data:{callback:Ge}})}),x},oe.reset=function(){oe.postMessage({reset:!0});for(var fe in $)$[fe](),delete $[fe]}}return function(){if(B)return B;if(!s&&l){var oe=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{B=new Worker(URL.createObjectURL(new Blob([oe])))}catch(ge){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ge),null}ne(B)}return B}})(),C={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function M(B,x){return x?x(B):B}function O(B){return B!=null}function N(B,x,$){return M(B&&O(B[x])?B[x]:C[x],$)}function H(B){return B<0?0:Math.floor(B)}function X(B,x){return Math.floor(Math.random()*(x-B))+B}function Y(B){return parseInt(B,16)}function Q(B){return B.map(re)}function re(B){var x=String(B).replace(/[^0-9a-f]/gi,"");return x.length<6&&(x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2]),{r:Y(x.substring(0,2)),g:Y(x.substring(2,4)),b:Y(x.substring(4,6))}}function ce(B){var x=N(B,"origin",Object);return x.x=N(x,"x",Number),x.y=N(x,"y",Number),x}function I(B){B.width=document.documentElement.clientWidth,B.height=document.documentElement.clientHeight}function S(B){var x=B.getBoundingClientRect();B.width=x.width,B.height=x.height}function D(B){var x=document.createElement("canvas");return x.style.position="fixed",x.style.top="0px",x.style.left="0px",x.style.pointerEvents="none",x.style.zIndex=B,x}function j(B,x,$,ne,oe,ge,ve,fe,xe){B.save(),B.translate(x,$),B.rotate(ge),B.scale(ne,oe),B.arc(0,0,1,ve,fe,xe),B.restore()}function P(B){var x=B.angle*(Math.PI/180),$=B.spread*(Math.PI/180);return{x:B.x,y:B.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:B.startVelocity*.5+Math.random()*B.startVelocity,angle2D:-x+(.5*$-Math.random()*$),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:B.color,shape:B.shape,tick:0,totalTicks:B.ticks,decay:B.decay,drift:B.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:B.gravity*3,ovalScalar:.6,scalar:B.scalar,flat:B.flat}}function z(B,x){x.x+=Math.cos(x.angle2D)*x.velocity+x.drift,x.y+=Math.sin(x.angle2D)*x.velocity+x.gravity,x.velocity*=x.decay,x.flat?(x.wobble=0,x.wobbleX=x.x+10*x.scalar,x.wobbleY=x.y+10*x.scalar,x.tiltSin=0,x.tiltCos=0,x.random=1):(x.wobble+=x.wobbleSpeed,x.wobbleX=x.x+10*x.scalar*Math.cos(x.wobble),x.wobbleY=x.y+10*x.scalar*Math.sin(x.wobble),x.tiltAngle+=.1,x.tiltSin=Math.sin(x.tiltAngle),x.tiltCos=Math.cos(x.tiltAngle),x.random=Math.random()+2);var $=x.tick++/x.totalTicks,ne=x.x+x.random*x.tiltCos,oe=x.y+x.random*x.tiltSin,ge=x.wobbleX+x.random*x.tiltCos,ve=x.wobbleY+x.random*x.tiltSin;if(B.fillStyle="rgba("+x.color.r+", "+x.color.g+", "+x.color.b+", "+(1-$)+")",B.beginPath(),u&&x.shape.type==="path"&&typeof x.shape.path=="string"&&Array.isArray(x.shape.matrix))B.fill(Z(x.shape.path,x.shape.matrix,x.x,x.y,Math.abs(ge-ne)*.1,Math.abs(ve-oe)*.1,Math.PI/10*x.wobble));else if(x.shape.type==="bitmap"){var fe=Math.PI/10*x.wobble,xe=Math.abs(ge-ne)*.1,Ie=Math.abs(ve-oe)*.1,Ge=x.shape.bitmap.width*x.scalar,qe=x.shape.bitmap.height*x.scalar,$e=new DOMMatrix([Math.cos(fe)*xe,Math.sin(fe)*xe,-Math.sin(fe)*Ie,Math.cos(fe)*Ie,x.x,x.y]);$e.multiplySelf(new DOMMatrix(x.shape.matrix));var wt=B.createPattern(y.transform(x.shape.bitmap),"no-repeat");wt.setTransform($e),B.globalAlpha=1-$,B.fillStyle=wt,B.fillRect(x.x-Ge/2,x.y-qe/2,Ge,qe),B.globalAlpha=1}else if(x.shape==="circle")B.ellipse?B.ellipse(x.x,x.y,Math.abs(ge-ne)*x.ovalScalar,Math.abs(ve-oe)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI):j(B,x.x,x.y,Math.abs(ge-ne)*x.ovalScalar,Math.abs(ve-oe)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI);else if(x.shape==="star")for(var Ve=Math.PI/2*3,lt=4*x.scalar,zt=8*x.scalar,Bt=x.x,gn=x.y,ct=5,et=Math.PI/ct;ct--;)Bt=x.x+Math.cos(Ve)*zt,gn=x.y+Math.sin(Ve)*zt,B.lineTo(Bt,gn),Ve+=et,Bt=x.x+Math.cos(Ve)*lt,gn=x.y+Math.sin(Ve)*lt,B.lineTo(Bt,gn),Ve+=et;else B.moveTo(Math.floor(x.x),Math.floor(x.y)),B.lineTo(Math.floor(x.wobbleX),Math.floor(oe)),B.lineTo(Math.floor(ge),Math.floor(ve)),B.lineTo(Math.floor(ne),Math.floor(x.wobbleY));return B.closePath(),B.fill(),x.tick<x.totalTicks}function V(B,x,$,ne,oe){var ge=x.slice(),ve=B.getContext("2d"),fe,xe,Ie=d(function(Ge){function qe(){fe=xe=null,ve.clearRect(0,0,ne.width,ne.height),y.clear(),oe(),Ge()}function $e(){s&&!(ne.width===a.width&&ne.height===a.height)&&(ne.width=B.width=a.width,ne.height=B.height=a.height),!ne.width&&!ne.height&&($(B),ne.width=B.width,ne.height=B.height),ve.clearRect(0,0,ne.width,ne.height),ge=ge.filter(function(wt){return z(ve,wt)}),ge.length?fe=v.frame($e):qe()}fe=v.frame($e),xe=qe});return{addFettis:function(Ge){return ge=ge.concat(Ge),Ie},canvas:B,promise:Ie,reset:function(){fe&&v.cancel(fe),xe&&xe()}}}function pe(B,x){var $=!B,ne=!!N(x||{},"resize"),oe=!1,ge=N(x,"disableForReducedMotion",Boolean),ve=l&&!!N(x||{},"useWorker"),fe=ve?w():null,xe=$?I:S,Ie=B&&fe?!!B.__confetti_initialized:!1,Ge=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,qe;function $e(Ve,lt,zt){for(var Bt=N(Ve,"particleCount",H),gn=N(Ve,"angle",Number),ct=N(Ve,"spread",Number),et=N(Ve,"startVelocity",Number),pi=N(Ve,"decay",Number),Ca=N(Ve,"gravity",Number),_r=N(Ve,"drift",Number),Kt=N(Ve,"colors",Q),xn=N(Ve,"ticks",Number),Mn=N(Ve,"shapes"),Bn=N(Ve,"scalar"),Sn=!!N(Ve,"flat"),js=ce(Ve),as=Bt,os=[],Bi=B.width*js.x,it=B.height*js.y;as--;)os.push(P({x:Bi,y:it,angle:gn,spread:ct,startVelocity:et,color:Kt[as%Kt.length],shape:Mn[X(0,Mn.length)],ticks:xn,decay:pi,gravity:Ca,drift:_r,scalar:Bn,flat:Sn}));return qe?qe.addFettis(os):(qe=V(B,os,xe,lt,zt),qe.promise)}function wt(Ve){var lt=ge||N(Ve,"disableForReducedMotion",Boolean),zt=N(Ve,"zIndex",Number);if(lt&&Ge)return d(function(et){et()});$&&qe?B=qe.canvas:$&&!B&&(B=D(zt),document.body.appendChild(B)),ne&&!Ie&&xe(B);var Bt={width:B.width,height:B.height};fe&&!Ie&&fe.init(B),Ie=!0,fe&&(B.__confetti_initialized=!0);function gn(){if(fe){var et={getBoundingClientRect:function(){if(!$)return B.getBoundingClientRect()}};xe(et),fe.postMessage({resize:{width:et.width,height:et.height}});return}Bt.width=Bt.height=null}function ct(){qe=null,ne&&(oe=!1,e.removeEventListener("resize",gn)),$&&B&&(document.body.contains(B)&&document.body.removeChild(B),B=null,Ie=!1)}return ne&&!oe&&(oe=!0,e.addEventListener("resize",gn,!1)),fe?fe.fire(Ve,Bt,ct):$e(Ve,Bt,ct)}return wt.reset=function(){fe&&fe.reset(),qe&&qe.reset()},wt}var ye;function U(){return ye||(ye=pe(null,{useWorker:!0,resize:!0})),ye}function Z(B,x,$,ne,oe,ge,ve){var fe=new Path2D(B),xe=new Path2D;xe.addPath(fe,new DOMMatrix(x));var Ie=new Path2D;return Ie.addPath(xe,new DOMMatrix([Math.cos(ve)*oe,Math.sin(ve)*oe,-Math.sin(ve)*ge,Math.cos(ve)*ge,$,ne])),Ie}function q(B){if(!u)throw new Error("path confetti are not supported in this browser");var x,$;typeof B=="string"?x=B:(x=B.path,$=B.matrix);var ne=new Path2D(x),oe=document.createElement("canvas"),ge=oe.getContext("2d");if(!$){for(var ve=1e3,fe=ve,xe=ve,Ie=0,Ge=0,qe,$e,wt=0;wt<ve;wt+=2)for(var Ve=0;Ve<ve;Ve+=2)ge.isPointInPath(ne,wt,Ve,"nonzero")&&(fe=Math.min(fe,wt),xe=Math.min(xe,Ve),Ie=Math.max(Ie,wt),Ge=Math.max(Ge,Ve));qe=Ie-fe,$e=Ge-xe;var lt=10,zt=Math.min(lt/qe,lt/$e);$=[zt,0,0,zt,-Math.round(qe/2+fe)*zt,-Math.round($e/2+xe)*zt]}return{type:"path",path:x,matrix:$}}function me(B){var x,$=1,ne="#000000",oe='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof B=="string"?x=B:(x=B.text,$="scalar"in B?B.scalar:$,oe="fontFamily"in B?B.fontFamily:oe,ne="color"in B?B.color:ne);var ge=10*$,ve=""+ge+"px "+oe,fe=new OffscreenCanvas(ge,ge),xe=fe.getContext("2d");xe.font=ve;var Ie=xe.measureText(x),Ge=Math.ceil(Ie.actualBoundingBoxRight+Ie.actualBoundingBoxLeft),qe=Math.ceil(Ie.actualBoundingBoxAscent+Ie.actualBoundingBoxDescent),$e=2,wt=Ie.actualBoundingBoxLeft+$e,Ve=Ie.actualBoundingBoxAscent+$e;Ge+=$e+$e,qe+=$e+$e,fe=new OffscreenCanvas(Ge,qe),xe=fe.getContext("2d"),xe.font=ve,xe.fillStyle=ne,xe.fillText(x,wt,Ve);var lt=1/$;return{type:"bitmap",bitmap:fe.transferToImageBitmap(),matrix:[lt,0,0,lt,-Ge*lt/2,-qe*lt/2]}}n.exports=function(){return U().apply(this,arguments)},n.exports.reset=function(){U().reset()},n.exports.create=pe,n.exports.shapeFromPath=q,n.exports.shapeFromText=me})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),D0,!1);const D2=D0.exports;D0.exports.create;const Lf=(t=1)=>{const e=200*t,n={origin:{y:.7}};function s(a,l){D2(Object.assign({},n,l,{particleCount:Math.floor(e*a)}))}s(.25,{spread:26,startVelocity:55}),s(.2,{spread:60}),s(.35,{spread:100,decay:.91,scalar:.8}),s(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),s(.1,{spread:120,startVelocity:45})},wx={cloudName:"dia6ped7h",uploadPreset:"bingo_proofs"},Ex=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",wx.uploadPreset),e.append("folder","bingo-proofs");const n=await fetch(`https://api.cloudinary.com/v1_1/${wx.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok){const a=await n.json();throw console.error("Cloudinary upload error:",a),new Error(a.error?.message||"Failed to upload image")}return(await n.json()).secure_url},qz="2026",Zg=5,Hz=["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"],Gz=t=>{const{user:e}=Gl(),[n,s]=k.useState([]),[a,l]=k.useState({}),[u,f]=k.useState(!0),[p,d]=k.useState(!1),[y,v]=k.useState(!1),[w,C]=k.useState(""),[M,O]=k.useState(Zg),N=k.useMemo(()=>t?Is(Wn,"boards",t):Is(Wn,"years",qz),[t]),H=(pe,ye)=>{if(!pe.length)return;const U=[];for(let q=0;q<ye;q++)U.push(pe.slice(q*ye,(q+1)*ye));let Z=!1;for(let q=0;q<ye;q++)if(U[q]&&U[q].every(me=>me.isCompleted)){Z=!0;break}if(!Z){for(let q=0;q<ye;q++)if(U.map(me=>me[q]).every(me=>me&&me.isCompleted)){Z=!0;break}}!Z&&U.map((q,me)=>q[me]).every(q=>q&&q.isCompleted)&&(Z=!0),!Z&&U.map((q,me)=>q[ye-1-me]).every(q=>q&&q.isCompleted)&&(Z=!0),Z&&!p?(d(!0),Lf(2)):Z||d(!1)},X=async(pe=Zg)=>{const ye=pe*pe,U=pe%2===1?Math.floor(ye/2):-1,Z=[...Hz].sort(()=>.5-Math.random()),q=[];let me=0;for(let B=0;B<ye;B++)B===U&&pe%2===1?q.push({id:B,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(q.push({id:B,text:Z[me%Z.length]||`Goal ${B+1}`,isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),me++);await Ad(N,{year:2026,gridSize:pe,items:q,isLocked:!1,createdAt:Fe.now(),lastUpdated:Fe.now(),...e?{ownerId:e.uid,members:{[e.uid]:"owner"}}:{}},{merge:!0})};k.useEffect(()=>{if(!e)return;f(!0);const pe=vC(N,ye=>{if(ye.exists()){const U=ye.data(),Z=U.gridSize||Zg;O(Z),s(U.items||[]),l(U.members||{}),v(U.isLocked||!1),C(U.title||""),H(U.items||[],Z)}else X();f(!1)},ye=>{console.error("Error fetching bingo board:",ye),f(!1)});return()=>pe()},[N,e]);const Y=async pe=>{if(!n.length)return;const ye=n.map(me=>({...me})),U=ye[pe];if(U.isFreeSpace)return;const Z=U.targetCount||1,q=U.currentCount||0;if(U.isCompleted){const me=Math.max(0,q-1);U.currentCount=me,U.isCompleted=me>=Z,me===0&&(U.completedBy=null,U.completedAt=null,U.proofPhotos=[])}else{const me=Math.min(Z,q+1);U.currentCount=me,U.isCompleted=me>=Z,U.completedBy=e?.displayName||e?.email||"Unknown",U.completedAt=Fe.now(),Lf(.5)}s(ye),H(ye,M);try{await Mi(N,{items:ye,lastUpdated:Fe.now()})}catch(me){console.error("Error updating bingo board:",me)}},Q=async pe=>{if(!n.length)return;const ye=n.map(B=>({...B})),U=ye[pe];if(U.isFreeSpace)return;const Z=U.currentCount||0;if(Z<=0)return;const q=U.targetCount||1,me=Z-1;U.currentCount=me,U.isCompleted=me>=q,me===0&&(U.completedBy=null,U.completedAt=null,U.proofPhotos=[]),s(ye),H(ye,M);try{await Mi(N,{items:ye,lastUpdated:Fe.now()})}catch(B){console.error("Error decrementing progress:",B)}},re=async(pe,ye)=>{if(!(!n.length||!e))try{const U=await Ex(ye),Z=n.map(ne=>({...ne})),q=Z[pe];if(q.isFreeSpace)return;const me=q.targetCount||1,B=q.currentCount||0,x=Math.min(me,B+1);q.currentCount=x,q.isCompleted=x>=me,q.completedBy=e?.displayName||e?.email||"Unknown",q.completedAt=Fe.now();const $=q.proofPhotos||[];q.proofPhotos=[...$,U],s(Z),H(Z,M),Lf(1),await Mi(N,{items:Z,lastUpdated:Fe.now()})}catch(U){throw console.error("Error completing with photo:",U),U}},ce=async(pe,ye)=>{if(!n.length||!e)return;const U=n[pe];!U.isCompleted&&(U.currentCount||0)<(U.targetCount||1);const Z=U.proofPhotos||[];if(Z.length>=5)throw new Error("Maximum 5 photos allowed per tile");try{const q=await Ex(ye),me=n.map(B=>({...B}));return me[pe].proofPhotos=[...Z,q],s(me),Lf(.3),await Mi(N,{items:me,lastUpdated:Fe.now()}),q}catch(q){throw console.error("Error adding photo:",q),q}},I=async(pe,ye)=>{const U=n.map(Z=>({...Z}));ye.text!==void 0&&(U[pe].text=ye.text),ye.style!==void 0&&(U[pe].style=ye.style),s(U);try{await Mi(N,{items:U,lastUpdated:Fe.now()})}catch(Z){console.error("Error updating item:",Z)}},S=async()=>{const pe=[...n],ye=M*M,U=M%2===1?Math.floor(ye/2):-1;let Z;if(U!==-1){const q=pe[U],me=[...pe.slice(0,U),...pe.slice(U+1)];for(let B=me.length-1;B>0;B--){const x=Math.floor(Math.random()*(B+1));[me[B],me[x]]=[me[x],me[B]]}Z=[...me.slice(0,U),q,...me.slice(U)]}else{Z=[...pe];for(let q=Z.length-1;q>0;q--){const me=Math.floor(Math.random()*(q+1));[Z[q],Z[me]]=[Z[me],Z[q]]}}s(Z),v(!0),await Ad(N,{isLocked:!0,items:Z,itemsBackup:pe,lastUpdated:Fe.now()},{merge:!0})},D=async()=>{try{const pe=await Xu(N);if(pe.exists()){const ye=pe.data();ye.itemsBackup?await Mi(N,{items:ye.itemsBackup,itemsBackup:Ed(),isLocked:!1,lastUpdated:Fe.now()}):await Mi(N,{isLocked:!1,lastUpdated:Fe.now()})}}catch(pe){console.error("Error unlocking board:",pe)}},j=k.useMemo(()=>{const pe=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],[0,6,12,18,24],[4,8,12,16,20]],ye=new Set(n.map((U,Z)=>U.isCompleted?Z:-1));return pe.reduce((U,Z)=>Z.every(q=>ye.has(q))?U+1:U,0)},[n]);return{items:n,members:a,loading:u,toggleItem:Y,updateItem:I,hasWon:p,bingoCount:j,isLocked:y,unlockBoard:D,jumbleAndLock:S,saveBoard:async pe=>{s(pe);try{await Mi(N,{items:pe,lastUpdated:Fe.now()})}catch(ye){console.error("Error saving board:",ye)}},completeWithPhoto:re,addPhotoToTile:ce,decrementProgress:Q,inviteUser:async(pe,ye="editor")=>{try{const U=xd(pl(Wn,"users"),Sd("email","==",pe)),Z=await mu(U);if(Z.empty)return{success:!1,type:"not_found",message:"User not found"};const q=Z.docs[0],me=q.id;return await Mi(N,{[`members.${me}`]:ye}),{success:!0,type:"success",message:`Added ${q.data().displayName||pe} as ${ye}!`}}catch(U){return console.error("Error inviting user:",U),{success:!1,type:"error",message:"Failed to invite user"}}},removeMember:async pe=>{try{return await Mi(N,{[`members.${pe}`]:Ed()}),{success:!0}}catch(ye){return console.error("Error removing member:",ye),{success:!1,error:ye}}},title:w,gridSize:M}};let _u=null;const tu=()=>(_u||(_u=new(window.AudioContext||window.webkitAudioContext)),_u),$z=()=>{const{settings:t}=nh(),e=t.enableSound??!0,n=k.useRef(0);k.useEffect(()=>{const d=()=>{_u?.state==="suspended"&&_u.resume()};return document.addEventListener("click",d,{once:!0}),document.addEventListener("touchstart",d,{once:!0}),()=>{document.removeEventListener("click",d),document.removeEventListener("touchstart",d)}},[]);const s=k.useCallback(()=>{const d=Date.now();return d-n.current<50?!1:(n.current=d,!0)},[]),a=k.useCallback(()=>{if(!(!e||!s()))try{const d=tu(),y=d.createOscillator(),v=d.createGain();y.connect(v),v.connect(d.destination),y.frequency.setValueAtTime(800,d.currentTime),y.frequency.exponentialRampToValueAtTime(400,d.currentTime+.1),y.type="sine",v.gain.setValueAtTime(.15,d.currentTime),v.gain.exponentialRampToValueAtTime(.001,d.currentTime+.1),y.start(d.currentTime),y.stop(d.currentTime+.1)}catch(d){console.warn("Audio playback failed:",d)}},[e,s]),l=k.useCallback(()=>{if(!(!e||!s()))try{const d=tu();[523.25,659.25,783.99].forEach((v,w)=>{const C=d.createOscillator(),M=d.createGain();C.connect(M),M.connect(d.destination),C.frequency.setValueAtTime(v,d.currentTime),C.type="sine";const O=d.currentTime+w*.08;M.gain.setValueAtTime(0,O),M.gain.linearRampToValueAtTime(.12,O+.02),M.gain.exponentialRampToValueAtTime(.001,O+.3),C.start(O),C.stop(O+.3)})}catch(d){console.warn("Audio playback failed:",d)}},[e,s]),u=k.useCallback(()=>{if(e)try{const d=tu();[{freq:523.25,time:0},{freq:659.25,time:.1},{freq:783.99,time:.2},{freq:1046.5,time:.35},{freq:1318.51,time:.5}].forEach(({freq:C,time:M})=>{const O=d.createOscillator(),N=d.createGain();O.connect(N),N.connect(d.destination),O.frequency.setValueAtTime(C,d.currentTime+M),O.type="sine",N.gain.setValueAtTime(0,d.currentTime+M),N.gain.linearRampToValueAtTime(.2,d.currentTime+M+.02),N.gain.exponentialRampToValueAtTime(.001,d.currentTime+M+.5),O.start(d.currentTime+M),O.stop(d.currentTime+M+.5)});const v=d.createOscillator(),w=d.createGain();v.connect(w),w.connect(d.destination),v.type="sine",v.frequency.setValueAtTime(2e3,d.currentTime+.6),v.frequency.exponentialRampToValueAtTime(4e3,d.currentTime+1.2),w.gain.setValueAtTime(0,d.currentTime+.6),w.gain.linearRampToValueAtTime(.05,d.currentTime+.7),w.gain.exponentialRampToValueAtTime(.001,d.currentTime+1.2),v.start(d.currentTime+.6),v.stop(d.currentTime+1.2)}catch(d){console.warn("Audio playback failed:",d)}},[e]),f=k.useCallback(()=>{if(!(!e||!s()))try{const d=tu(),y=d.sampleRate*.15,v=d.createBuffer(1,y,d.sampleRate),w=v.getChannelData(0);for(let N=0;N<y;N++)w[N]=(Math.random()*2-1)*(1-N/y);const C=d.createBufferSource(),M=d.createBiquadFilter(),O=d.createGain();C.buffer=v,M.type="lowpass",M.frequency.setValueAtTime(2e3,d.currentTime),M.frequency.exponentialRampToValueAtTime(500,d.currentTime+.15),C.connect(M),M.connect(O),O.connect(d.destination),O.gain.setValueAtTime(.08,d.currentTime),O.gain.exponentialRampToValueAtTime(.001,d.currentTime+.15),C.start(d.currentTime)}catch(d){console.warn("Audio playback failed:",d)}},[e,s]),p=k.useCallback(()=>{if(!(!e||!s()))try{const d=tu(),y=d.createOscillator(),v=d.createGain();y.connect(v),v.connect(d.destination),y.frequency.setValueAtTime(200,d.currentTime),y.frequency.linearRampToValueAtTime(150,d.currentTime+.2),y.type="sine",v.gain.setValueAtTime(.15,d.currentTime),v.gain.exponentialRampToValueAtTime(.001,d.currentTime+.2),y.start(d.currentTime),y.stop(d.currentTime+.2)}catch(d){console.warn("Audio playback failed:",d)}},[e,s]);return{playClick:a,playSuccess:l,playBingo:u,playWhoosh:f,playError:p}},Kz=({items:t,isOpen:e,onClose:n})=>{const[s,a]=k.useState(null),l=k.useMemo(()=>t.map((p,d)=>({...p,originalIndex:d})).filter(p=>p.isCompleted&&p.proofPhotos&&p.proofPhotos.length>0).sort((p,d)=>{const y=p.completedAt?.toDate?.()||new Date(0);return(d.completedAt?.toDate?.()||new Date(0)).getTime()-y.getTime()}),[t]),u=k.useMemo(()=>{const p={};return l.forEach(d=>{const v=(d.completedAt?.toDate?.()||new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"});p[v]||(p[v]=[]),p[v].push(d)}),p},[l]),f=p=>p?(p.toDate?p.toDate():new Date(p)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e?b.jsx(Ji,{children:b.jsxs(ht.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-bg-dark overflow-y-auto",children:[b.jsx("div",{className:"sticky top-0 z-10 bg-bg-dark/95 backdrop-blur-md border-b border-white/10",children:b.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Qy,{className:"w-6 h-6 text-accent-gold"}),b.jsx("h1",{className:"text-xl font-bold text-white",children:"2026 Memories"}),b.jsxs("span",{className:"text-sm text-slate-400",children:["(",l.length," moments)"]})]}),b.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-white transition-colors rounded-full hover:bg-white/10",children:b.jsx(fo,{size:24})})]})}),b.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:l.length===0?b.jsxs("div",{className:"text-center py-20",children:[b.jsx(Qy,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),b.jsx("h2",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No memories yet"}),b.jsx("p",{className:"text-slate-500",children:"Complete tasks and add photos to build your 2026 album!"})]}):Object.entries(u).map(([p,d])=>b.jsxs("div",{className:"mb-8",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(Od,{className:"w-4 h-4 text-accent-primary"}),b.jsx("h2",{className:"text-lg font-semibold text-accent-primary",children:p}),b.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent-primary/30 to-transparent"})]}),b.jsx("div",{className:"space-y-6",children:d.map((y,v)=>b.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"bg-bg-card/80 rounded-2xl border border-white/10 overflow-hidden shadow-xl",children:[b.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer",onClick:()=>a({memoryIdx:l.indexOf(y),photoIdx:0}),children:[b.jsx("img",{src:y.proofPhotos[0],alt:y.text,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),y.proofPhotos.length>1&&b.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-full text-white text-xs font-medium",children:["+",y.proofPhotos.length-1," more"]})]}),y.proofPhotos.length>1&&b.jsx("div",{className:"flex gap-1 p-2 bg-black/30 overflow-x-auto",children:y.proofPhotos.map((w,C)=>b.jsx("button",{onClick:()=>a({memoryIdx:l.indexOf(y),photoIdx:C}),className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 border-2 border-transparent hover:border-accent-primary transition-all",children:b.jsx("img",{src:w,alt:"",className:"w-full h-full object-cover"})},C))}),b.jsxs("div",{className:"p-4",children:[b.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[b.jsx("span",{className:"text-accent-gold",children:""}),y.text]}),b.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(G9,{size:14}),y.completedBy]}),b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(Od,{size:14}),f(y.completedAt)]})]})]})]},y.id))})]},p))}),b.jsx(Ji,{children:s!==null&&l[s.memoryIdx]&&b.jsxs(ht.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>a(null),children:[b.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white",children:b.jsx(fo,{size:32})}),(()=>{const p=l[s.memoryIdx],d=p.proofPhotos||[],y=s.photoIdx;return b.jsxs("div",{className:"relative max-w-4xl w-full",onClick:v=>v.stopPropagation(),children:[b.jsx("img",{src:d[y],alt:"",className:"w-full max-h-[80vh] object-contain rounded-lg"}),d.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>a({...s,photoIdx:y>0?y-1:d.length-1}),className:"absolute left-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:b.jsx(c2,{size:28})}),b.jsx("button",{onClick:()=>a({...s,photoIdx:y<d.length-1?y+1:0}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:b.jsx(u2,{size:28})})]}),b.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[b.jsx("p",{className:"text-white font-semibold",children:p.text}),b.jsxs("p",{className:"text-slate-300 text-sm",children:[y+1," / ",d.length,"  ",f(p.completedAt)]})]})]})})()]})})]})}):null},xx=()=>{const{boardId:t,yearId:e}=tD(),n=zd(),s=e?void 0:t,{items:a,members:l,loading:u,toggleItem:f,hasWon:p,bingoCount:d,isLocked:y,unlockBoard:v,jumbleAndLock:w,saveBoard:C,completeWithPhoto:M,addPhotoToTile:O,decrementProgress:N,inviteUser:H,removeMember:X,title:Y,gridSize:Q}=Gz(s),{logout:re,user:ce}=Gl(),I=g2(),{openSettings:S}=nh(),{playClick:D,playSuccess:j,playBingo:P,playWhoosh:z}=$z(),[V,pe]=k.useState(!1),[ye,U]=k.useState([]),[Z,q]=k.useState(!1),[me,B]=k.useState(!1),[x,$]=k.useState([]),[ne,oe]=k.useState(null),[ge,ve]=k.useState(""),[fe,xe]=k.useState({}),[Ie,Ge]=k.useState(1),[qe,$e]=k.useState(""),[wt,Ve]=k.useState(!1),[lt,zt]=k.useState(0),[Bt,gn]=k.useState(null),[ct,et]=k.useState(!1);k.useEffect(()=>{!localStorage.getItem("hasSeenWalkthrough")&&!u&&a.length>0&&Ve(!0)},[u,a]),k.useEffect(()=>{(async()=>{if(me&&l){const Te=[];for(const[ut,Rt]of Object.entries(l))if(Rt!=="owner")try{const Yt=await Xu(Is(Wn,"users",ut));if(Yt.exists()){const An=Yt.data();Te.push({id:ut,name:An.displayName||"Unknown",email:An.email||"No email",role:Rt})}}catch(Yt){console.error("Error fetching user:",Yt)}$(Te)}})()},[me,l]);const pi=async(K,Te)=>{await I.confirm(`Are you sure you want to remove ${Te} from this board?`,{title:"Remove Member",type:"error",confirmText:"Remove"})&&((await X(K)).success?($(Yt=>Yt.filter(An=>An.id!==K)),await I.alert(`${Te} has been removed.`,{type:"success"})):await I.alert("Failed to remove member.",{type:"error"}))},Ca=async()=>{const K=await I.sharePrompt("Enter their email address to invite them to this board.",{title:"Invite User"});if(K){const Te=await H(K.email,K.role);if(Te.type==="success")await I.alert(Te.message,{title:"Success!",type:"success"});else if(Te.type==="not_found"){if(await I.confirm(`"${K.email}" hasn't signed up yet.

Would you like to send them an email invitation to join SunSar Bingo?`,{title:"User Not Found",confirmText:"Send Invite Email",type:"info"}))try{const{sendInviteEmail:Rt,openMailtoFallback:Yt}=await ty(async()=>{const{sendInviteEmail:Fi,openMailtoFallback:ni}=await import("./emailService-L6lsCAKX.js");return{sendInviteEmail:Fi,openMailtoFallback:ni}},[]);(await Rt({recipientEmail:K.email,senderName:ce?.displayName||ce?.email||"A friend"})).success?await I.alert(`Invitation sent to ${K.email}! They'll receive an email with instructions to join.`,{title:"Invitation Sent!",type:"success"}):(Yt(K.email,ce?.displayName||"A friend"),await I.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"}))}catch{const Yt=encodeURIComponent("Join me on SunSar Bingo!"),An=encodeURIComponent(`Hey! Come join me on SunSar Bingo to track our 2026 goals together.

Sign up here: ${window.location.origin}`);window.open(`mailto:${K.email}?subject=${Yt}&body=${An}`),await I.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"})}}else await I.alert(Te.message,{title:"Error",type:"error"})}},_r=()=>{lt<2?zt(K=>K+1):(Ve(!1),localStorage.setItem("hasSeenWalkthrough","true"))},[Kt,xn]=k.useState(!1),[Mn,Bn]=k.useState(null),[Sn,js]=k.useState(!1),as=k.useRef(null),[os,Bi]=k.useState(!1),[it,kt]=k.useState(null),[Vn,Et]=k.useState(null),[Us,gi]=k.useState(0),[Ra,Jn]=k.useState(!1),yi=k.useRef(null),[Ot,ei]=k.useState(!1),[vi,Fn]=k.useState(()=>localStorage.getItem("celebrationDismissed")==="true"),[Ia,br]=k.useState(0);k.useEffect(()=>{Ia===5&&(v(),br(0),D2({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#ec4899","#ffffff"]}));let K;return Ia>0&&(K=setTimeout(()=>br(0),1e3)),()=>clearTimeout(K)},[Ia,v]);const _i=()=>{y&&br(K=>K+1)},zs=async()=>{await I.confirm(`This will randomly shuffle all tiles (except the center) and LOCK the board.

(Tap the logo 5 times to Undo/Unlock).`,{title:"Jumble & Finalize Board?",confirmText:"Finalize",type:"warning"})&&(w(),pe(!1))},Wl=()=>{Fn(!0),localStorage.setItem("celebrationDismissed","true")};ed.useEffect(()=>{!u&&!p&&(Fn(!1),localStorage.removeItem("celebrationDismissed"))},[p,u]);const ls=k.useRef(p);ed.useEffect(()=>{p&&!ls.current&&!u&&P(),ls.current=p},[p,u,P]);const Na=K=>{const Te=V?ye:a;if(oe(K),ve(Te[K].text),xe(Te[K].style||{color:"#ffffff",fontSize:"base",bold:!1,italic:!1}),Ge(Te[K].targetCount||1),Te[K].dueDate){const ut=Te[K].dueDate,Rt=typeof ut.toDate=="function"?ut.toDate():new Date(ut),Yt=Rt.getFullYear(),An=String(Rt.getMonth()+1).padStart(2,"0"),Fi=String(Rt.getDate()).padStart(2,"0");$e(`${Yt}-${An}-${Fi}`)}else $e("");q(!0)},Da=()=>{if(ne===null)return;let K;qe&&(K=new Date(qe+"T12:00:00"));const Te=[...ye];Te[ne]={...Te[ne],text:ge,style:fe,targetCount:Ie,dueDate:K},U(Te),q(!1),oe(null)};if(u)return b.jsx("div",{className:"flex h-screen items-center justify-center text-accent-primary animate-pulse",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),b.jsx("p",{children:"Loading Board..."})]})});const bi=a.filter(K=>K.isCompleted).length/25*100,wr=K=>{if(!K)return"-";const Te=K.toDate?K.toDate():new Date(K);return Te.toLocaleDateString()+" "+Te.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},Pn=V?ye:a,ti=K=>{const Te=Pn[K];gn({index:K,wasCompleted:Te.isCompleted}),Te.isCompleted?D():j(),f(K),et(!0),setTimeout(()=>et(!1),3e3)};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"min-h-screen flex flex-col items-center p-3 pb-24 relative overflow-x-hidden no-print",children:[b.jsx("div",{className:"background-animation"}),b.jsxs("div",{className:"w-full max-w-[500px] flex flex-col gap-6 mb-8 pt-2 px-2",children:[b.jsxs("header",{className:"w-full flex justify-between items-center",children:[b.jsx("div",{className:"flex items-center",children:b.jsx(ht.img,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},src:"/logo.png",alt:"SunSar Bingo",className:"h-10 sm:h-12 w-auto object-contain cursor-pointer active:scale-95 transition-transform",onClick:_i})}),b.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[b.jsx("button",{onClick:()=>ei(!0),className:"text-slate-400 hover:text-accent-gold transition-colors p-2 hover:bg-white/5 rounded-full",title:"View Memories",children:b.jsx(Qy,{size:18})}),b.jsx("button",{onClick:()=>n("/dashboard"),className:"text-slate-400 hover:text-white transition-colors p-2 hover:bg-white/5 rounded-full",title:"Dashboard",children:b.jsx(h2,{size:18})}),b.jsx("button",{onClick:()=>B(!0),className:"text-slate-400 hover:text-accent-primary transition-colors p-2 hover:bg-white/5 rounded-full",title:"Share Board",children:b.jsx(Yg,{size:18})}),b.jsx("button",{onClick:S,className:"text-slate-400 hover:text-white transition-colors p-2 hover:bg-white/5 rounded-full",title:"Settings",children:b.jsx(d2,{size:18})}),b.jsx(ht.div,{initial:{scale:0},animate:{scale:1},className:"relative cursor-pointer group px-1",children:b.jsx("img",{src:ce?.photoURL||"",alt:"User",className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full border-2 border-glass-border group-hover:border-accent-primary transition-colors object-cover shrink-0"})}),b.jsx("button",{onClick:re,className:"text-slate-400 hover:text-red-400 transition-colors p-2 hover:bg-white/5 rounded-full",title:"Logout",children:b.jsx(f2,{size:18})})]})]}),Y&&b.jsx(ht.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-center",children:b.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-accent-primary via-accent-secondary to-accent-primary bg-clip-text text-transparent inline-block pb-1",children:Y})})]}),b.jsx("div",{className:"w-full max-w-[500px] aspect-square relative mb-6",children:b.jsx("div",{className:Gt("grid gap-1.5 sm:gap-2 w-full h-full",Q===3&&"grid-cols-3 grid-rows-3",Q===4&&"grid-cols-4 grid-rows-4",Q===5&&"grid-cols-5 grid-rows-5",Q===6&&"grid-cols-6 grid-rows-6"),children:Pn.map((K,Te)=>b.jsxs(ht.div,{title:K.isCompleted?`Completed by ${K.completedBy||"Someone"} on ${wr(K.completedAt)}`:void 0,layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:Te*.02},whileTap:{scale:.95},onClick:()=>{V||K.isFreeSpace||(K.isCompleted?K.proofPhotos&&K.proofPhotos.length>0?(kt(K),Et(Te),gi(0),Bi(!0)):ti(Te):(z(),Bn(Te),xn(!0)))},className:Gt("relative rounded-lg flex items-center justify-center p-1 cursor-pointer select-none border backdrop-blur-sm overflow-hidden",Q===3&&"text-sm sm:text-base",Q===4&&"text-xs sm:text-sm",Q===5&&"text-[11px] sm:text-sm",Q===6&&"text-[9px] sm:text-xs","font-medium leading-tight select-none",K.isCompleted?"text-white scale-110 font-semibold":"text-slate-300","bg-bg-card/90 border-white/20 shadow-md hover:border-white/40 hover:bg-bg-card/95 transition-all duration-200",K.isCompleted&&!K.isFreeSpace&&"bg-gradient-to-br from-accent-primary/30 to-accent-secondary/30 border-accent-primary/50 shadow-[0_0_15px_rgba(139,92,246,0.15)]",K.isFreeSpace&&"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50",V&&"border-dashed border-slate-500"),children:[b.jsx("div",{className:"w-full h-full flex items-center justify-center text-center relative z-10",children:b.jsx("div",{className:"w-full h-full flex items-center justify-center p-1",onClick:ut=>{V&&(ut.stopPropagation(),Na(Te))},children:b.jsx("span",{className:Gt("leading-tight break-words w-full",K.isFreeSpace?"text-lg font-bold text-accent-gold":"font-semibold line-clamp-3 sm:line-clamp-4",K.isCompleted&&!K.isFreeSpace&&"text-white"),style:!K.isFreeSpace&&!K.isCompleted?{color:K.style?.color||"#cbd5e1",fontWeight:K.style?.bold?"bold":"600",fontStyle:K.style?.italic?"italic":"normal",fontSize:K.style?.fontSize==="sm"?"12px":K.style?.fontSize==="lg"?"18px":K.style?.fontSize==="xl"?"22px":void 0}:void 0,children:K.text})})}),K.dueDate&&!K.isCompleted&&!y&&b.jsxs("div",{className:Gt("flex items-center gap-1 mt-1 text-[10px] font-medium absolute bottom-1 right-1 px-1 rounded bg-black/40 backdrop-blur-sm",(K.dueDate.toDate?K.dueDate.toDate():new Date(K.dueDate))<new Date?"text-red-400":"text-slate-400"),children:[b.jsx(S9,{size:8}),b.jsx("span",{children:(K.dueDate.toDate?K.dueDate.toDate():new Date(K.dueDate)).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),K.isCompleted&&!K.isFreeSpace&&!V&&b.jsxs(b.Fragment,{children:[b.jsx(ht.div,{initial:{scale:0},animate:{scale:1},className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-20",children:b.jsx(Tl,{className:"w-12 h-12 text-white"})}),b.jsx("div",{className:"absolute top-0.5 right-0.5 w-1.5 h-1.5 bg-accent-primary rounded-full shadow-[0_0_5px_rgba(139,92,246,0.8)]"}),K.proofPhotos&&K.proofPhotos.length>0&&b.jsxs("div",{className:"absolute bottom-0.5 left-0.5 p-0.5 bg-accent-gold/80 rounded-sm flex items-center gap-0.5",children:[b.jsx(fx,{className:"w-2.5 h-2.5 text-black"}),K.proofPhotos.length>1&&b.jsx("span",{className:"text-[8px] font-bold text-black",children:K.proofPhotos.length})]})]}),!K.isFreeSpace&&!V&&(K.targetCount||1)>1&&b.jsxs("div",{className:Gt("absolute bottom-0.5 right-0.5 px-1 py-0.5 rounded text-[8px] font-bold",K.isCompleted?"bg-green-500/80 text-white":(K.currentCount||0)>0?"bg-amber-500/80 text-white":"bg-slate-600/80 text-slate-300"),children:[K.currentCount||0,"/",K.targetCount]})]},K.id))})}),b.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[500px] glass-panel p-4 flex flex-col gap-4",children:[b.jsxs("div",{className:"w-full",children:[b.jsxs("div",{className:"flex justify-between text-xs text-slate-300 mb-1.5 px-1",children:[b.jsx("span",{className:"font-semibold",children:"Progress"}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("span",{className:"font-mono text-accent-gold font-bold",children:[d,"/12 Bingos"]}),b.jsxs("span",{className:"font-mono text-accent-primary",children:[Math.round(bi),"%"]})]})]}),b.jsx("div",{className:"h-3 bg-bg-dark/50 rounded-full overflow-hidden border border-white/5",children:b.jsx(ht.div,{className:"h-full bg-gradient-to-r from-accent-primary to-accent-secondary relative",initial:{width:0},animate:{width:`${bi}%`},transition:{duration:1,ease:"easeOut"},children:b.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[1px] bg-white/50 shadow-[0_0_10px_white]"})})})]}),b.jsx("div",{className:"flex justify-center gap-2",children:V?b.jsx(b.Fragment,{children:b.jsxs("div",{className:"flex gap-2 w-full",children:[b.jsx("button",{onClick:()=>pe(!1),className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10 transition-all",children:"Cancel"}),b.jsxs("button",{onClick:()=>{C(ye),pe(!1)},className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 transition-all flex items-center justify-center gap-2",children:[b.jsx(Tl,{size:16}),"Save Changes"]})]})}):b.jsxs("div",{className:"flex gap-2 justify-center w-full flex-wrap",children:[!y&&b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>{U([...a]),pe(!0)},className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[b.jsx(px,{size:12}),"Edit Board"]}),b.jsxs("button",{onClick:zs,className:"flex-1 py-2 px-4 text-xs font-medium text-red-400 hover:text-red-300 transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[b.jsx(j9,{size:12}),"Jumble & Finalize"]})]}),b.jsxs("button",{onClick:()=>window.print(),className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[b.jsx(V9,{size:12}),"Print Status"]})]})})]}),b.jsx(Ji,{children:p&&!vi&&b.jsx(ht.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:b.jsxs(ht.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center max-w-sm w-full relative overflow-hidden border-accent-gold/30",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent-gold/10 to-transparent pointer-events-none"}),b.jsx(ht.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"inline-block",children:b.jsx(hx,{className:"w-20 h-20 text-accent-gold mx-auto mb-4 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),b.jsx("h2",{className:"text-4xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-accent-gold via-white to-accent-secondary mb-2",children:"BINGO!"}),b.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"2026 is off to an amazing start!"}),b.jsx("button",{onClick:Wl,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-[0_0_20px_rgba(139,92,246,0.4)] transition-all transform hover:scale-105",children:"Keep Playing"})]})})}),b.jsx(Ji,{children:Z&&b.jsx(ht.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:()=>q(!1),children:b.jsxs(ht.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-gold/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl relative overflow-hidden",onClick:K=>K.stopPropagation(),children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Edit Tile"}),b.jsx("div",{className:"mb-4 flex justify-center",children:b.jsx("div",{className:"w-32 h-32 rounded-lg bg-bg-card/80 border border-white/10 flex items-center justify-center p-2 text-center overflow-hidden",children:b.jsx("span",{className:Gt("font-hand font-semibold leading-tight break-words"),style:{color:fe.color||"#ffffff",fontWeight:fe.bold?"bold":"600",fontStyle:fe.italic?"italic":"normal",fontSize:fe.fontSize==="sm"?"12px":fe.fontSize==="lg"?"18px":fe.fontSize==="xl"?"22px":"16px"},children:ge||"Preview Text"})})}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Content"}),b.jsx("textarea",{className:"w-full bg-black/20 text-white rounded-lg p-3 border border-white/10 focus:border-accent-primary outline-none min-h-[80px]",value:ge,onChange:K=>ve(K.target.value),placeholder:"Enter bingo task..."})]}),b.jsxs("div",{className:"mb-6 space-y-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Color"}),b.jsx("div",{className:"flex gap-2 flex-wrap",children:["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#ec4899","#a855f7"].map(K=>b.jsx("button",{className:Gt("w-6 h-6 rounded-full border border-white/10 transition-transform active:scale-90",fe.color===K&&"ring-2 ring-white scale-110"),style:{backgroundColor:K},onClick:()=>xe(Te=>({...Te,color:K}))},K))})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),b.jsx("div",{className:"flex bg-black/20 rounded-lg p-1",children:["sm","base","lg","xl"].map(K=>b.jsx("button",{onClick:()=>xe(Te=>({...Te,fontSize:K})),className:Gt("flex-1 py-1 text-[10px] font-bold rounded transition-colors uppercase",(fe.fontSize||"base")===K?"bg-accent-primary text-white":"text-slate-400 hover:text-white"),children:K==="base"?"M":K},K))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Style"}),b.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-lg p-1",children:[b.jsx("button",{onClick:()=>xe(K=>({...K,bold:!K.bold})),className:Gt("w-8 h-full rounded flex items-center justify-center font-bold transition-colors",fe.bold?"bg-white text-black":"text-slate-400 hover:text-white"),children:"B"}),b.jsx("button",{onClick:()=>xe(K=>({...K,italic:!K.italic})),className:Gt("w-8 h-full rounded flex items-center justify-center italic transition-colors font-serif",fe.italic?"bg-white text-black":"text-slate-400 hover:text-white"),children:"I"})]})]})]})]}),b.jsxs("div",{className:"space-y-4 mb-6 pt-4 border-t border-white/10",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Target Count"}),b.jsx("input",{type:"number",min:"1",max:"100",value:Ie,onChange:K=>Ge(parseInt(K.target.value)||1),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors"}),b.jsx("p",{className:"text-xs text-slate-500",children:"How many times to complete this?"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Due Date (Optional)"}),b.jsx("input",{type:"date",value:qe,onChange:K=>$e(K.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors [color-scheme:dark]"})]})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>q(!1),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:Da,className:"flex-1 py-3 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl font-bold text-white shadow-lg hover:shadow-violet-500/25 active:scale-95 transition-all",children:"Ok"})]})]})})}),b.jsx(Ji,{children:Kt&&Mn!==null&&b.jsx(ht.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{xn(!1),Bn(null)},children:b.jsx(ht.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-primary/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl",onClick:K=>K.stopPropagation(),children:(()=>{const K=Pn[Mn],Te=K?.targetCount||1,ut=K?.currentCount||0,Rt=Te>1,Yt=ut>0;return b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2 text-center",children:Yt?"Add Progress":"Complete Task"}),b.jsxs("p",{className:"text-slate-300 text-sm text-center mb-2 line-clamp-2",children:["",K?.text,""]}),Rt&&b.jsx("div",{className:"text-center mb-4",children:b.jsxs("span",{className:Gt("inline-block px-3 py-1 rounded-full text-sm font-bold",Yt?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"),children:["Progress: ",ut," / ",Te]})}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:as,className:"hidden",onChange:async An=>{const Fi=An.target.files?.[0];if(Fi&&Mn!==null){js(!0);try{await M(Mn,Fi),xn(!1),Bn(null)}catch{alert("Failed to upload photo. Please try again.")}finally{js(!1)}}}}),b.jsxs("button",{onClick:()=>as.current?.click(),disabled:Sn,className:"w-full py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-amber-500/25 active:scale-95 transition-all disabled:opacity-50",children:[b.jsx(fx,{size:20}),Sn?"Uploading...":Rt?"Add Photo & +1":"Add Photo & Complete"]}),b.jsxs("button",{onClick:()=>{f(Mn),xn(!1),Bn(null)},disabled:Sn,className:"w-full py-3 px-4 bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-green-500/25 active:scale-95 transition-all disabled:opacity-50",children:[b.jsx(Tl,{size:20}),Rt?`Mark +1 (${ut+1}/${Te})`:"Mark Complete"]}),Yt&&b.jsxs("button",{onClick:()=>{N(Mn),xn(!1),Bn(null)},disabled:Sn,className:"w-full py-2 rounded-xl font-semibold text-red-400 hover:bg-red-500/10 transition-colors disabled:opacity-50",children:["Remove Progress (",ut-1,"/",Te,")"]}),b.jsx("button",{onClick:()=>{xn(!1),Bn(null)},disabled:Sn,className:"w-full py-3 rounded-xl font-semibold bg-white/5 text-slate-400 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"})]})]})})()})})}),b.jsx(Ji,{children:os&&it&&it.proofPhotos&&it.proofPhotos.length>0&&b.jsx(ht.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{Bi(!1),kt(null),Et(null)},children:b.jsxs(ht.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-lg w-full",onClick:K=>K.stopPropagation(),children:[b.jsx("button",{onClick:()=>{Bi(!1),kt(null),Et(null)},className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors z-10",children:b.jsx(fo,{size:28})}),b.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[b.jsxs("div",{className:"relative bg-black",children:[b.jsx("img",{src:it.proofPhotos[Us],alt:`Proof photo ${Us+1}`,className:"w-full h-auto max-h-[50vh] object-contain"}),it.proofPhotos.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>gi(K=>K>0?K-1:it.proofPhotos.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:b.jsx(c2,{size:24})}),b.jsx("button",{onClick:()=>gi(K=>K<it.proofPhotos.length-1?K+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:b.jsx(u2,{size:24})})]}),b.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/60 rounded-full text-white text-xs font-medium",children:[Us+1," / ",it.proofPhotos.length]})]}),it.proofPhotos.length>1&&b.jsx("div",{className:"flex gap-1 p-2 bg-bg-dark/80 overflow-x-auto",children:it.proofPhotos.map((K,Te)=>b.jsx("button",{onClick:()=>gi(Te),className:Gt("w-12 h-12 rounded-md overflow-hidden border-2 flex-shrink-0 transition-all",Us===Te?"border-accent-primary":"border-transparent opacity-60 hover:opacity-100"),children:b.jsx("img",{src:K,alt:"",className:"w-full h-full object-cover"})},Te))}),b.jsxs("div",{className:"p-4 bg-bg-dark/95",children:[b.jsx("p",{className:"text-white font-semibold mb-1",children:it.text}),b.jsxs("p",{className:"text-slate-400 text-xs",children:["Completed by ",it.completedBy,"  ",wr(it.completedAt)]})]})]}),b.jsx("div",{className:"mt-4 flex gap-2",children:it.proofPhotos.length<5&&b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:yi,className:"hidden",onChange:async K=>{const Te=K.target.files?.[0];if(Te&&Vn!==null&&it){Jn(!0);try{const ut=await O(Vn,Te);if(ut){const Rt=[...it.proofPhotos||[],ut];kt({...it,proofPhotos:Rt}),gi(Rt.length-1)}}catch{alert("Failed to add photo. Max 5 photos allowed.")}finally{Jn(!1),yi.current&&(yi.current.value="")}}}}),b.jsxs("button",{onClick:()=>yi.current?.click(),disabled:Ra,className:"flex-1 py-2 px-4 bg-accent-gold/20 text-accent-gold rounded-xl font-medium flex items-center justify-center gap-2 hover:bg-accent-gold/30 transition-colors disabled:opacity-50",children:[b.jsx(Ld,{size:18}),Ra?"Adding...":`Add Photo (${it.proofPhotos.length}/5)`]})]})}),b.jsx("button",{onClick:()=>{const K=a.findIndex(Te=>Te.id===it.id);K!==-1&&f(K),Bi(!1),kt(null),Et(null)},className:"mt-2 w-full py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Mark as In Progress"})]})})}),b.jsx(Ji,{children:ct&&Bt&&b.jsxs(ht.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-slate-900 border border-white/20 text-white px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4",children:[b.jsxs("span",{children:["Marked as ",Bt.wasCompleted?"incomplete":"complete"]}),b.jsx("button",{onClick:()=>{f(Bt.index),et(!1)},className:"font-bold text-accent-primary hover:text-white transition-colors",children:"Undo"}),b.jsx("button",{onClick:()=>et(!1),className:"text-slate-400 hover:text-white",children:b.jsx(fo,{size:16})})]})}),b.jsx(Ji,{children:wt&&b.jsx(ht.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:b.jsxs(ht.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-slate-900 border border-white/20 rounded-3xl p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 pointer-events-none",children:b.jsx(hx,{className:"w-32 h-32 text-accent-gold rotate-12"})}),b.jsxs("div",{className:"relative z-10 text-center",children:[b.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Welcome! "}),b.jsxs("p",{className:"text-slate-400 mb-8 h-12",children:[lt===0&&"Tap any tile to mark it as complete.",lt===1&&"Start 'Edit Mode' to add your own tasks.",lt===2&&"Invite friends to play together!"]}),b.jsx("div",{className:"flex justify-center mb-8",children:b.jsx("div",{className:"w-32 h-32 bg-black/40 rounded-2xl border border-white/10 flex items-center justify-center relative",children:b.jsxs(Ji,{mode:"wait",children:[lt===0&&b.jsxs(ht.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center",children:[b.jsx("div",{className:"w-16 h-16 bg-accent-primary/20 rounded-lg border border-accent-primary flex items-center justify-center",children:b.jsx(Tl,{className:"w-8 h-8 text-white"})}),b.jsx(ht.div,{animate:{scale:[1,1.2,1],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5},className:"absolute w-20 h-20 rounded-full border-2 border-white/50"})]},"step0"),lt===1&&b.jsx(ht.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:b.jsx(px,{className:"w-12 h-12 text-blue-400"})},"step1"),lt===2&&b.jsx(ht.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:b.jsx(Yg,{className:"w-12 h-12 text-green-400"})},"step2")]})})}),b.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[0,1,2].map(K=>b.jsx("div",{className:Gt("w-2 h-2 rounded-full transition-colors",K===lt?"bg-white":"bg-white/20")},K))}),b.jsx("button",{onClick:_r,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-slate-200 transition-colors",children:lt===2?"Let's Play!":"Next"})]})]})})})]}),b.jsxs("div",{className:"only-print hidden",children:[b.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-black pb-2",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:"/logo.png",className:"h-12 w-auto",alt:"Logo"}),b.jsx("h1",{className:"text-2xl font-bold",children:Y||"2026 Edition"})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("p",{className:"text-xs uppercase tracking-widest mb-0.5",children:["Status Report (",Q,"",Q,")"]}),b.jsxs("p",{className:"text-xl font-bold",children:[d," / ",Q*2+2," Bingos"]})]})]}),b.jsx("div",{className:`grid gap-0 border-2 border-black ${Q===3?"grid-cols-3":Q===4?"grid-cols-4":Q===5?"grid-cols-5":"grid-cols-6"}`,children:a.map(K=>b.jsxs("div",{className:"aspect-square border border-black p-1.5 flex flex-col justify-between relative overflow-hidden min-h-[80px]",children:[b.jsx("div",{className:`font-bold leading-tight z-10 ${Q>=5?"text-[10px]":"text-[11px]"}`,children:K.text}),K.isCompleted&&!K.isFreeSpace&&b.jsxs("div",{className:"mt-0.5 relative z-10",children:[b.jsx("div",{className:"text-[7px] uppercase font-bold text-slate-700",children:"Completed by:"}),b.jsx("div",{className:"text-[9px] font-mono font-bold leading-none",children:K.completedBy||"User"}),b.jsx("div",{className:"text-[7px] text-slate-600 mt-0.5",children:wr(K.completedAt)})]}),K.isCompleted&&b.jsx("div",{className:"absolute bottom-1 right-1 text-3xl font-bold text-slate-200 opacity-60 pointer-events-none z-0",children:""}),K.isFreeSpace&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-xl rotate-[-45deg] opacity-20",children:"FREE"})]},K.id))}),b.jsxs("div",{className:"mt-4 text-[9px] text-center border-t border-black pt-2 flex justify-between text-slate-500",children:[b.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),b.jsx("span",{children:"bingo.mysunsar.com"})]})]}),b.jsx(Kz,{items:a,isOpen:Ot,onClose:()=>ei(!1)}),me&&b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>B(!1)}),b.jsxs("div",{className:"relative w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[b.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[b.jsx(Yg,{className:"w-5 h-5 text-accent-primary"}),"Shared With"]}),b.jsx("button",{onClick:()=>B(!1),className:"text-slate-400 hover:text-white",children:b.jsx(fo,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"p-6",children:[x.length===0?b.jsx("div",{className:"text-center text-slate-400 py-8",children:b.jsx("p",{children:"This board hasn't been shared yet."})}):b.jsx("div",{className:"space-y-4 mb-6",children:x.map(K=>b.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-3 rounded-xl border border-white/5",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:K.name.charAt(0)}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-semibold text-white",children:K.name}),b.jsxs("div",{className:"text-xs text-slate-400",children:[K.email,"  ",K.role]})]})]}),b.jsx("button",{onClick:()=>pi(K.id,K.name),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove User",children:b.jsx(m2,{size:16})})]},K.id))}),b.jsxs("button",{onClick:Ca,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all flex items-center justify-center gap-2",children:[b.jsx(Ld,{size:18}),"Invite New User"]})]})]})]})]})},Yz=()=>{const{user:t,logout:e}=Gl(),n=g2(),{openSettings:s}=nh(),a=zd(),[l,u]=k.useState([]),[f,p]=k.useState(!0),[d,y]=k.useState(!1),[v,w]=k.useState(null),[C,M]=k.useState(5),O=[{size:3,label:"33",description:"Quick (9 tiles)",icon:""},{size:4,label:"44",description:"Compact (16 tiles)",icon:""},{size:5,label:"55",description:"Classic (25 tiles)",icon:""},{size:6,label:"66",description:"Extended (36 tiles)",icon:""}],N={default:{name:"2026 Goals ",items:["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"]},fitness:{name:"Fitness Challenge ",items:["Run a 5k","Do 50 pushups in a row","Try a yoga class","Drink 3L water for a week","No sugar for 7 days","Go for a hike","Meal prep for a week","Climb a bouldering wall","Try Pilates","Walk 15k steps in a day","Do a spin class","Bike 20km","FREE SPACE","Touch your toes","Hold a plank for 2 min","Try CrossFit","Go swimming","Meditate for 10 mins x 7","Try a new sport","Sleep 8 hours x 5 days","Do 100 squats","Run a 10k","Go to the gym 4x in a week","Stretch daily for a week","Join a run club"]},couples:{name:"Couple Goals ",items:["Date night (no phones)","Cook a meal together","Weekend getaway","Watch a whole series","Breakfast in bed","Go for a long walk","Plan a future trip","Give each other massages","Recreate first date","Take a dance class","Stargazing date","Write love letters","FREE SPACE","Visit a winery/brewery","Do a puzzle together","Double date","Sunset picnic","Bake something sweet","Volunteer together","Learn a couple's skill","Game night","Make a photo album","Try a new restaurant","Surprise gift","Kiss in the rain"]},personal:{name:"Personal Growth ",items:["Read 1 book/month","Learn a new language","Start a journal","Digital detox (24h)","Meditate daily (1 week)","Drink 2L water daily","Wake up at 6am (1 week)","Declutter a room","Learn to invest","Take a solo trip","Volunteer","Compliment a stranger","FREE SPACE","No social media (weekend)","Learn an instrument","Cook a new cuisine","Write a gratitude list","Take a cold shower","Listen to a podcast","Fix sleep schedule","Walk 10k steps","Call an old friend","Create a vision board","Save 10% income","Take a course"]},knitting:{name:"Knitting Goals ",items:["Finish a WIP","Cast on a sweater","Learn brioche","Knit socks","Stash bust project","Try colorwork","Knit a hat","Use luxury yarn","Fix a mistake","Knit a gift","Block a project","Organize needles","FREE SPACE","Try a new fiber","Knit in public","Attend a knit night","Learn magic loop","Design a pattern","Teach someone to knit","Finish a blanket","Knit a shawl","Try cables","Buy souvenir yarn","Weave in ends immediately","Knit a gauge swatch"]},weaving:{name:"Weaving Goals ",items:["Warp the loom","Weave a rug","Try a new structure","Sample a pattern","Use handspun yarn","Finish a scarf","Hemstitching","Fix a broken warp","Weave a towel","Try tapestry","Mix fibers","Organize yarn stash","FREE SPACE","Weave a placemat","Attend a workshop","Try doublewidth","Weave transparency","Calculate warp correctly","Finish raw edges","Weave with rags","Try tablet weaving","Rigid heddle project","Floor loom project","Visit a mill","Share a project online"]},spinning:{name:"Spinning Goals ",items:["Spin 100g fiber","Ply a yarn","Try a new breed","Spin lace weight","Spin art yarn","Comb fleece","Card a batt","Spin on a drop spindle","Clean the wheel","Spin distinct colors","Skein and wash","Fractal spin","FREE SPACE","Spin silk","Spin cotton","Navajo ply","Spin for a project","Participate in Tour de Fleece","Sample a blend","Teach spinning","Spin consistent grist","Dye fiber","Blend colors on hackle","Spin exotic fiber","Fill a bobbin"]},painting:{name:"Painting Goals ",items:["Paint a landscape","Try watercolors","Paint a portrait","Mix a new color","Paint en plein air","Visit a gallery","Finish a sketchbook","Try oils","Paint a still life","Use a palette knife","Paint an animal","Try abstract","FREE SPACE","Clean brushes properly","Paint on canvas","Paint on wood","Follow a tutorial","Paint a sky","Try gouache","Varnish a painting","Frame a piece","Paint daily for a week","Recreate a master","Paint a self-portrait","Host a paint night"]},corporate:{name:"Corporate Bingo ",items:['"Circle back"',`"Let's take this offline"`,"Meeting that could be an email",'"Synergy"','"Low hanging fruit"','"Touch base"',"Someone forgets to mute","Screen share fails",'"Can you see my screen?"',"Awkward silence",'"Bandwidth"','"Deep dive"',"FREE SPACE","Pet interrupts video call","Echo on the line",'"Per my last email"','"Drill down"','"Out of pocket"','"Hard stop"','"Boil the ocean"',"Reply All disaster",'"Move the needle"','"Blue sky thinking"','"Paradigm shift"','"Quick win"']},travel:{name:"Travel Bucket List ",items:["Visit a new continent","Go on a solo trip","See the Northern Lights","Swim in an ocean","Road trip across 3 states","Fly First Class","Visit a National Park","Eat street food","Stay in a hostel","Learn 'Hello' in 5 languages","Visit a Wonder of the World","Go on a cruise","FREE SPACE","Make a travel vlog","Sleep under the stars","Visit a castle","Ride a train","See a volcano","Go scuba diving","Watch a sunrise on a mountain","Visit a winery","Ride a camel/elephant","Go skiing/snowboarding","Visit a tropical island","Send a postcard"]}};k.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching boards for user:",t.uid,t.email);const re=new Map;try{const P=xd(pl(Wn,"boards"),Sd(`members.${t.uid}`,"in",["owner","editor","viewer"])),z=await mu(P);console.log("Boards with membership found:",z.docs.length),z.docs.forEach(V=>{const pe=V.data(),ye=pe.members?.[t.uid],U=pe.members||{},Z=Object.values(U).filter(q=>q!=="owner").length;re.set(V.id,{id:V.id,...pe,sharedCount:Z,myRole:ye})})}catch(P){console.error("Error querying boards by membership:",P)}try{const P=xd(pl(Wn,"years"),Sd("ownerId","==",t.uid)),z=await mu(P);console.log("Legacy boards (years collection) found:",z.docs.length),z.docs.forEach(V=>{const pe=V.data();re.set(`legacy_${V.id}`,{id:V.id,title:pe.title||"2026 Bingo",createdAt:pe.createdAt,isLocked:pe.isLocked,ownerId:pe.ownerId,myRole:"owner"})})}catch(P){console.log("Years collection query failed:",P)}try{const P=await mu(pl(Wn,"years"));console.log("All years docs:",P.docs.length),P.docs.forEach(z=>{const V=z.data();if(V.ownerId===t.uid||V.members?.[t.uid]){const pe=`legacy_years_${z.id}`;re.has(pe)||re.set(pe,{id:z.id,title:V.title||`${z.id} Bingo`,createdAt:V.createdAt,isLocked:V.isLocked,ownerId:V.ownerId,myRole:V.ownerId===t.uid?"owner":V.members?.[t.uid]||"viewer"})}})}catch(P){console.log("Direct years fetch failed:",P)}const ce=Array.from(re.values()),I=ce.filter(P=>P.myRole!=="owner"&&P.ownerId),S=[...new Set(I.map(P=>P.ownerId))],D={};for(const P of S)try{const z=await Xu(Is(Wn,"users",P));if(z.exists()){const V=z.data();D[P]=V.displayName||V.email||"Unknown"}}catch{console.log("Could not fetch owner info for:",P)}const j=ce.map(P=>P.myRole!=="owner"&&P.ownerId&&D[P.ownerId]?{...P,ownerName:D[P.ownerId]}:P);console.log("Total boards to display:",j.length,j.map(P=>P.title)),u(j)}catch(re){console.error("Error fetching boards:",re)}finally{p(!1)}})()},[t]);const H=async Q=>{if(!t)return;const re=N[Q],ce=C,I=ce*ce,S=ce%2===1?Math.floor(I/2):-1,D=ce%2===1?I-1:I,j=await n.prompt("What would you like to call this board?",{title:"Board Title",inputDefaultValue:re.name,confirmText:"Create"});if(j)try{const P=re.items.filter(U=>U.trim().toUpperCase()!=="FREE SPACE"&&U!=="FREE SPACE"),z=[...P].sort(()=>.5-Math.random());for(;z.length<D;)z.push(P[z.length%P.length]||`Goal ${z.length+1}`);const V=[];let pe=0;for(let U=0;U<I;U++)U===S&&ce%2===1?V.push({id:U,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(V.push({id:U,text:z[pe],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),pe++);const ye=await yC(pl(Wn,"boards"),{title:j,gridSize:ce,ownerId:t.uid,members:{[t.uid]:"owner"},items:V,createdAt:Fe.now(),isLocked:!1,lastUpdated:Fe.now()});a(`/board/${ye.id}`)}catch(P){console.error("Error creating board:",P),await n.alert("Failed to create board. Please try again.",{title:"Error",type:"error"})}finally{y(!1),w(null),M(5)}};if(f)return b.jsx("div",{className:"min-h-screen bg-bg-dark flex items-center justify-center text-white",children:"Loading Dashboard..."});const X=async(Q,re,ce)=>{if(Q.stopPropagation(),await n.confirm(`This will permanently delete "${ce}" and all its data.

This action cannot be undone.`,{title:"Delete Board?",confirmText:"Delete",type:"error"}))try{await gC(Is(Wn,"boards",re)),u(S=>S.filter(D=>D.id!==re)),await n.alert("Board deleted successfully.",{title:"Deleted",type:"success"})}catch(S){console.error("Error deleting board:",S),await n.alert("Failed to delete board. Please try again.",{title:"Error",type:"error"})}},Y=async(Q,re,ce)=>{if(Q.stopPropagation(),!t)return;if(await n.confirm(`You will no longer have access to "${ce}".

You can ask the owner to re-share it if needed.`,{title:"Leave Board?",confirmText:"Leave",type:"warning"}))try{await Mi(Is(Wn,"boards",re),{[`members.${t.uid}`]:Ed()}),u(S=>S.filter(D=>D.id!==re)),await n.alert("You have left the board.",{title:"Left Board",type:"success"})}catch(S){console.error("Error leaving board:",S),await n.alert("Failed to leave board. Please try again.",{title:"Error",type:"error"})}};return b.jsxs("div",{className:"min-h-screen bg-bg-dark text-white p-6 relative",children:[b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsxs("header",{className:"flex justify-between items-center mb-12 py-2",children:[b.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-10 sm:h-12 w-auto object-contain cursor-pointer active:scale-95 transition-transform"}),b.jsxs("div",{className:"flex gap-2 items-center",children:[b.jsx("button",{onClick:s,className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Settings",children:b.jsx(d2,{size:20})}),b.jsx("button",{onClick:e,className:"bg-white/5 hover:bg-white/10 px-4 py-2 rounded-xl text-sm font-semibold transition-colors border border-white/10 hover:border-white/20",children:"Logout"})]})]}),b.jsxs("div",{className:"mb-10",children:[b.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:["My ",b.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent italic",children:"Boards"})]}),b.jsxs("p",{className:"text-slate-400 mt-2 text-base sm:text-lg",children:["Welcome back, ",b.jsx("span",{className:"text-accent-primary font-medium",children:t?.displayName?.split(" ")[0]||"Bingo Player"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[b.jsxs("button",{onClick:()=>y(!0),className:"group relative flex flex-col items-center justify-center h-48 rounded-2xl border-2 border-dashed border-slate-700 bg-white/5 hover:bg-white/10 hover:border-accent-primary transition-all cursor-pointer",children:[b.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-primary/20 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:b.jsx(Ld,{className:"w-6 h-6 text-accent-primary"})}),b.jsx("span",{className:"font-semibold text-slate-300 group-hover:text-white",children:"Create New Board"})]}),l.filter(Q=>Q.myRole==="owner").map(Q=>{const ce=Q.id==="2026"||!Q.ownerId?`/board/legacy/${Q.id}`:`/board/${Q.id}`;return b.jsxs("div",{onClick:I=>{I.preventDefault(),console.log("Navigating to board:",ce),a(ce)},className:"group relative h-48 rounded-2xl bg-gradient-to-br from-slate-800 to-slate-900 border border-white/10 hover:border-accent-primary/50 p-6 flex flex-col justify-between cursor-pointer transition-all hover:translate-y-[-4px] hover:shadow-xl overflow-hidden active:scale-[0.99]",children:[b.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:b.jsx("button",{onClick:I=>X(I,Q.id,Q.title),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Delete Board",children:b.jsx(m2,{size:18})})}),b.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"h-7 mb-2",children:Q.sharedCount&&Q.sharedCount>0&&b.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:[b.jsx(K9,{size:10}),"Shared with ",Q.sharedCount]})}),b.jsx("h3",{className:"text-xl font-bold text-white mb-1.5 line-clamp-2 pr-8 group-hover:text-accent-primary transition-colors",children:Q.title}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[b.jsx(Od,{className:"w-3.5 h-3.5"}),Q.createdAt?.toDate?Q.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),b.jsx("div",{className:"mt-4",children:b.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-primary/10 text-accent-primary border border-accent-primary/20 group-hover:bg-accent-primary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},Q.id)})]}),l.filter(Q=>Q.myRole!=="owner").length>0&&b.jsxs(b.Fragment,{children:[b.jsxs("h2",{className:"text-xl font-bold text-white mt-10 mb-6 flex items-center gap-2",children:[b.jsx("span",{className:"bg-gradient-to-r from-accent-secondary to-pink-500 bg-clip-text text-transparent",children:"Shared With Me"}),b.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",l.filter(Q=>Q.myRole!=="owner").length,")"]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.filter(Q=>Q.myRole!=="owner").map(Q=>{const ce=Q.id==="2026"||!Q.ownerId?`/board/legacy/${Q.id}`:`/board/${Q.id}`;return b.jsxs("div",{onClick:I=>{I.preventDefault(),console.log("Navigating to shared board:",ce),a(ce)},className:"group relative h-48 rounded-2xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-white/10 hover:border-accent-secondary/50 p-6 flex flex-col justify-between cursor-pointer transition-all hover:translate-y-[-4px] hover:shadow-xl overflow-hidden active:scale-[0.99]",children:[b.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity pointer-events-none",children:b.jsx(h2,{className:"w-24 h-24"})}),b.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:b.jsx("button",{onClick:I=>Y(I,Q.id,Q.title),className:"p-2 text-slate-500 hover:text-amber-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Leave Board",children:b.jsx(f2,{size:18})})}),b.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"h-7 mb-2",children:b.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${Q.myRole==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:Q.myRole==="editor"?" Editor":" Viewer"})}),b.jsx("h3",{className:"text-xl font-bold text-white mb-1 line-clamp-1 pr-8",children:Q.title}),Q.ownerName&&b.jsxs("div",{className:"text-xs text-slate-500 mb-1.5",children:["Shared by ",b.jsx("span",{className:"text-slate-400",children:Q.ownerName})]}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[b.jsx(Od,{className:"w-3.5 h-3.5"}),Q.createdAt?.toDate?Q.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),b.jsx("div",{className:"mt-4",children:b.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-secondary/10 text-accent-secondary border border-accent-secondary/20 group-hover:bg-accent-secondary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},Q.id)})})]})]}),d&&b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{v?w(null):y(!1)}}),b.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center shrink-0",children:[b.jsx("h2",{className:"text-xl font-bold text-white",children:v?N[v].name:"Choose a Template"}),b.jsx("button",{onClick:()=>{v?w(null):y(!1)},className:"text-slate-400 hover:text-white",children:b.jsx(Ld,{className:"w-6 h-6 rotate-45"})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:v?b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Grid Size"}),b.jsx("div",{className:"grid grid-cols-4 gap-2",children:O.map(({size:Q,label:re,icon:ce})=>b.jsxs("button",{onClick:()=>M(Q),className:`p-3 rounded-xl border text-center transition-all ${C===Q?"bg-accent-primary/20 border-accent-primary text-white":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10 hover:text-white"}`,children:[b.jsx("span",{className:"text-lg block",children:ce}),b.jsx("span",{className:"font-bold text-sm",children:re}),b.jsxs("span",{className:"text-[10px] block opacity-70",children:[Q*Q," tiles"]})]},Q))})]}),b.jsx("div",{className:"flex justify-center",children:b.jsx("div",{className:`aspect-square w-full max-w-[380px] grid gap-1.5 p-3 bg-slate-950/50 rounded-xl border border-white/10 ${C===3?"grid-cols-3":C===4?"grid-cols-4":C===5?"grid-cols-5":"grid-cols-6"}`,children:(()=>{const Q=C*C,re=C%2===1?Math.floor(Q/2):-1,ce=N[v].items.filter(I=>I.trim().toUpperCase()!=="FREE SPACE");return Array.from({length:Q},(I,S)=>{const D=S===re&&C%2===1,j=S<re||re===-1?S:S-1,P=D?"FREE":ce[j%ce.length]||`Goal ${S+1}`;return b.jsx("div",{className:`
                                                                relative rounded-lg flex items-center justify-center p-1 text-center select-none overflow-hidden 
                                                                ${C<=4?"text-[9px] sm:text-[11px]":"text-[7px] sm:text-[9px]"}
                                                                leading-tight font-medium border shadow-sm
                                                                ${D?"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold":"bg-white/5 border-white/10 text-slate-300"}
                                                            `,children:b.jsx("span",{className:"line-clamp-2",children:P})},S)})})()})}),b.jsxs("div",{className:"flex gap-3 pt-4",children:[b.jsx("button",{onClick:()=>w(null),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Back"}),b.jsxs("button",{onClick:()=>H(v),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all",children:["Create ",C,"",C," Board"]})]})]}):b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(N).map(([Q,re])=>b.jsxs("button",{onClick:()=>w(Q),className:"flex flex-col items-start p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent-primary/50 transition-all text-left group",children:[b.jsx("h3",{className:"font-bold text-white group-hover:text-accent-primary transition-colors",children:re.name}),b.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click to preview"})]},Q))})})]})]})]})},Qz=()=>{const{settings:t}=nh(),e=k.useRef(null),n=k.useRef(null),s=k.useRef([]),a=k.useMemo(()=>{switch(t.theme){case"midnight":return{type:"stars",particleCount:150,baseColor:"rgba(100, 150, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #0a1628 0%, #020617 50%, #000 100%)",shootingStars:!0};case"forest":return{type:"leaves",particleCount:40,baseColor:"rgba(100, 200, 120, ",bgGradient:"radial-gradient(ellipse at 30% 80%, #0a3d1a 0%, #052e16 50%, #021a09 100%)",shootingStars:!1};case"ocean":return{type:"bubbles",particleCount:60,baseColor:"rgba(100, 220, 255, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #0c4a5e 0%, #083344 50%, #041825 100%)",shootingStars:!1};case"sunset":return{type:"embers",particleCount:50,baseColor:"rgba(255, 150, 80, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #4a1a00 0%, #2a0a0a 50%, #1a0505 100%)",shootingStars:!1};default:return{type:"aurora",particleCount:80,baseColor:"rgba(180, 120, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1a1040 0%, #0f111a 50%, #0a0b10 100%)",shootingStars:!1}}},[t.theme]);return k.useEffect(()=>{const l=e.current;if(!l)return;const u=()=>{const p=[];for(let d=0;d<a.particleCount;d++)p.push(Xz(l.width,l.height,a.type));s.current=p},f=()=>{l.width=window.innerWidth,l.height=window.innerHeight,u()};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[a]),k.useEffect(()=>{if(t.enableAnimation===!1)return;const l=e.current;if(!l)return;const u=l.getContext("2d");if(!u)return;let f=0,p=null;const d=()=>{u.clearRect(0,0,l.width,l.height),s.current.forEach(y=>{Wz(y,l.width,l.height,a.type),Zz(u,y,a)}),a.shootingStars&&(f++,f>300&&Math.random()<.01&&(p={x:Math.random()*l.width,y:Math.random()*l.height*.5,length:80+Math.random()*40,speed:15+Math.random()*10,opacity:1},f=0),p&&(u.beginPath(),u.strokeStyle=`rgba(255, 255, 255, ${p.opacity})`,u.lineWidth=2,u.moveTo(p.x,p.y),u.lineTo(p.x-p.length,p.y-p.length*.3),u.stroke(),p.x+=p.speed,p.y+=p.speed*.3,p.opacity-=.02,p.opacity<=0&&(p=null))),n.current=requestAnimationFrame(d)};return d(),()=>{n.current&&cancelAnimationFrame(n.current)}},[t.enableAnimation,a]),b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-[-2] transition-all duration-1000",style:{background:a.bgGradient}}),b.jsx("canvas",{ref:e,className:"fixed inset-0 z-[-1] pointer-events-none",style:{opacity:t.enableAnimation===!1?0:.8}}),b.jsxs("div",{className:"fixed inset-0 z-[-1] pointer-events-none overflow-hidden",children:[b.jsx("div",{className:`absolute w-[600px] h-[600px] rounded-full blur-[120px] animate-float-slow ${t.theme==="midnight"?"bg-blue-500/10":t.theme==="forest"?"bg-green-500/10":t.theme==="ocean"?"bg-cyan-500/10":t.theme==="sunset"?"bg-orange-500/10":"bg-purple-500/10"}`,style:{top:"-15%",left:"-10%"}}),b.jsx("div",{className:`absolute w-[500px] h-[500px] rounded-full blur-[100px] animate-float-slower ${t.theme==="midnight"?"bg-indigo-500/10":t.theme==="forest"?"bg-emerald-500/10":t.theme==="ocean"?"bg-teal-500/10":t.theme==="sunset"?"bg-rose-500/10":"bg-pink-500/10"}`,style:{bottom:"-10%",right:"-5%"}})]})]})};function Xz(t,e,n){const s={x:Math.random()*t,y:Math.random()*e,opacity:Math.random()*.5+.2};switch(n){case"stars":return{...s,size:Math.random()*2+.5,speedX:0,speedY:0,opacity:Math.random()*.8+.2};case"leaves":return{...s,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.8+.3,hue:Math.random()*40+80};case"bubbles":return{...s,size:Math.random()*8+2,speedX:Math.random()*.3-.15,speedY:-(Math.random()*.8+.3)};case"embers":return{...s,size:Math.random()*3+1,speedX:Math.random()*.4-.2,speedY:-(Math.random()*1+.5),hue:Math.random()*30+15};default:return{...s,size:Math.random()*4+1,speedX:Math.random()*.3-.15,speedY:Math.random()*.2-.1,hue:Math.random()*60+240}}}function Wz(t,e,n,s){t.x+=t.speedX,t.y+=t.speedY,s==="stars"&&(t.opacity+=(Math.random()-.5)*.05,t.opacity=Math.max(.1,Math.min(1,t.opacity))),t.x<0&&(t.x=e),t.x>e&&(t.x=0),t.y<0&&(t.y=n),t.y>n&&(t.y=0)}function Zz(t,e,n){switch(t.beginPath(),n.type){case"stars":t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill(),e.opacity>.7&&(t.beginPath(),t.fillStyle=`rgba(200, 220, 255, ${e.opacity*.3})`,t.arc(e.x,e.y,e.size*3,0,Math.PI*2),t.fill());break;case"leaves":t.fillStyle=`hsla(${e.hue}, 60%, 50%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.5,e.x*.01,0,Math.PI*2),t.fill();break;case"bubbles":t.strokeStyle=n.baseColor+`${e.opacity})`,t.lineWidth=1,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.stroke(),t.beginPath(),t.fillStyle=`rgba(255, 255, 255, ${e.opacity*.5})`,t.arc(e.x-e.size*.3,e.y-e.size*.3,e.size*.2,0,Math.PI*2),t.fill();break;case"embers":const s=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size);s.addColorStop(0,`hsla(${e.hue}, 100%, 70%, ${e.opacity})`),s.addColorStop(1,`hsla(${e.hue}, 100%, 50%, 0)`),t.fillStyle=s,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill();break;default:const a=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size*2);a.addColorStop(0,`hsla(${e.hue}, 80%, 60%, ${e.opacity})`),a.addColorStop(1,`hsla(${e.hue}, 80%, 60%, 0)`),t.fillStyle=a,t.arc(e.x,e.y,e.size*2,0,Math.PI*2),t.fill();break}}const Jz=()=>{const{user:t,loading:e}=Gl();return e?b.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-bg-dark text-slate-500",children:"Initializing..."}):t?b.jsxs(b.Fragment,{children:[b.jsx(Qz,{}),b.jsx(zD,{children:b.jsxs(gD,{children:[b.jsx(ul,{path:"/",element:b.jsx(dw,{to:"/dashboard",replace:!0})}),b.jsx(ul,{path:"/dashboard",element:b.jsx(Yz,{})}),b.jsx(ul,{path:"/board/legacy/:yearId",element:b.jsx(xx,{})}),b.jsx(ul,{path:"/board/:boardId",element:b.jsx(xx,{})}),b.jsx(ul,{path:"*",element:b.jsx(dw,{to:"/dashboard",replace:!0})})]})})]}):b.jsx(Fz,{})};function eB(){return b.jsx(S3,{children:b.jsx(Bz,{children:b.jsx(X9,{children:b.jsx(Jz,{})})})})}console.log("Main.tsx full run");const Sx=document.getElementById("root");Sx?vN.createRoot(Sx).render(b.jsx(k.StrictMode,{children:b.jsx(eB,{})})):console.error("Root not found");export{da as C,Os as F,qd as _,un as a,Qx as b,po as c,Pi as d,fm as e,cv as g,bo as i,rv as p,Ss as r,av as u};
