(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function mN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pg={exports:{}},Wc={};var ox;function pN(){if(ox)return Wc;ox=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Wc.Fragment=e,Wc.jsx=n,Wc.jsxs=n,Wc}var lx;function gN(){return lx||(lx=1,pg.exports=pN()),pg.exports}var v=gN(),gg={exports:{}},je={};var cx;function yN(){if(cx)return je;cx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function C(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function H(T,L,Q){this.props=T,this.context=L,this.refs=N,this.updater=Q||V}H.prototype.isReactComponent={},H.prototype.setState=function(T,L){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,L,"setState")},H.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function W(){}W.prototype=H.prototype;function Y(T,L,Q){this.props=T,this.context=L,this.refs=N,this.updater=Q||V}var me=Y.prototype=new W;me.constructor=Y,j(me,H.prototype),me.isPureReactComponent=!0;var ue=Array.isArray;function fe(){}var k={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function M(T,L,Q){var ne=Q.ref;return{$$typeof:t,type:T,key:L,ref:ne!==void 0?ne:null,props:Q}}function z(T,L){return M(T.type,L,T.props)}function B(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function P(T){var L={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Q){return L[Q]})}var D=/\/+/g;function be(T,L){return typeof T=="object"&&T!==null&&T.key!=null?P(""+T.key):L.toString(36)}function we(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(fe,fe):(T.status="pending",T.then(function(L){T.status==="pending"&&(T.status="fulfilled",T.value=L)},function(L){T.status==="pending"&&(T.status="rejected",T.reason=L)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function J(T,L,Q,ne,pe){var ge=typeof T;(ge==="undefined"||ge==="boolean")&&(T=null);var de=!1;if(T===null)de=!0;else switch(ge){case"bigint":case"string":case"number":de=!0;break;case"object":switch(T.$$typeof){case t:case e:de=!0;break;case y:return de=T._init,J(de(T._payload),L,Q,ne,pe)}}if(de)return pe=pe(T),de=ne===""?"."+be(T,0):ne,ue(pe)?(Q="",de!=null&&(Q=de.replace(D,"$&/")+"/"),J(pe,L,Q,"",function(Ke){return Ke})):pe!=null&&(B(pe)&&(pe=z(pe,Q+(pe.key==null||T&&T.key===pe.key?"":(""+pe.key).replace(D,"$&/")+"/")+de)),L.push(pe)),1;de=0;var Ae=ne===""?".":ne+":";if(ue(T))for(var Re=0;Re<T.length;Re++)ne=T[Re],ge=Ae+be(ne,Re),de+=J(ne,L,Q,ge,pe);else if(Re=C(T),typeof Re=="function")for(T=Re.call(T),Re=0;!(ne=T.next()).done;)ne=ne.value,ge=Ae+be(ne,Re++),de+=J(ne,L,Q,ge,pe);else if(ge==="object"){if(typeof T.then=="function")return J(we(T),L,Q,ne,pe);throw L=String(T),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return de}function X(T,L,Q){if(T==null)return T;var ne=[],pe=0;return J(T,ne,"","",function(ge){return L.call(Q,ge,pe++)}),ne}function G(T){if(T._status===-1){var L=T._result;L=L(),L.then(function(Q){(T._status===0||T._status===-1)&&(T._status=1,T._result=Q)},function(Q){(T._status===0||T._status===-1)&&(T._status=2,T._result=Q)}),T._status===-1&&(T._status=0,T._result=L)}if(T._status===1)return T._result.default;throw T._result}var K=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},O={map:X,forEach:function(T,L,Q){X(T,function(){L.apply(this,arguments)},Q)},count:function(T){var L=0;return X(T,function(){L++}),L},toArray:function(T){return X(T,function(L){return L})||[]},only:function(T){if(!B(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return je.Activity=b,je.Children=O,je.Component=H,je.Fragment=n,je.Profiler=a,je.PureComponent=Y,je.StrictMode=s,je.Suspense=m,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,je.__COMPILER_RUNTIME={__proto__:null,c:function(T){return k.H.useMemoCache(T)}},je.cache=function(T){return function(){return T.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(T,L,Q){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ne=j({},T.props),pe=T.key;if(L!=null)for(ge in L.key!==void 0&&(pe=""+L.key),L)!S.call(L,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&L.ref===void 0||(ne[ge]=L[ge]);var ge=arguments.length-2;if(ge===1)ne.children=Q;else if(1<ge){for(var de=Array(ge),Ae=0;Ae<ge;Ae++)de[Ae]=arguments[Ae+2];ne.children=de}return M(T.type,pe,ne)},je.createContext=function(T){return T={$$typeof:u,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:l,_context:T},T},je.createElement=function(T,L,Q){var ne,pe={},ge=null;if(L!=null)for(ne in L.key!==void 0&&(ge=""+L.key),L)S.call(L,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(pe[ne]=L[ne]);var de=arguments.length-2;if(de===1)pe.children=Q;else if(1<de){for(var Ae=Array(de),Re=0;Re<de;Re++)Ae[Re]=arguments[Re+2];pe.children=Ae}if(T&&T.defaultProps)for(ne in de=T.defaultProps,de)pe[ne]===void 0&&(pe[ne]=de[ne]);return M(T,ge,pe)},je.createRef=function(){return{current:null}},je.forwardRef=function(T){return{$$typeof:f,render:T}},je.isValidElement=B,je.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:G}},je.memo=function(T,L){return{$$typeof:p,type:T,compare:L===void 0?null:L}},je.startTransition=function(T){var L=k.T,Q={};k.T=Q;try{var ne=T(),pe=k.S;pe!==null&&pe(Q,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(fe,K)}catch(ge){K(ge)}finally{L!==null&&Q.types!==null&&(L.types=Q.types),k.T=L}},je.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},je.use=function(T){return k.H.use(T)},je.useActionState=function(T,L,Q){return k.H.useActionState(T,L,Q)},je.useCallback=function(T,L){return k.H.useCallback(T,L)},je.useContext=function(T){return k.H.useContext(T)},je.useDebugValue=function(){},je.useDeferredValue=function(T,L){return k.H.useDeferredValue(T,L)},je.useEffect=function(T,L){return k.H.useEffect(T,L)},je.useEffectEvent=function(T){return k.H.useEffectEvent(T)},je.useId=function(){return k.H.useId()},je.useImperativeHandle=function(T,L,Q){return k.H.useImperativeHandle(T,L,Q)},je.useInsertionEffect=function(T,L){return k.H.useInsertionEffect(T,L)},je.useLayoutEffect=function(T,L){return k.H.useLayoutEffect(T,L)},je.useMemo=function(T,L){return k.H.useMemo(T,L)},je.useOptimistic=function(T,L){return k.H.useOptimistic(T,L)},je.useReducer=function(T,L,Q){return k.H.useReducer(T,L,Q)},je.useRef=function(T){return k.H.useRef(T)},je.useState=function(T){return k.H.useState(T)},je.useSyncExternalStore=function(T,L,Q){return k.H.useSyncExternalStore(T,L,Q)},je.useTransition=function(){return k.H.useTransition()},je.version="19.2.3",je}var ux;function i0(){return ux||(ux=1,gg.exports=yN()),gg.exports}var I=i0();const rd=mN(I);var yg={exports:{}},Xc={},vg={exports:{}},bg={};var hx;function vN(){return hx||(hx=1,(function(t){function e(J,X){var G=J.length;J.push(X);e:for(;0<G;){var K=G-1>>>1,O=J[K];if(0<a(O,X))J[K]=X,J[G]=O,G=K;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var X=J[0],G=J.pop();if(G!==X){J[0]=G;e:for(var K=0,O=J.length,T=O>>>1;K<T;){var L=2*(K+1)-1,Q=J[L],ne=L+1,pe=J[ne];if(0>a(Q,G))ne<O&&0>a(pe,Q)?(J[K]=pe,J[ne]=G,K=ne):(J[K]=Q,J[L]=G,K=L);else if(ne<O&&0>a(pe,G))J[K]=pe,J[ne]=G,K=ne;else break e}}return X}function a(J,X){var G=J.sortIndex-X.sortIndex;return G!==0?G:J.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],p=[],y=1,b=null,x=3,C=!1,V=!1,j=!1,N=!1,H=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function me(J){for(var X=n(p);X!==null;){if(X.callback===null)s(p);else if(X.startTime<=J)s(p),X.sortIndex=X.expirationTime,e(m,X);else break;X=n(p)}}function ue(J){if(j=!1,me(J),!V)if(n(m)!==null)V=!0,fe||(fe=!0,P());else{var X=n(p);X!==null&&we(ue,X.startTime-J)}}var fe=!1,k=-1,S=5,M=-1;function z(){return N?!0:!(t.unstable_now()-M<S)}function B(){if(N=!1,fe){var J=t.unstable_now();M=J;var X=!0;try{e:{V=!1,j&&(j=!1,W(k),k=-1),C=!0;var G=x;try{t:{for(me(J),b=n(m);b!==null&&!(b.expirationTime>J&&z());){var K=b.callback;if(typeof K=="function"){b.callback=null,x=b.priorityLevel;var O=K(b.expirationTime<=J);if(J=t.unstable_now(),typeof O=="function"){b.callback=O,me(J),X=!0;break t}b===n(m)&&s(m),me(J)}else s(m);b=n(m)}if(b!==null)X=!0;else{var T=n(p);T!==null&&we(ue,T.startTime-J),X=!1}}break e}finally{b=null,x=G,C=!1}X=void 0}}finally{X?P():fe=!1}}}var P;if(typeof Y=="function")P=function(){Y(B)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,be=D.port2;D.port1.onmessage=B,P=function(){be.postMessage(null)}}else P=function(){H(B,0)};function we(J,X){k=H(function(){J(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(J){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var G=x;x=X;try{return J()}finally{x=G}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(J,X){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var G=x;x=J;try{return X()}finally{x=G}},t.unstable_scheduleCallback=function(J,X,G){var K=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?K+G:K):G=K,J){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=G+O,J={id:y++,callback:X,priorityLevel:J,startTime:G,expirationTime:O,sortIndex:-1},G>K?(J.sortIndex=G,e(p,J),n(m)===null&&J===n(p)&&(j?(W(k),k=-1):j=!0,we(ue,G-K))):(J.sortIndex=O,e(m,J),V||C||(V=!0,fe||(fe=!0,P()))),J},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(J){var X=x;return function(){var G=x;x=X;try{return J.apply(this,arguments)}finally{x=G}}}})(bg)),bg}var fx;function bN(){return fx||(fx=1,vg.exports=vN()),vg.exports}var _g={exports:{}},Pn={};var dx;function _N(){if(dx)return Pn;dx=1;var t=i0();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Pn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},Pn.flushSync=function(m){var p=u.T,y=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=p,s.p=y,s.d.f()}},Pn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Pn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Pn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,b=f(y,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:C}):y==="script"&&s.d.X(m,{crossOrigin:b,integrity:x,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Pn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Pn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=f(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Pn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Pn.requestFormReset=function(m){s.d.r(m)},Pn.unstable_batchedUpdates=function(m,p){return m(p)},Pn.useFormState=function(m,p,y){return u.H.useFormState(m,p,y)},Pn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Pn.version="19.2.3",Pn}var mx;function wN(){if(mx)return _g.exports;mx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_g.exports=_N(),_g.exports}var px;function xN(){if(px)return Xc;px=1;var t=bN(),e=i0(),n=wN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===c)return m(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=d,c=g;else{for(var w=!1,A=d.child;A;){if(A===o){w=!0,o=d,c=g;break}if(A===c){w=!0,c=d,o=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===o){w=!0,o=g,c=d;break}if(A===c){w=!0,c=g,o=d;break}A=A.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function P(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function be(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case H:return"Profiler";case N:return"StrictMode";case ue:return"Suspense";case fe:return"SuspenseList";case M:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case V:return"Portal";case Y:return i.displayName||"Context";case W:return(i._context.displayName||"Context")+".Consumer";case me:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return r=i.displayName||null,r!==null?r:be(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return be(i(r))}catch{}}return null}var we=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},K=[],O=-1;function T(i){return{current:i}}function L(i){0>O||(i.current=K[O],K[O]=null,O--)}function Q(i,r){O++,K[O]=i.current,i.current=r}var ne=T(null),pe=T(null),ge=T(null),de=T(null);function Ae(i,r){switch(Q(ge,r),Q(pe,i),Q(ne,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Nw(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Nw(r),i=kw(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}L(ne),Q(ne,i)}function Re(){L(ne),L(pe),L(ge)}function Ke(i){i.memoizedState!==null&&Q(de,i);var r=ne.current,o=kw(r,i.type);r!==o&&(Q(pe,i),Q(ne,o))}function ze(i){pe.current===i&&(L(ne),L(pe)),de.current===i&&(L(de),$c._currentValue=G)}var Ge,wt;function Ve(i){if(Ge===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ge=r&&r[1]||"",wt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ge+i+wt}var Mt=!1;function Vt(i,r){if(!i||Mt)return"";Mt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(re){var ie=re}Reflect.construct(i,[],le)}else{try{le.call()}catch(re){ie=re}i.call(le.prototype)}}else{try{throw Error()}catch(re){ie=re}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(re){if(re&&ie&&typeof re.stack=="string")return[re.stack,ie.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],A=g[1];if(w&&A){var U=w.split(`
`),te=A.split(`
`);for(d=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;d<te.length&&!te[d].includes("DetermineComponentFrameRoot");)d++;if(c===U.length||d===te.length)for(c=U.length-1,d=te.length-1;1<=c&&0<=d&&U[c]!==te[d];)d--;for(;1<=c&&0<=d;c--,d--)if(U[c]!==te[d]){if(c!==1||d!==1)do if(c--,d--,0>d||U[c]!==te[d]){var ae=`
`+U[c].replace(" at new "," at ");return i.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",i.displayName)),ae}while(1<=c&&0<=d);break}}}finally{Mt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ve(o):""}function Qt(i,r){switch(i.tag){case 26:case 27:case 5:return Ve(i.type);case 16:return Ve("Lazy");case 13:return i.child!==r&&r!==null?Ve("Suspense Fallback"):Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 15:return Vt(i.type,!1);case 11:return Vt(i.type.render,!1);case 1:return Vt(i.type,!0);case 31:return Ve("Activity");default:return""}}function ln(i){try{var r="",o=null;do r+=Qt(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ot=Object.prototype.hasOwnProperty,Be=t.unstable_scheduleCallback,Vn=t.unstable_cancelCallback,Rr=t.unstable_shouldYield,Ks=t.unstable_requestPaint,Ut=t.unstable_now,oi=t.unstable_getCurrentPriorityLevel,Ei=t.unstable_ImmediatePriority,ys=t.unstable_UserBlockingPriority,Si=t.unstable_NormalPriority,Ys=t.unstable_LowPriority,wn=t.unstable_IdlePriority,vs=t.log,bs=t.unstable_setDisableYieldValue,Fn=null,cn=null;function xn(i){if(typeof vs=="function"&&bs(i),cn&&typeof cn.setStrictMode=="function")try{cn.setStrictMode(Fn,i)}catch{}}var Pt=Math.clz32?Math.clz32:ko,No=Math.log,Ir=Math.LN2;function ko(i){return i>>>=0,i===0?32:31-(No(i)/Ir|0)|0}var Tn=256,En=262144,vt=4194304;function pn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function li(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var d=0,g=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?d=pn(c):(w&=A,w!==0?d=pn(w):o||(o=A&~i,o!==0&&(d=pn(o))))):(A=c&~g,A!==0?d=pn(A):w!==0?d=pn(w):o||(o=c&~i,o!==0&&(d=pn(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function qn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function nc(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _s(){var i=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),i}function xt(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ci(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ui(i,r,o,c,d,g){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,U=i.expirationTimes,te=i.hiddenUpdates;for(o=w&~o;0<o;){var ae=31-Pt(o),le=1<<ae;A[ae]=0,U[ae]=-1;var ie=te[ae];if(ie!==null)for(te[ae]=null,ae=0;ae<ie.length;ae++){var re=ie[ae];re!==null&&(re.lane&=-536870913)}o&=~le}c!==0&&Ai(i,c,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(w&~r))}function Ai(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Pt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Wi(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Pt(o),d=1<<c;d&r|i[c]&r&&(i[c]|=r),o&=~d}}function Xi(i,r){var o=r&-r;return o=(o&42)!==0?1:ws(o),(o&(i.suspendedLanes|r))!==0?0:o}function ws(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Zi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Oa(){var i=X.p;return i!==0?i:(i=window.event,i===void 0?32:ex(i.type))}function hi(i,r){var o=X.p;try{return X.p=i,r()}finally{X.p=o}}var Xn=Math.random().toString(36).slice(2),It="__reactFiber$"+Xn,zt="__reactProps$"+Xn,Ci="__reactContainer$"+Xn,Nr="__reactEvents$"+Xn,ic="__reactListeners$"+Xn,ja="__reactHandles$"+Xn,Do="__reactResources$"+Xn,Ri="__reactMarker$"+Xn;function fi(i){delete i[It],delete i[zt],delete i[Nr],delete i[ic],delete i[ja]}function Ji(i){var r=i[It];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ci]||o[It]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Lw(i);i!==null;){if(o=i[It])return o;i=Lw(i)}return r}i=o,o=i.parentNode}return null}function Hn(i){if(i=i[It]||i[Ci]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Sn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ii(i){var r=i[Do];return r||(r=i[Do]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function F(i){i[Ri]=!0}var Ie=new Set,Et={};function St(i,r){bt(i,r),bt(i+"Capture",r)}function bt(i,r){for(Et[i]=r,i=0;i<r.length;i++)Ie.add(r[i])}var Wt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),An={},Xt={};function Ni(i){return ot.call(Xt,i)?!0:ot.call(An,i)?!1:Wt.test(i)?Xt[i]=!0:(An[i]=!0,!1)}function kr(i,r,o){if(Ni(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function di(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Zt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Dr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function sc(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function ht(i){if(!i._valueTracker){var r=Dr(i)?"checked":"value";i._valueTracker=sc(i,r,""+i[r])}}function La(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Dr(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function xs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ua=/[\n"\\]/g;function Zn(i){return i.replace(Ua,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Mo(i,r,o,c,d,g,w,A){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),r!=null?w==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+gn(r)):i.value!==""+gn(r)&&(i.value=""+gn(r)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),r!=null?rc(i,w,gn(r)):o!=null?rc(i,w,gn(o)):c!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+gn(A):i.removeAttribute("name")}function oh(i,r,o,c,d,g,w,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){ht(i);return}o=o!=null?""+gn(o):"",r=r!=null?""+gn(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),ht(i)}function rc(i,r,o){r==="number"&&xs(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Mr(i,r,o,c){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&c&&(i[o].defaultSelected=!0)}else{for(o=""+gn(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,c&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function lh(i,r,o){if(r!=null&&(r=""+gn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+gn(o):""}function Vr(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(we(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=gn(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),ht(i)}function Jn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var ch=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ac(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||ch.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function oc(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var d in r)c=r[d],r.hasOwnProperty(d)&&o[d]!==c&&ac(i,d,c)}else for(var g in r)r.hasOwnProperty(g)&&ac(i,g,r[g])}function Vo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Po(i){return Pr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function es(){}var lc=null;function ki(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Or=null,Ts=null;function za(i){var r=Hn(i);if(r&&(i=r.stateNode)){var o=i[zt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Mo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Zn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var d=c[zt]||null;if(!d)throw Error(s(90));Mo(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&La(c)}break e;case"textarea":lh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Mr(i,!!o.multiple,r,!1)}}}var Oo=!1;function jr(i,r,o){if(Oo)return i(r,o);Oo=!0;try{var c=i(r);return c}finally{if(Oo=!1,(Or!==null||Ts!==null)&&(sf(),Or&&(r=Or,i=Ts,Ts=Or=null,za(r),i)))for(r=0;r<i.length;r++)za(i[r])}}function ts(i,r){var o=i.stateNode;if(o===null)return null;var c=o[zt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ba=!1;if(Di)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){Ba=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{Ba=!1}var Es=null,cc=null,Fa=null;function uc(){if(Fa)return Fa;var i,r=cc,o=r.length,c,d="value"in Es?Es.value:Es.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var w=o-i;for(c=1;c<=w&&r[o-c]===d[g-c];c++);return Fa=d.slice(i,1<c?1-c:void 0)}function qa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Qs(){return!0}function ns(){return!1}function Cn(i){function r(o,c,d,g,w){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Qs:ns,this.isPropagationStopped=ns,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),r}var Ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ss=Cn(Ws),Lr=b({},Ws,{view:0,detail:0}),hc=Cn(Lr),Ur,jo,As,Lo=b({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==As&&(As&&i.type==="mousemove"?(Ur=i.screenX-As.screenX,jo=i.screenY-As.screenY):jo=Ur=0,As=i),Ur)},movementY:function(i){return"movementY"in i?i.movementY:jo}}),fc=Cn(Lo),Ha=b({},Lo,{dataTransfer:0}),hh=Cn(Ha),fh=b({},Lr,{relatedTarget:0}),Ga=Cn(fh),dc=b({},Ws,{animationName:0,elapsedTime:0,pseudoElement:0}),dh=Cn(dc),Uo=b({},Ws,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),mh=Cn(Uo),ph=b({},Ws,{data:0}),Cs=Cn(ph),gh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=vh[i])?!!r[i]:!1}function zr(){return bh}var Gn=b({},Lr,{key:function(i){if(i.key){var r=gh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=qa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?yh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(i){return i.type==="keypress"?qa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?qa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_h=Cn(Gn),wh=b({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xs=Cn(wh),h=b({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),_=Cn(h),E=b({},Ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Cn(E),Z=b({},Lo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),se=Cn(Z),ye=b({},Ws,{newState:0,oldState:0}),Fe=Cn(ye),Gt=[9,13,27,32],lt=Di&&"CompositionEvent"in window,Nt=null;Di&&"documentMode"in document&&(Nt=document.documentMode);var Mi=Di&&"TextEvent"in window&&!Nt,Rs=Di&&(!lt||Nt&&8<Nt&&11>=Nt),is=" ",ss=!1;function $a(i,r){switch(i){case"keyup":return Gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Bo=!1;function LR(i,r){switch(i){case"compositionend":return zo(r);case"keypress":return r.which!==32?null:(ss=!0,is);case"textInput":return i=r.data,i===is&&ss?null:i;default:return null}}function UR(i,r){if(Bo)return i==="compositionend"||!lt&&$a(i,r)?(i=uc(),Fa=cc=Es=null,Bo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Rs&&r.locale!=="ko"?null:r.data;default:return null}}var zR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!zR[i.type]:r==="textarea"}function Fv(i,r,o,c){Or?Ts?Ts.push(c):Ts=[c]:Or=c,r=hf(r,"onChange"),0<r.length&&(o=new Ss("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var mc=null,pc=null;function BR(i){Ew(i,0)}function xh(i){var r=Sn(i);if(La(r))return i}function qv(i,r){if(i==="change")return r}var Hv=!1;if(Di){var xm;if(Di){var Tm="oninput"in document;if(!Tm){var Gv=document.createElement("div");Gv.setAttribute("oninput","return;"),Tm=typeof Gv.oninput=="function"}xm=Tm}else xm=!1;Hv=xm&&(!document.documentMode||9<document.documentMode)}function $v(){mc&&(mc.detachEvent("onpropertychange",Kv),pc=mc=null)}function Kv(i){if(i.propertyName==="value"&&xh(pc)){var r=[];Fv(r,pc,i,ki(i)),jr(BR,r)}}function FR(i,r,o){i==="focusin"?($v(),mc=r,pc=o,mc.attachEvent("onpropertychange",Kv)):i==="focusout"&&$v()}function qR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return xh(pc)}function HR(i,r){if(i==="click")return xh(r)}function GR(i,r){if(i==="input"||i==="change")return xh(r)}function $R(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var mi=typeof Object.is=="function"?Object.is:$R;function gc(i,r){if(mi(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!ot.call(r,d)||!mi(i[d],r[d]))return!1}return!0}function Yv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Qv(i,r){var o=Yv(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Yv(o)}}function Wv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Wv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Xv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=xs(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=xs(i.document)}return r}function Em(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var KR=Di&&"documentMode"in document&&11>=document.documentMode,Fo=null,Sm=null,yc=null,Am=!1;function Zv(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Am||Fo==null||Fo!==xs(c)||(c=Fo,"selectionStart"in c&&Em(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),yc&&gc(yc,c)||(yc=c,c=hf(Sm,"onSelect"),0<c.length&&(r=new Ss("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Fo)))}function Ka(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var qo={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},Cm={},Jv={};Di&&(Jv=document.createElement("div").style,"AnimationEvent"in window||(delete qo.animationend.animation,delete qo.animationiteration.animation,delete qo.animationstart.animation),"TransitionEvent"in window||delete qo.transitionend.transition);function Ya(i){if(Cm[i])return Cm[i];if(!qo[i])return i;var r=qo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Jv)return Cm[i]=r[o];return i}var eb=Ya("animationend"),tb=Ya("animationiteration"),nb=Ya("animationstart"),YR=Ya("transitionrun"),QR=Ya("transitionstart"),WR=Ya("transitioncancel"),ib=Ya("transitionend"),sb=new Map,Rm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rm.push("scrollEnd");function rs(i,r){sb.set(i,r),St(r,[i])}var Th=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Vi=[],Ho=0,Im=0;function Eh(){for(var i=Ho,r=Im=Ho=0;r<i;){var o=Vi[r];Vi[r++]=null;var c=Vi[r];Vi[r++]=null;var d=Vi[r];Vi[r++]=null;var g=Vi[r];if(Vi[r++]=null,c!==null&&d!==null){var w=c.pending;w===null?d.next=d:(d.next=w.next,w.next=d),c.pending=d}g!==0&&rb(o,d,g)}}function Sh(i,r,o,c){Vi[Ho++]=i,Vi[Ho++]=r,Vi[Ho++]=o,Vi[Ho++]=c,Im|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Nm(i,r,o,c){return Sh(i,r,o,c),Ah(i)}function Qa(i,r){return Sh(i,null,null,r),Ah(i)}function rb(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-Pt(o),i=g.hiddenUpdates,c=i[d],c===null?i[d]=[r]:c.push(r),r.lane=o|536870912),g):null}function Ah(i){if(50<Uc)throw Uc=0,Up=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Go={};function XR(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(i,r,o,c){return new XR(i,r,o,c)}function km(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zs(i,r){var o=i.alternate;return o===null?(o=pi(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function ab(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Ch(i,r,o,c,d,g){var w=0;if(c=i,typeof i=="function")km(i)&&(w=1);else if(typeof i=="string")w=nN(i,o,ne.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case M:return i=pi(31,o,r,d),i.elementType=M,i.lanes=g,i;case j:return Wa(o.children,d,g,r);case N:w=8,d|=24;break;case H:return i=pi(12,o,r,d|2),i.elementType=H,i.lanes=g,i;case ue:return i=pi(13,o,r,d),i.elementType=ue,i.lanes=g,i;case fe:return i=pi(19,o,r,d),i.elementType=fe,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:w=10;break e;case W:w=9;break e;case me:w=11;break e;case k:w=14;break e;case S:w=16,c=null;break e}w=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=pi(w,o,r,d),r.elementType=i,r.type=c,r.lanes=g,r}function Wa(i,r,o,c){return i=pi(7,i,c,r),i.lanes=o,i}function Dm(i,r,o){return i=pi(6,i,null,r),i.lanes=o,i}function ob(i){var r=pi(18,null,null,0);return r.stateNode=i,r}function Mm(i,r,o){return r=pi(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var lb=new WeakMap;function Pi(i,r){if(typeof i=="object"&&i!==null){var o=lb.get(i);return o!==void 0?o:(r={value:i,source:r,stack:ln(r)},lb.set(i,r),r)}return{value:i,source:r,stack:ln(r)}}var $o=[],Ko=0,Rh=null,vc=0,Oi=[],ji=0,Br=null,Is=1,Ns="";function Js(i,r){$o[Ko++]=vc,$o[Ko++]=Rh,Rh=i,vc=r}function cb(i,r,o){Oi[ji++]=Is,Oi[ji++]=Ns,Oi[ji++]=Br,Br=i;var c=Is;i=Ns;var d=32-Pt(c)-1;c&=~(1<<d),o+=1;var g=32-Pt(r)+d;if(30<g){var w=d-d%5;g=(c&(1<<w)-1).toString(32),c>>=w,d-=w,Is=1<<32-Pt(r)+d|o<<d|c,Ns=g+i}else Is=1<<g|o<<d|c,Ns=i}function Vm(i){i.return!==null&&(Js(i,1),cb(i,1,0))}function Pm(i){for(;i===Rh;)Rh=$o[--Ko],$o[Ko]=null,vc=$o[--Ko],$o[Ko]=null;for(;i===Br;)Br=Oi[--ji],Oi[ji]=null,Ns=Oi[--ji],Oi[ji]=null,Is=Oi[--ji],Oi[ji]=null}function ub(i,r){Oi[ji++]=Is,Oi[ji++]=Ns,Oi[ji++]=Br,Is=r.id,Ns=r.overflow,Br=i}var Rn=null,At=null,tt=!1,Fr=null,Li=!1,Om=Error(s(519));function qr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bc(Pi(r,i)),Om}function hb(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[It]=i,r[zt]=c,o){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(o=0;o<Bc.length;o++)Qe(Bc[o],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":Qe("invalid",r),oh(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Qe("invalid",r);break;case"textarea":Qe("invalid",r),Vr(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Rw(r.textContent,o)?(c.popover!=null&&(Qe("beforetoggle",r),Qe("toggle",r)),c.onScroll!=null&&Qe("scroll",r),c.onScrollEnd!=null&&Qe("scrollend",r),c.onClick!=null&&(r.onclick=es),r=!0):r=!1,r||qr(i,!0)}function fb(i){for(Rn=i.return;Rn;)switch(Rn.tag){case 5:case 31:case 13:Li=!1;return;case 27:case 3:Li=!0;return;default:Rn=Rn.return}}function Yo(i){if(i!==Rn)return!1;if(!tt)return fb(i),tt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||eg(i.type,i.memoizedProps)),o=!o),o&&At&&qr(i),fb(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));At=jw(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));At=jw(i)}else r===27?(r=At,ia(i.type)?(i=rg,rg=null,At=i):At=r):At=Rn?zi(i.stateNode.nextSibling):null;return!0}function Xa(){At=Rn=null,tt=!1}function jm(){var i=Fr;return i!==null&&(ii===null?ii=i:ii.push.apply(ii,i),Fr=null),i}function bc(i){Fr===null?Fr=[i]:Fr.push(i)}var Lm=T(null),Za=null,er=null;function Hr(i,r,o){Q(Lm,r._currentValue),r._currentValue=o}function tr(i){i._currentValue=Lm.current,L(Lm)}function Um(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function zm(i,r,o,c){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var w=d.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=d;for(var U=0;U<r.length;U++)if(A.context===r[U]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Um(g.return,o,i),c||(w=null);break e}g=A.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(s(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),Um(w,o,i),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===i){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function Qo(i,r,o,c){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var A=d.type;mi(d.pendingProps.value,w.value)||(i!==null?i.push(A):i=[A])}}else if(d===de.current){if(w=d.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push($c):i=[$c])}d=d.return}i!==null&&zm(r,i,o,c),r.flags|=262144}function Ih(i){for(i=i.firstContext;i!==null;){if(!mi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ja(i){Za=i,er=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function In(i){return db(Za,i)}function Nh(i,r){return Za===null&&Ja(i),db(i,r)}function db(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},er===null){if(i===null)throw Error(s(308));er=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else er=er.next=r;return o}var ZR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},JR=t.unstable_scheduleCallback,eI=t.unstable_NormalPriority,Jt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bm(){return{controller:new ZR,data:new Map,refCount:0}}function _c(i){i.refCount--,i.refCount===0&&JR(eI,function(){i.controller.abort()})}var wc=null,Fm=0,Wo=0,Xo=null;function tI(i,r){if(wc===null){var o=wc=[];Fm=0,Wo=Gp(),Xo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Fm++,r.then(mb,mb),r}function mb(){if(--Fm===0&&wc!==null){Xo!==null&&(Xo.status="fulfilled");var i=wc;wc=null,Wo=0,Xo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function nI(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var pb=J.S;J.S=function(i,r){Z_=Ut(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&tI(i,r),pb!==null&&pb(i,r)};var eo=T(null);function qm(){var i=eo.current;return i!==null?i:_t.pooledCache}function kh(i,r){r===null?Q(eo,eo.current):Q(eo,r.pool)}function gb(){var i=qm();return i===null?null:{parent:Jt._currentValue,pool:i}}var Zo=Error(s(460)),Hm=Error(s(474)),Dh=Error(s(542)),Mh={then:function(){}};function yb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function vb(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(es,es),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,_b(i),i;default:if(typeof r.status=="string")r.then(es,es);else{if(i=_t,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=c}},function(c){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,_b(i),i}throw no=r,Zo}}function to(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(no=o,Zo):o}}var no=null;function bb(){if(no===null)throw Error(s(459));var i=no;return no=null,i}function _b(i){if(i===Zo||i===Dh)throw Error(s(483))}var Jo=null,xc=0;function Vh(i){var r=xc;return xc+=1,Jo===null&&(Jo=[]),vb(Jo,i,r)}function Tc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ph(i,r){throw r.$$typeof===x?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function wb(i){function r($,q){if(i){var ee=$.deletions;ee===null?($.deletions=[q],$.flags|=16):ee.push(q)}}function o($,q){if(!i)return null;for(;q!==null;)r($,q),q=q.sibling;return null}function c($){for(var q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function d($,q){return $=Zs($,q),$.index=0,$.sibling=null,$}function g($,q,ee){return $.index=ee,i?(ee=$.alternate,ee!==null?(ee=ee.index,ee<q?($.flags|=67108866,q):ee):($.flags|=67108866,q)):($.flags|=1048576,q)}function w($){return i&&$.alternate===null&&($.flags|=67108866),$}function A($,q,ee,oe){return q===null||q.tag!==6?(q=Dm(ee,$.mode,oe),q.return=$,q):(q=d(q,ee),q.return=$,q)}function U($,q,ee,oe){var ke=ee.type;return ke===j?ae($,q,ee.props.children,oe,ee.key):q!==null&&(q.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===S&&to(ke)===q.type)?(q=d(q,ee.props),Tc(q,ee),q.return=$,q):(q=Ch(ee.type,ee.key,ee.props,null,$.mode,oe),Tc(q,ee),q.return=$,q)}function te($,q,ee,oe){return q===null||q.tag!==4||q.stateNode.containerInfo!==ee.containerInfo||q.stateNode.implementation!==ee.implementation?(q=Mm(ee,$.mode,oe),q.return=$,q):(q=d(q,ee.children||[]),q.return=$,q)}function ae($,q,ee,oe,ke){return q===null||q.tag!==7?(q=Wa(ee,$.mode,oe,ke),q.return=$,q):(q=d(q,ee),q.return=$,q)}function le($,q,ee){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Dm(""+q,$.mode,ee),q.return=$,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case C:return ee=Ch(q.type,q.key,q.props,null,$.mode,ee),Tc(ee,q),ee.return=$,ee;case V:return q=Mm(q,$.mode,ee),q.return=$,q;case S:return q=to(q),le($,q,ee)}if(we(q)||P(q))return q=Wa(q,$.mode,ee,null),q.return=$,q;if(typeof q.then=="function")return le($,Vh(q),ee);if(q.$$typeof===Y)return le($,Nh($,q),ee);Ph($,q)}return null}function ie($,q,ee,oe){var ke=q!==null?q.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ke!==null?null:A($,q,""+ee,oe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case C:return ee.key===ke?U($,q,ee,oe):null;case V:return ee.key===ke?te($,q,ee,oe):null;case S:return ee=to(ee),ie($,q,ee,oe)}if(we(ee)||P(ee))return ke!==null?null:ae($,q,ee,oe,null);if(typeof ee.then=="function")return ie($,q,Vh(ee),oe);if(ee.$$typeof===Y)return ie($,q,Nh($,ee),oe);Ph($,ee)}return null}function re($,q,ee,oe,ke){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return $=$.get(ee)||null,A(q,$,""+oe,ke);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case C:return $=$.get(oe.key===null?ee:oe.key)||null,U(q,$,oe,ke);case V:return $=$.get(oe.key===null?ee:oe.key)||null,te(q,$,oe,ke);case S:return oe=to(oe),re($,q,ee,oe,ke)}if(we(oe)||P(oe))return $=$.get(ee)||null,ae(q,$,oe,ke,null);if(typeof oe.then=="function")return re($,q,ee,Vh(oe),ke);if(oe.$$typeof===Y)return re($,q,ee,Nh(q,oe),ke);Ph(q,oe)}return null}function Te($,q,ee,oe){for(var ke=null,rt=null,Ce=q,He=q=0,Xe=null;Ce!==null&&He<ee.length;He++){Ce.index>He?(Xe=Ce,Ce=null):Xe=Ce.sibling;var at=ie($,Ce,ee[He],oe);if(at===null){Ce===null&&(Ce=Xe);break}i&&Ce&&at.alternate===null&&r($,Ce),q=g(at,q,He),rt===null?ke=at:rt.sibling=at,rt=at,Ce=Xe}if(He===ee.length)return o($,Ce),tt&&Js($,He),ke;if(Ce===null){for(;He<ee.length;He++)Ce=le($,ee[He],oe),Ce!==null&&(q=g(Ce,q,He),rt===null?ke=Ce:rt.sibling=Ce,rt=Ce);return tt&&Js($,He),ke}for(Ce=c(Ce);He<ee.length;He++)Xe=re(Ce,$,He,ee[He],oe),Xe!==null&&(i&&Xe.alternate!==null&&Ce.delete(Xe.key===null?He:Xe.key),q=g(Xe,q,He),rt===null?ke=Xe:rt.sibling=Xe,rt=Xe);return i&&Ce.forEach(function(la){return r($,la)}),tt&&Js($,He),ke}function De($,q,ee,oe){if(ee==null)throw Error(s(151));for(var ke=null,rt=null,Ce=q,He=q=0,Xe=null,at=ee.next();Ce!==null&&!at.done;He++,at=ee.next()){Ce.index>He?(Xe=Ce,Ce=null):Xe=Ce.sibling;var la=ie($,Ce,at.value,oe);if(la===null){Ce===null&&(Ce=Xe);break}i&&Ce&&la.alternate===null&&r($,Ce),q=g(la,q,He),rt===null?ke=la:rt.sibling=la,rt=la,Ce=Xe}if(at.done)return o($,Ce),tt&&Js($,He),ke;if(Ce===null){for(;!at.done;He++,at=ee.next())at=le($,at.value,oe),at!==null&&(q=g(at,q,He),rt===null?ke=at:rt.sibling=at,rt=at);return tt&&Js($,He),ke}for(Ce=c(Ce);!at.done;He++,at=ee.next())at=re(Ce,$,He,at.value,oe),at!==null&&(i&&at.alternate!==null&&Ce.delete(at.key===null?He:at.key),q=g(at,q,He),rt===null?ke=at:rt.sibling=at,rt=at);return i&&Ce.forEach(function(dN){return r($,dN)}),tt&&Js($,He),ke}function yt($,q,ee,oe){if(typeof ee=="object"&&ee!==null&&ee.type===j&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case C:e:{for(var ke=ee.key;q!==null;){if(q.key===ke){if(ke=ee.type,ke===j){if(q.tag===7){o($,q.sibling),oe=d(q,ee.props.children),oe.return=$,$=oe;break e}}else if(q.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===S&&to(ke)===q.type){o($,q.sibling),oe=d(q,ee.props),Tc(oe,ee),oe.return=$,$=oe;break e}o($,q);break}else r($,q);q=q.sibling}ee.type===j?(oe=Wa(ee.props.children,$.mode,oe,ee.key),oe.return=$,$=oe):(oe=Ch(ee.type,ee.key,ee.props,null,$.mode,oe),Tc(oe,ee),oe.return=$,$=oe)}return w($);case V:e:{for(ke=ee.key;q!==null;){if(q.key===ke)if(q.tag===4&&q.stateNode.containerInfo===ee.containerInfo&&q.stateNode.implementation===ee.implementation){o($,q.sibling),oe=d(q,ee.children||[]),oe.return=$,$=oe;break e}else{o($,q);break}else r($,q);q=q.sibling}oe=Mm(ee,$.mode,oe),oe.return=$,$=oe}return w($);case S:return ee=to(ee),yt($,q,ee,oe)}if(we(ee))return Te($,q,ee,oe);if(P(ee)){if(ke=P(ee),typeof ke!="function")throw Error(s(150));return ee=ke.call(ee),De($,q,ee,oe)}if(typeof ee.then=="function")return yt($,q,Vh(ee),oe);if(ee.$$typeof===Y)return yt($,q,Nh($,ee),oe);Ph($,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,q!==null&&q.tag===6?(o($,q.sibling),oe=d(q,ee),oe.return=$,$=oe):(o($,q),oe=Dm(ee,$.mode,oe),oe.return=$,$=oe),w($)):o($,q)}return function($,q,ee,oe){try{xc=0;var ke=yt($,q,ee,oe);return Jo=null,ke}catch(Ce){if(Ce===Zo||Ce===Dh)throw Ce;var rt=pi(29,Ce,null,$.mode);return rt.lanes=oe,rt.return=$,rt}}}var io=wb(!0),xb=wb(!1),Gr=!1;function Gm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $m(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function $r(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Kr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(ct&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,r=Ah(i),rb(i,null,o),r}return Sh(i,c,r,o),Ah(i)}function Ec(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Wi(i,o)}}function Km(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Ym=!1;function Sc(){if(Ym){var i=Xo;if(i!==null)throw i}}function Ac(i,r,o,c){Ym=!1;var d=i.updateQueue;Gr=!1;var g=d.firstBaseUpdate,w=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var U=A,te=U.next;U.next=null,w===null?g=te:w.next=te,w=U;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,A=ae.lastBaseUpdate,A!==w&&(A===null?ae.firstBaseUpdate=te:A.next=te,ae.lastBaseUpdate=U))}if(g!==null){var le=d.baseState;w=0,ae=te=U=null,A=g;do{var ie=A.lane&-536870913,re=ie!==A.lane;if(re?(We&ie)===ie:(c&ie)===ie){ie!==0&&ie===Wo&&(Ym=!0),ae!==null&&(ae=ae.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Te=i,De=A;ie=r;var yt=o;switch(De.tag){case 1:if(Te=De.payload,typeof Te=="function"){le=Te.call(yt,le,ie);break e}le=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=De.payload,ie=typeof Te=="function"?Te.call(yt,le,ie):Te,ie==null)break e;le=b({},le,ie);break e;case 2:Gr=!0}}ie=A.callback,ie!==null&&(i.flags|=64,re&&(i.flags|=8192),re=d.callbacks,re===null?d.callbacks=[ie]:re.push(ie))}else re={lane:ie,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ae===null?(te=ae=re,U=le):ae=ae.next=re,w|=ie;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;re=A,A=re.next,re.next=null,d.lastBaseUpdate=re,d.shared.pending=null}}while(!0);ae===null&&(U=le),d.baseState=U,d.firstBaseUpdate=te,d.lastBaseUpdate=ae,g===null&&(d.shared.lanes=0),Zr|=w,i.lanes=w,i.memoizedState=le}}function Tb(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Eb(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Tb(o[i],r)}var el=T(null),Oh=T(0);function Sb(i,r){i=ur,Q(Oh,i),Q(el,r),ur=i|r.baseLanes}function Qm(){Q(Oh,ur),Q(el,el.current)}function Wm(){ur=Oh.current,L(el),L(Oh)}var gi=T(null),Ui=null;function Yr(i){var r=i.alternate;Q($t,$t.current&1),Q(gi,i),Ui===null&&(r===null||el.current!==null||r.memoizedState!==null)&&(Ui=i)}function Xm(i){Q($t,$t.current),Q(gi,i),Ui===null&&(Ui=i)}function Ab(i){i.tag===22?(Q($t,$t.current),Q(gi,i),Ui===null&&(Ui=i)):Qr()}function Qr(){Q($t,$t.current),Q(gi,gi.current)}function yi(i){L(gi),Ui===i&&(Ui=null),L($t)}var $t=T(0);function jh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||ig(o)||sg(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var nr=0,qe=null,pt=null,en=null,Lh=!1,tl=!1,so=!1,Uh=0,Cc=0,nl=null,iI=0;function Bt(){throw Error(s(321))}function Zm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!mi(i[o],r[o]))return!1;return!0}function Jm(i,r,o,c,d,g){return nr=g,qe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=i===null||i.memoizedState===null?c_:mp,so=!1,g=o(c,d),so=!1,tl&&(g=Rb(r,o,c,d)),Cb(i),g}function Cb(i){J.H=Nc;var r=pt!==null&&pt.next!==null;if(nr=0,en=pt=qe=null,Lh=!1,Cc=0,nl=null,r)throw Error(s(300));i===null||tn||(i=i.dependencies,i!==null&&Ih(i)&&(tn=!0))}function Rb(i,r,o,c){qe=i;var d=0;do{if(tl&&(nl=null),Cc=0,tl=!1,25<=d)throw Error(s(301));if(d+=1,en=pt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}J.H=u_,g=r(o,c)}while(tl);return g}function sI(){var i=J.H,r=i.useState()[0];return r=typeof r.then=="function"?Rc(r):r,i=i.useState()[0],(pt!==null?pt.memoizedState:null)!==i&&(qe.flags|=1024),r}function ep(){var i=Uh!==0;return Uh=0,i}function tp(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function np(i){if(Lh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Lh=!1}nr=0,en=pt=qe=null,tl=!1,Cc=Uh=0,nl=null}function $n(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?qe.memoizedState=en=i:en=en.next=i,en}function Kt(){if(pt===null){var i=qe.alternate;i=i!==null?i.memoizedState:null}else i=pt.next;var r=en===null?qe.memoizedState:en.next;if(r!==null)en=r,pt=i;else{if(i===null)throw qe.alternate===null?Error(s(467)):Error(s(310));pt=i,i={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},en===null?qe.memoizedState=en=i:en=en.next=i}return en}function zh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rc(i){var r=Cc;return Cc+=1,nl===null&&(nl=[]),i=vb(nl,i,r),r=qe,(en===null?r.memoizedState:en.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?c_:mp),i}function Bh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Rc(i);if(i.$$typeof===Y)return In(i)}throw Error(s(438,String(i)))}function ip(i){var r=null,o=qe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=qe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=zh(),qe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=z;return r.index++,o}function ir(i,r){return typeof r=="function"?r(i):r}function Fh(i){var r=Kt();return sp(r,pt,i)}function sp(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var d=i.baseQueue,g=c.pending;if(g!==null){if(d!==null){var w=d.next;d.next=g.next,g.next=w}r.baseQueue=d=g,c.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var A=w=null,U=null,te=r,ae=!1;do{var le=te.lane&-536870913;if(le!==te.lane?(We&le)===le:(nr&le)===le){var ie=te.revertLane;if(ie===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),le===Wo&&(ae=!0);else if((nr&ie)===ie){te=te.next,ie===Wo&&(ae=!0);continue}else le={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},U===null?(A=U=le,w=g):U=U.next=le,qe.lanes|=ie,Zr|=ie;le=te.action,so&&o(g,le),g=te.hasEagerState?te.eagerState:o(g,le)}else ie={lane:le,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},U===null?(A=U=ie,w=g):U=U.next=ie,qe.lanes|=le,Zr|=le;te=te.next}while(te!==null&&te!==r);if(U===null?w=g:U.next=A,!mi(g,i.memoizedState)&&(tn=!0,ae&&(o=Xo,o!==null)))throw o;i.memoizedState=g,i.baseState=w,i.baseQueue=U,c.lastRenderedState=g}return d===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function rp(i){var r=Kt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var w=d=d.next;do g=i(g,w.action),w=w.next;while(w!==d);mi(g,r.memoizedState)||(tn=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function Ib(i,r,o){var c=qe,d=Kt(),g=tt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var w=!mi((pt||d).memoizedState,o);if(w&&(d.memoizedState=o,tn=!0),d=d.queue,lp(Db.bind(null,c,d,i),[i]),d.getSnapshot!==r||w||en!==null&&en.memoizedState.tag&1){if(c.flags|=2048,il(9,{destroy:void 0},kb.bind(null,c,d,o,r),null),_t===null)throw Error(s(349));g||(nr&127)!==0||Nb(c,r,o)}return o}function Nb(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=qe.updateQueue,r===null?(r=zh(),qe.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function kb(i,r,o,c){r.value=o,r.getSnapshot=c,Mb(r)&&Vb(i)}function Db(i,r,o){return o(function(){Mb(r)&&Vb(i)})}function Mb(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!mi(i,o)}catch{return!0}}function Vb(i){var r=Qa(i,2);r!==null&&si(r,i,2)}function ap(i){var r=$n();if(typeof i=="function"){var o=i;if(i=o(),so){xn(!0);try{o()}finally{xn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:i},r}function Pb(i,r,o,c){return i.baseState=o,sp(i,pt,typeof c=="function"?c:ir)}function rI(i,r,o,c,d){if(Gh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};J.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,Ob(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Ob(i,r){var o=r.action,c=r.payload,d=i.state;if(r.isTransition){var g=J.T,w={};J.T=w;try{var A=o(d,c),U=J.S;U!==null&&U(w,A),jb(i,r,A)}catch(te){op(i,r,te)}finally{g!==null&&w.types!==null&&(g.types=w.types),J.T=g}}else try{g=o(d,c),jb(i,r,g)}catch(te){op(i,r,te)}}function jb(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Lb(i,r,c)},function(c){return op(i,r,c)}):Lb(i,r,o)}function Lb(i,r,o){r.status="fulfilled",r.value=o,Ub(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Ob(i,o)))}function op(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,Ub(r),r=r.next;while(r!==c)}i.action=null}function Ub(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function zb(i,r){return r}function Bb(i,r){if(tt){var o=_t.formState;if(o!==null){e:{var c=qe;if(tt){if(At){t:{for(var d=At,g=Li;d.nodeType!==8;){if(!g){d=null;break t}if(d=zi(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){At=zi(d.nextSibling),c=d.data==="F!";break e}}qr(c)}c=!1}c&&(r=o[0])}}return o=$n(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zb,lastRenderedState:r},o.queue=c,o=a_.bind(null,qe,c),c.dispatch=o,c=ap(!1),g=dp.bind(null,qe,!1,c.queue),c=$n(),d={state:r,dispatch:null,action:i,pending:null},c.queue=d,o=rI.bind(null,qe,d,g,o),d.dispatch=o,c.memoizedState=i,[r,o,!1]}function Fb(i){var r=Kt();return qb(r,pt,i)}function qb(i,r,o){if(r=sp(i,r,zb)[0],i=Fh(ir)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Rc(r)}catch(w){throw w===Zo?Dh:w}else c=r;r=Kt();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(qe.flags|=2048,il(9,{destroy:void 0},aI.bind(null,d,o),null)),[c,g,i]}function aI(i,r){i.action=r}function Hb(i){var r=Kt(),o=pt;if(o!==null)return qb(r,o,i);Kt(),r=r.memoizedState,o=Kt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function il(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=qe.updateQueue,r===null&&(r=zh(),qe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function Gb(){return Kt().memoizedState}function qh(i,r,o,c){var d=$n();qe.flags|=i,d.memoizedState=il(1|r,{destroy:void 0},o,c===void 0?null:c)}function Hh(i,r,o,c){var d=Kt();c=c===void 0?null:c;var g=d.memoizedState.inst;pt!==null&&c!==null&&Zm(c,pt.memoizedState.deps)?d.memoizedState=il(r,g,o,c):(qe.flags|=i,d.memoizedState=il(1|r,g,o,c))}function $b(i,r){qh(8390656,8,i,r)}function lp(i,r){Hh(2048,8,i,r)}function oI(i){qe.flags|=4;var r=qe.updateQueue;if(r===null)r=zh(),qe.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function Kb(i){var r=Kt().memoizedState;return oI({ref:r,nextImpl:i}),function(){if((ct&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Yb(i,r){return Hh(4,2,i,r)}function Qb(i,r){return Hh(4,4,i,r)}function Wb(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Xb(i,r,o){o=o!=null?o.concat([i]):null,Hh(4,4,Wb.bind(null,r,i),o)}function cp(){}function Zb(i,r){var o=Kt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Zm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function Jb(i,r){var o=Kt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Zm(r,c[1]))return c[0];if(c=i(),so){xn(!0);try{i()}finally{xn(!1)}}return o.memoizedState=[c,r],c}function up(i,r,o){return o===void 0||(nr&1073741824)!==0&&(We&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=ew(),qe.lanes|=i,Zr|=i,o)}function e_(i,r,o,c){return mi(o,r)?o:el.current!==null?(i=up(i,o,c),mi(i,r)||(tn=!0),i):(nr&42)===0||(nr&1073741824)!==0&&(We&261930)===0?(tn=!0,i.memoizedState=o):(i=ew(),qe.lanes|=i,Zr|=i,r)}function t_(i,r,o,c,d){var g=X.p;X.p=g!==0&&8>g?g:8;var w=J.T,A={};J.T=A,dp(i,!1,r,o);try{var U=d(),te=J.S;if(te!==null&&te(A,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ae=nI(U,c);Ic(i,r,ae,_i(i))}else Ic(i,r,c,_i(i))}catch(le){Ic(i,r,{then:function(){},status:"rejected",reason:le},_i())}finally{X.p=g,w!==null&&A.types!==null&&(w.types=A.types),J.T=w}}function lI(){}function hp(i,r,o,c){if(i.tag!==5)throw Error(s(476));var d=n_(i).queue;t_(i,d,r,G,o===null?lI:function(){return i_(i),o(c)})}function n_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:G},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function i_(i){var r=n_(i);r.next===null&&(r=i.alternate.memoizedState),Ic(i,r.next.queue,{},_i())}function fp(){return In($c)}function s_(){return Kt().memoizedState}function r_(){return Kt().memoizedState}function cI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=_i();i=$r(o);var c=Kr(r,i,o);c!==null&&(si(c,r,o),Ec(c,r,o)),r={cache:Bm()},i.payload=r;return}r=r.return}}function uI(i,r,o){var c=_i();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gh(i)?o_(r,o):(o=Nm(i,r,o,c),o!==null&&(si(o,i,c),l_(o,r,c)))}function a_(i,r,o){var c=_i();Ic(i,r,o,c)}function Ic(i,r,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Gh(i))o_(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var w=r.lastRenderedState,A=g(w,o);if(d.hasEagerState=!0,d.eagerState=A,mi(A,w))return Sh(i,r,d,0),_t===null&&Eh(),!1}catch{}if(o=Nm(i,r,d,c),o!==null)return si(o,i,c),l_(o,r,c),!0}return!1}function dp(i,r,o,c){if(c={lane:2,revertLane:Gp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Gh(i)){if(r)throw Error(s(479))}else r=Nm(i,o,c,2),r!==null&&si(r,i,2)}function Gh(i){var r=i.alternate;return i===qe||r!==null&&r===qe}function o_(i,r){tl=Lh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function l_(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Wi(i,o)}}var Nc={readContext:In,use:Bh,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};Nc.useEffectEvent=Bt;var c_={readContext:In,use:Bh,useCallback:function(i,r){return $n().memoizedState=[i,r===void 0?null:r],i},useContext:In,useEffect:$b,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,qh(4194308,4,Wb.bind(null,r,i),o)},useLayoutEffect:function(i,r){return qh(4194308,4,i,r)},useInsertionEffect:function(i,r){qh(4,2,i,r)},useMemo:function(i,r){var o=$n();r=r===void 0?null:r;var c=i();if(so){xn(!0);try{i()}finally{xn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=$n();if(o!==void 0){var d=o(r);if(so){xn(!0);try{o(r)}finally{xn(!1)}}}else d=r;return c.memoizedState=c.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},c.queue=i,i=i.dispatch=uI.bind(null,qe,i),[c.memoizedState,i]},useRef:function(i){var r=$n();return i={current:i},r.memoizedState=i},useState:function(i){i=ap(i);var r=i.queue,o=a_.bind(null,qe,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:cp,useDeferredValue:function(i,r){var o=$n();return up(o,i,r)},useTransition:function(){var i=ap(!1);return i=t_.bind(null,qe,i.queue,!0,!1),$n().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=qe,d=$n();if(tt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),_t===null)throw Error(s(349));(We&127)!==0||Nb(c,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,$b(Db.bind(null,c,g,i),[i]),c.flags|=2048,il(9,{destroy:void 0},kb.bind(null,c,g,o,r),null),o},useId:function(){var i=$n(),r=_t.identifierPrefix;if(tt){var o=Ns,c=Is;o=(c&~(1<<32-Pt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Uh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=iI++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:fp,useFormState:Bb,useActionState:Bb,useOptimistic:function(i){var r=$n();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=dp.bind(null,qe,!0,o),o.dispatch=r,[i,r]},useMemoCache:ip,useCacheRefresh:function(){return $n().memoizedState=cI.bind(null,qe)},useEffectEvent:function(i){var r=$n(),o={impl:i};return r.memoizedState=o,function(){if((ct&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},mp={readContext:In,use:Bh,useCallback:Zb,useContext:In,useEffect:lp,useImperativeHandle:Xb,useInsertionEffect:Yb,useLayoutEffect:Qb,useMemo:Jb,useReducer:Fh,useRef:Gb,useState:function(){return Fh(ir)},useDebugValue:cp,useDeferredValue:function(i,r){var o=Kt();return e_(o,pt.memoizedState,i,r)},useTransition:function(){var i=Fh(ir)[0],r=Kt().memoizedState;return[typeof i=="boolean"?i:Rc(i),r]},useSyncExternalStore:Ib,useId:s_,useHostTransitionStatus:fp,useFormState:Fb,useActionState:Fb,useOptimistic:function(i,r){var o=Kt();return Pb(o,pt,i,r)},useMemoCache:ip,useCacheRefresh:r_};mp.useEffectEvent=Kb;var u_={readContext:In,use:Bh,useCallback:Zb,useContext:In,useEffect:lp,useImperativeHandle:Xb,useInsertionEffect:Yb,useLayoutEffect:Qb,useMemo:Jb,useReducer:rp,useRef:Gb,useState:function(){return rp(ir)},useDebugValue:cp,useDeferredValue:function(i,r){var o=Kt();return pt===null?up(o,i,r):e_(o,pt.memoizedState,i,r)},useTransition:function(){var i=rp(ir)[0],r=Kt().memoizedState;return[typeof i=="boolean"?i:Rc(i),r]},useSyncExternalStore:Ib,useId:s_,useHostTransitionStatus:fp,useFormState:Hb,useActionState:Hb,useOptimistic:function(i,r){var o=Kt();return pt!==null?Pb(o,pt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:ip,useCacheRefresh:r_};u_.useEffectEvent=Kb;function pp(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:b({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var gp={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=_i(),d=$r(c);d.payload=r,o!=null&&(d.callback=o),r=Kr(i,d,c),r!==null&&(si(r,i,c),Ec(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=_i(),d=$r(c);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=Kr(i,d,c),r!==null&&(si(r,i,c),Ec(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=_i(),c=$r(o);c.tag=2,r!=null&&(c.callback=r),r=Kr(i,c,o),r!==null&&(si(r,i,o),Ec(r,i,o))}};function h_(i,r,o,c,d,g,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,w):r.prototype&&r.prototype.isPureReactComponent?!gc(o,c)||!gc(d,g):!0}function f_(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&gp.enqueueReplaceState(r,r.state,null)}function ro(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=b({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function d_(i){Th(i)}function m_(i){console.error(i)}function p_(i){Th(i)}function $h(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function g_(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function yp(i,r,o){return o=$r(o),o.tag=3,o.payload={element:null},o.callback=function(){$h(i,r)},o}function y_(i){return i=$r(i),i.tag=3,i}function v_(i,r,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;i.payload=function(){return d(g)},i.callback=function(){g_(r,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){g_(r,o,c),typeof d!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function hI(i,r,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Qo(r,o,d,!0),o=gi.current,o!==null){switch(o.tag){case 31:case 13:return Ui===null?rf():o.alternate===null&&Ft===0&&(Ft=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===Mh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Fp(i,c,d)),!1;case 22:return o.flags|=65536,c===Mh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Fp(i,c,d)),!1}throw Error(s(435,o.tag))}return Fp(i,c,d),rf(),!1}if(tt)return r=gi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,c!==Om&&(i=Error(s(422),{cause:c}),bc(Pi(i,o)))):(c!==Om&&(r=Error(s(423),{cause:c}),bc(Pi(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,c=Pi(c,o),d=yp(i.stateNode,c,d),Km(i,d),Ft!==4&&(Ft=2)),!1;var g=Error(s(520),{cause:c});if(g=Pi(g,o),Lc===null?Lc=[g]:Lc.push(g),Ft!==4&&(Ft=2),r===null)return!0;c=Pi(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=yp(o.stateNode,c,i),Km(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Jr===null||!Jr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=y_(d),v_(d,i,o,c),Km(o,d),!1}o=o.return}while(o!==null);return!1}var vp=Error(s(461)),tn=!1;function Nn(i,r,o,c){r.child=i===null?xb(r,null,o,c):io(r,i.child,o,c)}function b_(i,r,o,c,d){o=o.render;var g=r.ref;if("ref"in c){var w={};for(var A in c)A!=="ref"&&(w[A]=c[A])}else w=c;return Ja(r),c=Jm(i,r,o,w,g,d),A=ep(),i!==null&&!tn?(tp(i,r,d),sr(i,r,d)):(tt&&A&&Vm(r),r.flags|=1,Nn(i,r,c,d),r.child)}function __(i,r,o,c,d){if(i===null){var g=o.type;return typeof g=="function"&&!km(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,w_(i,r,g,c,d)):(i=Ch(o.type,null,c,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Ap(i,d)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:gc,o(w,c)&&i.ref===r.ref)return sr(i,r,d)}return r.flags|=1,i=Zs(g,c),i.ref=r.ref,i.return=r,r.child=i}function w_(i,r,o,c,d){if(i!==null){var g=i.memoizedProps;if(gc(g,c)&&i.ref===r.ref)if(tn=!1,r.pendingProps=c=g,Ap(i,d))(i.flags&131072)!==0&&(tn=!0);else return r.lanes=i.lanes,sr(i,r,d)}return bp(i,r,o,c,d)}function x_(i,r,o,c){var d=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~g}else c=0,r.child=null;return T_(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&kh(r,g!==null?g.cachePool:null),g!==null?Sb(r,g):Qm(),Ab(r);else return c=r.lanes=536870912,T_(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(kh(r,g.cachePool),Sb(r,g),Qr(),r.memoizedState=null):(i!==null&&kh(r,null),Qm(),Qr());return Nn(i,r,d,o),r.child}function kc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function T_(i,r,o,c,d){var g=qm();return g=g===null?null:{parent:Jt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&kh(r,null),Qm(),Ab(r),i!==null&&Qo(i,r,c,!0),r.childLanes=d,null}function Kh(i,r){return r=Qh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function E_(i,r,o){return io(r,i.child,null,o),i=Kh(r,r.pendingProps),i.flags|=2,yi(r),r.memoizedState=null,i}function fI(i,r,o){var c=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(tt){if(c.mode==="hidden")return i=Kh(r,c),r.lanes=536870912,kc(null,i);if(Xm(r),(i=At)?(i=Ow(i,Li),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Br!==null?{id:Is,overflow:Ns}:null,retryLane:536870912,hydrationErrors:null},o=ob(i),o.return=r,r.child=o,Rn=r,At=null)):i=null,i===null)throw qr(r);return r.lanes=536870912,null}return Kh(r,c)}var g=i.memoizedState;if(g!==null){var w=g.dehydrated;if(Xm(r),d)if(r.flags&256)r.flags&=-257,r=E_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(tn||Qo(i,r,o,!1),d=(o&i.childLanes)!==0,tn||d){if(c=_t,c!==null&&(w=Xi(c,o),w!==0&&w!==g.retryLane))throw g.retryLane=w,Qa(i,w),si(c,i,w),vp;rf(),r=E_(i,r,o)}else i=g.treeContext,At=zi(w.nextSibling),Rn=r,tt=!0,Fr=null,Li=!1,i!==null&&ub(r,i),r=Kh(r,c),r.flags|=4096;return r}return i=Zs(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Yh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function bp(i,r,o,c,d){return Ja(r),o=Jm(i,r,o,c,void 0,d),c=ep(),i!==null&&!tn?(tp(i,r,d),sr(i,r,d)):(tt&&c&&Vm(r),r.flags|=1,Nn(i,r,o,d),r.child)}function S_(i,r,o,c,d,g){return Ja(r),r.updateQueue=null,o=Rb(r,c,o,d),Cb(i),c=ep(),i!==null&&!tn?(tp(i,r,g),sr(i,r,g)):(tt&&c&&Vm(r),r.flags|=1,Nn(i,r,o,g),r.child)}function A_(i,r,o,c,d){if(Ja(r),r.stateNode===null){var g=Go,w=o.contextType;typeof w=="object"&&w!==null&&(g=In(w)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=gp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},Gm(r),w=o.contextType,g.context=typeof w=="object"&&w!==null?In(w):Go,g.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(pp(r,o,w,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&gp.enqueueReplaceState(g,g.state,null),Ac(r,c,g,d),Sc(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var A=r.memoizedProps,U=ro(o,A);g.props=U;var te=g.context,ae=o.contextType;w=Go,typeof ae=="object"&&ae!==null&&(w=In(ae));var le=o.getDerivedStateFromProps;ae=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ae||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||te!==w)&&f_(r,g,c,w),Gr=!1;var ie=r.memoizedState;g.state=ie,Ac(r,c,g,d),Sc(),te=r.memoizedState,A||ie!==te||Gr?(typeof le=="function"&&(pp(r,o,le,c),te=r.memoizedState),(U=Gr||h_(r,o,U,c,ie,te,w))?(ae||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=te),g.props=c,g.state=te,g.context=w,c=U):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,$m(i,r),w=r.memoizedProps,ae=ro(o,w),g.props=ae,le=r.pendingProps,ie=g.context,te=o.contextType,U=Go,typeof te=="object"&&te!==null&&(U=In(te)),A=o.getDerivedStateFromProps,(te=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==le||ie!==U)&&f_(r,g,c,U),Gr=!1,ie=r.memoizedState,g.state=ie,Ac(r,c,g,d),Sc();var re=r.memoizedState;w!==le||ie!==re||Gr||i!==null&&i.dependencies!==null&&Ih(i.dependencies)?(typeof A=="function"&&(pp(r,o,A,c),re=r.memoizedState),(ae=Gr||h_(r,o,ae,c,ie,re,U)||i!==null&&i.dependencies!==null&&Ih(i.dependencies))?(te||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,re,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,re,U)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&ie===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&ie===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=re),g.props=c,g.state=re,g.context=U,c=ae):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&ie===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&ie===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,Yh(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=io(r,i.child,null,d),r.child=io(r,null,o,d)):Nn(i,r,o,d),r.memoizedState=g.state,i=r.child):i=sr(i,r,d),i}function C_(i,r,o,c){return Xa(),r.flags|=256,Nn(i,r,o,c),r.child}var _p={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wp(i){return{baseLanes:i,cachePool:gb()}}function xp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=bi),i}function R_(i,r,o){var c=r.pendingProps,d=!1,g=(r.flags&128)!==0,w;if((w=g)||(w=i!==null&&i.memoizedState===null?!1:($t.current&2)!==0),w&&(d=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,i===null){if(tt){if(d?Yr(r):Qr(),(i=At)?(i=Ow(i,Li),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Br!==null?{id:Is,overflow:Ns}:null,retryLane:536870912,hydrationErrors:null},o=ob(i),o.return=r,r.child=o,Rn=r,At=null)):i=null,i===null)throw qr(r);return sg(i)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,d?(Qr(),d=r.mode,A=Qh({mode:"hidden",children:A},d),c=Wa(c,d,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=wp(o),c.childLanes=xp(i,w,o),r.memoizedState=_p,kc(null,c)):(Yr(r),Tp(r,A))}var U=i.memoizedState;if(U!==null&&(A=U.dehydrated,A!==null)){if(g)r.flags&256?(Yr(r),r.flags&=-257,r=Ep(i,r,o)):r.memoizedState!==null?(Qr(),r.child=i.child,r.flags|=128,r=null):(Qr(),A=c.fallback,d=r.mode,c=Qh({mode:"visible",children:c.children},d),A=Wa(A,d,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,io(r,i.child,null,o),c=r.child,c.memoizedState=wp(o),c.childLanes=xp(i,w,o),r.memoizedState=_p,r=kc(null,c));else if(Yr(r),sg(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var te=w.dgst;w=te,c=Error(s(419)),c.stack="",c.digest=w,bc({value:c,source:null,stack:null}),r=Ep(i,r,o)}else if(tn||Qo(i,r,o,!1),w=(o&i.childLanes)!==0,tn||w){if(w=_t,w!==null&&(c=Xi(w,o),c!==0&&c!==U.retryLane))throw U.retryLane=c,Qa(i,c),si(w,i,c),vp;ig(A)||rf(),r=Ep(i,r,o)}else ig(A)?(r.flags|=192,r.child=i.child,r=null):(i=U.treeContext,At=zi(A.nextSibling),Rn=r,tt=!0,Fr=null,Li=!1,i!==null&&ub(r,i),r=Tp(r,c.children),r.flags|=4096);return r}return d?(Qr(),A=c.fallback,d=r.mode,U=i.child,te=U.sibling,c=Zs(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,te!==null?A=Zs(te,A):(A=Wa(A,d,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,kc(null,c),c=r.child,A=i.child.memoizedState,A===null?A=wp(o):(d=A.cachePool,d!==null?(U=Jt._currentValue,d=d.parent!==U?{parent:U,pool:U}:d):d=gb(),A={baseLanes:A.baseLanes|o,cachePool:d}),c.memoizedState=A,c.childLanes=xp(i,w,o),r.memoizedState=_p,kc(i.child,c)):(Yr(r),o=i.child,i=o.sibling,o=Zs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(w=r.deletions,w===null?(r.deletions=[i],r.flags|=16):w.push(i)),r.child=o,r.memoizedState=null,o)}function Tp(i,r){return r=Qh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Qh(i,r){return i=pi(22,i,null,r),i.lanes=0,i}function Ep(i,r,o){return io(r,i.child,null,o),i=Tp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function I_(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),Um(i.return,r,o)}function Sp(i,r,o,c,d,g){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:g}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=o,w.tailMode=d,w.treeForkCount=g)}function N_(i,r,o){var c=r.pendingProps,d=c.revealOrder,g=c.tail;c=c.children;var w=$t.current,A=(w&2)!==0;if(A?(w=w&1|2,r.flags|=128):w&=1,Q($t,w),Nn(i,r,c,o),c=tt?vc:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&I_(i,o,r);else if(i.tag===19)I_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&jh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Sp(r,!1,d,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&jh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Sp(r,!0,o,null,g,c);break;case"together":Sp(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function sr(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Zr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Qo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Zs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Zs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Ap(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Ih(i)))}function dI(i,r,o){switch(r.tag){case 3:Ae(r,r.stateNode.containerInfo),Hr(r,Jt,i.memoizedState.cache),Xa();break;case 27:case 5:Ke(r);break;case 4:Ae(r,r.stateNode.containerInfo);break;case 10:Hr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Xm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Yr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?R_(i,r,o):(Yr(r),i=sr(i,r,o),i!==null?i.sibling:null);Yr(r);break;case 19:var d=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Qo(i,r,o,!1),c=(o&r.childLanes)!==0),d){if(c)return N_(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Q($t,$t.current),c)break;return null;case 22:return r.lanes=0,x_(i,r,o,r.pendingProps);case 24:Hr(r,Jt,i.memoizedState.cache)}return sr(i,r,o)}function k_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)tn=!0;else{if(!Ap(i,o)&&(r.flags&128)===0)return tn=!1,dI(i,r,o);tn=(i.flags&131072)!==0}else tn=!1,tt&&(r.flags&1048576)!==0&&cb(r,vc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=to(r.elementType),r.type=i,typeof i=="function")km(i)?(c=ro(i,c),r.tag=1,r=A_(null,r,i,c,o)):(r.tag=0,r=bp(null,r,i,c,o));else{if(i!=null){var d=i.$$typeof;if(d===me){r.tag=11,r=b_(null,r,i,c,o);break e}else if(d===k){r.tag=14,r=__(null,r,i,c,o);break e}}throw r=be(i)||i,Error(s(306,r,""))}}return r;case 0:return bp(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,d=ro(c,r.pendingProps),A_(i,r,c,d,o);case 3:e:{if(Ae(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;d=g.element,$m(i,r),Ac(r,c,null,o);var w=r.memoizedState;if(c=w.cache,Hr(r,Jt,c),c!==g.cache&&zm(r,[Jt],o,!0),Sc(),c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=C_(i,r,c,o);break e}else if(c!==d){d=Pi(Error(s(424)),r),bc(d),r=C_(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,At=zi(i.firstChild),Rn=r,tt=!0,Fr=null,Li=!0,o=xb(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Xa(),c===d){r=sr(i,r,o);break e}Nn(i,r,c,o)}r=r.child}return r;case 26:return Yh(i,r),i===null?(o=Fw(r.type,null,r.pendingProps,null))?r.memoizedState=o:tt||(o=r.type,i=r.pendingProps,c=ff(ge.current).createElement(o),c[It]=r,c[zt]=i,kn(c,o,i),F(c),r.stateNode=c):r.memoizedState=Fw(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ke(r),i===null&&tt&&(c=r.stateNode=Uw(r.type,r.pendingProps,ge.current),Rn=r,Li=!0,d=At,ia(r.type)?(rg=d,At=zi(c.firstChild)):At=d),Nn(i,r,r.pendingProps.children,o),Yh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&tt&&((d=c=At)&&(c=qI(c,r.type,r.pendingProps,Li),c!==null?(r.stateNode=c,Rn=r,At=zi(c.firstChild),Li=!1,d=!0):d=!1),d||qr(r)),Ke(r),d=r.type,g=r.pendingProps,w=i!==null?i.memoizedProps:null,c=g.children,eg(d,g)?c=null:w!==null&&eg(d,w)&&(r.flags|=32),r.memoizedState!==null&&(d=Jm(i,r,sI,null,null,o),$c._currentValue=d),Yh(i,r),Nn(i,r,c,o),r.child;case 6:return i===null&&tt&&((i=o=At)&&(o=HI(o,r.pendingProps,Li),o!==null?(r.stateNode=o,Rn=r,At=null,i=!0):i=!1),i||qr(r)),null;case 13:return R_(i,r,o);case 4:return Ae(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=io(r,null,c,o):Nn(i,r,c,o),r.child;case 11:return b_(i,r,r.type,r.pendingProps,o);case 7:return Nn(i,r,r.pendingProps,o),r.child;case 8:return Nn(i,r,r.pendingProps.children,o),r.child;case 12:return Nn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Hr(r,r.type,c.value),Nn(i,r,c.children,o),r.child;case 9:return d=r.type._context,c=r.pendingProps.children,Ja(r),d=In(d),c=c(d),r.flags|=1,Nn(i,r,c,o),r.child;case 14:return __(i,r,r.type,r.pendingProps,o);case 15:return w_(i,r,r.type,r.pendingProps,o);case 19:return N_(i,r,o);case 31:return fI(i,r,o);case 22:return x_(i,r,o,r.pendingProps);case 24:return Ja(r),c=In(Jt),i===null?(d=qm(),d===null&&(d=_t,g=Bm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:c,cache:d},Gm(r),Hr(r,Jt,d)):((i.lanes&o)!==0&&($m(i,r),Ac(r,null,null,o),Sc()),d=i.memoizedState,g=r.memoizedState,d.parent!==c?(d={parent:c,cache:c},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Hr(r,Jt,c)):(c=g.cache,Hr(r,Jt,c),c!==d.cache&&zm(r,[Jt],o,!0))),Nn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function rr(i){i.flags|=4}function Cp(i,r,o,c,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(sw())i.flags|=8192;else throw no=Mh,Hm}else i.flags&=-16777217}function D_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Kw(r))if(sw())i.flags|=8192;else throw no=Mh,Hm}function Wh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?_s():536870912,i.lanes|=r,ol|=r)}function Dc(i,r){if(!tt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Ct(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function mI(i,r,o){var c=r.pendingProps;switch(Pm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(r),null;case 1:return Ct(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),tr(Jt),Re(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Yo(r)?rr(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,jm())),Ct(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(rr(r),g!==null?(Ct(r),D_(r,g)):(Ct(r),Cp(r,d,null,c,o))):g?g!==i.memoizedState?(rr(r),Ct(r),D_(r,g)):(Ct(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&rr(r),Ct(r),Cp(r,d,i,c,o)),null;case 27:if(ze(r),o=ge.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&rr(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return Ct(r),null}i=ne.current,Yo(r)?hb(r):(i=Uw(d,c,o),r.stateNode=i,rr(r))}return Ct(r),null;case 5:if(ze(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&rr(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return Ct(r),null}if(g=ne.current,Yo(r))hb(r);else{var w=ff(ge.current);switch(g){case 1:g=w.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=w.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=w.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?w.createElement(d,{is:c.is}):w.createElement(d)}}g[It]=r,g[zt]=c;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)g.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=g;e:switch(kn(g,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&rr(r)}}return Ct(r),Cp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&rr(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=ge.current,Yo(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,d=Rn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}i[It]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Rw(i.nodeValue,o)),i||qr(r,!0)}else i=ff(i).createTextNode(c),i[It]=r,r.stateNode=i}return Ct(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=Yo(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[It]=r}else Xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ct(r),i=!1}else o=jm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(yi(r),r):(yi(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Ct(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Yo(r),c!==null&&c.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[It]=r}else Xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ct(r),d=!1}else d=jm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(yi(r),r):(yi(r),null)}return yi(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Wh(r,r.updateQueue),Ct(r),null);case 4:return Re(),i===null&&Qp(r.stateNode.containerInfo),Ct(r),null;case 10:return tr(r.type),Ct(r),null;case 19:if(L($t),c=r.memoizedState,c===null)return Ct(r),null;if(d=(r.flags&128)!==0,g=c.rendering,g===null)if(d)Dc(c,!1);else{if(Ft!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=jh(i),g!==null){for(r.flags|=128,Dc(c,!1),i=g.updateQueue,r.updateQueue=i,Wh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)ab(o,i),o=o.sibling;return Q($t,$t.current&1|2),tt&&Js(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&Ut()>tf&&(r.flags|=128,d=!0,Dc(c,!1),r.lanes=4194304)}else{if(!d)if(i=jh(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Wh(r,i),Dc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!tt)return Ct(r),null}else 2*Ut()-c.renderingStartTime>tf&&o!==536870912&&(r.flags|=128,d=!0,Dc(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Ut(),i.sibling=null,o=$t.current,Q($t,d?o&1|2:o&1),tt&&Js(r,c.treeForkCount),i):(Ct(r),null);case 22:case 23:return yi(r),Wm(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(Ct(r),r.subtreeFlags&6&&(r.flags|=8192)):Ct(r),o=r.updateQueue,o!==null&&Wh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&L(eo),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),tr(Jt),Ct(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function pI(i,r){switch(Pm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return tr(Jt),Re(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ze(r),null;case 31:if(r.memoizedState!==null){if(yi(r),r.alternate===null)throw Error(s(340));Xa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(yi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Xa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return L($t),null;case 4:return Re(),null;case 10:return tr(r.type),null;case 22:case 23:return yi(r),Wm(),i!==null&&L(eo),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return tr(Jt),null;case 25:return null;default:return null}}function M_(i,r){switch(Pm(r),r.tag){case 3:tr(Jt),Re();break;case 26:case 27:case 5:ze(r);break;case 4:Re();break;case 31:r.memoizedState!==null&&yi(r);break;case 13:yi(r);break;case 19:L($t);break;case 10:tr(r.type);break;case 22:case 23:yi(r),Wm(),i!==null&&L(eo);break;case 24:tr(Jt)}}function Mc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&i)===i){c=void 0;var g=o.create,w=o.inst;c=g(),w.destroy=c}o=o.next}while(o!==d)}}catch(A){dt(r,r.return,A)}}function Wr(i,r,o){try{var c=r.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&i)===i){var w=c.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,d=r;var U=o,te=A;try{te()}catch(ae){dt(d,U,ae)}}}c=c.next}while(c!==g)}}catch(ae){dt(r,r.return,ae)}}function V_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Eb(r,o)}catch(c){dt(i,i.return,c)}}}function P_(i,r,o){o.props=ro(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){dt(i,r,c)}}function Vc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(d){dt(i,r,d)}}function ks(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){dt(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){dt(i,r,d)}else o.current=null}function O_(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){dt(i,i.return,d)}}function Rp(i,r,o){try{var c=i.stateNode;jI(c,i.type,o,r),c[zt]=r}catch(d){dt(i,i.return,d)}}function j_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ia(i.type)||i.tag===4}function Ip(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||j_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ia(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Np(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=es));else if(c!==4&&(c===27&&ia(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Np(i,r,o),i=i.sibling;i!==null;)Np(i,r,o),i=i.sibling}function Xh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&ia(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Xh(i,r,o),i=i.sibling;i!==null;)Xh(i,r,o),i=i.sibling}function L_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);kn(r,c,o),r[It]=i,r[zt]=o}catch(g){dt(i,i.return,g)}}var ar=!1,nn=!1,kp=!1,U_=typeof WeakSet=="function"?WeakSet:Set,yn=null;function gI(i,r){if(i=i.containerInfo,Zp=bf,i=Xv(i),Em(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,A=-1,U=-1,te=0,ae=0,le=i,ie=null;t:for(;;){for(var re;le!==o||d!==0&&le.nodeType!==3||(A=w+d),le!==g||c!==0&&le.nodeType!==3||(U=w+c),le.nodeType===3&&(w+=le.nodeValue.length),(re=le.firstChild)!==null;)ie=le,le=re;for(;;){if(le===i)break t;if(ie===o&&++te===d&&(A=w),ie===g&&++ae===c&&(U=w),(re=le.nextSibling)!==null)break;le=ie,ie=le.parentNode}le=re}o=A===-1||U===-1?null:{start:A,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Jp={focusedElem:i,selectionRange:o},bf=!1,yn=r;yn!==null;)if(r=yn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,yn=i;else for(;yn!==null;){switch(r=yn,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Te=ro(o.type,d);i=c.getSnapshotBeforeUpdate(Te,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(De){dt(o,o.return,De)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)ng(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ng(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,yn=i;break}yn=r.return}}function z_(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:lr(i,o),c&4&&Mc(5,o);break;case 1:if(lr(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(w){dt(o,o.return,w)}else{var d=ro(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(w){dt(o,o.return,w)}}c&64&&V_(o),c&512&&Vc(o,o.return);break;case 3:if(lr(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Eb(i,r)}catch(w){dt(o,o.return,w)}}break;case 27:r===null&&c&4&&L_(o);case 26:case 5:lr(i,o),r===null&&c&4&&O_(o),c&512&&Vc(o,o.return);break;case 12:lr(i,o);break;case 31:lr(i,o),c&4&&q_(i,o);break;case 13:lr(i,o),c&4&&H_(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=SI.bind(null,o),GI(i,o))));break;case 22:if(c=o.memoizedState!==null||ar,!c){r=r!==null&&r.memoizedState!==null||nn,d=ar;var g=nn;ar=c,(nn=r)&&!g?cr(i,o,(o.subtreeFlags&8772)!==0):lr(i,o),ar=d,nn=g}break;case 30:break;default:lr(i,o)}}function B_(i){var r=i.alternate;r!==null&&(i.alternate=null,B_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&fi(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var kt=null,ei=!1;function or(i,r,o){for(o=o.child;o!==null;)F_(i,r,o),o=o.sibling}function F_(i,r,o){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Fn,o)}catch{}switch(o.tag){case 26:nn||ks(o,r),or(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:nn||ks(o,r);var c=kt,d=ei;ia(o.type)&&(kt=o.stateNode,ei=!1),or(i,r,o),qc(o.stateNode),kt=c,ei=d;break;case 5:nn||ks(o,r);case 6:if(c=kt,d=ei,kt=null,or(i,r,o),kt=c,ei=d,kt!==null)if(ei)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(o.stateNode)}catch(g){dt(o,r,g)}else try{kt.removeChild(o.stateNode)}catch(g){dt(o,r,g)}break;case 18:kt!==null&&(ei?(i=kt,Vw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),pl(i)):Vw(kt,o.stateNode));break;case 4:c=kt,d=ei,kt=o.stateNode.containerInfo,ei=!0,or(i,r,o),kt=c,ei=d;break;case 0:case 11:case 14:case 15:Wr(2,o,r),nn||Wr(4,o,r),or(i,r,o);break;case 1:nn||(ks(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&P_(o,r,c)),or(i,r,o);break;case 21:or(i,r,o);break;case 22:nn=(c=nn)||o.memoizedState!==null,or(i,r,o),nn=c;break;default:or(i,r,o)}}function q_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{pl(i)}catch(o){dt(r,r.return,o)}}}function H_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{pl(i)}catch(o){dt(r,r.return,o)}}function yI(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new U_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new U_),r;default:throw Error(s(435,i.tag))}}function Zh(i,r){var o=yI(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var d=AI.bind(null,i,c);c.then(d,d)}})}function ti(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=i,w=r,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(ia(A.type)){kt=A.stateNode,ei=!1;break e}break;case 5:kt=A.stateNode,ei=!1;break e;case 3:case 4:kt=A.stateNode.containerInfo,ei=!0;break e}A=A.return}if(kt===null)throw Error(s(160));F_(g,w,d),kt=null,ei=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)G_(r,i),r=r.sibling}var as=null;function G_(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ti(r,i),ni(i),c&4&&(Wr(3,i,i.return),Mc(3,i),Wr(5,i,i.return));break;case 1:ti(r,i),ni(i),c&512&&(nn||o===null||ks(o,o.return)),c&64&&ar&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=as;if(ti(r,i),ni(i),c&512&&(nn||o===null||ks(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ri]||g[It]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),kn(g,c,o),g[It]=i,F(g),c=g;break e;case"link":var w=Gw("link","href",d).get(c+(o.href||""));if(w){for(var A=0;A<w.length;A++)if(g=w[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(A,1);break t}}g=d.createElement(c),kn(g,c,o),d.head.appendChild(g);break;case"meta":if(w=Gw("meta","content",d).get(c+(o.content||""))){for(A=0;A<w.length;A++)if(g=w[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(A,1);break t}}g=d.createElement(c),kn(g,c,o),d.head.appendChild(g);break;default:throw Error(s(468,c))}g[It]=i,F(g),c=g}i.stateNode=c}else $w(d,i.type,i.stateNode);else i.stateNode=Hw(d,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?$w(d,i.type,i.stateNode):Hw(d,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Rp(i,i.memoizedProps,o.memoizedProps)}break;case 27:ti(r,i),ni(i),c&512&&(nn||o===null||ks(o,o.return)),o!==null&&c&4&&Rp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(ti(r,i),ni(i),c&512&&(nn||o===null||ks(o,o.return)),i.flags&32){d=i.stateNode;try{Jn(d,"")}catch(Te){dt(i,i.return,Te)}}c&4&&i.stateNode!=null&&(d=i.memoizedProps,Rp(i,d,o!==null?o.memoizedProps:d)),c&1024&&(kp=!0);break;case 6:if(ti(r,i),ni(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(Te){dt(i,i.return,Te)}}break;case 3:if(pf=null,d=as,as=df(r.containerInfo),ti(r,i),as=d,ni(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{pl(r.containerInfo)}catch(Te){dt(i,i.return,Te)}kp&&(kp=!1,$_(i));break;case 4:c=as,as=df(i.stateNode.containerInfo),ti(r,i),ni(i),as=c;break;case 12:ti(r,i),ni(i);break;case 31:ti(r,i),ni(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Zh(i,c)));break;case 13:ti(r,i),ni(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ef=Ut()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Zh(i,c)));break;case 22:d=i.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,te=ar,ae=nn;if(ar=te||d,nn=ae||U,ti(r,i),nn=ae,ar=te,ni(i),c&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||U||ar||nn||ao(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){U=o=r;try{if(g=U.stateNode,d)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=U.stateNode;var le=U.memoizedProps.style,ie=le!=null&&le.hasOwnProperty("display")?le.display:null;A.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Te){dt(U,U.return,Te)}}}else if(r.tag===6){if(o===null){U=r;try{U.stateNode.nodeValue=d?"":U.memoizedProps}catch(Te){dt(U,U.return,Te)}}}else if(r.tag===18){if(o===null){U=r;try{var re=U.stateNode;d?Pw(re,!0):Pw(U.stateNode,!1)}catch(Te){dt(U,U.return,Te)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Zh(i,o))));break;case 19:ti(r,i),ni(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Zh(i,c)));break;case 30:break;case 21:break;default:ti(r,i),ni(i)}}function ni(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(j_(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=Ip(i);Xh(i,g,d);break;case 5:var w=o.stateNode;o.flags&32&&(Jn(w,""),o.flags&=-33);var A=Ip(i);Xh(i,A,w);break;case 3:case 4:var U=o.stateNode.containerInfo,te=Ip(i);Np(i,te,U);break;default:throw Error(s(161))}}catch(ae){dt(i,i.return,ae)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function $_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;$_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function lr(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)z_(i,r.alternate,r),r=r.sibling}function ao(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Wr(4,r,r.return),ao(r);break;case 1:ks(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&P_(r,r.return,o),ao(r);break;case 27:qc(r.stateNode);case 26:case 5:ks(r,r.return),ao(r);break;case 22:r.memoizedState===null&&ao(r);break;case 30:ao(r);break;default:ao(r)}i=i.sibling}}function cr(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,d=i,g=r,w=g.flags;switch(g.tag){case 0:case 11:case 15:cr(d,g,o),Mc(4,g);break;case 1:if(cr(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(te){dt(c,c.return,te)}if(c=g,d=c.updateQueue,d!==null){var A=c.stateNode;try{var U=d.shared.hiddenCallbacks;if(U!==null)for(d.shared.hiddenCallbacks=null,d=0;d<U.length;d++)Tb(U[d],A)}catch(te){dt(c,c.return,te)}}o&&w&64&&V_(g),Vc(g,g.return);break;case 27:L_(g);case 26:case 5:cr(d,g,o),o&&c===null&&w&4&&O_(g),Vc(g,g.return);break;case 12:cr(d,g,o);break;case 31:cr(d,g,o),o&&w&4&&q_(d,g);break;case 13:cr(d,g,o),o&&w&4&&H_(d,g);break;case 22:g.memoizedState===null&&cr(d,g,o),Vc(g,g.return);break;case 30:break;default:cr(d,g,o)}r=r.sibling}}function Dp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&_c(o))}function Mp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&_c(i))}function os(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)K_(i,r,o,c),r=r.sibling}function K_(i,r,o,c){var d=r.flags;switch(r.tag){case 0:case 11:case 15:os(i,r,o,c),d&2048&&Mc(9,r);break;case 1:os(i,r,o,c);break;case 3:os(i,r,o,c),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&_c(i)));break;case 12:if(d&2048){os(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,w=g.id,A=g.onPostCommit;typeof A=="function"&&A(w,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(U){dt(r,r.return,U)}}else os(i,r,o,c);break;case 31:os(i,r,o,c);break;case 13:os(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,w=r.alternate,r.memoizedState!==null?g._visibility&2?os(i,r,o,c):Pc(i,r):g._visibility&2?os(i,r,o,c):(g._visibility|=2,sl(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Dp(w,r);break;case 24:os(i,r,o,c),d&2048&&Mp(r.alternate,r);break;default:os(i,r,o,c)}}function sl(i,r,o,c,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,w=r,A=o,U=c,te=w.flags;switch(w.tag){case 0:case 11:case 15:sl(g,w,A,U,d),Mc(8,w);break;case 23:break;case 22:var ae=w.stateNode;w.memoizedState!==null?ae._visibility&2?sl(g,w,A,U,d):Pc(g,w):(ae._visibility|=2,sl(g,w,A,U,d)),d&&te&2048&&Dp(w.alternate,w);break;case 24:sl(g,w,A,U,d),d&&te&2048&&Mp(w.alternate,w);break;default:sl(g,w,A,U,d)}r=r.sibling}}function Pc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,d=c.flags;switch(c.tag){case 22:Pc(o,c),d&2048&&Dp(c.alternate,c);break;case 24:Pc(o,c),d&2048&&Mp(c.alternate,c);break;default:Pc(o,c)}r=r.sibling}}var Oc=8192;function rl(i,r,o){if(i.subtreeFlags&Oc)for(i=i.child;i!==null;)Y_(i,r,o),i=i.sibling}function Y_(i,r,o){switch(i.tag){case 26:rl(i,r,o),i.flags&Oc&&i.memoizedState!==null&&iN(o,as,i.memoizedState,i.memoizedProps);break;case 5:rl(i,r,o);break;case 3:case 4:var c=as;as=df(i.stateNode.containerInfo),rl(i,r,o),as=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Oc,Oc=16777216,rl(i,r,o),Oc=c):rl(i,r,o));break;default:rl(i,r,o)}}function Q_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function jc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];yn=c,X_(c,i)}Q_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)W_(i),i=i.sibling}function W_(i){switch(i.tag){case 0:case 11:case 15:jc(i),i.flags&2048&&Wr(9,i,i.return);break;case 3:jc(i);break;case 12:jc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Jh(i)):jc(i);break;default:jc(i)}}function Jh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];yn=c,X_(c,i)}Q_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Wr(8,r,r.return),Jh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Jh(r));break;default:Jh(r)}i=i.sibling}}function X_(i,r){for(;yn!==null;){var o=yn;switch(o.tag){case 0:case 11:case 15:Wr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:_c(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,yn=c;else e:for(o=i;yn!==null;){c=yn;var d=c.sibling,g=c.return;if(B_(c),c===o){yn=null;break e}if(d!==null){d.return=g,yn=d;break e}yn=g}}}var vI={getCacheForType:function(i){var r=In(Jt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return In(Jt).controller.signal}},bI=typeof WeakMap=="function"?WeakMap:Map,ct=0,_t=null,Ye=null,We=0,ft=0,vi=null,Xr=!1,al=!1,Vp=!1,ur=0,Ft=0,Zr=0,oo=0,Pp=0,bi=0,ol=0,Lc=null,ii=null,Op=!1,ef=0,Z_=0,tf=1/0,nf=null,Jr=null,un=0,ea=null,ll=null,hr=0,jp=0,Lp=null,J_=null,Uc=0,Up=null;function _i(){return(ct&2)!==0&&We!==0?We&-We:J.T!==null?Gp():Oa()}function ew(){if(bi===0)if((We&536870912)===0||tt){var i=En;En<<=1,(En&3932160)===0&&(En=262144),bi=i}else bi=536870912;return i=gi.current,i!==null&&(i.flags|=32),bi}function si(i,r,o){(i===_t&&(ft===2||ft===9)||i.cancelPendingCommit!==null)&&(cl(i,0),ta(i,We,bi,!1)),ci(i,o),((ct&2)===0||i!==_t)&&(i===_t&&((ct&2)===0&&(oo|=o),Ft===4&&ta(i,We,bi,!1)),Ds(i))}function tw(i,r,o){if((ct&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||qn(i,r),d=c?xI(i,r):Bp(i,r,!0),g=c;do{if(d===0){al&&!c&&ta(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!_I(o)){d=Bp(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var A=i;d=Lc;var U=A.current.memoizedState.isDehydrated;if(U&&(cl(A,w).flags|=256),w=Bp(A,w,!1),w!==2){if(Vp&&!U){A.errorRecoveryDisabledLanes|=g,oo|=g,d=4;break e}g=ii,ii=d,g!==null&&(ii===null?ii=g:ii.push.apply(ii,g))}d=w}if(g=!1,d!==2)continue}}if(d===1){cl(i,0),ta(i,r,0,!0);break}e:{switch(c=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ta(c,r,bi,!Xr);break e;case 2:ii=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=ef+300-Ut(),10<d)){if(ta(c,r,bi,!Xr),li(c,0,!0)!==0)break e;hr=r,c.timeoutHandle=Dw(nw.bind(null,c,o,ii,nf,Op,r,bi,oo,ol,Xr,g,"Throttled",-0,0),d);break e}nw(c,o,ii,nf,Op,r,bi,oo,ol,Xr,g,null,-0,0)}}break}while(!0);Ds(i)}function nw(i,r,o,c,d,g,w,A,U,te,ae,le,ie,re){if(i.timeoutHandle=-1,le=r.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:es},Y_(r,g,le);var Te=(g&62914560)===g?ef-Ut():(g&4194048)===g?Z_-Ut():0;if(Te=sN(le,Te),Te!==null){hr=g,i.cancelPendingCommit=Te(uw.bind(null,i,r,g,o,c,d,w,A,U,ae,le,null,ie,re)),ta(i,g,w,!te);return}}uw(i,r,g,o,c,d,w,A,U)}function _I(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!mi(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ta(i,r,o,c){r&=~Pp,r&=~oo,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var d=r;0<d;){var g=31-Pt(d),w=1<<g;c[g]=-1,d&=~w}o!==0&&Ai(i,o,r)}function sf(){return(ct&6)===0?(zc(0),!1):!0}function zp(){if(Ye!==null){if(ft===0)var i=Ye.return;else i=Ye,er=Za=null,np(i),Jo=null,xc=0,i=Ye;for(;i!==null;)M_(i.alternate,i),i=i.return;Ye=null}}function cl(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,zI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),hr=0,zp(),_t=i,Ye=o=Zs(i.current,null),We=r,ft=0,vi=null,Xr=!1,al=qn(i,r),Vp=!1,ol=bi=Pp=oo=Zr=Ft=0,ii=Lc=null,Op=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var d=31-Pt(c),g=1<<d;r|=i[d],c&=~g}return ur=r,Eh(),o}function iw(i,r){qe=null,J.H=Nc,r===Zo||r===Dh?(r=bb(),ft=3):r===Hm?(r=bb(),ft=4):ft=r===vp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vi=r,Ye===null&&(Ft=1,$h(i,Pi(r,i.current)))}function sw(){var i=gi.current;return i===null?!0:(We&4194048)===We?Ui===null:(We&62914560)===We||(We&536870912)!==0?i===Ui:!1}function rw(){var i=J.H;return J.H=Nc,i===null?Nc:i}function aw(){var i=J.A;return J.A=vI,i}function rf(){Ft=4,Xr||(We&4194048)!==We&&gi.current!==null||(al=!0),(Zr&134217727)===0&&(oo&134217727)===0||_t===null||ta(_t,We,bi,!1)}function Bp(i,r,o){var c=ct;ct|=2;var d=rw(),g=aw();(_t!==i||We!==r)&&(nf=null,cl(i,r)),r=!1;var w=Ft;e:do try{if(ft!==0&&Ye!==null){var A=Ye,U=vi;switch(ft){case 8:zp(),w=6;break e;case 3:case 2:case 9:case 6:gi.current===null&&(r=!0);var te=ft;if(ft=0,vi=null,ul(i,A,U,te),o&&al){w=0;break e}break;default:te=ft,ft=0,vi=null,ul(i,A,U,te)}}wI(),w=Ft;break}catch(ae){iw(i,ae)}while(!0);return r&&i.shellSuspendCounter++,er=Za=null,ct=c,J.H=d,J.A=g,Ye===null&&(_t=null,We=0,Eh()),w}function wI(){for(;Ye!==null;)ow(Ye)}function xI(i,r){var o=ct;ct|=2;var c=rw(),d=aw();_t!==i||We!==r?(nf=null,tf=Ut()+500,cl(i,r)):al=qn(i,r);e:do try{if(ft!==0&&Ye!==null){r=Ye;var g=vi;t:switch(ft){case 1:ft=0,vi=null,ul(i,r,g,1);break;case 2:case 9:if(yb(g)){ft=0,vi=null,lw(r);break}r=function(){ft!==2&&ft!==9||_t!==i||(ft=7),Ds(i)},g.then(r,r);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:yb(g)?(ft=0,vi=null,lw(r)):(ft=0,vi=null,ul(i,r,g,7));break;case 5:var w=null;switch(Ye.tag){case 26:w=Ye.memoizedState;case 5:case 27:var A=Ye;if(w?Kw(w):A.stateNode.complete){ft=0,vi=null;var U=A.sibling;if(U!==null)Ye=U;else{var te=A.return;te!==null?(Ye=te,af(te)):Ye=null}break t}}ft=0,vi=null,ul(i,r,g,5);break;case 6:ft=0,vi=null,ul(i,r,g,6);break;case 8:zp(),Ft=6;break e;default:throw Error(s(462))}}TI();break}catch(ae){iw(i,ae)}while(!0);return er=Za=null,J.H=c,J.A=d,ct=o,Ye!==null?0:(_t=null,We=0,Eh(),Ft)}function TI(){for(;Ye!==null&&!Rr();)ow(Ye)}function ow(i){var r=k_(i.alternate,i,ur);i.memoizedProps=i.pendingProps,r===null?af(i):Ye=r}function lw(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=S_(o,r,r.pendingProps,r.type,void 0,We);break;case 11:r=S_(o,r,r.pendingProps,r.type.render,r.ref,We);break;case 5:np(r);default:M_(o,r),r=Ye=ab(r,ur),r=k_(o,r,ur)}i.memoizedProps=i.pendingProps,r===null?af(i):Ye=r}function ul(i,r,o,c){er=Za=null,np(r),Jo=null,xc=0;var d=r.return;try{if(hI(i,d,r,o,We)){Ft=1,$h(i,Pi(o,i.current)),Ye=null;return}}catch(g){if(d!==null)throw Ye=d,g;Ft=1,$h(i,Pi(o,i.current)),Ye=null;return}r.flags&32768?(tt||c===1?i=!0:al||(We&536870912)!==0?i=!1:(Xr=i=!0,(c===2||c===9||c===3||c===6)&&(c=gi.current,c!==null&&c.tag===13&&(c.flags|=16384))),cw(r,i)):af(r)}function af(i){var r=i;do{if((r.flags&32768)!==0){cw(r,Xr);return}i=r.return;var o=mI(r.alternate,r,ur);if(o!==null){Ye=o;return}if(r=r.sibling,r!==null){Ye=r;return}Ye=r=i}while(r!==null);Ft===0&&(Ft=5)}function cw(i,r){do{var o=pI(i.alternate,i);if(o!==null){o.flags&=32767,Ye=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ye=i;return}Ye=i=o}while(i!==null);Ft=6,Ye=null}function uw(i,r,o,c,d,g,w,A,U){i.cancelPendingCommit=null;do of();while(un!==0);if((ct&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Im,ui(i,o,g,w,A,U),i===_t&&(Ye=_t=null,We=0),ll=r,ea=i,hr=o,jp=g,Lp=d,J_=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,CI(Si,function(){return pw(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,d=X.p,X.p=2,w=ct,ct|=4;try{gI(i,r,o)}finally{ct=w,X.p=d,J.T=c}}un=1,hw(),fw(),dw()}}function hw(){if(un===1){un=0;var i=ea,r=ll,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var c=X.p;X.p=2;var d=ct;ct|=4;try{G_(r,i);var g=Jp,w=Xv(i.containerInfo),A=g.focusedElem,U=g.selectionRange;if(w!==A&&A&&A.ownerDocument&&Wv(A.ownerDocument.documentElement,A)){if(U!==null&&Em(A)){var te=U.start,ae=U.end;if(ae===void 0&&(ae=te),"selectionStart"in A)A.selectionStart=te,A.selectionEnd=Math.min(ae,A.value.length);else{var le=A.ownerDocument||document,ie=le&&le.defaultView||window;if(ie.getSelection){var re=ie.getSelection(),Te=A.textContent.length,De=Math.min(U.start,Te),yt=U.end===void 0?De:Math.min(U.end,Te);!re.extend&&De>yt&&(w=yt,yt=De,De=w);var $=Qv(A,De),q=Qv(A,yt);if($&&q&&(re.rangeCount!==1||re.anchorNode!==$.node||re.anchorOffset!==$.offset||re.focusNode!==q.node||re.focusOffset!==q.offset)){var ee=le.createRange();ee.setStart($.node,$.offset),re.removeAllRanges(),De>yt?(re.addRange(ee),re.extend(q.node,q.offset)):(ee.setEnd(q.node,q.offset),re.addRange(ee))}}}}for(le=[],re=A;re=re.parentNode;)re.nodeType===1&&le.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<le.length;A++){var oe=le[A];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}bf=!!Zp,Jp=Zp=null}finally{ct=d,X.p=c,J.T=o}}i.current=r,un=2}}function fw(){if(un===2){un=0;var i=ea,r=ll,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var c=X.p;X.p=2;var d=ct;ct|=4;try{z_(i,r.alternate,r)}finally{ct=d,X.p=c,J.T=o}}un=3}}function dw(){if(un===4||un===3){un=0,Ks();var i=ea,r=ll,o=hr,c=J_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?un=5:(un=0,ll=ea=null,mw(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Jr=null),Zi(o),r=r.stateNode,cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Fn,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=J.T,d=X.p,X.p=2,J.T=null;try{for(var g=i.onRecoverableError,w=0;w<c.length;w++){var A=c[w];g(A.value,{componentStack:A.stack})}}finally{J.T=r,X.p=d}}(hr&3)!==0&&of(),Ds(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===Up?Uc++:(Uc=0,Up=i):Uc=0,zc(0)}}function mw(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,_c(r)))}function of(){return hw(),fw(),dw(),pw()}function pw(){if(un!==5)return!1;var i=ea,r=jp;jp=0;var o=Zi(hr),c=J.T,d=X.p;try{X.p=32>o?32:o,J.T=null,o=Lp,Lp=null;var g=ea,w=hr;if(un=0,ll=ea=null,hr=0,(ct&6)!==0)throw Error(s(331));var A=ct;if(ct|=4,W_(g.current),K_(g,g.current,w,o),ct=A,zc(0,!1),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Fn,g)}catch{}return!0}finally{X.p=d,J.T=c,mw(i,r)}}function gw(i,r,o){r=Pi(o,r),r=yp(i.stateNode,r,2),i=Kr(i,r,2),i!==null&&(ci(i,2),Ds(i))}function dt(i,r,o){if(i.tag===3)gw(i,i,o);else for(;r!==null;){if(r.tag===3){gw(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Jr===null||!Jr.has(c))){i=Pi(o,i),o=y_(2),c=Kr(r,o,2),c!==null&&(v_(o,c,r,i),ci(c,2),Ds(c));break}}r=r.return}}function Fp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new bI;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(Vp=!0,d.add(o),i=EI.bind(null,i,r,o),r.then(i,i))}function EI(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,_t===i&&(We&o)===o&&(Ft===4||Ft===3&&(We&62914560)===We&&300>Ut()-ef?(ct&2)===0&&cl(i,0):Pp|=o,ol===We&&(ol=0)),Ds(i)}function yw(i,r){r===0&&(r=_s()),i=Qa(i,r),i!==null&&(ci(i,r),Ds(i))}function SI(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),yw(i,o)}function AI(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),yw(i,o)}function CI(i,r){return Be(i,r)}var lf=null,hl=null,qp=!1,cf=!1,Hp=!1,na=0;function Ds(i){i!==hl&&i.next===null&&(hl===null?lf=hl=i:hl=hl.next=i),cf=!0,qp||(qp=!0,II())}function zc(i,r){if(!Hp&&cf){Hp=!0;do for(var o=!1,c=lf;c!==null;){if(i!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var w=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-Pt(42|i)+1)-1,g&=d&~(w&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,ww(c,g))}else g=We,g=li(c,c===_t?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||qn(c,g)||(o=!0,ww(c,g));c=c.next}while(o);Hp=!1}}function RI(){vw()}function vw(){cf=qp=!1;var i=0;na!==0&&UI()&&(i=na);for(var r=Ut(),o=null,c=lf;c!==null;){var d=c.next,g=bw(c,r);g===0?(c.next=null,o===null?lf=d:o.next=d,d===null&&(hl=o)):(o=c,(i!==0||(g&3)!==0)&&(cf=!0)),c=d}un!==0&&un!==5||zc(i),na!==0&&(na=0)}function bw(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var w=31-Pt(g),A=1<<w,U=d[w];U===-1?((A&o)===0||(A&c)!==0)&&(d[w]=nc(A,r)):U<=r&&(i.expiredLanes|=A),g&=~A}if(r=_t,o=We,o=li(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(ft===2||ft===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Vn(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||qn(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Vn(c),Zi(o)){case 2:case 8:o=ys;break;case 32:o=Si;break;case 268435456:o=wn;break;default:o=Si}return c=_w.bind(null,i),o=Be(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Vn(c),i.callbackPriority=2,i.callbackNode=null,2}function _w(i,r){if(un!==0&&un!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(of()&&i.callbackNode!==o)return null;var c=We;return c=li(i,i===_t?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(tw(i,c,r),bw(i,Ut()),i.callbackNode!=null&&i.callbackNode===o?_w.bind(null,i):null)}function ww(i,r){if(of())return null;tw(i,r,!0)}function II(){BI(function(){(ct&6)!==0?Be(Ei,RI):vw()})}function Gp(){if(na===0){var i=Wo;i===0&&(i=Tn,Tn<<=1,(Tn&261888)===0&&(Tn=256)),na=i}return na}function xw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Po(""+i)}function Tw(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function NI(i,r,o,c,d){if(r==="submit"&&o&&o.stateNode===d){var g=xw((d[zt]||null).action),w=c.submitter;w&&(r=(r=w[zt]||null)?xw(r.formAction):w.getAttribute("formAction"),r!==null&&(g=r,w=null));var A=new Ss("action","action",null,c,d);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(na!==0){var U=w?Tw(d,w):new FormData(d);hp(o,{pending:!0,data:U,method:d.method,action:g},null,U)}}else typeof g=="function"&&(A.preventDefault(),U=w?Tw(d,w):new FormData(d),hp(o,{pending:!0,data:U,method:d.method,action:g},g,U))},currentTarget:d}]})}}for(var $p=0;$p<Rm.length;$p++){var Kp=Rm[$p],kI=Kp.toLowerCase(),DI=Kp[0].toUpperCase()+Kp.slice(1);rs(kI,"on"+DI)}rs(eb,"onAnimationEnd"),rs(tb,"onAnimationIteration"),rs(nb,"onAnimationStart"),rs("dblclick","onDoubleClick"),rs("focusin","onFocus"),rs("focusout","onBlur"),rs(YR,"onTransitionRun"),rs(QR,"onTransitionStart"),rs(WR,"onTransitionCancel"),rs(ib,"onTransitionEnd"),bt("onMouseEnter",["mouseout","mouseover"]),bt("onMouseLeave",["mouseout","mouseover"]),bt("onPointerEnter",["pointerout","pointerover"]),bt("onPointerLeave",["pointerout","pointerover"]),St("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),St("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),St("onBeforeInput",["compositionend","keypress","textInput","paste"]),St("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),St("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),St("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bc));function Ew(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],d=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var w=c.length-1;0<=w;w--){var A=c[w],U=A.instance,te=A.currentTarget;if(A=A.listener,U!==g&&d.isPropagationStopped())break e;g=A,d.currentTarget=te;try{g(d)}catch(ae){Th(ae)}d.currentTarget=null,g=U}else for(w=0;w<c.length;w++){if(A=c[w],U=A.instance,te=A.currentTarget,A=A.listener,U!==g&&d.isPropagationStopped())break e;g=A,d.currentTarget=te;try{g(d)}catch(ae){Th(ae)}d.currentTarget=null,g=U}}}}function Qe(i,r){var o=r[Nr];o===void 0&&(o=r[Nr]=new Set);var c=i+"__bubble";o.has(c)||(Sw(r,i,2,!1),o.add(c))}function Yp(i,r,o){var c=0;r&&(c|=4),Sw(o,i,c,r)}var uf="_reactListening"+Math.random().toString(36).slice(2);function Qp(i){if(!i[uf]){i[uf]=!0,Ie.forEach(function(o){o!=="selectionchange"&&(MI.has(o)||Yp(o,!1,i),Yp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[uf]||(r[uf]=!0,Yp("selectionchange",!1,r))}}function Sw(i,r,o,c){switch(ex(r)){case 2:var d=oN;break;case 8:d=lN;break;default:d=ug}o=d.bind(null,r,o,i),d=void 0,!Ba||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Wp(i,r,o,c,d){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var A=c.stateNode.containerInfo;if(A===d)break;if(w===4)for(w=c.return;w!==null;){var U=w.tag;if((U===3||U===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;A!==null;){if(w=Ji(A),w===null)return;if(U=w.tag,U===5||U===6||U===26||U===27){c=g=w;continue e}A=A.parentNode}}c=c.return}jr(function(){var te=g,ae=ki(o),le=[];e:{var ie=sb.get(i);if(ie!==void 0){var re=Ss,Te=i;switch(i){case"keypress":if(qa(o)===0)break e;case"keydown":case"keyup":re=_h;break;case"focusin":Te="focus",re=Ga;break;case"focusout":Te="blur",re=Ga;break;case"beforeblur":case"afterblur":re=Ga;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=_;break;case eb:case tb:case nb:re=dh;break;case ib:re=R;break;case"scroll":case"scrollend":re=hc;break;case"wheel":re=se;break;case"copy":case"cut":case"paste":re=mh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Xs;break;case"toggle":case"beforetoggle":re=Fe}var De=(r&4)!==0,yt=!De&&(i==="scroll"||i==="scrollend"),$=De?ie!==null?ie+"Capture":null:ie;De=[];for(var q=te,ee;q!==null;){var oe=q;if(ee=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||ee===null||$===null||(oe=ts(q,$),oe!=null&&De.push(Fc(q,oe,ee))),yt)break;q=q.return}0<De.length&&(ie=new re(ie,Te,null,o,ae),le.push({event:ie,listeners:De}))}}if((r&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",ie&&o!==lc&&(Te=o.relatedTarget||o.fromElement)&&(Ji(Te)||Te[Ci]))break e;if((re||ie)&&(ie=ae.window===ae?ae:(ie=ae.ownerDocument)?ie.defaultView||ie.parentWindow:window,re?(Te=o.relatedTarget||o.toElement,re=te,Te=Te?Ji(Te):null,Te!==null&&(yt=l(Te),De=Te.tag,Te!==yt||De!==5&&De!==27&&De!==6)&&(Te=null)):(re=null,Te=te),re!==Te)){if(De=fc,oe="onMouseLeave",$="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(De=Xs,oe="onPointerLeave",$="onPointerEnter",q="pointer"),yt=re==null?ie:Sn(re),ee=Te==null?ie:Sn(Te),ie=new De(oe,q+"leave",re,o,ae),ie.target=yt,ie.relatedTarget=ee,oe=null,Ji(ae)===te&&(De=new De($,q+"enter",Te,o,ae),De.target=ee,De.relatedTarget=yt,oe=De),yt=oe,re&&Te)t:{for(De=VI,$=re,q=Te,ee=0,oe=$;oe;oe=De(oe))ee++;oe=0;for(var ke=q;ke;ke=De(ke))oe++;for(;0<ee-oe;)$=De($),ee--;for(;0<oe-ee;)q=De(q),oe--;for(;ee--;){if($===q||q!==null&&$===q.alternate){De=$;break t}$=De($),q=De(q)}De=null}else De=null;re!==null&&Aw(le,ie,re,De,!1),Te!==null&&yt!==null&&Aw(le,yt,Te,De,!0)}}e:{if(ie=te?Sn(te):window,re=ie.nodeName&&ie.nodeName.toLowerCase(),re==="select"||re==="input"&&ie.type==="file")var rt=qv;else if(Bv(ie))if(Hv)rt=GR;else{rt=qR;var Ce=FR}else re=ie.nodeName,!re||re.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?te&&Vo(te.elementType)&&(rt=qv):rt=HR;if(rt&&(rt=rt(i,te))){Fv(le,rt,o,ae);break e}Ce&&Ce(i,ie,te),i==="focusout"&&te&&ie.type==="number"&&te.memoizedProps.value!=null&&rc(ie,"number",ie.value)}switch(Ce=te?Sn(te):window,i){case"focusin":(Bv(Ce)||Ce.contentEditable==="true")&&(Fo=Ce,Sm=te,yc=null);break;case"focusout":yc=Sm=Fo=null;break;case"mousedown":Am=!0;break;case"contextmenu":case"mouseup":case"dragend":Am=!1,Zv(le,o,ae);break;case"selectionchange":if(KR)break;case"keydown":case"keyup":Zv(le,o,ae)}var He;if(lt)e:{switch(i){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Bo?$a(i,o)&&(Xe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Xe="onCompositionStart");Xe&&(Rs&&o.locale!=="ko"&&(Bo||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Bo&&(He=uc()):(Es=ae,cc="value"in Es?Es.value:Es.textContent,Bo=!0)),Ce=hf(te,Xe),0<Ce.length&&(Xe=new Cs(Xe,i,null,o,ae),le.push({event:Xe,listeners:Ce}),He?Xe.data=He:(He=zo(o),He!==null&&(Xe.data=He)))),(He=Mi?LR(i,o):UR(i,o))&&(Xe=hf(te,"onBeforeInput"),0<Xe.length&&(Ce=new Cs("onBeforeInput","beforeinput",null,o,ae),le.push({event:Ce,listeners:Xe}),Ce.data=He)),NI(le,i,te,o,ae)}Ew(le,r)})}function Fc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function hf(i,r){for(var o=r+"Capture",c=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=ts(i,o),d!=null&&c.unshift(Fc(i,d,g)),d=ts(i,r),d!=null&&c.push(Fc(i,d,g))),i.tag===3)return c;i=i.return}return[]}function VI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Aw(i,r,o,c,d){for(var g=r._reactName,w=[];o!==null&&o!==c;){var A=o,U=A.alternate,te=A.stateNode;if(A=A.tag,U!==null&&U===c)break;A!==5&&A!==26&&A!==27||te===null||(U=te,d?(te=ts(o,g),te!=null&&w.unshift(Fc(o,te,U))):d||(te=ts(o,g),te!=null&&w.push(Fc(o,te,U)))),o=o.return}w.length!==0&&i.push({event:r,listeners:w})}var PI=/\r\n?/g,OI=/\u0000|\uFFFD/g;function Cw(i){return(typeof i=="string"?i:""+i).replace(PI,`
`).replace(OI,"")}function Rw(i,r){return r=Cw(r),Cw(i)===r}function gt(i,r,o,c,d,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Jn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Jn(i,""+c);break;case"className":di(i,"class",c);break;case"tabIndex":di(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":di(i,o,c);break;case"style":oc(i,c,g);break;case"data":if(r!=="object"){di(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Po(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&gt(i,r,"name",d.name,d,null),gt(i,r,"formEncType",d.formEncType,d,null),gt(i,r,"formMethod",d.formMethod,d,null),gt(i,r,"formTarget",d.formTarget,d,null)):(gt(i,r,"encType",d.encType,d,null),gt(i,r,"method",d.method,d,null),gt(i,r,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Po(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=es);break;case"onScroll":c!=null&&Qe("scroll",i);break;case"onScrollEnd":c!=null&&Qe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Po(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Qe("beforetoggle",i),Qe("toggle",i),kr(i,"popover",c);break;case"xlinkActuate":Zt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Zt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Zt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Zt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Zt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Zt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":kr(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=uh.get(o)||o,kr(i,o,c))}}function Xp(i,r,o,c,d,g){switch(o){case"style":oc(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Jn(i,c):(typeof c=="number"||typeof c=="bigint")&&Jn(i,""+c);break;case"onScroll":c!=null&&Qe("scroll",i);break;case"onScrollEnd":c!=null&&Qe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=es);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Et.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[zt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,d);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):kr(i,o,c)}}}function kn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",i),Qe("load",i);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:gt(i,r,g,w,o,null)}}d&&gt(i,r,"srcSet",o.srcSet,o,null),c&&gt(i,r,"src",o.src,o,null);return;case"input":Qe("invalid",i);var A=g=w=d=null,U=null,te=null;for(c in o)if(o.hasOwnProperty(c)){var ae=o[c];if(ae!=null)switch(c){case"name":d=ae;break;case"type":w=ae;break;case"checked":U=ae;break;case"defaultChecked":te=ae;break;case"value":g=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,r));break;default:gt(i,r,c,ae,o,null)}}oh(i,g,A,U,te,w,d,!1);return;case"select":Qe("invalid",i),c=w=g=null;for(d in o)if(o.hasOwnProperty(d)&&(A=o[d],A!=null))switch(d){case"value":g=A;break;case"defaultValue":w=A;break;case"multiple":c=A;default:gt(i,r,d,A,o,null)}r=g,o=w,i.multiple=!!c,r!=null?Mr(i,!!c,r,!1):o!=null&&Mr(i,!!c,o,!0);return;case"textarea":Qe("invalid",i),g=d=c=null;for(w in o)if(o.hasOwnProperty(w)&&(A=o[w],A!=null))switch(w){case"value":c=A;break;case"defaultValue":d=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:gt(i,r,w,A,o,null)}Vr(i,c,d,g);return;case"option":for(U in o)o.hasOwnProperty(U)&&(c=o[U],c!=null)&&(U==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":gt(i,r,U,c,o,null));return;case"dialog":Qe("beforetoggle",i),Qe("toggle",i),Qe("cancel",i),Qe("close",i);break;case"iframe":case"object":Qe("load",i);break;case"video":case"audio":for(c=0;c<Bc.length;c++)Qe(Bc[c],i);break;case"image":Qe("error",i),Qe("load",i);break;case"details":Qe("toggle",i);break;case"embed":case"source":case"link":Qe("error",i),Qe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in o)if(o.hasOwnProperty(te)&&(c=o[te],c!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:gt(i,r,te,c,o,null)}return;default:if(Vo(r)){for(ae in o)o.hasOwnProperty(ae)&&(c=o[ae],c!==void 0&&Xp(i,r,ae,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&gt(i,r,A,c,o,null))}function jI(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,w=null,A=null,U=null,te=null,ae=null;for(re in o){var le=o[re];if(o.hasOwnProperty(re)&&le!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":U=le;default:c.hasOwnProperty(re)||gt(i,r,re,null,c,le)}}for(var ie in c){var re=c[ie];if(le=o[ie],c.hasOwnProperty(ie)&&(re!=null||le!=null))switch(ie){case"type":g=re;break;case"name":d=re;break;case"checked":te=re;break;case"defaultChecked":ae=re;break;case"value":w=re;break;case"defaultValue":A=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,r));break;default:re!==le&&gt(i,r,ie,re,c,le)}}Mo(i,w,A,U,te,ae,g,d);return;case"select":re=w=A=ie=null;for(g in o)if(U=o[g],o.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":re=U;default:c.hasOwnProperty(g)||gt(i,r,g,null,c,U)}for(d in c)if(g=c[d],U=o[d],c.hasOwnProperty(d)&&(g!=null||U!=null))switch(d){case"value":ie=g;break;case"defaultValue":A=g;break;case"multiple":w=g;default:g!==U&&gt(i,r,d,g,c,U)}r=A,o=w,c=re,ie!=null?Mr(i,!!o,ie,!1):!!c!=!!o&&(r!=null?Mr(i,!!o,r,!0):Mr(i,!!o,o?[]:"",!1));return;case"textarea":re=ie=null;for(A in o)if(d=o[A],o.hasOwnProperty(A)&&d!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:gt(i,r,A,null,c,d)}for(w in c)if(d=c[w],g=o[w],c.hasOwnProperty(w)&&(d!=null||g!=null))switch(w){case"value":ie=d;break;case"defaultValue":re=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&gt(i,r,w,d,c,g)}lh(i,ie,re);return;case"option":for(var Te in o)ie=o[Te],o.hasOwnProperty(Te)&&ie!=null&&!c.hasOwnProperty(Te)&&(Te==="selected"?i.selected=!1:gt(i,r,Te,null,c,ie));for(U in c)ie=c[U],re=o[U],c.hasOwnProperty(U)&&ie!==re&&(ie!=null||re!=null)&&(U==="selected"?i.selected=ie&&typeof ie!="function"&&typeof ie!="symbol":gt(i,r,U,ie,c,re));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in o)ie=o[De],o.hasOwnProperty(De)&&ie!=null&&!c.hasOwnProperty(De)&&gt(i,r,De,null,c,ie);for(te in c)if(ie=c[te],re=o[te],c.hasOwnProperty(te)&&ie!==re&&(ie!=null||re!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:gt(i,r,te,ie,c,re)}return;default:if(Vo(r)){for(var yt in o)ie=o[yt],o.hasOwnProperty(yt)&&ie!==void 0&&!c.hasOwnProperty(yt)&&Xp(i,r,yt,void 0,c,ie);for(ae in c)ie=c[ae],re=o[ae],!c.hasOwnProperty(ae)||ie===re||ie===void 0&&re===void 0||Xp(i,r,ae,ie,c,re);return}}for(var $ in o)ie=o[$],o.hasOwnProperty($)&&ie!=null&&!c.hasOwnProperty($)&&gt(i,r,$,null,c,ie);for(le in c)ie=c[le],re=o[le],!c.hasOwnProperty(le)||ie===re||ie==null&&re==null||gt(i,r,le,ie,c,re)}function Iw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],g=d.transferSize,w=d.initiatorType,A=d.duration;if(g&&A&&Iw(w)){for(w=0,A=d.responseEnd,c+=1;c<o.length;c++){var U=o[c],te=U.startTime;if(te>A)break;var ae=U.transferSize,le=U.initiatorType;ae&&Iw(le)&&(U=U.responseEnd,w+=ae*(U<A?1:(A-te)/(U-te)))}if(--c,r+=8*(g+w)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Zp=null,Jp=null;function ff(i){return i.nodeType===9?i:i.ownerDocument}function Nw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kw(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function eg(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var tg=null;function UI(){var i=window.event;return i&&i.type==="popstate"?i===tg?!1:(tg=i,!0):(tg=null,!1)}var Dw=typeof setTimeout=="function"?setTimeout:void 0,zI=typeof clearTimeout=="function"?clearTimeout:void 0,Mw=typeof Promise=="function"?Promise:void 0,BI=typeof queueMicrotask=="function"?queueMicrotask:typeof Mw<"u"?function(i){return Mw.resolve(null).then(i).catch(FI)}:Dw;function FI(i){setTimeout(function(){throw i})}function ia(i){return i==="head"}function Vw(i,r){var o=r,c=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(d),pl(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")qc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,qc(o);for(var g=o.firstChild;g;){var w=g.nextSibling,A=g.nodeName;g[Ri]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=w}}else o==="body"&&qc(i.ownerDocument.body);o=d}while(o);pl(r)}function Pw(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function ng(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ng(o),fi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function qI(i,r,o,c){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ri])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=zi(i.nextSibling),i===null)break}return null}function HI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=zi(i.nextSibling),i===null))return null;return i}function Ow(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=zi(i.nextSibling),i===null))return null;return i}function ig(i){return i.data==="$?"||i.data==="$~"}function sg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function GI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function zi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var rg=null;function jw(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return zi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Lw(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function Uw(i,r,o){switch(r=ff(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function qc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);fi(i)}var Bi=new Map,zw=new Set;function df(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var fr=X.d;X.d={f:$I,r:KI,D:YI,C:QI,L:WI,m:XI,X:JI,S:ZI,M:eN};function $I(){var i=fr.f(),r=sf();return i||r}function KI(i){var r=Hn(i);r!==null&&r.tag===5&&r.type==="form"?i_(r):fr.r(i)}var fl=typeof document>"u"?null:document;function Bw(i,r,o){var c=fl;if(c&&typeof r=="string"&&r){var d=Zn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),zw.has(d)||(zw.add(d),i={rel:i,crossOrigin:o,href:r},c.querySelector(d)===null&&(r=c.createElement("link"),kn(r,"link",i),F(r),c.head.appendChild(r)))}}function YI(i){fr.D(i),Bw("dns-prefetch",i,null)}function QI(i,r){fr.C(i,r),Bw("preconnect",i,r)}function WI(i,r,o){fr.L(i,r,o);var c=fl;if(c&&i&&r){var d='link[rel="preload"][as="'+Zn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Zn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Zn(o.imageSizes)+'"]')):d+='[href="'+Zn(i)+'"]';var g=d;switch(r){case"style":g=dl(i);break;case"script":g=ml(i)}Bi.has(g)||(i=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Bi.set(g,i),c.querySelector(d)!==null||r==="style"&&c.querySelector(Hc(g))||r==="script"&&c.querySelector(Gc(g))||(r=c.createElement("link"),kn(r,"link",i),F(r),c.head.appendChild(r)))}}function XI(i,r){fr.m(i,r);var o=fl;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Zn(c)+'"][href="'+Zn(i)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ml(i)}if(!Bi.has(g)&&(i=b({rel:"modulepreload",href:i},r),Bi.set(g,i),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Gc(g)))return}c=o.createElement("link"),kn(c,"link",i),F(c),o.head.appendChild(c)}}}function ZI(i,r,o){fr.S(i,r,o);var c=fl;if(c&&i){var d=Ii(c).hoistableStyles,g=dl(i);r=r||"default";var w=d.get(g);if(!w){var A={loading:0,preload:null};if(w=c.querySelector(Hc(g)))A.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Bi.get(g))&&ag(i,o);var U=w=c.createElement("link");F(U),kn(U,"link",i),U._p=new Promise(function(te,ae){U.onload=te,U.onerror=ae}),U.addEventListener("load",function(){A.loading|=1}),U.addEventListener("error",function(){A.loading|=2}),A.loading|=4,mf(w,r,c)}w={type:"stylesheet",instance:w,count:1,state:A},d.set(g,w)}}}function JI(i,r){fr.X(i,r);var o=fl;if(o&&i){var c=Ii(o).hoistableScripts,d=ml(i),g=c.get(d);g||(g=o.querySelector(Gc(d)),g||(i=b({src:i,async:!0},r),(r=Bi.get(d))&&og(i,r),g=o.createElement("script"),F(g),kn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function eN(i,r){fr.M(i,r);var o=fl;if(o&&i){var c=Ii(o).hoistableScripts,d=ml(i),g=c.get(d);g||(g=o.querySelector(Gc(d)),g||(i=b({src:i,async:!0,type:"module"},r),(r=Bi.get(d))&&og(i,r),g=o.createElement("script"),F(g),kn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function Fw(i,r,o,c){var d=(d=ge.current)?df(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=dl(o.href),o=Ii(d).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=dl(o.href);var g=Ii(d).hoistableStyles,w=g.get(i);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,w),(g=d.querySelector(Hc(i)))&&!g._p&&(w.instance=g,w.state.loading=5),Bi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Bi.set(i,o),g||tN(d,i,o,w.state))),r&&c===null)throw Error(s(528,""));return w}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ml(o),o=Ii(d).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function dl(i){return'href="'+Zn(i)+'"'}function Hc(i){return'link[rel="stylesheet"]['+i+"]"}function qw(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function tN(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),kn(r,"link",o),F(r),i.head.appendChild(r))}function ml(i){return'[src="'+Zn(i)+'"]'}function Gc(i){return"script[async]"+i}function Hw(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Zn(o.href)+'"]');if(c)return r.instance=c,F(c),c;var d=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),F(c),kn(c,"style",d),mf(c,o.precedence,i),r.instance=c;case"stylesheet":d=dl(o.href);var g=i.querySelector(Hc(d));if(g)return r.state.loading|=4,r.instance=g,F(g),g;c=qw(o),(d=Bi.get(d))&&ag(c,d),g=(i.ownerDocument||i).createElement("link"),F(g);var w=g;return w._p=new Promise(function(A,U){w.onload=A,w.onerror=U}),kn(g,"link",c),r.state.loading|=4,mf(g,o.precedence,i),r.instance=g;case"script":return g=ml(o.src),(d=i.querySelector(Gc(g)))?(r.instance=d,F(d),d):(c=o,(d=Bi.get(g))&&(c=b({},o),og(c,d)),i=i.ownerDocument||i,d=i.createElement("script"),F(d),kn(d,"link",c),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,mf(c,o.precedence,i));return r.instance}function mf(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,w=0;w<c.length;w++){var A=c[w];if(A.dataset.precedence===r)g=A;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function ag(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function og(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var pf=null;function Gw(i,r,o){if(pf===null){var c=new Map,d=pf=new Map;d.set(o,c)}else d=pf,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Ri]||g[It]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(r)||"";w=i+w;var A=c.get(w);A?A.push(g):c.set(w,[g])}}return c}function $w(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function nN(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Kw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function iN(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=dl(c.href),g=r.querySelector(Hc(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=gf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,F(g);return}g=r.ownerDocument||r,c=qw(c),(d=Bi.get(d))&&ag(c,d),g=g.createElement("link"),F(g);var w=g;w._p=new Promise(function(A,U){w.onload=A,w.onerror=U}),kn(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=gf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var lg=0;function sN(i,r){return i.stylesheets&&i.count===0&&vf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&vf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&lg===0&&(lg=62500*LI());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&vf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>lg?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function gf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var yf=null;function vf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,yf=new Map,r.forEach(rN,i),yf=null,gf.call(i))}function rN(i,r){if(!(r.state.loading&4)){var o=yf.get(i);if(o)var c=o.get(null);else{o=new Map,yf.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var w=d[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}d=r.instance,w=d.getAttribute("data-precedence"),g=o.get(w)||c,g===c&&o.set(null,d),o.set(w,d),this.count++,c=gf.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var $c={$$typeof:Y,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function aN(i,r,o,c,d,g,w,A,U){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.hiddenUpdates=xt(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Yw(i,r,o,c,d,g,w,A,U,te,ae,le){return i=new aN(i,r,o,w,U,te,ae,le,A),r=1,g===!0&&(r|=24),g=pi(3,null,null,r),i.current=g,g.stateNode=i,r=Bm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},Gm(g),i}function Qw(i){return i?(i=Go,i):Go}function Ww(i,r,o,c,d,g){d=Qw(d),c.context===null?c.context=d:c.pendingContext=d,c=$r(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Kr(i,c,r),o!==null&&(si(o,i,r),Ec(o,i,r))}function Xw(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function cg(i,r){Xw(i,r),(i=i.alternate)&&Xw(i,r)}function Zw(i){if(i.tag===13||i.tag===31){var r=Qa(i,67108864);r!==null&&si(r,i,67108864),cg(i,67108864)}}function Jw(i){if(i.tag===13||i.tag===31){var r=_i();r=ws(r);var o=Qa(i,r);o!==null&&si(o,i,r),cg(i,r)}}var bf=!0;function oN(i,r,o,c){var d=J.T;J.T=null;var g=X.p;try{X.p=2,ug(i,r,o,c)}finally{X.p=g,J.T=d}}function lN(i,r,o,c){var d=J.T;J.T=null;var g=X.p;try{X.p=8,ug(i,r,o,c)}finally{X.p=g,J.T=d}}function ug(i,r,o,c){if(bf){var d=hg(c);if(d===null)Wp(i,r,c,_f,o),tx(i,c);else if(uN(d,i,r,o,c))c.stopPropagation();else if(tx(i,c),r&4&&-1<cN.indexOf(i)){for(;d!==null;){var g=Hn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=pn(g.pendingLanes);if(w!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var U=1<<31-Pt(w);A.entanglements[1]|=U,w&=~U}Ds(g),(ct&6)===0&&(tf=Ut()+500,zc(0))}}break;case 31:case 13:A=Qa(g,2),A!==null&&si(A,g,2),sf(),cg(g,2)}if(g=hg(c),g===null&&Wp(i,r,c,_f,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else Wp(i,r,c,null,o)}}function hg(i){return i=ki(i),fg(i)}var _f=null;function fg(i){if(_f=null,i=Ji(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return _f=i,null}function ex(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oi()){case Ei:return 2;case ys:return 8;case Si:case Ys:return 32;case wn:return 268435456;default:return 32}default:return 32}}var dg=!1,sa=null,ra=null,aa=null,Kc=new Map,Yc=new Map,oa=[],cN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tx(i,r){switch(i){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":Kc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yc.delete(r.pointerId)}}function Qc(i,r,o,c,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},r!==null&&(r=Hn(r),r!==null&&Zw(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function uN(i,r,o,c,d){switch(r){case"focusin":return sa=Qc(sa,i,r,o,c,d),!0;case"dragenter":return ra=Qc(ra,i,r,o,c,d),!0;case"mouseover":return aa=Qc(aa,i,r,o,c,d),!0;case"pointerover":var g=d.pointerId;return Kc.set(g,Qc(Kc.get(g)||null,i,r,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,Yc.set(g,Qc(Yc.get(g)||null,i,r,o,c,d)),!0}return!1}function nx(i){var r=Ji(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,hi(i.priority,function(){Jw(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,hi(i.priority,function(){Jw(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function wf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=hg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);lc=c,o.target.dispatchEvent(c),lc=null}else return r=Hn(o),r!==null&&Zw(r),i.blockedOn=o,!1;r.shift()}return!0}function ix(i,r,o){wf(i)&&o.delete(r)}function hN(){dg=!1,sa!==null&&wf(sa)&&(sa=null),ra!==null&&wf(ra)&&(ra=null),aa!==null&&wf(aa)&&(aa=null),Kc.forEach(ix),Yc.forEach(ix)}function xf(i,r){i.blockedOn===r&&(i.blockedOn=null,dg||(dg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,hN)))}var Tf=null;function sx(i){Tf!==i&&(Tf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Tf===i&&(Tf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],d=i[r+2];if(typeof c!="function"){if(fg(c||o)===null)continue;break}var g=Hn(o);g!==null&&(i.splice(r,3),r-=3,hp(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function pl(i){function r(U){return xf(U,i)}sa!==null&&xf(sa,i),ra!==null&&xf(ra,i),aa!==null&&xf(aa,i),Kc.forEach(r),Yc.forEach(r);for(var o=0;o<oa.length;o++){var c=oa[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<oa.length&&(o=oa[0],o.blockedOn===null);)nx(o),o.blockedOn===null&&oa.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],w=d[zt]||null;if(typeof g=="function")w||sx(o);else if(w){var A=null;if(g&&g.hasAttribute("formAction")){if(d=g,w=g[zt]||null)A=w.formAction;else if(fg(d)!==null)continue}else A=w.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),sx(o)}}}function rx(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(w){return d=w})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function mg(i){this._internalRoot=i}Ef.prototype.render=mg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=_i();Ww(o,c,i,r,null,null)},Ef.prototype.unmount=mg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Ww(i.current,2,null,i,null,null),sf(),r[Ci]=null}};function Ef(i){this._internalRoot=i}Ef.prototype.unstable_scheduleHydration=function(i){if(i){var r=Oa();i={blockedOn:null,target:i,priority:r};for(var o=0;o<oa.length&&r!==0&&r<oa[o].priority;o++);oa.splice(o,0,i),o===0&&nx(i)}};var ax=e.version;if(ax!=="19.2.3")throw Error(s(527,ax,"19.2.3"));X.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var fN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sf.isDisabled&&Sf.supportsFiber)try{Fn=Sf.inject(fN),cn=Sf}catch{}}return Xc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",d=d_,g=m_,w=p_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=Yw(i,1,!1,null,null,o,c,null,d,g,w,rx),i[Ci]=r.current,Qp(i),new mg(r)},Xc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,d="",g=d_,w=m_,A=p_,U=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),r=Yw(i,1,!0,r,o??null,c,d,U,g,w,A,rx),r.context=Qw(null),o=r.current,c=_i(),c=ws(c),d=$r(c),d.callback=null,Kr(o,d,c),o=c,r.current.lanes=o,ci(r,o),Ds(r),i[Ci]=r.current,Qp(i),new Ef(r)},Xc.version="19.2.3",Xc}var gx;function TN(){if(gx)return yg.exports;gx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yg.exports=xN(),yg.exports}var EN=TN();var yx="popstate";function SN(t={}){function e(s,a){let{pathname:l,search:u,hash:f}=s.location;return ry("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Tu(a)}return CN(e,n,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AN(){return Math.random().toString(36).substring(2,10)}function vx(t,e){return{usr:t.state,key:t.key,idx:e}}function ry(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Fl(e):e,state:n,key:e&&e.key||s||AN()}}function Tu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function CN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,f="POP",m=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function b(){f="POP";let N=y(),H=N==null?null:N-p;p=N,m&&m({action:f,location:j.location,delta:H})}function x(N,H){f="PUSH";let W=ry(j.location,N,H);p=y()+1;let Y=vx(W,p),me=j.createHref(W);try{u.pushState(Y,"",me)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;a.location.assign(me)}l&&m&&m({action:f,location:j.location,delta:1})}function C(N,H){f="REPLACE";let W=ry(j.location,N,H);p=y();let Y=vx(W,p),me=j.createHref(W);u.replaceState(Y,"",me),l&&m&&m({action:f,location:j.location,delta:0})}function V(N){return RN(N)}let j={get action(){return f},get location(){return t(a,u)},listen(N){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(yx,b),m=N,()=>{a.removeEventListener(yx,b),m=null}},createHref(N){return e(a,N)},createURL:V,encodeLocation(N){let H=V(N);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:x,replace:C,go(N){return u.go(N)}};return j}function RN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Tu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function PE(t,e,n="/"){return IN(t,e,n,!1)}function IN(t,e,n,s){let a=typeof e=="string"?Fl(e):e,l=xr(a.pathname||"/",n);if(l==null)return null;let u=OE(t);NN(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=BN(l);f=UN(u[m],p,s)}return f}function OE(t,e=[],n=[],s="",a=!1){let l=(u,f,m=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;Dt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let b=vr([s,y.relativePath]),x=n.concat(y);u.children&&u.children.length>0&&(Dt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),OE(u.children,e,x,b,m)),!(u.path==null&&!u.index)&&e.push({path:b,score:jN(b,u.index),routesMeta:x})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let m of jE(u.path))l(u,f,!0,m)}),e}function jE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=jE(s.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...u),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function NN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:LN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var kN=/^:[\w-]+$/,DN=3,MN=2,VN=1,PN=10,ON=-2,bx=t=>t==="*";function jN(t,e){let n=t.split("/"),s=n.length;return n.some(bx)&&(s+=ON),e&&(s+=MN),n.filter(a=>!bx(a)).reduce((a,l)=>a+(kN.test(l)?DN:l===""?VN:PN),s)}function LN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function UN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",b=ad({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),x=m.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=ad({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:vr([l,b.pathname]),pathnameBase:GN(vr([l,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(l=vr([l,b.pathnameBase]))}return u}function ad(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=zN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:b},x)=>{if(y==="*"){let V=f[x]||"";u=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const C=f[x];return b&&!C?p[y]=void 0:p[y]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function zN(t,e=!1,n=!0){Qi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function BN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function xr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var LE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FN=t=>LE.test(t);function qN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Fl(t):t,l;if(n)if(FN(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Qi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=_x(n.substring(1),"/"):l=_x(n,e)}else l=e;return{pathname:l,search:$N(s),hash:KN(a)}}function _x(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function wg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function s0(t){let e=HN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function r0(t,e,n,s=!1){let a;typeof t=="string"?a=Fl(t):(a={...t},Dt(!a.pathname||!a.pathname.includes("?"),wg("?","pathname","search",a)),Dt(!a.pathname||!a.pathname.includes("#"),wg("#","pathname","hash",a)),Dt(!a.search||!a.search.includes("#"),wg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let b=e.length-1;if(!s&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),b-=1;a.pathname=x.join("/")}f=b>=0?e[b]:"/"}let m=qN(a,f),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var vr=t=>t.join("/").replace(/\/\/+/g,"/"),GN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$N=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,KN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,YN=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function QN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function WN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var UE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function zE(t,e){let n=t;if(typeof n!="string"||!LE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(UE)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=xr(u.pathname,e);u.origin===l.origin&&f!=null?n=f+u.search+u.hash:a=!0}catch{Qi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BE=["POST","PUT","PATCH","DELETE"];new Set(BE);var XN=["GET",...BE];new Set(XN);var ql=I.createContext(null);ql.displayName="DataRouter";var Gd=I.createContext(null);Gd.displayName="DataRouterState";var ZN=I.createContext(!1),FE=I.createContext({isTransitioning:!1});FE.displayName="ViewTransition";var JN=I.createContext(new Map);JN.displayName="Fetchers";var ek=I.createContext(null);ek.displayName="Await";var Ti=I.createContext(null);Ti.displayName="Navigation";var Ou=I.createContext(null);Ou.displayName="Location";var gs=I.createContext({outlet:null,matches:[],isDataRoute:!1});gs.displayName="Route";var a0=I.createContext(null);a0.displayName="RouteError";var qE="REACT_ROUTER_ERROR",tk="REDIRECT",nk="ROUTE_ERROR_RESPONSE";function ik(t){if(t.startsWith(`${qE}:${tk}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function sk(t){if(t.startsWith(`${qE}:${nk}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new YN(e.status,e.statusText,e.data)}catch{}}function rk(t,{relative:e}={}){Dt(Hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=I.useContext(Ti),{hash:a,pathname:l,search:u}=Lu(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:vr([n,l])),s.createHref({pathname:f,search:u,hash:a})}function Hl(){return I.useContext(Ou)!=null}function ka(){return Dt(Hl(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Ou).location}var HE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GE(t){I.useContext(Ti).static||I.useLayoutEffect(t)}function ju(){let{isDataRoute:t}=I.useContext(gs);return t?bk():ak()}function ak(){Dt(Hl(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(ql),{basename:e,navigator:n}=I.useContext(Ti),{matches:s}=I.useContext(gs),{pathname:a}=ka(),l=JSON.stringify(s0(s)),u=I.useRef(!1);return GE(()=>{u.current=!0}),I.useCallback((m,p={})=>{if(Qi(u.current,HE),!u.current)return;if(typeof m=="number"){n.go(m);return}let y=r0(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:vr([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}I.createContext(null);function ok(){let{matches:t}=I.useContext(gs),e=t[t.length-1];return e?e.params:{}}function Lu(t,{relative:e}={}){let{matches:n}=I.useContext(gs),{pathname:s}=ka(),a=JSON.stringify(s0(n));return I.useMemo(()=>r0(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function lk(t,e){return $E(t,e)}function $E(t,e,n,s,a){Dt(Hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(Ti),{matches:u}=I.useContext(gs),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",b=f&&f.route;{let W=b&&b.path||"";YE(p,!b||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let x=ka(),C;if(e){let W=typeof e=="string"?Fl(e):e;Dt(y==="/"||W.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${W.pathname}" was given in the \`location\` prop.`),C=W}else C=x;let V=C.pathname||"/",j=V;if(y!=="/"){let W=y.replace(/^\//,"").split("/");j="/"+V.replace(/^\//,"").split("/").slice(W.length).join("/")}let N=PE(t,{pathname:j});Qi(b||N!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Qi(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=dk(N&&N.map(W=>Object.assign({},W,{params:Object.assign({},m,W.params),pathname:vr([y,l.encodeLocation?l.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?y:vr([y,l.encodeLocation?l.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),u,n,s,a);return e&&H?I.createElement(Ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},H):H}function ck(){let t=vk(),e=QN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:a},n):null,u)}var uk=I.createElement(ck,null),KE=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=sk(t.digest);n&&(t=n)}let e=t!==void 0?I.createElement(gs.Provider,{value:this.props.routeContext},I.createElement(a0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?I.createElement(hk,{error:t},e):e}};KE.contextType=ZN;var xg=new WeakMap;function hk({children:t,error:e}){let{basename:n}=I.useContext(Ti);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=ik(e.digest);if(s){let a=xg.get(e);if(a)throw a;let l=zE(s.location,n);if(UE&&!xg.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw xg.set(e,u),u}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function fk({routeContext:t,match:e,children:n}){let s=I.useContext(ql);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(gs.Provider,{value:t},n)}function dk(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(b=>b.route.id&&u?.[b.route.id]!==void 0);Dt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let b=l[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=y),b.route.id){let{loaderData:x,errors:C}=n,V=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!C||C[b.route.id]===void 0);if(b.route.lazy||V){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(y,b)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:WN(n.matches),errorInfo:b})}:void 0;return l.reduceRight((y,b,x)=>{let C,V=!1,j=null,N=null;n&&(C=u&&b.route.id?u[b.route.id]:void 0,j=b.route.errorElement||uk,f&&(m<0&&x===0?(YE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,N=null):m===x&&(V=!0,N=b.route.hydrateFallbackElement||null)));let H=e.concat(l.slice(0,x+1)),W=()=>{let Y;return C?Y=j:V?Y=N:b.route.Component?Y=I.createElement(b.route.Component,null):b.route.element?Y=b.route.element:Y=y,I.createElement(fk,{match:b,routeContext:{outlet:y,matches:H,isDataRoute:n!=null},children:Y})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?I.createElement(KE,{location:n.location,revalidation:n.revalidation,component:j,error:C,children:W(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:p}):W()},null)}function o0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mk(t){let e=I.useContext(ql);return Dt(e,o0(t)),e}function pk(t){let e=I.useContext(Gd);return Dt(e,o0(t)),e}function gk(t){let e=I.useContext(gs);return Dt(e,o0(t)),e}function l0(t){let e=gk(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function yk(){return l0("useRouteId")}function vk(){let t=I.useContext(a0),e=pk("useRouteError"),n=l0("useRouteError");return t!==void 0?t:e.errors?.[n]}function bk(){let{router:t}=mk("useNavigate"),e=l0("useNavigate"),n=I.useRef(!1);return GE(()=>{n.current=!0}),I.useCallback(async(a,l={})=>{Qi(n.current,HE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var wx={};function YE(t,e,n){!e&&!wx[t]&&(wx[t]=!0,Qi(!1,n))}I.memo(_k);function _k({routes:t,future:e,state:n,onError:s}){return $E(t,void 0,n,s,e)}function xx({to:t,replace:e,state:n,relative:s}){Dt(Hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=I.useContext(Ti);Qi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=I.useContext(gs),{pathname:u}=ka(),f=ju(),m=r0(t,s0(l),u,s==="path"),p=JSON.stringify(m);return I.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function uo(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wk({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){Dt(!Hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=I.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[f,a,l,u]);typeof n=="string"&&(n=Fl(n));let{pathname:p="/",search:y="",hash:b="",state:x=null,key:C="default"}=n,V=I.useMemo(()=>{let j=xr(p,f);return j==null?null:{location:{pathname:j,search:y,hash:b,state:x,key:C},navigationType:s}},[f,p,y,b,x,C,s]);return Qi(V!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:I.createElement(Ti.Provider,{value:m},I.createElement(Ou.Provider,{children:e,value:V}))}function xk({children:t,location:e}){return lk(ay(t),e)}function ay(t,e=[]){let n=[];return I.Children.forEach(t,(s,a)=>{if(!I.isValidElement(s))return;let l=[...e,a];if(s.type===I.Fragment){n.push.apply(n,ay(s.props.children,l));return}Dt(s.type===uo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=ay(s.props.children,l)),n.push(u)}),n}var zf="get",Bf="application/x-www-form-urlencoded";function $d(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Tk(t){return $d(t)&&t.tagName.toLowerCase()==="button"}function Ek(t){return $d(t)&&t.tagName.toLowerCase()==="form"}function Sk(t){return $d(t)&&t.tagName.toLowerCase()==="input"}function Ak(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ck(t,e){return t.button===0&&(!e||e==="_self")&&!Ak(t)}var Af=null;function Rk(){if(Af===null)try{new FormData(document.createElement("form"),0),Af=!1}catch{Af=!0}return Af}var Ik=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tg(t){return t!=null&&!Ik.has(t)?(Qi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bf}"`),null):t}function Nk(t,e){let n,s,a,l,u;if(Ek(t)){let f=t.getAttribute("action");s=f?xr(f,e):null,n=t.getAttribute("method")||zf,a=Tg(t.getAttribute("enctype"))||Bf,l=new FormData(t)}else if(Tk(t)||Sk(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?xr(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||zf,a=Tg(t.getAttribute("formenctype"))||Tg(f.getAttribute("enctype"))||Bf,l=new FormData(f,t),!Rk()){let{name:p,type:y,value:b}=t;if(y==="image"){let x=p?`${p}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else p&&l.append(p,b)}}else{if($d(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zf,s=null,a=Bf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function c0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kk(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&xr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function Dk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Mk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Vk(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await Dk(l,n);return u.links?u.links():[]}return[]}));return Lk(s.flat(1).filter(Mk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Tx(t,e,n,s,a,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>u(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(u(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Pk(t,e,{includeHydrateFallback:n}={}){return Ok(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Ok(t){return[...new Set(t)]}function jk(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function Lk(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(jk(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function QE(){let t=I.useContext(ql);return c0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Uk(){let t=I.useContext(Gd);return c0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var u0=I.createContext(void 0);u0.displayName="FrameworkContext";function WE(){let t=I.useContext(u0);return c0(t,"You must render this element inside a <HydratedRouter> element"),t}function zk(t,e){let n=I.useContext(u0),[s,a]=I.useState(!1),[l,u]=I.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:b}=e,x=I.useRef(null);I.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let j=H=>{H.forEach(W=>{u(W.isIntersecting)})},N=new IntersectionObserver(j,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[t]),I.useEffect(()=>{if(s){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[s]);let C=()=>{a(!0)},V=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:Zc(f,C),onBlur:Zc(m,V),onMouseEnter:Zc(p,C),onMouseLeave:Zc(y,V),onTouchStart:Zc(b,C)}]:[!1,x,{}]}function Zc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Bk({page:t,...e}){let{router:n}=QE(),s=I.useMemo(()=>PE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?I.createElement(qk,{page:t,matches:s,...e}):null}function Fk(t){let{manifest:e,routeModules:n}=WE(),[s,a]=I.useState([]);return I.useEffect(()=>{let l=!1;return Vk(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function qk({page:t,matches:e,...n}){let s=ka(),{future:a,manifest:l,routeModules:u}=WE(),{basename:f}=QE(),{loaderData:m,matches:p}=Uk(),y=I.useMemo(()=>Tx(t,e,p,l,s,"data"),[t,e,p,l,s]),b=I.useMemo(()=>Tx(t,e,p,l,s,"assets"),[t,e,p,l,s]),x=I.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let j=new Set,N=!1;if(e.forEach(W=>{let Y=l.routes[W.route.id];!Y||!Y.hasLoader||(!y.some(me=>me.route.id===W.route.id)&&W.route.id in m&&u[W.route.id]?.shouldRevalidate||Y.hasClientLoader?N=!0:j.add(W.route.id))}),j.size===0)return[];let H=kk(t,f,a.unstable_trailingSlashAwareDataRequests,"data");return N&&j.size>0&&H.searchParams.set("_routes",e.filter(W=>j.has(W.route.id)).map(W=>W.route.id).join(",")),[H.pathname+H.search]},[f,a.unstable_trailingSlashAwareDataRequests,m,s,l,y,e,t,u]),C=I.useMemo(()=>Pk(b,l),[b,l]),V=Fk(b);return I.createElement(I.Fragment,null,x.map(j=>I.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),C.map(j=>I.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),V.map(({key:j,link:N})=>I.createElement("link",{key:j,nonce:n.nonce,...N})))}function Hk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Gk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gk&&(window.__reactRouterVersion="7.12.0")}catch{}function $k({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=I.useRef();a.current==null&&(a.current=SN({window:s,v5Compat:!0}));let l=a.current,[u,f]=I.useState({action:l.action,location:l.location}),m=I.useCallback(p=>{n===!1?f(p):I.startTransition(()=>f(p))},[n]);return I.useLayoutEffect(()=>l.listen(m),[l,m]),I.createElement(wk,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var XE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZE=I.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:f,target:m,to:p,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:x,...C},V){let{basename:j,unstable_useTransitions:N}=I.useContext(Ti),H=typeof p=="string"&&XE.test(p),W=zE(p,j);p=W.to;let Y=rk(p,{relative:a}),[me,ue,fe]=zk(s,C),k=Wk(p,{replace:u,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:N});function S(z){e&&e(z),z.defaultPrevented||k(z)}let M=I.createElement("a",{...C,...fe,href:W.absoluteURL||Y,onClick:W.isExternal||l?e:S,ref:Hk(V,ue),target:m,"data-discover":!H&&n==="render"?"true":void 0});return me&&!H?I.createElement(I.Fragment,null,M,I.createElement(Bk,{page:Y})):M});ZE.displayName="Link";var Kk=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:f,children:m,...p},y){let b=Lu(u,{relative:p.relative}),x=ka(),C=I.useContext(Gd),{navigator:V,basename:j}=I.useContext(Ti),N=C!=null&&tD(b)&&f===!0,H=V.encodeLocation?V.encodeLocation(b).pathname:b.pathname,W=x.pathname,Y=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(W=W.toLowerCase(),Y=Y?Y.toLowerCase():null,H=H.toLowerCase()),Y&&j&&(Y=xr(Y,j)||Y);const me=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ue=W===H||!a&&W.startsWith(H)&&W.charAt(me)==="/",fe=Y!=null&&(Y===H||!a&&Y.startsWith(H)&&Y.charAt(H.length)==="/"),k={isActive:ue,isPending:fe,isTransitioning:N},S=ue?e:void 0,M;typeof s=="function"?M=s(k):M=[s,ue?"active":null,fe?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let z=typeof l=="function"?l(k):l;return I.createElement(ZE,{...p,"aria-current":S,className:M,ref:y,style:z,to:u,viewTransition:f},typeof m=="function"?m(k):m)});Kk.displayName="NavLink";var Yk=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=zf,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:x,...C},V)=>{let{unstable_useTransitions:j}=I.useContext(Ti),N=Jk(),H=eD(f,{relative:p}),W=u.toLowerCase()==="get"?"get":"post",Y=typeof f=="string"&&XE.test(f),me=ue=>{if(m&&m(ue),ue.defaultPrevented)return;ue.preventDefault();let fe=ue.nativeEvent.submitter,k=fe?.getAttribute("formmethod")||u,S=()=>N(fe||ue.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:x});j&&n!==!1?I.startTransition(()=>S()):S()};return I.createElement("form",{ref:V,method:W,action:H,onSubmit:s?m:me,...C,"data-discover":!Y&&t==="render"?"true":void 0})});Yk.displayName="Form";function Qk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JE(t){let e=I.useContext(ql);return Dt(e,Qk(t)),e}function Wk(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let p=ju(),y=ka(),b=Lu(t,{relative:l});return I.useCallback(x=>{if(Ck(x,e)){x.preventDefault();let C=n!==void 0?n:Tu(y)===Tu(b),V=()=>p(t,{replace:C,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f});m?I.startTransition(()=>V()):V()}},[y,p,b,n,s,e,t,a,l,u,f,m])}var Xk=0,Zk=()=>`__${String(++Xk)}__`;function Jk(){let{router:t}=JE("useSubmit"),{basename:e}=I.useContext(Ti),n=yk(),s=t.fetch,a=t.navigate;return I.useCallback(async(l,u={})=>{let{action:f,method:m,encType:p,formData:y,body:b}=Nk(l,e);if(u.navigate===!1){let x=u.fetcherKey||Zk();await s(x,n,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:b,formMethod:u.method||m,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:b,formMethod:u.method||m,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function eD(t,{relative:e}={}){let{basename:n}=I.useContext(Ti),s=I.useContext(gs);Dt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Lu(t||".",{relative:e})},u=ka();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(b=>b).forEach(b=>f.append("index",b));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:vr([n,l.pathname])),Tu(l)}function tD(t,{relative:e}={}){let n=I.useContext(FE);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=JE("useViewTransitionState"),a=Lu(t,{relative:e});if(!n.isTransitioning)return!1;let l=xr(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=xr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ad(a.pathname,u)!=null||ad(a.pathname,l)!=null}const nD="modulepreload",iD=function(t){return"/"+t},Ex={},oy=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let m=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");a=m(n.map(p=>{if(p=iD(p),p in Ex)return;Ex[p]=!0;const y=p.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":nD,y||(x.as="script"),x.crossOrigin="",x.href=p,f&&x.setAttribute("nonce",f),document.head.appendChild(x),y)return new Promise((C,V)=>{x.addEventListener("load",C),x.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})},sD=()=>{};var Sx={};const eS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},rD=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},tS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,b=(l&3)<<4|f>>4;let x=(f&15)<<2|p>>6,C=p&63;m||(C=64,u||(x=64)),s.push(n[y],n[b],n[x],n[C])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||b==null)throw new aD;const x=l<<2|f>>4;if(s.push(x),p!==64){const C=f<<4&240|p>>2;if(s.push(C),b!==64){const V=p<<6&192|b;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oD=function(t){const e=eS(t);return tS.encodeByteArray(e,!0)},od=function(t){return oD(t).replace(/\./g,"")},nS=function(t){try{return tS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const cD=()=>lD().__FIREBASE_DEFAULTS__,uD=()=>{if(typeof process>"u"||typeof Sx>"u")return;const t=Sx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nS(t[1]);return e&&JSON.parse(e)},Kd=()=>{try{return sD()||cD()||uD()||hD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iS=t=>Kd()?.emulatorHosts?.[t],sS=t=>{const e=iS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},rS=()=>Kd()?.config,aS=t=>Kd()?.[`_${t}`];class fD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ao(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function h0(t){return(await fetch(t,{credentials:"include"})).ok}function oS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[od(JSON.stringify(n)),od(JSON.stringify(u)),""].join(".")}const uu={};function dD(){const t={prod:[],emulator:[]};for(const e of Object.keys(uu))uu[e]?t.emulator.push(e):t.prod.push(e);return t}function mD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ax=!1;function f0(t,e){if(typeof window>"u"||typeof document>"u"||!Ao(window.location.host)||uu[t]===e||uu[t]||Ax)return;uu[t]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",l=dD().prod.length>0;function u(){const x=document.getElementById(s);x&&x.remove()}function f(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function m(x,C){x.setAttribute("width","24"),x.setAttribute("id",C),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Ax=!0,u()},x}function y(x,C){x.setAttribute("id",C),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=mD(s),C=n("text"),V=document.getElementById(C)||document.createElement("span"),j=n("learnmore"),N=document.getElementById(j)||document.createElement("a"),H=n("preprendIcon"),W=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const Y=x.element;f(Y),y(N,j);const me=p();m(W,H),Y.append(W,V,N,me),document.body.appendChild(Y)}l?(V.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function gD(){const t=Kd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _D(){const t=Bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wD(){return!gD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xD(){try{return typeof indexedDB=="object"}catch{return!1}}function TD(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const ED="FirebaseError";class Gs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ED,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uu.prototype.create)}}class Uu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?SD(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Gs(a,f,s)}}function SD(t,e){return t.replace(AD,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const AD=/\{\$([^}]+)}/g;function CD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _o(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(Cx(l)&&Cx(u)){if(!_o(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Cx(t){return t!==null&&typeof t=="object"}function zu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function RD(t,e){const n=new ID(t,e);return n.subscribe.bind(n)}class ID{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");ND(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Eg),a.error===void 0&&(a.error=Eg),a.complete===void 0&&(a.complete=Eg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ND(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Eg(){}function mn(t){return t&&t._delegate?t._delegate:t}class xa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ho="[DEFAULT]";class kD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new fD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MD(e))try{this.getOrInitializeService({instanceIdentifier:ho})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ho){return this.instances.has(e)}getOptions(e=ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ho){return this.component?this.component.multipleInstances?e:ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DD(t){return t===ho?void 0:t}function MD(t){return t.instantiationMode==="EAGER"}class VD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const PD={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},OD=Ze.INFO,jD={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},LD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=jD[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d0{constructor(e){this.name=e,this._logLevel=OD,this._logHandler=LD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const UD=(t,e)=>e.some(n=>t instanceof n);let Rx,Ix;function zD(){return Rx||(Rx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BD(){return Ix||(Ix=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lS=new WeakMap,ly=new WeakMap,cS=new WeakMap,Sg=new WeakMap,m0=new WeakMap;function FD(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(ya(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&lS.set(n,t)}).catch(()=>{}),m0.set(e,t),e}function qD(t){if(ly.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});ly.set(t,e)}let cy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ly.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ya(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HD(t){cy=t(cy)}function GD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ag(this),e,...n);return cS.set(s,e.sort?e.sort():[e]),ya(s)}:BD().includes(t)?function(...e){return t.apply(Ag(this),e),ya(lS.get(this))}:function(...e){return ya(t.apply(Ag(this),e))}}function $D(t){return typeof t=="function"?GD(t):(t instanceof IDBTransaction&&qD(t),UD(t,zD())?new Proxy(t,cy):t)}function ya(t){if(t instanceof IDBRequest)return FD(t);if(Sg.has(t))return Sg.get(t);const e=$D(t);return e!==t&&(Sg.set(t,e),m0.set(e,t)),e}const Ag=t=>m0.get(t);function KD(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=ya(u);return s&&u.addEventListener("upgradeneeded",m=>{s(ya(u.result),m.oldVersion,m.newVersion,ya(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const YD=["get","getKey","getAll","getAllKeys","count"],QD=["put","add","delete","clear"],Cg=new Map;function Nx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cg.get(e))return Cg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=QD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||YD.includes(n)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return Cg.set(e,l),l}HD(t=>({...t,get:(e,n,s)=>Nx(e,n)||t.get(e,n,s),has:(e,n)=>!!Nx(e,n)||t.has(e,n)}));class WD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function XD(t){return t.getComponent()?.type==="VERSION"}const uy="@firebase/app",kx="0.14.7";const Tr=new d0("@firebase/app"),ZD="@firebase/app-compat",JD="@firebase/analytics-compat",eM="@firebase/analytics",tM="@firebase/app-check-compat",nM="@firebase/app-check",iM="@firebase/auth",sM="@firebase/auth-compat",rM="@firebase/database",aM="@firebase/data-connect",oM="@firebase/database-compat",lM="@firebase/functions",cM="@firebase/functions-compat",uM="@firebase/installations",hM="@firebase/installations-compat",fM="@firebase/messaging",dM="@firebase/messaging-compat",mM="@firebase/performance",pM="@firebase/performance-compat",gM="@firebase/remote-config",yM="@firebase/remote-config-compat",vM="@firebase/storage",bM="@firebase/storage-compat",_M="@firebase/firestore",wM="@firebase/ai",xM="@firebase/firestore-compat",TM="firebase",EM="12.8.0";const hy="[DEFAULT]",SM={[uy]:"fire-core",[ZD]:"fire-core-compat",[eM]:"fire-analytics",[JD]:"fire-analytics-compat",[nM]:"fire-app-check",[tM]:"fire-app-check-compat",[iM]:"fire-auth",[sM]:"fire-auth-compat",[rM]:"fire-rtdb",[aM]:"fire-data-connect",[oM]:"fire-rtdb-compat",[lM]:"fire-fn",[cM]:"fire-fn-compat",[uM]:"fire-iid",[hM]:"fire-iid-compat",[fM]:"fire-fcm",[dM]:"fire-fcm-compat",[mM]:"fire-perf",[pM]:"fire-perf-compat",[gM]:"fire-rc",[yM]:"fire-rc-compat",[vM]:"fire-gcs",[bM]:"fire-gcs-compat",[_M]:"fire-fst",[xM]:"fire-fst-compat",[wM]:"fire-vertex","fire-js":"fire-js",[TM]:"fire-js-all"};const ld=new Map,AM=new Map,fy=new Map;function Dx(t,e){try{t.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wo(t){const e=t.name;if(fy.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;fy.set(e,t);for(const n of ld.values())Dx(n,t);for(const n of AM.values())Dx(n,t);return!0}function Yd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hi(t){return t==null?!1:t.settings!==void 0}const CM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},va=new Uu("app","Firebase",CM);class RM{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw va.create("app-deleted",{appName:this._name})}}const Co=EM;function uS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:hy,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw va.create("bad-app-name",{appName:String(a)});if(n||(n=rS()),!n)throw va.create("no-options");const l=ld.get(a);if(l){if(_o(n,l.options)&&_o(s,l.config))return l;throw va.create("duplicate-app",{appName:a})}const u=new VD(a);for(const m of fy.values())u.addComponent(m);const f=new RM(n,s,u);return ld.set(a,f),f}function p0(t=hy){const e=ld.get(t);if(!e&&t===hy&&rS())return uS();if(!e)throw va.create("no-app",{appName:t});return e}function Ps(t,e,n){let s=SM[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(u.join(" "));return}wo(new xa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const IM="firebase-heartbeat-database",NM=1,Eu="firebase-heartbeat-store";let Rg=null;function hS(){return Rg||(Rg=KD(IM,NM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Eu)}catch(n){console.warn(n)}}}}).catch(t=>{throw va.create("idb-open",{originalErrorMessage:t.message})})),Rg}async function kM(t){try{const n=(await hS()).transaction(Eu),s=await n.objectStore(Eu).get(fS(t));return await n.done,s}catch(e){if(e instanceof Gs)Tr.warn(e.message);else{const n=va.create("idb-get",{originalErrorMessage:e?.message});Tr.warn(n.message)}}}async function Mx(t,e){try{const s=(await hS()).transaction(Eu,"readwrite");await s.objectStore(Eu).put(e,fS(t)),await s.done}catch(n){if(n instanceof Gs)Tr.warn(n.message);else{const s=va.create("idb-set",{originalErrorMessage:n?.message});Tr.warn(s.message)}}}function fS(t){return`${t.name}!${t.options.appId}`}const DM=1024,MM=30;class VM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Vx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>MM){const a=jM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Tr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Vx(),{heartbeatsToSend:n,unsentEntries:s}=PM(this._heartbeatsCache.heartbeats),a=od(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Tr.warn(e),""}}}function Vx(){return new Date().toISOString().substring(0,10)}function PM(t,e=DM){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Px(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Px(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class OM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xD()?TD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Mx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Mx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Px(t){return od(JSON.stringify({version:2,heartbeats:t})).length}function jM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function LM(t){wo(new xa("platform-logger",e=>new WD(e),"PRIVATE")),wo(new xa("heartbeat",e=>new VM(e),"PRIVATE")),Ps(uy,kx,t),Ps(uy,kx,"esm2020"),Ps("fire-js","")}LM("");var UM="firebase",zM="12.8.0";Ps(UM,zM,"app");function dS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BM=dS,mS=new Uu("auth","Firebase",dS());const cd=new d0("@firebase/auth");function FM(t,...e){cd.logLevel<=Ze.WARN&&cd.warn(`Auth (${Co}): ${t}`,...e)}function Ff(t,...e){cd.logLevel<=Ze.ERROR&&cd.error(`Auth (${Co}): ${t}`,...e)}function zs(t,...e){throw y0(t,...e)}function ds(t,...e){return y0(t,...e)}function g0(t,e,n){const s={...BM(),[e]:n};return new Uu("auth","Firebase",s).create(e,{appName:t.name})}function vo(t){return g0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qM(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&zs(t,"argument-error"),g0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function y0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return mS.create(t,...e)}function Pe(t,e,...n){if(!t)throw y0(e,...n)}function gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ff(e),new Error(e)}function Er(t,e){t||gr(e)}function dy(){return typeof self<"u"&&self.location?.href||""}function HM(){return Ox()==="http:"||Ox()==="https:"}function Ox(){return typeof self<"u"&&self.location?.protocol||null}function GM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HM()||vD()||"connection"in navigator)?navigator.onLine:!0}function $M(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Bu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Er(n>e,"Short delay should be less than long delay!"),this.isMobile=pD()||bD()}get(){return GM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function v0(t,e){Er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class pS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const KM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const YM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QM=new Bu(3e4,6e4);function b0(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Gl(t,e,n,s,a={}){return gS(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=zu({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return yD()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Ao(t.emulatorConfig.host)&&(p.credentials="include"),pS.fetch()(await yS(t,t.config.apiHost,n,f),p)})}async function gS(t,e,n){t._canInitEmulator=!1;const s={...KM,...e};try{const a=new XM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Cf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cf(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Cf(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw Cf(t,"user-disabled",u);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw g0(t,y,p);zs(t,y)}}catch(a){if(a instanceof Gs)throw a;zs(t,"network-request-failed",{message:String(a)})}}async function WM(t,e,n,s,a={}){const l=await Gl(t,e,n,s,a);return"mfaPendingCredential"in l&&zs(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function yS(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?v0(t.config,a):`${t.config.apiScheme}://${a}`;return YM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class XM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ds(this.auth,"network-request-failed")),QM.get())})}}function Cf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=ds(t,e,s);return a.customData._tokenResponse=n,a}async function ZM(t,e){return Gl(t,"POST","/v1/accounts:delete",e)}async function ud(t,e){return Gl(t,"POST","/v1/accounts:lookup",e)}function hu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JM(t,e=!1){const n=mn(t),s=await n.getIdToken(e),a=_0(s);Pe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:hu(Ig(a.auth_time)),issuedAtTime:hu(Ig(a.iat)),expirationTime:hu(Ig(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ig(t){return Number(t)*1e3}function _0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Ff("JWT malformed, contained fewer than 3 sections"),null;try{const a=nS(n);return a?JSON.parse(a):(Ff("Failed to decode base64 JWT payload"),null)}catch(a){return Ff("Caught error parsing JWT payload as JSON",a?.toString()),null}}function jx(t){const e=_0(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Su(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Gs&&eV(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function eV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class tV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class my{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hd(t){const e=t.auth,n=await t.getIdToken(),s=await Su(t,ud(e,{idToken:n}));Pe(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?vS(a.providerUserInfo):[],u=iV(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new my(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function nV(t){const e=mn(t);await hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iV(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function vS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function sV(t,e){const n=await gS(t,{},async()=>{const s=zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await yS(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&Ao(t.emulatorConfig.host)&&(m.credentials="include"),pS.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rV(t,e){return Gl(t,"POST","/v2/accounts:revokeToken",b0(t,e))}class Cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=jx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await sV(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new Cl;return s&&(Pe(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Pe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Pe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cl,this.toJSON())}_performRefresh(){return gr("not implemented")}}function ca(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class us{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new tV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new my(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Su(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JM(this,e)}reload(){return nV(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new us({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await hd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hi(this.auth.app))return Promise.reject(vo(this.auth));const e=await this.getIdToken();return await Su(this,ZM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:C,providerData:V,stsTokenManager:j}=n;Pe(b&&j,e,"internal-error");const N=Cl.fromJSON(this.name,j);Pe(typeof b=="string",e,"internal-error"),ca(s,e.name),ca(a,e.name),Pe(typeof x=="boolean",e,"internal-error"),Pe(typeof C=="boolean",e,"internal-error"),ca(l,e.name),ca(u,e.name),ca(f,e.name),ca(m,e.name),ca(p,e.name),ca(y,e.name);const H=new us({uid:b,auth:e,email:a,emailVerified:x,displayName:s,isAnonymous:C,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:N,createdAt:p,lastLoginAt:y});return V&&Array.isArray(V)&&(H.providerData=V.map(W=>({...W}))),m&&(H._redirectEventId=m),H}static async _fromIdTokenResponse(e,n,s=!1){const a=new Cl;a.updateFromServerResponse(n);const l=new us({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await hd(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Pe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?vS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new Cl;f.updateFromIdToken(s);const m=new us({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new my(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const Lx=new Map;function yr(t){Er(t instanceof Function,"Expected a class definition");let e=Lx.get(t);return e?(Er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Lx.set(t,e),e)}class bS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bS.type="NONE";const Ux=bS;function qf(t,e,n){return`firebase:${t}:${e}:${n}`}class Rl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=qf(this.userKey,a.apiKey,l),this.fullPersistenceKey=qf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ud(this.auth,{idToken:e}).catch(()=>{});return n?us._fromGetAccountInfoResponse(this.auth,n,e):null}return us._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Rl(yr(Ux),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||yr(Ux);const u=qf(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const y=await p._get(u);if(y){let b;if(typeof y=="string"){const x=await ud(e,{idToken:y}).catch(()=>{});if(!x)break;b=await us._fromGetAccountInfoResponse(e,x,y)}else b=us._fromJSON(e,y);p!==l&&(f=b),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Rl(l,e,s):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Rl(l,e,s))}}function zx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_S(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SS(e))return"Blackberry";if(AS(e))return"Webos";if(wS(e))return"Safari";if((e.includes("chrome/")||xS(e))&&!e.includes("edge/"))return"Chrome";if(ES(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function _S(t=Bn()){return/firefox\//i.test(t)}function wS(t=Bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xS(t=Bn()){return/crios\//i.test(t)}function TS(t=Bn()){return/iemobile/i.test(t)}function ES(t=Bn()){return/android/i.test(t)}function SS(t=Bn()){return/blackberry/i.test(t)}function AS(t=Bn()){return/webos/i.test(t)}function w0(t=Bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aV(t=Bn()){return w0(t)&&!!window.navigator?.standalone}function oV(){return _D()&&document.documentMode===10}function CS(t=Bn()){return w0(t)||ES(t)||AS(t)||SS(t)||/windows phone/i.test(t)||TS(t)}function RS(t,e=[]){let n;switch(t){case"Browser":n=zx(Bn());break;case"Worker":n=`${zx(Bn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Co}/${s}`}class lV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function cV(t,e={}){return Gl(t,"GET","/v2/passwordPolicy",b0(t,e))}const uV=6;class hV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class fV{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bx(this),this.idTokenSubscription=new Bx(this),this.beforeStateQueue=new lV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Rl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ud(this,{idToken:e}),s=await us._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Hi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$M()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hi(this.app))return Promise.reject(vo(this));const n=e?mn(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hi(this.app)?Promise.reject(vo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hi(this.app)?Promise.reject(vo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cV(this),n=new hV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Uu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await rV(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yr(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await Rl.create(this,[yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&FM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Qd(t){return mn(t)}class Bx{constructor(e){this.auth=e,this.observer=null,this.addObserver=RD(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let x0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dV(t){x0=t}function mV(t){return x0.loadJS(t)}function pV(){return x0.gapiScript}function gV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function yV(t,e){const n=Yd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(_o(l,e??{}))return a;zs(a,"already-initialized")}return n.initialize({options:e})}function vV(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(yr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function bV(t,e,n){const s=Qd(t);Pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=IS(e),{host:u,port:f}=_V(e),m=f===null?"":`:${f}`,p={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Pe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Pe(_o(p,s.config.emulator)&&_o(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Ao(u)?(h0(`${l}//${u}${m}`),f0("Auth",!0)):wV()}function IS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _V(t){const e=IS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Fx(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:Fx(u)}}}function Fx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class NS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,n){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}async function Il(t,e){return WM(t,"POST","/v1/accounts:signInWithIdp",b0(t,e))}const xV="http://localhost";class xo extends NS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new xo(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Il(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Il(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Il(e,n)}buildRequest(){const e={requestUri:xV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zu(n)}return e}}class T0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fu extends T0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fa extends Fu{constructor(){super("facebook.com")}static credential(e){return xo._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fa.credential(e.oauthAccessToken)}catch{return null}}}fa.FACEBOOK_SIGN_IN_METHOD="facebook.com";fa.PROVIDER_ID="facebook.com";class pr extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xo._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return pr.credential(n,s)}catch{return null}}}pr.GOOGLE_SIGN_IN_METHOD="google.com";pr.PROVIDER_ID="google.com";class da extends Fu{constructor(){super("github.com")}static credential(e){return xo._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return da.credential(e.oauthAccessToken)}catch{return null}}}da.GITHUB_SIGN_IN_METHOD="github.com";da.PROVIDER_ID="github.com";class ma extends Fu{constructor(){super("twitter.com")}static credential(e,n){return xo._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ma.credential(n,s)}catch{return null}}}ma.TWITTER_SIGN_IN_METHOD="twitter.com";ma.PROVIDER_ID="twitter.com";class Ml{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await us._fromIdTokenResponse(e,s,a),u=qx(s);return new Ml({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=qx(s);return new Ml({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function qx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class fd extends Gs{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,fd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new fd(e,n,s,a)}}function kS(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?fd._fromErrorAndOperation(t,l,e,s):l})}async function TV(t,e,n=!1){const s=await Su(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ml._forOperation(t,"link",s)}async function EV(t,e,n=!1){const{auth:s}=t;if(Hi(s.app))return Promise.reject(vo(s));const a="reauthenticate";try{const l=await Su(t,kS(s,a,e,t),n);Pe(l.idToken,s,"internal-error");const u=_0(l.idToken);Pe(u,s,"internal-error");const{sub:f}=u;return Pe(t.uid===f,s,"user-mismatch"),Ml._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&zs(s,"user-mismatch"),l}}async function SV(t,e,n=!1){if(Hi(t.app))return Promise.reject(vo(t));const s="signIn",a=await kS(t,s,e),l=await Ml._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}function AV(t,e,n,s){return mn(t).onIdTokenChanged(e,n,s)}function CV(t,e,n){return mn(t).beforeAuthStateChanged(e,n)}function RV(t,e,n,s){return mn(t).onAuthStateChanged(e,n,s)}function IV(t){return mn(t).signOut()}const dd="__sak";class DS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dd,"1"),this.storage.removeItem(dd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const NV=1e3,kV=10;class MS extends DS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);oV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,kV):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},NV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MS.type="LOCAL";const DV=MS;class VS extends DS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VS.type="SESSION";const PS=VS;function MV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Wd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async p=>p(n.origin,l)),m=await MV(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wd.receivers=[];function E0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class VV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const p=E0("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(b){const x=b;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(x.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Os(){return window}function PV(t){Os().location.href=t}function OS(){return typeof Os().WorkerGlobalScope<"u"&&typeof Os().importScripts=="function"}async function OV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jV(){return navigator?.serviceWorker?.controller||null}function LV(){return OS()?self:null}const jS="firebaseLocalStorageDb",UV=1,md="firebaseLocalStorage",LS="fbase_key";class qu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xd(t,e){return t.transaction([md],e?"readwrite":"readonly").objectStore(md)}function zV(){const t=indexedDB.deleteDatabase(jS);return new qu(t).toPromise()}function py(){const t=indexedDB.open(jS,UV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(md,{keyPath:LS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(md)?e(s):(s.close(),await zV(),e(await py()))})})}async function Hx(t,e,n){const s=Xd(t,!0).put({[LS]:e,value:n});return new qu(s).toPromise()}async function BV(t,e){const n=Xd(t,!1).get(e),s=await new qu(n).toPromise();return s===void 0?null:s.value}function Gx(t,e){const n=Xd(t,!0).delete(e);return new qu(n).toPromise()}const FV=800,qV=3;class US{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await py(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>qV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wd._getInstance(LV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OV(),!this.activeServiceWorker)return;this.sender=new VV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await py();return await Hx(e,dd,"1"),await Gx(e,dd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Hx(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>BV(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Xd(a,!1).getAll();return new qu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}US.type="LOCAL";const HV=US;new Bu(3e4,6e4);function zS(t,e){return e?yr(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class S0 extends NS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Il(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Il(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Il(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GV(t){return SV(t.auth,new S0(t),t.bypassAuthState)}function $V(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),EV(n,new S0(t),t.bypassAuthState)}async function KV(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),TV(n,new S0(t),t.bypassAuthState)}class BS{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GV;case"linkViaPopup":case"linkViaRedirect":return KV;case"reauthViaPopup":case"reauthViaRedirect":return $V;default:zs(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const YV=new Bu(2e3,1e4);async function QV(t,e,n){if(Hi(t.app))return Promise.reject(ds(t,"operation-not-supported-in-this-environment"));const s=Qd(t);qM(t,e,T0);const a=zS(s,n);return new mo(s,"signInViaPopup",e,a).executeNotNull()}class mo extends BS{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=E0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ds(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ds(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ds(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YV.get())};e()}}mo.currentPopupAction=null;const WV="pendingRedirect",Hf=new Map;class XV extends BS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Hf.get(this.auth._key());if(!e){try{const s=await ZV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Hf.set(this.auth._key(),e)}return this.bypassAuthState||Hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZV(t,e){const n=tP(e),s=eP(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function JV(t,e){Hf.set(t._key(),e)}function eP(t){return yr(t._redirectPersistence)}function tP(t){return qf(WV,t.config.apiKey,t.name)}async function nP(t,e,n=!1){if(Hi(t.app))return Promise.reject(vo(t));const s=Qd(t),a=zS(s,e),u=await new XV(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const iP=600*1e3;class sP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!FS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ds(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iP&&this.cachedEventUids.clear(),this.cachedEventUids.has($x(e))}saveEventToCache(e){this.cachedEventUids.add($x(e)),this.lastProcessedEventTime=Date.now()}}function $x(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function rP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FS(t);default:return!1}}async function aP(t,e={}){return Gl(t,"GET","/v1/projects",e)}const oP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lP=/^https?/;async function cP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aP(t);for(const n of e)try{if(uP(n))return}catch{}zs(t,"unauthorized-domain")}function uP(t){const e=dy(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!lP.test(n))return!1;if(oP.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const hP=new Bu(3e4,6e4);function Kx(){const t=Os().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fP(t){return new Promise((e,n)=>{function s(){Kx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kx(),n(ds(t,"network-request-failed"))},timeout:hP.get()})}if(Os().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Os().gapi?.load)s();else{const a=gV("iframefcb");return Os()[a]=()=>{gapi.load?s():n(ds(t,"network-request-failed"))},mV(`${pV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Gf=null,e})}let Gf=null;function dP(t){return Gf=Gf||fP(t),Gf}const mP=new Bu(5e3,15e3),pP="__/auth/iframe",gP="emulator/auth/iframe",yP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bP(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?v0(e,gP):`https://${t.config.authDomain}/${pP}`,s={apiKey:e.apiKey,appName:t.name,v:Co},a=vP.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${zu(s).slice(1)}`}async function _P(t){const e=await dP(t),n=Os().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:bP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yP,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=ds(t,"network-request-failed"),f=Os().setTimeout(()=>{l(u)},mP.get());function m(){Os().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(u)})}))}const wP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xP=500,TP=600,EP="_blank",SP="http://localhost";class Yx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AP(t,e,n,s=xP,a=TP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...wP,width:s.toString(),height:a.toString(),top:l,left:u},p=Bn().toLowerCase();n&&(f=xS(p)?EP:n),_S(p)&&(e=e||SP,m.scrollbars="yes");const y=Object.entries(m).reduce((x,[C,V])=>`${x}${C}=${V},`,"");if(aV(p)&&f!=="_self")return CP(e||"",f),new Yx(null);const b=window.open(e||"",f,y);Pe(b,t,"popup-blocked");try{b.focus()}catch{}return new Yx(b)}function CP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const RP="__/auth/handler",IP="emulator/auth/handler",NP=encodeURIComponent("fac");async function Qx(t,e,n,s,a,l){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Co,eventId:a};if(e instanceof T0){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",CD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))u[y]=b}if(e instanceof Fu){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),p=m?`#${NP}=${encodeURIComponent(m)}`:"";return`${kP(t)}?${zu(f).slice(1)}${p}`}function kP({config:t}){return t.emulator?v0(t,IP):`https://${t.authDomain}/${RP}`}const Ng="webStorageSupport";class DP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PS,this._completeRedirectFn=nP,this._overrideRedirectResult=JV}async _openPopup(e,n,s,a){Er(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Qx(e,n,s,dy(),a);return AP(e,l,E0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await Qx(e,n,s,dy(),a);return PV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Er(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await _P(e),s=new sP(e);return n.register("authEvent",a=>(Pe(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ng,{type:Ng},a=>{const l=a?.[0]?.[Ng];l!==void 0&&n(!!l),zs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CS()||wS()||w0()}}const MP=DP;var Wx="@firebase/auth",Xx="1.12.0";class VP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function PP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OP(t){wo(new xa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;Pe(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RS(t)},p=new fV(s,a,l,m);return vV(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),wo(new xa("auth-internal",e=>{const n=Qd(e.getProvider("auth").getImmediate());return(s=>new VP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(Wx,Xx,PP(t)),Ps(Wx,Xx,"esm2020")}const jP=300,LP=aS("authIdTokenMaxAge")||jP;let Zx=null;const UP=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>LP)return;const a=n?.token;Zx!==a&&(Zx=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function zP(t=p0()){const e=Yd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yV(t,{popupRedirectResolver:MP,persistence:[HV,DV,PS]}),s=aS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=UP(l.toString());CV(n,u,()=>u(n.currentUser)),AV(n,f=>u(f))}}const a=iS("auth");return a&&bV(n,`http://${a}`),n}function BP(){return document.getElementsByTagName("head")?.[0]??document}dV({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=ds("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",BP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OP("Browser");var Jx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ba,qS;(function(){var t;function e(k,S){function M(){}M.prototype=S.prototype,k.F=S.prototype,k.prototype=new M,k.prototype.constructor=k,k.D=function(z,B,P){for(var D=Array(arguments.length-2),be=2;be<arguments.length;be++)D[be-2]=arguments[be];return S.prototype[B].apply(z,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,S,M){M||(M=0);const z=Array(16);if(typeof S=="string")for(var B=0;B<16;++B)z[B]=S.charCodeAt(M++)|S.charCodeAt(M++)<<8|S.charCodeAt(M++)<<16|S.charCodeAt(M++)<<24;else for(B=0;B<16;++B)z[B]=S[M++]|S[M++]<<8|S[M++]<<16|S[M++]<<24;S=k.g[0],M=k.g[1],B=k.g[2];let P=k.g[3],D;D=S+(P^M&(B^P))+z[0]+3614090360&4294967295,S=M+(D<<7&4294967295|D>>>25),D=P+(B^S&(M^B))+z[1]+3905402710&4294967295,P=S+(D<<12&4294967295|D>>>20),D=B+(M^P&(S^M))+z[2]+606105819&4294967295,B=P+(D<<17&4294967295|D>>>15),D=M+(S^B&(P^S))+z[3]+3250441966&4294967295,M=B+(D<<22&4294967295|D>>>10),D=S+(P^M&(B^P))+z[4]+4118548399&4294967295,S=M+(D<<7&4294967295|D>>>25),D=P+(B^S&(M^B))+z[5]+1200080426&4294967295,P=S+(D<<12&4294967295|D>>>20),D=B+(M^P&(S^M))+z[6]+2821735955&4294967295,B=P+(D<<17&4294967295|D>>>15),D=M+(S^B&(P^S))+z[7]+4249261313&4294967295,M=B+(D<<22&4294967295|D>>>10),D=S+(P^M&(B^P))+z[8]+1770035416&4294967295,S=M+(D<<7&4294967295|D>>>25),D=P+(B^S&(M^B))+z[9]+2336552879&4294967295,P=S+(D<<12&4294967295|D>>>20),D=B+(M^P&(S^M))+z[10]+4294925233&4294967295,B=P+(D<<17&4294967295|D>>>15),D=M+(S^B&(P^S))+z[11]+2304563134&4294967295,M=B+(D<<22&4294967295|D>>>10),D=S+(P^M&(B^P))+z[12]+1804603682&4294967295,S=M+(D<<7&4294967295|D>>>25),D=P+(B^S&(M^B))+z[13]+4254626195&4294967295,P=S+(D<<12&4294967295|D>>>20),D=B+(M^P&(S^M))+z[14]+2792965006&4294967295,B=P+(D<<17&4294967295|D>>>15),D=M+(S^B&(P^S))+z[15]+1236535329&4294967295,M=B+(D<<22&4294967295|D>>>10),D=S+(B^P&(M^B))+z[1]+4129170786&4294967295,S=M+(D<<5&4294967295|D>>>27),D=P+(M^B&(S^M))+z[6]+3225465664&4294967295,P=S+(D<<9&4294967295|D>>>23),D=B+(S^M&(P^S))+z[11]+643717713&4294967295,B=P+(D<<14&4294967295|D>>>18),D=M+(P^S&(B^P))+z[0]+3921069994&4294967295,M=B+(D<<20&4294967295|D>>>12),D=S+(B^P&(M^B))+z[5]+3593408605&4294967295,S=M+(D<<5&4294967295|D>>>27),D=P+(M^B&(S^M))+z[10]+38016083&4294967295,P=S+(D<<9&4294967295|D>>>23),D=B+(S^M&(P^S))+z[15]+3634488961&4294967295,B=P+(D<<14&4294967295|D>>>18),D=M+(P^S&(B^P))+z[4]+3889429448&4294967295,M=B+(D<<20&4294967295|D>>>12),D=S+(B^P&(M^B))+z[9]+568446438&4294967295,S=M+(D<<5&4294967295|D>>>27),D=P+(M^B&(S^M))+z[14]+3275163606&4294967295,P=S+(D<<9&4294967295|D>>>23),D=B+(S^M&(P^S))+z[3]+4107603335&4294967295,B=P+(D<<14&4294967295|D>>>18),D=M+(P^S&(B^P))+z[8]+1163531501&4294967295,M=B+(D<<20&4294967295|D>>>12),D=S+(B^P&(M^B))+z[13]+2850285829&4294967295,S=M+(D<<5&4294967295|D>>>27),D=P+(M^B&(S^M))+z[2]+4243563512&4294967295,P=S+(D<<9&4294967295|D>>>23),D=B+(S^M&(P^S))+z[7]+1735328473&4294967295,B=P+(D<<14&4294967295|D>>>18),D=M+(P^S&(B^P))+z[12]+2368359562&4294967295,M=B+(D<<20&4294967295|D>>>12),D=S+(M^B^P)+z[5]+4294588738&4294967295,S=M+(D<<4&4294967295|D>>>28),D=P+(S^M^B)+z[8]+2272392833&4294967295,P=S+(D<<11&4294967295|D>>>21),D=B+(P^S^M)+z[11]+1839030562&4294967295,B=P+(D<<16&4294967295|D>>>16),D=M+(B^P^S)+z[14]+4259657740&4294967295,M=B+(D<<23&4294967295|D>>>9),D=S+(M^B^P)+z[1]+2763975236&4294967295,S=M+(D<<4&4294967295|D>>>28),D=P+(S^M^B)+z[4]+1272893353&4294967295,P=S+(D<<11&4294967295|D>>>21),D=B+(P^S^M)+z[7]+4139469664&4294967295,B=P+(D<<16&4294967295|D>>>16),D=M+(B^P^S)+z[10]+3200236656&4294967295,M=B+(D<<23&4294967295|D>>>9),D=S+(M^B^P)+z[13]+681279174&4294967295,S=M+(D<<4&4294967295|D>>>28),D=P+(S^M^B)+z[0]+3936430074&4294967295,P=S+(D<<11&4294967295|D>>>21),D=B+(P^S^M)+z[3]+3572445317&4294967295,B=P+(D<<16&4294967295|D>>>16),D=M+(B^P^S)+z[6]+76029189&4294967295,M=B+(D<<23&4294967295|D>>>9),D=S+(M^B^P)+z[9]+3654602809&4294967295,S=M+(D<<4&4294967295|D>>>28),D=P+(S^M^B)+z[12]+3873151461&4294967295,P=S+(D<<11&4294967295|D>>>21),D=B+(P^S^M)+z[15]+530742520&4294967295,B=P+(D<<16&4294967295|D>>>16),D=M+(B^P^S)+z[2]+3299628645&4294967295,M=B+(D<<23&4294967295|D>>>9),D=S+(B^(M|~P))+z[0]+4096336452&4294967295,S=M+(D<<6&4294967295|D>>>26),D=P+(M^(S|~B))+z[7]+1126891415&4294967295,P=S+(D<<10&4294967295|D>>>22),D=B+(S^(P|~M))+z[14]+2878612391&4294967295,B=P+(D<<15&4294967295|D>>>17),D=M+(P^(B|~S))+z[5]+4237533241&4294967295,M=B+(D<<21&4294967295|D>>>11),D=S+(B^(M|~P))+z[12]+1700485571&4294967295,S=M+(D<<6&4294967295|D>>>26),D=P+(M^(S|~B))+z[3]+2399980690&4294967295,P=S+(D<<10&4294967295|D>>>22),D=B+(S^(P|~M))+z[10]+4293915773&4294967295,B=P+(D<<15&4294967295|D>>>17),D=M+(P^(B|~S))+z[1]+2240044497&4294967295,M=B+(D<<21&4294967295|D>>>11),D=S+(B^(M|~P))+z[8]+1873313359&4294967295,S=M+(D<<6&4294967295|D>>>26),D=P+(M^(S|~B))+z[15]+4264355552&4294967295,P=S+(D<<10&4294967295|D>>>22),D=B+(S^(P|~M))+z[6]+2734768916&4294967295,B=P+(D<<15&4294967295|D>>>17),D=M+(P^(B|~S))+z[13]+1309151649&4294967295,M=B+(D<<21&4294967295|D>>>11),D=S+(B^(M|~P))+z[4]+4149444226&4294967295,S=M+(D<<6&4294967295|D>>>26),D=P+(M^(S|~B))+z[11]+3174756917&4294967295,P=S+(D<<10&4294967295|D>>>22),D=B+(S^(P|~M))+z[2]+718787259&4294967295,B=P+(D<<15&4294967295|D>>>17),D=M+(P^(B|~S))+z[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(B+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+B&4294967295,k.g[3]=k.g[3]+P&4294967295}s.prototype.v=function(k,S){S===void 0&&(S=k.length);const M=S-this.blockSize,z=this.C;let B=this.h,P=0;for(;P<S;){if(B==0)for(;P<=M;)a(this,k,P),P+=this.blockSize;if(typeof k=="string"){for(;P<S;)if(z[B++]=k.charCodeAt(P++),B==this.blockSize){a(this,z),B=0;break}}else for(;P<S;)if(z[B++]=k[P++],B==this.blockSize){a(this,z),B=0;break}}this.h=B,this.o+=S},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;S=this.o*8;for(var M=k.length-8;M<k.length;++M)k[M]=S&255,S/=256;for(this.v(k),k=Array(16),S=0,M=0;M<4;++M)for(let z=0;z<32;z+=8)k[S++]=this.g[M]>>>z&255;return k};function l(k,S){var M=f;return Object.prototype.hasOwnProperty.call(M,k)?M[k]:M[k]=S(k)}function u(k,S){this.h=S;const M=[];let z=!0;for(let B=k.length-1;B>=0;B--){const P=k[B]|0;z&&P==S||(M[B]=P,z=!1)}this.g=M}var f={};function m(k){return-128<=k&&k<128?l(k,function(S){return new u([S|0],S<0?-1:0)}):new u([k|0],k<0?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return b;if(k<0)return N(p(-k));const S=[];let M=1;for(let z=0;k>=M;z++)S[z]=k/M|0,M*=4294967296;return new u(S,0)}function y(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return N(y(k.substring(1),S));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=p(Math.pow(S,8));let z=b;for(let P=0;P<k.length;P+=8){var B=Math.min(8,k.length-P);const D=parseInt(k.substring(P,P+B),S);B<8?(B=p(Math.pow(S,B)),z=z.j(B).add(p(D))):(z=z.j(M),z=z.add(p(D)))}return z}var b=m(0),x=m(1),C=m(16777216);t=u.prototype,t.m=function(){if(j(this))return-N(this).m();let k=0,S=1;for(let M=0;M<this.g.length;M++){const z=this.i(M);k+=(z>=0?z:4294967296+z)*S,S*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(V(this))return"0";if(j(this))return"-"+N(this).toString(k);const S=p(Math.pow(k,6));var M=this;let z="";for(;;){const B=me(M,S).g;M=H(M,B.j(S));let P=((M.g.length>0?M.g[0]:M.h)>>>0).toString(k);if(M=B,V(M))return P+z;for(;P.length<6;)P="0"+P;z=P+z}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function V(k){if(k.h!=0)return!1;for(let S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function j(k){return k.h==-1}t.l=function(k){return k=H(this,k),j(k)?-1:V(k)?0:1};function N(k){const S=k.g.length,M=[];for(let z=0;z<S;z++)M[z]=~k.g[z];return new u(M,~k.h).add(x)}t.abs=function(){return j(this)?N(this):this},t.add=function(k){const S=Math.max(this.g.length,k.g.length),M=[];let z=0;for(let B=0;B<=S;B++){let P=z+(this.i(B)&65535)+(k.i(B)&65535),D=(P>>>16)+(this.i(B)>>>16)+(k.i(B)>>>16);z=D>>>16,P&=65535,D&=65535,M[B]=D<<16|P}return new u(M,M[M.length-1]&-2147483648?-1:0)};function H(k,S){return k.add(N(S))}t.j=function(k){if(V(this)||V(k))return b;if(j(this))return j(k)?N(this).j(N(k)):N(N(this).j(k));if(j(k))return N(this.j(N(k)));if(this.l(C)<0&&k.l(C)<0)return p(this.m()*k.m());const S=this.g.length+k.g.length,M=[];for(var z=0;z<2*S;z++)M[z]=0;for(z=0;z<this.g.length;z++)for(let B=0;B<k.g.length;B++){const P=this.i(z)>>>16,D=this.i(z)&65535,be=k.i(B)>>>16,we=k.i(B)&65535;M[2*z+2*B]+=D*we,W(M,2*z+2*B),M[2*z+2*B+1]+=P*we,W(M,2*z+2*B+1),M[2*z+2*B+1]+=D*be,W(M,2*z+2*B+1),M[2*z+2*B+2]+=P*be,W(M,2*z+2*B+2)}for(k=0;k<S;k++)M[k]=M[2*k+1]<<16|M[2*k];for(k=S;k<2*S;k++)M[k]=0;return new u(M,0)};function W(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function Y(k,S){this.g=k,this.h=S}function me(k,S){if(V(S))throw Error("division by zero");if(V(k))return new Y(b,b);if(j(k))return S=me(N(k),S),new Y(N(S.g),N(S.h));if(j(S))return S=me(k,N(S)),new Y(N(S.g),S.h);if(k.g.length>30){if(j(k)||j(S))throw Error("slowDivide_ only works with positive integers.");for(var M=x,z=S;z.l(k)<=0;)M=ue(M),z=ue(z);var B=fe(M,1),P=fe(z,1);for(z=fe(z,2),M=fe(M,2);!V(z);){var D=P.add(z);D.l(k)<=0&&(B=B.add(M),P=D),z=fe(z,1),M=fe(M,1)}return S=H(k,B.j(S)),new Y(B,S)}for(B=b;k.l(S)>=0;){for(M=Math.max(1,Math.floor(k.m()/S.m())),z=Math.ceil(Math.log(M)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),P=p(M),D=P.j(S);j(D)||D.l(k)>0;)M-=z,P=p(M),D=P.j(S);V(P)&&(P=x),B=B.add(P),k=H(k,D)}return new Y(B,k)}t.B=function(k){return me(this,k).h},t.and=function(k){const S=Math.max(this.g.length,k.g.length),M=[];for(let z=0;z<S;z++)M[z]=this.i(z)&k.i(z);return new u(M,this.h&k.h)},t.or=function(k){const S=Math.max(this.g.length,k.g.length),M=[];for(let z=0;z<S;z++)M[z]=this.i(z)|k.i(z);return new u(M,this.h|k.h)},t.xor=function(k){const S=Math.max(this.g.length,k.g.length),M=[];for(let z=0;z<S;z++)M[z]=this.i(z)^k.i(z);return new u(M,this.h^k.h)};function ue(k){const S=k.g.length+1,M=[];for(let z=0;z<S;z++)M[z]=k.i(z)<<1|k.i(z-1)>>>31;return new u(M,k.h)}function fe(k,S){const M=S>>5;S%=32;const z=k.g.length-M,B=[];for(let P=0;P<z;P++)B[P]=S>0?k.i(P+M)>>>S|k.i(P+M+1)<<32-S:k.i(P+M);return new u(B,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,qS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,ba=u}).apply(typeof Jx<"u"?Jx:typeof self<"u"?self:typeof window<"u"?window:{});var Rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var HS,ru,GS,$f,gy,$S,KS,YS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rf=="object"&&Rf];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var E=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var Z=h[R];if(!(Z in E))break e;E=E[Z]}h=h[h.length-1],R=E[h],_=_(R),_!=R&&_!=null&&e(E,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var E=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&E.push([R,_[R]]);return E}});var l=l||{},u=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,E){return h.call.apply(h.bind,arguments)}function p(h,_,E){return p=m,p.apply(null,arguments)}function y(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function b(h,_){function E(){}E.prototype=_.prototype,h.Z=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(R,Z,se){for(var ye=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)ye[Fe-2]=arguments[Fe];return _.prototype[Z].apply(R,ye)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const _=h.length;if(_>0){const E=Array(_);for(let R=0;R<_;R++)E[R]=h[R];return E}return[]}function V(h,_){for(let R=1;R<arguments.length;R++){const Z=arguments[R];var E=typeof Z;if(E=E!="object"?E:Z?Array.isArray(Z)?"array":E:"null",E=="array"||E=="object"&&typeof Z.length=="number"){E=h.length||0;const se=Z.length||0;h.length=E+se;for(let ye=0;ye<se;ye++)h[E+ye]=Z[ye]}else h.push(Z)}}class j{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(h){u.setTimeout(()=>{throw h},0)}function H(){var h=k;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class W{constructor(){this.h=this.g=null}add(_,E){const R=Y.get();R.set(_,E),this.h?this.h.next=R:this.g=R,this.h=R}}var Y=new j(()=>new me,h=>h.reset());class me{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,fe=!1,k=new W,S=()=>{const h=Promise.resolve(void 0);ue=()=>{h.then(M)}};function M(){for(var h;h=H();){try{h.h.call(h.g)}catch(E){N(E)}var _=Y;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}fe=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function be(h,_){B.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(be,B),be.prototype.init=function(h,_){const E=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(E=="mouseover"?_=h.fromElement:E=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),J=0;function X(h,_,E,R,Z){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!R,this.ha=Z,this.key=++J,this.da=this.fa=!1}function G(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function K(h,_,E){for(const R in h)_.call(E,h[R],R,h)}function O(h,_){for(const E in h)_.call(void 0,h[E],E,h)}function T(h){const _={};for(const E in h)_[E]=h[E];return _}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(h,_){let E,R;for(let Z=1;Z<arguments.length;Z++){R=arguments[Z];for(E in R)h[E]=R[E];for(let se=0;se<L.length;se++)E=L[se],Object.prototype.hasOwnProperty.call(R,E)&&(h[E]=R[E])}}function ne(h){this.src=h,this.g={},this.h=0}ne.prototype.add=function(h,_,E,R,Z){const se=h.toString();h=this.g[se],h||(h=this.g[se]=[],this.h++);const ye=ge(h,_,R,Z);return ye>-1?(_=h[ye],E||(_.fa=!1)):(_=new X(_,this.src,se,!!R,Z),_.fa=E,h.push(_)),_};function pe(h,_){const E=_.type;if(E in h.g){var R=h.g[E],Z=Array.prototype.indexOf.call(R,_,void 0),se;(se=Z>=0)&&Array.prototype.splice.call(R,Z,1),se&&(G(_),h.g[E].length==0&&(delete h.g[E],h.h--))}}function ge(h,_,E,R){for(let Z=0;Z<h.length;++Z){const se=h[Z];if(!se.da&&se.listener==_&&se.capture==!!E&&se.ha==R)return Z}return-1}var de="closure_lm_"+(Math.random()*1e6|0),Ae={};function Re(h,_,E,R,Z){if(Array.isArray(_)){for(let se=0;se<_.length;se++)Re(h,_[se],E,R,Z);return null}return E=ln(E),h&&h[we]?h.J(_,E,f(R)?!!R.capture:!1,Z):Ke(h,_,E,!1,R,Z)}function Ke(h,_,E,R,Z,se){if(!_)throw Error("Invalid event type");const ye=f(Z)?!!Z.capture:!!Z;let Fe=Vt(h);if(Fe||(h[de]=Fe=new ne(h)),E=Fe.add(_,E,R,ye,se),E.proxy)return E;if(R=ze(),E.proxy=R,R.src=h,R.listener=E,h.addEventListener)P||(Z=ye),Z===void 0&&(Z=!1),h.addEventListener(_.toString(),R,Z);else if(h.attachEvent)h.attachEvent(Ve(_.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ze(){function h(E){return _.call(h.src,h.listener,E)}const _=Mt;return h}function Ge(h,_,E,R,Z){if(Array.isArray(_))for(var se=0;se<_.length;se++)Ge(h,_[se],E,R,Z);else R=f(R)?!!R.capture:!!R,E=ln(E),h&&h[we]?(h=h.i,se=String(_).toString(),se in h.g&&(_=h.g[se],E=ge(_,E,R,Z),E>-1&&(G(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete h.g[se],h.h--)))):h&&(h=Vt(h))&&(_=h.g[_.toString()],h=-1,_&&(h=ge(_,E,R,Z)),(E=h>-1?_[h]:null)&&wt(E))}function wt(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[we])pe(_.i,h);else{var E=h.type,R=h.proxy;_.removeEventListener?_.removeEventListener(E,R,h.capture):_.detachEvent?_.detachEvent(Ve(E),R):_.addListener&&_.removeListener&&_.removeListener(R),(E=Vt(_))?(pe(E,h),E.h==0&&(E.src=null,_[de]=null)):G(h)}}}function Ve(h){return h in Ae?Ae[h]:Ae[h]="on"+h}function Mt(h,_){if(h.da)h=!0;else{_=new be(_,this);const E=h.listener,R=h.ha||h.src;h.fa&&wt(h),h=E.call(R,_)}return h}function Vt(h){return h=h[de],h instanceof ne?h:null}var Qt="__closure_events_fn_"+(Math.random()*1e9>>>0);function ln(h){return typeof h=="function"?h:(h[Qt]||(h[Qt]=function(_){return h.handleEvent(_)}),h[Qt])}function ot(){z.call(this),this.i=new ne(this),this.M=this,this.G=null}b(ot,z),ot.prototype[we]=!0,ot.prototype.removeEventListener=function(h,_,E,R){Ge(this,h,_,E,R)};function Be(h,_){var E,R=h.G;if(R)for(E=[];R;R=R.G)E.push(R);if(h=h.M,R=_.type||_,typeof _=="string")_=new B(_,h);else if(_ instanceof B)_.target=_.target||h;else{var Z=_;_=new B(R,h),Q(_,Z)}Z=!0;let se,ye;if(E)for(ye=E.length-1;ye>=0;ye--)se=_.g=E[ye],Z=Vn(se,R,!0,_)&&Z;if(se=_.g=h,Z=Vn(se,R,!0,_)&&Z,Z=Vn(se,R,!1,_)&&Z,E)for(ye=0;ye<E.length;ye++)se=_.g=E[ye],Z=Vn(se,R,!1,_)&&Z}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const E=h.g[_];for(let R=0;R<E.length;R++)G(E[R]);delete h.g[_],h.h--}}this.G=null},ot.prototype.J=function(h,_,E,R){return this.i.add(String(h),_,!1,E,R)},ot.prototype.K=function(h,_,E,R){return this.i.add(String(h),_,!0,E,R)};function Vn(h,_,E,R){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let Z=!0;for(let se=0;se<_.length;++se){const ye=_[se];if(ye&&!ye.da&&ye.capture==E){const Fe=ye.listener,Gt=ye.ha||ye.src;ye.fa&&pe(h.i,ye),Z=Fe.call(Gt,R)!==!1&&Z}}return Z&&!R.defaultPrevented}function Rr(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function Ks(h){h.g=Rr(()=>{h.g=null,h.i&&(h.i=!1,Ks(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Ut extends z{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ks(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(h){z.call(this),this.h=h,this.g={}}b(oi,z);var Ei=[];function ys(h){K(h.g,function(_,E){this.g.hasOwnProperty(E)&&wt(_)},h),h.g={}}oi.prototype.N=function(){oi.Z.N.call(this),ys(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Si=u.JSON.stringify,Ys=u.JSON.parse,wn=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function vs(){}function bs(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function cn(){B.call(this,"d")}b(cn,B);function xn(){B.call(this,"c")}b(xn,B);var Pt={},No=null;function Ir(){return No=No||new ot}Pt.Ia="serverreachability";function ko(h){B.call(this,Pt.Ia,h)}b(ko,B);function Tn(h){const _=Ir();Be(_,new ko(_))}Pt.STAT_EVENT="statevent";function En(h,_){B.call(this,Pt.STAT_EVENT,h),this.stat=_}b(En,B);function vt(h){const _=Ir();Be(_,new En(_,h))}Pt.Ja="timingevent";function pn(h,_){B.call(this,Pt.Ja,h),this.size=_}b(pn,B);function li(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function nc(h,_,E,R,Z,se){h.info(function(){if(h.g)if(se){var ye="",Fe=se.split("&");for(let lt=0;lt<Fe.length;lt++){var Gt=Fe[lt].split("=");if(Gt.length>1){const Nt=Gt[0];Gt=Gt[1];const Mi=Nt.split("_");ye=Mi.length>=2&&Mi[1]=="type"?ye+(Nt+"="+Gt+"&"):ye+(Nt+"=redacted&")}}}else ye=null;else ye=se;return"XMLHTTP REQ ("+R+") [attempt "+Z+"]: "+_+`
`+E+`
`+ye})}function _s(h,_,E,R,Z,se,ye){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Z+"]: "+_+`
`+E+`
`+se+" "+ye})}function xt(h,_,E,R){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+ui(h,E)+(R?" "+R:"")})}function ci(h,_){h.info(function(){return"TIMEOUT: "+_})}qn.prototype.info=function(){};function ui(h,_){if(!h.g)return _;if(!_)return null;try{const se=JSON.parse(_);if(se){for(h=0;h<se.length;h++)if(Array.isArray(se[h])){var E=se[h];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var Z=R[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let ye=1;ye<R.length;ye++)R[ye]=""}}}}return Si(se)}catch{return _}}var Ai={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xi;function ws(){}b(ws,vs),ws.prototype.g=function(){return new XMLHttpRequest},Xi=new ws;function Zi(h){return encodeURIComponent(String(h))}function Oa(h){var _=1;h=h.split(":");const E=[];for(;_>0&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function hi(h,_,E,R){this.j=h,this.i=_,this.l=E,this.S=R||1,this.V=new oi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var It={},zt={};function Ci(h,_,E){h.M=1,h.A=La(Zt(_)),h.u=E,h.R=!0,Nr(h,null)}function Nr(h,_){h.F=Date.now(),Ri(h),h.B=Zt(h.A);var E=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Vo(E.i,"t",R),h.C=0,E=h.j.L,h.h=new Xn,h.g=vh(h.j,E?_:null,!h.u),h.P>0&&(h.O=new Ut(p(h.Y,h,h.g),h.P)),_=h.V,E=h.g,R=h.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(Ei[0]=Z.toString()),Z=Ei);for(let se=0;se<Z.length;se++){const ye=Re(E,Z[se],R||_.handleEvent,!1,_.h||_);if(!ye)break;_.g[ye.key]=ye}_=h.J?T(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Tn(),nc(h.i,h.v,h.B,h.l,h.S,h.u)}hi.prototype.ba=function(h){h=h.target;const _=this.O;_&&ns(h)==3?_.j():this.Y(h)},hi.prototype.Y=function(h){try{if(h==this.g)e:{const Fe=ns(this.g),Gt=this.g.ya(),lt=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||Cn(this.g)))){this.K||Fe!=4||Gt==7||(Gt==8||lt<=0?Tn(3):Tn(2)),Ji(this);var _=this.g.ca();this.X=_;var E=ic(this);if(this.o=_==200,_s(this.i,this.v,this.B,this.l,this.S,Fe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,Z=this.g;if((R=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(R)){var se=R;break t}}se=null}if(h=se)xt(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,h);else{this.o=!1,this.m=3,vt(12),Sn(this),Hn(this);break e}}if(this.R){h=!0;let Nt;for(;!this.K&&this.C<E.length;)if(Nt=Do(this,E),Nt==zt){Fe==4&&(this.m=4,vt(14),h=!1),xt(this.i,this.l,null,"[Incomplete Response]");break}else if(Nt==It){this.m=4,vt(15),xt(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else xt(this.i,this.l,Nt,null),Ii(this,Nt);if(ja(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||E.length!=0||this.h.h||(this.m=1,vt(16),h=!1),this.o=this.o&&h,!h)xt(this.i,this.l,E,"[Invalid Chunked Response]"),Sn(this),Hn(this);else if(E.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),dc(ye),ye.P=!0,vt(11))}}else xt(this.i,this.l,E,null),Ii(this,E);Fe==4&&Sn(this),this.o&&!this.K&&(Fe==4?mh(this.j,this):(this.o=!1,Ri(this)))}else Ws(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),Sn(this),Hn(this)}}}catch{}};function ic(h){if(!ja(h))return h.g.la();const _=Cn(h.g);if(_==="")return"";let E="";const R=_.length,Z=ns(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Sn(h),Hn(h),"";h.h.i=new u.TextDecoder}for(let se=0;se<R;se++)h.h.h=!0,E+=h.h.i.decode(_[se],{stream:!(Z&&se==R-1)});return _.length=0,h.h.g+=E,h.C=0,h.h.g}function ja(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Do(h,_){var E=h.C,R=_.indexOf(`
`,E);return R==-1?zt:(E=Number(_.substring(E,R)),isNaN(E)?It:(R+=1,R+E>_.length?zt:(_=_.slice(R,R+E),h.C=R+E,_)))}hi.prototype.cancel=function(){this.K=!0,Sn(this)};function Ri(h){h.T=Date.now()+h.H,fi(h,h.H)}function fi(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=li(p(h.aa,h),_)}function Ji(h){h.D&&(u.clearTimeout(h.D),h.D=null)}hi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ci(this.i,this.B),this.M!=2&&(Tn(),vt(17)),Sn(this),this.m=2,Hn(this)):fi(this,this.T-h)};function Hn(h){h.j.I==0||h.K||mh(h.j,h)}function Sn(h){Ji(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,ys(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Ii(h,_){try{var E=h.j;if(E.I!=0&&(E.g==h||bt(E.h,h))){if(!h.L&&bt(E.h,h)&&E.I==3){try{var R=E.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Z=R;if(Z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Uo(E),Ur(E);else break e;Ga(E),vt(18)}}else E.xa=Z[1],0<E.xa-E.K&&Z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=li(p(E.Va,E),6e3));St(E.h)<=1&&E.ta&&(E.ta=void 0)}else Cs(E,11)}else if((h.L||E.g==h)&&Uo(E),!D(_))for(Z=E.Ba.g.parse(_),_=0;_<Z.length;_++){let lt=Z[_];const Nt=lt[0];if(!(Nt<=E.K))if(E.K=Nt,lt=lt[1],E.I==2)if(lt[0]=="c"){E.M=lt[1],E.ba=lt[2];const Mi=lt[3];Mi!=null&&(E.ka=Mi,E.j.info("VER="+E.ka));const Rs=lt[4];Rs!=null&&(E.za=Rs,E.j.info("SVER="+E.za));const is=lt[5];is!=null&&typeof is=="number"&&is>0&&(R=1.5*is,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const ss=h.g;if(ss){const $a=ss.g?ss.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($a){var se=R.h;se.g||$a.indexOf("spdy")==-1&&$a.indexOf("quic")==-1&&$a.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Wt(se,se.h),se.h=null))}if(R.G){const zo=ss.g?ss.g.getResponseHeader("X-HTTP-Session-Id"):null;zo&&(R.wa=zo,ht(R.J,R.G,zo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var ye=h;if(R.na=yh(R,R.L?R.ba:null,R.W),ye.L){An(R.h,ye);var Fe=ye,Gt=R.O;Gt&&(Fe.H=Gt),Fe.D&&(Ji(Fe),Ri(Fe)),R.g=ye}else fh(R);E.i.length>0&&As(E)}else lt[0]!="stop"&&lt[0]!="close"||Cs(E,7);else E.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?Cs(E,7):hc(E):lt[0]!="noop"&&E.l&&E.l.qa(lt),E.A=0)}}Tn(4)}catch{}}var F=class{constructor(h,_){this.g=h,this.map=_}};function Ie(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Et(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function St(h){return h.h?1:h.g?h.g.size:0}function bt(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Wt(h,_){h.g?h.g.add(_):h.h=_}function An(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Ie.prototype.cancel=function(){if(this.i=Xt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Xt(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const E of h.g.values())_=_.concat(E.G);return _}return C(h.i)}var Ni=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kr(h,_){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const R=h[E].indexOf("=");let Z,se=null;R>=0?(Z=h[E].substring(0,R),se=h[E].substring(R+1)):Z=h[E],_(Z,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function di(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof di?(this.l=h.l,gn(this,h.j),this.o=h.o,this.g=h.g,Dr(this,h.u),this.h=h.h,sc(this,uh(h.i)),this.m=h.m):h&&(_=String(h).match(Ni))?(this.l=!1,gn(this,_[1]||"",!0),this.o=xs(_[2]||""),this.g=xs(_[3]||"",!0),Dr(this,_[4]),this.h=xs(_[5]||"",!0),sc(this,_[6]||"",!0),this.m=xs(_[7]||"")):(this.l=!1,this.i=new Vr(null,this.l))}di.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Ua(_,Mo,!0),":");var E=this.g;return(E||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Ua(_,Mo,!0),"@"),h.push(Zi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ua(E,E.charAt(0)=="/"?rc:oh,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ua(E,lh)),h.join("")},di.prototype.resolve=function(h){const _=Zt(this);let E=!!h.j;E?gn(_,h.j):E=!!h.o,E?_.o=h.o:E=!!h.g,E?_.g=h.g:E=h.u!=null;var R=h.h;if(E)Dr(_,h.u);else if(E=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Z=_.h.lastIndexOf("/");Z!=-1&&(R=_.h.slice(0,Z+1)+R)}if(Z=R,Z==".."||Z==".")R="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){R=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const se=[];for(let ye=0;ye<Z.length;){const Fe=Z[ye++];Fe=="."?R&&ye==Z.length&&se.push(""):Fe==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),R&&ye==Z.length&&se.push("")):(se.push(Fe),R=!0)}R=se.join("/")}else R=Z}return E?_.h=R:E=h.i.toString()!=="",E?sc(_,uh(h.i)):E=!!h.m,E&&(_.m=h.m),_};function Zt(h){return new di(h)}function gn(h,_,E){h.j=E?xs(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Dr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function sc(h,_,E){_ instanceof Vr?(h.i=_,Po(h.i,h.l)):(E||(_=Ua(_,Mr)),h.i=new Vr(_,h.l))}function ht(h,_,E){h.i.set(_,E)}function La(h){return ht(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function xs(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ua(h,_,E){return typeof h=="string"?(h=encodeURI(h).replace(_,Zn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Zn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Mo=/[#\/\?@]/g,oh=/[#\?:]/g,rc=/[#\?]/g,Mr=/[#\?@]/g,lh=/#/g;function Vr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Jn(h){h.g||(h.g=new Map,h.h=0,h.i&&kr(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=Vr.prototype,t.add=function(h,_){Jn(this),this.i=null,h=Pr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this};function ch(h,_){Jn(h),_=Pr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function ac(h,_){return Jn(h),_=Pr(h,_),h.g.has(_)}t.forEach=function(h,_){Jn(this),this.g.forEach(function(E,R){E.forEach(function(Z){h.call(_,Z,R,this)},this)},this)};function oc(h,_){Jn(h);let E=[];if(typeof _=="string")ac(h,_)&&(E=E.concat(h.g.get(Pr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)E=E.concat(h[_]);return E}t.set=function(h,_){return Jn(this),this.i=null,h=Pr(this,h),ac(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=oc(this,h),h.length>0?String(h[0]):_):_};function Vo(h,_,E){ch(h,_),E.length>0&&(h.i=null,h.g.set(Pr(h,_),C(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var E=_[R];const Z=Zi(E);E=oc(this,E);for(let se=0;se<E.length;se++){let ye=Z;E[se]!==""&&(ye+="="+Zi(E[se])),h.push(ye)}}return this.i=h.join("&")};function uh(h){const _=new Vr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Pr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Po(h,_){_&&!h.j&&(Jn(h),h.i=null,h.g.forEach(function(E,R){const Z=R.toLowerCase();R!=Z&&(ch(this,R),Vo(this,Z,E))},h)),h.j=_}function es(h,_){const E=new qn;if(u.Image){const R=new Image;R.onload=y(ki,E,"TestLoadImage: loaded",!0,_,R),R.onerror=y(ki,E,"TestLoadImage: error",!1,_,R),R.onabort=y(ki,E,"TestLoadImage: abort",!1,_,R),R.ontimeout=y(ki,E,"TestLoadImage: timeout",!1,_,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else _(!1)}function lc(h,_){const E=new qn,R=new AbortController,Z=setTimeout(()=>{R.abort(),ki(E,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:R.signal}).then(se=>{clearTimeout(Z),se.ok?ki(E,"TestPingServer: ok",!0,_):ki(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Z),ki(E,"TestPingServer: error",!1,_)})}function ki(h,_,E,R,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),R(E)}catch{}}function Or(){this.g=new wn}function Ts(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Ts,vs),Ts.prototype.g=function(){return new za(this.i,this.h)};function za(h,_){ot.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(za,ot),t=za.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,ts(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,jr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Oo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Oo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?jr(this):ts(this),this.readyState==3&&Oo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,jr(this))},t.Na=function(h){this.g&&(this.response=h,jr(this))},t.ga=function(){this.g&&jr(this)};function jr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ts(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=_.next();return h.join(`\r
`)};function ts(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(za.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Di(h){let _="";return K(h,function(E,R){_+=R,_+=":",_+=E,_+=`\r
`}),_}function Ba(h,_,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Di(E),typeof h=="string"?E!=null&&Zi(E):ht(h,_,E))}function mt(h){ot.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(mt,ot);var Es=/^https?$/i,cc=["POST","PUT"];t=mt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xi.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(se){Fa(this,se);return}if(h=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Z in R)E.set(Z,R[Z]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const se of R.keys())E.set(se,R.get(se));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(se=>se.toLowerCase()=="content-type"),Z=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(cc,_,void 0)>=0)||R||Z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ye]of E)this.g.setRequestHeader(se,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(se){Fa(this,se)}};function Fa(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,uc(h),Qs(h)}function uc(h){h.A||(h.A=!0,Be(h,"complete"),Be(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Be(this,"complete"),Be(this,"abort"),Qs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qs(this,!0)),mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?qa(this):this.Xa())},t.Xa=function(){qa(this)};function qa(h){if(h.h&&typeof l<"u"){if(h.v&&ns(h)==4)setTimeout(h.Ca.bind(h),0);else if(Be(h,"readystatechange"),ns(h)==4){h.h=!1;try{const se=h.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var R;if(R=se===0){let ye=String(h.D).match(Ni)[1]||null;!ye&&u.self&&u.self.location&&(ye=u.self.location.protocol.slice(0,-1)),R=!Es.test(ye?ye.toLowerCase():"")}E=R}if(E)Be(h,"complete"),Be(h,"success");else{h.o=6;try{var Z=ns(h)>2?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.ca()+"]",uc(h)}}finally{Qs(h)}}}}function Qs(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,_||Be(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ns(h){return h.g?h.g.readyState:0}t.ca=function(){try{return ns(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Ys(_)}};function Cn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ws(h){const _={};h=(h.g&&ns(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(D(h[R]))continue;var E=Oa(h[R]);const Z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const se=_[Z]||[];_[Z]=se,se.push(E)}O(_,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function Lr(h){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ss("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ss("baseRetryDelayMs",5e3,h),this.Za=Ss("retryDelaySeedMs",1e4,h),this.Ta=Ss("forwardChannelMaxRetries",2,h),this.va=Ss("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ie(h&&h.concurrentRequestLimit),this.Ba=new Or,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Lr.prototype,t.ka=8,t.I=1,t.connect=function(h,_,E,R){vt(0),this.W=h,this.H=_||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=yh(this,null,this.W),As(this)};function hc(h){if(jo(h),h.I==3){var _=h.V++,E=Zt(h.J);if(ht(E,"SID",h.M),ht(E,"RID",_),ht(E,"TYPE","terminate"),Ha(h,E),_=new hi(h,h.j,_),_.M=2,_.A=La(Zt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=vh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ri(_)}gh(h)}function Ur(h){h.g&&(dc(h),h.g.cancel(),h.g=null)}function jo(h){Ur(h),h.v&&(u.clearTimeout(h.v),h.v=null),Uo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function As(h){if(!Et(h.h)&&!h.m){h.m=!0;var _=h.Ea;ue||S(),fe||(ue(),fe=!0),k.add(_,h),h.D=0}}function Lo(h,_){return St(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=li(p(h.Ea,h,_),ph(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Z=new hi(this,this.j,h);let se=this.o;if(this.U&&(se?(se=T(se),Q(se,this.U)):se=this.U),this.u!==null||this.R||(Z.J=se,se=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=hh(this,Z,_),E=Zt(this.J),ht(E,"RID",h),ht(E,"CVER",22),this.G&&ht(E,"X-HTTP-Session-Id",this.G),Ha(this,E),se&&(this.R?_="headers="+Zi(Di(se))+"&"+_:this.u&&Ba(E,this.u,se)),Wt(this.h,Z),this.Ra&&ht(E,"TYPE","init"),this.S?(ht(E,"$req",_),ht(E,"SID","null"),Z.U=!0,Ci(Z,E,null)):Ci(Z,E,_),this.I=2}}else this.I==3&&(h?fc(this,h):this.i.length==0||Et(this.h)||fc(this))};function fc(h,_){var E;_?E=_.l:E=h.V++;const R=Zt(h.J);ht(R,"SID",h.M),ht(R,"RID",E),ht(R,"AID",h.K),Ha(h,R),h.u&&h.o&&Ba(R,h.u,h.o),E=new hi(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),_&&(h.i=_.G.concat(h.i)),_=hh(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Wt(h.h,E),Ci(E,R,_)}function Ha(h,_){h.H&&K(h.H,function(E,R){ht(_,R,E)}),h.l&&K({},function(E,R){ht(_,R,E)})}function hh(h,_,E){E=Math.min(h.i.length,E);const R=h.l?p(h.l.Ka,h.l,h):null;e:{var Z=h.i;let Fe=-1;for(;;){const Gt=["count="+E];Fe==-1?E>0?(Fe=Z[0].g,Gt.push("ofs="+Fe)):Fe=0:Gt.push("ofs="+Fe);let lt=!0;for(let Nt=0;Nt<E;Nt++){var se=Z[Nt].g;const Mi=Z[Nt].map;if(se-=Fe,se<0)Fe=Math.max(0,Z[Nt].g-100),lt=!1;else try{se="req"+se+"_"||"";try{var ye=Mi instanceof Map?Mi:Object.entries(Mi);for(const[Rs,is]of ye){let ss=is;f(is)&&(ss=Si(is)),Gt.push(se+Rs+"="+encodeURIComponent(ss))}}catch(Rs){throw Gt.push(se+"type="+encodeURIComponent("_badmap")),Rs}}catch{R&&R(Mi)}}if(lt){ye=Gt.join("&");break e}}ye=void 0}return h=h.i.splice(0,E),_.G=h,ye}function fh(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ue||S(),fe||(ue(),fe=!0),k.add(_,h),h.A=0}}function Ga(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=li(p(h.Da,h),ph(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,dh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=li(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Ur(this),dh(this))};function dc(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function dh(h){h.g=new hi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Zt(h.na);ht(_,"RID","rpc"),ht(_,"SID",h.M),ht(_,"AID",h.K),ht(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&ht(_,"TO",h.ia),ht(_,"TYPE","xmlhttp"),Ha(h,_),h.u&&h.o&&Ba(_,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=La(Zt(_)),E.u=null,E.R=!0,Nr(E,h)}t.Va=function(){this.C!=null&&(this.C=null,Ur(this),Ga(this),vt(19))};function Uo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function mh(h,_){var E=null;if(h.g==_){Uo(h),dc(h),h.g=null;var R=2}else if(bt(h.h,_))E=_.G,An(h.h,_),R=1;else return;if(h.I!=0){if(_.o)if(R==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var Z=h.D;R=Ir(),Be(R,new pn(R,E)),As(h)}else fh(h);else if(Z=_.m,Z==3||Z==0&&_.X>0||!(R==1&&Lo(h,_)||R==2&&Ga(h)))switch(E&&E.length>0&&(_=h.h,_.i=_.i.concat(E)),Z){case 1:Cs(h,5);break;case 4:Cs(h,10);break;case 3:Cs(h,6);break;default:Cs(h,2)}}}function ph(h,_){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*_}function Cs(h,_){if(h.j.info("Error code "+_),_==2){var E=p(h.bb,h),R=h.Ua;const Z=!R;R=new di(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||gn(R,"https"),La(R),Z?es(R.toString(),E):lc(R.toString(),E)}else vt(2);h.I=0,h.l&&h.l.pa(_),gh(h),jo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function gh(h){if(h.I=0,h.ja=[],h.l){const _=Xt(h.h);(_.length!=0||h.i.length!=0)&&(V(h.ja,_),V(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function yh(h,_,E){var R=E instanceof di?Zt(E):new di(E);if(R.g!="")_&&(R.g=_+"."+R.g),Dr(R,R.u);else{var Z=u.location;R=Z.protocol,_=_?_+"."+Z.hostname:Z.hostname,Z=+Z.port;const se=new di(null);R&&gn(se,R),_&&(se.g=_),Z&&Dr(se,Z),E&&(se.h=E),R=se}return E=h.G,_=h.wa,E&&_&&ht(R,E,_),ht(R,"VER",h.ka),Ha(h,R),R}function vh(h,_,E){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new mt(new Ts({ab:E})):new mt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bh(){}t=bh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function zr(){}zr.prototype.g=function(h,_){return new Gn(h,_)};function Gn(h,_){ot.call(this),this.g=new Lr(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!D(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Xs(this)}b(Gn,ot),Gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){hc(this.g)},Gn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Si(h),h=E);_.i.push(new F(_.Ya++,h)),_.I==3&&As(_)},Gn.prototype.N=function(){this.g.l=null,delete this.j,hc(this.g),delete this.g,Gn.Z.N.call(this)};function _h(h){cn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const E in _){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(_h,cn);function wh(){xn.call(this),this.status=1}b(wh,xn);function Xs(h){this.g=h}b(Xs,bh),Xs.prototype.ra=function(){Be(this.g,"a")},Xs.prototype.qa=function(h){Be(this.g,new _h(h))},Xs.prototype.pa=function(h){Be(this.g,new wh)},Xs.prototype.oa=function(){Be(this.g,"b")},zr.prototype.createWebChannel=zr.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,YS=function(){return new zr},KS=function(){return Ir()},$S=Pt,gy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,$f=Ai,Wi.COMPLETE="complete",GS=Wi,bs.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",ot.prototype.listen=ot.prototype.J,ru=bs,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,HS=mt}).apply(typeof Rf<"u"?Rf:typeof self<"u"?self:typeof window<"u"?window:{});let Ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");let $l="12.8.0";function FP(t){$l=t}const To=new d0("@firebase/firestore");function yl(){return To.logLevel}function _e(t,...e){if(To.logLevel<=Ze.DEBUG){const n=e.map(A0);To.debug(`Firestore (${$l}): ${t}`,...n)}}function Sr(t,...e){if(To.logLevel<=Ze.ERROR){const n=e.map(A0);To.error(`Firestore (${$l}): ${t}`,...n)}}function Eo(t,...e){if(To.logLevel<=Ze.WARN){const n=e.map(A0);To.warn(`Firestore (${$l}): ${t}`,...n)}}function A0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Me(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,QS(t,s,n)}function QS(t,e,n){let s=`FIRESTORE (${$l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Sr(s),new Error(s)}function ut(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||QS(e,a,s)}function Ue(t,e){return t}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Gs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class br{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class WS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ln.UNAUTHENTICATED)))}shutdown(){}}class qP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class HP{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new br;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new br,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new br)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ut(typeof s.accessToken=="string",31837,{l:s}),new WS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Ln(e)}}class GP{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class $P{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new GP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class e1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const s=l=>{l.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,_e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new e1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new e1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function YP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Zd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=YP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Je(t,e){return t<e?-1:t>e?1:0}function yy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return kg(a)===kg(l)?Je(a,l):kg(a)?1:-1}return Je(t.length,e.length)}const QP=55296,WP=57343;function kg(t){const e=t.charCodeAt(0);return e>=QP&&e<=WP}function Vl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const t1="__name__";class Ms{constructor(e,n,s){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Me(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ms.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ms?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Ms.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Je(e.length,n.length)}static compareSegments(e,n){const s=Ms.isNumericId(e),a=Ms.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Ms.extractNumericId(e).compare(Ms.extractNumericId(n)):yy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ba.fromString(e.substring(4,e.length-2))}}class Tt extends Ms{construct(e,n,s){return new Tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ve(ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new Tt(n)}static emptyPath(){return new Tt([])}}const XP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends Ms{construct(e,n,s){return new bn(e,n,s)}static isValidIdentifier(e){return XP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===t1}static keyField(){return new bn([t1])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ve(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ve(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ve(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new ve(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Tt.fromString(e))}static fromName(e){return new Ne(Tt.fromString(e).popFirst(5))}static empty(){return new Ne(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Tt(e.slice()))}}function ZS(t,e,n){if(!n)throw new ve(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JS(t,e,n,s){if(e===!0&&s===!0)throw new ve(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function n1(t){if(!Ne.isDocumentKey(t))throw new ve(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function i1(t){if(Ne.isDocumentKey(t))throw new ve(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function eA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Jd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function Wn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jd(t);throw new ve(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function on(t,e){const n={typeString:t};return e&&(n.value=e),n}function Hu(t,e){if(!eA(t))throw new ve(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ve(ce.INVALID_ARGUMENT,n);return!0}const s1=-62135596800,r1=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*r1);return new Le(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<s1)throw new ve(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r1}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hu(e,Le._jsonSchema))return new Le(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-s1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Le._jsonSchemaVersion="firestore/timestamp/1.0",Le._jsonSchema={type:on("string",Le._jsonSchemaVersion),seconds:on("number"),nanoseconds:on("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Le(0,0))}static max(){return new Oe(new Le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Au=-1;function ZP(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(s===1e9?new Le(n+1,0):new Le(n,s));return new Ta(a,Ne.empty(),e)}function JP(t){return new Ta(t.readTime,t.key,Au)}class Ta{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ta(Oe.min(),Ne.empty(),Au)}static max(){return new Ta(Oe.max(),Ne.empty(),Au)}}function e4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}const t4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Kl(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==t4)throw t;_e("LocalStore","Unexpectedly lost primary lease")}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,s)=>{n(e)}))}static reject(e){return new he(((n,s)=>{s(e)}))}static waitFor(e){return new he(((n,s)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(m=>s(m)))})),u=!0,l===a&&n()}))}static or(e){let n=he.resolve(!1);for(const s of e)n=n.next((a=>a?he.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new he(((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((y=>{u[p]=y,++f,f===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new he(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function i4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yl(t){return t.name==="IndexedDbTransactionError"}class em{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}em.ce=-1;const C0=-1;function tm(t){return t==null}function pd(t){return t===0&&1/t==-1/0}function s4(t){return typeof t=="number"&&Number.isInteger(t)&&!pd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const tA="";function r4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=a1(e)),e=a4(t.get(n),e);return a1(e)}function a4(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case tA:n+="";break;default:n+=l}}return n}function a1(t){return t+tA+""}function o1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Da(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Lt{constructor(e,n){this.comparator=e,this.root=n||Mn.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new If(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new If(this.root,e,this.comparator,!1)}getReverseIterator(){return new If(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new If(this.root,e,this.comparator,!0)}}class If{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??Mn.RED,this.left=a??Mn.EMPTY,this.right=l??Mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new Mn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Mn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new Mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dn{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new l1(this.data.getIterator())}getIteratorFrom(e){return new l1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new dn(this.comparator);return n.data=e,n}}class l1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xi{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new xi([])}unionWith(e){let n=new dn(bn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new xi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class iA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new iA("Invalid base64 string: "+l):l}})(e);return new _n(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const o4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ea(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=o4.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sa(t){return typeof t=="string"?_n.fromBase64String(t):_n.fromUint8Array(t)}const sA="server_timestamp",rA="__type__",aA="__previous_value__",oA="__local_write_time__";function R0(t){return(t?.mapValue?.fields||{})[rA]?.stringValue===sA}function nm(t){const e=t.mapValue.fields[aA];return R0(e)?nm(e):e}function Cu(t){const e=Ea(t.mapValue.fields[oA].timestampValue);return new Le(e.seconds,e.nanos)}class l4{constructor(e,n,s,a,l,u,f,m,p,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=b}}const gd="(default)";class Pl{constructor(e,n){this.projectId=e,this.database=n||gd}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===gd}isEqual(e){return e instanceof Pl&&e.projectId===this.projectId&&e.database===this.database}}function c4(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ve(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(t.options.projectId,e)}const lA="__type__",u4="__max__",Nf={mapValue:{}},cA="__vector__",yd="value";function Aa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?R0(t)?4:f4(t)?9007199254740991:h4(t)?10:11:Me(28295,{value:t})}function Bs(t,e){if(t===e)return!0;const n=Aa(t);if(n!==Aa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cu(t).isEqual(Cu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Ea(a.timestampValue),f=Ea(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Sa(a.bytesValue).isEqual(Sa(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Yt(a.geoPointValue.latitude)===Yt(l.geoPointValue.latitude)&&Yt(a.geoPointValue.longitude)===Yt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Yt(a.integerValue)===Yt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Yt(a.doubleValue),f=Yt(l.doubleValue);return u===f?pd(u)===pd(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Vl(t.arrayValue.values||[],e.arrayValue.values||[],Bs);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(o1(u)!==o1(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!Bs(u[m],f[m])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function Ru(t,e){return(t.values||[]).find((n=>Bs(n,e)))!==void 0}function Ol(t,e){if(t===e)return 0;const n=Aa(t),s=Aa(e);if(n!==s)return Je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=Yt(l.integerValue||l.doubleValue),m=Yt(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return c1(t.timestampValue,e.timestampValue);case 4:return c1(Cu(t),Cu(e));case 5:return yy(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=Sa(l),m=Sa(u);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),m=u.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Je(f[p],m[p]);if(y!==0)return y}return Je(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Je(Yt(l.latitude),Yt(u.latitude));return f!==0?f:Je(Yt(l.longitude),Yt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return u1(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},m=u.fields||{},p=f[yd]?.arrayValue,y=m[yd]?.arrayValue,b=Je(p?.values?.length||0,y?.values?.length||0);return b!==0?b:u1(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Nf.mapValue&&u===Nf.mapValue)return 0;if(l===Nf.mapValue)return 1;if(u===Nf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=u.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let b=0;b<m.length&&b<y.length;++b){const x=yy(m[b],y[b]);if(x!==0)return x;const C=Ol(f[m[b]],p[y[b]]);if(C!==0)return C}return Je(m.length,y.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function c1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=Ea(t),s=Ea(e),a=Je(n.seconds,s.seconds);return a!==0?a:Je(n.nanos,s.nanos)}function u1(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Ol(n[a],s[a]);if(l)return l}return Je(n.length,s.length)}function jl(t){return vy(t)}function vy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Ea(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Sa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=vy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${vy(n.fields[u])}`;return a+"}"})(t.mapValue):Me(61005,{value:t})}function Kf(t){switch(Aa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nm(t);return e?16+Kf(e):16;case 5:return 2*t.stringValue.length;case 6:return Sa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Kf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Da(s.fields,((l,u)=>{a+=l.length+Kf(u)})),a})(t.mapValue);default:throw Me(13486,{value:t})}}function h1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function by(t){return!!t&&"integerValue"in t}function I0(t){return!!t&&"arrayValue"in t}function f1(t){return!!t&&"nullValue"in t}function d1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yf(t){return!!t&&"mapValue"in t}function h4(t){return(t?.mapValue?.fields||{})[lA]?.stringValue===cA}function fu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Da(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=fu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fu(t.arrayValue.values[n]);return e}return{...t}}function f4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===u4}class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Yf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(n)}setAll(e){let n=bn.emptyPath(),s={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}u?s[f.lastSegment()]=fu(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Yf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Yf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Da(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new ai(fu(this.value))}}function uA(t){const e=[];return Da(t.fields,((n,s)=>{const a=new bn([n]);if(Yf(s)){const l=uA(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new xi(e)}class Un{constructor(e,n,s,a,l,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Un(e,0,Oe.min(),Oe.min(),Oe.min(),ai.empty(),0)}static newFoundDocument(e,n,s,a){return new Un(e,1,n,Oe.min(),s,a,0)}static newNoDocument(e,n){return new Un(e,2,n,Oe.min(),Oe.min(),ai.empty(),0)}static newUnknownDocument(e,n){return new Un(e,3,n,Oe.min(),Oe.min(),ai.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vd{constructor(e,n){this.position=e,this.inclusive=n}}function m1(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=Ne.comparator(Ne.fromName(u.referenceValue),n.key):s=Ol(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function p1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bs(t.position[n],e.position[n]))return!1;return!0}class bd{constructor(e,n="asc"){this.field=e,this.dir=n}}function d4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class hA{}class an extends hA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new p4(e,n,s):n==="array-contains"?new v4(e,s):n==="in"?new b4(e,s):n==="not-in"?new _4(e,s):n==="array-contains-any"?new w4(e,s):new an(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new g4(e,s):new y4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ol(n,this.value)):n!==null&&Aa(this.value)===Aa(n)&&this.matchesComparison(Ol(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ps extends hA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ps(e,n)}matches(e){return fA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fA(t){return t.op==="and"}function dA(t){return m4(t)&&fA(t)}function m4(t){for(const e of t.filters)if(e instanceof ps)return!1;return!0}function _y(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+jl(t.value);if(dA(t))return t.filters.map((e=>_y(e))).join(",");{const e=t.filters.map((n=>_y(n))).join(",");return`${t.op}(${e})`}}function mA(t,e){return t instanceof an?(function(s,a){return a instanceof an&&s.op===a.op&&s.field.isEqual(a.field)&&Bs(s.value,a.value)})(t,e):t instanceof ps?(function(s,a){return a instanceof ps&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,f)=>l&&mA(u,a.filters[f])),!0):!1})(t,e):void Me(19439)}function pA(t){return t instanceof an?(function(n){return`${n.field.canonicalString()} ${n.op} ${jl(n.value)}`})(t):t instanceof ps?(function(n){return n.op.toString()+" {"+n.getFilters().map(pA).join(" ,")+"}"})(t):"Filter"}class p4 extends an{constructor(e,n,s){super(e,n,s),this.key=Ne.fromName(s.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class g4 extends an{constructor(e,n){super(e,"in",n),this.keys=gA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class y4 extends an{constructor(e,n){super(e,"not-in",n),this.keys=gA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function gA(t,e){return(e.arrayValue?.values||[]).map((n=>Ne.fromName(n.referenceValue)))}class v4 extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return I0(n)&&Ru(n.arrayValue,this.value)}}class b4 extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ru(this.value.arrayValue,n)}}class _4 extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ru(this.value.arrayValue,n)}}class w4 extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!I0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ru(this.value.arrayValue,s)))}}class x4{constructor(e,n=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function g1(t,e=null,n=[],s=[],a=null,l=null,u=null){return new x4(t,e,n,s,a,l,u)}function N0(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>_y(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),tm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>jl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>jl(s))).join(",")),e.Te=n}return e.Te}function k0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!d4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!p1(t.startAt,e.startAt)&&p1(t.endAt,e.endAt)}function wy(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Gu{constructor(e,n=null,s=[],a=[],l=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function T4(t,e,n,s,a,l,u,f){return new Gu(t,e,n,s,a,l,u,f)}function im(t){return new Gu(t)}function y1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function E4(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function yA(t){return t.collectionGroup!==null}function du(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new dn(bn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new bd(l,s))})),n.has(bn.keyField().canonicalString())||e.Ie.push(new bd(bn.keyField(),s))}return e.Ie}function js(t){const e=Ue(t);return e.Ee||(e.Ee=S4(e,du(t))),e.Ee}function S4(t,e){if(t.limitType==="F")return g1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new bd(a.field,l)}));const n=t.endAt?new vd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new vd(t.startAt.position,t.startAt.inclusive):null;return g1(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function xy(t,e){const n=t.filters.concat([e]);return new Gu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ty(t,e,n){return new Gu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sm(t,e){return k0(js(t),js(e))&&t.limitType===e.limitType}function vA(t){return`${N0(js(t))}|lt:${t.limitType}`}function vl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>pA(a))).join(", ")}]`),tm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>jl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>jl(a))).join(",")),`Target(${s})`})(js(t))}; limitType=${t.limitType})`}function rm(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ne.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of du(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,f,m){const p=m1(u,f,m);return u.inclusive?p<=0:p<0})(s.startAt,du(s),a)||s.endAt&&!(function(u,f,m){const p=m1(u,f,m);return u.inclusive?p>=0:p>0})(s.endAt,du(s),a))})(t,e)}function A4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bA(t){return(e,n)=>{let s=!1;for(const a of du(t)){const l=C4(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function C4(t,e,n){const s=t.field.isKeyField()?Ne.comparator(e.key,n.key):(function(l,u,f){const m=u.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Ol(m,p):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Me(19790,{direction:t.dir})}}class Ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Da(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return nA(this.inner)}size(){return this.innerSize}}const R4=new Lt(Ne.comparator);function Ar(){return R4}const _A=new Lt(Ne.comparator);function au(...t){let e=_A;for(const n of t)e=e.insert(n.key,n);return e}function wA(t){let e=_A;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function po(){return mu()}function xA(){return mu()}function mu(){return new Ro((t=>t.toString()),((t,e)=>t.isEqual(e)))}const I4=new Lt(Ne.comparator),N4=new dn(Ne.comparator);function et(...t){let e=N4;for(const n of t)e=e.add(n);return e}const k4=new dn(Je);function D4(){return k4}function D0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pd(e)?"-0":e}}function TA(t){return{integerValue:""+t}}function M4(t,e){return s4(e)?TA(e):D0(t,e)}class am{constructor(){this._=void 0}}function V4(t,e,n){return t instanceof _d?(function(a,l){const u={fields:{[rA]:{stringValue:sA},[oA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&R0(l)&&(l=nm(l)),l&&(u.fields[aA]=l),{mapValue:u}})(n,e):t instanceof Iu?SA(t,e):t instanceof Nu?AA(t,e):(function(a,l){const u=EA(a,l),f=v1(u)+v1(a.Ae);return by(u)&&by(a.Ae)?TA(f):D0(a.serializer,f)})(t,e)}function P4(t,e,n){return t instanceof Iu?SA(t,e):t instanceof Nu?AA(t,e):n}function EA(t,e){return t instanceof wd?(function(s){return by(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class _d extends am{}class Iu extends am{constructor(e){super(),this.elements=e}}function SA(t,e){const n=CA(e);for(const s of t.elements)n.some((a=>Bs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Nu extends am{constructor(e){super(),this.elements=e}}function AA(t,e){let n=CA(e);for(const s of t.elements)n=n.filter((a=>!Bs(a,s)));return{arrayValue:{values:n}}}class wd extends am{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function v1(t){return Yt(t.integerValue||t.doubleValue)}function CA(t){return I0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function O4(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Iu&&a instanceof Iu||s instanceof Nu&&a instanceof Nu?Vl(s.elements,a.elements,Bs):s instanceof wd&&a instanceof wd?Bs(s.Ae,a.Ae):s instanceof _d&&a instanceof _d})(t.transform,e.transform)}class j4{constructor(e,n){this.version=e,this.transformResults=n}}class $i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class om{}function RA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new M0(t.key,$i.none()):new $u(t.key,t.data,$i.none());{const n=t.data,s=ai.empty();let a=new dn(bn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Ma(t.key,s,new xi(a.toArray()),$i.none())}}function L4(t,e,n){t instanceof $u?(function(a,l,u){const f=a.value.clone(),m=_1(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Ma?(function(a,l,u){if(!Qf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=_1(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(IA(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function pu(t,e,n,s){return t instanceof $u?(function(l,u,f,m){if(!Qf(l.precondition,u))return f;const p=l.value.clone(),y=w1(l.fieldTransforms,m,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Ma?(function(l,u,f,m){if(!Qf(l.precondition,u))return f;const p=w1(l.fieldTransforms,m,u),y=u.data;return y.setAll(IA(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,u,f){return Qf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function U4(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=EA(s.transform,a||null);l!=null&&(n===null&&(n=ai.empty()),n.set(s.field,l))}return n||null}function b1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Vl(s,a,((l,u)=>O4(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $u extends om{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ma extends om{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function IA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function _1(t,e,n){const s=new Map;ut(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,P4(u,f,n[a]))}return s}function w1(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,V4(l,u,e))}return s}class M0 extends om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z4 extends om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class B4{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&L4(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=pu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=pu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=xA();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const m=RA(u,f);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Oe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),et())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,((n,s)=>b1(n,s)))&&Vl(this.baseMutations,e.baseMutations,((n,s)=>b1(n,s)))}}class V0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){ut(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return I4})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new V0(e,n,s,a)}}class F4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class q4{constructor(e,n){this.count=e,this.unchangedNames=n}}var sn,st;function H4(t){switch(t){case ce.OK:return Me(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function NA(t){if(t===void 0)return Sr("GRPC error has no .code"),ce.UNKNOWN;switch(t){case sn.OK:return ce.OK;case sn.CANCELLED:return ce.CANCELLED;case sn.UNKNOWN:return ce.UNKNOWN;case sn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case sn.INTERNAL:return ce.INTERNAL;case sn.UNAVAILABLE:return ce.UNAVAILABLE;case sn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case sn.NOT_FOUND:return ce.NOT_FOUND;case sn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case sn.ABORTED:return ce.ABORTED;case sn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case sn.DATA_LOSS:return ce.DATA_LOSS;default:return Me(39323,{code:t})}}(st=sn||(sn={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";function G4(){return new TextEncoder}const $4=new ba([4294967295,4294967295],0);function x1(t){const e=G4().encode(t),n=new qS;return n.update(e),new Uint8Array(n.digest())}function T1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ba([n,s],0),new ba([a,l],0)]}class P0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ou(`Invalid padding: ${n}`);if(s<0)throw new ou(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ou(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ba.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(ba.fromNumber(s)));return a.compare($4)===1&&(a=new ba([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=x1(e),[s,a]=T1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new P0(l,a,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=x1(e),[s,a]=T1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lm{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new lm(Oe.min(),a,new Lt(Je),Ar(),et())}}class Ku{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ku(s,n,et(),et(),et())}}class Wf{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class kA{constructor(e,n){this.targetId=e,this.Ce=n}}class DA{constructor(e,n,s=_n.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class E1{constructor(){this.ve=0,this.Fe=S1(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),n=et(),s=et();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Me(38017,{changeType:l})}})),new Ku(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=S1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class K4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ar(),this.He=kf(),this.Je=kf(),this.Ze=new Lt(Je)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(wy(l))if(s===0){const u=new Ne(l.path);this.et(n,u,Un.newNoDocument(u,Oe.min()))}else ut(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),m=f?this.ct(f,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=Sa(s).toUint8Array()}catch(m){if(m instanceof iA)return Eo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new P0(u,a,l)}catch(m){return Eo(m instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&wy(f.target)){const m=new Ne(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,Un.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let s=et();this.Je.forEach(((l,u)=>{let f=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new lm(e,n,this.Ze,this.je,s);return this.je=Ar(),this.He=kf(),this.Je=kf(),this.Ze=new Lt(Je),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new E1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new dn(Je),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new dn(Je),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new E1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function kf(){return new Lt(Ne.comparator)}function S1(){return new Lt(Ne.comparator)}const Y4={asc:"ASCENDING",desc:"DESCENDING"},Q4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W4={and:"AND",or:"OR"};class X4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ey(t,e){return t.useProto3Json||tm(e)?e:{value:e}}function xd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Z4(t,e){return xd(t,e.toTimestamp())}function Ls(t){return ut(!!t,49232),Oe.fromTimestamp((function(n){const s=Ea(n);return new Le(s.seconds,s.nanos)})(t))}function O0(t,e){return Sy(t,e).canonicalString()}function Sy(t,e){const n=(function(a){return new Tt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function VA(t){const e=Tt.fromString(t);return ut(UA(e),10190,{key:e.toString()}),e}function Ay(t,e){return O0(t.databaseId,e.path)}function Dg(t,e){const n=VA(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(OA(n))}function PA(t,e){return O0(t.databaseId,e)}function J4(t){const e=VA(t);return e.length===4?Tt.emptyPath():OA(e)}function Cy(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OA(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function A1(t,e,n){return{name:Ay(t,e),fields:n.value.mapValue.fields}}function eO(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Me(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(ut(y===void 0||typeof y=="string",58123),_n.fromBase64String(y||"")):(ut(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),_n.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(p){const y=p.code===void 0?ce.UNKNOWN:NA(p.code);return new ve(y,p.message||"")})(u);n=new DA(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Dg(t,s.document.name),l=Ls(s.document.updateTime),u=s.document.createTime?Ls(s.document.createTime):Oe.min(),f=new ai({mapValue:{fields:s.document.fields}}),m=Un.newFoundDocument(a,l,u,f),p=s.targetIds||[],y=s.removedTargetIds||[];n=new Wf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Dg(t,s.document),l=s.readTime?Ls(s.readTime):Oe.min(),u=Un.newNoDocument(a,l),f=s.removedTargetIds||[];n=new Wf([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Dg(t,s.document),l=s.removedTargetIds||[];n=new Wf([],l,a,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new q4(a,l),f=s.targetId;n=new kA(f,u)}}return n}function tO(t,e){let n;if(e instanceof $u)n={update:A1(t,e.key,e.value)};else if(e instanceof M0)n={delete:Ay(t,e.key)};else if(e instanceof Ma)n={update:A1(t,e.key,e.data),updateMask:uO(e.fieldMask)};else{if(!(e instanceof z4))return Me(16599,{dt:e.type});n={verify:Ay(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const f=u.transform;if(f instanceof _d)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Iu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Nu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof wd)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Me(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Z4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Me(27497)})(t,e.precondition)),n}function nO(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?Ls(a.updateTime):Ls(l);return u.isEqual(Oe.min())&&(u=Ls(l)),new j4(u,a.transformResults||[])})(n,e)))):[]}function iO(t,e){return{documents:[PA(t,e.path)]}}function sO(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=PA(t,a);const l=(function(p){if(p.length!==0)return LA(ps.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(x){return{field:bl(x.field),direction:oO(x.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Ey(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function rO(t){let e=J4(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ut(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(b){const x=jA(b);return x instanceof ps&&dA(x)?x.getFilters():[x]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((x=>(function(V){return new bd(_l(V.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(x)))})(n.orderBy));let f=null;n.limit&&(f=(function(b){let x;return x=typeof b=="object"?b.value:b,tm(x)?null:x})(n.limit));let m=null;n.startAt&&(m=(function(b){const x=!!b.before,C=b.values||[];return new vd(C,x)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const x=!b.before,C=b.values||[];return new vd(C,x)})(n.endAt)),T4(e,a,u,l,f,"F",m,p)}function aO(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=_l(n.unaryFilter.field);return an.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=_l(n.unaryFilter.field);return an.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=_l(n.unaryFilter.field);return an.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=_l(n.unaryFilter.field);return an.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return an.create(_l(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ps.create(n.compositeFilter.filters.map((s=>jA(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function oO(t){return Y4[t]}function lO(t){return Q4[t]}function cO(t){return W4[t]}function bl(t){return{fieldPath:t.canonicalString()}}function _l(t){return bn.fromServerFormat(t.fieldPath)}function LA(t){return t instanceof an?(function(n){if(n.op==="=="){if(d1(n.value))return{unaryFilter:{field:bl(n.field),op:"IS_NAN"}};if(f1(n.value))return{unaryFilter:{field:bl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d1(n.value))return{unaryFilter:{field:bl(n.field),op:"IS_NOT_NAN"}};if(f1(n.value))return{unaryFilter:{field:bl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bl(n.field),op:lO(n.op),value:n.value}}})(t):t instanceof ps?(function(n){const s=n.getFilters().map((a=>LA(a)));return s.length===1?s[0]:{compositeFilter:{op:cO(n.op),filters:s}}})(t):Me(54877,{filter:t})}function uO(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function UA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function zA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class pa{constructor(e,n,s,a,l=Oe.min(),u=Oe.min(),f=_n.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hO{constructor(e){this.yt=e}}function fO(t){const e=rO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ty(e,e.limit,"L"):e}class dO{constructor(){this.Sn=new mO}addToCollectionParentIndex(e,n){return this.Sn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Ta.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Ta.min())}updateCollectionGroup(e,n,s){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class mO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new dn(Tt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new dn(Tt.comparator)).toArray()}}const C1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BA=41943040;class ri{static withCacheSize(e){return new ri(e,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}ri.DEFAULT_COLLECTION_PERCENTILE=10,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ri.DEFAULT=new ri(BA,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ri.DISABLED=new ri(-1,0,0);class Ll{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ll(0)}static ar(){return new Ll(-1)}}const R1="LruGarbageCollector",pO=1048576;function I1([t,e],[n,s]){const a=Je(t,n);return a===0?Je(e,s):a}class gO{constructor(e){this.Pr=e,this.buffer=new dn(I1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();I1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){_e(R1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yl(n)?_e(R1,"Ignoring IndexedDB error during garbage collection: ",n):await Kl(n)}await this.Ar(3e5)}))}}class vO{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return he.resolve(em.ce);const s=new gO(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(C1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C1):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,u,f,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,f=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),yl()<=Ze.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function bO(t,e){return new vO(t,e)}class _O{constructor(){this.changes=new Ro((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?he.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class xO{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&pu(s.mutation,a,xi.empty(),Le.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,et()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=et()){const a=po();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=au();return l.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=po();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,et())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,a){let l=Ar();const u=mu(),f=(function(){return mu()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ma)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),pu(y.mutation,p,y.mutation.getFieldMask(),Le.now())):u.set(p.key,xi.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>f.set(p,new wO(y,u.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=mu();let a=new Lt(((u,f)=>u-f)),l=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||xi.empty();y=f.applyToLocalView(p,y),s.set(m,y);const b=(a.get(f.batchId)||et()).add(m);a=a.insert(f.batchId,b)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,b=xA();y.forEach((x=>{if(!l.has(x)){const C=RA(n.get(x),s.get(x));C!==null&&b.set(x,C),l=l.add(x)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,b))}return he.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return E4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):he.resolve(po());let f=Au,m=l;return u.next((p=>he.forEach(p,((y,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(y)?he.resolve():this.remoteDocumentCache.getEntry(e,y).next((x=>{m=m.insert(y,x)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,et()))).next((y=>({batchId:f,changes:wA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next((s=>{let a=au();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=au();return this.indexManager.getCollectionParents(e,l).next((f=>he.forEach(f,(m=>{const p=(function(b,x){return new Gu(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((b,x)=>{u=u.insert(b,x)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((m,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Un.newInvalidDocument(y)))}));let f=au();return u.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&pu(y.mutation,p,xi.empty(),Le.now()),rm(n,p)&&(f=f.insert(m,p))})),f}))}}class TO{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return he.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Ls(a.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:fO(a.bundledQuery),readTime:Ls(a.readTime)}})(n)),he.resolve()}}class EO{constructor(){this.overlays=new Lt(Ne.comparator),this.Lr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const s=po();return he.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),he.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),he.resolve()}getOverlaysForCollection(e,n,s){const a=po(),l=n.length+1,u=new Ne(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return he.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Lt(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=po(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=po(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return he.resolve(f)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new F4(n,s));let l=this.Lr.get(n);l===void 0&&(l=et(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class SO{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}class j0{constructor(){this.kr=new dn(vn.Kr),this.qr=new dn(vn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new vn(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new vn(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Ne(new Tt([])),s=new vn(n,e),a=new vn(n,e+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ne(new Tt([])),s=new vn(n,e),a=new vn(n,e+1);let l=et();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new vn(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class vn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ne.comparator(e.key,n.key)||Je(e.Hr,n.Hr)}static Ur(e,n){return Je(e.Hr,n.Hr)||Ne.comparator(e.key,n.key)}}class AO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new dn(vn.Kr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new B4(l,n,s,a);this.mutationQueue.push(u);for(const f of a)this.Jr=this.Jr.add(new vn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,n){return he.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?C0:this.Yn-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new vn(n,0),a=new vn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const f=this.Zr(u.Hr);l.push(f)})),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new dn(Je);return n.forEach((a=>{const l=new vn(a,0),u=new vn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(f=>{s=s.add(f.Hr)}))})),he.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Ne.isDocumentKey(l)||(l=l.child(""));const u=new vn(new Ne(l),0);let f=new dn(Je);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Hr)),!0)}),u),he.resolve(this.Yr(f))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ut(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return he.forEach(n.mutations,(a=>{const l=new vn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new vn(n,0),a=this.Jr.firstAfterOrEqual(s);return he.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class CO{constructor(e){this.ti=e,this.docs=(function(){return new Lt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return he.resolve(s?s.document.mutableCopy():Un.newInvalidDocument(n))}getEntries(e,n){let s=Ar();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Un.newInvalidDocument(a))})),he.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Ar();const u=n.path,f=new Ne(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||e4(JP(y),s)<=0||(a.has(y.key)||rm(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Me(9500)}ni(e,n){return he.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new RO(this)}getSize(e){return he.resolve(this.size)}}class RO extends _O{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),he.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class IO{constructor(e){this.persistence=e,this.ri=new Ro((n=>N0(n)),k0),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.ii=0,this.si=new j0,this.targetCount=0,this.oi=Ll._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),he.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Ll(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.lr(n),he.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),he.waitFor(l).next((()=>a))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return he.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),he.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),he.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return he.resolve(s)}containsKey(e,n){return he.resolve(this.si.containsKey(n))}}class FA{constructor(e,n){this._i={},this.overlays={},this.ai=new em(0),this.ui=!1,this.ui=!0,this.ci=new SO,this.referenceDelegate=e(this),this.li=new IO(this),this.indexManager=new dO,this.remoteDocumentCache=(function(a){return new CO(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new hO(n),this.Pi=new TO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new AO(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){_e("MemoryPersistence","Starting transaction:",e);const a=new NO(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return he.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class NO extends n4{constructor(e){super(),this.currentSequenceNumber=e}}class L0{constructor(e){this.persistence=e,this.Ri=new j0,this.Ai=null}static Vi(e){return new L0(e)}get di(){if(this.Ai)return this.Ai;throw Me(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),he.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.di,(s=>{const a=Ne.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Oe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Td{constructor(e,n){this.persistence=e,this.fi=new Ro((s=>r4(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=bO(this,n)}static Vi(e,n){return new Td(e,n)}Ti(){}Ii(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return he.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?he.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((f=>{f||(s++,l.removeEntry(u,Oe.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),he.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),he.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kf(e.data.value)),n}wr(e,n,s){return he.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return he.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class U0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=et(),a=et();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new U0(e,n.fromCache,s,a)}}class kO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class DO{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return wD()?8:i4(Bn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new kO;return this.ys(e,n,u).next((f=>{if(l.result=f,this.As)return this.ws(e,n,u,f.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(yl()<=Ze.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",vl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),he.resolve()):(yl()<=Ze.DEBUG&&_e("QueryEngine","Query:",vl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(yl()<=Ze.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",vl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,js(n))):he.resolve())}gs(e,n){if(y1(n))return he.resolve(null);let s=js(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Ty(n,null,"F"),s=js(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=et(...l);return this.fs.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.bs(n,f);return this.Ss(n,p,u,m.readTime)?this.gs(e,Ty(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,s,a){return y1(n)||a.isEqual(Oe.min())?he.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,s,a)?he.resolve(null):(yl()<=Ze.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),vl(n)),this.Ds(e,u,n,ZP(a,Au)).next((f=>f)))}))}bs(e,n){let s=new dn(bA(e));return n.forEach(((a,l)=>{rm(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return yl()<=Ze.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",vl(n)),this.fs.getDocumentsMatchingQuery(e,n,Ta.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const z0="LocalStore",MO=3e8;class VO{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Lt(Je),this.Fs=new Ro((l=>N0(l)),k0),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xO(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function PO(t,e,n,s){return new VO(t,e,n,s)}async function qA(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],f=[];let m=et();for(const p of a){u.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:f})))}))}))}function OO(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const b=p.batch,x=b.keys();let C=he.resolve();return x.forEach((V=>{C=C.next((()=>y.getEntry(m,V))).next((j=>{const N=p.docVersions.get(V);ut(N!==null,48541),j.version.compareTo(N)<0&&(b.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),y.addEntry(j)))}))})),C.next((()=>f.mutationQueue.removeMutationBatch(m,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=et();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function HA(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function jO(t,e){const n=Ue(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const f=[];e.targetChanges.forEach(((y,b)=>{const x=a.get(b);if(!x)return;f.push(n.li.removeMatchingKeys(l,y.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,b))));let C=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken(_n.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(b,C),(function(j,N,H){return j.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=MO?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(x,C,y)&&f.push(n.li.updateTargetData(l,C))}));let m=Ar(),p=et();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(LO(l,u,e.documentUpdates).next((y=>{m=y.Bs,p=y.Ls}))),!s.isEqual(Oe.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(y)}return he.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function LO(t,e,n){let s=et(),a=et();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=Ar();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Oe.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):_e(z0,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function UO(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=C0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function zO(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,he.resolve(a)):n.li.allocateTargetId(s).next((u=>(a=new pa(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Ry(t,e,n){const s=Ue(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Yl(u))throw u;_e(z0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function N1(t,e,n){const s=Ue(t);let a=Oe.min(),l=et();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,y){const b=Ue(m),x=b.Fs.get(y);return x!==void 0?he.resolve(b.vs.get(x)):b.li.getTargetData(p,y)})(s,u,js(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,f.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,n?a:Oe.min(),n?l:et()))).next((f=>(BO(s,A4(e),f),{documents:f,ks:l})))))}function BO(t,e,n){let s=t.Ms.get(e)||Oe.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class k1{constructor(){this.activeTargetIds=D4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FO{constructor(){this.vo=new k1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new k1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qO{Mo(e){}shutdown(){}}const D1="ConnectivityMonitor";class M1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){_e(D1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){_e(D1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Df=null;function Iy(){return Df===null?Df=(function(){return 268435456+Math.round(2147483648*Math.random())})():Df++,"0x"+Df.toString(16)}const Mg="RestConnection",HO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class GO{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===gd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const u=Iy(),f=this.Qo(e,n.toUriEncodedString());_e(Mg,`Sending RPC '${e}' ${u}:`,f,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(f),y=Ao(p);return this.zo(e,f,m,s,y).then((b=>(_e(Mg,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Eo(Mg,`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",s),b}))}jo(e,n,s,a,l,u){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$l})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=HO[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class $O{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const On="WebChannelConnection",Jc=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Nl extends GO{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Nl.c_){const e=KS();Jc(e,$S.STAT_EVENT,(n=>{n.stat===gy.PROXY?_e(On,"STAT_EVENT: detected buffering proxy"):n.stat===gy.NOPROXY&&_e(On,"STAT_EVENT: detected no buffering proxy")})),Nl.c_=!0}}zo(e,n,s,a,l){const u=Iy();return new Promise(((f,m)=>{const p=new HS;p.setWithCredentials(!0),p.listenOnce(GS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case $f.NO_ERROR:const b=p.getResponseJson();_e(On,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),f(b);break;case $f.TIMEOUT:_e(On,`RPC '${e}' ${u} timed out`),m(new ve(ce.DEADLINE_EXCEEDED,"Request time out"));break;case $f.HTTP_ERROR:const x=p.getStatus();if(_e(On,`RPC '${e}' ${u} failed with status:`,x,"response text:",p.getResponseText()),x>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const V=C?.error;if(V&&V.status&&V.message){const j=(function(H){const W=H.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(W)>=0?W:ce.UNKNOWN})(V.status);m(new ve(j,V.message))}else m(new ve(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ve(ce.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{_e(On,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);_e(On,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=Iy(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const p=l.join("");_e(On,`Creating RPC '${e}' stream ${a}: ${p}`,f);const y=u.createWebChannel(p,f);this.I_(y);let b=!1,x=!1;const C=new $O({Ho:V=>{x?_e(On,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(b||(_e(On,`Opening RPC '${e}' stream ${a} transport.`),y.open(),b=!0),_e(On,`RPC '${e}' stream ${a} sending:`,V),y.send(V))},Jo:()=>y.close()});return Jc(y,ru.EventType.OPEN,(()=>{x||(_e(On,`RPC '${e}' stream ${a} transport opened.`),C.i_())})),Jc(y,ru.EventType.CLOSE,(()=>{x||(x=!0,_e(On,`RPC '${e}' stream ${a} transport closed`),C.o_(),this.E_(y))})),Jc(y,ru.EventType.ERROR,(V=>{x||(x=!0,Eo(On,`RPC '${e}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),C.o_(new ve(ce.UNAVAILABLE,"The operation could not be completed")))})),Jc(y,ru.EventType.MESSAGE,(V=>{if(!x){const j=V.data[0];ut(!!j,16349);const N=j,H=N?.error||N[0]?.error;if(H){_e(On,`RPC '${e}' stream ${a} received error:`,H);const W=H.status;let Y=(function(fe){const k=sn[fe];if(k!==void 0)return NA(k)})(W),me=H.message;Y===void 0&&(Y=ce.INTERNAL,me="Unknown error status: "+W+" with message "+H.message),x=!0,C.o_(new ve(Y,me)),y.close()}else _e(On,`RPC '${e}' stream ${a} received:`,j),C.__(j)}})),Nl.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return YS()}}function KO(t){return new Nl(t)}function Vg(){return typeof document<"u"?document:null}function cm(t){return new X4(t,!0)}Nl.c_=!1;class GA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&_e("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const V1="PersistentStream";class $A{constructor(e,n,s,a,l,u,f,m){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ve(ce.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(V1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(_e(V1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YO extends $A{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=eO(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Oe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?Ls(u.readTime):Oe.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Cy(this.serializer),n.addTarget=(function(l,u){let f;const m=u.target;if(f=wy(m)?{documents:iO(l,m)}:{query:sO(l,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=MA(l,u.resumeToken);const p=Ey(l,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(Oe.min())>0){f.readTime=xd(l,u.snapshotVersion.toTimestamp());const p=Ey(l,u.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=aO(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Cy(this.serializer),n.removeTarget=e,this.K_(n)}}class QO extends $A{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nO(e.writeResults,e.commitTime),s=Ls(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Cy(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>tO(this.serializer,s)))};this.K_(n)}}class WO{}class XO extends WO{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ve(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,Sy(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ce.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(e,Sy(n,s),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(ce.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function ZO(t,e,n,s){return new XO(t,e,n,s)}class JO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Sr(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const So="RemoteStore";class e5{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{Io(this)&&(_e(So,"Restarting streams for network reachability change."),await(async function(m){const p=Ue(m);p.Ea.add(4),await Yu(p),p.Va.set("Unknown"),p.Ea.delete(4),await um(p)})(this))}))})),this.Va=new JO(s,a)}}async function um(t){if(Io(t))for(const e of t.Ra)await e(!0)}async function Yu(t){for(const e of t.Ra)await e(!1)}function KA(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),H0(n)?q0(n):Ql(n).O_()&&F0(n,e))}function B0(t,e){const n=Ue(t),s=Ql(n);n.Ia.delete(e),s.O_()&&YA(n,e),n.Ia.size===0&&(s.O_()?s.L_():Io(n)&&n.Va.set("Unknown"))}function F0(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ql(t).Z_(e)}function YA(t,e){t.da.$e(e),Ql(t).X_(e)}function q0(t){t.da=new K4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ql(t).start(),t.Va.ua()}function H0(t){return Io(t)&&!Ql(t).x_()&&t.Ia.size>0}function Io(t){return Ue(t).Ea.size===0}function QA(t){t.da=void 0}async function t5(t){t.Va.set("Online")}async function n5(t){t.Ia.forEach(((e,n)=>{F0(t,e)}))}async function i5(t,e){QA(t),H0(t)?(t.Va.ha(e),q0(t)):t.Va.set("Unknown")}async function s5(t,e,n){if(t.Va.set("Online"),e instanceof DA&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.da.removeTarget(f))})(t,e)}catch(s){_e(So,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ed(t,s)}else if(e instanceof Wf?t.da.Xe(e):e instanceof kA?t.da.st(e):t.da.tt(e),!n.isEqual(Oe.min()))try{const s=await HA(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const f=l.da.Tt(u);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(_n.EMPTY_BYTE_STRING,y.snapshotVersion)),YA(l,m);const b=new pa(y.target,m,p,y.sequenceNumber);F0(l,b)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){_e(So,"Failed to raise snapshot:",s),await Ed(t,s)}}async function Ed(t,e,n){if(!Yl(e))throw e;t.Ea.add(1),await Yu(t),t.Va.set("Offline"),n||(n=()=>HA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(So,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await um(t)}))}function WA(t,e){return e().catch((n=>Ed(t,n,e)))}async function hm(t){const e=Ue(t),n=Ca(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:C0;for(;r5(e);)try{const a=await UO(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,a5(e,a)}catch(a){await Ed(e,a)}XA(e)&&ZA(e)}function r5(t){return Io(t)&&t.Ta.length<10}function a5(t,e){t.Ta.push(e);const n=Ca(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function XA(t){return Io(t)&&!Ca(t).x_()&&t.Ta.length>0}function ZA(t){Ca(t).start()}async function o5(t){Ca(t).ra()}async function l5(t){const e=Ca(t);for(const n of t.Ta)e.ea(n.mutations)}async function c5(t,e,n){const s=t.Ta.shift(),a=V0.from(s,e,n);await WA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await hm(t)}async function u5(t,e){e&&Ca(t).Y_&&await(async function(s,a){if((function(u){return H4(u)&&u!==ce.ABORTED})(a.code)){const l=s.Ta.shift();Ca(s).B_(),await WA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await hm(s)}})(t,e),XA(t)&&ZA(t)}async function P1(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),_e(So,"RemoteStore received new credentials");const s=Io(n);n.Ea.add(3),await Yu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await um(n)}async function h5(t,e){const n=Ue(t);e?(n.Ea.delete(2),await um(n)):e||(n.Ea.add(2),await Yu(n),n.Va.set("Unknown"))}function Ql(t){return t.ma||(t.ma=(function(n,s,a){const l=Ue(n);return l.sa(),new YO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:t5.bind(null,t),Yo:n5.bind(null,t),t_:i5.bind(null,t),J_:s5.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),H0(t)?q0(t):t.Va.set("Unknown")):(await t.ma.stop(),QA(t))}))),t.ma}function Ca(t){return t.fa||(t.fa=(function(n,s,a){const l=Ue(n);return l.sa(),new QO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:o5.bind(null,t),t_:u5.bind(null,t),ta:l5.bind(null,t),na:c5.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await hm(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(So,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class G0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,f=new G0(e,n,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $0(t,e){if(Sr("AsyncQueue",`${e}: ${t}`),Yl(t))return new ve(ce.UNAVAILABLE,`${e}: ${t}`);throw t}class kl{static emptySet(e){return new kl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ne.comparator(n.key,s.key):(n,s)=>Ne.comparator(n.key,s.key),this.keyedMap=au(),this.sortedSet=new Lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new kl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class O1{constructor(){this.ga=new Lt(Ne.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ul{constructor(e,n,s,a,l,u,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Ul(e,n,kl.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class f5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class d5{constructor(){this.queries=j1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ue(n),l=a.queries;a.queries=j1(),l.forEach(((u,f)=>{for(const m of f.ba)m.onError(s)}))})(this,new ve(ce.ABORTED,"Firestore shutting down"))}}function j1(){return new Ro((t=>vA(t)),sm)}async function K0(t,e){const n=Ue(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new f5,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=$0(u,`Initialization of query '${vl(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Q0(n)}async function Y0(t,e){const n=Ue(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function m5(t,e){const n=Ue(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.ba)f.Fa(a)&&(s=!0);u.wa=a}}s&&Q0(n)}function p5(t,e,n){const s=Ue(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function Q0(t){t.Ca.forEach((e=>{e.next()}))}var Ny,L1;(L1=Ny||(Ny={})).Ma="default",L1.Cache="cache";class W0{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Ul(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ny.Cache}}class JA{constructor(e){this.key=e}}class e2{constructor(e){this.key=e}}class g5{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=et(),this.mutatedKeys=et(),this.eu=bA(e),this.tu=new kl(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new O1,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,b)=>{const x=a.get(y),C=rm(this.query,b)?b:null,V=!!x&&this.mutatedKeys.has(x.key),j=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let N=!1;x&&C?x.data.isEqual(C.data)?V!==j&&(s.track({type:3,doc:C}),N=!0):this.su(x,C)||(s.track({type:2,doc:C}),N=!0,(m&&this.eu(C,m)>0||p&&this.eu(C,p)<0)&&(f=!0)):!x&&C?(s.track({type:0,doc:C}),N=!0):x&&!C&&(s.track({type:1,doc:x}),N=!0,(m||p)&&(f=!0)),N&&(C?(u=u.add(C),l=j?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Ss:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,b)=>(function(C,V){const j=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:N})}};return j(C)-j(V)})(y.type,b.type)||this.eu(y.doc,b.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,u.length!==0||p?{snapshot:new Ul(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new O1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=et(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new e2(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new JA(s))})),n}cu(e){this.Za=e.ks,this.Ya=et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ul.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const X0="SyncEngine";class y5{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class v5{constructor(e){this.key=e,this.hu=!1}}class b5{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ro((f=>vA(f)),sm),this.Iu=new Map,this.Eu=new Set,this.Ru=new Lt(Ne.comparator),this.Au=new Map,this.Vu=new j0,this.du={},this.mu=new Map,this.fu=Ll.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _5(t,e,n=!0){const s=a2(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await t2(s,e,n,!0),a}async function w5(t,e){const n=a2(t);await t2(n,e,!0,!1)}async function t2(t,e,n,s){const a=await zO(t.localStore,js(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await x5(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&KA(t.remoteStore,a),f}async function x5(t,e,n,s,a){t.pu=(b,x,C)=>(async function(j,N,H,W){let Y=N.view.ru(H);Y.Ss&&(Y=await N1(j.localStore,N.query,!1).then((({documents:k})=>N.view.ru(k,Y))));const me=W&&W.targetChanges.get(N.targetId),ue=W&&W.targetMismatches.get(N.targetId)!=null,fe=N.view.applyChanges(Y,j.isPrimaryClient,me,ue);return z1(j,N.targetId,fe.au),fe.snapshot})(t,b,x,C);const l=await N1(t.localStore,e,!0),u=new g5(e,l.ks),f=u.ru(l.documents),m=Ku.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=u.applyChanges(f,t.isPrimaryClient,m);z1(t,n,p.au);const y=new y5(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function T5(t,e,n){const s=Ue(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!sm(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ry(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&B0(s.remoteStore,a.targetId),ky(s,a.targetId)})).catch(Kl)):(ky(s,a.targetId),await Ry(s.localStore,a.targetId,!0))}async function E5(t,e){const n=Ue(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),B0(n.remoteStore,s.targetId))}async function S5(t,e,n){const s=D5(t);try{const a=await(function(u,f){const m=Ue(u),p=Le.now(),y=f.reduce(((C,V)=>C.add(V.key)),et());let b,x;return m.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let V=Ar(),j=et();return m.xs.getEntries(C,y).next((N=>{V=N,V.forEach(((H,W)=>{W.isValidDocument()||(j=j.add(H))}))})).next((()=>m.localDocuments.getOverlayedDocuments(C,V))).next((N=>{b=N;const H=[];for(const W of f){const Y=U4(W,b.get(W.key).overlayedDocument);Y!=null&&H.push(new Ma(W.key,Y,uA(Y.value.mapValue),$i.exists(!0)))}return m.mutationQueue.addMutationBatch(C,p,H,f)})).next((N=>{x=N;const H=N.applyToLocalDocumentSet(b,j);return m.documentOverlayCache.saveOverlays(C,N.batchId,H)}))})).then((()=>({batchId:x.batchId,changes:wA(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,f,m){let p=u.du[u.currentUser.toKey()];p||(p=new Lt(Je)),p=p.insert(f,m),u.du[u.currentUser.toKey()]=p})(s,a.batchId,n),await Qu(s,a.changes),await hm(s.remoteStore)}catch(a){const l=$0(a,"Failed to persist write");n.reject(l)}}async function n2(t,e){const n=Ue(t);try{const s=await jO(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(ut(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?ut(u.hu,14607):a.removedDocuments.size>0&&(ut(u.hu,42227),u.hu=!1))})),await Qu(n,s,e)}catch(s){await Kl(s)}}function U1(t,e,n){const s=Ue(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const m=Ue(u);m.onlineState=f;let p=!1;m.queries.forEach(((y,b)=>{for(const x of b.ba)x.va(f)&&(p=!0)})),p&&Q0(m)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function A5(t,e,n){const s=Ue(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new Lt(Ne.comparator);u=u.insert(l,Un.newNoDocument(l,Oe.min()));const f=et().add(l),m=new lm(Oe.min(),new Map,new Lt(Je),u,f);await n2(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(e),Z0(s)}else await Ry(s.localStore,e,!1).then((()=>ky(s,e,n))).catch(Kl)}async function C5(t,e){const n=Ue(t),s=e.batch.batchId;try{const a=await OO(n.localStore,e);s2(n,s,null),i2(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Qu(n,a)}catch(a){await Kl(a)}}async function R5(t,e,n){const s=Ue(t);try{const a=await(function(u,f){const m=Ue(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((b=>(ut(b!==null,37113),y=b.keys(),m.mutationQueue.removeMutationBatch(p,b)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);s2(s,e,n),i2(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Qu(s,a)}catch(a){await Kl(a)}}function i2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function s2(t,e,n){const s=Ue(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function ky(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||r2(t,s)}))}function r2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(B0(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Z0(t))}function z1(t,e,n){for(const s of n)s instanceof JA?(t.Vu.addReference(s.key,e),I5(t,s)):s instanceof e2?(_e(X0,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||r2(t,s.key)):Me(19791,{wu:s})}function I5(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(_e(X0,"New document in limbo: "+n),t.Eu.add(s),Z0(t))}function Z0(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ne(Tt.fromString(e)),s=t.fu.next();t.Au.set(s,new v5(n)),t.Ru=t.Ru.insert(n,s),KA(t.remoteStore,new pa(js(im(n.path)),s,"TargetPurposeLimboResolution",em.ce))}}async function Qu(t,e,n){const s=Ue(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{u.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=U0.Es(m.targetId,p);l.push(y)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(m,p){const y=Ue(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>he.forEach(p,(x=>he.forEach(x.Ts,(C=>y.persistence.referenceDelegate.addReference(b,x.targetId,C))).next((()=>he.forEach(x.Is,(C=>y.persistence.referenceDelegate.removeReference(b,x.targetId,C)))))))))}catch(b){if(!Yl(b))throw b;_e(z0,"Failed to update sequence numbers: "+b)}for(const b of p){const x=b.targetId;if(!b.fromCache){const C=y.vs.get(x),V=C.snapshotVersion,j=C.withLastLimboFreeSnapshotVersion(V);y.vs=y.vs.insert(x,j)}}})(s.localStore,l))}async function N5(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){_e(X0,"User change. New user:",e.toKey());const s=await qA(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new ve(ce.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Qu(n,s.Ns)}}function k5(t,e){const n=Ue(t),s=n.Au.get(e);if(s&&s.hu)return et().add(s.key);{let a=et();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function a2(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=n2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A5.bind(null,e),e.Pu.J_=m5.bind(null,e.eventManager),e.Pu.yu=p5.bind(null,e.eventManager),e}function D5(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R5.bind(null,e),e}class Sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return PO(this.persistence,new DO,e.initialUser,this.serializer)}Cu(e){return new FA(L0.Vi,this.serializer)}Du(e){return new FO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sd.provider={build:()=>new Sd};class M5 extends Sd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof Td,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new yO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ri.withCacheSize(this.cacheSizeBytes):ri.DEFAULT;return new FA((s=>Td.Vi(s,n)),this.serializer)}}class Dy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>U1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=N5.bind(null,this.syncEngine),await h5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new d5})()}createDatastore(e){const n=cm(e.databaseInfo.databaseId),s=KO(e.databaseInfo);return ZO(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,f){return new e5(s,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>U1(this.syncEngine,n,0)),(function(){return M1.v()?new M1:new qO})())}createSyncEngine(e,n){return(function(a,l,u,f,m,p,y){const b=new b5(a,l,u,f,m,p);return y&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ue(n);_e(So,"RemoteStore shutting down."),s.Ea.add(5),await Yu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dy.provider={build:()=>new Dy};class J0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ra="FirestoreClient";class V5{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=Ln.UNAUTHENTICATED,this.clientId=Zd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{_e(Ra,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(_e(Ra,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=$0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Pg(t,e){t.asyncQueue.verifyOperationInProgress(),_e(Ra,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await qA(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function B1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await P5(t);_e(Ra,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>P1(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>P1(e.remoteStore,a))),t._onlineComponents=e}async function P5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(Ra,"Using user provided OfflineComponentProvider");try{await Pg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Eo("Error using user provided cache. Falling back to memory cache: "+n),await Pg(t,new Sd)}}else _e(Ra,"Using default OfflineComponentProvider"),await Pg(t,new M5(void 0));return t._offlineComponents}async function o2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(Ra,"Using user provided OnlineComponentProvider"),await B1(t,t._uninitializedComponentsProvider._online)):(_e(Ra,"Using default OnlineComponentProvider"),await B1(t,new Dy))),t._onlineComponents}function O5(t){return o2(t).then((e=>e.syncEngine))}async function Ad(t){const e=await o2(t),n=e.eventManager;return n.onListen=_5.bind(null,e.syncEngine),n.onUnlisten=T5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=w5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=E5.bind(null,e.syncEngine),n}function j5(t,e,n,s){const a=new J0(s),l=new W0(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>K0(await Ad(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>Y0(await Ad(t),l)))}}function L5(t,e,n={}){const s=new br;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const y=new J0({next:x=>{y.Nu(),u.enqueueAndForget((()=>Y0(l,b)));const C=x.docs.has(f);!C&&x.fromCache?p.reject(new ve(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&x.fromCache&&m&&m.source==="server"?p.reject(new ve(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new W0(im(f.path),y,{includeMetadataChanges:!0,Ka:!0});return K0(l,b)})(await Ad(t),t.asyncQueue,e,n,s))),s.promise}function U5(t,e,n={}){const s=new br;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const y=new J0({next:x=>{y.Nu(),u.enqueueAndForget((()=>Y0(l,b))),x.fromCache&&m.source==="server"?p.reject(new ve(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new W0(f,y,{includeMetadataChanges:!0,Ka:!0});return K0(l,b)})(await Ad(t),t.asyncQueue,e,n,s))),s.promise}function z5(t,e){const n=new br;return t.asyncQueue.enqueueAndForget((async()=>S5(await O5(t),e,n))),n.promise}function l2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const B5="ComponentProvider",F1=new Map;function F5(t,e,n,s,a){return new l4(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,l2(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const c2="firestore.googleapis.com",q1=!0;class H1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=c2,this.ssl=q1}else this.host=e.host,this.ssl=e.ssl??q1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pO)throw new ve(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l2(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fm{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new XS;switch(s.type){case"firstParty":return new $P(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ve(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=F1.get(n);s&&(_e(B5,"Removing Datastore"),F1.delete(n),s.terminate())})(this),Promise.resolve()}}function u2(t,e,n,s={}){t=Wn(t,fm);const a=Ao(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(h0(`https://${f}`),f0("Firestore",!0)),l.host!==c2&&l.host!==f&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!_o(m,u)&&(t._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=Ln.MOCK_USER;else{p=oS(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ve(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Ln(b)}t._authCredentials=new qP(new WS(p,y))}}class Va{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Va(this.firestore,e,this._query)}}class jt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Hu(n,jt._jsonSchema))return new jt(e,s||null,new Ne(Tt.fromString(n.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:on("string",jt._jsonSchemaVersion),referencePath:on("string")};class _r extends Va{constructor(e,n,s){super(e,n,im(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new Ne(e))}withConverter(e){return new _r(this.firestore,e,this._path)}}function wl(t,e,...n){if(t=mn(t),ZS("collection","path",e),t instanceof fm){const s=Tt.fromString(e,...n);return i1(s),new _r(t,null,s)}{if(!(t instanceof jt||t instanceof _r))throw new ve(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Tt.fromString(e,...n));return i1(s),new _r(t.firestore,null,s)}}function hs(t,e,...n){if(t=mn(t),arguments.length===1&&(e=Zd.newId()),ZS("doc","path",e),t instanceof fm){const s=Tt.fromString(e,...n);return n1(s),new jt(t,null,new Ne(s))}{if(!(t instanceof jt||t instanceof _r))throw new ve(ce.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Tt.fromString(e,...n));return n1(s),new jt(t.firestore,t instanceof _r?t.converter:null,new Ne(s))}}const G1="AsyncQueue";class $1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GA(this,"async_queue_retry"),this._c=()=>{const s=Vg();s&&_e(G1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Vg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new br;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Yl(e))throw e;_e(G1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Sr("INTERNAL UNHANDLED ERROR: ",K1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=G0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Me(47125,{Pc:K1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function K1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Fs extends fm{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new $1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $1(e),this._firestoreClient=void 0,await e}}}function h2(t,e){const n=typeof t=="object"?t:p0(),s=typeof t=="string"?t:gd,a=Yd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=sS("firestore");l&&u2(a,...l)}return a}function Wu(t){if(t._terminated)throw new ve(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||q5(t),t._firestoreClient}function q5(t){const e=t._freezeSettings(),n=F5(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new V5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class wi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wi(_n.fromBase64String(e))}catch(n){throw new ve(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wi(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hu(e,wi._jsonSchema))return wi.fromBase64String(e.bytes)}}wi._jsonSchemaVersion="firestore/bytes/1.0",wi._jsonSchema={type:on("string",wi._jsonSchemaVersion),bytes:on("string")};class dm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mm{constructor(e){this._methodName=e}}class ms{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ms._jsonSchemaVersion}}static fromJSON(e){if(Hu(e,ms._jsonSchema))return new ms(e.latitude,e.longitude)}}ms._jsonSchemaVersion="firestore/geoPoint/1.0",ms._jsonSchema={type:on("string",ms._jsonSchemaVersion),latitude:on("number"),longitude:on("number")};class Ki{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hu(e,Ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ki(e.vectorValues);throw new ve(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ki._jsonSchemaVersion="firestore/vectorValue/1.0",Ki._jsonSchema={type:on("string",Ki._jsonSchemaVersion),vectorValues:on("object")};const H5=/^__.*__$/;class G5{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new $u(e,this.data,n,this.fieldTransforms)}}class f2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ma(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function d2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{dataSource:t})}}class ev{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ev({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Cd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(d2(this.dataSource)&&H5.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class $5{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||cm(e)}createContext(e,n,s,a=!1){return new ev({dataSource:e,methodName:n,targetDoc:s,path:bn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pm(t){const e=t._freezeSettings(),n=cm(t._databaseId);return new $5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function m2(t,e,n,s,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);tv("Data must be an object, but it was:",u,s);const f=p2(s,u);let m,p;if(l.merge)m=new xi(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const b of l.mergeFields){const x=zl(e,b,n);if(!u.contains(x))throw new ve(ce.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);v2(y,x)||y.push(x)}m=new xi(y),p=u.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,p=u.fieldTransforms;return new G5(new ai(f),m,p)}class Xu extends mm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xu}}function K5(t,e,n,s){const a=t.createContext(1,e,n);tv("Data must be an object, but it was:",a,s);const l=[],u=ai.empty();Da(s,((m,p)=>{const y=y2(e,m,n);p=mn(p);const b=a.childContextForFieldPath(y);if(p instanceof Xu)l.push(y);else{const x=Zu(p,b);x!=null&&(l.push(y),u.set(y,x))}}));const f=new xi(l);return new f2(u,f,a.fieldTransforms)}function Y5(t,e,n,s,a,l){const u=t.createContext(1,e,n),f=[zl(e,s,n)],m=[a];if(l.length%2!=0)throw new ve(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)f.push(zl(e,l[x])),m.push(l[x+1]);const p=[],y=ai.empty();for(let x=f.length-1;x>=0;--x)if(!v2(p,f[x])){const C=f[x];let V=m[x];V=mn(V);const j=u.childContextForFieldPath(C);if(V instanceof Xu)p.push(C);else{const N=Zu(V,j);N!=null&&(p.push(C),y.set(C,N))}}const b=new xi(p);return new f2(y,b,u.fieldTransforms)}function Q5(t,e,n,s=!1){return Zu(n,t.createContext(s?4:3,e))}function Zu(t,e){if(g2(t=mn(t)))return tv("Unsupported field value:",e,t),p2(t,e);if(t instanceof mm)return(function(s,a){if(!d2(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const f of s){let m=Zu(f,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=mn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return M4(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Le.fromDate(s);return{timestampValue:xd(a.serializer,l)}}if(s instanceof Le){const l=new Le(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:xd(a.serializer,l)}}if(s instanceof ms)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof wi)return{bytesValue:MA(a.serializer,s._byteString)};if(s instanceof jt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:O0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Ki)return(function(u,f){const m=u instanceof Ki?u.toArray():u;return{mapValue:{fields:{[lA]:{stringValue:cA},[yd]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw f.createError("VectorValues must only contain numeric values.");return D0(f.serializer,y)}))}}}}}})(s,a);if(zA(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Jd(s)}`)})(t,e)}function p2(t,e){const n={};return nA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Da(t,((s,a)=>{const l=Zu(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function g2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Le||t instanceof ms||t instanceof wi||t instanceof jt||t instanceof mm||t instanceof Ki||zA(t))}function tv(t,e,n){if(!g2(n)||!eA(n)){const s=Jd(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function zl(t,e,n){if((e=mn(e))instanceof dm)return e._internalPath;if(typeof e=="string")return y2(t,e);throw Cd("Field path arguments must be of type string or ",t,!1,void 0,n)}const W5=new RegExp("[~\\*/\\[\\]]");function y2(t,e,n){if(e.search(W5)>=0)throw Cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dm(...e.split("."))._internalPath}catch{throw Cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cd(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new ve(ce.INVALID_ARGUMENT,f+t+m)}function v2(t,e){return t.some((n=>n.isEqual(e)))}class b2{convertValue(e,n="none"){switch(Aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Da(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[yd].arrayValue?.values?.map((s=>Yt(s.doubleValue)));return new Ki(n)}convertGeoPoint(e){return new ms(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=nm(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Cu(e));default:return null}}convertTimestamp(e){const n=Ea(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Tt.fromString(e);ut(UA(s),9688,{name:e});const a=new Pl(s.get(1),s.get(3)),l=new Ne(s.popFirst(5));return a.isEqual(n)||Sr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class nv extends b2{constructor(e){super(),this.firestore=e}convertBytes(e){return new wi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function Rd(){return new Xu("deleteField")}const Y1="@firebase/firestore",Q1="4.10.0";function W1(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class _2{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new X5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(zl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class X5 extends _2{data(){return super.data()}}function w2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iv{}class x2 extends iv{}function Id(t,e,...n){let s=[];e instanceof iv&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((m=>m instanceof gm)).length,f=l.filter((m=>m instanceof Ju)).length;if(u>1||u>0&&f>0)throw new ve(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Ju extends x2{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ju(e,n,s)}_apply(e){const n=this._parse(e);return T2(e._query,n),new Va(e.firestore,e.converter,xy(e._query,n))}_parse(e){const n=pm(e.firestore);return(function(l,u,f,m,p,y,b){let x;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ve(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Z1(b,y);const V=[];for(const j of b)V.push(X1(m,l,j));x={arrayValue:{values:V}}}else x=X1(m,l,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Z1(b,y),x=Q5(f,u,b,y==="in"||y==="not-in");return an.create(p,y,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Nd(t,e,n){const s=e,a=zl("where",t);return Ju._create(a,s,n)}class gm extends iv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gm(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ps.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)T2(u,m),u=xy(u,m)})(e._query,n),new Va(e.firestore,e.converter,xy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function X1(t,e,n){if(typeof(n=mn(n))=="string"){if(n==="")throw new ve(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yA(e)&&n.indexOf("/")!==-1)throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Tt.fromString(n));if(!Ne.isDocumentKey(s))throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return h1(t,new Ne(s))}if(n instanceof jt)return h1(t,n._key);throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jd(n)}.`)}function Z1(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function T2(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function E2(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends _2{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(zl("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=_a._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:on("string",_a._jsonSchemaVersion),bundleSource:on("string","DocumentSnapshot"),bundleName:on("string"),bundle:on("string")};class gu extends _a{data(e={}){return super.data(e)}}class wa{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new xl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new gu(this._firestore,this._userDataWriter,s.key,s,new xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const m=new gu(a._firestore,a._userDataWriter,f.doc.key,f.doc,new xl(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new gu(a._firestore,a._userDataWriter,f.doc.key,f.doc,new xl(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:Z5(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Z5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}wa._jsonSchemaVersion="firestore/querySnapshot/1.0",wa._jsonSchema={type:on("string",wa._jsonSchemaVersion),bundleSource:on("string","QuerySnapshot"),bundleName:on("string"),bundle:on("string")};function eh(t){t=Wn(t,jt);const e=Wn(t.firestore,Fs),n=Wu(e);return L5(n,t._key).then((s=>R2(e,t,s)))}function yu(t){t=Wn(t,Va);const e=Wn(t.firestore,Fs),n=Wu(e),s=new nv(e);return w2(t._query),U5(n,t._query).then((a=>new wa(e,s,t,a)))}function kd(t,e,n){t=Wn(t,jt);const s=Wn(t.firestore,Fs),a=E2(t.converter,e,n),l=pm(s);return th(s,[m2(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,$i.none())])}function jn(t,e,n,...s){t=Wn(t,jt);const a=Wn(t.firestore,Fs),l=pm(a);let u;return u=typeof(e=mn(e))=="string"||e instanceof dm?Y5(l,"updateDoc",t._key,e,n,s):K5(l,"updateDoc",t._key,e),th(a,[u.toMutation(t._key,$i.exists(!0))])}function S2(t){return th(Wn(t.firestore,Fs),[new M0(t._key,$i.none())])}function A2(t,e){const n=Wn(t.firestore,Fs),s=hs(t),a=E2(t.converter,e),l=pm(t.firestore);return th(n,[m2(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,$i.exists(!1))]).then((()=>s))}function C2(t,...e){t=mn(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||W1(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(W1(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let l,u,f;if(t instanceof jt)u=Wn(t.firestore,Fs),f=im(t._key.path),l={next:p=>{e[s]&&e[s](R2(u,t,p))},error:e[s+1],complete:e[s+2]};else{const p=Wn(t,Va);u=Wn(p.firestore,Fs),f=p._query;const y=new nv(u);l={next:b=>{e[s]&&e[s](new wa(u,y,p,b))},error:e[s+1],complete:e[s+2]},w2(t._query)}const m=Wu(u);return j5(m,f,a,l)}function th(t,e){const n=Wu(t);return z5(n,e)}function R2(t,e,n){const s=n.docs.get(e._key),a=new nv(t);return new _a(t,a,e._key,s,new xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){FP(Co),wo(new xa("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new Fs(new HP(s.getProvider("auth-internal")),new KP(u,s.getProvider("app-check-internal")),c4(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Ps(Y1,Q1,e),Ps(Y1,Q1,"esm2020")})();const J5=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:b2,Bytes:wi,CollectionReference:_r,DocumentReference:jt,DocumentSnapshot:_a,FieldPath:dm,FieldValue:mm,Firestore:Fs,FirestoreError:ve,GeoPoint:ms,Query:Va,QueryCompositeFilterConstraint:gm,QueryConstraint:x2,QueryDocumentSnapshot:gu,QueryFieldFilterConstraint:Ju,QuerySnapshot:wa,SnapshotMetadata:xl,Timestamp:Le,VectorValue:Ki,_AutoId:Zd,_ByteString:_n,_DatabaseId:Pl,_DocumentKey:Ne,_EmptyAuthCredentialsProvider:XS,_FieldPath:bn,_cast:Wn,_logWarn:Eo,_validateIsNotUsedTogether:JS,addDoc:A2,collection:wl,connectFirestoreEmulator:u2,deleteDoc:S2,deleteField:Rd,doc:hs,ensureFirestoreConfigured:Wu,executeWrite:th,getDoc:eh,getDocs:yu,getFirestore:h2,onSnapshot:C2,query:Id,setDoc:kd,updateDoc:jn,where:Nd},Symbol.toStringTag,{value:"Module"}));const I2="firebasestorage.googleapis.com",ej="storageBucket",tj=120*1e3,nj=600*1e3;class $s extends Gs{constructor(e,n,s=0){super(Og(e),`Firebase Storage: ${n} (${Og(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$s.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Og(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qs||(qs={}));function Og(t){return"storage/"+t}function ij(){const t="An unknown error occurred, please check the error payload for server response.";return new $s(qs.UNKNOWN,t)}function sj(){return new $s(qs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rj(){return new $s(qs.CANCELED,"User canceled the upload/download.")}function aj(t){return new $s(qs.INVALID_URL,"Invalid URL '"+t+"'.")}function oj(t){return new $s(qs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function J1(t){return new $s(qs.INVALID_ARGUMENT,t)}function N2(){return new $s(qs.APP_DELETED,"The Firebase app was deleted.")}function lj(t){return new $s(qs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class fs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=fs.makeFromUrl(e,n)}catch{return new fs(e,"")}if(s.path==="")return s;throw oj(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(me){me.path.charAt(me.path.length-1)==="/"&&(me.path_=me.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function p(me){me.path_=decodeURIComponent(me.path)}const y="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",C=new RegExp(`^https?://${b}/${y}/b/${a}/o${x}`,"i"),V={bucket:1,path:3},j=n===I2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",H=new RegExp(`^https?://${j}/${a}/${N}`,"i"),Y=[{regex:f,indices:m,postModify:l},{regex:C,indices:V,postModify:p},{regex:H,indices:{bucket:1,path:2},postModify:p}];for(let me=0;me<Y.length;me++){const ue=Y[me],fe=ue.regex.exec(e);if(fe){const k=fe[ue.indices.bucket];let S=fe[ue.indices.path];S||(S=""),s=new fs(k,S),ue.postModify(s);break}}if(s==null)throw aj(e);return s}}class cj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function uj(t,e,n){let s=1,a=null,l=null,u=!1,f=0;function m(){return f===2}let p=!1;function y(...N){p||(p=!0,e.apply(null,N))}function b(N){a=setTimeout(()=>{a=null,t(C,m())},N)}function x(){l&&clearTimeout(l)}function C(N,...H){if(p){x();return}if(N){x(),y.call(null,N,...H);return}if(m()||u){x(),y.call(null,N,...H);return}s<64&&(s*=2);let Y;f===1?(f=2,Y=0):Y=(s+Math.random())*1e3,b(Y)}let V=!1;function j(N){V||(V=!0,x(),!p&&(a!==null?(N||(f=2),clearTimeout(a),b(0)):N||(f=1)))}return b(0),l=setTimeout(()=>{u=!0,j(!0)},n),j}function hj(t){t(!1)}function fj(t){return t!==void 0}function eT(t,e,n,s){if(s<e)throw J1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw J1(`Invalid value for '${t}'. Expected ${n} or less.`)}function dj(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Dd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Dd||(Dd={}));function mj(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class pj{constructor(e,n,s,a,l,u,f,m,p,y,b,x=!0,C=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=b,this.retry=x,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,j)=>{this.resolve_=V,this.reject_=j,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Mf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===Dd.NO_ERROR,m=l.getStatus();if(!f||mj(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Dd.ABORT;s(!1,new Mf(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new Mf(p,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());fj(m)?l(m):l()}catch(m){u(m)}else if(f!==null){const m=ij();m.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,m)):u(m)}else if(a.canceled){const m=this.appDelete_?N2():rj();u(m)}else{const m=sj();u(m)}};this.canceled_?n(!1,new Mf(!1,null,!0)):this.backoffId_=uj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function gj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function yj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _j(t,e,n,s,a,l,u=!0,f=!1){const m=dj(t.urlParams),p=t.url+m,y=Object.assign({},t.headers);return vj(y,e),gj(y,n),yj(y,l),bj(y,s),new pj(p,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}function wj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Md{constructor(e,n){this._service=e,n instanceof fs?this._location=n:this._location=fs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Md(e,n)}get root(){const e=new fs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xj(this._location.path)}get storage(){return this._service}get parent(){const e=wj(this._location.path);if(e===null)return null;const n=new fs(this._location.bucket,e);return new Md(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw lj(e)}}function tT(t,e){const n=e?.[ej];return n==null?null:fs.makeFromBucketSpec(n,t)}function Tj(t,e,n,s={}){t.host=`${e}:${n}`;const a=Ao(e);a&&(h0(`https://${t.host}/b`),f0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:oS(l,t.app.options.projectId))}class Ej{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=I2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tj,this._maxUploadRetryTime=nj,this._requests=new Set,a!=null?this._bucket=fs.makeFromBucketSpec(a,this._host):this._bucket=tT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fs.makeFromBucketSpec(this._url,e):this._bucket=tT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Md(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new cj(N2());{const u=_j(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const nT="@firebase/storage",iT="0.14.0";const k2="storage";function Sj(t=p0(),e){t=mn(t);const s=Yd(t,k2).getImmediate({identifier:e}),a=sS("storage");return a&&Aj(s,...a),s}function Aj(t,e,n,s={}){Tj(t,e,n,s)}function Cj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Ej(n,s,a,e,Co)}function Rj(){wo(new xa(k2,Cj,"PUBLIC").setMultipleInstances(!0)),Ps(nT,iT,""),Ps(nT,iT,"esm2020")}Rj();const Ij={apiKey:"AIzaSyC7IaK8e0JimVT2DeKQovTDLPyufibEu_4",authDomain:"sunsar-bingo.firebaseapp.com",projectId:"sunsar-bingo",storageBucket:"sunsar-bingo.firebasestorage.app",messagingSenderId:"256131852935",appId:"1:256131852935:web:fe514c1e6758e5af252622"},ym=uS(Ij),Xf=zP(ym),D2=new pr,Kn=h2(ym);Sj(ym);const Nj=Object.freeze(Object.defineProperty({__proto__:null,app:ym,auth:Xf,db:Kn,googleProvider:D2},Symbol.toStringTag,{value:"Module"})),M2=I.createContext(void 0),kj=({children:t})=>{const[e,n]=I.useState(null),[s,a]=I.useState(!0),[l,u]=I.useState(null);I.useEffect(()=>{const p=RV(Xf,async y=>{if(y){const b={uid:y.uid,email:y.email,displayName:y.displayName,photoURL:y.photoURL};n(b),u(null);try{const{doc:x,setDoc:C,Timestamp:V}=await oy(async()=>{const{doc:N,setDoc:H,Timestamp:W}=await Promise.resolve().then(()=>J5);return{doc:N,setDoc:H,Timestamp:W}},[]),{db:j}=await oy(async()=>{const{db:N}=await Promise.resolve().then(()=>Nj);return{db:N}},void 0);await C(x(j,"users",y.uid),{...b,lastSeen:V.now()},{merge:!0})}catch(x){console.error("Error syncing user profile:",x)}}else n(null);a(!1)});return()=>p()},[]);const f=async()=>{u(null);try{await QV(Xf,D2)}catch(p){u(p.message||"Failed to sign in")}},m=async()=>{await IV(Xf)};return v.jsx(M2.Provider,{value:{user:e,loading:s,signIn:f,logout:m,error:l},children:t})},Wl=()=>{const t=I.useContext(M2);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},sv=I.createContext({});function rv(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const V2=typeof window<"u",P2=V2?I.useLayoutEffect:I.useEffect,vm=I.createContext(null);function av(t,e){t.indexOf(e)===-1&&t.push(e)}function ov(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Hs=(t,e,n)=>n>e?e:n<t?t:n;let lv=()=>{};const Cr={},O2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function j2(t){return typeof t=="object"&&t!==null}const L2=t=>/^0[^.\s]+$/u.test(t);function cv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Yi=t=>t,Dj=(t,e)=>n=>e(t(n)),nh=(...t)=>t.reduce(Dj),ku=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class uv{constructor(){this.subscriptions=[]}add(e){return av(this.subscriptions,e),()=>ov(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wr=t=>t*1e3,Gi=t=>t/1e3;function U2(t,e){return e?t*(1e3/e):0}const z2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Mj=1e-7,Vj=12;function Pj(t,e,n,s,a){let l,u,f=0;do u=e+(n-e)/2,l=z2(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>Mj&&++f<Vj);return u}function ih(t,e,n,s){if(t===e&&n===s)return Yi;const a=l=>Pj(l,0,1,t,n);return l=>l===0||l===1?l:z2(a(l),e,s)}const B2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,F2=t=>e=>1-t(1-e),q2=ih(.33,1.53,.69,.99),hv=F2(q2),H2=B2(hv),G2=t=>(t*=2)<1?.5*hv(t):.5*(2-Math.pow(2,-10*(t-1))),fv=t=>1-Math.sin(Math.acos(t)),$2=F2(fv),K2=B2(fv),Oj=ih(.42,0,1,1),jj=ih(0,0,.58,1),Y2=ih(.42,0,.58,1),Lj=t=>Array.isArray(t)&&typeof t[0]!="number",Q2=t=>Array.isArray(t)&&typeof t[0]=="number",Uj={linear:Yi,easeIn:Oj,easeInOut:Y2,easeOut:jj,circIn:fv,circInOut:K2,circOut:$2,backIn:hv,backInOut:H2,backOut:q2,anticipate:G2},zj=t=>typeof t=="string",sT=t=>{if(Q2(t)){lv(t.length===4);const[e,n,s,a]=t;return ih(e,n,s,a)}else if(zj(t))return Uj[t];return t},Vf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Bj(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(p.schedule(y),t()),y(f)}const p={schedule:(y,b=!1,x=!1)=>{const V=x&&a?n:s;return b&&u.add(y),V.has(y)||V.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const Fj=40;function W2(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Vf.reduce((Y,me)=>(Y[me]=Bj(l),Y),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:b,preRender:x,render:C,postRender:V}=u,j=()=>{const Y=Cr.useManualTiming?a.timestamp:performance.now();n=!1,Cr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(Y-a.timestamp,Fj),1)),a.timestamp=Y,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),b.process(a),x.process(a),C.process(a),V.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(j))},N=()=>{n=!0,s=!0,a.isProcessing||t(j)};return{schedule:Vf.reduce((Y,me)=>{const ue=u[me];return Y[me]=(fe,k=!1,S=!1)=>(n||N(),ue.schedule(fe,k,S)),Y},{}),cancel:Y=>{for(let me=0;me<Vf.length;me++)u[Vf[me]].cancel(Y)},state:a,steps:u}}const{schedule:Rt,cancel:Ia,state:Dn,steps:jg}=W2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yi,!0);let Zf;function qj(){Zf=void 0}const Yn={now:()=>(Zf===void 0&&Yn.set(Dn.isProcessing||Cr.useManualTiming?Dn.timestamp:performance.now()),Zf),set:t=>{Zf=t,queueMicrotask(qj)}},X2=t=>e=>typeof e=="string"&&e.startsWith(t),Z2=X2("--"),Hj=X2("var(--"),dv=t=>Hj(t)?Gj.test(t.split("/*")[0].trim()):!1,Gj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function rT(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Xl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Du={...Xl,transform:t=>Hs(0,1,t)},Pf={...Xl,default:1},vu=t=>Math.round(t*1e5)/1e5,mv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $j(t){return t==null}const Kj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pv=(t,e)=>n=>!!(typeof n=="string"&&Kj.test(n)&&n.startsWith(t)||e&&!$j(n)&&Object.prototype.hasOwnProperty.call(n,e)),J2=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,f]=s.match(mv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},Yj=t=>Hs(0,255,t),Lg={...Xl,transform:t=>Math.round(Yj(t))},go={test:pv("rgb","red"),parse:J2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Lg.transform(t)+", "+Lg.transform(e)+", "+Lg.transform(n)+", "+vu(Du.transform(s))+")"};function Qj(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const My={test:pv("#"),parse:Qj,transform:go.transform},sh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ha=sh("deg"),Us=sh("%"),xe=sh("px"),Wj=sh("vh"),Xj=sh("vw"),aT={...Us,parse:t=>Us.parse(t)/100,transform:t=>Us.transform(t*100)},Tl={test:pv("hsl","hue"),parse:J2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Us.transform(vu(e))+", "+Us.transform(vu(n))+", "+vu(Du.transform(s))+")"},rn={test:t=>go.test(t)||My.test(t)||Tl.test(t),parse:t=>go.test(t)?go.parse(t):Tl.test(t)?Tl.parse(t):My.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?go.transform(t):Tl.transform(t),getAnimatableNone:t=>{const e=rn.parse(t);return e.alpha=0,rn.transform(e)}},Zj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Jj(t){return isNaN(t)&&typeof t=="string"&&(t.match(mv)?.length||0)+(t.match(Zj)?.length||0)>0}const eC="number",tC="color",e3="var",t3="var(",oT="${}",n3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(n3,m=>(rn.test(m)?(s.color.push(l),a.push(tC),n.push(rn.parse(m))):m.startsWith(t3)?(s.var.push(l),a.push(e3),n.push(m)):(s.number.push(l),a.push(eC),n.push(parseFloat(m))),++l,oT)).split(oT);return{values:n,split:f,indexes:s,types:a}}function nC(t){return Mu(t).values}function iC(t){const{split:e,types:n}=Mu(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===eC?l+=vu(a[u]):f===tC?l+=rn.transform(a[u]):l+=a[u]}return l}}const i3=t=>typeof t=="number"?0:rn.test(t)?rn.getAnimatableNone(t):t;function s3(t){const e=nC(t);return iC(t)(e.map(i3))}const Na={test:Jj,parse:nC,createTransformer:iC,getAnimatableNone:s3};function Ug(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function r3({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=Ug(m,f,t+1/3),l=Ug(m,f,t),u=Ug(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function Vd(t,e){return n=>n>0?e:t}const Ot=(t,e,n)=>t+(e-t)*n,zg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},a3=[My,go,Tl],o3=t=>a3.find(e=>e.test(t));function lT(t){const e=o3(t);if(!e)return!1;let n=e.parse(t);return e===Tl&&(n=r3(n)),n}const cT=(t,e)=>{const n=lT(t),s=lT(e);if(!n||!s)return Vd(t,e);const a={...n};return l=>(a.red=zg(n.red,s.red,l),a.green=zg(n.green,s.green,l),a.blue=zg(n.blue,s.blue,l),a.alpha=Ot(n.alpha,s.alpha,l),go.transform(a))},Vy=new Set(["none","hidden"]);function l3(t,e){return Vy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function c3(t,e){return n=>Ot(t,e,n)}function gv(t){return typeof t=="number"?c3:typeof t=="string"?dv(t)?Vd:rn.test(t)?cT:f3:Array.isArray(t)?sC:typeof t=="object"?rn.test(t)?cT:u3:Vd}function sC(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>gv(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function u3(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=gv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function h3(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],f=t.values[u]??0;n[a]=f,s[l]++}return n}const f3=(t,e)=>{const n=Na.createTransformer(e),s=Mu(t),a=Mu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Vy.has(t)&&!a.values.length||Vy.has(e)&&!s.values.length?l3(t,e):nh(sC(h3(s,a),a.values),n):Vd(t,e)};function rC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ot(t,e,n):gv(t)(t,e)}const d3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Rt.update(e,n),stop:()=>Ia(e),now:()=>Dn.isProcessing?Dn.timestamp:Yn.now()}},aC=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Pd=2e4;function yv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Pd;)e+=n,s=t.next(e);return e>=Pd?1/0:e}function m3(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(yv(s),Pd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Gi(a)}}const p3=5;function oC(t,e,n){const s=Math.max(e-p3,0);return U2(n-t(s),e-s)}const Ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bg=.001;function g3({duration:t=Ht.duration,bounce:e=Ht.bounce,velocity:n=Ht.velocity,mass:s=Ht.mass}){let a,l,u=1-e;u=Hs(Ht.minDamping,Ht.maxDamping,u),t=Hs(Ht.minDuration,Ht.maxDuration,Gi(t)),u<1?(a=p=>{const y=p*u,b=y*t,x=y-n,C=Py(p,u),V=Math.exp(-b);return Bg-x/C*V},l=p=>{const b=p*u*t,x=b*n+n,C=Math.pow(u,2)*Math.pow(p,2)*t,V=Math.exp(-b),j=Py(Math.pow(p,2),u);return(-a(p)+Bg>0?-1:1)*((x-C)*V)/j}):(a=p=>{const y=Math.exp(-p*t),b=(p-n)*t+1;return-Bg+y*b},l=p=>{const y=Math.exp(-p*t),b=(n-p)*(t*t);return y*b});const f=5/t,m=v3(a,l,f);if(t=wr(t),isNaN(m))return{stiffness:Ht.stiffness,damping:Ht.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const y3=12;function v3(t,e,n){let s=n;for(let a=1;a<y3;a++)s=s-t(s)/e(s);return s}function Py(t,e){return t*Math.sqrt(1-e*e)}const b3=["duration","bounce"],_3=["stiffness","damping","mass"];function uT(t,e){return e.some(n=>t[n]!==void 0)}function w3(t){let e={velocity:Ht.velocity,stiffness:Ht.stiffness,damping:Ht.damping,mass:Ht.mass,isResolvedFromDuration:!1,...t};if(!uT(t,_3)&&uT(t,b3))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Hs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ht.mass,stiffness:a,damping:l}}else{const n=g3(t);e={...e,...n,mass:Ht.mass},e.isResolvedFromDuration=!0}return e}function Od(t=Ht.visualDuration,e=Ht.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:b,velocity:x,isResolvedFromDuration:C}=w3({...n,velocity:-Gi(n.velocity||0)}),V=x||0,j=p/(2*Math.sqrt(m*y)),N=u-l,H=Gi(Math.sqrt(m/y)),W=Math.abs(N)<5;s||(s=W?Ht.restSpeed.granular:Ht.restSpeed.default),a||(a=W?Ht.restDelta.granular:Ht.restDelta.default);let Y;if(j<1){const ue=Py(H,j);Y=fe=>{const k=Math.exp(-j*H*fe);return u-k*((V+j*H*N)/ue*Math.sin(ue*fe)+N*Math.cos(ue*fe))}}else if(j===1)Y=ue=>u-Math.exp(-H*ue)*(N+(V+H*N)*ue);else{const ue=H*Math.sqrt(j*j-1);Y=fe=>{const k=Math.exp(-j*H*fe),S=Math.min(ue*fe,300);return u-k*((V+j*H*N)*Math.sinh(S)+ue*N*Math.cosh(S))/ue}}const me={calculatedDuration:C&&b||null,next:ue=>{const fe=Y(ue);if(C)f.done=ue>=b;else{let k=ue===0?V:0;j<1&&(k=ue===0?wr(V):oC(Y,ue,fe));const S=Math.abs(k)<=s,M=Math.abs(u-fe)<=a;f.done=S&&M}return f.value=f.done?u:fe,f},toString:()=>{const ue=Math.min(yv(me),Pd),fe=aC(k=>me.next(ue*k).value,ue,30);return ue+"ms "+fe},toTransition:()=>{}};return me}Od.applyToOptions=t=>{const e=m3(t,100,Od);return t.ease=e.ease,t.duration=wr(e.duration),t.type="keyframes",t};function Oy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:p=.5,restSpeed:y}){const b=t[0],x={done:!1,value:b},C=S=>f!==void 0&&S<f||m!==void 0&&S>m,V=S=>f===void 0?m:m===void 0||Math.abs(f-S)<Math.abs(m-S)?f:m;let j=n*e;const N=b+j,H=u===void 0?N:u(N);H!==N&&(j=H-b);const W=S=>-j*Math.exp(-S/s),Y=S=>H+W(S),me=S=>{const M=W(S),z=Y(S);x.done=Math.abs(M)<=p,x.value=x.done?H:z};let ue,fe;const k=S=>{C(x.value)&&(ue=S,fe=Od({keyframes:[x.value,V(x.value)],velocity:oC(Y,S,x.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return k(0),{calculatedDuration:null,next:S=>{let M=!1;return!fe&&ue===void 0&&(M=!0,me(S),k(S)),ue!==void 0&&S>=ue?fe.next(S-ue):(!M&&me(S),x)}}}function x3(t,e,n){const s=[],a=n||Cr.mix||rC,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||Yi:e;f=nh(m,f)}s.push(f)}return s}function T3(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(lv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=x3(e,s,a),m=f.length,p=y=>{if(u&&y<t[0])return e[0];let b=0;if(m>1)for(;b<t.length-2&&!(y<t[b+1]);b++);const x=ku(t[b],t[b+1],y);return f[b](x)};return n?y=>p(Hs(t[0],t[l-1],y)):p}function E3(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=ku(0,e,s);t.push(Ot(n,1,a))}}function S3(t){const e=[0];return E3(e,t.length-1),e}function A3(t,e){return t.map(n=>n*e)}function C3(t,e){return t.map(()=>e||Y2).splice(0,t.length-1)}function bu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=Lj(s)?s.map(sT):sT(s),l={done:!1,value:e[0]},u=A3(n&&n.length===e.length?n:S3(e),t),f=T3(u,e,{ease:Array.isArray(a)?a:C3(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const R3=t=>t!==null;function vv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(R3),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const I3={decay:Oy,inertia:Oy,tween:bu,keyframes:bu,spring:Od};function lC(t){typeof t.type=="string"&&(t.type=I3[t.type])}class bv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const N3=t=>t/100;class _v extends bv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Yn.now()&&this.tick(Yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;lC(e);const{type:n=bu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const m=n||bu;m!==bu&&typeof f[0]!="number"&&(this.mixKeyframes=nh(N3,rC(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=yv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:b,repeatType:x,repeatDelay:C,type:V,onUpdate:j,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const H=this.currentTime-p*(this.playbackSpeed>=0?1:-1),W=this.playbackSpeed>=0?H<0:H>a;this.currentTime=Math.max(H,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Y=this.currentTime,me=s;if(b){const S=Math.min(this.currentTime,a)/f;let M=Math.floor(S),z=S%1;!z&&S>=1&&(z=1),z===1&&M--,M=Math.min(M,b+1),M%2&&(x==="reverse"?(z=1-z,C&&(z-=C/f)):x==="mirror"&&(me=u)),Y=Hs(0,1,z)*f}const ue=W?{done:!1,value:y[0]}:me.next(Y);l&&(ue.value=l(ue.value));let{done:fe}=ue;!W&&m!==null&&(fe=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&fe);return k&&V!==Oy&&(ue.value=vv(y,this.options,N,this.speed)),j&&j(ue.value),k&&this.finish(),ue}then(e,n){return this.finished.then(e,n)}get duration(){return Gi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Gi(e)}get time(){return Gi(this.currentTime)}set time(e){e=wr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Yn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Gi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=d3,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function k3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const yo=t=>t*180/Math.PI,jy=t=>{const e=yo(Math.atan2(t[1],t[0]));return Ly(e)},D3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:jy,rotateZ:jy,skewX:t=>yo(Math.atan(t[1])),skewY:t=>yo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ly=t=>(t=t%360,t<0&&(t+=360),t),hT=jy,fT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),dT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),M3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fT,scaleY:dT,scale:t=>(fT(t)+dT(t))/2,rotateX:t=>Ly(yo(Math.atan2(t[6],t[5]))),rotateY:t=>Ly(yo(Math.atan2(-t[2],t[0]))),rotateZ:hT,rotate:hT,skewX:t=>yo(Math.atan(t[4])),skewY:t=>yo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Uy(t){return t.includes("scale")?1:0}function zy(t,e){if(!t||t==="none")return Uy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=M3,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=D3,a=f}if(!a)return Uy(e);const l=s[e],u=a[1].split(",").map(P3);return typeof l=="function"?l(u):u[l]}const V3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return zy(n,e)};function P3(t){return parseFloat(t.trim())}const Zl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jl=new Set(Zl),mT=t=>t===Xl||t===xe,O3=new Set(["x","y","z"]),j3=Zl.filter(t=>!O3.has(t));function L3(t){const e=[];return j3.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const ga={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>zy(e,"x"),y:(t,{transform:e})=>zy(e,"y")};ga.translateX=ga.x;ga.translateY=ga.y;const bo=new Set;let By=!1,Fy=!1,qy=!1;function cC(){if(Fy){const t=Array.from(bo).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=L3(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Fy=!1,By=!1,bo.forEach(t=>t.complete(qy)),bo.clear()}function uC(){bo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Fy=!0)})}function U3(){qy=!0,uC(),cC(),qy=!1}class wv{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(bo.add(this),By||(By=!0,Rt.read(uC),Rt.resolveKeyframes(cC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}k3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),bo.delete(this)}cancel(){this.state==="scheduled"&&(bo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const z3=t=>t.startsWith("--");function B3(t,e,n){z3(e)?t.style.setProperty(e,n):t.style[e]=n}const F3=cv(()=>window.ScrollTimeline!==void 0),q3={};function H3(t,e){const n=cv(t);return()=>q3[e]??n()}const hC=H3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,pT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lu([0,.65,.55,1]),circOut:lu([.55,0,1,.45]),backIn:lu([.31,.01,.66,-.59]),backOut:lu([.33,1.53,.69,.99])};function fC(t,e){if(t)return typeof t=="function"?hC()?aC(t,e):"ease-out":Q2(t)?lu(t):Array.isArray(t)?t.map(n=>fC(n,e)||pT.easeOut):pT[t]}function G3(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const b=fC(f,a);Array.isArray(b)&&(y.easing=b);const x={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),t.animate(y,x)}function dC(t){return typeof t=="function"&&"applyToOptions"in t}function $3({type:t,...e}){return dC(t)&&hC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class K3 extends bv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,lv(typeof e.type!="string");const p=$3(e);this.animation=G3(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=vv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):B3(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Gi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Gi(e)}get time(){return Gi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=wr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&F3()?(this.animation.timeline=e,Yi):n(this)}}const mC={anticipate:G2,backInOut:H2,circInOut:K2};function Y3(t){return t in mC}function Q3(t){typeof t.ease=="string"&&Y3(t.ease)&&(t.ease=mC[t.ease])}const Fg=10;class W3 extends K3{constructor(e){Q3(e),lC(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new _v({...u,autoplay:!1}),m=Math.max(Fg,Yn.now()-this.startTime),p=Hs(0,Fg,m-Fg);n.setWithVelocity(f.sample(Math.max(0,m-p)).value,f.sample(m).value,p),f.stop()}}const gT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Na.test(t)||t==="0")&&!t.startsWith("url("));function X3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Z3(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=gT(a,e),f=gT(l,e);return!u||!f?!1:X3(t)||(n==="spring"||dC(n))&&s}function Hy(t){t.duration=0,t.type="keyframes"}const J3=new Set(["opacity","clipPath","filter","transform"]),eL=cv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function tL(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return eL()&&n&&J3.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const nL=40;class iL extends bv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:p,element:y,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Yn.now();const x={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:y,...b},C=y?.KeyframeResolver||wv;this.keyframeResolver=new C(f,(V,j,N)=>this.onKeyframesResolved(V,j,x,!N),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=Yn.now(),Z3(e,l,u,f)||((Cr.instantAnimations||!m)&&y?.(vv(e,s,n)),e[0]=e[e.length-1],Hy(s),s.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>nL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},C=!p&&tL(x)?new W3({...x,element:x.motionValue.owner.current}):new _v(x);C.finished.then(()=>this.notifyFinished()).catch(Yi),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),U3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const sL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rL(t){const e=sL.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function pC(t,e,n=1){const[s,a]=rL(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return O2(u)?parseFloat(u):u}return dv(a)?pC(a,e,n+1):a}function xv(t,e){return t?.[e]??t?.default??t}const aL={type:"spring",stiffness:500,damping:25,restSpeed:10},oL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),lL={type:"keyframes",duration:.8},cL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uL=(t,{keyframes:e})=>e.length>2?lL:Jl.has(t)?t.startsWith("scale")?oL(e[1]):aL:cL;function hL({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const fL=t=>t!==null;function dL(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(fL),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function gC(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,f=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:f-l*s}const Tv=(t,e,n,s={},a,l)=>u=>{const f=xv(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-wr(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:x=>{e.set(x),f.onUpdate&&f.onUpdate(x)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};hL(f)||Object.assign(y,uL(t,y)),y.duration&&(y.duration=wr(y.duration)),y.repeatDelay&&(y.repeatDelay=wr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let b=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Hy(y),y.delay===0&&(b=!0)),(Cr.instantAnimations||Cr.skipAnimations)&&(b=!0,Hy(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,b&&!l&&e.get()!==void 0){const x=dL(y.keyframes,f);if(x!==void 0){Rt.update(()=>{y.onUpdate(x),y.onComplete()});return}}return f.isSync?new _v(y):new iL(y)},yC=new Set(["width","height","top","left","right","bottom",...Zl]),yT=30,mL=t=>!isNaN(parseFloat(t));class pL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Yn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=mL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new uv);const s=this.events[e].add(n);return e==="change"?()=>{s(),Rt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>yT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,yT);return U2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bl(t,e){return new pL(t,e)}function vT(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Ev(t,e,n,s){if(typeof e=="function"){const[a,l]=vT(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=vT(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Dl(t,e,n){const s=t.getProps();return Ev(s,e,n!==void 0?n:s.custom,t)}const Gy=t=>Array.isArray(t);function gL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Bl(n))}function yL(t){return Gy(t)?t[t.length-1]||0:t}function vL(t,e){const n=Dl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const f=yL(l[u]);gL(t,u,f)}}const zn=t=>!!(t&&t.getVelocity);function bL(t){return!!(zn(t)&&t.add)}function $y(t,e){const n=t.getValue("willChange");if(bL(n))return n.add(e);if(!n&&Cr.WillChange){const s=new Cr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Sv(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const _L="framerAppearId",vC="data-"+Sv(_L);function bC(t){return t.props[vC]}function wL({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function _C(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const b=t.getValue(y,t.latestValues[y]??null),x=f[y];if(x===void 0||p&&wL(p,y))continue;const C={delay:n,...xv(l||{},y)},V=b.get();if(V!==void 0&&!b.isAnimating&&!Array.isArray(x)&&x===V&&!C.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const H=bC(t);if(H){const W=window.MotionHandoffAnimation(H,y,Rt);W!==null&&(C.startTime=W,j=!0)}}$y(t,y),b.start(Tv(y,b,x,t.shouldReduceMotion&&yC.has(y)?{type:!1}:C,t,j));const N=b.animation;N&&m.push(N)}return u&&Promise.all(m).then(()=>{Rt.update(()=>{u&&vL(t,u)})}),m}function Ky(t,e,n={}){const s=Dl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(_C(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:b}=a;return xL(t,e,m,p,y,b,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function xL(t,e,n=0,s=0,a=0,l=1,u){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(Ky(m,e,{...u,delay:n+(typeof s=="function"?0:s)+gC(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function TL(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Ky(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Ky(t,e,n);else{const a=typeof e=="function"?Dl(t,e,n.custom):e;s=Promise.all(_C(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const EL={test:t=>t==="auto",parse:t=>t},wC=t=>e=>e.test(t),xC=[Xl,xe,Us,ha,Xj,Wj,EL],bT=t=>xC.find(wC(t));function SL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||L2(t):!0}const AL=new Set(["brightness","contrast","saturate","opacity"]);function CL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(mv)||[];if(!s)return t;const a=n.replace(s,"");let l=AL.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const RL=/\b([a-z-]*)\(.*?\)/gu,Yy={...Na,getAnimatableNone:t=>{const e=t.match(RL);return e?e.map(CL).join(" "):t}},_T={...Xl,transform:Math.round},IL={rotate:ha,rotateX:ha,rotateY:ha,rotateZ:ha,scale:Pf,scaleX:Pf,scaleY:Pf,scaleZ:Pf,skew:ha,skewX:ha,skewY:ha,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:Du,originX:aT,originY:aT,originZ:xe},Av={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,inset:xe,insetBlock:xe,insetBlockStart:xe,insetBlockEnd:xe,insetInline:xe,insetInlineStart:xe,insetInlineEnd:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,paddingBlock:xe,paddingBlockStart:xe,paddingBlockEnd:xe,paddingInline:xe,paddingInlineStart:xe,paddingInlineEnd:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,marginBlock:xe,marginBlockStart:xe,marginBlockEnd:xe,marginInline:xe,marginInlineStart:xe,marginInlineEnd:xe,backgroundPositionX:xe,backgroundPositionY:xe,...IL,zIndex:_T,fillOpacity:Du,strokeOpacity:Du,numOctaves:_T},NL={...Av,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:Yy,WebkitFilter:Yy},TC=t=>NL[t];function EC(t,e){let n=TC(t);return n!==Yy&&(n=Na),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const kL=new Set(["auto","none","0"]);function DL(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!kL.has(l)&&Mu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=EC(n,a)}class ML extends wv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let b=e[y];if(typeof b=="string"&&(b=b.trim(),dv(b))){const x=pC(b,n.current);x!==void 0&&(e[y]=x),y===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!yC.has(s)||e.length!==2)return;const[a,l]=e,u=bT(a),f=bT(l),m=rT(a),p=rT(l);if(m!==p&&ga[s]){this.needsMeasurement=!0;return}if(u!==f)if(mT(u)&&mT(f))for(let y=0;y<e.length;y++){const b=e[y];typeof b=="string"&&(e[y]=parseFloat(b))}else ga[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||SL(e[a]))&&s.push(a);s.length&&DL(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ga[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=ga[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function VL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const SC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function AC(t){return j2(t)&&"offsetHeight"in t}const{schedule:Cv}=W2(queueMicrotask,!1),cs={x:!1,y:!1};function CC(){return cs.x||cs.y}function PL(t){return t==="x"||t==="y"?cs[t]?null:(cs[t]=!0,()=>{cs[t]=!1}):cs.x||cs.y?null:(cs.x=cs.y=!0,()=>{cs.x=cs.y=!1})}function RC(t,e){const n=VL(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function wT(t){return!(t.pointerType==="touch"||CC())}function OL(t,e,n={}){const[s,a,l]=RC(t,n),u=f=>{if(!wT(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const y=b=>{wT(b)&&(p(b),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const IC=(t,e)=>e?t===e?!0:IC(t,e.parentElement):!1,Rv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,jL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NC(t){return jL.has(t.tagName)||t.isContentEditable===!0}const Jf=new WeakSet;function xT(t){return e=>{e.key==="Enter"&&t(e)}}function qg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const LL=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=xT(()=>{if(Jf.has(n))return;qg(n,"down");const a=xT(()=>{qg(n,"up")}),l=()=>qg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function TT(t){return Rv(t)&&!CC()}function UL(t,e,n={}){const[s,a,l]=RC(t,n),u=f=>{const m=f.currentTarget;if(!TT(f))return;Jf.add(m);const p=e(m,f),y=(C,V)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",x),Jf.has(m)&&Jf.delete(m),TT(C)&&typeof p=="function"&&p(C,{success:V})},b=C=>{y(C,m===window||m===document||n.useGlobalTarget||IC(m,C.target))},x=C=>{y(C,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",x,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),AC(f)&&(f.addEventListener("focus",p=>LL(p,a)),!NC(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function kC(t){return j2(t)&&"ownerSVGElement"in t}function zL(t){return kC(t)&&t.tagName==="svg"}const BL=[...xC,rn,Na],FL=t=>BL.find(wC(t)),ET=()=>({translate:0,scale:1,origin:0,originPoint:0}),El=()=>({x:ET(),y:ET()}),ST=()=>({min:0,max:0}),fn=()=>({x:ST(),y:ST()}),Qy={current:null},DC={current:!1},qL=typeof window<"u";function HL(){if(DC.current=!0,!!qL)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qy.current=t.matches;t.addEventListener("change",e),e()}else Qy.current=!1}const GL=new WeakMap;function bm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Vu(t){return typeof t=="string"||Array.isArray(t)}const Iv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Nv=["initial",...Iv];function _m(t){return bm(t.animate)||Nv.some(e=>Vu(t[e]))}function MC(t){return!!(_m(t)||t.variants)}function $L(t,e,n){for(const s in e){const a=e[s],l=n[s];if(zn(a))t.addValue(s,a);else if(zn(l))t.addValue(s,Bl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,Bl(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const AT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let jd={};function VC(t){jd=t}function KL(){return jd}class YL{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Yn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Rt.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=_m(n),this.isVariantNode=MC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in b){const C=b[x];m[x]!==void 0&&zn(C)&&C.set(m[x])}}mount(e){this.current=e,GL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(DC.current||HL(),this.shouldReduceMotion=Qy.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ia(this.notifyUpdate),Ia(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Jl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Rt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in jd){const n=jd[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<AT.length;s++){const a=AT[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=$L(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Bl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(O2(s)||L2(s))?s=parseFloat(s):!FL(s)&&Na.test(n)&&(s=EC(e,n)),this.setBaseTarget(e,zn(s)?s.get():s)),zn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Ev(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!zn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new uv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Cv.render(this.render)}}class Pa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class PC extends YL{constructor(){super(...arguments),this.KeyframeResolver=ML}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function OC({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function QL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function WL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Hg(t){return t===void 0||t===1}function Wy({scale:t,scaleX:e,scaleY:n}){return!Hg(t)||!Hg(e)||!Hg(n)}function fo(t){return Wy(t)||jC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function jC(t){return CT(t.x)||CT(t.y)}function CT(t){return t&&t!=="0%"}function Ld(t,e,n){const s=t-n,a=e*s;return n+a}function RT(t,e,n,s,a){return a!==void 0&&(t=Ld(t,a,s)),Ld(t,n,s)+e}function Xy(t,e=0,n=1,s,a){t.min=RT(t.min,e,n,s,a),t.max=RT(t.max,e,n,s,a)}function LC(t,{x:e,y:n}){Xy(t.x,e.translate,e.scale,e.originPoint),Xy(t.y,n.translate,n.scale,n.originPoint)}const IT=.999999999999,NT=1.0000000000001;function XL(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Al(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,LC(t,u)),s&&fo(l.latestValues)&&Al(t,l.latestValues))}e.x<NT&&e.x>IT&&(e.x=1),e.y<NT&&e.y>IT&&(e.y=1)}function Sl(t,e){t.min=t.min+e,t.max=t.max+e}function kT(t,e,n,s,a=.5){const l=Ot(t.min,t.max,a);Xy(t,e,n,l,s)}function Al(t,e){kT(t.x,e.x,e.scaleX,e.scale,e.originX),kT(t.y,e.y,e.scaleY,e.scale,e.originY)}function UC(t,e){return OC(WL(t.getBoundingClientRect(),e))}function ZL(t,e,n){const s=UC(t,n),{scroll:a}=e;return a&&(Sl(s.x,a.offset.x),Sl(s.y,a.offset.y)),s}const JL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},e6=Zl.length;function t6(t,e,n){let s="",a=!0;for(let l=0;l<e6;l++){const u=Zl[l],f=t[u];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(u.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=SC(f,Av[u]);if(!m){a=!1;const y=JL[u]||u;s+=`${y}(${p}) `}n&&(e[u]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function kv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const m in e){const p=e[m];if(Jl.has(m)){u=!0;continue}else if(Z2(m)){a[m]=p;continue}else{const y=SC(p,Av[m]);m.startsWith("origin")?(f=!0,l[m]=y):s[m]=y}}if(e.transform||(u||n?s.transform=t6(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}function zC(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function DT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const eu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xe.test(t))t=parseFloat(t);else return t;const n=DT(t,e.target.x),s=DT(t,e.target.y);return`${n}% ${s}%`}},n6={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Na.parse(t);if(a.length>5)return s;const l=Na.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=m;const p=Ot(f,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},Zy={borderRadius:{...eu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:eu,borderTopRightRadius:eu,borderBottomLeftRadius:eu,borderBottomRightRadius:eu,boxShadow:n6};function BC(t,{layout:e,layoutId:n}){return Jl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Zy[t]||t==="opacity")}function Dv(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const u in s)(zn(s[u])||a&&zn(a[u])||BC(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function i6(t){return window.getComputedStyle(t)}class s6 extends PC{constructor(){super(...arguments),this.type="html",this.renderInstance=zC}readValueFromInstance(e,n){if(Jl.has(n))return this.projection?.isProjecting?Uy(n):V3(e,n);{const s=i6(e),a=(Z2(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return UC(e,n)}build(e,n,s){kv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Dv(e,n,s)}}const r6={offset:"stroke-dashoffset",array:"stroke-dasharray"},a6={offset:"strokeDashoffset",array:"strokeDasharray"};function o6(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?r6:a6;t[l.offset]=xe.transform(-s);const u=xe.transform(e),f=xe.transform(n);t[l.array]=`${u} ${f}`}const l6=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function FC(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},m,p,y){if(kv(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:x}=t;b.transform&&(x.transform=b.transform,delete b.transform),(x.transform||b.transformOrigin)&&(x.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),x.transform&&(x.transformBox=y?.transformBox??"fill-box",delete b.transformBox);for(const C of l6)b[C]!==void 0&&(x[C]=b[C],delete b[C]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&o6(b,a,l,u,!1)}const qC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),HC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function c6(t,e,n,s){zC(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(qC.has(a)?a:Sv(a),e.attrs[a])}function GC(t,e,n){const s=Dv(t,e,n);for(const a in t)if(zn(t[a])||zn(e[a])){const l=Zl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class u6 extends PC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Jl.has(n)){const s=TC(n);return s&&s.default||0}return n=qC.has(n)?n:Sv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return GC(e,n,s)}build(e,n,s){FC(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){c6(e,n,s,a)}mount(e){this.isSVGTag=HC(e.tagName),super.mount(e)}}const h6=Nv.length;function $C(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?$C(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<h6;n++){const s=Nv[n],a=t.props[s];(Vu(a)||a===!1)&&(e[s]=a)}return e}function KC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const f6=[...Iv].reverse(),d6=Iv.length;function m6(t){return e=>Promise.all(e.map(({animation:n,options:s})=>TL(t,n,s)))}function p6(t){let e=m6(t),n=MT(),s=!0;const a=m=>(p,y)=>{const b=Dl(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:x,transitionEnd:C,...V}=b;p={...p,...V,...C}}return p};function l(m){e=m(t)}function u(m){const{props:p}=t,y=$C(t.parent)||{},b=[],x=new Set;let C={},V=1/0;for(let N=0;N<d6;N++){const H=f6[N],W=n[H],Y=p[H]!==void 0?p[H]:y[H],me=Vu(Y),ue=H===m?W.isActive:null;ue===!1&&(V=N);let fe=Y===y[H]&&Y!==p[H]&&me;if(fe&&s&&t.manuallyAnimateOnMount&&(fe=!1),W.protectedKeys={...C},!W.isActive&&ue===null||!Y&&!W.prevProp||bm(Y)||typeof Y=="boolean")continue;const k=g6(W.prevProp,Y);let S=k||H===m&&W.isActive&&!fe&&me||N>V&&me,M=!1;const z=Array.isArray(Y)?Y:[Y];let B=z.reduce(a(H),{});ue===!1&&(B={});const{prevResolvedValues:P={}}=W,D={...P,...B},be=X=>{S=!0,x.has(X)&&(M=!0,x.delete(X)),W.needsAnimating[X]=!0;const G=t.getValue(X);G&&(G.liveStyle=!1)};for(const X in D){const G=B[X],K=P[X];if(C.hasOwnProperty(X))continue;let O=!1;Gy(G)&&Gy(K)?O=!KC(G,K):O=G!==K,O?G!=null?be(X):x.add(X):G!==void 0&&x.has(X)?be(X):W.protectedKeys[X]=!0}W.prevProp=Y,W.prevResolvedValues=B,W.isActive&&(C={...C,...B}),s&&t.blockInitialAnimation&&(S=!1);const we=fe&&k;S&&(!we||M)&&b.push(...z.map(X=>{const G={type:H};if(typeof X=="string"&&s&&!we&&t.manuallyAnimateOnMount&&t.parent){const{parent:K}=t,O=Dl(K,X);if(K.enteringChildren&&O){const{delayChildren:T}=O.transition||{};G.delay=gC(K.enteringChildren,t,T)}}return{animation:X,options:G}}))}if(x.size){const N={};if(typeof p.initial!="boolean"){const H=Dl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);H&&H.transition&&(N.transition=H.transition)}x.forEach(H=>{const W=t.getBaseTarget(H),Y=t.getValue(H);Y&&(Y.liveStyle=!0),N[H]=W??null}),b.push({animation:N})}let j=!!b.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(j=!1),s=!1,j?e(b):Promise.resolve()}function f(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(m,p)),n[m].isActive=p;const y=u(m);for(const b in n)n[b].protectedKeys={};return y}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=MT()}}}function g6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!KC(e,t):!1}function lo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function MT(){return{animate:lo(!0),whileInView:lo(),whileHover:lo(),whileTap:lo(),whileDrag:lo(),whileFocus:lo(),exit:lo()}}const YC=1e-4,y6=1-YC,v6=1+YC,QC=.01,b6=0-QC,_6=0+QC;function Qn(t){return t.max-t.min}function w6(t,e,n){return Math.abs(t-e)<=n}function VT(t,e,n,s=.5){t.origin=s,t.originPoint=Ot(e.min,e.max,t.origin),t.scale=Qn(n)/Qn(e),t.translate=Ot(n.min,n.max,t.origin)-t.originPoint,(t.scale>=y6&&t.scale<=v6||isNaN(t.scale))&&(t.scale=1),(t.translate>=b6&&t.translate<=_6||isNaN(t.translate))&&(t.translate=0)}function _u(t,e,n,s){VT(t.x,e.x,n.x,s?s.originX:void 0),VT(t.y,e.y,n.y,s?s.originY:void 0)}function PT(t,e,n){t.min=n.min+e.min,t.max=t.min+Qn(e)}function x6(t,e,n){PT(t.x,e.x,n.x),PT(t.y,e.y,n.y)}function OT(t,e,n){t.min=e.min-n.min,t.max=t.min+Qn(e)}function Ud(t,e,n){OT(t.x,e.x,n.x),OT(t.y,e.y,n.y)}function jT(t,e,n,s,a){return t-=e,t=Ld(t,1/n,s),a!==void 0&&(t=Ld(t,1/a,s)),t}function T6(t,e=0,n=1,s=.5,a,l=t,u=t){if(Us.test(e)&&(e=parseFloat(e),e=Ot(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=Ot(l.min,l.max,s);t===l&&(f-=e),t.min=jT(t.min,e,n,f,a),t.max=jT(t.max,e,n,f,a)}function LT(t,e,[n,s,a],l,u){T6(t,e[n],e[s],e[a],e.scale,l,u)}const E6=["x","scaleX","originX"],S6=["y","scaleY","originY"];function UT(t,e,n,s){LT(t.x,e,E6,n?n.x:void 0,s?s.x:void 0),LT(t.y,e,S6,n?n.y:void 0,s?s.y:void 0)}function zT(t,e){t.min=e.min,t.max=e.max}function ls(t,e){zT(t.x,e.x),zT(t.y,e.y)}function BT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function FT(t){return t.translate===0&&t.scale===1}function WC(t){return FT(t.x)&&FT(t.y)}function qT(t,e){return t.min===e.min&&t.max===e.max}function A6(t,e){return qT(t.x,e.x)&&qT(t.y,e.y)}function HT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function XC(t,e){return HT(t.x,e.x)&&HT(t.y,e.y)}function GT(t){return Qn(t.x)/Qn(t.y)}function $T(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Fi(t){return[t("x"),t("y")]}function C6(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:b,rotateY:x,skewX:C,skewY:V}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),b&&(s+=`rotateX(${b}deg) `),x&&(s+=`rotateY(${x}deg) `),C&&(s+=`skewX(${C}deg) `),V&&(s+=`skewY(${V}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const ZC=["TopLeft","TopRight","BottomLeft","BottomRight"],R6=ZC.length,KT=t=>typeof t=="string"?parseFloat(t):t,YT=t=>typeof t=="number"||xe.test(t);function I6(t,e,n,s,a,l){a?(t.opacity=Ot(0,n.opacity??1,N6(s)),t.opacityExit=Ot(e.opacity??1,0,k6(s))):l&&(t.opacity=Ot(e.opacity??1,n.opacity??1,s));for(let u=0;u<R6;u++){const f=`border${ZC[u]}Radius`;let m=QT(e,f),p=QT(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||YT(m)===YT(p)?(t[f]=Math.max(Ot(KT(m),KT(p),s),0),(Us.test(p)||Us.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=Ot(e.rotate||0,n.rotate||0,s))}function QT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const N6=JC(0,.5,$2),k6=JC(.5,.95,Yi);function JC(t,e,n){return s=>s<t?0:s>e?1:n(ku(t,e,s))}function D6(t,e){const n=Yn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Ia(s),t(l-e))};return Rt.setup(s,!0),()=>Ia(s)}function Pu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function ed(t){return zn(t)?t.get():t}function M6(t,e,n){const s=zn(t)?t:Bl(t);return s.start(Tv("",s,e,n)),s.animation}const V6=(t,e)=>t.depth-e.depth;class P6{constructor(){this.children=[],this.isDirty=!1}add(e){av(this.children,e),this.isDirty=!0}remove(e){ov(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(V6),this.isDirty=!1,this.children.forEach(e)}}class O6{constructor(){this.members=[]}add(e){av(this.members,e),e.scheduleRender()}remove(e){if(ov(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const td={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Gg=["","X","Y","Z"],j6=1e3;let L6=0;function $g(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function eR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=bC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Rt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&eR(s)}function tR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=L6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(B6),this.nodes.forEach(G6),this.nodes.forEach($6),this.nodes.forEach(F6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new P6)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new uv),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=kC(u)&&!zL(u),this.instance=u;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y,b=0;const x=()=>this.root.updateBlockedByResize=!1;Rt.read(()=>{b=window.innerWidth}),t(u,()=>{const C=window.innerWidth;C!==b&&(b=C,this.root.updateBlockedByResize=!0,y&&y(),y=D6(x,250),td.hasAnimatedSinceResize&&(td.hasAnimatedSinceResize=!1,this.nodes.forEach(ZT)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:b,hasRelativeLayoutChanged:x,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||p.getDefaultTransition()||X6,{onLayoutAnimationStart:j,onLayoutAnimationComplete:N}=p.getProps(),H=!this.targetLayout||!XC(this.targetLayout,C),W=!b&&x;if(this.options.layoutRoot||this.resumeFrom||W||b&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...xv(V,"layout"),onPlay:j,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(y,W)}else b||ZT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ia(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(K6),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const b=this.path[y];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(WT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(XT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(H6),this.nodes.forEach(U6),this.nodes.forEach(z6)):this.nodes.forEach(XT),this.clearAllSnapshots();const f=Yn.now();Dn.delta=Hs(0,1e3/60,f-Dn.timestamp),Dn.timestamp=f,Dn.isProcessing=!0,jg.update.process(Dn),jg.preRender.process(Dn),jg.render.process(Dn),Dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(q6),this.sharedNodes.forEach(Y6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Qn(this.snapshot.measuredBox.x)&&!Qn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!WC(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(f||fo(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),Z6(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return fn();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(J6))){const{scroll:p}=this.root;p&&(Sl(f.x,p.offset.x),Sl(f.y,p.offset.y))}return f}removeElementScroll(u){const f=fn();if(ls(f,u),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:b}=p;p!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&ls(f,u),Sl(f.x,y.offset.x),Sl(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const m=fn();ls(m,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Al(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),fo(y.latestValues)&&Al(m,y.latestValues)}return fo(this.latestValues)&&Al(m,this.latestValues),m}removeTransform(u){const f=fn();ls(f,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!fo(p.latestValues))continue;Wy(p.latestValues)&&p.updateSnapshot();const y=fn(),b=p.measurePageBox();ls(y,b),UT(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return fo(this.latestValues)&&UT(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:b}=this.options;if(!this.layout||!(y||b))return;this.resolvedRelativeTargetAt=Dn.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=fn(),this.targetWithTransforms=fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),x6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ls(this.target,this.layout.layoutBox),LC(this.target,this.targetDelta)):ls(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Wy(this.parent.latestValues)||jC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),Ud(this.relativeTargetOrigin,f,m),ls(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Dn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;ls(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,x=this.treeScale.y;XL(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=fn());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(BT(this.prevProjectionDelta.x,this.projectionDelta.x),BT(this.prevProjectionDelta.y,this.projectionDelta.y)),_u(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==x||!$T(this.projectionDelta.x,this.prevProjectionDelta.x)||!$T(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=El(),this.projectionDelta=El(),this.projectionDeltaWithTransform=El()}setAnimationOrigin(u,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},b=El();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const x=fn(),C=m?m.source:void 0,V=this.layout?this.layout.source:void 0,j=C!==V,N=this.getStack(),H=!N||N.members.length<=1,W=!!(j&&!H&&this.options.crossfade===!0&&!this.path.some(W6));this.animationProgress=0;let Y;this.mixTargetDelta=me=>{const ue=me/1e3;JT(b.x,u.x,ue),JT(b.y,u.y,ue),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ud(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Q6(this.relativeTarget,this.relativeTargetOrigin,x,ue),Y&&A6(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=fn()),ls(Y,this.relativeTarget)),j&&(this.animationValues=y,I6(y,p,this.latestValues,ue,W,H)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ue},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ia(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rt.update(()=>{td.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Bl(0)),this.currentAnimation=M6(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(j6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=u;if(!(!f||!m||!p)){if(this!==u&&this.layout&&p&&nR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||fn();const b=Qn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+b;const x=Qn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+x}ls(f,m),Al(f,y),_u(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new O6),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&$g("z",u,p,this.animationValues);for(let y=0;y<Gg.length;y++)$g(`rotate${Gg[y]}`,u,p,this.animationValues),$g(`skew${Gg[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=ed(f?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=ed(f?.pointerEvents)||""),this.hasProjected&&!fo(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=C6(this.projectionDeltaWithTransform,this.treeScale,y);m&&(b=m(y,b)),u.transform=b;const{x,y:C}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${C.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const V in Zy){if(y[V]===void 0)continue;const{correct:j,applyTo:N,isCSSVariable:H}=Zy[V],W=b==="none"?y[V]:j(y[V],p);if(N){const Y=N.length;for(let me=0;me<Y;me++)u[N[me]]=W}else H?this.options.visualElement.renderState.vars[V]=W:u[V]=W}this.options.layoutId&&(u.pointerEvents=p===this?ed(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(WT),this.root.sharedNodes.clear()}}}function U6(t){t.updateLayout()}function z6(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Fi(y=>{const b=l?e.measuredBox[y]:e.layoutBox[y],x=Qn(b);b.min=n[y].min,b.max=b.min+x}):nR(a,e.layoutBox,n)&&Fi(y=>{const b=l?e.measuredBox[y]:e.layoutBox[y],x=Qn(n[y]);b.max=b.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+x)});const u=El();_u(u,n,e.layoutBox);const f=El();l?_u(f,t.applyTransform(s,!0),e.measuredBox):_u(f,n,e.layoutBox);const m=!WC(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:x}=y;if(b&&x){const C=fn();Ud(C,e.layoutBox,b.layoutBox);const V=fn();Ud(V,n,x.layoutBox),XC(C,V)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=V,t.relativeTargetOrigin=C,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function B6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function F6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function q6(t){t.clearSnapshot()}function WT(t){t.clearMeasurements()}function XT(t){t.isLayoutDirty=!1}function H6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ZT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function G6(t){t.resolveTargetDelta()}function $6(t){t.calcProjection()}function K6(t){t.resetSkewAndRotation()}function Y6(t){t.removeLeadSnapshot()}function JT(t,e,n){t.translate=Ot(e.translate,0,n),t.scale=Ot(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function eE(t,e,n,s){t.min=Ot(e.min,n.min,s),t.max=Ot(e.max,n.max,s)}function Q6(t,e,n,s){eE(t.x,e.x,n.x,s),eE(t.y,e.y,n.y,s)}function W6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const X6={duration:.45,ease:[.4,0,.1,1]},tE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),nE=tE("applewebkit/")&&!tE("chrome/")?Math.round:Yi;function iE(t){t.min=nE(t.min),t.max=nE(t.max)}function Z6(t){iE(t.x),iE(t.y)}function nR(t,e,n){return t==="position"||t==="preserve-aspect"&&!w6(GT(e),GT(n),.2)}function J6(t){return t!==t.root&&t.scroll?.wasRoot}const eU=tR({attachResizeListener:(t,e)=>Pu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kg={current:void 0},iR=tR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Kg.current){const t=new eU({});t.mount(window),t.setOptions({layoutScroll:!0}),Kg.current=t}return Kg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Mv=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function sE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function tU(...t){return e=>{let n=!1;const s=t.map(a=>{const l=sE(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():sE(t[a],null)}}}}function nU(...t){return I.useCallback(tU(...t),t)}class iU extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=AC(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sU({children:t,isPresent:e,anchorX:n,root:s}){const a=I.useId(),l=I.useRef(null),u=I.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=I.useContext(Mv),m=t.props?.ref??t?.ref,p=nU(l,m);return I.useInsertionEffect(()=>{const{width:y,height:b,top:x,left:C,right:V}=u.current;if(e||!l.current||!y||!b)return;const j=n==="left"?`left: ${C}`:`right: ${V}`;l.current.dataset.motionPopId=a;const N=document.createElement("style");f&&(N.nonce=f);const H=s??document.head;return H.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${b}px !important;
            ${j}px !important;
            top: ${x}px !important;
          }
        `),()=>{H.contains(N)&&H.removeChild(N)}},[e]),v.jsx(iU,{isPresent:e,childRef:l,sizeRef:u,children:I.cloneElement(t,{ref:p})})}const rU=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,root:m})=>{const p=rv(aU),y=I.useId();let b=!0,x=I.useMemo(()=>(b=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:C=>{p.set(C,!0);for(const V of p.values())if(!V)return;s&&s()},register:C=>(p.set(C,!1),()=>p.delete(C))}),[n,p,s]);return l&&b&&(x={...x}),I.useMemo(()=>{p.forEach((C,V)=>p.set(V,!1))},[n]),I.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),u==="popLayout"&&(t=v.jsx(sU,{isPresent:n,anchorX:f,root:m,children:t})),v.jsx(vm.Provider,{value:x,children:t})};function aU(){return new Map}function sR(t=!0){const e=I.useContext(vm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=I.useId();I.useEffect(()=>{if(t)return a(l)},[t]);const u=I.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Of=t=>t.key||"";function rE(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const qi=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",root:m})=>{const[p,y]=sR(u),b=I.useMemo(()=>rE(t),[t]),x=u&&!p?[]:b.map(Of),C=I.useRef(!0),V=I.useRef(b),j=rv(()=>new Map),N=I.useRef(new Set),[H,W]=I.useState(b),[Y,me]=I.useState(b);P2(()=>{C.current=!1,V.current=b;for(let k=0;k<Y.length;k++){const S=Of(Y[k]);x.includes(S)?(j.delete(S),N.current.delete(S)):j.get(S)!==!0&&j.set(S,!1)}},[Y,x.length,x.join("-")]);const ue=[];if(b!==H){let k=[...b];for(let S=0;S<Y.length;S++){const M=Y[S],z=Of(M);x.includes(z)||(k.splice(S,0,M),ue.push(M))}return l==="wait"&&ue.length&&(k=ue),me(rE(k)),W(b),null}const{forceRender:fe}=I.useContext(sv);return v.jsx(v.Fragment,{children:Y.map(k=>{const S=Of(k),M=u&&!p?!1:b===Y||x.includes(S),z=()=>{if(N.current.has(S))return;if(N.current.add(S),j.has(S))j.set(S,!0);else return;let B=!0;j.forEach(P=>{P||(B=!1)}),B&&(fe?.(),me(V.current),u&&y?.(),s&&s())};return v.jsx(rU,{isPresent:M,initial:!C.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:M?void 0:z,anchorX:f,children:k},S)})})},rR=I.createContext({strict:!1}),aE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let oE=!1;function oU(){if(oE)return;const t={};for(const e in aE)t[e]={isEnabled:n=>aE[e].some(s=>!!n[s])};VC(t),oE=!0}function aR(){return oU(),KL()}function lU(t){const e=aR();for(const n in t)e[n]={...e[n],...t[n]};VC(e)}const cU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||cU.has(t)}let oR=t=>!zd(t);function uU(t){typeof t=="function"&&(oR=e=>e.startsWith("on")?!zd(e):t(e))}try{uU(require("@emotion/is-prop-valid").default)}catch{}function hU(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(oR(a)||n===!0&&zd(a)||!e&&!zd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const wm=I.createContext({});function fU(t,e){if(_m(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Vu(n)?n:void 0,animate:Vu(s)?s:void 0}}return t.inherit!==!1?e:{}}function dU(t){const{initial:e,animate:n}=fU(t,I.useContext(wm));return I.useMemo(()=>({initial:e,animate:n}),[lE(e),lE(n)])}function lE(t){return Array.isArray(t)?t.join(" "):t}const Vv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lR(t,e,n){for(const s in e)!zn(e[s])&&!BC(s,n)&&(t[s]=e[s])}function mU({transformTemplate:t},e){return I.useMemo(()=>{const n=Vv();return kv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function pU(t,e){const n=t.style||{},s={};return lR(s,n,t),Object.assign(s,mU(t,e)),s}function gU(t,e){const n={},s=pU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const cR=()=>({...Vv(),attrs:{}});function yU(t,e,n,s){const a=I.useMemo(()=>{const l=cR();return FC(l,e,HC(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};lR(l,t.style,t),a.style={...l,...a.style}}return a}const vU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pv(t){return typeof t!="string"||t.includes("-")?!1:!!(vU.indexOf(t)>-1||/[A-Z]/u.test(t))}function bU(t,e,n,{latestValues:s},a,l=!1,u){const m=(u??Pv(t)?yU:gU)(e,s,a,t),p=hU(e,typeof t=="string",l),y=t!==I.Fragment?{...p,...m,ref:n}:{},{children:b}=e,x=I.useMemo(()=>zn(b)?b.get():b,[b]);return I.createElement(t,{...y,children:x})}function _U({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:wU(n,s,a,t),renderState:e()}}function wU(t,e,n,s){const a={},l=s(t,{});for(const x in l)a[x]=ed(l[x]);let{initial:u,animate:f}=t;const m=_m(t),p=MC(t);e&&p&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const b=y?f:u;if(b&&typeof b!="boolean"&&!bm(b)){const x=Array.isArray(b)?b:[b];for(let C=0;C<x.length;C++){const V=Ev(t,x[C]);if(V){const{transitionEnd:j,transition:N,...H}=V;for(const W in H){let Y=H[W];if(Array.isArray(Y)){const me=y?Y.length-1:0;Y=Y[me]}Y!==null&&(a[W]=Y)}for(const W in j)a[W]=j[W]}}}return a}const uR=t=>(e,n)=>{const s=I.useContext(wm),a=I.useContext(vm),l=()=>_U(t,e,s,a);return n?l():rv(l)},xU=uR({scrapeMotionValuesFromProps:Dv,createRenderState:Vv}),TU=uR({scrapeMotionValuesFromProps:GC,createRenderState:cR}),EU=Symbol.for("motionComponentSymbol");function SU(t,e,n){const s=I.useRef(n);I.useInsertionEffect(()=>{s.current=n});const a=I.useRef(null);return I.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const f=u(l);typeof f=="function"&&(a.current=f)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const hR=I.createContext({});function cu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function AU(t,e,n,s,a,l){const{visualElement:u}=I.useContext(wm),f=I.useContext(rR),m=I.useContext(vm),p=I.useContext(Mv).reducedMotion,y=I.useRef(null);s=s||f.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p,isSVG:l}));const b=y.current,x=I.useContext(hR);b&&!b.projection&&a&&(b.type==="html"||b.type==="svg")&&CU(y.current,n,a,x);const C=I.useRef(!1);I.useInsertionEffect(()=>{b&&C.current&&b.update(n,m)});const V=n[vC],j=I.useRef(!!V&&!window.MotionHandoffIsComplete?.(V)&&window.MotionHasOptimisedAnimation?.(V));return P2(()=>{b&&(C.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),j.current&&b.animationState&&b.animationState.animateChanges())}),I.useEffect(()=>{b&&(!j.current&&b.animationState&&b.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(V)}),j.current=!1),b.enteringChildren=void 0)}),b}function CU(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:fR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&cu(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function fR(t){if(t)return t.options.allowProjection!==!1?t.projection:fR(t.parent)}function Yg(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&lU(s);const l=n?n==="svg":Pv(t),u=l?TU:xU;function f(p,y){let b;const x={...I.useContext(Mv),...p,layoutId:RU(p)},{isStatic:C}=x,V=dU(p),j=u(p,C);if(!C&&V2){IU();const N=NU(x);b=N.MeasureLayout,V.visualElement=AU(t,j,x,a,N.ProjectionNode,l)}return v.jsxs(wm.Provider,{value:V,children:[b&&V.visualElement?v.jsx(b,{visualElement:V.visualElement,...x}):null,bU(t,p,SU(j,V.visualElement,y),j,C,e,l)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=I.forwardRef(f);return m[EU]=t,m}function RU({layoutId:t}){const e=I.useContext(sv).id;return e&&t!==void 0?e+"-"+t:t}function IU(t,e){I.useContext(rR).strict}function NU(t){const e=aR(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function kU(t,e){if(typeof Proxy>"u")return Yg;const n=new Map,s=(l,u)=>Yg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,Yg(u,void 0,t,e)),n.get(u))})}const DU=(t,e)=>e.isSVG??Pv(t)?new u6(e):new s6(e,{allowProjection:t!==I.Fragment});class MU extends Pa{constructor(e){super(e),e.animationState||(e.animationState=p6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();bm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let VU=0;class PU extends Pa{constructor(){super(...arguments),this.id=VU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const OU={animation:{Feature:MU},exit:{Feature:PU}};function rh(t){return{point:{x:t.pageX,y:t.pageY}}}const jU=t=>e=>Rv(e)&&t(e,rh(e));function wu(t,e,n,s){return Pu(t,e,jU(n),s)}const dR=({current:t})=>t?t.ownerDocument.defaultView:null,cE=(t,e)=>Math.abs(t-e);function LU(t,e){const n=cE(t.x,e.x),s=cE(t.y,e.y);return Math.sqrt(n**2+s**2)}const uE=new Set(["auto","scroll"]);class mR{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=C=>{this.handleScroll(C.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Wg(this.lastMoveEventInfo,this.history),V=this.startEvent!==null,j=LU(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!V&&!j)return;const{point:N}=C,{timestamp:H}=Dn;this.history.push({...N,timestamp:H});const{onStart:W,onMove:Y}=this.handlers;V||(W&&W(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,C)},this.handlePointerMove=(C,V)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=Qg(V,this.transformPagePoint),Rt.update(this.updatePoint,!0)},this.handlePointerUp=(C,V)=>{this.end();const{onEnd:j,onSessionEnd:N,resumeAnimation:H}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&H&&H(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const W=Wg(C.type==="pointercancel"?this.lastMoveEventInfo:Qg(V,this.transformPagePoint),this.history);this.startEvent&&j&&j(C,W),N&&N(C,W)},!Rv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const m=rh(e),p=Qg(m,this.transformPagePoint),{point:y}=p,{timestamp:b}=Dn;this.history=[{...y,timestamp:b}];const{onSessionStart:x}=n;x&&x(e,Wg(p,this.history)),this.removeListeners=nh(wu(this.contextWindow,"pointermove",this.handlePointerMove),wu(this.contextWindow,"pointerup",this.handlePointerUp),wu(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(uE.has(s.overflowX)||uE.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),Rt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ia(this.updatePoint)}}function Qg(t,e){return e?{point:e(t.point)}:t}function hE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Wg({point:t},e){return{point:t,delta:hE(t,pR(e)),offset:hE(t,UU(e)),velocity:zU(e,.1)}}function UU(t){return t[0]}function pR(t){return t[t.length-1]}function zU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=pR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>wr(e)));)n--;if(!s)return{x:0,y:0};const l=Gi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function BU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ot(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ot(n,t,s.max):Math.min(t,n)),t}function fE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function FU(t,{top:e,left:n,bottom:s,right:a}){return{x:fE(t.x,n,a),y:fE(t.y,e,s)}}function dE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function qU(t,e){return{x:dE(t.x,e.x),y:dE(t.y,e.y)}}function HU(t,e){let n=.5;const s=Qn(t),a=Qn(e);return a>s?n=ku(e.min,e.max-s,t.min):s>a&&(n=ku(t.min,t.max-a,e.min)),Hs(0,1,n)}function GU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Jy=.35;function $U(t=Jy){return t===!1?t=0:t===!0&&(t=Jy),{x:mE(t,"left","right"),y:mE(t,"top","bottom")}}function mE(t,e,n){return{min:pE(t,e),max:pE(t,n)}}function pE(t,e){return typeof t=="number"?t:t[e]||0}const KU=new WeakMap;class YU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n?(this.stopAnimation(),this.snapToCursor(rh(b).point)):this.pauseAnimation()},u=(b,x)=>{this.stopAnimation();const{drag:C,dragPropagation:V,onDragStart:j}=this.getProps();if(C&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=PL(C),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fi(H=>{let W=this.getAxisMotionValue(H).get()||0;if(Us.test(W)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const me=Y.layout.layoutBox[H];me&&(W=Qn(me)*(parseFloat(W)/100))}}this.originPoint[H]=W}),j&&Rt.postRender(()=>j(b,x)),$y(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},f=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x;const{dragPropagation:C,dragDirectionLock:V,onDirectionLock:j,onDrag:N}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:H}=x;if(V&&this.currentDirection===null){this.currentDirection=QU(H),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",x.point,H),this.updateAxis("y",x.point,H),this.visualElement.render(),N&&N(b,x)},m=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x,this.stop(b,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Fi(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new mR(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:dR(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&Rt.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!jf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=BU(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&cu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=FU(s.layoutBox,e):this.constraints=!1,this.elastic=$U(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Fi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=GU(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!cu(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=ZL(s,a.root,this.visualElement.getTransformPagePoint());let u=qU(a.layout.layoutBox,l);if(n){const f=n(QL(u));this.hasMutatedConstraints=!!f,f&&(u=OC(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=Fi(y=>{if(!jf(y,n,this.currentDirection))return;let b=m&&m[y]||{};u&&(b={min:0,max:0});const x=a?200:1e6,C=a?40:1e7,V={type:"inertia",velocity:s?e[y]:0,bounceStiffness:x,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(y,V)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return $y(this.visualElement,e),s.start(Tv(e,s,0,n,this.visualElement,!1))}stopAnimation(){Fi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Fi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Fi(n=>{const{drag:s}=this.getProps();if(!jf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-Ot(u,f,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!cu(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Fi(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();a[u]=HU({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Fi(u=>{if(!jf(u,e,null))return;const f=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];f.set(Ot(m,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;KU.set(this.visualElement,this);const e=this.visualElement.current,n=wu(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&!NC(m.target)&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();cu(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Rt.read(s);const u=Pu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Fi(y=>{const b=this.getAxisMotionValue(y);b&&(this.originPoint[y]+=m[y].translate,b.set(b.get()+m[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Jy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function jf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function QU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class WU extends Pa{constructor(e){super(e),this.removeGroupControls=Yi,this.removeListeners=Yi,this.controls=new YU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const gE=t=>(e,n)=>{t&&Rt.postRender(()=>t(e,n))};class XU extends Pa{constructor(){super(...arguments),this.removePointerDownListener=Yi}onPointerDown(e){this.session=new mR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:gE(e),onStart:gE(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&Rt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=wu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Xg=!1;class ZU extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Xg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),td.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Xg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Rt.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Cv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Xg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gR(t){const[e,n]=sR(),s=I.useContext(sv);return v.jsx(ZU,{...t,layoutGroup:s,switchLayoutGroup:I.useContext(hR),isPresent:e,safeToRemove:n})}const JU={pan:{Feature:XU},drag:{Feature:WU,ProjectionNode:iR,MeasureLayout:gR}};function yE(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Rt.postRender(()=>l(e,rh(e)))}class e9 extends Pa{mount(){const{current:e}=this.node;e&&(this.unmount=OL(e,(n,s)=>(yE(this.node,s,"Start"),a=>yE(this.node,a,"End"))))}unmount(){}}class t9 extends Pa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nh(Pu(this.node.current,"focus",()=>this.onFocus()),Pu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Rt.postRender(()=>l(e,rh(e)))}class n9 extends Pa{mount(){const{current:e}=this.node;e&&(this.unmount=UL(e,(n,s)=>(vE(this.node,s,"Start"),(a,{success:l})=>vE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const e0=new WeakMap,Zg=new WeakMap,i9=t=>{const e=e0.get(t.target);e&&e(t)},s9=t=>{t.forEach(i9)};function r9({root:t,...e}){const n=t||document;Zg.has(n)||Zg.set(n,{});const s=Zg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(s9,{root:t,...e})),s[a]}function a9(t,e,n){const s=r9(e);return e0.set(t,n),s.observe(t),()=>{e0.delete(t),s.unobserve(t)}}const o9={some:0,all:1};class l9 extends Pa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:o9[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:b}=this.node.getProps(),x=p?y:b;x&&x(m)};return a9(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(c9(e,n))&&this.startObserver()}unmount(){}}function c9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const u9={inView:{Feature:l9},tap:{Feature:n9},focus:{Feature:t9},hover:{Feature:e9}},h9={layout:{ProjectionNode:iR,MeasureLayout:gR}},f9={...OU,...u9,...JU,...h9},nt=kU(f9,DU);const d9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),bE=t=>{const e=m9(t);return e.charAt(0).toUpperCase()+e.slice(1)},yR=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),p9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var g9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const y9=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...f},m)=>I.createElement("svg",{ref:m,...g9,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:yR("lucide",a),...!l&&!p9(f)&&{"aria-hidden":"true"},...f},[...u.map(([p,y])=>I.createElement(p,y)),...Array.isArray(l)?l:[l]]));const it=(t,e)=>{const n=I.forwardRef(({className:s,...a},l)=>I.createElement(y9,{ref:l,iconNode:e,className:yR(`lucide-${d9(bE(t))}`,`lucide-${t}`,s),...a}));return n.displayName=bE(t),n};const v9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],b9=it("arrow-left",v9);const _9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],_E=it("award",_9);const w9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Bd=it("book-open",w9);const x9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Fd=it("calendar",x9);const T9=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],nd=it("camera",T9);const E9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],mr=it("check",E9);const S9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],vR=it("chevron-left",S9);const A9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],bR=it("chevron-right",A9);const C9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],wE=it("circle-alert",C9);const R9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],I9=it("circle-check-big",R9);const N9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ov=it("circle-question-mark",N9);const k9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],D9=it("clock",k9);const M9=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],V9=it("crown",M9);const P9=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],jv=it("layout-grid",P9);const O9=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],j9=it("lock",O9);const L9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_R=it("log-out",L9);const U9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],z9=it("mail",U9);const B9=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],F9=it("moon",B9);const q9=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],xE=it("palette",q9);const H9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Jg=it("pen",H9);const G9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],$9=it("pencil",G9);const K9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qd=it("plus",K9);const Y9=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Q9=it("printer",Y9);const W9=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],TE=it("rocket",W9);const X9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Lv=it("settings",X9);const Z9=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],id=it("share-2",Z9);const J9=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],wR=it("sparkles",J9);const ez=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],EE=it("square-check-big",ez);const tz=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],nz=it("sun",tz);const iz=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sd=it("trash-2",iz);const sz=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],rz=it("type",sz);const az=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],oz=it("user",az);const lz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cz=it("users",lz);const uz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vs=it("x",uz);const hz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],SE=it("zap",hz),xR=I.createContext(null),TR=()=>{const t=I.useContext(xR);if(!t)throw new Error("useDialog must be used within a DialogProvider");return t},fz=({children:t})=>{const[e,n]=I.useState({isOpen:!1,type:"alert",options:{message:""},resolve:null}),[s,a]=I.useState(""),[l,u]=I.useState("editor"),f=I.useCallback((V,j)=>new Promise(N=>{a(j.inputDefaultValue||""),u("editor"),n({isOpen:!0,type:V,options:j,resolve:N})}),[]),m=I.useCallback(V=>{e.resolve&&e.resolve(V),n(j=>({...j,isOpen:!1,resolve:null}))},[e.resolve]),p=I.useCallback((V,j)=>f("alert",{message:V,title:"Notice",confirmText:"OK",type:"info",...j}),[f]),y=I.useCallback((V,j)=>f("confirm",{message:V,title:"Confirm",confirmText:"Yes",cancelText:"Cancel",type:"warning",...j}),[f]),b=I.useCallback((V,j)=>f("prompt",{message:V,title:"Input",confirmText:"OK",cancelText:"Cancel",inputPlaceholder:"",...j}),[f]),x=I.useCallback((V,j)=>f("share",{message:V,title:"Share Board",confirmText:"Send Invite",cancelText:"Cancel",showRoleSelector:!0,inputPlaceholder:"Enter email address",...j}),[f]),C=()=>{switch(e.options.type){case"success":return v.jsx(I9,{className:"w-8 h-8 text-green-400"});case"warning":return v.jsx(wE,{className:"w-8 h-8 text-amber-400"});case"error":return v.jsx(wE,{className:"w-8 h-8 text-red-400"});default:return v.jsx(Ov,{className:"w-8 h-8 text-accent-primary"})}};return v.jsxs(xR.Provider,{value:{alert:p,confirm:y,prompt:b,sharePrompt:x},children:[t,v.jsx(qi,{children:e.isOpen&&v.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{e.type==="alert"?m(void 0):e.type==="confirm"?m(!1):m(null)},children:v.jsxs(nt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:V=>V.stopPropagation(),children:[v.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="share"?v.jsx(z9,{className:"w-6 h-6 text-accent-primary"}):C(),v.jsx("h3",{className:"text-lg font-bold text-white",children:e.options.title})]}),v.jsx("button",{onClick:()=>{e.type==="alert"?m(void 0):e.type==="confirm"?m(!1):m(null)},className:"p-1 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:v.jsx(Vs,{size:20})})]}),v.jsxs("div",{className:"p-6",children:[v.jsx("p",{className:"text-slate-300 mb-4 whitespace-pre-wrap",children:e.options.message}),(e.type==="prompt"||e.type==="share")&&v.jsx("input",{type:e.type==="share"?"email":"text",autoFocus:!0,value:s,onChange:V=>a(V.target.value),placeholder:e.options.inputPlaceholder,className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors mb-4",onKeyDown:V=>{V.key==="Enter"&&s.trim()&&(e.type==="share"?m({email:s.trim(),role:l}):m(s.trim()))}}),e.type==="share"&&e.options.showRoleSelector&&v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"text-sm font-medium text-slate-400 mb-2 block",children:"Access Level"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>u("viewer"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="viewer"?"bg-accent-primary/20 text-accent-primary border border-accent-primary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Viewer"}),v.jsx("button",{onClick:()=>u("editor"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Editor"})]}),v.jsx("p",{className:"text-xs text-slate-500 mt-2",children:l==="viewer"?"Can view the board but not make changes":"Can view and edit the board"})]})]}),v.jsxs("div",{className:"flex gap-3 p-4 pt-0",children:[e.type!=="alert"&&v.jsx("button",{onClick:()=>{e.type==="confirm"?m(!1):m(null)},className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:e.options.cancelText}),v.jsx("button",{onClick:()=>{e.type==="alert"?m(void 0):e.type==="confirm"?m(!0):e.type==="share"?s.trim()&&m({email:s.trim(),role:l}):m(s.trim()||null)},disabled:(e.type==="prompt"||e.type==="share")&&!s.trim(),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.options.confirmText})]})]})})})]})};function ER(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=ER(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function dz(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=ER(t))&&(s&&(s+=" "),s+=e);return s}const mz=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},pz=(t,e)=>({classGroupId:t,validator:e}),SR=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Hd="-",AE=[],gz="arbitrary..",yz=t=>{const e=bz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return vz(u);const f=u.split(Hd),m=f[0]===""&&f.length>1?1:0;return AR(f,m,e)},getConflictingClassGroupIds:(u,f)=>{if(f){const m=s[u],p=n[u];return m?p?mz(p,m):m:p||AE}return n[u]||AE}}},AR=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=AR(t,e+1,l);if(p)return p}const u=n.validators;if(u===null)return;const f=e===0?t.join(Hd):t.slice(e).join(Hd),m=u.length;for(let p=0;p<m;p++){const y=u[p];if(y.validator(f))return y.classGroupId}},vz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?gz+s:void 0})(),bz=t=>{const{theme:e,classGroups:n}=t;return _z(n,e)},_z=(t,e)=>{const n=SR();for(const s in t){const a=t[s];Uv(a,n,s,e)}return n},Uv=(t,e,n,s)=>{const a=t.length;for(let l=0;l<a;l++){const u=t[l];wz(u,e,n,s)}},wz=(t,e,n,s)=>{if(typeof t=="string"){xz(t,e,n);return}if(typeof t=="function"){Tz(t,e,n,s);return}Ez(t,e,n,s)},xz=(t,e,n)=>{const s=t===""?e:CR(e,t);s.classGroupId=n},Tz=(t,e,n,s)=>{if(Sz(t)){Uv(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(pz(n,t))},Ez=(t,e,n,s)=>{const a=Object.entries(t),l=a.length;for(let u=0;u<l;u++){const[f,m]=a[u];Uv(m,CR(e,f),n,s)}},CR=(t,e)=>{let n=t;const s=e.split(Hd),a=s.length;for(let l=0;l<a;l++){const u=s[l];let f=n.nextPart.get(u);f||(f=SR(),n.nextPart.set(u,f)),n=f}return n},Sz=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Az=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const a=(l,u)=>{n[l]=u,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(l){let u=n[l];if(u!==void 0)return u;if((u=s[l])!==void 0)return a(l,u),u},set(l,u){l in n?n[l]=u:a(l,u)}}},t0="!",CE=":",Cz=[],RE=(t,e,n,s,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:a}),Rz=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const l=[];let u=0,f=0,m=0,p;const y=a.length;for(let j=0;j<y;j++){const N=a[j];if(u===0&&f===0){if(N===CE){l.push(a.slice(m,j)),m=j+1;continue}if(N==="/"){p=j;continue}}N==="["?u++:N==="]"?u--:N==="("?f++:N===")"&&f--}const b=l.length===0?a:a.slice(m);let x=b,C=!1;b.endsWith(t0)?(x=b.slice(0,-1),C=!0):b.startsWith(t0)&&(x=b.slice(1),C=!0);const V=p&&p>m?p-m:void 0;return RE(l,C,x,V)};if(e){const a=e+CE,l=s;s=u=>u.startsWith(a)?l(u.slice(a.length)):RE(Cz,!1,u,void 0,!0)}if(n){const a=s;s=l=>n({className:l,parseClassName:a})}return s},Iz=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let a=[];for(let l=0;l<n.length;l++){const u=n[l],f=u[0]==="[",m=e.has(u);f||m?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(u)):a.push(u)}return a.length>0&&(a.sort(),s.push(...a)),s}},Nz=t=>({cache:Az(t.cacheSize),parseClassName:Rz(t),sortModifiers:Iz(t),...yz(t)}),kz=/\s+/,Dz=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],f=t.trim().split(kz);let m="";for(let p=f.length-1;p>=0;p-=1){const y=f[p],{isExternal:b,modifiers:x,hasImportantModifier:C,baseClassName:V,maybePostfixModifierPosition:j}=n(y);if(b){m=y+(m.length>0?" "+m:m);continue}let N=!!j,H=s(N?V.substring(0,j):V);if(!H){if(!N){m=y+(m.length>0?" "+m:m);continue}if(H=s(V),!H){m=y+(m.length>0?" "+m:m);continue}N=!1}const W=x.length===0?"":x.length===1?x[0]:l(x).join(":"),Y=C?W+t0:W,me=Y+H;if(u.indexOf(me)>-1)continue;u.push(me);const ue=a(H,N);for(let fe=0;fe<ue.length;++fe){const k=ue[fe];u.push(Y+k)}m=y+(m.length>0?" "+m:m)}return m},Mz=(...t)=>{let e=0,n,s,a="";for(;e<t.length;)(n=t[e++])&&(s=RR(n))&&(a&&(a+=" "),a+=s);return a},RR=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=RR(t[s]))&&(n&&(n+=" "),n+=e);return n},Vz=(t,...e)=>{let n,s,a,l;const u=m=>{const p=e.reduce((y,b)=>b(y),t());return n=Nz(p),s=n.cache.get,a=n.cache.set,l=f,f(m)},f=m=>{const p=s(m);if(p)return p;const y=Dz(m,n);return a(m,y),y};return l=u,(...m)=>l(Mz(...m))},Pz=[],hn=t=>{const e=n=>n[t]||Pz;return e.isThemeGetter=!0,e},IR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,NR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Oz=/^\d+\/\d+$/,jz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Lz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Uz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,zz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Bz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gl=t=>Oz.test(t),$e=t=>!!t&&!Number.isNaN(Number(t)),ua=t=>!!t&&Number.isInteger(Number(t)),ey=t=>t.endsWith("%")&&$e(t.slice(0,-1)),dr=t=>jz.test(t),Fz=()=>!0,qz=t=>Lz.test(t)&&!Uz.test(t),kR=()=>!1,Hz=t=>zz.test(t),Gz=t=>Bz.test(t),$z=t=>!Ee(t)&&!Se(t),Kz=t=>ec(t,VR,kR),Ee=t=>IR.test(t),co=t=>ec(t,PR,qz),ty=t=>ec(t,Zz,$e),IE=t=>ec(t,DR,kR),Yz=t=>ec(t,MR,Gz),Lf=t=>ec(t,OR,Hz),Se=t=>NR.test(t),tu=t=>tc(t,PR),Qz=t=>tc(t,Jz),NE=t=>tc(t,DR),Wz=t=>tc(t,VR),Xz=t=>tc(t,MR),Uf=t=>tc(t,OR,!0),ec=(t,e,n)=>{const s=IR.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},tc=(t,e,n=!1)=>{const s=NR.exec(t);return s?s[1]?e(s[1]):n:!1},DR=t=>t==="position"||t==="percentage",MR=t=>t==="image"||t==="url",VR=t=>t==="length"||t==="size"||t==="bg-size",PR=t=>t==="length",Zz=t=>t==="number",Jz=t=>t==="family-name",OR=t=>t==="shadow",eB=()=>{const t=hn("color"),e=hn("font"),n=hn("text"),s=hn("font-weight"),a=hn("tracking"),l=hn("leading"),u=hn("breakpoint"),f=hn("container"),m=hn("spacing"),p=hn("radius"),y=hn("shadow"),b=hn("inset-shadow"),x=hn("text-shadow"),C=hn("drop-shadow"),V=hn("blur"),j=hn("perspective"),N=hn("aspect"),H=hn("ease"),W=hn("animate"),Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],me=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ue=()=>[...me(),Se,Ee],fe=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],S=()=>[Se,Ee,m],M=()=>[gl,"full","auto",...S()],z=()=>[ua,"none","subgrid",Se,Ee],B=()=>["auto",{span:["full",ua,Se,Ee]},ua,Se,Ee],P=()=>[ua,"auto",Se,Ee],D=()=>["auto","min","max","fr",Se,Ee],be=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],we=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...S()],X=()=>[gl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],G=()=>[t,Se,Ee],K=()=>[...me(),NE,IE,{position:[Se,Ee]}],O=()=>["no-repeat",{repeat:["","x","y","space","round"]}],T=()=>["auto","cover","contain",Wz,Kz,{size:[Se,Ee]}],L=()=>[ey,tu,co],Q=()=>["","none","full",p,Se,Ee],ne=()=>["",$e,tu,co],pe=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[$e,ey,NE,IE],Ae=()=>["","none",V,Se,Ee],Re=()=>["none",$e,Se,Ee],Ke=()=>["none",$e,Se,Ee],ze=()=>[$e,Se,Ee],Ge=()=>[gl,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[dr],breakpoint:[dr],color:[Fz],container:[dr],"drop-shadow":[dr],ease:["in","out","in-out"],font:[$z],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[dr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[dr],shadow:[dr],spacing:["px",$e],text:[dr],"text-shadow":[dr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",gl,Ee,Se,N]}],container:["container"],columns:[{columns:[$e,Ee,Se,f]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ue()}],overflow:[{overflow:fe()}],"overflow-x":[{"overflow-x":fe()}],"overflow-y":[{"overflow-y":fe()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[ua,"auto",Se,Ee]}],basis:[{basis:[gl,"full","auto",f,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,gl,"auto","initial","none",Ee]}],grow:[{grow:["",$e,Se,Ee]}],shrink:[{shrink:["",$e,Se,Ee]}],order:[{order:[ua,"first","last","none",Se,Ee]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...be(),"normal"]}],"justify-items":[{"justify-items":[...we(),"normal"]}],"justify-self":[{"justify-self":["auto",...we()]}],"align-content":[{content:["normal",...be()]}],"align-items":[{items:[...we(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...we(),{baseline:["","last"]}]}],"place-content":[{"place-content":be()}],"place-items":[{"place-items":[...we(),"baseline"]}],"place-self":[{"place-self":["auto",...we()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[f,"screen",...X()]}],"min-w":[{"min-w":[f,"screen","none",...X()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",n,tu,co]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Se,ty]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ey,Ee]}],"font-family":[{font:[Qz,Ee,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Se,Ee]}],"line-clamp":[{"line-clamp":[$e,"none",Se,ty]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",Se,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",Se,co]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[$e,"auto",Se,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:O()}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ua,Se,Ee],radial:["",Se,Ee],conic:[ua,Se,Ee]},Xz,Yz]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pe(),"hidden","none"]}],"divide-style":[{divide:[...pe(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,Se,Ee]}],"outline-w":[{outline:["",$e,tu,co]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",y,Uf,Lf]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",b,Uf,Lf]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[$e,co]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",x,Uf,Lf]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[$e,Se,Ee]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Se,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":me()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:O()}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,Ee]}],filter:[{filter:["","none",Se,Ee]}],blur:[{blur:Ae()}],brightness:[{brightness:[$e,Se,Ee]}],contrast:[{contrast:[$e,Se,Ee]}],"drop-shadow":[{"drop-shadow":["","none",C,Uf,Lf]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",$e,Se,Ee]}],"hue-rotate":[{"hue-rotate":[$e,Se,Ee]}],invert:[{invert:["",$e,Se,Ee]}],saturate:[{saturate:[$e,Se,Ee]}],sepia:[{sepia:["",$e,Se,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,Ee]}],"backdrop-blur":[{"backdrop-blur":Ae()}],"backdrop-brightness":[{"backdrop-brightness":[$e,Se,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[$e,Se,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,Se,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,Se,Ee]}],"backdrop-invert":[{"backdrop-invert":["",$e,Se,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[$e,Se,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[$e,Se,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,Se,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",Se,Ee]}],ease:[{ease:["linear","initial",H,Se,Ee]}],delay:[{delay:[$e,Se,Ee]}],animate:[{animate:["none",W,Se,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Se,Ee]}],"perspective-origin":[{"perspective-origin":ue()}],rotate:[{rotate:Re()}],"rotate-x":[{"rotate-x":Re()}],"rotate-y":[{"rotate-y":Re()}],"rotate-z":[{"rotate-z":Re()}],scale:[{scale:Ke()}],"scale-x":[{"scale-x":Ke()}],"scale-y":[{"scale-y":Ke()}],"scale-z":[{"scale-z":Ke()}],"scale-3d":["scale-3d"],skew:[{skew:ze()}],"skew-x":[{"skew-x":ze()}],"skew-y":[{"skew-y":ze()}],transform:[{transform:[Se,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:ue()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ge()}],"translate-x":[{"translate-x":Ge()}],"translate-y":[{"translate-y":Ge()}],"translate-z":[{"translate-z":Ge()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,Ee]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[$e,tu,co,ty]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},tB=Vz(eB);function qt(...t){return tB(dz(t))}const nB=()=>{const{isSettingsOpen:t,closeSettings:e,settings:n,updateSettings:s}=ah(),a=rd.useRef(n);if(rd.useEffect(()=>{t&&(a.current=n)},[t]),!t)return null;const l=()=>{s(a.current,!1),e()},u=()=>{s(n,!0),e()},f=[{id:"dawn",name:"Dawn",color:"bg-[#0f111a] from-violet-500/20 to-pink-500/20"},{id:"midnight",name:"Midnight",color:"bg-[#020617] from-sky-500/20 to-indigo-500/20"},{id:"forest",name:"Forest",color:"bg-[#052e16] from-green-500/20 to-emerald-500/20"},{id:"ocean",name:"Ocean",color:"bg-[#083344] from-cyan-500/20 to-teal-500/20"},{id:"sunset",name:"Sunset",color:"bg-[#2a0a0a] from-orange-500/20 to-rose-500/20"}],m=[{id:"outfit",name:"Modern",family:"font-[Outfit]"},{id:"inter",name:"Clean",family:"font-[Inter]"},{id:"playfair",name:"Elegant",family:'font-["Playfair_Display"]'},{id:"mono",name:"Tech",family:'font-["Fira_Code"]'}];return v.jsx(qi,{children:t&&v.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 font-sans",children:[v.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:l}),v.jsxs(nt.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-lg bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col",children:[v.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[v.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[v.jsx(xE,{className:"w-5 h-5 text-accent-primary"}),"Customization"]}),v.jsx("button",{onClick:l,className:"text-slate-400 hover:text-white transition-colors",children:v.jsx(Vs,{className:"w-6 h-6"})})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[v.jsxs("section",{children:[v.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[v.jsx(xE,{className:"w-4 h-4"})," Theme"]}),v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:f.map(p=>v.jsxs("button",{onClick:()=>s({theme:p.id},!1),className:qt("relative group overflow-hidden rounded-xl border transition-all duration-300",n.theme===p.id?"border-accent-primary ring-2 ring-accent-primary/50":"border-white/10 hover:border-white/30"),children:[v.jsx("div",{className:qt("h-16 w-full bg-gradient-to-br",p.color)}),v.jsx("div",{className:"p-3 bg-slate-800/50",children:v.jsx("span",{className:qt("text-sm font-medium",n.theme===p.id?"text-white":"text-slate-400"),children:p.name})}),n.theme===p.id&&v.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-accent-primary rounded-full flex items-center justify-center shadow-lg",children:v.jsx(mr,{className:"w-3 h-3 text-white"})})]},p.id))})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[v.jsx(rz,{className:"w-4 h-4"})," Typography"]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:m.map(p=>v.jsxs("button",{onClick:()=>s({font:p.id},!1),className:qt("flex items-center justify-between p-4 rounded-xl border transition-all duration-200 text-left",n.font===p.id?"bg-white/10 border-accent-primary text-white":"bg-white/5 border-white/5 hover:bg-white/10 text-slate-300"),children:[v.jsxs("div",{children:[v.jsx("span",{className:qt("text-lg block mb-0.5",p.family),children:"Aa"}),v.jsx("span",{className:"text-xs text-slate-400",children:p.name})]}),n.font===p.id&&v.jsx(mr,{className:"w-5 h-5 text-accent-primary"})]},p.id))}),v.jsx("div",{className:"mt-4 p-4 rounded-xl bg-black/20 border border-white/5",children:v.jsx("p",{className:qt("text-sm text-slate-300 leading-relaxed",n.font==="outfit"&&"font-[Outfit]",n.font==="inter"&&"font-[Inter]",n.font==="playfair"&&'font-["Playfair_Display"]',n.font==="mono"&&'font-["Fira_Code"]'),children:"The quick brown fox jumps over the lazy dog. 1234567890."})})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[v.jsx(SE,{className:"w-4 h-4"})," Experience"]}),v.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 mb-3",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:qt("p-2 rounded-lg",n.enableAnimation?"bg-accent-primary/20 text-accent-primary":"bg-slate-700 text-slate-400"),children:v.jsx(SE,{size:20})}),v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-white",children:"Live Backgrounds"}),v.jsx("div",{className:"text-xs text-slate-400",children:"Dynamic particles and ambient effects"})]})]}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:n.enableAnimation,onChange:p=>s({enableAnimation:p.target.checked},!1),className:"sr-only peer"}),v.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-accent-primary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary"})]})]}),v.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:qt("p-2 rounded-lg",n.enableSound?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-slate-400"),children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),v.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),v.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]})}),v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-white",children:"Sound Effects"}),v.jsx("div",{className:"text-xs text-slate-400",children:"Satisfying clicks and celebrations"})]})]}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:p=>s({enableSound:p.target.checked},!1),className:"sr-only peer"}),v.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]})]})]}),v.jsxs("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3 sticky bottom-0 bg-slate-900 z-10 shrink-0",children:[v.jsx("button",{onClick:l,className:"px-4 py-2 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),v.jsx("button",{onClick:u,className:"px-6 py-2 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all active:scale-95",children:"Save Changes"})]})]})]})})},ny={theme:"dawn",font:"outfit",enableAnimation:!0,enableSound:!0},jR=I.createContext(null),ah=()=>{const t=I.useContext(jR);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},iB=({children:t})=>{const{user:e}=Wl(),[n,s]=I.useState(ny),[a,l]=I.useState(!1);I.useEffect(()=>{(async()=>{if(!e){s(ny);return}try{const y=hs(Kn,"users",e.uid),b=await eh(y);b.exists()&&b.data().settings&&s({...ny,...b.data().settings})}catch(y){console.error("Error loading settings:",y)}})()},[e]),I.useEffect(()=>{const p=document.body;p.classList.remove("theme-midnight","theme-forest","theme-ocean","theme-sunset"),n.theme!=="dawn"&&p.classList.add(`theme-${n.theme}`),p.classList.remove("font-inter","font-playfair","font-mono","font-comic"),n.font!=="outfit"&&p.classList.add(`font-${n.font}`),n.enableAnimation?p.classList.remove("reduce-motion"):p.classList.add("reduce-motion")},[n]);const u=async(p,y=!0)=>{const b={...n,...p};if(s(b),e&&y)try{await kd(hs(Kn,"users",e.uid),{settings:b},{merge:!0})}catch(x){console.error("Error saving settings:",x)}},f=()=>l(!0),m=()=>l(!1);return v.jsxs(jR.Provider,{value:{settings:n,updateSettings:u,isSettingsOpen:a,openSettings:f,closeSettings:m},children:[t,v.jsx(nB,{})]})},sB=()=>{const{signIn:t,error:e}=Wl();return v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center",children:[v.jsx("div",{className:"background-animation"}),v.jsxs("div",{className:"glass-panel p-8 max-w-md w-full flex flex-col items-center gap-6 animate-fade-in",children:[v.jsxs("div",{className:"flex flex-col items-center gap-2 mb-2",children:[v.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-24 w-auto object-contain drop-shadow-[0_0_15px_rgba(251,191,36,0.3)]"}),v.jsx("div",{className:"rounded-full bg-accent-primary/20 p-2 hidden",children:v.jsx(wR,{className:"w-6 h-6 text-accent-gold animate-pulse"})})]}),v.jsx("h1",{className:"text-4xl font-heading font-bold text-gradient sr-only",children:"SunSar Bingo"}),v.jsxs("p",{className:"text-slate-300 font-light text-lg",children:["Track your goals, share with friends,",v.jsx("br",{}),"and make 2026 your best year yet."]}),e&&v.jsx("div",{className:"bg-red-500/20 text-red-200 px-4 py-2 rounded-lg text-sm border border-red-500/30",children:e}),v.jsx("button",{onClick:t,className:"group relative px-6 py-3 bg-white text-bg-dark font-bold rounded-full transition-all hover:scale-105 hover:shadow-[0_0_20px_rgba(255,255,255,0.3)]",children:v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"G",className:"w-5 h-5"}),"Sign in / Sign up with Google"]})})]}),v.jsx("footer",{className:"absolute bottom-4 text-slate-500 text-xs",children:" 2026 SunSar Bingo  Free & Open Source"})]})};var zv={};(function t(e,n,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),u=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;try{var O=new OffscreenCanvas(1,1),T=O.getContext("2d");T.fillRect(0,0,1,1);var L=O.transferToImageBitmap();T.createPattern(L,"no-repeat")}catch{return!1}return!0})();function m(){}function p(O){var T=n.exports.Promise,L=T!==void 0?T:e.Promise;return typeof L=="function"?new L(O):(O(m,m),null)}var y=(function(O,T){return{transform:function(L){if(O)return L;if(T.has(L))return T.get(L);var Q=new OffscreenCanvas(L.width,L.height),ne=Q.getContext("2d");return ne.drawImage(L,0,0),T.set(L,Q),Q},clear:function(){T.clear()}}})(f,new Map),b=(function(){var O=Math.floor(16.666666666666668),T,L,Q={},ne=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(pe){var ge=Math.random();return Q[ge]=requestAnimationFrame(function de(Ae){ne===Ae||ne+O-1<Ae?(ne=Ae,delete Q[ge],pe()):Q[ge]=requestAnimationFrame(de)}),ge},L=function(pe){Q[pe]&&cancelAnimationFrame(Q[pe])}):(T=function(pe){return setTimeout(pe,O)},L=function(pe){return clearTimeout(pe)}),{frame:T,cancel:L}})(),x=(function(){var O,T,L={};function Q(ne){function pe(ge,de){ne.postMessage({options:ge||{},callback:de})}ne.init=function(de){var Ae=de.transferControlToOffscreen();ne.postMessage({canvas:Ae},[Ae])},ne.fire=function(de,Ae,Re){if(T)return pe(de,null),T;var Ke=Math.random().toString(36).slice(2);return T=p(function(ze){function Ge(wt){wt.data.callback===Ke&&(delete L[Ke],ne.removeEventListener("message",Ge),T=null,y.clear(),Re(),ze())}ne.addEventListener("message",Ge),pe(de,Ke),L[Ke]=Ge.bind(null,{data:{callback:Ke}})}),T},ne.reset=function(){ne.postMessage({reset:!0});for(var de in L)L[de](),delete L[de]}}return function(){if(O)return O;if(!s&&l){var ne=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{O=new Worker(URL.createObjectURL(new Blob([ne])))}catch(pe){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",pe),null}Q(O)}return O}})(),C={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function V(O,T){return T?T(O):O}function j(O){return O!=null}function N(O,T,L){return V(O&&j(O[T])?O[T]:C[T],L)}function H(O){return O<0?0:Math.floor(O)}function W(O,T){return Math.floor(Math.random()*(T-O))+O}function Y(O){return parseInt(O,16)}function me(O){return O.map(ue)}function ue(O){var T=String(O).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:Y(T.substring(0,2)),g:Y(T.substring(2,4)),b:Y(T.substring(4,6))}}function fe(O){var T=N(O,"origin",Object);return T.x=N(T,"x",Number),T.y=N(T,"y",Number),T}function k(O){O.width=document.documentElement.clientWidth,O.height=document.documentElement.clientHeight}function S(O){var T=O.getBoundingClientRect();O.width=T.width,O.height=T.height}function M(O){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=O,T}function z(O,T,L,Q,ne,pe,ge,de,Ae){O.save(),O.translate(T,L),O.rotate(pe),O.scale(Q,ne),O.arc(0,0,1,ge,de,Ae),O.restore()}function B(O){var T=O.angle*(Math.PI/180),L=O.spread*(Math.PI/180);return{x:O.x,y:O.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:O.startVelocity*.5+Math.random()*O.startVelocity,angle2D:-T+(.5*L-Math.random()*L),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:O.color,shape:O.shape,tick:0,totalTicks:O.ticks,decay:O.decay,drift:O.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:O.gravity*3,ovalScalar:.6,scalar:O.scalar,flat:O.flat}}function P(O,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var L=T.tick++/T.totalTicks,Q=T.x+T.random*T.tiltCos,ne=T.y+T.random*T.tiltSin,pe=T.wobbleX+T.random*T.tiltCos,ge=T.wobbleY+T.random*T.tiltSin;if(O.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-L)+")",O.beginPath(),u&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))O.fill(X(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(pe-Q)*.1,Math.abs(ge-ne)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var de=Math.PI/10*T.wobble,Ae=Math.abs(pe-Q)*.1,Re=Math.abs(ge-ne)*.1,Ke=T.shape.bitmap.width*T.scalar,ze=T.shape.bitmap.height*T.scalar,Ge=new DOMMatrix([Math.cos(de)*Ae,Math.sin(de)*Ae,-Math.sin(de)*Re,Math.cos(de)*Re,T.x,T.y]);Ge.multiplySelf(new DOMMatrix(T.shape.matrix));var wt=O.createPattern(y.transform(T.shape.bitmap),"no-repeat");wt.setTransform(Ge),O.globalAlpha=1-L,O.fillStyle=wt,O.fillRect(T.x-Ke/2,T.y-ze/2,Ke,ze),O.globalAlpha=1}else if(T.shape==="circle")O.ellipse?O.ellipse(T.x,T.y,Math.abs(pe-Q)*T.ovalScalar,Math.abs(ge-ne)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):z(O,T.x,T.y,Math.abs(pe-Q)*T.ovalScalar,Math.abs(ge-ne)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var Ve=Math.PI/2*3,Mt=4*T.scalar,Vt=8*T.scalar,Qt=T.x,ln=T.y,ot=5,Be=Math.PI/ot;ot--;)Qt=T.x+Math.cos(Ve)*Vt,ln=T.y+Math.sin(Ve)*Vt,O.lineTo(Qt,ln),Ve+=Be,Qt=T.x+Math.cos(Ve)*Mt,ln=T.y+Math.sin(Ve)*Mt,O.lineTo(Qt,ln),Ve+=Be;else O.moveTo(Math.floor(T.x),Math.floor(T.y)),O.lineTo(Math.floor(T.wobbleX),Math.floor(ne)),O.lineTo(Math.floor(pe),Math.floor(ge)),O.lineTo(Math.floor(Q),Math.floor(T.wobbleY));return O.closePath(),O.fill(),T.tick<T.totalTicks}function D(O,T,L,Q,ne){var pe=T.slice(),ge=O.getContext("2d"),de,Ae,Re=p(function(Ke){function ze(){de=Ae=null,ge.clearRect(0,0,Q.width,Q.height),y.clear(),ne(),Ke()}function Ge(){s&&!(Q.width===a.width&&Q.height===a.height)&&(Q.width=O.width=a.width,Q.height=O.height=a.height),!Q.width&&!Q.height&&(L(O),Q.width=O.width,Q.height=O.height),ge.clearRect(0,0,Q.width,Q.height),pe=pe.filter(function(wt){return P(ge,wt)}),pe.length?de=b.frame(Ge):ze()}de=b.frame(Ge),Ae=ze});return{addFettis:function(Ke){return pe=pe.concat(Ke),Re},canvas:O,promise:Re,reset:function(){de&&b.cancel(de),Ae&&Ae()}}}function be(O,T){var L=!O,Q=!!N(T||{},"resize"),ne=!1,pe=N(T,"disableForReducedMotion",Boolean),ge=l&&!!N(T||{},"useWorker"),de=ge?x():null,Ae=L?k:S,Re=O&&de?!!O.__confetti_initialized:!1,Ke=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ze;function Ge(Ve,Mt,Vt){for(var Qt=N(Ve,"particleCount",H),ln=N(Ve,"angle",Number),ot=N(Ve,"spread",Number),Be=N(Ve,"startVelocity",Number),Vn=N(Ve,"decay",Number),Rr=N(Ve,"gravity",Number),Ks=N(Ve,"drift",Number),Ut=N(Ve,"colors",me),oi=N(Ve,"ticks",Number),Ei=N(Ve,"shapes"),ys=N(Ve,"scalar"),Si=!!N(Ve,"flat"),Ys=fe(Ve),wn=Qt,vs=[],bs=O.width*Ys.x,Fn=O.height*Ys.y;wn--;)vs.push(B({x:bs,y:Fn,angle:ln,spread:ot,startVelocity:Be,color:Ut[wn%Ut.length],shape:Ei[W(0,Ei.length)],ticks:oi,decay:Vn,gravity:Rr,drift:Ks,scalar:ys,flat:Si}));return ze?ze.addFettis(vs):(ze=D(O,vs,Ae,Mt,Vt),ze.promise)}function wt(Ve){var Mt=pe||N(Ve,"disableForReducedMotion",Boolean),Vt=N(Ve,"zIndex",Number);if(Mt&&Ke)return p(function(Be){Be()});L&&ze?O=ze.canvas:L&&!O&&(O=M(Vt),document.body.appendChild(O)),Q&&!Re&&Ae(O);var Qt={width:O.width,height:O.height};de&&!Re&&de.init(O),Re=!0,de&&(O.__confetti_initialized=!0);function ln(){if(de){var Be={getBoundingClientRect:function(){if(!L)return O.getBoundingClientRect()}};Ae(Be),de.postMessage({resize:{width:Be.width,height:Be.height}});return}Qt.width=Qt.height=null}function ot(){ze=null,Q&&(ne=!1,e.removeEventListener("resize",ln)),L&&O&&(document.body.contains(O)&&document.body.removeChild(O),O=null,Re=!1)}return Q&&!ne&&(ne=!0,e.addEventListener("resize",ln,!1)),de?de.fire(Ve,Qt,ot):Ge(Ve,Qt,ot)}return wt.reset=function(){de&&de.reset(),ze&&ze.reset()},wt}var we;function J(){return we||(we=be(null,{useWorker:!0,resize:!0})),we}function X(O,T,L,Q,ne,pe,ge){var de=new Path2D(O),Ae=new Path2D;Ae.addPath(de,new DOMMatrix(T));var Re=new Path2D;return Re.addPath(Ae,new DOMMatrix([Math.cos(ge)*ne,Math.sin(ge)*ne,-Math.sin(ge)*pe,Math.cos(ge)*pe,L,Q])),Re}function G(O){if(!u)throw new Error("path confetti are not supported in this browser");var T,L;typeof O=="string"?T=O:(T=O.path,L=O.matrix);var Q=new Path2D(T),ne=document.createElement("canvas"),pe=ne.getContext("2d");if(!L){for(var ge=1e3,de=ge,Ae=ge,Re=0,Ke=0,ze,Ge,wt=0;wt<ge;wt+=2)for(var Ve=0;Ve<ge;Ve+=2)pe.isPointInPath(Q,wt,Ve,"nonzero")&&(de=Math.min(de,wt),Ae=Math.min(Ae,Ve),Re=Math.max(Re,wt),Ke=Math.max(Ke,Ve));ze=Re-de,Ge=Ke-Ae;var Mt=10,Vt=Math.min(Mt/ze,Mt/Ge);L=[Vt,0,0,Vt,-Math.round(ze/2+de)*Vt,-Math.round(Ge/2+Ae)*Vt]}return{type:"path",path:T,matrix:L}}function K(O){var T,L=1,Q="#000000",ne='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof O=="string"?T=O:(T=O.text,L="scalar"in O?O.scalar:L,ne="fontFamily"in O?O.fontFamily:ne,Q="color"in O?O.color:Q);var pe=10*L,ge=""+pe+"px "+ne,de=new OffscreenCanvas(pe,pe),Ae=de.getContext("2d");Ae.font=ge;var Re=Ae.measureText(T),Ke=Math.ceil(Re.actualBoundingBoxRight+Re.actualBoundingBoxLeft),ze=Math.ceil(Re.actualBoundingBoxAscent+Re.actualBoundingBoxDescent),Ge=2,wt=Re.actualBoundingBoxLeft+Ge,Ve=Re.actualBoundingBoxAscent+Ge;Ke+=Ge+Ge,ze+=Ge+Ge,de=new OffscreenCanvas(Ke,ze),Ae=de.getContext("2d"),Ae.font=ge,Ae.fillStyle=Q,Ae.fillText(T,wt,Ve);var Mt=1/L;return{type:"bitmap",bitmap:de.transferToImageBitmap(),matrix:[Mt,0,0,Mt,-Ke*Mt/2,-ze*Mt/2]}}n.exports=function(){return J().apply(this,arguments)},n.exports.reset=function(){J().reset()},n.exports.create=be,n.exports.shapeFromPath=G,n.exports.shapeFromText=K})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),zv,!1);const n0=zv.exports;zv.exports.create;const nu=(t=1)=>{const e=200*t,n={origin:{y:.7}};function s(a,l){n0(Object.assign({},n,l,{particleCount:Math.floor(e*a)}))}s(.25,{spread:26,startVelocity:55}),s(.2,{spread:60}),s(.35,{spread:100,decay:.91,scalar:.8}),s(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),s(.1,{spread:120,startVelocity:45})},kE={cloudName:"dia6ped7h",uploadPreset:"bingo_proofs"},DE=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",kE.uploadPreset),e.append("folder","bingo-proofs");const n=await fetch(`https://api.cloudinary.com/v1_1/${kE.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok){const a=await n.json();throw console.error("Cloudinary upload error:",a),new Error(a.error?.message||"Failed to upload image")}return(await n.json()).secure_url},rB="2026",iy=5,aB=["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"],oB=t=>{const{user:e}=Wl(),[n,s]=I.useState([]),[a,l]=I.useState({}),[u,f]=I.useState(!0),[m,p]=I.useState(!1),[y,b]=I.useState(!1),[x,C]=I.useState(""),[V,j]=I.useState(iy),N=I.useMemo(()=>t?hs(Kn,"boards",t):hs(Kn,"years",rB),[t]),H=(X,G)=>{if(!X.length)return;const K=[];for(let T=0;T<G;T++)K.push(X.slice(T*G,(T+1)*G));let O=!1;for(let T=0;T<G;T++)if(K[T]&&K[T].every(L=>L.isCompleted)){O=!0;break}if(!O){for(let T=0;T<G;T++)if(K.map(L=>L[T]).every(L=>L&&L.isCompleted)){O=!0;break}}!O&&K.map((T,L)=>T[L]).every(T=>T&&T.isCompleted)&&(O=!0),!O&&K.map((T,L)=>T[G-1-L]).every(T=>T&&T.isCompleted)&&(O=!0),O&&!m?(p(!0),nu(2)):O||p(!1)},W=async(X=iy)=>{const G=X*X,K=X%2===1?Math.floor(G/2):-1,O=[...aB].sort(()=>.5-Math.random()),T=[];let L=0;for(let Q=0;Q<G;Q++)Q===K&&X%2===1?T.push({id:Q,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(T.push({id:Q,text:O[L%O.length]||`Goal ${Q+1}`,isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),L++);await kd(N,{year:2026,gridSize:X,items:T,isLocked:!1,createdAt:Le.now(),lastUpdated:Le.now(),...e?{ownerId:e.uid,members:{[e.uid]:"owner"}}:{}},{merge:!0})};I.useEffect(()=>{if(!e)return;f(!0);const X=C2(N,G=>{if(G.exists()){const K=G.data(),O=K.gridSize||iy;j(O),s(K.items||[]),l(K.members||{}),b(K.isLocked||!1),C(K.title||""),H(K.items||[],O)}else W();f(!1)},G=>{console.error("Error fetching bingo board:",G),f(!1)});return()=>X()},[N,e]);const Y=async X=>{if(!n.length)return;const G=n.map(L=>({...L})),K=G[X];if(K.isFreeSpace)return;const O=K.targetCount||1,T=K.currentCount||0;if(K.isCompleted){const L=Math.max(0,T-1);K.currentCount=L,K.isCompleted=L>=O,L===0&&(K.completedBy=null,K.completedAt=null)}else{const L=Math.min(O,T+1);K.currentCount=L,K.isCompleted=L>=O,K.completedBy=e?.displayName||e?.email||"Unknown",K.completedAt=Le.now(),nu(.5)}s(G),H(G,V);try{await jn(N,{items:G,lastUpdated:Le.now()})}catch(L){console.error("Error updating bingo board:",L)}},me=async X=>{if(!n.length)return;const G=n.map(Q=>({...Q})),K=G[X];if(K.isFreeSpace)return;const O=K.currentCount||0;if(O<=0)return;const T=K.targetCount||1,L=O-1;K.currentCount=L,K.isCompleted=L>=T,L===0&&(K.completedBy=null,K.completedAt=null),s(G),H(G,V);try{await jn(N,{items:G,lastUpdated:Le.now()})}catch(Q){console.error("Error decrementing progress:",Q)}},ue=async(X,G)=>{if(!(!n.length||!e))try{const K=await DE(G),O=n.map(ge=>({...ge})),T=O[X];if(T.isFreeSpace)return;const L=T.targetCount||1,Q=T.currentCount||0,ne=Math.min(L,Q+1);T.currentCount=ne,T.isCompleted=ne>=L,T.completedBy=e?.displayName||e?.email||"Unknown",T.completedAt=Le.now();const pe=T.proofPhotos||[];T.proofPhotos=[...pe,K],s(O),H(O,V),nu(1),await jn(N,{items:O,lastUpdated:Le.now()})}catch(K){throw console.error("Error completing with photo:",K),K}},fe=async(X,G)=>{if(!n.length||!e)return;const K=n[X];!K.isCompleted&&(K.currentCount||0)<(K.targetCount||1);const O=K.proofPhotos||[];if(O.length>=5)throw new Error("Maximum 5 photos allowed per tile");try{const T=await DE(G),L=n.map(Q=>({...Q}));return L[X].proofPhotos=[...O,T],s(L),nu(.3),await jn(N,{items:L,lastUpdated:Le.now()}),T}catch(T){throw console.error("Error adding photo:",T),T}},k=async(X,G)=>{if(!n.length)return;const K=n.map(L=>({...L})),O=K[X];if(!O.proofPhotos)return;const T=[...O.proofPhotos];T.splice(G,1),O.proofPhotos=T,s(K);try{await jn(N,{items:K,lastUpdated:Le.now()})}catch(L){console.error("Error deleting photo:",L)}},S=async(X,G)=>{if(e)try{const K=n.map(Q=>({...Q})),O=K[X],T={emoji:G,by:e.uid,byName:e.displayName||e.email?.split("@")[0]||"Friend",timestamp:Date.now()},L=O.reactions||[];O.reactions=[...L,T],s(K),await jn(N,{items:K,lastUpdated:Le.now()}),nu(.2)}catch(K){console.error("Error adding reaction:",K)}},M=async(X,G)=>{const K=n.map(O=>({...O}));G.text!==void 0&&(K[X].text=G.text),G.style!==void 0&&(K[X].style=G.style),s(K);try{await jn(N,{items:K,lastUpdated:Le.now()})}catch(O){console.error("Error updating item:",O)}},z=async(X=!0)=>{const G=[...n];let K=G;if(X){const T=V*V,L=V%2===1?Math.floor(T/2):-1;if(L!==-1){const Q=G[L],ne=[...G.slice(0,L),...G.slice(L+1)];for(let pe=ne.length-1;pe>0;pe--){const ge=Math.floor(Math.random()*(pe+1));[ne[pe],ne[ge]]=[ne[ge],ne[pe]]}K=[...ne.slice(0,L),Q,...ne.slice(L)]}else{K=[...G];for(let Q=K.length-1;Q>0;Q--){const ne=Math.floor(Math.random()*(Q+1));[K[Q],K[ne]]=[K[ne],K[Q]]}}s(K)}b(!0);const O={isLocked:!0,lastUpdated:Le.now()};X&&(O.items=K,O.itemsBackup=G),await kd(N,O,{merge:!0})},B=async()=>{try{const X=await eh(N);if(X.exists()){const G=X.data();G.itemsBackup?await jn(N,{items:G.itemsBackup,itemsBackup:Rd(),isLocked:!1,lastUpdated:Le.now()}):await jn(N,{isLocked:!1,lastUpdated:Le.now()})}}catch(X){console.error("Error unlocking board:",X)}},P=I.useMemo(()=>{const X=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],[0,6,12,18,24],[4,8,12,16,20]],G=new Set(n.map((K,O)=>K.isCompleted?O:-1));return X.reduce((K,O)=>O.every(T=>G.has(T))?K+1:K,0)},[n]);return{items:n,members:a,loading:u,toggleItem:Y,updateItem:M,hasWon:m,bingoCount:P,isLocked:y,unlockBoard:B,jumbleAndLock:z,saveBoard:async X=>{s(X);try{await jn(N,{items:X,lastUpdated:Le.now()})}catch(G){console.error("Error saving board:",G)}},completeWithPhoto:ue,addPhotoToTile:fe,deletePhoto:k,addReaction:S,decrementProgress:me,inviteUser:async(X,G="editor")=>{try{const K=Id(wl(Kn,"users"),Nd("email","==",X)),O=await yu(K);if(O.empty)return{success:!1,type:"not_found",message:"User not found"};const T=O.docs[0],L=T.id;return await jn(N,{[`members.${L}`]:G}),{success:!0,type:"success",message:`Added ${T.data().displayName||X} as ${G}!`}}catch(K){return console.error("Error inviting user:",K),{success:!1,type:"error",message:"Failed to invite user"}}},removeMember:async X=>{try{return await jn(N,{[`members.${X}`]:Rd()}),{success:!0}}catch(G){return console.error("Error removing member:",G),{success:!1,error:G}}},title:x,gridSize:V,updateTitle:async X=>{try{await jn(N,{title:X,lastUpdated:Le.now()}),C(X)}catch(G){console.error("Error updating title:",G)}}}};let xu=null;const iu=()=>(xu||(xu=new(window.AudioContext||window.webkitAudioContext)),xu),lB=()=>{const{settings:t}=ah(),e=t.enableSound??!0,n=I.useRef(0);I.useEffect(()=>{const y=()=>{xu?.state==="suspended"&&xu.resume()};return document.addEventListener("click",y,{once:!0}),document.addEventListener("touchstart",y,{once:!0}),()=>{document.removeEventListener("click",y),document.removeEventListener("touchstart",y)}},[]);const s=I.useCallback(()=>{const y=Date.now();return y-n.current<50?!1:(n.current=y,!0)},[]),a=I.useCallback(()=>{if(!(!e||!s()))try{const y=iu(),b=y.createOscillator(),x=y.createGain();b.connect(x),x.connect(y.destination),b.frequency.setValueAtTime(800,y.currentTime),b.frequency.exponentialRampToValueAtTime(400,y.currentTime+.1),b.type="sine",x.gain.setValueAtTime(.15,y.currentTime),x.gain.exponentialRampToValueAtTime(.001,y.currentTime+.1),b.start(y.currentTime),b.stop(y.currentTime+.1)}catch(y){console.warn("Audio playback failed:",y)}},[e,s]),l=I.useCallback(()=>{if(!(!e||!s()))try{const y=iu();[523.25,659.25,783.99].forEach((x,C)=>{const V=y.createOscillator(),j=y.createGain();V.connect(j),j.connect(y.destination),V.frequency.setValueAtTime(x,y.currentTime),V.type="sine";const N=y.currentTime+C*.08;j.gain.setValueAtTime(0,N),j.gain.linearRampToValueAtTime(.12,N+.02),j.gain.exponentialRampToValueAtTime(.001,N+.3),V.start(N),V.stop(N+.3)})}catch(y){console.warn("Audio playback failed:",y)}},[e,s]),u=I.useCallback(()=>{if(e)try{const y=iu();[{freq:523.25,time:0},{freq:659.25,time:.1},{freq:783.99,time:.2},{freq:1046.5,time:.35},{freq:1318.51,time:.5}].forEach(({freq:V,time:j})=>{const N=y.createOscillator(),H=y.createGain();N.connect(H),H.connect(y.destination),N.frequency.setValueAtTime(V,y.currentTime+j),N.type="sine",H.gain.setValueAtTime(0,y.currentTime+j),H.gain.linearRampToValueAtTime(.2,y.currentTime+j+.02),H.gain.exponentialRampToValueAtTime(.001,y.currentTime+j+.5),N.start(y.currentTime+j),N.stop(y.currentTime+j+.5)});const x=y.createOscillator(),C=y.createGain();x.connect(C),C.connect(y.destination),x.type="sine",x.frequency.setValueAtTime(2e3,y.currentTime+.6),x.frequency.exponentialRampToValueAtTime(4e3,y.currentTime+1.2),C.gain.setValueAtTime(0,y.currentTime+.6),C.gain.linearRampToValueAtTime(.05,y.currentTime+.7),C.gain.exponentialRampToValueAtTime(.001,y.currentTime+1.2),x.start(y.currentTime+.6),x.stop(y.currentTime+1.2)}catch(y){console.warn("Audio playback failed:",y)}},[e]),f=I.useRef(null),m=I.useCallback(()=>{if(!(!e||!s()))try{const y=iu();if(!f.current){const V=y.sampleRate*.15,j=y.createBuffer(1,V,y.sampleRate),N=j.getChannelData(0);for(let H=0;H<V;H++)N[H]=(Math.random()*2-1)*(1-H/V);f.current=j}const b=y.createBufferSource(),x=y.createBiquadFilter(),C=y.createGain();b.buffer=f.current,x.type="lowpass",x.frequency.setValueAtTime(2e3,y.currentTime),x.frequency.exponentialRampToValueAtTime(500,y.currentTime+.15),b.connect(x),x.connect(C),C.connect(y.destination),C.gain.setValueAtTime(.08,y.currentTime),C.gain.exponentialRampToValueAtTime(.001,y.currentTime+.15),b.start(y.currentTime)}catch(y){console.warn("Audio playback failed:",y)}},[e,s]),p=I.useCallback(()=>{if(!(!e||!s()))try{const y=iu(),b=y.createOscillator(),x=y.createGain();b.connect(x),x.connect(y.destination),b.frequency.setValueAtTime(200,y.currentTime),b.frequency.linearRampToValueAtTime(150,y.currentTime+.2),b.type="sine",x.gain.setValueAtTime(.15,y.currentTime),x.gain.exponentialRampToValueAtTime(.001,y.currentTime+.2),b.start(y.currentTime),b.stop(y.currentTime+.2)}catch(y){console.warn("Audio playback failed:",y)}},[e,s]);return{playClick:a,playSuccess:l,playBingo:u,playWhoosh:m,playError:p}},cB=({items:t,isOpen:e,onClose:n})=>{const[s,a]=I.useState(null),l=I.useMemo(()=>t.map((m,p)=>({...m,originalIndex:p})).filter(m=>m.proofPhotos&&m.proofPhotos.length>0).sort((m,p)=>{const y=m.completedAt?.toDate?.()||new Date(0);return(p.completedAt?.toDate?.()||new Date(0)).getTime()-y.getTime()}),[t]),u=I.useMemo(()=>{const m={};return l.forEach(p=>{const b=(p.completedAt?.toDate?.()||new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"});m[b]||(m[b]=[]),m[b].push(p)}),m},[l]),f=m=>m?(m.toDate?m.toDate():new Date(m)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e?v.jsx(qi,{children:v.jsxs(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-bg-dark overflow-y-auto",children:[v.jsx("div",{className:"sticky top-0 z-10 bg-bg-dark/95 backdrop-blur-md border-b border-white/10",children:v.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(Bd,{className:"w-6 h-6 text-accent-gold"}),v.jsx("h1",{className:"text-xl font-bold text-white",children:"2026 Memories"}),v.jsxs("span",{className:"text-sm text-slate-400",children:["(",l.length," moments)"]})]}),v.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-white transition-colors rounded-full hover:bg-white/10",children:v.jsx(Vs,{size:24})})]})}),v.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:l.length===0?v.jsxs("div",{className:"text-center py-20",children:[v.jsx(Bd,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),v.jsx("h2",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No memories yet"}),v.jsx("p",{className:"text-slate-500",children:"Complete tasks and add photos to build your 2026 album!"})]}):Object.entries(u).map(([m,p])=>v.jsxs("div",{className:"mb-8",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx(Fd,{className:"w-4 h-4 text-accent-primary"}),v.jsx("h2",{className:"text-lg font-semibold text-accent-primary",children:m}),v.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent-primary/30 to-transparent"})]}),v.jsx("div",{className:"space-y-6",children:p.map((y,b)=>v.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.1},className:"bg-bg-card/80 rounded-2xl border border-white/10 overflow-hidden shadow-xl",children:[v.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer",onClick:()=>a({memoryIdx:l.indexOf(y),photoIdx:0}),children:[v.jsx("img",{src:y.proofPhotos[0],alt:y.text,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),y.proofPhotos.length>1&&v.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-full text-white text-xs font-medium",children:["+",y.proofPhotos.length-1," more"]})]}),y.proofPhotos.length>1&&v.jsx("div",{className:"flex gap-1 p-2 bg-black/30 overflow-x-auto",children:y.proofPhotos.map((x,C)=>v.jsx("button",{onClick:()=>a({memoryIdx:l.indexOf(y),photoIdx:C}),className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 border-2 border-transparent hover:border-accent-primary transition-all",children:v.jsx("img",{src:x,alt:"",className:"w-full h-full object-cover"})},C))}),v.jsxs("div",{className:"p-4",children:[v.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[v.jsx("span",{className:"text-accent-gold",children:y.isCompleted?"":""}),y.text]}),v.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(oz,{size:14}),y.isCompleted?y.completedBy:"In Progress"]}),y.isCompleted&&v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(Fd,{size:14}),f(y.completedAt)]})]})]})]},y.id))})]},m))}),v.jsx(qi,{children:s!==null&&l[s.memoryIdx]&&v.jsxs(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>a(null),children:[v.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white",children:v.jsx(Vs,{size:32})}),(()=>{const m=l[s.memoryIdx],p=m.proofPhotos||[],y=s.photoIdx;return v.jsxs("div",{className:"relative max-w-4xl w-full",onClick:b=>b.stopPropagation(),children:[v.jsx("img",{src:p[y],alt:"",className:"w-full max-h-[80vh] object-contain rounded-lg"}),p.length>1&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>a({...s,photoIdx:y>0?y-1:p.length-1}),className:"absolute left-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:v.jsx(vR,{size:28})}),v.jsx("button",{onClick:()=>a({...s,photoIdx:y<p.length-1?y+1:0}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:v.jsx(bR,{size:28})})]}),v.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[v.jsx("p",{className:"text-white font-semibold",children:m.text}),v.jsxs("p",{className:"text-slate-300 text-sm",children:[y+1," / ",p.length,"  ",f(m.completedAt)]})]})]})})()]})})]})}):null},uB=({items:t})=>{const[e,n]=I.useState([]),s=I.useRef({}),a=I.useRef(!1);I.useEffect(()=>{if(!a.current){t.forEach(u=>{s.current[u.id]=u.reactions?.length||0}),a.current=!0;return}t.forEach(u=>{const f=u.reactions?.length||0,m=s.current[u.id]||0;f>m&&u.reactions.slice(m).forEach(y=>{l(y)}),s.current[u.id]=f})},[t]);const l=u=>{const f=Math.random().toString(36).substring(7),m=Math.random()*80+10;n(p=>[...p,{...u,id:f,x:m}]),setTimeout(()=>{n(p=>p.filter(y=>y.id!==f))},4e3)};return v.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] overflow-hidden",children:v.jsx(qi,{children:e.map(u=>v.jsxs(nt.div,{initial:{y:"110vh",opacity:0,x:`${u.x}vw`,scale:.5,rotate:0},animate:{y:"-10vh",opacity:[0,1,1,0],scale:[.5,1.5,1.2],rotate:[0,-10,10,0]},transition:{duration:4,ease:"easeOut"},className:"absolute top-0 flex flex-col items-center",children:[v.jsx("span",{className:"text-6xl drop-shadow-2xl filter",children:u.emoji}),u.byName&&v.jsx("div",{className:"text-sm font-bold text-white/90 text-center mt-2 bg-black/40 px-3 py-1 rounded-full backdrop-blur-md border border-white/10 shadow-lg",children:u.byName})]},u.id))})})},ME=()=>{const{boardId:t,yearId:e}=ok(),n=ju(),s=e?void 0:t,{items:a,members:l,loading:u,toggleItem:f,hasWon:m,bingoCount:p,isLocked:y,unlockBoard:b,jumbleAndLock:x,saveBoard:C,completeWithPhoto:V,addPhotoToTile:j,addReaction:N,deletePhoto:H,decrementProgress:W,inviteUser:Y,removeMember:me,title:ue,gridSize:fe,updateTitle:k}=oB(s),{logout:S,user:M}=Wl(),z=TR(),{openSettings:B,settings:P,updateSettings:D}=ah(),{playClick:be,playSuccess:we,playBingo:J,playWhoosh:X}=lB(),[G,K]=I.useState(!1),[O,T]=I.useState(!1),[L,Q]=I.useState(""),[ne,pe]=I.useState([]),[ge,de]=I.useState(!1),[Ae,Re]=I.useState(!1),[Ke,ze]=I.useState(!1),[Ge,wt]=I.useState(!1),[Ve,Mt]=I.useState([]),[Vt,Qt]=I.useState(null),[ln,ot]=I.useState(""),[Be,Vn]=I.useState({}),[Rr,Ks]=I.useState(1),[Ut,oi]=I.useState(""),[Ei,ys]=I.useState("complete"),[Si,Ys]=I.useState(!1),[wn,vs]=I.useState(0),[bs,Fn]=I.useState(null),[cn,xn]=I.useState(!1);I.useEffect(()=>{!localStorage.getItem("hasSeenWalkthrough")&&!u&&a.length>0&&Ys(!0)},[u,a]),I.useEffect(()=>{(async()=>{if(Ae&&l){const Ie=[];for(const[Et,St]of Object.entries(l))if(St!=="owner")try{const bt=await eh(hs(Kn,"users",Et));if(bt.exists()){const Wt=bt.data();Ie.push({id:Et,name:Wt.displayName||"Unknown",email:Wt.email||"No email",role:St})}}catch(bt){console.error("Error fetching user:",bt)}Mt(Ie)}})()},[Ae,l]);const Pt=async(F,Ie)=>{await z.confirm(`Are you sure you want to remove ${Ie} from this board?`,{title:"Remove Member",type:"error",confirmText:"Remove"})&&((await me(F)).success?(Mt(bt=>bt.filter(Wt=>Wt.id!==F)),await z.alert(`${Ie} has been removed.`,{type:"success"})):await z.alert("Failed to remove member.",{type:"error"}))},No=async()=>{const F=await z.sharePrompt("Enter their email address to invite them to this board.",{title:"Invite User"});if(F){const Ie=await Y(F.email,F.role);if(Ie.type==="success")await z.alert(Ie.message,{title:"Success!",type:"success"});else if(Ie.type==="not_found"){if(await z.confirm(`"${F.email}" hasn't signed up yet.

Would you like to send them an email invitation to join SunSar Bingo?`,{title:"User Not Found",confirmText:"Send Invite Email",type:"info"}))try{const{sendInviteEmail:St,openMailtoFallback:bt}=await oy(async()=>{const{sendInviteEmail:An,openMailtoFallback:Xt}=await import("./emailService-BuiNmlm2.js");return{sendInviteEmail:An,openMailtoFallback:Xt}},[]);(await St({recipientEmail:F.email,senderName:M?.displayName||M?.email||"A friend"})).success?await z.alert(`Invitation sent to ${F.email}! They'll receive an email with instructions to join.`,{title:"Invitation Sent!",type:"success"}):(bt(F.email,M?.displayName||"A friend"),await z.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"}))}catch{const bt=encodeURIComponent("Join me on SunSar Bingo!"),Wt=encodeURIComponent(`Hey! Come join me on SunSar Bingo to track our 2026 goals together.

Sign up here: ${window.location.origin}`);window.open(`mailto:${F.email}?subject=${bt}&body=${Wt}`),await z.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"})}}else await z.alert(Ie.message,{title:"Error",type:"error"})}},Ir=()=>{wn<2?vs(F=>F+1):(Ys(!1),localStorage.setItem("hasSeenWalkthrough","true"))},[ko,Tn]=I.useState(!1),[En,vt]=I.useState(null),[pn,li]=I.useState(!1),qn=I.useRef(null),[nc,_s]=I.useState(!1),[xt,ci]=I.useState(null),[ui,Ai]=I.useState(null),[Wi,Xi]=I.useState(0),ws=I.useRef(null),[Zi,Oa]=I.useState(!1),[hi,Xn]=I.useState(()=>localStorage.getItem("celebrationDismissed")==="true"),[It,zt]=I.useState(0);I.useEffect(()=>{It===5&&(b(),zt(0),n0({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#ec4899","#ffffff"]}));let F;return It>0&&(F=setTimeout(()=>zt(0),1e3)),()=>clearTimeout(F)},[It,b]);const Ci=()=>{y&&zt(F=>F+1)},Nr=()=>{be(),x(Ge),n0({particleCount:150,spread:60,origin:{y:.7},colors:["#22c55e","#ffffff"]}),we(),ze(!1),K(!1)},ic=()=>{Xn(!0),localStorage.setItem("celebrationDismissed","true")};rd.useEffect(()=>{!u&&!m&&(Xn(!1),localStorage.removeItem("celebrationDismissed"))},[m,u]);const ja=I.useRef(m);rd.useEffect(()=>{m&&!ja.current&&!u&&J(),ja.current=m},[m,u,J]);const Do=F=>{const Ie=G?ne:a;if(Qt(F),ot(Ie[F].text),Vn(Ie[F].style||{color:"#ffffff",fontSize:"base",bold:!1,italic:!1}),Ks(Ie[F].targetCount||1),Ie[F].dueDate){const Et=Ie[F].dueDate,St=typeof Et.toDate=="function"?Et.toDate():new Date(Et),bt=St.getFullYear(),Wt=String(St.getMonth()+1).padStart(2,"0"),An=String(St.getDate()).padStart(2,"0");oi(`${bt}-${Wt}-${An}`)}else oi("");de(!0)},Ri=()=>{if(Vt===null)return;let F;Ut&&(F=new Date(Ut+"T12:00:00"));const Ie=[...ne];Ie[Vt]={...Ie[Vt],text:ln,style:Be,targetCount:Rr,dueDate:F},pe(Ie),de(!1),Qt(null)},fi=G?ne:a;if(I.useEffect(()=>{ui!==null&&fi?.[ui]&&ci(fi[ui])},[fi,ui]),u)return v.jsx("div",{className:"flex h-screen items-center justify-center text-accent-primary animate-pulse",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),v.jsx("p",{children:"Loading Board..."})]})});const Hn=a.filter(F=>F.isCompleted).length/25*100,Sn=F=>{if(!F)return"-";const Ie=F.toDate?F.toDate():new Date(F);return Ie.toLocaleDateString()+" "+Ie.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},Ii=F=>{const Ie=fi[F];Fn({index:F,wasCompleted:Ie.isCompleted}),Ie.isCompleted?be():we(),f(F),xn(!0),setTimeout(()=>xn(!1),3e3)};return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 pb-24 relative overflow-x-hidden no-print",children:[v.jsx("input",{type:"file",accept:"image/*",ref:ws,className:"hidden",onChange:async F=>{const Ie=F.target.files?.[0];if(Ie&&ui!==null){try{await j(ui,Ie)}catch(Et){console.error(Et),alert("Failed to add photo")}F.target.value=""}}}),v.jsx(uB,{items:a}),v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsxs("header",{className:"flex justify-between items-center mb-8 py-2",children:[v.jsx(nt.img,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},src:"/logo.png",alt:"SunSar Bingo",className:"h-10 sm:h-12 w-auto object-contain cursor-pointer active:scale-95 transition-transform",onClick:Ci}),v.jsxs("div",{className:"flex-1 mx-4 min-w-0",children:[O?v.jsx("input",{type:"text",value:L,onChange:F=>Q(F.target.value),onBlur:()=>{L.trim()&&k(L.trim()),T(!1)},onKeyDown:F=>{F.key==="Enter"?(L.trim()&&k(L.trim()),T(!1)):F.key==="Escape"&&T(!1)},autoFocus:!0,className:"bg-transparent border-b-2 border-accent-primary text-white text-lg sm:text-xl font-bold outline-none w-full max-w-[200px]"}):v.jsxs("button",{onClick:()=>{Q(ue||"My Bingo"),T(!0)},className:"text-white text-lg sm:text-xl font-bold truncate max-w-[200px] hover:text-accent-primary transition-colors flex items-center gap-1 group",title:"Click to edit board name",children:[v.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent truncate",children:ue||"My Bingo"}),v.jsx(Jg,{size:14,className:"opacity-0 group-hover:opacity-70 transition-opacity flex-shrink-0"})]}),v.jsxs("p",{className:"text-slate-500 text-xs mt-0.5",children:[fe,"",fe,"  ",a.filter(F=>F.isCompleted&&!F.isFreeSpace).length,"/",a.filter(F=>!F.isFreeSpace).length]})]}),v.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[v.jsx("button",{onClick:()=>Oa(!0),className:"p-2.5 text-slate-400 hover:text-accent-gold hover:bg-white/5 rounded-full transition-colors",title:"View Memories",children:v.jsx(Bd,{size:20})}),v.jsx("button",{onClick:()=>n("/dashboard"),className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Dashboard",children:v.jsx(jv,{size:20})}),v.jsx("button",{onClick:()=>Re(!0),className:"p-2.5 text-slate-400 hover:text-accent-primary hover:bg-white/5 rounded-full transition-colors",title:"Share Board",children:v.jsx(id,{size:20})}),v.jsx("button",{onClick:()=>{const F=["dawn","midnight","forest","ocean","sunset"],Et=(F.indexOf(P.theme)+1)%F.length;D({theme:F[Et]})},className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:`Theme: ${P.theme} (click to change)`,children:P.theme==="dawn"?v.jsx(nz,{size:20}):v.jsx(F9,{size:20})}),v.jsx("button",{onClick:B,className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Settings",children:v.jsx(Lv,{size:20})}),v.jsx("div",{className:"w-px h-6 bg-white/10 mx-1 hidden sm:block"}),v.jsx(nt.div,{initial:{scale:0},animate:{scale:1},className:"relative cursor-pointer group",children:v.jsx("img",{src:M?.photoURL||"",alt:"User",className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full border-2 border-white/10 group-hover:border-accent-primary transition-colors object-cover shrink-0"})}),v.jsx("button",{onClick:S,className:"p-2.5 text-slate-400 hover:text-red-400 hover:bg-white/5 rounded-full transition-colors",title:"Logout",children:v.jsx(_R,{size:20})})]})]}),v.jsx("div",{className:"flex justify-center mb-6",children:v.jsx("div",{className:"w-full max-w-[520px] aspect-square relative",children:v.jsx("div",{className:qt("grid gap-1.5 sm:gap-2 w-full h-full",fe===3&&"grid-cols-3 grid-rows-3",fe===4&&"grid-cols-4 grid-rows-4",fe===5&&"grid-cols-5 grid-rows-5",fe===6&&"grid-cols-6 grid-rows-6"),children:fi.map((F,Ie)=>v.jsxs(nt.div,{title:F.isCompleted?`Completed by ${F.completedBy||"Someone"} on ${Sn(F.completedAt)}`:void 0,layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:Ie*.02},whileTap:{scale:.95},onClick:()=>{G||F.isFreeSpace||(F.isCompleted?F.proofPhotos&&F.proofPhotos.length>0?(ci(F),Ai(Ie),Xi(0),_s(!0)):Ii(Ie):(X(),vt(Ie),Tn(!0)))},className:qt("relative rounded-lg flex items-center justify-center p-1 cursor-pointer select-none border backdrop-blur-sm overflow-hidden",fe===3&&"text-sm sm:text-base",fe===4&&"text-xs sm:text-sm",fe===5&&"text-[11px] sm:text-sm",fe===6&&"text-[9px] sm:text-xs","font-medium leading-tight select-none",F.isCompleted?"text-white scale-110 font-semibold":"text-slate-300","bg-bg-card/90 border-white/20 shadow-md hover:border-white/40 hover:bg-bg-card/95 transition-all duration-200",F.isCompleted&&!F.isFreeSpace&&"bg-gradient-to-br from-accent-primary/30 to-accent-secondary/30 border-accent-primary/50 shadow-[0_0_15px_rgba(139,92,246,0.15)]",F.isFreeSpace&&"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50",G&&"border-dashed border-slate-500"),children:[v.jsx("div",{className:"w-full h-full flex items-center justify-center text-center relative z-10",children:v.jsx("div",{className:"w-full h-full flex items-center justify-center p-1",onClick:Et=>{G&&(Et.stopPropagation(),Do(Ie))},children:v.jsx("span",{className:qt("leading-tight break-words w-full",F.isFreeSpace?"text-lg font-bold text-accent-gold":"font-semibold line-clamp-3 sm:line-clamp-4",F.isCompleted&&!F.isFreeSpace&&"text-white"),style:!F.isFreeSpace&&!F.isCompleted?{color:F.style?.color||"#cbd5e1",fontWeight:F.style?.bold?"bold":"600",fontStyle:F.style?.italic?"italic":"normal",fontSize:F.style?.fontSize==="sm"?"12px":F.style?.fontSize==="lg"?"18px":F.style?.fontSize==="xl"?"22px":void 0}:void 0,children:F.text})})}),F.proofPhotos&&F.proofPhotos.length>0&&v.jsx("div",{className:"absolute top-1 right-1 z-20 text-white drop-shadow-[0_1px_2px_rgba(0,0,0,0.8)]",title:"Has photos",children:v.jsx(nd,{size:fe>=5?10:14,className:"opacity-90"})}),F.dueDate&&!F.isCompleted&&!y&&v.jsxs("div",{className:qt("flex items-center gap-1 mt-1 text-[10px] font-medium absolute bottom-1 right-1 px-1 rounded bg-black/40 backdrop-blur-sm",(F.dueDate.toDate?F.dueDate.toDate():new Date(F.dueDate))<new Date?"text-red-400":"text-slate-400"),children:[v.jsx(D9,{size:8}),v.jsx("span",{children:(F.dueDate.toDate?F.dueDate.toDate():new Date(F.dueDate)).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),F.isCompleted&&!F.isFreeSpace&&!G&&v.jsxs(v.Fragment,{children:[v.jsx(nt.div,{initial:{scale:0},animate:{scale:1},className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-20",children:v.jsx(mr,{className:"w-12 h-12 text-white"})}),v.jsx("div",{className:"absolute top-0.5 right-0.5 w-1.5 h-1.5 bg-accent-primary rounded-full shadow-[0_0_5px_rgba(139,92,246,0.8)]"}),F.proofPhotos&&F.proofPhotos.length>0&&v.jsxs("div",{className:"absolute bottom-0.5 left-0.5 p-0.5 bg-accent-gold/80 rounded-sm flex items-center gap-0.5",children:[v.jsx(nd,{className:"w-2.5 h-2.5 text-black"}),F.proofPhotos.length>1&&v.jsx("span",{className:"text-[8px] font-bold text-black",children:F.proofPhotos.length})]})]}),!F.isFreeSpace&&!G&&(F.targetCount||1)>1&&v.jsxs("div",{className:qt("absolute bottom-0.5 right-0.5 px-1 py-0.5 rounded text-[8px] font-bold",F.isCompleted?"bg-green-500/80 text-white":(F.currentCount||0)>0?"bg-amber-500/80 text-white":"bg-slate-600/80 text-slate-300"),children:[F.currentCount||0,"/",F.targetCount]})]},F.id))})})}),v.jsx("div",{className:"flex justify-center",children:v.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[520px] glass-panel p-4 flex flex-col gap-4",children:[v.jsxs("div",{className:"w-full",children:[v.jsxs("div",{className:"flex justify-between text-xs text-slate-300 mb-1.5 px-1",children:[v.jsx("span",{className:"font-semibold",children:"Progress"}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("span",{className:"font-mono text-accent-gold font-bold",children:[p,"/",fe*2+2," Bingos"]}),v.jsxs("span",{className:"font-mono text-accent-primary",children:[Math.round(Hn),"%"]})]})]}),v.jsx("div",{className:"h-3 bg-bg-dark/50 rounded-full overflow-hidden border border-white/5",children:v.jsx(nt.div,{className:"h-full bg-gradient-to-r from-accent-primary to-accent-secondary relative",initial:{width:0},animate:{width:`${Hn}%`},transition:{duration:1,ease:"easeOut"},children:v.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[1px] bg-white/50 shadow-[0_0_10px_white]"})})})]}),v.jsx("div",{className:"flex justify-center gap-2",children:G?v.jsx(v.Fragment,{children:v.jsxs("div",{className:"flex gap-2 w-full",children:[v.jsx("button",{onClick:()=>K(!1),className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10 transition-all",children:"Cancel"}),v.jsxs("button",{onClick:()=>{C(ne),K(!1)},className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 transition-all flex items-center justify-center gap-2",children:[v.jsx(mr,{size:16}),"Save Changes"]})]})}):v.jsxs("div",{className:"flex gap-2 justify-center w-full flex-wrap",children:[!y&&v.jsxs(v.Fragment,{children:[v.jsxs("button",{onClick:()=>{pe([...a]),K(!0)},className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[v.jsx(Jg,{size:12}),"Edit Board"]}),v.jsxs("button",{onClick:()=>{be(),ze(!0)},className:"flex-1 py-2 px-4 text-xs font-bold text-white bg-gradient-to-r from-accent-primary to-accent-secondary hover:shadow-lg hover:shadow-accent-primary/20 transition-all rounded-lg flex items-center justify-center gap-2 min-w-[120px]",children:[v.jsx(TE,{size:14}),"Go Live "]})]}),v.jsxs("button",{onClick:()=>window.print(),className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[v.jsx(Q9,{size:12}),"Print Status"]})]})})]})}),v.jsx(qi,{children:m&&!hi&&v.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:v.jsxs(nt.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center max-w-sm w-full relative overflow-hidden border-accent-gold/30",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent-gold/10 to-transparent pointer-events-none"}),v.jsx(nt.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"inline-block",children:v.jsx(_E,{className:"w-20 h-20 text-accent-gold mx-auto mb-4 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),v.jsx("h2",{className:"text-4xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-accent-gold via-white to-accent-secondary mb-2",children:"BINGO!"}),v.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"2026 is off to an amazing start!"}),v.jsx("button",{onClick:ic,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-[0_0_20px_rgba(139,92,246,0.4)] transition-all transform hover:scale-105",children:"Keep Playing"})]})})}),v.jsx(qi,{children:ge&&v.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:()=>de(!1),children:v.jsxs(nt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-gold/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl relative overflow-hidden",onClick:F=>F.stopPropagation(),children:[v.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Edit Tile"}),v.jsx("div",{className:"mb-4 flex justify-center",children:v.jsx("div",{className:"w-32 h-32 rounded-lg bg-bg-card/80 border border-white/10 flex items-center justify-center p-2 text-center overflow-hidden",children:v.jsx("span",{className:qt("font-hand font-semibold leading-tight break-words"),style:{color:Be.color||"#ffffff",fontWeight:Be.bold?"bold":"600",fontStyle:Be.italic?"italic":"normal",fontSize:Be.fontSize==="sm"?"12px":Be.fontSize==="lg"?"18px":Be.fontSize==="xl"?"22px":"16px"},children:ln||"Preview Text"})})}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Content"}),v.jsx("textarea",{className:"w-full bg-black/20 text-white rounded-lg p-3 border border-white/10 focus:border-accent-primary outline-none min-h-[80px]",value:ln,onChange:F=>ot(F.target.value),placeholder:"Enter bingo task..."})]}),v.jsxs("div",{className:"mb-6 space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Color"}),v.jsx("div",{className:"flex gap-2 flex-wrap",children:["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#ec4899","#a855f7"].map(F=>v.jsx("button",{className:qt("w-6 h-6 rounded-full border border-white/10 transition-transform active:scale-90",Be.color===F&&"ring-2 ring-white scale-110"),style:{backgroundColor:F},onClick:()=>Vn(Ie=>({...Ie,color:F}))},F))})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),v.jsx("div",{className:"flex bg-black/20 rounded-lg p-1",children:["sm","base","lg","xl"].map(F=>v.jsx("button",{onClick:()=>Vn(Ie=>({...Ie,fontSize:F})),className:qt("flex-1 py-1 text-[10px] font-bold rounded transition-colors uppercase",(Be.fontSize||"base")===F?"bg-accent-primary text-white":"text-slate-400 hover:text-white"),children:F==="base"?"M":F},F))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Style"}),v.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-lg p-1",children:[v.jsx("button",{onClick:()=>Vn(F=>({...F,bold:!F.bold})),className:qt("w-8 h-full rounded flex items-center justify-center font-bold transition-colors",Be.bold?"bg-white text-black":"text-slate-400 hover:text-white"),children:"B"}),v.jsx("button",{onClick:()=>Vn(F=>({...F,italic:!F.italic})),className:qt("w-8 h-full rounded flex items-center justify-center italic transition-colors font-serif",Be.italic?"bg-white text-black":"text-slate-400 hover:text-white"),children:"I"})]})]})]})]}),v.jsxs("div",{className:"space-y-4 mb-6 pt-4 border-t border-white/10",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Repeat Goal"}),v.jsx("input",{type:"number",min:"1",max:"100",value:Rr,onChange:F=>Ks(parseInt(F.target.value)||1),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors"}),v.jsx("p",{className:"text-xs text-slate-500",children:"How many times should this be completed?"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Due Date (Optional)"}),v.jsx("input",{type:"date",value:Ut,onChange:F=>oi(F.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors [color-scheme:dark]"})]})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>de(!1),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),v.jsx("button",{onClick:Ri,className:"flex-1 py-3 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl font-bold text-white shadow-lg hover:shadow-violet-500/25 active:scale-95 transition-all",children:"Ok"})]})]})})}),v.jsx(qi,{children:ko&&En!==null&&v.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{Tn(!1),vt(null)},children:v.jsx(nt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-primary/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl max-h-[90vh] overflow-y-auto no-scrollbar",onClick:F=>F.stopPropagation(),children:(()=>{const F=fi[En],Ie=F?.targetCount||1,Et=F?.currentCount||0,St=Ie>1,bt=Et>0;return v.jsxs(v.Fragment,{children:[v.jsx("h3",{className:"text-xl font-bold text-white mb-2 text-center",children:F.isCompleted?"Tile Details":bt?"Add Progress":"Complete Task"}),v.jsxs("p",{className:"text-slate-300 text-sm text-center mb-4 line-clamp-3 italic",children:["",F?.text,""]}),St&&v.jsx("div",{className:"text-center mb-4",children:v.jsxs("span",{className:qt("inline-block px-3 py-1 rounded-full text-sm font-bold",bt?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"),children:["Progress: ",Et," / ",Ie]})}),F.proofPhotos&&F.proofPhotos.length>0&&v.jsxs("div",{className:"mb-6 bg-black/20 p-3 rounded-xl border border-white/5",children:[v.jsx("label",{className:"text-xs text-slate-400 mb-2 block font-semibold uppercase tracking-wider",children:"Attached Photos"}),v.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:F.proofPhotos.map((Wt,An)=>v.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0 group rounded-lg overflow-hidden border border-white/10 touch-none select-none",onContextMenu:Xt=>Xt.preventDefault(),onTouchStart:Xt=>{const Ni=Xt.currentTarget,kr=setTimeout(()=>{navigator.vibrate&&navigator.vibrate(50),window.confirm("Delete this photo?")&&H(En,An)},800);Ni.dataset.timer=String(kr)},onTouchEnd:Xt=>{const Ni=Number(Xt.currentTarget.dataset.timer);Ni&&clearTimeout(Ni),Xt.currentTarget.dataset.timer=""},onTouchMove:Xt=>{const Ni=Number(Xt.currentTarget.dataset.timer);Ni&&clearTimeout(Ni),Xt.currentTarget.dataset.timer=""},children:[v.jsx("img",{src:Wt,alt:"",className:"w-full h-full object-cover pointer-events-none"}),v.jsx("button",{onClick:async Xt=>{Xt.stopPropagation(),window.confirm("Delete this photo?")&&await H(En,An)},className:"absolute top-1 right-1 bg-red-500/90 p-1.5 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 shadow-md",children:v.jsx(sd,{size:12})})]},An))})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx("input",{type:"file",accept:"image/*",ref:qn,className:"hidden",onChange:async Wt=>{const An=Wt.target.files?.[0];if(An&&En!==null){li(!0);try{Ei==="complete"?await V(En,An):await j(En,An),Tn(!1),vt(null)}catch{alert("Failed to upload photo.")}finally{li(!1),Wt.target.value=""}}}}),v.jsxs("button",{onClick:()=>{ys("add"),setTimeout(()=>qn.current?.click(),0)},disabled:pn,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-blue-500/25 active:scale-95 transition-all disabled:opacity-50",children:[v.jsx(nd,{size:20}),pn&&Ei==="add"?"Uploading...":"Add Photo (Keep Status)"]}),!F.isCompleted&&v.jsxs("button",{onClick:()=>{ys("complete"),setTimeout(()=>qn.current?.click(),0)},disabled:pn,className:"w-full py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-amber-500/25 active:scale-95 transition-all disabled:opacity-50",children:[v.jsx(mr,{size:20}),pn&&Ei==="complete"?"Uploading...":St?"Add Photo & +1":"Add Photo & Complete"]}),v.jsxs("button",{onClick:()=>{f(En),Tn(!1),vt(null)},disabled:pn,className:qt("w-full py-3 px-4 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-all disabled:opacity-50",F.isCompleted?"bg-slate-700 hover:bg-slate-600":"bg-gradient-to-r from-green-600 to-emerald-600 hover:shadow-green-500/25"),children:[F.isCompleted?v.jsx(Vs,{size:20}):v.jsx(mr,{size:20}),F.isCompleted?"Mark Incomplete":St?`Mark +1 (${Et+1}/${Ie})`:"Mark Complete"]}),bt&&!F.isCompleted&&v.jsxs("button",{onClick:()=>{W(En),Tn(!1),vt(null)},disabled:pn,className:"w-full py-2 rounded-xl font-semibold text-red-400 hover:bg-red-500/10 transition-colors disabled:opacity-50",children:["Remove Progress (",Et-1,"/",Ie,")"]}),v.jsx("button",{onClick:()=>{Tn(!1),vt(null)},disabled:pn,className:"w-full py-3 rounded-xl font-semibold bg-white/5 text-slate-400 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"})]})]})})()})})}),v.jsx(qi,{children:nc&&xt&&xt.proofPhotos&&xt.proofPhotos.length>0&&v.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{_s(!1),ci(null),Ai(null)},children:v.jsxs(nt.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-lg w-full",onClick:F=>F.stopPropagation(),children:[v.jsx("button",{onClick:()=>{_s(!1),ci(null),Ai(null)},className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors z-10",children:v.jsx(Vs,{size:28})}),v.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[v.jsxs("div",{className:"relative bg-black",children:[v.jsx("img",{src:xt.proofPhotos[Wi],alt:`Proof photo ${Wi+1}`,className:"w-full h-auto max-h-[50vh] object-contain"}),xt.proofPhotos.length>1&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>Xi(F=>F>0?F-1:xt.proofPhotos.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:v.jsx(vR,{size:24})}),v.jsx("button",{onClick:()=>Xi(F=>F<xt.proofPhotos.length-1?F+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:v.jsx(bR,{size:24})})]}),v.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/60 rounded-full text-white text-xs font-medium",children:[Wi+1," / ",xt.proofPhotos.length]})]}),xt.proofPhotos.length>1&&v.jsx("div",{className:"flex gap-1 p-2 bg-bg-dark/80 overflow-x-auto",children:xt.proofPhotos.map((F,Ie)=>v.jsx("button",{onClick:()=>Xi(Ie),className:qt("w-12 h-12 rounded-md overflow-hidden border-2 flex-shrink-0 transition-all",Wi===Ie?"border-accent-primary":"border-transparent opacity-60 hover:opacity-100"),children:v.jsx("img",{src:F,alt:"",className:"w-full h-full object-cover"})},Ie))}),v.jsxs("div",{className:"p-4 bg-bg-dark/95",children:[v.jsx("p",{className:"text-white font-semibold mb-1",children:xt.text}),v.jsxs("p",{className:"text-slate-400 text-xs mb-4",children:["Completed by ",xt.completedBy,"  ",Sn(xt.completedAt)]}),v.jsx("div",{className:"flex gap-2 justify-center pb-1",children:["","","","","",""].map(F=>v.jsx("button",{onClick:()=>{ui!==null&&(N(ui,F),be())},className:"text-2xl hover:scale-125 transition-transform p-2 rounded-full hover:bg-white/10 active:scale-95",title:"React",children:F},F))})]})]}),v.jsxs("div",{className:"mt-4 flex gap-3 justify-center",children:[v.jsxs("button",{onClick:async()=>{window.confirm("Delete this photo?")&&(await H(ui,Wi),xt?.proofPhotos?.length===1?_s(!1):Xi(0))},className:"flex-1 py-3 bg-red-500/10 text-red-400 rounded-xl font-semibold hover:bg-red-500/20 flex items-center justify-center gap-2",children:[v.jsx(sd,{size:20}),"Delete Photo"]}),v.jsxs("button",{onClick:()=>ws.current?.click(),className:"flex-1 py-3 bg-white/10 text-white rounded-xl font-semibold hover:bg-white/20 flex items-center justify-center gap-2",children:[v.jsx(qd,{size:20}),"Add Photo"]})]}),v.jsx("button",{onClick:()=>{const F=a.findIndex(Ie=>Ie.id===xt.id);F!==-1&&f(F),_s(!1),ci(null),Ai(null)},className:"mt-2 w-full py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Mark as In Progress"})]})})}),v.jsx(qi,{children:cn&&bs&&v.jsxs(nt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-slate-900 border border-white/20 text-white px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4",children:[v.jsxs("span",{children:["Marked as ",bs.wasCompleted?"incomplete":"complete"]}),v.jsx("button",{onClick:()=>{f(bs.index),xn(!1)},className:"font-bold text-accent-primary hover:text-white transition-colors",children:"Undo"}),v.jsx("button",{onClick:()=>xn(!1),className:"text-slate-400 hover:text-white",children:v.jsx(Vs,{size:16})})]})}),v.jsx(qi,{children:Si&&v.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:v.jsxs(nt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-slate-900 border border-white/20 rounded-3xl p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 pointer-events-none",children:v.jsx(_E,{className:"w-32 h-32 text-accent-gold rotate-12"})}),v.jsxs("div",{className:"relative z-10 text-center",children:[v.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Welcome! "}),v.jsxs("p",{className:"text-slate-400 mb-8 h-12",children:[wn===0&&"Tap any tile to mark it as complete.",wn===1&&"Start 'Edit Mode' to add your own tasks.",wn===2&&"Invite friends to play together!"]}),v.jsx("div",{className:"flex justify-center mb-8",children:v.jsx("div",{className:"w-32 h-32 bg-black/40 rounded-2xl border border-white/10 flex items-center justify-center relative",children:v.jsxs(qi,{mode:"wait",children:[wn===0&&v.jsxs(nt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center",children:[v.jsx("div",{className:"w-16 h-16 bg-accent-primary/20 rounded-lg border border-accent-primary flex items-center justify-center",children:v.jsx(mr,{className:"w-8 h-8 text-white"})}),v.jsx(nt.div,{animate:{scale:[1,1.2,1],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5},className:"absolute w-20 h-20 rounded-full border-2 border-white/50"})]},"step0"),wn===1&&v.jsx(nt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:v.jsx(Jg,{className:"w-12 h-12 text-blue-400"})},"step1"),wn===2&&v.jsx(nt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:v.jsx(id,{className:"w-12 h-12 text-green-400"})},"step2")]})})}),v.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[0,1,2].map(F=>v.jsx("div",{className:qt("w-2 h-2 rounded-full transition-colors",F===wn?"bg-white":"bg-white/20")},F))}),v.jsx("button",{onClick:Ir,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-slate-200 transition-colors",children:wn===2?"Let's Play!":"Next"})]})]})})})]}),v.jsxs("div",{className:"only-print hidden",children:[v.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-black pb-2",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("img",{src:"/logo.png",className:"h-12 w-auto",alt:"Logo"}),v.jsx("h1",{className:"text-2xl font-bold",children:ue||"2026 Edition"})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("p",{className:"text-xs uppercase tracking-widest mb-0.5",children:["Status Report (",fe,"",fe,")"]}),v.jsxs("p",{className:"text-xl font-bold",children:[p," / ",fe*2+2," Bingos"]})]})]}),v.jsx("div",{className:`grid gap-0 border-2 border-black ${fe===3?"grid-cols-3":fe===4?"grid-cols-4":fe===5?"grid-cols-5":"grid-cols-6"}`,children:a.map(F=>v.jsxs("div",{className:"aspect-square border border-black p-1.5 flex flex-col justify-between relative overflow-hidden min-h-[80px]",children:[v.jsx("div",{className:`font-bold leading-tight z-10 ${fe>=5?"text-[10px]":"text-[11px]"}`,children:F.text}),F.isCompleted&&!F.isFreeSpace&&v.jsxs("div",{className:"mt-0.5 relative z-10",children:[v.jsx("div",{className:"text-[7px] uppercase font-bold text-slate-700",children:"Completed by:"}),v.jsx("div",{className:"text-[9px] font-mono font-bold leading-none",children:F.completedBy||"User"}),v.jsx("div",{className:"text-[7px] text-slate-600 mt-0.5",children:Sn(F.completedAt)})]}),F.isCompleted&&v.jsx("div",{className:"absolute bottom-1 right-1 text-3xl font-bold text-slate-200 opacity-60 pointer-events-none z-0",children:""}),F.isFreeSpace&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-xl rotate-[-45deg] opacity-20",children:"FREE"})]},F.id))}),v.jsxs("div",{className:"mt-4 text-[9px] text-center border-t border-black pt-2 flex justify-between text-slate-500",children:[v.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),v.jsx("span",{children:"bingo.mysunsar.com"})]})]}),v.jsx(cB,{items:a,isOpen:Zi,onClose:()=>Oa(!1)}),Ae&&v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>Re(!1)}),v.jsxs("div",{className:"relative w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[v.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[v.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[v.jsx(id,{className:"w-5 h-5 text-accent-primary"}),"Shared With"]}),v.jsx("button",{onClick:()=>Re(!1),className:"text-slate-400 hover:text-white",children:v.jsx(Vs,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"p-6",children:[Ve.length===0?v.jsx("div",{className:"text-center text-slate-400 py-8",children:v.jsx("p",{children:"This board hasn't been shared yet."})}):v.jsx("div",{className:"space-y-4 mb-6",children:Ve.map(F=>v.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-3 rounded-xl border border-white/5",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:F.name.charAt(0)}),v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-semibold text-white",children:F.name}),v.jsxs("div",{className:"text-xs text-slate-400",children:[F.email,"  ",F.role]})]})]}),v.jsx("button",{onClick:()=>Pt(F.id,F.name),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove User",children:v.jsx(sd,{size:16})})]},F.id))}),v.jsxs("button",{onClick:No,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all flex items-center justify-center gap-2",children:[v.jsx(qd,{size:18}),"Invite New User"]})]})]})]}),Ke&&v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>ze(!1)}),v.jsxs("div",{className:"relative w-full max-w-sm bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[v.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center bg-gradient-to-r from-accent-primary/10 to-accent-secondary/10",children:[v.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[v.jsx(TE,{className:"w-5 h-5 text-accent-primary"}),"Ready to Go Live?"]}),v.jsx("button",{onClick:()=>ze(!1),className:"text-slate-400 hover:text-white",children:v.jsx(Vs,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"p-6",children:[v.jsxs("p",{className:"text-slate-300 mb-6 leading-relaxed",children:["Going live will ",v.jsx("strong",{children:"lock the board"})," for play mode. You won't be able to edit items easily anymore."]}),v.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mb-6 cursor-pointer hover:bg-white/10 transition-colors",onClick:()=>wt(!Ge),children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:`mt-1 w-5 h-5 rounded border flex items-center justify-center transition-colors ${Ge?"bg-accent-primary border-accent-primary":"border-slate-500"}`,children:Ge&&v.jsx(mr,{size:14,className:"text-white"})}),v.jsxs("div",{children:[v.jsx("div",{className:"font-semibold text-white",children:"Shuffle Items?"}),v.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Randomize the grid arrangement one last time before locking."})]})]})}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>ze(!1),className:"flex-1 py-3 bg-slate-800 text-slate-300 font-bold rounded-xl hover:bg-slate-700 transition-colors",children:"Cancel"}),v.jsxs("button",{onClick:Nr,className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary text-white font-bold rounded-xl hover:shadow-lg hover:shadow-accent-primary/20 transition-all flex items-center justify-center gap-2",children:[v.jsx(j9,{size:16}),"Lock & Play"]})]})]})]})]})]})})},hB=()=>{const{user:t,logout:e}=Wl(),n=TR(),{openSettings:s}=ah(),a=ju(),[l,u]=I.useState([]),[f,m]=I.useState(!0),[p,y]=I.useState(!1),[b,x]=I.useState(null),[C,V]=I.useState(5),[j,N]=I.useState(null),[H,W]=I.useState(""),Y=(P,D)=>{P.preventDefault(),P.stopPropagation(),N(D.id),W(D.title)},me=async P=>{if(P.preventDefault(),P.stopPropagation(),!!j){try{await jn(hs(Kn,"boards",j),{title:H}),u(D=>D.map(be=>be.id===j?{...be,title:H}:be))}catch(D){console.error("Error updating title:",D)}N(null)}},ue=P=>{P.preventDefault(),P.stopPropagation(),N(null)},fe=P=>{P.key==="Enter"?me(P):P.key==="Escape"?(P.stopPropagation(),N(null)):P.stopPropagation()},k=[{size:3,label:"33",description:"Quick (9 tiles)",icon:""},{size:4,label:"44",description:"Compact (16 tiles)",icon:""},{size:5,label:"55",description:"Classic (25 tiles)",icon:""},{size:6,label:"66",description:"Extended (36 tiles)",icon:""}],S={blank:{name:"Blank Canvas ",items:[]},default:{name:"2026 Goals ",items:["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"]},fitness:{name:"Fitness Challenge ",items:["Run a 5k","Do 50 pushups in a row","Try a yoga class","Drink 3L water for a week","No sugar for 7 days","Go for a hike","Meal prep for a week","Climb a bouldering wall","Try Pilates","Walk 15k steps in a day","Do a spin class","Bike 20km","FREE SPACE","Touch your toes","Hold a plank for 2 min","Try CrossFit","Go swimming","Meditate for 10 mins x 7","Try a new sport","Sleep 8 hours x 5 days","Do 100 squats","Run a 10k","Go to the gym 4x in a week","Stretch daily for a week","Join a run club"]},couples:{name:"Couple Goals ",items:["Date night (no phones)","Cook a meal together","Weekend getaway","Watch a whole series","Breakfast in bed","Go for a long walk","Plan a future trip","Give each other massages","Recreate first date","Take a dance class","Stargazing date","Write love letters","FREE SPACE","Visit a winery/brewery","Do a puzzle together","Double date","Sunset picnic","Bake something sweet","Volunteer together","Learn a couple's skill","Game night","Make a photo album","Try a new restaurant","Surprise gift","Kiss in the rain"]},personal:{name:"Personal Growth ",items:["Read 1 book/month","Learn a new language","Start a journal","Digital detox (24h)","Meditate daily (1 week)","Drink 2L water daily","Wake up at 6am (1 week)","Declutter a room","Learn to invest","Take a solo trip","Volunteer","Compliment a stranger","FREE SPACE","No social media (weekend)","Learn an instrument","Cook a new cuisine","Write a gratitude list","Take a cold shower","Listen to a podcast","Fix sleep schedule","Walk 10k steps","Call an old friend","Create a vision board","Save 10% income","Take a course"]},knitting:{name:"Knitting Goals ",items:["Finish a WIP","Cast on a sweater","Learn brioche","Knit socks","Stash bust project","Try colorwork","Knit a hat","Use luxury yarn","Fix a mistake","Knit a gift","Block a project","Organize needles","FREE SPACE","Try a new fiber","Knit in public","Attend a knit night","Learn magic loop","Design a pattern","Teach someone to knit","Finish a blanket","Knit a shawl","Try cables","Buy souvenir yarn","Weave in ends immediately","Knit a gauge swatch"]},weaving:{name:"Weaving Goals ",items:["Warp the loom","Weave a rug","Try a new structure","Sample a pattern","Use handspun yarn","Finish a scarf","Hemstitching","Fix a broken warp","Weave a towel","Try tapestry","Mix fibers","Organize yarn stash","FREE SPACE","Weave a placemat","Attend a workshop","Try doublewidth","Weave transparency","Calculate warp correctly","Finish raw edges","Weave with rags","Try tablet weaving","Rigid heddle project","Floor loom project","Visit a mill","Share a project online"]},spinning:{name:"Spinning Goals ",items:["Spin 100g fiber","Ply a yarn","Try a new breed","Spin lace weight","Spin art yarn","Comb fleece","Card a batt","Spin on a drop spindle","Clean the wheel","Spin distinct colors","Skein and wash","Fractal spin","FREE SPACE","Spin silk","Spin cotton","Navajo ply","Spin for a project","Participate in Tour de Fleece","Sample a blend","Teach spinning","Spin consistent grist","Dye fiber","Blend colors on hackle","Spin exotic fiber","Fill a bobbin"]},painting:{name:"Painting Goals ",items:["Paint a landscape","Try watercolors","Paint a portrait","Mix a new color","Paint en plein air","Visit a gallery","Finish a sketchbook","Try oils","Paint a still life","Use a palette knife","Paint an animal","Try abstract","FREE SPACE","Clean brushes properly","Paint on canvas","Paint on wood","Follow a tutorial","Paint a sky","Try gouache","Varnish a painting","Frame a piece","Paint daily for a week","Recreate a master","Paint a self-portrait","Host a paint night"]},corporate:{name:"Corporate Bingo ",items:['"Circle back"',`"Let's take this offline"`,"Meeting that could be an email",'"Synergy"','"Low hanging fruit"','"Touch base"',"Someone forgets to mute","Screen share fails",'"Can you see my screen?"',"Awkward silence",'"Bandwidth"','"Deep dive"',"FREE SPACE","Pet interrupts video call","Echo on the line",'"Per my last email"','"Drill down"','"Out of pocket"','"Hard stop"','"Boil the ocean"',"Reply All disaster",'"Move the needle"','"Blue sky thinking"','"Paradigm shift"','"Quick win"']},travel:{name:"Travel Bucket List ",items:["Visit a new continent","Go on a solo trip","See the Northern Lights","Swim in an ocean","Road trip across 3 states","Fly First Class","Visit a National Park","Eat street food","Stay in a hostel","Learn 'Hello' in 5 languages","Visit a Wonder of the World","Go on a cruise","FREE SPACE","Make a travel vlog","Sleep under the stars","Visit a castle","Ride a train","See a volcano","Go scuba diving","Watch a sunrise on a mountain","Visit a winery","Ride a camel/elephant","Go skiing/snowboarding","Visit a tropical island","Send a postcard"]}};I.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching boards for user:",t.uid,t.email);const D=new Map;try{const K=Id(wl(Kn,"boards"),Nd(`members.${t.uid}`,"in",["owner","editor","viewer"])),O=await yu(K);console.log("Boards with membership found:",O.docs.length),O.docs.forEach(T=>{const L=T.data(),Q=L.members?.[t.uid],ne=L.members||{},pe=Object.values(ne).filter(ge=>ge!=="owner").length;D.set(T.id,{id:T.id,...L,sharedCount:pe,myRole:Q,members:ne})})}catch(K){console.error("Error querying boards by membership:",K)}try{const K=Id(wl(Kn,"years"),Nd("ownerId","==",t.uid)),O=await yu(K);console.log("Legacy boards (years collection) found:",O.docs.length),O.docs.forEach(T=>{const L=T.data();D.set(`legacy_${T.id}`,{id:T.id,title:L.title||"2026 Bingo",createdAt:L.createdAt,isLocked:L.isLocked,ownerId:L.ownerId,myRole:"owner",members:{}})})}catch(K){console.log("Years collection query failed:",K)}try{const K=await yu(wl(Kn,"years"));console.log("All years docs:",K.docs.length),K.docs.forEach(O=>{const T=O.data();if(T.ownerId===t.uid||T.members?.[t.uid]){const L=`legacy_years_${O.id}`;D.has(L)||D.set(L,{id:O.id,title:T.title||`${O.id} Bingo`,createdAt:T.createdAt,isLocked:T.isLocked,ownerId:T.ownerId,myRole:T.ownerId===t.uid?"owner":T.members?.[t.uid]||"viewer",members:T.members||{}})}})}catch(K){console.log("Direct years fetch failed:",K)}const be=Array.from(D.values()),we=new Set;be.forEach(K=>{K.myRole!=="owner"&&(K.ownerId&&K.ownerId!==t.uid&&we.add(K.ownerId),K.members&&Object.entries(K.members).forEach(([O,T])=>{T==="owner"&&O!==t.uid&&we.add(O)}))});const J=Array.from(we),X={};for(const K of J)try{const O=await eh(hs(Kn,"users",K));if(O.exists()){const T=O.data();X[K]=T.displayName||T.email||"Unknown"}}catch{console.log("Could not fetch owner info for:",K)}const G=be.map(K=>{let O=K.ownerId;if(K.members){const T=Object.keys(K.members).find(L=>K.members[L]==="owner"&&L!==t.uid);T&&(O=T)}return K.myRole!=="owner"&&O&&X[O]?{...K,ownerName:X[O]}:K});console.log("Total boards to display:",G.length,G.map(K=>K.title)),u(G)}catch(D){console.error("Error fetching boards:",D)}finally{m(!1)}})()},[t]);const M=async P=>{if(!t)return;const D=S[P],be=C,we=be*be,J=be%2===1?Math.floor(we/2):-1,X=be%2===1?we-1:we,G=await n.prompt("What would you like to call this board?",{title:"Board Title",inputDefaultValue:D.name,confirmText:"Create"});if(G)try{const K=D.items.filter(ne=>ne.trim().toUpperCase()!=="FREE SPACE"&&ne!=="FREE SPACE"),O=[...K].sort(()=>.5-Math.random());for(;O.length<X;)O.push(K[O.length%K.length]||`Goal ${O.length+1}`);const T=[];let L=0;for(let ne=0;ne<we;ne++)ne===J&&be%2===1?T.push({id:ne,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(T.push({id:ne,text:O[L],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),L++);const Q=await A2(wl(Kn,"boards"),{title:G,gridSize:be,ownerId:t.uid,members:{[t.uid]:"owner"},items:T,createdAt:Le.now(),isLocked:!1,lastUpdated:Le.now()});a(`/board/${Q.id}`)}catch(K){console.error("Error creating board:",K),await n.alert("Failed to create board. Please try again.",{title:"Error",type:"error"})}finally{y(!1),x(null),V(5)}};if(f)return v.jsx("div",{className:"min-h-screen bg-bg-dark flex items-center justify-center text-white",children:"Loading Dashboard..."});const z=async(P,D,be)=>{if(P.stopPropagation(),await n.confirm(`This will permanently delete "${be}" and all its data.

This action cannot be undone.`,{title:"Delete Board?",confirmText:"Delete",type:"error"}))try{await S2(hs(Kn,"boards",D)),u(J=>J.filter(X=>X.id!==D)),await n.alert("Board deleted successfully.",{title:"Deleted",type:"success"})}catch(J){console.error("Error deleting board:",J),await n.alert("Failed to delete board. Please try again.",{title:"Error",type:"error"})}},B=async(P,D,be)=>{if(P.stopPropagation(),!t)return;if(await n.confirm(`You will no longer have access to "${be}".

You can ask the owner to re-share it if needed.`,{title:"Leave Board?",confirmText:"Leave",type:"warning"}))try{await jn(hs(Kn,"boards",D),{[`members.${t.uid}`]:Rd()}),u(J=>J.filter(X=>X.id!==D)),await n.alert("You have left the board.",{title:"Left Board",type:"success"})}catch(J){console.error("Error leaving board:",J),await n.alert("Failed to leave board. Please try again.",{title:"Error",type:"error"})}};return v.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 relative",children:[v.jsxs("div",{className:"max-w-6xl mx-auto",children:[v.jsxs("header",{className:"flex justify-between items-center mb-12 py-2",children:[v.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-10 sm:h-12 w-auto object-contain cursor-pointer active:scale-95 transition-transform"}),v.jsxs("div",{className:"flex gap-2 items-center",children:[v.jsx("button",{onClick:()=>a("/help"),className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Help Guide",children:v.jsx(Ov,{size:20})}),v.jsx("button",{onClick:s,className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Settings",children:v.jsx(Lv,{size:20})}),v.jsx("button",{onClick:e,className:"bg-white/5 hover:bg-white/10 px-4 py-2 rounded-xl text-sm font-semibold transition-colors border border-white/10 hover:border-white/20",children:"Logout"})]})]}),v.jsxs("div",{className:"mb-10",children:[v.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:["My ",v.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent italic",children:"Boards"})]}),v.jsxs("p",{className:"text-slate-400 mt-2 text-base sm:text-lg",children:["Welcome back, ",v.jsx("span",{className:"text-accent-primary font-medium",children:t?.displayName?.split(" ")[0]||"Bingo Player"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[v.jsxs("button",{onClick:()=>y(!0),className:"group relative flex flex-col items-center justify-center h-48 rounded-2xl border-2 border-dashed border-slate-700 bg-white/5 hover:bg-white/10 hover:border-accent-primary transition-all cursor-pointer",children:[v.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-primary/20 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:v.jsx(qd,{className:"w-6 h-6 text-accent-primary"})}),v.jsx("span",{className:"font-semibold text-slate-300 group-hover:text-white",children:"Create New Board"})]}),l.filter(P=>P.myRole==="owner").map(P=>{const be=P.id==="2026"||!P.ownerId?`/board/legacy/${P.id}`:`/board/${P.id}`;return v.jsxs("div",{onClick:we=>{we.preventDefault(),console.log("Navigating to board:",be),a(be)},className:"group relative h-48 rounded-2xl bg-gradient-to-br from-slate-800 to-slate-900 border border-white/10 hover:border-accent-primary/50 p-6 flex flex-col justify-between cursor-pointer transition-all hover:translate-y-[-4px] hover:shadow-xl overflow-hidden active:scale-[0.99]",children:[v.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:v.jsx("button",{onClick:we=>z(we,P.id,P.title),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Delete Board",children:v.jsx(sd,{size:18})})}),v.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"h-7 mb-2",children:!!P.sharedCount&&P.sharedCount>0&&v.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:[v.jsx(cz,{size:10}),"Shared with ",P.sharedCount]})}),j===P.id?v.jsxs("div",{className:"flex items-center gap-2 mb-1.5 z-30 relative",onClick:we=>we.stopPropagation(),children:[v.jsx("input",{type:"text",value:H,onChange:we=>W(we.target.value),onKeyDown:fe,onClick:we=>we.stopPropagation(),autoFocus:!0,className:"bg-black/50 text-white font-bold text-xl rounded px-2 py-0.5 border border-accent-primary outline-none min-w-0 flex-1 w-full"}),v.jsx("button",{onClick:me,className:"p-1 text-green-400 hover:bg-green-400/20 rounded-full transition-colors",children:v.jsx(mr,{size:18})}),v.jsx("button",{onClick:ue,className:"p-1 text-red-400 hover:bg-red-400/20 rounded-full transition-colors",children:v.jsx(Vs,{size:18})})]}):v.jsxs("div",{className:"flex items-start gap-2 pr-8 mb-1.5",children:[v.jsx("h3",{className:"text-xl font-bold text-white line-clamp-2 group-hover:text-accent-primary transition-colors",children:P.title}),v.jsx("button",{onClick:we=>Y(we,P),className:"opacity-0 group-hover:opacity-100 text-slate-400 hover:text-white p-1.5 rounded-full hover:bg-white/10 transition-all z-20",title:"Rename Board",children:v.jsx($9,{size:14})})]}),v.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[v.jsx(Fd,{className:"w-3.5 h-3.5"}),P.createdAt?.toDate?P.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),v.jsx("div",{className:"mt-4",children:v.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-primary/10 text-accent-primary border border-accent-primary/20 group-hover:bg-accent-primary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},P.id)})]}),l.filter(P=>P.myRole!=="owner").length>0&&v.jsxs(v.Fragment,{children:[v.jsxs("h2",{className:"text-xl font-bold text-white mt-10 mb-6 flex items-center gap-2",children:[v.jsx("span",{className:"bg-gradient-to-r from-accent-secondary to-pink-500 bg-clip-text text-transparent",children:"Shared With Me"}),v.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",l.filter(P=>P.myRole!=="owner").length,")"]})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.filter(P=>P.myRole!=="owner").map(P=>{const be=P.id==="2026"||!P.ownerId?`/board/legacy/${P.id}`:`/board/${P.id}`;return v.jsxs("div",{onClick:we=>{we.preventDefault(),console.log("Navigating to shared board:",be),a(be)},className:"group relative h-48 rounded-2xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-white/10 hover:border-accent-secondary/50 p-6 flex flex-col justify-between cursor-pointer transition-all hover:translate-y-[-4px] hover:shadow-xl overflow-hidden active:scale-[0.99]",children:[v.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity pointer-events-none",children:v.jsx(jv,{className:"w-24 h-24"})}),v.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:v.jsx("button",{onClick:we=>B(we,P.id,P.title),className:"p-2 text-slate-500 hover:text-amber-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Leave Board",children:v.jsx(_R,{size:18})})}),v.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"h-7 mb-2",children:v.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${P.myRole==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:P.myRole==="editor"?" Editor":" Viewer"})}),v.jsx("h3",{className:"text-xl font-bold text-white mb-1 line-clamp-1 pr-8",children:P.title}),P.ownerName&&v.jsxs("div",{className:"text-xs text-slate-500 mb-1.5",children:["Shared by ",v.jsx("span",{className:"text-slate-400",children:P.ownerName})]}),v.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[v.jsx(Fd,{className:"w-3.5 h-3.5"}),P.createdAt?.toDate?P.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),v.jsx("div",{className:"mt-4",children:v.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-secondary/10 text-accent-secondary border border-accent-secondary/20 group-hover:bg-accent-secondary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},P.id)})})]})]}),p&&v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{b?x(null):y(!1)}}),v.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[v.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center shrink-0",children:[v.jsx("h2",{className:"text-xl font-bold text-white",children:b?S[b].name:"Choose a Template"}),v.jsx("button",{onClick:()=>{b?x(null):y(!1)},className:"text-slate-400 hover:text-white",children:v.jsx(qd,{className:"w-6 h-6 rotate-45"})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:b?v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Grid Size"}),v.jsx("div",{className:"grid grid-cols-4 gap-2",children:k.map(({size:P,label:D,icon:be})=>v.jsxs("button",{onClick:()=>V(P),className:`p-3 rounded-xl border text-center transition-all ${C===P?"bg-accent-primary/20 border-accent-primary text-white":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10 hover:text-white"}`,children:[v.jsx("span",{className:"text-lg block",children:be}),v.jsx("span",{className:"font-bold text-sm",children:D}),v.jsxs("span",{className:"text-[10px] block opacity-70",children:[P*P," tiles"]})]},P))})]}),v.jsx("div",{className:"flex justify-center",children:v.jsx("div",{className:`aspect-square w-full max-w-[380px] grid gap-1.5 p-3 bg-slate-950/50 rounded-xl border border-white/10 ${C===3?"grid-cols-3":C===4?"grid-cols-4":C===5?"grid-cols-5":"grid-cols-6"}`,children:(()=>{const P=C*C,D=C%2===1?Math.floor(P/2):-1,be=S[b].items.filter(we=>we.trim().toUpperCase()!=="FREE SPACE");return Array.from({length:P},(we,J)=>{const X=J===D&&C%2===1,G=J<D||D===-1?J:J-1,K=X?"FREE":be[G%be.length]||`Goal ${J+1}`;return v.jsx("div",{className:`
                                                                relative rounded-lg flex items-center justify-center p-1 text-center select-none overflow-hidden 
                                                                ${C<=4?"text-[9px] sm:text-[11px]":"text-[7px] sm:text-[9px]"}
                                                                leading-tight font-medium border shadow-sm
                                                                ${X?"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold":"bg-white/5 border-white/10 text-slate-300"}
                                                            `,children:v.jsx("span",{className:"line-clamp-2",children:K})},J)})})()})}),v.jsxs("div",{className:"flex gap-3 pt-4",children:[v.jsx("button",{onClick:()=>x(null),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Back"}),v.jsxs("button",{onClick:()=>M(b),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all",children:["Create ",C,"",C," Board"]})]})]}):v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(S).map(([P,D])=>v.jsxs("button",{onClick:()=>x(P),className:"flex flex-col items-start p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent-primary/50 transition-all text-left group",children:[v.jsx("h3",{className:"font-bold text-white group-hover:text-accent-primary transition-colors",children:D.name}),v.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click to preview"})]},P))})})]})]})]})},fB=()=>{const{settings:t}=ah(),e=I.useRef(null),n=I.useRef(null),s=I.useRef([]),a=I.useMemo(()=>{switch(t.theme){case"midnight":return{type:"stars",particleCount:150,baseColor:"rgba(100, 150, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #0a1628 0%, #020617 50%, #000 100%)",shootingStars:!0};case"forest":return{type:"leaves",particleCount:40,baseColor:"rgba(100, 200, 120, ",bgGradient:"radial-gradient(ellipse at 30% 80%, #0a3d1a 0%, #052e16 50%, #021a09 100%)",shootingStars:!1};case"ocean":return{type:"bubbles",particleCount:60,baseColor:"rgba(100, 220, 255, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #0c4a5e 0%, #083344 50%, #041825 100%)",shootingStars:!1};case"sunset":return{type:"embers",particleCount:50,baseColor:"rgba(255, 150, 80, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #4a1a00 0%, #2a0a0a 50%, #1a0505 100%)",shootingStars:!1};default:return{type:"aurora",particleCount:80,baseColor:"rgba(180, 120, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1a1040 0%, #0f111a 50%, #0a0b10 100%)",shootingStars:!1}}},[t.theme]);return I.useEffect(()=>{const l=e.current;if(!l)return;const u=()=>{const m=[];for(let p=0;p<a.particleCount;p++)m.push(dB(l.width,l.height,a.type));s.current=m},f=()=>{l.width=window.innerWidth,l.height=window.innerHeight,u()};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[a]),I.useEffect(()=>{if(t.enableAnimation===!1)return;const l=e.current;if(!l)return;const u=l.getContext("2d");if(!u)return;let f=0,m=null;const p=()=>{u.clearRect(0,0,l.width,l.height),s.current.forEach(y=>{mB(y,l.width,l.height,a.type),pB(u,y,a)}),a.shootingStars&&(f++,f>300&&Math.random()<.01&&(m={x:Math.random()*l.width,y:Math.random()*l.height*.5,length:80+Math.random()*40,speed:15+Math.random()*10,opacity:1},f=0),m&&(u.beginPath(),u.strokeStyle=`rgba(255, 255, 255, ${m.opacity})`,u.lineWidth=2,u.moveTo(m.x,m.y),u.lineTo(m.x-m.length,m.y-m.length*.3),u.stroke(),m.x+=m.speed,m.y+=m.speed*.3,m.opacity-=.02,m.opacity<=0&&(m=null))),n.current=requestAnimationFrame(p)};return p(),()=>{n.current&&cancelAnimationFrame(n.current)}},[t.enableAnimation,a]),v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 z-[-2] transition-all duration-1000",style:{background:a.bgGradient}}),v.jsx("canvas",{ref:e,className:"fixed inset-0 z-[-1] pointer-events-none",style:{opacity:t.enableAnimation===!1?0:.8}}),v.jsxs("div",{className:"fixed inset-0 z-[-1] pointer-events-none overflow-hidden",children:[v.jsx("div",{className:`absolute w-[600px] h-[600px] rounded-full blur-[120px] animate-float-slow ${t.theme==="midnight"?"bg-blue-500/10":t.theme==="forest"?"bg-green-500/10":t.theme==="ocean"?"bg-cyan-500/10":t.theme==="sunset"?"bg-orange-500/10":"bg-purple-500/10"}`,style:{top:"-15%",left:"-10%"}}),v.jsx("div",{className:`absolute w-[500px] h-[500px] rounded-full blur-[100px] animate-float-slower ${t.theme==="midnight"?"bg-indigo-500/10":t.theme==="forest"?"bg-emerald-500/10":t.theme==="ocean"?"bg-teal-500/10":t.theme==="sunset"?"bg-rose-500/10":"bg-pink-500/10"}`,style:{bottom:"-10%",right:"-5%"}})]})]})};function dB(t,e,n){const s={x:Math.random()*t,y:Math.random()*e,opacity:Math.random()*.5+.2};switch(n){case"stars":return{...s,size:Math.random()*2+.5,speedX:0,speedY:0,opacity:Math.random()*.8+.2};case"leaves":return{...s,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.8+.3,hue:Math.random()*40+80};case"bubbles":return{...s,size:Math.random()*8+2,speedX:Math.random()*.3-.15,speedY:-(Math.random()*.8+.3)};case"embers":return{...s,size:Math.random()*3+1,speedX:Math.random()*.4-.2,speedY:-(Math.random()*1+.5),hue:Math.random()*30+15};default:return{...s,size:Math.random()*4+1,speedX:Math.random()*.3-.15,speedY:Math.random()*.2-.1,hue:Math.random()*60+240}}}function mB(t,e,n,s){t.x+=t.speedX,t.y+=t.speedY,s==="stars"&&(t.opacity+=(Math.random()-.5)*.05,t.opacity=Math.max(.1,Math.min(1,t.opacity))),t.x<0&&(t.x=e),t.x>e&&(t.x=0),t.y<0&&(t.y=n),t.y>n&&(t.y=0)}function pB(t,e,n){switch(t.beginPath(),n.type){case"stars":t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill(),e.opacity>.7&&(t.beginPath(),t.fillStyle=`rgba(200, 220, 255, ${e.opacity*.3})`,t.arc(e.x,e.y,e.size*3,0,Math.PI*2),t.fill());break;case"leaves":t.fillStyle=`hsla(${e.hue}, 60%, 50%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.5,e.x*.01,0,Math.PI*2),t.fill();break;case"bubbles":t.strokeStyle=n.baseColor+`${e.opacity})`,t.lineWidth=1,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.stroke(),t.beginPath(),t.fillStyle=`rgba(255, 255, 255, ${e.opacity*.5})`,t.arc(e.x-e.size*.3,e.y-e.size*.3,e.size*.2,0,Math.PI*2),t.fill();break;case"embers":const s=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size);s.addColorStop(0,`hsla(${e.hue}, 100%, 70%, ${e.opacity})`),s.addColorStop(1,`hsla(${e.hue}, 100%, 50%, 0)`),t.fillStyle=s,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill();break;default:const a=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size*2);a.addColorStop(0,`hsla(${e.hue}, 80%, 60%, ${e.opacity})`),a.addColorStop(1,`hsla(${e.hue}, 80%, 60%, 0)`),t.fillStyle=a,t.arc(e.x,e.y,e.size*2,0,Math.PI*2),t.fill();break}}const su=({title:t,icon:e,children:n,delay:s=0})=>v.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s},className:"bg-white/5 border border-white/10 rounded-2xl p-6 backdrop-blur-sm hover:bg-white/10 transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx("div",{className:"p-2 bg-accent-primary/20 rounded-lg text-accent-primary",children:v.jsx(e,{size:24})}),v.jsx("h3",{className:"text-xl font-bold text-white",children:t})]}),v.jsx("div",{className:"text-slate-300 space-y-3 leading-relaxed",children:n})]}),sy=({number:t,title:e,text:n})=>v.jsxs("div",{className:"flex gap-4",children:[v.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-slate-800 border border-white/20 flex items-center justify-center font-bold text-sm text-white",children:t}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-white mb-1",children:e}),v.jsx("p",{className:"text-sm text-slate-400",children:n})]})]}),gB=()=>{const t=ju();return v.jsx("div",{className:"min-h-screen bg-transparent text-white p-6 relative overflow-x-hidden",children:v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsxs(nt.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t("/dashboard"),className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors mb-8 group",children:[v.jsx(b9,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),v.jsxs("div",{className:"text-center mb-16",children:[v.jsx(nt.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-accent-primary to-accent-secondary mb-6 shadow-2xl shadow-accent-primary/20",children:v.jsx(Bd,{size:40,className:"text-white"})}),v.jsxs(nt.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl sm:text-5xl font-extrabold mb-4",children:["How to ",v.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:"Bingo"})]}),v.jsx(nt.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-xl text-slate-400 max-w-2xl mx-auto",children:"Your complete guide to mastering the art of 2026 Bingo. Turn your goals into a game!"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-24",children:[v.jsxs(su,{title:"Getting Started",icon:wR,delay:.3,children:[v.jsx("p",{children:"Welcome to your digital accountability partner! The app is designed to make achieving your 2026 goals fun and social."}),v.jsxs("div",{className:"mt-4 space-y-4",children:[v.jsx(sy,{number:1,title:"Sign Up",text:"You're already here! Your account is safe with us."}),v.jsx(sy,{number:2,title:"Create a Board",text:"Choose a template or start from scratch."}),v.jsx(sy,{number:3,title:"Invite Friends",text:"Everything is better together."})]})]}),v.jsxs(su,{title:"Creating Boards",icon:jv,delay:.4,children:[v.jsx("p",{children:"Your board is your battlefield. You can customize it to fit your exact needs."}),v.jsxs("div",{className:"mt-4 bg-black/20 rounded-xl p-4 border border-white/5",children:[v.jsxs("h4",{className:"font-semibold text-accent-gold mb-2 flex items-center gap-2",children:[v.jsx(V9,{size:16})," Pro Tips:"]}),v.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-slate-400",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"3x3 Grid:"})," Quick, focused mini-goals."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"5x5 Grid:"})," The classic Bingo experience."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Templates:"})," We have pre-made ideas for inspiration!"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Shuffle:"})," Don't like the layout? Hit shuffle before locking."]})]})]})]}),v.jsxs(su,{title:"Playing the Game",icon:EE,delay:.5,children:[v.jsx("p",{children:"Once your board is finalized, the fun begins. Tap a tile to interact with it."}),v.jsxs("div",{className:"space-y-3 mt-4",children:[v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(nd,{className:"text-accent-secondary shrink-0 mt-1",size:18}),v.jsxs("div",{children:[v.jsx("span",{className:"text-white font-medium",children:"Add Proof:"}),v.jsx("p",{className:"text-sm",children:'Upload a photo to mark a tile as "In Progress" or "Completed".'})]})]}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(EE,{className:"text-green-400 shrink-0 mt-1",size:18}),v.jsxs("div",{children:[v.jsx("span",{className:"text-white font-medium",children:"Mark Complete:"}),v.jsx("p",{className:"text-sm",children:`Tap "Mark Complete" when you're done. Watch the tile light up!`})]})]})]})]}),v.jsxs(su,{title:"Shared Boards",icon:id,delay:.6,children:[v.jsx("p",{children:"Compete or collaborate with friends on the same board."}),v.jsxs("div",{className:"mt-4 space-y-2 text-sm",children:[v.jsxs("p",{children:[" ",v.jsx("strong",{children:"Invite Users:"})," Click the share icon and add friends by email."]}),v.jsxs("p",{children:[" ",v.jsx("strong",{children:"Competition:"})," See who completes tiles first. The tile will show the name of the winner!"]}),v.jsxs("p",{children:[" ",v.jsx("strong",{children:"Live Updates:"})," Watch changes happen in real-time."]})]})]}),v.jsxs(su,{title:"Advanced Features",icon:Lv,delay:.7,children:[v.jsx("p",{children:"Customize your experience in the settings menu."}),v.jsxs("ul",{className:"mt-2 space-y-2 text-sm text-slate-400",children:[v.jsxs("li",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary"}),"Toggle sound effects on/off"]}),v.jsxs("li",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary"}),"Switch dynamic backgrounds"]}),v.jsxs("li",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary"}),"Edit incomplete boards anytime"]})]})]}),v.jsx("div",{className:"md:col-span-2 mt-8",children:v.jsxs("div",{className:"bg-gradient-to-r from-accent-primary/10 to-accent-secondary/10 border border-white/10 rounded-2xl p-8 text-center relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-accent-primary to-accent-secondary"}),v.jsx(Ov,{className:"w-12 h-12 text-white mx-auto mb-4 opacity-80"}),v.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Ready to start?"}),v.jsx("p",{className:"text-slate-400 mb-6",children:"Create your first board and start your journey."}),v.jsx("button",{onClick:()=>t("/dashboard"),className:"px-8 py-3 bg-white text-bg-dark font-bold rounded-xl hover:bg-slate-200 transition-colors shadow-lg shadow-white/10",children:"Go to Dashboard"})]})})]})]})})},yB=()=>{const{user:t,loading:e}=Wl();return e?v.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-bg-dark text-slate-500",children:"Initializing..."}):t?v.jsxs(v.Fragment,{children:[v.jsx(fB,{}),v.jsx($k,{children:v.jsxs(xk,{children:[v.jsx(uo,{path:"/",element:v.jsx(xx,{to:"/dashboard",replace:!0})}),v.jsx(uo,{path:"/dashboard",element:v.jsx(hB,{})}),v.jsx(uo,{path:"/board/legacy/:yearId",element:v.jsx(ME,{})}),v.jsx(uo,{path:"/board/:boardId",element:v.jsx(ME,{})}),v.jsx(uo,{path:"/help",element:v.jsx(gB,{})}),v.jsx(uo,{path:"*",element:v.jsx(xx,{to:"/dashboard",replace:!0})})]})})]}):v.jsx(sB,{})};function vB(){return v.jsx(kj,{children:v.jsx(iB,{children:v.jsx(fz,{children:v.jsx(yB,{})})})})}console.log("Main.tsx full run");const VE=document.getElementById("root");VE?EN.createRoot(VE).render(v.jsx(I.StrictMode,{children:v.jsx(vB,{})})):console.error("Root not found");export{xa as C,Gs as F,Yd as _,mn as a,sS as b,wo as c,Hi as d,ym as e,p0 as g,Ao as i,h0 as p,Ps as r,f0 as u};
