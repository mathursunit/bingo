(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function uM(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Cv={exports:{}},Dh={};var u1;function hM(){if(u1)return Dh;u1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:n,type:i,key:c,ref:s!==void 0?s:null,props:o}}return Dh.Fragment=e,Dh.jsx=t,Dh.jsxs=t,Dh}var h1;function dM(){return h1||(h1=1,Cv.exports=hM()),Cv.exports}var _=dM(),Nv={exports:{}},ze={};var d1;function fM(){if(d1)return ze;d1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function E(S){return S===null||typeof S!="object"?null:(S=w&&S[w]||S["@@iterator"],typeof S=="function"?S:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,C={};function B(S,W,se){this.props=S,this.context=W,this.refs=C,this.updater=se||R}B.prototype.isReactComponent={},B.prototype.setState=function(S,W){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,W,"setState")},B.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function H(){}H.prototype=B.prototype;function F(S,W,se){this.props=S,this.context=W,this.refs=C,this.updater=se||R}var $=F.prototype=new H;$.constructor=F,k($,B.prototype),$.isPureReactComponent=!0;var ie=Array.isArray;function le(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function P(S,W,se){var ue=se.ref;return{$$typeof:n,type:S,key:W,ref:ue!==void 0?ue:null,props:se}}function L(S,W){return P(S.type,W,S.props)}function O(S){return typeof S=="object"&&S!==null&&S.$$typeof===n}function z(S){var W={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(se){return W[se]})}var M=/\/+/g;function ge(S,W){return typeof S=="object"&&S!==null&&S.key!=null?z(""+S.key):W.toString(36)}function _e(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(le,le):(S.status="pending",S.then(function(W){S.status==="pending"&&(S.status="fulfilled",S.value=W)},function(W){S.status==="pending"&&(S.status="rejected",S.reason=W)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function U(S,W,se,ue,ve){var be=typeof S;(be==="undefined"||be==="boolean")&&(S=null);var me=!1;if(S===null)me=!0;else switch(be){case"bigint":case"string":case"number":me=!0;break;case"object":switch(S.$$typeof){case n:case e:me=!0;break;case g:return me=S._init,U(me(S._payload),W,se,ue,ve)}}if(me)return ve=ve(S),me=ue===""?"."+ge(S,0):ue,ie(ve)?(se="",me!=null&&(se=me.replace(M,"$&/")+"/"),U(ve,W,se,"",function(Qe){return Qe})):ve!=null&&(O(ve)&&(ve=L(ve,se+(ve.key==null||S&&S.key===ve.key?"":(""+ve.key).replace(M,"$&/")+"/")+me)),W.push(ve)),1;me=0;var Ie=ue===""?".":ue+":";if(ie(S))for(var Pe=0;Pe<S.length;Pe++)ue=S[Pe],be=Ie+ge(ue,Pe),me+=U(ue,W,se,be,ve);else if(Pe=E(S),typeof Pe=="function")for(S=Pe.call(S),Pe=0;!(ue=S.next()).done;)ue=ue.value,be=Ie+ge(ue,Pe++),me+=U(ue,W,se,be,ve);else if(be==="object"){if(typeof S.then=="function")return U(_e(S),W,se,ue,ve);throw W=String(S),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return me}function Z(S,W,se){if(S==null)return S;var ue=[],ve=0;return U(S,ue,"","",function(be){return W.call(se,be,ve++)}),ue}function K(S){if(S._status===-1){var W=S._result;W=W(),W.then(function(se){(S._status===0||S._status===-1)&&(S._status=1,S._result=se)},function(se){(S._status===0||S._status===-1)&&(S._status=2,S._result=se)}),S._status===-1&&(S._status=0,S._result=W)}if(S._status===1)return S._result.default;throw S._result}var ye=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},q={map:Z,forEach:function(S,W,se){Z(S,function(){W.apply(this,arguments)},se)},count:function(S){var W=0;return Z(S,function(){W++}),W},toArray:function(S){return Z(S,function(W){return W})||[]},only:function(S){if(!O(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return ze.Activity=v,ze.Children=q,ze.Component=B,ze.Fragment=t,ze.Profiler=s,ze.PureComponent=F,ze.StrictMode=i,ze.Suspense=d,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ze.__COMPILER_RUNTIME={__proto__:null,c:function(S){return N.H.useMemoCache(S)}},ze.cache=function(S){return function(){return S.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(S,W,se){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var ue=k({},S.props),ve=S.key;if(W!=null)for(be in W.key!==void 0&&(ve=""+W.key),W)!A.call(W,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&W.ref===void 0||(ue[be]=W[be]);var be=arguments.length-2;if(be===1)ue.children=se;else if(1<be){for(var me=Array(be),Ie=0;Ie<be;Ie++)me[Ie]=arguments[Ie+2];ue.children=me}return P(S.type,ve,ue)},ze.createContext=function(S){return S={$$typeof:c,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:o,_context:S},S},ze.createElement=function(S,W,se){var ue,ve={},be=null;if(W!=null)for(ue in W.key!==void 0&&(be=""+W.key),W)A.call(W,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=W[ue]);var me=arguments.length-2;if(me===1)ve.children=se;else if(1<me){for(var Ie=Array(me),Pe=0;Pe<me;Pe++)Ie[Pe]=arguments[Pe+2];ve.children=Ie}if(S&&S.defaultProps)for(ue in me=S.defaultProps,me)ve[ue]===void 0&&(ve[ue]=me[ue]);return P(S,be,ve)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(S){return{$$typeof:h,render:S}},ze.isValidElement=O,ze.lazy=function(S){return{$$typeof:g,_payload:{_status:-1,_result:S},_init:K}},ze.memo=function(S,W){return{$$typeof:f,type:S,compare:W===void 0?null:W}},ze.startTransition=function(S){var W=N.T,se={};N.T=se;try{var ue=S(),ve=N.S;ve!==null&&ve(se,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(le,ye)}catch(be){ye(be)}finally{W!==null&&se.types!==null&&(W.types=se.types),N.T=W}},ze.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ze.use=function(S){return N.H.use(S)},ze.useActionState=function(S,W,se){return N.H.useActionState(S,W,se)},ze.useCallback=function(S,W){return N.H.useCallback(S,W)},ze.useContext=function(S){return N.H.useContext(S)},ze.useDebugValue=function(){},ze.useDeferredValue=function(S,W){return N.H.useDeferredValue(S,W)},ze.useEffect=function(S,W){return N.H.useEffect(S,W)},ze.useEffectEvent=function(S){return N.H.useEffectEvent(S)},ze.useId=function(){return N.H.useId()},ze.useImperativeHandle=function(S,W,se){return N.H.useImperativeHandle(S,W,se)},ze.useInsertionEffect=function(S,W){return N.H.useInsertionEffect(S,W)},ze.useLayoutEffect=function(S,W){return N.H.useLayoutEffect(S,W)},ze.useMemo=function(S,W){return N.H.useMemo(S,W)},ze.useOptimistic=function(S,W){return N.H.useOptimistic(S,W)},ze.useReducer=function(S,W,se){return N.H.useReducer(S,W,se)},ze.useRef=function(S){return N.H.useRef(S)},ze.useState=function(S){return N.H.useState(S)},ze.useSyncExternalStore=function(S,W,se){return N.H.useSyncExternalStore(S,W,se)},ze.useTransition=function(){return N.H.useTransition()},ze.version="19.2.3",ze}var f1;function N_(){return f1||(f1=1,Nv.exports=fM()),Nv.exports}var V=N_();const up=uM(V);var Dv={exports:{}},kh={},kv={exports:{}},Pv={};var m1;function mM(){return m1||(m1=1,(function(n){function e(U,Z){var K=U.length;U.push(Z);e:for(;0<K;){var ye=K-1>>>1,q=U[ye];if(0<s(q,Z))U[ye]=Z,U[K]=q,K=ye;else break e}}function t(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var Z=U[0],K=U.pop();if(K!==Z){U[0]=K;e:for(var ye=0,q=U.length,S=q>>>1;ye<S;){var W=2*(ye+1)-1,se=U[W],ue=W+1,ve=U[ue];if(0>s(se,K))ue<q&&0>s(ve,se)?(U[ye]=ve,U[ue]=K,ye=ue):(U[ye]=se,U[W]=K,ye=W);else if(ue<q&&0>s(ve,K))U[ye]=ve,U[ue]=K,ye=ue;else break e}}return Z}function s(U,Z){var K=U.sortIndex-Z.sortIndex;return K!==0?K:U.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var d=[],f=[],g=1,v=null,w=3,E=!1,R=!1,k=!1,C=!1,B=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function $(U){for(var Z=t(f);Z!==null;){if(Z.callback===null)i(f);else if(Z.startTime<=U)i(f),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=t(f)}}function ie(U){if(k=!1,$(U),!R)if(t(d)!==null)R=!0,le||(le=!0,z());else{var Z=t(f);Z!==null&&_e(ie,Z.startTime-U)}}var le=!1,N=-1,A=5,P=-1;function L(){return C?!0:!(n.unstable_now()-P<A)}function O(){if(C=!1,le){var U=n.unstable_now();P=U;var Z=!0;try{e:{R=!1,k&&(k=!1,H(N),N=-1),E=!0;var K=w;try{t:{for($(U),v=t(d);v!==null&&!(v.expirationTime>U&&L());){var ye=v.callback;if(typeof ye=="function"){v.callback=null,w=v.priorityLevel;var q=ye(v.expirationTime<=U);if(U=n.unstable_now(),typeof q=="function"){v.callback=q,$(U),Z=!0;break t}v===t(d)&&i(d),$(U)}else i(d);v=t(d)}if(v!==null)Z=!0;else{var S=t(f);S!==null&&_e(ie,S.startTime-U),Z=!1}}break e}finally{v=null,w=K,E=!1}Z=void 0}}finally{Z?z():le=!1}}}var z;if(typeof F=="function")z=function(){F(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,ge=M.port2;M.port1.onmessage=O,z=function(){ge.postMessage(null)}}else z=function(){B(O,0)};function _e(U,Z){N=B(function(){U(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(U){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var K=w;w=Z;try{return U()}finally{w=K}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var K=w;w=U;try{return Z()}finally{w=K}},n.unstable_scheduleCallback=function(U,Z,K){var ye=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ye+K:ye):K=ye,U){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=K+q,U={id:g++,callback:Z,priorityLevel:U,startTime:K,expirationTime:q,sortIndex:-1},K>ye?(U.sortIndex=K,e(f,U),t(d)===null&&U===t(f)&&(k?(H(N),N=-1):k=!0,_e(ie,K-ye))):(U.sortIndex=q,e(d,U),R||E||(R=!0,le||(le=!0,z()))),U},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(U){var Z=w;return function(){var K=w;w=Z;try{return U.apply(this,arguments)}finally{w=K}}}})(Pv)),Pv}var p1;function pM(){return p1||(p1=1,kv.exports=mM()),kv.exports}var Vv={exports:{}},Fn={};var g1;function gM(){if(g1)return Fn;g1=1;var n=N_();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,f,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:d,containerInfo:f,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Fn.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,g)},Fn.flushSync=function(d){var f=c.T,g=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=f,i.p=g,i.d.f()}},Fn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},Fn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Fn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,v=h(g,f.crossOrigin),w=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:E}):g==="script"&&i.d.X(d,{crossOrigin:v,integrity:w,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Fn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=h(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},Fn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,v=h(g,f.crossOrigin);i.d.L(d,g,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Fn.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=h(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},Fn.requestFormReset=function(d){i.d.r(d)},Fn.unstable_batchedUpdates=function(d,f){return d(f)},Fn.useFormState=function(d,f,g){return c.H.useFormState(d,f,g)},Fn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Fn.version="19.2.3",Fn}var y1;function yM(){if(y1)return Vv.exports;y1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vv.exports=gM(),Vv.exports}var v1;function vM(){if(v1)return kh;v1=1;var n=pM(),e=N_(),t=yM();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function h(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(i(188))}function f(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var l=r,u=a;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return d(p),r;if(y===u)return d(p),a;y=y.sibling}throw Error(i(188))}if(l.return!==u.return)l=p,u=y;else{for(var T=!1,I=p.child;I;){if(I===l){T=!0,l=p,u=y;break}if(I===u){T=!0,u=p,l=y;break}I=I.sibling}if(!T){for(I=y.child;I;){if(I===l){T=!0,l=y,u=p;break}if(I===u){T=!0,u=y,l=p;break}I=I.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:a}function g(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=g(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function ge(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case B:return"Profiler";case C:return"StrictMode";case ie:return"Suspense";case le:return"SuspenseList";case P:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case R:return"Portal";case F:return r.displayName||"Context";case H:return(r._context.displayName||"Context")+".Consumer";case $:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return a=r.displayName||null,a!==null?a:ge(r.type)||"Memo";case A:a=r._payload,r=r._init;try{return ge(r(a))}catch{}}return null}var _e=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ye=[],q=-1;function S(r){return{current:r}}function W(r){0>q||(r.current=ye[q],ye[q]=null,q--)}function se(r,a){q++,ye[q]=r.current,r.current=a}var ue=S(null),ve=S(null),be=S(null),me=S(null);function Ie(r,a){switch(se(be,a),se(ve,r),se(ue,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?PE(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=PE(a),r=VE(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}W(ue),se(ue,r)}function Pe(){W(ue),W(ve),W(be)}function Qe(r){r.memoizedState!==null&&se(me,r);var a=ue.current,l=VE(a,r.type);a!==l&&(se(ve,r),se(ue,l))}function $e(r){ve.current===r&&(W(ue),W(ve)),me.current===r&&(W(me),Ih._currentValue=K)}var Ye,Nt;function je(r){if(Ye===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ye=a&&a[1]||"",Nt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ye+r+Nt}var mt=!1;function Jt(r,a){if(!r||mt)return"";mt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(oe){var re=oe}Reflect.construct(r,[],fe)}else{try{fe.call()}catch(oe){re=oe}r.call(fe.prototype)}}else{try{throw Error()}catch(oe){re=oe}(fe=r())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(oe){if(oe&&re&&typeof oe.stack=="string")return[oe.stack,re.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),T=y[0],I=y[1];if(T&&I){var j=T.split(`
`),te=I.split(`
`);for(p=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;p<te.length&&!te[p].includes("DetermineComponentFrameRoot");)p++;if(u===j.length||p===te.length)for(u=j.length-1,p=te.length-1;1<=u&&0<=p&&j[u]!==te[p];)p--;for(;1<=u&&0<=p;u--,p--)if(j[u]!==te[p]){if(u!==1||p!==1)do if(u--,p--,0>p||j[u]!==te[p]){var ce=`
`+j[u].replace(" at new "," at ");return r.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",r.displayName)),ce}while(1<=u&&0<=p);break}}}finally{mt=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?je(l):""}function Zt(r,a){switch(r.tag){case 26:case 27:case 5:return je(r.type);case 16:return je("Lazy");case 13:return r.child!==a&&a!==null?je("Suspense Fallback"):je("Suspense");case 19:return je("SuspenseList");case 0:case 15:return Jt(r.type,!1);case 11:return Jt(r.type.render,!1);case 1:return Jt(r.type,!0);case 31:return je("Activity");default:return""}}function Dn(r){try{var a="",l=null;do a+=Zt(r,l),l=r,r=r.return;while(r);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var pt=Object.prototype.hasOwnProperty,rt=n.unstable_scheduleCallback,Vi=n.unstable_cancelCallback,yo=n.unstable_shouldYield,Qs=n.unstable_requestPaint,ln=n.unstable_now,Un=n.unstable_getCurrentPriorityLevel,Qn=n.unstable_ImmediatePriority,ti=n.unstable_UserBlockingPriority,Bn=n.unstable_NormalPriority,as=n.unstable_LowPriority,Ir=n.unstable_IdlePriority,Rr=n.log,sr=n.unstable_setDisableYieldValue,ct=null,Ht=null;function Yn(r){if(typeof Rr=="function"&&sr(r),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ct,r)}catch{}}var Dt=Math.clz32?Math.clz32:vo,os=Math.log,Mi=Math.LN2;function vo(r){return r>>>=0,r===0?32:31-(os(r)/Mi|0)|0}var gi=256,Oi=262144,Qt=4194304;function yi(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Li(r,a,l){var u=r.pendingLanes;if(u===0)return 0;var p=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var I=u&134217727;return I!==0?(u=I&~y,u!==0?p=yi(u):(T&=I,T!==0?p=yi(T):l||(l=I&~r,l!==0&&(p=yi(l))))):(I=u&~y,I!==0?p=yi(I):T!==0?p=yi(T):l||(l=u&~r,l!==0&&(p=yi(l)))),p===0?0:a!==0&&a!==p&&(a&y)===0&&(y=p&-p,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:p}function ni(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function _o(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ys(){var r=Qt;return Qt<<=1,(Qt&62914560)===0&&(Qt=4194304),r}function ji(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function ls(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Pu(r,a,l,u,p,y){var T=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var I=r.entanglements,j=r.expirationTimes,te=r.hiddenUpdates;for(l=T&~l;0<l;){var ce=31-Dt(l),fe=1<<ce;I[ce]=0,j[ce]=-1;var re=te[ce];if(re!==null)for(te[ce]=null,ce=0;ce<re.length;ce++){var oe=re[ce];oe!==null&&(oe.lane&=-536870913)}l&=~fe}u!==0&&Cr(r,u,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~a))}function Cr(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-Dt(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|l&261930}function bo(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var u=31-Dt(l),p=1<<u;p&a|r[u]&a&&(r[u]|=a),l&=~p}}function wo(r,a){var l=a&-a;return l=(l&42)!==0?1:Ws(l),(l&(r.suspendedLanes|a))!==0?0:l}function Ws(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ui(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Xs(){var r=Z.p;return r!==0?r:(r=window.event,r===void 0?32:i1(r.type))}function Wn(r,a){var l=Z.p;try{return Z.p=r,a()}finally{Z.p=l}}var vi=Math.random().toString(36).slice(2),Y="__reactFiber$"+vi,Se="__reactProps$"+vi,gt="__reactContainer$"+vi,jt="__reactEvents$"+vi,cn="__reactListeners$"+vi,zn="__reactHandles$"+vi,ar="__reactResources$"+vi,_i="__reactMarker$"+vi;function kl(r){delete r[Y],delete r[Se],delete r[jt],delete r[cn],delete r[zn]}function Nr(r){var a=r[Y];if(a)return a;for(var l=r.parentNode;l;){if(a=l[gt]||l[Y]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=zE(r);r!==null;){if(l=r[Y])return l;r=zE(r)}return a}r=l,l=r.parentNode}return null}function Bi(r){if(r=r[Y]||r[gt]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function bi(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Dr(r){var a=r[ar];return a||(a=r[ar]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function un(r){r[_i]=!0}var Vu=new Set,Mu={};function kr(r,a){Pr(r,a),Pr(r+"Capture",a)}function Pr(r,a){for(Mu[r]=a,r=0;r<a.length;r++)Vu.add(a[r])}var Ou=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lu={},ju={};function sf(r){return pt.call(ju,r)?!0:pt.call(Lu,r)?!1:Ou.test(r)?ju[r]=!0:(Lu[r]=!0,!1)}function Pl(r,a,l){if(sf(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function wi(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function hn(r,a,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+u)}}function Sn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Js(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Uu(r,a,l){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return p.call(this)},set:function(T){l=""+T,y.call(this,T)}}),Object.defineProperty(r,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function yt(r){if(!r._valueTracker){var a=Js(r)?"checked":"value";r._valueTracker=Uu(r,a,""+r[a])}}function To(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return r&&(u=Js(r)?r.checked?"true":"false":r.value),r=u,r!==l?(a.setValue(r),!0):!1}function Vr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var xo=/[\n"\\]/g;function ii(r){return r.replace(xo,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Vl(r,a,l,u,p,y,T,I){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),a!=null?T==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Sn(a)):r.value!==""+Sn(a)&&(r.value=""+Sn(a)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),a!=null?Bu(r,T,Sn(a)):l!=null?Bu(r,T,Sn(l)):u!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+Sn(I):r.removeAttribute("name")}function af(r,a,l,u,p,y,T,I){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){yt(r);return}l=l!=null?""+Sn(l):"",a=a!=null?""+Sn(a):l,I||a===r.value||(r.value=a),r.defaultValue=a}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=I?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T),yt(r)}function Bu(r,a,l){a==="number"&&Vr(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Zs(r,a,l,u){if(r=r.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=a.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&u&&(r[l].defaultSelected=!0)}else{for(l=""+Sn(l),a=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,u&&(r[p].defaultSelected=!0);return}a!==null||r[p].disabled||(a=r[p])}a!==null&&(a.selected=!0)}}function of(r,a,l){if(a!=null&&(a=""+Sn(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+Sn(l):""}function ea(r,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(_e(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Sn(a),r.defaultValue=l,u=r.textContent,u===l&&u!==""&&u!==null&&(r.value=u),yt(r)}function ri(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var lf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zu(r,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,l):typeof l!="number"||l===0||lf.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function Fu(r,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var p in a)u=a[p],a.hasOwnProperty(p)&&l[p]!==u&&zu(r,p,u)}else for(var y in a)a.hasOwnProperty(y)&&zu(r,y,a[y])}function Ml(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ta=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ol(r){return ta.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function or(){}var qu=null;function zi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var na=null,Mr=null;function Eo(r){var a=Bi(r);if(a&&(r=a.stateNode)){var l=r[Se]||null;e:switch(r=a.stateNode,a.type){case"input":if(Vl(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ii(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==r&&u.form===r.form){var p=u[Se]||null;if(!p)throw Error(i(90));Vl(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===r.form&&To(u)}break e;case"textarea":of(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Zs(r,!!l.multiple,a,!1)}}}var Ll=!1;function ia(r,a,l){if(Ll)return r(a,l);Ll=!0;try{var u=r(a);return u}finally{if(Ll=!1,(na!==null||Mr!==null)&&(nm(),na&&(a=na,r=Mr,Mr=na=null,Eo(a),r)))for(a=0;a<r.length;a++)Eo(r[a])}}function lr(r,a){var l=r.stateNode;if(l===null)return null;var u=l[Se]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),So=!1;if(Fi)try{var xt={};Object.defineProperty(xt,"passive",{get:function(){So=!0}}),window.addEventListener("test",xt,xt),window.removeEventListener("test",xt,xt)}catch{So=!1}var Or=null,Gu=null,Ao=null;function Hu(){if(Ao)return Ao;var r,a=Gu,l=a.length,u,p="value"in Or?Or.value:Or.textContent,y=p.length;for(r=0;r<l&&a[r]===p[r];r++);var T=l-r;for(u=1;u<=T&&a[l-u]===p[y-u];u++);return Ao=p.slice(r,1<u?1-u:void 0)}function Io(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function cs(){return!0}function cr(){return!1}function kn(r){function a(l,u,p,y,T){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(l=r[I],this[I]=l?l(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?cs:cr,this.isPropagationStopped=cr,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),a}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lr=kn(us),ra=v({},us,{view:0,detail:0}),$u=kn(ra),sa,jl,jr,Ul=v({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==jr&&(jr&&r.type==="mousemove"?(sa=r.screenX-jr.screenX,jl=r.screenY-jr.screenY):jl=sa=0,jr=r),sa)},movementY:function(r){return"movementY"in r?r.movementY:jl}}),Ku=kn(Ul),Ro=v({},Ul,{dataTransfer:0}),uf=kn(Ro),hf=v({},ra,{relatedTarget:0}),Co=kn(hf),Qu=v({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),df=kn(Qu),Bl=v({},us,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ff=kn(Bl),mf=v({},us,{data:0}),Ur=kn(mf),pf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vf(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=yf[r])?!!a[r]:!1}function aa(){return vf}var Xn=v({},ra,{key:function(r){if(r.key){var a=pf[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Io(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?gf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aa,charCode:function(r){return r.type==="keypress"?Io(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Io(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),_f=kn(Xn),bf=v({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hs=kn(bf),m=v({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aa}),b=kn(m),x=v({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=kn(x),J=v({},Ul,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ae=kn(J),Te=v({},us,{newState:0,oldState:0}),qe=kn(Te),en=[9,13,27,32],dt=Fi&&"CompositionEvent"in window,Ut=null;Fi&&"documentMode"in document&&(Ut=document.documentMode);var qi=Fi&&"TextEvent"in window&&!Ut,Br=Fi&&(!dt||Ut&&8<Ut&&11>=Ut),ur=" ",hr=!1;function No(r,a){switch(r){case"keyup":return en.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zl(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Fl=!1;function VP(r,a){switch(r){case"compositionend":return zl(a);case"keypress":return a.which!==32?null:(hr=!0,ur);case"textInput":return r=a.data,r===ur&&hr?null:r;default:return null}}function MP(r,a){if(Fl)return r==="compositionend"||!dt&&No(r,a)?(r=Hu(),Ao=Gu=Or=null,Fl=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Br&&a.locale!=="ko"?null:a.data;default:return null}}var OP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gw(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!OP[r.type]:a==="textarea"}function Hw(r,a,l,u){na?Mr?Mr.push(u):Mr=[u]:na=u,a=cm(a,"onChange"),0<a.length&&(l=new Lr("onChange","change",null,l,u),r.push({event:l,listeners:a}))}var Yu=null,Wu=null;function LP(r){IE(r,0)}function wf(r){var a=bi(r);if(To(a))return r}function $w(r,a){if(r==="change")return a}var Kw=!1;if(Fi){var Og;if(Fi){var Lg="oninput"in document;if(!Lg){var Qw=document.createElement("div");Qw.setAttribute("oninput","return;"),Lg=typeof Qw.oninput=="function"}Og=Lg}else Og=!1;Kw=Og&&(!document.documentMode||9<document.documentMode)}function Yw(){Yu&&(Yu.detachEvent("onpropertychange",Ww),Wu=Yu=null)}function Ww(r){if(r.propertyName==="value"&&wf(Wu)){var a=[];Hw(a,Wu,r,zi(r)),ia(LP,a)}}function jP(r,a,l){r==="focusin"?(Yw(),Yu=a,Wu=l,Yu.attachEvent("onpropertychange",Ww)):r==="focusout"&&Yw()}function UP(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return wf(Wu)}function BP(r,a){if(r==="click")return wf(a)}function zP(r,a){if(r==="input"||r==="change")return wf(a)}function FP(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Ti=typeof Object.is=="function"?Object.is:FP;function Xu(r,a){if(Ti(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!pt.call(a,p)||!Ti(r[p],a[p]))return!1}return!0}function Xw(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Jw(r,a){var l=Xw(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=a&&u>=a)return{node:l,offset:a-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Xw(l)}}function Zw(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Zw(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function eT(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Vr(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=Vr(r.document)}return a}function jg(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var qP=Fi&&"documentMode"in document&&11>=document.documentMode,ql=null,Ug=null,Ju=null,Bg=!1;function tT(r,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Bg||ql==null||ql!==Vr(u)||(u=ql,"selectionStart"in u&&jg(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ju&&Xu(Ju,u)||(Ju=u,u=cm(Ug,"onSelect"),0<u.length&&(a=new Lr("onSelect","select",null,a,l),r.push({event:a,listeners:u}),a.target=ql)))}function Do(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var Gl={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionrun:Do("Transition","TransitionRun"),transitionstart:Do("Transition","TransitionStart"),transitioncancel:Do("Transition","TransitionCancel"),transitionend:Do("Transition","TransitionEnd")},zg={},nT={};Fi&&(nT=document.createElement("div").style,"AnimationEvent"in window||(delete Gl.animationend.animation,delete Gl.animationiteration.animation,delete Gl.animationstart.animation),"TransitionEvent"in window||delete Gl.transitionend.transition);function ko(r){if(zg[r])return zg[r];if(!Gl[r])return r;var a=Gl[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in nT)return zg[r]=a[l];return r}var iT=ko("animationend"),rT=ko("animationiteration"),sT=ko("animationstart"),GP=ko("transitionrun"),HP=ko("transitionstart"),$P=ko("transitioncancel"),aT=ko("transitionend"),oT=new Map,Fg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fg.push("scrollEnd");function dr(r,a){oT.set(r,a),kr(a,[r])}var Tf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Gi=[],Hl=0,qg=0;function xf(){for(var r=Hl,a=qg=Hl=0;a<r;){var l=Gi[a];Gi[a++]=null;var u=Gi[a];Gi[a++]=null;var p=Gi[a];Gi[a++]=null;var y=Gi[a];if(Gi[a++]=null,u!==null&&p!==null){var T=u.pending;T===null?p.next=p:(p.next=T.next,T.next=p),u.pending=p}y!==0&&lT(l,p,y)}}function Ef(r,a,l,u){Gi[Hl++]=r,Gi[Hl++]=a,Gi[Hl++]=l,Gi[Hl++]=u,qg|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Gg(r,a,l,u){return Ef(r,a,l,u),Sf(r)}function Po(r,a){return Ef(r,null,null,a),Sf(r)}function lT(r,a,l){r.lanes|=l;var u=r.alternate;u!==null&&(u.lanes|=l);for(var p=!1,y=r.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,p&&a!==null&&(p=31-Dt(l),r=y.hiddenUpdates,u=r[p],u===null?r[p]=[a]:u.push(a),a.lane=l|536870912),y):null}function Sf(r){if(50<bh)throw bh=0,Zy=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var $l={};function KP(r,a,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(r,a,l,u){return new KP(r,a,l,u)}function Hg(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ds(r,a){var l=r.alternate;return l===null?(l=xi(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function cT(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Af(r,a,l,u,p,y){var T=0;if(u=r,typeof r=="function")Hg(r)&&(T=1);else if(typeof r=="string")T=JV(r,l,ue.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case P:return r=xi(31,l,a,p),r.elementType=P,r.lanes=y,r;case k:return Vo(l.children,p,y,a);case C:T=8,p|=24;break;case B:return r=xi(12,l,a,p|2),r.elementType=B,r.lanes=y,r;case ie:return r=xi(13,l,a,p),r.elementType=ie,r.lanes=y,r;case le:return r=xi(19,l,a,p),r.elementType=le,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:T=10;break e;case H:T=9;break e;case $:T=11;break e;case N:T=14;break e;case A:T=16,u=null;break e}T=29,l=Error(i(130,r===null?"null":typeof r,"")),u=null}return a=xi(T,l,a,p),a.elementType=r,a.type=u,a.lanes=y,a}function Vo(r,a,l,u){return r=xi(7,r,u,a),r.lanes=l,r}function $g(r,a,l){return r=xi(6,r,null,a),r.lanes=l,r}function uT(r){var a=xi(18,null,null,0);return a.stateNode=r,a}function Kg(r,a,l){return a=xi(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var hT=new WeakMap;function Hi(r,a){if(typeof r=="object"&&r!==null){var l=hT.get(r);return l!==void 0?l:(a={value:r,source:a,stack:Dn(a)},hT.set(r,a),a)}return{value:r,source:a,stack:Dn(a)}}var Kl=[],Ql=0,If=null,Zu=0,$i=[],Ki=0,oa=null,zr=1,Fr="";function fs(r,a){Kl[Ql++]=Zu,Kl[Ql++]=If,If=r,Zu=a}function dT(r,a,l){$i[Ki++]=zr,$i[Ki++]=Fr,$i[Ki++]=oa,oa=r;var u=zr;r=Fr;var p=32-Dt(u)-1;u&=~(1<<p),l+=1;var y=32-Dt(a)+p;if(30<y){var T=p-p%5;y=(u&(1<<T)-1).toString(32),u>>=T,p-=T,zr=1<<32-Dt(a)+p|l<<p|u,Fr=y+r}else zr=1<<y|l<<p|u,Fr=r}function Qg(r){r.return!==null&&(fs(r,1),dT(r,1,0))}function Yg(r){for(;r===If;)If=Kl[--Ql],Kl[Ql]=null,Zu=Kl[--Ql],Kl[Ql]=null;for(;r===oa;)oa=$i[--Ki],$i[Ki]=null,Fr=$i[--Ki],$i[Ki]=null,zr=$i[--Ki],$i[Ki]=null}function fT(r,a){$i[Ki++]=zr,$i[Ki++]=Fr,$i[Ki++]=oa,zr=a.id,Fr=a.overflow,oa=r}var Pn=null,Pt=null,st=!1,la=null,Qi=!1,Wg=Error(i(519));function ca(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw eh(Hi(a,r)),Wg}function mT(r){var a=r.stateNode,l=r.type,u=r.memoizedProps;switch(a[Y]=r,a[Se]=u,l){case"dialog":Ze("cancel",a),Ze("close",a);break;case"iframe":case"object":case"embed":Ze("load",a);break;case"video":case"audio":for(l=0;l<Th.length;l++)Ze(Th[l],a);break;case"source":Ze("error",a);break;case"img":case"image":case"link":Ze("error",a),Ze("load",a);break;case"details":Ze("toggle",a);break;case"input":Ze("invalid",a),af(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ze("invalid",a);break;case"textarea":Ze("invalid",a),ea(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||DE(a.textContent,l)?(u.popover!=null&&(Ze("beforetoggle",a),Ze("toggle",a)),u.onScroll!=null&&Ze("scroll",a),u.onScrollEnd!=null&&Ze("scrollend",a),u.onClick!=null&&(a.onclick=or),a=!0):a=!1,a||ca(r,!0)}function pT(r){for(Pn=r.return;Pn;)switch(Pn.tag){case 5:case 31:case 13:Qi=!1;return;case 27:case 3:Qi=!0;return;default:Pn=Pn.return}}function Yl(r){if(r!==Pn)return!1;if(!st)return pT(r),st=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||mv(r.type,r.memoizedProps)),l=!l),l&&Pt&&ca(r),pT(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Pt=BE(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Pt=BE(r)}else a===27?(a=Pt,xa(r.type)?(r=_v,_v=null,Pt=r):Pt=a):Pt=Pn?Wi(r.stateNode.nextSibling):null;return!0}function Mo(){Pt=Pn=null,st=!1}function Xg(){var r=la;return r!==null&&(li===null?li=r:li.push.apply(li,r),la=null),r}function eh(r){la===null?la=[r]:la.push(r)}var Jg=S(null),Oo=null,ms=null;function ua(r,a,l){se(Jg,a._currentValue),a._currentValue=l}function ps(r){r._currentValue=Jg.current,W(Jg)}function Zg(r,a,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===l)break;r=r.return}}function ey(r,a,l,u){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var T=p.child;y=y.firstContext;e:for(;y!==null;){var I=y;y=p;for(var j=0;j<a.length;j++)if(I.context===a[j]){y.lanes|=l,I=y.alternate,I!==null&&(I.lanes|=l),Zg(y.return,l,r),u||(T=null);break e}y=I.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),Zg(T,l,r),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===r){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Wl(r,a,l,u){r=null;for(var p=a,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var I=p.type;Ti(p.pendingProps.value,T.value)||(r!==null?r.push(I):r=[I])}}else if(p===me.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Ih):r=[Ih])}p=p.return}r!==null&&ey(a,r,l,u),a.flags|=262144}function Rf(r){for(r=r.firstContext;r!==null;){if(!Ti(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Lo(r){Oo=r,ms=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Vn(r){return gT(Oo,r)}function Cf(r,a){return Oo===null&&Lo(r),gT(r,a)}function gT(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ms===null){if(r===null)throw Error(i(308));ms=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else ms=ms.next=a;return l}var QP=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},YP=n.unstable_scheduleCallback,WP=n.unstable_NormalPriority,dn={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ty(){return{controller:new QP,data:new Map,refCount:0}}function th(r){r.refCount--,r.refCount===0&&YP(WP,function(){r.controller.abort()})}var nh=null,ny=0,Xl=0,Jl=null;function XP(r,a){if(nh===null){var l=nh=[];ny=0,Xl=sv(),Jl={status:"pending",value:void 0,then:function(u){l.push(u)}}}return ny++,a.then(yT,yT),a}function yT(){if(--ny===0&&nh!==null){Jl!==null&&(Jl.status="fulfilled");var r=nh;nh=null,Xl=0,Jl=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function JP(r,a){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var vT=U.S;U.S=function(r,a){tE=ln(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&XP(r,a),vT!==null&&vT(r,a)};var jo=S(null);function iy(){var r=jo.current;return r!==null?r:Ct.pooledCache}function Nf(r,a){a===null?se(jo,jo.current):se(jo,a.pool)}function _T(){var r=iy();return r===null?null:{parent:dn._currentValue,pool:r}}var Zl=Error(i(460)),ry=Error(i(474)),Df=Error(i(542)),kf={then:function(){}};function bT(r){return r=r.status,r==="fulfilled"||r==="rejected"}function wT(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(or,or),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,xT(r),r;default:if(typeof a.status=="string")a.then(or,or);else{if(r=Ct,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=u}},function(u){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,xT(r),r}throw Bo=a,Zl}}function Uo(r){try{var a=r._init;return a(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Bo=l,Zl):l}}var Bo=null;function TT(){if(Bo===null)throw Error(i(459));var r=Bo;return Bo=null,r}function xT(r){if(r===Zl||r===Df)throw Error(i(483))}var ec=null,ih=0;function Pf(r){var a=ih;return ih+=1,ec===null&&(ec=[]),wT(ec,r,a)}function rh(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Vf(r,a){throw a.$$typeof===w?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function ET(r){function a(Q,G){if(r){var ee=Q.deletions;ee===null?(Q.deletions=[G],Q.flags|=16):ee.push(G)}}function l(Q,G){if(!r)return null;for(;G!==null;)a(Q,G),G=G.sibling;return null}function u(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function p(Q,G){return Q=ds(Q,G),Q.index=0,Q.sibling=null,Q}function y(Q,G,ee){return Q.index=ee,r?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<G?(Q.flags|=67108866,G):ee):(Q.flags|=67108866,G)):(Q.flags|=1048576,G)}function T(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function I(Q,G,ee,he){return G===null||G.tag!==6?(G=$g(ee,Q.mode,he),G.return=Q,G):(G=p(G,ee),G.return=Q,G)}function j(Q,G,ee,he){var Me=ee.type;return Me===k?ce(Q,G,ee.props.children,he,ee.key):G!==null&&(G.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===A&&Uo(Me)===G.type)?(G=p(G,ee.props),rh(G,ee),G.return=Q,G):(G=Af(ee.type,ee.key,ee.props,null,Q.mode,he),rh(G,ee),G.return=Q,G)}function te(Q,G,ee,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==ee.containerInfo||G.stateNode.implementation!==ee.implementation?(G=Kg(ee,Q.mode,he),G.return=Q,G):(G=p(G,ee.children||[]),G.return=Q,G)}function ce(Q,G,ee,he,Me){return G===null||G.tag!==7?(G=Vo(ee,Q.mode,he,Me),G.return=Q,G):(G=p(G,ee),G.return=Q,G)}function fe(Q,G,ee){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=$g(""+G,Q.mode,ee),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return ee=Af(G.type,G.key,G.props,null,Q.mode,ee),rh(ee,G),ee.return=Q,ee;case R:return G=Kg(G,Q.mode,ee),G.return=Q,G;case A:return G=Uo(G),fe(Q,G,ee)}if(_e(G)||z(G))return G=Vo(G,Q.mode,ee,null),G.return=Q,G;if(typeof G.then=="function")return fe(Q,Pf(G),ee);if(G.$$typeof===F)return fe(Q,Cf(Q,G),ee);Vf(Q,G)}return null}function re(Q,G,ee,he){var Me=G!==null?G.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Me!==null?null:I(Q,G,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case E:return ee.key===Me?j(Q,G,ee,he):null;case R:return ee.key===Me?te(Q,G,ee,he):null;case A:return ee=Uo(ee),re(Q,G,ee,he)}if(_e(ee)||z(ee))return Me!==null?null:ce(Q,G,ee,he,null);if(typeof ee.then=="function")return re(Q,G,Pf(ee),he);if(ee.$$typeof===F)return re(Q,G,Cf(Q,ee),he);Vf(Q,ee)}return null}function oe(Q,G,ee,he,Me){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(ee)||null,I(G,Q,""+he,Me);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case E:return Q=Q.get(he.key===null?ee:he.key)||null,j(G,Q,he,Me);case R:return Q=Q.get(he.key===null?ee:he.key)||null,te(G,Q,he,Me);case A:return he=Uo(he),oe(Q,G,ee,he,Me)}if(_e(he)||z(he))return Q=Q.get(ee)||null,ce(G,Q,he,Me,null);if(typeof he.then=="function")return oe(Q,G,ee,Pf(he),Me);if(he.$$typeof===F)return oe(Q,G,ee,Cf(G,he),Me);Vf(G,he)}return null}function Re(Q,G,ee,he){for(var Me=null,ut=null,ke=G,He=G=0,tt=null;ke!==null&&He<ee.length;He++){ke.index>He?(tt=ke,ke=null):tt=ke.sibling;var ht=re(Q,ke,ee[He],he);if(ht===null){ke===null&&(ke=tt);break}r&&ke&&ht.alternate===null&&a(Q,ke),G=y(ht,G,He),ut===null?Me=ht:ut.sibling=ht,ut=ht,ke=tt}if(He===ee.length)return l(Q,ke),st&&fs(Q,He),Me;if(ke===null){for(;He<ee.length;He++)ke=fe(Q,ee[He],he),ke!==null&&(G=y(ke,G,He),ut===null?Me=ke:ut.sibling=ke,ut=ke);return st&&fs(Q,He),Me}for(ke=u(ke);He<ee.length;He++)tt=oe(ke,Q,He,ee[He],he),tt!==null&&(r&&tt.alternate!==null&&ke.delete(tt.key===null?He:tt.key),G=y(tt,G,He),ut===null?Me=tt:ut.sibling=tt,ut=tt);return r&&ke.forEach(function(Ra){return a(Q,Ra)}),st&&fs(Q,He),Me}function Oe(Q,G,ee,he){if(ee==null)throw Error(i(151));for(var Me=null,ut=null,ke=G,He=G=0,tt=null,ht=ee.next();ke!==null&&!ht.done;He++,ht=ee.next()){ke.index>He?(tt=ke,ke=null):tt=ke.sibling;var Ra=re(Q,ke,ht.value,he);if(Ra===null){ke===null&&(ke=tt);break}r&&ke&&Ra.alternate===null&&a(Q,ke),G=y(Ra,G,He),ut===null?Me=Ra:ut.sibling=Ra,ut=Ra,ke=tt}if(ht.done)return l(Q,ke),st&&fs(Q,He),Me;if(ke===null){for(;!ht.done;He++,ht=ee.next())ht=fe(Q,ht.value,he),ht!==null&&(G=y(ht,G,He),ut===null?Me=ht:ut.sibling=ht,ut=ht);return st&&fs(Q,He),Me}for(ke=u(ke);!ht.done;He++,ht=ee.next())ht=oe(ke,Q,He,ht.value,he),ht!==null&&(r&&ht.alternate!==null&&ke.delete(ht.key===null?He:ht.key),G=y(ht,G,He),ut===null?Me=ht:ut.sibling=ht,ut=ht);return r&&ke.forEach(function(cM){return a(Q,cM)}),st&&fs(Q,He),Me}function At(Q,G,ee,he){if(typeof ee=="object"&&ee!==null&&ee.type===k&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case E:e:{for(var Me=ee.key;G!==null;){if(G.key===Me){if(Me=ee.type,Me===k){if(G.tag===7){l(Q,G.sibling),he=p(G,ee.props.children),he.return=Q,Q=he;break e}}else if(G.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===A&&Uo(Me)===G.type){l(Q,G.sibling),he=p(G,ee.props),rh(he,ee),he.return=Q,Q=he;break e}l(Q,G);break}else a(Q,G);G=G.sibling}ee.type===k?(he=Vo(ee.props.children,Q.mode,he,ee.key),he.return=Q,Q=he):(he=Af(ee.type,ee.key,ee.props,null,Q.mode,he),rh(he,ee),he.return=Q,Q=he)}return T(Q);case R:e:{for(Me=ee.key;G!==null;){if(G.key===Me)if(G.tag===4&&G.stateNode.containerInfo===ee.containerInfo&&G.stateNode.implementation===ee.implementation){l(Q,G.sibling),he=p(G,ee.children||[]),he.return=Q,Q=he;break e}else{l(Q,G);break}else a(Q,G);G=G.sibling}he=Kg(ee,Q.mode,he),he.return=Q,Q=he}return T(Q);case A:return ee=Uo(ee),At(Q,G,ee,he)}if(_e(ee))return Re(Q,G,ee,he);if(z(ee)){if(Me=z(ee),typeof Me!="function")throw Error(i(150));return ee=Me.call(ee),Oe(Q,G,ee,he)}if(typeof ee.then=="function")return At(Q,G,Pf(ee),he);if(ee.$$typeof===F)return At(Q,G,Cf(Q,ee),he);Vf(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,G!==null&&G.tag===6?(l(Q,G.sibling),he=p(G,ee),he.return=Q,Q=he):(l(Q,G),he=$g(ee,Q.mode,he),he.return=Q,Q=he),T(Q)):l(Q,G)}return function(Q,G,ee,he){try{ih=0;var Me=At(Q,G,ee,he);return ec=null,Me}catch(ke){if(ke===Zl||ke===Df)throw ke;var ut=xi(29,ke,null,Q.mode);return ut.lanes=he,ut.return=Q,ut}}}var zo=ET(!0),ST=ET(!1),ha=!1;function sy(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ay(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function da(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function fa(r,a,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(ft&2)!==0){var p=u.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),u.pending=a,a=Sf(r),lT(r,null,l),a}return Ef(r,u,a,l),Sf(r)}function sh(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,l|=u,a.lanes=l,bo(r,l)}}function oy(r,a){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=a:y=y.next=a}else p=y=a;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var ly=!1;function ah(){if(ly){var r=Jl;if(r!==null)throw r}}function oh(r,a,l,u){ly=!1;var p=r.updateQueue;ha=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,I=p.shared.pending;if(I!==null){p.shared.pending=null;var j=I,te=j.next;j.next=null,T===null?y=te:T.next=te,T=j;var ce=r.alternate;ce!==null&&(ce=ce.updateQueue,I=ce.lastBaseUpdate,I!==T&&(I===null?ce.firstBaseUpdate=te:I.next=te,ce.lastBaseUpdate=j))}if(y!==null){var fe=p.baseState;T=0,ce=te=j=null,I=y;do{var re=I.lane&-536870913,oe=re!==I.lane;if(oe?(et&re)===re:(u&re)===re){re!==0&&re===Xl&&(ly=!0),ce!==null&&(ce=ce.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Re=r,Oe=I;re=a;var At=l;switch(Oe.tag){case 1:if(Re=Oe.payload,typeof Re=="function"){fe=Re.call(At,fe,re);break e}fe=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Oe.payload,re=typeof Re=="function"?Re.call(At,fe,re):Re,re==null)break e;fe=v({},fe,re);break e;case 2:ha=!0}}re=I.callback,re!==null&&(r.flags|=64,oe&&(r.flags|=8192),oe=p.callbacks,oe===null?p.callbacks=[re]:oe.push(re))}else oe={lane:re,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ce===null?(te=ce=oe,j=fe):ce=ce.next=oe,T|=re;if(I=I.next,I===null){if(I=p.shared.pending,I===null)break;oe=I,I=oe.next,oe.next=null,p.lastBaseUpdate=oe,p.shared.pending=null}}while(!0);ce===null&&(j=fe),p.baseState=j,p.firstBaseUpdate=te,p.lastBaseUpdate=ce,y===null&&(p.shared.lanes=0),va|=T,r.lanes=T,r.memoizedState=fe}}function AT(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function IT(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)AT(l[r],a)}var tc=S(null),Mf=S(0);function RT(r,a){r=Es,se(Mf,r),se(tc,a),Es=r|a.baseLanes}function cy(){se(Mf,Es),se(tc,tc.current)}function uy(){Es=Mf.current,W(tc),W(Mf)}var Ei=S(null),Yi=null;function ma(r){var a=r.alternate;se(tn,tn.current&1),se(Ei,r),Yi===null&&(a===null||tc.current!==null||a.memoizedState!==null)&&(Yi=r)}function hy(r){se(tn,tn.current),se(Ei,r),Yi===null&&(Yi=r)}function CT(r){r.tag===22?(se(tn,tn.current),se(Ei,r),Yi===null&&(Yi=r)):pa()}function pa(){se(tn,tn.current),se(Ei,Ei.current)}function Si(r){W(Ei),Yi===r&&(Yi=null),W(tn)}var tn=S(0);function Of(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||yv(l)||vv(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var gs=0,Ge=null,Et=null,fn=null,Lf=!1,nc=!1,Fo=!1,jf=0,lh=0,ic=null,ZP=0;function Yt(){throw Error(i(321))}function dy(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!Ti(r[l],a[l]))return!1;return!0}function fy(r,a,l,u,p,y){return gs=y,Ge=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,U.H=r===null||r.memoizedState===null?dx:Ry,Fo=!1,y=l(u,p),Fo=!1,nc&&(y=DT(a,l,u,p)),NT(r),y}function NT(r){U.H=hh;var a=Et!==null&&Et.next!==null;if(gs=0,fn=Et=Ge=null,Lf=!1,lh=0,ic=null,a)throw Error(i(300));r===null||mn||(r=r.dependencies,r!==null&&Rf(r)&&(mn=!0))}function DT(r,a,l,u){Ge=r;var p=0;do{if(nc&&(ic=null),lh=0,nc=!1,25<=p)throw Error(i(301));if(p+=1,fn=Et=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}U.H=fx,y=a(l,u)}while(nc);return y}function eV(){var r=U.H,a=r.useState()[0];return a=typeof a.then=="function"?ch(a):a,r=r.useState()[0],(Et!==null?Et.memoizedState:null)!==r&&(Ge.flags|=1024),a}function my(){var r=jf!==0;return jf=0,r}function py(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function gy(r){if(Lf){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Lf=!1}gs=0,fn=Et=Ge=null,nc=!1,lh=jf=0,ic=null}function Jn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Ge.memoizedState=fn=r:fn=fn.next=r,fn}function nn(){if(Et===null){var r=Ge.alternate;r=r!==null?r.memoizedState:null}else r=Et.next;var a=fn===null?Ge.memoizedState:fn.next;if(a!==null)fn=a,Et=r;else{if(r===null)throw Ge.alternate===null?Error(i(467)):Error(i(310));Et=r,r={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},fn===null?Ge.memoizedState=fn=r:fn=fn.next=r}return fn}function Uf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ch(r){var a=lh;return lh+=1,ic===null&&(ic=[]),r=wT(ic,r,a),a=Ge,(fn===null?a.memoizedState:fn.next)===null&&(a=a.alternate,U.H=a===null||a.memoizedState===null?dx:Ry),r}function Bf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ch(r);if(r.$$typeof===F)return Vn(r)}throw Error(i(438,String(r)))}function yy(r){var a=null,l=Ge.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Ge.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Uf(),Ge.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),u=0;u<r;u++)l[u]=L;return a.index++,l}function ys(r,a){return typeof a=="function"?a(r):a}function zf(r){var a=nn();return vy(a,Et,r)}function vy(r,a,l){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var p=r.baseQueue,y=u.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}a.baseQueue=p=y,u.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{a=p.next;var I=T=null,j=null,te=a,ce=!1;do{var fe=te.lane&-536870913;if(fe!==te.lane?(et&fe)===fe:(gs&fe)===fe){var re=te.revertLane;if(re===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),fe===Xl&&(ce=!0);else if((gs&re)===re){te=te.next,re===Xl&&(ce=!0);continue}else fe={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},j===null?(I=j=fe,T=y):j=j.next=fe,Ge.lanes|=re,va|=re;fe=te.action,Fo&&l(y,fe),y=te.hasEagerState?te.eagerState:l(y,fe)}else re={lane:fe,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},j===null?(I=j=re,T=y):j=j.next=re,Ge.lanes|=fe,va|=fe;te=te.next}while(te!==null&&te!==a);if(j===null?T=y:j.next=I,!Ti(y,r.memoizedState)&&(mn=!0,ce&&(l=Jl,l!==null)))throw l;r.memoizedState=y,r.baseState=T,r.baseQueue=j,u.lastRenderedState=y}return p===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function _y(r){var a=nn(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var u=l.dispatch,p=l.pending,y=a.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=r(y,T.action),T=T.next;while(T!==p);Ti(y,a.memoizedState)||(mn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,u]}function kT(r,a,l){var u=Ge,p=nn(),y=st;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=a();var T=!Ti((Et||p).memoizedState,l);if(T&&(p.memoizedState=l,mn=!0),p=p.queue,Ty(MT.bind(null,u,p,r),[r]),p.getSnapshot!==a||T||fn!==null&&fn.memoizedState.tag&1){if(u.flags|=2048,rc(9,{destroy:void 0},VT.bind(null,u,p,l,a),null),Ct===null)throw Error(i(349));y||(gs&127)!==0||PT(u,a,l)}return l}function PT(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=Ge.updateQueue,a===null?(a=Uf(),Ge.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function VT(r,a,l,u){a.value=l,a.getSnapshot=u,OT(a)&&LT(r)}function MT(r,a,l){return l(function(){OT(a)&&LT(r)})}function OT(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!Ti(r,l)}catch{return!0}}function LT(r){var a=Po(r,2);a!==null&&ci(a,r,2)}function by(r){var a=Jn();if(typeof r=="function"){var l=r;if(r=l(),Fo){Yn(!0);try{l()}finally{Yn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:r},a}function jT(r,a,l,u){return r.baseState=l,vy(r,Et,typeof u=="function"?u:ys)}function tV(r,a,l,u,p){if(Gf(r))throw Error(i(485));if(r=a.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};U.T!==null?l(!0):y.isTransition=!1,u(y),l=a.pending,l===null?(y.next=a.pending=y,UT(a,y)):(y.next=l.next,a.pending=l.next=y)}}function UT(r,a){var l=a.action,u=a.payload,p=r.state;if(a.isTransition){var y=U.T,T={};U.T=T;try{var I=l(p,u),j=U.S;j!==null&&j(T,I),BT(r,a,I)}catch(te){wy(r,a,te)}finally{y!==null&&T.types!==null&&(y.types=T.types),U.T=y}}else try{y=l(p,u),BT(r,a,y)}catch(te){wy(r,a,te)}}function BT(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){zT(r,a,u)},function(u){return wy(r,a,u)}):zT(r,a,l)}function zT(r,a,l){a.status="fulfilled",a.value=l,FT(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,UT(r,l)))}function wy(r,a,l){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,FT(a),a=a.next;while(a!==u)}r.action=null}function FT(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function qT(r,a){return a}function GT(r,a){if(st){var l=Ct.formState;if(l!==null){e:{var u=Ge;if(st){if(Pt){t:{for(var p=Pt,y=Qi;p.nodeType!==8;){if(!y){p=null;break t}if(p=Wi(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Pt=Wi(p.nextSibling),u=p.data==="F!";break e}}ca(u)}u=!1}u&&(a=l[0])}}return l=Jn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qT,lastRenderedState:a},l.queue=u,l=cx.bind(null,Ge,u),u.dispatch=l,u=by(!1),y=Iy.bind(null,Ge,!1,u.queue),u=Jn(),p={state:a,dispatch:null,action:r,pending:null},u.queue=p,l=tV.bind(null,Ge,p,y,l),p.dispatch=l,u.memoizedState=r,[a,l,!1]}function HT(r){var a=nn();return $T(a,Et,r)}function $T(r,a,l){if(a=vy(r,a,qT)[0],r=zf(ys)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=ch(a)}catch(T){throw T===Zl?Df:T}else u=a;a=nn();var p=a.queue,y=p.dispatch;return l!==a.memoizedState&&(Ge.flags|=2048,rc(9,{destroy:void 0},nV.bind(null,p,l),null)),[u,y,r]}function nV(r,a){r.action=a}function KT(r){var a=nn(),l=Et;if(l!==null)return $T(a,l,r);nn(),a=a.memoizedState,l=nn();var u=l.queue.dispatch;return l.memoizedState=r,[a,u,!1]}function rc(r,a,l,u){return r={tag:r,create:l,deps:u,inst:a,next:null},a=Ge.updateQueue,a===null&&(a=Uf(),Ge.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,a.lastEffect=r),r}function QT(){return nn().memoizedState}function Ff(r,a,l,u){var p=Jn();Ge.flags|=r,p.memoizedState=rc(1|a,{destroy:void 0},l,u===void 0?null:u)}function qf(r,a,l,u){var p=nn();u=u===void 0?null:u;var y=p.memoizedState.inst;Et!==null&&u!==null&&dy(u,Et.memoizedState.deps)?p.memoizedState=rc(a,y,l,u):(Ge.flags|=r,p.memoizedState=rc(1|a,y,l,u))}function YT(r,a){Ff(8390656,8,r,a)}function Ty(r,a){qf(2048,8,r,a)}function iV(r){Ge.flags|=4;var a=Ge.updateQueue;if(a===null)a=Uf(),Ge.updateQueue=a,a.events=[r];else{var l=a.events;l===null?a.events=[r]:l.push(r)}}function WT(r){var a=nn().memoizedState;return iV({ref:a,nextImpl:r}),function(){if((ft&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function XT(r,a){return qf(4,2,r,a)}function JT(r,a){return qf(4,4,r,a)}function ZT(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function ex(r,a,l){l=l!=null?l.concat([r]):null,qf(4,4,ZT.bind(null,a,r),l)}function xy(){}function tx(r,a){var l=nn();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&dy(a,u[1])?u[0]:(l.memoizedState=[r,a],r)}function nx(r,a){var l=nn();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&dy(a,u[1]))return u[0];if(u=r(),Fo){Yn(!0);try{r()}finally{Yn(!1)}}return l.memoizedState=[u,a],u}function Ey(r,a,l){return l===void 0||(gs&1073741824)!==0&&(et&261930)===0?r.memoizedState=a:(r.memoizedState=l,r=iE(),Ge.lanes|=r,va|=r,l)}function ix(r,a,l,u){return Ti(l,a)?l:tc.current!==null?(r=Ey(r,l,u),Ti(r,a)||(mn=!0),r):(gs&42)===0||(gs&1073741824)!==0&&(et&261930)===0?(mn=!0,r.memoizedState=l):(r=iE(),Ge.lanes|=r,va|=r,a)}function rx(r,a,l,u,p){var y=Z.p;Z.p=y!==0&&8>y?y:8;var T=U.T,I={};U.T=I,Iy(r,!1,a,l);try{var j=p(),te=U.S;if(te!==null&&te(I,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ce=JP(j,u);uh(r,a,ce,Ri(r))}else uh(r,a,u,Ri(r))}catch(fe){uh(r,a,{then:function(){},status:"rejected",reason:fe},Ri())}finally{Z.p=y,T!==null&&I.types!==null&&(T.types=I.types),U.T=T}}function rV(){}function Sy(r,a,l,u){if(r.tag!==5)throw Error(i(476));var p=sx(r).queue;rx(r,p,a,K,l===null?rV:function(){return ax(r),l(u)})}function sx(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:K},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function ax(r){var a=sx(r);a.next===null&&(a=r.alternate.memoizedState),uh(r,a.next.queue,{},Ri())}function Ay(){return Vn(Ih)}function ox(){return nn().memoizedState}function lx(){return nn().memoizedState}function sV(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=Ri();r=da(l);var u=fa(a,r,l);u!==null&&(ci(u,a,l),sh(u,a,l)),a={cache:ty()},r.payload=a;return}a=a.return}}function aV(r,a,l){var u=Ri();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Gf(r)?ux(a,l):(l=Gg(r,a,l,u),l!==null&&(ci(l,r,u),hx(l,a,u)))}function cx(r,a,l){var u=Ri();uh(r,a,l,u)}function uh(r,a,l,u){var p={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Gf(r))ux(a,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var T=a.lastRenderedState,I=y(T,l);if(p.hasEagerState=!0,p.eagerState=I,Ti(I,T))return Ef(r,a,p,0),Ct===null&&xf(),!1}catch{}if(l=Gg(r,a,p,u),l!==null)return ci(l,r,u),hx(l,a,u),!0}return!1}function Iy(r,a,l,u){if(u={lane:2,revertLane:sv(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Gf(r)){if(a)throw Error(i(479))}else a=Gg(r,l,u,2),a!==null&&ci(a,r,2)}function Gf(r){var a=r.alternate;return r===Ge||a!==null&&a===Ge}function ux(r,a){nc=Lf=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function hx(r,a,l){if((l&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,l|=u,a.lanes=l,bo(r,l)}}var hh={readContext:Vn,use:Bf,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt};hh.useEffectEvent=Yt;var dx={readContext:Vn,use:Bf,useCallback:function(r,a){return Jn().memoizedState=[r,a===void 0?null:a],r},useContext:Vn,useEffect:YT,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,Ff(4194308,4,ZT.bind(null,a,r),l)},useLayoutEffect:function(r,a){return Ff(4194308,4,r,a)},useInsertionEffect:function(r,a){Ff(4,2,r,a)},useMemo:function(r,a){var l=Jn();a=a===void 0?null:a;var u=r();if(Fo){Yn(!0);try{r()}finally{Yn(!1)}}return l.memoizedState=[u,a],u},useReducer:function(r,a,l){var u=Jn();if(l!==void 0){var p=l(a);if(Fo){Yn(!0);try{l(a)}finally{Yn(!1)}}}else p=a;return u.memoizedState=u.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},u.queue=r,r=r.dispatch=aV.bind(null,Ge,r),[u.memoizedState,r]},useRef:function(r){var a=Jn();return r={current:r},a.memoizedState=r},useState:function(r){r=by(r);var a=r.queue,l=cx.bind(null,Ge,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:xy,useDeferredValue:function(r,a){var l=Jn();return Ey(l,r,a)},useTransition:function(){var r=by(!1);return r=rx.bind(null,Ge,r.queue,!0,!1),Jn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var u=Ge,p=Jn();if(st){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Ct===null)throw Error(i(349));(et&127)!==0||PT(u,a,l)}p.memoizedState=l;var y={value:l,getSnapshot:a};return p.queue=y,YT(MT.bind(null,u,y,r),[r]),u.flags|=2048,rc(9,{destroy:void 0},VT.bind(null,u,y,l,a),null),l},useId:function(){var r=Jn(),a=Ct.identifierPrefix;if(st){var l=Fr,u=zr;l=(u&~(1<<32-Dt(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=jf++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=ZP++,a="_"+a+"r_"+l.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:Ay,useFormState:GT,useActionState:GT,useOptimistic:function(r){var a=Jn();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Iy.bind(null,Ge,!0,l),l.dispatch=a,[r,a]},useMemoCache:yy,useCacheRefresh:function(){return Jn().memoizedState=sV.bind(null,Ge)},useEffectEvent:function(r){var a=Jn(),l={impl:r};return a.memoizedState=l,function(){if((ft&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Ry={readContext:Vn,use:Bf,useCallback:tx,useContext:Vn,useEffect:Ty,useImperativeHandle:ex,useInsertionEffect:XT,useLayoutEffect:JT,useMemo:nx,useReducer:zf,useRef:QT,useState:function(){return zf(ys)},useDebugValue:xy,useDeferredValue:function(r,a){var l=nn();return ix(l,Et.memoizedState,r,a)},useTransition:function(){var r=zf(ys)[0],a=nn().memoizedState;return[typeof r=="boolean"?r:ch(r),a]},useSyncExternalStore:kT,useId:ox,useHostTransitionStatus:Ay,useFormState:HT,useActionState:HT,useOptimistic:function(r,a){var l=nn();return jT(l,Et,r,a)},useMemoCache:yy,useCacheRefresh:lx};Ry.useEffectEvent=WT;var fx={readContext:Vn,use:Bf,useCallback:tx,useContext:Vn,useEffect:Ty,useImperativeHandle:ex,useInsertionEffect:XT,useLayoutEffect:JT,useMemo:nx,useReducer:_y,useRef:QT,useState:function(){return _y(ys)},useDebugValue:xy,useDeferredValue:function(r,a){var l=nn();return Et===null?Ey(l,r,a):ix(l,Et.memoizedState,r,a)},useTransition:function(){var r=_y(ys)[0],a=nn().memoizedState;return[typeof r=="boolean"?r:ch(r),a]},useSyncExternalStore:kT,useId:ox,useHostTransitionStatus:Ay,useFormState:KT,useActionState:KT,useOptimistic:function(r,a){var l=nn();return Et!==null?jT(l,Et,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:yy,useCacheRefresh:lx};fx.useEffectEvent=WT;function Cy(r,a,l,u){a=r.memoizedState,l=l(u,a),l=l==null?a:v({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Ny={enqueueSetState:function(r,a,l){r=r._reactInternals;var u=Ri(),p=da(u);p.payload=a,l!=null&&(p.callback=l),a=fa(r,p,u),a!==null&&(ci(a,r,u),sh(a,r,u))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var u=Ri(),p=da(u);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=fa(r,p,u),a!==null&&(ci(a,r,u),sh(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=Ri(),u=da(l);u.tag=2,a!=null&&(u.callback=a),a=fa(r,u,l),a!==null&&(ci(a,r,l),sh(a,r,l))}};function mx(r,a,l,u,p,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,y,T):a.prototype&&a.prototype.isPureReactComponent?!Xu(l,u)||!Xu(p,y):!0}function px(r,a,l,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==r&&Ny.enqueueReplaceState(a,a.state,null)}function qo(r,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(r=r.defaultProps){l===a&&(l=v({},l));for(var p in r)l[p]===void 0&&(l[p]=r[p])}return l}function gx(r){Tf(r)}function yx(r){console.error(r)}function vx(r){Tf(r)}function Hf(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function _x(r,a,l){try{var u=r.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Dy(r,a,l){return l=da(l),l.tag=3,l.payload={element:null},l.callback=function(){Hf(r,a)},l}function bx(r){return r=da(r),r.tag=3,r}function wx(r,a,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;r.payload=function(){return p(y)},r.callback=function(){_x(a,l,u)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){_x(a,l,u),typeof p!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})})}function oV(r,a,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Wl(a,l,p,!0),l=Ei.current,l!==null){switch(l.tag){case 31:case 13:return Yi===null?im():l.alternate===null&&Wt===0&&(Wt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===kf?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),nv(r,u,p)),!1;case 22:return l.flags|=65536,u===kf?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),nv(r,u,p)),!1}throw Error(i(435,l.tag))}return nv(r,u,p),im(),!1}if(st)return a=Ei.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,u!==Wg&&(r=Error(i(422),{cause:u}),eh(Hi(r,l)))):(u!==Wg&&(a=Error(i(423),{cause:u}),eh(Hi(a,l))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,u=Hi(u,l),p=Dy(r.stateNode,u,p),oy(r,p),Wt!==4&&(Wt=2)),!1;var y=Error(i(520),{cause:u});if(y=Hi(y,l),_h===null?_h=[y]:_h.push(y),Wt!==4&&(Wt=2),a===null)return!0;u=Hi(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=p&-p,l.lanes|=r,r=Dy(l.stateNode,u,r),oy(l,r),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(_a===null||!_a.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=bx(p),wx(p,r,l,u),oy(l,p),!1}l=l.return}while(l!==null);return!1}var ky=Error(i(461)),mn=!1;function Mn(r,a,l,u){a.child=r===null?ST(a,null,l,u):zo(a,r.child,l,u)}function Tx(r,a,l,u,p){l=l.render;var y=a.ref;if("ref"in u){var T={};for(var I in u)I!=="ref"&&(T[I]=u[I])}else T=u;return Lo(a),u=fy(r,a,l,T,y,p),I=my(),r!==null&&!mn?(py(r,a,p),vs(r,a,p)):(st&&I&&Qg(a),a.flags|=1,Mn(r,a,u,p),a.child)}function xx(r,a,l,u,p){if(r===null){var y=l.type;return typeof y=="function"&&!Hg(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,Ex(r,a,y,u,p)):(r=Af(l.type,null,u,a,a.mode,p),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!By(r,p)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Xu,l(T,u)&&r.ref===a.ref)return vs(r,a,p)}return a.flags|=1,r=ds(y,u),r.ref=a.ref,r.return=a,a.child=r}function Ex(r,a,l,u,p){if(r!==null){var y=r.memoizedProps;if(Xu(y,u)&&r.ref===a.ref)if(mn=!1,a.pendingProps=u=y,By(r,p))(r.flags&131072)!==0&&(mn=!0);else return a.lanes=r.lanes,vs(r,a,p)}return Py(r,a,l,u,p)}function Sx(r,a,l,u){var p=u.children,y=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,r!==null){for(u=a.child=r.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,a.child=null;return Ax(r,a,y,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Nf(a,y!==null?y.cachePool:null),y!==null?RT(a,y):cy(),CT(a);else return u=a.lanes=536870912,Ax(r,a,y!==null?y.baseLanes|l:l,l,u)}else y!==null?(Nf(a,y.cachePool),RT(a,y),pa(),a.memoizedState=null):(r!==null&&Nf(a,null),cy(),pa());return Mn(r,a,p,l),a.child}function dh(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Ax(r,a,l,u,p){var y=iy();return y=y===null?null:{parent:dn._currentValue,pool:y},a.memoizedState={baseLanes:l,cachePool:y},r!==null&&Nf(a,null),cy(),CT(a),r!==null&&Wl(r,a,u,!0),a.childLanes=p,null}function $f(r,a){return a=Qf({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function Ix(r,a,l){return zo(a,r.child,null,l),r=$f(a,a.pendingProps),r.flags|=2,Si(a),a.memoizedState=null,r}function lV(r,a,l){var u=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(st){if(u.mode==="hidden")return r=$f(a,u),a.lanes=536870912,dh(null,r);if(hy(a),(r=Pt)?(r=UE(r,Qi),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:oa!==null?{id:zr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},l=uT(r),l.return=a,a.child=l,Pn=a,Pt=null)):r=null,r===null)throw ca(a);return a.lanes=536870912,null}return $f(a,u)}var y=r.memoizedState;if(y!==null){var T=y.dehydrated;if(hy(a),p)if(a.flags&256)a.flags&=-257,a=Ix(r,a,l);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(mn||Wl(r,a,l,!1),p=(l&r.childLanes)!==0,mn||p){if(u=Ct,u!==null&&(T=wo(u,l),T!==0&&T!==y.retryLane))throw y.retryLane=T,Po(r,T),ci(u,r,T),ky;im(),a=Ix(r,a,l)}else r=y.treeContext,Pt=Wi(T.nextSibling),Pn=a,st=!0,la=null,Qi=!1,r!==null&&fT(a,r),a=$f(a,u),a.flags|=4096;return a}return r=ds(r.child,{mode:u.mode,children:u.children}),r.ref=a.ref,a.child=r,r.return=a,r}function Kf(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function Py(r,a,l,u,p){return Lo(a),l=fy(r,a,l,u,void 0,p),u=my(),r!==null&&!mn?(py(r,a,p),vs(r,a,p)):(st&&u&&Qg(a),a.flags|=1,Mn(r,a,l,p),a.child)}function Rx(r,a,l,u,p,y){return Lo(a),a.updateQueue=null,l=DT(a,u,l,p),NT(r),u=my(),r!==null&&!mn?(py(r,a,y),vs(r,a,y)):(st&&u&&Qg(a),a.flags|=1,Mn(r,a,l,y),a.child)}function Cx(r,a,l,u,p){if(Lo(a),a.stateNode===null){var y=$l,T=l.contextType;typeof T=="object"&&T!==null&&(y=Vn(T)),y=new l(u,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Ny,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=u,y.state=a.memoizedState,y.refs={},sy(a),T=l.contextType,y.context=typeof T=="object"&&T!==null?Vn(T):$l,y.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Cy(a,l,T,u),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Ny.enqueueReplaceState(y,y.state,null),oh(a,u,y,p),ah(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){y=a.stateNode;var I=a.memoizedProps,j=qo(l,I);y.props=j;var te=y.context,ce=l.contextType;T=$l,typeof ce=="object"&&ce!==null&&(T=Vn(ce));var fe=l.getDerivedStateFromProps;ce=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",I=a.pendingProps!==I,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I||te!==T)&&px(a,y,u,T),ha=!1;var re=a.memoizedState;y.state=re,oh(a,u,y,p),ah(),te=a.memoizedState,I||re!==te||ha?(typeof fe=="function"&&(Cy(a,l,fe,u),te=a.memoizedState),(j=ha||mx(a,l,j,u,re,te,T))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=te),y.props=u,y.state=te,y.context=T,u=j):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{y=a.stateNode,ay(r,a),T=a.memoizedProps,ce=qo(l,T),y.props=ce,fe=a.pendingProps,re=y.context,te=l.contextType,j=$l,typeof te=="object"&&te!==null&&(j=Vn(te)),I=l.getDerivedStateFromProps,(te=typeof I=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==fe||re!==j)&&px(a,y,u,j),ha=!1,re=a.memoizedState,y.state=re,oh(a,u,y,p),ah();var oe=a.memoizedState;T!==fe||re!==oe||ha||r!==null&&r.dependencies!==null&&Rf(r.dependencies)?(typeof I=="function"&&(Cy(a,l,I,u),oe=a.memoizedState),(ce=ha||mx(a,l,ce,u,re,oe,j)||r!==null&&r.dependencies!==null&&Rf(r.dependencies))?(te||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,oe,j),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,oe,j)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&re===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&re===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=oe),y.props=u,y.state=oe,y.context=j,u=ce):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&re===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&re===r.memoizedState||(a.flags|=1024),u=!1)}return y=u,Kf(r,a),u=(a.flags&128)!==0,y||u?(y=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&u?(a.child=zo(a,r.child,null,p),a.child=zo(a,null,l,p)):Mn(r,a,l,p),a.memoizedState=y.state,r=a.child):r=vs(r,a,p),r}function Nx(r,a,l,u){return Mo(),a.flags|=256,Mn(r,a,l,u),a.child}var Vy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function My(r){return{baseLanes:r,cachePool:_T()}}function Oy(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=Ii),r}function Dx(r,a,l){var u=a.pendingProps,p=!1,y=(a.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(tn.current&2)!==0),T&&(p=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,r===null){if(st){if(p?ma(a):pa(),(r=Pt)?(r=UE(r,Qi),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:oa!==null?{id:zr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},l=uT(r),l.return=a,a.child=l,Pn=a,Pt=null)):r=null,r===null)throw ca(a);return vv(r)?a.lanes=32:a.lanes=536870912,null}var I=u.children;return u=u.fallback,p?(pa(),p=a.mode,I=Qf({mode:"hidden",children:I},p),u=Vo(u,p,l,null),I.return=a,u.return=a,I.sibling=u,a.child=I,u=a.child,u.memoizedState=My(l),u.childLanes=Oy(r,T,l),a.memoizedState=Vy,dh(null,u)):(ma(a),Ly(a,I))}var j=r.memoizedState;if(j!==null&&(I=j.dehydrated,I!==null)){if(y)a.flags&256?(ma(a),a.flags&=-257,a=jy(r,a,l)):a.memoizedState!==null?(pa(),a.child=r.child,a.flags|=128,a=null):(pa(),I=u.fallback,p=a.mode,u=Qf({mode:"visible",children:u.children},p),I=Vo(I,p,l,null),I.flags|=2,u.return=a,I.return=a,u.sibling=I,a.child=u,zo(a,r.child,null,l),u=a.child,u.memoizedState=My(l),u.childLanes=Oy(r,T,l),a.memoizedState=Vy,a=dh(null,u));else if(ma(a),vv(I)){if(T=I.nextSibling&&I.nextSibling.dataset,T)var te=T.dgst;T=te,u=Error(i(419)),u.stack="",u.digest=T,eh({value:u,source:null,stack:null}),a=jy(r,a,l)}else if(mn||Wl(r,a,l,!1),T=(l&r.childLanes)!==0,mn||T){if(T=Ct,T!==null&&(u=wo(T,l),u!==0&&u!==j.retryLane))throw j.retryLane=u,Po(r,u),ci(T,r,u),ky;yv(I)||im(),a=jy(r,a,l)}else yv(I)?(a.flags|=192,a.child=r.child,a=null):(r=j.treeContext,Pt=Wi(I.nextSibling),Pn=a,st=!0,la=null,Qi=!1,r!==null&&fT(a,r),a=Ly(a,u.children),a.flags|=4096);return a}return p?(pa(),I=u.fallback,p=a.mode,j=r.child,te=j.sibling,u=ds(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,te!==null?I=ds(te,I):(I=Vo(I,p,l,null),I.flags|=2),I.return=a,u.return=a,u.sibling=I,a.child=u,dh(null,u),u=a.child,I=r.child.memoizedState,I===null?I=My(l):(p=I.cachePool,p!==null?(j=dn._currentValue,p=p.parent!==j?{parent:j,pool:j}:p):p=_T(),I={baseLanes:I.baseLanes|l,cachePool:p}),u.memoizedState=I,u.childLanes=Oy(r,T,l),a.memoizedState=Vy,dh(r.child,u)):(ma(a),l=r.child,r=l.sibling,l=ds(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,r!==null&&(T=a.deletions,T===null?(a.deletions=[r],a.flags|=16):T.push(r)),a.child=l,a.memoizedState=null,l)}function Ly(r,a){return a=Qf({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Qf(r,a){return r=xi(22,r,null,a),r.lanes=0,r}function jy(r,a,l){return zo(a,r.child,null,l),r=Ly(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function kx(r,a,l){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),Zg(r.return,a,l)}function Uy(r,a,l,u,p,y){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p,treeForkCount:y}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=l,T.tailMode=p,T.treeForkCount=y)}function Px(r,a,l){var u=a.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var T=tn.current,I=(T&2)!==0;if(I?(T=T&1|2,a.flags|=128):T&=1,se(tn,T),Mn(r,a,u,l),u=st?Zu:0,!I&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&kx(r,l,a);else if(r.tag===19)kx(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(p){case"forwards":for(l=a.child,p=null;l!==null;)r=l.alternate,r!==null&&Of(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),Uy(a,!1,p,l,y,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(r=p.alternate,r!==null&&Of(r)===null){a.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Uy(a,!0,l,null,y,u);break;case"together":Uy(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function vs(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),va|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(Wl(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,l=ds(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=ds(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function By(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Rf(r)))}function cV(r,a,l){switch(a.tag){case 3:Ie(a,a.stateNode.containerInfo),ua(a,dn,r.memoizedState.cache),Mo();break;case 27:case 5:Qe(a);break;case 4:Ie(a,a.stateNode.containerInfo);break;case 10:ua(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,hy(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ma(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Dx(r,a,l):(ma(a),r=vs(r,a,l),r!==null?r.sibling:null);ma(a);break;case 19:var p=(r.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Wl(r,a,l,!1),u=(l&a.childLanes)!==0),p){if(u)return Px(r,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),se(tn,tn.current),u)break;return null;case 22:return a.lanes=0,Sx(r,a,l,a.pendingProps);case 24:ua(a,dn,r.memoizedState.cache)}return vs(r,a,l)}function Vx(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)mn=!0;else{if(!By(r,l)&&(a.flags&128)===0)return mn=!1,cV(r,a,l);mn=(r.flags&131072)!==0}else mn=!1,st&&(a.flags&1048576)!==0&&dT(a,Zu,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(r=Uo(a.elementType),a.type=r,typeof r=="function")Hg(r)?(u=qo(r,u),a.tag=1,a=Cx(null,a,r,u,l)):(a.tag=0,a=Py(null,a,r,u,l));else{if(r!=null){var p=r.$$typeof;if(p===$){a.tag=11,a=Tx(null,a,r,u,l);break e}else if(p===N){a.tag=14,a=xx(null,a,r,u,l);break e}}throw a=ge(r)||r,Error(i(306,a,""))}}return a;case 0:return Py(r,a,a.type,a.pendingProps,l);case 1:return u=a.type,p=qo(u,a.pendingProps),Cx(r,a,u,p,l);case 3:e:{if(Ie(a,a.stateNode.containerInfo),r===null)throw Error(i(387));u=a.pendingProps;var y=a.memoizedState;p=y.element,ay(r,a),oh(a,u,null,l);var T=a.memoizedState;if(u=T.cache,ua(a,dn,u),u!==y.cache&&ey(a,[dn],l,!0),ah(),u=T.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=Nx(r,a,u,l);break e}else if(u!==p){p=Hi(Error(i(424)),a),eh(p),a=Nx(r,a,u,l);break e}else for(r=a.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Pt=Wi(r.firstChild),Pn=a,st=!0,la=null,Qi=!0,l=ST(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Mo(),u===p){a=vs(r,a,l);break e}Mn(r,a,u,l)}a=a.child}return a;case 26:return Kf(r,a),r===null?(l=HE(a.type,null,a.pendingProps,null))?a.memoizedState=l:st||(l=a.type,r=a.pendingProps,u=um(be.current).createElement(l),u[Y]=a,u[Se]=r,On(u,l,r),un(u),a.stateNode=u):a.memoizedState=HE(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Qe(a),r===null&&st&&(u=a.stateNode=FE(a.type,a.pendingProps,be.current),Pn=a,Qi=!0,p=Pt,xa(a.type)?(_v=p,Pt=Wi(u.firstChild)):Pt=p),Mn(r,a,a.pendingProps.children,l),Kf(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&st&&((p=u=Pt)&&(u=UV(u,a.type,a.pendingProps,Qi),u!==null?(a.stateNode=u,Pn=a,Pt=Wi(u.firstChild),Qi=!1,p=!0):p=!1),p||ca(a)),Qe(a),p=a.type,y=a.pendingProps,T=r!==null?r.memoizedProps:null,u=y.children,mv(p,y)?u=null:T!==null&&mv(p,T)&&(a.flags|=32),a.memoizedState!==null&&(p=fy(r,a,eV,null,null,l),Ih._currentValue=p),Kf(r,a),Mn(r,a,u,l),a.child;case 6:return r===null&&st&&((r=l=Pt)&&(l=BV(l,a.pendingProps,Qi),l!==null?(a.stateNode=l,Pn=a,Pt=null,r=!0):r=!1),r||ca(a)),null;case 13:return Dx(r,a,l);case 4:return Ie(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=zo(a,null,u,l):Mn(r,a,u,l),a.child;case 11:return Tx(r,a,a.type,a.pendingProps,l);case 7:return Mn(r,a,a.pendingProps,l),a.child;case 8:return Mn(r,a,a.pendingProps.children,l),a.child;case 12:return Mn(r,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,ua(a,a.type,u.value),Mn(r,a,u.children,l),a.child;case 9:return p=a.type._context,u=a.pendingProps.children,Lo(a),p=Vn(p),u=u(p),a.flags|=1,Mn(r,a,u,l),a.child;case 14:return xx(r,a,a.type,a.pendingProps,l);case 15:return Ex(r,a,a.type,a.pendingProps,l);case 19:return Px(r,a,l);case 31:return lV(r,a,l);case 22:return Sx(r,a,l,a.pendingProps);case 24:return Lo(a),u=Vn(dn),r===null?(p=iy(),p===null&&(p=Ct,y=ty(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),a.memoizedState={parent:u,cache:p},sy(a),ua(a,dn,p)):((r.lanes&l)!==0&&(ay(r,a),oh(a,null,null,l),ah()),p=r.memoizedState,y=a.memoizedState,p.parent!==u?(p={parent:u,cache:u},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),ua(a,dn,u)):(u=y.cache,ua(a,dn,u),u!==p.cache&&ey(a,[dn],l,!0))),Mn(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function _s(r){r.flags|=4}function zy(r,a,l,u,p){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(p&335544128)===p)if(r.stateNode.complete)r.flags|=8192;else if(oE())r.flags|=8192;else throw Bo=kf,ry}else r.flags&=-16777217}function Mx(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!WE(a))if(oE())r.flags|=8192;else throw Bo=kf,ry}function Yf(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Ys():536870912,r.lanes|=a,lc|=a)}function fh(r,a){if(!st)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Vt(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(a)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=u,r.childLanes=l,a}function uV(r,a,l){var u=a.pendingProps;switch(Yg(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(a),null;case 1:return Vt(a),null;case 3:return l=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),ps(dn),Pe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Yl(a)?_s(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Xg())),Vt(a),null;case 26:var p=a.type,y=a.memoizedState;return r===null?(_s(a),y!==null?(Vt(a),Mx(a,y)):(Vt(a),zy(a,p,null,u,l))):y?y!==r.memoizedState?(_s(a),Vt(a),Mx(a,y)):(Vt(a),a.flags&=-16777217):(r=r.memoizedProps,r!==u&&_s(a),Vt(a),zy(a,p,r,u,l)),null;case 27:if($e(a),l=be.current,p=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&_s(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Vt(a),null}r=ue.current,Yl(a)?mT(a):(r=FE(p,u,l),a.stateNode=r,_s(a))}return Vt(a),null;case 5:if($e(a),p=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&_s(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Vt(a),null}if(y=ue.current,Yl(a))mT(a);else{var T=um(be.current);switch(y){case 1:y=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=T.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?T.createElement(p,{is:u.is}):T.createElement(p)}}y[Y]=a,y[Se]=u;e:for(T=a.child;T!==null;){if(T.tag===5||T.tag===6)y.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===a)break e;for(;T.sibling===null;){if(T.return===null||T.return===a)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}a.stateNode=y;e:switch(On(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&_s(a)}}return Vt(a),zy(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,l),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&_s(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(r=be.current,Yl(a)){if(r=a.stateNode,l=a.memoizedProps,u=null,p=Pn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}r[Y]=a,r=!!(r.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||DE(r.nodeValue,l)),r||ca(a,!0)}else r=um(r).createTextNode(u),r[Y]=a,a.stateNode=r}return Vt(a),null;case 31:if(l=a.memoizedState,r===null||r.memoizedState!==null){if(u=Yl(a),l!==null){if(r===null){if(!u)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Y]=a}else Mo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Vt(a),r=!1}else l=Xg(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return a.flags&256?(Si(a),a):(Si(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Vt(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Yl(a),u!==null&&u.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Y]=a}else Mo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Vt(a),p=!1}else p=Xg(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Si(a),a):(Si(a),null)}return Si(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,r=r!==null&&r.memoizedState!==null,l&&(u=a.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),l!==r&&l&&(a.child.flags|=8192),Yf(a,a.updateQueue),Vt(a),null);case 4:return Pe(),r===null&&cv(a.stateNode.containerInfo),Vt(a),null;case 10:return ps(a.type),Vt(a),null;case 19:if(W(tn),u=a.memoizedState,u===null)return Vt(a),null;if(p=(a.flags&128)!==0,y=u.rendering,y===null)if(p)fh(u,!1);else{if(Wt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(y=Of(r),y!==null){for(a.flags|=128,fh(u,!1),r=y.updateQueue,a.updateQueue=r,Yf(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)cT(l,r),l=l.sibling;return se(tn,tn.current&1|2),st&&fs(a,u.treeForkCount),a.child}r=r.sibling}u.tail!==null&&ln()>em&&(a.flags|=128,p=!0,fh(u,!1),a.lanes=4194304)}else{if(!p)if(r=Of(y),r!==null){if(a.flags|=128,p=!0,r=r.updateQueue,a.updateQueue=r,Yf(a,r),fh(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!st)return Vt(a),null}else 2*ln()-u.renderingStartTime>em&&l!==536870912&&(a.flags|=128,p=!0,fh(u,!1),a.lanes=4194304);u.isBackwards?(y.sibling=a.child,a.child=y):(r=u.last,r!==null?r.sibling=y:a.child=y,u.last=y)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=ln(),r.sibling=null,l=tn.current,se(tn,p?l&1|2:l&1),st&&fs(a,u.treeForkCount),r):(Vt(a),null);case 22:case 23:return Si(a),uy(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(Vt(a),a.subtreeFlags&6&&(a.flags|=8192)):Vt(a),l=a.updateQueue,l!==null&&Yf(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),r!==null&&W(jo),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ps(dn),Vt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function hV(r,a){switch(Yg(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return ps(dn),Pe(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return $e(a),null;case 31:if(a.memoizedState!==null){if(Si(a),a.alternate===null)throw Error(i(340));Mo()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(Si(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Mo()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return W(tn),null;case 4:return Pe(),null;case 10:return ps(a.type),null;case 22:case 23:return Si(a),uy(),r!==null&&W(jo),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return ps(dn),null;case 25:return null;default:return null}}function Ox(r,a){switch(Yg(a),a.tag){case 3:ps(dn),Pe();break;case 26:case 27:case 5:$e(a);break;case 4:Pe();break;case 31:a.memoizedState!==null&&Si(a);break;case 13:Si(a);break;case 19:W(tn);break;case 10:ps(a.type);break;case 22:case 23:Si(a),uy(),r!==null&&W(jo);break;case 24:ps(dn)}}function mh(r,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&r)===r){u=void 0;var y=l.create,T=l.inst;u=y(),T.destroy=u}l=l.next}while(l!==p)}}catch(I){_t(a,a.return,I)}}function ga(r,a,l){try{var u=a.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&r)===r){var T=u.inst,I=T.destroy;if(I!==void 0){T.destroy=void 0,p=a;var j=l,te=I;try{te()}catch(ce){_t(p,j,ce)}}}u=u.next}while(u!==y)}}catch(ce){_t(a,a.return,ce)}}function Lx(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{IT(a,l)}catch(u){_t(r,r.return,u)}}}function jx(r,a,l){l.props=qo(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(u){_t(r,a,u)}}function ph(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof l=="function"?r.refCleanup=l(u):l.current=u}}catch(p){_t(r,a,p)}}function qr(r,a){var l=r.ref,u=r.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){_t(r,a,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){_t(r,a,p)}else l.current=null}function Ux(r){var a=r.type,l=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){_t(r,r.return,p)}}function Fy(r,a,l){try{var u=r.stateNode;PV(u,r.type,l,a),u[Se]=a}catch(p){_t(r,r.return,p)}}function Bx(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&xa(r.type)||r.tag===4}function qy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Bx(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&xa(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Gy(r,a,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=or));else if(u!==4&&(u===27&&xa(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(Gy(r,a,l),r=r.sibling;r!==null;)Gy(r,a,l),r=r.sibling}function Wf(r,a,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(u!==4&&(u===27&&xa(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Wf(r,a,l),r=r.sibling;r!==null;)Wf(r,a,l),r=r.sibling}function zx(r){var a=r.stateNode,l=r.memoizedProps;try{for(var u=r.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);On(a,u,l),a[Y]=r,a[Se]=l}catch(y){_t(r,r.return,y)}}var bs=!1,pn=!1,Hy=!1,Fx=typeof WeakSet=="function"?WeakSet:Set,An=null;function dV(r,a){if(r=r.containerInfo,dv=ym,r=eT(r),jg(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,I=-1,j=-1,te=0,ce=0,fe=r,re=null;t:for(;;){for(var oe;fe!==l||p!==0&&fe.nodeType!==3||(I=T+p),fe!==y||u!==0&&fe.nodeType!==3||(j=T+u),fe.nodeType===3&&(T+=fe.nodeValue.length),(oe=fe.firstChild)!==null;)re=fe,fe=oe;for(;;){if(fe===r)break t;if(re===l&&++te===p&&(I=T),re===y&&++ce===u&&(j=T),(oe=fe.nextSibling)!==null)break;fe=re,re=fe.parentNode}fe=oe}l=I===-1||j===-1?null:{start:I,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(fv={focusedElem:r,selectionRange:l},ym=!1,An=a;An!==null;)if(a=An,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,An=r;else for(;An!==null;){switch(a=An,y=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)p=r[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=a,p=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var Re=qo(l.type,p);r=u.getSnapshotBeforeUpdate(Re,y),u.__reactInternalSnapshotBeforeUpdate=r}catch(Oe){_t(l,l.return,Oe)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)gv(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":gv(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,An=r;break}An=a.return}}function qx(r,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Ts(r,l),u&4&&mh(5,l);break;case 1:if(Ts(r,l),u&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(T){_t(l,l.return,T)}else{var p=qo(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(p,a,r.__reactInternalSnapshotBeforeUpdate)}catch(T){_t(l,l.return,T)}}u&64&&Lx(l),u&512&&ph(l,l.return);break;case 3:if(Ts(r,l),u&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{IT(r,a)}catch(T){_t(l,l.return,T)}}break;case 27:a===null&&u&4&&zx(l);case 26:case 5:Ts(r,l),a===null&&u&4&&Ux(l),u&512&&ph(l,l.return);break;case 12:Ts(r,l);break;case 31:Ts(r,l),u&4&&$x(r,l);break;case 13:Ts(r,l),u&4&&Kx(r,l),u&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=wV.bind(null,l),zV(r,l))));break;case 22:if(u=l.memoizedState!==null||bs,!u){a=a!==null&&a.memoizedState!==null||pn,p=bs;var y=pn;bs=u,(pn=a)&&!y?xs(r,l,(l.subtreeFlags&8772)!==0):Ts(r,l),bs=p,pn=y}break;case 30:break;default:Ts(r,l)}}function Gx(r){var a=r.alternate;a!==null&&(r.alternate=null,Gx(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&kl(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Bt=null,si=!1;function ws(r,a,l){for(l=l.child;l!==null;)Hx(r,a,l),l=l.sibling}function Hx(r,a,l){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ct,l)}catch{}switch(l.tag){case 26:pn||qr(l,a),ws(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:pn||qr(l,a);var u=Bt,p=si;xa(l.type)&&(Bt=l.stateNode,si=!1),ws(r,a,l),Eh(l.stateNode),Bt=u,si=p;break;case 5:pn||qr(l,a);case 6:if(u=Bt,p=si,Bt=null,ws(r,a,l),Bt=u,si=p,Bt!==null)if(si)try{(Bt.nodeType===9?Bt.body:Bt.nodeName==="HTML"?Bt.ownerDocument.body:Bt).removeChild(l.stateNode)}catch(y){_t(l,a,y)}else try{Bt.removeChild(l.stateNode)}catch(y){_t(l,a,y)}break;case 18:Bt!==null&&(si?(r=Bt,LE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),gc(r)):LE(Bt,l.stateNode));break;case 4:u=Bt,p=si,Bt=l.stateNode.containerInfo,si=!0,ws(r,a,l),Bt=u,si=p;break;case 0:case 11:case 14:case 15:ga(2,l,a),pn||ga(4,l,a),ws(r,a,l);break;case 1:pn||(qr(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&jx(l,a,u)),ws(r,a,l);break;case 21:ws(r,a,l);break;case 22:pn=(u=pn)||l.memoizedState!==null,ws(r,a,l),pn=u;break;default:ws(r,a,l)}}function $x(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{gc(r)}catch(l){_t(a,a.return,l)}}}function Kx(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{gc(r)}catch(l){_t(a,a.return,l)}}function fV(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Fx),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Fx),a;default:throw Error(i(435,r.tag))}}function Xf(r,a){var l=fV(r);a.forEach(function(u){if(!l.has(u)){l.add(u);var p=TV.bind(null,r,u);u.then(p,p)}})}function ai(r,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],y=r,T=a,I=T;e:for(;I!==null;){switch(I.tag){case 27:if(xa(I.type)){Bt=I.stateNode,si=!1;break e}break;case 5:Bt=I.stateNode,si=!1;break e;case 3:case 4:Bt=I.stateNode.containerInfo,si=!0;break e}I=I.return}if(Bt===null)throw Error(i(160));Hx(y,T,p),Bt=null,si=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Qx(a,r),a=a.sibling}var fr=null;function Qx(r,a){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ai(a,r),oi(r),u&4&&(ga(3,r,r.return),mh(3,r),ga(5,r,r.return));break;case 1:ai(a,r),oi(r),u&512&&(pn||l===null||qr(l,l.return)),u&64&&bs&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=fr;if(ai(a,r),oi(r),u&512&&(pn||l===null||qr(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=r.memoizedState,l===null)if(u===null)if(r.stateNode===null){e:{u=r.type,l=r.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[_i]||y[Y]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),On(y,u,l),y[Y]=r,un(y),u=y;break e;case"link":var T=QE("link","href",p).get(u+(l.href||""));if(T){for(var I=0;I<T.length;I++)if(y=T[I],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(I,1);break t}}y=p.createElement(u),On(y,u,l),p.head.appendChild(y);break;case"meta":if(T=QE("meta","content",p).get(u+(l.content||""))){for(I=0;I<T.length;I++)if(y=T[I],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(I,1);break t}}y=p.createElement(u),On(y,u,l),p.head.appendChild(y);break;default:throw Error(i(468,u))}y[Y]=r,un(y),u=y}r.stateNode=u}else YE(p,r.type,r.stateNode);else r.stateNode=KE(p,u,r.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?YE(p,r.type,r.stateNode):KE(p,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Fy(r,r.memoizedProps,l.memoizedProps)}break;case 27:ai(a,r),oi(r),u&512&&(pn||l===null||qr(l,l.return)),l!==null&&u&4&&Fy(r,r.memoizedProps,l.memoizedProps);break;case 5:if(ai(a,r),oi(r),u&512&&(pn||l===null||qr(l,l.return)),r.flags&32){p=r.stateNode;try{ri(p,"")}catch(Re){_t(r,r.return,Re)}}u&4&&r.stateNode!=null&&(p=r.memoizedProps,Fy(r,p,l!==null?l.memoizedProps:p)),u&1024&&(Hy=!0);break;case 6:if(ai(a,r),oi(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,l=r.stateNode;try{l.nodeValue=u}catch(Re){_t(r,r.return,Re)}}break;case 3:if(fm=null,p=fr,fr=hm(a.containerInfo),ai(a,r),fr=p,oi(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{gc(a.containerInfo)}catch(Re){_t(r,r.return,Re)}Hy&&(Hy=!1,Yx(r));break;case 4:u=fr,fr=hm(r.stateNode.containerInfo),ai(a,r),oi(r),fr=u;break;case 12:ai(a,r),oi(r);break;case 31:ai(a,r),oi(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Xf(r,u)));break;case 13:ai(a,r),oi(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Zf=ln()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Xf(r,u)));break;case 22:p=r.memoizedState!==null;var j=l!==null&&l.memoizedState!==null,te=bs,ce=pn;if(bs=te||p,pn=ce||j,ai(a,r),pn=ce,bs=te,oi(r),u&8192)e:for(a=r.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||j||bs||pn||Go(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){j=l=a;try{if(y=j.stateNode,p)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{I=j.stateNode;var fe=j.memoizedProps.style,re=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;I.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Re){_t(j,j.return,Re)}}}else if(a.tag===6){if(l===null){j=a;try{j.stateNode.nodeValue=p?"":j.memoizedProps}catch(Re){_t(j,j.return,Re)}}}else if(a.tag===18){if(l===null){j=a;try{var oe=j.stateNode;p?jE(oe,!0):jE(j.stateNode,!1)}catch(Re){_t(j,j.return,Re)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Xf(r,l))));break;case 19:ai(a,r),oi(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Xf(r,u)));break;case 30:break;case 21:break;default:ai(a,r),oi(r)}}function oi(r){var a=r.flags;if(a&2){try{for(var l,u=r.return;u!==null;){if(Bx(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,y=qy(r);Wf(r,y,p);break;case 5:var T=l.stateNode;l.flags&32&&(ri(T,""),l.flags&=-33);var I=qy(r);Wf(r,I,T);break;case 3:case 4:var j=l.stateNode.containerInfo,te=qy(r);Gy(r,te,j);break;default:throw Error(i(161))}}catch(ce){_t(r,r.return,ce)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Yx(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;Yx(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Ts(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)qx(r,a.alternate,a),a=a.sibling}function Go(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:ga(4,a,a.return),Go(a);break;case 1:qr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&jx(a,a.return,l),Go(a);break;case 27:Eh(a.stateNode);case 26:case 5:qr(a,a.return),Go(a);break;case 22:a.memoizedState===null&&Go(a);break;case 30:Go(a);break;default:Go(a)}r=r.sibling}}function xs(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,p=r,y=a,T=y.flags;switch(y.tag){case 0:case 11:case 15:xs(p,y,l),mh(4,y);break;case 1:if(xs(p,y,l),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(te){_t(u,u.return,te)}if(u=y,p=u.updateQueue,p!==null){var I=u.stateNode;try{var j=p.shared.hiddenCallbacks;if(j!==null)for(p.shared.hiddenCallbacks=null,p=0;p<j.length;p++)AT(j[p],I)}catch(te){_t(u,u.return,te)}}l&&T&64&&Lx(y),ph(y,y.return);break;case 27:zx(y);case 26:case 5:xs(p,y,l),l&&u===null&&T&4&&Ux(y),ph(y,y.return);break;case 12:xs(p,y,l);break;case 31:xs(p,y,l),l&&T&4&&$x(p,y);break;case 13:xs(p,y,l),l&&T&4&&Kx(p,y);break;case 22:y.memoizedState===null&&xs(p,y,l),ph(y,y.return);break;case 30:break;default:xs(p,y,l)}a=a.sibling}}function $y(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&th(l))}function Ky(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&th(r))}function mr(r,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Wx(r,a,l,u),a=a.sibling}function Wx(r,a,l,u){var p=a.flags;switch(a.tag){case 0:case 11:case 15:mr(r,a,l,u),p&2048&&mh(9,a);break;case 1:mr(r,a,l,u);break;case 3:mr(r,a,l,u),p&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&th(r)));break;case 12:if(p&2048){mr(r,a,l,u),r=a.stateNode;try{var y=a.memoizedProps,T=y.id,I=y.onPostCommit;typeof I=="function"&&I(T,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){_t(a,a.return,j)}}else mr(r,a,l,u);break;case 31:mr(r,a,l,u);break;case 13:mr(r,a,l,u);break;case 23:break;case 22:y=a.stateNode,T=a.alternate,a.memoizedState!==null?y._visibility&2?mr(r,a,l,u):gh(r,a):y._visibility&2?mr(r,a,l,u):(y._visibility|=2,sc(r,a,l,u,(a.subtreeFlags&10256)!==0||!1)),p&2048&&$y(T,a);break;case 24:mr(r,a,l,u),p&2048&&Ky(a.alternate,a);break;default:mr(r,a,l,u)}}function sc(r,a,l,u,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=r,T=a,I=l,j=u,te=T.flags;switch(T.tag){case 0:case 11:case 15:sc(y,T,I,j,p),mh(8,T);break;case 23:break;case 22:var ce=T.stateNode;T.memoizedState!==null?ce._visibility&2?sc(y,T,I,j,p):gh(y,T):(ce._visibility|=2,sc(y,T,I,j,p)),p&&te&2048&&$y(T.alternate,T);break;case 24:sc(y,T,I,j,p),p&&te&2048&&Ky(T.alternate,T);break;default:sc(y,T,I,j,p)}a=a.sibling}}function gh(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,u=a,p=u.flags;switch(u.tag){case 22:gh(l,u),p&2048&&$y(u.alternate,u);break;case 24:gh(l,u),p&2048&&Ky(u.alternate,u);break;default:gh(l,u)}a=a.sibling}}var yh=8192;function ac(r,a,l){if(r.subtreeFlags&yh)for(r=r.child;r!==null;)Xx(r,a,l),r=r.sibling}function Xx(r,a,l){switch(r.tag){case 26:ac(r,a,l),r.flags&yh&&r.memoizedState!==null&&ZV(l,fr,r.memoizedState,r.memoizedProps);break;case 5:ac(r,a,l);break;case 3:case 4:var u=fr;fr=hm(r.stateNode.containerInfo),ac(r,a,l),fr=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=yh,yh=16777216,ac(r,a,l),yh=u):ac(r,a,l));break;default:ac(r,a,l)}}function Jx(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function vh(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];An=u,eE(u,r)}Jx(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Zx(r),r=r.sibling}function Zx(r){switch(r.tag){case 0:case 11:case 15:vh(r),r.flags&2048&&ga(9,r,r.return);break;case 3:vh(r);break;case 12:vh(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Jf(r)):vh(r);break;default:vh(r)}}function Jf(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];An=u,eE(u,r)}Jx(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:ga(8,a,a.return),Jf(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Jf(a));break;default:Jf(a)}r=r.sibling}}function eE(r,a){for(;An!==null;){var l=An;switch(l.tag){case 0:case 11:case 15:ga(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:th(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,An=u;else e:for(l=r;An!==null;){u=An;var p=u.sibling,y=u.return;if(Gx(u),u===l){An=null;break e}if(p!==null){p.return=y,An=p;break e}An=y}}}var mV={getCacheForType:function(r){var a=Vn(dn),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l},cacheSignal:function(){return Vn(dn).controller.signal}},pV=typeof WeakMap=="function"?WeakMap:Map,ft=0,Ct=null,Je=null,et=0,vt=0,Ai=null,ya=!1,oc=!1,Qy=!1,Es=0,Wt=0,va=0,Ho=0,Yy=0,Ii=0,lc=0,_h=null,li=null,Wy=!1,Zf=0,tE=0,em=1/0,tm=null,_a=null,_n=0,ba=null,cc=null,Ss=0,Xy=0,Jy=null,nE=null,bh=0,Zy=null;function Ri(){return(ft&2)!==0&&et!==0?et&-et:U.T!==null?sv():Xs()}function iE(){if(Ii===0)if((et&536870912)===0||st){var r=Oi;Oi<<=1,(Oi&3932160)===0&&(Oi=262144),Ii=r}else Ii=536870912;return r=Ei.current,r!==null&&(r.flags|=32),Ii}function ci(r,a,l){(r===Ct&&(vt===2||vt===9)||r.cancelPendingCommit!==null)&&(uc(r,0),wa(r,et,Ii,!1)),ls(r,l),((ft&2)===0||r!==Ct)&&(r===Ct&&((ft&2)===0&&(Ho|=l),Wt===4&&wa(r,et,Ii,!1)),Gr(r))}function rE(r,a,l){if((ft&6)!==0)throw Error(i(327));var u=!l&&(a&127)===0&&(a&r.expiredLanes)===0||ni(r,a),p=u?vV(r,a):tv(r,a,!0),y=u;do{if(p===0){oc&&!u&&wa(r,a,0,!1);break}else{if(l=r.current.alternate,y&&!gV(l)){p=tv(r,a,!1),y=!1;continue}if(p===2){if(y=a,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var I=r;p=_h;var j=I.current.memoizedState.isDehydrated;if(j&&(uc(I,T).flags|=256),T=tv(I,T,!1),T!==2){if(Qy&&!j){I.errorRecoveryDisabledLanes|=y,Ho|=y,p=4;break e}y=li,li=p,y!==null&&(li===null?li=y:li.push.apply(li,y))}p=T}if(y=!1,p!==2)continue}}if(p===1){uc(r,0),wa(r,a,0,!0);break}e:{switch(u=r,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:wa(u,a,Ii,!ya);break e;case 2:li=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=Zf+300-ln(),10<p)){if(wa(u,a,Ii,!ya),Li(u,0,!0)!==0)break e;Ss=a,u.timeoutHandle=ME(sE.bind(null,u,l,li,tm,Wy,a,Ii,Ho,lc,ya,y,"Throttled",-0,0),p);break e}sE(u,l,li,tm,Wy,a,Ii,Ho,lc,ya,y,null,-0,0)}}break}while(!0);Gr(r)}function sE(r,a,l,u,p,y,T,I,j,te,ce,fe,re,oe){if(r.timeoutHandle=-1,fe=a.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:or},Xx(a,y,fe);var Re=(y&62914560)===y?Zf-ln():(y&4194048)===y?tE-ln():0;if(Re=eM(fe,Re),Re!==null){Ss=y,r.cancelPendingCommit=Re(fE.bind(null,r,a,y,l,u,p,T,I,j,ce,fe,null,re,oe)),wa(r,y,T,!te);return}}fE(r,a,y,l,u,p,T,I,j)}function gV(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],y=p.getSnapshot;p=p.value;try{if(!Ti(y(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function wa(r,a,l,u){a&=~Yy,a&=~Ho,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var p=a;0<p;){var y=31-Dt(p),T=1<<y;u[y]=-1,p&=~T}l!==0&&Cr(r,l,a)}function nm(){return(ft&6)===0?(wh(0),!1):!0}function ev(){if(Je!==null){if(vt===0)var r=Je.return;else r=Je,ms=Oo=null,gy(r),ec=null,ih=0,r=Je;for(;r!==null;)Ox(r.alternate,r),r=r.return;Je=null}}function uc(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,OV(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Ss=0,ev(),Ct=r,Je=l=ds(r.current,null),et=a,vt=0,Ai=null,ya=!1,oc=ni(r,a),Qy=!1,lc=Ii=Yy=Ho=va=Wt=0,li=_h=null,Wy=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var p=31-Dt(u),y=1<<p;a|=r[p],u&=~y}return Es=a,xf(),l}function aE(r,a){Ge=null,U.H=hh,a===Zl||a===Df?(a=TT(),vt=3):a===ry?(a=TT(),vt=4):vt=a===ky?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ai=a,Je===null&&(Wt=1,Hf(r,Hi(a,r.current)))}function oE(){var r=Ei.current;return r===null?!0:(et&4194048)===et?Yi===null:(et&62914560)===et||(et&536870912)!==0?r===Yi:!1}function lE(){var r=U.H;return U.H=hh,r===null?hh:r}function cE(){var r=U.A;return U.A=mV,r}function im(){Wt=4,ya||(et&4194048)!==et&&Ei.current!==null||(oc=!0),(va&134217727)===0&&(Ho&134217727)===0||Ct===null||wa(Ct,et,Ii,!1)}function tv(r,a,l){var u=ft;ft|=2;var p=lE(),y=cE();(Ct!==r||et!==a)&&(tm=null,uc(r,a)),a=!1;var T=Wt;e:do try{if(vt!==0&&Je!==null){var I=Je,j=Ai;switch(vt){case 8:ev(),T=6;break e;case 3:case 2:case 9:case 6:Ei.current===null&&(a=!0);var te=vt;if(vt=0,Ai=null,hc(r,I,j,te),l&&oc){T=0;break e}break;default:te=vt,vt=0,Ai=null,hc(r,I,j,te)}}yV(),T=Wt;break}catch(ce){aE(r,ce)}while(!0);return a&&r.shellSuspendCounter++,ms=Oo=null,ft=u,U.H=p,U.A=y,Je===null&&(Ct=null,et=0,xf()),T}function yV(){for(;Je!==null;)uE(Je)}function vV(r,a){var l=ft;ft|=2;var u=lE(),p=cE();Ct!==r||et!==a?(tm=null,em=ln()+500,uc(r,a)):oc=ni(r,a);e:do try{if(vt!==0&&Je!==null){a=Je;var y=Ai;t:switch(vt){case 1:vt=0,Ai=null,hc(r,a,y,1);break;case 2:case 9:if(bT(y)){vt=0,Ai=null,hE(a);break}a=function(){vt!==2&&vt!==9||Ct!==r||(vt=7),Gr(r)},y.then(a,a);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:bT(y)?(vt=0,Ai=null,hE(a)):(vt=0,Ai=null,hc(r,a,y,7));break;case 5:var T=null;switch(Je.tag){case 26:T=Je.memoizedState;case 5:case 27:var I=Je;if(T?WE(T):I.stateNode.complete){vt=0,Ai=null;var j=I.sibling;if(j!==null)Je=j;else{var te=I.return;te!==null?(Je=te,rm(te)):Je=null}break t}}vt=0,Ai=null,hc(r,a,y,5);break;case 6:vt=0,Ai=null,hc(r,a,y,6);break;case 8:ev(),Wt=6;break e;default:throw Error(i(462))}}_V();break}catch(ce){aE(r,ce)}while(!0);return ms=Oo=null,U.H=u,U.A=p,ft=l,Je!==null?0:(Ct=null,et=0,xf(),Wt)}function _V(){for(;Je!==null&&!yo();)uE(Je)}function uE(r){var a=Vx(r.alternate,r,Es);r.memoizedProps=r.pendingProps,a===null?rm(r):Je=a}function hE(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=Rx(l,a,a.pendingProps,a.type,void 0,et);break;case 11:a=Rx(l,a,a.pendingProps,a.type.render,a.ref,et);break;case 5:gy(a);default:Ox(l,a),a=Je=cT(a,Es),a=Vx(l,a,Es)}r.memoizedProps=r.pendingProps,a===null?rm(r):Je=a}function hc(r,a,l,u){ms=Oo=null,gy(a),ec=null,ih=0;var p=a.return;try{if(oV(r,p,a,l,et)){Wt=1,Hf(r,Hi(l,r.current)),Je=null;return}}catch(y){if(p!==null)throw Je=p,y;Wt=1,Hf(r,Hi(l,r.current)),Je=null;return}a.flags&32768?(st||u===1?r=!0:oc||(et&536870912)!==0?r=!1:(ya=r=!0,(u===2||u===9||u===3||u===6)&&(u=Ei.current,u!==null&&u.tag===13&&(u.flags|=16384))),dE(a,r)):rm(a)}function rm(r){var a=r;do{if((a.flags&32768)!==0){dE(a,ya);return}r=a.return;var l=uV(a.alternate,a,Es);if(l!==null){Je=l;return}if(a=a.sibling,a!==null){Je=a;return}Je=a=r}while(a!==null);Wt===0&&(Wt=5)}function dE(r,a){do{var l=hV(r.alternate,r);if(l!==null){l.flags&=32767,Je=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){Je=r;return}Je=r=l}while(r!==null);Wt=6,Je=null}function fE(r,a,l,u,p,y,T,I,j){r.cancelPendingCommit=null;do sm();while(_n!==0);if((ft&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=qg,Pu(r,l,y,T,I,j),r===Ct&&(Je=Ct=null,et=0),cc=a,ba=r,Ss=l,Xy=y,Jy=p,nE=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,xV(Bn,function(){return vE(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=U.T,U.T=null,p=Z.p,Z.p=2,T=ft,ft|=4;try{dV(r,a,l)}finally{ft=T,Z.p=p,U.T=u}}_n=1,mE(),pE(),gE()}}function mE(){if(_n===1){_n=0;var r=ba,a=cc,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var u=Z.p;Z.p=2;var p=ft;ft|=4;try{Qx(a,r);var y=fv,T=eT(r.containerInfo),I=y.focusedElem,j=y.selectionRange;if(T!==I&&I&&I.ownerDocument&&Zw(I.ownerDocument.documentElement,I)){if(j!==null&&jg(I)){var te=j.start,ce=j.end;if(ce===void 0&&(ce=te),"selectionStart"in I)I.selectionStart=te,I.selectionEnd=Math.min(ce,I.value.length);else{var fe=I.ownerDocument||document,re=fe&&fe.defaultView||window;if(re.getSelection){var oe=re.getSelection(),Re=I.textContent.length,Oe=Math.min(j.start,Re),At=j.end===void 0?Oe:Math.min(j.end,Re);!oe.extend&&Oe>At&&(T=At,At=Oe,Oe=T);var Q=Jw(I,Oe),G=Jw(I,At);if(Q&&G&&(oe.rangeCount!==1||oe.anchorNode!==Q.node||oe.anchorOffset!==Q.offset||oe.focusNode!==G.node||oe.focusOffset!==G.offset)){var ee=fe.createRange();ee.setStart(Q.node,Q.offset),oe.removeAllRanges(),Oe>At?(oe.addRange(ee),oe.extend(G.node,G.offset)):(ee.setEnd(G.node,G.offset),oe.addRange(ee))}}}}for(fe=[],oe=I;oe=oe.parentNode;)oe.nodeType===1&&fe.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<fe.length;I++){var he=fe[I];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}ym=!!dv,fv=dv=null}finally{ft=p,Z.p=u,U.T=l}}r.current=a,_n=2}}function pE(){if(_n===2){_n=0;var r=ba,a=cc,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var u=Z.p;Z.p=2;var p=ft;ft|=4;try{qx(r,a.alternate,a)}finally{ft=p,Z.p=u,U.T=l}}_n=3}}function gE(){if(_n===4||_n===3){_n=0,Qs();var r=ba,a=cc,l=Ss,u=nE;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?_n=5:(_n=0,cc=ba=null,yE(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(_a=null),Ui(l),a=a.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ct,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=U.T,p=Z.p,Z.p=2,U.T=null;try{for(var y=r.onRecoverableError,T=0;T<u.length;T++){var I=u[T];y(I.value,{componentStack:I.stack})}}finally{U.T=a,Z.p=p}}(Ss&3)!==0&&sm(),Gr(r),p=r.pendingLanes,(l&261930)!==0&&(p&42)!==0?r===Zy?bh++:(bh=0,Zy=r):bh=0,wh(0)}}function yE(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,th(a)))}function sm(){return mE(),pE(),gE(),vE()}function vE(){if(_n!==5)return!1;var r=ba,a=Xy;Xy=0;var l=Ui(Ss),u=U.T,p=Z.p;try{Z.p=32>l?32:l,U.T=null,l=Jy,Jy=null;var y=ba,T=Ss;if(_n=0,cc=ba=null,Ss=0,(ft&6)!==0)throw Error(i(331));var I=ft;if(ft|=4,Zx(y.current),Wx(y,y.current,T,l),ft=I,wh(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ct,y)}catch{}return!0}finally{Z.p=p,U.T=u,yE(r,a)}}function _E(r,a,l){a=Hi(l,a),a=Dy(r.stateNode,a,2),r=fa(r,a,2),r!==null&&(ls(r,2),Gr(r))}function _t(r,a,l){if(r.tag===3)_E(r,r,l);else for(;a!==null;){if(a.tag===3){_E(a,r,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(_a===null||!_a.has(u))){r=Hi(l,r),l=bx(2),u=fa(a,l,2),u!==null&&(wx(l,u,a,r),ls(u,2),Gr(u));break}}a=a.return}}function nv(r,a,l){var u=r.pingCache;if(u===null){u=r.pingCache=new pV;var p=new Set;u.set(a,p)}else p=u.get(a),p===void 0&&(p=new Set,u.set(a,p));p.has(l)||(Qy=!0,p.add(l),r=bV.bind(null,r,a,l),a.then(r,r))}function bV(r,a,l){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Ct===r&&(et&l)===l&&(Wt===4||Wt===3&&(et&62914560)===et&&300>ln()-Zf?(ft&2)===0&&uc(r,0):Yy|=l,lc===et&&(lc=0)),Gr(r)}function bE(r,a){a===0&&(a=Ys()),r=Po(r,a),r!==null&&(ls(r,a),Gr(r))}function wV(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),bE(r,l)}function TV(r,a){var l=0;switch(r.tag){case 31:case 13:var u=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),bE(r,l)}function xV(r,a){return rt(r,a)}var am=null,dc=null,iv=!1,om=!1,rv=!1,Ta=0;function Gr(r){r!==dc&&r.next===null&&(dc===null?am=dc=r:dc=dc.next=r),om=!0,iv||(iv=!0,SV())}function wh(r,a){if(!rv&&om){rv=!0;do for(var l=!1,u=am;u!==null;){if(r!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var T=u.suspendedLanes,I=u.pingedLanes;y=(1<<31-Dt(42|r)+1)-1,y&=p&~(T&~I),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,EE(u,y))}else y=et,y=Li(u,u===Ct?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ni(u,y)||(l=!0,EE(u,y));u=u.next}while(l);rv=!1}}function EV(){wE()}function wE(){om=iv=!1;var r=0;Ta!==0&&MV()&&(r=Ta);for(var a=ln(),l=null,u=am;u!==null;){var p=u.next,y=TE(u,a);y===0?(u.next=null,l===null?am=p:l.next=p,p===null&&(dc=l)):(l=u,(r!==0||(y&3)!==0)&&(om=!0)),u=p}_n!==0&&_n!==5||wh(r),Ta!==0&&(Ta=0)}function TE(r,a){for(var l=r.suspendedLanes,u=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-Dt(y),I=1<<T,j=p[T];j===-1?((I&l)===0||(I&u)!==0)&&(p[T]=_o(I,a)):j<=a&&(r.expiredLanes|=I),y&=~I}if(a=Ct,l=et,l=Li(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,l===0||r===a&&(vt===2||vt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Vi(u),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||ni(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(u!==null&&Vi(u),Ui(l)){case 2:case 8:l=ti;break;case 32:l=Bn;break;case 268435456:l=Ir;break;default:l=Bn}return u=xE.bind(null,r),l=rt(l,u),r.callbackPriority=a,r.callbackNode=l,a}return u!==null&&u!==null&&Vi(u),r.callbackPriority=2,r.callbackNode=null,2}function xE(r,a){if(_n!==0&&_n!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(sm()&&r.callbackNode!==l)return null;var u=et;return u=Li(r,r===Ct?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(rE(r,u,a),TE(r,ln()),r.callbackNode!=null&&r.callbackNode===l?xE.bind(null,r):null)}function EE(r,a){if(sm())return null;rE(r,a,!0)}function SV(){LV(function(){(ft&6)!==0?rt(Qn,EV):wE()})}function sv(){if(Ta===0){var r=Xl;r===0&&(r=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Ta=r}return Ta}function SE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ol(""+r)}function AE(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function AV(r,a,l,u,p){if(a==="submit"&&l&&l.stateNode===p){var y=SE((p[Se]||null).action),T=u.submitter;T&&(a=(a=T[Se]||null)?SE(a.formAction):T.getAttribute("formAction"),a!==null&&(y=a,T=null));var I=new Lr("action","action",null,u,p);r.push({event:I,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ta!==0){var j=T?AE(p,T):new FormData(p);Sy(l,{pending:!0,data:j,method:p.method,action:y},null,j)}}else typeof y=="function"&&(I.preventDefault(),j=T?AE(p,T):new FormData(p),Sy(l,{pending:!0,data:j,method:p.method,action:y},y,j))},currentTarget:p}]})}}for(var av=0;av<Fg.length;av++){var ov=Fg[av],IV=ov.toLowerCase(),RV=ov[0].toUpperCase()+ov.slice(1);dr(IV,"on"+RV)}dr(iT,"onAnimationEnd"),dr(rT,"onAnimationIteration"),dr(sT,"onAnimationStart"),dr("dblclick","onDoubleClick"),dr("focusin","onFocus"),dr("focusout","onBlur"),dr(GP,"onTransitionRun"),dr(HP,"onTransitionStart"),dr($P,"onTransitionCancel"),dr(aT,"onTransitionEnd"),Pr("onMouseEnter",["mouseout","mouseover"]),Pr("onMouseLeave",["mouseout","mouseover"]),Pr("onPointerEnter",["pointerout","pointerover"]),Pr("onPointerLeave",["pointerout","pointerover"]),kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kr("onBeforeInput",["compositionend","keypress","textInput","paste"]),kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Th));function IE(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],p=u.event;u=u.listeners;e:{var y=void 0;if(a)for(var T=u.length-1;0<=T;T--){var I=u[T],j=I.instance,te=I.currentTarget;if(I=I.listener,j!==y&&p.isPropagationStopped())break e;y=I,p.currentTarget=te;try{y(p)}catch(ce){Tf(ce)}p.currentTarget=null,y=j}else for(T=0;T<u.length;T++){if(I=u[T],j=I.instance,te=I.currentTarget,I=I.listener,j!==y&&p.isPropagationStopped())break e;y=I,p.currentTarget=te;try{y(p)}catch(ce){Tf(ce)}p.currentTarget=null,y=j}}}}function Ze(r,a){var l=a[jt];l===void 0&&(l=a[jt]=new Set);var u=r+"__bubble";l.has(u)||(RE(a,r,2,!1),l.add(u))}function lv(r,a,l){var u=0;a&&(u|=4),RE(l,r,u,a)}var lm="_reactListening"+Math.random().toString(36).slice(2);function cv(r){if(!r[lm]){r[lm]=!0,Vu.forEach(function(l){l!=="selectionchange"&&(CV.has(l)||lv(l,!1,r),lv(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[lm]||(a[lm]=!0,lv("selectionchange",!1,a))}}function RE(r,a,l,u){switch(i1(a)){case 2:var p=iM;break;case 8:p=rM;break;default:p=Ev}l=p.bind(null,a,l,r),p=void 0,!So||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),u?p!==void 0?r.addEventListener(a,l,{capture:!0,passive:p}):r.addEventListener(a,l,!0):p!==void 0?r.addEventListener(a,l,{passive:p}):r.addEventListener(a,l,!1)}function uv(r,a,l,u,p){var y=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var I=u.stateNode.containerInfo;if(I===p)break;if(T===4)for(T=u.return;T!==null;){var j=T.tag;if((j===3||j===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;I!==null;){if(T=Nr(I),T===null)return;if(j=T.tag,j===5||j===6||j===26||j===27){u=y=T;continue e}I=I.parentNode}}u=u.return}ia(function(){var te=y,ce=zi(l),fe=[];e:{var re=oT.get(r);if(re!==void 0){var oe=Lr,Re=r;switch(r){case"keypress":if(Io(l)===0)break e;case"keydown":case"keyup":oe=_f;break;case"focusin":Re="focus",oe=Co;break;case"focusout":Re="blur",oe=Co;break;case"beforeblur":case"afterblur":oe=Co;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=b;break;case iT:case rT:case sT:oe=df;break;case aT:oe=D;break;case"scroll":case"scrollend":oe=$u;break;case"wheel":oe=ae;break;case"copy":case"cut":case"paste":oe=ff;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=hs;break;case"toggle":case"beforetoggle":oe=qe}var Oe=(a&4)!==0,At=!Oe&&(r==="scroll"||r==="scrollend"),Q=Oe?re!==null?re+"Capture":null:re;Oe=[];for(var G=te,ee;G!==null;){var he=G;if(ee=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ee===null||Q===null||(he=lr(G,Q),he!=null&&Oe.push(xh(G,he,ee))),At)break;G=G.return}0<Oe.length&&(re=new oe(re,Re,null,l,ce),fe.push({event:re,listeners:Oe}))}}if((a&7)===0){e:{if(re=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",re&&l!==qu&&(Re=l.relatedTarget||l.fromElement)&&(Nr(Re)||Re[gt]))break e;if((oe||re)&&(re=ce.window===ce?ce:(re=ce.ownerDocument)?re.defaultView||re.parentWindow:window,oe?(Re=l.relatedTarget||l.toElement,oe=te,Re=Re?Nr(Re):null,Re!==null&&(At=o(Re),Oe=Re.tag,Re!==At||Oe!==5&&Oe!==27&&Oe!==6)&&(Re=null)):(oe=null,Re=te),oe!==Re)){if(Oe=Ku,he="onMouseLeave",Q="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(Oe=hs,he="onPointerLeave",Q="onPointerEnter",G="pointer"),At=oe==null?re:bi(oe),ee=Re==null?re:bi(Re),re=new Oe(he,G+"leave",oe,l,ce),re.target=At,re.relatedTarget=ee,he=null,Nr(ce)===te&&(Oe=new Oe(Q,G+"enter",Re,l,ce),Oe.target=ee,Oe.relatedTarget=At,he=Oe),At=he,oe&&Re)t:{for(Oe=NV,Q=oe,G=Re,ee=0,he=Q;he;he=Oe(he))ee++;he=0;for(var Me=G;Me;Me=Oe(Me))he++;for(;0<ee-he;)Q=Oe(Q),ee--;for(;0<he-ee;)G=Oe(G),he--;for(;ee--;){if(Q===G||G!==null&&Q===G.alternate){Oe=Q;break t}Q=Oe(Q),G=Oe(G)}Oe=null}else Oe=null;oe!==null&&CE(fe,re,oe,Oe,!1),Re!==null&&At!==null&&CE(fe,At,Re,Oe,!0)}}e:{if(re=te?bi(te):window,oe=re.nodeName&&re.nodeName.toLowerCase(),oe==="select"||oe==="input"&&re.type==="file")var ut=$w;else if(Gw(re))if(Kw)ut=zP;else{ut=UP;var ke=jP}else oe=re.nodeName,!oe||oe.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?te&&Ml(te.elementType)&&(ut=$w):ut=BP;if(ut&&(ut=ut(r,te))){Hw(fe,ut,l,ce);break e}ke&&ke(r,re,te),r==="focusout"&&te&&re.type==="number"&&te.memoizedProps.value!=null&&Bu(re,"number",re.value)}switch(ke=te?bi(te):window,r){case"focusin":(Gw(ke)||ke.contentEditable==="true")&&(ql=ke,Ug=te,Ju=null);break;case"focusout":Ju=Ug=ql=null;break;case"mousedown":Bg=!0;break;case"contextmenu":case"mouseup":case"dragend":Bg=!1,tT(fe,l,ce);break;case"selectionchange":if(qP)break;case"keydown":case"keyup":tT(fe,l,ce)}var He;if(dt)e:{switch(r){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else Fl?No(r,l)&&(tt="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(tt="onCompositionStart");tt&&(Br&&l.locale!=="ko"&&(Fl||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&Fl&&(He=Hu()):(Or=ce,Gu="value"in Or?Or.value:Or.textContent,Fl=!0)),ke=cm(te,tt),0<ke.length&&(tt=new Ur(tt,r,null,l,ce),fe.push({event:tt,listeners:ke}),He?tt.data=He:(He=zl(l),He!==null&&(tt.data=He)))),(He=qi?VP(r,l):MP(r,l))&&(tt=cm(te,"onBeforeInput"),0<tt.length&&(ke=new Ur("onBeforeInput","beforeinput",null,l,ce),fe.push({event:ke,listeners:tt}),ke.data=He)),AV(fe,r,te,l,ce)}IE(fe,a)})}function xh(r,a,l){return{instance:r,listener:a,currentTarget:l}}function cm(r,a){for(var l=a+"Capture",u=[];r!==null;){var p=r,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=lr(r,l),p!=null&&u.unshift(xh(r,p,y)),p=lr(r,a),p!=null&&u.push(xh(r,p,y))),r.tag===3)return u;r=r.return}return[]}function NV(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function CE(r,a,l,u,p){for(var y=a._reactName,T=[];l!==null&&l!==u;){var I=l,j=I.alternate,te=I.stateNode;if(I=I.tag,j!==null&&j===u)break;I!==5&&I!==26&&I!==27||te===null||(j=te,p?(te=lr(l,y),te!=null&&T.unshift(xh(l,te,j))):p||(te=lr(l,y),te!=null&&T.push(xh(l,te,j)))),l=l.return}T.length!==0&&r.push({event:a,listeners:T})}var DV=/\r\n?/g,kV=/\u0000|\uFFFD/g;function NE(r){return(typeof r=="string"?r:""+r).replace(DV,`
`).replace(kV,"")}function DE(r,a){return a=NE(a),NE(r)===a}function St(r,a,l,u,p,y){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||ri(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&ri(r,""+u);break;case"className":wi(r,"class",u);break;case"tabIndex":wi(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":wi(r,l,u);break;case"style":Fu(r,u,y);break;case"data":if(a!=="object"){wi(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Ol(""+u),r.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&St(r,a,"name",p.name,p,null),St(r,a,"formEncType",p.formEncType,p,null),St(r,a,"formMethod",p.formMethod,p,null),St(r,a,"formTarget",p.formTarget,p,null)):(St(r,a,"encType",p.encType,p,null),St(r,a,"method",p.method,p,null),St(r,a,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Ol(""+u),r.setAttribute(l,u);break;case"onClick":u!=null&&(r.onclick=or);break;case"onScroll":u!=null&&Ze("scroll",r);break;case"onScrollEnd":u!=null&&Ze("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}l=Ol(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""+u):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":u===!0?r.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,u):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(l,u):r.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(l):r.setAttribute(l,u);break;case"popover":Ze("beforetoggle",r),Ze("toggle",r),Pl(r,"popover",u);break;case"xlinkActuate":hn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":hn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":hn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":hn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":hn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":hn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":hn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":hn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":hn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Pl(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=cf.get(l)||l,Pl(r,l,u))}}function hv(r,a,l,u,p,y){switch(l){case"style":Fu(r,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof u=="string"?ri(r,u):(typeof u=="number"||typeof u=="bigint")&&ri(r,""+u);break;case"onScroll":u!=null&&Ze("scroll",r);break;case"onScrollEnd":u!=null&&Ze("scrollend",r);break;case"onClick":u!=null&&(r.onclick=or);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mu.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),y=r[Se]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(a,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,u,p);break e}l in r?r[l]=u:u===!0?r.setAttribute(l,""):Pl(r,l,u)}}}function On(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",r),Ze("load",r);var u=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:St(r,a,y,T,l,null)}}p&&St(r,a,"srcSet",l.srcSet,l,null),u&&St(r,a,"src",l.src,l,null);return;case"input":Ze("invalid",r);var I=y=T=p=null,j=null,te=null;for(u in l)if(l.hasOwnProperty(u)){var ce=l[u];if(ce!=null)switch(u){case"name":p=ce;break;case"type":T=ce;break;case"checked":j=ce;break;case"defaultChecked":te=ce;break;case"value":y=ce;break;case"defaultValue":I=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,a));break;default:St(r,a,u,ce,l,null)}}af(r,y,I,j,te,T,p,!1);return;case"select":Ze("invalid",r),u=T=y=null;for(p in l)if(l.hasOwnProperty(p)&&(I=l[p],I!=null))switch(p){case"value":y=I;break;case"defaultValue":T=I;break;case"multiple":u=I;default:St(r,a,p,I,l,null)}a=y,l=T,r.multiple=!!u,a!=null?Zs(r,!!u,a,!1):l!=null&&Zs(r,!!u,l,!0);return;case"textarea":Ze("invalid",r),y=p=u=null;for(T in l)if(l.hasOwnProperty(T)&&(I=l[T],I!=null))switch(T){case"value":u=I;break;case"defaultValue":p=I;break;case"children":y=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:St(r,a,T,I,l,null)}ea(r,u,p,y);return;case"option":for(j in l)l.hasOwnProperty(j)&&(u=l[j],u!=null)&&(j==="selected"?r.selected=u&&typeof u!="function"&&typeof u!="symbol":St(r,a,j,u,l,null));return;case"dialog":Ze("beforetoggle",r),Ze("toggle",r),Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":Ze("load",r);break;case"video":case"audio":for(u=0;u<Th.length;u++)Ze(Th[u],r);break;case"image":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"embed":case"source":case"link":Ze("error",r),Ze("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in l)if(l.hasOwnProperty(te)&&(u=l[te],u!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:St(r,a,te,u,l,null)}return;default:if(Ml(a)){for(ce in l)l.hasOwnProperty(ce)&&(u=l[ce],u!==void 0&&hv(r,a,ce,u,l,void 0));return}}for(I in l)l.hasOwnProperty(I)&&(u=l[I],u!=null&&St(r,a,I,u,l,null))}function PV(r,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,T=null,I=null,j=null,te=null,ce=null;for(oe in l){var fe=l[oe];if(l.hasOwnProperty(oe)&&fe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":j=fe;default:u.hasOwnProperty(oe)||St(r,a,oe,null,u,fe)}}for(var re in u){var oe=u[re];if(fe=l[re],u.hasOwnProperty(re)&&(oe!=null||fe!=null))switch(re){case"type":y=oe;break;case"name":p=oe;break;case"checked":te=oe;break;case"defaultChecked":ce=oe;break;case"value":T=oe;break;case"defaultValue":I=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,a));break;default:oe!==fe&&St(r,a,re,oe,u,fe)}}Vl(r,T,I,j,te,ce,y,p);return;case"select":oe=T=I=re=null;for(y in l)if(j=l[y],l.hasOwnProperty(y)&&j!=null)switch(y){case"value":break;case"multiple":oe=j;default:u.hasOwnProperty(y)||St(r,a,y,null,u,j)}for(p in u)if(y=u[p],j=l[p],u.hasOwnProperty(p)&&(y!=null||j!=null))switch(p){case"value":re=y;break;case"defaultValue":I=y;break;case"multiple":T=y;default:y!==j&&St(r,a,p,y,u,j)}a=I,l=T,u=oe,re!=null?Zs(r,!!l,re,!1):!!u!=!!l&&(a!=null?Zs(r,!!l,a,!0):Zs(r,!!l,l?[]:"",!1));return;case"textarea":oe=re=null;for(I in l)if(p=l[I],l.hasOwnProperty(I)&&p!=null&&!u.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:St(r,a,I,null,u,p)}for(T in u)if(p=u[T],y=l[T],u.hasOwnProperty(T)&&(p!=null||y!=null))switch(T){case"value":re=p;break;case"defaultValue":oe=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&St(r,a,T,p,u,y)}of(r,re,oe);return;case"option":for(var Re in l)re=l[Re],l.hasOwnProperty(Re)&&re!=null&&!u.hasOwnProperty(Re)&&(Re==="selected"?r.selected=!1:St(r,a,Re,null,u,re));for(j in u)re=u[j],oe=l[j],u.hasOwnProperty(j)&&re!==oe&&(re!=null||oe!=null)&&(j==="selected"?r.selected=re&&typeof re!="function"&&typeof re!="symbol":St(r,a,j,re,u,oe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in l)re=l[Oe],l.hasOwnProperty(Oe)&&re!=null&&!u.hasOwnProperty(Oe)&&St(r,a,Oe,null,u,re);for(te in u)if(re=u[te],oe=l[te],u.hasOwnProperty(te)&&re!==oe&&(re!=null||oe!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,a));break;default:St(r,a,te,re,u,oe)}return;default:if(Ml(a)){for(var At in l)re=l[At],l.hasOwnProperty(At)&&re!==void 0&&!u.hasOwnProperty(At)&&hv(r,a,At,void 0,u,re);for(ce in u)re=u[ce],oe=l[ce],!u.hasOwnProperty(ce)||re===oe||re===void 0&&oe===void 0||hv(r,a,ce,re,u,oe);return}}for(var Q in l)re=l[Q],l.hasOwnProperty(Q)&&re!=null&&!u.hasOwnProperty(Q)&&St(r,a,Q,null,u,re);for(fe in u)re=u[fe],oe=l[fe],!u.hasOwnProperty(fe)||re===oe||re==null&&oe==null||St(r,a,fe,re,u,oe)}function kE(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VV(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var p=l[u],y=p.transferSize,T=p.initiatorType,I=p.duration;if(y&&I&&kE(T)){for(T=0,I=p.responseEnd,u+=1;u<l.length;u++){var j=l[u],te=j.startTime;if(te>I)break;var ce=j.transferSize,fe=j.initiatorType;ce&&kE(fe)&&(j=j.responseEnd,T+=ce*(j<I?1:(I-te)/(j-te)))}if(--u,a+=8*(y+T)/(p.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var dv=null,fv=null;function um(r){return r.nodeType===9?r:r.ownerDocument}function PE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VE(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function mv(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var pv=null;function MV(){var r=window.event;return r&&r.type==="popstate"?r===pv?!1:(pv=r,!0):(pv=null,!1)}var ME=typeof setTimeout=="function"?setTimeout:void 0,OV=typeof clearTimeout=="function"?clearTimeout:void 0,OE=typeof Promise=="function"?Promise:void 0,LV=typeof queueMicrotask=="function"?queueMicrotask:typeof OE<"u"?function(r){return OE.resolve(null).then(r).catch(jV)}:ME;function jV(r){setTimeout(function(){throw r})}function xa(r){return r==="head"}function LE(r,a){var l=a,u=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(u===0){r.removeChild(p),gc(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Eh(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,Eh(l);for(var y=l.firstChild;y;){var T=y.nextSibling,I=y.nodeName;y[_i]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=T}}else l==="body"&&Eh(r.ownerDocument.body);l=p}while(l);gc(a)}function jE(r,a){var l=r;r=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=u}while(l)}function gv(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":gv(l),kl(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function UV(r,a,l,u){for(;r.nodeType===1;){var p=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[_i])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Wi(r.nextSibling),r===null)break}return null}function BV(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Wi(r.nextSibling),r===null))return null;return r}function UE(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Wi(r.nextSibling),r===null))return null;return r}function yv(r){return r.data==="$?"||r.data==="$~"}function vv(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function zV(r,a){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Wi(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var _v=null;function BE(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(a===0)return Wi(r.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}r=r.nextSibling}return null}function zE(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return r;a--}else l!=="/$"&&l!=="/&"||a++}r=r.previousSibling}return null}function FE(r,a,l){switch(a=um(l),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Eh(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);kl(r)}var Xi=new Map,qE=new Set;function hm(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var As=Z.d;Z.d={f:FV,r:qV,D:GV,C:HV,L:$V,m:KV,X:YV,S:QV,M:WV};function FV(){var r=As.f(),a=nm();return r||a}function qV(r){var a=Bi(r);a!==null&&a.tag===5&&a.type==="form"?ax(a):As.r(r)}var fc=typeof document>"u"?null:document;function GE(r,a,l){var u=fc;if(u&&typeof a=="string"&&a){var p=ii(a);p='link[rel="'+r+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),qE.has(p)||(qE.add(p),r={rel:r,crossOrigin:l,href:a},u.querySelector(p)===null&&(a=u.createElement("link"),On(a,"link",r),un(a),u.head.appendChild(a)))}}function GV(r){As.D(r),GE("dns-prefetch",r,null)}function HV(r,a){As.C(r,a),GE("preconnect",r,a)}function $V(r,a,l){As.L(r,a,l);var u=fc;if(u&&r&&a){var p='link[rel="preload"][as="'+ii(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+ii(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+ii(l.imageSizes)+'"]')):p+='[href="'+ii(r)+'"]';var y=p;switch(a){case"style":y=mc(r);break;case"script":y=pc(r)}Xi.has(y)||(r=v({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),Xi.set(y,r),u.querySelector(p)!==null||a==="style"&&u.querySelector(Sh(y))||a==="script"&&u.querySelector(Ah(y))||(a=u.createElement("link"),On(a,"link",r),un(a),u.head.appendChild(a)))}}function KV(r,a){As.m(r,a);var l=fc;if(l&&r){var u=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+ii(u)+'"][href="'+ii(r)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=pc(r)}if(!Xi.has(y)&&(r=v({rel:"modulepreload",href:r},a),Xi.set(y,r),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ah(y)))return}u=l.createElement("link"),On(u,"link",r),un(u),l.head.appendChild(u)}}}function QV(r,a,l){As.S(r,a,l);var u=fc;if(u&&r){var p=Dr(u).hoistableStyles,y=mc(r);a=a||"default";var T=p.get(y);if(!T){var I={loading:0,preload:null};if(T=u.querySelector(Sh(y)))I.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},l),(l=Xi.get(y))&&bv(r,l);var j=T=u.createElement("link");un(j),On(j,"link",r),j._p=new Promise(function(te,ce){j.onload=te,j.onerror=ce}),j.addEventListener("load",function(){I.loading|=1}),j.addEventListener("error",function(){I.loading|=2}),I.loading|=4,dm(T,a,u)}T={type:"stylesheet",instance:T,count:1,state:I},p.set(y,T)}}}function YV(r,a){As.X(r,a);var l=fc;if(l&&r){var u=Dr(l).hoistableScripts,p=pc(r),y=u.get(p);y||(y=l.querySelector(Ah(p)),y||(r=v({src:r,async:!0},a),(a=Xi.get(p))&&wv(r,a),y=l.createElement("script"),un(y),On(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function WV(r,a){As.M(r,a);var l=fc;if(l&&r){var u=Dr(l).hoistableScripts,p=pc(r),y=u.get(p);y||(y=l.querySelector(Ah(p)),y||(r=v({src:r,async:!0,type:"module"},a),(a=Xi.get(p))&&wv(r,a),y=l.createElement("script"),un(y),On(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function HE(r,a,l,u){var p=(p=be.current)?hm(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=mc(l.href),l=Dr(p).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=mc(l.href);var y=Dr(p).hoistableStyles,T=y.get(r);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=p.querySelector(Sh(r)))&&!y._p&&(T.instance=y,T.state.loading=5),Xi.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Xi.set(r,l),y||XV(p,r,l,T.state))),a&&u===null)throw Error(i(528,""));return T}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=pc(l),l=Dr(p).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function mc(r){return'href="'+ii(r)+'"'}function Sh(r){return'link[rel="stylesheet"]['+r+"]"}function $E(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function XV(r,a,l,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),On(a,"link",l),un(a),r.head.appendChild(a))}function pc(r){return'[src="'+ii(r)+'"]'}function Ah(r){return"script[async]"+r}function KE(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+ii(l.href)+'"]');if(u)return a.instance=u,un(u),u;var p=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),un(u),On(u,"style",p),dm(u,l.precedence,r),a.instance=u;case"stylesheet":p=mc(l.href);var y=r.querySelector(Sh(p));if(y)return a.state.loading|=4,a.instance=y,un(y),y;u=$E(l),(p=Xi.get(p))&&bv(u,p),y=(r.ownerDocument||r).createElement("link"),un(y);var T=y;return T._p=new Promise(function(I,j){T.onload=I,T.onerror=j}),On(y,"link",u),a.state.loading|=4,dm(y,l.precedence,r),a.instance=y;case"script":return y=pc(l.src),(p=r.querySelector(Ah(y)))?(a.instance=p,un(p),p):(u=l,(p=Xi.get(y))&&(u=v({},l),wv(u,p)),r=r.ownerDocument||r,p=r.createElement("script"),un(p),On(p,"link",u),r.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,dm(u,l.precedence,r));return a.instance}function dm(r,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,T=0;T<u.length;T++){var I=u[T];if(I.dataset.precedence===a)y=I;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function bv(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function wv(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var fm=null;function QE(r,a,l){if(fm===null){var u=new Map,p=fm=new Map;p.set(l,u)}else p=fm,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(r))return u;for(u.set(r,null),l=l.getElementsByTagName(r),p=0;p<l.length;p++){var y=l[p];if(!(y[_i]||y[Y]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(a)||"";T=r+T;var I=u.get(T);I?I.push(y):u.set(T,[y])}}return u}function YE(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function JV(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(r=a.disabled,typeof a.precedence=="string"&&r==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function WE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function ZV(r,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=mc(u.href),y=a.querySelector(Sh(p));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=mm.bind(r),a.then(r,r)),l.state.loading|=4,l.instance=y,un(y);return}y=a.ownerDocument||a,u=$E(u),(p=Xi.get(p))&&bv(u,p),y=y.createElement("link"),un(y);var T=y;T._p=new Promise(function(I,j){T.onload=I,T.onerror=j}),On(y,"link",u),l.instance=y}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=mm.bind(r),a.addEventListener("load",l),a.addEventListener("error",l))}}var Tv=0;function eM(r,a){return r.stylesheets&&r.count===0&&gm(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var u=setTimeout(function(){if(r.stylesheets&&gm(r,r.stylesheets),r.unsuspend){var y=r.unsuspend;r.unsuspend=null,y()}},6e4+a);0<r.imgBytes&&Tv===0&&(Tv=62500*VV());var p=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&gm(r,r.stylesheets),r.unsuspend)){var y=r.unsuspend;r.unsuspend=null,y()}},(r.imgBytes>Tv?50:800)+a);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function mm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var pm=null;function gm(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,pm=new Map,a.forEach(tM,r),pm=null,mm.call(r))}function tM(r,a){if(!(a.state.loading&4)){var l=pm.get(r);if(l)var u=l.get(null);else{l=new Map,pm.set(r,l);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var T=p[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),u=T)}u&&l.set(null,u)}p=a.instance,T=p.getAttribute("data-precedence"),y=l.get(T)||u,y===u&&l.set(null,p),l.set(T,p),this.count++,u=mm.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),a.state.loading|=4}}var Ih={$$typeof:F,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function nM(r,a,l,u,p,y,T,I,j){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.hiddenUpdates=ji(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function XE(r,a,l,u,p,y,T,I,j,te,ce,fe){return r=new nM(r,a,l,T,j,te,ce,fe,I),a=1,y===!0&&(a|=24),y=xi(3,null,null,a),r.current=y,y.stateNode=r,a=ty(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:a},sy(y),r}function JE(r){return r?(r=$l,r):$l}function ZE(r,a,l,u,p,y){p=JE(p),u.context===null?u.context=p:u.pendingContext=p,u=da(a),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=fa(r,u,a),l!==null&&(ci(l,r,a),sh(l,r,a))}function e1(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function xv(r,a){e1(r,a),(r=r.alternate)&&e1(r,a)}function t1(r){if(r.tag===13||r.tag===31){var a=Po(r,67108864);a!==null&&ci(a,r,67108864),xv(r,67108864)}}function n1(r){if(r.tag===13||r.tag===31){var a=Ri();a=Ws(a);var l=Po(r,a);l!==null&&ci(l,r,a),xv(r,a)}}var ym=!0;function iM(r,a,l,u){var p=U.T;U.T=null;var y=Z.p;try{Z.p=2,Ev(r,a,l,u)}finally{Z.p=y,U.T=p}}function rM(r,a,l,u){var p=U.T;U.T=null;var y=Z.p;try{Z.p=8,Ev(r,a,l,u)}finally{Z.p=y,U.T=p}}function Ev(r,a,l,u){if(ym){var p=Sv(u);if(p===null)uv(r,a,u,vm,l),r1(r,u);else if(aM(p,r,a,l,u))u.stopPropagation();else if(r1(r,u),a&4&&-1<sM.indexOf(r)){for(;p!==null;){var y=Bi(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=yi(y.pendingLanes);if(T!==0){var I=y;for(I.pendingLanes|=2,I.entangledLanes|=2;T;){var j=1<<31-Dt(T);I.entanglements[1]|=j,T&=~j}Gr(y),(ft&6)===0&&(em=ln()+500,wh(0))}}break;case 31:case 13:I=Po(y,2),I!==null&&ci(I,y,2),nm(),xv(y,2)}if(y=Sv(u),y===null&&uv(r,a,u,vm,l),y===p)break;p=y}p!==null&&u.stopPropagation()}else uv(r,a,u,null,l)}}function Sv(r){return r=zi(r),Av(r)}var vm=null;function Av(r){if(vm=null,r=Nr(r),r!==null){var a=o(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=c(a),r!==null)return r;r=null}else if(l===31){if(r=h(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return vm=r,null}function i1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Un()){case Qn:return 2;case ti:return 8;case Bn:case as:return 32;case Ir:return 268435456;default:return 32}default:return 32}}var Iv=!1,Ea=null,Sa=null,Aa=null,Rh=new Map,Ch=new Map,Ia=[],sM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r1(r,a){switch(r){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":Rh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ch.delete(a.pointerId)}}function Nh(r,a,l,u,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},a!==null&&(a=Bi(a),a!==null&&t1(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),r)}function aM(r,a,l,u,p){switch(a){case"focusin":return Ea=Nh(Ea,r,a,l,u,p),!0;case"dragenter":return Sa=Nh(Sa,r,a,l,u,p),!0;case"mouseover":return Aa=Nh(Aa,r,a,l,u,p),!0;case"pointerover":var y=p.pointerId;return Rh.set(y,Nh(Rh.get(y)||null,r,a,l,u,p)),!0;case"gotpointercapture":return y=p.pointerId,Ch.set(y,Nh(Ch.get(y)||null,r,a,l,u,p)),!0}return!1}function s1(r){var a=Nr(r.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){r.blockedOn=a,Wn(r.priority,function(){n1(l)});return}}else if(a===31){if(a=h(l),a!==null){r.blockedOn=a,Wn(r.priority,function(){n1(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function _m(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=Sv(r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);qu=u,l.target.dispatchEvent(u),qu=null}else return a=Bi(l),a!==null&&t1(a),r.blockedOn=l,!1;a.shift()}return!0}function a1(r,a,l){_m(r)&&l.delete(a)}function oM(){Iv=!1,Ea!==null&&_m(Ea)&&(Ea=null),Sa!==null&&_m(Sa)&&(Sa=null),Aa!==null&&_m(Aa)&&(Aa=null),Rh.forEach(a1),Ch.forEach(a1)}function bm(r,a){r.blockedOn===a&&(r.blockedOn=null,Iv||(Iv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,oM)))}var wm=null;function o1(r){wm!==r&&(wm=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){wm===r&&(wm=null);for(var a=0;a<r.length;a+=3){var l=r[a],u=r[a+1],p=r[a+2];if(typeof u!="function"){if(Av(u||l)===null)continue;break}var y=Bi(l);y!==null&&(r.splice(a,3),a-=3,Sy(y,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function gc(r){function a(j){return bm(j,r)}Ea!==null&&bm(Ea,r),Sa!==null&&bm(Sa,r),Aa!==null&&bm(Aa,r),Rh.forEach(a),Ch.forEach(a);for(var l=0;l<Ia.length;l++){var u=Ia[l];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Ia.length&&(l=Ia[0],l.blockedOn===null);)s1(l),l.blockedOn===null&&Ia.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],y=l[u+1],T=p[Se]||null;if(typeof y=="function")T||o1(l);else if(T){var I=null;if(y&&y.hasAttribute("formAction")){if(p=y,T=y[Se]||null)I=T.formAction;else if(Av(p)!==null)continue}else I=T.action;typeof I=="function"?l[u+1]=I:(l.splice(u,3),u-=3),o1(l)}}}function l1(){function r(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function Rv(r){this._internalRoot=r}Tm.prototype.render=Rv.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=Ri();ZE(l,u,r,a,null,null)},Tm.prototype.unmount=Rv.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;ZE(r.current,2,null,r,null,null),nm(),a[gt]=null}};function Tm(r){this._internalRoot=r}Tm.prototype.unstable_scheduleHydration=function(r){if(r){var a=Xs();r={blockedOn:null,target:r,priority:a};for(var l=0;l<Ia.length&&a!==0&&a<Ia[l].priority;l++);Ia.splice(l,0,r),l===0&&s1(r)}};var c1=e.version;if(c1!=="19.2.3")throw Error(i(527,c1,"19.2.3"));Z.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=f(a),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var lM={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xm.isDisabled&&xm.supportsFiber)try{ct=xm.inject(lM),Ht=xm}catch{}}return kh.createRoot=function(r,a){if(!s(r))throw Error(i(299));var l=!1,u="",p=gx,y=yx,T=vx;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError)),a=XE(r,1,!1,null,null,l,u,null,p,y,T,l1),r[gt]=a.current,cv(r),new Rv(a)},kh.hydrateRoot=function(r,a,l){if(!s(r))throw Error(i(299));var u=!1,p="",y=gx,T=yx,I=vx,j=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.formState!==void 0&&(j=l.formState)),a=XE(r,1,!0,a,l??null,u,p,j,y,T,I,l1),a.context=JE(null),l=a.current,u=Ri(),u=Ws(u),p=da(u),p.callback=null,fa(l,p,u),l=u,a.current.lanes=l,ls(a,l),Gr(a),r[gt]=a.current,cv(r),new Tm(a)},kh.version="19.2.3",kh}var _1;function _M(){if(_1)return Dv.exports;_1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dv.exports=vM(),Dv.exports}var bM=_M();var b1="popstate";function wM(n={}){function e(i,s){let{pathname:o,search:c,hash:h}=i.location;return T0("",{pathname:o,search:c,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:dd(s)}return xM(e,t,null,n)}function qt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TM(){return Math.random().toString(36).substring(2,10)}function w1(n,e){return{usr:n.state,key:n.key,idx:e}}function T0(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?cu(e):e,state:t,key:e&&e.key||i||TM()}}function dd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function cu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function xM(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,c=s.history,h="POP",d=null,f=g();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function g(){return(c.state||{idx:null}).idx}function v(){h="POP";let C=g(),B=C==null?null:C-f;f=C,d&&d({action:h,location:k.location,delta:B})}function w(C,B){h="PUSH";let H=T0(k.location,C,B);f=g()+1;let F=w1(H,f),$=k.createHref(H);try{c.pushState(F,"",$)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;s.location.assign($)}o&&d&&d({action:h,location:k.location,delta:1})}function E(C,B){h="REPLACE";let H=T0(k.location,C,B);f=g();let F=w1(H,f),$=k.createHref(H);c.replaceState(F,"",$),o&&d&&d({action:h,location:k.location,delta:0})}function R(C){return EM(C)}let k={get action(){return h},get location(){return n(s,c)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(b1,v),d=C,()=>{s.removeEventListener(b1,v),d=null}},createHref(C){return e(s,C)},createURL:R,encodeLocation(C){let B=R(C);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:E,go(C){return c.go(C)}};return k}function EM(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),qt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:dd(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function lR(n,e,t="/"){return SM(n,e,t,!1)}function SM(n,e,t,i){let s=typeof e=="string"?cu(e):e,o=Ls(s.pathname||"/",t);if(o==null)return null;let c=cR(n);AM(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let f=LM(o);h=MM(c[d],f,i)}return h}function cR(n,e=[],t=[],i="",s=!1){let o=(c,h,d=s,f)=>{let g={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&d)return;qt(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let v=Ms([i,g.relativePath]),w=t.concat(g);c.children&&c.children.length>0&&(qt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),cR(c.children,e,w,v,d)),!(c.path==null&&!c.index)&&e.push({path:v,score:PM(v,c.index),routesMeta:w})};return n.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let d of uR(c.path))o(c,h,!0,d)}),e}function uR(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let c=uR(i.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),s&&h.push(...c),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function AM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:VM(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var IM=/^:[\w-]+$/,RM=3,CM=2,NM=1,DM=10,kM=-2,T1=n=>n==="*";function PM(n,e){let t=n.split("/"),i=t.length;return t.some(T1)&&(i+=kM),e&&(i+=CM),t.filter(s=>!T1(s)).reduce((s,o)=>s+(IM.test(o)?RM:o===""?NM:DM),i)}function VM(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function MM(n,e,t=!1){let{routesMeta:i}=n,s={},o="/",c=[];for(let h=0;h<i.length;++h){let d=i[h],f=h===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=hp({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),w=d.route;if(!v&&f&&t&&!i[i.length-1].route.index&&(v=hp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),c.push({params:s,pathname:Ms([o,v.pathname]),pathnameBase:zM(Ms([o,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(o=Ms([o,v.pathnameBase]))}return c}function hp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=OM(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((f,{paramName:g,isOptional:v},w)=>{if(g==="*"){let R=h[w]||"";c=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const E=h[w];return v&&!E?f[g]=void 0:f[g]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:n}}function OM(n,e=!1,t=!0){rr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function LM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ls(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var hR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jM=n=>hR.test(n);function UM(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?cu(n):n,o;if(t)if(jM(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),rr(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?o=x1(t.substring(1),"/"):o=x1(t,e)}else o=e;return{pathname:o,search:FM(i),hash:qM(s)}}function x1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Mv(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BM(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function D_(n){let e=BM(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function k_(n,e,t,i=!1){let s;typeof n=="string"?s=cu(n):(s={...n},qt(!s.pathname||!s.pathname.includes("?"),Mv("?","pathname","search",s)),qt(!s.pathname||!s.pathname.includes("#"),Mv("#","pathname","hash",s)),qt(!s.search||!s.search.includes("#"),Mv("#","search","hash",s)));let o=n===""||s.pathname==="",c=o?"/":s.pathname,h;if(c==null)h=t;else{let v=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),v-=1;s.pathname=w.join("/")}h=v>=0?e[v]:"/"}let d=UM(s,h),f=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var Ms=n=>n.join("/").replace(/\/\/+/g,"/"),zM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),FM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,qM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,GM=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function HM(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function $M(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var dR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fR(n,e){let t=n;if(typeof t!="string"||!hR.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,s=!1;if(dR)try{let o=new URL(window.location.href),c=t.startsWith("//")?new URL(o.protocol+t):new URL(t),h=Ls(c.pathname,e);c.origin===o.origin&&h!=null?t=h+c.search+c.hash:s=!0}catch{rr(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mR=["POST","PUT","PATCH","DELETE"];new Set(mR);var KM=["GET",...mR];new Set(KM);var uu=V.createContext(null);uu.displayName="DataRouter";var Zp=V.createContext(null);Zp.displayName="DataRouterState";var QM=V.createContext(!1),pR=V.createContext({isTransitioning:!1});pR.displayName="ViewTransition";var YM=V.createContext(new Map);YM.displayName="Fetchers";var WM=V.createContext(null);WM.displayName="Await";var Pi=V.createContext(null);Pi.displayName="Navigation";var kd=V.createContext(null);kd.displayName="Location";var Ar=V.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var P_=V.createContext(null);P_.displayName="RouteError";var gR="REACT_ROUTER_ERROR",XM="REDIRECT",JM="ROUTE_ERROR_RESPONSE";function ZM(n){if(n.startsWith(`${gR}:${XM}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function eO(n){if(n.startsWith(`${gR}:${JM}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new GM(e.status,e.statusText,e.data)}catch{}}function tO(n,{relative:e}={}){qt(hu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=V.useContext(Pi),{hash:s,pathname:o,search:c}=Pd(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Ms([t,o])),i.createHref({pathname:h,search:c,hash:s})}function hu(){return V.useContext(kd)!=null}function ao(){return qt(hu(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(kd).location}var yR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vR(n){V.useContext(Pi).static||V.useLayoutEffect(n)}function du(){let{isDataRoute:n}=V.useContext(Ar);return n?pO():nO()}function nO(){qt(hu(),"useNavigate() may be used only in the context of a <Router> component.");let n=V.useContext(uu),{basename:e,navigator:t}=V.useContext(Pi),{matches:i}=V.useContext(Ar),{pathname:s}=ao(),o=JSON.stringify(D_(i)),c=V.useRef(!1);return vR(()=>{c.current=!0}),V.useCallback((d,f={})=>{if(rr(c.current,yR),!c.current)return;if(typeof d=="number"){t.go(d);return}let g=k_(d,JSON.parse(o),s,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ms([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,o,s,n])}V.createContext(null);function iO(){let{matches:n}=V.useContext(Ar),e=n[n.length-1];return e?e.params:{}}function Pd(n,{relative:e}={}){let{matches:t}=V.useContext(Ar),{pathname:i}=ao(),s=JSON.stringify(D_(t));return V.useMemo(()=>k_(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function rO(n,e){return _R(n,e)}function _R(n,e,t,i,s){qt(hu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=V.useContext(Pi),{matches:c}=V.useContext(Ar),h=c[c.length-1],d=h?h.params:{},f=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let H=v&&v.path||"";wR(f,!v||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let w=ao(),E;if(e){let H=typeof e=="string"?cu(e):e;qt(g==="/"||H.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${H.pathname}" was given in the \`location\` prop.`),E=H}else E=w;let R=E.pathname||"/",k=R;if(g!=="/"){let H=g.replace(/^\//,"").split("/");k="/"+R.replace(/^\//,"").split("/").slice(H.length).join("/")}let C=lR(n,{pathname:k});rr(v||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),rr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=cO(C&&C.map(H=>Object.assign({},H,{params:Object.assign({},d,H.params),pathname:Ms([g,o.encodeLocation?o.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?g:Ms([g,o.encodeLocation?o.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,t,i,s);return e&&B?V.createElement(kd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},B):B}function sO(){let n=mO(),e=HM(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:o},"ErrorBoundary")," or"," ",V.createElement("code",{style:o},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:s},t):null,c)}var aO=V.createElement(sO,null),bR=class extends V.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=eO(n.digest);t&&(n=t)}let e=n!==void 0?V.createElement(Ar.Provider,{value:this.props.routeContext},V.createElement(P_.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?V.createElement(oO,{error:n},e):e}};bR.contextType=QM;var Ov=new WeakMap;function oO({children:n,error:e}){let{basename:t}=V.useContext(Pi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=ZM(e.digest);if(i){let s=Ov.get(e);if(s)throw s;let o=fR(i.location,t);if(dR&&!Ov.get(e))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw Ov.set(e,c),c}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function lO({routeContext:n,match:e,children:t}){let i=V.useContext(uu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Ar.Provider,{value:n},t)}function cO(n,e=[],t=null,i=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t?.errors;if(c!=null){let g=o.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);qt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,d=-1;if(t)for(let g=0;g<o.length;g++){let v=o[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=g),v.route.id){let{loaderData:w,errors:E}=t,R=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!E||E[v.route.id]===void 0);if(v.route.lazy||R){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=t&&i?(g,v)=>{i(g,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:$M(t.matches),errorInfo:v})}:void 0;return o.reduceRight((g,v,w)=>{let E,R=!1,k=null,C=null;t&&(E=c&&v.route.id?c[v.route.id]:void 0,k=v.route.errorElement||aO,h&&(d<0&&w===0?(wR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,C=null):d===w&&(R=!0,C=v.route.hydrateFallbackElement||null)));let B=e.concat(o.slice(0,w+1)),H=()=>{let F;return E?F=k:R?F=C:v.route.Component?F=V.createElement(v.route.Component,null):v.route.element?F=v.route.element:F=g,V.createElement(lO,{match:v,routeContext:{outlet:g,matches:B,isDataRoute:t!=null},children:F})};return t&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?V.createElement(bR,{location:t.location,revalidation:t.revalidation,component:k,error:E,children:H(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:f}):H()},null)}function V_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uO(n){let e=V.useContext(uu);return qt(e,V_(n)),e}function hO(n){let e=V.useContext(Zp);return qt(e,V_(n)),e}function dO(n){let e=V.useContext(Ar);return qt(e,V_(n)),e}function M_(n){let e=dO(n),t=e.matches[e.matches.length-1];return qt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function fO(){return M_("useRouteId")}function mO(){let n=V.useContext(P_),e=hO("useRouteError"),t=M_("useRouteError");return n!==void 0?n:e.errors?.[t]}function pO(){let{router:n}=uO("useNavigate"),e=M_("useNavigate"),t=V.useRef(!1);return vR(()=>{t.current=!0}),V.useCallback(async(s,o={})=>{rr(t.current,yR),t.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var E1={};function wR(n,e,t){!e&&!E1[n]&&(E1[n]=!0,rr(!1,t))}V.memo(gO);function gO({routes:n,future:e,state:t,onError:i}){return _R(n,void 0,t,i,e)}function S1({to:n,replace:e,state:t,relative:i}){qt(hu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=V.useContext(Pi);rr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=V.useContext(Ar),{pathname:c}=ao(),h=du(),d=k_(n,D_(o),c,i==="path"),f=JSON.stringify(d);return V.useEffect(()=>{h(JSON.parse(f),{replace:e,state:t,relative:i})},[h,f,i,e,t]),null}function Va(n){qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yO({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:o=!1,unstable_useTransitions:c}){qt(!hu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),d=V.useMemo(()=>({basename:h,navigator:s,static:o,unstable_useTransitions:c,future:{}}),[h,s,o,c]);typeof t=="string"&&(t=cu(t));let{pathname:f="/",search:g="",hash:v="",state:w=null,key:E="default"}=t,R=V.useMemo(()=>{let k=Ls(f,h);return k==null?null:{location:{pathname:k,search:g,hash:v,state:w,key:E},navigationType:i}},[h,f,g,v,w,E,i]);return rr(R!=null,`<Router basename="${h}"> is not able to match the URL "${f}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:V.createElement(Pi.Provider,{value:d},V.createElement(kd.Provider,{children:e,value:R}))}function vO({children:n,location:e}){return rO(x0(n),e)}function x0(n,e=[]){let t=[];return V.Children.forEach(n,(i,s)=>{if(!V.isValidElement(i))return;let o=[...e,s];if(i.type===V.Fragment){t.push.apply(t,x0(i.props.children,o));return}qt(i.type===Va,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=x0(i.props.children,o)),t.push(c)}),t}var Fm="get",qm="application/x-www-form-urlencoded";function eg(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function _O(n){return eg(n)&&n.tagName.toLowerCase()==="button"}function bO(n){return eg(n)&&n.tagName.toLowerCase()==="form"}function wO(n){return eg(n)&&n.tagName.toLowerCase()==="input"}function TO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function xO(n,e){return n.button===0&&(!e||e==="_self")&&!TO(n)}var Em=null;function EO(){if(Em===null)try{new FormData(document.createElement("form"),0),Em=!1}catch{Em=!0}return Em}var SO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lv(n){return n!=null&&!SO.has(n)?(rr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qm}"`),null):n}function AO(n,e){let t,i,s,o,c;if(bO(n)){let h=n.getAttribute("action");i=h?Ls(h,e):null,t=n.getAttribute("method")||Fm,s=Lv(n.getAttribute("enctype"))||qm,o=new FormData(n)}else if(_O(n)||wO(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(i=d?Ls(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Fm,s=Lv(n.getAttribute("formenctype"))||Lv(h.getAttribute("enctype"))||qm,o=new FormData(h,n),!EO()){let{name:f,type:g,value:v}=n;if(g==="image"){let w=f?`${f}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else f&&o.append(f,v)}}else{if(eg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Fm,i=null,s=qm,c=n}return o&&s==="text/plain"&&(c=o,o=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function O_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function IO(n,e,t,i){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&Ls(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function RO(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function NO(n,e,t){let i=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await RO(o,t);return c.links?c.links():[]}return[]}));return VO(i.flat(1).filter(CO).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function A1(n,e,t,i,s,o){let c=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,h=(d,f)=>t[f].pathname!==d.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,f)=>c(d,f)||h(d,f)):o==="data"?e.filter((d,f)=>{let g=i.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function DO(n,e,{includeHydrateFallback:t}={}){return kO(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function kO(n){return[...new Set(n)]}function PO(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function VO(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let o=JSON.stringify(PO(s));return t.has(o)||(t.add(o),i.push({key:o,link:s})),i},[])}function TR(){let n=V.useContext(uu);return O_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function MO(){let n=V.useContext(Zp);return O_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var L_=V.createContext(void 0);L_.displayName="FrameworkContext";function xR(){let n=V.useContext(L_);return O_(n,"You must render this element inside a <HydratedRouter> element"),n}function OO(n,e){let t=V.useContext(L_),[i,s]=V.useState(!1),[o,c]=V.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:v}=e,w=V.useRef(null);V.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let k=B=>{B.forEach(H=>{c(H.isIntersecting)})},C=new IntersectionObserver(k,{threshold:.5});return w.current&&C.observe(w.current),()=>{C.disconnect()}}},[n]),V.useEffect(()=>{if(i){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[i]);let E=()=>{s(!0)},R=()=>{s(!1),c(!1)};return t?n!=="intent"?[o,w,{}]:[o,w,{onFocus:Ph(h,E),onBlur:Ph(d,R),onMouseEnter:Ph(f,E),onMouseLeave:Ph(g,R),onTouchStart:Ph(v,E)}]:[!1,w,{}]}function Ph(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function LO({page:n,...e}){let{router:t}=TR(),i=V.useMemo(()=>lR(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?V.createElement(UO,{page:n,matches:i,...e}):null}function jO(n){let{manifest:e,routeModules:t}=xR(),[i,s]=V.useState([]);return V.useEffect(()=>{let o=!1;return NO(n,e,t).then(c=>{o||s(c)}),()=>{o=!0}},[n,e,t]),i}function UO({page:n,matches:e,...t}){let i=ao(),{future:s,manifest:o,routeModules:c}=xR(),{basename:h}=TR(),{loaderData:d,matches:f}=MO(),g=V.useMemo(()=>A1(n,e,f,o,i,"data"),[n,e,f,o,i]),v=V.useMemo(()=>A1(n,e,f,o,i,"assets"),[n,e,f,o,i]),w=V.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let k=new Set,C=!1;if(e.forEach(H=>{let F=o.routes[H.route.id];!F||!F.hasLoader||(!g.some($=>$.route.id===H.route.id)&&H.route.id in d&&c[H.route.id]?.shouldRevalidate||F.hasClientLoader?C=!0:k.add(H.route.id))}),k.size===0)return[];let B=IO(n,h,s.unstable_trailingSlashAwareDataRequests,"data");return C&&k.size>0&&B.searchParams.set("_routes",e.filter(H=>k.has(H.route.id)).map(H=>H.route.id).join(",")),[B.pathname+B.search]},[h,s.unstable_trailingSlashAwareDataRequests,d,i,o,g,e,n,c]),E=V.useMemo(()=>DO(v,o),[v,o]),R=jO(v);return V.createElement(V.Fragment,null,w.map(k=>V.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),E.map(k=>V.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),R.map(({key:k,link:C})=>V.createElement("link",{key:k,nonce:t.nonce,...C})))}function BO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var zO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zO&&(window.__reactRouterVersion="7.12.0")}catch{}function FO({basename:n,children:e,unstable_useTransitions:t,window:i}){let s=V.useRef();s.current==null&&(s.current=wM({window:i,v5Compat:!0}));let o=s.current,[c,h]=V.useState({action:o.action,location:o.location}),d=V.useCallback(f=>{t===!1?h(f):V.startTransition(()=>h(f))},[t]);return V.useLayoutEffect(()=>o.listen(d),[o,d]),V.createElement(yO,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:t})}var ER=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SR=V.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:o,replace:c,state:h,target:d,to:f,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:w,...E},R){let{basename:k,unstable_useTransitions:C}=V.useContext(Pi),B=typeof f=="string"&&ER.test(f),H=fR(f,k);f=H.to;let F=tO(f,{relative:s}),[$,ie,le]=OO(i,E),N=$O(f,{replace:c,state:h,target:d,preventScrollReset:g,relative:s,viewTransition:v,unstable_defaultShouldRevalidate:w,unstable_useTransitions:C});function A(L){e&&e(L),L.defaultPrevented||N(L)}let P=V.createElement("a",{...E,...le,href:H.absoluteURL||F,onClick:H.isExternal||o?e:A,ref:BO(R,ie),target:d,"data-discover":!B&&t==="render"?"true":void 0});return $&&!B?V.createElement(V.Fragment,null,P,V.createElement(LO,{page:F})):P});SR.displayName="Link";var qO=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:o,to:c,viewTransition:h,children:d,...f},g){let v=Pd(c,{relative:f.relative}),w=ao(),E=V.useContext(Zp),{navigator:R,basename:k}=V.useContext(Pi),C=E!=null&&XO(v)&&h===!0,B=R.encodeLocation?R.encodeLocation(v).pathname:v.pathname,H=w.pathname,F=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(H=H.toLowerCase(),F=F?F.toLowerCase():null,B=B.toLowerCase()),F&&k&&(F=Ls(F,k)||F);const $=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ie=H===B||!s&&H.startsWith(B)&&H.charAt($)==="/",le=F!=null&&(F===B||!s&&F.startsWith(B)&&F.charAt(B.length)==="/"),N={isActive:ie,isPending:le,isTransitioning:C},A=ie?e:void 0,P;typeof i=="function"?P=i(N):P=[i,ie?"active":null,le?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(N):o;return V.createElement(SR,{...f,"aria-current":A,className:P,ref:g,style:L,to:c,viewTransition:h},typeof d=="function"?d(N):d)});qO.displayName="NavLink";var GO=V.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:o,method:c=Fm,action:h,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:w,...E},R)=>{let{unstable_useTransitions:k}=V.useContext(Pi),C=YO(),B=WO(h,{relative:f}),H=c.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&ER.test(h),$=ie=>{if(d&&d(ie),ie.defaultPrevented)return;ie.preventDefault();let le=ie.nativeEvent.submitter,N=le?.getAttribute("formmethod")||c,A=()=>C(le||ie.currentTarget,{fetcherKey:e,method:N,navigate:t,replace:s,state:o,relative:f,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:w});k&&t!==!1?V.startTransition(()=>A()):A()};return V.createElement("form",{ref:R,method:H,action:B,onSubmit:i?d:$,...E,"data-discover":!F&&n==="render"?"true":void 0})});GO.displayName="Form";function HO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AR(n){let e=V.useContext(uu);return qt(e,HO(n)),e}function $O(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let f=du(),g=ao(),v=Pd(n,{relative:o});return V.useCallback(w=>{if(xO(w,e)){w.preventDefault();let E=t!==void 0?t:dd(g)===dd(v),R=()=>f(n,{replace:E,state:i,preventScrollReset:s,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h});d?V.startTransition(()=>R()):R()}},[g,f,v,t,i,e,n,s,o,c,h,d])}var KO=0,QO=()=>`__${String(++KO)}__`;function YO(){let{router:n}=AR("useSubmit"),{basename:e}=V.useContext(Pi),t=fO(),i=n.fetch,s=n.navigate;return V.useCallback(async(o,c={})=>{let{action:h,method:d,encType:f,formData:g,body:v}=AO(o,e);if(c.navigate===!1){let w=c.fetcherKey||QO();await i(w,t,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||d,formEncType:c.encType||f,flushSync:c.flushSync})}else await s(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||d,formEncType:c.encType||f,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,s,e,t])}function WO(n,{relative:e}={}){let{basename:t}=V.useContext(Pi),i=V.useContext(Ar);qt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Pd(n||".",{relative:e})},c=ao();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ms([t,o.pathname])),dd(o)}function XO(n,{relative:e}={}){let t=V.useContext(pR);qt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=AR("useViewTransitionState"),s=Pd(n,{relative:e});if(!t.isTransitioning)return!1;let o=Ls(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Ls(t.nextLocation.pathname,i)||t.nextLocation.pathname;return hp(s.pathname,c)!=null||hp(s.pathname,o)!=null}const JO="modulepreload",ZO=function(n){return"/"+n},I1={},dp=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){let d=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");s=d(t.map(f=>{if(f=ZO(f),f in I1)return;I1[f]=!0;const g=f.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":JO,g||(w.as="script"),w.crossOrigin="",w.href=f,h&&w.setAttribute("nonce",h),document.head.appendChild(w),g)return new Promise((E,R)=>{w.addEventListener("load",E),w.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return s.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})},e4=()=>{};var R1={};const IR=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},t4=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],c=n[t++],h=n[t++],d=((s&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},RR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],c=s+1<n.length,h=c?n[s+1]:0,d=s+2<n.length,f=d?n[s+2]:0,g=o>>2,v=(o&3)<<4|h>>4;let w=(h&15)<<2|f>>6,E=f&63;d||(E=64,c||(w=64)),i.push(t[g],t[v],t[w],t[E])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(IR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):t4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const f=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||h==null||f==null||v==null)throw new n4;const w=o<<2|h>>4;if(i.push(w),f!==64){const E=h<<4&240|f>>2;if(i.push(E),v!==64){const R=f<<6&192|v;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class n4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i4=function(n){const e=IR(n);return RR.encodeByteArray(e,!0)},fp=function(n){return i4(n).replace(/\./g,"")},CR=function(n){try{return RR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function NR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const r4=()=>NR().__FIREBASE_DEFAULTS__,s4=()=>{if(typeof process>"u"||typeof R1>"u")return;const n=R1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},a4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&CR(n[1]);return e&&JSON.parse(e)},tg=()=>{try{return e4()||r4()||s4()||a4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},DR=n=>tg()?.emulatorHosts?.[n],kR=n=>{const e=DR(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},PR=()=>tg()?.config,VR=n=>tg()?.[`_${n}`];class o4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function oo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ng(n){return(await fetch(n,{credentials:"include"})).ok}function MR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[fp(JSON.stringify(t)),fp(JSON.stringify(c)),""].join(".")}const Wh={};function l4(){const n={prod:[],emulator:[]};for(const e of Object.keys(Wh))Wh[e]?n.emulator.push(e):n.prod.push(e);return n}function c4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let C1=!1;function j_(n,e){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||Wh[n]===e||Wh[n]||C1)return;Wh[n]=e;function t(w){return`__firebase__banner__${w}`}const i="__firebase__banner",o=l4().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,E){w.setAttribute("width","24"),w.setAttribute("id",E),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function f(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{C1=!0,c()},w}function g(w,E){w.setAttribute("id",E),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=c4(i),E=t("text"),R=document.getElementById(E)||document.createElement("span"),k=t("learnmore"),C=document.getElementById(k)||document.createElement("a"),B=t("preprendIcon"),H=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const F=w.element;h(F),g(C,k);const $=f();d(H,B),F.append(H,R,C,$),document.body.appendChild(F)}o?(R.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function OR(){const n=tg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function d4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function f4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m4(){const n=Tn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function LR(){return!OR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jR(){return!OR()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function UR(){try{return typeof indexedDB=="object"}catch{return!1}}function p4(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const g4="FirebaseError";class rs extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=g4,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vd.prototype.create)}}class Vd{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?y4(o,i):"Error",h=`${this.serviceName}: ${c} (${s}).`;return new rs(s,h,i)}}function y4(n,e){return n.replace(v4,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const v4=/\{\$([^}]+)}/g;function _4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Sr(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const o=n[s],c=e[s];if(N1(o)&&N1(c)){if(!Sr(o,c))return!1}else if(o!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function N1(n){return n!==null&&typeof n=="object"}function Md(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function b4(n,e){const t=new w4(n,e);return t.subscribe.bind(t)}class w4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");T4(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=jv),s.error===void 0&&(s.error=jv),s.complete===void 0&&(s.complete=jv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jv(){}function It(n){return n&&n._delegate?n._delegate:n}class Ya{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Yo="[DEFAULT]";class x4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new o4;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S4(e))try{this.getOrInitializeService({instanceIdentifier:Yo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=Yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yo){return this.instances.has(e)}getOptions(e=Yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(s)}return s}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:E4(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Yo){return this.component?this.component.multipleInstances?e:Yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E4(n){return n===Yo?void 0:n}function S4(n){return n.instantiationMode==="EAGER"}class A4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new x4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var nt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(nt||(nt={}));const I4={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},R4=nt.INFO,C4={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},N4=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=C4[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class U_{constructor(e){this.name=e,this._logLevel=R4,this._logHandler=N4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const D4=(n,e)=>e.some(t=>n instanceof t);let D1,k1;function k4(){return D1||(D1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P4(){return k1||(k1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BR=new WeakMap,E0=new WeakMap,zR=new WeakMap,Uv=new WeakMap,B_=new WeakMap;function V4(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Ha(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&BR.set(t,n)}).catch(()=>{}),B_.set(e,n),e}function M4(n){if(E0.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});E0.set(n,e)}let S0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return E0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||zR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ha(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function O4(n){S0=n(S0)}function L4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Bv(this),e,...t);return zR.set(i,e.sort?e.sort():[e]),Ha(i)}:P4().includes(n)?function(...e){return n.apply(Bv(this),e),Ha(BR.get(this))}:function(...e){return Ha(n.apply(Bv(this),e))}}function j4(n){return typeof n=="function"?L4(n):(n instanceof IDBTransaction&&M4(n),D4(n,k4())?new Proxy(n,S0):n)}function Ha(n){if(n instanceof IDBRequest)return V4(n);if(Uv.has(n))return Uv.get(n);const e=j4(n);return e!==n&&(Uv.set(n,e),B_.set(e,n)),e}const Bv=n=>B_.get(n);function U4(n,e,{blocked:t,upgrade:i,blocking:s,terminated:o}={}){const c=indexedDB.open(n,e),h=Ha(c);return i&&c.addEventListener("upgradeneeded",d=>{i(Ha(c.result),d.oldVersion,d.newVersion,Ha(c.transaction),d)}),t&&c.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const B4=["get","getKey","getAll","getAllKeys","count"],z4=["put","add","delete","clear"],zv=new Map;function P1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(zv.get(e))return zv.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=z4.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||B4.includes(t)))return;const o=async function(c,...h){const d=this.transaction(c,s?"readwrite":"readonly");let f=d.store;return i&&(f=f.index(h.shift())),(await Promise.all([f[t](...h),s&&d.done]))[0]};return zv.set(e,o),o}O4(n=>({...n,get:(e,t,i)=>P1(e,t)||n.get(e,t,i),has:(e,t)=>!!P1(e,t)||n.has(e,t)}));class F4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(q4(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function q4(n){return n.getComponent()?.type==="VERSION"}const A0="@firebase/app",V1="0.14.7";const js=new U_("@firebase/app"),G4="@firebase/app-compat",H4="@firebase/analytics-compat",$4="@firebase/analytics",K4="@firebase/app-check-compat",Q4="@firebase/app-check",Y4="@firebase/auth",W4="@firebase/auth-compat",X4="@firebase/database",J4="@firebase/data-connect",Z4="@firebase/database-compat",e5="@firebase/functions",t5="@firebase/functions-compat",n5="@firebase/installations",i5="@firebase/installations-compat",r5="@firebase/messaging",s5="@firebase/messaging-compat",a5="@firebase/performance",o5="@firebase/performance-compat",l5="@firebase/remote-config",c5="@firebase/remote-config-compat",u5="@firebase/storage",h5="@firebase/storage-compat",d5="@firebase/firestore",f5="@firebase/ai",m5="@firebase/firestore-compat",p5="firebase",g5="12.8.0";const mp="[DEFAULT]",y5={[A0]:"fire-core",[G4]:"fire-core-compat",[$4]:"fire-analytics",[H4]:"fire-analytics-compat",[Q4]:"fire-app-check",[K4]:"fire-app-check-compat",[Y4]:"fire-auth",[W4]:"fire-auth-compat",[X4]:"fire-rtdb",[J4]:"fire-data-connect",[Z4]:"fire-rtdb-compat",[e5]:"fire-fn",[t5]:"fire-fn-compat",[n5]:"fire-iid",[i5]:"fire-iid-compat",[r5]:"fire-fcm",[s5]:"fire-fcm-compat",[a5]:"fire-perf",[o5]:"fire-perf-compat",[l5]:"fire-rc",[c5]:"fire-rc-compat",[u5]:"fire-gcs",[h5]:"fire-gcs-compat",[d5]:"fire-fst",[m5]:"fire-fst-compat",[f5]:"fire-vertex","fire-js":"fire-js",[p5]:"fire-js-all"};const pp=new Map,v5=new Map,I0=new Map;function M1(n,e){try{n.container.addComponent(e)}catch(t){js.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function fl(n){const e=n.name;if(I0.has(e))return js.debug(`There were multiple attempts to register component ${e}.`),!1;I0.set(e,n);for(const t of pp.values())M1(t,n);for(const t of v5.values())M1(t,n);return!0}function fu(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _5(n,e,t=mp){fu(n,e).clearInstance(t)}function er(n){return n==null?!1:n.settings!==void 0}const b5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$a=new Vd("app","Firebase",b5);class w5{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $a.create("app-deleted",{appName:this._name})}}const El=g5;function FR(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:mp,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw $a.create("bad-app-name",{appName:String(s)});if(t||(t=PR()),!t)throw $a.create("no-options");const o=pp.get(s);if(o){if(Sr(t,o.options)&&Sr(i,o.config))return o;throw $a.create("duplicate-app",{appName:s})}const c=new A4(s);for(const d of I0.values())c.addComponent(d);const h=new w5(t,i,c);return pp.set(s,h),h}function z_(n=mp){const e=pp.get(n);if(!e&&n===mp&&PR())return FR();if(!e)throw $a.create("no-app",{appName:n});return e}function Yr(n,e,t){let i=y5[n]??n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),js.warn(c.join(" "));return}fl(new Ya(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const T5="firebase-heartbeat-database",x5=1,fd="firebase-heartbeat-store";let Fv=null;function qR(){return Fv||(Fv=U4(T5,x5,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fd)}catch(t){console.warn(t)}}}}).catch(n=>{throw $a.create("idb-open",{originalErrorMessage:n.message})})),Fv}async function E5(n){try{const t=(await qR()).transaction(fd),i=await t.objectStore(fd).get(GR(n));return await t.done,i}catch(e){if(e instanceof rs)js.warn(e.message);else{const t=$a.create("idb-get",{originalErrorMessage:e?.message});js.warn(t.message)}}}async function O1(n,e){try{const i=(await qR()).transaction(fd,"readwrite");await i.objectStore(fd).put(e,GR(n)),await i.done}catch(t){if(t instanceof rs)js.warn(t.message);else{const i=$a.create("idb-set",{originalErrorMessage:t?.message});js.warn(i.message)}}}function GR(n){return`${n.name}!${n.options.appId}`}const S5=1024,A5=30;class I5{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new C5(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=L1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>A5){const s=N5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){js.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=L1(),{heartbeatsToSend:t,unsentEntries:i}=R5(this._heartbeatsCache.heartbeats),s=fp(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return js.warn(e),""}}}function L1(){return new Date().toISOString().substring(0,10)}function R5(n,e=S5){const t=[];let i=n.slice();for(const s of n){const o=t.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),j1(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),j1(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class C5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UR()?p4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await E5(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return O1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return O1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function j1(n){return fp(JSON.stringify({version:2,heartbeats:n})).length}function N5(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function D5(n){fl(new Ya("platform-logger",e=>new F4(e),"PRIVATE")),fl(new Ya("heartbeat",e=>new I5(e),"PRIVATE")),Yr(A0,V1,n),Yr(A0,V1,"esm2020"),Yr("fire-js","")}D5("");var k5="firebase",P5="12.8.0";Yr(k5,P5,"app");function HR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V5=HR,$R=new Vd("auth","Firebase",HR());const gp=new U_("@firebase/auth");function M5(n,...e){gp.logLevel<=nt.WARN&&gp.warn(`Auth (${El}): ${n}`,...e)}function Gm(n,...e){gp.logLevel<=nt.ERROR&&gp.error(`Auth (${El}): ${n}`,...e)}function es(n,...e){throw q_(n,...e)}function Tr(n,...e){return q_(n,...e)}function F_(n,e,t){const i={...V5(),[e]:t};return new Vd("auth","Firebase",i).create(e,{appName:n.name})}function ol(n){return F_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function O5(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&es(n,"argument-error"),F_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function q_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return $R.create(n,...e)}function Be(n,e,...t){if(!n)throw q_(e,...t)}function Ns(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Gm(e),new Error(e)}function Us(n,e){n||Ns(e)}function R0(){return typeof self<"u"&&self.location?.href||""}function L5(){return U1()==="http:"||U1()==="https:"}function U1(){return typeof self<"u"&&self.location?.protocol||null}function j5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L5()||d4()||"connection"in navigator)?navigator.onLine:!0}function U5(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Od{constructor(e,t){this.shortDelay=e,this.longDelay=t,Us(t>e,"Short delay should be less than long delay!"),this.isMobile=u4()||f4()}get(){return j5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function G_(n,e){Us(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class KR{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const B5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const z5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],F5=new Od(3e4,6e4);function H_(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function mu(n,e,t,i,s={}){return QR(n,s,async()=>{let o={},c={};i&&(e==="GET"?c=i:o={body:JSON.stringify(i)});const h=Md({key:n.config.apiKey,...c}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:d,...o};return h4()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&oo(n.emulatorConfig.host)&&(f.credentials="include"),KR.fetch()(await YR(n,n.config.apiHost,t,h),f)})}async function QR(n,e,t){n._canInitEmulator=!1;const i={...B5,...e};try{const s=new G5(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Sm(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,f]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sm(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Sm(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw Sm(n,"user-disabled",c);const g=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw F_(n,g,f);es(n,g)}}catch(s){if(s instanceof rs)throw s;es(n,"network-request-failed",{message:String(s)})}}async function q5(n,e,t,i,s={}){const o=await mu(n,e,t,i,s);return"mfaPendingCredential"in o&&es(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function YR(n,e,t,i){const s=`${e}${t}?${i}`,o=n,c=o.config.emulator?G_(n.config,s):`${n.config.apiScheme}://${s}`;return z5.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class G5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Tr(this.auth,"network-request-failed")),F5.get())})}}function Sm(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=Tr(n,e,i);return s.customData._tokenResponse=t,s}async function H5(n,e){return mu(n,"POST","/v1/accounts:delete",e)}async function yp(n,e){return mu(n,"POST","/v1/accounts:lookup",e)}function Xh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $5(n,e=!1){const t=It(n),i=await t.getIdToken(e),s=$_(i);Be(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o?.sign_in_provider;return{claims:s,token:i,authTime:Xh(qv(s.auth_time)),issuedAtTime:Xh(qv(s.iat)),expirationTime:Xh(qv(s.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function qv(n){return Number(n)*1e3}function $_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Gm("JWT malformed, contained fewer than 3 sections"),null;try{const s=CR(t);return s?JSON.parse(s):(Gm("Failed to decode base64 JWT payload"),null)}catch(s){return Gm("Caught error parsing JWT payload as JSON",s?.toString()),null}}function B1(n){const e=$_(n);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function md(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof rs&&K5(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function K5({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class Q5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class C0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xh(this.lastLoginAt),this.creationTime=Xh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vp(n){const e=n.auth,t=await n.getIdToken(),i=await md(n,yp(e,{idToken:t}));Be(i?.users.length,e,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?WR(s.providerUserInfo):[],c=W5(n.providerData,o),h=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!c?.length,f=h?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new C0(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,g)}async function Y5(n){const e=It(n);await vp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W5(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function WR(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function X5(n,e){const t=await QR(n,{},async()=>{const i=Md({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,c=await YR(n,s,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return n.emulatorConfig&&oo(n.emulatorConfig.host)&&(d.credentials="include"),KR.fetch()(c,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function J5(n,e){return mu(n,"POST","/v2/accounts:revokeToken",H_(n,e))}class Pc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const t=B1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:o}=await X5(e,t);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:o}=t,c=new Pc;return i&&(Be(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(Be(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(Be(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pc,this.toJSON())}_performRefresh(){return Ns("not implemented")}}function Ca(n,e){Be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class br{constructor({uid:e,auth:t,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new Q5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new C0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await md(this,this.stsTokenManager.getToken(this.auth,e));return Be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return $5(this,e)}reload(){return Y5(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new br({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await vp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(er(this.auth.app))return Promise.reject(ol(this.auth));const e=await this.getIdToken();return await md(this,H5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,d=t._redirectEventId??void 0,f=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:E,providerData:R,stsTokenManager:k}=t;Be(v&&k,e,"internal-error");const C=Pc.fromJSON(this.name,k);Be(typeof v=="string",e,"internal-error"),Ca(i,e.name),Ca(s,e.name),Be(typeof w=="boolean",e,"internal-error"),Be(typeof E=="boolean",e,"internal-error"),Ca(o,e.name),Ca(c,e.name),Ca(h,e.name),Ca(d,e.name),Ca(f,e.name),Ca(g,e.name);const B=new br({uid:v,auth:e,email:s,emailVerified:w,displayName:i,isAnonymous:E,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:C,createdAt:f,lastLoginAt:g});return R&&Array.isArray(R)&&(B.providerData=R.map(H=>({...H}))),d&&(B._redirectEventId=d),B}static async _fromIdTokenResponse(e,t,i=!1){const s=new Pc;s.updateFromServerResponse(t);const o=new br({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await vp(o),o}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Be(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?WR(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!o?.length,h=new Pc;h.updateFromIdToken(i);const d=new br({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:c}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new C0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(d,f),d}}const z1=new Map;function Ds(n){Us(n instanceof Function,"Expected a class definition");let e=z1.get(n);return e?(Us(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,z1.set(n,e),e)}class XR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}XR.type="NONE";const F1=XR;function Hm(n,e,t){return`firebase:${n}:${e}:${t}`}class Vc{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Hm(this.userKey,s.apiKey,o),this.fullPersistenceKey=Hm("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await yp(this.auth,{idToken:e}).catch(()=>{});return t?br._fromGetAccountInfoResponse(this.auth,t,e):null}return br._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Vc(Ds(F1),e,i);const s=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||Ds(F1);const c=Hm(i,e.config.apiKey,e.name);let h=null;for(const f of t)try{const g=await f._get(c);if(g){let v;if(typeof g=="string"){const w=await yp(e,{idToken:g}).catch(()=>{});if(!w)break;v=await br._fromGetAccountInfoResponse(e,w,g)}else v=br._fromJSON(e,g);f!==o&&(h=v),o=f;break}}catch{}const d=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Vc(o,e,i):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(c)}catch{}})),new Vc(o,e,i))}}function q1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iC(e))return"Blackberry";if(rC(e))return"Webos";if(ZR(e))return"Safari";if((e.includes("chrome/")||eC(e))&&!e.includes("edge/"))return"Chrome";if(nC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function JR(n=Tn()){return/firefox\//i.test(n)}function ZR(n=Tn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eC(n=Tn()){return/crios\//i.test(n)}function tC(n=Tn()){return/iemobile/i.test(n)}function nC(n=Tn()){return/android/i.test(n)}function iC(n=Tn()){return/blackberry/i.test(n)}function rC(n=Tn()){return/webos/i.test(n)}function K_(n=Tn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Z5(n=Tn()){return K_(n)&&!!window.navigator?.standalone}function eL(){return m4()&&document.documentMode===10}function sC(n=Tn()){return K_(n)||nC(n)||rC(n)||iC(n)||/windows phone/i.test(n)||tC(n)}function aC(n,e=[]){let t;switch(n){case"Browser":t=q1(Tn());break;case"Worker":t=`${q1(Tn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${El}/${i}`}class tL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((c,h)=>{try{const d=e(o);c(d)}catch(d){h(d)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function nL(n,e={}){return mu(n,"GET","/v2/passwordPolicy",H_(n,e))}const iL=6;class rL{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??iL,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class sL{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G1(this),this.idTokenSubscription=new G1(this),this.beforeStateQueue=new tL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$R,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ds(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await yp(this,{idToken:e}),i=await br._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(er(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&h?.user&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(er(this.app))return Promise.reject(ol(this));const t=e?It(e):null;return t&&Be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return er(this.app)?Promise.reject(ol(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return er(this.app)?Promise.reject(ol(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nL(this),t=new rL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vd("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await J5(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ds(e)||this._popupRedirectResolver;Be(t,this,"argument-error"),this.redirectPersistenceManager=await Vc.create(this,[Ds(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,i,s);return()=>{c=!0,d()}}else{const d=e.addObserver(t);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&M5(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ig(n){return It(n)}class G1{constructor(e){this.auth=e,this.observer=null,this.addObserver=b4(t=>this.observer=t)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Q_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aL(n){Q_=n}function oL(n){return Q_.loadJS(n)}function lL(){return Q_.gapiScript}function cL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function uL(n,e){const t=fu(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Sr(o,e??{}))return s;es(s,"already-initialized")}return t.initialize({options:e})}function hL(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Ds);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function dL(n,e,t){const i=ig(n);Be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=oC(e),{host:c,port:h}=fL(e),d=h===null?"":`:${h}`,f={url:`${o}//${c}${d}/`},g=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Be(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Be(Sr(f,i.config.emulator)&&Sr(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,oo(c)?(ng(`${o}//${c}${d}`),j_("Auth",!0)):mL()}function oC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function fL(n){const e=oC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:H1(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:H1(c)}}}function H1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function mL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class lC{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ns("not implemented")}_getIdTokenResponse(e){return Ns("not implemented")}_linkToIdToken(e,t){return Ns("not implemented")}_getReauthenticationResolver(e){return Ns("not implemented")}}async function Mc(n,e){return q5(n,"POST","/v1/accounts:signInWithIdp",H_(n,e))}const pL="http://localhost";class ml extends lC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ml(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):es("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...o}=t;if(!i||!s)return null;const c=new ml(i,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Mc(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Mc(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Mc(e,t)}buildRequest(){const e={requestUri:pL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Md(t)}return e}}class Y_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ld extends Y_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Oa extends Ld{constructor(){super("facebook.com")}static credential(e){return ml._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oa.credential(e.oauthAccessToken)}catch{return null}}}Oa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oa.PROVIDER_ID="facebook.com";class Rs extends Ld{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ml._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Rs.credential(t,i)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";class La extends Ld{constructor(){super("github.com")}static credential(e){return ml._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return La.credential(e.oauthAccessToken)}catch{return null}}}La.GITHUB_SIGN_IN_METHOD="github.com";La.PROVIDER_ID="github.com";class ja extends Ld{constructor(){super("twitter.com")}static credential(e,t){return ml._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ja.credential(t,i)}catch{return null}}}ja.TWITTER_SIGN_IN_METHOD="twitter.com";ja.PROVIDER_ID="twitter.com";class Bc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const o=await br._fromIdTokenResponse(e,i,s),c=$1(i);return new Bc({user:o,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=$1(i);return new Bc({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function $1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class _p extends rs{constructor(e,t,i,s){super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,_p.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new _p(e,t,i,s)}}function cC(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_p._fromErrorAndOperation(n,o,e,i):o})}async function gL(n,e,t=!1){const i=await md(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Bc._forOperation(n,"link",i)}async function yL(n,e,t=!1){const{auth:i}=n;if(er(i.app))return Promise.reject(ol(i));const s="reauthenticate";try{const o=await md(n,cC(i,s,e,n),t);Be(o.idToken,i,"internal-error");const c=$_(o.idToken);Be(c,i,"internal-error");const{sub:h}=c;return Be(n.uid===h,i,"user-mismatch"),Bc._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&es(i,"user-mismatch"),o}}async function vL(n,e,t=!1){if(er(n.app))return Promise.reject(ol(n));const i="signIn",s=await cC(n,i,e),o=await Bc._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(o.user),o}function _L(n,e,t,i){return It(n).onIdTokenChanged(e,t,i)}function bL(n,e,t){return It(n).beforeAuthStateChanged(e,t)}function wL(n,e,t,i){return It(n).onAuthStateChanged(e,t,i)}function TL(n){return It(n).signOut()}const bp="__sak";class uC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bp,"1"),this.storage.removeItem(bp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const xL=1e3,EL=10;class hC extends uC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);eL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,EL):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},xL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}hC.type="LOCAL";const SL=hC;class dC extends uC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}dC.type="SESSION";const fC=dC;function AL(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class rg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new rg(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:o}=t.data,c=this.handlersMap[s];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const h=Array.from(c).map(async f=>f(t.origin,o)),d=await AL(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rg.receivers=[];function W_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}class IL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const f=W_("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(v){const w=v;if(w.data.eventId===f)switch(w.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(w.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Wr(){return window}function RL(n){Wr().location.href=n}function mC(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function CL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NL(){return navigator?.serviceWorker?.controller||null}function DL(){return mC()?self:null}const pC="firebaseLocalStorageDb",kL=1,wp="firebaseLocalStorage",gC="fbase_key";class jd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sg(n,e){return n.transaction([wp],e?"readwrite":"readonly").objectStore(wp)}function PL(){const n=indexedDB.deleteDatabase(pC);return new jd(n).toPromise()}function N0(){const n=indexedDB.open(pC,kL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(wp,{keyPath:gC})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(wp)?e(i):(i.close(),await PL(),e(await N0()))})})}async function K1(n,e,t){const i=sg(n,!0).put({[gC]:e,value:t});return new jd(i).toPromise()}async function VL(n,e){const t=sg(n,!1).get(e),i=await new jd(t).toPromise();return i===void 0?null:i.value}function Q1(n,e){const t=sg(n,!0).delete(e);return new jd(t).toPromise()}const ML=800,OL=3;class yC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await N0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>OL)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rg._getInstance(DL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CL(),!this.activeServiceWorker)return;this.sender=new IL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await N0();return await K1(e,bp,"1"),await Q1(e,bp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>K1(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>VL(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Q1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=sg(s,!1).getAll();return new jd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ML)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yC.type="LOCAL";const LL=yC;new Od(3e4,6e4);function vC(n,e){return e?Ds(e):(Be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class X_ extends lC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Mc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Mc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jL(n){return vL(n.auth,new X_(n),n.bypassAuthState)}function UL(n){const{auth:e,user:t}=n;return Be(t,e,"internal-error"),yL(t,new X_(n),n.bypassAuthState)}async function BL(n){const{auth:e,user:t}=n;return Be(t,e,"internal-error"),gL(t,new X_(n),n.bypassAuthState)}class _C{constructor(e,t,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jL;case"linkViaPopup":case"linkViaRedirect":return BL;case"reauthViaPopup":case"reauthViaRedirect":return UL;default:es(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zL=new Od(2e3,1e4);async function FL(n,e,t){if(er(n.app))return Promise.reject(Tr(n,"operation-not-supported-in-this-environment"));const i=ig(n);O5(n,e,Y_);const s=vC(i,t);return new il(i,"signInViaPopup",e,s).executeNotNull()}class il extends _C{constructor(e,t,i,s,o){super(e,t,s,o),this.provider=i,this.authWindow=null,this.pollId=null,il.currentPopupAction&&il.currentPopupAction.cancel(),il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const e=W_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,il.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zL.get())};e()}}il.currentPopupAction=null;const qL="pendingRedirect",$m=new Map;class GL extends _C{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=$m.get(this.auth._key());if(!e){try{const i=await HL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}$m.set(this.auth._key(),e)}return this.bypassAuthState||$m.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HL(n,e){const t=QL(e),i=KL(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function $L(n,e){$m.set(n._key(),e)}function KL(n){return Ds(n._redirectPersistence)}function QL(n){return Hm(qL,n.config.apiKey,n.name)}async function YL(n,e,t=!1){if(er(n.app))return Promise.reject(ol(n));const i=ig(n),s=vC(i,e),c=await new GL(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const WL=600*1e3;class XL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!bC(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Tr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y1(e))}saveEventToCache(e){this.cachedEventUids.add(Y1(e)),this.lastProcessedEventTime=Date.now()}}function Y1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bC({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function JL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bC(n);default:return!1}}async function ZL(n,e={}){return mu(n,"GET","/v1/projects",e)}const ej=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tj=/^https?/;async function nj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ZL(n);for(const t of e)try{if(ij(t))return}catch{}es(n,"unauthorized-domain")}function ij(n){const e=R0(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!tj.test(t))return!1;if(ej.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}const rj=new Od(3e4,6e4);function W1(){const n=Wr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function sj(n){return new Promise((e,t)=>{function i(){W1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W1(),t(Tr(n,"network-request-failed"))},timeout:rj.get()})}if(Wr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Wr().gapi?.load)i();else{const s=cL("iframefcb");return Wr()[s]=()=>{gapi.load?i():t(Tr(n,"network-request-failed"))},oL(`${lL()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw Km=null,e})}let Km=null;function aj(n){return Km=Km||sj(n),Km}const oj=new Od(5e3,15e3),lj="__/auth/iframe",cj="emulator/auth/iframe",uj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dj(n){const e=n.config;Be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?G_(e,cj):`https://${n.config.authDomain}/${lj}`,i={apiKey:e.apiKey,appName:n.name,v:El},s=hj.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Md(i).slice(1)}`}async function fj(n){const e=await aj(n),t=Wr().gapi;return Be(t,n,"internal-error"),e.open({where:document.body,url:dj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uj,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const c=Tr(n,"network-request-failed"),h=Wr().setTimeout(()=>{o(c)},oj.get());function d(){Wr().clearTimeout(h),s(i)}i.ping(d).then(d,()=>{o(c)})}))}const mj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pj=500,gj=600,yj="_blank",vj="http://localhost";class X1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _j(n,e,t,i=pj,s=gj){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d={...mj,width:i.toString(),height:s.toString(),top:o,left:c},f=Tn().toLowerCase();t&&(h=eC(f)?yj:t),JR(f)&&(e=e||vj,d.scrollbars="yes");const g=Object.entries(d).reduce((w,[E,R])=>`${w}${E}=${R},`,"");if(Z5(f)&&h!=="_self")return bj(e||"",h),new X1(null);const v=window.open(e||"",h,g);Be(v,n,"popup-blocked");try{v.focus()}catch{}return new X1(v)}function bj(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const wj="__/auth/handler",Tj="emulator/auth/handler",xj=encodeURIComponent("fac");async function J1(n,e,t,i,s,o){Be(n.config.authDomain,n,"auth-domain-config-required"),Be(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:El,eventId:s};if(e instanceof Y_){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",_4(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))c[g]=v}if(e instanceof Ld){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(c.scopes=g.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await n._getAppCheckToken(),f=d?`#${xj}=${encodeURIComponent(d)}`:"";return`${Ej(n)}?${Md(h).slice(1)}${f}`}function Ej({config:n}){return n.emulator?G_(n,Tj):`https://${n.authDomain}/${wj}`}const Gv="webStorageSupport";class Sj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fC,this._completeRedirectFn=YL,this._overrideRedirectResult=$L}async _openPopup(e,t,i,s){Us(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await J1(e,t,i,R0(),s);return _j(e,o,W_())}async _openRedirect(e,t,i,s){await this._originValidation(e);const o=await J1(e,t,i,R0(),s);return RL(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(Us(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await fj(e),i=new XL(e);return t.register("authEvent",s=>(Be(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gv,{type:Gv},s=>{const o=s?.[0]?.[Gv];o!==void 0&&t(!!o),es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sC()||ZR()||K_()}}const Aj=Sj;var Z1="@firebase/auth",eS="1.12.0";class Ij{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Rj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Cj(n){fl(new Ya("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Be(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aC(n)},f=new sL(i,s,o,d);return hL(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),fl(new Ya("auth-internal",e=>{const t=ig(e.getProvider("auth").getImmediate());return(i=>new Ij(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(Z1,eS,Rj(n)),Yr(Z1,eS,"esm2020")}const Nj=300,Dj=VR("authIdTokenMaxAge")||Nj;let tS=null;const kj=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Dj)return;const s=t?.token;tS!==s&&(tS=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Pj(n=z_()){const e=fu(n,"auth");if(e.isInitialized())return e.getImmediate();const t=uL(n,{popupRedirectResolver:Aj,persistence:[LL,SL,fC]}),i=VR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=kj(o.toString());bL(t,c,()=>c(t.currentUser)),_L(t,h=>c(h))}}const s=DR("auth");return s&&dL(t,`http://${s}`),t}function Vj(){return document.getElementsByTagName("head")?.[0]??document}aL({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const o=Tr("internal-error");o.customData=s,t(o)},i.type="text/javascript",i.charset="UTF-8",Vj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Cj("Browser");var nS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ka,wC;(function(){var n;function e(N,A){function P(){}P.prototype=A.prototype,N.F=A.prototype,N.prototype=new P,N.prototype.constructor=N,N.D=function(L,O,z){for(var M=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)M[ge-2]=arguments[ge];return A.prototype[O].apply(L,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,A,P){P||(P=0);const L=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)L[O]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(O=0;O<16;++O)L[O]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=N.g[0],P=N.g[1],O=N.g[2];let z=N.g[3],M;M=A+(z^P&(O^z))+L[0]+3614090360&4294967295,A=P+(M<<7&4294967295|M>>>25),M=z+(O^A&(P^O))+L[1]+3905402710&4294967295,z=A+(M<<12&4294967295|M>>>20),M=O+(P^z&(A^P))+L[2]+606105819&4294967295,O=z+(M<<17&4294967295|M>>>15),M=P+(A^O&(z^A))+L[3]+3250441966&4294967295,P=O+(M<<22&4294967295|M>>>10),M=A+(z^P&(O^z))+L[4]+4118548399&4294967295,A=P+(M<<7&4294967295|M>>>25),M=z+(O^A&(P^O))+L[5]+1200080426&4294967295,z=A+(M<<12&4294967295|M>>>20),M=O+(P^z&(A^P))+L[6]+2821735955&4294967295,O=z+(M<<17&4294967295|M>>>15),M=P+(A^O&(z^A))+L[7]+4249261313&4294967295,P=O+(M<<22&4294967295|M>>>10),M=A+(z^P&(O^z))+L[8]+1770035416&4294967295,A=P+(M<<7&4294967295|M>>>25),M=z+(O^A&(P^O))+L[9]+2336552879&4294967295,z=A+(M<<12&4294967295|M>>>20),M=O+(P^z&(A^P))+L[10]+4294925233&4294967295,O=z+(M<<17&4294967295|M>>>15),M=P+(A^O&(z^A))+L[11]+2304563134&4294967295,P=O+(M<<22&4294967295|M>>>10),M=A+(z^P&(O^z))+L[12]+1804603682&4294967295,A=P+(M<<7&4294967295|M>>>25),M=z+(O^A&(P^O))+L[13]+4254626195&4294967295,z=A+(M<<12&4294967295|M>>>20),M=O+(P^z&(A^P))+L[14]+2792965006&4294967295,O=z+(M<<17&4294967295|M>>>15),M=P+(A^O&(z^A))+L[15]+1236535329&4294967295,P=O+(M<<22&4294967295|M>>>10),M=A+(O^z&(P^O))+L[1]+4129170786&4294967295,A=P+(M<<5&4294967295|M>>>27),M=z+(P^O&(A^P))+L[6]+3225465664&4294967295,z=A+(M<<9&4294967295|M>>>23),M=O+(A^P&(z^A))+L[11]+643717713&4294967295,O=z+(M<<14&4294967295|M>>>18),M=P+(z^A&(O^z))+L[0]+3921069994&4294967295,P=O+(M<<20&4294967295|M>>>12),M=A+(O^z&(P^O))+L[5]+3593408605&4294967295,A=P+(M<<5&4294967295|M>>>27),M=z+(P^O&(A^P))+L[10]+38016083&4294967295,z=A+(M<<9&4294967295|M>>>23),M=O+(A^P&(z^A))+L[15]+3634488961&4294967295,O=z+(M<<14&4294967295|M>>>18),M=P+(z^A&(O^z))+L[4]+3889429448&4294967295,P=O+(M<<20&4294967295|M>>>12),M=A+(O^z&(P^O))+L[9]+568446438&4294967295,A=P+(M<<5&4294967295|M>>>27),M=z+(P^O&(A^P))+L[14]+3275163606&4294967295,z=A+(M<<9&4294967295|M>>>23),M=O+(A^P&(z^A))+L[3]+4107603335&4294967295,O=z+(M<<14&4294967295|M>>>18),M=P+(z^A&(O^z))+L[8]+1163531501&4294967295,P=O+(M<<20&4294967295|M>>>12),M=A+(O^z&(P^O))+L[13]+2850285829&4294967295,A=P+(M<<5&4294967295|M>>>27),M=z+(P^O&(A^P))+L[2]+4243563512&4294967295,z=A+(M<<9&4294967295|M>>>23),M=O+(A^P&(z^A))+L[7]+1735328473&4294967295,O=z+(M<<14&4294967295|M>>>18),M=P+(z^A&(O^z))+L[12]+2368359562&4294967295,P=O+(M<<20&4294967295|M>>>12),M=A+(P^O^z)+L[5]+4294588738&4294967295,A=P+(M<<4&4294967295|M>>>28),M=z+(A^P^O)+L[8]+2272392833&4294967295,z=A+(M<<11&4294967295|M>>>21),M=O+(z^A^P)+L[11]+1839030562&4294967295,O=z+(M<<16&4294967295|M>>>16),M=P+(O^z^A)+L[14]+4259657740&4294967295,P=O+(M<<23&4294967295|M>>>9),M=A+(P^O^z)+L[1]+2763975236&4294967295,A=P+(M<<4&4294967295|M>>>28),M=z+(A^P^O)+L[4]+1272893353&4294967295,z=A+(M<<11&4294967295|M>>>21),M=O+(z^A^P)+L[7]+4139469664&4294967295,O=z+(M<<16&4294967295|M>>>16),M=P+(O^z^A)+L[10]+3200236656&4294967295,P=O+(M<<23&4294967295|M>>>9),M=A+(P^O^z)+L[13]+681279174&4294967295,A=P+(M<<4&4294967295|M>>>28),M=z+(A^P^O)+L[0]+3936430074&4294967295,z=A+(M<<11&4294967295|M>>>21),M=O+(z^A^P)+L[3]+3572445317&4294967295,O=z+(M<<16&4294967295|M>>>16),M=P+(O^z^A)+L[6]+76029189&4294967295,P=O+(M<<23&4294967295|M>>>9),M=A+(P^O^z)+L[9]+3654602809&4294967295,A=P+(M<<4&4294967295|M>>>28),M=z+(A^P^O)+L[12]+3873151461&4294967295,z=A+(M<<11&4294967295|M>>>21),M=O+(z^A^P)+L[15]+530742520&4294967295,O=z+(M<<16&4294967295|M>>>16),M=P+(O^z^A)+L[2]+3299628645&4294967295,P=O+(M<<23&4294967295|M>>>9),M=A+(O^(P|~z))+L[0]+4096336452&4294967295,A=P+(M<<6&4294967295|M>>>26),M=z+(P^(A|~O))+L[7]+1126891415&4294967295,z=A+(M<<10&4294967295|M>>>22),M=O+(A^(z|~P))+L[14]+2878612391&4294967295,O=z+(M<<15&4294967295|M>>>17),M=P+(z^(O|~A))+L[5]+4237533241&4294967295,P=O+(M<<21&4294967295|M>>>11),M=A+(O^(P|~z))+L[12]+1700485571&4294967295,A=P+(M<<6&4294967295|M>>>26),M=z+(P^(A|~O))+L[3]+2399980690&4294967295,z=A+(M<<10&4294967295|M>>>22),M=O+(A^(z|~P))+L[10]+4293915773&4294967295,O=z+(M<<15&4294967295|M>>>17),M=P+(z^(O|~A))+L[1]+2240044497&4294967295,P=O+(M<<21&4294967295|M>>>11),M=A+(O^(P|~z))+L[8]+1873313359&4294967295,A=P+(M<<6&4294967295|M>>>26),M=z+(P^(A|~O))+L[15]+4264355552&4294967295,z=A+(M<<10&4294967295|M>>>22),M=O+(A^(z|~P))+L[6]+2734768916&4294967295,O=z+(M<<15&4294967295|M>>>17),M=P+(z^(O|~A))+L[13]+1309151649&4294967295,P=O+(M<<21&4294967295|M>>>11),M=A+(O^(P|~z))+L[4]+4149444226&4294967295,A=P+(M<<6&4294967295|M>>>26),M=z+(P^(A|~O))+L[11]+3174756917&4294967295,z=A+(M<<10&4294967295|M>>>22),M=O+(A^(z|~P))+L[2]+718787259&4294967295,O=z+(M<<15&4294967295|M>>>17),M=P+(z^(O|~A))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(O+(M<<21&4294967295|M>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+z&4294967295}i.prototype.v=function(N,A){A===void 0&&(A=N.length);const P=A-this.blockSize,L=this.C;let O=this.h,z=0;for(;z<A;){if(O==0)for(;z<=P;)s(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<A;)if(L[O++]=N.charCodeAt(z++),O==this.blockSize){s(this,L),O=0;break}}else for(;z<A;)if(L[O++]=N[z++],O==this.blockSize){s(this,L),O=0;break}}this.h=O,this.o+=A},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var P=N.length-8;P<N.length;++P)N[P]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,P=0;P<4;++P)for(let L=0;L<32;L+=8)N[A++]=this.g[P]>>>L&255;return N};function o(N,A){var P=h;return Object.prototype.hasOwnProperty.call(P,N)?P[N]:P[N]=A(N)}function c(N,A){this.h=A;const P=[];let L=!0;for(let O=N.length-1;O>=0;O--){const z=N[O]|0;L&&z==A||(P[O]=z,L=!1)}this.g=P}var h={};function d(N){return-128<=N&&N<128?o(N,function(A){return new c([A|0],A<0?-1:0)}):new c([N|0],N<0?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return v;if(N<0)return C(f(-N));const A=[];let P=1;for(let L=0;N>=P;L++)A[L]=N/P|0,P*=4294967296;return new c(A,0)}function g(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return C(g(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=f(Math.pow(A,8));let L=v;for(let z=0;z<N.length;z+=8){var O=Math.min(8,N.length-z);const M=parseInt(N.substring(z,z+O),A);O<8?(O=f(Math.pow(A,O)),L=L.j(O).add(f(M))):(L=L.j(P),L=L.add(f(M)))}return L}var v=d(0),w=d(1),E=d(16777216);n=c.prototype,n.m=function(){if(k(this))return-C(this).m();let N=0,A=1;for(let P=0;P<this.g.length;P++){const L=this.i(P);N+=(L>=0?L:4294967296+L)*A,A*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(R(this))return"0";if(k(this))return"-"+C(this).toString(N);const A=f(Math.pow(N,6));var P=this;let L="";for(;;){const O=$(P,A).g;P=B(P,O.j(A));let z=((P.g.length>0?P.g[0]:P.h)>>>0).toString(N);if(P=O,R(P))return z+L;for(;z.length<6;)z="0"+z;L=z+L}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function R(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function k(N){return N.h==-1}n.l=function(N){return N=B(this,N),k(N)?-1:R(N)?0:1};function C(N){const A=N.g.length,P=[];for(let L=0;L<A;L++)P[L]=~N.g[L];return new c(P,~N.h).add(w)}n.abs=function(){return k(this)?C(this):this},n.add=function(N){const A=Math.max(this.g.length,N.g.length),P=[];let L=0;for(let O=0;O<=A;O++){let z=L+(this.i(O)&65535)+(N.i(O)&65535),M=(z>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);L=M>>>16,z&=65535,M&=65535,P[O]=M<<16|z}return new c(P,P[P.length-1]&-2147483648?-1:0)};function B(N,A){return N.add(C(A))}n.j=function(N){if(R(this)||R(N))return v;if(k(this))return k(N)?C(this).j(C(N)):C(C(this).j(N));if(k(N))return C(this.j(C(N)));if(this.l(E)<0&&N.l(E)<0)return f(this.m()*N.m());const A=this.g.length+N.g.length,P=[];for(var L=0;L<2*A;L++)P[L]=0;for(L=0;L<this.g.length;L++)for(let O=0;O<N.g.length;O++){const z=this.i(L)>>>16,M=this.i(L)&65535,ge=N.i(O)>>>16,_e=N.i(O)&65535;P[2*L+2*O]+=M*_e,H(P,2*L+2*O),P[2*L+2*O+1]+=z*_e,H(P,2*L+2*O+1),P[2*L+2*O+1]+=M*ge,H(P,2*L+2*O+1),P[2*L+2*O+2]+=z*ge,H(P,2*L+2*O+2)}for(N=0;N<A;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=A;N<2*A;N++)P[N]=0;return new c(P,0)};function H(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function F(N,A){this.g=N,this.h=A}function $(N,A){if(R(A))throw Error("division by zero");if(R(N))return new F(v,v);if(k(N))return A=$(C(N),A),new F(C(A.g),C(A.h));if(k(A))return A=$(N,C(A)),new F(C(A.g),A.h);if(N.g.length>30){if(k(N)||k(A))throw Error("slowDivide_ only works with positive integers.");for(var P=w,L=A;L.l(N)<=0;)P=ie(P),L=ie(L);var O=le(P,1),z=le(L,1);for(L=le(L,2),P=le(P,2);!R(L);){var M=z.add(L);M.l(N)<=0&&(O=O.add(P),z=M),L=le(L,1),P=le(P,1)}return A=B(N,O.j(A)),new F(O,A)}for(O=v;N.l(A)>=0;){for(P=Math.max(1,Math.floor(N.m()/A.m())),L=Math.ceil(Math.log(P)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),z=f(P),M=z.j(A);k(M)||M.l(N)>0;)P-=L,z=f(P),M=z.j(A);R(z)&&(z=w),O=O.add(z),N=B(N,M)}return new F(O,N)}n.B=function(N){return $(this,N).h},n.and=function(N){const A=Math.max(this.g.length,N.g.length),P=[];for(let L=0;L<A;L++)P[L]=this.i(L)&N.i(L);return new c(P,this.h&N.h)},n.or=function(N){const A=Math.max(this.g.length,N.g.length),P=[];for(let L=0;L<A;L++)P[L]=this.i(L)|N.i(L);return new c(P,this.h|N.h)},n.xor=function(N){const A=Math.max(this.g.length,N.g.length),P=[];for(let L=0;L<A;L++)P[L]=this.i(L)^N.i(L);return new c(P,this.h^N.h)};function ie(N){const A=N.g.length+1,P=[];for(let L=0;L<A;L++)P[L]=N.i(L)<<1|N.i(L-1)>>>31;return new c(P,N.h)}function le(N,A){const P=A>>5;A%=32;const L=N.g.length-P,O=[];for(let z=0;z<L;z++)O[z]=A>0?N.i(z+P)>>>A|N.i(z+P+1)<<32-A:N.i(z+P);return new c(O,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,wC=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=g,Ka=c}).apply(typeof nS<"u"?nS:typeof self<"u"?self:typeof window<"u"?window:{});var Am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TC,Gh,xC,Qm,D0,EC,SC,AC;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Am=="object"&&Am];for(var b=0;b<m.length;++b){var x=m[b];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=t(this);function s(m,b){if(b)e:{var x=i;m=m.split(".");for(var D=0;D<m.length-1;D++){var J=m[D];if(!(J in x))break e;x=x[J]}m=m[m.length-1],D=x[m],b=b(D),b!=D&&b!=null&&e(x,m,{configurable:!0,writable:!0,value:b})}}s("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(m){return m||function(b){var x=[],D;for(D in b)Object.prototype.hasOwnProperty.call(b,D)&&x.push([D,b[D]]);return x}});var o=o||{},c=this||self;function h(m){var b=typeof m;return b=="object"&&m!=null||b=="function"}function d(m,b,x){return m.call.apply(m.bind,arguments)}function f(m,b,x){return f=d,f.apply(null,arguments)}function g(m,b){var x=Array.prototype.slice.call(arguments,1);return function(){var D=x.slice();return D.push.apply(D,arguments),m.apply(this,D)}}function v(m,b){function x(){}x.prototype=b.prototype,m.Z=b.prototype,m.prototype=new x,m.prototype.constructor=m,m.Ob=function(D,J,ae){for(var Te=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)Te[qe-2]=arguments[qe];return b.prototype[J].apply(D,Te)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function E(m){const b=m.length;if(b>0){const x=Array(b);for(let D=0;D<b;D++)x[D]=m[D];return x}return[]}function R(m,b){for(let D=1;D<arguments.length;D++){const J=arguments[D];var x=typeof J;if(x=x!="object"?x:J?Array.isArray(J)?"array":x:"null",x=="array"||x=="object"&&typeof J.length=="number"){x=m.length||0;const ae=J.length||0;m.length=x+ae;for(let Te=0;Te<ae;Te++)m[x+Te]=J[Te]}else m.push(J)}}class k{constructor(b,x){this.i=b,this.j=x,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function C(m){c.setTimeout(()=>{throw m},0)}function B(){var m=N;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}class H{constructor(){this.h=this.g=null}add(b,x){const D=F.get();D.set(b,x),this.h?this.h.next=D:this.g=D,this.h=D}}var F=new k(()=>new $,m=>m.reset());class ${constructor(){this.next=this.g=this.h=null}set(b,x){this.h=b,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,le=!1,N=new H,A=()=>{const m=Promise.resolve(void 0);ie=()=>{m.then(P)}};function P(){for(var m;m=B();){try{m.h.call(m.g)}catch(x){C(x)}var b=F;b.j(m),b.h<100&&(b.h++,m.next=b.g,b.g=m)}le=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const x=()=>{};c.addEventListener("test",x,b),c.removeEventListener("test",x,b)}catch{}return m})();function M(m){return/^[\s\xa0]*$/.test(m)}function ge(m,b){O.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,b)}v(ge,O),ge.prototype.init=function(m,b){const x=this.type=m.type,D=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget,b||(x=="mouseover"?b=m.fromElement:x=="mouseout"&&(b=m.toElement)),this.relatedTarget=b,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),U=0;function Z(m,b,x,D,J){this.listener=m,this.proxy=null,this.src=b,this.type=x,this.capture=!!D,this.ha=J,this.key=++U,this.da=this.fa=!1}function K(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ye(m,b,x){for(const D in m)b.call(x,m[D],D,m)}function q(m,b){for(const x in m)b.call(void 0,m[x],x,m)}function S(m){const b={};for(const x in m)b[x]=m[x];return b}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(m,b){let x,D;for(let J=1;J<arguments.length;J++){D=arguments[J];for(x in D)m[x]=D[x];for(let ae=0;ae<W.length;ae++)x=W[ae],Object.prototype.hasOwnProperty.call(D,x)&&(m[x]=D[x])}}function ue(m){this.src=m,this.g={},this.h=0}ue.prototype.add=function(m,b,x,D,J){const ae=m.toString();m=this.g[ae],m||(m=this.g[ae]=[],this.h++);const Te=be(m,b,D,J);return Te>-1?(b=m[Te],x||(b.fa=!1)):(b=new Z(b,this.src,ae,!!D,J),b.fa=x,m.push(b)),b};function ve(m,b){const x=b.type;if(x in m.g){var D=m.g[x],J=Array.prototype.indexOf.call(D,b,void 0),ae;(ae=J>=0)&&Array.prototype.splice.call(D,J,1),ae&&(K(b),m.g[x].length==0&&(delete m.g[x],m.h--))}}function be(m,b,x,D){for(let J=0;J<m.length;++J){const ae=m[J];if(!ae.da&&ae.listener==b&&ae.capture==!!x&&ae.ha==D)return J}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Ie={};function Pe(m,b,x,D,J){if(Array.isArray(b)){for(let ae=0;ae<b.length;ae++)Pe(m,b[ae],x,D,J);return null}return x=Dn(x),m&&m[_e]?m.J(b,x,h(D)?!!D.capture:!1,J):Qe(m,b,x,!1,D,J)}function Qe(m,b,x,D,J,ae){if(!b)throw Error("Invalid event type");const Te=h(J)?!!J.capture:!!J;let qe=Jt(m);if(qe||(m[me]=qe=new ue(m)),x=qe.add(b,x,D,Te,ae),x.proxy)return x;if(D=$e(),x.proxy=D,D.src=m,D.listener=x,m.addEventListener)z||(J=Te),J===void 0&&(J=!1),m.addEventListener(b.toString(),D,J);else if(m.attachEvent)m.attachEvent(je(b.toString()),D);else if(m.addListener&&m.removeListener)m.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return x}function $e(){function m(x){return b.call(m.src,m.listener,x)}const b=mt;return m}function Ye(m,b,x,D,J){if(Array.isArray(b))for(var ae=0;ae<b.length;ae++)Ye(m,b[ae],x,D,J);else D=h(D)?!!D.capture:!!D,x=Dn(x),m&&m[_e]?(m=m.i,ae=String(b).toString(),ae in m.g&&(b=m.g[ae],x=be(b,x,D,J),x>-1&&(K(b[x]),Array.prototype.splice.call(b,x,1),b.length==0&&(delete m.g[ae],m.h--)))):m&&(m=Jt(m))&&(b=m.g[b.toString()],m=-1,b&&(m=be(b,x,D,J)),(x=m>-1?b[m]:null)&&Nt(x))}function Nt(m){if(typeof m!="number"&&m&&!m.da){var b=m.src;if(b&&b[_e])ve(b.i,m);else{var x=m.type,D=m.proxy;b.removeEventListener?b.removeEventListener(x,D,m.capture):b.detachEvent?b.detachEvent(je(x),D):b.addListener&&b.removeListener&&b.removeListener(D),(x=Jt(b))?(ve(x,m),x.h==0&&(x.src=null,b[me]=null)):K(m)}}}function je(m){return m in Ie?Ie[m]:Ie[m]="on"+m}function mt(m,b){if(m.da)m=!0;else{b=new ge(b,this);const x=m.listener,D=m.ha||m.src;m.fa&&Nt(m),m=x.call(D,b)}return m}function Jt(m){return m=m[me],m instanceof ue?m:null}var Zt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Dn(m){return typeof m=="function"?m:(m[Zt]||(m[Zt]=function(b){return m.handleEvent(b)}),m[Zt])}function pt(){L.call(this),this.i=new ue(this),this.M=this,this.G=null}v(pt,L),pt.prototype[_e]=!0,pt.prototype.removeEventListener=function(m,b,x,D){Ye(this,m,b,x,D)};function rt(m,b){var x,D=m.G;if(D)for(x=[];D;D=D.G)x.push(D);if(m=m.M,D=b.type||b,typeof b=="string")b=new O(b,m);else if(b instanceof O)b.target=b.target||m;else{var J=b;b=new O(D,m),se(b,J)}J=!0;let ae,Te;if(x)for(Te=x.length-1;Te>=0;Te--)ae=b.g=x[Te],J=Vi(ae,D,!0,b)&&J;if(ae=b.g=m,J=Vi(ae,D,!0,b)&&J,J=Vi(ae,D,!1,b)&&J,x)for(Te=0;Te<x.length;Te++)ae=b.g=x[Te],J=Vi(ae,D,!1,b)&&J}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var m=this.i;for(const b in m.g){const x=m.g[b];for(let D=0;D<x.length;D++)K(x[D]);delete m.g[b],m.h--}}this.G=null},pt.prototype.J=function(m,b,x,D){return this.i.add(String(m),b,!1,x,D)},pt.prototype.K=function(m,b,x,D){return this.i.add(String(m),b,!0,x,D)};function Vi(m,b,x,D){if(b=m.i.g[String(b)],!b)return!0;b=b.concat();let J=!0;for(let ae=0;ae<b.length;++ae){const Te=b[ae];if(Te&&!Te.da&&Te.capture==x){const qe=Te.listener,en=Te.ha||Te.src;Te.fa&&ve(m.i,Te),J=qe.call(en,D)!==!1&&J}}return J&&!D.defaultPrevented}function yo(m,b){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(m,b||0)}function Qs(m){m.g=yo(()=>{m.g=null,m.i&&(m.i=!1,Qs(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}class ln extends L{constructor(b,x){super(),this.m=b,this.l=x,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Qs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Un(m){L.call(this),this.h=m,this.g={}}v(Un,L);var Qn=[];function ti(m){ye(m.g,function(b,x){this.g.hasOwnProperty(x)&&Nt(b)},m),m.g={}}Un.prototype.N=function(){Un.Z.N.call(this),ti(this)},Un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=c.JSON.stringify,as=c.JSON.parse,Ir=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function Rr(){}function sr(){}var ct={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){O.call(this,"d")}v(Ht,O);function Yn(){O.call(this,"c")}v(Yn,O);var Dt={},os=null;function Mi(){return os=os||new pt}Dt.Ia="serverreachability";function vo(m){O.call(this,Dt.Ia,m)}v(vo,O);function gi(m){const b=Mi();rt(b,new vo(b))}Dt.STAT_EVENT="statevent";function Oi(m,b){O.call(this,Dt.STAT_EVENT,m),this.stat=b}v(Oi,O);function Qt(m){const b=Mi();rt(b,new Oi(b,m))}Dt.Ja="timingevent";function yi(m,b){O.call(this,Dt.Ja,m),this.size=b}v(yi,O);function Li(m,b){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},b)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function _o(m,b,x,D,J,ae){m.info(function(){if(m.g)if(ae){var Te="",qe=ae.split("&");for(let dt=0;dt<qe.length;dt++){var en=qe[dt].split("=");if(en.length>1){const Ut=en[0];en=en[1];const qi=Ut.split("_");Te=qi.length>=2&&qi[1]=="type"?Te+(Ut+"="+en+"&"):Te+(Ut+"=redacted&")}}}else Te=null;else Te=ae;return"XMLHTTP REQ ("+D+") [attempt "+J+"]: "+b+`
`+x+`
`+Te})}function Ys(m,b,x,D,J,ae,Te){m.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+J+"]: "+b+`
`+x+`
`+ae+" "+Te})}function ji(m,b,x,D){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+Pu(m,x)+(D?" "+D:"")})}function ls(m,b){m.info(function(){return"TIMEOUT: "+b})}ni.prototype.info=function(){};function Pu(m,b){if(!m.g)return b;if(!b)return null;try{const ae=JSON.parse(b);if(ae){for(m=0;m<ae.length;m++)if(Array.isArray(ae[m])){var x=ae[m];if(!(x.length<2)){var D=x[1];if(Array.isArray(D)&&!(D.length<1)){var J=D[0];if(J!="noop"&&J!="stop"&&J!="close")for(let Te=1;Te<D.length;Te++)D[Te]=""}}}}return Bn(ae)}catch{return b}}var Cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wo;function Ws(){}v(Ws,Rr),Ws.prototype.g=function(){return new XMLHttpRequest},wo=new Ws;function Ui(m){return encodeURIComponent(String(m))}function Xs(m){var b=1;m=m.split(":");const x=[];for(;b>0&&m.length;)x.push(m.shift()),b--;return m.length&&x.push(m.join(":")),x}function Wn(m,b,x,D){this.j=m,this.i=b,this.l=x,this.S=D||1,this.V=new Un(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vi}function vi(){this.i=null,this.g="",this.h=!1}var Y={},Se={};function gt(m,b,x){m.M=1,m.A=To(hn(b)),m.u=x,m.R=!0,jt(m,null)}function jt(m,b){m.F=Date.now(),_i(m),m.B=hn(m.A);var x=m.B,D=m.S;Array.isArray(D)||(D=[String(D)]),Ml(x.i,"t",D),m.C=0,x=m.j.L,m.h=new vi,m.g=yf(m.j,x?b:null,!m.u),m.P>0&&(m.O=new ln(f(m.Y,m,m.g),m.P)),b=m.V,x=m.g,D=m.ba;var J="readystatechange";Array.isArray(J)||(J&&(Qn[0]=J.toString()),J=Qn);for(let ae=0;ae<J.length;ae++){const Te=Pe(x,J[ae],D||b.handleEvent,!1,b.h||b);if(!Te)break;b.g[Te.key]=Te}b=m.J?S(m.J):{},m.u?(m.v||(m.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,b)):(m.v="GET",m.g.ea(m.B,m.v,null,b)),gi(),_o(m.i,m.v,m.B,m.l,m.S,m.u)}Wn.prototype.ba=function(m){m=m.target;const b=this.O;b&&cr(m)==3?b.j():this.Y(m)},Wn.prototype.Y=function(m){try{if(m==this.g)e:{const qe=cr(this.g),en=this.g.ya(),dt=this.g.ca();if(!(qe<3)&&(qe!=3||this.g&&(this.h.h||this.g.la()||kn(this.g)))){this.K||qe!=4||en==7||(en==8||dt<=0?gi(3):gi(2)),Nr(this);var b=this.g.ca();this.X=b;var x=cn(this);if(this.o=b==200,Ys(this.i,this.v,this.B,this.l,this.S,qe,b),this.o){if(this.U&&!this.L){t:{if(this.g){var D,J=this.g;if((D=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(D)){var ae=D;break t}}ae=null}if(m=ae)ji(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Dr(this,m);else{this.o=!1,this.m=3,Qt(12),bi(this),Bi(this);break e}}if(this.R){m=!0;let Ut;for(;!this.K&&this.C<x.length;)if(Ut=ar(this,x),Ut==Se){qe==4&&(this.m=4,Qt(14),m=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==Y){this.m=4,Qt(15),ji(this.i,this.l,x,"[Invalid Chunk]"),m=!1;break}else ji(this.i,this.l,Ut,null),Dr(this,Ut);if(zn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||x.length!=0||this.h.h||(this.m=1,Qt(16),m=!1),this.o=this.o&&m,!m)ji(this.i,this.l,x,"[Invalid Chunked Response]"),bi(this),Bi(this);else if(x.length>0&&!this.W){this.W=!0;var Te=this.j;Te.g==this&&Te.aa&&!Te.P&&(Te.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Qu(Te),Te.P=!0,Qt(11))}}else ji(this.i,this.l,x,null),Dr(this,x);qe==4&&bi(this),this.o&&!this.K&&(qe==4?ff(this.j,this):(this.o=!1,_i(this)))}else us(this.g),b==400&&x.indexOf("Unknown SID")>0?(this.m=3,Qt(12)):(this.m=0,Qt(13)),bi(this),Bi(this)}}}catch{}};function cn(m){if(!zn(m))return m.g.la();const b=kn(m.g);if(b==="")return"";let x="";const D=b.length,J=cr(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return bi(m),Bi(m),"";m.h.i=new c.TextDecoder}for(let ae=0;ae<D;ae++)m.h.h=!0,x+=m.h.i.decode(b[ae],{stream:!(J&&ae==D-1)});return b.length=0,m.h.g+=x,m.C=0,m.h.g}function zn(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function ar(m,b){var x=m.C,D=b.indexOf(`
`,x);return D==-1?Se:(x=Number(b.substring(x,D)),isNaN(x)?Y:(D+=1,D+x>b.length?Se:(b=b.slice(D,D+x),m.C=D+x,b)))}Wn.prototype.cancel=function(){this.K=!0,bi(this)};function _i(m){m.T=Date.now()+m.H,kl(m,m.H)}function kl(m,b){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Li(f(m.aa,m),b)}function Nr(m){m.D&&(c.clearTimeout(m.D),m.D=null)}Wn.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ls(this.i,this.B),this.M!=2&&(gi(),Qt(17)),bi(this),this.m=2,Bi(this)):kl(this,this.T-m)};function Bi(m){m.j.I==0||m.K||ff(m.j,m)}function bi(m){Nr(m);var b=m.O;b&&typeof b.dispose=="function"&&b.dispose(),m.O=null,ti(m.V),m.g&&(b=m.g,m.g=null,b.abort(),b.dispose())}function Dr(m,b){try{var x=m.j;if(x.I!=0&&(x.g==m||Pr(x.h,m))){if(!m.L&&Pr(x.h,m)&&x.I==3){try{var D=x.Ba.g.parse(b)}catch{D=null}if(Array.isArray(D)&&D.length==3){var J=D;if(J[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<m.F)Bl(x),sa(x);else break e;Co(x),Qt(18)}}else x.xa=J[1],0<x.xa-x.K&&J[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Li(f(x.Va,x),6e3));kr(x.h)<=1&&x.ta&&(x.ta=void 0)}else Ur(x,11)}else if((m.L||x.g==m)&&Bl(x),!M(b))for(J=x.Ba.g.parse(b),b=0;b<J.length;b++){let dt=J[b];const Ut=dt[0];if(!(Ut<=x.K))if(x.K=Ut,dt=dt[1],x.I==2)if(dt[0]=="c"){x.M=dt[1],x.ba=dt[2];const qi=dt[3];qi!=null&&(x.ka=qi,x.j.info("VER="+x.ka));const Br=dt[4];Br!=null&&(x.za=Br,x.j.info("SVER="+x.za));const ur=dt[5];ur!=null&&typeof ur=="number"&&ur>0&&(D=1.5*ur,x.O=D,x.j.info("backChannelRequestTimeoutMs_="+D)),D=x;const hr=m.g;if(hr){const No=hr.g?hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(No){var ae=D.h;ae.g||No.indexOf("spdy")==-1&&No.indexOf("quic")==-1&&No.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Ou(ae,ae.h),ae.h=null))}if(D.G){const zl=hr.g?hr.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(D.wa=zl,yt(D.J,D.G,zl))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-m.F,x.j.info("Handshake RTT: "+x.T+"ms")),D=x;var Te=m;if(D.na=gf(D,D.L?D.ba:null,D.W),Te.L){Lu(D.h,Te);var qe=Te,en=D.O;en&&(qe.H=en),qe.D&&(Nr(qe),_i(qe)),D.g=Te}else hf(D);x.i.length>0&&jr(x)}else dt[0]!="stop"&&dt[0]!="close"||Ur(x,7);else x.I==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?Ur(x,7):$u(x):dt[0]!="noop"&&x.l&&x.l.qa(dt),x.A=0)}}gi(4)}catch{}}var un=class{constructor(m,b){this.g=m,this.map=b}};function Vu(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mu(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function kr(m){return m.h?1:m.g?m.g.size:0}function Pr(m,b){return m.h?m.h==b:m.g?m.g.has(b):!1}function Ou(m,b){m.g?m.g.add(b):m.h=b}function Lu(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}Vu.prototype.cancel=function(){if(this.i=ju(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function ju(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let b=m.i;for(const x of m.g.values())b=b.concat(x.G);return b}return E(m.i)}var sf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pl(m,b){if(m){m=m.split("&");for(let x=0;x<m.length;x++){const D=m[x].indexOf("=");let J,ae=null;D>=0?(J=m[x].substring(0,D),ae=m[x].substring(D+1)):J=m[x],b(J,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function wi(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;m instanceof wi?(this.l=m.l,Sn(this,m.j),this.o=m.o,this.g=m.g,Js(this,m.u),this.h=m.h,Uu(this,cf(m.i)),this.m=m.m):m&&(b=String(m).match(sf))?(this.l=!1,Sn(this,b[1]||"",!0),this.o=Vr(b[2]||""),this.g=Vr(b[3]||"",!0),Js(this,b[4]),this.h=Vr(b[5]||"",!0),Uu(this,b[6]||"",!0),this.m=Vr(b[7]||"")):(this.l=!1,this.i=new ea(null,this.l))}wi.prototype.toString=function(){const m=[];var b=this.j;b&&m.push(xo(b,Vl,!0),":");var x=this.g;return(x||b=="file")&&(m.push("//"),(b=this.o)&&m.push(xo(b,Vl,!0),"@"),m.push(Ui(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&m.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&m.push("/"),m.push(xo(x,x.charAt(0)=="/"?Bu:af,!0))),(x=this.i.toString())&&m.push("?",x),(x=this.m)&&m.push("#",xo(x,of)),m.join("")},wi.prototype.resolve=function(m){const b=hn(this);let x=!!m.j;x?Sn(b,m.j):x=!!m.o,x?b.o=m.o:x=!!m.g,x?b.g=m.g:x=m.u!=null;var D=m.h;if(x)Js(b,m.u);else if(x=!!m.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var J=b.h.lastIndexOf("/");J!=-1&&(D=b.h.slice(0,J+1)+D)}if(J=D,J==".."||J==".")D="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){D=J.lastIndexOf("/",0)==0,J=J.split("/");const ae=[];for(let Te=0;Te<J.length;){const qe=J[Te++];qe=="."?D&&Te==J.length&&ae.push(""):qe==".."?((ae.length>1||ae.length==1&&ae[0]!="")&&ae.pop(),D&&Te==J.length&&ae.push("")):(ae.push(qe),D=!0)}D=ae.join("/")}else D=J}return x?b.h=D:x=m.i.toString()!=="",x?Uu(b,cf(m.i)):x=!!m.m,x&&(b.m=m.m),b};function hn(m){return new wi(m)}function Sn(m,b,x){m.j=x?Vr(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function Js(m,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);m.u=b}else m.u=null}function Uu(m,b,x){b instanceof ea?(m.i=b,Ol(m.i,m.l)):(x||(b=xo(b,Zs)),m.i=new ea(b,m.l))}function yt(m,b,x){m.i.set(b,x)}function To(m){return yt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Vr(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function xo(m,b,x){return typeof m=="string"?(m=encodeURI(m).replace(b,ii),x&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function ii(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Vl=/[#\/\?@]/g,af=/[#\?:]/g,Bu=/[#\?]/g,Zs=/[#\?@]/g,of=/#/g;function ea(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function ri(m){m.g||(m.g=new Map,m.h=0,m.i&&Pl(m.i,function(b,x){m.add(decodeURIComponent(b.replace(/\+/g," ")),x)}))}n=ea.prototype,n.add=function(m,b){ri(this),this.i=null,m=ta(this,m);let x=this.g.get(m);return x||this.g.set(m,x=[]),x.push(b),this.h+=1,this};function lf(m,b){ri(m),b=ta(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function zu(m,b){return ri(m),b=ta(m,b),m.g.has(b)}n.forEach=function(m,b){ri(this),this.g.forEach(function(x,D){x.forEach(function(J){m.call(b,J,D,this)},this)},this)};function Fu(m,b){ri(m);let x=[];if(typeof b=="string")zu(m,b)&&(x=x.concat(m.g.get(ta(m,b))));else for(m=Array.from(m.g.values()),b=0;b<m.length;b++)x=x.concat(m[b]);return x}n.set=function(m,b){return ri(this),this.i=null,m=ta(this,m),zu(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},n.get=function(m,b){return m?(m=Fu(this,m),m.length>0?String(m[0]):b):b};function Ml(m,b,x){lf(m,b),x.length>0&&(m.i=null,m.g.set(ta(m,b),E(x)),m.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(let D=0;D<b.length;D++){var x=b[D];const J=Ui(x);x=Fu(this,x);for(let ae=0;ae<x.length;ae++){let Te=J;x[ae]!==""&&(Te+="="+Ui(x[ae])),m.push(Te)}}return this.i=m.join("&")};function cf(m){const b=new ea;return b.i=m.i,m.g&&(b.g=new Map(m.g),b.h=m.h),b}function ta(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function Ol(m,b){b&&!m.j&&(ri(m),m.i=null,m.g.forEach(function(x,D){const J=D.toLowerCase();D!=J&&(lf(this,D),Ml(this,J,x))},m)),m.j=b}function or(m,b){const x=new ni;if(c.Image){const D=new Image;D.onload=g(zi,x,"TestLoadImage: loaded",!0,b,D),D.onerror=g(zi,x,"TestLoadImage: error",!1,b,D),D.onabort=g(zi,x,"TestLoadImage: abort",!1,b,D),D.ontimeout=g(zi,x,"TestLoadImage: timeout",!1,b,D),c.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=m}else b(!1)}function qu(m,b){const x=new ni,D=new AbortController,J=setTimeout(()=>{D.abort(),zi(x,"TestPingServer: timeout",!1,b)},1e4);fetch(m,{signal:D.signal}).then(ae=>{clearTimeout(J),ae.ok?zi(x,"TestPingServer: ok",!0,b):zi(x,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(J),zi(x,"TestPingServer: error",!1,b)})}function zi(m,b,x,D,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),D(x)}catch{}}function na(){this.g=new Ir}function Mr(m){this.i=m.Sb||null,this.h=m.ab||!1}v(Mr,Rr),Mr.prototype.g=function(){return new Eo(this.i,this.h)};function Eo(m,b){pt.call(this),this.H=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Eo,pt),n=Eo.prototype,n.open=function(m,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=b,this.readyState=1,lr(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(b.body=m),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,lr(this)),this.g&&(this.readyState=3,lr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ll(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ll(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?ia(this):lr(this),this.readyState==3&&Ll(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,ia(this))},n.Na=function(m){this.g&&(this.response=m,ia(this))},n.ga=function(){this.g&&ia(this)};function ia(m){m.readyState=4,m.l=null,m.j=null,m.B=null,lr(m)}n.setRequestHeader=function(m,b){this.A.append(m,b)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var x=b.next();!x.done;)x=x.value,m.push(x[0]+": "+x[1]),x=b.next();return m.join(`\r
`)};function lr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Eo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Fi(m){let b="";return ye(m,function(x,D){b+=D,b+=":",b+=x,b+=`\r
`}),b}function So(m,b,x){e:{for(D in x){var D=!1;break e}D=!0}D||(x=Fi(x),typeof m=="string"?x!=null&&Ui(x):yt(m,b,x))}function xt(m){pt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(xt,pt);var Or=/^https?$/i,Gu=["POST","PUT"];n=xt.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,b,x,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wo.g(),this.g.onreadystatechange=w(f(this.Ca,this));try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(ae){Ao(this,ae);return}if(m=x||"",x=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var J in D)x.set(J,D[J]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const ae of D.keys())x.set(ae,D.get(ae));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(x.keys()).find(ae=>ae.toLowerCase()=="content-type"),J=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(Gu,b,void 0)>=0)||D||J||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,Te]of x)this.g.setRequestHeader(ae,Te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(ae){Ao(this,ae)}};function Ao(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.o=5,Hu(m),cs(m)}function Hu(m){m.A||(m.A=!0,rt(m,"complete"),rt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,rt(this,"complete"),rt(this,"abort"),cs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cs(this,!0)),xt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Io(this):this.Xa())},n.Xa=function(){Io(this)};function Io(m){if(m.h&&typeof o<"u"){if(m.v&&cr(m)==4)setTimeout(m.Ca.bind(m),0);else if(rt(m,"readystatechange"),cr(m)==4){m.h=!1;try{const ae=m.ca();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var x;if(!(x=b)){var D;if(D=ae===0){let Te=String(m.D).match(sf)[1]||null;!Te&&c.self&&c.self.location&&(Te=c.self.location.protocol.slice(0,-1)),D=!Or.test(Te?Te.toLowerCase():"")}x=D}if(x)rt(m,"complete"),rt(m,"success");else{m.o=6;try{var J=cr(m)>2?m.g.statusText:""}catch{J=""}m.l=J+" ["+m.ca()+"]",Hu(m)}}finally{cs(m)}}}}function cs(m,b){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const x=m.g;m.g=null,b||rt(m,"ready");try{x.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function cr(m){return m.g?m.g.readyState:0}n.ca=function(){try{return cr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var b=this.g.responseText;return m&&b.indexOf(m)==0&&(b=b.substring(m.length)),as(b)}};function kn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function us(m){const b={};m=(m.g&&cr(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<m.length;D++){if(M(m[D]))continue;var x=Xs(m[D]);const J=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ae=b[J]||[];b[J]=ae,ae.push(x)}q(b,function(D){return D.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lr(m,b,x){return x&&x.internalChannelParams&&x.internalChannelParams[m]||b}function ra(m){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Lr("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Lr("baseRetryDelayMs",5e3,m),this.Za=Lr("retryDelaySeedMs",1e4,m),this.Ta=Lr("forwardChannelMaxRetries",2,m),this.va=Lr("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Vu(m&&m.concurrentRequestLimit),this.Ba=new na,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ra.prototype,n.ka=8,n.I=1,n.connect=function(m,b,x,D){Qt(0),this.W=m,this.H=b||{},x&&D!==void 0&&(this.H.OSID=x,this.H.OAID=D),this.F=this.X,this.J=gf(this,null,this.W),jr(this)};function $u(m){if(jl(m),m.I==3){var b=m.V++,x=hn(m.J);if(yt(x,"SID",m.M),yt(x,"RID",b),yt(x,"TYPE","terminate"),Ro(m,x),b=new Wn(m,m.j,b),b.M=2,b.A=To(hn(x)),x=!1,c.navigator&&c.navigator.sendBeacon)try{x=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!x&&c.Image&&(new Image().src=b.A,x=!0),x||(b.g=yf(b.j,null),b.g.ea(b.A)),b.F=Date.now(),_i(b)}pf(m)}function sa(m){m.g&&(Qu(m),m.g.cancel(),m.g=null)}function jl(m){sa(m),m.v&&(c.clearTimeout(m.v),m.v=null),Bl(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function jr(m){if(!Mu(m.h)&&!m.m){m.m=!0;var b=m.Ea;ie||A(),le||(ie(),le=!0),N.add(b,m),m.D=0}}function Ul(m,b){return kr(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=b.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Li(f(m.Ea,m,b),mf(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const J=new Wn(this,this.j,m);let ae=this.o;if(this.U&&(ae?(ae=S(ae),se(ae,this.U)):ae=this.U),this.u!==null||this.R||(J.J=ae,ae=null),this.S)e:{for(var b=0,x=0;x<this.i.length;x++){t:{var D=this.i[x];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(b+=D,b>4096){b=x;break e}if(b===4096||x===this.i.length-1){b=x+1;break e}}b=1e3}else b=1e3;b=uf(this,J,b),x=hn(this.J),yt(x,"RID",m),yt(x,"CVER",22),this.G&&yt(x,"X-HTTP-Session-Id",this.G),Ro(this,x),ae&&(this.R?b="headers="+Ui(Fi(ae))+"&"+b:this.u&&So(x,this.u,ae)),Ou(this.h,J),this.Ra&&yt(x,"TYPE","init"),this.S?(yt(x,"$req",b),yt(x,"SID","null"),J.U=!0,gt(J,x,null)):gt(J,x,b),this.I=2}}else this.I==3&&(m?Ku(this,m):this.i.length==0||Mu(this.h)||Ku(this))};function Ku(m,b){var x;b?x=b.l:x=m.V++;const D=hn(m.J);yt(D,"SID",m.M),yt(D,"RID",x),yt(D,"AID",m.K),Ro(m,D),m.u&&m.o&&So(D,m.u,m.o),x=new Wn(m,m.j,x,m.D+1),m.u===null&&(x.J=m.o),b&&(m.i=b.G.concat(m.i)),b=uf(m,x,1e3),x.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Ou(m.h,x),gt(x,D,b)}function Ro(m,b){m.H&&ye(m.H,function(x,D){yt(b,D,x)}),m.l&&ye({},function(x,D){yt(b,D,x)})}function uf(m,b,x){x=Math.min(m.i.length,x);const D=m.l?f(m.l.Ka,m.l,m):null;e:{var J=m.i;let qe=-1;for(;;){const en=["count="+x];qe==-1?x>0?(qe=J[0].g,en.push("ofs="+qe)):qe=0:en.push("ofs="+qe);let dt=!0;for(let Ut=0;Ut<x;Ut++){var ae=J[Ut].g;const qi=J[Ut].map;if(ae-=qe,ae<0)qe=Math.max(0,J[Ut].g-100),dt=!1;else try{ae="req"+ae+"_"||"";try{var Te=qi instanceof Map?qi:Object.entries(qi);for(const[Br,ur]of Te){let hr=ur;h(ur)&&(hr=Bn(ur)),en.push(ae+Br+"="+encodeURIComponent(hr))}}catch(Br){throw en.push(ae+"type="+encodeURIComponent("_badmap")),Br}}catch{D&&D(qi)}}if(dt){Te=en.join("&");break e}}Te=void 0}return m=m.i.splice(0,x),b.G=m,Te}function hf(m){if(!m.g&&!m.v){m.Y=1;var b=m.Da;ie||A(),le||(ie(),le=!0),N.add(b,m),m.A=0}}function Co(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Li(f(m.Da,m),mf(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,df(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Li(f(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Qt(10),sa(this),df(this))};function Qu(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function df(m){m.g=new Wn(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var b=hn(m.na);yt(b,"RID","rpc"),yt(b,"SID",m.M),yt(b,"AID",m.K),yt(b,"CI",m.F?"0":"1"),!m.F&&m.ia&&yt(b,"TO",m.ia),yt(b,"TYPE","xmlhttp"),Ro(m,b),m.u&&m.o&&So(b,m.u,m.o),m.O&&(m.g.H=m.O);var x=m.g;m=m.ba,x.M=1,x.A=To(hn(b)),x.u=null,x.R=!0,jt(x,m)}n.Va=function(){this.C!=null&&(this.C=null,sa(this),Co(this),Qt(19))};function Bl(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function ff(m,b){var x=null;if(m.g==b){Bl(m),Qu(m),m.g=null;var D=2}else if(Pr(m.h,b))x=b.G,Lu(m.h,b),D=1;else return;if(m.I!=0){if(b.o)if(D==1){x=b.u?b.u.length:0,b=Date.now()-b.F;var J=m.D;D=Mi(),rt(D,new yi(D,x)),jr(m)}else hf(m);else if(J=b.m,J==3||J==0&&b.X>0||!(D==1&&Ul(m,b)||D==2&&Co(m)))switch(x&&x.length>0&&(b=m.h,b.i=b.i.concat(x)),J){case 1:Ur(m,5);break;case 4:Ur(m,10);break;case 3:Ur(m,6);break;default:Ur(m,2)}}}function mf(m,b){let x=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(x*=2),x*b}function Ur(m,b){if(m.j.info("Error code "+b),b==2){var x=f(m.bb,m),D=m.Ua;const J=!D;D=new wi(D||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Sn(D,"https"),To(D),J?or(D.toString(),x):qu(D.toString(),x)}else Qt(2);m.I=0,m.l&&m.l.pa(b),pf(m),jl(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function pf(m){if(m.I=0,m.ja=[],m.l){const b=ju(m.h);(b.length!=0||m.i.length!=0)&&(R(m.ja,b),R(m.ja,m.i),m.h.i.length=0,E(m.i),m.i.length=0),m.l.oa()}}function gf(m,b,x){var D=x instanceof wi?hn(x):new wi(x);if(D.g!="")b&&(D.g=b+"."+D.g),Js(D,D.u);else{var J=c.location;D=J.protocol,b=b?b+"."+J.hostname:J.hostname,J=+J.port;const ae=new wi(null);D&&Sn(ae,D),b&&(ae.g=b),J&&Js(ae,J),x&&(ae.h=x),D=ae}return x=m.G,b=m.wa,x&&b&&yt(D,x,b),yt(D,"VER",m.ka),Ro(m,D),D}function yf(m,b,x){if(b&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=m.Aa&&!m.ma?new xt(new Mr({ab:x})):new xt(m.ma),b.Fa(m.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vf(){}n=vf.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function aa(){}aa.prototype.g=function(m,b){return new Xn(m,b)};function Xn(m,b){pt.call(this),this.g=new ra(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(m?m["X-WebChannel-Client-Profile"]=b.sa:m={"X-WebChannel-Client-Profile":b.sa}),this.g.U=m,(m=b&&b.Qb)&&!M(m)&&(this.g.u=m),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!M(b)&&(this.g.G=b,m=this.h,m!==null&&b in m&&(m=this.h,b in m&&delete m[b])),this.j=new hs(this)}v(Xn,pt),Xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){$u(this.g)},Xn.prototype.o=function(m){var b=this.g;if(typeof m=="string"){var x={};x.__data__=m,m=x}else this.v&&(x={},x.__data__=Bn(m),m=x);b.i.push(new un(b.Ya++,m)),b.I==3&&jr(b)},Xn.prototype.N=function(){this.g.l=null,delete this.j,$u(this.g),delete this.g,Xn.Z.N.call(this)};function _f(m){Ht.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){e:{for(const x in b){m=x;break e}m=void 0}(this.i=m)&&(m=this.i,b=b!==null&&m in b?b[m]:void 0),this.data=b}else this.data=m}v(_f,Ht);function bf(){Yn.call(this),this.status=1}v(bf,Yn);function hs(m){this.g=m}v(hs,vf),hs.prototype.ra=function(){rt(this.g,"a")},hs.prototype.qa=function(m){rt(this.g,new _f(m))},hs.prototype.pa=function(m){rt(this.g,new bf)},hs.prototype.oa=function(){rt(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,AC=function(){return new aa},SC=function(){return Mi()},EC=Dt,D0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,Qm=Cr,bo.COMPLETE="complete",xC=bo,sr.EventType=ct,ct.OPEN="a",ct.CLOSE="b",ct.ERROR="c",ct.MESSAGE="d",pt.prototype.listen=pt.prototype.J,Gh=sr,xt.prototype.listenOnce=xt.prototype.K,xt.prototype.getLastError=xt.prototype.Ha,xt.prototype.getLastErrorCode=xt.prototype.ya,xt.prototype.getStatus=xt.prototype.ca,xt.prototype.getResponseJson=xt.prototype.La,xt.prototype.getResponseText=xt.prototype.la,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Fa,TC=xt}).apply(typeof Am<"u"?Am:typeof self<"u"?self:typeof window<"u"?window:{});let Rn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");let pu="12.8.0";function Mj(n){pu=n}const Wa=new U_("@firebase/firestore");function Ec(){return Wa.logLevel}function Oj(n){Wa.setLogLevel(n)}function pe(n,...e){if(Wa.logLevel<=nt.DEBUG){const t=e.map(J_);Wa.debug(`Firestore (${pu}): ${n}`,...t)}}function an(n,...e){if(Wa.logLevel<=nt.ERROR){const t=e.map(J_);Wa.error(`Firestore (${pu}): ${n}`,...t)}}function Di(n,...e){if(Wa.logLevel<=nt.WARN){const t=e.map(J_);Wa.warn(`Firestore (${pu}): ${n}`,...t)}}function J_(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ee(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,IC(n,i,t)}function IC(n,e,t){let i=`FIRESTORE (${pu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw an(i),new Error(i)}function De(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||IC(e,s,i)}function Lj(n,e){n||Ee(57014,e)}function xe(n,e){return n}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends rs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nn{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class RC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Rn.UNAUTHENTICATED)))}shutdown(){}}class jj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Uj{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){De(this.o===void 0,42304);let i=this.i;const s=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve();let o=new Nn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nn,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},h=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nn)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(De(typeof i.accessToken=="string",31837,{l:i}),new RC(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class Bj{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class zj{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new Bj(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class k0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fj{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){De(this.o===void 0,3512);const i=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const s=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new k0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(De(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new k0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class qj{getToken(){return Promise.resolve(new k0(""))}invalidateToken(){}start(e,t){}shutdown(){}}function Gj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class ag{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=Gj(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<t&&(i+=e.charAt(s[o]%62))}return i}}function Le(n,e){return n<e?-1:n>e?1:0}function P0(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const s=n.charAt(i),o=e.charAt(i);if(s!==o)return Hv(s)===Hv(o)?Le(s,o):Hv(s)?1:-1}return Le(n.length,e.length)}const Hj=55296,$j=57343;function Hv(n){const e=n.charCodeAt(0);return e>=Hj&&e<=$j}function zc(n,e,t){return n.length===e.length&&n.every(((i,s)=>t(i,e[s])))}function NC(n){return n+"\0"}const V0="__name__";class Hr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ee(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Hr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const o=Hr.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Le(e.length,t.length)}static compareSegments(e,t){const i=Hr.isNumericId(e),s=Hr.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?Hr.extractNumericId(e).compare(Hr.extractNumericId(t)):P0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ka.fromString(e.substring(4,e.length-2))}}class We extends Hr{construct(e,t,i){return new We(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((s=>s.length>0)))}return new We(t)}static emptyPath(){return new We([])}}const Kj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends Hr{construct(e,t,i){return new Ot(e,t,i)}static isValidIdentifier(e){return Kj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V0}static keyField(){return new Ot([V0])}static fromServerFormat(e){const t=[];let i="",s=0;const o=()=>{if(i.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,s+=2}else h==="`"?(c=!c,s++):h!=="."||c?(i+=h,s++):(o(),s++)}if(o(),c)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(We.fromString(e))}static fromName(e){return new we(We.fromString(e).popFirst(5))}static empty(){return new we(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return We.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new We(e.slice()))}}function Z_(n,e,t){if(!t)throw new de(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DC(n,e,t,i){if(e===!0&&i===!0)throw new de(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iS(n){if(!we.isDocumentKey(n))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rS(n){if(we.isDocumentKey(n))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function og(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee(12329,{type:typeof n})}function Xe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=og(n);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function PC(n,e){if(e<=0)throw new de(ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function vn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Sl(n,e){if(!kC(n))throw new de(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const s=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(s&&typeof c!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${i}' field to equal '${o.value}'`;break}}if(t)throw new de(ne.INVALID_ARGUMENT,t);return!0}const sS=-62135596800,aS=1e6;class Ue{static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*aS);return new Ue(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sS)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aS}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sl(e,Ue._jsonSchema))return new Ue(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ue._jsonSchemaVersion="firestore/timestamp/1.0",Ue._jsonSchema={type:vn("string",Ue._jsonSchemaVersion),seconds:vn("number"),nanoseconds:vn("number")};class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Ue(0,0))}static max(){return new Ve(new Ue(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fc=-1;class qc{constructor(e,t,i,s){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=s}}function M0(n){return n.fields.find((e=>e.kind===2))}function Wo(n){return n.fields.filter((e=>e.kind!==2))}function Qj(n,e){let t=Le(n.collectionGroup,e.collectionGroup);if(t!==0)return t;for(let i=0;i<Math.min(n.fields.length,e.fields.length);++i)if(t=Yj(n.fields[i],e.fields[i]),t!==0)return t;return Le(n.fields.length,e.fields.length)}qc.UNKNOWN_ID=-1;class ll{constructor(e,t){this.fieldPath=e,this.kind=t}}function Yj(n,e){const t=Ot.comparator(n.fieldPath,e.fieldPath);return t!==0?t:Le(n.kind,e.kind)}class Gc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Gc(0,ki.min())}}function VC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Ve.fromTimestamp(i===1e9?new Ue(t+1,0):new Ue(t,i));return new ki(s,we.empty(),e)}function MC(n){return new ki(n.readTime,n.key,Fc)}class ki{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ki(Ve.min(),we.empty(),Fc)}static max(){return new ki(Ve.max(),we.empty(),Fc)}}function eb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}const OC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function lo(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==OC)throw n;pe("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X(((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):X.reject(t)}static resolve(e){return new X(((t,i)=>{t(e)}))}static reject(e){return new X(((t,i)=>{i(e)}))}static waitFor(e){return new X(((t,i)=>{let s=0,o=0,c=!1;e.forEach((h=>{++s,h.next((()=>{++o,c&&o===s&&t()}),(d=>i(d)))})),c=!0,o===s&&t()}))}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next((s=>s?X.resolve(s):i()));return t}static forEach(e,t){const i=[];return e.forEach(((s,o)=>{i.push(t.call(this,s,o))})),this.waitFor(i)}static mapArray(e,t){return new X(((i,s)=>{const o=e.length,c=new Array(o);let h=0;for(let d=0;d<o;d++){const f=d;t(e[f]).next((g=>{c[f]=g,++h,h===o&&i(c)}),(g=>s(g)))}}))}static doWhile(e,t){return new X(((i,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):i()};o()}))}}const Ci="SimpleDb";class lg{static open(e,t,i,s){try{return new lg(t,e.transaction(s,i))}catch(o){throw new Jh(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Nn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Jh(e,t.error)):this.S.resolve()},this.transaction.onerror=i=>{const s=tb(i.target.error);this.S.reject(new Jh(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(pe(Ci,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Xj(t)}}class Xr{static delete(e){return pe(Ci,"Removing database:",e),Zo(NR().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!UR())return!1;if(Xr.F())return!0;const e=Tn(),t=Xr.M(e),i=0<t&&t<10,s=jC(e),o=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(e,t,i){this.name=e,this.version=t,this.N=i,this.B=null,Xr.M(Tn())===12.2&&an("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(pe(Ci,"Opening database:",this.name),this.db=await new Promise(((t,i)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=o=>{const c=o.target.result;t(c)},s.onblocked=()=>{i(new Jh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const c=o.target.error;c.name==="VersionError"?i(new de(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?i(new de(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):i(new Jh(e,c))},s.onupgradeneeded=o=>{pe(Ci,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const c=o.target.result;this.N.k(c,s.transaction,o.oldVersion,this.version).next((()=>{pe(Ci,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,i,s){const o=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const h=lg.open(this.db,e,o?"readonly":"readwrite",i),d=s(h).next((f=>(h.C(),f))).catch((f=>(h.abort(f),X.reject(f)))).toPromise();return d.catch((()=>{})),await h.D,d}catch(h){const d=h,f=d.name!=="FirebaseError"&&c<3;if(pe(Ci,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function jC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class Wj{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return Zo(this.U.delete())}}class Jh extends de{constructor(e,t){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function co(n){return n.name==="IndexedDbTransactionError"}class Xj{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(pe(Ci,"PUT",this.store.name,e,t),i=this.store.put(t,e)):(pe(Ci,"PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Zo(i)}add(e){return pe(Ci,"ADD",this.store.name,e,e),Zo(this.store.add(e))}get(e){return Zo(this.store.get(e)).next((t=>(t===void 0&&(t=null),pe(Ci,"GET",this.store.name,e,t),t)))}delete(e){return pe(Ci,"DELETE",this.store.name,e),Zo(this.store.delete(e))}count(){return pe(Ci,"COUNT",this.store.name),Zo(this.store.count())}H(e,t){const i=this.options(e,t),s=i.index?this.store.index(i.index):this.store;if(typeof s.getAll=="function"){const o=s.getAll(i.range);return new X(((c,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{c(d.target.result)}}))}{const o=this.cursor(i),c=[];return this.J(o,((h,d)=>{c.push(d)})).next((()=>c))}}Z(e,t){const i=this.store.getAll(e,t===null?void 0:t);return new X(((s,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{s(c.target.result)}}))}X(e,t){pe(Ci,"DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const s=this.cursor(i);return this.J(s,((o,c,h)=>h.delete()))}ee(e,t){let i;t?i=e:(i={},t=e);const s=this.cursor(i);return this.J(s,t)}te(e){const t=this.cursor({});return new X(((i,s)=>{t.onerror=o=>{const c=tb(o.target.error);s(c)},t.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next((h=>{h?c.continue():i()})):i()}}))}J(e,t){const i=[];return new X(((s,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void s();const d=new Wj(h),f=t(h.primaryKey,h.value,d);if(f instanceof X){const g=f.catch((v=>(d.done(),X.reject(v))));i.push(g)}d.isDone?s():d.G===null?h.continue():h.continue(d.G)}})).next((()=>X.waitFor(i)))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Zo(n){return new X(((e,t)=>{n.onsuccess=i=>{const s=i.target.result;e(s)},n.onerror=i=>{const s=tb(i.target.error);t(s)}}))}let oS=!1;function tb(n){const e=Xr.M(Tn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return oS||(oS=!0,setTimeout((()=>{throw i}),0)),i}}return n}const Zh="IndexBackfiller";class Jj{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){pe(Zh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();pe(Zh,`Documents written: ${t}`)}catch(t){co(t)?pe(Zh,"Ignoring IndexedDB error during index backfill: ",t):await lo(t)}await this.re(6e4)}))}}class Zj{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const i=new Set;let s=t,o=!0;return X.doWhile((()=>o===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!i.has(c))return pe(Zh,`Processing collection: ${c}`),this.oe(e,c,s).next((h=>{s-=h,i.add(c)}));o=!1})))).next((()=>t-s))}oe(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,i).next((o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(s,o))).next((h=>(pe(Zh,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h)))).next((()=>c.size))}))))}_e(e,t){let i=e;return t.changes.forEach(((s,o)=>{const c=MC(o);eb(c,i)>0&&(i=c)})),new ki(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class hi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hi.ce=-1;const Qa=-1;function Ud(n){return n==null}function pd(n){return n===0&&1/n==-1/0}function UC(n){return typeof n=="number"&&Number.isInteger(n)&&!pd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Tp="";function $n(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=lS(e)),e=e3(n.get(t),e);return lS(e)}function e3(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case Tp:t+="";break;default:t+=o}}return t}function lS(n){return n+Tp+""}function Kr(n){const e=n.length;if(De(e>=2,64408,{path:n}),e===2)return De(n.charAt(0)===Tp&&n.charAt(1)==="",56145,{path:n}),We.emptyPath();const t=e-2,i=[];let s="";for(let o=0;o<e;){const c=n.indexOf(Tp,o);switch((c<0||c>t)&&Ee(50515,{path:n}),n.charAt(c+1)){case"":const h=n.substring(o,c);let d;s.length===0?d=h:(s+=h,d=s,s=""),i.push(d);break;case"":s+=n.substring(o,c),s+="\0";break;case"":s+=n.substring(o,c+1);break;default:Ee(61167,{path:n})}o=c+2}return new We(i)}const Xo="remoteDocuments",Bd="owner",yc="owner",gd="mutationQueues",t3="userId",yr="mutations",cS="batchId",rl="userMutationsIndex",uS=["userId","batchId"];function Ym(n,e){return[n,$n(e)]}function BC(n,e,t){return[n,$n(e),t]}const n3={},Hc="documentMutations",xp="remoteDocumentsV14",i3=["prefixPath","collectionGroup","readTime","documentId"],Wm="documentKeyIndex",r3=["prefixPath","collectionGroup","documentId"],zC="collectionGroupIndex",s3=["collectionGroup","readTime","prefixPath","documentId"],yd="remoteDocumentGlobal",O0="remoteDocumentGlobalKey",$c="targets",FC="queryTargetsIndex",a3=["canonicalId","targetId"],Kc="targetDocuments",o3=["targetId","path"],nb="documentTargetsIndex",l3=["path","targetId"],Ep="targetGlobalKey",cl="targetGlobal",vd="collectionParents",c3=["collectionId","parent"],Qc="clientMetadata",u3="clientId",cg="bundles",h3="bundleId",ug="namedQueries",d3="name",ib="indexConfiguration",f3="indexId",L0="collectionGroupIndex",m3="collectionGroup",ed="indexState",p3=["indexId","uid"],qC="sequenceNumberIndex",g3=["uid","sequenceNumber"],td="indexEntries",y3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],GC="documentKeyIndex",v3=["indexId","uid","orderedDocumentKey"],hg="documentOverlays",_3=["userId","collectionPath","documentId"],j0="collectionPathOverlayIndex",b3=["userId","collectionPath","largestBatchId"],HC="collectionGroupOverlayIndex",w3=["userId","collectionGroup","largestBatchId"],rb="globals",T3="name",$C=[gd,yr,Hc,Xo,$c,Bd,cl,Kc,Qc,yd,vd,cg,ug],x3=[...$C,hg],KC=[gd,yr,Hc,xp,$c,Bd,cl,Kc,Qc,yd,vd,cg,ug,hg],QC=KC,sb=[...QC,ib,ed,td],E3=sb,YC=[...sb,rb],S3=YC;class U0 extends LC{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function En(n,e){const t=xe(n);return Xr.O(t.le,e)}function hS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function uo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function WC(n,e){const t=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.push(e(n[i],i,n));return t}function XC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class kt{constructor(e,t){this.comparator=e,this.root=t||jn.EMPTY}insert(e,t){return new kt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Im(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Im(this.root,e,this.comparator,!1)}getReverseIterator(){return new Im(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Im(this.root,e,this.comparator,!0)}}class Im{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jn{constructor(e,t,i,s,o){this.key=e,this.value=t,this.color=i??jn.RED,this.left=s??jn.EMPTY,this.right=o??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,o){return new jn(e??this.key,t??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,i),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return jn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,i,s,o){return this}insert(e,t,i){return new jn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tt{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dS(this.data.getIterator())}getIteratorFrom(e){return new dS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Tt(this.comparator);return t.data=e,t}}class dS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vc(n){return n.hasNext()?n.getNext():void 0}class di{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new di([])}unionWith(e){let t=new Tt(Ot.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new di(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zc(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class JC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function A3(){return typeof atob<"u"}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new JC("Invalid base64 string: "+o):o}})(e);return new Kt(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o})(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const I3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(n){if(De(!!n,39018),typeof n=="string"){let e=0;const t=I3.exec(n);if(De(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zt(n.seconds),nanos:zt(n.nanos)}}function zt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zs(n){return typeof n=="string"?Kt.fromBase64String(n):Kt.fromUint8Array(n)}const ZC="server_timestamp",e2="__type__",t2="__previous_value__",n2="__local_write_time__";function dg(n){return(n?.mapValue?.fields||{})[e2]?.stringValue===ZC}function fg(n){const e=n.mapValue.fields[t2];return dg(e)?fg(e):e}function _d(n){const e=Bs(n.mapValue.fields[n2].timestampValue);return new Ue(e.seconds,e.nanos)}class R3{constructor(e,t,i,s,o,c,h,d,f,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=g,this.apiKey=v}}const bd="(default)";class Xa{constructor(e,t){this.projectId=e,this.database=t||bd}static empty(){return new Xa("","")}get isDefaultDatabase(){return this.database===bd}isEqual(e){return e instanceof Xa&&e.projectId===this.projectId&&e.database===this.database}}function C3(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xa(n.options.projectId,e)}const ab="__type__",i2="__max__",za={mapValue:{fields:{__type__:{stringValue:i2}}}},ob="__vector__",Yc="value",Xm={nullValue:"NULL_VALUE"};function Ja(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dg(n)?4:r2(n)?9007199254740991:mg(n)?10:11:Ee(28295,{value:n})}function ts(n,e){if(n===e)return!0;const t=Ja(n);if(t!==Ja(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _d(n).isEqual(_d(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=Bs(s.timestampValue),h=Bs(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return zs(s.bytesValue).isEqual(zs(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return zt(s.geoPointValue.latitude)===zt(o.geoPointValue.latitude)&&zt(s.geoPointValue.longitude)===zt(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return zt(s.integerValue)===zt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=zt(s.doubleValue),h=zt(o.doubleValue);return c===h?pd(c)===pd(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return zc(n.arrayValue.values||[],e.arrayValue.values||[],ts);case 10:case 11:return(function(s,o){const c=s.mapValue.fields||{},h=o.mapValue.fields||{};if(hS(c)!==hS(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!ts(c[d],h[d])))return!1;return!0})(n,e);default:return Ee(52216,{left:n})}}function wd(n,e){return(n.values||[]).find((t=>ts(t,e)))!==void 0}function Za(n,e){if(n===e)return 0;const t=Ja(n),i=Ja(e);if(t!==i)return Le(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=zt(o.integerValue||o.doubleValue),d=zt(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,e);case 3:return fS(n.timestampValue,e.timestampValue);case 4:return fS(_d(n),_d(e));case 5:return P0(n.stringValue,e.stringValue);case 6:return(function(o,c){const h=zs(o),d=zs(c);return h.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),d=c.split("/");for(let f=0;f<h.length&&f<d.length;f++){const g=Le(h[f],d[f]);if(g!==0)return g}return Le(h.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=Le(zt(o.latitude),zt(c.latitude));return h!==0?h:Le(zt(o.longitude),zt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return mS(n.arrayValue,e.arrayValue);case 10:return(function(o,c){const h=o.fields||{},d=c.fields||{},f=h[Yc]?.arrayValue,g=d[Yc]?.arrayValue,v=Le(f?.values?.length||0,g?.values?.length||0);return v!==0?v:mS(f,g)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===za.mapValue&&c===za.mapValue)return 0;if(o===za.mapValue)return 1;if(c===za.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),f=c.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const w=P0(d[v],g[v]);if(w!==0)return w;const E=Za(h[d[v]],f[g[v]]);if(E!==0)return E}return Le(d.length,g.length)})(n.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function fS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=Bs(n),i=Bs(e),s=Le(t.seconds,i.seconds);return s!==0?s:Le(t.nanos,i.nanos)}function mS(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const o=Za(t[s],i[s]);if(o)return o}return Le(t.length,i.length)}function Wc(n){return B0(n)}function B0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Bs(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return zs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return we.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",s=!0;for(const o of t.values||[])s?s=!1:i+=",",i+=B0(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const c of i)o?o=!1:s+=",",s+=`${c}:${B0(t.fields[c])}`;return s+"}"})(n.mapValue):Ee(61005,{value:n})}function Jm(n){switch(Ja(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fg(n);return e?16+Jm(e):16;case 5:return 2*n.stringValue.length;case 6:return zs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,o)=>s+Jm(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let s=0;return uo(i.fields,((o,c)=>{s+=o.length+Jm(c)})),s})(n.mapValue);default:throw Ee(13486,{value:n})}}function pl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function z0(n){return!!n&&"integerValue"in n}function Td(n){return!!n&&"arrayValue"in n}function pS(n){return!!n&&"nullValue"in n}function gS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zm(n){return!!n&&"mapValue"in n}function mg(n){return(n?.mapValue?.fields||{})[ab]?.stringValue===ob}function nd(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return uo(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=nd(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nd(n.arrayValue.values[t]);return e}return{...n}}function r2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===i2}const s2={mapValue:{fields:{[ab]:{stringValue:ob},[Yc]:{arrayValue:{}}}}};function N3(n){return"nullValue"in n?Xm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?pl(Xa.empty(),we.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?mg(n)?s2:{mapValue:{}}:Ee(35942,{value:n})}function D3(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?pl(Xa.empty(),we.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?s2:"mapValue"in n?mg(n)?{mapValue:{}}:za:Ee(61959,{value:n})}function yS(n,e){const t=Za(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function vS(n,e){const t=Za(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Zm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nd(t)}setAll(e){let t=Ot.emptyPath(),i={},s=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,i,s),i={},s=[],t=h.popLast()}c?i[h.lastSegment()]=nd(c):s.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,i,s)}delete(e){const t=this.field(e.popLast());Zm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ts(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];Zm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){uo(t,((s,o)=>e[s]=o));for(const s of i)delete e[s]}clone(){return new Cn(nd(this.value))}}function a2(n){const e=[];return uo(n.fields,((t,i)=>{const s=new Ot([t]);if(Zm(i)){const o=a2(i.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)})),new di(e)}class Mt{constructor(e,t,i,s,o,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Mt(e,0,Ve.min(),Ve.min(),Ve.min(),Cn.empty(),0)}static newFoundDocument(e,t,i,s){return new Mt(e,1,t,Ve.min(),i,s,0)}static newNoDocument(e,t){return new Mt(e,2,t,Ve.min(),Ve.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new Mt(e,3,t,Ve.min(),Ve.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eo{constructor(e,t){this.position=e,this.inclusive=t}}function _S(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const o=e[s],c=n.position[s];if(o.field.isKeyField()?i=we.comparator(we.fromName(c.referenceValue),t.key):i=Za(c,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function bS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ts(n.position[t],e.position[t]))return!1;return!0}class xd{constructor(e,t="asc"){this.field=e,this.dir=t}}function k3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class o2{}class it extends o2{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new P3(e,t,i):t==="array-contains"?new O3(e,i):t==="in"?new f2(e,i):t==="not-in"?new L3(e,i):t==="array-contains-any"?new j3(e,i):new it(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new V3(e,i):new M3(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Za(t,this.value)):t!==null&&Ja(this.value)===Ja(t)&&this.matchesComparison(Za(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bt extends o2{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new bt(e,t)}matches(e){return Xc(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Xc(n){return n.op==="and"}function F0(n){return n.op==="or"}function lb(n){return l2(n)&&Xc(n)}function l2(n){for(const e of n.filters)if(e instanceof bt)return!1;return!0}function q0(n){if(n instanceof it)return n.field.canonicalString()+n.op.toString()+Wc(n.value);if(lb(n))return n.filters.map((e=>q0(e))).join(",");{const e=n.filters.map((t=>q0(t))).join(",");return`${n.op}(${e})`}}function c2(n,e){return n instanceof it?(function(i,s){return s instanceof it&&i.op===s.op&&i.field.isEqual(s.field)&&ts(i.value,s.value)})(n,e):n instanceof bt?(function(i,s){return s instanceof bt&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((o,c,h)=>o&&c2(c,s.filters[h])),!0):!1})(n,e):void Ee(19439)}function u2(n,e){const t=n.filters.concat(e);return bt.create(t,n.op)}function h2(n){return n instanceof it?(function(t){return`${t.field.canonicalString()} ${t.op} ${Wc(t.value)}`})(n):n instanceof bt?(function(t){return t.op.toString()+" {"+t.getFilters().map(h2).join(" ,")+"}"})(n):"Filter"}class P3 extends it{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class V3 extends it{constructor(e,t){super(e,"in",t),this.keys=d2("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class M3 extends it{constructor(e,t){super(e,"not-in",t),this.keys=d2("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function d2(n,e){return(e.arrayValue?.values||[]).map((t=>we.fromName(t.referenceValue)))}class O3 extends it{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Td(t)&&wd(t.arrayValue,this.value)}}class f2 extends it{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wd(this.value.arrayValue,t)}}class L3 extends it{constructor(e,t){super(e,"not-in",t)}matches(e){if(wd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!wd(this.value.arrayValue,t)}}class j3 extends it{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Td(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>wd(this.value.arrayValue,i)))}}class U3{constructor(e,t=null,i=[],s=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function G0(n,e=null,t=[],i=[],s=null,o=null,c=null){return new U3(n,e,t,i,s,o,c)}function gl(n){const e=xe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>q0(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Ud(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Wc(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Wc(i))).join(",")),e.Te=t}return e.Te}function zd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!k3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!c2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bS(n.startAt,e.startAt)&&bS(n.endAt,e.endAt)}function Sp(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Ap(n,e){return n.filters.filter((t=>t instanceof it&&t.field.isEqual(e)))}function wS(n,e,t){let i=Xm,s=!0;for(const o of Ap(n,e)){let c=Xm,h=!0;switch(o.op){case"<":case"<=":c=N3(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,h=!1;break;case"!=":case"not-in":c=Xm}yS({value:i,inclusive:s},{value:c,inclusive:h})<0&&(i=c,s=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];yS({value:i,inclusive:s},{value:c,inclusive:t.inclusive})<0&&(i=c,s=t.inclusive);break}}return{value:i,inclusive:s}}function TS(n,e,t){let i=za,s=!0;for(const o of Ap(n,e)){let c=za,h=!0;switch(o.op){case">=":case">":c=D3(o.value),h=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,h=!1;break;case"!=":case"not-in":c=za}vS({value:i,inclusive:s},{value:c,inclusive:h})>0&&(i=c,s=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];vS({value:i,inclusive:s},{value:c,inclusive:t.inclusive})>0&&(i=c,s=t.inclusive);break}}return{value:i,inclusive:s}}class Gs{constructor(e,t=null,i=[],s=[],o=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function m2(n,e,t,i,s,o,c,h){return new Gs(n,e,t,i,s,o,c,h)}function gu(n){return new Gs(n)}function xS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function B3(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function cb(n){return n.collectionGroup!==null}function Oc(n){const e=xe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Tt(Ot.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(h=h.add(f.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new xd(o,i))})),t.has(Ot.keyField().canonicalString())||e.Ie.push(new xd(Ot.keyField(),i))}return e.Ie}function Kn(n){const e=xe(n);return e.Ee||(e.Ee=g2(e,Oc(n))),e.Ee}function p2(n){const e=xe(n);return e.Re||(e.Re=g2(e,n.explicitOrderBy)),e.Re}function g2(n,e){if(n.limitType==="F")return G0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new xd(s.field,o)}));const t=n.endAt?new eo(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new eo(n.startAt.position,n.startAt.inclusive):null;return G0(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function H0(n,e){const t=n.filters.concat([e]);return new Gs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function z3(n,e){const t=n.explicitOrderBy.concat([e]);return new Gs(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Ip(n,e,t){return new Gs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function F3(n,e){return new Gs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,e,n.endAt)}function q3(n,e){return new Gs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,e)}function Fd(n,e){return zd(Kn(n),Kn(e))&&n.limitType===e.limitType}function y2(n){return`${gl(Kn(n))}|lt:${n.limitType}`}function Sc(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((s=>h2(s))).join(", ")}]`),Ud(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>Wc(s))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>Wc(s))).join(",")),`Target(${i})`})(Kn(n))}; limitType=${n.limitType})`}function qd(n,e){return e.isFoundDocument()&&(function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):we.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,e)&&(function(i,s){for(const o of Oc(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(i,s){return!(i.startAt&&!(function(c,h,d){const f=_S(c,h,d);return c.inclusive?f<=0:f<0})(i.startAt,Oc(i),s)||i.endAt&&!(function(c,h,d){const f=_S(c,h,d);return c.inclusive?f>=0:f>0})(i.endAt,Oc(i),s))})(n,e)}function v2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _2(n){return(e,t)=>{let i=!1;for(const s of Oc(n)){const o=G3(s,e,t);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function G3(n,e,t){const i=n.field.isKeyField()?we.comparator(e.key,t.key):(function(o,c,h){const d=c.data.field(o),f=h.data.field(o);return d!==null&&f!==null?Za(d,f):Ee(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ee(19790,{direction:n.dir})}}class Hs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){uo(this.inner,((t,i)=>{for(const[s,o]of i)e(s,o)}))}isEmpty(){return XC(this.inner)}size(){return this.innerSize}}const H3=new kt(we.comparator);function fi(){return H3}const b2=new kt(we.comparator);function Hh(...n){let e=b2;for(const t of n)e=e.insert(t.key,t);return e}function w2(n){let e=b2;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Qr(){return id()}function T2(){return id()}function id(){return new Hs((n=>n.toString()),((n,e)=>n.isEqual(e)))}const $3=new kt(we.comparator),K3=new Tt(we.comparator);function Fe(...n){let e=K3;for(const t of n)e=e.add(t);return e}const Q3=new Tt(Le);function ub(){return Q3}function hb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pd(e)?"-0":e}}function x2(n){return{integerValue:""+n}}function E2(n,e){return UC(e)?x2(e):hb(n,e)}class pg{constructor(){this._=void 0}}function Y3(n,e,t){return n instanceof Jc?(function(s,o){const c={fields:{[e2]:{stringValue:ZC},[n2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&dg(o)&&(o=fg(o)),o&&(c.fields[t2]=o),{mapValue:c}})(t,e):n instanceof yl?A2(n,e):n instanceof vl?I2(n,e):(function(s,o){const c=S2(s,o),h=ES(c)+ES(s.Ae);return z0(c)&&z0(s.Ae)?x2(h):hb(s.serializer,h)})(n,e)}function W3(n,e,t){return n instanceof yl?A2(n,e):n instanceof vl?I2(n,e):t}function S2(n,e){return n instanceof Zc?(function(i){return z0(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class Jc extends pg{}class yl extends pg{constructor(e){super(),this.elements=e}}function A2(n,e){const t=R2(e);for(const i of n.elements)t.some((s=>ts(s,i)))||t.push(i);return{arrayValue:{values:t}}}class vl extends pg{constructor(e){super(),this.elements=e}}function I2(n,e){let t=R2(e);for(const i of n.elements)t=t.filter((s=>!ts(s,i)));return{arrayValue:{values:t}}}class Zc extends pg{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ES(n){return zt(n.integerValue||n.doubleValue)}function R2(n){return Td(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Gd{constructor(e,t){this.field=e,this.transform=t}}function X3(n,e){return n.field.isEqual(e.field)&&(function(i,s){return i instanceof yl&&s instanceof yl||i instanceof vl&&s instanceof vl?zc(i.elements,s.elements,ts):i instanceof Zc&&s instanceof Zc?ts(i.Ae,s.Ae):i instanceof Jc&&s instanceof Jc})(n.transform,e.transform)}class J3{constructor(e,t){this.version=e,this.transformResults=t}}class Ft{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ft}static exists(e){return new Ft(void 0,e)}static updateTime(e){return new Ft(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ep(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class gg{}function C2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new vu(n.key,Ft.none()):new yu(n.key,n.data,Ft.none());{const t=n.data,i=Cn.empty();let s=new Tt(Ot.comparator);for(let o of e.fields)if(!s.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?i.delete(o):i.set(o,c),s=s.add(o)}return new $s(n.key,i,new di(s.toArray()),Ft.none())}}function Z3(n,e,t){n instanceof yu?(function(s,o,c){const h=s.value.clone(),d=AS(s.fieldTransforms,o,c.transformResults);h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof $s?(function(s,o,c){if(!ep(s.precondition,o))return void o.convertToUnknownDocument(c.version);const h=AS(s.fieldTransforms,o,c.transformResults),d=o.data;d.setAll(N2(s)),d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):(function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function rd(n,e,t,i){return n instanceof yu?(function(o,c,h,d){if(!ep(o.precondition,c))return h;const f=o.value.clone(),g=IS(o.fieldTransforms,d,c);return f.setAll(g),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(n,e,t,i):n instanceof $s?(function(o,c,h,d){if(!ep(o.precondition,c))return h;const f=IS(o.fieldTransforms,d,c),g=c.data;return g.setAll(N2(o)),g.setAll(f),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,e,t,i):(function(o,c,h){return ep(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function e6(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),o=S2(i.transform,s||null);o!=null&&(t===null&&(t=Cn.empty()),t.set(i.field,o))}return t||null}function SS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&zc(i,s,((o,c)=>X3(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class yu extends gg{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $s extends gg{constructor(e,t,i,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function N2(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function AS(n,e,t){const i=new Map;De(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const o=n[s],c=o.transform,h=e.data.field(o.field);i.set(o.field,W3(c,h,t[s]))}return i}function IS(n,e,t){const i=new Map;for(const s of n){const o=s.transform,c=t.data.field(s.field);i.set(s.field,Y3(o,c,e))}return i}class vu extends gg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class db extends gg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fb{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&Z3(o,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=rd(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=rd(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=T2();return this.mutations.forEach((s=>{const o=e.get(s.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(s.key)?null:h;const d=C2(c,h);d!==null&&i.set(s.key,d),c.isValidDocument()||c.convertToNoDocument(Ve.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&zc(this.mutations,e.mutations,((t,i)=>SS(t,i)))&&zc(this.baseMutations,e.baseMutations,((t,i)=>SS(t,i)))}}class mb{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){De(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=(function(){return $3})();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,i[c].version);return new mb(e,t,i,s)}}class pb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class D2{constructor(e,t,i){this.alias=e,this.aggregateType=t,this.fieldPath=i}}class t6{constructor(e,t){this.count=e,this.unchangedNames=t}}var gn,ot;function k2(n){switch(n){case ne.OK:return Ee(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ee(15467,{code:n})}}function P2(n){if(n===void 0)return an("GRPC error has no .code"),ne.UNKNOWN;switch(n){case gn.OK:return ne.OK;case gn.CANCELLED:return ne.CANCELLED;case gn.UNKNOWN:return ne.UNKNOWN;case gn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case gn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case gn.INTERNAL:return ne.INTERNAL;case gn.UNAVAILABLE:return ne.UNAVAILABLE;case gn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case gn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case gn.NOT_FOUND:return ne.NOT_FOUND;case gn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case gn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case gn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case gn.ABORTED:return ne.ABORTED;case gn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case gn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case gn.DATA_LOSS:return ne.DATA_LOSS;default:return Ee(39323,{code:n})}}(ot=gn||(gn={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";let $0=null;function n6(n){if($0)throw new Error("a TestingHooksSpi instance is already set");$0=n}function V2(){return new TextEncoder}const i6=new Ka([4294967295,4294967295],0);function RS(n){const e=V2().encode(n),t=new wC;return t.update(e),new Uint8Array(t.digest())}function CS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ka([t,i],0),new Ka([s,o],0)]}class gb{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new $h(`Invalid padding: ${t}`);if(i<0)throw new $h(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new $h(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new $h(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ka.fromNumber(this.ge)}ye(e,t,i){let s=e.add(t.multiply(Ka.fromNumber(i)));return s.compare(i6)===1&&(s=new Ka([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=RS(e),[i,s]=CS(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,s,o);if(!this.we(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new gb(o,s,t);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=RS(e),[i,s]=CS(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,s,o);this.be(c)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class $h extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hd{constructor(e,t,i,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,$d.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Hd(Ve.min(),s,new kt(Le),fi(),Fe())}}class $d{constructor(e,t,i,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new $d(i,t,Fe(),Fe(),Fe())}}class tp{constructor(e,t,i,s){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=s}}class M2{constructor(e,t){this.targetId=e,this.Ce=t}}class O2{constructor(e,t,i=Kt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class NS{constructor(){this.ve=0,this.Fe=DS(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),t=Fe(),i=Fe();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Ee(38017,{changeType:o})}})),new $d(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=DS()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,De(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class r6{constructor(e){this.Ge=e,this.ze=new Map,this.je=fi(),this.He=Rm(),this.Je=Rm(),this.Ze=new kt(Le)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,i=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(Sp(o))if(i===0){const c=new we(o.path);this.et(t,c,Mt.newNoDocument(c,Ve.min()))}else De(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}$0?.lt((function(g,v,w,E,R){const k={localCacheCount:g,existenceFilterCount:v.count,databaseId:w.database,projectId:w.projectId},C=v.unchangedNames;return C&&(k.bloomFilter={applied:R===0,hashCount:C?.hashCount??0,bitmapLength:C?.bits?.bitmap?.length??0,padding:C?.bits?.padding??0,mightContain:B=>E?.mightContain(B)??!1}),k})(c,e.Ce,this.Ge.ht(),h,d))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=t;let c,h;try{c=zs(i).toUint8Array()}catch(d){if(d instanceof JC)return Di("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new gb(c,s,o)}catch(d){return Di(d instanceof $h?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let s=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&Sp(h.target)){const d=new we(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,Mt.newNoDocument(d,e))}o.Be&&(t.set(c,o.ke()),o.Ke())}}));let i=Fe();this.Je.forEach(((o,c)=>{let h=!0;c.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const s=new Hd(e,t,this.Ze,this.je,i);return this.je=fi(),this.He=Rm(),this.Je=Rm(),this.Ze=new kt(Le),s}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new NS,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Tt(Le),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Tt(Le),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new NS),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Rm(){return new kt(we.comparator)}function DS(){return new kt(we.comparator)}const s6={asc:"ASCENDING",desc:"DESCENDING"},a6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},o6={and:"AND",or:"OR"};class l6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function K0(n,e){return n.useProto3Json||Ud(e)?e:{value:e}}function eu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function c6(n,e){return eu(n,e.toTimestamp())}function on(n){return De(!!n,49232),Ve.fromTimestamp((function(t){const i=Bs(t);return new Ue(i.seconds,i.nanos)})(n))}function yb(n,e){return Q0(n,e).canonicalString()}function Q0(n,e){const t=(function(s){return new We(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function j2(n){const e=We.fromString(n);return De(K2(e),10190,{key:e.toString()}),e}function Ed(n,e){return yb(n.databaseId,e.path)}function Jr(n,e){const t=j2(e);if(t.get(1)!==n.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(z2(t))}function U2(n,e){return yb(n.databaseId,e)}function B2(n){const e=j2(n);return e.length===4?We.emptyPath():z2(e)}function Y0(n){return new We(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function z2(n){return De(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function kS(n,e,t){return{name:Ed(n,e),fields:t.value.mapValue.fields}}function yg(n,e,t){const i=Jr(n,e.name),s=on(e.updateTime),o=e.createTime?on(e.createTime):Ve.min(),c=new Cn({mapValue:{fields:e.fields}}),h=Mt.newFoundDocument(i,s,o,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function u6(n,e){return"found"in e?(function(i,s){De(!!s.found,43571),s.found.name,s.found.updateTime;const o=Jr(i,s.found.name),c=on(s.found.updateTime),h=s.found.createTime?on(s.found.createTime):Ve.min(),d=new Cn({mapValue:{fields:s.found.fields}});return Mt.newFoundDocument(o,c,h,d)})(n,e):"missing"in e?(function(i,s){De(!!s.missing,3894),De(!!s.readTime,22933);const o=Jr(i,s.missing),c=on(s.readTime);return Mt.newNoDocument(o,c)})(n,e):Ee(7234,{result:e})}function h6(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ee(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(f,g){return f.useProto3Json?(De(g===void 0||typeof g=="string",58123),Kt.fromBase64String(g||"")):(De(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Kt.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(f){const g=f.code===void 0?ne.UNKNOWN:P2(f.code);return new de(g,f.message||"")})(c);t=new O2(i,s,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Jr(n,i.document.name),o=on(i.document.updateTime),c=i.document.createTime?on(i.document.createTime):Ve.min(),h=new Cn({mapValue:{fields:i.document.fields}}),d=Mt.newFoundDocument(s,o,c,h),f=i.targetIds||[],g=i.removedTargetIds||[];t=new tp(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Jr(n,i.document),o=i.readTime?on(i.readTime):Ve.min(),c=Mt.newNoDocument(s,o),h=i.removedTargetIds||[];t=new tp([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Jr(n,i.document),o=i.removedTargetIds||[];t=new tp([],o,s,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,c=new t6(s,o),h=i.targetId;t=new M2(h,c)}}return t}function Sd(n,e){let t;if(e instanceof yu)t={update:kS(n,e.key,e.value)};else if(e instanceof vu)t={delete:Ed(n,e.key)};else if(e instanceof $s)t={update:kS(n,e.key,e.data),updateMask:y6(e.fieldMask)};else{if(!(e instanceof db))return Ee(16599,{dt:e.type});t={verify:Ed(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof Jc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof yl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof vl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Zc)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Ee(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:c6(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ee(27497)})(n,e.precondition)),t}function W0(n,e){const t=e.currentDocument?(function(o){return o.updateTime!==void 0?Ft.updateTime(on(o.updateTime)):o.exists!==void 0?Ft.exists(o.exists):Ft.none()})(e.currentDocument):Ft.none(),i=e.updateTransforms?e.updateTransforms.map((s=>(function(c,h){let d=null;if("setToServerValue"in h)De(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),d=new Jc;else if("appendMissingElements"in h){const g=h.appendMissingElements.values||[];d=new yl(g)}else if("removeAllFromArray"in h){const g=h.removeAllFromArray.values||[];d=new vl(g)}else"increment"in h?d=new Zc(c,h.increment):Ee(16584,{proto:h});const f=Ot.fromServerFormat(h.fieldPath);return new Gd(f,d)})(n,s))):[];if(e.update){e.update.name;const s=Jr(n,e.update.name),o=new Cn({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(d){const f=d.fieldPaths||[];return new di(f.map((g=>Ot.fromServerFormat(g))))})(e.updateMask);return new $s(s,o,c,t,i)}return new yu(s,o,t,i)}if(e.delete){const s=Jr(n,e.delete);return new vu(s,t)}if(e.verify){const s=Jr(n,e.verify);return new db(s,t)}return Ee(1463,{proto:e})}function d6(n,e){return n&&n.length>0?(De(e!==void 0,14353),n.map((t=>(function(s,o){let c=s.updateTime?on(s.updateTime):on(o);return c.isEqual(Ve.min())&&(c=on(o)),new J3(c,s.transformResults||[])})(t,e)))):[]}function F2(n,e){return{documents:[U2(n,e.path)]}}function vg(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=U2(n,s);const o=(function(f){if(f.length!==0)return $2(bt.create(f,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(f){if(f.length!==0)return f.map((g=>(function(w){return{field:Ua(w.field),direction:m6(w.dir)}})(g)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=K0(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:s}}function q2(n,e,t,i){const{ft:s,parent:o}=vg(n,e),c={},h=[];let d=0;return t.forEach((f=>{const g=i?f.alias:"aggregate_"+d++;c[g]=f.alias,f.aggregateType==="count"?h.push({alias:g,count:{}}):f.aggregateType==="avg"?h.push({alias:g,avg:{field:Ua(f.fieldPath)}}):f.aggregateType==="sum"&&h.push({alias:g,sum:{field:Ua(f.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:h,structuredQuery:s.structuredQuery},parent:s.parent},gt:c,parent:o}}function G2(n){let e=B2(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){De(i===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(v){const w=H2(v);return w instanceof bt&&lb(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(v){return v.map((w=>(function(R){return new xd(Ac(R.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(w)))})(t.orderBy));let h=null;t.limit&&(h=(function(v){let w;return w=typeof v=="object"?v.value:v,Ud(w)?null:w})(t.limit));let d=null;t.startAt&&(d=(function(v){const w=!!v.before,E=v.values||[];return new eo(E,w)})(t.startAt));let f=null;return t.endAt&&(f=(function(v){const w=!v.before,E=v.values||[];return new eo(E,w)})(t.endAt)),m2(e,s,c,o,h,"F",d,f)}function f6(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function H2(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ac(t.unaryFilter.field);return it.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ac(t.unaryFilter.field);return it.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ac(t.unaryFilter.field);return it.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ac(t.unaryFilter.field);return it.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(n):n.fieldFilter!==void 0?(function(t){return it.create(Ac(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return bt.create(t.compositeFilter.filters.map((i=>H2(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(t.compositeFilter.op))})(n):Ee(30097,{filter:n})}function m6(n){return s6[n]}function p6(n){return a6[n]}function g6(n){return o6[n]}function Ua(n){return{fieldPath:n.canonicalString()}}function Ac(n){return Ot.fromServerFormat(n.fieldPath)}function $2(n){return n instanceof it?(function(t){if(t.op==="=="){if(gS(t.value))return{unaryFilter:{field:Ua(t.field),op:"IS_NAN"}};if(pS(t.value))return{unaryFilter:{field:Ua(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gS(t.value))return{unaryFilter:{field:Ua(t.field),op:"IS_NOT_NAN"}};if(pS(t.value))return{unaryFilter:{field:Ua(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(t.field),op:p6(t.op),value:t.value}}})(n):n instanceof bt?(function(t){const i=t.getFilters().map((s=>$2(s)));return i.length===1?i[0]:{compositeFilter:{op:g6(t.op),filters:i}}})(n):Ee(54877,{filter:n})}function y6(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function K2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function Q2(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class ks{constructor(e,t,i,s,o=Ve.min(),c=Ve.min(),h=Kt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Y2{constructor(e){this.yt=e}}function v6(n,e){let t;if(e.document)t=yg(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=we.fromSegments(e.noDocument.path),s=bl(e.noDocument.readTime);t=Mt.newNoDocument(i,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee(56709);{const i=we.fromSegments(e.unknownDocument.path),s=bl(e.unknownDocument.version);t=Mt.newUnknownDocument(i,s)}}return e.readTime&&t.setReadTime((function(s){const o=new Ue(s[0],s[1]);return Ve.fromTimestamp(o)})(e.readTime)),t}function PS(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Rp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=(function(o,c){return{name:Ed(o,c.key),fields:c.data.value.mapValue.fields,updateTime:eu(o,c.version.toTimestamp()),createTime:eu(o,c.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:_l(e.version)};else{if(!e.isUnknownDocument())return Ee(57904,{document:e});i.unknownDocument={path:t.path.toArray(),version:_l(e.version)}}return i}function Rp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function _l(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bl(n){const e=new Ue(n.seconds,n.nanoseconds);return Ve.fromTimestamp(e)}function el(n,e){const t=(e.baseMutations||[]).map((o=>W0(n.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const c=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];c.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const i=e.mutations.map((o=>W0(n.yt,o))),s=Ue.fromMillis(e.localWriteTimeMs);return new fb(e.batchId,s,t,i)}function Kh(n){const e=bl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?bl(n.lastLimboFreeSnapshotVersion):Ve.min();let i;return i=(function(o){return o.documents!==void 0})(n.query)?(function(o){const c=o.documents.length;return De(c===1,1966,{count:c}),Kn(gu(B2(o.documents[0])))})(n.query):(function(o){return Kn(G2(o))})(n.query),new ks(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Kt.fromBase64String(n.resumeToken))}function W2(n,e){const t=_l(e.snapshotVersion),i=_l(e.lastLimboFreeSnapshotVersion);let s;s=Sp(e.target)?F2(n.yt,e.target):vg(n.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:gl(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:s}}function _g(n){const e=G2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ip(e,e.limit,"L"):e}function $v(n,e){return new pb(e.largestBatchId,W0(n.yt,e.overlayMutation))}function VS(n,e){const t=e.path.lastSegment();return[n,$n(e.path.popLast()),t]}function MS(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:_l(i.readTime),documentKey:$n(i.documentKey.path),largestBatchId:i.largestBatchId}}class _6{getBundleMetadata(e,t){return OS(e).get(t).next((i=>{if(i)return(function(o){return{id:o.bundleId,createTime:bl(o.createTime),version:o.version}})(i)}))}saveBundleMetadata(e,t){return OS(e).put((function(s){return{bundleId:s.id,createTime:_l(on(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return LS(e).get(t).next((i=>{if(i)return(function(o){return{name:o.name,query:_g(o.bundledQuery),readTime:bl(o.readTime)}})(i)}))}saveNamedQuery(e,t){return LS(e).put((function(s){return{name:s.name,readTime:_l(on(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function OS(n){return En(n,cg)}function LS(n){return En(n,ug)}class bg{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const i=t.uid||"";return new bg(e,i)}getOverlay(e,t){return Vh(e).get(VS(this.userId,t)).next((i=>i?$v(this.serializer,i):null))}getOverlays(e,t){const i=Qr();return X.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&i.set(s,o)})))).next((()=>i))}saveOverlays(e,t,i){const s=[];return i.forEach(((o,c)=>{const h=new pb(t,c);s.push(this.bt(e,h))})),X.waitFor(s)}removeOverlaysForBatchId(e,t,i){const s=new Set;t.forEach((c=>s.add($n(c.getCollectionPath()))));const o=[];return s.forEach((c=>{const h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);o.push(Vh(e).X(j0,h))})),X.waitFor(o)}getOverlaysForCollection(e,t,i){const s=Qr(),o=$n(t),c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Vh(e).H(j0,c).next((h=>{for(const d of h){const f=$v(this.serializer,d);s.set(f.getKey(),f)}return s}))}getOverlaysForCollectionGroup(e,t,i,s){const o=Qr();let c;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Vh(e).ee({index:HC,range:h},((d,f,g)=>{const v=$v(this.serializer,f);o.size()<s||v.largestBatchId===c?(o.set(v.getKey(),v),c=v.largestBatchId):g.done()})).next((()=>o))}bt(e,t){return Vh(e).put((function(s,o,c){const[h,d,f]=VS(o,c.mutation.key);return{userId:o,collectionPath:d,documentId:f,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Sd(s.yt,c.mutation)}})(this.serializer,this.userId,t))}}function Vh(n){return En(n,hg)}class b6{St(e){return En(e,rb)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const i=t?.value;return i?Kt.fromUint8Array(i):Kt.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}class tl{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(zt(e.integerValue));else if("doubleValue"in e){const i=zt(e.doubleValue);isNaN(i)?this.Ft(t,13):(this.Ft(t,15),pd(i)?t.Mt(0):t.Mt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ft(t,20),typeof i=="string"&&(i=Bs(i)),t.xt(`${i.seconds||""}`),t.Mt(i.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(zs(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Ft(t,45),t.Mt(i.latitude||0),t.Mt(i.longitude||0)}else"mapValue"in e?r2(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):mg(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):Ee(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const i=e.fields||{};this.Ft(t,55);for(const s of Object.keys(i))this.Ot(s,t),this.Ct(i[s],t)}kt(e,t){const i=e.fields||{};this.Ft(t,53);const s=Yc,o=i[s].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(zt(o)),this.Ot(s,t),this.Ct(i[s],t)}qt(e,t){const i=e.values||[];this.Ft(t,50);for(const s of i)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),we.fromName(e).path.forEach((i=>{this.Ft(t,60),this.$t(i,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}tl.Wt=new tl;const _c=255;function w6(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function jS(n){const e=64-(function(i){let s=0;for(let o=0;o<8;++o){const c=w6(255&i[o]);if(s+=c,c!==8)break}return s})(n);return Math.ceil(e/8)}class T6{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Gt(i.value),i=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ht(i.value),i=t.next();this.Jt()}Zt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ht(i);else if(i<2048)this.Ht(960|i>>>6),this.Ht(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i);else{const s=t.codePointAt(0);this.Ht(240|s>>>18),this.Ht(128|63&s>>>12),this.Ht(128|63&s>>>6),this.Ht(128|63&s)}}this.Jt()}Yt(e){const t=this.en(e),i=jS(t);this.tn(1+i),this.buffer[this.position++]=255&i;for(let s=t.length-i;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),i=jS(t);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let s=t.length-i;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(_c),this.sn(255)}_n(){this.an(_c),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)})(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let s=1;s<t.length;++s)t[s]^=i?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===_c?(this.sn(_c),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===_c?(this.an(_c),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const s=new Uint8Array(i);s.set(this.buffer),this.buffer=s}}class x6{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class E6{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Mh{constructor(){this.cn=new T6,this.ascending=new x6(this.cn),this.descending=new E6(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class nl{constructor(e,t,i,s){this.hn=e,this.Pn=t,this.Tn=i,this.In=s}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.In,0),t!==e?i.set([0],this.In.length):++i[i.length-1],new nl(this.hn,this.Pn,this.Tn,i)}Rn(e,t,i){return{indexId:this.hn,uid:e,arrayValue:np(this.Tn),directionalValue:np(this.In),orderedDocumentKey:np(t),documentKey:i.path.toArray()}}An(e,t,i){const s=this.Rn(e,t,i);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Na(n,e){let t=n.hn-e.hn;return t!==0?t:(t=US(n.Tn,e.Tn),t!==0?t:(t=US(n.In,e.In),t!==0?t:we.comparator(n.Pn,e.Pn)))}function US(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(i!==0)return i}return n.length-e.length}function np(n){return jR()?(function(t){let i="";for(let s=0;s<t.length;s++)i+=String.fromCharCode(t[s]);return i})(n):n}function BS(n){return typeof n!="string"?n:(function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i})(n)}class zS{constructor(e){this.Vn=new Tt(((t,i)=>Ot.comparator(t.field,i.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const i=t;i.isInequality()?this.Vn=this.Vn.add(i):this.mn.push(i)}}get fn(){return this.Vn.size>1}gn(e){if(De(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=M0(e);if(t!==void 0&&!this.pn(t))return!1;const i=Wo(e);let s=new Set,o=0,c=0;for(;o<i.length&&this.pn(i[o]);++o)s=s.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Vn.size>0){const h=this.Vn.getIterator().getNext();if(!s.has(h.field.canonicalString())){const d=i[o];if(!this.yn(h,d)||!this.wn(this.dn[c++],d))return!1}++o}for(;o<i.length;++o){const h=i[o];if(c>=this.dn.length||!this.wn(this.dn[c++],h))return!1}return!0}bn(){if(this.fn)return null;let e=new Tt(Ot.comparator);const t=[];for(const i of this.mn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new ll(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new ll(i.field,0))}for(const i of this.dn)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new ll(i.field,i.dir==="asc"?0:1)));return new qc(qc.UNKNOWN_ID,this.collectionId,t,Gc.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function X2(n){if(De(n instanceof it||n instanceof bt,20012),n instanceof it){if(n instanceof f2){const t=n.value.arrayValue?.values?.map((i=>it.create(n.field,"==",i)))||[];return bt.create(t,"or")}return n}const e=n.filters.map((t=>X2(t)));return bt.create(e,n.op)}function S6(n){if(n.getFilters().length===0)return[];const e=Z0(X2(n));return De(J2(e),7391),X0(e)||J0(e)?[e]:e.getFilters()}function X0(n){return n instanceof it}function J0(n){return n instanceof bt&&lb(n)}function J2(n){return X0(n)||J0(n)||(function(t){if(t instanceof bt&&F0(t)){for(const i of t.getFilters())if(!X0(i)&&!J0(i))return!1;return!0}return!1})(n)}function Z0(n){if(De(n instanceof it||n instanceof bt,34018),n instanceof it)return n;if(n.filters.length===1)return Z0(n.filters[0]);const e=n.filters.map((i=>Z0(i)));let t=bt.create(e,n.op);return t=Cp(t),J2(t)?t:(De(t instanceof bt,64498),De(Xc(t),40251),De(t.filters.length>1,57927),t.filters.reduce(((i,s)=>vb(i,s))))}function vb(n,e){let t;return De(n instanceof it||n instanceof bt,38388),De(e instanceof it||e instanceof bt,25473),t=n instanceof it?e instanceof it?(function(s,o){return bt.create([s,o],"and")})(n,e):FS(n,e):e instanceof it?FS(e,n):(function(s,o){if(De(s.filters.length>0&&o.filters.length>0,48005),Xc(s)&&Xc(o))return u2(s,o.getFilters());const c=F0(s)?s:o,h=F0(s)?o:s,d=c.filters.map((f=>vb(f,h)));return bt.create(d,"or")})(n,e),Cp(t)}function FS(n,e){if(Xc(e))return u2(e,n.getFilters());{const t=e.filters.map((i=>vb(n,i)));return bt.create(t,"or")}}function Cp(n){if(De(n instanceof it||n instanceof bt,11850),n instanceof it)return n;const e=n.getFilters();if(e.length===1)return Cp(e[0]);if(l2(n))return n;const t=e.map((s=>Cp(s))),i=[];return t.forEach((s=>{s instanceof it?i.push(s):s instanceof bt&&(s.op===n.op?i.push(...s.filters):i.push(s))})),i.length===1?i[0]:bt.create(i,n.op)}class A6{constructor(){this.Sn=new _b}addToCollectionParentIndex(e,t){return this.Sn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(ki.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class _b{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Tt(We.comparator),o=!s.has(i);return this.index[t]=s.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Tt(We.comparator)).toArray()}}const qS="IndexedDbIndexManager",Cm=new Uint8Array(0);class I6{constructor(e,t){this.databaseId=t,this.Dn=new _b,this.Cn=new Hs((i=>gl(i)),((i,s)=>zd(i,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const i=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const o={collectionId:i,parent:$n(s)};return GS(e).put(o)}return X.resolve()}getCollectionParents(e,t){const i=[],s=IDBKeyRange.bound([t,""],[NC(t),""],!1,!0);return GS(e).H(s).next((o=>{for(const c of o){if(c.collectionId!==t)break;i.push(Kr(c.parent))}return i}))}addFieldIndex(e,t){const i=Oh(e),s=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(t);delete s.indexId;const o=i.add(s);if(t.indexState){const c=wc(e);return o.next((h=>{c.put(MS(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const i=Oh(e),s=wc(e),o=bc(e);return i.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Oh(e),i=bc(e),s=wc(e);return t.X().next((()=>i.X())).next((()=>s.X()))}createTargetIndexes(e,t){return X.forEach(this.vn(t),(i=>this.getIndexType(e,i).next((s=>{if(s===0||s===1){const o=new zS(i).bn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,t){const i=bc(e);let s=!0;const o=new Map;return X.forEach(this.vn(t),(c=>this.Fn(e,c).next((h=>{s&&(s=!!h),o.set(c,h)})))).next((()=>{if(s){let c=Fe();const h=[];return X.forEach(o,((d,f)=>{pe(qS,`Using index ${(function(F){return`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map(($=>`${$.fieldPath}:${$.kind}`)).join(",")}`})(d)} to execute ${gl(t)}`);const g=(function(F,$){const ie=M0($);if(ie===void 0)return null;for(const le of Ap(F,ie.fieldPath))switch(le.op){case"array-contains-any":return le.value.arrayValue.values||[];case"array-contains":return[le.value]}return null})(f,d),v=(function(F,$){const ie=new Map;for(const le of Wo($))for(const N of Ap(F,le.fieldPath))switch(N.op){case"==":case"in":ie.set(le.fieldPath.canonicalString(),N.value);break;case"not-in":case"!=":return ie.set(le.fieldPath.canonicalString(),N.value),Array.from(ie.values())}return null})(f,d),w=(function(F,$){const ie=[];let le=!0;for(const N of Wo($)){const A=N.kind===0?wS(F,N.fieldPath,F.startAt):TS(F,N.fieldPath,F.startAt);ie.push(A.value),le&&(le=A.inclusive)}return new eo(ie,le)})(f,d),E=(function(F,$){const ie=[];let le=!0;for(const N of Wo($)){const A=N.kind===0?TS(F,N.fieldPath,F.endAt):wS(F,N.fieldPath,F.endAt);ie.push(A.value),le&&(le=A.inclusive)}return new eo(ie,le)})(f,d),R=this.Mn(d,f,w),k=this.Mn(d,f,E),C=this.xn(d,f,v),B=this.On(d.indexId,g,R,w.inclusive,k,E.inclusive,C);return X.forEach(B,(H=>i.Z(H,t.limit).next((F=>{F.forEach(($=>{const ie=we.fromSegments($.documentKey);c.has(ie)||(c=c.add(ie),h.push(ie))}))}))))})).next((()=>h))}return X.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=S6(bt.create(e.filters,"and")).map((i=>G0(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,i,s,o,c,h){const d=(t!=null?t.length:1)*Math.max(i.length,o.length),f=d/(t!=null?t.length:1),g=[];for(let v=0;v<d;++v){const w=t?this.Nn(t[v/f]):Cm,E=this.Bn(e,w,i[v%f],s),R=this.Ln(e,w,o[v%f],c),k=h.map((C=>this.Bn(e,w,C,!0)));g.push(...this.createRange(E,R,k))}return g}Bn(e,t,i,s){const o=new nl(e,we.empty(),t,i);return s?o:o.En()}Ln(e,t,i,s){const o=new nl(e,we.empty(),t,i);return s?o.En():o}Fn(e,t){const i=new zS(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((o=>{let c=null;for(const h of o)i.gn(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c}))}getIndexType(e,t){let i=2;const s=this.vn(t);return X.forEach(s,(o=>this.Fn(e,o).next((c=>{c?i!==0&&c.fields.length<(function(d){let f=new Tt(Ot.comparator),g=!1;for(const v of d.filters)for(const w of v.getFlattenedFilters())w.field.isKeyField()||(w.op==="array-contains"||w.op==="array-contains-any"?g=!0:f=f.add(w.field));for(const v of d.orderBy)v.field.isKeyField()||(f=f.add(v.field));return f.size+(g?1:0)})(o)&&(i=1):i=0})))).next((()=>(function(c){return c.limit!==null})(t)&&s.length>1&&i===2?1:i))}kn(e,t){const i=new Mh;for(const s of Wo(e)){const o=t.data.field(s.fieldPath);if(o==null)return null;const c=i.ln(s.kind);tl.Wt.Dt(o,c)}return i.un()}Nn(e){const t=new Mh;return tl.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const i=new Mh;return tl.Wt.Dt(pl(this.databaseId,t),i.ln((function(o){const c=Wo(o);return c.length===0?0:c[c.length-1].kind})(e))),i.un()}xn(e,t,i){if(i===null)return[];let s=[];s.push(new Mh);let o=0;for(const c of Wo(e)){const h=i[o++];for(const d of s)if(this.qn(t,c.fieldPath)&&Td(h))s=this.Un(s,c,h);else{const f=d.ln(c.kind);tl.Wt.Dt(h,f)}}return this.$n(s)}Mn(e,t,i){return this.xn(e,t,i.position)}$n(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].un();return t}Un(e,t,i){const s=[...e],o=[];for(const c of i.arrayValue.values||[])for(const h of s){const d=new Mh;d.seed(h.un()),tl.Wt.Dt(c,d.ln(t.kind)),o.push(d)}return o}qn(e,t){return!!e.filters.find((i=>i instanceof it&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(e,t){const i=Oh(e),s=wc(e);return(t?i.H(L0,IDBKeyRange.bound(t,t)):i.H()).next((o=>{const c=[];return X.forEach(o,(h=>s.get([h.indexId,this.uid]).next((d=>{c.push((function(g,v){const w=v?new Gc(v.sequenceNumber,new ki(bl(v.readTime),new we(Kr(v.documentKey)),v.largestBatchId)):Gc.empty(),E=g.fields.map((([R,k])=>new ll(Ot.fromServerFormat(R),k)));return new qc(g.indexId,g.collectionGroup,E,w)})(h,d))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((i,s)=>{const o=i.indexState.sequenceNumber-s.indexState.sequenceNumber;return o!==0?o:Le(i.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,i){const s=Oh(e),o=wc(e);return this.Wn(e).next((c=>s.H(L0,IDBKeyRange.bound(t,t)).next((h=>X.forEach(h,(d=>o.put(MS(d.indexId,this.uid,c,i))))))))}updateIndexEntries(e,t){const i=new Map;return X.forEach(t,((s,o)=>{const c=i.get(s.collectionGroup);return(c?X.resolve(c):this.getFieldIndexes(e,s.collectionGroup)).next((h=>(i.set(s.collectionGroup,h),X.forEach(h,(d=>this.Qn(e,s,d).next((f=>{const g=this.Gn(o,d);return f.isEqual(g)?X.resolve():this.zn(e,o,d,f,g)})))))))}))}jn(e,t,i,s){return bc(e).put(s.Rn(this.uid,this.Kn(i,t.key),t.key))}Hn(e,t,i,s){return bc(e).delete(s.An(this.uid,this.Kn(i,t.key),t.key))}Qn(e,t,i){const s=bc(e);let o=new Tt(Na);return s.ee({index:GC,range:IDBKeyRange.only([i.indexId,this.uid,np(this.Kn(i,t))])},((c,h)=>{o=o.add(new nl(i.indexId,t,BS(h.arrayValue),BS(h.directionalValue)))})).next((()=>o))}Gn(e,t){let i=new Tt(Na);const s=this.kn(t,e);if(s==null)return i;const o=M0(t);if(o!=null){const c=e.data.field(o.fieldPath);if(Td(c))for(const h of c.arrayValue.values||[])i=i.add(new nl(t.indexId,e.key,this.Nn(h),s))}else i=i.add(new nl(t.indexId,e.key,Cm,s));return i}zn(e,t,i,s,o){pe(qS,"Updating index entries for document '%s'",t.key);const c=[];return(function(d,f,g,v,w){const E=d.getIterator(),R=f.getIterator();let k=vc(E),C=vc(R);for(;k||C;){let B=!1,H=!1;if(k&&C){const F=g(k,C);F<0?H=!0:F>0&&(B=!0)}else k!=null?H=!0:B=!0;B?(v(C),C=vc(R)):H?(w(k),k=vc(E)):(k=vc(E),C=vc(R))}})(s,o,Na,(h=>{c.push(this.jn(e,t,i,h))}),(h=>{c.push(this.Hn(e,t,i,h))})),X.waitFor(c)}Wn(e){let t=1;return wc(e).ee({index:qC,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,s,o)=>{o.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,i){i=i.sort(((c,h)=>Na(c,h))).filter(((c,h,d)=>!h||Na(c,d[h-1])!==0));const s=[];s.push(e);for(const c of i){const h=Na(c,e),d=Na(c,t);if(h===0)s[0]=e.En();else if(h>0&&d<0)s.push(c),s.push(c.En());else if(d>0)break}s.push(t);const o=[];for(let c=0;c<s.length;c+=2){if(this.Jn(s[c],s[c+1]))return[];const h=s[c].An(this.uid,Cm,we.empty()),d=s[c+1].An(this.uid,Cm,we.empty());o.push(IDBKeyRange.bound(h,d))}return o}Jn(e,t){return Na(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(HS)}getMinOffset(e,t){return X.mapArray(this.vn(t),(i=>this.Fn(e,i).next((s=>s||Ee(44426))))).next(HS)}}function GS(n){return En(n,vd)}function bc(n){return En(n,td)}function Oh(n){return En(n,ib)}function wc(n){return En(n,ed)}function HS(n){De(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const s=n[i].indexState.offset;eb(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new ki(e.readTime,e.documentKey,t)}const $S={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z2=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}function eN(n,e,t){const i=n.store(yr),s=n.store(Hc),o=[],c=IDBKeyRange.only(t.batchId);let h=0;const d=i.ee({range:c},((g,v,w)=>(h++,w.delete())));o.push(d.next((()=>{De(h===1,47070,{batchId:t.batchId})})));const f=[];for(const g of t.mutations){const v=BC(e,g.key.path,t.batchId);o.push(s.delete(v)),f.push(g.key)}return X.waitFor(o).next((()=>f))}function Np(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ee(14731);e=n.noDocument}return JSON.stringify(e).length}Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(Z2,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);class wg{constructor(e,t,i,s){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=s,this.Zn={}}static wt(e,t,i,s){De(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new wg(o,t,i,s)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Da(e).ee({index:rl,range:i},((s,o,c)=>{t=!1,c.done()})).next((()=>t))}addMutationBatch(e,t,i,s){const o=Ic(e),c=Da(e);return c.add({}).next((h=>{De(typeof h=="number",49019);const d=new fb(h,t,i,s),f=(function(E,R,k){const C=k.baseMutations.map((H=>Sd(E.yt,H))),B=k.mutations.map((H=>Sd(E.yt,H)));return{userId:R,batchId:k.batchId,localWriteTimeMs:k.localWriteTime.toMillis(),baseMutations:C,mutations:B}})(this.serializer,this.userId,d),g=[];let v=new Tt(((w,E)=>Le(w.canonicalString(),E.canonicalString())));for(const w of s){const E=BC(this.userId,w.key.path,h);v=v.add(w.key.path.popLast()),g.push(c.put(f)),g.push(o.put(E,n3))}return v.forEach((w=>{g.push(this.indexManager.addToCollectionParentIndex(e,w))})),e.addOnCommittedListener((()=>{this.Zn[h]=d.keys()})),X.waitFor(g).next((()=>d))}))}lookupMutationBatch(e,t){return Da(e).get(t).next((i=>i?(De(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:t}),el(this.serializer,i)):null))}Xn(e,t){return this.Zn[t]?X.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((i=>{if(i){const s=i.keys();return this.Zn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Da(e).ee({index:rl,range:s},((c,h,d)=>{h.userId===this.userId&&(De(h.batchId>=i,47524,{Yn:i}),o=el(this.serializer,h)),d.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=Qa;return Da(e).ee({index:rl,range:t,reverse:!0},((s,o,c)=>{i=o.batchId,c.done()})).next((()=>i))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Qa],[this.userId,Number.POSITIVE_INFINITY]);return Da(e).H(rl,t).next((i=>i.map((s=>el(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Ym(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=[];return Ic(e).ee({range:s},((c,h,d)=>{const[f,g,v]=c,w=Kr(g);if(f===this.userId&&t.path.isEqual(w))return Da(e).get(v).next((E=>{if(!E)throw Ee(61480,{er:c,batchId:v});De(E.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:E.userId,batchId:v}),o.push(el(this.serializer,E))}));d.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Tt(Le);const s=[];return t.forEach((o=>{const c=Ym(this.userId,o.path),h=IDBKeyRange.lowerBound(c),d=Ic(e).ee({range:h},((f,g,v)=>{const[w,E,R]=f,k=Kr(E);w===this.userId&&o.path.isEqual(k)?i=i.add(R):v.done()}));s.push(d)})),X.waitFor(s).next((()=>this.tr(e,i)))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1,o=Ym(this.userId,i),c=IDBKeyRange.lowerBound(o);let h=new Tt(Le);return Ic(e).ee({range:c},((d,f,g)=>{const[v,w,E]=d,R=Kr(w);v===this.userId&&i.isPrefixOf(R)?R.length===s&&(h=h.add(E)):g.done()})).next((()=>this.tr(e,h)))}tr(e,t){const i=[],s=[];return t.forEach((o=>{s.push(Da(e).get(o).next((c=>{if(c===null)throw Ee(35274,{batchId:o});De(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:o}),i.push(el(this.serializer,c))})))})),X.waitFor(s).next((()=>i))}removeMutationBatch(e,t){return eN(e.le,this.userId,t).next((i=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),X.forEach(i,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return X.resolve();const i=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),s=[];return Ic(e).ee({range:i},((o,c,h)=>{if(o[0]===this.userId){const d=Kr(o[1]);s.push(d)}else h.done()})).next((()=>{De(s.length===0,56720,{rr:s.map((o=>o.canonicalString()))})}))}))}containsKey(e,t){return tN(e,this.userId,t)}ir(e){return nN(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:Qa,lastStreamToken:""}))}}function tN(n,e,t){const i=Ym(e,t.path),s=i[1],o=IDBKeyRange.lowerBound(i);let c=!1;return Ic(n).ee({range:o,Y:!0},((h,d,f)=>{const[g,v,w]=h;g===e&&v===s&&(c=!0),f.done()})).next((()=>c))}function Da(n){return En(n,yr)}function Ic(n){return En(n,Hc)}function nN(n){return En(n,gd)}class wl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new wl(0)}static ar(){return new wl(-1)}}class R6{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const i=new wl(t.highestTargetId);return t.highestTargetId=i.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>Ve.fromTimestamp(new Ue(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,i){return this.ur(e).next((s=>(s.highestListenSequenceNumber=t,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.cr(e,s))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((i=>(i.targetCount+=1,this.hr(t,i),this.cr(e,i))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Tc(e).delete(t.targetId))).next((()=>this.ur(e))).next((i=>(De(i.targetCount>0,8065),i.targetCount-=1,this.cr(e,i))))}removeTargets(e,t,i){let s=0;const o=[];return Tc(e).ee(((c,h)=>{const d=Kh(h);d.sequenceNumber<=t&&i.get(d.targetId)===null&&(s++,o.push(this.removeTargetData(e,d)))})).next((()=>X.waitFor(o))).next((()=>s))}forEachTarget(e,t){return Tc(e).ee(((i,s)=>{const o=Kh(s);t(o)}))}ur(e){return KS(e).get(Ep).next((t=>(De(t!==null,2888),t)))}cr(e,t){return KS(e).put(Ep,t)}lr(e,t){return Tc(e).put(W2(this.serializer,t))}hr(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const i=gl(t),s=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Tc(e).ee({range:s,index:FC},((c,h,d)=>{const f=Kh(h);zd(t,f.target)&&(o=f,d.done())})).next((()=>o))}addMatchingKeys(e,t,i){const s=[],o=Ba(e);return t.forEach((c=>{const h=$n(c.path);s.push(o.put({targetId:i,path:h})),s.push(this.referenceDelegate.addReference(e,i,c))})),X.waitFor(s)}removeMatchingKeys(e,t,i){const s=Ba(e);return X.forEach(t,(o=>{const c=$n(o.path);return X.waitFor([s.delete([i,c]),this.referenceDelegate.removeReference(e,i,o)])}))}removeMatchingKeysForTargetId(e,t){const i=Ba(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(s)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),s=Ba(e);let o=Fe();return s.ee({range:i,Y:!0},((c,h,d)=>{const f=Kr(c[1]),g=new we(f);o=o.add(g)})).next((()=>o))}containsKey(e,t){const i=$n(t.path),s=IDBKeyRange.bound([i],[NC(i)],!1,!0);let o=0;return Ba(e).ee({index:nb,Y:!0,range:s},(([c,h],d,f)=>{c!==0&&(o++,f.done())})).next((()=>o>0))}At(e,t){return Tc(e).get(t).next((i=>i?Kh(i):null))}}function Tc(n){return En(n,$c)}function KS(n){return En(n,cl)}function Ba(n){return En(n,Kc)}const QS="LruGarbageCollector",iN=1048576;function YS([n,e],[t,i]){const s=Le(n,t);return s===0?Le(e,i):s}class C6{constructor(e){this.Pr=e,this.buffer=new Tt(YS),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();YS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rN{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){pe(QS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){co(t)?pe(QS,"Ignoring IndexedDB error during garbage collection: ",t):await lo(t)}await this.Ar(3e5)}))}}class N6{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return X.resolve(hi.ce);const i=new C6(t);return this.Vr.forEachTarget(e,(s=>i.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>i.Er(s))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve($S)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$S):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,s,o,c,h,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,c=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(i=v,h=Date.now(),this.removeTargets(e,i,t)))).next((v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(f=Date.now(),Ec()<=nt.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${s} in `+(h-c)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v}))))}}function sN(n,e){return new N6(n,e)}class D6{constructor(e,t){this.db=e,this.garbageCollector=sN(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((i=>t.next((s=>i+s))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((i,s)=>t(s)))}addReference(e,t,i){return Nm(e,i)}removeReference(e,t,i){return Nm(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Nm(e,t)}wr(e,t){return(function(s,o){let c=!1;return nN(s).te((h=>tN(s,h,o).next((d=>(d&&(c=!0),X.resolve(!d)))))).next((()=>c))})(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.yr(e,((c,h)=>{if(h<=t){const d=this.wr(e,c).next((f=>{if(!f)return o++,i.getEntry(e,c).next((()=>(i.removeEntry(c,Ve.min()),Ba(e).delete((function(v){return[0,$n(v.path)]})(c)))))}));s.push(d)}})).next((()=>X.waitFor(s))).next((()=>i.apply(e))).next((()=>o))}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Nm(e,t)}yr(e,t){const i=Ba(e);let s,o=hi.ce;return i.ee({index:nb},(([c,h],{path:d,sequenceNumber:f})=>{c===0?(o!==hi.ce&&t(new we(Kr(s)),o),o=f,s=d):o=hi.ce})).next((()=>{o!==hi.ce&&t(new we(Kr(s)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Nm(n,e){return Ba(n).put((function(i,s){return{targetId:0,path:$n(i.path),sequenceNumber:s}})(e,n.currentSequenceNumber))}class aN{constructor(){this.changes=new Hs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class k6{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return $o(e).put(i)}removeEntry(e,t,i){return $o(e).delete((function(o,c){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Rp(c),h[h.length-1]]})(t,i))}updateMetadata(e,t){return this.getMetadata(e).next((i=>(i.byteSize+=t,this.br(e,i))))}getEntry(e,t){let i=Mt.newInvalidDocument(t);return $o(e).ee({index:Wm,range:IDBKeyRange.only(Lh(t))},((s,o)=>{i=this.Sr(t,o)})).next((()=>i))}Dr(e,t){let i={size:0,document:Mt.newInvalidDocument(t)};return $o(e).ee({index:Wm,range:IDBKeyRange.only(Lh(t))},((s,o)=>{i={document:this.Sr(t,o),size:Np(o)}})).next((()=>i))}getEntries(e,t){let i=fi();return this.Cr(e,t,((s,o)=>{const c=this.Sr(s,o);i=i.insert(s,c)})).next((()=>i))}vr(e,t){let i=fi(),s=new kt(we.comparator);return this.Cr(e,t,((o,c)=>{const h=this.Sr(o,c);i=i.insert(o,h),s=s.insert(o,Np(c))})).next((()=>({documents:i,Fr:s})))}Cr(e,t,i){if(t.isEmpty())return X.resolve();let s=new Tt(JS);t.forEach((d=>s=s.add(d)));const o=IDBKeyRange.bound(Lh(s.first()),Lh(s.last())),c=s.getIterator();let h=c.getNext();return $o(e).ee({index:Wm,range:o},((d,f,g)=>{const v=we.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;h&&JS(h,v)<0;)i(h,null),h=c.getNext();h&&h.isEqual(v)&&(i(h,f),h=c.hasNext()?c.getNext():null),h?g.j(Lh(h)):g.done()})).next((()=>{for(;h;)i(h,null),h=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,t,i,s,o){const c=t.path,h=[c.popLast().toArray(),c.lastSegment(),Rp(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $o(e).H(IDBKeyRange.bound(h,d,!0)).next((f=>{o?.incrementDocumentReadCount(f.length);let g=fi();for(const v of f){const w=this.Sr(we.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);w.isFoundDocument()&&(qd(t,w)||s.has(w.key))&&(g=g.insert(w.key,w))}return g}))}getAllFromCollectionGroup(e,t,i,s){let o=fi();const c=XS(t,i),h=XS(t,ki.max());return $o(e).ee({index:zC,range:IDBKeyRange.bound(c,h,!0)},((d,f,g)=>{const v=this.Sr(we.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(v.key,v),o.size===s&&g.done()})).next((()=>o))}newChangeBuffer(e){return new P6(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return WS(e).get(O0).next((t=>(De(!!t,20021),t)))}br(e,t){return WS(e).put(O0,t)}Sr(e,t){if(t){const i=v6(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(Ve.min())))return i}return Mt.newInvalidDocument(e)}}function oN(n){return new k6(n)}class P6 extends aN{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new Hs((i=>i.toString()),((i,s)=>i.isEqual(s)))}applyChanges(e){const t=[];let i=0,s=new Tt(((o,c)=>Le(o.canonicalString(),c.canonicalString())));return this.changes.forEach(((o,c)=>{const h=this.Or.get(o);if(t.push(this.Mr.removeEntry(e,o,h.readTime)),c.isValidDocument()){const d=PS(this.Mr.serializer,c);s=s.add(o.path.popLast());const f=Np(d);i+=f-h.size,t.push(this.Mr.addEntry(e,o,d))}else if(i-=h.size,this.trackRemovals){const d=PS(this.Mr.serializer,c.convertToNoDocument(Ve.min()));t.push(this.Mr.addEntry(e,o,d))}})),s.forEach((o=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,o))})),t.push(this.Mr.updateMetadata(e,i)),X.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((i=>(this.Or.set(t,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:i,Fr:s})=>(s.forEach(((o,c)=>{this.Or.set(o,{size:c,readTime:i.get(o).readTime})})),i)))}}function WS(n){return En(n,yd)}function $o(n){return En(n,xp)}function Lh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function XS(n,e){const t=e.documentKey.path.toArray();return[n,Rp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function JS(n,e){const t=n.path.toArray(),i=e.path.toArray();let s=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(s=Le(t[o],i[o]),s)return s;return s=Le(t.length,i.length),s||(s=Le(t[t.length-2],i[i.length-2]),s||Le(t[t.length-1],i[i.length-1]))}class V6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class lN{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(i=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(i!==null&&rd(i.mutation,s,di.empty(),Ue.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Fe()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Fe()){const s=Qr();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,i).next((o=>{let c=Hh();return o.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=Qr();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Fe())))}populateOverlays(e,t,i){const s=[];return i.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,i,s){let o=fi();const c=id(),h=(function(){return id()})();return t.forEach(((d,f)=>{const g=i.get(f.key);s.has(f.key)&&(g===void 0||g.mutation instanceof $s)?o=o.insert(f.key,f):g!==void 0?(c.set(f.key,g.mutation.getFieldMask()),rd(g.mutation,f,g.mutation.getFieldMask(),Ue.now())):c.set(f.key,di.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((f,g)=>c.set(f,g))),t.forEach(((f,g)=>h.set(f,new V6(g,c.get(f)??null)))),h)))}recalculateAndSaveOverlays(e,t){const i=id();let s=new kt(((c,h)=>c-h)),o=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((d=>{const f=t.get(d);if(f===null)return;let g=i.get(d)||di.empty();g=h.applyToLocalView(f,g),i.set(d,g);const v=(s.get(h.batchId)||Fe()).add(d);s=s.insert(h.batchId,v)}))})).next((()=>{const c=[],h=s.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),f=d.key,g=d.value,v=T2();g.forEach((w=>{if(!o.has(w)){const E=C2(t.get(w),i.get(w));E!==null&&v.set(w,E),o=o.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,v))}return X.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,s){return B3(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next((o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-o.size):X.resolve(Qr());let h=Fc,d=o;return c.next((f=>X.forEach(f,((g,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(g)?X.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{d=d.insert(g,w)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,d,f,Fe()))).next((g=>({batchId:h,changes:w2(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next((i=>{let s=Hh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const o=t.collectionGroup;let c=Hh();return this.indexManager.getCollectionParents(e,o).next((h=>X.forEach(h,(d=>{const f=(function(v,w){return new Gs(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,s).next((g=>{g.forEach(((v,w)=>{c=c.insert(v,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,s)))).next((c=>{o.forEach(((d,f)=>{const g=f.getKey();c.get(g)===null&&(c=c.insert(g,Mt.newInvalidDocument(g)))}));let h=Hh();return c.forEach(((d,f)=>{const g=o.get(d);g!==void 0&&rd(g.mutation,f,di.empty(),Ue.now()),qd(t,f)&&(h=h.insert(d,f))})),h}))}}class M6{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return X.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:on(s.createTime)}})(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:_g(s.bundledQuery),readTime:on(s.readTime)}})(t)),X.resolve()}}class O6{constructor(){this.overlays=new kt(we.comparator),this.Lr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Qr();return X.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&i.set(s,o)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((s,o)=>{this.bt(e,t,o)})),X.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Lr.get(i);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const s=Qr(),o=t.length+1,c=new we(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>i&&s.set(d.getKey(),d)}return X.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let o=new kt(((f,g)=>f-g));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>i){let g=o.get(f.largestBatchId);g===null&&(g=Qr(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const h=Qr(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,g)=>h.set(f,g))),!(h.size()>=s)););return X.resolve(h)}bt(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.Lr.get(s.largestBatchId).delete(i.key);this.Lr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new pb(t,i));let o=this.Lr.get(t);o===void 0&&(o=Fe(),this.Lr.set(t,o)),this.Lr.set(t,o.add(i.key))}}class L6{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}class bb{constructor(){this.kr=new Tt(In.Kr),this.qr=new Tt(In.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new In(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new In(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new we(new We([])),i=new In(t,e),s=new In(t,e+1),o=[];return this.qr.forEachInRange([i,s],(c=>{this.Wr(c),o.push(c.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new we(new We([])),i=new In(t,e),s=new In(t,e+1);let o=Fe();return this.qr.forEachInRange([i,s],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new In(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class In{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return we.comparator(e.key,t.key)||Le(e.Hr,t.Hr)}static Ur(e,t){return Le(e.Hr,t.Hr)||we.comparator(e.key,t.key)}}class j6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Tt(In.Kr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new fb(o,t,i,s);this.mutationQueue.push(c);for(const h of s)this.Jr=this.Jr.add(new In(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(c)}lookupMutationBatch(e,t){return X.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Xr(i),o=s<0?0:s;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Qa:this.Yn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new In(t,0),s=new In(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([i,s],(c=>{const h=this.Zr(c.Hr);o.push(h)})),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Tt(Le);return t.forEach((s=>{const o=new In(s,0),c=new In(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,c],(h=>{i=i.add(h.Hr)}))})),X.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let o=i;we.isDocumentKey(o)||(o=o.child(""));const c=new In(new we(o),0);let h=new Tt(Le);return this.Jr.forEachWhile((d=>{const f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(h=h.add(d.Hr)),!0)}),c),X.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((i=>{const s=this.Zr(i);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){De(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return X.forEach(t.mutations,(s=>{const o=new In(s.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new In(t,0),s=this.Jr.firstAfterOrEqual(i);return X.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class U6{constructor(e){this.ti=e,this.docs=(function(){return new kt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),o=s?s.size:0,c=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():Mt.newInvalidDocument(t))}getEntries(e,t){let i=fi();return t.forEach((s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Mt.newInvalidDocument(s))})),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let o=fi();const c=t.path,h=new we(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||eb(MC(g),i)<=0||(s.has(g.key)||qd(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,t,i,s){Ee(9500)}ni(e,t){return X.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new B6(this)}getSize(e){return X.resolve(this.size)}}class B6 extends aN{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(i)})),X.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class z6{constructor(e){this.persistence=e,this.ri=new Hs((t=>gl(t)),zd),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.ii=0,this.si=new bb,this.targetCount=0,this.oi=wl._r()}forEachTarget(e,t){return this.ri.forEach(((i,s)=>t(s))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),X.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new wl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.lr(t),X.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let s=0;const o=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.ri.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),X.waitFor(o).next((()=>s))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),X.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((c=>{o.push(s.markPotentiallyOrphaned(e,c))})),X.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this.si.containsKey(t))}}class wb{constructor(e,t){this._i={},this.overlays={},this.ai=new hi(0),this.ui=!1,this.ui=!0,this.ci=new L6,this.referenceDelegate=e(this),this.li=new z6(this),this.indexManager=new A6,this.remoteDocumentCache=(function(s){return new U6(s)})((i=>this.referenceDelegate.hi(i))),this.serializer=new Y2(t),this.Pi=new M6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new O6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new j6(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){pe("MemoryPersistence","Starting transaction:",e);const s=new F6(this.ai.next());return this.referenceDelegate.Ti(),i(s).next((o=>this.referenceDelegate.Ii(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,t){return X.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class F6 extends LC{constructor(e){super(),this.currentSequenceNumber=e}}class Tg{constructor(e){this.persistence=e,this.Ri=new bb,this.Ai=null}static Vi(e){return new Tg(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.di.add(o.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(i=>{const s=we.fromPath(i);return this.mi(e,s).next((o=>{o||t.removeEntry(s,Ve.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return X.or([()=>X.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Dp{constructor(e,t){this.persistence=e,this.fi=new Hs((i=>$n(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=sN(this,t)}static Vi(e,t){return new Dp(e,t)}Ti(){}Ii(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((s=>i+s))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return X.forEach(this.fi,((i,s)=>this.wr(e,i,s).next((o=>o?X.resolve():t(s)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ni(e,(c=>this.wr(e,c,t).next((h=>{h||(i++,o.removeEntry(c,Ve.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),X.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Jm(e.data.value)),t}wr(e,t,i){return X.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return X.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class q6{constructor(e){this.serializer=e}k(e,t,i,s){const o=new lg("createOrUpgrade",t);i<1&&s>=1&&((function(d){d.createObjectStore(Bd)})(e),(function(d){d.createObjectStore(gd,{keyPath:t3}),d.createObjectStore(yr,{keyPath:cS,autoIncrement:!0}).createIndex(rl,uS,{unique:!0}),d.createObjectStore(Hc)})(e),ZS(e),(function(d){d.createObjectStore(Xo)})(e));let c=X.resolve();return i<3&&s>=3&&(i!==0&&((function(d){d.deleteObjectStore(Kc),d.deleteObjectStore($c),d.deleteObjectStore(cl)})(e),ZS(e)),c=c.next((()=>(function(d){const f=d.store(cl),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ve.min().toTimestamp(),targetCount:0};return f.put(Ep,g)})(o)))),i<4&&s>=4&&(i!==0&&(c=c.next((()=>(function(d,f){return f.store(yr).H().next((v=>{d.deleteObjectStore(yr),d.createObjectStore(yr,{keyPath:cS,autoIncrement:!0}).createIndex(rl,uS,{unique:!0});const w=f.store(yr),E=v.map((R=>w.put(R)));return X.waitFor(E)}))})(e,o)))),c=c.next((()=>{(function(d){d.createObjectStore(Qc,{keyPath:u3})})(e)}))),i<5&&s>=5&&(c=c.next((()=>this.gi(o)))),i<6&&s>=6&&(c=c.next((()=>((function(d){d.createObjectStore(yd)})(e),this.pi(o))))),i<7&&s>=7&&(c=c.next((()=>this.yi(o)))),i<8&&s>=8&&(c=c.next((()=>this.wi(e,o)))),i<9&&s>=9&&(c=c.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),i<10&&s>=10&&(c=c.next((()=>this.bi(o)))),i<11&&s>=11&&(c=c.next((()=>{(function(d){d.createObjectStore(cg,{keyPath:h3})})(e),(function(d){d.createObjectStore(ug,{keyPath:d3})})(e)}))),i<12&&s>=12&&(c=c.next((()=>{(function(d){const f=d.createObjectStore(hg,{keyPath:_3});f.createIndex(j0,b3,{unique:!1}),f.createIndex(HC,w3,{unique:!1})})(e)}))),i<13&&s>=13&&(c=c.next((()=>(function(d){const f=d.createObjectStore(xp,{keyPath:i3});f.createIndex(Wm,r3),f.createIndex(zC,s3)})(e))).next((()=>this.Si(e,o))).next((()=>e.deleteObjectStore(Xo)))),i<14&&s>=14&&(c=c.next((()=>this.Di(e,o)))),i<15&&s>=15&&(c=c.next((()=>(function(d){d.createObjectStore(ib,{keyPath:f3,autoIncrement:!0}).createIndex(L0,m3,{unique:!1}),d.createObjectStore(ed,{keyPath:p3}).createIndex(qC,g3,{unique:!1}),d.createObjectStore(td,{keyPath:y3}).createIndex(GC,v3,{unique:!1})})(e)))),i<16&&s>=16&&(c=c.next((()=>{t.objectStore(ed).clear()})).next((()=>{t.objectStore(td).clear()}))),i<17&&s>=17&&(c=c.next((()=>{(function(d){d.createObjectStore(rb,{keyPath:T3})})(e)}))),i<18&&s>=18&&jR()&&(c=c.next((()=>{t.objectStore(ed).clear()})).next((()=>{t.objectStore(td).clear()}))),c}pi(e){let t=0;return e.store(Xo).ee(((i,s)=>{t+=Np(s)})).next((()=>{const i={byteSize:t};return e.store(yd).put(O0,i)}))}gi(e){const t=e.store(gd),i=e.store(yr);return t.H().next((s=>X.forEach(s,(o=>{const c=IDBKeyRange.bound([o.userId,Qa],[o.userId,o.lastAcknowledgedBatchId]);return i.H(rl,c).next((h=>X.forEach(h,(d=>{De(d.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const f=el(this.serializer,d);return eN(e,o.userId,f).next((()=>{}))}))))}))))}yi(e){const t=e.store(Kc),i=e.store(Xo);return e.store(cl).get(Ep).next((s=>{const o=[];return i.ee(((c,h)=>{const d=new We(c),f=(function(v){return[0,$n(v)]})(d);o.push(t.get(f).next((g=>g?X.resolve():(v=>t.put({targetId:0,path:$n(v),sequenceNumber:s.highestListenSequenceNumber}))(d))))})).next((()=>X.waitFor(o)))}))}wi(e,t){e.createObjectStore(vd,{keyPath:c3});const i=t.store(vd),s=new _b,o=c=>{if(s.add(c)){const h=c.lastSegment(),d=c.popLast();return i.put({collectionId:h,parent:$n(d)})}};return t.store(Xo).ee({Y:!0},((c,h)=>{const d=new We(c);return o(d.popLast())})).next((()=>t.store(Hc).ee({Y:!0},(([c,h,d],f)=>{const g=Kr(h);return o(g.popLast())}))))}bi(e){const t=e.store($c);return t.ee(((i,s)=>{const o=Kh(s),c=W2(this.serializer,o);return t.put(c)}))}Si(e,t){const i=t.store(Xo),s=[];return i.ee(((o,c)=>{const h=t.store(xp),d=(function(v){return v.document?new we(We.fromString(v.document.name).popFirst(5)):v.noDocument?we.fromSegments(v.noDocument.path):v.unknownDocument?we.fromSegments(v.unknownDocument.path):Ee(36783)})(c).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};s.push(h.put(f))})).next((()=>X.waitFor(s)))}Di(e,t){const i=t.store(yr),s=oN(this.serializer),o=new wb(Tg.Vi,this.serializer.yt);return i.H().next((c=>{const h=new Map;return c.forEach((d=>{let f=h.get(d.userId)??Fe();el(this.serializer,d).keys().forEach((g=>f=f.add(g))),h.set(d.userId,f)})),X.forEach(h,((d,f)=>{const g=new Rn(f),v=bg.wt(this.serializer,g),w=o.getIndexManager(g),E=wg.wt(g,this.serializer,w,o.referenceDelegate);return new lN(s,E,v,w).recalculateAndSaveOverlaysForDocumentKeys(new U0(t,hi.ce),d).next()}))}))}}function ZS(n){n.createObjectStore(Kc,{keyPath:o3}).createIndex(nb,l3,{unique:!0}),n.createObjectStore($c,{keyPath:"targetId"}).createIndex(FC,a3,{unique:!0}),n.createObjectStore(cl)}const ka="IndexedDbPersistence",Kv=18e5,Qv=5e3,Yv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",cN="main";class Tb{constructor(e,t,i,s,o,c,h,d,f,g,v=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Ci=o,this.window=c,this.document=h,this.Fi=f,this.Mi=g,this.xi=v,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=w=>Promise.resolve(),!Tb.v())throw new de(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new D6(this,s),this.Ki=t+cN,this.serializer=new Y2(d),this.qi=new Xr(this.Ki,this.xi,new q6(this.serializer)),this.ci=new b6,this.li=new R6(this.referenceDelegate,this.serializer),this.remoteDocumentCache=oN(this.serializer),this.Pi=new _6,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,g===!1&&an(ka,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(ne.FAILED_PRECONDITION,Yv);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new hi(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Dm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(co(e))return pe(ka,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe(ka,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return jh(e).get(yc).next((t=>X.resolve(this.Xi(t))))}Yi(e){return Dm(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,Kv)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const i=En(t,Qc);return i.H().next((s=>{const o=this.ns(s,Kv),c=s.filter((h=>o.indexOf(h)===-1));return X.forEach(c,(h=>i.delete(h.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?X.resolve(!0):jh(e).get(yc).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,Qv)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new de(ne.FAILED_PRECONDITION,Yv);return!1}}return!(!this.networkEnabled||!this.inForeground)||Dm(e).H().next((i=>this.ns(i,Qv).find((s=>{if(this.clientId!==s.clientId){const o=!this.networkEnabled&&s.networkEnabled,c=!this.inForeground&&s.inForeground,h=this.networkEnabled===s.networkEnabled;if(o||c&&h)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&pe(ka,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Bd,Qc],(e=>{const t=new U0(e,hi.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((i=>this.ts(i.updateTimeMs,t)&&!this.ss(i.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>Dm(e).H().next((t=>this.ns(t,Kv).map((i=>i.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return wg.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new I6(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return bg.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,i){pe(ka,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",o=(function(d){return d===18?S3:d===17?YC:d===16?E3:d===15?sb:d===14?QC:d===13?KC:d===12?x3:d===11?$C:void Ee(60245)})(this.xi);let c;return this.qi.runTransaction(e,s,o,(h=>(c=new U0(h,this.ai?this.ai.next():hi.ce),t==="readwrite-primary"?this.ji(c).next((d=>!!d||this.Hi(c))).next((d=>{if(!d)throw an(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new de(ne.FAILED_PRECONDITION,OC);return i(c)})).next((d=>this.Zi(c).next((()=>d)))):this.Ps(c).next((()=>i(c)))))).then((h=>(c.raiseOnCommittedEvent(),h)))}Ps(e){return jh(e).get(yc).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,Qv)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new de(ne.FAILED_PRECONDITION,Yv)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jh(e).put(yc,t)}static v(){return Xr.v()}Ji(e){const t=jh(e);return t.get(yc).next((i=>this.Xi(i)?(pe(ka,"Releasing primary lease."),t.delete(yc)):X.resolve()))}ts(e,t){const i=Date.now();return!(e<i-t)&&(!(e>i)||(an(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;LR()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const t=this.Ui?.getItem(this.rs(e))!==null;return pe(ka,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return an(ka,"Failed to get zombied client id.",t),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){an("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function jh(n){return En(n,Bd)}function Dm(n){return En(n,Qc)}function xb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Eb{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=s}static Es(e,t){let i=Fe(),s=Fe();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Eb(e,t.fromCache,i,s)}}class G6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class uN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return LR()?8:jC(Tn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,s){const o={result:null};return this.gs(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ps(e,t,s,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new G6;return this.ys(e,t,c).next((h=>{if(o.result=h,this.As)return this.ws(e,t,c,h.size)}))})).next((()=>o.result))}ws(e,t,i,s){return i.documentReadCount<this.Vs?(Ec()<=nt.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Sc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Ec()<=nt.DEBUG&&pe("QueryEngine","Query:",Sc(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(Ec()<=nt.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Sc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(t))):X.resolve())}gs(e,t){if(xS(t))return X.resolve(null);let i=Kn(t);return this.indexManager.getIndexType(e,i).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Ip(t,null,"F"),i=Kn(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const c=Fe(...o);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((d=>{const f=this.bs(t,h);return this.Ss(t,f,c,d.readTime)?this.gs(e,Ip(t,null,"F")):this.Ds(e,f,t,d)}))))})))))}ps(e,t,i,s){return xS(t)||s.isEqual(Ve.min())?X.resolve(null):this.fs.getDocuments(e,i).next((o=>{const c=this.bs(t,o);return this.Ss(t,c,i,s)?X.resolve(null):(Ec()<=nt.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Sc(t)),this.Ds(e,c,t,VC(s,Fc)).next((h=>h)))}))}bs(e,t){let i=new Tt(_2(e));return t.forEach(((s,o)=>{qd(e,o)&&(i=i.add(o))})),i}Ss(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ys(e,t,i){return Ec()<=nt.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Sc(t)),this.fs.getDocumentsMatchingQuery(e,t,ki.min(),i)}Ds(e,t,i,s){return this.fs.getDocumentsMatchingQuery(e,i,s).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const Sb="LocalStore",H6=3e8;class $6{constructor(e,t,i,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new kt(Le),this.Fs=new Hs((o=>gl(o)),zd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function hN(n,e,t,i){return new $6(n,e,t,i)}async function dN(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next((o=>(s=o,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let d=Fe();for(const f of s){c.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of o){h.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(i,d).next((f=>({Ns:f,removedBatchIds:c,addedBatchIds:h})))}))}))}function K6(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,f,g){const v=f.batch,w=v.keys();let E=X.resolve();return w.forEach((R=>{E=E.next((()=>g.getEntry(d,R))).next((k=>{const C=f.docVersions.get(R);De(C!==null,48541),k.version.compareTo(C)<0&&(v.applyToRemoteDocument(k,f),k.isValidDocument()&&(k.setReadTime(f.commitVersion),g.addEntry(k)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(t,i,e,o).next((()=>o.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=Fe();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(d=d.add(h.batch.mutations[f].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(i,s)))}))}function fN(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function Q6(n,e){const t=xe(n),i=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const h=[];e.targetChanges.forEach(((g,v)=>{const w=s.get(v);if(!w)return;h.push(t.li.removeMatchingKeys(o,g.removedDocuments,v).next((()=>t.li.addMatchingKeys(o,g.addedDocuments,v))));let E=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(Kt.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,i)),s=s.insert(v,E),(function(k,C,B){return k.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=H6?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(w,E,g)&&h.push(t.li.updateTargetData(o,E))}));let d=fi(),f=Fe();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),h.push(mN(o,c,e.documentUpdates).next((g=>{d=g.Bs,f=g.Ls}))),!i.isEqual(Ve.min())){const g=t.li.getLastRemoteSnapshotVersion(o).next((v=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(g)}return X.waitFor(h).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,d,f))).next((()=>d))})).then((o=>(t.vs=s,o)))}function mN(n,e,t){let i=Fe(),s=Fe();return t.forEach((o=>i=i.add(o))),e.getEntries(n,i).next((o=>{let c=fi();return t.forEach(((h,d)=>{const f=o.get(h);d.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(h)),d.isNoDocument()&&d.version.isEqual(Ve.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):pe(Sb,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",d.version)})),{Bs:c,Ls:s}}))}function Y6(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Qa),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function tu(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return t.li.getTargetData(i,e).next((o=>o?(s=o,X.resolve(s)):t.li.allocateTargetId(i).next((c=>(s=new ks(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=t.vs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function nu(n,e,t){const i=xe(n),s=i.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!co(c))throw c;pe(Sb,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(s.target)}function kp(n,e,t){const i=xe(n);let s=Ve.min(),o=Fe();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,f,g){const v=xe(d),w=v.Fs.get(g);return w!==void 0?X.resolve(v.vs.get(w)):v.li.getTargetData(f,g)})(i,c,Kn(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,h.targetId).next((d=>{o=d}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,t?s:Ve.min(),t?o:Fe()))).next((h=>(yN(i,v2(e),h),{documents:h,ks:o})))))}function pN(n,e){const t=xe(n),i=xe(t.li),s=t.vs.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",(o=>i.At(o,e).next((c=>c?c.target:null))))}function gN(n,e){const t=xe(n),i=t.Ms.get(e)||Ve.min();return t.persistence.runTransaction("Get new document changes","readonly",(s=>t.xs.getAllFromCollectionGroup(s,e,VC(i,Fc),Number.MAX_SAFE_INTEGER))).then((s=>(yN(t,e,s),s)))}function yN(n,e,t){let i=n.Ms.get(e)||Ve.min();t.forEach(((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Ms.set(e,i)}async function W6(n,e,t,i){const s=xe(n);let o=Fe(),c=fi();for(const f of t){const g=e.Ks(f.metadata.name);f.document&&(o=o.add(g));const v=e.qs(f);v.setReadTime(e.Us(f.metadata.readTime)),c=c.insert(g,v)}const h=s.xs.newChangeBuffer({trackRemovals:!0}),d=await tu(s,(function(g){return Kn(gu(We.fromString(`__bundle__/docs/${g}`)))})(i));return s.persistence.runTransaction("Apply bundle documents","readwrite",(f=>mN(f,h,c).next((g=>(h.apply(f),g))).next((g=>s.li.removeMatchingKeysForTargetId(f,d.targetId).next((()=>s.li.addMatchingKeys(f,o,d.targetId))).next((()=>s.localDocuments.getLocalViewOfDocuments(f,g.Bs,g.Ls))).next((()=>g.Bs))))))}async function X6(n,e,t=Fe()){const i=await tu(n,Kn(_g(e.bundledQuery))),s=xe(n);return s.persistence.runTransaction("Save named query","readwrite",(o=>{const c=on(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return s.Pi.saveNamedQuery(o,e);const h=i.withResumeToken(Kt.EMPTY_BYTE_STRING,c);return s.vs=s.vs.insert(h.targetId,h),s.li.updateTargetData(o,h).next((()=>s.li.removeMatchingKeysForTargetId(o,i.targetId))).next((()=>s.li.addMatchingKeys(o,t,i.targetId))).next((()=>s.Pi.saveNamedQuery(o,e)))}))}const vN="firestore_clients";function eA(n,e){return`${vN}_${n}_${e}`}const _N="firestore_mutations";function tA(n,e,t){let i=`${_N}_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}const bN="firestore_targets";function Wv(n,e){return`${bN}_${n}_${e}`}const $r="SharedClientState";class Pp{constructor(e,t,i,s){this.user=e,this.batchId=t,this.state=i,this.error=s}static $s(e,t,i){const s=JSON.parse(i);let o,c=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return c&&s.error&&(c=typeof s.error.message=="string"&&typeof s.error.code=="string",c&&(o=new de(s.error.code,s.error.message))),c?new Pp(e,t,s.state,o):(an($r,`Failed to parse mutation state for ID '${t}': ${i}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sd{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static $s(e,t){const i=JSON.parse(t);let s,o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new de(i.error.code,i.error.message))),o?new sd(e,i.state,s):(an($r,`Failed to parse target state for ID '${e}': ${t}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const i=JSON.parse(t);let s=typeof i=="object"&&i.activeTargetIds instanceof Array,o=ub();for(let c=0;s&&c<i.activeTargetIds.length;++c)s=UC(i.activeTargetIds[c]),o=o.add(i.activeTargetIds[c]);return s?new Vp(e,o):(an($r,`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ab{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Ab(t.clientId,t.onlineState):(an($r,`Failed to parse online state: ${e}`),null)}}class e_{constructor(){this.activeTargetIds=ub()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xv{constructor(e,t,i,s,o){this.window=e,this.Ci=t,this.persistenceKey=i,this.zs=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new kt(Le),this.started=!1,this.Zs=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Xs=eA(this.persistenceKey,this.zs),this.Ys=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new e_),this.eo=new RegExp(`^${vN}_${c}_([^_]*)$`),this.no=new RegExp(`^${_N}_${c}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${bN}_${c}_(\\d+)$`),this.io=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this.so=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const i of e){if(i===this.zs)continue;const s=this.getItem(eA(this.persistenceKey,i));if(s){const o=Vp.$s(i,s);o&&(this.Js=this.Js.insert(o.clientId,o))}}this.oo();const t=this.storage.getItem(this.io);if(t){const i=this._o(t);i&&this.ao(i)}for(const i of this.Zs)this.Hs(i);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let t=!1;return this.Js.forEach(((i,s)=>{s.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,t,i){this.co(e,t,i),this.lo(e)}addLocalQueryTarget(e,t=!0){let i="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Wv(this.persistenceKey,e));if(s){const o=sd.$s(e,s);o&&(i=o.state)}}return t&&this.ho.Qs(e),this.oo(),i}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Wv(this.persistenceKey,e))}updateQueryState(e,t,i){this.Po(e,t,i)}handleUserChange(e,t,i){t.forEach((s=>{this.lo(s)})),this.currentUser=e,i.forEach((s=>{this.addPendingMutation(s)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return pe($r,"READ",e,t),t}setItem(e,t){pe($r,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){pe($r,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const t=e;if(t.storageArea===this.storage){if(pe($r,"EVENT",t.key,t.newValue),t.key===this.Xs)return void an("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.eo.test(t.key)){if(t.newValue==null){const i=this.Eo(t.key);return this.Ro(i,null)}{const i=this.Ao(t.key,t.newValue);if(i)return this.Ro(i.clientId,i)}}else if(this.no.test(t.key)){if(t.newValue!==null){const i=this.Vo(t.key,t.newValue);if(i)return this.mo(i)}}else if(this.ro.test(t.key)){if(t.newValue!==null){const i=this.fo(t.key,t.newValue);if(i)return this.po(i)}}else if(t.key===this.io){if(t.newValue!==null){const i=this._o(t.newValue);if(i)return this.ao(i)}}else if(t.key===this.Ys){const i=(function(o){let c=hi.ce;if(o!=null)try{const h=JSON.parse(o);De(typeof h=="number",30636,{yo:o}),c=h}catch(h){an($r,"Failed to read sequence number from WebStorage",h)}return c})(t.newValue);i!==hi.ce&&this.sequenceNumberHandler(i)}else if(t.key===this.so){const i=this.wo(t.newValue);await Promise.all(i.map((s=>this.syncEngine.bo(s))))}}}else this.Zs.push(t)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,t,i){const s=new Pp(this.currentUser,e,t,i),o=tA(this.persistenceKey,this.currentUser,e);this.setItem(o,s.Ws())}lo(e){const t=tA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}To(e){const t={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(t))}Po(e,t,i){const s=Wv(this.persistenceKey,e),o=new sd(e,t,i);this.setItem(s,o.Ws())}Io(e){const t=JSON.stringify(Array.from(e));this.setItem(this.so,t)}Eo(e){const t=this.eo.exec(e);return t?t[1]:null}Ao(e,t){const i=this.Eo(e);return Vp.$s(i,t)}Vo(e,t){const i=this.no.exec(e),s=Number(i[1]),o=i[2]!==void 0?i[2]:null;return Pp.$s(new Rn(o),s,t)}fo(e,t){const i=this.ro.exec(e),s=Number(i[1]);return sd.$s(s,t)}_o(e){return Ab.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);pe($r,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,t){const i=t?this.Js.insert(e,t):this.Js.remove(e),s=this.uo(this.Js),o=this.uo(i),c=[],h=[];return o.forEach((d=>{s.has(d)||c.push(d)})),s.forEach((d=>{o.has(d)||h.push(d)})),this.syncEngine.Co(c,h).then((()=>{this.Js=i}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let t=ub();return e.forEach(((i,s)=>{t=t.unionWith(s.activeTargetIds)})),t}}class wN{constructor(){this.vo=new e_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new e_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class J6{Mo(e){}shutdown(){}}const nA="ConnectivityMonitor";class iA{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pe(nA,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){pe(nA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let km=null;function t_(){return km===null?km=(function(){return 268435456+Math.round(2147483648*Math.random())})():km++,"0x"+km.toString(16)}const Jv="RestConnection",Z6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class eU{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${s}`,this.$o=this.databaseId.database===bd?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(e,t,i,s,o){const c=t_(),h=this.Qo(e,t.toUriEncodedString());pe(Jv,`Sending RPC '${e}' ${c}:`,h,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,s,o);const{host:f}=new URL(h),g=oo(f);return this.zo(e,h,d,i,g).then((v=>(pe(Jv,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw Di(Jv,`RPC '${e}' ${c} failed with error: `,v,"url: ",h,"request:",i),v}))}jo(e,t,i,s,o,c){return this.Wo(e,t,i,s,o)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),i&&i.headers.forEach(((s,o)=>e[o]=s))}Qo(e,t){const i=Z6[e];let s=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class tU{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const qn="WebChannelConnection",Uh=(n,e,t)=>{n.listen(e,(i=>{try{t(i)}catch(s){setTimeout((()=>{throw s}),0)}}))};class Lc extends eU{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Lc.c_){const e=SC();Uh(e,EC.STAT_EVENT,(t=>{t.stat===D0.PROXY?pe(qn,"STAT_EVENT: detected buffering proxy"):t.stat===D0.NOPROXY&&pe(qn,"STAT_EVENT: detected no buffering proxy")})),Lc.c_=!0}}zo(e,t,i,s,o){const c=t_();return new Promise(((h,d)=>{const f=new TC;f.setWithCredentials(!0),f.listenOnce(xC.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Qm.NO_ERROR:const v=f.getResponseJson();pe(qn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),h(v);break;case Qm.TIMEOUT:pe(qn,`RPC '${e}' ${c} timed out`),d(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Qm.HTTP_ERROR:const w=f.getStatus();if(pe(qn,`RPC '${e}' ${c} failed with status:`,w,"response text:",f.getResponseText()),w>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const R=E?.error;if(R&&R.status&&R.message){const k=(function(B){const H=B.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(H)>=0?H:ne.UNKNOWN})(R.status);d(new de(k,R.message))}else d(new de(ne.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new de(ne.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{pe(qn,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(s);pe(qn,`RPC '${e}' ${c} sending request:`,s),f.send(t,"POST",g,i,15)}))}T_(e,t,i){const s=t_(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const f=o.join("");pe(qn,`Creating RPC '${e}' stream ${s}: ${f}`,h);const g=c.createWebChannel(f,h);this.I_(g);let v=!1,w=!1;const E=new tU({Ho:R=>{w?pe(qn,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(v||(pe(qn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),v=!0),pe(qn,`RPC '${e}' stream ${s} sending:`,R),g.send(R))},Jo:()=>g.close()});return Uh(g,Gh.EventType.OPEN,(()=>{w||(pe(qn,`RPC '${e}' stream ${s} transport opened.`),E.i_())})),Uh(g,Gh.EventType.CLOSE,(()=>{w||(w=!0,pe(qn,`RPC '${e}' stream ${s} transport closed`),E.o_(),this.E_(g))})),Uh(g,Gh.EventType.ERROR,(R=>{w||(w=!0,Di(qn,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),E.o_(new de(ne.UNAVAILABLE,"The operation could not be completed")))})),Uh(g,Gh.EventType.MESSAGE,(R=>{if(!w){const k=R.data[0];De(!!k,16349);const C=k,B=C?.error||C[0]?.error;if(B){pe(qn,`RPC '${e}' stream ${s} received error:`,B);const H=B.status;let F=(function(le){const N=gn[le];if(N!==void 0)return P2(N)})(H),$=B.message;F===void 0&&(F=ne.INTERNAL,$="Unknown error status: "+H+" with message "+B.message),w=!0,E.o_(new de(F,$)),g.close()}else pe(qn,`RPC '${e}' stream ${s} received:`,k),E.__(k)}})),Lc.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return AC()}}function nU(n){return new Lc(n)}function TN(){return typeof window<"u"?window:null}function ip(){return typeof document<"u"?document:null}function Al(n){return new l6(n,!0)}Lc.c_=!1;class Ib{constructor(e,t,i=1e3,s=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=s,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-i);s>0&&pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const rA="PersistentStream";class xN{constructor(e,t,i,s,o,c,h,d){this.Ci=e,this.b_=i,this.S_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ib(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(an(t.toString()),an("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===t&&this.G_(i,s)}),(i=>{e((()=>{const s=new de(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(rA,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(pe(rA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iU extends xN{constructor(e,t,i,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=h6(this.serializer,e),i=(function(o){if(!("targetChange"in o))return Ve.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ve.min():c.readTime?on(c.readTime):Ve.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=Y0(this.serializer),t.addTarget=(function(o,c){let h;const d=c.target;if(h=Sp(d)?{documents:F2(o,d)}:{query:vg(o,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=L2(o,c.resumeToken);const f=K0(o,c.expectedCount);f!==null&&(h.expectedCount=f)}else if(c.snapshotVersion.compareTo(Ve.min())>0){h.readTime=eu(o,c.snapshotVersion.toTimestamp());const f=K0(o,c.expectedCount);f!==null&&(h.expectedCount=f)}return h})(this.serializer,e);const i=f6(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=Y0(this.serializer),t.removeTarget=e,this.K_(t)}}class rU extends xN{constructor(e,t,i,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return De(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){De(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=d6(e.writeResults,e.commitTime),i=on(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Y0(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>Sd(this.serializer,i)))};this.K_(t)}}class sU{}class aU extends sU{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Wo(e,Q0(t,i),s,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(ne.UNKNOWN,o.toString())}))}jo(e,t,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,Q0(t,i),s,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function oU(n,e,t,i){return new aU(n,e,t,i)}class lU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(an(t),this.aa=!1):pe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Tl="RemoteStore";class cU{constructor(e,t,i,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{ho(this)&&(pe(Tl,"Restarting streams for network reachability change."),await(async function(d){const f=xe(d);f.Ea.add(4),await _u(f),f.Va.set("Unknown"),f.Ea.delete(4),await Kd(f)})(this))}))})),this.Va=new lU(i,s)}}async function Kd(n){if(ho(n))for(const e of n.Ra)await e(!0)}async function _u(n){for(const e of n.Ra)await e(!1)}function xg(n,e){const t=xe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Nb(t)?Cb(t):wu(t).O_()&&Rb(t,e))}function iu(n,e){const t=xe(n),i=wu(t);t.Ia.delete(e),i.O_()&&EN(t,e),t.Ia.size===0&&(i.O_()?i.L_():ho(t)&&t.Va.set("Unknown"))}function Rb(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wu(n).Z_(e)}function EN(n,e){n.da.$e(e),wu(n).X_(e)}function Cb(n){n.da=new r6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),wu(n).start(),n.Va.ua()}function Nb(n){return ho(n)&&!wu(n).x_()&&n.Ia.size>0}function ho(n){return xe(n).Ea.size===0}function SN(n){n.da=void 0}async function uU(n){n.Va.set("Online")}async function hU(n){n.Ia.forEach(((e,t)=>{Rb(n,e)}))}async function dU(n,e){SN(n),Nb(n)?(n.Va.ha(e),Cb(n)):n.Va.set("Unknown")}async function fU(n,e,t){if(n.Va.set("Online"),e instanceof O2&&e.state===2&&e.cause)try{await(async function(s,o){const c=o.cause;for(const h of o.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,c),s.Ia.delete(h),s.da.removeTarget(h))})(n,e)}catch(i){pe(Tl,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Mp(n,i)}else if(e instanceof tp?n.da.Xe(e):e instanceof M2?n.da.st(e):n.da.tt(e),!t.isEqual(Ve.min()))try{const i=await fN(n.localStore);t.compareTo(i)>=0&&await(function(o,c){const h=o.da.Tt(c);return h.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Ia.get(f);g&&o.Ia.set(f,g.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,f)=>{const g=o.Ia.get(d);if(!g)return;o.Ia.set(d,g.withResumeToken(Kt.EMPTY_BYTE_STRING,g.snapshotVersion)),EN(o,d);const v=new ks(g.target,d,f,g.sequenceNumber);Rb(o,v)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){pe(Tl,"Failed to raise snapshot:",i),await Mp(n,i)}}async function Mp(n,e,t){if(!co(e))throw e;n.Ea.add(1),await _u(n),n.Va.set("Offline"),t||(t=()=>fN(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{pe(Tl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Kd(n)}))}function AN(n,e){return e().catch((t=>Mp(n,t,e)))}async function bu(n){const e=xe(n),t=to(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qa;for(;mU(e);)try{const s=await Y6(e.localStore,i);if(s===null){e.Ta.length===0&&t.L_();break}i=s.batchId,pU(e,s)}catch(s){await Mp(e,s)}IN(e)&&RN(e)}function mU(n){return ho(n)&&n.Ta.length<10}function pU(n,e){n.Ta.push(e);const t=to(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function IN(n){return ho(n)&&!to(n).x_()&&n.Ta.length>0}function RN(n){to(n).start()}async function gU(n){to(n).ra()}async function yU(n){const e=to(n);for(const t of n.Ta)e.ea(t.mutations)}async function vU(n,e,t){const i=n.Ta.shift(),s=mb.from(i,e,t);await AN(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await bu(n)}async function _U(n,e){e&&to(n).Y_&&await(async function(i,s){if((function(c){return k2(c)&&c!==ne.ABORTED})(s.code)){const o=i.Ta.shift();to(i).B_(),await AN(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s))),await bu(i)}})(n,e),IN(n)&&RN(n)}async function sA(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),pe(Tl,"RemoteStore received new credentials");const i=ho(t);t.Ea.add(3),await _u(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Kd(t)}async function n_(n,e){const t=xe(n);e?(t.Ea.delete(2),await Kd(t)):e||(t.Ea.add(2),await _u(t),t.Va.set("Unknown"))}function wu(n){return n.ma||(n.ma=(function(t,i,s){const o=xe(t);return o.sa(),new iU(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:uU.bind(null,n),Yo:hU.bind(null,n),t_:dU.bind(null,n),J_:fU.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Nb(n)?Cb(n):n.Va.set("Unknown")):(await n.ma.stop(),SN(n))}))),n.ma}function to(n){return n.fa||(n.fa=(function(t,i,s){const o=xe(t);return o.sa(),new rU(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:gU.bind(null,n),t_:_U.bind(null,n),ta:yU.bind(null,n),na:vU.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await bu(n)):(await n.fa.stop(),n.Ta.length>0&&(pe(Tl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Db{constructor(e,t,i,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,o){const c=Date.now()+i,h=new Db(e,t,c,s,o);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tu(n,e){if(an("AsyncQueue",`${e}: ${n}`),co(n))return new de(ne.UNAVAILABLE,`${e}: ${n}`);throw n}class ul{static emptySet(e){return new ul(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=Hh(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ul)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ul;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class aA{constructor(){this.ga=new kt(we.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class xl{constructor(e,t,i,s,o,c,h,d,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,i,s,o){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new xl(e,t,ul.emptySet(t),c,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}class bU{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class wU{constructor(){this.queries=oA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const s=xe(t),o=s.queries;s.queries=oA(),o.forEach(((c,h)=>{for(const d of h.ba)d.onError(i)}))})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function oA(){return new Hs((n=>y2(n)),Fd)}async function kb(n,e){const t=xe(n);let i=3;const s=e.query;let o=t.queries.get(s);o?!o.Sa()&&e.Da()&&(i=2):(o=new bU,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const h=Tu(c,`Initialization of query '${Sc(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Vb(t)}async function Pb(n,e){const t=xe(n),i=e.query;let s=3;const o=t.queries.get(i);if(o){const c=o.ba.indexOf(e);c>=0&&(o.ba.splice(c,1),o.ba.length===0?s=e.Da()?0:1:!o.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function TU(n,e){const t=xe(n);let i=!1;for(const s of e){const o=s.query,c=t.queries.get(o);if(c){for(const h of c.ba)h.Fa(s)&&(i=!0);c.wa=s}}i&&Vb(t)}function xU(n,e,t){const i=xe(n),s=i.queries.get(e);if(s)for(const o of s.ba)o.onError(t);i.queries.delete(e)}function Vb(n){n.Ca.forEach((e=>{e.next()}))}var i_,lA;(lA=i_||(i_={})).Ma="default",lA.Cache="cache";class Mb{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new xl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==i_.Cache}}class CN{constructor(e,t){this.qa=e,this.byteLength=t}Ua(){return"metadata"in this.qa}}class cA{constructor(e){this.serializer=e}Ks(e){return Jr(this.serializer,e)}qs(e){return e.metadata.exists?yg(this.serializer,e.document,!1):Mt.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return on(e)}}class Ob{constructor(e,t){this.$a=e,this.serializer=t,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=NN(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++t;const i=We.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,i=new cA(this.serializer);for(const s of e)if(s.metadata.queries){const o=i.Ks(s.metadata.name);for(const c of s.metadata.queries){const h=(t.get(c)||Fe()).add(o);t.set(c,h)}}return t}async ja(e){const t=await W6(e,new cA(this.serializer),this.Qa,this.$a.id),i=this.za(this.documents);for(const s of this.Wa)await X6(e,s,i.get(s.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:t}}}function NN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class DN{constructor(e){this.key=e}}class kN{constructor(e){this.key=e}}class PN{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.eu=_2(e),this.tu=new ul(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new aA,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=s,h=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,v)=>{const w=s.get(g),E=qd(this.query,v)?v:null,R=!!w&&this.mutatedKeys.has(w.key),k=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let C=!1;w&&E?w.data.isEqual(E.data)?R!==k&&(i.track({type:3,doc:E}),C=!0):this.su(w,E)||(i.track({type:2,doc:E}),C=!0,(d&&this.eu(E,d)>0||f&&this.eu(E,f)<0)&&(h=!0)):!w&&E?(i.track({type:0,doc:E}),C=!0):w&&!E&&(i.track({type:1,doc:w}),C=!0,(d||f)&&(h=!0)),C&&(E?(c=c.add(E),o=k?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{tu:c,iu:i,Ss:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,v)=>(function(E,R){const k=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:C})}};return k(E)-k(R)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(i),s=s??!1;const h=t&&!s?this._u():[],d=this.Ya.size===0&&this.current&&!s?1:0,f=d!==this.Xa;return this.Xa=d,c.length!==0||f?{snapshot:new xl(this.query,e.tu,o,c,e.mutatedKeys,d===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aA,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new kN(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new DN(i))})),t}cu(e){this.Za=e.ks,this.Ya=Fe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return xl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const fo="SyncEngine";class EU{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class SU{constructor(e){this.key=e,this.hu=!1}}class AU{constructor(e,t,i,s,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Hs((h=>y2(h)),Fd),this.Iu=new Map,this.Eu=new Set,this.Ru=new kt(we.comparator),this.Au=new Map,this.Vu=new bb,this.du={},this.mu=new Map,this.fu=wl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function IU(n,e,t=!0){const i=Eg(n);let s;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await VN(i,e,t,!0),s}async function RU(n,e){const t=Eg(n);await VN(t,e,!0,!1)}async function VN(n,e,t,i){const s=await tu(n.localStore,Kn(e)),o=s.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let h;return i&&(h=await Lb(n,e,o,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&xg(n.remoteStore,s),h}async function Lb(n,e,t,i,s){n.pu=(v,w,E)=>(async function(k,C,B,H){let F=C.view.ru(B);F.Ss&&(F=await kp(k.localStore,C.query,!1).then((({documents:N})=>C.view.ru(N,F))));const $=H&&H.targetChanges.get(C.targetId),ie=H&&H.targetMismatches.get(C.targetId)!=null,le=C.view.applyChanges(F,k.isPrimaryClient,$,ie);return r_(k,C.targetId,le.au),le.snapshot})(n,v,w,E);const o=await kp(n.localStore,e,!0),c=new PN(e,o.ks),h=c.ru(o.documents),d=$d.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),f=c.applyChanges(h,n.isPrimaryClient,d);r_(n,t,f.au);const g=new EU(e,t,c);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function CU(n,e,t){const i=xe(n),s=i.Tu.get(e),o=i.Iu.get(s.targetId);if(o.length>1)return i.Iu.set(s.targetId,o.filter((c=>!Fd(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await nu(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),t&&iu(i.remoteStore,s.targetId),ru(i,s.targetId)})).catch(lo)):(ru(i,s.targetId),await nu(i.localStore,s.targetId,!0))}async function NU(n,e){const t=xe(n),i=t.Tu.get(e),s=t.Iu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),iu(t.remoteStore,i.targetId))}async function DU(n,e,t){const i=zb(n);try{const s=await(function(c,h){const d=xe(c),f=Ue.now(),g=h.reduce(((E,R)=>E.add(R.key)),Fe());let v,w;return d.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let R=fi(),k=Fe();return d.xs.getEntries(E,g).next((C=>{R=C,R.forEach(((B,H)=>{H.isValidDocument()||(k=k.add(B))}))})).next((()=>d.localDocuments.getOverlayedDocuments(E,R))).next((C=>{v=C;const B=[];for(const H of h){const F=e6(H,v.get(H.key).overlayedDocument);F!=null&&B.push(new $s(H.key,F,a2(F.value.mapValue),Ft.exists(!0)))}return d.mutationQueue.addMutationBatch(E,f,B,h)})).next((C=>{w=C;const B=C.applyToLocalDocumentSet(v,k);return d.documentOverlayCache.saveOverlays(E,C.batchId,B)}))})).then((()=>({batchId:w.batchId,changes:w2(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),(function(c,h,d){let f=c.du[c.currentUser.toKey()];f||(f=new kt(Le)),f=f.insert(h,d),c.du[c.currentUser.toKey()]=f})(i,s.batchId,t),await Ks(i,s.changes),await bu(i.remoteStore)}catch(s){const o=Tu(s,"Failed to persist write");t.reject(o)}}async function MN(n,e){const t=xe(n);try{const i=await Q6(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const c=t.Au.get(o);c&&(De(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?De(c.hu,14607):s.removedDocuments.size>0&&(De(c.hu,42227),c.hu=!1))})),await Ks(t,i,e)}catch(i){await lo(i)}}function uA(n,e,t){const i=xe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&s.push(h.snapshot)})),(function(c,h){const d=xe(c);d.onlineState=h;let f=!1;d.queries.forEach(((g,v)=>{for(const w of v.ba)w.va(h)&&(f=!0)})),f&&Vb(d)})(i.eventManager,e),s.length&&i.Pu.J_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function kU(n,e,t){const i=xe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Au.get(e),o=s&&s.key;if(o){let c=new kt(we.comparator);c=c.insert(o,Mt.newNoDocument(o,Ve.min()));const h=Fe().add(o),d=new Hd(Ve.min(),new Map,new kt(Le),c,h);await MN(i,d),i.Ru=i.Ru.remove(o),i.Au.delete(e),Bb(i)}else await nu(i.localStore,e,!1).then((()=>ru(i,e,t))).catch(lo)}async function PU(n,e){const t=xe(n),i=e.batch.batchId;try{const s=await K6(t.localStore,e);Ub(t,i,null),jb(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ks(t,s)}catch(s){await lo(s)}}async function VU(n,e,t){const i=xe(n);try{const s=await(function(c,h){const d=xe(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return d.mutationQueue.lookupMutationBatch(f,h).next((v=>(De(v!==null,37113),g=v.keys(),d.mutationQueue.removeMutationBatch(f,v)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>d.localDocuments.getDocuments(f,g)))}))})(i.localStore,e);Ub(i,e,t),jb(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ks(i,s)}catch(s){await lo(s)}}async function MU(n,e){const t=xe(n);ho(t.remoteStore)||pe(fo,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=await(function(c){const h=xe(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(d=>h.mutationQueue.getHighestUnacknowledgedBatchId(d)))})(t.localStore);if(i===Qa)return void e.resolve();const s=t.mu.get(i)||[];s.push(e),t.mu.set(i,s)}catch(i){const s=Tu(i,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}function jb(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Ub(n,e,t){const i=xe(n);let s=i.du[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),i.du[i.currentUser.toKey()]=s}}function ru(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((i=>{n.Vu.containsKey(i)||ON(n,i)}))}function ON(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(iu(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Bb(n))}function r_(n,e,t){for(const i of t)i instanceof DN?(n.Vu.addReference(i.key,e),OU(n,i)):i instanceof kN?(pe(fo,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,e),n.Vu.containsKey(i.key)||ON(n,i.key)):Ee(19791,{wu:i})}function OU(n,e){const t=e.key,i=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(i)||(pe(fo,"New document in limbo: "+t),n.Eu.add(i),Bb(n))}function Bb(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new we(We.fromString(e)),i=n.fu.next();n.Au.set(i,new SU(t)),n.Ru=n.Ru.insert(t,i),xg(n.remoteStore,new ks(Kn(gu(t.path)),i,"TargetPurposeLimboResolution",hi.ce))}}async function Ks(n,e,t){const i=xe(n),s=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,d)=>{c.push(i.pu(d,e,t).then((f=>{if((f||t)&&i.isPrimaryClient){const g=f?!f.fromCache:t?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){s.push(f);const g=Eb.Es(d.targetId,f);o.push(g)}})))})),await Promise.all(c),i.Pu.J_(s),await(async function(d,f){const g=xe(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>X.forEach(f,(w=>X.forEach(w.Ts,(E=>g.persistence.referenceDelegate.addReference(v,w.targetId,E))).next((()=>X.forEach(w.Is,(E=>g.persistence.referenceDelegate.removeReference(v,w.targetId,E)))))))))}catch(v){if(!co(v))throw v;pe(Sb,"Failed to update sequence numbers: "+v)}for(const v of f){const w=v.targetId;if(!v.fromCache){const E=g.vs.get(w),R=E.snapshotVersion,k=E.withLastLimboFreeSnapshotVersion(R);g.vs=g.vs.insert(w,k)}}})(i.localStore,o))}async function LU(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){pe(fo,"User change. New user:",e.toKey());const i=await dN(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new de(ne.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ks(t,i.Ns)}}function jU(n,e){const t=xe(n),i=t.Au.get(e);if(i&&i.hu)return Fe().add(i.key);{let s=Fe();const o=t.Iu.get(e);if(!o)return s;for(const c of o){const h=t.Tu.get(c);s=s.unionWith(h.view.nu)}return s}}async function UU(n,e){const t=xe(n),i=await kp(t.localStore,e.query,!0),s=e.view.cu(i);return t.isPrimaryClient&&r_(t,e.targetId,s.au),s}async function BU(n,e){const t=xe(n);return gN(t.localStore,e).then((i=>Ks(t,i)))}async function zU(n,e,t,i){const s=xe(n),o=await(function(h,d){const f=xe(h),g=xe(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",(v=>g.Xn(v,d).next((w=>w?f.localDocuments.getDocuments(v,w):X.resolve(null)))))})(s.localStore,e);o!==null?(t==="pending"?await bu(s.remoteStore):t==="acknowledged"||t==="rejected"?(Ub(s,e,i||null),jb(s,e),(function(h,d){xe(xe(h).mutationQueue).nr(d)})(s.localStore,e)):Ee(6720,"Unknown batchState",{bu:t}),await Ks(s,o)):pe(fo,"Cannot apply mutation batch with id: "+e)}async function FU(n,e){const t=xe(n);if(Eg(t),zb(t),e===!0&&t.gu!==!0){const i=t.sharedClientState.getAllActiveQueryTargets(),s=await hA(t,i.toArray());t.gu=!0,await n_(t.remoteStore,!0);for(const o of s)xg(t.remoteStore,o)}else if(e===!1&&t.gu!==!1){const i=[];let s=Promise.resolve();t.Iu.forEach(((o,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):s=s.then((()=>(ru(t,c),nu(t.localStore,c,!0)))),iu(t.remoteStore,c)})),await s,await hA(t,i),(function(c){const h=xe(c);h.Au.forEach(((d,f)=>{iu(h.remoteStore,f)})),h.Vu.zr(),h.Au=new Map,h.Ru=new kt(we.comparator)})(t),t.gu=!1,await n_(t.remoteStore,!1)}}async function hA(n,e,t){const i=xe(n),s=[],o=[];for(const c of e){let h;const d=i.Iu.get(c);if(d&&d.length!==0){h=await tu(i.localStore,Kn(d[0]));for(const f of d){const g=i.Tu.get(f),v=await UU(i,g);v.snapshot&&o.push(v.snapshot)}}else{const f=await pN(i.localStore,c);h=await tu(i.localStore,f),await Lb(i,LN(f),c,!1,h.resumeToken)}s.push(h)}return i.Pu.J_(o),s}function LN(n){return m2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function qU(n){return(function(t){return xe(xe(t).persistence).hs()})(xe(n).localStore)}async function GU(n,e,t,i){const s=xe(n);if(s.gu)return void pe(fo,"Ignoring unexpected query state notification.");const o=s.Iu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const c=await gN(s.localStore,v2(o[0])),h=Hd.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Kt.EMPTY_BYTE_STRING);await Ks(s,c,h);break}case"rejected":await nu(s.localStore,e,!0),ru(s,e,i);break;default:Ee(64155,t)}}async function HU(n,e,t){const i=Eg(n);if(i.gu){for(const s of e){if(i.Iu.has(s)&&i.sharedClientState.isActiveQueryTarget(s)){pe(fo,"Adding an already active target "+s);continue}const o=await pN(i.localStore,s),c=await tu(i.localStore,o);await Lb(i,LN(o),c.targetId,!1,c.resumeToken),xg(i.remoteStore,c)}for(const s of t)i.Iu.has(s)&&await nu(i.localStore,s,!1).then((()=>{iu(i.remoteStore,s),ru(i,s)})).catch(lo)}}function Eg(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=MN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kU.bind(null,e),e.Pu.J_=TU.bind(null,e.eventManager),e.Pu.yu=xU.bind(null,e.eventManager),e}function zb(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VU.bind(null,e),e}function $U(n,e,t){const i=xe(n);(async function(o,c,h){try{const d=await c.getMetadata();if(await(function(E,R){const k=xe(E),C=on(R.createTime);return k.persistence.runTransaction("hasNewerBundle","readonly",(B=>k.Pi.getBundleMetadata(B,R.id))).then((B=>!!B&&B.createTime.compareTo(C)>=0))})(o.localStore,d))return await c.close(),h._completeWith((function(E){return{taskState:"Success",documentsLoaded:E.totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}})(d)),Promise.resolve(new Set);h._updateProgress(NN(d));const f=new Ob(d,c.serializer);let g=await c.Su();for(;g;){const w=await f.Ga(g);w&&h._updateProgress(w),g=await c.Su()}const v=await f.ja(o.localStore);return await Ks(o,v.Ja,void 0),await(function(E,R){const k=xe(E);return k.persistence.runTransaction("Save bundle","readwrite",(C=>k.Pi.saveBundleMetadata(C,R)))})(o.localStore,d),h._completeWith(v.progress),Promise.resolve(v.Ha)}catch(d){return Di(fo,`Loading bundle failed with ${d}`),h._failWith(d),Promise.resolve(new Set)}})(i,e,t).then((s=>{i.sharedClientState.notifyBundleLoaded(s)}))}class su{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Al(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return hN(this.persistence,new uN,e.initialUser,this.serializer)}Cu(e){return new wb(Tg.Vi,this.serializer)}Du(e){return new wN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}su.provider={build:()=>new su};class Fb extends su{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){De(this.persistence.referenceDelegate instanceof Dp,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new rN(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new wb((i=>Dp.Vi(i,t)),this.serializer)}}class qb extends su{constructor(e,t,i){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await zb(this.xu.syncEngine),await bu(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return hN(this.persistence,new uN,e.initialUser,this.serializer)}Fu(e,t){const i=this.persistence.referenceDelegate.garbageCollector;return new rN(i,e.asyncQueue,t)}Mu(e,t){const i=new Zj(t,this.persistence);return new Jj(e.asyncQueue,i)}Cu(e){const t=xb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new Tb(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,TN(),ip(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new wN}}class jN extends qb{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof Xv&&(this.sharedClientState.syncEngine={So:zU.bind(null,t),Do:GU.bind(null,t),Co:HU.bind(null,t),hs:qU.bind(null,t),bo:BU.bind(null,t)},await this.sharedClientState.start()),await this.persistence.zi((async i=>{await FU(this.xu.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))}Du(e){const t=TN();if(!Xv.v(t))throw new de(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=xb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xv(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class no{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>uA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=LU.bind(null,this.syncEngine),await n_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wU})()}createDatastore(e){const t=Al(e.databaseInfo.databaseId),i=nU(e.databaseInfo);return oU(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,s,o,c,h){return new cU(i,s,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>uA(this.syncEngine,t,0)),(function(){return iA.v()?new iA:new J6})())}createSyncEngine(e,t){return(function(s,o,c,h,d,f,g){const v=new AU(s,o,c,h,d,f);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=xe(t);pe(Tl,"RemoteStore shutting down."),i.Ea.add(5),await _u(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}no.provider={build:()=>new no};function dA(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class Sg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):an("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class KU{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new Nn,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((i=>{i&&i.Ua()?this.metadata.resolve(i.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.qa)}`))}),(i=>this.metadata.reject(i)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.Ku();if(e===null)return null;const t=this.Lu.decode(e),i=Number(t);isNaN(i)&&this.qu(`length string (${t}) is not valid number`);const s=await this.Uu(i);return new CN(JSON.parse(s),e.length+i)}$u(){return this.buffer.findIndex((e=>e===123))}async Ku(){for(;this.$u()<0&&!await this.Wu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Wu(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class QU{constructor(e,t){this.bundleData=e,this.serializer=t,this.cursor=0,this.elements=[];let i=this.Su();if(!i||!i.Ua())throw new Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(i?.qa)}`);this.metadata=i;do i=this.Su(),i!==null&&this.elements.push(i);while(i!==null)}getMetadata(){return this.metadata}Qu(){return this.elements}Su(){if(this.cursor===this.bundleData.length)return null;const e=this.Ku(),t=this.Uu(e);return new CN(JSON.parse(t),e)}Uu(e){if(this.cursor+e>this.bundleData.length)throw new de(ne.INTERNAL,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=e)}Ku(){const e=this.cursor;let t=this.cursor;for(;t<this.bundleData.length;){if(this.bundleData[t]==="{"){if(t===e)throw new Error("First character is a bracket and not a number");return this.cursor=t,Number(this.bundleData.slice(e,t))}t++}throw new Error("Reached the end of bundle when more is expected.")}}let YU=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new de(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(s,o){const c=xe(s),h={documents:o.map((v=>Ed(c.serializer,v)))},d=await c.jo("BatchGetDocuments",c.serializer.databaseId,We.emptyPath(),h,o.length),f=new Map;d.forEach((v=>{const w=u6(c.serializer,v);f.set(w.key.toString(),w)}));const g=[];return o.forEach((v=>{const w=f.get(v.toString());De(!!w,55234,{key:v}),g.push(w)})),g})(this.datastore,e);return t.forEach((i=>this.recordVersion(i))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new vu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,i)=>{const s=we.fromPath(i);this.mutations.push(new db(s,this.precondition(s)))})),await(async function(i,s){const o=xe(i),c={writes:s.map((h=>Sd(o.serializer,h)))};await o.Wo("Commit",o.serializer.databaseId,We.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ee(50498,{Gu:e.constructor.name});t=Ve.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new de(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ve.min())?Ft.exists(!1):Ft.updateTime(t):Ft.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ve.min()))throw new de(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ft.updateTime(t)}return Ft.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};class WU{constructor(e,t,i,s,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=s,this.deferred=o,this.zu=i.maxAttempts,this.M_=new Ib(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new YU(this.datastore),t=this.Ju(e);t&&t.then((i=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(i)})).catch((s=>{this.Zu(s)}))))})).catch((i=>{this.Zu(i)}))}))}Ju(e){try{const t=this.updateFunction(e);return!Ud(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!k2(t)}return!1}}const io="FirestoreClient";class XU{constructor(e,t,i,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=s,this.user=Rn.UNAUTHENTICATED,this.clientId=ag.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{pe(io,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(pe(io,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Tu(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Zv(n,e){n.asyncQueue.verifyOperationInProgress(),pe(io,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async s=>{i.isEqual(s)||(await dN(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function fA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Gb(n);pe(io,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>sA(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,s)=>sA(e.remoteStore,s))),n._onlineComponents=e}async function Gb(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(io,"Using user provided OfflineComponentProvider");try{await Zv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Di("Error using user provided cache. Falling back to memory cache: "+t),await Zv(n,new su)}}else pe(io,"Using default OfflineComponentProvider"),await Zv(n,new Fb(void 0));return n._offlineComponents}async function Ag(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(io,"Using user provided OnlineComponentProvider"),await fA(n,n._uninitializedComponentsProvider._online)):(pe(io,"Using default OnlineComponentProvider"),await fA(n,new no))),n._onlineComponents}function UN(n){return Gb(n).then((e=>e.persistence))}function xu(n){return Gb(n).then((e=>e.localStore))}function BN(n){return Ag(n).then((e=>e.remoteStore))}function Hb(n){return Ag(n).then((e=>e.syncEngine))}function zN(n){return Ag(n).then((e=>e.datastore))}async function au(n){const e=await Ag(n),t=e.eventManager;return t.onListen=IU.bind(null,e.syncEngine),t.onUnlisten=CU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=RU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=NU.bind(null,e.syncEngine),t}function JU(n){return n.asyncQueue.enqueue((async()=>{const e=await UN(n),t=await BN(n);return e.setNetworkEnabled(!0),(function(s){const o=xe(s);return o.Ea.delete(0),Kd(o)})(t)}))}function ZU(n){return n.asyncQueue.enqueue((async()=>{const e=await UN(n),t=await BN(n);return e.setNetworkEnabled(!1),(async function(s){const o=xe(s);o.Ea.add(0),await _u(o),o.Va.set("Offline")})(t)}))}function eB(n,e,t,i){const s=new Sg(i),o=new Mb(e,s,t);return n.asyncQueue.enqueueAndForget((async()=>kb(await au(n),o))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>Pb(await au(n),o)))}}function tB(n,e){const t=new Nn;return n.asyncQueue.enqueueAndForget((async()=>(async function(s,o,c){try{const h=await(function(f,g){const v=xe(f);return v.persistence.runTransaction("read document","readonly",(w=>v.localDocuments.getDocument(w,g)))})(s,o);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new de(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const d=Tu(h,`Failed to get document '${o} from cache`);c.reject(d)}})(await xu(n),e,t))),t.promise}function FN(n,e,t={}){const i=new Nn;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,d,f){const g=new Sg({next:w=>{g.Nu(),c.enqueueAndForget((()=>Pb(o,v)));const E=w.docs.has(h);!E&&w.fromCache?f.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&w.fromCache&&d&&d.source==="server"?f.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(w)},error:w=>f.reject(w)}),v=new Mb(gu(h.path),g,{includeMetadataChanges:!0,Ka:!0});return kb(o,v)})(await au(n),n.asyncQueue,e,t,i))),i.promise}function nB(n,e){const t=new Nn;return n.asyncQueue.enqueueAndForget((async()=>(async function(s,o,c){try{const h=await kp(s,o,!0),d=new PN(o,h.ks),f=d.ru(h.documents),g=d.applyChanges(f,!1);c.resolve(g.snapshot)}catch(h){const d=Tu(h,`Failed to execute query '${o} against cache`);c.reject(d)}})(await xu(n),e,t))),t.promise}function qN(n,e,t={}){const i=new Nn;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,d,f){const g=new Sg({next:w=>{g.Nu(),c.enqueueAndForget((()=>Pb(o,v))),w.fromCache&&d.source==="server"?f.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(w)},error:w=>f.reject(w)}),v=new Mb(h,g,{includeMetadataChanges:!0,Ka:!0});return kb(o,v)})(await au(n),n.asyncQueue,e,t,i))),i.promise}function iB(n,e,t){const i=new Nn;return n.asyncQueue.enqueueAndForget((async()=>{try{const s=await zN(n);i.resolve((async function(c,h,d){const f=xe(c),{request:g,gt:v,parent:w}=q2(f.serializer,p2(h),d);f.connection.Ko||delete g.parent;const E=(await f.jo("RunAggregationQuery",f.serializer.databaseId,w,g,1)).filter((k=>!!k.result));De(E.length===1,64727);const R=E[0].result?.aggregateFields;return Object.keys(R).reduce(((k,C)=>(k[v[C]]=R[C],k)),{})})(s,e,t))}catch(s){i.reject(s)}})),i.promise}function rB(n,e){const t=new Nn;return n.asyncQueue.enqueueAndForget((async()=>DU(await Hb(n),e,t))),t.promise}function sB(n,e){const t=new Sg(e);return n.asyncQueue.enqueueAndForget((async()=>(function(s,o){xe(s).Ca.add(o),o.next()})(await au(n),t))),()=>{t.Nu(),n.asyncQueue.enqueueAndForget((async()=>(function(s,o){xe(s).Ca.delete(o)})(await au(n),t)))}}function aB(n,e,t){const i=new Nn;return n.asyncQueue.enqueueAndForget((async()=>{const s=await zN(n);new WU(n.asyncQueue,s,t,e,i).ju()})),i.promise}function oB(n,e,t,i){const s=(function(c,h){let d;return d=typeof c=="string"?V2().encode(c):c,(function(g,v){return new KU(g,v)})((function(g,v){if(g instanceof Uint8Array)return dA(g,v);if(g instanceof ArrayBuffer)return dA(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(d),h)})(t,Al(e));n.asyncQueue.enqueueAndForget((async()=>{$U(await Hb(n),s,i)}))}function lB(n,e){return n.asyncQueue.enqueue((async()=>(function(i,s){const o=xe(i);return o.persistence.runTransaction("Get named query","readonly",(c=>o.Pi.getNamedQuery(c,s)))})(await xu(n),e)))}function GN(n,e){return(function(i,s){return new QU(i,s)})(n,e)}function cB(n,e){return n.asyncQueue.enqueue((async()=>(async function(i,s){const o=xe(i),c=o.indexManager,h=[];return o.persistence.runTransaction("Configure indexes","readwrite",(d=>c.getFieldIndexes(d).next((f=>(function(v,w,E,R,k){v=[...v],w=[...w],v.sort(E),w.sort(E);const C=v.length,B=w.length;let H=0,F=0;for(;H<B&&F<C;){const $=E(v[F],w[H]);$<0?k(v[F++]):$>0?R(w[H++]):(H++,F++)}for(;H<B;)R(w[H++]);for(;F<C;)k(v[F++])})(f,s,Qj,(g=>{h.push(c.addFieldIndex(d,g))}),(g=>{h.push(c.deleteFieldIndex(d,g))})))).next((()=>X.waitFor(h)))))})(await xu(n),e)))}function uB(n,e){return n.asyncQueue.enqueue((async()=>(function(i,s){xe(i).Cs.As=s})(await xu(n),e)))}function hB(n){return n.asyncQueue.enqueue((async()=>(function(t){const i=xe(t),s=i.indexManager;return i.persistence.runTransaction("Delete All Indexes","readwrite",(o=>s.deleteAllFieldIndexes(o)))})(await xu(n))))}function HN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const dB="ComponentProvider",mA=new Map;function fB(n,e,t,i,s){return new R3(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,HN(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,i)}const $N="firestore.googleapis.com",pA=!0;class gA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$N,this.ssl=pA}else this.host=e.host,this.ssl=e.ssl??pA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Z2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iN)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HN(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qd{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new CC;switch(i.type){case"firstParty":return new zj(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=mA.get(t);i&&(pe(dB,"Removing Datastore"),mA.delete(t),i.terminate())})(this),Promise.resolve()}}function KN(n,e,t,i={}){n=Xe(n,Qd);const s=oo(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;s&&(ng(`https://${h}`),j_("Firestore",!0)),o.host!==$N&&o.host!==h&&Di("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:s,emulatorOptions:i};if(!Sr(d,c)&&(n._setSettings(d),i.mockUserToken)){let f,g;if(typeof i.mockUserToken=="string")f=i.mockUserToken,g=Rn.MOCK_USER;else{f=MR(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Rn(v)}n._authCredentials=new jj(new RC(f,g))}}class xn{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new xn(this.firestore,e,this._query)}}class wt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Sl(t,wt._jsonSchema))return new wt(e,i||null,new we(We.fromString(t.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:vn("string",wt._jsonSchemaVersion),referencePath:vn("string")};class xr extends xn{constructor(e,t,i){super(e,t,gu(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new we(e))}withConverter(e){return new xr(this.firestore,e,this._path)}}function _r(n,e,...t){if(n=It(n),Z_("collection","path",e),n instanceof Qd){const i=We.fromString(e,...t);return rS(i),new xr(n,null,i)}{if(!(n instanceof wt||n instanceof xr))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(We.fromString(e,...t));return rS(i),new xr(n.firestore,null,i)}}function mB(n,e){if(n=Xe(n,Qd),Z_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xn(n,null,(function(i){return new Gs(We.emptyPath(),i)})(e))}function nr(n,e,...t){if(n=It(n),arguments.length===1&&(e=ag.newId()),Z_("doc","path",e),n instanceof Qd){const i=We.fromString(e,...t);return iS(i),new wt(n,null,new we(i))}{if(!(n instanceof wt||n instanceof xr))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(We.fromString(e,...t));return iS(i),new wt(n.firestore,n instanceof xr?n.converter:null,new we(i))}}function pB(n,e){return n=It(n),e=It(e),(n instanceof wt||n instanceof xr)&&(e instanceof wt||e instanceof xr)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function $b(n,e){return n=It(n),e=It(e),n instanceof xn&&e instanceof xn&&n.firestore===e.firestore&&Fd(n._query,e._query)&&n.converter===e.converter}const yA="AsyncQueue";class vA{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ib(this,"async_queue_retry"),this._c=()=>{const i=ip();i&&pe(yA,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=ip();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ip();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Nn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!co(e))throw e;pe(yA,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,an("INTERNAL UNHANDLED ERROR: ",_A(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Db.createAndSchedule(this,e,t,i,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Ee(47125,{Pc:_A(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function _A(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class QN{constructor(){this._progressObserver={},this._taskCompletionResolver=new Nn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const gB=-1;class Rt extends Qd{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new vA,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vA(e),this._firestoreClient=void 0,await e}}}function yB(n,e,t){t||(t=bd);const i=fu(n,"firestore");if(i.isInitialized(t)){const s=i.getImmediate({identifier:t}),o=i.getOptions(t);if(Sr(o,e))return s;throw new de(ne.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new de(ne.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iN)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&oo(e.host)&&ng(e.host),i.initialize({options:e,instanceIdentifier:t})}function YN(n,e){const t=typeof n=="object"?n:z_(),i=typeof n=="string"?n:e||bd,s=fu(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=kR("firestore");o&&KN(s,...o)}return s}function Gt(n){if(n._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||WN(n),n._firestoreClient}function WN(n){const e=n._freezeSettings(),t=fB(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new XU(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}function vB(n,e){Di("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return XN(n,no.provider,{build:i=>new qb(i,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function _B(n){Di("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();XN(n,no.provider,{build:t=>new jN(t,e.cacheSizeBytes)})}function XN(n,e,t){if((n=Xe(n,Rt))._firestoreClient||n._terminated)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new de(ne.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},WN(n)}function bB(n){if(n._initialized&&!n._terminated)throw new de(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Nn;return n._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(i){if(!Xr.v())return Promise.resolve();const s=i+cN;await Xr.delete(s)})(xb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function wB(n){return(function(t){const i=new Nn;return t.asyncQueue.enqueueAndForget((async()=>MU(await Hb(t),i))),i.promise})(Gt(n=Xe(n,Rt)))}function TB(n){return JU(Gt(n=Xe(n,Rt)))}function xB(n){return ZU(Gt(n=Xe(n,Rt)))}function EB(n){return _5(n.app,"firestore",n._databaseId.database),n._delete()}function s_(n,e){const t=Gt(n=Xe(n,Rt)),i=new QN;return oB(t,n._databaseId,e,i),i}function JN(n,e){return lB(Gt(n=Xe(n,Rt)),e).then((t=>t?new xn(n,null,t.query):null))}class ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ui(Kt.fromBase64String(e))}catch(t){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ui(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sl(e,ui._jsonSchema))return ui.fromBase64String(e.bytes)}}ui._jsonSchemaVersion="firestore/bytes/1.0",ui._jsonSchema={type:vn("string",ui._jsonSchemaVersion),bytes:vn("string")};class Il{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function SB(){return new Il(V0)}class mo{constructor(e){this._methodName=e}}class Er{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Er._jsonSchemaVersion}}static fromJSON(e){if(Sl(e,Er._jsonSchema))return new Er(e.latitude,e.longitude)}}Er._jsonSchemaVersion="firestore/geoPoint/1.0",Er._jsonSchema={type:vn("string",Er._jsonSchemaVersion),latitude:vn("number"),longitude:vn("number")};class Ni{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sl(e,Ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ni(e.vectorValues);throw new de(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:vn("string",Ni._jsonSchemaVersion),vectorValues:vn("object")};const AB=/^__.*__$/;class IB{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,t,this.fieldTransforms):new yu(e,this.data,t,this.fieldTransforms)}}class ZN{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new $s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:n})}}class Ig{constructor(e,t,i,s,o,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ig({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Op(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(eD(this.dataSource)&&AB.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class RB{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Al(e)}createContext(e,t,i,s=!1){return new Ig({dataSource:e,methodName:t,targetDoc:i,path:Ot.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rl(n){const e=n._freezeSettings(),t=Al(n._databaseId);return new RB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Rg(n,e,t,i,s,o={}){const c=n.createContext(o.merge||o.mergeFields?2:0,e,t,s);Zb("Data must be an object, but it was:",c,i);const h=iD(i,c);let d,f;if(o.merge)d=new di(c.fieldMask),f=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const w=Fs(e,v,t);if(!c.contains(w))throw new de(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);sD(g,w)||g.push(w)}d=new di(g),f=c.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,f=c.fieldTransforms;return new IB(new Cn(h),d,f)}class Yd extends mo{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yd}}function tD(n,e,t){return new Ig({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Kb extends mo{_toFieldTransform(e){return new Gd(e.path,new Jc)}isEqual(e){return e instanceof Kb}}class Qb extends mo{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=tD(this,e,!0),i=this.Ac.map((o=>Cl(o,t))),s=new yl(i);return new Gd(e.path,s)}isEqual(e){return e instanceof Qb&&Sr(this.Ac,e.Ac)}}class Yb extends mo{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=tD(this,e,!0),i=this.Ac.map((o=>Cl(o,t))),s=new vl(i);return new Gd(e.path,s)}isEqual(e){return e instanceof Yb&&Sr(this.Ac,e.Ac)}}class Wb extends mo{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new Zc(e.serializer,E2(e.serializer,this.Vc));return new Gd(e.path,t)}isEqual(e){return e instanceof Wb&&this.Vc===e.Vc}}function Xb(n,e,t,i){const s=n.createContext(1,e,t);Zb("Data must be an object, but it was:",s,i);const o=[],c=Cn.empty();uo(i,((d,f)=>{const g=ew(e,d,t);f=It(f);const v=s.childContextForFieldPath(g);if(f instanceof Yd)o.push(g);else{const w=Cl(f,v);w!=null&&(o.push(g),c.set(g,w))}}));const h=new di(o);return new ZN(c,h,s.fieldTransforms)}function Jb(n,e,t,i,s,o){const c=n.createContext(1,e,t),h=[Fs(e,i,t)],d=[s];if(o.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)h.push(Fs(e,o[w])),d.push(o[w+1]);const f=[],g=Cn.empty();for(let w=h.length-1;w>=0;--w)if(!sD(f,h[w])){const E=h[w];let R=d[w];R=It(R);const k=c.childContextForFieldPath(E);if(R instanceof Yd)f.push(E);else{const C=Cl(R,k);C!=null&&(f.push(E),g.set(E,C))}}const v=new di(f);return new ZN(g,v,c.fieldTransforms)}function nD(n,e,t,i=!1){return Cl(t,n.createContext(i?4:3,e))}function Cl(n,e){if(rD(n=It(n)))return Zb("Unsupported field value:",e,n),iD(n,e);if(n instanceof mo)return(function(i,s){if(!eD(s.dataSource))throw s.createError(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,s){const o=[];let c=0;for(const h of i){let d=Cl(h,s.childContextForArray(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}})(n,e)}return(function(i,s){if((i=It(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return E2(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Ue.fromDate(i);return{timestampValue:eu(s.serializer,o)}}if(i instanceof Ue){const o=new Ue(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:eu(s.serializer,o)}}if(i instanceof Er)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ui)return{bytesValue:L2(s.serializer,i._byteString)};if(i instanceof wt){const o=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw s.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yb(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Ni)return(function(c,h){const d=c instanceof Ni?c.toArray():c;return{mapValue:{fields:{[ab]:{stringValue:ob},[Yc]:{arrayValue:{values:d.map((g=>{if(typeof g!="number")throw h.createError("VectorValues must only contain numeric values.");return hb(h.serializer,g)}))}}}}}})(i,s);if(Q2(i))return i._toProto(s.serializer);throw s.createError(`Unsupported field value: ${og(i)}`)})(n,e)}function iD(n,e){const t={};return XC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uo(n,((i,s)=>{const o=Cl(s,e.childContextForField(i));o!=null&&(t[i]=o)})),{mapValue:{fields:t}}}function rD(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ue||n instanceof Er||n instanceof ui||n instanceof wt||n instanceof mo||n instanceof Ni||Q2(n))}function Zb(n,e,t){if(!rD(t)||!kC(t)){const i=og(t);throw i==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+i)}}function Fs(n,e,t){if((e=It(e))instanceof Il)return e._internalPath;if(typeof e=="string")return ew(n,e);throw Op("Field path arguments must be of type string or ",n,!1,void 0,t)}const CB=new RegExp("[~\\*/\\[\\]]");function ew(n,e,t){if(e.search(CB)>=0)throw Op(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Il(...e.split("."))._internalPath}catch{throw Op(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Op(n,e,t,i,s){const o=i&&!i.isEmpty(),c=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${i}`),c&&(d+=` in document ${s}`),d+=")"),new de(ne.INVALID_ARGUMENT,h+n+d)}function sD(n,e){return n.some((t=>t.isEqual(e)))}class tw{convertValue(e,t="none"){switch(Ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return uo(e,((s,o)=>{i[s]=this.convertValue(o,t)})),i}convertVectorValue(e){const t=e.fields?.[Yc].arrayValue?.values?.map((i=>zt(i.doubleValue)));return new Ni(t)}convertGeoPoint(e){return new Er(zt(e.latitude),zt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=fg(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(_d(e));default:return null}}convertTimestamp(e){const t=Bs(e);return new Ue(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=We.fromString(e);De(K2(i),9688,{name:e});const s=new Xa(i.get(1),i.get(3)),o=new we(i.popFirst(5));return s.isEqual(t)||an(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class po extends tw{constructor(e){super(),this.firestore=e}convertBytes(e){return new ui(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,t)}}function Lp(){return new Yd("deleteField")}function NB(){return new Kb("serverTimestamp")}function DB(...n){return new Qb("arrayUnion",n)}function kB(...n){return new Yb("arrayRemove",n)}function PB(n){return new Wb("increment",n)}function VB(n){return new Ni(n)}function MB(n){const e=Gt(Xe(n.firestore,Rt)),t=e._onlineComponents?.datastore.serializer;return t===void 0?null:vg(t,Kn(n._query)).ft}function OB(n,e){const t=WC(e,((o,c)=>new D2(c,o.aggregateType,o._internalFieldPath))),i=Gt(Xe(n.firestore,Rt)),s=i._onlineComponents?.datastore.serializer;return s===void 0?null:q2(s,p2(n._query),t,!0).request}const bA="@firebase/firestore",wA="4.10.0";function jc(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class ou{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class aD{constructor(e,t,i){this._userDataWriter=t,this._data=i,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new Cn({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class Ad{constructor(e,t,i,s,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Fs("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class LB extends Ad{data(){return super.data()}}function oD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nw{}class Eu extends nw{}function Fa(n,e,...t){let i=[];e instanceof nw&&i.push(e),i=i.concat(t),(function(o){const c=o.filter((d=>d instanceof Nl)).length,h=o.filter((d=>d instanceof Su)).length;if(c>1||c>0&&h>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const s of i)n=s._apply(n);return n}class Su extends Eu{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Su(e,t,i)}_apply(e){const t=this._parse(e);return cD(e._query,t),new xn(e.firestore,e.converter,H0(e._query,t))}_parse(e){const t=Rl(e.firestore);return(function(o,c,h,d,f,g,v){let w;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){xA(v,g);const R=[];for(const k of v)R.push(TA(d,o,k));w={arrayValue:{values:R}}}else w=TA(d,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||xA(v,g),w=nD(h,c,v,g==="in"||g==="not-in");return it.create(f,g,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Cs(n,e,t){const i=e,s=Fs("where",n);return Su._create(s,i,t)}class Nl extends nw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Nl(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:bt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let c=s;const h=o.getFlattenedFilters();for(const d of h)cD(c,d),c=H0(c,d)})(e._query,t),new xn(e.firestore,e.converter,H0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jB(...n){return n.forEach((e=>uD("or",e))),Nl._create("or",n)}function UB(...n){return n.forEach((e=>uD("and",e))),Nl._create("and",n)}class Cg extends Eu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Cg(e,t)}_apply(e){const t=(function(s,o,c){if(s.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xd(o,c)})(e._query,this._field,this._direction);return new xn(e.firestore,e.converter,z3(e._query,t))}}function BB(n,e="asc"){const t=e,i=Fs("orderBy",n);return Cg._create(i,t)}class Wd extends Eu{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Wd(e,t,i)}_apply(e){return new xn(e.firestore,e.converter,Ip(e._query,this._limit,this._limitType))}}function zB(n){return PC("limit",n),Wd._create("limit",n,"F")}function FB(n){return PC("limitToLast",n),Wd._create("limitToLast",n,"L")}class Xd extends Eu{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Xd(e,t,i)}_apply(e){const t=lD(e,this.type,this._docOrFields,this._inclusive);return new xn(e.firestore,e.converter,F3(e._query,t))}}function qB(...n){return Xd._create("startAt",n,!0)}function GB(...n){return Xd._create("startAfter",n,!1)}class Jd extends Eu{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Jd(e,t,i)}_apply(e){const t=lD(e,this.type,this._docOrFields,this._inclusive);return new xn(e.firestore,e.converter,q3(e._query,t))}}function HB(...n){return Jd._create("endBefore",n,!1)}function $B(...n){return Jd._create("endAt",n,!0)}function lD(n,e,t,i){if(t[0]=It(t[0]),t[0]instanceof Ad)return(function(o,c,h,d,f){if(!d)throw new de(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const v of Oc(o))if(v.field.isKeyField())g.push(pl(c,d.key));else{const w=d.data.field(v.field);if(dg(w))throw new de(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const E=v.field.canonicalString();throw new de(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}g.push(w)}return new eo(g,f)})(n._query,n.firestore._databaseId,e,t[0]._document,i);{const s=Rl(n.firestore);return(function(c,h,d,f,g,v){const w=c.explicitOrderBy;if(g.length>w.length)throw new de(ne.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let R=0;R<g.length;R++){const k=g[R];if(w[R].field.isKeyField()){if(typeof k!="string")throw new de(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof k}`);if(!cb(c)&&k.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${k}' contains a slash.`);const C=c.path.child(We.fromString(k));if(!we.isDocumentKey(C))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const B=new we(C);E.push(pl(h,B))}else{const C=nD(d,f,k);E.push(C)}}return new eo(E,v)})(n._query,n.firestore._databaseId,s,e,t,i)}}function TA(n,e,t){if(typeof(t=It(t))=="string"){if(t==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cb(e)&&t.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(We.fromString(t));if(!we.isDocumentKey(i))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return pl(n,new we(i))}if(t instanceof wt)return pl(n,t._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${og(t)}.`)}function xA(n,e){if(!Array.isArray(n)||n.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cD(n,e){const t=(function(s,o){for(const c of s)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function uD(n,e){if(!(e instanceof Su||e instanceof Nl))throw new de(ne.INVALID_ARGUMENT,`Function ${n}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}function Ng(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class iw extends tw{constructor(e){super(),this.firestore=e}convertBytes(e){return new ui(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,t)}}function KB(n){return new ou("sum",Fs("sum",n))}function QB(n){return new ou("avg",Fs("average",n))}function hD(){return new ou("count")}function YB(n,e){return n instanceof ou&&e instanceof ou&&n.aggregateType===e.aggregateType&&n._internalFieldPath?.canonicalString()===e._internalFieldPath?.canonicalString()}function WB(n,e){return $b(n.query,e.query)&&Sr(n.data(),e.data())}function XB(n){return dD(n,{count:hD()})}function dD(n,e){const t=Xe(n.firestore,Rt),i=Gt(t),s=WC(e,((o,c)=>new D2(c,o.aggregateType,o._internalFieldPath)));return iB(i,n._query,s).then((o=>(function(h,d,f){const g=new po(h);return new aD(d,g,f)})(t,n,o)))}class JB{constructor(e){this.kind="memory",this._onlineComponentProvider=no.provider,this._offlineComponentProvider=e?.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new Fb(void 0)}}toJSON(){return{kind:this.kind}}}class ZB{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=fD(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class ez{constructor(){this.kind="memoryEager",this._offlineComponentProvider=su.provider}toJSON(){return{kind:this.kind}}}class tz{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new Fb(e)}}toJSON(){return{kind:this.kind}}}function nz(){return new ez}function iz(n){return new tz(n?.cacheSizeBytes)}function rz(n){return new JB(n)}function sz(n){return new ZB(n)}class az{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=no.provider,this._offlineComponentProvider={build:t=>new qb(t,e?.cacheSizeBytes,this.forceOwnership)}}}class oz{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=no.provider,this._offlineComponentProvider={build:t=>new jN(t,e?.cacheSizeBytes)}}}function fD(n){return new az(n?.forceOwnership)}function lz(){return new oz}const mD="NOT SUPPORTED";class Ps{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mi extends Ad{constructor(e,t,i,s,o,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Fs("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=mi._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}function cz(n,e,t){if(Sl(e,mi._jsonSchema)){if(e.bundle===mD)throw new de(ne.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const i=Al(n._databaseId),s=GN(e.bundle,i),o=s.t(),c=new Ob(s.getMetadata(),i);for(const g of o)c.o(g);const h=c.documents;if(h.length!==1)throw new de(ne.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${h.length} documents.`);const d=yg(i,h[0].document),f=new we(We.fromString(e.bundleName));return new mi(n,new iw(n),f,d,new Ps(!1,!1),t||null)}}mi._jsonSchemaVersion="firestore/documentSnapshot/1.0",mi._jsonSchema={type:vn("string",mi._jsonSchemaVersion),bundleSource:vn("string","DocumentSnapshot"),bundleName:vn("string"),bundle:vn("string")};class ad extends mi{data(e={}){return super.data(e)}}class pi{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Ps(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new ad(this._firestore,this._userDataWriter,i.key,i,new Ps(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((h=>{const d=new ad(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Ps(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new ad(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Ps(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,g=-1;return h.type!==0&&(f=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),g=c.indexOf(h.doc.key)),{type:hz(h.type),doc:d,oldIndex:f,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ag.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uz(n,e,t){if(Sl(e,pi._jsonSchema)){if(e.bundle===mD)throw new de(ne.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const i=Al(n._databaseId),s=GN(e.bundle,i),o=s.t(),c=new Ob(s.getMetadata(),i);for(const w of o)c.o(w);if(c.queries.length!==1)throw new de(ne.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${c.queries.length} queries.`);const h=_g(c.queries[0].bundledQuery),d=c.documents;let f=new ul;d.map((w=>{const E=yg(i,w.document);f=f.add(E)}));const g=xl.fromInitialDocuments(h,f,Fe(),!1,!1),v=new xn(n,t||null,h);return new pi(n,new iw(n),v,g)}}function hz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:n})}}function dz(n,e){return n instanceof mi&&e instanceof mi?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof pi&&e instanceof pi&&n._firestore===e._firestore&&$b(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}pi._jsonSchemaVersion="firestore/querySnapshot/1.0",pi._jsonSchema={type:vn("string",pi._jsonSchemaVersion),bundleSource:vn("string","QuerySnapshot"),bundleName:vn("string"),bundle:vn("string")};const fz={maxAttempts:5};class pD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Rl(e)}set(e,t,i){this._verifyNotCommitted();const s=qa(e,this._firestore),o=Ng(s.converter,t,i),c=Rg(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,i);return this._mutations.push(c.toMutation(s._key,Ft.none())),this}update(e,t,i,...s){this._verifyNotCommitted();const o=qa(e,this._firestore);let c;return c=typeof(t=It(t))=="string"||t instanceof Il?Jb(this._dataReader,"WriteBatch.update",o._key,t,i,s):Xb(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,Ft.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=qa(e,this._firestore);return this._mutations=this._mutations.concat(new vu(t._key,Ft.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qa(n,e){if((n=It(n)).firestore!==e)throw new de(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class mz{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Rl(e)}get(e){const t=qa(e,this._firestore),i=new iw(this._firestore);return this._transaction.lookup([t._key]).then((s=>{if(!s||s.length!==1)return Ee(24041);const o=s[0];if(o.isFoundDocument())return new Ad(this._firestore,i,o.key,o,t.converter);if(o.isNoDocument())return new Ad(this._firestore,i,t._key,null,t.converter);throw Ee(18433,{doc:o})}))}set(e,t,i){const s=qa(e,this._firestore),o=Ng(s.converter,t,i),c=Rg(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,c),this}update(e,t,i,...s){const o=qa(e,this._firestore);let c;return c=typeof(t=It(t))=="string"||t instanceof Il?Jb(this._dataReader,"Transaction.update",o._key,t,i,s):Xb(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,c),this}delete(e){const t=qa(e,this._firestore);return this._transaction.delete(t._key),this}}class gD extends mz{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=qa(e,this._firestore),i=new po(this._firestore);return super.get(e).then((s=>new mi(this._firestore,i,t._key,s._document,new Ps(!1,!1),t.converter)))}}function pz(n,e,t){n=Xe(n,Rt);const i={...fz,...t};(function(c){if(c.maxAttempts<1)throw new de(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")})(i);const s=Gt(n);return aB(s,(o=>e(new gD(n,o))),i)}function Au(n){n=Xe(n,wt);const e=Xe(n.firestore,Rt),t=Gt(e);return FN(t,n._key).then((i=>sw(e,n,i)))}function gz(n){n=Xe(n,wt);const e=Xe(n.firestore,Rt),t=Gt(e),i=new po(e);return tB(t,n._key).then((s=>new mi(e,i,n._key,s,new Ps(s!==null&&s.hasLocalMutations,!0),n.converter)))}function yz(n){n=Xe(n,wt);const e=Xe(n.firestore,Rt),t=Gt(e);return FN(t,n._key,{source:"server"}).then((i=>sw(e,n,i)))}function Vs(n){n=Xe(n,xn);const e=Xe(n.firestore,Rt),t=Gt(e),i=new po(e);return oD(n._query),qN(t,n._query).then((s=>new pi(e,i,n,s)))}function vz(n){n=Xe(n,xn);const e=Xe(n.firestore,Rt),t=Gt(e),i=new po(e);return nB(t,n._query).then((s=>new pi(e,i,n,s)))}function _z(n){n=Xe(n,xn);const e=Xe(n.firestore,Rt),t=Gt(e),i=new po(e);return qN(t,n._query,{source:"server"}).then((s=>new pi(e,i,n,s)))}function jp(n,e,t){n=Xe(n,wt);const i=Xe(n.firestore,Rt),s=Ng(n.converter,e,t),o=Rl(i);return Iu(i,[Rg(o,"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Ft.none())])}function Ji(n,e,t,...i){n=Xe(n,wt);const s=Xe(n.firestore,Rt),o=Rl(s);let c;return c=typeof(e=It(e))=="string"||e instanceof Il?Jb(o,"updateDoc",n._key,e,t,i):Xb(o,"updateDoc",n._key,e),Iu(s,[c.toMutation(n._key,Ft.exists(!0))])}function yD(n){return Iu(Xe(n.firestore,Rt),[new vu(n._key,Ft.none())])}function rw(n,e){const t=Xe(n.firestore,Rt),i=nr(n),s=Ng(n.converter,e),o=Rl(n.firestore);return Iu(t,[Rg(o,"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Ft.exists(!1))]).then((()=>i))}function Up(n,...e){n=It(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||jc(e[i])||(t=e[i++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(jc(e[i])){const f=e[i];e[i]=f.next?.bind(f),e[i+1]=f.error?.bind(f),e[i+2]=f.complete?.bind(f)}let o,c,h;if(n instanceof wt)c=Xe(n.firestore,Rt),h=gu(n._key.path),o={next:f=>{e[i]&&e[i](sw(c,n,f))},error:e[i+1],complete:e[i+2]};else{const f=Xe(n,xn);c=Xe(f.firestore,Rt),h=f._query;const g=new po(c);o={next:v=>{e[i]&&e[i](new pi(c,g,f,v))},error:e[i+1],complete:e[i+2]},oD(n._query)}const d=Gt(c);return eB(d,h,s,o)}function bz(n,e,...t){const i=It(n),s=(function(d){const f={bundle:"",bundleName:"",bundleSource:""},g=["bundle","bundleName","bundleSource"];for(const v of g){if(!(v in d)){f.error=`snapshotJson missing required field: ${v}`;break}const w=d[v];if(typeof w!="string"){f.error=`snapshotJson field '${v}' must be a string.`;break}if(w.length===0){f.error=`snapshotJson field '${v}' cannot be an empty string.`;break}v==="bundle"?f.bundle=w:v==="bundleName"?f.bundleName=w:v==="bundleSource"&&(f.bundleSource=w)}return f})(e);if(s.error)throw new de(ne.INVALID_ARGUMENT,s.error);let o,c=0;if(typeof t[c]!="object"||jc(t[c])||(o=t[c++]),s.bundleSource==="QuerySnapshot"){let h=null;if(typeof t[c]=="object"&&jc(t[c])){const d=t[c++];h={next:d.next,error:d.error,complete:d.complete}}else h={next:t[c++],error:t[c++],complete:t[c++]};return(function(f,g,v,w,E){let R,k=!1;return s_(f,g.bundle).then((()=>JN(f,g.bundleName))).then((B=>{B&&!k&&(E&&B.withConverter(E),R=Up(B,v||{},w))})).catch((B=>(w.error&&w.error(B),()=>{}))),()=>{k||(k=!0,R&&R())}})(i,s,o,h,t[c])}if(s.bundleSource==="DocumentSnapshot"){let h=null;if(typeof t[c]=="object"&&jc(t[c])){const d=t[c++];h={next:d.next,error:d.error,complete:d.complete}}else h={next:t[c++],error:t[c++],complete:t[c++]};return(function(f,g,v,w,E){let R,k=!1;return s_(f,g.bundle).then((()=>{if(!k){const B=new wt(f,E||null,we.fromPath(g.bundleName));R=Up(B,v||{},w)}})).catch((B=>(w.error&&w.error(B),()=>{}))),()=>{k||(k=!0,R&&R())}})(i,s,o,h,t[c])}throw new de(ne.INVALID_ARGUMENT,`unsupported bundle source: ${s.bundleSource}`)}function wz(n,e){n=Xe(n,Rt);const t=Gt(n),i=jc(e)?e:{next:e};return sB(t,i)}function Iu(n,e){const t=Gt(n);return rB(t,e)}function sw(n,e,t){const i=t.docs.get(e._key),s=new po(n);return new mi(n,s,e._key,i,new Ps(t.hasPendingWrites,t.fromCache),e.converter)}function Tz(n){return n=Xe(n,Rt),Gt(n),new pD(n,(e=>Iu(n,e)))}function xz(n,e){n=Xe(n,Rt);const t=Gt(n);if(!t._uninitializedComponentsProvider||t._uninitializedComponentsProvider._offline.kind==="memory")return Di("Cannot enable indexes when persistence is disabled"),Promise.resolve();const i=(function(o){const c=typeof o=="string"?(function(f){try{return JSON.parse(f)}catch(g){throw new de(ne.INVALID_ARGUMENT,"Failed to parse JSON: "+g?.message)}})(o):o,h=[];if(Array.isArray(c.indexes))for(const d of c.indexes){const f=EA(d,"collectionGroup"),g=[];if(Array.isArray(d.fields))for(const v of d.fields){const w=EA(v,"fieldPath"),E=ew("setIndexConfiguration",w);v.arrayConfig==="CONTAINS"?g.push(new ll(E,2)):v.order==="ASCENDING"?g.push(new ll(E,0)):v.order==="DESCENDING"&&g.push(new ll(E,1))}h.push(new qc(qc.UNKNOWN_ID,f,g,Gc.empty()))}return h})(e);return cB(t,i)}function EA(n,e){if(typeof n[e]!="string")throw new de(ne.INVALID_ARGUMENT,"Missing string value for: "+e);return n[e]}class vD{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function Ez(n){n=Xe(n,Rt);const e=SA.get(n);if(e)return e;if(Gt(n)._uninitializedComponentsProvider?._offline.kind!=="persistent")return null;const i=new vD(n);return SA.set(n,i),i}function Sz(n){_D(n,!0)}function Az(n){_D(n,!1)}function Iz(n){const e=Gt(n._firestore);hB(e).then((t=>pe("deleting all persistent cache indexes succeeded"))).catch((t=>Di("deleting all persistent cache indexes failed",t)))}function _D(n,e){const t=Gt(n._firestore);uB(t,e).then((i=>pe(`setting persistent cache index auto creation isEnabled=${e} succeeded`))).catch((i=>Di(`setting persistent cache index auto creation isEnabled=${e} failed`,i)))}const SA=new WeakMap;class Rz{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return aw.instance.onExistenceFilterMismatch(e)}}class aw{constructor(){this.i=new Map}static get instance(){return Pm||(Pm=new aw,n6(Pm)),Pm}u(e){this.i.forEach((t=>t(e)))}onExistenceFilterMismatch(e){const t=Symbol(),i=this.i;return i.set(t,e),()=>i.delete(t)}}let Pm=null;(function(e,t=!0){Mj(El),fl(new Ya("firestore",((i,{instanceIdentifier:s,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new Rt(new Uj(i.getProvider("auth-internal")),new Fj(c,i.getProvider("app-check-internal")),C3(c,s),c);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Yr(bA,wA,e),Yr(bA,wA,"esm2020")})();const bD=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:tw,AggregateField:ou,AggregateQuerySnapshot:aD,Bytes:ui,CACHE_SIZE_UNLIMITED:gB,CollectionReference:xr,DocumentReference:wt,DocumentSnapshot:mi,FieldPath:Il,FieldValue:mo,Firestore:Rt,FirestoreError:de,GeoPoint:Er,LoadBundleTask:QN,PersistentCacheIndexManager:vD,Query:xn,QueryCompositeFilterConstraint:Nl,QueryConstraint:Eu,QueryDocumentSnapshot:ad,QueryEndAtConstraint:Jd,QueryFieldFilterConstraint:Su,QueryLimitConstraint:Wd,QueryOrderByConstraint:Cg,QuerySnapshot:pi,QueryStartAtConstraint:Xd,SnapshotMetadata:Ps,Timestamp:Ue,Transaction:gD,VectorValue:Ni,WriteBatch:pD,_AutoId:ag,_ByteString:Kt,_DatabaseId:Xa,_DocumentKey:we,_EmptyAppCheckTokenProvider:qj,_EmptyAuthCredentialsProvider:CC,_FieldPath:Ot,_TestingHooks:Rz,_cast:Xe,_debugAssert:Lj,_internalAggregationQueryToProtoRunAggregationQueryRequest:OB,_internalQueryToProtoQueryTarget:MB,_isBase64Available:A3,_logWarn:Di,_validateIsNotUsedTogether:DC,addDoc:rw,aggregateFieldEqual:YB,aggregateQuerySnapshotEqual:WB,and:UB,arrayRemove:kB,arrayUnion:DB,average:QB,clearIndexedDbPersistence:bB,collection:_r,collectionGroup:mB,connectFirestoreEmulator:KN,count:hD,deleteAllPersistentCacheIndexes:Iz,deleteDoc:yD,deleteField:Lp,disableNetwork:xB,disablePersistentCacheIndexAutoCreation:Az,doc:nr,documentId:SB,documentSnapshotFromJSON:cz,enableIndexedDbPersistence:vB,enableMultiTabIndexedDbPersistence:_B,enableNetwork:TB,enablePersistentCacheIndexAutoCreation:Sz,endAt:$B,endBefore:HB,ensureFirestoreConfigured:Gt,executeWrite:Iu,getAggregateFromServer:dD,getCountFromServer:XB,getDoc:Au,getDocFromCache:gz,getDocFromServer:yz,getDocs:Vs,getDocsFromCache:vz,getDocsFromServer:_z,getFirestore:YN,getPersistentCacheIndexManager:Ez,increment:PB,initializeFirestore:yB,limit:zB,limitToLast:FB,loadBundle:s_,memoryEagerGarbageCollector:nz,memoryLocalCache:rz,memoryLruGarbageCollector:iz,namedQuery:JN,onSnapshot:Up,onSnapshotResume:bz,onSnapshotsInSync:wz,or:jB,orderBy:BB,persistentLocalCache:sz,persistentMultipleTabManager:lz,persistentSingleTabManager:fD,query:Fa,queryEqual:$b,querySnapshotFromJSON:uz,refEqual:pB,runTransaction:pz,serverTimestamp:NB,setDoc:jp,setIndexConfiguration:xz,setLogLevel:Oj,snapshotEqual:dz,startAfter:GB,startAt:qB,sum:KB,terminate:EB,updateDoc:Ji,vector:VB,waitForPendingWrites:wB,where:Cs,writeBatch:Tz},Symbol.toStringTag,{value:"Module"}));const wD="firebasestorage.googleapis.com",Cz="storageBucket",Nz=120*1e3,Dz=600*1e3;class ss extends rs{constructor(e,t,i=0){super(e0(e),`Firebase Storage: ${t} (${e0(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ss.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return e0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ns;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ns||(ns={}));function e0(n){return"storage/"+n}function kz(){const n="An unknown error occurred, please check the error payload for server response.";return new ss(ns.UNKNOWN,n)}function Pz(){return new ss(ns.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Vz(){return new ss(ns.CANCELED,"User canceled the upload/download.")}function Mz(n){return new ss(ns.INVALID_URL,"Invalid URL '"+n+"'.")}function Oz(n){return new ss(ns.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function AA(n){return new ss(ns.INVALID_ARGUMENT,n)}function TD(){return new ss(ns.APP_DELETED,"The Firebase app was deleted.")}function Lz(n){return new ss(ns.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class wr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=wr.makeFromUrl(e,t)}catch{return new wr(e,"")}if(i.path==="")return i;throw Oz(e)}static makeFromUrl(e,t){let i=null;const s="([A-Za-z0-9.\\-_]+)";function o($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+s+c,"i"),d={bucket:1,path:3};function f($){$.path_=decodeURIComponent($.path)}const g="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",E=new RegExp(`^https?://${v}/${g}/b/${s}/o${w}`,"i"),R={bucket:1,path:3},k=t===wD?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",B=new RegExp(`^https?://${k}/${s}/${C}`,"i"),F=[{regex:h,indices:d,postModify:o},{regex:E,indices:R,postModify:f},{regex:B,indices:{bucket:1,path:2},postModify:f}];for(let $=0;$<F.length;$++){const ie=F[$],le=ie.regex.exec(e);if(le){const N=le[ie.indices.bucket];let A=le[ie.indices.path];A||(A=""),i=new wr(N,A),ie.postModify(i);break}}if(i==null)throw Mz(e);return i}}class jz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Uz(n,e,t){let i=1,s=null,o=null,c=!1,h=0;function d(){return h===2}let f=!1;function g(...C){f||(f=!0,e.apply(null,C))}function v(C){s=setTimeout(()=>{s=null,n(E,d())},C)}function w(){o&&clearTimeout(o)}function E(C,...B){if(f){w();return}if(C){w(),g.call(null,C,...B);return}if(d()||c){w(),g.call(null,C,...B);return}i<64&&(i*=2);let F;h===1?(h=2,F=0):F=(i+Math.random())*1e3,v(F)}let R=!1;function k(C){R||(R=!0,w(),!f&&(s!==null?(C||(h=2),clearTimeout(s),v(0)):C||(h=1)))}return v(0),o=setTimeout(()=>{c=!0,k(!0)},t),k}function Bz(n){n(!1)}function zz(n){return n!==void 0}function IA(n,e,t,i){if(i<e)throw AA(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw AA(`Invalid value for '${n}'. Expected ${t} or less.`)}function Fz(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const s=e(i)+"="+e(n[i]);t=t+s+"&"}return t=t.slice(0,-1),t}var Bp;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Bp||(Bp={}));function qz(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||s||o}class Gz{constructor(e,t,i,s,o,c,h,d,f,g,v,w=!0,E=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=v,this.retry=w,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,k)=>{this.resolve_=R,this.reject_=k,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new Vm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const d=h.loaded,f=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===Bp.NO_ERROR,d=o.getStatus();if(!h||qz(d,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Bp.ABORT;i(!1,new Vm(!1,null,g));return}const f=this.successCodes_.indexOf(d)!==-1;i(!0,new Vm(f,o))})},t=(i,s)=>{const o=this.resolve_,c=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());zz(d)?o(d):o()}catch(d){c(d)}else if(h!==null){const d=kz();d.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,d)):c(d)}else if(s.canceled){const d=this.appDelete_?TD():Vz();c(d)}else{const d=Pz();c(d)}};this.canceled_?t(!1,new Vm(!1,null,!0)):this.backoffId_=Uz(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Bz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vm{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function Hz(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function $z(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Kz(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Qz(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Yz(n,e,t,i,s,o,c=!0,h=!1){const d=Fz(n.urlParams),f=n.url+d,g=Object.assign({},n.headers);return Kz(g,e),Hz(g,t),$z(g,o),Qz(g,i),new Gz(f,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,c,h)}function Wz(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Xz(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}class zp{constructor(e,t){this._service=e,t instanceof wr?this._location=t:this._location=wr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new zp(e,t)}get root(){const e=new wr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xz(this._location.path)}get storage(){return this._service}get parent(){const e=Wz(this._location.path);if(e===null)return null;const t=new wr(this._location.bucket,e);return new zp(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Lz(e)}}function RA(n,e){const t=e?.[Cz];return t==null?null:wr.makeFromBucketSpec(t,n)}function Jz(n,e,t,i={}){n.host=`${e}:${t}`;const s=oo(e);s&&(ng(`https://${n.host}/b`),j_("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:MR(o,n.app.options.projectId))}class Zz{constructor(e,t,i,s,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=wD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Nz,this._maxUploadRetryTime=Dz,this._requests=new Set,s!=null?this._bucket=wr.makeFromBucketSpec(s,this._host):this._bucket=RA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wr.makeFromBucketSpec(this._url,e):this._bucket=RA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zp(this,e)}_makeRequest(e,t,i,s,o=!0){if(this._deleted)return new jz(TD());{const c=Yz(e,this._appId,i,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,s).getPromise()}}const CA="@firebase/storage",NA="0.14.0";const xD="storage";function e9(n=z_(),e){n=It(n);const i=fu(n,xD).getImmediate({identifier:e}),s=kR("storage");return s&&t9(i,...s),i}function t9(n,e,t,i={}){Jz(n,e,t,i)}function n9(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Zz(t,i,s,e,El)}function i9(){fl(new Ya(xD,n9,"PUBLIC").setMultipleInstances(!0)),Yr(CA,NA,""),Yr(CA,NA,"esm2020")}i9();const r9={apiKey:"AIzaSyC7IaK8e0JimVT2DeKQovTDLPyufibEu_4",authDomain:"sunsar-bingo.firebaseapp.com",projectId:"sunsar-bingo",storageBucket:"sunsar-bingo.firebasestorage.app",messagingSenderId:"256131852935",appId:"1:256131852935:web:fe514c1e6758e5af252622"},Dg=FR(r9),rp=Pj(Dg),ED=new Rs,sn=YN(Dg);e9(Dg);const s9=Object.freeze(Object.defineProperty({__proto__:null,app:Dg,auth:rp,db:sn,googleProvider:ED},Symbol.toStringTag,{value:"Module"})),SD=V.createContext(void 0),a9=({children:n})=>{const[e,t]=V.useState(null),[i,s]=V.useState(!0),[o,c]=V.useState(null);V.useEffect(()=>{const f=wL(rp,async g=>{if(g){const v={uid:g.uid,email:g.email,displayName:g.displayName,photoURL:g.photoURL};t(v),c(null);try{const{doc:w,setDoc:E,Timestamp:R}=await dp(async()=>{const{doc:C,setDoc:B,Timestamp:H}=await Promise.resolve().then(()=>bD);return{doc:C,setDoc:B,Timestamp:H}},[]),{db:k}=await dp(async()=>{const{db:C}=await Promise.resolve().then(()=>s9);return{db:C}},void 0);await E(w(k,"users",g.uid),{...v,lastSeen:R.now()},{merge:!0})}catch(w){console.error("Error syncing user profile:",w)}}else t(null);s(!1)});return()=>f()},[]);const h=async()=>{c(null);try{await FL(rp,ED)}catch(f){c(f.message||"Failed to sign in")}},d=async()=>{await TL(rp)};return _.jsx(SD.Provider,{value:{user:e,loading:i,signIn:h,logout:d,error:o},children:n})},Dl=()=>{const n=V.useContext(SD);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},ow=V.createContext({});function lw(n){const e=V.useRef(null);return e.current===null&&(e.current=n()),e.current}const AD=typeof window<"u",ID=AD?V.useLayoutEffect:V.useEffect,kg=V.createContext(null);function cw(n,e){n.indexOf(e)===-1&&n.push(e)}function uw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const is=(n,e,t)=>t>e?e:t<n?n:t;let hw=()=>{};const qs={},RD=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function CD(n){return typeof n=="object"&&n!==null}const ND=n=>/^0[^.\s]+$/u.test(n);function dw(n){let e;return()=>(e===void 0&&(e=n()),e)}const ir=n=>n,o9=(n,e)=>t=>e(n(t)),Zd=(...n)=>n.reduce(o9),Id=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class fw{constructor(){this.subscriptions=[]}add(e){return cw(this.subscriptions,e),()=>uw(this.subscriptions,e)}notify(e,t,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,i);else for(let o=0;o<s;o++){const c=this.subscriptions[o];c&&c(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Os=n=>n*1e3,tr=n=>n/1e3;function DD(n,e){return e?n*(1e3/e):0}const kD=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,l9=1e-7,c9=12;function u9(n,e,t,i,s){let o,c,h=0;do c=e+(t-e)/2,o=kD(c,i,s)-n,o>0?t=c:e=c;while(Math.abs(o)>l9&&++h<c9);return c}function ef(n,e,t,i){if(n===e&&t===i)return ir;const s=o=>u9(o,0,1,n,t);return o=>o===0||o===1?o:kD(s(o),e,i)}const PD=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,VD=n=>e=>1-n(1-e),MD=ef(.33,1.53,.69,.99),mw=VD(MD),OD=PD(mw),LD=n=>(n*=2)<1?.5*mw(n):.5*(2-Math.pow(2,-10*(n-1))),pw=n=>1-Math.sin(Math.acos(n)),jD=VD(pw),UD=PD(pw),h9=ef(.42,0,1,1),d9=ef(0,0,.58,1),BD=ef(.42,0,.58,1),f9=n=>Array.isArray(n)&&typeof n[0]!="number",zD=n=>Array.isArray(n)&&typeof n[0]=="number",m9={linear:ir,easeIn:h9,easeInOut:BD,easeOut:d9,circIn:pw,circInOut:UD,circOut:jD,backIn:mw,backInOut:OD,backOut:MD,anticipate:LD},p9=n=>typeof n=="string",DA=n=>{if(zD(n)){hw(n.length===4);const[e,t,i,s]=n;return ef(e,t,i,s)}else if(p9(n))return m9[n];return n},Mm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function g9(n,e){let t=new Set,i=new Set,s=!1,o=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(g){c.has(g)&&(f.schedule(g),n()),g(h)}const f={schedule:(g,v=!1,w=!1)=>{const R=w&&s?t:i;return v&&c.add(g),R.has(g)||R.add(g),g},cancel:g=>{i.delete(g),c.delete(g)},process:g=>{if(h=g,s){o=!0;return}s=!0,[t,i]=[i,t],t.forEach(d),t.clear(),s=!1,o&&(o=!1,f.process(g))}};return f}const y9=40;function FD(n,e){let t=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,c=Mm.reduce((F,$)=>(F[$]=g9(o),F),{}),{setup:h,read:d,resolveKeyframes:f,preUpdate:g,update:v,preRender:w,render:E,postRender:R}=c,k=()=>{const F=qs.useManualTiming?s.timestamp:performance.now();t=!1,qs.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(F-s.timestamp,y9),1)),s.timestamp=F,s.isProcessing=!0,h.process(s),d.process(s),f.process(s),g.process(s),v.process(s),w.process(s),E.process(s),R.process(s),s.isProcessing=!1,t&&e&&(i=!1,n(k))},C=()=>{t=!0,i=!0,s.isProcessing||n(k)};return{schedule:Mm.reduce((F,$)=>{const ie=c[$];return F[$]=(le,N=!1,A=!1)=>(t||C(),ie.schedule(le,N,A)),F},{}),cancel:F=>{for(let $=0;$<Mm.length;$++)c[Mm[$]].cancel(F)},state:s,steps:c}}const{schedule:Lt,cancel:ro,state:Ln,steps:t0}=FD(typeof requestAnimationFrame<"u"?requestAnimationFrame:ir,!0);let sp;function v9(){sp=void 0}const Zn={now:()=>(sp===void 0&&Zn.set(Ln.isProcessing||qs.useManualTiming?Ln.timestamp:performance.now()),sp),set:n=>{sp=n,queueMicrotask(v9)}},qD=n=>e=>typeof e=="string"&&e.startsWith(n),GD=qD("--"),_9=qD("var(--"),gw=n=>_9(n)?b9.test(n.split("/*")[0].trim()):!1,b9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function kA(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Ru={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Rd={...Ru,transform:n=>is(0,1,n)},Om={...Ru,default:1},od=n=>Math.round(n*1e5)/1e5,yw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function w9(n){return n==null}const T9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vw=(n,e)=>t=>!!(typeof t=="string"&&T9.test(t)&&t.startsWith(n)||e&&!w9(t)&&Object.prototype.hasOwnProperty.call(t,e)),HD=(n,e,t)=>i=>{if(typeof i!="string")return i;const[s,o,c,h]=i.match(yw);return{[n]:parseFloat(s),[e]:parseFloat(o),[t]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},x9=n=>is(0,255,n),n0={...Ru,transform:n=>Math.round(x9(n))},sl={test:vw("rgb","red"),parse:HD("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+n0.transform(n)+", "+n0.transform(e)+", "+n0.transform(t)+", "+od(Rd.transform(i))+")"};function E9(n){let e="",t="",i="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const a_={test:vw("#"),parse:E9,transform:sl.transform},tf=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ma=tf("deg"),Zr=tf("%"),Ae=tf("px"),S9=tf("vh"),A9=tf("vw"),PA={...Zr,parse:n=>Zr.parse(n)/100,transform:n=>Zr.transform(n*100)},Rc={test:vw("hsl","hue"),parse:HD("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Zr.transform(od(e))+", "+Zr.transform(od(t))+", "+od(Rd.transform(i))+")"},yn={test:n=>sl.test(n)||a_.test(n)||Rc.test(n),parse:n=>sl.test(n)?sl.parse(n):Rc.test(n)?Rc.parse(n):a_.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?sl.transform(n):Rc.transform(n),getAnimatableNone:n=>{const e=yn.parse(n);return e.alpha=0,yn.transform(e)}},I9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function R9(n){return isNaN(n)&&typeof n=="string"&&(n.match(yw)?.length||0)+(n.match(I9)?.length||0)>0}const $D="number",KD="color",C9="var",N9="var(",VA="${}",D9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cd(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},s=[];let o=0;const h=e.replace(D9,d=>(yn.test(d)?(i.color.push(o),s.push(KD),t.push(yn.parse(d))):d.startsWith(N9)?(i.var.push(o),s.push(C9),t.push(d)):(i.number.push(o),s.push($D),t.push(parseFloat(d))),++o,VA)).split(VA);return{values:t,split:h,indexes:i,types:s}}function QD(n){return Cd(n).values}function YD(n){const{split:e,types:t}=Cd(n),i=e.length;return s=>{let o="";for(let c=0;c<i;c++)if(o+=e[c],s[c]!==void 0){const h=t[c];h===$D?o+=od(s[c]):h===KD?o+=yn.transform(s[c]):o+=s[c]}return o}}const k9=n=>typeof n=="number"?0:yn.test(n)?yn.getAnimatableNone(n):n;function P9(n){const e=QD(n);return YD(n)(e.map(k9))}const so={test:R9,parse:QD,createTransformer:YD,getAnimatableNone:P9};function i0(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function V9({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let s=0,o=0,c=0;if(!e)s=o=c=t;else{const h=t<.5?t*(1+e):t+e-t*e,d=2*t-h;s=i0(d,h,n+1/3),o=i0(d,h,n),c=i0(d,h,n-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:i}}function Fp(n,e){return t=>t>0?e:n}const $t=(n,e,t)=>n+(e-n)*t,r0=(n,e,t)=>{const i=n*n,s=t*(e*e-i)+i;return s<0?0:Math.sqrt(s)},M9=[a_,sl,Rc],O9=n=>M9.find(e=>e.test(n));function MA(n){const e=O9(n);if(!e)return!1;let t=e.parse(n);return e===Rc&&(t=V9(t)),t}const OA=(n,e)=>{const t=MA(n),i=MA(e);if(!t||!i)return Fp(n,e);const s={...t};return o=>(s.red=r0(t.red,i.red,o),s.green=r0(t.green,i.green,o),s.blue=r0(t.blue,i.blue,o),s.alpha=$t(t.alpha,i.alpha,o),sl.transform(s))},o_=new Set(["none","hidden"]);function L9(n,e){return o_.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function j9(n,e){return t=>$t(n,e,t)}function _w(n){return typeof n=="number"?j9:typeof n=="string"?gw(n)?Fp:yn.test(n)?OA:z9:Array.isArray(n)?WD:typeof n=="object"?yn.test(n)?OA:U9:Fp}function WD(n,e){const t=[...n],i=t.length,s=n.map((o,c)=>_w(o)(o,e[c]));return o=>{for(let c=0;c<i;c++)t[c]=s[c](o);return t}}function U9(n,e){const t={...n,...e},i={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(i[s]=_w(n[s])(n[s],e[s]));return s=>{for(const o in i)t[o]=i[o](s);return t}}function B9(n,e){const t=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],c=n.indexes[o][i[o]],h=n.values[c]??0;t[s]=h,i[o]++}return t}const z9=(n,e)=>{const t=so.createTransformer(e),i=Cd(n),s=Cd(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?o_.has(n)&&!s.values.length||o_.has(e)&&!i.values.length?L9(n,e):Zd(WD(B9(i,s),s.values),t):Fp(n,e)};function XD(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?$t(n,e,t):_w(n)(n,e)}const F9=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Lt.update(e,t),stop:()=>ro(e),now:()=>Ln.isProcessing?Ln.timestamp:Zn.now()}},JD=(n,e,t=10)=>{let i="";const s=Math.max(Math.round(e/t),2);for(let o=0;o<s;o++)i+=Math.round(n(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},qp=2e4;function bw(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<qp;)e+=t,i=n.next(e);return e>=qp?1/0:e}function q9(n,e=100,t){const i=t({...n,keyframes:[0,e]}),s=Math.min(bw(i),qp);return{type:"keyframes",ease:o=>i.next(s*o).value/e,duration:tr(s)}}const G9=5;function ZD(n,e,t){const i=Math.max(e-G9,0);return DD(t-n(i),e-i)}const Xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},s0=.001;function H9({duration:n=Xt.duration,bounce:e=Xt.bounce,velocity:t=Xt.velocity,mass:i=Xt.mass}){let s,o,c=1-e;c=is(Xt.minDamping,Xt.maxDamping,c),n=is(Xt.minDuration,Xt.maxDuration,tr(n)),c<1?(s=f=>{const g=f*c,v=g*n,w=g-t,E=l_(f,c),R=Math.exp(-v);return s0-w/E*R},o=f=>{const v=f*c*n,w=v*t+t,E=Math.pow(c,2)*Math.pow(f,2)*n,R=Math.exp(-v),k=l_(Math.pow(f,2),c);return(-s(f)+s0>0?-1:1)*((w-E)*R)/k}):(s=f=>{const g=Math.exp(-f*n),v=(f-t)*n+1;return-s0+g*v},o=f=>{const g=Math.exp(-f*n),v=(t-f)*(n*n);return g*v});const h=5/n,d=K9(s,o,h);if(n=Os(n),isNaN(d))return{stiffness:Xt.stiffness,damping:Xt.damping,duration:n};{const f=Math.pow(d,2)*i;return{stiffness:f,damping:c*2*Math.sqrt(i*f),duration:n}}}const $9=12;function K9(n,e,t){let i=t;for(let s=1;s<$9;s++)i=i-n(i)/e(i);return i}function l_(n,e){return n*Math.sqrt(1-e*e)}const Q9=["duration","bounce"],Y9=["stiffness","damping","mass"];function LA(n,e){return e.some(t=>n[t]!==void 0)}function W9(n){let e={velocity:Xt.velocity,stiffness:Xt.stiffness,damping:Xt.damping,mass:Xt.mass,isResolvedFromDuration:!1,...n};if(!LA(n,Y9)&&LA(n,Q9))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),s=i*i,o=2*is(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:Xt.mass,stiffness:s,damping:o}}else{const t=H9(n);e={...e,...t,mass:Xt.mass},e.isResolvedFromDuration=!0}return e}function Gp(n=Xt.visualDuration,e=Xt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:s}=t;const o=t.keyframes[0],c=t.keyframes[t.keyframes.length-1],h={done:!1,value:o},{stiffness:d,damping:f,mass:g,duration:v,velocity:w,isResolvedFromDuration:E}=W9({...t,velocity:-tr(t.velocity||0)}),R=w||0,k=f/(2*Math.sqrt(d*g)),C=c-o,B=tr(Math.sqrt(d/g)),H=Math.abs(C)<5;i||(i=H?Xt.restSpeed.granular:Xt.restSpeed.default),s||(s=H?Xt.restDelta.granular:Xt.restDelta.default);let F;if(k<1){const ie=l_(B,k);F=le=>{const N=Math.exp(-k*B*le);return c-N*((R+k*B*C)/ie*Math.sin(ie*le)+C*Math.cos(ie*le))}}else if(k===1)F=ie=>c-Math.exp(-B*ie)*(C+(R+B*C)*ie);else{const ie=B*Math.sqrt(k*k-1);F=le=>{const N=Math.exp(-k*B*le),A=Math.min(ie*le,300);return c-N*((R+k*B*C)*Math.sinh(A)+ie*C*Math.cosh(A))/ie}}const $={calculatedDuration:E&&v||null,next:ie=>{const le=F(ie);if(E)h.done=ie>=v;else{let N=ie===0?R:0;k<1&&(N=ie===0?Os(R):ZD(F,ie,le));const A=Math.abs(N)<=i,P=Math.abs(c-le)<=s;h.done=A&&P}return h.value=h.done?c:le,h},toString:()=>{const ie=Math.min(bw($),qp),le=JD(N=>$.next(ie*N).value,ie,30);return ie+"ms "+le},toTransition:()=>{}};return $}Gp.applyToOptions=n=>{const e=q9(n,100,Gp);return n.ease=e.ease,n.duration=Os(e.duration),n.type="keyframes",n};function c_({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:c,min:h,max:d,restDelta:f=.5,restSpeed:g}){const v=n[0],w={done:!1,value:v},E=A=>h!==void 0&&A<h||d!==void 0&&A>d,R=A=>h===void 0?d:d===void 0||Math.abs(h-A)<Math.abs(d-A)?h:d;let k=t*e;const C=v+k,B=c===void 0?C:c(C);B!==C&&(k=B-v);const H=A=>-k*Math.exp(-A/i),F=A=>B+H(A),$=A=>{const P=H(A),L=F(A);w.done=Math.abs(P)<=f,w.value=w.done?B:L};let ie,le;const N=A=>{E(w.value)&&(ie=A,le=Gp({keyframes:[w.value,R(w.value)],velocity:ZD(F,A,w.value),damping:s,stiffness:o,restDelta:f,restSpeed:g}))};return N(0),{calculatedDuration:null,next:A=>{let P=!1;return!le&&ie===void 0&&(P=!0,$(A),N(A)),ie!==void 0&&A>=ie?le.next(A-ie):(!P&&$(A),w)}}}function X9(n,e,t){const i=[],s=t||qs.mix||XD,o=n.length-1;for(let c=0;c<o;c++){let h=s(n[c],n[c+1]);if(e){const d=Array.isArray(e)?e[c]||ir:e;h=Zd(d,h)}i.push(h)}return i}function J9(n,e,{clamp:t=!0,ease:i,mixer:s}={}){const o=n.length;if(hw(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=X9(e,i,s),d=h.length,f=g=>{if(c&&g<n[0])return e[0];let v=0;if(d>1)for(;v<n.length-2&&!(g<n[v+1]);v++);const w=Id(n[v],n[v+1],g);return h[v](w)};return t?g=>f(is(n[0],n[o-1],g)):f}function Z9(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const s=Id(0,e,i);n.push($t(t,1,s))}}function eF(n){const e=[0];return Z9(e,n.length-1),e}function tF(n,e){return n.map(t=>t*e)}function nF(n,e){return n.map(()=>e||BD).splice(0,n.length-1)}function ld({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const s=f9(i)?i.map(DA):DA(i),o={done:!1,value:e[0]},c=tF(t&&t.length===e.length?t:eF(e),n),h=J9(c,e,{ease:Array.isArray(s)?s:nF(e,s)});return{calculatedDuration:n,next:d=>(o.value=h(d),o.done=d>=n,o)}}const iF=n=>n!==null;function ww(n,{repeat:e,repeatType:t="loop"},i,s=1){const o=n.filter(iF),h=s<0||e&&t!=="loop"&&e%2===1?0:o.length-1;return!h||i===void 0?o[h]:i}const rF={decay:c_,inertia:c_,tween:ld,keyframes:ld,spring:Gp};function ek(n){typeof n.type=="string"&&(n.type=rF[n.type])}class Tw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const sF=n=>n/100;class xw extends Tw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Zn.now()&&this.tick(Zn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ek(e);const{type:t=ld,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:c=0}=e;let{keyframes:h}=e;const d=t||ld;d!==ld&&typeof h[0]!="number"&&(this.mixKeyframes=Zd(sF,XD(h[0],h[1])),h=[0,100]);const f=d({...e,keyframes:h});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=bw(f));const{calculatedDuration:g}=f;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:g,repeat:v,repeatType:w,repeatDelay:E,type:R,onUpdate:k,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const B=this.currentTime-f*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?B<0:B>s;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let F=this.currentTime,$=i;if(v){const A=Math.min(this.currentTime,s)/h;let P=Math.floor(A),L=A%1;!L&&A>=1&&(L=1),L===1&&P--,P=Math.min(P,v+1),P%2&&(w==="reverse"?(L=1-L,E&&(L-=E/h)):w==="mirror"&&($=c)),F=is(0,1,L)*h}const ie=H?{done:!1,value:g[0]}:$.next(F);o&&(ie.value=o(ie.value));let{done:le}=ie;!H&&d!==null&&(le=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return N&&R!==c_&&(ie.value=ww(g,this.options,C,this.speed)),k&&k(ie.value),N&&this.finish(),ie}then(e,t){return this.finished.then(e,t)}get duration(){return tr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+tr(e)}get time(){return tr(this.currentTime)}set time(e){e=Os(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Zn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=tr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=F9,startTime:t}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function aF(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const al=n=>n*180/Math.PI,u_=n=>{const e=al(Math.atan2(n[1],n[0]));return h_(e)},oF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:u_,rotateZ:u_,skewX:n=>al(Math.atan(n[1])),skewY:n=>al(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},h_=n=>(n=n%360,n<0&&(n+=360),n),jA=u_,UA=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),BA=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),lF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:UA,scaleY:BA,scale:n=>(UA(n)+BA(n))/2,rotateX:n=>h_(al(Math.atan2(n[6],n[5]))),rotateY:n=>h_(al(Math.atan2(-n[2],n[0]))),rotateZ:jA,rotate:jA,skewX:n=>al(Math.atan(n[4])),skewY:n=>al(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function d_(n){return n.includes("scale")?1:0}function f_(n,e){if(!n||n==="none")return d_(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(t)i=lF,s=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=oF,s=h}if(!s)return d_(e);const o=i[e],c=s[1].split(",").map(uF);return typeof o=="function"?o(c):c[o]}const cF=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return f_(t,e)};function uF(n){return parseFloat(n.trim())}const Cu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nu=new Set(Cu),zA=n=>n===Ru||n===Ae,hF=new Set(["x","y","z"]),dF=Cu.filter(n=>!hF.has(n));function fF(n){const e=[];return dF.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Ga={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>f_(e,"x"),y:(n,{transform:e})=>f_(e,"y")};Ga.translateX=Ga.x;Ga.translateY=Ga.y;const hl=new Set;let m_=!1,p_=!1,g_=!1;function tk(){if(p_){const n=Array.from(hl).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const s=fF(i);s.length&&(t.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=t.get(i);s&&s.forEach(([o,c])=>{i.getValue(o)?.set(c)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}p_=!1,m_=!1,hl.forEach(n=>n.complete(g_)),hl.clear()}function nk(){hl.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(p_=!0)})}function mF(){g_=!0,nk(),tk(),g_=!1}class Ew{constructor(e,t,i,s,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=s,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(hl.add(this),m_||(m_=!0,Lt.read(nk),Lt.resolveKeyframes(tk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:s}=this;if(e[0]===null){const o=s?.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&t){const h=i.readValue(t,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),s&&o===void 0&&s.set(e[0])}aF(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),hl.delete(this)}cancel(){this.state==="scheduled"&&(hl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const pF=n=>n.startsWith("--");function gF(n,e,t){pF(e)?n.style.setProperty(e,t):n.style[e]=t}const yF=dw(()=>window.ScrollTimeline!==void 0),vF={};function _F(n,e){const t=dw(n);return()=>vF[e]??t()}const ik=_F(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qh=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,FA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qh([0,.65,.55,1]),circOut:Qh([.55,0,1,.45]),backIn:Qh([.31,.01,.66,-.59]),backOut:Qh([.33,1.53,.69,.99])};function rk(n,e){if(n)return typeof n=="function"?ik()?JD(n,e):"ease-out":zD(n)?Qh(n):Array.isArray(n)?n.map(t=>rk(t,e)||FA.easeOut):FA[n]}function bF(n,e,t,{delay:i=0,duration:s=300,repeat:o=0,repeatType:c="loop",ease:h="easeOut",times:d}={},f=void 0){const g={[e]:t};d&&(g.offset=d);const v=rk(h,s);Array.isArray(v)&&(g.easing=v);const w={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return f&&(w.pseudoElement=f),n.animate(g,w)}function sk(n){return typeof n=="function"&&"applyToOptions"in n}function wF({type:n,...e}){return sk(n)&&ik()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class TF extends Tw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:i,keyframes:s,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,hw(typeof e.type!="string");const f=wF(e);this.animation=bF(t,i,s,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=ww(s,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):gF(t,i,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return tr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+tr(e)}get time(){return tr(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Os(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&yF()?(this.animation.timeline=e,ir):t(this)}}const ak={anticipate:LD,backInOut:OD,circInOut:UD};function xF(n){return n in ak}function EF(n){typeof n.ease=="string"&&xF(n.ease)&&(n.ease=ak[n.ease])}const a0=10;class SF extends TF{constructor(e){EF(e),ek(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:s,element:o,...c}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new xw({...c,autoplay:!1}),d=Math.max(a0,Zn.now()-this.startTime),f=is(0,a0,d-a0);t.setWithVelocity(h.sample(Math.max(0,d-f)).value,h.sample(d).value,f),h.stop()}}const qA=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(so.test(n)||n==="0")&&!n.startsWith("url("));function AF(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function IF(n,e,t,i){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],c=qA(s,e),h=qA(o,e);return!c||!h?!1:AF(n)||(t==="spring"||sk(t))&&i}function y_(n){n.duration=0,n.type="keyframes"}const RF=new Set(["opacity","clipPath","filter","transform"]),CF=dw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function NF(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:s,damping:o,type:c}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=e.owner.getProps();return CF()&&t&&RF.has(t)&&(t!=="transform"||!f)&&!d&&!i&&s!=="mirror"&&o!==0&&c!=="inertia"}const DF=40;class kF extends Tw{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:c="loop",keyframes:h,name:d,motionValue:f,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Zn.now();const w={autoplay:e,delay:t,type:i,repeat:s,repeatDelay:o,repeatType:c,name:d,motionValue:f,element:g,...v},E=g?.KeyframeResolver||Ew;this.keyframeResolver=new E(h,(R,k,C)=>this.onKeyframesResolved(R,k,w,!C),d,f,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,s){this.keyframeResolver=void 0;const{name:o,type:c,velocity:h,delay:d,isHandoff:f,onUpdate:g}=i;this.resolvedAt=Zn.now(),IF(e,o,c,h)||((qs.instantAnimations||!d)&&g?.(ww(e,i,t)),e[0]=e[e.length-1],y_(i),i.repeat=0);const w={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>DF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},E=!f&&NF(w)?new SF({...w,element:w.motionValue.owner.current}):new xw(w);E.finished.then(()=>this.notifyFinished()).catch(ir),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),mF()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const PF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VF(n){const e=PF.exec(n);if(!e)return[,];const[,t,i,s]=e;return[`--${t??i}`,s]}function ok(n,e,t=1){const[i,s]=VF(n);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const c=o.trim();return RD(c)?parseFloat(c):c}return gw(s)?ok(s,e,t+1):s}function Sw(n,e){return n?.[e]??n?.default??n}const MF={type:"spring",stiffness:500,damping:25,restSpeed:10},OF=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),LF={type:"keyframes",duration:.8},jF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UF=(n,{keyframes:e})=>e.length>2?LF:Nu.has(n)?n.startsWith("scale")?OF(e[1]):MF:jF;function BF({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:c,repeatDelay:h,from:d,elapsed:f,...g}){return!!Object.keys(g).length}const zF=n=>n!==null;function FF(n,{repeat:e,repeatType:t="loop"},i){const s=n.filter(zF),o=e&&t!=="loop"&&e%2===1?0:s.length-1;return s[o]}function lk(n,e,t,i=0,s=1){const o=Array.from(n).sort((f,g)=>f.sortNodePosition(g)).indexOf(e),c=n.size,h=(c-1)*i;return typeof t=="function"?t(o,c):s===1?o*i:h-o*i}const Aw=(n,e,t,i={},s,o)=>c=>{const h=Sw(i,n)||{},d=h.delay||i.delay||0;let{elapsed:f=0}=i;f=f-Os(d);const g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-f,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:o?void 0:s};BF(h)||Object.assign(g,UF(n,g)),g.duration&&(g.duration=Os(g.duration)),g.repeatDelay&&(g.repeatDelay=Os(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(y_(g),g.delay===0&&(v=!0)),(qs.instantAnimations||qs.skipAnimations)&&(v=!0,y_(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!o&&e.get()!==void 0){const w=FF(g.keyframes,h);if(w!==void 0){Lt.update(()=>{g.onUpdate(w),g.onComplete()});return}}return h.isSync?new xw(g):new kF(g)},ck=new Set(["width","height","top","left","right","bottom",...Cu]),GA=30,qF=n=>!isNaN(parseFloat(n));class GF{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=Zn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Zn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new fw);const i=this.events[e].add(t);return e==="change"?()=>{i(),Lt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Zn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>GA)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,GA);return DD(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lu(n,e){return new GF(n,e)}function HA(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function Iw(n,e,t,i){if(typeof e=="function"){const[s,o]=HA(i);e=e(t!==void 0?t:n.custom,s,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,o]=HA(i);e=e(t!==void 0?t:n.custom,s,o)}return e}function Uc(n,e,t){const i=n.getProps();return Iw(i,e,t!==void 0?t:i.custom,n)}const v_=n=>Array.isArray(n);function HF(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,lu(t))}function $F(n){return v_(n)?n[n.length-1]||0:n}function KF(n,e){const t=Uc(n,e);let{transitionEnd:i={},transition:s={},...o}=t||{};o={...o,...i};for(const c in o){const h=$F(o[c]);HF(n,c,h)}}const Hn=n=>!!(n&&n.getVelocity);function QF(n){return!!(Hn(n)&&n.add)}function __(n,e){const t=n.getValue("willChange");if(QF(t))return t.add(e);if(!t&&qs.WillChange){const i=new qs.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function Rw(n){return n.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const YF="framerAppearId",uk="data-"+Rw(YF);function hk(n){return n.props[uk]}function WF({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function dk(n,e,{delay:t=0,transitionOverride:i,type:s}={}){let{transition:o=n.getDefaultTransition(),transitionEnd:c,...h}=e;i&&(o=i);const d=[],f=s&&n.animationState&&n.animationState.getState()[s];for(const g in h){const v=n.getValue(g,n.latestValues[g]??null),w=h[g];if(w===void 0||f&&WF(f,g))continue;const E={delay:t,...Sw(o||{},g)},R=v.get();if(R!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===R&&!E.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const B=hk(n);if(B){const H=window.MotionHandoffAnimation(B,g,Lt);H!==null&&(E.startTime=H,k=!0)}}__(n,g),v.start(Aw(g,v,w,n.shouldReduceMotion&&ck.has(g)?{type:!1}:E,n,k));const C=v.animation;C&&d.push(C)}return c&&Promise.all(d).then(()=>{Lt.update(()=>{c&&KF(n,c)})}),d}function b_(n,e,t={}){const i=Uc(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const o=i?()=>Promise.all(dk(n,i,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:v}=s;return XF(n,e,d,f,g,v,t)}:()=>Promise.resolve(),{when:h}=s;if(h){const[d,f]=h==="beforeChildren"?[o,c]:[c,o];return d().then(()=>f())}else return Promise.all([o(),c(t.delay)])}function XF(n,e,t=0,i=0,s=0,o=1,c){const h=[];for(const d of n.variantChildren)d.notify("AnimationStart",e),h.push(b_(d,e,{...c,delay:t+(typeof i=="function"?0:i)+lk(n.variantChildren,d,i,s,o)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function JF(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(o=>b_(n,o,t));i=Promise.all(s)}else if(typeof e=="string")i=b_(n,e,t);else{const s=typeof e=="function"?Uc(n,e,t.custom):e;i=Promise.all(dk(n,s,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const ZF={test:n=>n==="auto",parse:n=>n},fk=n=>e=>e.test(n),mk=[Ru,Ae,Zr,Ma,A9,S9,ZF],$A=n=>mk.find(fk(n));function e8(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||ND(n):!0}const t8=new Set(["brightness","contrast","saturate","opacity"]);function n8(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(yw)||[];if(!i)return n;const s=t.replace(i,"");let o=t8.has(e)?1:0;return i!==t&&(o*=100),e+"("+o+s+")"}const i8=/\b([a-z-]*)\(.*?\)/gu,w_={...so,getAnimatableNone:n=>{const e=n.match(i8);return e?e.map(n8).join(" "):n}},KA={...Ru,transform:Math.round},r8={rotate:Ma,rotateX:Ma,rotateY:Ma,rotateZ:Ma,scale:Om,scaleX:Om,scaleY:Om,scaleZ:Om,skew:Ma,skewX:Ma,skewY:Ma,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:Rd,originX:PA,originY:PA,originZ:Ae},Cw={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,inset:Ae,insetBlock:Ae,insetBlockStart:Ae,insetBlockEnd:Ae,insetInline:Ae,insetInlineStart:Ae,insetInlineEnd:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,paddingBlock:Ae,paddingBlockStart:Ae,paddingBlockEnd:Ae,paddingInline:Ae,paddingInlineStart:Ae,paddingInlineEnd:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,marginBlock:Ae,marginBlockStart:Ae,marginBlockEnd:Ae,marginInline:Ae,marginInlineStart:Ae,marginInlineEnd:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae,...r8,zIndex:KA,fillOpacity:Rd,strokeOpacity:Rd,numOctaves:KA},s8={...Cw,color:yn,backgroundColor:yn,outlineColor:yn,fill:yn,stroke:yn,borderColor:yn,borderTopColor:yn,borderRightColor:yn,borderBottomColor:yn,borderLeftColor:yn,filter:w_,WebkitFilter:w_},pk=n=>s8[n];function gk(n,e){let t=pk(n);return t!==w_&&(t=so),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const a8=new Set(["auto","none","0"]);function o8(n,e,t){let i=0,s;for(;i<n.length&&!s;){const o=n[i];typeof o=="string"&&!a8.has(o)&&Cd(o).values.length&&(s=n[i]),i++}if(s&&t)for(const o of e)n[o]=gk(t,s)}class l8 extends Ew{constructor(e,t,i,s,o){super(e,t,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let v=e[g];if(typeof v=="string"&&(v=v.trim(),gw(v))){const w=ok(v,t.current);w!==void 0&&(e[g]=w),g===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!ck.has(i)||e.length!==2)return;const[s,o]=e,c=$A(s),h=$A(o),d=kA(s),f=kA(o);if(d!==f&&Ga[i]){this.needsMeasurement=!0;return}if(c!==h)if(zA(c)&&zA(h))for(let g=0;g<e.length;g++){const v=e[g];typeof v=="string"&&(e[g]=parseFloat(v))}else Ga[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||e8(e[s]))&&i.push(s);i.length&&o8(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ga[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,c=i[o];i[o]=Ga[t](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function c8(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const s=t?.[n]??i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const yk=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function vk(n){return CD(n)&&"offsetHeight"in n}const{schedule:Nw}=FD(queueMicrotask,!1),gr={x:!1,y:!1};function _k(){return gr.x||gr.y}function u8(n){return n==="x"||n==="y"?gr[n]?null:(gr[n]=!0,()=>{gr[n]=!1}):gr.x||gr.y?null:(gr.x=gr.y=!0,()=>{gr.x=gr.y=!1})}function bk(n,e){const t=c8(n),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[t,s,()=>i.abort()]}function QA(n){return!(n.pointerType==="touch"||_k())}function h8(n,e,t={}){const[i,s,o]=bk(n,t),c=h=>{if(!QA(h))return;const{target:d}=h,f=e(d,h);if(typeof f!="function"||!d)return;const g=v=>{QA(v)&&(f(v),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,s)};return i.forEach(h=>{h.addEventListener("pointerenter",c,s)}),o}const wk=(n,e)=>e?n===e?!0:wk(n,e.parentElement):!1,Dw=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,d8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Tk(n){return d8.has(n.tagName)||n.isContentEditable===!0}const ap=new WeakSet;function YA(n){return e=>{e.key==="Enter"&&n(e)}}function o0(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const f8=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=YA(()=>{if(ap.has(t))return;o0(t,"down");const s=YA(()=>{o0(t,"up")}),o=()=>o0(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function WA(n){return Dw(n)&&!_k()}function m8(n,e,t={}){const[i,s,o]=bk(n,t),c=h=>{const d=h.currentTarget;if(!WA(h))return;ap.add(d);const f=e(d,h),g=(E,R)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),ap.has(d)&&ap.delete(d),WA(E)&&typeof f=="function"&&f(E,{success:R})},v=E=>{g(E,d===window||d===document||t.useGlobalTarget||wk(d,E.target))},w=E=>{g(E,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",w,s)};return i.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",c,s),vk(h)&&(h.addEventListener("focus",f=>f8(f,s)),!Tk(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function xk(n){return CD(n)&&"ownerSVGElement"in n}function p8(n){return xk(n)&&n.tagName==="svg"}const g8=[...mk,yn,so],y8=n=>g8.find(fk(n)),XA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cc=()=>({x:XA(),y:XA()}),JA=()=>({min:0,max:0}),wn=()=>({x:JA(),y:JA()}),T_={current:null},Ek={current:!1},v8=typeof window<"u";function _8(){if(Ek.current=!0,!!v8)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>T_.current=n.matches;n.addEventListener("change",e),e()}else T_.current=!1}const b8=new WeakMap;function Pg(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Nd(n){return typeof n=="string"||Array.isArray(n)}const kw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pw=["initial",...kw];function Vg(n){return Pg(n.animate)||Pw.some(e=>Nd(n[e]))}function Sk(n){return!!(Vg(n)||n.variants)}function w8(n,e,t){for(const i in e){const s=e[i],o=t[i];if(Hn(s))n.addValue(i,s);else if(Hn(o))n.addValue(i,lu(s,{owner:n}));else if(o!==s)if(n.hasValue(i)){const c=n.getValue(i);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=n.getStaticValue(i);n.addValue(i,lu(c!==void 0?c:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const ZA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Hp={};function Ak(n){Hp=n}function T8(){return Hp}class x8{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ew,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Zn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Lt.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=Vg(t),this.isVariantNode=Sk(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(t,{},this);for(const w in v){const E=v[w];d[w]!==void 0&&Hn(E)&&E.set(d[w])}}mount(e){this.current=e,b8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Ek.current||_8(),this.shouldReduceMotion=T_.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ro(this.notifyUpdate),ro(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Nu.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Lt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Hp){const t=Hp[e];if(!t)continue;const{isEnabled:i,Feature:s}=t;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<ZA.length;i++){const s=ZA[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,c=e[o];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=w8(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=lu(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(RD(i)||ND(i))?i=parseFloat(i):!y8(i)&&so.test(t)&&(i=gk(e,t)),this.setBaseTarget(e,Hn(i)?i.get():i)),Hn(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const o=Iw(this.props,t,this.presenceContext?.custom);o&&(i=o[e])}if(t&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Hn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new fw),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Nw.render(this.render)}}class go{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Ik extends x8{constructor(){super(...arguments),this.KeyframeResolver=l8}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){const i=e.style;return i?i[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Hn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function Rk({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function E8({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function S8(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function l0(n){return n===void 0||n===1}function x_({scale:n,scaleX:e,scaleY:t}){return!l0(n)||!l0(e)||!l0(t)}function Jo(n){return x_(n)||Ck(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Ck(n){return eI(n.x)||eI(n.y)}function eI(n){return n&&n!=="0%"}function $p(n,e,t){const i=n-t,s=e*i;return t+s}function tI(n,e,t,i,s){return s!==void 0&&(n=$p(n,s,i)),$p(n,t,i)+e}function E_(n,e=0,t=1,i,s){n.min=tI(n.min,e,t,i,s),n.max=tI(n.max,e,t,i,s)}function Nk(n,{x:e,y:t}){E_(n.x,e.translate,e.scale,e.originPoint),E_(n.y,t.translate,t.scale,t.originPoint)}const nI=.999999999999,iI=1.0000000000001;function A8(n,e,t,i=!1){const s=t.length;if(!s)return;e.x=e.y=1;let o,c;for(let h=0;h<s;h++){o=t[h],c=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Dc(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Nk(n,c)),i&&Jo(o.latestValues)&&Dc(n,o.latestValues))}e.x<iI&&e.x>nI&&(e.x=1),e.y<iI&&e.y>nI&&(e.y=1)}function Nc(n,e){n.min=n.min+e,n.max=n.max+e}function rI(n,e,t,i,s=.5){const o=$t(n.min,n.max,s);E_(n,e,t,o,i)}function Dc(n,e){rI(n.x,e.x,e.scaleX,e.scale,e.originX),rI(n.y,e.y,e.scaleY,e.scale,e.originY)}function Dk(n,e){return Rk(S8(n.getBoundingClientRect(),e))}function I8(n,e,t){const i=Dk(n,t),{scroll:s}=e;return s&&(Nc(i.x,s.offset.x),Nc(i.y,s.offset.y)),i}const R8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},C8=Cu.length;function N8(n,e,t){let i="",s=!0;for(let o=0;o<C8;o++){const c=Cu[o],h=n[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||t){const f=yk(h,Cw[c]);if(!d){s=!1;const g=R8[c]||c;i+=`${g}(${f}) `}t&&(e[c]=f)}}return i=i.trim(),t?i=t(e,s?"":i):s&&(i="none"),i}function Vw(n,e,t){const{style:i,vars:s,transformOrigin:o}=n;let c=!1,h=!1;for(const d in e){const f=e[d];if(Nu.has(d)){c=!0;continue}else if(GD(d)){s[d]=f;continue}else{const g=yk(f,Cw[d]);d.startsWith("origin")?(h=!0,o[d]=g):i[d]=g}}if(e.transform||(c||t?i.transform=N8(e,n.transform,t):i.transform&&(i.transform="none")),h){const{originX:d="50%",originY:f="50%",originZ:g=0}=o;i.transformOrigin=`${d} ${f} ${g}`}}function kk(n,{style:e,vars:t},i,s){const o=n.style;let c;for(c in e)o[c]=e[c];s?.applyProjectionStyles(o,i);for(c in t)o.setProperty(c,t[c])}function sI(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Bh={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ae.test(n))n=parseFloat(n);else return n;const t=sI(n,e.target.x),i=sI(n,e.target.y);return`${t}% ${i}%`}},D8={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,s=so.parse(n);if(s.length>5)return i;const o=so.createTransformer(n),c=typeof s[0]!="number"?1:0,h=t.x.scale*e.x,d=t.y.scale*e.y;s[0+c]/=h,s[1+c]/=d;const f=$t(h,d,.5);return typeof s[2+c]=="number"&&(s[2+c]/=f),typeof s[3+c]=="number"&&(s[3+c]/=f),o(s)}},S_={borderRadius:{...Bh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bh,borderTopRightRadius:Bh,borderBottomLeftRadius:Bh,borderBottomRightRadius:Bh,boxShadow:D8};function Pk(n,{layout:e,layoutId:t}){return Nu.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!S_[n]||n==="opacity")}function Mw(n,e,t){const i=n.style,s=e?.style,o={};if(!i)return o;for(const c in i)(Hn(i[c])||s&&Hn(s[c])||Pk(c,n)||t?.getValue(c)?.liveStyle!==void 0)&&(o[c]=i[c]);return o}function k8(n){return window.getComputedStyle(n)}class P8 extends Ik{constructor(){super(...arguments),this.type="html",this.renderInstance=kk}readValueFromInstance(e,t){if(Nu.has(t))return this.projection?.isProjecting?d_(t):cF(e,t);{const i=k8(e),s=(GD(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Dk(e,t)}build(e,t,i){Vw(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Mw(e,t,i)}}const V8={offset:"stroke-dashoffset",array:"stroke-dasharray"},M8={offset:"strokeDashoffset",array:"strokeDasharray"};function O8(n,e,t=1,i=0,s=!0){n.pathLength=1;const o=s?V8:M8;n[o.offset]=Ae.transform(-i);const c=Ae.transform(e),h=Ae.transform(t);n[o.array]=`${c} ${h}`}const L8=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Vk(n,{attrX:e,attrY:t,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:c=0,...h},d,f,g){if(Vw(n,h,f),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:w}=n;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=g?.transformBox??"fill-box",delete v.transformBox);for(const E of L8)v[E]!==void 0&&(w[E]=v[E],delete v[E]);e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),i!==void 0&&(v.scale=i),s!==void 0&&O8(v,s,o,c,!1)}const Mk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Ok=n=>typeof n=="string"&&n.toLowerCase()==="svg";function j8(n,e,t,i){kk(n,e,void 0,i);for(const s in e.attrs)n.setAttribute(Mk.has(s)?s:Rw(s),e.attrs[s])}function Lk(n,e,t){const i=Mw(n,e,t);for(const s in n)if(Hn(n[s])||Hn(e[s])){const o=Cu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=n[s]}return i}class U8 extends Ik{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wn}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Nu.has(t)){const i=pk(t);return i&&i.default||0}return t=Mk.has(t)?t:Rw(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return Lk(e,t,i)}build(e,t,i){Vk(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,s){j8(e,t,i,s)}mount(e){this.isSVGTag=Ok(e.tagName),super.mount(e)}}const B8=Pw.length;function jk(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?jk(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<B8;t++){const i=Pw[t],s=n.props[i];(Nd(s)||s===!1)&&(e[i]=s)}return e}function Uk(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const z8=[...kw].reverse(),F8=kw.length;function q8(n){return e=>Promise.all(e.map(({animation:t,options:i})=>JF(n,t,i)))}function G8(n){let e=q8(n),t=aI(),i=!0;const s=d=>(f,g)=>{const v=Uc(n,g,d==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:E,...R}=v;f={...f,...R,...E}}return f};function o(d){e=d(n)}function c(d){const{props:f}=n,g=jk(n.parent)||{},v=[],w=new Set;let E={},R=1/0;for(let C=0;C<F8;C++){const B=z8[C],H=t[B],F=f[B]!==void 0?f[B]:g[B],$=Nd(F),ie=B===d?H.isActive:null;ie===!1&&(R=C);let le=F===g[B]&&F!==f[B]&&$;if(le&&i&&n.manuallyAnimateOnMount&&(le=!1),H.protectedKeys={...E},!H.isActive&&ie===null||!F&&!H.prevProp||Pg(F)||typeof F=="boolean")continue;const N=H8(H.prevProp,F);let A=N||B===d&&H.isActive&&!le&&$||C>R&&$,P=!1;const L=Array.isArray(F)?F:[F];let O=L.reduce(s(B),{});ie===!1&&(O={});const{prevResolvedValues:z={}}=H,M={...z,...O},ge=Z=>{A=!0,w.has(Z)&&(P=!0,w.delete(Z)),H.needsAnimating[Z]=!0;const K=n.getValue(Z);K&&(K.liveStyle=!1)};for(const Z in M){const K=O[Z],ye=z[Z];if(E.hasOwnProperty(Z))continue;let q=!1;v_(K)&&v_(ye)?q=!Uk(K,ye):q=K!==ye,q?K!=null?ge(Z):w.add(Z):K!==void 0&&w.has(Z)?ge(Z):H.protectedKeys[Z]=!0}H.prevProp=F,H.prevResolvedValues=O,H.isActive&&(E={...E,...O}),i&&n.blockInitialAnimation&&(A=!1);const _e=le&&N;A&&(!_e||P)&&v.push(...L.map(Z=>{const K={type:B};if(typeof Z=="string"&&i&&!_e&&n.manuallyAnimateOnMount&&n.parent){const{parent:ye}=n,q=Uc(ye,Z);if(ye.enteringChildren&&q){const{delayChildren:S}=q.transition||{};K.delay=lk(ye.enteringChildren,n,S)}}return{animation:Z,options:K}}))}if(w.size){const C={};if(typeof f.initial!="boolean"){const B=Uc(n,Array.isArray(f.initial)?f.initial[0]:f.initial);B&&B.transition&&(C.transition=B.transition)}w.forEach(B=>{const H=n.getBaseTarget(B),F=n.getValue(B);F&&(F.liveStyle=!0),C[B]=H??null}),v.push({animation:C})}let k=!!v.length;return i&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(k=!1),i=!1,k?e(v):Promise.resolve()}function h(d,f){if(t[d].isActive===f)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(d,f)),t[d].isActive=f;const g=c(d);for(const v in t)t[v].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:o,getState:()=>t,reset:()=>{t=aI()}}}function H8(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Uk(e,n):!1}function Ko(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aI(){return{animate:Ko(!0),whileInView:Ko(),whileHover:Ko(),whileTap:Ko(),whileDrag:Ko(),whileFocus:Ko(),exit:Ko()}}const Bk=1e-4,$8=1-Bk,K8=1+Bk,zk=.01,Q8=0-zk,Y8=0+zk;function ei(n){return n.max-n.min}function W8(n,e,t){return Math.abs(n-e)<=t}function oI(n,e,t,i=.5){n.origin=i,n.originPoint=$t(e.min,e.max,n.origin),n.scale=ei(t)/ei(e),n.translate=$t(t.min,t.max,n.origin)-n.originPoint,(n.scale>=$8&&n.scale<=K8||isNaN(n.scale))&&(n.scale=1),(n.translate>=Q8&&n.translate<=Y8||isNaN(n.translate))&&(n.translate=0)}function cd(n,e,t,i){oI(n.x,e.x,t.x,i?i.originX:void 0),oI(n.y,e.y,t.y,i?i.originY:void 0)}function lI(n,e,t){n.min=t.min+e.min,n.max=n.min+ei(e)}function X8(n,e,t){lI(n.x,e.x,t.x),lI(n.y,e.y,t.y)}function cI(n,e,t){n.min=e.min-t.min,n.max=n.min+ei(e)}function Kp(n,e,t){cI(n.x,e.x,t.x),cI(n.y,e.y,t.y)}function uI(n,e,t,i,s){return n-=e,n=$p(n,1/t,i),s!==void 0&&(n=$p(n,1/s,i)),n}function J8(n,e=0,t=1,i=.5,s,o=n,c=n){if(Zr.test(e)&&(e=parseFloat(e),e=$t(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=$t(o.min,o.max,i);n===o&&(h-=e),n.min=uI(n.min,e,t,h,s),n.max=uI(n.max,e,t,h,s)}function hI(n,e,[t,i,s],o,c){J8(n,e[t],e[i],e[s],e.scale,o,c)}const Z8=["x","scaleX","originX"],eq=["y","scaleY","originY"];function dI(n,e,t,i){hI(n.x,e,Z8,t?t.x:void 0,i?i.x:void 0),hI(n.y,e,eq,t?t.y:void 0,i?i.y:void 0)}function fI(n,e){n.min=e.min,n.max=e.max}function pr(n,e){fI(n.x,e.x),fI(n.y,e.y)}function mI(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function pI(n){return n.translate===0&&n.scale===1}function Fk(n){return pI(n.x)&&pI(n.y)}function gI(n,e){return n.min===e.min&&n.max===e.max}function tq(n,e){return gI(n.x,e.x)&&gI(n.y,e.y)}function yI(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function qk(n,e){return yI(n.x,e.x)&&yI(n.y,e.y)}function vI(n){return ei(n.x)/ei(n.y)}function _I(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}function Zi(n){return[n("x"),n("y")]}function nq(n,e,t){let i="";const s=n.x.translate/e.x,o=n.y.translate/e.y,c=t?.z||0;if((s||o||c)&&(i=`translate3d(${s}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:g,rotateX:v,rotateY:w,skewX:E,skewY:R}=t;f&&(i=`perspective(${f}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),w&&(i+=`rotateY(${w}deg) `),E&&(i+=`skewX(${E}deg) `),R&&(i+=`skewY(${R}deg) `)}const h=n.x.scale*e.x,d=n.y.scale*e.y;return(h!==1||d!==1)&&(i+=`scale(${h}, ${d})`),i||"none"}const Gk=["TopLeft","TopRight","BottomLeft","BottomRight"],iq=Gk.length,bI=n=>typeof n=="string"?parseFloat(n):n,wI=n=>typeof n=="number"||Ae.test(n);function rq(n,e,t,i,s,o){s?(n.opacity=$t(0,t.opacity??1,sq(i)),n.opacityExit=$t(e.opacity??1,0,aq(i))):o&&(n.opacity=$t(e.opacity??1,t.opacity??1,i));for(let c=0;c<iq;c++){const h=`border${Gk[c]}Radius`;let d=TI(e,h),f=TI(t,h);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||wI(d)===wI(f)?(n[h]=Math.max($t(bI(d),bI(f),i),0),(Zr.test(f)||Zr.test(d))&&(n[h]+="%")):n[h]=f}(e.rotate||t.rotate)&&(n.rotate=$t(e.rotate||0,t.rotate||0,i))}function TI(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const sq=Hk(0,.5,jD),aq=Hk(.5,.95,ir);function Hk(n,e,t){return i=>i<n?0:i>e?1:t(Id(n,e,i))}function oq(n,e){const t=Zn.now(),i=({timestamp:s})=>{const o=s-t;o>=e&&(ro(i),n(o-e))};return Lt.setup(i,!0),()=>ro(i)}function Dd(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function op(n){return Hn(n)?n.get():n}function lq(n,e,t){const i=Hn(n)?n:lu(n);return i.start(Aw("",i,e,t)),i.animation}const cq=(n,e)=>n.depth-e.depth;class uq{constructor(){this.children=[],this.isDirty=!1}add(e){cw(this.children,e),this.isDirty=!0}remove(e){uw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(cq),this.isDirty=!1,this.children.forEach(e)}}class hq{constructor(){this.members=[]}add(e){cw(this.members,e),e.scheduleRender()}remove(e){if(uw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let i;for(let s=t;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const lp={hasAnimatedSinceResize:!0,hasEverUpdated:!1},c0=["","X","Y","Z"],dq=1e3;let fq=0;function u0(n,e,t,i){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),i&&(i[n]=0))}function $k(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=hk(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Lt,!(s||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&$k(i)}function Kk({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(c={},h=e?.()){this.id=fq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gq),this.nodes.forEach(bq),this.nodes.forEach(wq),this.nodes.forEach(yq)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new uq)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new fw),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=xk(c)&&!p8(c),this.instance=c;const{layoutId:h,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),n){let g,v=0;const w=()=>this.root.updateBlockedByResize=!1;Lt.read(()=>{v=window.innerWidth}),n(c,()=>{const E=window.innerWidth;E!==v&&(v=E,this.root.updateBlockedByResize=!0,g&&g(),g=oq(w,250),lp.hasAnimatedSinceResize&&(lp.hasAnimatedSinceResize=!1,this.nodes.forEach(SI)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&f&&(h||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||f.getDefaultTransition()||Aq,{onLayoutAnimationStart:k,onLayoutAnimationComplete:C}=f.getProps(),B=!this.targetLayout||!qk(this.targetLayout,E),H=!v&&w;if(this.options.layoutRoot||this.resumeFrom||H||v&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Sw(R,"layout"),onPlay:k,onComplete:C};(f.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(g,H)}else v||SI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ro(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Tq),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$k(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xI);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(EI);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_q),this.nodes.forEach(mq),this.nodes.forEach(pq)):this.nodes.forEach(EI),this.clearAllSnapshots();const h=Zn.now();Ln.delta=is(0,1e3/60,h-Ln.timestamp),Ln.timestamp=h,Ln.isProcessing=!0,t0.update.process(Ln),t0.preRender.process(Ln),t0.render.process(Ln),Ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Nw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vq),this.sharedNodes.forEach(xq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ei(this.snapshot.measuredBox.x)&&!ei(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=wn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Fk(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;c&&this.instance&&(h||Jo(this.latestValues)||g)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),Iq(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return wn();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Rq))){const{scroll:f}=this.root;f&&(Nc(h.x,f.offset.x),Nc(h.y,f.offset.y))}return h}removeElementScroll(c){const h=wn();if(pr(h,c),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:g,options:v}=f;f!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&pr(h,c),Nc(h.x,g.offset.x),Nc(h.y,g.offset.y))}return h}applyTransform(c,h=!1){const d=wn();pr(d,c);for(let f=0;f<this.path.length;f++){const g=this.path[f];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Dc(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Jo(g.latestValues)&&Dc(d,g.latestValues)}return Jo(this.latestValues)&&Dc(d,this.latestValues),d}removeTransform(c){const h=wn();pr(h,c);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Jo(f.latestValues))continue;x_(f.latestValues)&&f.updateSnapshot();const g=wn(),v=f.measurePageBox();pr(g,v),dI(h,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return Jo(this.latestValues)&&dI(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=Ln.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=wn(),this.targetWithTransforms=wn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),X8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pr(this.target,this.layout.layoutBox),Nk(this.target,this.targetDelta)):pr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||x_(this.parent.latestValues)||Ck(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,d){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wn(),this.relativeTargetOrigin=wn(),Kp(this.relativeTargetOrigin,h,d),pr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ln.timestamp&&(d=!1),d)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;pr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;A8(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=wn());const{target:E}=c;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mI(this.prevProjectionDelta.x,this.projectionDelta.x),mI(this.prevProjectionDelta.y,this.projectionDelta.y)),cd(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!_I(this.projectionDelta.x,this.prevProjectionDelta.x)||!_I(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Cc(),this.projectionDelta=Cc(),this.projectionDeltaWithTransform=Cc()}setAnimationOrigin(c,h=!1){const d=this.snapshot,f=d?d.latestValues:{},g={...this.latestValues},v=Cc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=wn(),E=d?d.source:void 0,R=this.layout?this.layout.source:void 0,k=E!==R,C=this.getStack(),B=!C||C.members.length<=1,H=!!(k&&!B&&this.options.crossfade===!0&&!this.path.some(Sq));this.animationProgress=0;let F;this.mixTargetDelta=$=>{const ie=$/1e3;AI(v.x,c.x,ie),AI(v.y,c.y,ie),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kp(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Eq(this.relativeTarget,this.relativeTargetOrigin,w,ie),F&&tq(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=wn()),pr(F,this.relativeTarget)),k&&(this.animationValues=g,rq(g,f,this.latestValues,ie,H,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ie},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ro(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Lt.update(()=>{lp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=lu(0)),this.currentAnimation=lq(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:f,latestValues:g}=c;if(!(!h||!d||!f)){if(this!==c&&this.layout&&f&&Qk(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||wn();const v=ei(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+v;const w=ei(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+w}pr(h,d),Dc(h,g),cd(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new hq),this.sharedNodes.get(c).add(h);const f=h.options.initialPromotionConfig;h.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const f={};d.z&&u0("z",c,f,this.animationValues);for(let g=0;g<c0.length;g++)u0(`rotate${c0[g]}`,c,f,this.animationValues),u0(`skew${c0[g]}`,c,f,this.animationValues);c.render();for(const g in f)c.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=op(h?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=op(h?.pointerEvents)||""),this.hasProjected&&!Jo(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=f.animationValues||f.latestValues;this.applyTransformsToTarget();let v=nq(this.projectionDeltaWithTransform,this.treeScale,g);d&&(v=d(g,v)),c.transform=v;const{x:w,y:E}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${E.origin*100}% 0`,f.animationValues?c.opacity=f===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const R in S_){if(g[R]===void 0)continue;const{correct:k,applyTo:C,isCSSVariable:B}=S_[R],H=v==="none"?g[R]:k(g[R],f);if(C){const F=C.length;for(let $=0;$<F;$++)c[C[$]]=H}else B?this.options.visualElement.renderState.vars[R]=H:c[R]=H}this.options.layoutId&&(c.pointerEvents=f===this?op(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(xI),this.root.sharedNodes.clear()}}}function mq(n){n.updateLayout()}function pq(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:s}=n.options,o=e.source!==n.layout.source;s==="size"?Zi(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],w=ei(v);v.min=t[g].min,v.max=v.min+w}):Qk(s,e.layoutBox,t)&&Zi(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],w=ei(t[g]);v.max=v.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+w)});const c=Cc();cd(c,t,e.layoutBox);const h=Cc();o?cd(h,n.applyTransform(i,!0),e.measuredBox):cd(h,t,e.layoutBox);const d=!Fk(c);let f=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:w}=g;if(v&&w){const E=wn();Kp(E,e.layoutBox,v.layoutBox);const R=wn();Kp(R,t,w.layoutBox),qk(E,R)||(f=!0),g.options.layoutRoot&&(n.relativeTarget=R,n.relativeTargetOrigin=E,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function gq(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function yq(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function vq(n){n.clearSnapshot()}function xI(n){n.clearMeasurements()}function EI(n){n.isLayoutDirty=!1}function _q(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function SI(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function bq(n){n.resolveTargetDelta()}function wq(n){n.calcProjection()}function Tq(n){n.resetSkewAndRotation()}function xq(n){n.removeLeadSnapshot()}function AI(n,e,t){n.translate=$t(e.translate,0,t),n.scale=$t(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function II(n,e,t,i){n.min=$t(e.min,t.min,i),n.max=$t(e.max,t.max,i)}function Eq(n,e,t,i){II(n.x,e.x,t.x,i),II(n.y,e.y,t.y,i)}function Sq(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Aq={duration:.45,ease:[.4,0,.1,1]},RI=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),CI=RI("applewebkit/")&&!RI("chrome/")?Math.round:ir;function NI(n){n.min=CI(n.min),n.max=CI(n.max)}function Iq(n){NI(n.x),NI(n.y)}function Qk(n,e,t){return n==="position"||n==="preserve-aspect"&&!W8(vI(e),vI(t),.2)}function Rq(n){return n!==n.root&&n.scroll?.wasRoot}const Cq=Kk({attachResizeListener:(n,e)=>Dd(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),h0={current:void 0},Yk=Kk({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!h0.current){const n=new Cq({});n.mount(window),n.setOptions({layoutScroll:!0}),h0.current=n}return h0.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Ow=V.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function DI(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Nq(...n){return e=>{let t=!1;const i=n.map(s=>{const o=DI(s,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let s=0;s<i.length;s++){const o=i[s];typeof o=="function"?o():DI(n[s],null)}}}}function Dq(...n){return V.useCallback(Nq(...n),n)}class kq extends V.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,s=vk(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Pq({children:n,isPresent:e,anchorX:t,root:i}){const s=V.useId(),o=V.useRef(null),c=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=V.useContext(Ow),d=n.props?.ref??n?.ref,f=Dq(o,d);return V.useInsertionEffect(()=>{const{width:g,height:v,top:w,left:E,right:R}=c.current;if(e||!o.current||!g||!v)return;const k=t==="left"?`left: ${E}`:`right: ${R}`;o.current.dataset.motionPopId=s;const C=document.createElement("style");h&&(C.nonce=h);const B=i??document.head;return B.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${k}px !important;
            top: ${w}px !important;
          }
        `),()=>{B.contains(C)&&B.removeChild(C)}},[e]),_.jsx(kq,{isPresent:e,childRef:o,sizeRef:c,children:V.cloneElement(n,{ref:f})})}const Vq=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:c,anchorX:h,root:d})=>{const f=lw(Mq),g=V.useId();let v=!0,w=V.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:t,custom:s,onExitComplete:E=>{f.set(E,!0);for(const R of f.values())if(!R)return;i&&i()},register:E=>(f.set(E,!1),()=>f.delete(E))}),[t,f,i]);return o&&v&&(w={...w}),V.useMemo(()=>{f.forEach((E,R)=>f.set(R,!1))},[t]),V.useEffect(()=>{!t&&!f.size&&i&&i()},[t]),c==="popLayout"&&(n=_.jsx(Pq,{isPresent:t,anchorX:h,root:d,children:n})),_.jsx(kg.Provider,{value:w,children:n})};function Mq(){return new Map}function Wk(n=!0){const e=V.useContext(kg);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:s}=e,o=V.useId();V.useEffect(()=>{if(n)return s(o)},[n]);const c=V.useCallback(()=>n&&i&&i(o),[o,i,n]);return!t&&i?[!1,c]:[!0]}const Lm=n=>n.key||"";function kI(n){const e=[];return V.Children.forEach(n,t=>{V.isValidElement(t)&&e.push(t)}),e}const vr=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:c=!1,anchorX:h="left",root:d})=>{const[f,g]=Wk(c),v=V.useMemo(()=>kI(n),[n]),w=c&&!f?[]:v.map(Lm),E=V.useRef(!0),R=V.useRef(v),k=lw(()=>new Map),C=V.useRef(new Set),[B,H]=V.useState(v),[F,$]=V.useState(v);ID(()=>{E.current=!1,R.current=v;for(let N=0;N<F.length;N++){const A=Lm(F[N]);w.includes(A)?(k.delete(A),C.current.delete(A)):k.get(A)!==!0&&k.set(A,!1)}},[F,w.length,w.join("-")]);const ie=[];if(v!==B){let N=[...v];for(let A=0;A<F.length;A++){const P=F[A],L=Lm(P);w.includes(L)||(N.splice(A,0,P),ie.push(P))}return o==="wait"&&ie.length&&(N=ie),$(kI(N)),H(v),null}const{forceRender:le}=V.useContext(ow);return _.jsx(_.Fragment,{children:F.map(N=>{const A=Lm(N),P=c&&!f?!1:v===F||w.includes(A),L=()=>{if(C.current.has(A))return;if(C.current.add(A),k.has(A))k.set(A,!0);else return;let O=!0;k.forEach(z=>{z||(O=!1)}),O&&(le?.(),$(R.current),c&&g?.(),i&&i())};return _.jsx(Vq,{isPresent:P,initial:!E.current||t?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:d,onExitComplete:P?void 0:L,anchorX:h,children:N},A)})})},Xk=V.createContext({strict:!1}),PI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let VI=!1;function Oq(){if(VI)return;const n={};for(const e in PI)n[e]={isEnabled:t=>PI[e].some(i=>!!t[i])};Ak(n),VI=!0}function Jk(){return Oq(),T8()}function Lq(n){const e=Jk();for(const t in n)e[t]={...e[t],...n[t]};Ak(e)}const jq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qp(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||jq.has(n)}let Zk=n=>!Qp(n);function Uq(n){typeof n=="function"&&(Zk=e=>e.startsWith("on")?!Qp(e):n(e))}try{Uq(require("@emotion/is-prop-valid").default)}catch{}function Bq(n,e,t){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(Zk(s)||t===!0&&Qp(s)||!e&&!Qp(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}const Mg=V.createContext({});function zq(n,e){if(Vg(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Nd(t)?t:void 0,animate:Nd(i)?i:void 0}}return n.inherit!==!1?e:{}}function Fq(n){const{initial:e,animate:t}=zq(n,V.useContext(Mg));return V.useMemo(()=>({initial:e,animate:t}),[MI(e),MI(t)])}function MI(n){return Array.isArray(n)?n.join(" "):n}const Lw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eP(n,e,t){for(const i in e)!Hn(e[i])&&!Pk(i,t)&&(n[i]=e[i])}function qq({transformTemplate:n},e){return V.useMemo(()=>{const t=Lw();return Vw(t,e,n),Object.assign({},t.vars,t.style)},[e])}function Gq(n,e){const t=n.style||{},i={};return eP(i,t,n),Object.assign(i,qq(n,e)),i}function Hq(n,e){const t={},i=Gq(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const tP=()=>({...Lw(),attrs:{}});function $q(n,e,t,i){const s=V.useMemo(()=>{const o=tP();return Vk(o,e,Ok(i),n.transformTemplate,n.style),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};eP(o,n.style,n),s.style={...o,...s.style}}return s}const Kq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jw(n){return typeof n!="string"||n.includes("-")?!1:!!(Kq.indexOf(n)>-1||/[A-Z]/u.test(n))}function Qq(n,e,t,{latestValues:i},s,o=!1,c){const d=(c??jw(n)?$q:Hq)(e,i,s,n),f=Bq(e,typeof n=="string",o),g=n!==V.Fragment?{...f,...d,ref:t}:{},{children:v}=e,w=V.useMemo(()=>Hn(v)?v.get():v,[v]);return V.createElement(n,{...g,children:w})}function Yq({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,s){return{latestValues:Wq(t,i,s,n),renderState:e()}}function Wq(n,e,t,i){const s={},o=i(n,{});for(const w in o)s[w]=op(o[w]);let{initial:c,animate:h}=n;const d=Vg(n),f=Sk(n);e&&f&&!d&&n.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=t?t.initial===!1:!1;g=g||c===!1;const v=g?h:c;if(v&&typeof v!="boolean"&&!Pg(v)){const w=Array.isArray(v)?v:[v];for(let E=0;E<w.length;E++){const R=Iw(n,w[E]);if(R){const{transitionEnd:k,transition:C,...B}=R;for(const H in B){let F=B[H];if(Array.isArray(F)){const $=g?F.length-1:0;F=F[$]}F!==null&&(s[H]=F)}for(const H in k)s[H]=k[H]}}}return s}const nP=n=>(e,t)=>{const i=V.useContext(Mg),s=V.useContext(kg),o=()=>Yq(n,e,i,s);return t?o():lw(o)},Xq=nP({scrapeMotionValuesFromProps:Mw,createRenderState:Lw}),Jq=nP({scrapeMotionValuesFromProps:Lk,createRenderState:tP}),Zq=Symbol.for("motionComponentSymbol");function e7(n,e,t){const i=V.useRef(t);V.useInsertionEffect(()=>{i.current=t});const s=V.useRef(null);return V.useCallback(o=>{o&&n.onMount?.(o),e&&(o?e.mount(o):e.unmount());const c=i.current;if(typeof c=="function")if(o){const h=c(o);typeof h=="function"&&(s.current=h)}else s.current?(s.current(),s.current=null):c(o);else c&&(c.current=o)},[e])}const iP=V.createContext({});function Yh(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function t7(n,e,t,i,s,o){const{visualElement:c}=V.useContext(Mg),h=V.useContext(Xk),d=V.useContext(kg),f=V.useContext(Ow).reducedMotion,g=V.useRef(null);i=i||h.renderer,!g.current&&i&&(g.current=i(n,{visualState:e,parent:c,props:t,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f,isSVG:o}));const v=g.current,w=V.useContext(iP);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&n7(g.current,t,s,w);const E=V.useRef(!1);V.useInsertionEffect(()=>{v&&E.current&&v.update(t,d)});const R=t[uk],k=V.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return ID(()=>{v&&(E.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),k.current&&v.animationState&&v.animationState.animateChanges())}),V.useEffect(()=>{v&&(!k.current&&v.animationState&&v.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),k.current=!1),v.enteringChildren=void 0)}),v}function n7(n,e,t,i){const{layoutId:s,layout:o,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:f,layoutCrossfade:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:rP(n.parent)),n.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!c||h&&Yh(h),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:d,layoutRoot:f})}function rP(n){if(n)return n.options.allowProjection!==!1?n.projection:rP(n.parent)}function d0(n,{forwardMotionProps:e=!1,type:t}={},i,s){i&&Lq(i);const o=t?t==="svg":jw(n),c=o?Jq:Xq;function h(f,g){let v;const w={...V.useContext(Ow),...f,layoutId:i7(f)},{isStatic:E}=w,R=Fq(f),k=c(f,E);if(!E&&AD){r7();const C=s7(w);v=C.MeasureLayout,R.visualElement=t7(n,k,w,s,C.ProjectionNode,o)}return _.jsxs(Mg.Provider,{value:R,children:[v&&R.visualElement?_.jsx(v,{visualElement:R.visualElement,...w}):null,Qq(n,f,e7(k,R.visualElement,g),k,E,e,o)]})}h.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const d=V.forwardRef(h);return d[Zq]=n,d}function i7({layoutId:n}){const e=V.useContext(ow).id;return e&&n!==void 0?e+"-"+n:n}function r7(n,e){V.useContext(Xk).strict}function s7(n){const e=Jk(),{drag:t,layout:i}=e;if(!t&&!i)return{};const s={...t,...i};return{MeasureLayout:t?.isEnabled(n)||i?.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function a7(n,e){if(typeof Proxy>"u")return d0;const t=new Map,i=(o,c)=>d0(o,c,n,e),s=(o,c)=>i(o,c);return new Proxy(s,{get:(o,c)=>c==="create"?i:(t.has(c)||t.set(c,d0(c,void 0,n,e)),t.get(c))})}const o7=(n,e)=>e.isSVG??jw(n)?new U8(e):new P8(e,{allowProjection:n!==V.Fragment});class l7 extends go{constructor(e){super(e),e.animationState||(e.animationState=G8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Pg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let c7=0;class u7 extends go{constructor(){super(...arguments),this.id=c7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const h7={animation:{Feature:l7},exit:{Feature:u7}};function nf(n){return{point:{x:n.pageX,y:n.pageY}}}const d7=n=>e=>Dw(e)&&n(e,nf(e));function ud(n,e,t,i){return Dd(n,e,d7(t),i)}const sP=({current:n})=>n?n.ownerDocument.defaultView:null,OI=(n,e)=>Math.abs(n-e);function f7(n,e){const t=OI(n.x,e.x),i=OI(n.y,e.y);return Math.sqrt(t**2+i**2)}const LI=new Set(["auto","scroll"]);class aP{constructor(e,t,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=E=>{this.handleScroll(E.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=m0(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,k=f7(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!k)return;const{point:C}=E,{timestamp:B}=Ln;this.history.push({...C,timestamp:B});const{onStart:H,onMove:F}=this.handlers;R||(H&&H(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,E)},this.handlePointerMove=(E,R)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=f0(R,this.transformPagePoint),Lt.update(this.updatePoint,!0)},this.handlePointerUp=(E,R)=>{this.end();const{onEnd:k,onSessionEnd:C,resumeAnimation:B}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=m0(E.type==="pointercancel"?this.lastMoveEventInfo:f0(R,this.transformPagePoint),this.history);this.startEvent&&k&&k(E,H),C&&C(E,H)},!Dw(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=s||window;const d=nf(e),f=f0(d,this.transformPagePoint),{point:g}=f,{timestamp:v}=Ln;this.history=[{...g,timestamp:v}];const{onSessionStart:w}=t;w&&w(e,m0(f,this.history)),this.removeListeners=Zd(ud(this.contextWindow,"pointermove",this.handlePointerMove),ud(this.contextWindow,"pointerup",this.handlePointerUp),ud(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let t=e.parentElement;for(;t;){const i=getComputedStyle(t);(LI.has(i.overflowX)||LI.has(i.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const i=e===window,s=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:s.x-t.x,y:s.y-t.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,s),Lt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ro(this.updatePoint)}}function f0(n,e){return e?{point:e(n.point)}:n}function jI(n,e){return{x:n.x-e.x,y:n.y-e.y}}function m0({point:n},e){return{point:n,delta:jI(n,oP(e)),offset:jI(n,m7(e)),velocity:p7(e,.1)}}function m7(n){return n[0]}function oP(n){return n[n.length-1]}function p7(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const s=oP(n);for(;t>=0&&(i=n[t],!(s.timestamp-i.timestamp>Os(e)));)t--;if(!i)return{x:0,y:0};const o=tr(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const c={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function g7(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?$t(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?$t(t,n,i.max):Math.min(n,t)),n}function UI(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function y7(n,{top:e,left:t,bottom:i,right:s}){return{x:UI(n.x,t,s),y:UI(n.y,e,i)}}function BI(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function v7(n,e){return{x:BI(n.x,e.x),y:BI(n.y,e.y)}}function _7(n,e){let t=.5;const i=ei(n),s=ei(e);return s>i?t=Id(e.min,e.max-i,n.min):i>s&&(t=Id(n.min,n.max-s,e.min)),is(0,1,t)}function b7(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const A_=.35;function w7(n=A_){return n===!1?n=0:n===!0&&(n=A_),{x:zI(n,"left","right"),y:zI(n,"top","bottom")}}function zI(n,e,t){return{min:FI(n,e),max:FI(n,t)}}function FI(n,e){return typeof n=="number"?n:n[e]||0}const T7=new WeakMap;class x7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=v=>{t?(this.stopAnimation(),this.snapToCursor(nf(v).point)):this.pauseAnimation()},c=(v,w)=>{this.stopAnimation();const{drag:E,dragPropagation:R,onDragStart:k}=this.getProps();if(E&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=u8(E),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zi(B=>{let H=this.getAxisMotionValue(B).get()||0;if(Zr.test(H)){const{projection:F}=this.visualElement;if(F&&F.layout){const $=F.layout.layoutBox[B];$&&(H=ei($)*(parseFloat(H)/100))}}this.originPoint[B]=H}),k&&Lt.postRender(()=>k(v,w)),__(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},h=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:E,dragDirectionLock:R,onDirectionLock:k,onDrag:C}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:B}=w;if(R&&this.currentDirection===null){this.currentDirection=E7(B),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",w.point,B),this.updateAxis("y",w.point,B),this.visualElement.render(),C&&C(v,w)},d=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Zi(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new aP(e,{onSessionStart:o,onStart:c,onMove:h,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:sP(this.visualElement),element:this.visualElement.current})}stop(e,t){const i=e||this.latestPointerEvent,s=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!i)return;const{velocity:c}=s;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Lt.postRender(()=>h(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:s}=this.getProps();if(!i||!jm(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=g7(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Yh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=y7(i.layoutBox,e):this.constraints=!1,this.elastic=w7(t),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Zi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=b7(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Yh(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=I8(i,s.root,this.visualElement.getTransformPagePoint());let c=v7(s.layout.layoutBox,o);if(t){const h=t(E8(c));this.hasMutatedConstraints=!!h,h&&(c=Rk(h))}return c}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},f=Zi(g=>{if(!jm(g,t,this.currentDirection))return;let v=d&&d[g]||{};c&&(v={min:0,max:0});const w=s?200:1e6,E=s?40:1e7,R={type:"inertia",velocity:i?e[g]:0,bounceStiffness:w,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,R)});return Promise.all(f).then(h)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return __(this.visualElement,e),i.start(Aw(e,i,0,t,this.visualElement,!1))}stopAnimation(){Zi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[t];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Zi(t=>{const{drag:i}=this.getProps();if(!jm(t,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(t);if(s&&s.layout){const{min:c,max:h}=s.layout.layoutBox[t],d=o.get()||0;o.set(e[t]-$t(c,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Yh(t)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Zi(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();s[c]=_7({min:d,max:d},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Zi(c=>{if(!jm(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:f}=this.constraints[c];h.set($t(d,f,s[c]))})}addListeners(){if(!this.visualElement.current)return;T7.set(this.visualElement,this);const e=this.visualElement.current,t=ud(e,"pointerdown",d=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&!Tk(d.target)&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Yh(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Lt.read(i);const c=Dd(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Zi(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=d[g].translate,v.set(v.get()+d[g].translate))}),this.visualElement.render())}));return()=>{c(),t(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:c=A_,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:c,dragMomentum:h}}}function jm(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function E7(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class S7 extends go{constructor(e){super(e),this.removeGroupControls=ir,this.removeListeners=ir,this.controls=new x7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ir}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const qI=n=>(e,t)=>{n&&Lt.postRender(()=>n(e,t))};class A7 extends go{constructor(){super(...arguments),this.removePointerDownListener=ir}onPointerDown(e){this.session=new aP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:qI(e),onStart:qI(t),onMove:i,onEnd:(o,c)=>{delete this.session,s&&Lt.postRender(()=>s(o,c))}}}mount(){this.removePointerDownListener=ud(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let p0=!1;class I7 extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=e;o&&(t.group&&t.group.add(o),i&&i.register&&s&&i.register(o),p0&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),lp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:s,isPresent:o}=this.props,{projection:c}=i;return c&&(c.isPresent=o,p0=!0,s||e.layoutDependency!==t||t===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||Lt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Nw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:s}=e;p0=!0,s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lP(n){const[e,t]=Wk(),i=V.useContext(ow);return _.jsx(I7,{...n,layoutGroup:i,switchLayoutGroup:V.useContext(iP),isPresent:e,safeToRemove:t})}const R7={pan:{Feature:A7},drag:{Feature:S7,ProjectionNode:Yk,MeasureLayout:lP}};function GI(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,o=i[s];o&&Lt.postRender(()=>o(e,nf(e)))}class C7 extends go{mount(){const{current:e}=this.node;e&&(this.unmount=h8(e,(t,i)=>(GI(this.node,i,"Start"),s=>GI(this.node,s,"End"))))}unmount(){}}class N7 extends go{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zd(Dd(this.node.current,"focus",()=>this.onFocus()),Dd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function HI(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),o=i[s];o&&Lt.postRender(()=>o(e,nf(e)))}class D7 extends go{mount(){const{current:e}=this.node;e&&(this.unmount=m8(e,(t,i)=>(HI(this.node,i,"Start"),(s,{success:o})=>HI(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const I_=new WeakMap,g0=new WeakMap,k7=n=>{const e=I_.get(n.target);e&&e(n)},P7=n=>{n.forEach(k7)};function V7({root:n,...e}){const t=n||document;g0.has(t)||g0.set(t,{});const i=g0.get(t),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(P7,{root:n,...e})),i[s]}function M7(n,e,t){const i=V7(e);return I_.set(n,t),i.observe(n),()=>{I_.delete(n),i.unobserve(n)}}const O7={some:0,all:1};class L7 extends go{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:s="some",once:o}=e,c={root:t?t.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:O7[s]},h=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),w=f?g:v;w&&w(d)};return M7(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(j7(e,t))&&this.startObserver()}unmount(){}}function j7({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const U7={inView:{Feature:L7},tap:{Feature:D7},focus:{Feature:N7},hover:{Feature:C7}},B7={layout:{ProjectionNode:Yk,MeasureLayout:lP}},z7={...h7,...U7,...R7,...B7},at=a7(z7,o7);const F7=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),q7=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),$I=n=>{const e=q7(n);return e.charAt(0).toUpperCase()+e.slice(1)},cP=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),G7=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var H7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $7=V.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:c,...h},d)=>V.createElement("svg",{ref:d,...H7,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:cP("lucide",s),...!o&&!G7(h)&&{"aria-hidden":"true"},...h},[...c.map(([f,g])=>V.createElement(f,g)),...Array.isArray(o)?o:[o]]));const lt=(n,e)=>{const t=V.forwardRef(({className:i,...s},o)=>V.createElement($7,{ref:o,iconNode:e,className:cP(`lucide-${F7($I(n))}`,`lucide-${n}`,i),...s}));return t.displayName=$I(n),t};const K7=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],uP=lt("arrow-left",K7);const Q7=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],KI=lt("award",Q7);const Y7=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Yp=lt("book-open",Y7);const W7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wp=lt("calendar",W7);const X7=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],R_=lt("camera",X7);const J7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kc=lt("check",J7);const Z7=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hP=lt("chevron-left",Z7);const eG=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dP=lt("chevron-right",eG);const tG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],QI=lt("circle-alert",tG);const nG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fP=lt("circle-check-big",nG);const iG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Uw=lt("circle-question-mark",iG);const rG=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sG=lt("clock",rG);const aG=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],oG=lt("crown",aG);const lG=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Bw=lt("layout-grid",lG);const cG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],uG=lt("loader-circle",cG);const hG=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mP=lt("log-out",hG);const dG=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],fG=lt("mail",dG);const mG=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],YI=lt("palette",mG);const pG=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],WI=lt("pen",pG);const gG=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],yG=lt("play",gG);const vG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xp=lt("plus",vG);const _G=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],bG=lt("printer",_G);const wG=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zw=lt("settings",wG);const TG=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],cp=lt("share-2",TG);const xG=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],EG=lt("shuffle",xG);const SG=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],pP=lt("sparkles",SG);const AG=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],XI=lt("square-check-big",AG);const IG=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gP=lt("trash-2",IG);const RG=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],CG=lt("triangle-alert",RG);const NG=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],DG=lt("type",NG);const kG=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],PG=lt("user",kG);const VG=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],MG=lt("users",VG);const OG=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dl=lt("x",OG);const LG=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],JI=lt("zap",LG),yP=V.createContext(null),vP=()=>{const n=V.useContext(yP);if(!n)throw new Error("useDialog must be used within a DialogProvider");return n},jG=({children:n})=>{const[e,t]=V.useState({isOpen:!1,type:"alert",options:{message:""},resolve:null}),[i,s]=V.useState(""),[o,c]=V.useState("editor"),h=V.useCallback((R,k)=>new Promise(C=>{s(k.inputDefaultValue||""),c("editor"),t({isOpen:!0,type:R,options:k,resolve:C})}),[]),d=V.useCallback(R=>{e.resolve&&e.resolve(R),t(k=>({...k,isOpen:!1,resolve:null}))},[e.resolve]),f=V.useCallback((R,k)=>h("alert",{message:R,title:"Notice",confirmText:"OK",type:"info",...k}),[h]),g=V.useCallback((R,k)=>h("confirm",{message:R,title:"Confirm",confirmText:"Yes",cancelText:"Cancel",type:"warning",...k}),[h]),v=V.useCallback((R,k)=>h("prompt",{message:R,title:"Input",confirmText:"OK",cancelText:"Cancel",inputPlaceholder:"",...k}),[h]),w=V.useCallback((R,k)=>h("share",{message:R,title:"Share Board",confirmText:"Send Invite",cancelText:"Cancel",showRoleSelector:!0,inputPlaceholder:"Enter email address",...k}),[h]),E=()=>{switch(e.options.type){case"success":return _.jsx(fP,{className:"w-8 h-8 text-green-400"});case"warning":return _.jsx(QI,{className:"w-8 h-8 text-amber-400"});case"error":return _.jsx(QI,{className:"w-8 h-8 text-red-400"});default:return _.jsx(Uw,{className:"w-8 h-8 text-accent-primary"})}};return _.jsxs(yP.Provider,{value:{alert:f,confirm:g,prompt:v,sharePrompt:w},children:[n,_.jsx(vr,{children:e.isOpen&&_.jsx(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!1):d(null)},children:_.jsxs(at.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:R=>R.stopPropagation(),children:[_.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="share"?_.jsx(fG,{className:"w-6 h-6 text-accent-primary"}):E(),_.jsx("h3",{className:"text-lg font-bold text-white",children:e.options.title})]}),_.jsx("button",{onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!1):d(null)},className:"p-1 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:_.jsx(dl,{size:20})})]}),_.jsxs("div",{className:"p-6",children:[_.jsx("p",{className:"text-slate-300 mb-4 whitespace-pre-wrap",children:e.options.message}),(e.type==="prompt"||e.type==="share")&&_.jsx("input",{type:e.type==="share"?"email":"text",autoFocus:!0,value:i,onChange:R=>s(R.target.value),placeholder:e.options.inputPlaceholder,className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors mb-4",onKeyDown:R=>{R.key==="Enter"&&i.trim()&&(e.type==="share"?d({email:i.trim(),role:o}):d(i.trim()))}}),e.type==="share"&&e.options.showRoleSelector&&_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"text-sm font-medium text-slate-400 mb-2 block",children:"Access Level"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>c("viewer"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${o==="viewer"?"bg-accent-primary/20 text-accent-primary border border-accent-primary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Viewer"}),_.jsx("button",{onClick:()=>c("editor"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${o==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Editor"})]}),_.jsx("p",{className:"text-xs text-slate-500 mt-2",children:o==="viewer"?"Can view the board but not make changes":"Can view and edit the board"})]})]}),_.jsxs("div",{className:"flex gap-3 p-4 pt-0",children:[e.type!=="alert"&&_.jsx("button",{onClick:()=>{e.type==="confirm"?d(!1):d(null)},className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:e.options.cancelText}),_.jsx("button",{onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!0):e.type==="share"?i.trim()&&d({email:i.trim(),role:o}):d(i.trim()||null)},disabled:(e.type==="prompt"||e.type==="share")&&!i.trim(),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.options.confirmText})]})]})})})]})};function _P(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=_P(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function UG(){for(var n,e,t=0,i="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=_P(n))&&(i&&(i+=" "),i+=e);return i}const BG=(n,e)=>{const t=new Array(n.length+e.length);for(let i=0;i<n.length;i++)t[i]=n[i];for(let i=0;i<e.length;i++)t[n.length+i]=e[i];return t},zG=(n,e)=>({classGroupId:n,validator:e}),bP=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),Jp="-",ZI=[],FG="arbitrary..",qG=n=>{const e=HG(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return GG(c);const h=c.split(Jp),d=h[0]===""&&h.length>1?1:0;return wP(h,d,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const d=i[c],f=t[c];return d?f?BG(f,d):d:f||ZI}return t[c]||ZI}}},wP=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const s=n[e],o=t.nextPart.get(s);if(o){const f=wP(n,e+1,o);if(f)return f}const c=t.validators;if(c===null)return;const h=e===0?n.join(Jp):n.slice(e).join(Jp),d=c.length;for(let f=0;f<d;f++){const g=c[f];if(g.validator(h))return g.classGroupId}},GG=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),i=e.slice(0,t);return i?FG+i:void 0})(),HG=n=>{const{theme:e,classGroups:t}=n;return $G(t,e)},$G=(n,e)=>{const t=bP();for(const i in n){const s=n[i];Fw(s,t,i,e)}return t},Fw=(n,e,t,i)=>{const s=n.length;for(let o=0;o<s;o++){const c=n[o];KG(c,e,t,i)}},KG=(n,e,t,i)=>{if(typeof n=="string"){QG(n,e,t);return}if(typeof n=="function"){YG(n,e,t,i);return}WG(n,e,t,i)},QG=(n,e,t)=>{const i=n===""?e:TP(e,n);i.classGroupId=t},YG=(n,e,t,i)=>{if(XG(n)){Fw(n(i),e,t,i);return}e.validators===null&&(e.validators=[]),e.validators.push(zG(t,n))},WG=(n,e,t,i)=>{const s=Object.entries(n),o=s.length;for(let c=0;c<o;c++){const[h,d]=s[c];Fw(d,TP(e,h),t,i)}},TP=(n,e)=>{let t=n;const i=e.split(Jp),s=i.length;for(let o=0;o<s;o++){const c=i[o];let h=t.nextPart.get(c);h||(h=bP(),t.nextPart.set(c,h)),t=h}return t},XG=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,JG=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),i=Object.create(null);const s=(o,c)=>{t[o]=c,e++,e>n&&(e=0,i=t,t=Object.create(null))};return{get(o){let c=t[o];if(c!==void 0)return c;if((c=i[o])!==void 0)return s(o,c),c},set(o,c){o in t?t[o]=c:s(o,c)}}},C_="!",eR=":",ZG=[],tR=(n,e,t,i,s)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:i,isExternal:s}),eH=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=s=>{const o=[];let c=0,h=0,d=0,f;const g=s.length;for(let k=0;k<g;k++){const C=s[k];if(c===0&&h===0){if(C===eR){o.push(s.slice(d,k)),d=k+1;continue}if(C==="/"){f=k;continue}}C==="["?c++:C==="]"?c--:C==="("?h++:C===")"&&h--}const v=o.length===0?s:s.slice(d);let w=v,E=!1;v.endsWith(C_)?(w=v.slice(0,-1),E=!0):v.startsWith(C_)&&(w=v.slice(1),E=!0);const R=f&&f>d?f-d:void 0;return tR(o,E,w,R)};if(e){const s=e+eR,o=i;i=c=>c.startsWith(s)?o(c.slice(s.length)):tR(ZG,!1,c,void 0,!0)}if(t){const s=i;i=o=>t({className:o,parseClassName:s})}return i},tH=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,i)=>{e.set(t,1e6+i)}),t=>{const i=[];let s=[];for(let o=0;o<t.length;o++){const c=t[o],h=c[0]==="[",d=e.has(c);h||d?(s.length>0&&(s.sort(),i.push(...s),s=[]),i.push(c)):s.push(c)}return s.length>0&&(s.sort(),i.push(...s)),i}},nH=n=>({cache:JG(n.cacheSize),parseClassName:eH(n),sortModifiers:tH(n),...qG(n)}),iH=/\s+/,rH=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:o}=e,c=[],h=n.trim().split(iH);let d="";for(let f=h.length-1;f>=0;f-=1){const g=h[f],{isExternal:v,modifiers:w,hasImportantModifier:E,baseClassName:R,maybePostfixModifierPosition:k}=t(g);if(v){d=g+(d.length>0?" "+d:d);continue}let C=!!k,B=i(C?R.substring(0,k):R);if(!B){if(!C){d=g+(d.length>0?" "+d:d);continue}if(B=i(R),!B){d=g+(d.length>0?" "+d:d);continue}C=!1}const H=w.length===0?"":w.length===1?w[0]:o(w).join(":"),F=E?H+C_:H,$=F+B;if(c.indexOf($)>-1)continue;c.push($);const ie=s(B,C);for(let le=0;le<ie.length;++le){const N=ie[le];c.push(F+N)}d=g+(d.length>0?" "+d:d)}return d},sH=(...n)=>{let e=0,t,i,s="";for(;e<n.length;)(t=n[e++])&&(i=xP(t))&&(s&&(s+=" "),s+=i);return s},xP=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=xP(n[i]))&&(t&&(t+=" "),t+=e);return t},aH=(n,...e)=>{let t,i,s,o;const c=d=>{const f=e.reduce((g,v)=>v(g),n());return t=nH(f),i=t.cache.get,s=t.cache.set,o=h,h(d)},h=d=>{const f=i(d);if(f)return f;const g=rH(d,t);return s(d,g),g};return o=c,(...d)=>o(sH(...d))},oH=[],bn=n=>{const e=t=>t[n]||oH;return e.isThemeGetter=!0,e},EP=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,SP=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lH=/^\d+\/\d+$/,cH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,dH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xc=n=>lH.test(n),Ke=n=>!!n&&!Number.isNaN(Number(n)),Pa=n=>!!n&&Number.isInteger(Number(n)),y0=n=>n.endsWith("%")&&Ke(n.slice(0,-1)),Is=n=>cH.test(n),mH=()=>!0,pH=n=>uH.test(n)&&!hH.test(n),AP=()=>!1,gH=n=>dH.test(n),yH=n=>fH.test(n),vH=n=>!Ce(n)&&!Ne(n),_H=n=>Du(n,CP,AP),Ce=n=>EP.test(n),Qo=n=>Du(n,NP,pH),v0=n=>Du(n,EH,Ke),nR=n=>Du(n,IP,AP),bH=n=>Du(n,RP,yH),Um=n=>Du(n,DP,gH),Ne=n=>SP.test(n),zh=n=>ku(n,NP),wH=n=>ku(n,SH),iR=n=>ku(n,IP),TH=n=>ku(n,CP),xH=n=>ku(n,RP),Bm=n=>ku(n,DP,!0),Du=(n,e,t)=>{const i=EP.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},ku=(n,e,t=!1)=>{const i=SP.exec(n);return i?i[1]?e(i[1]):t:!1},IP=n=>n==="position"||n==="percentage",RP=n=>n==="image"||n==="url",CP=n=>n==="length"||n==="size"||n==="bg-size",NP=n=>n==="length",EH=n=>n==="number",SH=n=>n==="family-name",DP=n=>n==="shadow",AH=()=>{const n=bn("color"),e=bn("font"),t=bn("text"),i=bn("font-weight"),s=bn("tracking"),o=bn("leading"),c=bn("breakpoint"),h=bn("container"),d=bn("spacing"),f=bn("radius"),g=bn("shadow"),v=bn("inset-shadow"),w=bn("text-shadow"),E=bn("drop-shadow"),R=bn("blur"),k=bn("perspective"),C=bn("aspect"),B=bn("ease"),H=bn("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ie=()=>[...$(),Ne,Ce],le=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],A=()=>[Ne,Ce,d],P=()=>[xc,"full","auto",...A()],L=()=>[Pa,"none","subgrid",Ne,Ce],O=()=>["auto",{span:["full",Pa,Ne,Ce]},Pa,Ne,Ce],z=()=>[Pa,"auto",Ne,Ce],M=()=>["auto","min","max","fr",Ne,Ce],ge=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],_e=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...A()],Z=()=>[xc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],K=()=>[n,Ne,Ce],ye=()=>[...$(),iR,nR,{position:[Ne,Ce]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],S=()=>["auto","cover","contain",TH,_H,{size:[Ne,Ce]}],W=()=>[y0,zh,Qo],se=()=>["","none","full",f,Ne,Ce],ue=()=>["",Ke,zh,Qo],ve=()=>["solid","dashed","dotted","double"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[Ke,y0,iR,nR],Ie=()=>["","none",R,Ne,Ce],Pe=()=>["none",Ke,Ne,Ce],Qe=()=>["none",Ke,Ne,Ce],$e=()=>[Ke,Ne,Ce],Ye=()=>[xc,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Is],breakpoint:[Is],color:[mH],container:[Is],"drop-shadow":[Is],ease:["in","out","in-out"],font:[vH],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Is],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Is],shadow:[Is],spacing:["px",Ke],text:[Is],"text-shadow":[Is],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",xc,Ce,Ne,C]}],container:["container"],columns:[{columns:[Ke,Ce,Ne,h]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ie()}],overflow:[{overflow:le()}],"overflow-x":[{"overflow-x":le()}],"overflow-y":[{"overflow-y":le()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Pa,"auto",Ne,Ce]}],basis:[{basis:[xc,"full","auto",h,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ke,xc,"auto","initial","none",Ce]}],grow:[{grow:["",Ke,Ne,Ce]}],shrink:[{shrink:["",Ke,Ne,Ce]}],order:[{order:[Pa,"first","last","none",Ne,Ce]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...ge(),"normal"]}],"justify-items":[{"justify-items":[..._e(),"normal"]}],"justify-self":[{"justify-self":["auto",..._e()]}],"align-content":[{content:["normal",...ge()]}],"align-items":[{items:[..._e(),{baseline:["","last"]}]}],"align-self":[{self:["auto",..._e(),{baseline:["","last"]}]}],"place-content":[{"place-content":ge()}],"place-items":[{"place-items":[..._e(),"baseline"]}],"place-self":[{"place-self":["auto",..._e()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[h,"screen",...Z()]}],"min-w":[{"min-w":[h,"screen","none",...Z()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",t,zh,Qo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Ne,v0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",y0,Ce]}],"font-family":[{font:[wH,Ce,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ne,Ce]}],"line-clamp":[{"line-clamp":[Ke,"none",Ne,v0]}],leading:[{leading:[o,...A()]}],"list-image":[{"list-image":["none",Ne,Ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,Ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ke,"from-font","auto",Ne,Qo]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[Ke,"auto",Ne,Ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ye()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:S()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Pa,Ne,Ce],radial:["",Ne,Ce],conic:[Pa,Ne,Ce]},xH,bH]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ve(),"hidden","none"]}],"divide-style":[{divide:[...ve(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ke,Ne,Ce]}],"outline-w":[{outline:["",Ke,zh,Qo]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",g,Bm,Um]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",v,Bm,Um]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[Ke,Qo]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",w,Bm,Um]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[Ke,Ne,Ce]}],"mix-blend":[{"mix-blend":[...be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[Ne,Ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[Ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ye()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:S()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,Ce]}],filter:[{filter:["","none",Ne,Ce]}],blur:[{blur:Ie()}],brightness:[{brightness:[Ke,Ne,Ce]}],contrast:[{contrast:[Ke,Ne,Ce]}],"drop-shadow":[{"drop-shadow":["","none",E,Bm,Um]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",Ke,Ne,Ce]}],"hue-rotate":[{"hue-rotate":[Ke,Ne,Ce]}],invert:[{invert:["",Ke,Ne,Ce]}],saturate:[{saturate:[Ke,Ne,Ce]}],sepia:[{sepia:["",Ke,Ne,Ce]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,Ce]}],"backdrop-blur":[{"backdrop-blur":Ie()}],"backdrop-brightness":[{"backdrop-brightness":[Ke,Ne,Ce]}],"backdrop-contrast":[{"backdrop-contrast":[Ke,Ne,Ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ke,Ne,Ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ke,Ne,Ce]}],"backdrop-invert":[{"backdrop-invert":["",Ke,Ne,Ce]}],"backdrop-opacity":[{"backdrop-opacity":[Ke,Ne,Ce]}],"backdrop-saturate":[{"backdrop-saturate":[Ke,Ne,Ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Ke,Ne,Ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,Ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ke,"initial",Ne,Ce]}],ease:[{ease:["linear","initial",B,Ne,Ce]}],delay:[{delay:[Ke,Ne,Ce]}],animate:[{animate:["none",H,Ne,Ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,Ne,Ce]}],"perspective-origin":[{"perspective-origin":ie()}],rotate:[{rotate:Pe()}],"rotate-x":[{"rotate-x":Pe()}],"rotate-y":[{"rotate-y":Pe()}],"rotate-z":[{"rotate-z":Pe()}],scale:[{scale:Qe()}],"scale-x":[{"scale-x":Qe()}],"scale-y":[{"scale-y":Qe()}],"scale-z":[{"scale-z":Qe()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[Ne,Ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:ie()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ye()}],"translate-x":[{"translate-x":Ye()}],"translate-y":[{"translate-y":Ye()}],"translate-z":[{"translate-z":Ye()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,Ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,Ce]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[Ke,zh,Qo,v0]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},IH=aH(AH);function rn(...n){return IH(UG(n))}const RH=()=>{const{isSettingsOpen:n,closeSettings:e,settings:t,updateSettings:i}=rf(),s=up.useRef(t);if(up.useEffect(()=>{n&&(s.current=t)},[n]),!n)return null;const o=()=>{i(s.current,!1),e()},c=()=>{i(t,!0),e()},h=[{id:"dawn",name:"Dawn",color:"bg-[#0f111a] from-violet-500/20 to-pink-500/20"},{id:"midnight",name:"Midnight",color:"bg-[#020617] from-sky-500/20 to-indigo-500/20"},{id:"forest",name:"Forest",color:"bg-[#052e16] from-green-500/20 to-emerald-500/20"},{id:"ocean",name:"Ocean",color:"bg-[#083344] from-cyan-500/20 to-teal-500/20"},{id:"sunset",name:"Sunset",color:"bg-[#2a0a0a] from-orange-500/20 to-rose-500/20"}],d=[{id:"outfit",name:"Modern",family:"font-[Outfit]"},{id:"inter",name:"Clean",family:"font-[Inter]"},{id:"playfair",name:"Elegant",family:'font-["Playfair_Display"]'},{id:"mono",name:"Tech",family:'font-["Fira_Code"]'}];return _.jsx(vr,{children:n&&_.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 font-sans",children:[_.jsx(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:o}),_.jsxs(at.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-lg bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col",children:[_.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[_.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[_.jsx(YI,{className:"w-5 h-5 text-accent-primary"}),"Customization"]}),_.jsx("button",{onClick:o,className:"text-slate-400 hover:text-white transition-colors",children:_.jsx(dl,{className:"w-6 h-6"})})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[_.jsxs("section",{children:[_.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[_.jsx(YI,{className:"w-4 h-4"})," Theme"]}),_.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:h.map(f=>_.jsxs("button",{onClick:()=>i({theme:f.id},!1),className:rn("relative group overflow-hidden rounded-xl border transition-all duration-300",t.theme===f.id?"border-accent-primary ring-2 ring-accent-primary/50":"border-white/10 hover:border-white/30"),children:[_.jsx("div",{className:rn("h-16 w-full bg-gradient-to-br",f.color)}),_.jsx("div",{className:"p-3 bg-slate-800/50",children:_.jsx("span",{className:rn("text-sm font-medium",t.theme===f.id?"text-white":"text-slate-400"),children:f.name})}),t.theme===f.id&&_.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-accent-primary rounded-full flex items-center justify-center shadow-lg",children:_.jsx(kc,{className:"w-3 h-3 text-white"})})]},f.id))})]}),_.jsxs("section",{children:[_.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[_.jsx(DG,{className:"w-4 h-4"})," Typography"]}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:d.map(f=>_.jsxs("button",{onClick:()=>i({font:f.id},!1),className:rn("flex items-center justify-between p-4 rounded-xl border transition-all duration-200 text-left",t.font===f.id?"bg-white/10 border-accent-primary text-white":"bg-white/5 border-white/5 hover:bg-white/10 text-slate-300"),children:[_.jsxs("div",{children:[_.jsx("span",{className:rn("text-lg block mb-0.5",f.family),children:"Aa"}),_.jsx("span",{className:"text-xs text-slate-400",children:f.name})]}),t.font===f.id&&_.jsx(kc,{className:"w-5 h-5 text-accent-primary"})]},f.id))}),_.jsx("div",{className:"mt-4 p-4 rounded-xl bg-black/20 border border-white/5",children:_.jsx("p",{className:rn("text-sm text-slate-300 leading-relaxed",t.font==="outfit"&&"font-[Outfit]",t.font==="inter"&&"font-[Inter]",t.font==="playfair"&&'font-["Playfair_Display"]',t.font==="mono"&&'font-["Fira_Code"]'),children:"The quick brown fox jumps over the lazy dog. 1234567890."})})]}),_.jsxs("section",{children:[_.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[_.jsx(JI,{className:"w-4 h-4"})," Experience"]}),_.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 mb-3",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:rn("p-2 rounded-lg",t.enableAnimation?"bg-accent-primary/20 text-accent-primary":"bg-slate-700 text-slate-400"),children:_.jsx(JI,{size:20})}),_.jsxs("div",{children:[_.jsx("div",{className:"font-medium text-white",children:"Live Backgrounds"}),_.jsx("div",{className:"text-xs text-slate-400",children:"Dynamic particles and ambient effects"})]})]}),_.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:t.enableAnimation,onChange:f=>i({enableAnimation:f.target.checked},!1),className:"sr-only peer"}),_.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-accent-primary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary"})]})]}),_.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:rn("p-2 rounded-lg",t.enableSound?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-slate-400"),children:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),_.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),_.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]})}),_.jsxs("div",{children:[_.jsx("div",{className:"font-medium text-white",children:"Sound Effects"}),_.jsx("div",{className:"text-xs text-slate-400",children:"Satisfying clicks and celebrations"})]})]}),_.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:t.enableSound,onChange:f=>i({enableSound:f.target.checked},!1),className:"sr-only peer"}),_.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]})]})]}),_.jsxs("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3 sticky bottom-0 bg-slate-900 z-10 shrink-0",children:[_.jsx("button",{onClick:o,className:"px-4 py-2 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),_.jsx("button",{onClick:c,className:"px-6 py-2 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all active:scale-95",children:"Save Changes"})]})]})]})})},_0={theme:"dawn",font:"outfit",enableAnimation:!0,enableSound:!0},kP=V.createContext(null),rf=()=>{const n=V.useContext(kP);if(!n)throw new Error("useSettings must be used within a SettingsProvider");return n},CH=({children:n})=>{const{user:e}=Dl(),[t,i]=V.useState(_0),[s,o]=V.useState(!1);V.useEffect(()=>{(async()=>{if(!e){i(_0);return}try{const g=nr(sn,"users",e.uid),v=await Au(g);v.exists()&&v.data().settings&&i({..._0,...v.data().settings})}catch(g){console.error("Error loading settings:",g)}})()},[e]),V.useEffect(()=>{const f=document.body;f.classList.remove("theme-midnight","theme-forest","theme-ocean","theme-sunset"),t.theme!=="dawn"&&f.classList.add(`theme-${t.theme}`),f.classList.remove("font-inter","font-playfair","font-mono","font-comic"),t.font!=="outfit"&&f.classList.add(`font-${t.font}`),t.enableAnimation?f.classList.remove("reduce-motion"):f.classList.add("reduce-motion")},[t]);const c=async(f,g=!0)=>{const v={...t,...f};if(i(v),e&&g)try{await jp(nr(sn,"users",e.uid),{settings:v},{merge:!0})}catch(w){console.error("Error saving settings:",w)}},h=()=>o(!0),d=()=>o(!1);return _.jsxs(kP.Provider,{value:{settings:t,updateSettings:c,isSettingsOpen:s,openSettings:h,closeSettings:d},children:[n,_.jsx(RH,{})]})},NH=()=>{const{signIn:n,error:e}=Dl();return _.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center",children:[_.jsx("div",{className:"background-animation"}),_.jsxs("div",{className:"glass-panel p-8 max-w-md w-full flex flex-col items-center gap-6 animate-fade-in",children:[_.jsxs("div",{className:"flex flex-col items-center gap-2 mb-2",children:[_.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-24 w-auto object-contain drop-shadow-[0_0_15px_rgba(251,191,36,0.3)]"}),_.jsx("div",{className:"rounded-full bg-accent-primary/20 p-2 hidden",children:_.jsx(pP,{className:"w-6 h-6 text-accent-gold animate-pulse"})})]}),_.jsx("h1",{className:"text-4xl font-heading font-bold text-gradient sr-only",children:"SunSar Bingo"}),_.jsxs("p",{className:"text-slate-300 font-light text-lg",children:["Track your goals, share with friends,",_.jsx("br",{}),"and make 2026 your best year yet."]}),e&&_.jsx("div",{className:"bg-red-500/20 text-red-200 px-4 py-2 rounded-lg text-sm border border-red-500/30",children:e}),_.jsx("button",{onClick:n,className:"group relative px-6 py-3 bg-white text-bg-dark font-bold rounded-full transition-all hover:scale-105 hover:shadow-[0_0_20px_rgba(255,255,255,0.3)]",children:_.jsxs("span",{className:"flex items-center gap-2",children:[_.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"G",className:"w-5 h-5"}),"Sign in / Sign up with Google"]})})]}),_.jsx("footer",{className:"absolute bottom-4 text-slate-500 text-xs",children:" 2026 SunSar Bingo  Free & Open Source"})]})};var qw={};(function n(e,t,i,s){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",h=(function(){if(!e.OffscreenCanvas)return!1;try{var q=new OffscreenCanvas(1,1),S=q.getContext("2d");S.fillRect(0,0,1,1);var W=q.transferToImageBitmap();S.createPattern(W,"no-repeat")}catch{return!1}return!0})();function d(){}function f(q){var S=t.exports.Promise,W=S!==void 0?S:e.Promise;return typeof W=="function"?new W(q):(q(d,d),null)}var g=(function(q,S){return{transform:function(W){if(q)return W;if(S.has(W))return S.get(W);var se=new OffscreenCanvas(W.width,W.height),ue=se.getContext("2d");return ue.drawImage(W,0,0),S.set(W,se),se},clear:function(){S.clear()}}})(h,new Map),v=(function(){var q=Math.floor(16.666666666666668),S,W,se={},ue=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(S=function(ve){var be=Math.random();return se[be]=requestAnimationFrame(function me(Ie){ue===Ie||ue+q-1<Ie?(ue=Ie,delete se[be],ve()):se[be]=requestAnimationFrame(me)}),be},W=function(ve){se[ve]&&cancelAnimationFrame(se[ve])}):(S=function(ve){return setTimeout(ve,q)},W=function(ve){return clearTimeout(ve)}),{frame:S,cancel:W}})(),w=(function(){var q,S,W={};function se(ue){function ve(be,me){ue.postMessage({options:be||{},callback:me})}ue.init=function(me){var Ie=me.transferControlToOffscreen();ue.postMessage({canvas:Ie},[Ie])},ue.fire=function(me,Ie,Pe){if(S)return ve(me,null),S;var Qe=Math.random().toString(36).slice(2);return S=f(function($e){function Ye(Nt){Nt.data.callback===Qe&&(delete W[Qe],ue.removeEventListener("message",Ye),S=null,g.clear(),Pe(),$e())}ue.addEventListener("message",Ye),ve(me,Qe),W[Qe]=Ye.bind(null,{data:{callback:Qe}})}),S},ue.reset=function(){ue.postMessage({reset:!0});for(var me in W)W[me](),delete W[me]}}return function(){if(q)return q;if(!i&&o){var ue=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{q=new Worker(URL.createObjectURL(new Blob([ue])))}catch(ve){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ve),null}se(q)}return q}})(),E={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function R(q,S){return S?S(q):q}function k(q){return q!=null}function C(q,S,W){return R(q&&k(q[S])?q[S]:E[S],W)}function B(q){return q<0?0:Math.floor(q)}function H(q,S){return Math.floor(Math.random()*(S-q))+q}function F(q){return parseInt(q,16)}function $(q){return q.map(ie)}function ie(q){var S=String(q).replace(/[^0-9a-f]/gi,"");return S.length<6&&(S=S[0]+S[0]+S[1]+S[1]+S[2]+S[2]),{r:F(S.substring(0,2)),g:F(S.substring(2,4)),b:F(S.substring(4,6))}}function le(q){var S=C(q,"origin",Object);return S.x=C(S,"x",Number),S.y=C(S,"y",Number),S}function N(q){q.width=document.documentElement.clientWidth,q.height=document.documentElement.clientHeight}function A(q){var S=q.getBoundingClientRect();q.width=S.width,q.height=S.height}function P(q){var S=document.createElement("canvas");return S.style.position="fixed",S.style.top="0px",S.style.left="0px",S.style.pointerEvents="none",S.style.zIndex=q,S}function L(q,S,W,se,ue,ve,be,me,Ie){q.save(),q.translate(S,W),q.rotate(ve),q.scale(se,ue),q.arc(0,0,1,be,me,Ie),q.restore()}function O(q){var S=q.angle*(Math.PI/180),W=q.spread*(Math.PI/180);return{x:q.x,y:q.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:q.startVelocity*.5+Math.random()*q.startVelocity,angle2D:-S+(.5*W-Math.random()*W),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:q.color,shape:q.shape,tick:0,totalTicks:q.ticks,decay:q.decay,drift:q.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:q.gravity*3,ovalScalar:.6,scalar:q.scalar,flat:q.flat}}function z(q,S){S.x+=Math.cos(S.angle2D)*S.velocity+S.drift,S.y+=Math.sin(S.angle2D)*S.velocity+S.gravity,S.velocity*=S.decay,S.flat?(S.wobble=0,S.wobbleX=S.x+10*S.scalar,S.wobbleY=S.y+10*S.scalar,S.tiltSin=0,S.tiltCos=0,S.random=1):(S.wobble+=S.wobbleSpeed,S.wobbleX=S.x+10*S.scalar*Math.cos(S.wobble),S.wobbleY=S.y+10*S.scalar*Math.sin(S.wobble),S.tiltAngle+=.1,S.tiltSin=Math.sin(S.tiltAngle),S.tiltCos=Math.cos(S.tiltAngle),S.random=Math.random()+2);var W=S.tick++/S.totalTicks,se=S.x+S.random*S.tiltCos,ue=S.y+S.random*S.tiltSin,ve=S.wobbleX+S.random*S.tiltCos,be=S.wobbleY+S.random*S.tiltSin;if(q.fillStyle="rgba("+S.color.r+", "+S.color.g+", "+S.color.b+", "+(1-W)+")",q.beginPath(),c&&S.shape.type==="path"&&typeof S.shape.path=="string"&&Array.isArray(S.shape.matrix))q.fill(Z(S.shape.path,S.shape.matrix,S.x,S.y,Math.abs(ve-se)*.1,Math.abs(be-ue)*.1,Math.PI/10*S.wobble));else if(S.shape.type==="bitmap"){var me=Math.PI/10*S.wobble,Ie=Math.abs(ve-se)*.1,Pe=Math.abs(be-ue)*.1,Qe=S.shape.bitmap.width*S.scalar,$e=S.shape.bitmap.height*S.scalar,Ye=new DOMMatrix([Math.cos(me)*Ie,Math.sin(me)*Ie,-Math.sin(me)*Pe,Math.cos(me)*Pe,S.x,S.y]);Ye.multiplySelf(new DOMMatrix(S.shape.matrix));var Nt=q.createPattern(g.transform(S.shape.bitmap),"no-repeat");Nt.setTransform(Ye),q.globalAlpha=1-W,q.fillStyle=Nt,q.fillRect(S.x-Qe/2,S.y-$e/2,Qe,$e),q.globalAlpha=1}else if(S.shape==="circle")q.ellipse?q.ellipse(S.x,S.y,Math.abs(ve-se)*S.ovalScalar,Math.abs(be-ue)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI):L(q,S.x,S.y,Math.abs(ve-se)*S.ovalScalar,Math.abs(be-ue)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI);else if(S.shape==="star")for(var je=Math.PI/2*3,mt=4*S.scalar,Jt=8*S.scalar,Zt=S.x,Dn=S.y,pt=5,rt=Math.PI/pt;pt--;)Zt=S.x+Math.cos(je)*Jt,Dn=S.y+Math.sin(je)*Jt,q.lineTo(Zt,Dn),je+=rt,Zt=S.x+Math.cos(je)*mt,Dn=S.y+Math.sin(je)*mt,q.lineTo(Zt,Dn),je+=rt;else q.moveTo(Math.floor(S.x),Math.floor(S.y)),q.lineTo(Math.floor(S.wobbleX),Math.floor(ue)),q.lineTo(Math.floor(ve),Math.floor(be)),q.lineTo(Math.floor(se),Math.floor(S.wobbleY));return q.closePath(),q.fill(),S.tick<S.totalTicks}function M(q,S,W,se,ue){var ve=S.slice(),be=q.getContext("2d"),me,Ie,Pe=f(function(Qe){function $e(){me=Ie=null,be.clearRect(0,0,se.width,se.height),g.clear(),ue(),Qe()}function Ye(){i&&!(se.width===s.width&&se.height===s.height)&&(se.width=q.width=s.width,se.height=q.height=s.height),!se.width&&!se.height&&(W(q),se.width=q.width,se.height=q.height),be.clearRect(0,0,se.width,se.height),ve=ve.filter(function(Nt){return z(be,Nt)}),ve.length?me=v.frame(Ye):$e()}me=v.frame(Ye),Ie=$e});return{addFettis:function(Qe){return ve=ve.concat(Qe),Pe},canvas:q,promise:Pe,reset:function(){me&&v.cancel(me),Ie&&Ie()}}}function ge(q,S){var W=!q,se=!!C(S||{},"resize"),ue=!1,ve=C(S,"disableForReducedMotion",Boolean),be=o&&!!C(S||{},"useWorker"),me=be?w():null,Ie=W?N:A,Pe=q&&me?!!q.__confetti_initialized:!1,Qe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,$e;function Ye(je,mt,Jt){for(var Zt=C(je,"particleCount",B),Dn=C(je,"angle",Number),pt=C(je,"spread",Number),rt=C(je,"startVelocity",Number),Vi=C(je,"decay",Number),yo=C(je,"gravity",Number),Qs=C(je,"drift",Number),ln=C(je,"colors",$),Un=C(je,"ticks",Number),Qn=C(je,"shapes"),ti=C(je,"scalar"),Bn=!!C(je,"flat"),as=le(je),Ir=Zt,Rr=[],sr=q.width*as.x,ct=q.height*as.y;Ir--;)Rr.push(O({x:sr,y:ct,angle:Dn,spread:pt,startVelocity:rt,color:ln[Ir%ln.length],shape:Qn[H(0,Qn.length)],ticks:Un,decay:Vi,gravity:yo,drift:Qs,scalar:ti,flat:Bn}));return $e?$e.addFettis(Rr):($e=M(q,Rr,Ie,mt,Jt),$e.promise)}function Nt(je){var mt=ve||C(je,"disableForReducedMotion",Boolean),Jt=C(je,"zIndex",Number);if(mt&&Qe)return f(function(rt){rt()});W&&$e?q=$e.canvas:W&&!q&&(q=P(Jt),document.body.appendChild(q)),se&&!Pe&&Ie(q);var Zt={width:q.width,height:q.height};me&&!Pe&&me.init(q),Pe=!0,me&&(q.__confetti_initialized=!0);function Dn(){if(me){var rt={getBoundingClientRect:function(){if(!W)return q.getBoundingClientRect()}};Ie(rt),me.postMessage({resize:{width:rt.width,height:rt.height}});return}Zt.width=Zt.height=null}function pt(){$e=null,se&&(ue=!1,e.removeEventListener("resize",Dn)),W&&q&&(document.body.contains(q)&&document.body.removeChild(q),q=null,Pe=!1)}return se&&!ue&&(ue=!0,e.addEventListener("resize",Dn,!1)),me?me.fire(je,Zt,pt):Ye(je,Zt,pt)}return Nt.reset=function(){me&&me.reset(),$e&&$e.reset()},Nt}var _e;function U(){return _e||(_e=ge(null,{useWorker:!0,resize:!0})),_e}function Z(q,S,W,se,ue,ve,be){var me=new Path2D(q),Ie=new Path2D;Ie.addPath(me,new DOMMatrix(S));var Pe=new Path2D;return Pe.addPath(Ie,new DOMMatrix([Math.cos(be)*ue,Math.sin(be)*ue,-Math.sin(be)*ve,Math.cos(be)*ve,W,se])),Pe}function K(q){if(!c)throw new Error("path confetti are not supported in this browser");var S,W;typeof q=="string"?S=q:(S=q.path,W=q.matrix);var se=new Path2D(S),ue=document.createElement("canvas"),ve=ue.getContext("2d");if(!W){for(var be=1e3,me=be,Ie=be,Pe=0,Qe=0,$e,Ye,Nt=0;Nt<be;Nt+=2)for(var je=0;je<be;je+=2)ve.isPointInPath(se,Nt,je,"nonzero")&&(me=Math.min(me,Nt),Ie=Math.min(Ie,je),Pe=Math.max(Pe,Nt),Qe=Math.max(Qe,je));$e=Pe-me,Ye=Qe-Ie;var mt=10,Jt=Math.min(mt/$e,mt/Ye);W=[Jt,0,0,Jt,-Math.round($e/2+me)*Jt,-Math.round(Ye/2+Ie)*Jt]}return{type:"path",path:S,matrix:W}}function ye(q){var S,W=1,se="#000000",ue='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof q=="string"?S=q:(S=q.text,W="scalar"in q?q.scalar:W,ue="fontFamily"in q?q.fontFamily:ue,se="color"in q?q.color:se);var ve=10*W,be=""+ve+"px "+ue,me=new OffscreenCanvas(ve,ve),Ie=me.getContext("2d");Ie.font=be;var Pe=Ie.measureText(S),Qe=Math.ceil(Pe.actualBoundingBoxRight+Pe.actualBoundingBoxLeft),$e=Math.ceil(Pe.actualBoundingBoxAscent+Pe.actualBoundingBoxDescent),Ye=2,Nt=Pe.actualBoundingBoxLeft+Ye,je=Pe.actualBoundingBoxAscent+Ye;Qe+=Ye+Ye,$e+=Ye+Ye,me=new OffscreenCanvas(Qe,$e),Ie=me.getContext("2d"),Ie.font=be,Ie.fillStyle=se,Ie.fillText(S,Nt,je);var mt=1/W;return{type:"bitmap",bitmap:me.transferToImageBitmap(),matrix:[mt,0,0,mt,-Qe*mt/2,-$e*mt/2]}}t.exports=function(){return U().apply(this,arguments)},t.exports.reset=function(){U().reset()},t.exports.create=ge,t.exports.shapeFromPath=K,t.exports.shapeFromText=ye})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),qw,!1);const PP=qw.exports;qw.exports.create;const zm=(n=1)=>{const e=200*n,t={origin:{y:.7}};function i(s,o){PP(Object.assign({},t,o,{particleCount:Math.floor(e*s)}))}i(.25,{spread:26,startVelocity:55}),i(.2,{spread:60}),i(.35,{spread:100,decay:.91,scalar:.8}),i(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),i(.1,{spread:120,startVelocity:45})},rR={cloudName:"dia6ped7h",uploadPreset:"bingo_proofs"},sR=async n=>{const e=new FormData;e.append("file",n),e.append("upload_preset",rR.uploadPreset),e.append("folder","bingo-proofs");const t=await fetch(`https://api.cloudinary.com/v1_1/${rR.cloudName}/image/upload`,{method:"POST",body:e});if(!t.ok){const s=await t.json();throw console.error("Cloudinary upload error:",s),new Error(s.error?.message||"Failed to upload image")}return(await t.json()).secure_url},DH="2026",b0=5,kH=["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"],PH=n=>{const{user:e}=Dl(),[t,i]=V.useState([]),[s,o]=V.useState({}),[c,h]=V.useState(!0),[d,f]=V.useState(!1),[g,v]=V.useState(!1),[w,E]=V.useState(""),[R,k]=V.useState(b0),C=V.useMemo(()=>n?nr(sn,"boards",n):nr(sn,"years",DH),[n]),B=(ge,_e)=>{if(!ge.length)return;const U=[];for(let K=0;K<_e;K++)U.push(ge.slice(K*_e,(K+1)*_e));let Z=!1;for(let K=0;K<_e;K++)if(U[K]&&U[K].every(ye=>ye.isCompleted)){Z=!0;break}if(!Z){for(let K=0;K<_e;K++)if(U.map(ye=>ye[K]).every(ye=>ye&&ye.isCompleted)){Z=!0;break}}!Z&&U.map((K,ye)=>K[ye]).every(K=>K&&K.isCompleted)&&(Z=!0),!Z&&U.map((K,ye)=>K[_e-1-ye]).every(K=>K&&K.isCompleted)&&(Z=!0),Z&&!d?(f(!0),zm(2)):Z||f(!1)},H=async(ge=b0)=>{const _e=ge*ge,U=ge%2===1?Math.floor(_e/2):-1,Z=[...kH].sort(()=>.5-Math.random()),K=[];let ye=0;for(let q=0;q<_e;q++)q===U&&ge%2===1?K.push({id:q,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(K.push({id:q,text:Z[ye%Z.length]||`Goal ${q+1}`,isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),ye++);await jp(C,{year:2026,gridSize:ge,items:K,isLocked:!1,createdAt:Ue.now(),lastUpdated:Ue.now(),...e?{ownerId:e.uid,members:{[e.uid]:"owner"}}:{}},{merge:!0})};V.useEffect(()=>{if(!e)return;h(!0);const ge=Up(C,_e=>{if(_e.exists()){const U=_e.data(),Z=U.gridSize||b0;k(Z),i(U.items||[]),o(U.members||{}),v(U.isLocked||!1),E(U.title||""),B(U.items||[],Z)}else H();h(!1)},_e=>{console.error("Error fetching bingo board:",_e),h(!1)});return()=>ge()},[C,e]);const F=async ge=>{if(!t.length)return;const _e=t.map(ye=>({...ye})),U=_e[ge];if(U.isFreeSpace)return;const Z=U.targetCount||1,K=U.currentCount||0;if(U.isCompleted){const ye=Math.max(0,K-1);U.currentCount=ye,U.isCompleted=ye>=Z,ye===0&&(U.completedBy=null,U.completedAt=null,U.proofPhotos=[])}else{const ye=Math.min(Z,K+1);U.currentCount=ye,U.isCompleted=ye>=Z,U.completedBy=e?.displayName||e?.email||"Unknown",U.completedAt=Ue.now(),zm(.5)}i(_e),B(_e,R);try{await Ji(C,{items:_e,lastUpdated:Ue.now()})}catch(ye){console.error("Error updating bingo board:",ye)}},$=async ge=>{if(!t.length)return;const _e=t.map(q=>({...q})),U=_e[ge];if(U.isFreeSpace)return;const Z=U.currentCount||0;if(Z<=0)return;const K=U.targetCount||1,ye=Z-1;U.currentCount=ye,U.isCompleted=ye>=K,ye===0&&(U.completedBy=null,U.completedAt=null,U.proofPhotos=[]),i(_e),B(_e,R);try{await Ji(C,{items:_e,lastUpdated:Ue.now()})}catch(q){console.error("Error decrementing progress:",q)}},ie=async(ge,_e)=>{if(!(!t.length||!e))try{const U=await sR(_e),Z=t.map(se=>({...se})),K=Z[ge];if(K.isFreeSpace)return;const ye=K.targetCount||1,q=K.currentCount||0,S=Math.min(ye,q+1);K.currentCount=S,K.isCompleted=S>=ye,K.completedBy=e?.displayName||e?.email||"Unknown",K.completedAt=Ue.now();const W=K.proofPhotos||[];K.proofPhotos=[...W,U],i(Z),B(Z,R),zm(1),await Ji(C,{items:Z,lastUpdated:Ue.now()})}catch(U){throw console.error("Error completing with photo:",U),U}},le=async(ge,_e)=>{if(!t.length||!e)return;const U=t[ge];!U.isCompleted&&(U.currentCount||0)<(U.targetCount||1);const Z=U.proofPhotos||[];if(Z.length>=5)throw new Error("Maximum 5 photos allowed per tile");try{const K=await sR(_e),ye=t.map(q=>({...q}));return ye[ge].proofPhotos=[...Z,K],i(ye),zm(.3),await Ji(C,{items:ye,lastUpdated:Ue.now()}),K}catch(K){throw console.error("Error adding photo:",K),K}},N=async(ge,_e)=>{const U=t.map(Z=>({...Z}));_e.text!==void 0&&(U[ge].text=_e.text),_e.style!==void 0&&(U[ge].style=_e.style),i(U);try{await Ji(C,{items:U,lastUpdated:Ue.now()})}catch(Z){console.error("Error updating item:",Z)}},A=async()=>{const ge=[...t],_e=R*R,U=R%2===1?Math.floor(_e/2):-1;let Z;if(U!==-1){const K=ge[U],ye=[...ge.slice(0,U),...ge.slice(U+1)];for(let q=ye.length-1;q>0;q--){const S=Math.floor(Math.random()*(q+1));[ye[q],ye[S]]=[ye[S],ye[q]]}Z=[...ye.slice(0,U),K,...ye.slice(U)]}else{Z=[...ge];for(let K=Z.length-1;K>0;K--){const ye=Math.floor(Math.random()*(K+1));[Z[K],Z[ye]]=[Z[ye],Z[K]]}}i(Z),v(!0),await jp(C,{isLocked:!0,items:Z,itemsBackup:ge,lastUpdated:Ue.now()},{merge:!0})},P=async()=>{try{const ge=await Au(C);if(ge.exists()){const _e=ge.data();_e.itemsBackup?await Ji(C,{items:_e.itemsBackup,itemsBackup:Lp(),isLocked:!1,lastUpdated:Ue.now()}):await Ji(C,{isLocked:!1,lastUpdated:Ue.now()})}}catch(ge){console.error("Error unlocking board:",ge)}},L=V.useMemo(()=>{const ge=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],[0,6,12,18,24],[4,8,12,16,20]],_e=new Set(t.map((U,Z)=>U.isCompleted?Z:-1));return ge.reduce((U,Z)=>Z.every(K=>_e.has(K))?U+1:U,0)},[t]);return{items:t,members:s,loading:c,toggleItem:F,updateItem:N,hasWon:d,bingoCount:L,isLocked:g,unlockBoard:P,jumbleAndLock:A,saveBoard:async ge=>{i(ge);try{await Ji(C,{items:ge,lastUpdated:Ue.now()})}catch(_e){console.error("Error saving board:",_e)}},completeWithPhoto:ie,addPhotoToTile:le,decrementProgress:$,inviteUser:async(ge,_e="editor")=>{try{const U=Fa(_r(sn,"users"),Cs("email","==",ge)),Z=await Vs(U);if(Z.empty)return{success:!1,type:"not_found",message:"User not found"};const K=Z.docs[0],ye=K.id;return await Ji(C,{[`members.${ye}`]:_e}),{success:!0,type:"success",message:`Added ${K.data().displayName||ge} as ${_e}!`}}catch(U){return console.error("Error inviting user:",U),{success:!1,type:"error",message:"Failed to invite user"}}},removeMember:async ge=>{try{return await Ji(C,{[`members.${ge}`]:Lp()}),{success:!0}}catch(_e){return console.error("Error removing member:",_e),{success:!1,error:_e}}},title:w,gridSize:R}};let hd=null;const Fh=()=>(hd||(hd=new(window.AudioContext||window.webkitAudioContext)),hd),VH=()=>{const{settings:n}=rf(),e=n.enableSound??!0,t=V.useRef(0);V.useEffect(()=>{const f=()=>{hd?.state==="suspended"&&hd.resume()};return document.addEventListener("click",f,{once:!0}),document.addEventListener("touchstart",f,{once:!0}),()=>{document.removeEventListener("click",f),document.removeEventListener("touchstart",f)}},[]);const i=V.useCallback(()=>{const f=Date.now();return f-t.current<50?!1:(t.current=f,!0)},[]),s=V.useCallback(()=>{if(!(!e||!i()))try{const f=Fh(),g=f.createOscillator(),v=f.createGain();g.connect(v),v.connect(f.destination),g.frequency.setValueAtTime(800,f.currentTime),g.frequency.exponentialRampToValueAtTime(400,f.currentTime+.1),g.type="sine",v.gain.setValueAtTime(.15,f.currentTime),v.gain.exponentialRampToValueAtTime(.001,f.currentTime+.1),g.start(f.currentTime),g.stop(f.currentTime+.1)}catch(f){console.warn("Audio playback failed:",f)}},[e,i]),o=V.useCallback(()=>{if(!(!e||!i()))try{const f=Fh();[523.25,659.25,783.99].forEach((v,w)=>{const E=f.createOscillator(),R=f.createGain();E.connect(R),R.connect(f.destination),E.frequency.setValueAtTime(v,f.currentTime),E.type="sine";const k=f.currentTime+w*.08;R.gain.setValueAtTime(0,k),R.gain.linearRampToValueAtTime(.12,k+.02),R.gain.exponentialRampToValueAtTime(.001,k+.3),E.start(k),E.stop(k+.3)})}catch(f){console.warn("Audio playback failed:",f)}},[e,i]),c=V.useCallback(()=>{if(e)try{const f=Fh();[{freq:523.25,time:0},{freq:659.25,time:.1},{freq:783.99,time:.2},{freq:1046.5,time:.35},{freq:1318.51,time:.5}].forEach(({freq:E,time:R})=>{const k=f.createOscillator(),C=f.createGain();k.connect(C),C.connect(f.destination),k.frequency.setValueAtTime(E,f.currentTime+R),k.type="sine",C.gain.setValueAtTime(0,f.currentTime+R),C.gain.linearRampToValueAtTime(.2,f.currentTime+R+.02),C.gain.exponentialRampToValueAtTime(.001,f.currentTime+R+.5),k.start(f.currentTime+R),k.stop(f.currentTime+R+.5)});const v=f.createOscillator(),w=f.createGain();v.connect(w),w.connect(f.destination),v.type="sine",v.frequency.setValueAtTime(2e3,f.currentTime+.6),v.frequency.exponentialRampToValueAtTime(4e3,f.currentTime+1.2),w.gain.setValueAtTime(0,f.currentTime+.6),w.gain.linearRampToValueAtTime(.05,f.currentTime+.7),w.gain.exponentialRampToValueAtTime(.001,f.currentTime+1.2),v.start(f.currentTime+.6),v.stop(f.currentTime+1.2)}catch(f){console.warn("Audio playback failed:",f)}},[e]),h=V.useCallback(()=>{if(!(!e||!i()))try{const f=Fh(),g=f.sampleRate*.15,v=f.createBuffer(1,g,f.sampleRate),w=v.getChannelData(0);for(let C=0;C<g;C++)w[C]=(Math.random()*2-1)*(1-C/g);const E=f.createBufferSource(),R=f.createBiquadFilter(),k=f.createGain();E.buffer=v,R.type="lowpass",R.frequency.setValueAtTime(2e3,f.currentTime),R.frequency.exponentialRampToValueAtTime(500,f.currentTime+.15),E.connect(R),R.connect(k),k.connect(f.destination),k.gain.setValueAtTime(.08,f.currentTime),k.gain.exponentialRampToValueAtTime(.001,f.currentTime+.15),E.start(f.currentTime)}catch(f){console.warn("Audio playback failed:",f)}},[e,i]),d=V.useCallback(()=>{if(!(!e||!i()))try{const f=Fh(),g=f.createOscillator(),v=f.createGain();g.connect(v),v.connect(f.destination),g.frequency.setValueAtTime(200,f.currentTime),g.frequency.linearRampToValueAtTime(150,f.currentTime+.2),g.type="sine",v.gain.setValueAtTime(.15,f.currentTime),v.gain.exponentialRampToValueAtTime(.001,f.currentTime+.2),g.start(f.currentTime),g.stop(f.currentTime+.2)}catch(f){console.warn("Audio playback failed:",f)}},[e,i]);return{playClick:s,playSuccess:o,playBingo:c,playWhoosh:h,playError:d}},MH=({items:n,isOpen:e,onClose:t})=>{const[i,s]=V.useState(null),o=V.useMemo(()=>n.map((d,f)=>({...d,originalIndex:f})).filter(d=>d.isCompleted&&d.proofPhotos&&d.proofPhotos.length>0).sort((d,f)=>{const g=d.completedAt?.toDate?.()||new Date(0);return(f.completedAt?.toDate?.()||new Date(0)).getTime()-g.getTime()}),[n]),c=V.useMemo(()=>{const d={};return o.forEach(f=>{const v=(f.completedAt?.toDate?.()||new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"});d[v]||(d[v]=[]),d[v].push(f)}),d},[o]),h=d=>d?(d.toDate?d.toDate():new Date(d)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e?_.jsx(vr,{children:_.jsxs(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-bg-dark overflow-y-auto",children:[_.jsx("div",{className:"sticky top-0 z-10 bg-bg-dark/95 backdrop-blur-md border-b border-white/10",children:_.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(Yp,{className:"w-6 h-6 text-accent-gold"}),_.jsx("h1",{className:"text-xl font-bold text-white",children:"2026 Memories"}),_.jsxs("span",{className:"text-sm text-slate-400",children:["(",o.length," moments)"]})]}),_.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:text-white transition-colors rounded-full hover:bg-white/10",children:_.jsx(dl,{size:24})})]})}),_.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:o.length===0?_.jsxs("div",{className:"text-center py-20",children:[_.jsx(Yp,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),_.jsx("h2",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No memories yet"}),_.jsx("p",{className:"text-slate-500",children:"Complete tasks and add photos to build your 2026 album!"})]}):Object.entries(c).map(([d,f])=>_.jsxs("div",{className:"mb-8",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[_.jsx(Wp,{className:"w-4 h-4 text-accent-primary"}),_.jsx("h2",{className:"text-lg font-semibold text-accent-primary",children:d}),_.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent-primary/30 to-transparent"})]}),_.jsx("div",{className:"space-y-6",children:f.map((g,v)=>_.jsxs(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"bg-bg-card/80 rounded-2xl border border-white/10 overflow-hidden shadow-xl",children:[_.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer",onClick:()=>s({memoryIdx:o.indexOf(g),photoIdx:0}),children:[_.jsx("img",{src:g.proofPhotos[0],alt:g.text,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),g.proofPhotos.length>1&&_.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-full text-white text-xs font-medium",children:["+",g.proofPhotos.length-1," more"]})]}),g.proofPhotos.length>1&&_.jsx("div",{className:"flex gap-1 p-2 bg-black/30 overflow-x-auto",children:g.proofPhotos.map((w,E)=>_.jsx("button",{onClick:()=>s({memoryIdx:o.indexOf(g),photoIdx:E}),className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 border-2 border-transparent hover:border-accent-primary transition-all",children:_.jsx("img",{src:w,alt:"",className:"w-full h-full object-cover"})},E))}),_.jsxs("div",{className:"p-4",children:[_.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[_.jsx("span",{className:"text-accent-gold",children:""}),g.text]}),_.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(PG,{size:14}),g.completedBy]}),_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(Wp,{size:14}),h(g.completedAt)]})]})]})]},g.id))})]},d))}),_.jsx(vr,{children:i!==null&&o[i.memoryIdx]&&_.jsxs(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>s(null),children:[_.jsx("button",{onClick:()=>s(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white",children:_.jsx(dl,{size:32})}),(()=>{const d=o[i.memoryIdx],f=d.proofPhotos||[],g=i.photoIdx;return _.jsxs("div",{className:"relative max-w-4xl w-full",onClick:v=>v.stopPropagation(),children:[_.jsx("img",{src:f[g],alt:"",className:"w-full max-h-[80vh] object-contain rounded-lg"}),f.length>1&&_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:()=>s({...i,photoIdx:g>0?g-1:f.length-1}),className:"absolute left-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:_.jsx(hP,{size:28})}),_.jsx("button",{onClick:()=>s({...i,photoIdx:g<f.length-1?g+1:0}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:_.jsx(dP,{size:28})})]}),_.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[_.jsx("p",{className:"text-white font-semibold",children:d.text}),_.jsxs("p",{className:"text-slate-300 text-sm",children:[g+1," / ",f.length,"  ",h(d.completedAt)]})]})]})})()]})})]})}):null},aR=()=>{const{boardId:n,yearId:e}=iO(),t=du(),i=e?void 0:n,{items:s,members:o,loading:c,toggleItem:h,hasWon:d,bingoCount:f,isLocked:g,unlockBoard:v,jumbleAndLock:w,saveBoard:E,completeWithPhoto:R,addPhotoToTile:k,decrementProgress:C,inviteUser:B,removeMember:H,title:F,gridSize:$}=PH(i),{logout:ie,user:le}=Dl(),N=vP(),{openSettings:A}=rf(),{playClick:P,playSuccess:L,playBingo:O,playWhoosh:z}=VH(),[M,ge]=V.useState(!1),[_e,U]=V.useState([]),[Z,K]=V.useState(!1),[ye,q]=V.useState(!1),[S,W]=V.useState([]),[se,ue]=V.useState(null),[ve,be]=V.useState(""),[me,Ie]=V.useState({}),[Pe,Qe]=V.useState(1),[$e,Ye]=V.useState(""),[Nt,je]=V.useState(!1),[mt,Jt]=V.useState(0),[Zt,Dn]=V.useState(null),[pt,rt]=V.useState(!1);V.useEffect(()=>{!localStorage.getItem("hasSeenWalkthrough")&&!c&&s.length>0&&je(!0)},[c,s]),V.useEffect(()=>{(async()=>{if(ye&&o){const Se=[];for(const[gt,jt]of Object.entries(o))if(jt!=="owner")try{const cn=await Au(nr(sn,"users",gt));if(cn.exists()){const zn=cn.data();Se.push({id:gt,name:zn.displayName||"Unknown",email:zn.email||"No email",role:jt})}}catch(cn){console.error("Error fetching user:",cn)}W(Se)}})()},[ye,o]);const Vi=async(Y,Se)=>{await N.confirm(`Are you sure you want to remove ${Se} from this board?`,{title:"Remove Member",type:"error",confirmText:"Remove"})&&((await H(Y)).success?(W(cn=>cn.filter(zn=>zn.id!==Y)),await N.alert(`${Se} has been removed.`,{type:"success"})):await N.alert("Failed to remove member.",{type:"error"}))},yo=async()=>{const Y=await N.sharePrompt("Enter their email address to invite them to this board.",{title:"Invite User"});if(Y){const Se=await B(Y.email,Y.role);if(Se.type==="success")await N.alert(Se.message,{title:"Success!",type:"success"});else if(Se.type==="not_found"){if(await N.confirm(`"${Y.email}" hasn't signed up yet.

Would you like to send them an email invitation to join SunSar Bingo?`,{title:"User Not Found",confirmText:"Send Invite Email",type:"info"}))try{const{sendInviteEmail:jt,openMailtoFallback:cn}=await dp(async()=>{const{sendInviteEmail:ar,openMailtoFallback:_i}=await import("./emailService-CX49g3vC.js");return{sendInviteEmail:ar,openMailtoFallback:_i}},[]);(await jt({recipientEmail:Y.email,senderName:le?.displayName||le?.email||"A friend"})).success?await N.alert(`Invitation sent to ${Y.email}! They'll receive an email with instructions to join.`,{title:"Invitation Sent!",type:"success"}):(cn(Y.email,le?.displayName||"A friend"),await N.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"}))}catch{const cn=encodeURIComponent("Join me on SunSar Bingo!"),zn=encodeURIComponent(`Hey! Come join me on SunSar Bingo to track our 2026 goals together.

Sign up here: ${window.location.origin}`);window.open(`mailto:${Y.email}?subject=${cn}&body=${zn}`),await N.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"})}}else await N.alert(Se.message,{title:"Error",type:"error"})}},Qs=()=>{mt<2?Jt(Y=>Y+1):(je(!1),localStorage.setItem("hasSeenWalkthrough","true"))},[ln,Un]=V.useState(!1),[Qn,ti]=V.useState(null),[Bn,as]=V.useState(!1),Ir=V.useRef(null),[Rr,sr]=V.useState(!1),[ct,Ht]=V.useState(null),[Yn,Dt]=V.useState(null),[os,Mi]=V.useState(0),[vo,gi]=V.useState(!1),Oi=V.useRef(null),[Qt,yi]=V.useState(!1),[Li,ni]=V.useState(()=>localStorage.getItem("celebrationDismissed")==="true"),[_o,Ys]=V.useState(0);V.useEffect(()=>{_o===5&&(v(),Ys(0),PP({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#ec4899","#ffffff"]}));let Y;return _o>0&&(Y=setTimeout(()=>Ys(0),1e3)),()=>clearTimeout(Y)},[_o,v]);const ji=()=>{g&&Ys(Y=>Y+1)},ls=async()=>{await N.confirm("This will randomly shuffle all tiles (except the center) and lock the board. You won't be able to edit it after this.",{title:"Shuffle & Lock Board?",confirmText:"Lock It!",type:"warning"})&&(w(),ge(!1))},Pu=()=>{ni(!0),localStorage.setItem("celebrationDismissed","true")};up.useEffect(()=>{!c&&!d&&(ni(!1),localStorage.removeItem("celebrationDismissed"))},[d,c]);const Cr=V.useRef(d);up.useEffect(()=>{d&&!Cr.current&&!c&&O(),Cr.current=d},[d,c,O]);const bo=Y=>{const Se=M?_e:s;if(ue(Y),be(Se[Y].text),Ie(Se[Y].style||{color:"#ffffff",fontSize:"base",bold:!1,italic:!1}),Qe(Se[Y].targetCount||1),Se[Y].dueDate){const gt=Se[Y].dueDate,jt=typeof gt.toDate=="function"?gt.toDate():new Date(gt),cn=jt.getFullYear(),zn=String(jt.getMonth()+1).padStart(2,"0"),ar=String(jt.getDate()).padStart(2,"0");Ye(`${cn}-${zn}-${ar}`)}else Ye("");K(!0)},wo=()=>{if(se===null)return;let Y;$e&&(Y=new Date($e+"T12:00:00"));const Se=[..._e];Se[se]={...Se[se],text:ve,style:me,targetCount:Pe,dueDate:Y},U(Se),K(!1),ue(null)};if(c)return _.jsx("div",{className:"flex h-screen items-center justify-center text-accent-primary animate-pulse",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),_.jsx("p",{children:"Loading Board..."})]})});const Ui=s.filter(Y=>Y.isCompleted).length/25*100,Xs=Y=>{if(!Y)return"-";const Se=Y.toDate?Y.toDate():new Date(Y);return Se.toLocaleDateString()+" "+Se.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},Wn=M?_e:s,vi=Y=>{const Se=Wn[Y];Dn({index:Y,wasCompleted:Se.isCompleted}),Se.isCompleted?P():L(),h(Y),rt(!0),setTimeout(()=>rt(!1),3e3)};return _.jsx(_.Fragment,{children:_.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 pb-24 relative overflow-x-hidden no-print",children:[_.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsxs("header",{className:"flex justify-between items-center mb-8 py-2",children:[_.jsx(at.img,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},src:"/logo.png",alt:"SunSar Bingo",className:"h-10 sm:h-12 w-auto object-contain cursor-pointer active:scale-95 transition-transform",onClick:ji}),_.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[_.jsx("button",{onClick:()=>yi(!0),className:"p-2.5 text-slate-400 hover:text-accent-gold hover:bg-white/5 rounded-full transition-colors",title:"View Memories",children:_.jsx(Yp,{size:20})}),_.jsx("button",{onClick:()=>t("/dashboard"),className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Dashboard",children:_.jsx(Bw,{size:20})}),_.jsx("button",{onClick:()=>q(!0),className:"p-2.5 text-slate-400 hover:text-accent-primary hover:bg-white/5 rounded-full transition-colors",title:"Share Board",children:_.jsx(cp,{size:20})}),_.jsx("button",{onClick:A,className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Settings",children:_.jsx(zw,{size:20})}),_.jsx("div",{className:"w-px h-6 bg-white/10 mx-1 hidden sm:block"}),_.jsx(at.div,{initial:{scale:0},animate:{scale:1},className:"relative cursor-pointer group",children:_.jsx("img",{src:le?.photoURL||"",alt:"User",className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full border-2 border-white/10 group-hover:border-accent-primary transition-colors object-cover shrink-0"})}),_.jsx("button",{onClick:ie,className:"p-2.5 text-slate-400 hover:text-red-400 hover:bg-white/5 rounded-full transition-colors",title:"Logout",children:_.jsx(mP,{size:20})})]})]}),_.jsxs("div",{className:"mb-10",children:[_.jsx(at.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:F?_.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:F}):_.jsxs(_.Fragment,{children:["My ",_.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent italic",children:"Bingo"})]})}),_.jsxs("p",{className:"text-slate-400 mt-2 text-base flex items-center gap-2",children:[_.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-white/5 rounded-full text-sm border border-white/10",children:[$,"",$," Grid"]}),_.jsx("span",{children:""}),_.jsxs("span",{children:[s.filter(Y=>Y.isCompleted).length,"/",s.length," completed"]})]})]}),_.jsx("div",{className:"flex justify-center mb-6",children:_.jsx("div",{className:"w-full max-w-[520px] aspect-square relative",children:_.jsx("div",{className:rn("grid gap-1.5 sm:gap-2 w-full h-full",$===3&&"grid-cols-3 grid-rows-3",$===4&&"grid-cols-4 grid-rows-4",$===5&&"grid-cols-5 grid-rows-5",$===6&&"grid-cols-6 grid-rows-6"),children:Wn.map((Y,Se)=>_.jsxs(at.div,{title:Y.isCompleted?`Completed by ${Y.completedBy||"Someone"} on ${Xs(Y.completedAt)}`:void 0,layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:Se*.02},whileTap:{scale:.95},onClick:()=>{M||Y.isFreeSpace||(Y.isCompleted?Y.proofPhotos&&Y.proofPhotos.length>0?(Ht(Y),Dt(Se),Mi(0),sr(!0)):vi(Se):(z(),ti(Se),Un(!0)))},className:rn("relative rounded-lg flex items-center justify-center p-1 cursor-pointer select-none border backdrop-blur-sm overflow-hidden",$===3&&"text-sm sm:text-base",$===4&&"text-xs sm:text-sm",$===5&&"text-[11px] sm:text-sm",$===6&&"text-[9px] sm:text-xs","font-medium leading-tight select-none",Y.isCompleted?"text-white scale-110 font-semibold":"text-slate-300","bg-bg-card/90 border-white/20 shadow-md hover:border-white/40 hover:bg-bg-card/95 transition-all duration-200",Y.isCompleted&&!Y.isFreeSpace&&"bg-gradient-to-br from-accent-primary/30 to-accent-secondary/30 border-accent-primary/50 shadow-[0_0_15px_rgba(139,92,246,0.15)]",Y.isFreeSpace&&"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50",M&&"border-dashed border-slate-500"),children:[_.jsx("div",{className:"w-full h-full flex items-center justify-center text-center relative z-10",children:_.jsx("div",{className:"w-full h-full flex items-center justify-center p-1",onClick:gt=>{M&&(gt.stopPropagation(),bo(Se))},children:_.jsx("span",{className:rn("leading-tight break-words w-full",Y.isFreeSpace?"text-lg font-bold text-accent-gold":"font-semibold line-clamp-3 sm:line-clamp-4",Y.isCompleted&&!Y.isFreeSpace&&"text-white"),style:!Y.isFreeSpace&&!Y.isCompleted?{color:Y.style?.color||"#cbd5e1",fontWeight:Y.style?.bold?"bold":"600",fontStyle:Y.style?.italic?"italic":"normal",fontSize:Y.style?.fontSize==="sm"?"12px":Y.style?.fontSize==="lg"?"18px":Y.style?.fontSize==="xl"?"22px":void 0}:void 0,children:Y.text})})}),Y.dueDate&&!Y.isCompleted&&!g&&_.jsxs("div",{className:rn("flex items-center gap-1 mt-1 text-[10px] font-medium absolute bottom-1 right-1 px-1 rounded bg-black/40 backdrop-blur-sm",(Y.dueDate.toDate?Y.dueDate.toDate():new Date(Y.dueDate))<new Date?"text-red-400":"text-slate-400"),children:[_.jsx(sG,{size:8}),_.jsx("span",{children:(Y.dueDate.toDate?Y.dueDate.toDate():new Date(Y.dueDate)).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),Y.isCompleted&&!Y.isFreeSpace&&!M&&_.jsxs(_.Fragment,{children:[_.jsx(at.div,{initial:{scale:0},animate:{scale:1},className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-20",children:_.jsx(kc,{className:"w-12 h-12 text-white"})}),_.jsx("div",{className:"absolute top-0.5 right-0.5 w-1.5 h-1.5 bg-accent-primary rounded-full shadow-[0_0_5px_rgba(139,92,246,0.8)]"}),Y.proofPhotos&&Y.proofPhotos.length>0&&_.jsxs("div",{className:"absolute bottom-0.5 left-0.5 p-0.5 bg-accent-gold/80 rounded-sm flex items-center gap-0.5",children:[_.jsx(R_,{className:"w-2.5 h-2.5 text-black"}),Y.proofPhotos.length>1&&_.jsx("span",{className:"text-[8px] font-bold text-black",children:Y.proofPhotos.length})]})]}),!Y.isFreeSpace&&!M&&(Y.targetCount||1)>1&&_.jsxs("div",{className:rn("absolute bottom-0.5 right-0.5 px-1 py-0.5 rounded text-[8px] font-bold",Y.isCompleted?"bg-green-500/80 text-white":(Y.currentCount||0)>0?"bg-amber-500/80 text-white":"bg-slate-600/80 text-slate-300"),children:[Y.currentCount||0,"/",Y.targetCount]})]},Y.id))})})}),_.jsx("div",{className:"flex justify-center",children:_.jsxs(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[520px] glass-panel p-4 flex flex-col gap-4",children:[_.jsxs("div",{className:"w-full",children:[_.jsxs("div",{className:"flex justify-between text-xs text-slate-300 mb-1.5 px-1",children:[_.jsx("span",{className:"font-semibold",children:"Progress"}),_.jsxs("div",{className:"flex gap-3",children:[_.jsxs("span",{className:"font-mono text-accent-gold font-bold",children:[f,"/",$*2+2," Bingos"]}),_.jsxs("span",{className:"font-mono text-accent-primary",children:[Math.round(Ui),"%"]})]})]}),_.jsx("div",{className:"h-3 bg-bg-dark/50 rounded-full overflow-hidden border border-white/5",children:_.jsx(at.div,{className:"h-full bg-gradient-to-r from-accent-primary to-accent-secondary relative",initial:{width:0},animate:{width:`${Ui}%`},transition:{duration:1,ease:"easeOut"},children:_.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[1px] bg-white/50 shadow-[0_0_10px_white]"})})})]}),_.jsx("div",{className:"flex justify-center gap-2",children:M?_.jsx(_.Fragment,{children:_.jsxs("div",{className:"flex gap-2 w-full",children:[_.jsx("button",{onClick:()=>ge(!1),className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10 transition-all",children:"Cancel"}),_.jsxs("button",{onClick:()=>{E(_e),ge(!1)},className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 transition-all flex items-center justify-center gap-2",children:[_.jsx(kc,{size:16}),"Save Changes"]})]})}):_.jsxs("div",{className:"flex gap-2 justify-center w-full flex-wrap",children:[!g&&_.jsxs(_.Fragment,{children:[_.jsxs("button",{onClick:()=>{U([...s]),ge(!0)},className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[_.jsx(WI,{size:12}),"Edit Board"]}),_.jsxs("button",{onClick:ls,className:"flex-1 py-2 px-4 text-xs font-medium text-red-400 hover:text-red-300 transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[_.jsx(EG,{size:12}),"Shuffle & Lock"]})]}),_.jsxs("button",{onClick:()=>window.print(),className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[_.jsx(bG,{size:12}),"Print Status"]})]})})]})}),_.jsx(vr,{children:d&&!Li&&_.jsx(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:_.jsxs(at.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center max-w-sm w-full relative overflow-hidden border-accent-gold/30",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent-gold/10 to-transparent pointer-events-none"}),_.jsx(at.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"inline-block",children:_.jsx(KI,{className:"w-20 h-20 text-accent-gold mx-auto mb-4 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),_.jsx("h2",{className:"text-4xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-accent-gold via-white to-accent-secondary mb-2",children:"BINGO!"}),_.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"2026 is off to an amazing start!"}),_.jsx("button",{onClick:Pu,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-[0_0_20px_rgba(139,92,246,0.4)] transition-all transform hover:scale-105",children:"Keep Playing"})]})})}),_.jsx(vr,{children:Z&&_.jsx(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:()=>K(!1),children:_.jsxs(at.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-gold/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl relative overflow-hidden",onClick:Y=>Y.stopPropagation(),children:[_.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Edit Tile"}),_.jsx("div",{className:"mb-4 flex justify-center",children:_.jsx("div",{className:"w-32 h-32 rounded-lg bg-bg-card/80 border border-white/10 flex items-center justify-center p-2 text-center overflow-hidden",children:_.jsx("span",{className:rn("font-hand font-semibold leading-tight break-words"),style:{color:me.color||"#ffffff",fontWeight:me.bold?"bold":"600",fontStyle:me.italic?"italic":"normal",fontSize:me.fontSize==="sm"?"12px":me.fontSize==="lg"?"18px":me.fontSize==="xl"?"22px":"16px"},children:ve||"Preview Text"})})}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Content"}),_.jsx("textarea",{className:"w-full bg-black/20 text-white rounded-lg p-3 border border-white/10 focus:border-accent-primary outline-none min-h-[80px]",value:ve,onChange:Y=>be(Y.target.value),placeholder:"Enter bingo task..."})]}),_.jsxs("div",{className:"mb-6 space-y-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Color"}),_.jsx("div",{className:"flex gap-2 flex-wrap",children:["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#ec4899","#a855f7"].map(Y=>_.jsx("button",{className:rn("w-6 h-6 rounded-full border border-white/10 transition-transform active:scale-90",me.color===Y&&"ring-2 ring-white scale-110"),style:{backgroundColor:Y},onClick:()=>Ie(Se=>({...Se,color:Y}))},Y))})]}),_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),_.jsx("div",{className:"flex bg-black/20 rounded-lg p-1",children:["sm","base","lg","xl"].map(Y=>_.jsx("button",{onClick:()=>Ie(Se=>({...Se,fontSize:Y})),className:rn("flex-1 py-1 text-[10px] font-bold rounded transition-colors uppercase",(me.fontSize||"base")===Y?"bg-accent-primary text-white":"text-slate-400 hover:text-white"),children:Y==="base"?"M":Y},Y))})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Style"}),_.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-lg p-1",children:[_.jsx("button",{onClick:()=>Ie(Y=>({...Y,bold:!Y.bold})),className:rn("w-8 h-full rounded flex items-center justify-center font-bold transition-colors",me.bold?"bg-white text-black":"text-slate-400 hover:text-white"),children:"B"}),_.jsx("button",{onClick:()=>Ie(Y=>({...Y,italic:!Y.italic})),className:rn("w-8 h-full rounded flex items-center justify-center italic transition-colors font-serif",me.italic?"bg-white text-black":"text-slate-400 hover:text-white"),children:"I"})]})]})]})]}),_.jsxs("div",{className:"space-y-4 mb-6 pt-4 border-t border-white/10",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Repeat Goal"}),_.jsx("input",{type:"number",min:"1",max:"100",value:Pe,onChange:Y=>Qe(parseInt(Y.target.value)||1),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors"}),_.jsx("p",{className:"text-xs text-slate-500",children:"How many times should this be completed?"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Due Date (Optional)"}),_.jsx("input",{type:"date",value:$e,onChange:Y=>Ye(Y.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors [color-scheme:dark]"})]})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:()=>K(!1),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),_.jsx("button",{onClick:wo,className:"flex-1 py-3 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl font-bold text-white shadow-lg hover:shadow-violet-500/25 active:scale-95 transition-all",children:"Ok"})]})]})})}),_.jsx(vr,{children:ln&&Qn!==null&&_.jsx(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{Un(!1),ti(null)},children:_.jsx(at.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-primary/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl",onClick:Y=>Y.stopPropagation(),children:(()=>{const Y=Wn[Qn],Se=Y?.targetCount||1,gt=Y?.currentCount||0,jt=Se>1,cn=gt>0;return _.jsxs(_.Fragment,{children:[_.jsx("h3",{className:"text-xl font-bold text-white mb-2 text-center",children:cn?"Add Progress":"Complete Task"}),_.jsxs("p",{className:"text-slate-300 text-sm text-center mb-2 line-clamp-2",children:["",Y?.text,""]}),jt&&_.jsx("div",{className:"text-center mb-4",children:_.jsxs("span",{className:rn("inline-block px-3 py-1 rounded-full text-sm font-bold",cn?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"),children:["Progress: ",gt," / ",Se]})}),_.jsxs("div",{className:"space-y-3",children:[_.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:Ir,className:"hidden",onChange:async zn=>{const ar=zn.target.files?.[0];if(ar&&Qn!==null){as(!0);try{await R(Qn,ar),Un(!1),ti(null)}catch{alert("Failed to upload photo. Please try again.")}finally{as(!1)}}}}),_.jsxs("button",{onClick:()=>Ir.current?.click(),disabled:Bn,className:"w-full py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-amber-500/25 active:scale-95 transition-all disabled:opacity-50",children:[_.jsx(R_,{size:20}),Bn?"Uploading...":jt?"Add Photo & +1":"Add Photo & Complete"]}),_.jsxs("button",{onClick:()=>{h(Qn),Un(!1),ti(null)},disabled:Bn,className:"w-full py-3 px-4 bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-green-500/25 active:scale-95 transition-all disabled:opacity-50",children:[_.jsx(kc,{size:20}),jt?`Mark +1 (${gt+1}/${Se})`:"Mark Complete"]}),cn&&_.jsxs("button",{onClick:()=>{C(Qn),Un(!1),ti(null)},disabled:Bn,className:"w-full py-2 rounded-xl font-semibold text-red-400 hover:bg-red-500/10 transition-colors disabled:opacity-50",children:["Remove Progress (",gt-1,"/",Se,")"]}),_.jsx("button",{onClick:()=>{Un(!1),ti(null)},disabled:Bn,className:"w-full py-3 rounded-xl font-semibold bg-white/5 text-slate-400 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"})]})]})})()})})}),_.jsx(vr,{children:Rr&&ct&&ct.proofPhotos&&ct.proofPhotos.length>0&&_.jsx(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{sr(!1),Ht(null),Dt(null)},children:_.jsxs(at.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-lg w-full",onClick:Y=>Y.stopPropagation(),children:[_.jsx("button",{onClick:()=>{sr(!1),Ht(null),Dt(null)},className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors z-10",children:_.jsx(dl,{size:28})}),_.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[_.jsxs("div",{className:"relative bg-black",children:[_.jsx("img",{src:ct.proofPhotos[os],alt:`Proof photo ${os+1}`,className:"w-full h-auto max-h-[50vh] object-contain"}),ct.proofPhotos.length>1&&_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:()=>Mi(Y=>Y>0?Y-1:ct.proofPhotos.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:_.jsx(hP,{size:24})}),_.jsx("button",{onClick:()=>Mi(Y=>Y<ct.proofPhotos.length-1?Y+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:_.jsx(dP,{size:24})})]}),_.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/60 rounded-full text-white text-xs font-medium",children:[os+1," / ",ct.proofPhotos.length]})]}),ct.proofPhotos.length>1&&_.jsx("div",{className:"flex gap-1 p-2 bg-bg-dark/80 overflow-x-auto",children:ct.proofPhotos.map((Y,Se)=>_.jsx("button",{onClick:()=>Mi(Se),className:rn("w-12 h-12 rounded-md overflow-hidden border-2 flex-shrink-0 transition-all",os===Se?"border-accent-primary":"border-transparent opacity-60 hover:opacity-100"),children:_.jsx("img",{src:Y,alt:"",className:"w-full h-full object-cover"})},Se))}),_.jsxs("div",{className:"p-4 bg-bg-dark/95",children:[_.jsx("p",{className:"text-white font-semibold mb-1",children:ct.text}),_.jsxs("p",{className:"text-slate-400 text-xs",children:["Completed by ",ct.completedBy,"  ",Xs(ct.completedAt)]})]})]}),_.jsx("div",{className:"mt-4 flex gap-2",children:ct.proofPhotos.length<5&&_.jsxs(_.Fragment,{children:[_.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:Oi,className:"hidden",onChange:async Y=>{const Se=Y.target.files?.[0];if(Se&&Yn!==null&&ct){gi(!0);try{const gt=await k(Yn,Se);if(gt){const jt=[...ct.proofPhotos||[],gt];Ht({...ct,proofPhotos:jt}),Mi(jt.length-1)}}catch{alert("Failed to add photo. Max 5 photos allowed.")}finally{gi(!1),Oi.current&&(Oi.current.value="")}}}}),_.jsxs("button",{onClick:()=>Oi.current?.click(),disabled:vo,className:"flex-1 py-2 px-4 bg-accent-gold/20 text-accent-gold rounded-xl font-medium flex items-center justify-center gap-2 hover:bg-accent-gold/30 transition-colors disabled:opacity-50",children:[_.jsx(Xp,{size:18}),vo?"Adding...":`Add Photo (${ct.proofPhotos.length}/5)`]})]})}),_.jsx("button",{onClick:()=>{const Y=s.findIndex(Se=>Se.id===ct.id);Y!==-1&&h(Y),sr(!1),Ht(null),Dt(null)},className:"mt-2 w-full py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Mark as In Progress"})]})})}),_.jsx(vr,{children:pt&&Zt&&_.jsxs(at.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-slate-900 border border-white/20 text-white px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4",children:[_.jsxs("span",{children:["Marked as ",Zt.wasCompleted?"incomplete":"complete"]}),_.jsx("button",{onClick:()=>{h(Zt.index),rt(!1)},className:"font-bold text-accent-primary hover:text-white transition-colors",children:"Undo"}),_.jsx("button",{onClick:()=>rt(!1),className:"text-slate-400 hover:text-white",children:_.jsx(dl,{size:16})})]})}),_.jsx(vr,{children:Nt&&_.jsx(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:_.jsxs(at.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-slate-900 border border-white/20 rounded-3xl p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 pointer-events-none",children:_.jsx(KI,{className:"w-32 h-32 text-accent-gold rotate-12"})}),_.jsxs("div",{className:"relative z-10 text-center",children:[_.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Welcome! "}),_.jsxs("p",{className:"text-slate-400 mb-8 h-12",children:[mt===0&&"Tap any tile to mark it as complete.",mt===1&&"Start 'Edit Mode' to add your own tasks.",mt===2&&"Invite friends to play together!"]}),_.jsx("div",{className:"flex justify-center mb-8",children:_.jsx("div",{className:"w-32 h-32 bg-black/40 rounded-2xl border border-white/10 flex items-center justify-center relative",children:_.jsxs(vr,{mode:"wait",children:[mt===0&&_.jsxs(at.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center",children:[_.jsx("div",{className:"w-16 h-16 bg-accent-primary/20 rounded-lg border border-accent-primary flex items-center justify-center",children:_.jsx(kc,{className:"w-8 h-8 text-white"})}),_.jsx(at.div,{animate:{scale:[1,1.2,1],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5},className:"absolute w-20 h-20 rounded-full border-2 border-white/50"})]},"step0"),mt===1&&_.jsx(at.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:_.jsx(WI,{className:"w-12 h-12 text-blue-400"})},"step1"),mt===2&&_.jsx(at.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:_.jsx(cp,{className:"w-12 h-12 text-green-400"})},"step2")]})})}),_.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[0,1,2].map(Y=>_.jsx("div",{className:rn("w-2 h-2 rounded-full transition-colors",Y===mt?"bg-white":"bg-white/20")},Y))}),_.jsx("button",{onClick:Qs,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-slate-200 transition-colors",children:mt===2?"Let's Play!":"Next"})]})]})})})]}),_.jsxs("div",{className:"only-print hidden",children:[_.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-black pb-2",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("img",{src:"/logo.png",className:"h-12 w-auto",alt:"Logo"}),_.jsx("h1",{className:"text-2xl font-bold",children:F||"2026 Edition"})]}),_.jsxs("div",{className:"text-right",children:[_.jsxs("p",{className:"text-xs uppercase tracking-widest mb-0.5",children:["Status Report (",$,"",$,")"]}),_.jsxs("p",{className:"text-xl font-bold",children:[f," / ",$*2+2," Bingos"]})]})]}),_.jsx("div",{className:`grid gap-0 border-2 border-black ${$===3?"grid-cols-3":$===4?"grid-cols-4":$===5?"grid-cols-5":"grid-cols-6"}`,children:s.map(Y=>_.jsxs("div",{className:"aspect-square border border-black p-1.5 flex flex-col justify-between relative overflow-hidden min-h-[80px]",children:[_.jsx("div",{className:`font-bold leading-tight z-10 ${$>=5?"text-[10px]":"text-[11px]"}`,children:Y.text}),Y.isCompleted&&!Y.isFreeSpace&&_.jsxs("div",{className:"mt-0.5 relative z-10",children:[_.jsx("div",{className:"text-[7px] uppercase font-bold text-slate-700",children:"Completed by:"}),_.jsx("div",{className:"text-[9px] font-mono font-bold leading-none",children:Y.completedBy||"User"}),_.jsx("div",{className:"text-[7px] text-slate-600 mt-0.5",children:Xs(Y.completedAt)})]}),Y.isCompleted&&_.jsx("div",{className:"absolute bottom-1 right-1 text-3xl font-bold text-slate-200 opacity-60 pointer-events-none z-0",children:""}),Y.isFreeSpace&&_.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-xl rotate-[-45deg] opacity-20",children:"FREE"})]},Y.id))}),_.jsxs("div",{className:"mt-4 text-[9px] text-center border-t border-black pt-2 flex justify-between text-slate-500",children:[_.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),_.jsx("span",{children:"bingo.mysunsar.com"})]})]}),_.jsx(MH,{items:s,isOpen:Qt,onClose:()=>yi(!1)}),ye&&_.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[_.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>q(!1)}),_.jsxs("div",{className:"relative w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[_.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[_.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[_.jsx(cp,{className:"w-5 h-5 text-accent-primary"}),"Shared With"]}),_.jsx("button",{onClick:()=>q(!1),className:"text-slate-400 hover:text-white",children:_.jsx(dl,{className:"w-5 h-5"})})]}),_.jsxs("div",{className:"p-6",children:[S.length===0?_.jsx("div",{className:"text-center text-slate-400 py-8",children:_.jsx("p",{children:"This board hasn't been shared yet."})}):_.jsx("div",{className:"space-y-4 mb-6",children:S.map(Y=>_.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-3 rounded-xl border border-white/5",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:Y.name.charAt(0)}),_.jsxs("div",{children:[_.jsx("div",{className:"text-sm font-semibold text-white",children:Y.name}),_.jsxs("div",{className:"text-xs text-slate-400",children:[Y.email,"  ",Y.role]})]})]}),_.jsx("button",{onClick:()=>Vi(Y.id,Y.name),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove User",children:_.jsx(gP,{size:16})})]},Y.id))}),_.jsxs("button",{onClick:yo,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all flex items-center justify-center gap-2",children:[_.jsx(Xp,{size:18}),"Invite New User"]})]})]})]})]})})},OH=()=>{const{user:n,logout:e}=Dl(),t=vP(),{openSettings:i}=rf(),s=du(),[o,c]=V.useState([]),[h,d]=V.useState(!0),[f,g]=V.useState(!1),[v,w]=V.useState(null),[E,R]=V.useState(5),k=[{size:3,label:"33",description:"Quick (9 tiles)",icon:""},{size:4,label:"44",description:"Compact (16 tiles)",icon:""},{size:5,label:"55",description:"Classic (25 tiles)",icon:""},{size:6,label:"66",description:"Extended (36 tiles)",icon:""}],C={blank:{name:"Blank Canvas ",items:[]},default:{name:"2026 Goals ",items:["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"]},fitness:{name:"Fitness Challenge ",items:["Run a 5k","Do 50 pushups in a row","Try a yoga class","Drink 3L water for a week","No sugar for 7 days","Go for a hike","Meal prep for a week","Climb a bouldering wall","Try Pilates","Walk 15k steps in a day","Do a spin class","Bike 20km","FREE SPACE","Touch your toes","Hold a plank for 2 min","Try CrossFit","Go swimming","Meditate for 10 mins x 7","Try a new sport","Sleep 8 hours x 5 days","Do 100 squats","Run a 10k","Go to the gym 4x in a week","Stretch daily for a week","Join a run club"]},couples:{name:"Couple Goals ",items:["Date night (no phones)","Cook a meal together","Weekend getaway","Watch a whole series","Breakfast in bed","Go for a long walk","Plan a future trip","Give each other massages","Recreate first date","Take a dance class","Stargazing date","Write love letters","FREE SPACE","Visit a winery/brewery","Do a puzzle together","Double date","Sunset picnic","Bake something sweet","Volunteer together","Learn a couple's skill","Game night","Make a photo album","Try a new restaurant","Surprise gift","Kiss in the rain"]},personal:{name:"Personal Growth ",items:["Read 1 book/month","Learn a new language","Start a journal","Digital detox (24h)","Meditate daily (1 week)","Drink 2L water daily","Wake up at 6am (1 week)","Declutter a room","Learn to invest","Take a solo trip","Volunteer","Compliment a stranger","FREE SPACE","No social media (weekend)","Learn an instrument","Cook a new cuisine","Write a gratitude list","Take a cold shower","Listen to a podcast","Fix sleep schedule","Walk 10k steps","Call an old friend","Create a vision board","Save 10% income","Take a course"]},knitting:{name:"Knitting Goals ",items:["Finish a WIP","Cast on a sweater","Learn brioche","Knit socks","Stash bust project","Try colorwork","Knit a hat","Use luxury yarn","Fix a mistake","Knit a gift","Block a project","Organize needles","FREE SPACE","Try a new fiber","Knit in public","Attend a knit night","Learn magic loop","Design a pattern","Teach someone to knit","Finish a blanket","Knit a shawl","Try cables","Buy souvenir yarn","Weave in ends immediately","Knit a gauge swatch"]},weaving:{name:"Weaving Goals ",items:["Warp the loom","Weave a rug","Try a new structure","Sample a pattern","Use handspun yarn","Finish a scarf","Hemstitching","Fix a broken warp","Weave a towel","Try tapestry","Mix fibers","Organize yarn stash","FREE SPACE","Weave a placemat","Attend a workshop","Try doublewidth","Weave transparency","Calculate warp correctly","Finish raw edges","Weave with rags","Try tablet weaving","Rigid heddle project","Floor loom project","Visit a mill","Share a project online"]},spinning:{name:"Spinning Goals ",items:["Spin 100g fiber","Ply a yarn","Try a new breed","Spin lace weight","Spin art yarn","Comb fleece","Card a batt","Spin on a drop spindle","Clean the wheel","Spin distinct colors","Skein and wash","Fractal spin","FREE SPACE","Spin silk","Spin cotton","Navajo ply","Spin for a project","Participate in Tour de Fleece","Sample a blend","Teach spinning","Spin consistent grist","Dye fiber","Blend colors on hackle","Spin exotic fiber","Fill a bobbin"]},painting:{name:"Painting Goals ",items:["Paint a landscape","Try watercolors","Paint a portrait","Mix a new color","Paint en plein air","Visit a gallery","Finish a sketchbook","Try oils","Paint a still life","Use a palette knife","Paint an animal","Try abstract","FREE SPACE","Clean brushes properly","Paint on canvas","Paint on wood","Follow a tutorial","Paint a sky","Try gouache","Varnish a painting","Frame a piece","Paint daily for a week","Recreate a master","Paint a self-portrait","Host a paint night"]},corporate:{name:"Corporate Bingo ",items:['"Circle back"',`"Let's take this offline"`,"Meeting that could be an email",'"Synergy"','"Low hanging fruit"','"Touch base"',"Someone forgets to mute","Screen share fails",'"Can you see my screen?"',"Awkward silence",'"Bandwidth"','"Deep dive"',"FREE SPACE","Pet interrupts video call","Echo on the line",'"Per my last email"','"Drill down"','"Out of pocket"','"Hard stop"','"Boil the ocean"',"Reply All disaster",'"Move the needle"','"Blue sky thinking"','"Paradigm shift"','"Quick win"']},travel:{name:"Travel Bucket List ",items:["Visit a new continent","Go on a solo trip","See the Northern Lights","Swim in an ocean","Road trip across 3 states","Fly First Class","Visit a National Park","Eat street food","Stay in a hostel","Learn 'Hello' in 5 languages","Visit a Wonder of the World","Go on a cruise","FREE SPACE","Make a travel vlog","Sleep under the stars","Visit a castle","Ride a train","See a volcano","Go scuba diving","Watch a sunrise on a mountain","Visit a winery","Ride a camel/elephant","Go skiing/snowboarding","Visit a tropical island","Send a postcard"]}};V.useEffect(()=>{if(!n)return;(async()=>{try{console.log("Fetching boards for user:",n.uid,n.email);const ie=new Map;try{const O=Fa(_r(sn,"boards"),Cs(`members.${n.uid}`,"in",["owner","editor","viewer"])),z=await Vs(O);console.log("Boards with membership found:",z.docs.length),z.docs.forEach(M=>{const ge=M.data(),_e=ge.members?.[n.uid],U=ge.members||{},Z=Object.values(U).filter(K=>K!=="owner").length;ie.set(M.id,{id:M.id,...ge,sharedCount:Z,myRole:_e})})}catch(O){console.error("Error querying boards by membership:",O)}try{const O=Fa(_r(sn,"years"),Cs("ownerId","==",n.uid)),z=await Vs(O);console.log("Legacy boards (years collection) found:",z.docs.length),z.docs.forEach(M=>{const ge=M.data();ie.set(`legacy_${M.id}`,{id:M.id,title:ge.title||"2026 Bingo",createdAt:ge.createdAt,isLocked:ge.isLocked,ownerId:ge.ownerId,myRole:"owner"})})}catch(O){console.log("Years collection query failed:",O)}try{const O=await Vs(_r(sn,"years"));console.log("All years docs:",O.docs.length),O.docs.forEach(z=>{const M=z.data();if(M.ownerId===n.uid||M.members?.[n.uid]){const ge=`legacy_years_${z.id}`;ie.has(ge)||ie.set(ge,{id:z.id,title:M.title||`${z.id} Bingo`,createdAt:M.createdAt,isLocked:M.isLocked,ownerId:M.ownerId,myRole:M.ownerId===n.uid?"owner":M.members?.[n.uid]||"viewer"})}})}catch(O){console.log("Direct years fetch failed:",O)}const le=Array.from(ie.values()),N=le.filter(O=>O.myRole!=="owner"&&O.ownerId),A=[...new Set(N.map(O=>O.ownerId))],P={};for(const O of A)try{const z=await Au(nr(sn,"users",O));if(z.exists()){const M=z.data();P[O]=M.displayName||M.email||"Unknown"}}catch{console.log("Could not fetch owner info for:",O)}const L=le.map(O=>O.myRole!=="owner"&&O.ownerId&&P[O.ownerId]?{...O,ownerName:P[O.ownerId]}:O);console.log("Total boards to display:",L.length,L.map(O=>O.title)),c(L)}catch(ie){console.error("Error fetching boards:",ie)}finally{d(!1)}})()},[n]);const B=async $=>{if(!n)return;const ie=C[$],le=E,N=le*le,A=le%2===1?Math.floor(N/2):-1,P=le%2===1?N-1:N,L=await t.prompt("What would you like to call this board?",{title:"Board Title",inputDefaultValue:ie.name,confirmText:"Create"});if(L)try{const O=ie.items.filter(U=>U.trim().toUpperCase()!=="FREE SPACE"&&U!=="FREE SPACE"),z=[...O].sort(()=>.5-Math.random());for(;z.length<P;)z.push(O[z.length%O.length]||`Goal ${z.length+1}`);const M=[];let ge=0;for(let U=0;U<N;U++)U===A&&le%2===1?M.push({id:U,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(M.push({id:U,text:z[ge],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),ge++);const _e=await rw(_r(sn,"boards"),{title:L,gridSize:le,ownerId:n.uid,members:{[n.uid]:"owner"},items:M,createdAt:Ue.now(),isLocked:!1,lastUpdated:Ue.now()});s(`/board/${_e.id}`)}catch(O){console.error("Error creating board:",O),await t.alert("Failed to create board. Please try again.",{title:"Error",type:"error"})}finally{g(!1),w(null),R(5)}};if(h)return _.jsx("div",{className:"min-h-screen bg-bg-dark flex items-center justify-center text-white",children:"Loading Dashboard..."});const H=async($,ie,le)=>{if($.stopPropagation(),await t.confirm(`This will permanently delete "${le}" and all its data.

This action cannot be undone.`,{title:"Delete Board?",confirmText:"Delete",type:"error"}))try{await yD(nr(sn,"boards",ie)),c(A=>A.filter(P=>P.id!==ie)),await t.alert("Board deleted successfully.",{title:"Deleted",type:"success"})}catch(A){console.error("Error deleting board:",A),await t.alert("Failed to delete board. Please try again.",{title:"Error",type:"error"})}},F=async($,ie,le)=>{if($.stopPropagation(),!n)return;if(await t.confirm(`You will no longer have access to "${le}".

You can ask the owner to re-share it if needed.`,{title:"Leave Board?",confirmText:"Leave",type:"warning"}))try{await Ji(nr(sn,"boards",ie),{[`members.${n.uid}`]:Lp()}),c(A=>A.filter(P=>P.id!==ie)),await t.alert("You have left the board.",{title:"Left Board",type:"success"})}catch(A){console.error("Error leaving board:",A),await t.alert("Failed to leave board. Please try again.",{title:"Error",type:"error"})}};return _.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 relative",children:[_.jsxs("div",{className:"max-w-6xl mx-auto",children:[_.jsxs("header",{className:"flex justify-between items-center mb-12 py-2",children:[_.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-10 sm:h-12 w-auto object-contain cursor-pointer active:scale-95 transition-transform"}),_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsx("button",{onClick:()=>s("/help"),className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Help Guide",children:_.jsx(Uw,{size:20})}),_.jsx("button",{onClick:i,className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Settings",children:_.jsx(zw,{size:20})}),_.jsx("button",{onClick:e,className:"bg-white/5 hover:bg-white/10 px-4 py-2 rounded-xl text-sm font-semibold transition-colors border border-white/10 hover:border-white/20",children:"Logout"})]})]}),_.jsxs("div",{className:"mb-10",children:[_.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:["My ",_.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent italic",children:"Boards"})]}),_.jsxs("p",{className:"text-slate-400 mt-2 text-base sm:text-lg",children:["Welcome back, ",_.jsx("span",{className:"text-accent-primary font-medium",children:n?.displayName?.split(" ")[0]||"Bingo Player"})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[_.jsxs("button",{onClick:()=>g(!0),className:"group relative flex flex-col items-center justify-center h-48 rounded-2xl border-2 border-dashed border-slate-700 bg-white/5 hover:bg-white/10 hover:border-accent-primary transition-all cursor-pointer",children:[_.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-primary/20 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:_.jsx(Xp,{className:"w-6 h-6 text-accent-primary"})}),_.jsx("span",{className:"font-semibold text-slate-300 group-hover:text-white",children:"Create New Board"})]}),o.filter($=>$.myRole==="owner").map($=>{const le=$.id==="2026"||!$.ownerId?`/board/legacy/${$.id}`:`/board/${$.id}`;return _.jsxs("div",{onClick:N=>{N.preventDefault(),console.log("Navigating to board:",le),s(le)},className:"group relative h-48 rounded-2xl bg-gradient-to-br from-slate-800 to-slate-900 border border-white/10 hover:border-accent-primary/50 p-6 flex flex-col justify-between cursor-pointer transition-all hover:translate-y-[-4px] hover:shadow-xl overflow-hidden active:scale-[0.99]",children:[_.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:_.jsx("button",{onClick:N=>H(N,$.id,$.title),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Delete Board",children:_.jsx(gP,{size:18})})}),_.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"h-7 mb-2",children:$.sharedCount&&$.sharedCount>0&&_.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:[_.jsx(MG,{size:10}),"Shared with ",$.sharedCount]})}),_.jsx("h3",{className:"text-xl font-bold text-white mb-1.5 line-clamp-2 pr-8 group-hover:text-accent-primary transition-colors",children:$.title}),_.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[_.jsx(Wp,{className:"w-3.5 h-3.5"}),$.createdAt?.toDate?$.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),_.jsx("div",{className:"mt-4",children:_.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-primary/10 text-accent-primary border border-accent-primary/20 group-hover:bg-accent-primary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},$.id)})]}),o.filter($=>$.myRole!=="owner").length>0&&_.jsxs(_.Fragment,{children:[_.jsxs("h2",{className:"text-xl font-bold text-white mt-10 mb-6 flex items-center gap-2",children:[_.jsx("span",{className:"bg-gradient-to-r from-accent-secondary to-pink-500 bg-clip-text text-transparent",children:"Shared With Me"}),_.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",o.filter($=>$.myRole!=="owner").length,")"]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.filter($=>$.myRole!=="owner").map($=>{const le=$.id==="2026"||!$.ownerId?`/board/legacy/${$.id}`:`/board/${$.id}`;return _.jsxs("div",{onClick:N=>{N.preventDefault(),console.log("Navigating to shared board:",le),s(le)},className:"group relative h-48 rounded-2xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-white/10 hover:border-accent-secondary/50 p-6 flex flex-col justify-between cursor-pointer transition-all hover:translate-y-[-4px] hover:shadow-xl overflow-hidden active:scale-[0.99]",children:[_.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity pointer-events-none",children:_.jsx(Bw,{className:"w-24 h-24"})}),_.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:_.jsx("button",{onClick:N=>F(N,$.id,$.title),className:"p-2 text-slate-500 hover:text-amber-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Leave Board",children:_.jsx(mP,{size:18})})}),_.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"h-7 mb-2",children:_.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${$.myRole==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:$.myRole==="editor"?" Editor":" Viewer"})}),_.jsx("h3",{className:"text-xl font-bold text-white mb-1 line-clamp-1 pr-8",children:$.title}),$.ownerName&&_.jsxs("div",{className:"text-xs text-slate-500 mb-1.5",children:["Shared by ",_.jsx("span",{className:"text-slate-400",children:$.ownerName})]}),_.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[_.jsx(Wp,{className:"w-3.5 h-3.5"}),$.createdAt?.toDate?$.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),_.jsx("div",{className:"mt-4",children:_.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-secondary/10 text-accent-secondary border border-accent-secondary/20 group-hover:bg-accent-secondary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},$.id)})})]})]}),f&&_.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[_.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{v?w(null):g(!1)}}),_.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[_.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center shrink-0",children:[_.jsx("h2",{className:"text-xl font-bold text-white",children:v?C[v].name:"Choose a Template"}),_.jsx("button",{onClick:()=>{v?w(null):g(!1)},className:"text-slate-400 hover:text-white",children:_.jsx(Xp,{className:"w-6 h-6 rotate-45"})})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:v?_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"mb-4",children:[_.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Grid Size"}),_.jsx("div",{className:"grid grid-cols-4 gap-2",children:k.map(({size:$,label:ie,icon:le})=>_.jsxs("button",{onClick:()=>R($),className:`p-3 rounded-xl border text-center transition-all ${E===$?"bg-accent-primary/20 border-accent-primary text-white":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10 hover:text-white"}`,children:[_.jsx("span",{className:"text-lg block",children:le}),_.jsx("span",{className:"font-bold text-sm",children:ie}),_.jsxs("span",{className:"text-[10px] block opacity-70",children:[$*$," tiles"]})]},$))})]}),_.jsx("div",{className:"flex justify-center",children:_.jsx("div",{className:`aspect-square w-full max-w-[380px] grid gap-1.5 p-3 bg-slate-950/50 rounded-xl border border-white/10 ${E===3?"grid-cols-3":E===4?"grid-cols-4":E===5?"grid-cols-5":"grid-cols-6"}`,children:(()=>{const $=E*E,ie=E%2===1?Math.floor($/2):-1,le=C[v].items.filter(N=>N.trim().toUpperCase()!=="FREE SPACE");return Array.from({length:$},(N,A)=>{const P=A===ie&&E%2===1,L=A<ie||ie===-1?A:A-1,O=P?"FREE":le[L%le.length]||`Goal ${A+1}`;return _.jsx("div",{className:`
                                                                relative rounded-lg flex items-center justify-center p-1 text-center select-none overflow-hidden 
                                                                ${E<=4?"text-[9px] sm:text-[11px]":"text-[7px] sm:text-[9px]"}
                                                                leading-tight font-medium border shadow-sm
                                                                ${P?"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold":"bg-white/5 border-white/10 text-slate-300"}
                                                            `,children:_.jsx("span",{className:"line-clamp-2",children:O})},A)})})()})}),_.jsxs("div",{className:"flex gap-3 pt-4",children:[_.jsx("button",{onClick:()=>w(null),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Back"}),_.jsxs("button",{onClick:()=>B(v),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all",children:["Create ",E,"",E," Board"]})]})]}):_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(C).map(([$,ie])=>_.jsxs("button",{onClick:()=>w($),className:"flex flex-col items-start p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent-primary/50 transition-all text-left group",children:[_.jsx("h3",{className:"font-bold text-white group-hover:text-accent-primary transition-colors",children:ie.name}),_.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click to preview"})]},$))})})]})]})]})},LH=()=>{const{settings:n}=rf(),e=V.useRef(null),t=V.useRef(null),i=V.useRef([]),s=V.useMemo(()=>{switch(n.theme){case"midnight":return{type:"stars",particleCount:150,baseColor:"rgba(100, 150, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #0a1628 0%, #020617 50%, #000 100%)",shootingStars:!0};case"forest":return{type:"leaves",particleCount:40,baseColor:"rgba(100, 200, 120, ",bgGradient:"radial-gradient(ellipse at 30% 80%, #0a3d1a 0%, #052e16 50%, #021a09 100%)",shootingStars:!1};case"ocean":return{type:"bubbles",particleCount:60,baseColor:"rgba(100, 220, 255, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #0c4a5e 0%, #083344 50%, #041825 100%)",shootingStars:!1};case"sunset":return{type:"embers",particleCount:50,baseColor:"rgba(255, 150, 80, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #4a1a00 0%, #2a0a0a 50%, #1a0505 100%)",shootingStars:!1};default:return{type:"aurora",particleCount:80,baseColor:"rgba(180, 120, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1a1040 0%, #0f111a 50%, #0a0b10 100%)",shootingStars:!1}}},[n.theme]);return V.useEffect(()=>{const o=e.current;if(!o)return;const c=()=>{const d=[];for(let f=0;f<s.particleCount;f++)d.push(jH(o.width,o.height,s.type));i.current=d},h=()=>{o.width=window.innerWidth,o.height=window.innerHeight,c()};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[s]),V.useEffect(()=>{if(n.enableAnimation===!1)return;const o=e.current;if(!o)return;const c=o.getContext("2d");if(!c)return;let h=0,d=null;const f=()=>{c.clearRect(0,0,o.width,o.height),i.current.forEach(g=>{UH(g,o.width,o.height,s.type),BH(c,g,s)}),s.shootingStars&&(h++,h>300&&Math.random()<.01&&(d={x:Math.random()*o.width,y:Math.random()*o.height*.5,length:80+Math.random()*40,speed:15+Math.random()*10,opacity:1},h=0),d&&(c.beginPath(),c.strokeStyle=`rgba(255, 255, 255, ${d.opacity})`,c.lineWidth=2,c.moveTo(d.x,d.y),c.lineTo(d.x-d.length,d.y-d.length*.3),c.stroke(),d.x+=d.speed,d.y+=d.speed*.3,d.opacity-=.02,d.opacity<=0&&(d=null))),t.current=requestAnimationFrame(f)};return f(),()=>{t.current&&cancelAnimationFrame(t.current)}},[n.enableAnimation,s]),_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed inset-0 z-[-2] transition-all duration-1000",style:{background:s.bgGradient}}),_.jsx("canvas",{ref:e,className:"fixed inset-0 z-[-1] pointer-events-none",style:{opacity:n.enableAnimation===!1?0:.8}}),_.jsxs("div",{className:"fixed inset-0 z-[-1] pointer-events-none overflow-hidden",children:[_.jsx("div",{className:`absolute w-[600px] h-[600px] rounded-full blur-[120px] animate-float-slow ${n.theme==="midnight"?"bg-blue-500/10":n.theme==="forest"?"bg-green-500/10":n.theme==="ocean"?"bg-cyan-500/10":n.theme==="sunset"?"bg-orange-500/10":"bg-purple-500/10"}`,style:{top:"-15%",left:"-10%"}}),_.jsx("div",{className:`absolute w-[500px] h-[500px] rounded-full blur-[100px] animate-float-slower ${n.theme==="midnight"?"bg-indigo-500/10":n.theme==="forest"?"bg-emerald-500/10":n.theme==="ocean"?"bg-teal-500/10":n.theme==="sunset"?"bg-rose-500/10":"bg-pink-500/10"}`,style:{bottom:"-10%",right:"-5%"}})]})]})};function jH(n,e,t){const i={x:Math.random()*n,y:Math.random()*e,opacity:Math.random()*.5+.2};switch(t){case"stars":return{...i,size:Math.random()*2+.5,speedX:0,speedY:0,opacity:Math.random()*.8+.2};case"leaves":return{...i,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.8+.3,hue:Math.random()*40+80};case"bubbles":return{...i,size:Math.random()*8+2,speedX:Math.random()*.3-.15,speedY:-(Math.random()*.8+.3)};case"embers":return{...i,size:Math.random()*3+1,speedX:Math.random()*.4-.2,speedY:-(Math.random()*1+.5),hue:Math.random()*30+15};default:return{...i,size:Math.random()*4+1,speedX:Math.random()*.3-.15,speedY:Math.random()*.2-.1,hue:Math.random()*60+240}}}function UH(n,e,t,i){n.x+=n.speedX,n.y+=n.speedY,i==="stars"&&(n.opacity+=(Math.random()-.5)*.05,n.opacity=Math.max(.1,Math.min(1,n.opacity))),n.x<0&&(n.x=e),n.x>e&&(n.x=0),n.y<0&&(n.y=t),n.y>t&&(n.y=0)}function BH(n,e,t){switch(n.beginPath(),t.type){case"stars":n.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,n.arc(e.x,e.y,e.size,0,Math.PI*2),n.fill(),e.opacity>.7&&(n.beginPath(),n.fillStyle=`rgba(200, 220, 255, ${e.opacity*.3})`,n.arc(e.x,e.y,e.size*3,0,Math.PI*2),n.fill());break;case"leaves":n.fillStyle=`hsla(${e.hue}, 60%, 50%, ${e.opacity})`,n.ellipse(e.x,e.y,e.size,e.size*.5,e.x*.01,0,Math.PI*2),n.fill();break;case"bubbles":n.strokeStyle=t.baseColor+`${e.opacity})`,n.lineWidth=1,n.arc(e.x,e.y,e.size,0,Math.PI*2),n.stroke(),n.beginPath(),n.fillStyle=`rgba(255, 255, 255, ${e.opacity*.5})`,n.arc(e.x-e.size*.3,e.y-e.size*.3,e.size*.2,0,Math.PI*2),n.fill();break;case"embers":const i=n.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size);i.addColorStop(0,`hsla(${e.hue}, 100%, 70%, ${e.opacity})`),i.addColorStop(1,`hsla(${e.hue}, 100%, 50%, 0)`),n.fillStyle=i,n.arc(e.x,e.y,e.size,0,Math.PI*2),n.fill();break;default:const s=n.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size*2);s.addColorStop(0,`hsla(${e.hue}, 80%, 60%, ${e.opacity})`),s.addColorStop(1,`hsla(${e.hue}, 80%, 60%, 0)`),n.fillStyle=s,n.arc(e.x,e.y,e.size*2,0,Math.PI*2),n.fill();break}}const qh=({title:n,icon:e,children:t,delay:i=0})=>_.jsxs(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i},className:"bg-white/5 border border-white/10 rounded-2xl p-6 backdrop-blur-sm hover:bg-white/10 transition-colors",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[_.jsx("div",{className:"p-2 bg-accent-primary/20 rounded-lg text-accent-primary",children:_.jsx(e,{size:24})}),_.jsx("h3",{className:"text-xl font-bold text-white",children:n})]}),_.jsx("div",{className:"text-slate-300 space-y-3 leading-relaxed",children:t})]}),w0=({number:n,title:e,text:t})=>_.jsxs("div",{className:"flex gap-4",children:[_.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-slate-800 border border-white/20 flex items-center justify-center font-bold text-sm text-white",children:n}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold text-white mb-1",children:e}),_.jsx("p",{className:"text-sm text-slate-400",children:t})]})]}),zH=()=>{const n=du();return _.jsx("div",{className:"min-h-screen bg-transparent text-white p-6 relative overflow-x-hidden",children:_.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsxs(at.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>n("/dashboard"),className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors mb-8 group",children:[_.jsx(uP,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),_.jsxs("div",{className:"text-center mb-16",children:[_.jsx(at.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-accent-primary to-accent-secondary mb-6 shadow-2xl shadow-accent-primary/20",children:_.jsx(Yp,{size:40,className:"text-white"})}),_.jsxs(at.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl sm:text-5xl font-extrabold mb-4",children:["How to ",_.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:"Bingo"})]}),_.jsx(at.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-xl text-slate-400 max-w-2xl mx-auto",children:"Your complete guide to mastering the art of 2026 Bingo. Turn your goals into a game!"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-24",children:[_.jsxs(qh,{title:"Getting Started",icon:pP,delay:.3,children:[_.jsx("p",{children:"Welcome to your digital accountability partner! The app is designed to make achieving your 2026 goals fun and social."}),_.jsxs("div",{className:"mt-4 space-y-4",children:[_.jsx(w0,{number:1,title:"Sign Up",text:"You're already here! Your account is safe with us."}),_.jsx(w0,{number:2,title:"Create a Board",text:"Choose a template or start from scratch."}),_.jsx(w0,{number:3,title:"Invite Friends",text:"Everything is better together."})]})]}),_.jsxs(qh,{title:"Creating Boards",icon:Bw,delay:.4,children:[_.jsx("p",{children:"Your board is your battlefield. You can customize it to fit your exact needs."}),_.jsxs("div",{className:"mt-4 bg-black/20 rounded-xl p-4 border border-white/5",children:[_.jsxs("h4",{className:"font-semibold text-accent-gold mb-2 flex items-center gap-2",children:[_.jsx(oG,{size:16})," Pro Tips:"]}),_.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-slate-400",children:[_.jsxs("li",{children:[_.jsx("strong",{children:"3x3 Grid:"})," Quick, focused mini-goals."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"5x5 Grid:"})," The classic Bingo experience."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"Templates:"})," We have pre-made ideas for inspiration!"]}),_.jsxs("li",{children:[_.jsx("strong",{children:"Shuffle:"})," Don't like the layout? Hit shuffle before locking."]})]})]})]}),_.jsxs(qh,{title:"Playing the Game",icon:XI,delay:.5,children:[_.jsx("p",{children:"Once your board is finalized, the fun begins. Tap a tile to interact with it."}),_.jsxs("div",{className:"space-y-3 mt-4",children:[_.jsxs("div",{className:"flex items-start gap-3",children:[_.jsx(R_,{className:"text-accent-secondary shrink-0 mt-1",size:18}),_.jsxs("div",{children:[_.jsx("span",{className:"text-white font-medium",children:"Add Proof:"}),_.jsx("p",{className:"text-sm",children:'Upload a photo to mark a tile as "In Progress" or "Completed".'})]})]}),_.jsxs("div",{className:"flex items-start gap-3",children:[_.jsx(XI,{className:"text-green-400 shrink-0 mt-1",size:18}),_.jsxs("div",{children:[_.jsx("span",{className:"text-white font-medium",children:"Mark Complete:"}),_.jsx("p",{className:"text-sm",children:`Tap "Mark Complete" when you're done. Watch the tile light up!`})]})]})]})]}),_.jsxs(qh,{title:"Shared Boards",icon:cp,delay:.6,children:[_.jsx("p",{children:"Compete or collaborate with friends on the same board."}),_.jsxs("div",{className:"mt-4 space-y-2 text-sm",children:[_.jsxs("p",{children:[" ",_.jsx("strong",{children:"Invite Users:"})," Click the share icon and add friends by email."]}),_.jsxs("p",{children:[" ",_.jsx("strong",{children:"Competition:"})," See who completes tiles first. The tile will show the name of the winner!"]}),_.jsxs("p",{children:[" ",_.jsx("strong",{children:"Live Updates:"})," Watch changes happen in real-time."]})]})]}),_.jsxs(qh,{title:"Advanced Features",icon:zw,delay:.7,children:[_.jsx("p",{children:"Customize your experience in the settings menu."}),_.jsxs("ul",{className:"mt-2 space-y-2 text-sm text-slate-400",children:[_.jsxs("li",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary"}),"Toggle sound effects on/off"]}),_.jsxs("li",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary"}),"Switch dynamic backgrounds"]}),_.jsxs("li",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary"}),"Edit incomplete boards anytime"]})]})]}),_.jsx("div",{className:"md:col-span-2 mt-8",children:_.jsxs("div",{className:"bg-gradient-to-r from-accent-primary/10 to-accent-secondary/10 border border-white/10 rounded-2xl p-8 text-center relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-accent-primary to-accent-secondary"}),_.jsx(Uw,{className:"w-12 h-12 text-white mx-auto mb-4 opacity-80"}),_.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Ready to start?"}),_.jsx("p",{className:"text-slate-400 mb-6",children:"Create your first board and start your journey."}),_.jsx("button",{onClick:()=>n("/dashboard"),className:"px-8 py-3 bg-white text-bg-dark font-bold rounded-xl hover:bg-slate-200 transition-colors shadow-lg shadow-white/10",children:"Go to Dashboard"})]})})]})]})})},FH=()=>{const{user:n}=Dl(),e=du(),[t,i]=V.useState("idle"),[s,o]=V.useState([]),[c,h]=V.useState(null),d=v=>o(w=>[...w,`[${new Date().toLocaleTimeString()}] ${v}`]),f=async()=>{if(n){i("running"),o([]),d("Starting migration process...");try{d("Fetching legacy board 'years/2026'...");const v=nr(sn,"years","2026"),w=await Au(v);if(!w.exists())throw new Error("Legacy document 'years/2026' not found!");const E=w.data();d(`Legacy data found: ${E.items?.length||0} items.`);const R="sarawbush@gmail.com",k="sunit.mathur@gmail.com";d(`Resolving user: ${R} (Owner)...`);const C=Fa(_r(sn,"users"),Cs("email","==",R)),B=await Vs(C);if(B.empty)throw new Error(`User ${R} not found in database.`);const H=B.docs[0].id;d(`Found Sara: ${H}`),d(`Resolving user: ${k} (Editor)...`);const F=Fa(_r(sn,"users"),Cs("email","==",k)),$=await Vs(F);if($.empty)throw new Error(`User ${k} not found in database.`);const ie=$.docs[0].id;d(`Found Sunit: ${ie}`),d("Transforming data structure...");const le=E.items.map((L,O)=>{const z=O===12,M=L.completed||L.isCompleted||!1,ge={id:O,text:L.text||L||"",isCompleted:M,isFreeSpace:z,targetCount:1,currentCount:M?1:0};return M&&(ge.completedBy=H),ge});d("Creating new board in 'boards' collection...");const N=n.uid;d(`Creating as current user: ${N} (to satisfy security rules)`);const A={title:"2026 Bingo",gridSize:5,createdAt:Ue.now(),ownerId:N,updatedAt:Ue.now(),members:{[H]:"owner",[ie]:"editor",[N]:"owner"},items:le,theme:"dawn"};d("Creating new board in 'boards' collection...");const P=await rw(_r(sn,"boards"),A);h(P.id),d(`SUCCESS! New Board Created. ID: ${P.id}`),i("success")}catch(v){console.error(v),d(`ERROR: ${v.message}`),i("error")}}},g=async()=>{if(n){i("running"),o([]),d("Starting permission fix...");try{d("Finding the '2026 Bingo' board...");const v=Fa(_r(sn,"boards"),Cs("title","==","2026 Bingo"),Cs(`members.${n.uid}`,"==","owner")),w=await Vs(v);if(w.empty)throw new Error("Could not find the '2026 Bingo' board where you are an owner.");const R=w.docs[0].id;d(`Found board: ${R}`);const k="sarawbush@gmail.com",C=Fa(_r(sn,"users"),Cs("email","==",k)),H=(await Vs(C)).docs[0]?.id;if(!H)throw new Error("Could not find Sara's UID");d(`Downgrading ${n.email} to 'editor'...`),d(`Ensuring ${k} is 'owner'...`);const F=nr(sn,"boards",R);await dp(()=>Promise.resolve().then(()=>bD),void 0).then($=>{$.updateDoc(F,{[`members.${n.uid}`]:"editor",[`members.${H}`]:"owner"})}),d("SUCCESS! Permissions updated."),i("success"),h(R)}catch(v){console.error(v),d(`ERROR: ${v.message}`),i("error")}}};return _.jsx("div",{className:"min-h-screen bg-bg-dark text-white p-6",children:_.jsxs("div",{className:"max-w-2xl mx-auto",children:[_.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors mb-8",children:[_.jsx(uP,{size:20}),"Back to Dashboard"]}),_.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-2xl p-8 shadow-xl",children:[_.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Legacy Migration Tool"}),_.jsx("p",{className:"text-slate-400 mb-8",children:"Tools to manage the 2026 Board migration."}),_.jsxs("div",{className:"bg-black/30 rounded-xl p-4 mb-8 font-mono text-sm max-h-64 overflow-y-auto border border-white/5",children:[s.length===0?_.jsx("span",{className:"text-slate-600",children:"Waiting for command..."}):s.map((v,w)=>_.jsx("div",{className:"mb-1",children:v},w)),t==="running"&&_.jsxs("div",{className:"flex items-center gap-2 text-accent-primary mt-2",children:[_.jsx(uG,{className:"animate-spin w-4 h-4"})," Processing..."]})]}),t==="success"?_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4 flex flex-col gap-4 text-center",children:[_.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-400 font-bold text-lg",children:[_.jsx(fP,{})," Operation Complete"]}),_.jsx("button",{onClick:()=>e(`/board/${c}`),className:"bg-green-500 text-white font-bold py-3 px-6 rounded-xl hover:bg-green-400 transition-colors",children:"Open Board"})]}),_.jsx("button",{onClick:()=>i("idle"),className:"w-full py-3 text-slate-400 hover:text-white",children:"Run functionality again"})]}):_.jsxs("div",{className:"space-y-4",children:[_.jsxs("button",{onClick:f,disabled:t==="running",className:`w-full py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all ${t==="running"?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-gradient-to-r from-accent-primary to-accent-secondary text-white hover:shadow-lg hover:shadow-accent-primary/20"}`,children:[t==="running"?"Migrating...":"Start New Migration",!t&&_.jsx(yG,{size:20})]}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-0 flex items-center",children:_.jsx("div",{className:"w-full border-t border-white/10"})}),_.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:_.jsx("span",{className:"bg-slate-900 px-2 text-slate-500",children:"Or Fix Existing"})})]}),_.jsx("button",{onClick:g,disabled:t==="running",className:"w-full py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all border border-amber-500/30 text-amber-500 hover:bg-amber-500/10",children:"Downgrade Me to Editor"})]}),t==="error"&&_.jsxs("div",{className:"mt-4 p-4 bg-red-500/10 border border-red-500/20 rounded-xl text-red-200 flex items-center gap-3",children:[_.jsx(CG,{size:20}),"Check logs for error details."]})]})]})})},qH=()=>{const{user:n,loading:e}=Dl();return e?_.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-bg-dark text-slate-500",children:"Initializing..."}):n?_.jsxs(_.Fragment,{children:[_.jsx(LH,{}),_.jsx(FO,{children:_.jsxs(vO,{children:[_.jsx(Va,{path:"/",element:_.jsx(S1,{to:"/dashboard",replace:!0})}),_.jsx(Va,{path:"/dashboard",element:_.jsx(OH,{})}),_.jsx(Va,{path:"/board/legacy/:yearId",element:_.jsx(aR,{})}),_.jsx(Va,{path:"/board/:boardId",element:_.jsx(aR,{})}),_.jsx(Va,{path:"/help",element:_.jsx(zH,{})}),_.jsx(Va,{path:"/admin/migrate",element:_.jsx(FH,{})}),_.jsx(Va,{path:"*",element:_.jsx(S1,{to:"/dashboard",replace:!0})})]})})]}):_.jsx(NH,{})};function GH(){return _.jsx(a9,{children:_.jsx(CH,{children:_.jsx(jG,{children:_.jsx(qH,{})})})})}console.log("Main.tsx full run");const oR=document.getElementById("root");oR?bM.createRoot(oR).render(_.jsx(V.StrictMode,{children:_.jsx(GH,{})})):console.error("Root not found");export{Ya as C,rs as F,fu as _,It as a,kR as b,fl as c,er as d,Dg as e,z_ as g,oo as i,ng as p,Yr as r,j_ as u};
