(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function BD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gy={exports:{}},Nu={};var D1;function FD(){if(D1)return Nu;D1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Nu.Fragment=e,Nu.jsx=n,Nu.jsxs=n,Nu}var M1;function qD(){return M1||(M1=1,gy.exports=FD()),gy.exports}var y=qD(),yy={exports:{}},Fe={};var P1;function HD(){if(P1)return Fe;P1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function A(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,R={};function O(T,z,W){this.props=T,this.context=z,this.refs=R,this.updater=W||k}O.prototype.isReactComponent={},O.prototype.setState=function(T,z){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,z,"setState")},O.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function H(){}H.prototype=O.prototype;function F(T,z,W){this.props=T,this.context=z,this.refs=R,this.updater=W||k}var re=F.prototype=new H;re.constructor=F,I(re,O.prototype),re.isPureReactComponent=!0;var te=Array.isArray;function ce(){}var D={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function j(T,z,W){var ne=W.ref;return{$$typeof:t,type:T,key:z,ref:ne!==void 0?ne:null,props:W}}function B(T,z){return j(T.type,z,T.props)}function U(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function V(T){var z={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(W){return z[W]})}var P=/\/+/g;function be(T,z){return typeof T=="object"&&T!==null&&T.key!=null?V(""+T.key):z.toString(36)}function xe(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(ce,ce):(T.status="pending",T.then(function(z){T.status==="pending"&&(T.status="fulfilled",T.value=z)},function(z){T.status==="pending"&&(T.status="rejected",T.reason=z)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function Z(T,z,W,ne,ge){var ye=typeof T;(ye==="undefined"||ye==="boolean")&&(T=null);var he=!1;if(T===null)he=!0;else switch(ye){case"bigint":case"string":case"number":he=!0;break;case"object":switch(T.$$typeof){case t:case e:he=!0;break;case g:return he=T._init,Z(he(T._payload),z,W,ne,ge)}}if(he)return ge=ge(T),he=ne===""?"."+be(T,0):ne,te(ge)?(W="",he!=null&&(W=he.replace(P,"$&/")+"/"),Z(ge,z,W,"",function(Ae){return Ae})):ge!=null&&(U(ge)&&(ge=B(ge,W+(ge.key==null||T&&T.key===ge.key?"":(""+ge.key).replace(P,"$&/")+"/")+he)),z.push(ge)),1;he=0;var we=ne===""?".":ne+":";if(te(T))for(var Te=0;Te<T.length;Te++)ne=T[Te],ye=we+be(ne,Te),he+=Z(ne,z,W,ye,ge);else if(Te=A(T),typeof Te=="function")for(T=Te.call(T),Te=0;!(ne=T.next()).done;)ne=ne.value,ye=we+be(ne,Te++),he+=Z(ne,z,W,ye,ge);else if(ye==="object"){if(typeof T.then=="function")return Z(xe(T),z,W,ne,ge);throw z=String(T),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return he}function X(T,z,W){if(T==null)return T;var ne=[],ge=0;return Z(T,ne,"","",function(ye){return z.call(W,ye,ge++)}),ne}function $(T){if(T._status===-1){var z=T._result;z=z(),z.then(function(W){(T._status===0||T._status===-1)&&(T._status=1,T._result=W)},function(W){(T._status===0||T._status===-1)&&(T._status=2,T._result=W)}),T._status===-1&&(T._status=0,T._result=z)}if(T._status===1)return T._result.default;throw T._result}var Y=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},L={map:X,forEach:function(T,z,W){X(T,function(){z.apply(this,arguments)},W)},count:function(T){var z=0;return X(T,function(){z++}),z},toArray:function(T){return X(T,function(z){return z})||[]},only:function(T){if(!U(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return Fe.Activity=b,Fe.Children=L,Fe.Component=O,Fe.Fragment=n,Fe.Profiler=a,Fe.PureComponent=F,Fe.StrictMode=s,Fe.Suspense=d,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(T){return D.H.useMemoCache(T)}},Fe.cache=function(T){return function(){return T.apply(null,arguments)}},Fe.cacheSignal=function(){return null},Fe.cloneElement=function(T,z,W){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ne=I({},T.props),ge=T.key;if(z!=null)for(ye in z.key!==void 0&&(ge=""+z.key),z)!C.call(z,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&z.ref===void 0||(ne[ye]=z[ye]);var ye=arguments.length-2;if(ye===1)ne.children=W;else if(1<ye){for(var he=Array(ye),we=0;we<ye;we++)he[we]=arguments[we+2];ne.children=he}return j(T.type,ge,ne)},Fe.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:l,_context:T},T},Fe.createElement=function(T,z,W){var ne,ge={},ye=null;if(z!=null)for(ne in z.key!==void 0&&(ye=""+z.key),z)C.call(z,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ge[ne]=z[ne]);var he=arguments.length-2;if(he===1)ge.children=W;else if(1<he){for(var we=Array(he),Te=0;Te<he;Te++)we[Te]=arguments[Te+2];ge.children=we}if(T&&T.defaultProps)for(ne in he=T.defaultProps,he)ge[ne]===void 0&&(ge[ne]=he[ne]);return j(T,ye,ge)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(T){return{$$typeof:h,render:T}},Fe.isValidElement=U,Fe.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:$}},Fe.memo=function(T,z){return{$$typeof:m,type:T,compare:z===void 0?null:z}},Fe.startTransition=function(T){var z=D.T,W={};D.T=W;try{var ne=T(),ge=D.S;ge!==null&&ge(W,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(ce,Y)}catch(ye){Y(ye)}finally{z!==null&&W.types!==null&&(z.types=W.types),D.T=z}},Fe.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Fe.use=function(T){return D.H.use(T)},Fe.useActionState=function(T,z,W){return D.H.useActionState(T,z,W)},Fe.useCallback=function(T,z){return D.H.useCallback(T,z)},Fe.useContext=function(T){return D.H.useContext(T)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(T,z){return D.H.useDeferredValue(T,z)},Fe.useEffect=function(T,z){return D.H.useEffect(T,z)},Fe.useEffectEvent=function(T){return D.H.useEffectEvent(T)},Fe.useId=function(){return D.H.useId()},Fe.useImperativeHandle=function(T,z,W){return D.H.useImperativeHandle(T,z,W)},Fe.useInsertionEffect=function(T,z){return D.H.useInsertionEffect(T,z)},Fe.useLayoutEffect=function(T,z){return D.H.useLayoutEffect(T,z)},Fe.useMemo=function(T,z){return D.H.useMemo(T,z)},Fe.useOptimistic=function(T,z){return D.H.useOptimistic(T,z)},Fe.useReducer=function(T,z,W){return D.H.useReducer(T,z,W)},Fe.useRef=function(T){return D.H.useRef(T)},Fe.useState=function(T){return D.H.useState(T)},Fe.useSyncExternalStore=function(T,z,W){return D.H.useSyncExternalStore(T,z,W)},Fe.useTransition=function(){return D.H.useTransition()},Fe.version="19.2.3",Fe}var j1;function dv(){return j1||(j1=1,yy.exports=HD()),yy.exports}var S=dv();const _t=BD(S);var vy={exports:{}},Iu={},by={exports:{}},xy={};var O1;function GD(){return O1||(O1=1,(function(t){function e(Z,X){var $=Z.length;Z.push(X);e:for(;0<$;){var Y=$-1>>>1,L=Z[Y];if(0<a(L,X))Z[Y]=X,Z[$]=L,$=Y;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var X=Z[0],$=Z.pop();if($!==X){Z[0]=$;e:for(var Y=0,L=Z.length,T=L>>>1;Y<T;){var z=2*(Y+1)-1,W=Z[z],ne=z+1,ge=Z[ne];if(0>a(W,$))ne<L&&0>a(ge,W)?(Z[Y]=ge,Z[ne]=$,Y=ne):(Z[Y]=W,Z[z]=$,Y=z);else if(ne<L&&0>a(ge,$))Z[Y]=ge,Z[ne]=$,Y=ne;else break e}}return X}function a(Z,X){var $=Z.sortIndex-X.sortIndex;return $!==0?$:Z.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],m=[],g=1,b=null,x=3,A=!1,k=!1,I=!1,R=!1,O=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function re(Z){for(var X=n(m);X!==null;){if(X.callback===null)s(m);else if(X.startTime<=Z)s(m),X.sortIndex=X.expirationTime,e(d,X);else break;X=n(m)}}function te(Z){if(I=!1,re(Z),!k)if(n(d)!==null)k=!0,ce||(ce=!0,V());else{var X=n(m);X!==null&&xe(te,X.startTime-Z)}}var ce=!1,D=-1,C=5,j=-1;function B(){return R?!0:!(t.unstable_now()-j<C)}function U(){if(R=!1,ce){var Z=t.unstable_now();j=Z;var X=!0;try{e:{k=!1,I&&(I=!1,H(D),D=-1),A=!0;var $=x;try{t:{for(re(Z),b=n(d);b!==null&&!(b.expirationTime>Z&&B());){var Y=b.callback;if(typeof Y=="function"){b.callback=null,x=b.priorityLevel;var L=Y(b.expirationTime<=Z);if(Z=t.unstable_now(),typeof L=="function"){b.callback=L,re(Z),X=!0;break t}b===n(d)&&s(d),re(Z)}else s(d);b=n(d)}if(b!==null)X=!0;else{var T=n(m);T!==null&&xe(te,T.startTime-Z),X=!1}}break e}finally{b=null,x=$,A=!1}X=void 0}}finally{X?V():ce=!1}}}var V;if(typeof F=="function")V=function(){F(U)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,be=P.port2;P.port1.onmessage=U,V=function(){be.postMessage(null)}}else V=function(){O(U,0)};function xe(Z,X){D=O(function(){Z(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(Z){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var $=x;x=X;try{return Z()}finally{x=$}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(Z,X){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var $=x;x=Z;try{return X()}finally{x=$}},t.unstable_scheduleCallback=function(Z,X,$){var Y=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Y+$:Y):$=Y,Z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=$+L,Z={id:g++,callback:X,priorityLevel:Z,startTime:$,expirationTime:L,sortIndex:-1},$>Y?(Z.sortIndex=$,e(m,Z),n(d)===null&&Z===n(m)&&(I?(H(D),D=-1):I=!0,xe(te,$-Y))):(Z.sortIndex=L,e(d,Z),k||A||(k=!0,ce||(ce=!0,V()))),Z},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(Z){var X=x;return function(){var $=x;x=X;try{return Z.apply(this,arguments)}finally{x=$}}}})(xy)),xy}var V1;function $D(){return V1||(V1=1,by.exports=GD()),by.exports}var wy={exports:{}},as={};var L1;function KD(){if(L1)return as;L1=1;var t=dv();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,m,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:d,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return as.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,as.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,g)},as.flushSync=function(d){var m=c.T,g=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=m,s.p=g,s.d.f()}},as.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(d,m))},as.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},as.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,b=h(g,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?s.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:A}):g==="script"&&s.d.X(d,{crossOrigin:b,integrity:x,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},as.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);s.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(d)},as.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,b=h(g,m.crossOrigin);s.d.L(d,g,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},as.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=h(m.as,m.crossOrigin);s.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(d)},as.requestFormReset=function(d){s.d.r(d)},as.unstable_batchedUpdates=function(d,m){return d(m)},as.useFormState=function(d,m,g){return c.H.useFormState(d,m,g)},as.useFormStatus=function(){return c.H.useHostTransitionStatus()},as.version="19.2.3",as}var U1;function xA(){if(U1)return wy.exports;U1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wy.exports=KD(),wy.exports}var z1;function YD(){if(z1)return Iu;z1=1;var t=$D(),e=dv(),n=xA();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var p=o.return;if(p===null)break;var v=p.alternate;if(v===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===o)return d(p),i;if(v===u)return d(p),r;v=v.sibling}throw Error(s(188))}if(o.return!==u.return)o=p,u=v;else{for(var _=!1,N=p.child;N;){if(N===o){_=!0,o=p,u=v;break}if(N===u){_=!0,u=p,o=v;break}N=N.sibling}if(!_){for(N=v.child;N;){if(N===o){_=!0,o=v,u=p;break}if(N===u){_=!0,u=v,o=p;break}N=N.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),F=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function V(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function be(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case O:return"Profiler";case R:return"StrictMode";case te:return"Suspense";case ce:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case k:return"Portal";case F:return i.displayName||"Context";case H:return(i._context.displayName||"Context")+".Consumer";case re:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return r=i.displayName||null,r!==null?r:be(i.type)||"Memo";case C:r=i._payload,i=i._init;try{return be(i(r))}catch{}}return null}var xe=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},Y=[],L=-1;function T(i){return{current:i}}function z(i){0>L||(i.current=Y[L],Y[L]=null,L--)}function W(i,r){L++,Y[L]=i.current,i.current=r}var ne=T(null),ge=T(null),ye=T(null),he=T(null);function we(i,r){switch(W(ye,r),W(ge,i),W(ne,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?t1(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=t1(r),i=n1(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}z(ne),W(ne,i)}function Te(){z(ne),z(ge),z(ye)}function Ae(i){i.memoizedState!==null&&W(he,i);var r=ne.current,o=n1(r,i.type);r!==o&&(W(ge,i),W(ne,o))}function ze(i){ge.current===i&&(z(ne),z(ge)),he.current===i&&(z(he),Su._currentValue=$)}var Ve,dt;function De(i){if(Ve===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ve=r&&r[1]||"",dt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+i+dt}var mt=!1;function xt(i,r){if(!i||mt)return"";mt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(le){var ae=le}Reflect.construct(i,[],me)}else{try{me.call()}catch(le){ae=le}i.call(me.prototype)}}else{try{throw Error()}catch(le){ae=le}(me=i())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(le){if(le&&ae&&typeof le.stack=="string")return[le.stack,ae.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),_=v[0],N=v[1];if(_&&N){var q=_.split(`
`),ie=N.split(`
`);for(p=u=0;u<q.length&&!q[u].includes("DetermineComponentFrameRoot");)u++;for(;p<ie.length&&!ie[p].includes("DetermineComponentFrameRoot");)p++;if(u===q.length||p===ie.length)for(u=q.length-1,p=ie.length-1;1<=u&&0<=p&&q[u]!==ie[p];)p--;for(;1<=u&&0<=p;u--,p--)if(q[u]!==ie[p]){if(u!==1||p!==1)do if(u--,p--,0>p||q[u]!==ie[p]){var ue=`
`+q[u].replace(" at new "," at ");return i.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",i.displayName)),ue}while(1<=u&&0<=p);break}}}finally{mt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?De(o):""}function Xt(i,r){switch(i.tag){case 26:case 27:case 5:return De(i.type);case 16:return De("Lazy");case 13:return i.child!==r&&r!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return xt(i.type,!1);case 11:return xt(i.type.render,!1);case 1:return xt(i.type,!0);case 31:return De("Activity");default:return""}}function yn(i){try{var r="",o=null;do r+=Xt(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ze=Object.prototype.hasOwnProperty,Be=t.unstable_scheduleCallback,Wn=t.unstable_cancelCallback,Os=t.unstable_shouldYield,Xs=t.unstable_requestPaint,Ot=t.unstable_now,Ss=t.unstable_getCurrentPriorityLevel,As=t.unstable_ImmediatePriority,zn=t.unstable_UserBlockingPriority,Et=t.unstable_NormalPriority,Bn=t.unstable_LowPriority,Vs=t.unstable_IdlePriority,vn=t.log,Ls=t.unstable_setDisableYieldValue,In=null,Rt=null;function kn(i){if(typeof vn=="function"&&Ls(i),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(In,i)}catch{}}var Nt=Math.clz32?Math.clz32:pr,mr=Math.log,bi=Math.LN2;function pr(i){return i>>>=0,i===0?32:31-(mr(i)/bi|0)|0}var rn=256,xi=262144,Ye=4194304;function Vt(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Lt(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var p=0,v=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var N=u&134217727;return N!==0?(u=N&~v,u!==0?p=Vt(u):(_&=N,_!==0?p=Vt(_):o||(o=N&~i,o!==0&&(p=Vt(o))))):(N=u&~v,N!==0?p=Vt(N):_!==0?p=Vt(_):o||(o=u&~i,o!==0&&(p=Vt(o)))),p===0?0:r!==0&&r!==p&&(r&v)===0&&(v=p&-p,o=r&-r,v>=o||v===32&&(o&4194048)!==0)?r:p}function Ft(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Fn(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qt(){var i=Ye;return Ye<<=1,(Ye&62914560)===0&&(Ye=4194304),i}function ut(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Dn(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Jt(i,r,o,u,p,v){var _=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var N=i.entanglements,q=i.expirationTimes,ie=i.hiddenUpdates;for(o=_&~o;0<o;){var ue=31-Nt(o),me=1<<ue;N[ue]=0,q[ue]=-1;var ae=ie[ue];if(ae!==null)for(ie[ue]=null,ue=0;ue<ae.length;ue++){var le=ae[ue];le!==null&&(le.lane&=-536870913)}o&=~me}u!==0&&bn(i,u,0),v!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=v&~(_&~r))}function bn(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Nt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function an(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Nt(o),p=1<<u;p&r|i[u]&r&&(i[u]|=r),o&=~p}}function Xn(i,r){var o=r&-r;return o=(o&42)!==0?1:ps(o),(o&(i.suspendedLanes|r))!==0?0:o}function ps(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Qn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function gs(){var i=X.p;return i!==0?i:(i=window.event,i===void 0?32:S1(i.type))}function Mn(i,r){var o=X.p;try{return X.p=i,r()}finally{X.p=o}}var on=Math.random().toString(36).slice(2),wt="__reactFiber$"+on,qt="__reactProps$"+on,qn="__reactContainer$"+on,gr="__reactEvents$"+on,ho="__reactListeners$"+on,ll="__reactHandles$"+on,yr="__reactResources$"+on,Ut="__reactMarker$"+on;function wi(i){delete i[wt],delete i[qt],delete i[gr],delete i[ho],delete i[ll]}function xn(i){var r=i[wt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[qn]||o[wt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=c1(i);i!==null;){if(o=i[wt])return o;i=c1(i)}return r}i=o,o=i.parentNode}return null}function rs(i){if(i=i[wt]||i[qn]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Pn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ys(i){var r=i[yr];return r||(r=i[yr]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Zt(i){i[Ut]=!0}var fo=new Set,ra={};function Qs(i,r){Us(i,r),Us(i+"Capture",r)}function Us(i,r){for(ra[i]=r,i=0;i<r.length;i++)fo.add(r[i])}var vr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),aa={},mo={};function cl(i){return Ze.call(mo,i)?!0:Ze.call(aa,i)?!1:vr.test(i)?mo[i]=!0:(aa[i]=!0,!1)}function br(i,r,o){if(cl(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function vs(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function ln(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function ot(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function oa(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,v=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return p.call(this)},set:function(_){o=""+_,v.call(this,_)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function pt(i){if(!i._valueTracker){var r=xr(i)?"checked":"value";i._valueTracker=oa(i,r,""+i[r])}}function wr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=xr(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function J(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ee=/[\n"\\]/g;function Xe(i){return i.replace(Ee,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function zt(i,r,o,u,p,v,_,N){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+ot(r)):i.value!==""+ot(r)&&(i.value=""+ot(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?St(i,_,ot(r)):o!=null?St(i,_,ot(o)):u!=null&&i.removeAttribute("value"),p==null&&v!=null&&(i.defaultChecked=!!v),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.name=""+ot(N):i.removeAttribute("name")}function Pt(i,r,o,u,p,v,_,N){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),r!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||r!=null)){pt(i);return}o=o!=null?""+ot(o):"",r=r!=null?""+ot(r):o,N||r===i.value||(i.value=r),i.defaultValue=r}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=N?i.checked:!!u,i.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),pt(i)}function St(i,r,o){r==="number"&&J(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function wn(i,r,o,u){if(i=i.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=r.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&u&&(i[o].defaultSelected=!0)}else{for(o=""+ot(o),r=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}r!==null||i[p].disabled||(r=i[p])}r!==null&&(r.selected=!0)}}function _i(i,r,o){if(r!=null&&(r=""+ot(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+ot(o):""}function la(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(xe(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=ot(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),pt(i)}function Cs(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var nd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uc(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||nd.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function zc(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in r)u=r[p],r.hasOwnProperty(p)&&o[p]!==u&&Uc(i,p,u)}else for(var v in r)r.hasOwnProperty(v)&&Uc(i,v,r[v])}function ul(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ca=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hl(i){return ca.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ti(){}var Bc=null;function Js(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ua=null,qi=null;function po(i){var r=rs(i);if(r&&(i=r.stateNode)){var o=i[qt]||null;e:switch(i=r.stateNode,r.type){case"input":if(zt(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Xe(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var p=u[qt]||null;if(!p)throw Error(s(90));zt(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&wr(u)}break e;case"textarea":_i(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&wn(i,!!o.multiple,r,!1)}}}var dl=!1;function ha(i,r,o){if(dl)return i(r,o);dl=!0;try{var u=i(r);return u}finally{if(dl=!1,(ua!==null||qi!==null)&&(Xd(),ua&&(r=ua,i=qi,qi=ua=null,po(r),i)))for(r=0;r<i.length;r++)po(i[r])}}function Ei(i,r){var o=i.stateNode;if(o===null)return null;var u=o[qt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),go=!1;if(Zs)try{var It={};Object.defineProperty(It,"passive",{get:function(){go=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch{go=!1}var Hi=null,Fc=null,yo=null;function qc(){if(yo)return yo;var i,r=Fc,o=r.length,u,p="value"in Hi?Hi.value:Hi.textContent,v=p.length;for(i=0;i<o&&r[i]===p[i];i++);var _=o-i;for(u=1;u<=_&&r[o-u]===p[v-u];u++);return yo=p.slice(i,1<u?1-u:void 0)}function vo(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function _r(){return!0}function Si(){return!1}function Jn(i){function r(o,u,p,v,_){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=v,this.target=_,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(o=i[N],this[N]=o?o(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?_r:Si,this.isPropagationStopped=Si,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),r}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=Jn(Tr),da=b({},Tr,{view:0,detail:0}),Hc=Jn(da),fa,fl,$i,ml=b({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ma,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==$i&&($i&&i.type==="mousemove"?(fa=i.screenX-$i.screenX,fl=i.screenY-$i.screenY):fl=fa=0,$i=i),fa)},movementY:function(i){return"movementY"in i?i.movementY:fl}}),Gc=Jn(ml),bo=b({},ml,{dataTransfer:0}),id=Jn(bo),rd=b({},da,{relatedTarget:0}),xo=Jn(rd),$c=b({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),ad=Jn($c),pl=b({},Tr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),od=Jn(pl),ld=b({},Tr,{data:0}),Ki=Jn(ld),cd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ud={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dd(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=hd[i])?!!r[i]:!1}function ma(){return dd}var bs=b({},da,{key:function(i){if(i.key){var r=cd[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=vo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ud[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ma,charCode:function(i){return i.type==="keypress"?vo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?vo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),fd=Jn(bs),md=b({},ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Er=Jn(md),f=b({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ma}),w=Jn(f),E=b({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),M=Jn(E),ee=b({},ml,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),oe=Jn(ee),ve=b({},Tr,{newState:0,oldState:0}),$e=Jn(ve),dn=[9,13,27,32],vt=Zs&&"CompositionEvent"in window,Kt=null;Zs&&"documentMode"in document&&(Kt=document.documentMode);var ei=Zs&&"TextEvent"in window&&!Kt,Yi=Zs&&(!vt||Kt&&8<Kt&&11>=Kt),Ai=" ",Ci=!1;function wo(i,r){switch(i){case"keyup":return dn.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var yl=!1;function hk(i,r){switch(i){case"compositionend":return gl(r);case"keypress":return r.which!==32?null:(Ci=!0,Ai);case"textInput":return i=r.data,i===Ai&&Ci?null:i;default:return null}}function dk(i,r){if(yl)return i==="compositionend"||!vt&&wo(i,r)?(i=qc(),yo=Fc=Hi=null,yl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Yi&&r.locale!=="ko"?null:r.data;default:return null}}var fk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dx(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!fk[i.type]:r==="textarea"}function fx(i,r,o,u){ua?qi?qi.push(u):qi=[u]:ua=u,r=sf(r,"onChange"),0<r.length&&(o=new Gi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Kc=null,Yc=null;function mk(i){W_(i,0)}function pd(i){var r=Pn(i);if(wr(r))return i}function mx(i,r){if(i==="change")return r}var px=!1;if(Zs){var Tp;if(Zs){var Ep="oninput"in document;if(!Ep){var gx=document.createElement("div");gx.setAttribute("oninput","return;"),Ep=typeof gx.oninput=="function"}Tp=Ep}else Tp=!1;px=Tp&&(!document.documentMode||9<document.documentMode)}function yx(){Kc&&(Kc.detachEvent("onpropertychange",vx),Yc=Kc=null)}function vx(i){if(i.propertyName==="value"&&pd(Yc)){var r=[];fx(r,Yc,i,Js(i)),ha(mk,r)}}function pk(i,r,o){i==="focusin"?(yx(),Kc=r,Yc=o,Kc.attachEvent("onpropertychange",vx)):i==="focusout"&&yx()}function gk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return pd(Yc)}function yk(i,r){if(i==="click")return pd(r)}function vk(i,r){if(i==="input"||i==="change")return pd(r)}function bk(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var zs=typeof Object.is=="function"?Object.is:bk;function Wc(i,r){if(zs(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!Ze.call(r,p)||!zs(i[p],r[p]))return!1}return!0}function bx(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function xx(i,r){var o=bx(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=bx(o)}}function wx(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?wx(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function _x(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=J(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=J(i.document)}return r}function Sp(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var xk=Zs&&"documentMode"in document&&11>=document.documentMode,vl=null,Ap=null,Xc=null,Cp=!1;function Tx(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Cp||vl==null||vl!==J(u)||(u=vl,"selectionStart"in u&&Sp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Xc&&Wc(Xc,u)||(Xc=u,u=sf(Ap,"onSelect"),0<u.length&&(r=new Gi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=vl)))}function _o(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var bl={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionrun:_o("Transition","TransitionRun"),transitionstart:_o("Transition","TransitionStart"),transitioncancel:_o("Transition","TransitionCancel"),transitionend:_o("Transition","TransitionEnd")},Rp={},Ex={};Zs&&(Ex=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function To(i){if(Rp[i])return Rp[i];if(!bl[i])return i;var r=bl[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Ex)return Rp[i]=r[o];return i}var Sx=To("animationend"),Ax=To("animationiteration"),Cx=To("animationstart"),wk=To("transitionrun"),_k=To("transitionstart"),Tk=To("transitioncancel"),Rx=To("transitionend"),Nx=new Map,Np="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Np.push("scrollEnd");function Ri(i,r){Nx.set(i,r),Qs(r,[i])}var gd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ti=[],xl=0,Ip=0;function yd(){for(var i=xl,r=Ip=xl=0;r<i;){var o=ti[r];ti[r++]=null;var u=ti[r];ti[r++]=null;var p=ti[r];ti[r++]=null;var v=ti[r];if(ti[r++]=null,u!==null&&p!==null){var _=u.pending;_===null?p.next=p:(p.next=_.next,_.next=p),u.pending=p}v!==0&&Ix(o,p,v)}}function vd(i,r,o,u){ti[xl++]=i,ti[xl++]=r,ti[xl++]=o,ti[xl++]=u,Ip|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function kp(i,r,o,u){return vd(i,r,o,u),bd(i)}function Eo(i,r){return vd(i,null,null,r),bd(i)}function Ix(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var p=!1,v=i.return;v!==null;)v.childLanes|=o,u=v.alternate,u!==null&&(u.childLanes|=o),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(p=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,p&&r!==null&&(p=31-Nt(o),i=v.hiddenUpdates,u=i[p],u===null?i[p]=[r]:u.push(r),r.lane=o|536870912),v):null}function bd(i){if(50<vu)throw vu=0,zg=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var wl={};function Ek(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bs(i,r,o,u){return new Ek(i,r,o,u)}function Dp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Sr(i,r){var o=i.alternate;return o===null?(o=Bs(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function kx(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function xd(i,r,o,u,p,v){var _=0;if(u=i,typeof i=="function")Dp(i)&&(_=1);else if(typeof i=="string")_=ND(i,o,ne.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case j:return i=Bs(31,o,r,p),i.elementType=j,i.lanes=v,i;case I:return So(o.children,p,v,r);case R:_=8,p|=24;break;case O:return i=Bs(12,o,r,p|2),i.elementType=O,i.lanes=v,i;case te:return i=Bs(13,o,r,p),i.elementType=te,i.lanes=v,i;case ce:return i=Bs(19,o,r,p),i.elementType=ce,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:_=10;break e;case H:_=9;break e;case re:_=11;break e;case D:_=14;break e;case C:_=16,u=null;break e}_=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Bs(_,o,r,p),r.elementType=i,r.type=u,r.lanes=v,r}function So(i,r,o,u){return i=Bs(7,i,u,r),i.lanes=o,i}function Mp(i,r,o){return i=Bs(6,i,null,r),i.lanes=o,i}function Dx(i){var r=Bs(18,null,null,0);return r.stateNode=i,r}function Pp(i,r,o){return r=Bs(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Mx=new WeakMap;function ni(i,r){if(typeof i=="object"&&i!==null){var o=Mx.get(i);return o!==void 0?o:(r={value:i,source:r,stack:yn(r)},Mx.set(i,r),r)}return{value:i,source:r,stack:yn(r)}}var _l=[],Tl=0,wd=null,Qc=0,si=[],ii=0,pa=null,Wi=1,Xi="";function Ar(i,r){_l[Tl++]=Qc,_l[Tl++]=wd,wd=i,Qc=r}function Px(i,r,o){si[ii++]=Wi,si[ii++]=Xi,si[ii++]=pa,pa=i;var u=Wi;i=Xi;var p=32-Nt(u)-1;u&=~(1<<p),o+=1;var v=32-Nt(r)+p;if(30<v){var _=p-p%5;v=(u&(1<<_)-1).toString(32),u>>=_,p-=_,Wi=1<<32-Nt(r)+p|o<<p|u,Xi=v+i}else Wi=1<<v|o<<p|u,Xi=i}function jp(i){i.return!==null&&(Ar(i,1),Px(i,1,0))}function Op(i){for(;i===wd;)wd=_l[--Tl],_l[Tl]=null,Qc=_l[--Tl],_l[Tl]=null;for(;i===pa;)pa=si[--ii],si[ii]=null,Xi=si[--ii],si[ii]=null,Wi=si[--ii],si[ii]=null}function jx(i,r){si[ii++]=Wi,si[ii++]=Xi,si[ii++]=pa,Wi=r.id,Xi=r.overflow,pa=i}var Zn=null,Ht=null,lt=!1,ga=null,ri=!1,Vp=Error(s(519));function ya(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jc(ni(r,i)),Vp}function Ox(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[wt]=i,r[qt]=u,o){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(o=0;o<xu.length;o++)tt(xu[o],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":tt("invalid",r),Pt(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":tt("invalid",r);break;case"textarea":tt("invalid",r),la(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Z_(r.textContent,o)?(u.popover!=null&&(tt("beforetoggle",r),tt("toggle",r)),u.onScroll!=null&&tt("scroll",r),u.onScrollEnd!=null&&tt("scrollend",r),u.onClick!=null&&(r.onclick=Ti),r=!0):r=!1,r||ya(i,!0)}function Vx(i){for(Zn=i.return;Zn;)switch(Zn.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:Zn=Zn.return}}function El(i){if(i!==Zn)return!1;if(!lt)return Vx(i),lt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||ty(i.type,i.memoizedProps)),o=!o),o&&Ht&&ya(i),Vx(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Ht=l1(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Ht=l1(i)}else r===27?(r=Ht,ka(i.type)?(i=ay,ay=null,Ht=i):Ht=r):Ht=Zn?oi(i.stateNode.nextSibling):null;return!0}function Ao(){Ht=Zn=null,lt=!1}function Lp(){var i=ga;return i!==null&&(ks===null?ks=i:ks.push.apply(ks,i),ga=null),i}function Jc(i){ga===null?ga=[i]:ga.push(i)}var Up=T(null),Co=null,Cr=null;function va(i,r,o){W(Up,r._currentValue),r._currentValue=o}function Rr(i){i._currentValue=Up.current,z(Up)}function zp(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Bp(i,r,o,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var v=p.dependencies;if(v!==null){var _=p.child;v=v.firstContext;e:for(;v!==null;){var N=v;v=p;for(var q=0;q<r.length;q++)if(N.context===r[q]){v.lanes|=o,N=v.alternate,N!==null&&(N.lanes|=o),zp(v.return,o,i),u||(_=null);break e}v=N.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(s(341));_.lanes|=o,v=_.alternate,v!==null&&(v.lanes|=o),zp(_,o,i),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===i){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function Sl(i,r,o,u){i=null;for(var p=r,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var N=p.type;zs(p.pendingProps.value,_.value)||(i!==null?i.push(N):i=[N])}}else if(p===he.current){if(_=p.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Su):i=[Su])}p=p.return}i!==null&&Bp(r,i,o,u),r.flags|=262144}function _d(i){for(i=i.firstContext;i!==null;){if(!zs(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ro(i){Co=i,Cr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function es(i){return Lx(Co,i)}function Td(i,r){return Co===null&&Ro(i),Lx(i,r)}function Lx(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Cr===null){if(i===null)throw Error(s(308));Cr=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Cr=Cr.next=r;return o}var Sk=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},Ak=t.unstable_scheduleCallback,Ck=t.unstable_NormalPriority,_n={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fp(){return{controller:new Sk,data:new Map,refCount:0}}function Zc(i){i.refCount--,i.refCount===0&&Ak(Ck,function(){i.controller.abort()})}var eu=null,qp=0,Al=0,Cl=null;function Rk(i,r){if(eu===null){var o=eu=[];qp=0,Al=$g(),Cl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return qp++,r.then(Ux,Ux),r}function Ux(){if(--qp===0&&eu!==null){Cl!==null&&(Cl.status="fulfilled");var i=eu;eu=null,Al=0,Cl=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function Nk(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var zx=Z.S;Z.S=function(i,r){T_=Ot(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Rk(i,r),zx!==null&&zx(i,r)};var No=T(null);function Hp(){var i=No.current;return i!==null?i:jt.pooledCache}function Ed(i,r){r===null?W(No,No.current):W(No,r.pool)}function Bx(){var i=Hp();return i===null?null:{parent:_n._currentValue,pool:i}}var Rl=Error(s(460)),Gp=Error(s(474)),Sd=Error(s(542)),Ad={then:function(){}};function Fx(i){return i=i.status,i==="fulfilled"||i==="rejected"}function qx(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Ti,Ti),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Gx(i),i;default:if(typeof r.status=="string")r.then(Ti,Ti);else{if(i=jt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=u}},function(u){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Gx(i),i}throw ko=r,Rl}}function Io(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ko=o,Rl):o}}var ko=null;function Hx(){if(ko===null)throw Error(s(459));var i=ko;return ko=null,i}function Gx(i){if(i===Rl||i===Sd)throw Error(s(483))}var Nl=null,tu=0;function Cd(i){var r=tu;return tu+=1,Nl===null&&(Nl=[]),qx(Nl,i,r)}function nu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Rd(i,r){throw r.$$typeof===x?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function $x(i){function r(Q,G){if(i){var se=Q.deletions;se===null?(Q.deletions=[G],Q.flags|=16):se.push(G)}}function o(Q,G){if(!i)return null;for(;G!==null;)r(Q,G),G=G.sibling;return null}function u(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function p(Q,G){return Q=Sr(Q,G),Q.index=0,Q.sibling=null,Q}function v(Q,G,se){return Q.index=se,i?(se=Q.alternate,se!==null?(se=se.index,se<G?(Q.flags|=67108866,G):se):(Q.flags|=67108866,G)):(Q.flags|=1048576,G)}function _(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function N(Q,G,se,de){return G===null||G.tag!==6?(G=Mp(se,Q.mode,de),G.return=Q,G):(G=p(G,se),G.return=Q,G)}function q(Q,G,se,de){var Pe=se.type;return Pe===I?ue(Q,G,se.props.children,de,se.key):G!==null&&(G.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===C&&Io(Pe)===G.type)?(G=p(G,se.props),nu(G,se),G.return=Q,G):(G=xd(se.type,se.key,se.props,null,Q.mode,de),nu(G,se),G.return=Q,G)}function ie(Q,G,se,de){return G===null||G.tag!==4||G.stateNode.containerInfo!==se.containerInfo||G.stateNode.implementation!==se.implementation?(G=Pp(se,Q.mode,de),G.return=Q,G):(G=p(G,se.children||[]),G.return=Q,G)}function ue(Q,G,se,de,Pe){return G===null||G.tag!==7?(G=So(se,Q.mode,de,Pe),G.return=Q,G):(G=p(G,se),G.return=Q,G)}function me(Q,G,se){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Mp(""+G,Q.mode,se),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return se=xd(G.type,G.key,G.props,null,Q.mode,se),nu(se,G),se.return=Q,se;case k:return G=Pp(G,Q.mode,se),G.return=Q,G;case C:return G=Io(G),me(Q,G,se)}if(xe(G)||V(G))return G=So(G,Q.mode,se,null),G.return=Q,G;if(typeof G.then=="function")return me(Q,Cd(G),se);if(G.$$typeof===F)return me(Q,Td(Q,G),se);Rd(Q,G)}return null}function ae(Q,G,se,de){var Pe=G!==null?G.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Pe!==null?null:N(Q,G,""+se,de);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case A:return se.key===Pe?q(Q,G,se,de):null;case k:return se.key===Pe?ie(Q,G,se,de):null;case C:return se=Io(se),ae(Q,G,se,de)}if(xe(se)||V(se))return Pe!==null?null:ue(Q,G,se,de,null);if(typeof se.then=="function")return ae(Q,G,Cd(se),de);if(se.$$typeof===F)return ae(Q,G,Td(Q,se),de);Rd(Q,se)}return null}function le(Q,G,se,de,Pe){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Q=Q.get(se)||null,N(G,Q,""+de,Pe);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case A:return Q=Q.get(de.key===null?se:de.key)||null,q(G,Q,de,Pe);case k:return Q=Q.get(de.key===null?se:de.key)||null,ie(G,Q,de,Pe);case C:return de=Io(de),le(Q,G,se,de,Pe)}if(xe(de)||V(de))return Q=Q.get(se)||null,ue(G,Q,de,Pe,null);if(typeof de.then=="function")return le(Q,G,se,Cd(de),Pe);if(de.$$typeof===F)return le(Q,G,se,Td(G,de),Pe);Rd(G,de)}return null}function Re(Q,G,se,de){for(var Pe=null,gt=null,ke=G,We=G=0,st=null;ke!==null&&We<se.length;We++){ke.index>We?(st=ke,ke=null):st=ke.sibling;var yt=ae(Q,ke,se[We],de);if(yt===null){ke===null&&(ke=st);break}i&&ke&&yt.alternate===null&&r(Q,ke),G=v(yt,G,We),gt===null?Pe=yt:gt.sibling=yt,gt=yt,ke=st}if(We===se.length)return o(Q,ke),lt&&Ar(Q,We),Pe;if(ke===null){for(;We<se.length;We++)ke=me(Q,se[We],de),ke!==null&&(G=v(ke,G,We),gt===null?Pe=ke:gt.sibling=ke,gt=ke);return lt&&Ar(Q,We),Pe}for(ke=u(ke);We<se.length;We++)st=le(ke,Q,We,se[We],de),st!==null&&(i&&st.alternate!==null&&ke.delete(st.key===null?We:st.key),G=v(st,G,We),gt===null?Pe=st:gt.sibling=st,gt=st);return i&&ke.forEach(function(Oa){return r(Q,Oa)}),lt&&Ar(Q,We),Pe}function je(Q,G,se,de){if(se==null)throw Error(s(151));for(var Pe=null,gt=null,ke=G,We=G=0,st=null,yt=se.next();ke!==null&&!yt.done;We++,yt=se.next()){ke.index>We?(st=ke,ke=null):st=ke.sibling;var Oa=ae(Q,ke,yt.value,de);if(Oa===null){ke===null&&(ke=st);break}i&&ke&&Oa.alternate===null&&r(Q,ke),G=v(Oa,G,We),gt===null?Pe=Oa:gt.sibling=Oa,gt=Oa,ke=st}if(yt.done)return o(Q,ke),lt&&Ar(Q,We),Pe;if(ke===null){for(;!yt.done;We++,yt=se.next())yt=me(Q,yt.value,de),yt!==null&&(G=v(yt,G,We),gt===null?Pe=yt:gt.sibling=yt,gt=yt);return lt&&Ar(Q,We),Pe}for(ke=u(ke);!yt.done;We++,yt=se.next())yt=le(ke,Q,We,yt.value,de),yt!==null&&(i&&yt.alternate!==null&&ke.delete(yt.key===null?We:yt.key),G=v(yt,G,We),gt===null?Pe=yt:gt.sibling=yt,gt=yt);return i&&ke.forEach(function(zD){return r(Q,zD)}),lt&&Ar(Q,We),Pe}function Mt(Q,G,se,de){if(typeof se=="object"&&se!==null&&se.type===I&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case A:e:{for(var Pe=se.key;G!==null;){if(G.key===Pe){if(Pe=se.type,Pe===I){if(G.tag===7){o(Q,G.sibling),de=p(G,se.props.children),de.return=Q,Q=de;break e}}else if(G.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===C&&Io(Pe)===G.type){o(Q,G.sibling),de=p(G,se.props),nu(de,se),de.return=Q,Q=de;break e}o(Q,G);break}else r(Q,G);G=G.sibling}se.type===I?(de=So(se.props.children,Q.mode,de,se.key),de.return=Q,Q=de):(de=xd(se.type,se.key,se.props,null,Q.mode,de),nu(de,se),de.return=Q,Q=de)}return _(Q);case k:e:{for(Pe=se.key;G!==null;){if(G.key===Pe)if(G.tag===4&&G.stateNode.containerInfo===se.containerInfo&&G.stateNode.implementation===se.implementation){o(Q,G.sibling),de=p(G,se.children||[]),de.return=Q,Q=de;break e}else{o(Q,G);break}else r(Q,G);G=G.sibling}de=Pp(se,Q.mode,de),de.return=Q,Q=de}return _(Q);case C:return se=Io(se),Mt(Q,G,se,de)}if(xe(se))return Re(Q,G,se,de);if(V(se)){if(Pe=V(se),typeof Pe!="function")throw Error(s(150));return se=Pe.call(se),je(Q,G,se,de)}if(typeof se.then=="function")return Mt(Q,G,Cd(se),de);if(se.$$typeof===F)return Mt(Q,G,Td(Q,se),de);Rd(Q,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,G!==null&&G.tag===6?(o(Q,G.sibling),de=p(G,se),de.return=Q,Q=de):(o(Q,G),de=Mp(se,Q.mode,de),de.return=Q,Q=de),_(Q)):o(Q,G)}return function(Q,G,se,de){try{tu=0;var Pe=Mt(Q,G,se,de);return Nl=null,Pe}catch(ke){if(ke===Rl||ke===Sd)throw ke;var gt=Bs(29,ke,null,Q.mode);return gt.lanes=de,gt.return=Q,gt}}}var Do=$x(!0),Kx=$x(!1),ba=!1;function $p(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kp(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function xa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function wa(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(bt&2)!==0){var p=u.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),u.pending=r,r=bd(i),Ix(i,null,o),r}return vd(i,u,r,o),bd(i)}function su(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,an(i,o)}}function Yp(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?p=v=_:v=v.next=_,o=o.next}while(o!==null);v===null?p=v=r:v=v.next=r}else p=v=r;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Wp=!1;function iu(){if(Wp){var i=Cl;if(i!==null)throw i}}function ru(i,r,o,u){Wp=!1;var p=i.updateQueue;ba=!1;var v=p.firstBaseUpdate,_=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var q=N,ie=q.next;q.next=null,_===null?v=ie:_.next=ie,_=q;var ue=i.alternate;ue!==null&&(ue=ue.updateQueue,N=ue.lastBaseUpdate,N!==_&&(N===null?ue.firstBaseUpdate=ie:N.next=ie,ue.lastBaseUpdate=q))}if(v!==null){var me=p.baseState;_=0,ue=ie=q=null,N=v;do{var ae=N.lane&-536870913,le=ae!==N.lane;if(le?(nt&ae)===ae:(u&ae)===ae){ae!==0&&ae===Al&&(Wp=!0),ue!==null&&(ue=ue.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Re=i,je=N;ae=r;var Mt=o;switch(je.tag){case 1:if(Re=je.payload,typeof Re=="function"){me=Re.call(Mt,me,ae);break e}me=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=je.payload,ae=typeof Re=="function"?Re.call(Mt,me,ae):Re,ae==null)break e;me=b({},me,ae);break e;case 2:ba=!0}}ae=N.callback,ae!==null&&(i.flags|=64,le&&(i.flags|=8192),le=p.callbacks,le===null?p.callbacks=[ae]:le.push(ae))}else le={lane:ae,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ue===null?(ie=ue=le,q=me):ue=ue.next=le,_|=ae;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;le=N,N=le.next,le.next=null,p.lastBaseUpdate=le,p.shared.pending=null}}while(!0);ue===null&&(q=me),p.baseState=q,p.firstBaseUpdate=ie,p.lastBaseUpdate=ue,v===null&&(p.shared.lanes=0),Aa|=_,i.lanes=_,i.memoizedState=me}}function Yx(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Wx(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Yx(o[i],r)}var Il=T(null),Nd=T(0);function Xx(i,r){i=Vr,W(Nd,i),W(Il,r),Vr=i|r.baseLanes}function Xp(){W(Nd,Vr),W(Il,Il.current)}function Qp(){Vr=Nd.current,z(Il),z(Nd)}var Fs=T(null),ai=null;function _a(i){var r=i.alternate;W(fn,fn.current&1),W(Fs,i),ai===null&&(r===null||Il.current!==null||r.memoizedState!==null)&&(ai=i)}function Jp(i){W(fn,fn.current),W(Fs,i),ai===null&&(ai=i)}function Qx(i){i.tag===22?(W(fn,fn.current),W(Fs,i),ai===null&&(ai=i)):Ta()}function Ta(){W(fn,fn.current),W(Fs,Fs.current)}function qs(i){z(Fs),ai===i&&(ai=null),z(fn)}var fn=T(0);function Id(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||iy(o)||ry(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Nr=0,Ke=null,kt=null,Tn=null,kd=!1,kl=!1,Mo=!1,Dd=0,au=0,Dl=null,Ik=0;function cn(){throw Error(s(321))}function Zp(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!zs(i[o],r[o]))return!1;return!0}function eg(i,r,o,u,p,v){return Nr=v,Ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=i===null||i.memoizedState===null?Pw:pg,Mo=!1,v=o(u,p),Mo=!1,kl&&(v=Zx(r,o,u,p)),Jx(i),v}function Jx(i){Z.H=cu;var r=kt!==null&&kt.next!==null;if(Nr=0,Tn=kt=Ke=null,kd=!1,au=0,Dl=null,r)throw Error(s(300));i===null||En||(i=i.dependencies,i!==null&&_d(i)&&(En=!0))}function Zx(i,r,o,u){Ke=i;var p=0;do{if(kl&&(Dl=null),au=0,kl=!1,25<=p)throw Error(s(301));if(p+=1,Tn=kt=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}Z.H=jw,v=r(o,u)}while(kl);return v}function kk(){var i=Z.H,r=i.useState()[0];return r=typeof r.then=="function"?ou(r):r,i=i.useState()[0],(kt!==null?kt.memoizedState:null)!==i&&(Ke.flags|=1024),r}function tg(){var i=Dd!==0;return Dd=0,i}function ng(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function sg(i){if(kd){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}kd=!1}Nr=0,Tn=kt=Ke=null,kl=!1,au=Dd=0,Dl=null}function xs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Ke.memoizedState=Tn=i:Tn=Tn.next=i,Tn}function mn(){if(kt===null){var i=Ke.alternate;i=i!==null?i.memoizedState:null}else i=kt.next;var r=Tn===null?Ke.memoizedState:Tn.next;if(r!==null)Tn=r,kt=i;else{if(i===null)throw Ke.alternate===null?Error(s(467)):Error(s(310));kt=i,i={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Tn===null?Ke.memoizedState=Tn=i:Tn=Tn.next=i}return Tn}function Md(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ou(i){var r=au;return au+=1,Dl===null&&(Dl=[]),i=qx(Dl,i,r),r=Ke,(Tn===null?r.memoizedState:Tn.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?Pw:pg),i}function Pd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ou(i);if(i.$$typeof===F)return es(i)}throw Error(s(438,String(i)))}function ig(i){var r=null,o=Ke.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Md(),Ke.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=B;return r.index++,o}function Ir(i,r){return typeof r=="function"?r(i):r}function jd(i){var r=mn();return rg(r,kt,i)}function rg(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var p=i.baseQueue,v=u.pending;if(v!==null){if(p!==null){var _=p.next;p.next=v.next,v.next=_}r.baseQueue=p=v,u.pending=null}if(v=i.baseState,p===null)i.memoizedState=v;else{r=p.next;var N=_=null,q=null,ie=r,ue=!1;do{var me=ie.lane&-536870913;if(me!==ie.lane?(nt&me)===me:(Nr&me)===me){var ae=ie.revertLane;if(ae===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),me===Al&&(ue=!0);else if((Nr&ae)===ae){ie=ie.next,ae===Al&&(ue=!0);continue}else me={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},q===null?(N=q=me,_=v):q=q.next=me,Ke.lanes|=ae,Aa|=ae;me=ie.action,Mo&&o(v,me),v=ie.hasEagerState?ie.eagerState:o(v,me)}else ae={lane:me,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},q===null?(N=q=ae,_=v):q=q.next=ae,Ke.lanes|=me,Aa|=me;ie=ie.next}while(ie!==null&&ie!==r);if(q===null?_=v:q.next=N,!zs(v,i.memoizedState)&&(En=!0,ue&&(o=Cl,o!==null)))throw o;i.memoizedState=v,i.baseState=_,i.baseQueue=q,u.lastRenderedState=v}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function ag(i){var r=mn(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,p=o.pending,v=r.memoizedState;if(p!==null){o.pending=null;var _=p=p.next;do v=i(v,_.action),_=_.next;while(_!==p);zs(v,r.memoizedState)||(En=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),o.lastRenderedState=v}return[v,u]}function ew(i,r,o){var u=Ke,p=mn(),v=lt;if(v){if(o===void 0)throw Error(s(407));o=o()}else o=r();var _=!zs((kt||p).memoizedState,o);if(_&&(p.memoizedState=o,En=!0),p=p.queue,cg(sw.bind(null,u,p,i),[i]),p.getSnapshot!==r||_||Tn!==null&&Tn.memoizedState.tag&1){if(u.flags|=2048,Ml(9,{destroy:void 0},nw.bind(null,u,p,o,r),null),jt===null)throw Error(s(349));v||(Nr&127)!==0||tw(u,r,o)}return o}function tw(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ke.updateQueue,r===null?(r=Md(),Ke.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function nw(i,r,o,u){r.value=o,r.getSnapshot=u,iw(r)&&rw(i)}function sw(i,r,o){return o(function(){iw(r)&&rw(i)})}function iw(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!zs(i,o)}catch{return!0}}function rw(i){var r=Eo(i,2);r!==null&&Ds(r,i,2)}function og(i){var r=xs();if(typeof i=="function"){var o=i;if(i=o(),Mo){kn(!0);try{o()}finally{kn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:i},r}function aw(i,r,o,u){return i.baseState=o,rg(i,kt,typeof u=="function"?u:Ir)}function Dk(i,r,o,u,p){if(Ld(i))throw Error(s(485));if(i=r.action,i!==null){var v={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){v.listeners.push(_)}};Z.T!==null?o(!0):v.isTransition=!1,u(v),o=r.pending,o===null?(v.next=r.pending=v,ow(r,v)):(v.next=o.next,r.pending=o.next=v)}}function ow(i,r){var o=r.action,u=r.payload,p=i.state;if(r.isTransition){var v=Z.T,_={};Z.T=_;try{var N=o(p,u),q=Z.S;q!==null&&q(_,N),lw(i,r,N)}catch(ie){lg(i,r,ie)}finally{v!==null&&_.types!==null&&(v.types=_.types),Z.T=v}}else try{v=o(p,u),lw(i,r,v)}catch(ie){lg(i,r,ie)}}function lw(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){cw(i,r,u)},function(u){return lg(i,r,u)}):cw(i,r,o)}function cw(i,r,o){r.status="fulfilled",r.value=o,uw(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,ow(i,o)))}function lg(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,uw(r),r=r.next;while(r!==u)}i.action=null}function uw(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function hw(i,r){return r}function dw(i,r){if(lt){var o=jt.formState;if(o!==null){e:{var u=Ke;if(lt){if(Ht){t:{for(var p=Ht,v=ri;p.nodeType!==8;){if(!v){p=null;break t}if(p=oi(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Ht=oi(p.nextSibling),u=p.data==="F!";break e}}ya(u)}u=!1}u&&(r=o[0])}}return o=xs(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hw,lastRenderedState:r},o.queue=u,o=kw.bind(null,Ke,u),u.dispatch=o,u=og(!1),v=mg.bind(null,Ke,!1,u.queue),u=xs(),p={state:r,dispatch:null,action:i,pending:null},u.queue=p,o=Dk.bind(null,Ke,p,v,o),p.dispatch=o,u.memoizedState=i,[r,o,!1]}function fw(i){var r=mn();return mw(r,kt,i)}function mw(i,r,o){if(r=rg(i,r,hw)[0],i=jd(Ir)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=ou(r)}catch(_){throw _===Rl?Sd:_}else u=r;r=mn();var p=r.queue,v=p.dispatch;return o!==r.memoizedState&&(Ke.flags|=2048,Ml(9,{destroy:void 0},Mk.bind(null,p,o),null)),[u,v,i]}function Mk(i,r){i.action=r}function pw(i){var r=mn(),o=kt;if(o!==null)return mw(r,o,i);mn(),r=r.memoizedState,o=mn();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Ml(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ke.updateQueue,r===null&&(r=Md(),Ke.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function gw(){return mn().memoizedState}function Od(i,r,o,u){var p=xs();Ke.flags|=i,p.memoizedState=Ml(1|r,{destroy:void 0},o,u===void 0?null:u)}function Vd(i,r,o,u){var p=mn();u=u===void 0?null:u;var v=p.memoizedState.inst;kt!==null&&u!==null&&Zp(u,kt.memoizedState.deps)?p.memoizedState=Ml(r,v,o,u):(Ke.flags|=i,p.memoizedState=Ml(1|r,v,o,u))}function yw(i,r){Od(8390656,8,i,r)}function cg(i,r){Vd(2048,8,i,r)}function Pk(i){Ke.flags|=4;var r=Ke.updateQueue;if(r===null)r=Md(),Ke.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function vw(i){var r=mn().memoizedState;return Pk({ref:r,nextImpl:i}),function(){if((bt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function bw(i,r){return Vd(4,2,i,r)}function xw(i,r){return Vd(4,4,i,r)}function ww(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function _w(i,r,o){o=o!=null?o.concat([i]):null,Vd(4,4,ww.bind(null,r,i),o)}function ug(){}function Tw(i,r){var o=mn();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Zp(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function Ew(i,r){var o=mn();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Zp(r,u[1]))return u[0];if(u=i(),Mo){kn(!0);try{i()}finally{kn(!1)}}return o.memoizedState=[u,r],u}function hg(i,r,o){return o===void 0||(Nr&1073741824)!==0&&(nt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=S_(),Ke.lanes|=i,Aa|=i,o)}function Sw(i,r,o,u){return zs(o,r)?o:Il.current!==null?(i=hg(i,o,u),zs(i,r)||(En=!0),i):(Nr&42)===0||(Nr&1073741824)!==0&&(nt&261930)===0?(En=!0,i.memoizedState=o):(i=S_(),Ke.lanes|=i,Aa|=i,r)}function Aw(i,r,o,u,p){var v=X.p;X.p=v!==0&&8>v?v:8;var _=Z.T,N={};Z.T=N,mg(i,!1,r,o);try{var q=p(),ie=Z.S;if(ie!==null&&ie(N,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ue=Nk(q,u);lu(i,r,ue,$s(i))}else lu(i,r,u,$s(i))}catch(me){lu(i,r,{then:function(){},status:"rejected",reason:me},$s())}finally{X.p=v,_!==null&&N.types!==null&&(_.types=N.types),Z.T=_}}function jk(){}function dg(i,r,o,u){if(i.tag!==5)throw Error(s(476));var p=Cw(i).queue;Aw(i,p,r,$,o===null?jk:function(){return Rw(i),o(u)})}function Cw(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:$},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Rw(i){var r=Cw(i);r.next===null&&(r=i.alternate.memoizedState),lu(i,r.next.queue,{},$s())}function fg(){return es(Su)}function Nw(){return mn().memoizedState}function Iw(){return mn().memoizedState}function Ok(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=$s();i=xa(o);var u=wa(r,i,o);u!==null&&(Ds(u,r,o),su(u,r,o)),r={cache:Fp()},i.payload=r;return}r=r.return}}function Vk(i,r,o){var u=$s();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ld(i)?Dw(r,o):(o=kp(i,r,o,u),o!==null&&(Ds(o,i,u),Mw(o,r,u)))}function kw(i,r,o){var u=$s();lu(i,r,o,u)}function lu(i,r,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ld(i))Dw(r,p);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var _=r.lastRenderedState,N=v(_,o);if(p.hasEagerState=!0,p.eagerState=N,zs(N,_))return vd(i,r,p,0),jt===null&&yd(),!1}catch{}if(o=kp(i,r,p,u),o!==null)return Ds(o,i,u),Mw(o,r,u),!0}return!1}function mg(i,r,o,u){if(u={lane:2,revertLane:$g(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ld(i)){if(r)throw Error(s(479))}else r=kp(i,o,u,2),r!==null&&Ds(r,i,2)}function Ld(i){var r=i.alternate;return i===Ke||r!==null&&r===Ke}function Dw(i,r){kl=kd=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Mw(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,an(i,o)}}var cu={readContext:es,use:Pd,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};cu.useEffectEvent=cn;var Pw={readContext:es,use:Pd,useCallback:function(i,r){return xs().memoizedState=[i,r===void 0?null:r],i},useContext:es,useEffect:yw,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Od(4194308,4,ww.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Od(4194308,4,i,r)},useInsertionEffect:function(i,r){Od(4,2,i,r)},useMemo:function(i,r){var o=xs();r=r===void 0?null:r;var u=i();if(Mo){kn(!0);try{i()}finally{kn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=xs();if(o!==void 0){var p=o(r);if(Mo){kn(!0);try{o(r)}finally{kn(!1)}}}else p=r;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=Vk.bind(null,Ke,i),[u.memoizedState,i]},useRef:function(i){var r=xs();return i={current:i},r.memoizedState=i},useState:function(i){i=og(i);var r=i.queue,o=kw.bind(null,Ke,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:ug,useDeferredValue:function(i,r){var o=xs();return hg(o,i,r)},useTransition:function(){var i=og(!1);return i=Aw.bind(null,Ke,i.queue,!0,!1),xs().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ke,p=xs();if(lt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),jt===null)throw Error(s(349));(nt&127)!==0||tw(u,r,o)}p.memoizedState=o;var v={value:o,getSnapshot:r};return p.queue=v,yw(sw.bind(null,u,v,i),[i]),u.flags|=2048,Ml(9,{destroy:void 0},nw.bind(null,u,v,o,r),null),o},useId:function(){var i=xs(),r=jt.identifierPrefix;if(lt){var o=Xi,u=Wi;o=(u&~(1<<32-Nt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Dd++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=Ik++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:fg,useFormState:dw,useActionState:dw,useOptimistic:function(i){var r=xs();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=mg.bind(null,Ke,!0,o),o.dispatch=r,[i,r]},useMemoCache:ig,useCacheRefresh:function(){return xs().memoizedState=Ok.bind(null,Ke)},useEffectEvent:function(i){var r=xs(),o={impl:i};return r.memoizedState=o,function(){if((bt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},pg={readContext:es,use:Pd,useCallback:Tw,useContext:es,useEffect:cg,useImperativeHandle:_w,useInsertionEffect:bw,useLayoutEffect:xw,useMemo:Ew,useReducer:jd,useRef:gw,useState:function(){return jd(Ir)},useDebugValue:ug,useDeferredValue:function(i,r){var o=mn();return Sw(o,kt.memoizedState,i,r)},useTransition:function(){var i=jd(Ir)[0],r=mn().memoizedState;return[typeof i=="boolean"?i:ou(i),r]},useSyncExternalStore:ew,useId:Nw,useHostTransitionStatus:fg,useFormState:fw,useActionState:fw,useOptimistic:function(i,r){var o=mn();return aw(o,kt,i,r)},useMemoCache:ig,useCacheRefresh:Iw};pg.useEffectEvent=vw;var jw={readContext:es,use:Pd,useCallback:Tw,useContext:es,useEffect:cg,useImperativeHandle:_w,useInsertionEffect:bw,useLayoutEffect:xw,useMemo:Ew,useReducer:ag,useRef:gw,useState:function(){return ag(Ir)},useDebugValue:ug,useDeferredValue:function(i,r){var o=mn();return kt===null?hg(o,i,r):Sw(o,kt.memoizedState,i,r)},useTransition:function(){var i=ag(Ir)[0],r=mn().memoizedState;return[typeof i=="boolean"?i:ou(i),r]},useSyncExternalStore:ew,useId:Nw,useHostTransitionStatus:fg,useFormState:pw,useActionState:pw,useOptimistic:function(i,r){var o=mn();return kt!==null?aw(o,kt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:ig,useCacheRefresh:Iw};jw.useEffectEvent=vw;function gg(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var yg={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=$s(),p=xa(u);p.payload=r,o!=null&&(p.callback=o),r=wa(i,p,u),r!==null&&(Ds(r,i,u),su(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=$s(),p=xa(u);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=wa(i,p,u),r!==null&&(Ds(r,i,u),su(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=$s(),u=xa(o);u.tag=2,r!=null&&(u.callback=r),r=wa(i,u,o),r!==null&&(Ds(r,i,o),su(r,i,o))}};function Ow(i,r,o,u,p,v,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,v,_):r.prototype&&r.prototype.isPureReactComponent?!Wc(o,u)||!Wc(p,v):!0}function Vw(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&yg.enqueueReplaceState(r,r.state,null)}function Po(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=b({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}function Lw(i){gd(i)}function Uw(i){console.error(i)}function zw(i){gd(i)}function Ud(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Bw(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function vg(i,r,o){return o=xa(o),o.tag=3,o.payload={element:null},o.callback=function(){Ud(i,r)},o}function Fw(i){return i=xa(i),i.tag=3,i}function qw(i,r,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var v=u.value;i.payload=function(){return p(v)},i.callback=function(){Bw(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){Bw(r,o,u),typeof p!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})})}function Lk(i,r,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Sl(r,o,p,!0),o=Fs.current,o!==null){switch(o.tag){case 31:case 13:return ai===null?Qd():o.alternate===null&&un===0&&(un=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===Ad?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),qg(i,u,p)),!1;case 22:return o.flags|=65536,u===Ad?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),qg(i,u,p)),!1}throw Error(s(435,o.tag))}return qg(i,u,p),Qd(),!1}if(lt)return r=Fs.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,u!==Vp&&(i=Error(s(422),{cause:u}),Jc(ni(i,o)))):(u!==Vp&&(r=Error(s(423),{cause:u}),Jc(ni(r,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=ni(u,o),p=vg(i.stateNode,u,p),Yp(i,p),un!==4&&(un=2)),!1;var v=Error(s(520),{cause:u});if(v=ni(v,o),yu===null?yu=[v]:yu.push(v),un!==4&&(un=2),r===null)return!0;u=ni(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=vg(o.stateNode,u,i),Yp(o,i),!1;case 1:if(r=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ca===null||!Ca.has(v))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Fw(p),qw(p,i,o,u),Yp(o,p),!1}o=o.return}while(o!==null);return!1}var bg=Error(s(461)),En=!1;function ts(i,r,o,u){r.child=i===null?Kx(r,null,o,u):Do(r,i.child,o,u)}function Hw(i,r,o,u,p){o=o.render;var v=r.ref;if("ref"in u){var _={};for(var N in u)N!=="ref"&&(_[N]=u[N])}else _=u;return Ro(r),u=eg(i,r,o,_,v,p),N=tg(),i!==null&&!En?(ng(i,r,p),kr(i,r,p)):(lt&&N&&jp(r),r.flags|=1,ts(i,r,u,p),r.child)}function Gw(i,r,o,u,p){if(i===null){var v=o.type;return typeof v=="function"&&!Dp(v)&&v.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=v,$w(i,r,v,u,p)):(i=xd(o.type,null,u,r,r.mode,p),i.ref=r.ref,i.return=r,r.child=i)}if(v=i.child,!Cg(i,p)){var _=v.memoizedProps;if(o=o.compare,o=o!==null?o:Wc,o(_,u)&&i.ref===r.ref)return kr(i,r,p)}return r.flags|=1,i=Sr(v,u),i.ref=r.ref,i.return=r,r.child=i}function $w(i,r,o,u,p){if(i!==null){var v=i.memoizedProps;if(Wc(v,u)&&i.ref===r.ref)if(En=!1,r.pendingProps=u=v,Cg(i,p))(i.flags&131072)!==0&&(En=!0);else return r.lanes=i.lanes,kr(i,r,p)}return xg(i,r,o,u,p)}function Kw(i,r,o,u){var p=u.children,v=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,i!==null){for(u=r.child=i.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~v}else u=0,r.child=null;return Yw(i,r,v,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ed(r,v!==null?v.cachePool:null),v!==null?Xx(r,v):Xp(),Qx(r);else return u=r.lanes=536870912,Yw(i,r,v!==null?v.baseLanes|o:o,o,u)}else v!==null?(Ed(r,v.cachePool),Xx(r,v),Ta(),r.memoizedState=null):(i!==null&&Ed(r,null),Xp(),Ta());return ts(i,r,p,o),r.child}function uu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Yw(i,r,o,u,p){var v=Hp();return v=v===null?null:{parent:_n._currentValue,pool:v},r.memoizedState={baseLanes:o,cachePool:v},i!==null&&Ed(r,null),Xp(),Qx(r),i!==null&&Sl(i,r,u,!0),r.childLanes=p,null}function zd(i,r){return r=Fd({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Ww(i,r,o){return Do(r,i.child,null,o),i=zd(r,r.pendingProps),i.flags|=2,qs(r),r.memoizedState=null,i}function Uk(i,r,o){var u=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(lt){if(u.mode==="hidden")return i=zd(r,u),r.lanes=536870912,uu(null,i);if(Jp(r),(i=Ht)?(i=o1(i,ri),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:pa!==null?{id:Wi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},o=Dx(i),o.return=r,r.child=o,Zn=r,Ht=null)):i=null,i===null)throw ya(r);return r.lanes=536870912,null}return zd(r,u)}var v=i.memoizedState;if(v!==null){var _=v.dehydrated;if(Jp(r),p)if(r.flags&256)r.flags&=-257,r=Ww(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(En||Sl(i,r,o,!1),p=(o&i.childLanes)!==0,En||p){if(u=jt,u!==null&&(_=Xn(u,o),_!==0&&_!==v.retryLane))throw v.retryLane=_,Eo(i,_),Ds(u,i,_),bg;Qd(),r=Ww(i,r,o)}else i=v.treeContext,Ht=oi(_.nextSibling),Zn=r,lt=!0,ga=null,ri=!1,i!==null&&jx(r,i),r=zd(r,u),r.flags|=4096;return r}return i=Sr(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Bd(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function xg(i,r,o,u,p){return Ro(r),o=eg(i,r,o,u,void 0,p),u=tg(),i!==null&&!En?(ng(i,r,p),kr(i,r,p)):(lt&&u&&jp(r),r.flags|=1,ts(i,r,o,p),r.child)}function Xw(i,r,o,u,p,v){return Ro(r),r.updateQueue=null,o=Zx(r,u,o,p),Jx(i),u=tg(),i!==null&&!En?(ng(i,r,v),kr(i,r,v)):(lt&&u&&jp(r),r.flags|=1,ts(i,r,o,v),r.child)}function Qw(i,r,o,u,p){if(Ro(r),r.stateNode===null){var v=wl,_=o.contextType;typeof _=="object"&&_!==null&&(v=es(_)),v=new o(u,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=yg,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=u,v.state=r.memoizedState,v.refs={},$p(r),_=o.contextType,v.context=typeof _=="object"&&_!==null?es(_):wl,v.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(gg(r,o,_,u),v.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(_=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),_!==v.state&&yg.enqueueReplaceState(v,v.state,null),ru(r,u,v,p),iu(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){v=r.stateNode;var N=r.memoizedProps,q=Po(o,N);v.props=q;var ie=v.context,ue=o.contextType;_=wl,typeof ue=="object"&&ue!==null&&(_=es(ue));var me=o.getDerivedStateFromProps;ue=typeof me=="function"||typeof v.getSnapshotBeforeUpdate=="function",N=r.pendingProps!==N,ue||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N||ie!==_)&&Vw(r,v,u,_),ba=!1;var ae=r.memoizedState;v.state=ae,ru(r,u,v,p),iu(),ie=r.memoizedState,N||ae!==ie||ba?(typeof me=="function"&&(gg(r,o,me,u),ie=r.memoizedState),(q=ba||Ow(r,o,q,u,ae,ie,_))?(ue||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=ie),v.props=u,v.state=ie,v.context=_,u=q):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,Kp(i,r),_=r.memoizedProps,ue=Po(o,_),v.props=ue,me=r.pendingProps,ae=v.context,ie=o.contextType,q=wl,typeof ie=="object"&&ie!==null&&(q=es(ie)),N=o.getDerivedStateFromProps,(ie=typeof N=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==me||ae!==q)&&Vw(r,v,u,q),ba=!1,ae=r.memoizedState,v.state=ae,ru(r,u,v,p),iu();var le=r.memoizedState;_!==me||ae!==le||ba||i!==null&&i.dependencies!==null&&_d(i.dependencies)?(typeof N=="function"&&(gg(r,o,N,u),le=r.memoizedState),(ue=ba||Ow(r,o,ue,u,ae,le,q)||i!==null&&i.dependencies!==null&&_d(i.dependencies))?(ie||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,le,q),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,le,q)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||_===i.memoizedProps&&ae===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&ae===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=le),v.props=u,v.state=le,v.context=q,u=ue):(typeof v.componentDidUpdate!="function"||_===i.memoizedProps&&ae===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&ae===i.memoizedState||(r.flags|=1024),u=!1)}return v=u,Bd(i,r),u=(r.flags&128)!==0,v||u?(v=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,i!==null&&u?(r.child=Do(r,i.child,null,p),r.child=Do(r,null,o,p)):ts(i,r,o,p),r.memoizedState=v.state,i=r.child):i=kr(i,r,p),i}function Jw(i,r,o,u){return Ao(),r.flags|=256,ts(i,r,o,u),r.child}var wg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _g(i){return{baseLanes:i,cachePool:Bx()}}function Tg(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Gs),i}function Zw(i,r,o){var u=r.pendingProps,p=!1,v=(r.flags&128)!==0,_;if((_=v)||(_=i!==null&&i.memoizedState===null?!1:(fn.current&2)!==0),_&&(p=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(lt){if(p?_a(r):Ta(),(i=Ht)?(i=o1(i,ri),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:pa!==null?{id:Wi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},o=Dx(i),o.return=r,r.child=o,Zn=r,Ht=null)):i=null,i===null)throw ya(r);return ry(i)?r.lanes=32:r.lanes=536870912,null}var N=u.children;return u=u.fallback,p?(Ta(),p=r.mode,N=Fd({mode:"hidden",children:N},p),u=So(u,p,o,null),N.return=r,u.return=r,N.sibling=u,r.child=N,u=r.child,u.memoizedState=_g(o),u.childLanes=Tg(i,_,o),r.memoizedState=wg,uu(null,u)):(_a(r),Eg(r,N))}var q=i.memoizedState;if(q!==null&&(N=q.dehydrated,N!==null)){if(v)r.flags&256?(_a(r),r.flags&=-257,r=Sg(i,r,o)):r.memoizedState!==null?(Ta(),r.child=i.child,r.flags|=128,r=null):(Ta(),N=u.fallback,p=r.mode,u=Fd({mode:"visible",children:u.children},p),N=So(N,p,o,null),N.flags|=2,u.return=r,N.return=r,u.sibling=N,r.child=u,Do(r,i.child,null,o),u=r.child,u.memoizedState=_g(o),u.childLanes=Tg(i,_,o),r.memoizedState=wg,r=uu(null,u));else if(_a(r),ry(N)){if(_=N.nextSibling&&N.nextSibling.dataset,_)var ie=_.dgst;_=ie,u=Error(s(419)),u.stack="",u.digest=_,Jc({value:u,source:null,stack:null}),r=Sg(i,r,o)}else if(En||Sl(i,r,o,!1),_=(o&i.childLanes)!==0,En||_){if(_=jt,_!==null&&(u=Xn(_,o),u!==0&&u!==q.retryLane))throw q.retryLane=u,Eo(i,u),Ds(_,i,u),bg;iy(N)||Qd(),r=Sg(i,r,o)}else iy(N)?(r.flags|=192,r.child=i.child,r=null):(i=q.treeContext,Ht=oi(N.nextSibling),Zn=r,lt=!0,ga=null,ri=!1,i!==null&&jx(r,i),r=Eg(r,u.children),r.flags|=4096);return r}return p?(Ta(),N=u.fallback,p=r.mode,q=i.child,ie=q.sibling,u=Sr(q,{mode:"hidden",children:u.children}),u.subtreeFlags=q.subtreeFlags&65011712,ie!==null?N=Sr(ie,N):(N=So(N,p,o,null),N.flags|=2),N.return=r,u.return=r,u.sibling=N,r.child=u,uu(null,u),u=r.child,N=i.child.memoizedState,N===null?N=_g(o):(p=N.cachePool,p!==null?(q=_n._currentValue,p=p.parent!==q?{parent:q,pool:q}:p):p=Bx(),N={baseLanes:N.baseLanes|o,cachePool:p}),u.memoizedState=N,u.childLanes=Tg(i,_,o),r.memoizedState=wg,uu(i.child,u)):(_a(r),o=i.child,i=o.sibling,o=Sr(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=o,r.memoizedState=null,o)}function Eg(i,r){return r=Fd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Fd(i,r){return i=Bs(22,i,null,r),i.lanes=0,i}function Sg(i,r,o){return Do(r,i.child,null,o),i=Eg(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function e_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),zp(i.return,r,o)}function Ag(i,r,o,u,p,v){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:v}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=p,_.treeForkCount=v)}function t_(i,r,o){var u=r.pendingProps,p=u.revealOrder,v=u.tail;u=u.children;var _=fn.current,N=(_&2)!==0;if(N?(_=_&1|2,r.flags|=128):_&=1,W(fn,_),ts(i,r,u,o),u=lt?Qc:0,!N&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&e_(i,o,r);else if(i.tag===19)e_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(o=r.child,p=null;o!==null;)i=o.alternate,i!==null&&Id(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),Ag(r,!1,p,o,v,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(i=p.alternate,i!==null&&Id(i)===null){r.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}Ag(r,!0,o,null,v,u);break;case"together":Ag(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function kr(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Aa|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Sl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Sr(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Sr(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Cg(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&_d(i)))}function zk(i,r,o){switch(r.tag){case 3:we(r,r.stateNode.containerInfo),va(r,_n,i.memoizedState.cache),Ao();break;case 27:case 5:Ae(r);break;case 4:we(r,r.stateNode.containerInfo);break;case 10:va(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Jp(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(_a(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Zw(i,r,o):(_a(r),i=kr(i,r,o),i!==null?i.sibling:null);_a(r);break;case 19:var p=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Sl(i,r,o,!1),u=(o&r.childLanes)!==0),p){if(u)return t_(i,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),W(fn,fn.current),u)break;return null;case 22:return r.lanes=0,Kw(i,r,o,r.pendingProps);case 24:va(r,_n,i.memoizedState.cache)}return kr(i,r,o)}function n_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)En=!0;else{if(!Cg(i,o)&&(r.flags&128)===0)return En=!1,zk(i,r,o);En=(i.flags&131072)!==0}else En=!1,lt&&(r.flags&1048576)!==0&&Px(r,Qc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=Io(r.elementType),r.type=i,typeof i=="function")Dp(i)?(u=Po(i,u),r.tag=1,r=Qw(null,r,i,u,o)):(r.tag=0,r=xg(null,r,i,u,o));else{if(i!=null){var p=i.$$typeof;if(p===re){r.tag=11,r=Hw(null,r,i,u,o);break e}else if(p===D){r.tag=14,r=Gw(null,r,i,u,o);break e}}throw r=be(i)||i,Error(s(306,r,""))}}return r;case 0:return xg(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,p=Po(u,r.pendingProps),Qw(i,r,u,p,o);case 3:e:{if(we(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var v=r.memoizedState;p=v.element,Kp(i,r),ru(r,u,null,o);var _=r.memoizedState;if(u=_.cache,va(r,_n,u),u!==v.cache&&Bp(r,[_n],o,!0),iu(),u=_.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=Jw(i,r,u,o);break e}else if(u!==p){p=ni(Error(s(424)),r),Jc(p),r=Jw(i,r,u,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Ht=oi(i.firstChild),Zn=r,lt=!0,ga=null,ri=!0,o=Kx(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ao(),u===p){r=kr(i,r,o);break e}ts(i,r,u,o)}r=r.child}return r;case 26:return Bd(i,r),i===null?(o=f1(r.type,null,r.pendingProps,null))?r.memoizedState=o:lt||(o=r.type,i=r.pendingProps,u=rf(ye.current).createElement(o),u[wt]=r,u[qt]=i,ns(u,o,i),Zt(u),r.stateNode=u):r.memoizedState=f1(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ae(r),i===null&&lt&&(u=r.stateNode=u1(r.type,r.pendingProps,ye.current),Zn=r,ri=!0,p=Ht,ka(r.type)?(ay=p,Ht=oi(u.firstChild)):Ht=p),ts(i,r,r.pendingProps.children,o),Bd(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&lt&&((p=u=Ht)&&(u=gD(u,r.type,r.pendingProps,ri),u!==null?(r.stateNode=u,Zn=r,Ht=oi(u.firstChild),ri=!1,p=!0):p=!1),p||ya(r)),Ae(r),p=r.type,v=r.pendingProps,_=i!==null?i.memoizedProps:null,u=v.children,ty(p,v)?u=null:_!==null&&ty(p,_)&&(r.flags|=32),r.memoizedState!==null&&(p=eg(i,r,kk,null,null,o),Su._currentValue=p),Bd(i,r),ts(i,r,u,o),r.child;case 6:return i===null&&lt&&((i=o=Ht)&&(o=yD(o,r.pendingProps,ri),o!==null?(r.stateNode=o,Zn=r,Ht=null,i=!0):i=!1),i||ya(r)),null;case 13:return Zw(i,r,o);case 4:return we(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Do(r,null,u,o):ts(i,r,u,o),r.child;case 11:return Hw(i,r,r.type,r.pendingProps,o);case 7:return ts(i,r,r.pendingProps,o),r.child;case 8:return ts(i,r,r.pendingProps.children,o),r.child;case 12:return ts(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,va(r,r.type,u.value),ts(i,r,u.children,o),r.child;case 9:return p=r.type._context,u=r.pendingProps.children,Ro(r),p=es(p),u=u(p),r.flags|=1,ts(i,r,u,o),r.child;case 14:return Gw(i,r,r.type,r.pendingProps,o);case 15:return $w(i,r,r.type,r.pendingProps,o);case 19:return t_(i,r,o);case 31:return Uk(i,r,o);case 22:return Kw(i,r,o,r.pendingProps);case 24:return Ro(r),u=es(_n),i===null?(p=Hp(),p===null&&(p=jt,v=Fp(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=o),p=v),r.memoizedState={parent:u,cache:p},$p(r),va(r,_n,p)):((i.lanes&o)!==0&&(Kp(i,r),ru(r,null,null,o),iu()),p=i.memoizedState,v=r.memoizedState,p.parent!==u?(p={parent:u,cache:u},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),va(r,_n,u)):(u=v.cache,va(r,_n,u),u!==p.cache&&Bp(r,[_n],o,!0))),ts(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Dr(i){i.flags|=4}function Rg(i,r,o,u,p){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(N_())i.flags|=8192;else throw ko=Ad,Gp}else i.flags&=-16777217}function s_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!v1(r))if(N_())i.flags|=8192;else throw ko=Ad,Gp}function qd(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Qt():536870912,i.lanes|=r,Vl|=r)}function hu(i,r){if(!lt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Gt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function Bk(i,r,o){var u=r.pendingProps;switch(Op(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(r),null;case 1:return Gt(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Rr(_n),Te(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(El(r)?Dr(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Lp())),Gt(r),null;case 26:var p=r.type,v=r.memoizedState;return i===null?(Dr(r),v!==null?(Gt(r),s_(r,v)):(Gt(r),Rg(r,p,null,u,o))):v?v!==i.memoizedState?(Dr(r),Gt(r),s_(r,v)):(Gt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&Dr(r),Gt(r),Rg(r,p,i,u,o)),null;case 27:if(ze(r),o=ye.current,p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Dr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Gt(r),null}i=ne.current,El(r)?Ox(r):(i=u1(p,u,o),r.stateNode=i,Dr(r))}return Gt(r),null;case 5:if(ze(r),p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Dr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Gt(r),null}if(v=ne.current,El(r))Ox(r);else{var _=rf(ye.current);switch(v){case 1:v=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=_.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?_.createElement(p,{is:u.is}):_.createElement(p)}}v[wt]=r,v[qt]=u;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)v.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=v;e:switch(ns(v,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Dr(r)}}return Gt(r),Rg(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Dr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=ye.current,El(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,p=Zn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[wt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Z_(i.nodeValue,o)),i||ya(r,!0)}else i=rf(i).createTextNode(u),i[wt]=r,r.stateNode=i}return Gt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=El(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[wt]=r}else Ao(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Gt(r),i=!1}else o=Lp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(qs(r),r):(qs(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Gt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=El(r),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[wt]=r}else Ao(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Gt(r),p=!1}else p=Lp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(qs(r),r):(qs(r),null)}return qs(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),qd(r,r.updateQueue),Gt(r),null);case 4:return Te(),i===null&&Xg(r.stateNode.containerInfo),Gt(r),null;case 10:return Rr(r.type),Gt(r),null;case 19:if(z(fn),u=r.memoizedState,u===null)return Gt(r),null;if(p=(r.flags&128)!==0,v=u.rendering,v===null)if(p)hu(u,!1);else{if(un!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(v=Id(i),v!==null){for(r.flags|=128,hu(u,!1),i=v.updateQueue,r.updateQueue=i,qd(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)kx(o,i),o=o.sibling;return W(fn,fn.current&1|2),lt&&Ar(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&Ot()>Yd&&(r.flags|=128,p=!0,hu(u,!1),r.lanes=4194304)}else{if(!p)if(i=Id(v),i!==null){if(r.flags|=128,p=!0,i=i.updateQueue,r.updateQueue=i,qd(r,i),hu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!lt)return Gt(r),null}else 2*Ot()-u.renderingStartTime>Yd&&o!==536870912&&(r.flags|=128,p=!0,hu(u,!1),r.lanes=4194304);u.isBackwards?(v.sibling=r.child,r.child=v):(i=u.last,i!==null?i.sibling=v:r.child=v,u.last=v)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Ot(),i.sibling=null,o=fn.current,W(fn,p?o&1|2:o&1),lt&&Ar(r,u.treeForkCount),i):(Gt(r),null);case 22:case 23:return qs(r),Qp(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(Gt(r),r.subtreeFlags&6&&(r.flags|=8192)):Gt(r),o=r.updateQueue,o!==null&&qd(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&z(No),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Rr(_n),Gt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Fk(i,r){switch(Op(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Rr(_n),Te(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ze(r),null;case 31:if(r.memoizedState!==null){if(qs(r),r.alternate===null)throw Error(s(340));Ao()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(qs(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ao()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return z(fn),null;case 4:return Te(),null;case 10:return Rr(r.type),null;case 22:case 23:return qs(r),Qp(),i!==null&&z(No),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Rr(_n),null;case 25:return null;default:return null}}function i_(i,r){switch(Op(r),r.tag){case 3:Rr(_n),Te();break;case 26:case 27:case 5:ze(r);break;case 4:Te();break;case 31:r.memoizedState!==null&&qs(r);break;case 13:qs(r);break;case 19:z(fn);break;case 10:Rr(r.type);break;case 22:case 23:qs(r),Qp(),i!==null&&z(No);break;case 24:Rr(_n)}}function du(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&i)===i){u=void 0;var v=o.create,_=o.inst;u=v(),_.destroy=u}o=o.next}while(o!==p)}}catch(N){Ct(r,r.return,N)}}function Ea(i,r,o){try{var u=r.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&i)===i){var _=u.inst,N=_.destroy;if(N!==void 0){_.destroy=void 0,p=r;var q=o,ie=N;try{ie()}catch(ue){Ct(p,q,ue)}}}u=u.next}while(u!==v)}}catch(ue){Ct(r,r.return,ue)}}function r_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Wx(r,o)}catch(u){Ct(i,i.return,u)}}}function a_(i,r,o){o.props=Po(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Ct(i,r,u)}}function fu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(p){Ct(i,r,p)}}function Qi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){Ct(i,r,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Ct(i,r,p)}else o.current=null}function o_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){Ct(i,i.return,p)}}function Ng(i,r,o){try{var u=i.stateNode;uD(u,i.type,o,r),u[qt]=r}catch(p){Ct(i,i.return,p)}}function l_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ka(i.type)||i.tag===4}function Ig(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||l_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ka(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function kg(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ti));else if(u!==4&&(u===27&&ka(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(kg(i,r,o),i=i.sibling;i!==null;)kg(i,r,o),i=i.sibling}function Hd(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&ka(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Hd(i,r,o),i=i.sibling;i!==null;)Hd(i,r,o),i=i.sibling}function c_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);ns(r,u,o),r[wt]=i,r[qt]=o}catch(v){Ct(i,i.return,v)}}var Mr=!1,Sn=!1,Dg=!1,u_=typeof WeakSet=="function"?WeakSet:Set,Hn=null;function qk(i,r){if(i=i.containerInfo,Zg=df,i=_x(i),Sp(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var _=0,N=-1,q=-1,ie=0,ue=0,me=i,ae=null;t:for(;;){for(var le;me!==o||p!==0&&me.nodeType!==3||(N=_+p),me!==v||u!==0&&me.nodeType!==3||(q=_+u),me.nodeType===3&&(_+=me.nodeValue.length),(le=me.firstChild)!==null;)ae=me,me=le;for(;;){if(me===i)break t;if(ae===o&&++ie===p&&(N=_),ae===v&&++ue===u&&(q=_),(le=me.nextSibling)!==null)break;me=ae,ae=me.parentNode}me=le}o=N===-1||q===-1?null:{start:N,end:q}}else o=null}o=o||{start:0,end:0}}else o=null;for(ey={focusedElem:i,selectionRange:o},df=!1,Hn=r;Hn!==null;)if(r=Hn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Hn=i;else for(;Hn!==null;){switch(r=Hn,v=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)p=i[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,o=r,p=v.memoizedProps,v=v.memoizedState,u=o.stateNode;try{var Re=Po(o.type,p);i=u.getSnapshotBeforeUpdate(Re,v),u.__reactInternalSnapshotBeforeUpdate=i}catch(je){Ct(o,o.return,je)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)sy(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":sy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Hn=i;break}Hn=r.return}}function h_(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:jr(i,o),u&4&&du(5,o);break;case 1:if(jr(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(_){Ct(o,o.return,_)}else{var p=Po(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(p,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){Ct(o,o.return,_)}}u&64&&r_(o),u&512&&fu(o,o.return);break;case 3:if(jr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Wx(i,r)}catch(_){Ct(o,o.return,_)}}break;case 27:r===null&&u&4&&c_(o);case 26:case 5:jr(i,o),r===null&&u&4&&o_(o),u&512&&fu(o,o.return);break;case 12:jr(i,o);break;case 31:jr(i,o),u&4&&m_(i,o);break;case 13:jr(i,o),u&4&&p_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=Jk.bind(null,o),vD(i,o))));break;case 22:if(u=o.memoizedState!==null||Mr,!u){r=r!==null&&r.memoizedState!==null||Sn,p=Mr;var v=Sn;Mr=u,(Sn=r)&&!v?Or(i,o,(o.subtreeFlags&8772)!==0):jr(i,o),Mr=p,Sn=v}break;case 30:break;default:jr(i,o)}}function d_(i){var r=i.alternate;r!==null&&(i.alternate=null,d_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&wi(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Yt=null,Rs=!1;function Pr(i,r,o){for(o=o.child;o!==null;)f_(i,r,o),o=o.sibling}function f_(i,r,o){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(In,o)}catch{}switch(o.tag){case 26:Sn||Qi(o,r),Pr(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Sn||Qi(o,r);var u=Yt,p=Rs;ka(o.type)&&(Yt=o.stateNode,Rs=!1),Pr(i,r,o),_u(o.stateNode),Yt=u,Rs=p;break;case 5:Sn||Qi(o,r);case 6:if(u=Yt,p=Rs,Yt=null,Pr(i,r,o),Yt=u,Rs=p,Yt!==null)if(Rs)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(o.stateNode)}catch(v){Ct(o,r,v)}else try{Yt.removeChild(o.stateNode)}catch(v){Ct(o,r,v)}break;case 18:Yt!==null&&(Rs?(i=Yt,r1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Gl(i)):r1(Yt,o.stateNode));break;case 4:u=Yt,p=Rs,Yt=o.stateNode.containerInfo,Rs=!0,Pr(i,r,o),Yt=u,Rs=p;break;case 0:case 11:case 14:case 15:Ea(2,o,r),Sn||Ea(4,o,r),Pr(i,r,o);break;case 1:Sn||(Qi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&a_(o,r,u)),Pr(i,r,o);break;case 21:Pr(i,r,o);break;case 22:Sn=(u=Sn)||o.memoizedState!==null,Pr(i,r,o),Sn=u;break;default:Pr(i,r,o)}}function m_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Gl(i)}catch(o){Ct(r,r.return,o)}}}function p_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Gl(i)}catch(o){Ct(r,r.return,o)}}function Hk(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new u_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new u_),r;default:throw Error(s(435,i.tag))}}function Gd(i,r){var o=Hk(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var p=Zk.bind(null,i,u);u.then(p,p)}})}function Ns(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],v=i,_=r,N=_;e:for(;N!==null;){switch(N.tag){case 27:if(ka(N.type)){Yt=N.stateNode,Rs=!1;break e}break;case 5:Yt=N.stateNode,Rs=!1;break e;case 3:case 4:Yt=N.stateNode.containerInfo,Rs=!0;break e}N=N.return}if(Yt===null)throw Error(s(160));f_(v,_,p),Yt=null,Rs=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)g_(r,i),r=r.sibling}var Ni=null;function g_(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ns(r,i),Is(i),u&4&&(Ea(3,i,i.return),du(3,i),Ea(5,i,i.return));break;case 1:Ns(r,i),Is(i),u&512&&(Sn||o===null||Qi(o,o.return)),u&64&&Mr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=Ni;if(Ns(r,i),Is(i),u&512&&(Sn||o===null||Qi(o,o.return)),u&4){var v=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":v=p.getElementsByTagName("title")[0],(!v||v[Ut]||v[wt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(u),p.head.insertBefore(v,p.querySelector("head > title"))),ns(v,u,o),v[wt]=i,Zt(v),u=v;break e;case"link":var _=g1("link","href",p).get(u+(o.href||""));if(_){for(var N=0;N<_.length;N++)if(v=_[N],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(N,1);break t}}v=p.createElement(u),ns(v,u,o),p.head.appendChild(v);break;case"meta":if(_=g1("meta","content",p).get(u+(o.content||""))){for(N=0;N<_.length;N++)if(v=_[N],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(N,1);break t}}v=p.createElement(u),ns(v,u,o),p.head.appendChild(v);break;default:throw Error(s(468,u))}v[wt]=i,Zt(v),u=v}i.stateNode=u}else y1(p,i.type,i.stateNode);else i.stateNode=p1(p,u,i.memoizedProps);else v!==u?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,u===null?y1(p,i.type,i.stateNode):p1(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Ng(i,i.memoizedProps,o.memoizedProps)}break;case 27:Ns(r,i),Is(i),u&512&&(Sn||o===null||Qi(o,o.return)),o!==null&&u&4&&Ng(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Ns(r,i),Is(i),u&512&&(Sn||o===null||Qi(o,o.return)),i.flags&32){p=i.stateNode;try{Cs(p,"")}catch(Re){Ct(i,i.return,Re)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,Ng(i,p,o!==null?o.memoizedProps:p)),u&1024&&(Dg=!0);break;case 6:if(Ns(r,i),Is(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Re){Ct(i,i.return,Re)}}break;case 3:if(lf=null,p=Ni,Ni=af(r.containerInfo),Ns(r,i),Ni=p,Is(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Gl(r.containerInfo)}catch(Re){Ct(i,i.return,Re)}Dg&&(Dg=!1,y_(i));break;case 4:u=Ni,Ni=af(i.stateNode.containerInfo),Ns(r,i),Is(i),Ni=u;break;case 12:Ns(r,i),Is(i);break;case 31:Ns(r,i),Is(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Gd(i,u)));break;case 13:Ns(r,i),Is(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Kd=Ot()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Gd(i,u)));break;case 22:p=i.memoizedState!==null;var q=o!==null&&o.memoizedState!==null,ie=Mr,ue=Sn;if(Mr=ie||p,Sn=ue||q,Ns(r,i),Sn=ue,Mr=ie,Is(i),u&8192)e:for(r=i.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||q||Mr||Sn||jo(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){q=o=r;try{if(v=q.stateNode,p)_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{N=q.stateNode;var me=q.memoizedProps.style,ae=me!=null&&me.hasOwnProperty("display")?me.display:null;N.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Re){Ct(q,q.return,Re)}}}else if(r.tag===6){if(o===null){q=r;try{q.stateNode.nodeValue=p?"":q.memoizedProps}catch(Re){Ct(q,q.return,Re)}}}else if(r.tag===18){if(o===null){q=r;try{var le=q.stateNode;p?a1(le,!0):a1(q.stateNode,!1)}catch(Re){Ct(q,q.return,Re)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Gd(i,o))));break;case 19:Ns(r,i),Is(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Gd(i,u)));break;case 30:break;case 21:break;default:Ns(r,i),Is(i)}}function Is(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(l_(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,v=Ig(i);Hd(i,v,p);break;case 5:var _=o.stateNode;o.flags&32&&(Cs(_,""),o.flags&=-33);var N=Ig(i);Hd(i,N,_);break;case 3:case 4:var q=o.stateNode.containerInfo,ie=Ig(i);kg(i,ie,q);break;default:throw Error(s(161))}}catch(ue){Ct(i,i.return,ue)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function y_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;y_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function jr(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)h_(i,r.alternate,r),r=r.sibling}function jo(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ea(4,r,r.return),jo(r);break;case 1:Qi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&a_(r,r.return,o),jo(r);break;case 27:_u(r.stateNode);case 26:case 5:Qi(r,r.return),jo(r);break;case 22:r.memoizedState===null&&jo(r);break;case 30:jo(r);break;default:jo(r)}i=i.sibling}}function Or(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,p=i,v=r,_=v.flags;switch(v.tag){case 0:case 11:case 15:Or(p,v,o),du(4,v);break;case 1:if(Or(p,v,o),u=v,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ie){Ct(u,u.return,ie)}if(u=v,p=u.updateQueue,p!==null){var N=u.stateNode;try{var q=p.shared.hiddenCallbacks;if(q!==null)for(p.shared.hiddenCallbacks=null,p=0;p<q.length;p++)Yx(q[p],N)}catch(ie){Ct(u,u.return,ie)}}o&&_&64&&r_(v),fu(v,v.return);break;case 27:c_(v);case 26:case 5:Or(p,v,o),o&&u===null&&_&4&&o_(v),fu(v,v.return);break;case 12:Or(p,v,o);break;case 31:Or(p,v,o),o&&_&4&&m_(p,v);break;case 13:Or(p,v,o),o&&_&4&&p_(p,v);break;case 22:v.memoizedState===null&&Or(p,v,o),fu(v,v.return);break;case 30:break;default:Or(p,v,o)}r=r.sibling}}function Mg(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Zc(o))}function Pg(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Zc(i))}function Ii(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)v_(i,r,o,u),r=r.sibling}function v_(i,r,o,u){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Ii(i,r,o,u),p&2048&&du(9,r);break;case 1:Ii(i,r,o,u);break;case 3:Ii(i,r,o,u),p&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Zc(i)));break;case 12:if(p&2048){Ii(i,r,o,u),i=r.stateNode;try{var v=r.memoizedProps,_=v.id,N=v.onPostCommit;typeof N=="function"&&N(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){Ct(r,r.return,q)}}else Ii(i,r,o,u);break;case 31:Ii(i,r,o,u);break;case 13:Ii(i,r,o,u);break;case 23:break;case 22:v=r.stateNode,_=r.alternate,r.memoizedState!==null?v._visibility&2?Ii(i,r,o,u):mu(i,r):v._visibility&2?Ii(i,r,o,u):(v._visibility|=2,Pl(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),p&2048&&Mg(_,r);break;case 24:Ii(i,r,o,u),p&2048&&Pg(r.alternate,r);break;default:Ii(i,r,o,u)}}function Pl(i,r,o,u,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var v=i,_=r,N=o,q=u,ie=_.flags;switch(_.tag){case 0:case 11:case 15:Pl(v,_,N,q,p),du(8,_);break;case 23:break;case 22:var ue=_.stateNode;_.memoizedState!==null?ue._visibility&2?Pl(v,_,N,q,p):mu(v,_):(ue._visibility|=2,Pl(v,_,N,q,p)),p&&ie&2048&&Mg(_.alternate,_);break;case 24:Pl(v,_,N,q,p),p&&ie&2048&&Pg(_.alternate,_);break;default:Pl(v,_,N,q,p)}r=r.sibling}}function mu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,p=u.flags;switch(u.tag){case 22:mu(o,u),p&2048&&Mg(u.alternate,u);break;case 24:mu(o,u),p&2048&&Pg(u.alternate,u);break;default:mu(o,u)}r=r.sibling}}var pu=8192;function jl(i,r,o){if(i.subtreeFlags&pu)for(i=i.child;i!==null;)b_(i,r,o),i=i.sibling}function b_(i,r,o){switch(i.tag){case 26:jl(i,r,o),i.flags&pu&&i.memoizedState!==null&&ID(o,Ni,i.memoizedState,i.memoizedProps);break;case 5:jl(i,r,o);break;case 3:case 4:var u=Ni;Ni=af(i.stateNode.containerInfo),jl(i,r,o),Ni=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=pu,pu=16777216,jl(i,r,o),pu=u):jl(i,r,o));break;default:jl(i,r,o)}}function x_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function gu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Hn=u,__(u,i)}x_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)w_(i),i=i.sibling}function w_(i){switch(i.tag){case 0:case 11:case 15:gu(i),i.flags&2048&&Ea(9,i,i.return);break;case 3:gu(i);break;case 12:gu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,$d(i)):gu(i);break;default:gu(i)}}function $d(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Hn=u,__(u,i)}x_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ea(8,r,r.return),$d(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,$d(r));break;default:$d(r)}i=i.sibling}}function __(i,r){for(;Hn!==null;){var o=Hn;switch(o.tag){case 0:case 11:case 15:Ea(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Zc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Hn=u;else e:for(o=i;Hn!==null;){u=Hn;var p=u.sibling,v=u.return;if(d_(u),u===o){Hn=null;break e}if(p!==null){p.return=v,Hn=p;break e}Hn=v}}}var Gk={getCacheForType:function(i){var r=es(_n),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return es(_n).controller.signal}},$k=typeof WeakMap=="function"?WeakMap:Map,bt=0,jt=null,et=null,nt=0,At=0,Hs=null,Sa=!1,Ol=!1,jg=!1,Vr=0,un=0,Aa=0,Oo=0,Og=0,Gs=0,Vl=0,yu=null,ks=null,Vg=!1,Kd=0,T_=0,Yd=1/0,Wd=null,Ca=null,jn=0,Ra=null,Ll=null,Lr=0,Lg=0,Ug=null,E_=null,vu=0,zg=null;function $s(){return(bt&2)!==0&&nt!==0?nt&-nt:Z.T!==null?$g():gs()}function S_(){if(Gs===0)if((nt&536870912)===0||lt){var i=xi;xi<<=1,(xi&3932160)===0&&(xi=262144),Gs=i}else Gs=536870912;return i=Fs.current,i!==null&&(i.flags|=32),Gs}function Ds(i,r,o){(i===jt&&(At===2||At===9)||i.cancelPendingCommit!==null)&&(Ul(i,0),Na(i,nt,Gs,!1)),Dn(i,o),((bt&2)===0||i!==jt)&&(i===jt&&((bt&2)===0&&(Oo|=o),un===4&&Na(i,nt,Gs,!1)),Ji(i))}function A_(i,r,o){if((bt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Ft(i,r),p=u?Wk(i,r):Fg(i,r,!0),v=u;do{if(p===0){Ol&&!u&&Na(i,r,0,!1);break}else{if(o=i.current.alternate,v&&!Kk(o)){p=Fg(i,r,!1),v=!1;continue}if(p===2){if(v=r,i.errorRecoveryDisabledLanes&v)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var N=i;p=yu;var q=N.current.memoizedState.isDehydrated;if(q&&(Ul(N,_).flags|=256),_=Fg(N,_,!1),_!==2){if(jg&&!q){N.errorRecoveryDisabledLanes|=v,Oo|=v,p=4;break e}v=ks,ks=p,v!==null&&(ks===null?ks=v:ks.push.apply(ks,v))}p=_}if(v=!1,p!==2)continue}}if(p===1){Ul(i,0),Na(i,r,0,!0);break}e:{switch(u=i,v=p,v){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Na(u,r,Gs,!Sa);break e;case 2:ks=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=Kd+300-Ot(),10<p)){if(Na(u,r,Gs,!Sa),Lt(u,0,!0)!==0)break e;Lr=r,u.timeoutHandle=s1(C_.bind(null,u,o,ks,Wd,Vg,r,Gs,Oo,Vl,Sa,v,"Throttled",-0,0),p);break e}C_(u,o,ks,Wd,Vg,r,Gs,Oo,Vl,Sa,v,null,-0,0)}}break}while(!0);Ji(i)}function C_(i,r,o,u,p,v,_,N,q,ie,ue,me,ae,le){if(i.timeoutHandle=-1,me=r.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ti},b_(r,v,me);var Re=(v&62914560)===v?Kd-Ot():(v&4194048)===v?T_-Ot():0;if(Re=kD(me,Re),Re!==null){Lr=v,i.cancelPendingCommit=Re(j_.bind(null,i,r,v,o,u,p,_,N,q,ue,me,null,ae,le)),Na(i,v,_,!ie);return}}j_(i,r,v,o,u,p,_,N,q)}function Kk(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],v=p.getSnapshot;p=p.value;try{if(!zs(v(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Na(i,r,o,u){r&=~Og,r&=~Oo,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var p=r;0<p;){var v=31-Nt(p),_=1<<v;u[v]=-1,p&=~_}o!==0&&bn(i,o,r)}function Xd(){return(bt&6)===0?(bu(0),!1):!0}function Bg(){if(et!==null){if(At===0)var i=et.return;else i=et,Cr=Co=null,sg(i),Nl=null,tu=0,i=et;for(;i!==null;)i_(i.alternate,i),i=i.return;et=null}}function Ul(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,fD(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Lr=0,Bg(),jt=i,et=o=Sr(i.current,null),nt=r,At=0,Hs=null,Sa=!1,Ol=Ft(i,r),jg=!1,Vl=Gs=Og=Oo=Aa=un=0,ks=yu=null,Vg=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var p=31-Nt(u),v=1<<p;r|=i[p],u&=~v}return Vr=r,yd(),o}function R_(i,r){Ke=null,Z.H=cu,r===Rl||r===Sd?(r=Hx(),At=3):r===Gp?(r=Hx(),At=4):At=r===bg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Hs=r,et===null&&(un=1,Ud(i,ni(r,i.current)))}function N_(){var i=Fs.current;return i===null?!0:(nt&4194048)===nt?ai===null:(nt&62914560)===nt||(nt&536870912)!==0?i===ai:!1}function I_(){var i=Z.H;return Z.H=cu,i===null?cu:i}function k_(){var i=Z.A;return Z.A=Gk,i}function Qd(){un=4,Sa||(nt&4194048)!==nt&&Fs.current!==null||(Ol=!0),(Aa&134217727)===0&&(Oo&134217727)===0||jt===null||Na(jt,nt,Gs,!1)}function Fg(i,r,o){var u=bt;bt|=2;var p=I_(),v=k_();(jt!==i||nt!==r)&&(Wd=null,Ul(i,r)),r=!1;var _=un;e:do try{if(At!==0&&et!==null){var N=et,q=Hs;switch(At){case 8:Bg(),_=6;break e;case 3:case 2:case 9:case 6:Fs.current===null&&(r=!0);var ie=At;if(At=0,Hs=null,zl(i,N,q,ie),o&&Ol){_=0;break e}break;default:ie=At,At=0,Hs=null,zl(i,N,q,ie)}}Yk(),_=un;break}catch(ue){R_(i,ue)}while(!0);return r&&i.shellSuspendCounter++,Cr=Co=null,bt=u,Z.H=p,Z.A=v,et===null&&(jt=null,nt=0,yd()),_}function Yk(){for(;et!==null;)D_(et)}function Wk(i,r){var o=bt;bt|=2;var u=I_(),p=k_();jt!==i||nt!==r?(Wd=null,Yd=Ot()+500,Ul(i,r)):Ol=Ft(i,r);e:do try{if(At!==0&&et!==null){r=et;var v=Hs;t:switch(At){case 1:At=0,Hs=null,zl(i,r,v,1);break;case 2:case 9:if(Fx(v)){At=0,Hs=null,M_(r);break}r=function(){At!==2&&At!==9||jt!==i||(At=7),Ji(i)},v.then(r,r);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:Fx(v)?(At=0,Hs=null,M_(r)):(At=0,Hs=null,zl(i,r,v,7));break;case 5:var _=null;switch(et.tag){case 26:_=et.memoizedState;case 5:case 27:var N=et;if(_?v1(_):N.stateNode.complete){At=0,Hs=null;var q=N.sibling;if(q!==null)et=q;else{var ie=N.return;ie!==null?(et=ie,Jd(ie)):et=null}break t}}At=0,Hs=null,zl(i,r,v,5);break;case 6:At=0,Hs=null,zl(i,r,v,6);break;case 8:Bg(),un=6;break e;default:throw Error(s(462))}}Xk();break}catch(ue){R_(i,ue)}while(!0);return Cr=Co=null,Z.H=u,Z.A=p,bt=o,et!==null?0:(jt=null,nt=0,yd(),un)}function Xk(){for(;et!==null&&!Os();)D_(et)}function D_(i){var r=n_(i.alternate,i,Vr);i.memoizedProps=i.pendingProps,r===null?Jd(i):et=r}function M_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Xw(o,r,r.pendingProps,r.type,void 0,nt);break;case 11:r=Xw(o,r,r.pendingProps,r.type.render,r.ref,nt);break;case 5:sg(r);default:i_(o,r),r=et=kx(r,Vr),r=n_(o,r,Vr)}i.memoizedProps=i.pendingProps,r===null?Jd(i):et=r}function zl(i,r,o,u){Cr=Co=null,sg(r),Nl=null,tu=0;var p=r.return;try{if(Lk(i,p,r,o,nt)){un=1,Ud(i,ni(o,i.current)),et=null;return}}catch(v){if(p!==null)throw et=p,v;un=1,Ud(i,ni(o,i.current)),et=null;return}r.flags&32768?(lt||u===1?i=!0:Ol||(nt&536870912)!==0?i=!1:(Sa=i=!0,(u===2||u===9||u===3||u===6)&&(u=Fs.current,u!==null&&u.tag===13&&(u.flags|=16384))),P_(r,i)):Jd(r)}function Jd(i){var r=i;do{if((r.flags&32768)!==0){P_(r,Sa);return}i=r.return;var o=Bk(r.alternate,r,Vr);if(o!==null){et=o;return}if(r=r.sibling,r!==null){et=r;return}et=r=i}while(r!==null);un===0&&(un=5)}function P_(i,r){do{var o=Fk(i.alternate,i);if(o!==null){o.flags&=32767,et=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){et=i;return}et=i=o}while(i!==null);un=6,et=null}function j_(i,r,o,u,p,v,_,N,q){i.cancelPendingCommit=null;do Zd();while(jn!==0);if((bt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(v=r.lanes|r.childLanes,v|=Ip,Jt(i,o,v,_,N,q),i===jt&&(et=jt=null,nt=0),Ll=r,Ra=i,Lr=o,Lg=v,Ug=p,E_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,eD(Et,function(){return z_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,p=X.p,X.p=2,_=bt,bt|=4;try{qk(i,r,o)}finally{bt=_,X.p=p,Z.T=u}}jn=1,O_(),V_(),L_()}}function O_(){if(jn===1){jn=0;var i=Ra,r=Ll,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=X.p;X.p=2;var p=bt;bt|=4;try{g_(r,i);var v=ey,_=_x(i.containerInfo),N=v.focusedElem,q=v.selectionRange;if(_!==N&&N&&N.ownerDocument&&wx(N.ownerDocument.documentElement,N)){if(q!==null&&Sp(N)){var ie=q.start,ue=q.end;if(ue===void 0&&(ue=ie),"selectionStart"in N)N.selectionStart=ie,N.selectionEnd=Math.min(ue,N.value.length);else{var me=N.ownerDocument||document,ae=me&&me.defaultView||window;if(ae.getSelection){var le=ae.getSelection(),Re=N.textContent.length,je=Math.min(q.start,Re),Mt=q.end===void 0?je:Math.min(q.end,Re);!le.extend&&je>Mt&&(_=Mt,Mt=je,je=_);var Q=xx(N,je),G=xx(N,Mt);if(Q&&G&&(le.rangeCount!==1||le.anchorNode!==Q.node||le.anchorOffset!==Q.offset||le.focusNode!==G.node||le.focusOffset!==G.offset)){var se=me.createRange();se.setStart(Q.node,Q.offset),le.removeAllRanges(),je>Mt?(le.addRange(se),le.extend(G.node,G.offset)):(se.setEnd(G.node,G.offset),le.addRange(se))}}}}for(me=[],le=N;le=le.parentNode;)le.nodeType===1&&me.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<me.length;N++){var de=me[N];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}df=!!Zg,ey=Zg=null}finally{bt=p,X.p=u,Z.T=o}}i.current=r,jn=2}}function V_(){if(jn===2){jn=0;var i=Ra,r=Ll,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=X.p;X.p=2;var p=bt;bt|=4;try{h_(i,r.alternate,r)}finally{bt=p,X.p=u,Z.T=o}}jn=3}}function L_(){if(jn===4||jn===3){jn=0,Xs();var i=Ra,r=Ll,o=Lr,u=E_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jn=5:(jn=0,Ll=Ra=null,U_(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ca=null),Qn(o),r=r.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(In,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Z.T,p=X.p,X.p=2,Z.T=null;try{for(var v=i.onRecoverableError,_=0;_<u.length;_++){var N=u[_];v(N.value,{componentStack:N.stack})}}finally{Z.T=r,X.p=p}}(Lr&3)!==0&&Zd(),Ji(i),p=i.pendingLanes,(o&261930)!==0&&(p&42)!==0?i===zg?vu++:(vu=0,zg=i):vu=0,bu(0)}}function U_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Zc(r)))}function Zd(){return O_(),V_(),L_(),z_()}function z_(){if(jn!==5)return!1;var i=Ra,r=Lg;Lg=0;var o=Qn(Lr),u=Z.T,p=X.p;try{X.p=32>o?32:o,Z.T=null,o=Ug,Ug=null;var v=Ra,_=Lr;if(jn=0,Ll=Ra=null,Lr=0,(bt&6)!==0)throw Error(s(331));var N=bt;if(bt|=4,w_(v.current),v_(v,v.current,_,o),bt=N,bu(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(In,v)}catch{}return!0}finally{X.p=p,Z.T=u,U_(i,r)}}function B_(i,r,o){r=ni(o,r),r=vg(i.stateNode,r,2),i=wa(i,r,2),i!==null&&(Dn(i,2),Ji(i))}function Ct(i,r,o){if(i.tag===3)B_(i,i,o);else for(;r!==null;){if(r.tag===3){B_(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ca===null||!Ca.has(u))){i=ni(o,i),o=Fw(2),u=wa(r,o,2),u!==null&&(qw(o,u,r,i),Dn(u,2),Ji(u));break}}r=r.return}}function qg(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new $k;var p=new Set;u.set(r,p)}else p=u.get(r),p===void 0&&(p=new Set,u.set(r,p));p.has(o)||(jg=!0,p.add(o),i=Qk.bind(null,i,r,o),r.then(i,i))}function Qk(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,jt===i&&(nt&o)===o&&(un===4||un===3&&(nt&62914560)===nt&&300>Ot()-Kd?(bt&2)===0&&Ul(i,0):Og|=o,Vl===nt&&(Vl=0)),Ji(i)}function F_(i,r){r===0&&(r=Qt()),i=Eo(i,r),i!==null&&(Dn(i,r),Ji(i))}function Jk(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),F_(i,o)}function Zk(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),F_(i,o)}function eD(i,r){return Be(i,r)}var ef=null,Bl=null,Hg=!1,tf=!1,Gg=!1,Ia=0;function Ji(i){i!==Bl&&i.next===null&&(Bl===null?ef=Bl=i:Bl=Bl.next=i),tf=!0,Hg||(Hg=!0,nD())}function bu(i,r){if(!Gg&&tf){Gg=!0;do for(var o=!1,u=ef;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var v=0;else{var _=u.suspendedLanes,N=u.pingedLanes;v=(1<<31-Nt(42|i)+1)-1,v&=p&~(_&~N),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,$_(u,v))}else v=nt,v=Lt(u,u===jt?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||Ft(u,v)||(o=!0,$_(u,v));u=u.next}while(o);Gg=!1}}function tD(){q_()}function q_(){tf=Hg=!1;var i=0;Ia!==0&&dD()&&(i=Ia);for(var r=Ot(),o=null,u=ef;u!==null;){var p=u.next,v=H_(u,r);v===0?(u.next=null,o===null?ef=p:o.next=p,p===null&&(Bl=o)):(o=u,(i!==0||(v&3)!==0)&&(tf=!0)),u=p}jn!==0&&jn!==5||bu(i),Ia!==0&&(Ia=0)}function H_(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var _=31-Nt(v),N=1<<_,q=p[_];q===-1?((N&o)===0||(N&u)!==0)&&(p[_]=Fn(N,r)):q<=r&&(i.expiredLanes|=N),v&=~N}if(r=jt,o=nt,o=Lt(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(At===2||At===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Wn(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ft(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Wn(u),Qn(o)){case 2:case 8:o=zn;break;case 32:o=Et;break;case 268435456:o=Vs;break;default:o=Et}return u=G_.bind(null,i),o=Be(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Wn(u),i.callbackPriority=2,i.callbackNode=null,2}function G_(i,r){if(jn!==0&&jn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Zd()&&i.callbackNode!==o)return null;var u=nt;return u=Lt(i,i===jt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(A_(i,u,r),H_(i,Ot()),i.callbackNode!=null&&i.callbackNode===o?G_.bind(null,i):null)}function $_(i,r){if(Zd())return null;A_(i,r,!0)}function nD(){mD(function(){(bt&6)!==0?Be(As,tD):q_()})}function $g(){if(Ia===0){var i=Al;i===0&&(i=rn,rn<<=1,(rn&261888)===0&&(rn=256)),Ia=i}return Ia}function K_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:hl(""+i)}function Y_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function sD(i,r,o,u,p){if(r==="submit"&&o&&o.stateNode===p){var v=K_((p[qt]||null).action),_=u.submitter;_&&(r=(r=_[qt]||null)?K_(r.formAction):_.getAttribute("formAction"),r!==null&&(v=r,_=null));var N=new Gi("action","action",null,u,p);i.push({event:N,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ia!==0){var q=_?Y_(p,_):new FormData(p);dg(o,{pending:!0,data:q,method:p.method,action:v},null,q)}}else typeof v=="function"&&(N.preventDefault(),q=_?Y_(p,_):new FormData(p),dg(o,{pending:!0,data:q,method:p.method,action:v},v,q))},currentTarget:p}]})}}for(var Kg=0;Kg<Np.length;Kg++){var Yg=Np[Kg],iD=Yg.toLowerCase(),rD=Yg[0].toUpperCase()+Yg.slice(1);Ri(iD,"on"+rD)}Ri(Sx,"onAnimationEnd"),Ri(Ax,"onAnimationIteration"),Ri(Cx,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(wk,"onTransitionRun"),Ri(_k,"onTransitionStart"),Ri(Tk,"onTransitionCancel"),Ri(Rx,"onTransitionEnd"),Us("onMouseEnter",["mouseout","mouseover"]),Us("onMouseLeave",["mouseout","mouseover"]),Us("onPointerEnter",["pointerout","pointerover"]),Us("onPointerLeave",["pointerout","pointerover"]),Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xu));function W_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],p=u.event;u=u.listeners;e:{var v=void 0;if(r)for(var _=u.length-1;0<=_;_--){var N=u[_],q=N.instance,ie=N.currentTarget;if(N=N.listener,q!==v&&p.isPropagationStopped())break e;v=N,p.currentTarget=ie;try{v(p)}catch(ue){gd(ue)}p.currentTarget=null,v=q}else for(_=0;_<u.length;_++){if(N=u[_],q=N.instance,ie=N.currentTarget,N=N.listener,q!==v&&p.isPropagationStopped())break e;v=N,p.currentTarget=ie;try{v(p)}catch(ue){gd(ue)}p.currentTarget=null,v=q}}}}function tt(i,r){var o=r[gr];o===void 0&&(o=r[gr]=new Set);var u=i+"__bubble";o.has(u)||(X_(r,i,2,!1),o.add(u))}function Wg(i,r,o){var u=0;r&&(u|=4),X_(o,i,u,r)}var nf="_reactListening"+Math.random().toString(36).slice(2);function Xg(i){if(!i[nf]){i[nf]=!0,fo.forEach(function(o){o!=="selectionchange"&&(aD.has(o)||Wg(o,!1,i),Wg(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[nf]||(r[nf]=!0,Wg("selectionchange",!1,r))}}function X_(i,r,o,u){switch(S1(r)){case 2:var p=PD;break;case 8:p=jD;break;default:p=hy}o=p.bind(null,r,o,i),p=void 0,!go||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(r,o,{capture:!0,passive:p}):i.addEventListener(r,o,!0):p!==void 0?i.addEventListener(r,o,{passive:p}):i.addEventListener(r,o,!1)}function Qg(i,r,o,u,p){var v=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var N=u.stateNode.containerInfo;if(N===p)break;if(_===4)for(_=u.return;_!==null;){var q=_.tag;if((q===3||q===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;N!==null;){if(_=xn(N),_===null)return;if(q=_.tag,q===5||q===6||q===26||q===27){u=v=_;continue e}N=N.parentNode}}u=u.return}ha(function(){var ie=v,ue=Js(o),me=[];e:{var ae=Nx.get(i);if(ae!==void 0){var le=Gi,Re=i;switch(i){case"keypress":if(vo(o)===0)break e;case"keydown":case"keyup":le=fd;break;case"focusin":Re="focus",le=xo;break;case"focusout":Re="blur",le=xo;break;case"beforeblur":case"afterblur":le=xo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=id;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=w;break;case Sx:case Ax:case Cx:le=ad;break;case Rx:le=M;break;case"scroll":case"scrollend":le=Hc;break;case"wheel":le=oe;break;case"copy":case"cut":case"paste":le=od;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Er;break;case"toggle":case"beforetoggle":le=$e}var je=(r&4)!==0,Mt=!je&&(i==="scroll"||i==="scrollend"),Q=je?ae!==null?ae+"Capture":null:ae;je=[];for(var G=ie,se;G!==null;){var de=G;if(se=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||se===null||Q===null||(de=Ei(G,Q),de!=null&&je.push(wu(G,de,se))),Mt)break;G=G.return}0<je.length&&(ae=new le(ae,Re,null,o,ue),me.push({event:ae,listeners:je}))}}if((r&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",ae&&o!==Bc&&(Re=o.relatedTarget||o.fromElement)&&(xn(Re)||Re[qn]))break e;if((le||ae)&&(ae=ue.window===ue?ue:(ae=ue.ownerDocument)?ae.defaultView||ae.parentWindow:window,le?(Re=o.relatedTarget||o.toElement,le=ie,Re=Re?xn(Re):null,Re!==null&&(Mt=l(Re),je=Re.tag,Re!==Mt||je!==5&&je!==27&&je!==6)&&(Re=null)):(le=null,Re=ie),le!==Re)){if(je=Gc,de="onMouseLeave",Q="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(je=Er,de="onPointerLeave",Q="onPointerEnter",G="pointer"),Mt=le==null?ae:Pn(le),se=Re==null?ae:Pn(Re),ae=new je(de,G+"leave",le,o,ue),ae.target=Mt,ae.relatedTarget=se,de=null,xn(ue)===ie&&(je=new je(Q,G+"enter",Re,o,ue),je.target=se,je.relatedTarget=Mt,de=je),Mt=de,le&&Re)t:{for(je=oD,Q=le,G=Re,se=0,de=Q;de;de=je(de))se++;de=0;for(var Pe=G;Pe;Pe=je(Pe))de++;for(;0<se-de;)Q=je(Q),se--;for(;0<de-se;)G=je(G),de--;for(;se--;){if(Q===G||G!==null&&Q===G.alternate){je=Q;break t}Q=je(Q),G=je(G)}je=null}else je=null;le!==null&&Q_(me,ae,le,je,!1),Re!==null&&Mt!==null&&Q_(me,Mt,Re,je,!0)}}e:{if(ae=ie?Pn(ie):window,le=ae.nodeName&&ae.nodeName.toLowerCase(),le==="select"||le==="input"&&ae.type==="file")var gt=mx;else if(dx(ae))if(px)gt=vk;else{gt=gk;var ke=pk}else le=ae.nodeName,!le||le.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ie&&ul(ie.elementType)&&(gt=mx):gt=yk;if(gt&&(gt=gt(i,ie))){fx(me,gt,o,ue);break e}ke&&ke(i,ae,ie),i==="focusout"&&ie&&ae.type==="number"&&ie.memoizedProps.value!=null&&St(ae,"number",ae.value)}switch(ke=ie?Pn(ie):window,i){case"focusin":(dx(ke)||ke.contentEditable==="true")&&(vl=ke,Ap=ie,Xc=null);break;case"focusout":Xc=Ap=vl=null;break;case"mousedown":Cp=!0;break;case"contextmenu":case"mouseup":case"dragend":Cp=!1,Tx(me,o,ue);break;case"selectionchange":if(xk)break;case"keydown":case"keyup":Tx(me,o,ue)}var We;if(vt)e:{switch(i){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else yl?wo(i,o)&&(st="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(st="onCompositionStart");st&&(Yi&&o.locale!=="ko"&&(yl||st!=="onCompositionStart"?st==="onCompositionEnd"&&yl&&(We=qc()):(Hi=ue,Fc="value"in Hi?Hi.value:Hi.textContent,yl=!0)),ke=sf(ie,st),0<ke.length&&(st=new Ki(st,i,null,o,ue),me.push({event:st,listeners:ke}),We?st.data=We:(We=gl(o),We!==null&&(st.data=We)))),(We=ei?hk(i,o):dk(i,o))&&(st=sf(ie,"onBeforeInput"),0<st.length&&(ke=new Ki("onBeforeInput","beforeinput",null,o,ue),me.push({event:ke,listeners:st}),ke.data=We)),sD(me,i,ie,o,ue)}W_(me,r)})}function wu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function sf(i,r){for(var o=r+"Capture",u=[];i!==null;){var p=i,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Ei(i,o),p!=null&&u.unshift(wu(i,p,v)),p=Ei(i,r),p!=null&&u.push(wu(i,p,v))),i.tag===3)return u;i=i.return}return[]}function oD(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Q_(i,r,o,u,p){for(var v=r._reactName,_=[];o!==null&&o!==u;){var N=o,q=N.alternate,ie=N.stateNode;if(N=N.tag,q!==null&&q===u)break;N!==5&&N!==26&&N!==27||ie===null||(q=ie,p?(ie=Ei(o,v),ie!=null&&_.unshift(wu(o,ie,q))):p||(ie=Ei(o,v),ie!=null&&_.push(wu(o,ie,q)))),o=o.return}_.length!==0&&i.push({event:r,listeners:_})}var lD=/\r\n?/g,cD=/\u0000|\uFFFD/g;function J_(i){return(typeof i=="string"?i:""+i).replace(lD,`
`).replace(cD,"")}function Z_(i,r){return r=J_(r),J_(i)===r}function Dt(i,r,o,u,p,v){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Cs(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Cs(i,""+u);break;case"className":vs(i,"class",u);break;case"tabIndex":vs(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":vs(i,o,u);break;case"style":zc(i,u,v);break;case"data":if(r!=="object"){vs(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=hl(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(r!=="input"&&Dt(i,r,"name",p.name,p,null),Dt(i,r,"formEncType",p.formEncType,p,null),Dt(i,r,"formMethod",p.formMethod,p,null),Dt(i,r,"formTarget",p.formTarget,p,null)):(Dt(i,r,"encType",p.encType,p,null),Dt(i,r,"method",p.method,p,null),Dt(i,r,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=hl(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Ti);break;case"onScroll":u!=null&&tt("scroll",i);break;case"onScrollEnd":u!=null&&tt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=hl(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":tt("beforetoggle",i),tt("toggle",i),br(i,"popover",u);break;case"xlinkActuate":ln(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ln(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ln(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ln(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ln(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ln(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ln(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ln(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ln(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":br(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sd.get(o)||o,br(i,o,u))}}function Jg(i,r,o,u,p,v){switch(o){case"style":zc(i,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Cs(i,u):(typeof u=="number"||typeof u=="bigint")&&Cs(i,""+u);break;case"onScroll":u!=null&&tt("scroll",i);break;case"onScrollEnd":u!=null&&tt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ra.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),v=i[qt]||null,v=v!=null?v[o]:null,typeof v=="function"&&i.removeEventListener(r,v,p),typeof u=="function")){typeof v!="function"&&v!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,p);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):br(i,o,u)}}}function ns(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",i),tt("load",i);var u=!1,p=!1,v;for(v in o)if(o.hasOwnProperty(v)){var _=o[v];if(_!=null)switch(v){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Dt(i,r,v,_,o,null)}}p&&Dt(i,r,"srcSet",o.srcSet,o,null),u&&Dt(i,r,"src",o.src,o,null);return;case"input":tt("invalid",i);var N=v=_=p=null,q=null,ie=null;for(u in o)if(o.hasOwnProperty(u)){var ue=o[u];if(ue!=null)switch(u){case"name":p=ue;break;case"type":_=ue;break;case"checked":q=ue;break;case"defaultChecked":ie=ue;break;case"value":v=ue;break;case"defaultValue":N=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,r));break;default:Dt(i,r,u,ue,o,null)}}Pt(i,v,N,q,ie,_,p,!1);return;case"select":tt("invalid",i),u=_=v=null;for(p in o)if(o.hasOwnProperty(p)&&(N=o[p],N!=null))switch(p){case"value":v=N;break;case"defaultValue":_=N;break;case"multiple":u=N;default:Dt(i,r,p,N,o,null)}r=v,o=_,i.multiple=!!u,r!=null?wn(i,!!u,r,!1):o!=null&&wn(i,!!u,o,!0);return;case"textarea":tt("invalid",i),v=p=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(N=o[_],N!=null))switch(_){case"value":u=N;break;case"defaultValue":p=N;break;case"children":v=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(91));break;default:Dt(i,r,_,N,o,null)}la(i,u,p,v);return;case"option":for(q in o)o.hasOwnProperty(q)&&(u=o[q],u!=null)&&(q==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":Dt(i,r,q,u,o,null));return;case"dialog":tt("beforetoggle",i),tt("toggle",i),tt("cancel",i),tt("close",i);break;case"iframe":case"object":tt("load",i);break;case"video":case"audio":for(u=0;u<xu.length;u++)tt(xu[u],i);break;case"image":tt("error",i),tt("load",i);break;case"details":tt("toggle",i);break;case"embed":case"source":case"link":tt("error",i),tt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in o)if(o.hasOwnProperty(ie)&&(u=o[ie],u!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Dt(i,r,ie,u,o,null)}return;default:if(ul(r)){for(ue in o)o.hasOwnProperty(ue)&&(u=o[ue],u!==void 0&&Jg(i,r,ue,u,o,void 0));return}}for(N in o)o.hasOwnProperty(N)&&(u=o[N],u!=null&&Dt(i,r,N,u,o,null))}function uD(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,_=null,N=null,q=null,ie=null,ue=null;for(le in o){var me=o[le];if(o.hasOwnProperty(le)&&me!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":q=me;default:u.hasOwnProperty(le)||Dt(i,r,le,null,u,me)}}for(var ae in u){var le=u[ae];if(me=o[ae],u.hasOwnProperty(ae)&&(le!=null||me!=null))switch(ae){case"type":v=le;break;case"name":p=le;break;case"checked":ie=le;break;case"defaultChecked":ue=le;break;case"value":_=le;break;case"defaultValue":N=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,r));break;default:le!==me&&Dt(i,r,ae,le,u,me)}}zt(i,_,N,q,ie,ue,v,p);return;case"select":le=_=N=ae=null;for(v in o)if(q=o[v],o.hasOwnProperty(v)&&q!=null)switch(v){case"value":break;case"multiple":le=q;default:u.hasOwnProperty(v)||Dt(i,r,v,null,u,q)}for(p in u)if(v=u[p],q=o[p],u.hasOwnProperty(p)&&(v!=null||q!=null))switch(p){case"value":ae=v;break;case"defaultValue":N=v;break;case"multiple":_=v;default:v!==q&&Dt(i,r,p,v,u,q)}r=N,o=_,u=le,ae!=null?wn(i,!!o,ae,!1):!!u!=!!o&&(r!=null?wn(i,!!o,r,!0):wn(i,!!o,o?[]:"",!1));return;case"textarea":le=ae=null;for(N in o)if(p=o[N],o.hasOwnProperty(N)&&p!=null&&!u.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Dt(i,r,N,null,u,p)}for(_ in u)if(p=u[_],v=o[_],u.hasOwnProperty(_)&&(p!=null||v!=null))switch(_){case"value":ae=p;break;case"defaultValue":le=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==v&&Dt(i,r,_,p,u,v)}_i(i,ae,le);return;case"option":for(var Re in o)ae=o[Re],o.hasOwnProperty(Re)&&ae!=null&&!u.hasOwnProperty(Re)&&(Re==="selected"?i.selected=!1:Dt(i,r,Re,null,u,ae));for(q in u)ae=u[q],le=o[q],u.hasOwnProperty(q)&&ae!==le&&(ae!=null||le!=null)&&(q==="selected"?i.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":Dt(i,r,q,ae,u,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in o)ae=o[je],o.hasOwnProperty(je)&&ae!=null&&!u.hasOwnProperty(je)&&Dt(i,r,je,null,u,ae);for(ie in u)if(ae=u[ie],le=o[ie],u.hasOwnProperty(ie)&&ae!==le&&(ae!=null||le!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,r));break;default:Dt(i,r,ie,ae,u,le)}return;default:if(ul(r)){for(var Mt in o)ae=o[Mt],o.hasOwnProperty(Mt)&&ae!==void 0&&!u.hasOwnProperty(Mt)&&Jg(i,r,Mt,void 0,u,ae);for(ue in u)ae=u[ue],le=o[ue],!u.hasOwnProperty(ue)||ae===le||ae===void 0&&le===void 0||Jg(i,r,ue,ae,u,le);return}}for(var Q in o)ae=o[Q],o.hasOwnProperty(Q)&&ae!=null&&!u.hasOwnProperty(Q)&&Dt(i,r,Q,null,u,ae);for(me in u)ae=u[me],le=o[me],!u.hasOwnProperty(me)||ae===le||ae==null&&le==null||Dt(i,r,me,ae,u,le)}function e1(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hD(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],v=p.transferSize,_=p.initiatorType,N=p.duration;if(v&&N&&e1(_)){for(_=0,N=p.responseEnd,u+=1;u<o.length;u++){var q=o[u],ie=q.startTime;if(ie>N)break;var ue=q.transferSize,me=q.initiatorType;ue&&e1(me)&&(q=q.responseEnd,_+=ue*(q<N?1:(N-ie)/(q-ie)))}if(--u,r+=8*(v+_)/(p.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Zg=null,ey=null;function rf(i){return i.nodeType===9?i:i.ownerDocument}function t1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n1(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function ty(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ny=null;function dD(){var i=window.event;return i&&i.type==="popstate"?i===ny?!1:(ny=i,!0):(ny=null,!1)}var s1=typeof setTimeout=="function"?setTimeout:void 0,fD=typeof clearTimeout=="function"?clearTimeout:void 0,i1=typeof Promise=="function"?Promise:void 0,mD=typeof queueMicrotask=="function"?queueMicrotask:typeof i1<"u"?function(i){return i1.resolve(null).then(i).catch(pD)}:s1;function pD(i){setTimeout(function(){throw i})}function ka(i){return i==="head"}function r1(i,r){var o=r,u=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(p),Gl(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")_u(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,_u(o);for(var v=o.firstChild;v;){var _=v.nextSibling,N=v.nodeName;v[Ut]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=_}}else o==="body"&&_u(i.ownerDocument.body);o=p}while(o);Gl(r)}function a1(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function sy(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":sy(o),wi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function gD(i,r,o,u){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ut])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=oi(i.nextSibling),i===null)break}return null}function yD(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=oi(i.nextSibling),i===null))return null;return i}function o1(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=oi(i.nextSibling),i===null))return null;return i}function iy(i){return i.data==="$?"||i.data==="$~"}function ry(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function vD(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function oi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var ay=null;function l1(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return oi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function c1(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function u1(i,r,o){switch(r=rf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function _u(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);wi(i)}var li=new Map,h1=new Set;function af(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ur=X.d;X.d={f:bD,r:xD,D:wD,C:_D,L:TD,m:ED,X:AD,S:SD,M:CD};function bD(){var i=Ur.f(),r=Xd();return i||r}function xD(i){var r=rs(i);r!==null&&r.tag===5&&r.type==="form"?Rw(r):Ur.r(i)}var Fl=typeof document>"u"?null:document;function d1(i,r,o){var u=Fl;if(u&&typeof r=="string"&&r){var p=Xe(r);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),h1.has(p)||(h1.add(p),i={rel:i,crossOrigin:o,href:r},u.querySelector(p)===null&&(r=u.createElement("link"),ns(r,"link",i),Zt(r),u.head.appendChild(r)))}}function wD(i){Ur.D(i),d1("dns-prefetch",i,null)}function _D(i,r){Ur.C(i,r),d1("preconnect",i,r)}function TD(i,r,o){Ur.L(i,r,o);var u=Fl;if(u&&i&&r){var p='link[rel="preload"][as="'+Xe(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Xe(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Xe(o.imageSizes)+'"]')):p+='[href="'+Xe(i)+'"]';var v=p;switch(r){case"style":v=ql(i);break;case"script":v=Hl(i)}li.has(v)||(i=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),li.set(v,i),u.querySelector(p)!==null||r==="style"&&u.querySelector(Tu(v))||r==="script"&&u.querySelector(Eu(v))||(r=u.createElement("link"),ns(r,"link",i),Zt(r),u.head.appendChild(r)))}}function ED(i,r){Ur.m(i,r);var o=Fl;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Xe(u)+'"][href="'+Xe(i)+'"]',v=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Hl(i)}if(!li.has(v)&&(i=b({rel:"modulepreload",href:i},r),li.set(v,i),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Eu(v)))return}u=o.createElement("link"),ns(u,"link",i),Zt(u),o.head.appendChild(u)}}}function SD(i,r,o){Ur.S(i,r,o);var u=Fl;if(u&&i){var p=ys(u).hoistableStyles,v=ql(i);r=r||"default";var _=p.get(v);if(!_){var N={loading:0,preload:null};if(_=u.querySelector(Tu(v)))N.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},o),(o=li.get(v))&&oy(i,o);var q=_=u.createElement("link");Zt(q),ns(q,"link",i),q._p=new Promise(function(ie,ue){q.onload=ie,q.onerror=ue}),q.addEventListener("load",function(){N.loading|=1}),q.addEventListener("error",function(){N.loading|=2}),N.loading|=4,of(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:N},p.set(v,_)}}}function AD(i,r){Ur.X(i,r);var o=Fl;if(o&&i){var u=ys(o).hoistableScripts,p=Hl(i),v=u.get(p);v||(v=o.querySelector(Eu(p)),v||(i=b({src:i,async:!0},r),(r=li.get(p))&&ly(i,r),v=o.createElement("script"),Zt(v),ns(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function CD(i,r){Ur.M(i,r);var o=Fl;if(o&&i){var u=ys(o).hoistableScripts,p=Hl(i),v=u.get(p);v||(v=o.querySelector(Eu(p)),v||(i=b({src:i,async:!0,type:"module"},r),(r=li.get(p))&&ly(i,r),v=o.createElement("script"),Zt(v),ns(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function f1(i,r,o,u){var p=(p=ye.current)?af(p):null;if(!p)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=ql(o.href),o=ys(p).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ql(o.href);var v=ys(p).hoistableStyles,_=v.get(i);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,_),(v=p.querySelector(Tu(i)))&&!v._p&&(_.instance=v,_.state.loading=5),li.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},li.set(i,o),v||RD(p,i,o,_.state))),r&&u===null)throw Error(s(528,""));return _}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Hl(o),o=ys(p).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function ql(i){return'href="'+Xe(i)+'"'}function Tu(i){return'link[rel="stylesheet"]['+i+"]"}function m1(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function RD(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),ns(r,"link",o),Zt(r),i.head.appendChild(r))}function Hl(i){return'[src="'+Xe(i)+'"]'}function Eu(i){return"script[async]"+i}function p1(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Xe(o.href)+'"]');if(u)return r.instance=u,Zt(u),u;var p=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Zt(u),ns(u,"style",p),of(u,o.precedence,i),r.instance=u;case"stylesheet":p=ql(o.href);var v=i.querySelector(Tu(p));if(v)return r.state.loading|=4,r.instance=v,Zt(v),v;u=m1(o),(p=li.get(p))&&oy(u,p),v=(i.ownerDocument||i).createElement("link"),Zt(v);var _=v;return _._p=new Promise(function(N,q){_.onload=N,_.onerror=q}),ns(v,"link",u),r.state.loading|=4,of(v,o.precedence,i),r.instance=v;case"script":return v=Hl(o.src),(p=i.querySelector(Eu(v)))?(r.instance=p,Zt(p),p):(u=o,(p=li.get(v))&&(u=b({},o),ly(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),Zt(p),ns(p,"link",u),i.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,of(u,o.precedence,i));return r.instance}function of(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,v=p,_=0;_<u.length;_++){var N=u[_];if(N.dataset.precedence===r)v=N;else if(v!==p)break}v?v.parentNode.insertBefore(i,v.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function oy(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function ly(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var lf=null;function g1(i,r,o){if(lf===null){var u=new Map,p=lf=new Map;p.set(o,u)}else p=lf,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var v=o[p];if(!(v[Ut]||v[wt]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var _=v.getAttribute(r)||"";_=i+_;var N=u.get(_);N?N.push(v):u.set(_,[v])}}return u}function y1(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function ND(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function v1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function ID(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=ql(u.href),v=r.querySelector(Tu(p));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=cf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=v,Zt(v);return}v=r.ownerDocument||r,u=m1(u),(p=li.get(p))&&oy(u,p),v=v.createElement("link"),Zt(v);var _=v;_._p=new Promise(function(N,q){_.onload=N,_.onerror=q}),ns(v,"link",u),o.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=cf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var cy=0;function kD(i,r){return i.stylesheets&&i.count===0&&hf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&hf(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+r);0<i.imgBytes&&cy===0&&(cy=62500*hD());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&hf(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>cy?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function cf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var uf=null;function hf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,uf=new Map,r.forEach(DD,i),uf=null,cf.call(i))}function DD(i,r){if(!(r.state.loading&4)){var o=uf.get(i);if(o)var u=o.get(null);else{o=new Map,uf.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var _=p[v];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}p=r.instance,_=p.getAttribute("data-precedence"),v=o.get(_)||u,v===u&&o.set(null,p),o.set(_,p),this.count++,u=cf.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),v?v.parentNode.insertBefore(p,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),r.state.loading|=4}}var Su={$$typeof:F,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function MD(i,r,o,u,p,v,_,N,q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ut(0),this.hiddenUpdates=ut(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function b1(i,r,o,u,p,v,_,N,q,ie,ue,me){return i=new MD(i,r,o,_,q,ie,ue,me,N),r=1,v===!0&&(r|=24),v=Bs(3,null,null,r),i.current=v,v.stateNode=i,r=Fp(),r.refCount++,i.pooledCache=r,r.refCount++,v.memoizedState={element:u,isDehydrated:o,cache:r},$p(v),i}function x1(i){return i?(i=wl,i):wl}function w1(i,r,o,u,p,v){p=x1(p),u.context===null?u.context=p:u.pendingContext=p,u=xa(r),u.payload={element:o},v=v===void 0?null:v,v!==null&&(u.callback=v),o=wa(i,u,r),o!==null&&(Ds(o,i,r),su(o,i,r))}function _1(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function uy(i,r){_1(i,r),(i=i.alternate)&&_1(i,r)}function T1(i){if(i.tag===13||i.tag===31){var r=Eo(i,67108864);r!==null&&Ds(r,i,67108864),uy(i,67108864)}}function E1(i){if(i.tag===13||i.tag===31){var r=$s();r=ps(r);var o=Eo(i,r);o!==null&&Ds(o,i,r),uy(i,r)}}var df=!0;function PD(i,r,o,u){var p=Z.T;Z.T=null;var v=X.p;try{X.p=2,hy(i,r,o,u)}finally{X.p=v,Z.T=p}}function jD(i,r,o,u){var p=Z.T;Z.T=null;var v=X.p;try{X.p=8,hy(i,r,o,u)}finally{X.p=v,Z.T=p}}function hy(i,r,o,u){if(df){var p=dy(u);if(p===null)Qg(i,r,u,ff,o),A1(i,u);else if(VD(p,i,r,o,u))u.stopPropagation();else if(A1(i,u),r&4&&-1<OD.indexOf(i)){for(;p!==null;){var v=rs(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var _=Vt(v.pendingLanes);if(_!==0){var N=v;for(N.pendingLanes|=2,N.entangledLanes|=2;_;){var q=1<<31-Nt(_);N.entanglements[1]|=q,_&=~q}Ji(v),(bt&6)===0&&(Yd=Ot()+500,bu(0))}}break;case 31:case 13:N=Eo(v,2),N!==null&&Ds(N,v,2),Xd(),uy(v,2)}if(v=dy(u),v===null&&Qg(i,r,u,ff,o),v===p)break;p=v}p!==null&&u.stopPropagation()}else Qg(i,r,u,null,o)}}function dy(i){return i=Js(i),fy(i)}var ff=null;function fy(i){if(ff=null,i=xn(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=h(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return ff=i,null}function S1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ss()){case As:return 2;case zn:return 8;case Et:case Bn:return 32;case Vs:return 268435456;default:return 32}default:return 32}}var my=!1,Da=null,Ma=null,Pa=null,Au=new Map,Cu=new Map,ja=[],OD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A1(i,r){switch(i){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":Au.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(r.pointerId)}}function Ru(i,r,o,u,p,v){return i===null||i.nativeEvent!==v?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:v,targetContainers:[p]},r!==null&&(r=rs(r),r!==null&&T1(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),i)}function VD(i,r,o,u,p){switch(r){case"focusin":return Da=Ru(Da,i,r,o,u,p),!0;case"dragenter":return Ma=Ru(Ma,i,r,o,u,p),!0;case"mouseover":return Pa=Ru(Pa,i,r,o,u,p),!0;case"pointerover":var v=p.pointerId;return Au.set(v,Ru(Au.get(v)||null,i,r,o,u,p)),!0;case"gotpointercapture":return v=p.pointerId,Cu.set(v,Ru(Cu.get(v)||null,i,r,o,u,p)),!0}return!1}function C1(i){var r=xn(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,Mn(i.priority,function(){E1(o)});return}}else if(r===31){if(r=h(o),r!==null){i.blockedOn=r,Mn(i.priority,function(){E1(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function mf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=dy(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Bc=u,o.target.dispatchEvent(u),Bc=null}else return r=rs(o),r!==null&&T1(r),i.blockedOn=o,!1;r.shift()}return!0}function R1(i,r,o){mf(i)&&o.delete(r)}function LD(){my=!1,Da!==null&&mf(Da)&&(Da=null),Ma!==null&&mf(Ma)&&(Ma=null),Pa!==null&&mf(Pa)&&(Pa=null),Au.forEach(R1),Cu.forEach(R1)}function pf(i,r){i.blockedOn===r&&(i.blockedOn=null,my||(my=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,LD)))}var gf=null;function N1(i){gf!==i&&(gf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){gf===i&&(gf=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],p=i[r+2];if(typeof u!="function"){if(fy(u||o)===null)continue;break}var v=rs(o);v!==null&&(i.splice(r,3),r-=3,dg(v,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function Gl(i){function r(q){return pf(q,i)}Da!==null&&pf(Da,i),Ma!==null&&pf(Ma,i),Pa!==null&&pf(Pa,i),Au.forEach(r),Cu.forEach(r);for(var o=0;o<ja.length;o++){var u=ja[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ja.length&&(o=ja[0],o.blockedOn===null);)C1(o),o.blockedOn===null&&ja.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],v=o[u+1],_=p[qt]||null;if(typeof v=="function")_||N1(o);else if(_){var N=null;if(v&&v.hasAttribute("formAction")){if(p=v,_=v[qt]||null)N=_.formAction;else if(fy(p)!==null)continue}else N=_.action;typeof N=="function"?o[u+1]=N:(o.splice(u,3),u-=3),N1(o)}}}function I1(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(_){return p=_})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function py(i){this._internalRoot=i}yf.prototype.render=py.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=$s();w1(o,u,i,r,null,null)},yf.prototype.unmount=py.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;w1(i.current,2,null,i,null,null),Xd(),r[qn]=null}};function yf(i){this._internalRoot=i}yf.prototype.unstable_scheduleHydration=function(i){if(i){var r=gs();i={blockedOn:null,target:i,priority:r};for(var o=0;o<ja.length&&r!==0&&r<ja[o].priority;o++);ja.splice(o,0,i),o===0&&C1(i)}};var k1=e.version;if(k1!=="19.2.3")throw Error(s(527,k1,"19.2.3"));X.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var UD={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vf.isDisabled&&vf.supportsFiber)try{In=vf.inject(UD),Rt=vf}catch{}}return Iu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",p=Lw,v=Uw,_=zw;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=b1(i,1,!1,null,null,o,u,null,p,v,_,I1),i[qn]=r.current,Xg(i),new py(r)},Iu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,p="",v=Lw,_=Uw,N=zw,q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.formState!==void 0&&(q=o.formState)),r=b1(i,1,!0,r,o??null,u,p,q,v,_,N,I1),r.context=x1(null),o=r.current,u=$s(),u=ps(u),p=xa(u),p.callback=null,wa(o,p,u),o=u,r.current.lanes=o,Dn(r,o),Ji(r),i[qn]=r.current,Xg(i),new yf(r)},Iu.version="19.2.3",Iu}var B1;function WD(){if(B1)return vy.exports;B1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vy.exports=YD(),vy.exports}var XD=WD();var F1="popstate";function QD(t={}){function e(s,a){let{pathname:l,search:c,hash:h}=s.location;return c0("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:lh(a)}return ZD(e,n,null,t)}function Wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JD(){return Math.random().toString(36).substring(2,10)}function q1(t,e){return{usr:t.state,key:t.key,idx:e}}function c0(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?_c(e):e,state:n,key:e&&e.key||s||JD()}}function lh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _c(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function ZD(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,h="POP",d=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function b(){h="POP";let R=g(),O=R==null?null:R-m;m=R,d&&d({action:h,location:I.location,delta:O})}function x(R,O){h="PUSH";let H=c0(I.location,R,O);m=g()+1;let F=q1(H,m),re=I.createHref(H);try{c.pushState(F,"",re)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;a.location.assign(re)}l&&d&&d({action:h,location:I.location,delta:1})}function A(R,O){h="REPLACE";let H=c0(I.location,R,O);m=g();let F=q1(H,m),re=I.createHref(H);c.replaceState(F,"",re),l&&d&&d({action:h,location:I.location,delta:0})}function k(R){return eM(R)}let I={get action(){return h},get location(){return t(a,c)},listen(R){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(F1,b),d=R,()=>{a.removeEventListener(F1,b),d=null}},createHref(R){return e(a,R)},createURL:k,encodeLocation(R){let O=k(R);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:x,replace:A,go(R){return c.go(R)}};return I}function eM(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:lh(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function wA(t,e,n="/"){return tM(t,e,n,!1)}function tM(t,e,n,s){let a=typeof e=="string"?_c(e):e,l=Jr(a.pathname||"/",n);if(l==null)return null;let c=_A(t);nM(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let m=fM(l);h=hM(c[d],m,s)}return h}function _A(t,e=[],n=[],s="",a=!1){let l=(c,h,d=a,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(s)&&d)return;Wt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length)}let b=Yr([s,g.relativePath]),x=n.concat(g);c.children&&c.children.length>0&&(Wt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),_A(c.children,e,x,b,d)),!(c.path==null&&!c.index)&&e.push({path:b,score:cM(b,c.index),routesMeta:x})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let d of TA(c.path))l(c,h,!0,d)}),e}function TA(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=TA(s.join("/")),h=[];return h.push(...c.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function nM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uM(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var sM=/^:[\w-]+$/,iM=3,rM=2,aM=1,oM=10,lM=-2,H1=t=>t==="*";function cM(t,e){let n=t.split("/"),s=n.length;return n.some(H1)&&(s+=lM),e&&(s+=rM),n.filter(a=>!H1(a)).reduce((a,l)=>a+(sM.test(l)?iM:l===""?aM:oM),s)}function uM(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function hM(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let h=0;h<s.length;++h){let d=s[h],m=h===s.length-1,g=l==="/"?e:e.slice(l.length)||"/",b=tm({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),x=d.route;if(!b&&m&&n&&!s[s.length-1].route.index&&(b=tm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Yr([l,b.pathname]),pathnameBase:yM(Yr([l,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(l=Yr([l,b.pathnameBase]))}return c}function tm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=dM(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((m,{paramName:g,isOptional:b},x)=>{if(g==="*"){let k=h[x]||"";c=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const A=h[x];return b&&!A?m[g]=void 0:m[g]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function dM(t,e=!1,n=!0){vi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function fM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Jr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var EA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mM=t=>EA.test(t);function pM(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?_c(t):t,l;if(n)if(mM(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),vi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=G1(n.substring(1),"/"):l=G1(n,e)}else l=e;return{pathname:l,search:vM(s),hash:bM(a)}}function G1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function _y(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fv(t){let e=gM(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function mv(t,e,n,s=!1){let a;typeof t=="string"?a=_c(t):(a={...t},Wt(!a.pathname||!a.pathname.includes("?"),_y("?","pathname","search",a)),Wt(!a.pathname||!a.pathname.includes("#"),_y("#","pathname","hash",a)),Wt(!a.search||!a.search.includes("#"),_y("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let b=e.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),b-=1;a.pathname=x.join("/")}h=b>=0?e[b]:"/"}let d=pM(a,h),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var Yr=t=>t.join("/").replace(/\/\/+/g,"/"),yM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,xM=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function wM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function _M(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var SA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function AA(t,e){let n=t;if(typeof n!="string"||!EA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(SA)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Jr(c.pathname,e);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{vi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CA=["POST","PUT","PATCH","DELETE"];new Set(CA);var TM=["GET",...CA];new Set(TM);var Tc=S.createContext(null);Tc.displayName="DataRouter";var Fm=S.createContext(null);Fm.displayName="DataRouterState";var EM=S.createContext(!1),RA=S.createContext({isTransitioning:!1});RA.displayName="ViewTransition";var SM=S.createContext(new Map);SM.displayName="Fetchers";var AM=S.createContext(null);AM.displayName="Await";var Ws=S.createContext(null);Ws.displayName="Navigation";var Rh=S.createContext(null);Rh.displayName="Location";var Bi=S.createContext({outlet:null,matches:[],isDataRoute:!1});Bi.displayName="Route";var pv=S.createContext(null);pv.displayName="RouteError";var NA="REACT_ROUTER_ERROR",CM="REDIRECT",RM="ROUTE_ERROR_RESPONSE";function NM(t){if(t.startsWith(`${NA}:${CM}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function IM(t){if(t.startsWith(`${NA}:${RM}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new xM(e.status,e.statusText,e.data)}catch{}}function kM(t,{relative:e}={}){Wt(Ec(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=S.useContext(Ws),{hash:a,pathname:l,search:c}=Nh(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Yr([n,l])),s.createHref({pathname:h,search:c,hash:a})}function Ec(){return S.useContext(Rh)!=null}function ia(){return Wt(Ec(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Rh).location}var IA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kA(t){S.useContext(Ws).static||S.useLayoutEffect(t)}function qm(){let{isDataRoute:t}=S.useContext(Bi);return t?GM():DM()}function DM(){Wt(Ec(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Tc),{basename:e,navigator:n}=S.useContext(Ws),{matches:s}=S.useContext(Bi),{pathname:a}=ia(),l=JSON.stringify(fv(s)),c=S.useRef(!1);return kA(()=>{c.current=!0}),S.useCallback((d,m={})=>{if(vi(c.current,IA),!c.current)return;if(typeof d=="number"){n.go(d);return}let g=mv(d,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Yr([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,a,t])}S.createContext(null);function MM(){let{matches:t}=S.useContext(Bi),e=t[t.length-1];return e?e.params:{}}function Nh(t,{relative:e}={}){let{matches:n}=S.useContext(Bi),{pathname:s}=ia(),a=JSON.stringify(fv(n));return S.useMemo(()=>mv(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function PM(t,e){return DA(t,e)}function DA(t,e,n,s,a){Wt(Ec(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext(Ws),{matches:c}=S.useContext(Bi),h=c[c.length-1],d=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",b=h&&h.route;{let H=b&&b.path||"";PA(m,!b||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let x=ia(),A;if(e){let H=typeof e=="string"?_c(e):e;Wt(g==="/"||H.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${H.pathname}" was given in the \`location\` prop.`),A=H}else A=x;let k=A.pathname||"/",I=k;if(g!=="/"){let H=g.replace(/^\//,"").split("/");I="/"+k.replace(/^\//,"").split("/").slice(H.length).join("/")}let R=wA(t,{pathname:I});vi(b||R!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),vi(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=UM(R&&R.map(H=>Object.assign({},H,{params:Object.assign({},d,H.params),pathname:Yr([g,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?g:Yr([g,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,n,s,a);return e&&O?S.createElement(Rh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},O):O}function jM(){let t=HM(),e=wM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:a},n):null,c)}var OM=S.createElement(jM,null),MA=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=IM(t.digest);n&&(t=n)}let e=t!==void 0?S.createElement(Bi.Provider,{value:this.props.routeContext},S.createElement(pv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?S.createElement(VM,{error:t},e):e}};MA.contextType=EM;var Ty=new WeakMap;function VM({children:t,error:e}){let{basename:n}=S.useContext(Ws);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=NM(e.digest);if(s){let a=Ty.get(e);if(a)throw a;let l=AA(s.location,n);if(SA&&!Ty.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Ty.set(e,c),c}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function LM({routeContext:t,match:e,children:n}){let s=S.useContext(Tc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Bi.Provider,{value:t},n)}function UM(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let g=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);Wt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,d=-1;if(n)for(let g=0;g<l.length;g++){let b=l[g];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(d=g),b.route.id){let{loaderData:x,errors:A}=n,k=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!A||A[b.route.id]===void 0);if(b.route.lazy||k){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let m=n&&s?(g,b)=>{s(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:_M(n.matches),errorInfo:b})}:void 0;return l.reduceRight((g,b,x)=>{let A,k=!1,I=null,R=null;n&&(A=c&&b.route.id?c[b.route.id]:void 0,I=b.route.errorElement||OM,h&&(d<0&&x===0?(PA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,R=null):d===x&&(k=!0,R=b.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,x+1)),H=()=>{let F;return A?F=I:k?F=R:b.route.Component?F=S.createElement(b.route.Component,null):b.route.element?F=b.route.element:F=g,S.createElement(LM,{match:b,routeContext:{outlet:g,matches:O,isDataRoute:n!=null},children:F})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?S.createElement(MA,{location:n.location,revalidation:n.revalidation,component:I,error:A,children:H(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:m}):H()},null)}function gv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zM(t){let e=S.useContext(Tc);return Wt(e,gv(t)),e}function BM(t){let e=S.useContext(Fm);return Wt(e,gv(t)),e}function FM(t){let e=S.useContext(Bi);return Wt(e,gv(t)),e}function yv(t){let e=FM(t),n=e.matches[e.matches.length-1];return Wt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function qM(){return yv("useRouteId")}function HM(){let t=S.useContext(pv),e=BM("useRouteError"),n=yv("useRouteError");return t!==void 0?t:e.errors?.[n]}function GM(){let{router:t}=zM("useNavigate"),e=yv("useNavigate"),n=S.useRef(!1);return kA(()=>{n.current=!0}),S.useCallback(async(a,l={})=>{vi(n.current,IA),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var $1={};function PA(t,e,n){!e&&!$1[t]&&($1[t]=!0,vi(!1,n))}S.memo($M);function $M({routes:t,future:e,state:n,onError:s}){return DA(t,void 0,n,s,e)}function Vo({to:t,replace:e,state:n,relative:s}){Wt(Ec(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=S.useContext(Ws);vi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(Bi),{pathname:c}=ia(),h=qm(),d=mv(t,fv(l),c,s==="path"),m=JSON.stringify(d);return S.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:s})},[h,m,s,e,n]),null}function Br(t){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KM({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Wt(!Ec(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=_c(n));let{pathname:m="/",search:g="",hash:b="",state:x=null,key:A="default"}=n,k=S.useMemo(()=>{let I=Jr(m,h);return I==null?null:{location:{pathname:I,search:g,hash:b,state:x,key:A},navigationType:s}},[h,m,g,b,x,A,s]);return vi(k!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:S.createElement(Ws.Provider,{value:d},S.createElement(Rh.Provider,{children:e,value:k}))}function YM({children:t,location:e}){return PM(u0(t),e)}function u0(t,e=[]){let n=[];return S.Children.forEach(t,(s,a)=>{if(!S.isValidElement(s))return;let l=[...e,a];if(s.type===S.Fragment){n.push.apply(n,u0(s.props.children,l));return}Wt(s.type===Br,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=u0(s.props.children,l)),n.push(c)}),n}var Lf="get",Uf="application/x-www-form-urlencoded";function Hm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function WM(t){return Hm(t)&&t.tagName.toLowerCase()==="button"}function XM(t){return Hm(t)&&t.tagName.toLowerCase()==="form"}function QM(t){return Hm(t)&&t.tagName.toLowerCase()==="input"}function JM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZM(t,e){return t.button===0&&(!e||e==="_self")&&!JM(t)}var bf=null;function eP(){if(bf===null)try{new FormData(document.createElement("form"),0),bf=!1}catch{bf=!0}return bf}var tP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ey(t){return t!=null&&!tP.has(t)?(vi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uf}"`),null):t}function nP(t,e){let n,s,a,l,c;if(XM(t)){let h=t.getAttribute("action");s=h?Jr(h,e):null,n=t.getAttribute("method")||Lf,a=Ey(t.getAttribute("enctype"))||Uf,l=new FormData(t)}else if(WM(t)||QM(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(s=d?Jr(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Lf,a=Ey(t.getAttribute("formenctype"))||Ey(h.getAttribute("enctype"))||Uf,l=new FormData(h,t),!eP()){let{name:m,type:g,value:b}=t;if(g==="image"){let x=m?`${m}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else m&&l.append(m,b)}}else{if(Hm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lf,s=null,a=Uf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sP(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&Jr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function iP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function aP(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await iP(l,n);return c.links?c.links():[]}return[]}));return uP(s.flat(1).filter(rP).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function K1(t,e,n,s,a,l){let c=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,m)=>c(d,m)||h(d,m)):l==="data"?e.filter((d,m)=>{let g=s.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function oP(t,e,{includeHydrateFallback:n}={}){return lP(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function lP(t){return[...new Set(t)]}function cP(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function uP(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(cP(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function jA(){let t=S.useContext(Tc);return vv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hP(){let t=S.useContext(Fm);return vv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var bv=S.createContext(void 0);bv.displayName="FrameworkContext";function OA(){let t=S.useContext(bv);return vv(t,"You must render this element inside a <HydratedRouter> element"),t}function dP(t,e){let n=S.useContext(bv),[s,a]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:b}=e,x=S.useRef(null);S.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let I=O=>{O.forEach(H=>{c(H.isIntersecting)})},R=new IntersectionObserver(I,{threshold:.5});return x.current&&R.observe(x.current),()=>{R.disconnect()}}},[t]),S.useEffect(()=>{if(s){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[s]);let A=()=>{a(!0)},k=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:ku(h,A),onBlur:ku(d,k),onMouseEnter:ku(m,A),onMouseLeave:ku(g,k),onTouchStart:ku(b,A)}]:[!1,x,{}]}function ku(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function fP({page:t,...e}){let{router:n}=jA(),s=S.useMemo(()=>wA(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?S.createElement(pP,{page:t,matches:s,...e}):null}function mP(t){let{manifest:e,routeModules:n}=OA(),[s,a]=S.useState([]);return S.useEffect(()=>{let l=!1;return aP(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function pP({page:t,matches:e,...n}){let s=ia(),{future:a,manifest:l,routeModules:c}=OA(),{basename:h}=jA(),{loaderData:d,matches:m}=hP(),g=S.useMemo(()=>K1(t,e,m,l,s,"data"),[t,e,m,l,s]),b=S.useMemo(()=>K1(t,e,m,l,s,"assets"),[t,e,m,l,s]),x=S.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let I=new Set,R=!1;if(e.forEach(H=>{let F=l.routes[H.route.id];!F||!F.hasLoader||(!g.some(re=>re.route.id===H.route.id)&&H.route.id in d&&c[H.route.id]?.shouldRevalidate||F.hasClientLoader?R=!0:I.add(H.route.id))}),I.size===0)return[];let O=sP(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return R&&I.size>0&&O.searchParams.set("_routes",e.filter(H=>I.has(H.route.id)).map(H=>H.route.id).join(",")),[O.pathname+O.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,s,l,g,e,t,c]),A=S.useMemo(()=>oP(b,l),[b,l]),k=mP(b);return S.createElement(S.Fragment,null,x.map(I=>S.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),A.map(I=>S.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),k.map(({key:I,link:R})=>S.createElement("link",{key:I,nonce:n.nonce,...R})))}function gP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var yP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yP&&(window.__reactRouterVersion="7.12.0")}catch{}function vP({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=S.useRef();a.current==null&&(a.current=QD({window:s,v5Compat:!0}));let l=a.current,[c,h]=S.useState({action:l.action,location:l.location}),d=S.useCallback(m=>{n===!1?h(m):S.startTransition(()=>h(m))},[n]);return S.useLayoutEffect(()=>l.listen(d),[l,d]),S.createElement(KM,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var VA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xv=S.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:h,target:d,to:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:x,...A},k){let{basename:I,unstable_useTransitions:R}=S.useContext(Ws),O=typeof m=="string"&&VA.test(m),H=AA(m,I);m=H.to;let F=kM(m,{relative:a}),[re,te,ce]=dP(s,A),D=wP(m,{replace:c,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:R});function C(B){e&&e(B),B.defaultPrevented||D(B)}let j=S.createElement("a",{...A,...ce,href:H.absoluteURL||F,onClick:H.isExternal||l?e:C,ref:gP(k,te),target:d,"data-discover":!O&&n==="render"?"true":void 0});return re&&!O?S.createElement(S.Fragment,null,j,S.createElement(fP,{page:F})):j});xv.displayName="Link";var LA=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:h,children:d,...m},g){let b=Nh(c,{relative:m.relative}),x=ia(),A=S.useContext(Fm),{navigator:k,basename:I}=S.useContext(Ws),R=A!=null&&AP(b)&&h===!0,O=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,H=x.pathname,F=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(H=H.toLowerCase(),F=F?F.toLowerCase():null,O=O.toLowerCase()),F&&I&&(F=Jr(F,I)||F);const re=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let te=H===O||!a&&H.startsWith(O)&&H.charAt(re)==="/",ce=F!=null&&(F===O||!a&&F.startsWith(O)&&F.charAt(O.length)==="/"),D={isActive:te,isPending:ce,isTransitioning:R},C=te?e:void 0,j;typeof s=="function"?j=s(D):j=[s,te?"active":null,ce?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let B=typeof l=="function"?l(D):l;return S.createElement(xv,{...m,"aria-current":C,className:j,ref:g,style:B,to:c,viewTransition:h},typeof d=="function"?d(D):d)});LA.displayName="NavLink";var bP=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Lf,action:h,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:x,...A},k)=>{let{unstable_useTransitions:I}=S.useContext(Ws),R=EP(),O=SP(h,{relative:m}),H=c.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&VA.test(h),re=te=>{if(d&&d(te),te.defaultPrevented)return;te.preventDefault();let ce=te.nativeEvent.submitter,D=ce?.getAttribute("formmethod")||c,C=()=>R(ce||te.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:a,state:l,relative:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:x});I&&n!==!1?S.startTransition(()=>C()):C()};return S.createElement("form",{ref:k,method:H,action:O,onSubmit:s?d:re,...A,"data-discover":!F&&t==="render"?"true":void 0})});bP.displayName="Form";function xP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UA(t){let e=S.useContext(Tc);return Wt(e,xP(t)),e}function wP(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let m=qm(),g=ia(),b=Nh(t,{relative:l});return S.useCallback(x=>{if(ZM(x,e)){x.preventDefault();let A=n!==void 0?n:lh(g)===lh(b),k=()=>m(t,{replace:A,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});d?S.startTransition(()=>k()):k()}},[g,m,b,n,s,e,t,a,l,c,h,d])}var _P=0,TP=()=>`__${String(++_P)}__`;function EP(){let{router:t}=UA("useSubmit"),{basename:e}=S.useContext(Ws),n=qM(),s=t.fetch,a=t.navigate;return S.useCallback(async(l,c={})=>{let{action:h,method:d,encType:m,formData:g,body:b}=nP(l,e);if(c.navigate===!1){let x=c.fetcherKey||TP();await s(x,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:b,formMethod:c.method||d,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:b,formMethod:c.method||d,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function SP(t,{relative:e}={}){let{basename:n}=S.useContext(Ws),s=S.useContext(Bi);Wt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Nh(t||".",{relative:e})},c=ia();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(b=>b).forEach(b=>h.append("index",b));let g=h.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Yr([n,l.pathname])),lh(l)}function AP(t,{relative:e}={}){let n=S.useContext(RA);Wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=UA("useViewTransitionState"),a=Nh(t,{relative:e});if(!n.isTransitioning)return!1;let l=Jr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Jr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return tm(a.pathname,c)!=null||tm(a.pathname,l)!=null}var Lu=xA();const CP=()=>y.jsx("div",{className:"noise-overlay"}),RP="modulepreload",NP=function(t){return"/"+t},Y1={},Kl=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let d=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");a=d(n.map(m=>{if(m=NP(m),m in Y1)return;Y1[m]=!0;const g=m.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${b}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":RP,g||(x.as="script"),x.crossOrigin="",x.href=m,h&&x.setAttribute("nonce",h),document.head.appendChild(x),g)return new Promise((A,k)=>{x.addEventListener("load",A),x.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},IP=()=>{};var W1={};const zA=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},kP=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},BA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,g=l>>2,b=(l&3)<<4|h>>4;let x=(h&15)<<2|m>>6,A=m&63;d||(A=64,c||(x=64)),s.push(n[g],n[b],n[x],n[A])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||m==null||b==null)throw new DP;const x=l<<2|h>>4;if(s.push(x),m!==64){const A=h<<4&240|m>>2;if(s.push(A),b!==64){const k=m<<6&192|b;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MP=function(t){const e=zA(t);return BA.encodeByteArray(e,!0)},nm=function(t){return MP(t).replace(/\./g,"")},FA=function(t){try{return BA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function PP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jP=()=>PP().__FIREBASE_DEFAULTS__,OP=()=>{if(typeof process>"u"||typeof W1>"u")return;const t=W1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FA(t[1]);return e&&JSON.parse(e)},Gm=()=>{try{return IP()||jP()||OP()||VP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qA=t=>Gm()?.emulatorHosts?.[t],HA=t=>{const e=qA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},GA=()=>Gm()?.config,$A=t=>Gm()?.[`_${t}`];class LP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function sl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wv(t){return(await fetch(t,{credentials:"include"})).ok}function KA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[nm(JSON.stringify(n)),nm(JSON.stringify(c)),""].join(".")}const Hu={};function UP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Hu))Hu[e]?t.emulator.push(e):t.prod.push(e);return t}function zP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let X1=!1;function _v(t,e){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||Hu[t]===e||Hu[t]||X1)return;Hu[t]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",l=UP().prod.length>0;function c(){const x=document.getElementById(s);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,A){x.setAttribute("width","24"),x.setAttribute("id",A),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{X1=!0,c()},x}function g(x,A){x.setAttribute("id",A),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=zP(s),A=n("text"),k=document.getElementById(A)||document.createElement("span"),I=n("learnmore"),R=document.getElementById(I)||document.createElement("a"),O=n("preprendIcon"),H=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const F=x.element;h(F),g(R,I);const re=m();d(H,O),F.append(H,k,R,re),document.body.appendChild(F)}l?(k.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function fs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fs())}function FP(){const t=Gm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $P(){const t=fs();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KP(){return!FP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YP(){try{return typeof indexedDB=="object"}catch{return!1}}function WP(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const XP="FirebaseError";class dr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=XP,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ih.prototype.create)}}class Ih{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?QP(l,s):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new dr(a,h,s)}}function QP(t,e){return t.replace(JP,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const JP=/\{\$([^}]+)}/g;function ZP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(Q1(l)&&Q1(c)){if(!Jo(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Q1(t){return t!==null&&typeof t=="object"}function kh(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function e4(t,e){const n=new t4(t,e);return n.subscribe.bind(n)}class t4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");n4(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Sy),a.error===void 0&&(a.error=Sy),a.complete===void 0&&(a.complete=Sy);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sy(){}function nn(t){return t&&t._delegate?t._delegate:t}class Xa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bo="[DEFAULT]";class s4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new LP;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r4(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:i4(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i4(t){return t===Bo?void 0:t}function r4(t){return t.instantiationMode==="EAGER"}class a4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new s4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const o4={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},l4=it.INFO,c4={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},u4=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=c4[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tv{constructor(e){this.name=e,this._logLevel=l4,this._logHandler=u4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?o4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const h4=(t,e)=>e.some(n=>t instanceof n);let J1,Z1;function d4(){return J1||(J1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f4(){return Z1||(Z1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YA=new WeakMap,h0=new WeakMap,WA=new WeakMap,Ay=new WeakMap,Ev=new WeakMap;function m4(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(qa(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&YA.set(n,t)}).catch(()=>{}),Ev.set(e,t),e}function p4(t){if(h0.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});h0.set(t,e)}let d0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return h0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function g4(t){d0=t(d0)}function y4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Cy(this),e,...n);return WA.set(s,e.sort?e.sort():[e]),qa(s)}:f4().includes(t)?function(...e){return t.apply(Cy(this),e),qa(YA.get(this))}:function(...e){return qa(t.apply(Cy(this),e))}}function v4(t){return typeof t=="function"?y4(t):(t instanceof IDBTransaction&&p4(t),h4(t,d4())?new Proxy(t,d0):t)}function qa(t){if(t instanceof IDBRequest)return m4(t);if(Ay.has(t))return Ay.get(t);const e=v4(t);return e!==t&&(Ay.set(t,e),Ev.set(e,t)),e}const Cy=t=>Ev.get(t);function b4(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=qa(c);return s&&c.addEventListener("upgradeneeded",d=>{s(qa(c.result),d.oldVersion,d.newVersion,qa(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const x4=["get","getKey","getAll","getAllKeys","count"],w4=["put","add","delete","clear"],Ry=new Map;function eT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ry.get(e))return Ry.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=w4.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||x4.includes(n)))return;const l=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let m=d.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return Ry.set(e,l),l}g4(t=>({...t,get:(e,n,s)=>eT(e,n)||t.get(e,n,s),has:(e,n)=>!!eT(e,n)||t.has(e,n)}));class _4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(T4(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function T4(t){return t.getComponent()?.type==="VERSION"}const f0="@firebase/app",tT="0.14.7";const Zr=new Tv("@firebase/app"),E4="@firebase/app-compat",S4="@firebase/analytics-compat",A4="@firebase/analytics",C4="@firebase/app-check-compat",R4="@firebase/app-check",N4="@firebase/auth",I4="@firebase/auth-compat",k4="@firebase/database",D4="@firebase/data-connect",M4="@firebase/database-compat",P4="@firebase/functions",j4="@firebase/functions-compat",O4="@firebase/installations",V4="@firebase/installations-compat",L4="@firebase/messaging",U4="@firebase/messaging-compat",z4="@firebase/performance",B4="@firebase/performance-compat",F4="@firebase/remote-config",q4="@firebase/remote-config-compat",H4="@firebase/storage",G4="@firebase/storage-compat",$4="@firebase/firestore",K4="@firebase/ai",Y4="@firebase/firestore-compat",W4="firebase",X4="12.8.0";const m0="[DEFAULT]",Q4={[f0]:"fire-core",[E4]:"fire-core-compat",[A4]:"fire-analytics",[S4]:"fire-analytics-compat",[R4]:"fire-app-check",[C4]:"fire-app-check-compat",[N4]:"fire-auth",[I4]:"fire-auth-compat",[k4]:"fire-rtdb",[D4]:"fire-data-connect",[M4]:"fire-rtdb-compat",[P4]:"fire-fn",[j4]:"fire-fn-compat",[O4]:"fire-iid",[V4]:"fire-iid-compat",[L4]:"fire-fcm",[U4]:"fire-fcm-compat",[z4]:"fire-perf",[B4]:"fire-perf-compat",[F4]:"fire-rc",[q4]:"fire-rc-compat",[H4]:"fire-gcs",[G4]:"fire-gcs-compat",[$4]:"fire-fst",[Y4]:"fire-fst-compat",[K4]:"fire-vertex","fire-js":"fire-js",[W4]:"fire-js-all"};const sm=new Map,J4=new Map,p0=new Map;function nT(t,e){try{t.container.addComponent(e)}catch(n){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zo(t){const e=t.name;if(p0.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;p0.set(e,t);for(const n of sm.values())nT(n,t);for(const n of J4.values())nT(n,t);return!0}function $m(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function di(t){return t==null?!1:t.settings!==void 0}const Z4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ha=new Ih("app","Firebase",Z4);class ej{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ha.create("app-deleted",{appName:this._name})}}const il=X4;function XA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:m0,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Ha.create("bad-app-name",{appName:String(a)});if(n||(n=GA()),!n)throw Ha.create("no-options");const l=sm.get(a);if(l){if(Jo(n,l.options)&&Jo(s,l.config))return l;throw Ha.create("duplicate-app",{appName:a})}const c=new a4(a);for(const d of p0.values())c.addComponent(d);const h=new ej(n,s,c);return sm.set(a,h),h}function Sv(t=m0){const e=sm.get(t);if(!e&&t===m0&&GA())return XA();if(!e)throw Ha.create("no-app",{appName:t});return e}function nr(t,e,n){let s=Q4[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(c.join(" "));return}Zo(new Xa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const tj="firebase-heartbeat-database",nj=1,ch="firebase-heartbeat-store";let Ny=null;function QA(){return Ny||(Ny=b4(tj,nj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ch)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ha.create("idb-open",{originalErrorMessage:t.message})})),Ny}async function sj(t){try{const n=(await QA()).transaction(ch),s=await n.objectStore(ch).get(JA(t));return await n.done,s}catch(e){if(e instanceof dr)Zr.warn(e.message);else{const n=Ha.create("idb-get",{originalErrorMessage:e?.message});Zr.warn(n.message)}}}async function sT(t,e){try{const s=(await QA()).transaction(ch,"readwrite");await s.objectStore(ch).put(e,JA(t)),await s.done}catch(n){if(n instanceof dr)Zr.warn(n.message);else{const s=Ha.create("idb-set",{originalErrorMessage:n?.message});Zr.warn(s.message)}}}function JA(t){return`${t.name}!${t.options.appId}`}const ij=1024,rj=30;class aj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lj(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=iT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>rj){const a=cj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=iT(),{heartbeatsToSend:n,unsentEntries:s}=oj(this._heartbeatsCache.heartbeats),a=nm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Zr.warn(e),""}}}function iT(){return new Date().toISOString().substring(0,10)}function oj(t,e=ij){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),rT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),rT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class lj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YP()?WP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return sT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return sT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function rT(t){return nm(JSON.stringify({version:2,heartbeats:t})).length}function cj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function uj(t){Zo(new Xa("platform-logger",e=>new _4(e),"PRIVATE")),Zo(new Xa("heartbeat",e=>new aj(e),"PRIVATE")),nr(f0,tT,t),nr(f0,tT,"esm2020"),nr("fire-js","")}uj("");var hj="firebase",dj="12.8.0";nr(hj,dj,"app");function ZA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eC=ZA,tC=new Ih("auth","Firebase",ZA());const im=new Tv("@firebase/auth");function fj(t,...e){im.logLevel<=it.WARN&&im.warn(`Auth (${il}): ${t}`,...e)}function zf(t,...e){im.logLevel<=it.ERROR&&im.error(`Auth (${il}): ${t}`,...e)}function lr(t,...e){throw Cv(t,...e)}function ji(t,...e){return Cv(t,...e)}function Av(t,e,n){const s={...eC(),[e]:n};return new Ih("auth","Firebase",s).create(e,{appName:t.name})}function Ko(t){return Av(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mj(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&lr(t,"argument-error"),Av(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cv(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return tC.create(t,...e)}function Le(t,e,...n){if(!t)throw Cv(e,...n)}function $r(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zf(e),new Error(e)}function ea(t,e){t||$r(e)}function g0(){return typeof self<"u"&&self.location?.href||""}function pj(){return aT()==="http:"||aT()==="https:"}function aT(){return typeof self<"u"&&self.location?.protocol||null}function gj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pj()||HP()||"connection"in navigator)?navigator.onLine:!0}function yj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Dh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ea(n>e,"Short delay should be less than long delay!"),this.isMobile=BP()||GP()}get(){return gj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rv(t,e){ea(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class nC{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xj=new Dh(3e4,6e4);function Nv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function rl(t,e,n,s,a={}){return sC(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const h=kh({key:t.config.apiKey,...c}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:d,...l};return qP()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&sl(t.emulatorConfig.host)&&(m.credentials="include"),nC.fetch()(await iC(t,t.config.apiHost,n,h),m)})}async function sC(t,e,n){t._canInitEmulator=!1;const s={...vj,...e};try{const a=new _j(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw xf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw xf(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw xf(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw xf(t,"user-disabled",c);const g=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Av(t,g,m);lr(t,g)}}catch(a){if(a instanceof dr)throw a;lr(t,"network-request-failed",{message:String(a)})}}async function wj(t,e,n,s,a={}){const l=await rl(t,e,n,s,a);return"mfaPendingCredential"in l&&lr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function iC(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?Rv(t.config,a):`${t.config.apiScheme}://${a}`;return bj.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class _j{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ji(this.auth,"network-request-failed")),xj.get())})}}function xf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=ji(t,e,s);return a.customData._tokenResponse=n,a}async function Tj(t,e){return rl(t,"POST","/v1/accounts:delete",e)}async function rm(t,e){return rl(t,"POST","/v1/accounts:lookup",e)}function Gu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rC(t,e=!1){const n=nn(t),s=await n.getIdToken(e),a=Iv(s);Le(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Gu(Iy(a.auth_time)),issuedAtTime:Gu(Iy(a.iat)),expirationTime:Gu(Iy(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Iy(t){return Number(t)*1e3}function Iv(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return zf("JWT malformed, contained fewer than 3 sections"),null;try{const a=FA(n);return a?JSON.parse(a):(zf("Failed to decode base64 JWT payload"),null)}catch(a){return zf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function oT(t){const e=Iv(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function dc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof dr&&Ej(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Ej({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Sj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class y0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gu(this.lastLoginAt),this.creationTime=Gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function am(t){const e=t.auth,n=await t.getIdToken(),s=await dc(t,rm(e,{idToken:n}));Le(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?oC(a.providerUserInfo):[],c=Aj(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!c?.length,m=h?d:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new y0(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function aC(t){const e=nn(t);await am(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Aj(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function oC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Cj(t,e){const n=await sC(t,{},async()=>{const s=kh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await iC(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:s};return t.emulatorConfig&&sl(t.emulatorConfig.host)&&(d.credentials="include"),nC.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Rj(t,e){return rl(t,"POST","/v2/accounts:revokeToken",Nv(t,e))}class sc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=oT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await Cj(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new sc;return s&&(Le(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Le(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Le(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sc,this.toJSON())}_performRefresh(){return $r("not implemented")}}function Va(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new Sj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new y0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await dc(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rC(this,e)}reload(){return aC(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await am(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(Ko(this.auth));const e=await this.getIdToken();return await dc(this,Tj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,m=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:A,providerData:k,stsTokenManager:I}=n;Le(b&&I,e,"internal-error");const R=sc.fromJSON(this.name,I);Le(typeof b=="string",e,"internal-error"),Va(s,e.name),Va(a,e.name),Le(typeof x=="boolean",e,"internal-error"),Le(typeof A=="boolean",e,"internal-error"),Va(l,e.name),Va(c,e.name),Va(h,e.name),Va(d,e.name),Va(m,e.name),Va(g,e.name);const O=new Mi({uid:b,auth:e,email:a,emailVerified:x,displayName:s,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:R,createdAt:m,lastLoginAt:g});return k&&Array.isArray(k)&&(O.providerData=k.map(H=>({...H}))),d&&(O._redirectEventId=d),O}static async _fromIdTokenResponse(e,n,s=!1){const a=new sc;a.updateFromServerResponse(n);const l=new Mi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await am(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Le(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?oC(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new sc;h.updateFromIdToken(s);const d=new Mi({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new y0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,m),d}}const lT=new Map;function Kr(t){ea(t instanceof Function,"Expected a class definition");let e=lT.get(t);return e?(ea(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lT.set(t,e),e)}class lC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lC.type="NONE";const v0=lC;function Bf(t,e,n){return`firebase:${t}:${e}:${n}`}class ic{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Bf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Bf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rm(this.auth,{idToken:e}).catch(()=>{});return n?Mi._fromGetAccountInfoResponse(this.auth,n,e):null}return Mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ic(Kr(v0),e,s);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Kr(v0);const c=Bf(s,e.config.apiKey,e.name);let h=null;for(const m of n)try{const g=await m._get(c);if(g){let b;if(typeof g=="string"){const x=await rm(e,{idToken:g}).catch(()=>{});if(!x)break;b=await Mi._fromGetAccountInfoResponse(e,x,g)}else b=Mi._fromJSON(e,g);m!==l&&(h=b),l=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new ic(l,e,s):(l=d[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new ic(l,e,s))}}function cT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mC(e))return"Blackberry";if(pC(e))return"Webos";if(uC(e))return"Safari";if((e.includes("chrome/")||hC(e))&&!e.includes("edge/"))return"Chrome";if(fC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function cC(t=fs()){return/firefox\//i.test(t)}function uC(t=fs()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hC(t=fs()){return/crios\//i.test(t)}function dC(t=fs()){return/iemobile/i.test(t)}function fC(t=fs()){return/android/i.test(t)}function mC(t=fs()){return/blackberry/i.test(t)}function pC(t=fs()){return/webos/i.test(t)}function kv(t=fs()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Nj(t=fs()){return kv(t)&&!!window.navigator?.standalone}function Ij(){return $P()&&document.documentMode===10}function gC(t=fs()){return kv(t)||fC(t)||pC(t)||mC(t)||/windows phone/i.test(t)||dC(t)}function yC(t,e=[]){let n;switch(t){case"Browser":n=cT(fs());break;case"Worker":n=`${cT(fs())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${il}/${s}`}class kj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,h)=>{try{const d=e(l);c(d)}catch(d){h(d)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Dj(t,e={}){return rl(t,"GET","/v2/passwordPolicy",Nv(t,e))}const Mj=6;class Pj{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Mj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class jj{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uT(this),this.idTokenSubscription=new uT(this),this.beforeStateQueue=new kj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ic.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rm(this,{idToken:e}),s=await Mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(di(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await am(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(di(this.app))return Promise.reject(Ko(this));const n=e?nn(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(Ko(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return di(this.app)?Promise.reject(Ko(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Dj(this),n=new Pj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ih("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Rj(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kr(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await ic.create(this,[Kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Mh(t){return nn(t)}class uT{constructor(e){this.auth=e,this.observer=null,this.addObserver=e4(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Oj(t){Dv=t}function Vj(t){return Dv.loadJS(t)}function Lj(){return Dv.gapiScript}function Uj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function vC(t,e){const n=$m(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Jo(l,e??{}))return a;lr(a,"already-initialized")}return n.initialize({options:e})}function zj(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Kr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function bC(t,e,n){const s=Mh(t);Le(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=xC(e),{host:c,port:h}=Bj(e),d=h===null?"":`:${h}`,m={url:`${l}//${c}${d}/`},g=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Le(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Le(Jo(m,s.config.emulator)&&Jo(g,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=g,s.settings.appVerificationDisabledForTesting=!0,sl(c)?(wv(`${l}//${c}${d}`),_v("Auth",!0)):Fj()}function xC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Bj(t){const e=xC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:hT(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:hT(c)}}}function hT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Fj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Mv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}async function rc(t,e){return wj(t,"POST","/v1/accounts:signInWithIdp",Nv(t,e))}const qj="http://localhost";class Qa extends Mv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Qa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return rc(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,rc(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rc(e,n)}buildRequest(){const e={requestUri:qj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kh(n)}return e}}class Pv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ph extends Pv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qr extends Ph{constructor(){super("facebook.com")}static credential(e){return Qa._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";class er extends Ph{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qa._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return er.credential(n,s)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";class Hr extends Ph{constructor(){super("github.com")}static credential(e){return Qa._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";class Gr extends Ph{constructor(){super("twitter.com")}static credential(e,n){return Qa._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Gr.credential(n,s)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";class fc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Mi._fromIdTokenResponse(e,s,a),c=dT(s);return new fc({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=dT(s);return new fc({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function dT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class om extends dr{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,om.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new om(e,n,s,a)}}function wC(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?om._fromErrorAndOperation(t,l,e,s):l})}async function Hj(t,e,n=!1){const s=await dc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fc._forOperation(t,"link",s)}async function Gj(t,e,n=!1){const{auth:s}=t;if(di(s.app))return Promise.reject(Ko(s));const a="reauthenticate";try{const l=await dc(t,wC(s,a,e,t),n);Le(l.idToken,s,"internal-error");const c=Iv(l.idToken);Le(c,s,"internal-error");const{sub:h}=c;return Le(t.uid===h,s,"user-mismatch"),fc._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&lr(s,"user-mismatch"),l}}async function $j(t,e,n=!1){if(di(t.app))return Promise.reject(Ko(t));const s="signIn",a=await wC(t,s,e),l=await fc._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function Kj(t,e){return rl(t,"POST","/v1/accounts:update",e)}async function Yj(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=nn(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await dc(s,Kj(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const h=s.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=s.displayName,h.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function _C(t,e){return nn(t).setPersistence(e)}function TC(t,e,n,s){return nn(t).onIdTokenChanged(e,n,s)}function EC(t,e,n){return nn(t).beforeAuthStateChanged(e,n)}function SC(t,e,n,s){return nn(t).onAuthStateChanged(e,n,s)}function AC(t){return nn(t).signOut()}const lm="__sak";class CC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lm,"1"),this.storage.removeItem(lm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Wj=1e3,Xj=10;class RC extends CC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);Ij()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Xj):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Wj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RC.type="LOCAL";const jv=RC;class NC extends CC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NC.type="SESSION";const Ov=NC;function Qj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Km{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Km(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(c).map(async m=>m(n.origin,l)),d=await Qj(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Km.receivers=[];function Vv(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class Jj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,d)=>{const m=Vv("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(b){const x=b;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(x.data.response);break;default:clearTimeout(g),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function sr(){return window}function Zj(t){sr().location.href=t}function IC(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}async function e5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t5(){return navigator?.serviceWorker?.controller||null}function n5(){return IC()?self:null}const kC="firebaseLocalStorageDb",s5=1,cm="firebaseLocalStorage",DC="fbase_key";class jh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ym(t,e){return t.transaction([cm],e?"readwrite":"readonly").objectStore(cm)}function i5(){const t=indexedDB.deleteDatabase(kC);return new jh(t).toPromise()}function b0(){const t=indexedDB.open(kC,s5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(cm,{keyPath:DC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(cm)?e(s):(s.close(),await i5(),e(await b0()))})})}async function fT(t,e,n){const s=Ym(t,!0).put({[DC]:e,value:n});return new jh(s).toPromise()}async function r5(t,e){const n=Ym(t,!1).get(e),s=await new jh(n).toPromise();return s===void 0?null:s.value}function mT(t,e){const n=Ym(t,!0).delete(e);return new jh(n).toPromise()}const a5=800,o5=3;class MC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await b0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>o5)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Km._getInstance(n5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await e5(),!this.activeServiceWorker)return;this.sender=new Jj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await b0();return await fT(e,lm,"1"),await mT(e,lm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>fT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>r5(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Ym(a,!1).getAll();return new jh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MC.type="LOCAL";const PC=MC;new Dh(3e4,6e4);function jC(t,e){return e?Kr(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Lv extends Mv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function l5(t){return $j(t.auth,new Lv(t),t.bypassAuthState)}function c5(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),Gj(n,new Lv(t),t.bypassAuthState)}async function u5(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),Hj(n,new Lv(t),t.bypassAuthState)}class OC{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l5;case"linkViaPopup":case"linkViaRedirect":return u5;case"reauthViaPopup":case"reauthViaRedirect":return c5;default:lr(this.auth,"internal-error")}}resolve(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const h5=new Dh(2e3,1e4);async function VC(t,e,n){if(di(t.app))return Promise.reject(ji(t,"operation-not-supported-in-this-environment"));const s=Mh(t);mj(t,e,Pv);const a=jC(s,n);return new qo(s,"signInViaPopup",e,a).executeNotNull()}class qo extends OC{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){ea(this.filter.length===1,"Popup operations only handle one event");const e=Vv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h5.get())};e()}}qo.currentPopupAction=null;const d5="pendingRedirect",Ff=new Map;class f5 extends OC{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ff.get(this.auth._key());if(!e){try{const s=await m5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ff.set(this.auth._key(),e)}return this.bypassAuthState||Ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m5(t,e){const n=y5(e),s=g5(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function p5(t,e){Ff.set(t._key(),e)}function g5(t){return Kr(t._redirectPersistence)}function y5(t){return Bf(d5,t.config.apiKey,t.name)}async function LC(t,e){return await Mh(t)._initializationPromise,UC(t,e,!1)}async function UC(t,e,n=!1){if(di(t.app))return Promise.reject(Ko(t));const s=Mh(t),a=jC(s,e),c=await new f5(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const v5=600*1e3;class b5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!zC(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ji(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=v5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pT(e))}saveEventToCache(e){this.cachedEventUids.add(pT(e)),this.lastProcessedEventTime=Date.now()}}function pT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function x5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zC(t);default:return!1}}async function w5(t,e={}){return rl(t,"GET","/v1/projects",e)}const _5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T5=/^https?/;async function E5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await w5(t);for(const n of e)try{if(S5(n))return}catch{}lr(t,"unauthorized-domain")}function S5(t){const e=g0(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!T5.test(n))return!1;if(_5.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const A5=new Dh(3e4,6e4);function gT(){const t=sr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function C5(t){return new Promise((e,n)=>{function s(){gT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gT(),n(ji(t,"network-request-failed"))},timeout:A5.get()})}if(sr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(sr().gapi?.load)s();else{const a=Uj("iframefcb");return sr()[a]=()=>{gapi.load?s():n(ji(t,"network-request-failed"))},Vj(`${Lj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw qf=null,e})}let qf=null;function R5(t){return qf=qf||C5(t),qf}const N5=new Dh(5e3,15e3),I5="__/auth/iframe",k5="emulator/auth/iframe",D5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P5(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Rv(e,k5):`https://${t.config.authDomain}/${I5}`,s={apiKey:e.apiKey,appName:t.name,v:il},a=M5.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${kh(s).slice(1)}`}async function j5(t){const e=await R5(t),n=sr().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:P5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D5,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=ji(t,"network-request-failed"),h=sr().setTimeout(()=>{l(c)},N5.get());function d(){sr().clearTimeout(h),a(s)}s.ping(d).then(d,()=>{l(c)})}))}const O5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V5=500,L5=600,U5="_blank",z5="http://localhost";class yT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function B5(t,e,n,s=V5,a=L5){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const d={...O5,width:s.toString(),height:a.toString(),top:l,left:c},m=fs().toLowerCase();n&&(h=hC(m)?U5:n),cC(m)&&(e=e||z5,d.scrollbars="yes");const g=Object.entries(d).reduce((x,[A,k])=>`${x}${A}=${k},`,"");if(Nj(m)&&h!=="_self")return F5(e||"",h),new yT(null);const b=window.open(e||"",h,g);Le(b,t,"popup-blocked");try{b.focus()}catch{}return new yT(b)}function F5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const q5="__/auth/handler",H5="emulator/auth/handler",G5=encodeURIComponent("fac");async function vT(t,e,n,s,a,l){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:il,eventId:a};if(e instanceof Pv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",ZP(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,b]of Object.entries({}))c[g]=b}if(e instanceof Ph){const g=e.getScopes().filter(b=>b!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),m=d?`#${G5}=${encodeURIComponent(d)}`:"";return`${$5(t)}?${kh(h).slice(1)}${m}`}function $5({config:t}){return t.emulator?Rv(t,H5):`https://${t.authDomain}/${q5}`}const ky="webStorageSupport";class K5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ov,this._completeRedirectFn=UC,this._overrideRedirectResult=p5}async _openPopup(e,n,s,a){ea(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await vT(e,n,s,g0(),a);return B5(e,l,Vv())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await vT(e,n,s,g0(),a);return Zj(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(ea(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await j5(e),s=new b5(e);return n.register("authEvent",a=>(Le(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ky,{type:ky},a=>{const l=a?.[0]?.[ky];l!==void 0&&n(!!l),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gC()||uC()||kv()}}const BC=K5;var bT="@firebase/auth",xT="1.12.0";class Y5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function W5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X5(t){Zo(new Xa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;Le(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yC(t)},m=new jj(s,a,l,d);return zj(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Zo(new Xa("auth-internal",e=>{const n=Mh(e.getProvider("auth").getImmediate());return(s=>new Y5(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(bT,xT,W5(t)),nr(bT,xT,"esm2020")}const Q5=300,J5=$A("authIdTokenMaxAge")||Q5;let wT=null;const Z5=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>J5)return;const a=n?.token;wT!==a&&(wT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function FC(t=Sv()){const e=$m(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vC(t,{popupRedirectResolver:BC,persistence:[PC,jv,Ov]}),s=$A("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=Z5(l.toString());EC(n,c,()=>c(n.currentUser)),TC(n,h=>c(h))}}const a=qA("auth");return a&&bC(n,`http://${a}`),n}function eO(){return document.getElementsByTagName("head")?.[0]??document}Oj({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=ji("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",eO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X5("Browser");const tO=Object.freeze(Object.defineProperty({__proto__:null,AuthCredential:Mv,FacebookAuthProvider:qr,GithubAuthProvider:Hr,GoogleAuthProvider:er,OAuthCredential:Qa,TwitterAuthProvider:Gr,beforeAuthStateChanged:EC,browserLocalPersistence:jv,browserPopupRedirectResolver:BC,browserSessionPersistence:Ov,connectAuthEmulator:bC,getAuth:FC,getIdTokenResult:rC,getRedirectResult:LC,inMemoryPersistence:v0,indexedDBLocalPersistence:PC,initializeAuth:vC,onAuthStateChanged:SC,onIdTokenChanged:TC,prodErrorMap:eC,reload:aC,setPersistence:_C,signInWithPopup:VC,signOut:AC,updateProfile:Yj},Symbol.toStringTag,{value:"Module"}));var _T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ga,qC;(function(){var t;function e(D,C){function j(){}j.prototype=C.prototype,D.F=C.prototype,D.prototype=new j,D.prototype.constructor=D,D.D=function(B,U,V){for(var P=Array(arguments.length-2),be=2;be<arguments.length;be++)P[be-2]=arguments[be];return C.prototype[U].apply(B,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,C,j){j||(j=0);const B=Array(16);if(typeof C=="string")for(var U=0;U<16;++U)B[U]=C.charCodeAt(j++)|C.charCodeAt(j++)<<8|C.charCodeAt(j++)<<16|C.charCodeAt(j++)<<24;else for(U=0;U<16;++U)B[U]=C[j++]|C[j++]<<8|C[j++]<<16|C[j++]<<24;C=D.g[0],j=D.g[1],U=D.g[2];let V=D.g[3],P;P=C+(V^j&(U^V))+B[0]+3614090360&4294967295,C=j+(P<<7&4294967295|P>>>25),P=V+(U^C&(j^U))+B[1]+3905402710&4294967295,V=C+(P<<12&4294967295|P>>>20),P=U+(j^V&(C^j))+B[2]+606105819&4294967295,U=V+(P<<17&4294967295|P>>>15),P=j+(C^U&(V^C))+B[3]+3250441966&4294967295,j=U+(P<<22&4294967295|P>>>10),P=C+(V^j&(U^V))+B[4]+4118548399&4294967295,C=j+(P<<7&4294967295|P>>>25),P=V+(U^C&(j^U))+B[5]+1200080426&4294967295,V=C+(P<<12&4294967295|P>>>20),P=U+(j^V&(C^j))+B[6]+2821735955&4294967295,U=V+(P<<17&4294967295|P>>>15),P=j+(C^U&(V^C))+B[7]+4249261313&4294967295,j=U+(P<<22&4294967295|P>>>10),P=C+(V^j&(U^V))+B[8]+1770035416&4294967295,C=j+(P<<7&4294967295|P>>>25),P=V+(U^C&(j^U))+B[9]+2336552879&4294967295,V=C+(P<<12&4294967295|P>>>20),P=U+(j^V&(C^j))+B[10]+4294925233&4294967295,U=V+(P<<17&4294967295|P>>>15),P=j+(C^U&(V^C))+B[11]+2304563134&4294967295,j=U+(P<<22&4294967295|P>>>10),P=C+(V^j&(U^V))+B[12]+1804603682&4294967295,C=j+(P<<7&4294967295|P>>>25),P=V+(U^C&(j^U))+B[13]+4254626195&4294967295,V=C+(P<<12&4294967295|P>>>20),P=U+(j^V&(C^j))+B[14]+2792965006&4294967295,U=V+(P<<17&4294967295|P>>>15),P=j+(C^U&(V^C))+B[15]+1236535329&4294967295,j=U+(P<<22&4294967295|P>>>10),P=C+(U^V&(j^U))+B[1]+4129170786&4294967295,C=j+(P<<5&4294967295|P>>>27),P=V+(j^U&(C^j))+B[6]+3225465664&4294967295,V=C+(P<<9&4294967295|P>>>23),P=U+(C^j&(V^C))+B[11]+643717713&4294967295,U=V+(P<<14&4294967295|P>>>18),P=j+(V^C&(U^V))+B[0]+3921069994&4294967295,j=U+(P<<20&4294967295|P>>>12),P=C+(U^V&(j^U))+B[5]+3593408605&4294967295,C=j+(P<<5&4294967295|P>>>27),P=V+(j^U&(C^j))+B[10]+38016083&4294967295,V=C+(P<<9&4294967295|P>>>23),P=U+(C^j&(V^C))+B[15]+3634488961&4294967295,U=V+(P<<14&4294967295|P>>>18),P=j+(V^C&(U^V))+B[4]+3889429448&4294967295,j=U+(P<<20&4294967295|P>>>12),P=C+(U^V&(j^U))+B[9]+568446438&4294967295,C=j+(P<<5&4294967295|P>>>27),P=V+(j^U&(C^j))+B[14]+3275163606&4294967295,V=C+(P<<9&4294967295|P>>>23),P=U+(C^j&(V^C))+B[3]+4107603335&4294967295,U=V+(P<<14&4294967295|P>>>18),P=j+(V^C&(U^V))+B[8]+1163531501&4294967295,j=U+(P<<20&4294967295|P>>>12),P=C+(U^V&(j^U))+B[13]+2850285829&4294967295,C=j+(P<<5&4294967295|P>>>27),P=V+(j^U&(C^j))+B[2]+4243563512&4294967295,V=C+(P<<9&4294967295|P>>>23),P=U+(C^j&(V^C))+B[7]+1735328473&4294967295,U=V+(P<<14&4294967295|P>>>18),P=j+(V^C&(U^V))+B[12]+2368359562&4294967295,j=U+(P<<20&4294967295|P>>>12),P=C+(j^U^V)+B[5]+4294588738&4294967295,C=j+(P<<4&4294967295|P>>>28),P=V+(C^j^U)+B[8]+2272392833&4294967295,V=C+(P<<11&4294967295|P>>>21),P=U+(V^C^j)+B[11]+1839030562&4294967295,U=V+(P<<16&4294967295|P>>>16),P=j+(U^V^C)+B[14]+4259657740&4294967295,j=U+(P<<23&4294967295|P>>>9),P=C+(j^U^V)+B[1]+2763975236&4294967295,C=j+(P<<4&4294967295|P>>>28),P=V+(C^j^U)+B[4]+1272893353&4294967295,V=C+(P<<11&4294967295|P>>>21),P=U+(V^C^j)+B[7]+4139469664&4294967295,U=V+(P<<16&4294967295|P>>>16),P=j+(U^V^C)+B[10]+3200236656&4294967295,j=U+(P<<23&4294967295|P>>>9),P=C+(j^U^V)+B[13]+681279174&4294967295,C=j+(P<<4&4294967295|P>>>28),P=V+(C^j^U)+B[0]+3936430074&4294967295,V=C+(P<<11&4294967295|P>>>21),P=U+(V^C^j)+B[3]+3572445317&4294967295,U=V+(P<<16&4294967295|P>>>16),P=j+(U^V^C)+B[6]+76029189&4294967295,j=U+(P<<23&4294967295|P>>>9),P=C+(j^U^V)+B[9]+3654602809&4294967295,C=j+(P<<4&4294967295|P>>>28),P=V+(C^j^U)+B[12]+3873151461&4294967295,V=C+(P<<11&4294967295|P>>>21),P=U+(V^C^j)+B[15]+530742520&4294967295,U=V+(P<<16&4294967295|P>>>16),P=j+(U^V^C)+B[2]+3299628645&4294967295,j=U+(P<<23&4294967295|P>>>9),P=C+(U^(j|~V))+B[0]+4096336452&4294967295,C=j+(P<<6&4294967295|P>>>26),P=V+(j^(C|~U))+B[7]+1126891415&4294967295,V=C+(P<<10&4294967295|P>>>22),P=U+(C^(V|~j))+B[14]+2878612391&4294967295,U=V+(P<<15&4294967295|P>>>17),P=j+(V^(U|~C))+B[5]+4237533241&4294967295,j=U+(P<<21&4294967295|P>>>11),P=C+(U^(j|~V))+B[12]+1700485571&4294967295,C=j+(P<<6&4294967295|P>>>26),P=V+(j^(C|~U))+B[3]+2399980690&4294967295,V=C+(P<<10&4294967295|P>>>22),P=U+(C^(V|~j))+B[10]+4293915773&4294967295,U=V+(P<<15&4294967295|P>>>17),P=j+(V^(U|~C))+B[1]+2240044497&4294967295,j=U+(P<<21&4294967295|P>>>11),P=C+(U^(j|~V))+B[8]+1873313359&4294967295,C=j+(P<<6&4294967295|P>>>26),P=V+(j^(C|~U))+B[15]+4264355552&4294967295,V=C+(P<<10&4294967295|P>>>22),P=U+(C^(V|~j))+B[6]+2734768916&4294967295,U=V+(P<<15&4294967295|P>>>17),P=j+(V^(U|~C))+B[13]+1309151649&4294967295,j=U+(P<<21&4294967295|P>>>11),P=C+(U^(j|~V))+B[4]+4149444226&4294967295,C=j+(P<<6&4294967295|P>>>26),P=V+(j^(C|~U))+B[11]+3174756917&4294967295,V=C+(P<<10&4294967295|P>>>22),P=U+(C^(V|~j))+B[2]+718787259&4294967295,U=V+(P<<15&4294967295|P>>>17),P=j+(V^(U|~C))+B[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(U+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+V&4294967295}s.prototype.v=function(D,C){C===void 0&&(C=D.length);const j=C-this.blockSize,B=this.C;let U=this.h,V=0;for(;V<C;){if(U==0)for(;V<=j;)a(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<C;)if(B[U++]=D.charCodeAt(V++),U==this.blockSize){a(this,B),U=0;break}}else for(;V<C;)if(B[U++]=D[V++],U==this.blockSize){a(this,B),U=0;break}}this.h=U,this.o+=C},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;C=this.o*8;for(var j=D.length-8;j<D.length;++j)D[j]=C&255,C/=256;for(this.v(D),D=Array(16),C=0,j=0;j<4;++j)for(let B=0;B<32;B+=8)D[C++]=this.g[j]>>>B&255;return D};function l(D,C){var j=h;return Object.prototype.hasOwnProperty.call(j,D)?j[D]:j[D]=C(D)}function c(D,C){this.h=C;const j=[];let B=!0;for(let U=D.length-1;U>=0;U--){const V=D[U]|0;B&&V==C||(j[U]=V,B=!1)}this.g=j}var h={};function d(D){return-128<=D&&D<128?l(D,function(C){return new c([C|0],C<0?-1:0)}):new c([D|0],D<0?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return R(m(-D));const C=[];let j=1;for(let B=0;D>=j;B++)C[B]=D/j|0,j*=4294967296;return new c(C,0)}function g(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return R(g(D.substring(1),C));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=m(Math.pow(C,8));let B=b;for(let V=0;V<D.length;V+=8){var U=Math.min(8,D.length-V);const P=parseInt(D.substring(V,V+U),C);U<8?(U=m(Math.pow(C,U)),B=B.j(U).add(m(P))):(B=B.j(j),B=B.add(m(P)))}return B}var b=d(0),x=d(1),A=d(16777216);t=c.prototype,t.m=function(){if(I(this))return-R(this).m();let D=0,C=1;for(let j=0;j<this.g.length;j++){const B=this.i(j);D+=(B>=0?B:4294967296+B)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(k(this))return"0";if(I(this))return"-"+R(this).toString(D);const C=m(Math.pow(D,6));var j=this;let B="";for(;;){const U=re(j,C).g;j=O(j,U.j(C));let V=((j.g.length>0?j.g[0]:j.h)>>>0).toString(D);if(j=U,k(j))return V+B;for(;V.length<6;)V="0"+V;B=V+B}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function k(D){if(D.h!=0)return!1;for(let C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function I(D){return D.h==-1}t.l=function(D){return D=O(this,D),I(D)?-1:k(D)?0:1};function R(D){const C=D.g.length,j=[];for(let B=0;B<C;B++)j[B]=~D.g[B];return new c(j,~D.h).add(x)}t.abs=function(){return I(this)?R(this):this},t.add=function(D){const C=Math.max(this.g.length,D.g.length),j=[];let B=0;for(let U=0;U<=C;U++){let V=B+(this.i(U)&65535)+(D.i(U)&65535),P=(V>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);B=P>>>16,V&=65535,P&=65535,j[U]=P<<16|V}return new c(j,j[j.length-1]&-2147483648?-1:0)};function O(D,C){return D.add(R(C))}t.j=function(D){if(k(this)||k(D))return b;if(I(this))return I(D)?R(this).j(R(D)):R(R(this).j(D));if(I(D))return R(this.j(R(D)));if(this.l(A)<0&&D.l(A)<0)return m(this.m()*D.m());const C=this.g.length+D.g.length,j=[];for(var B=0;B<2*C;B++)j[B]=0;for(B=0;B<this.g.length;B++)for(let U=0;U<D.g.length;U++){const V=this.i(B)>>>16,P=this.i(B)&65535,be=D.i(U)>>>16,xe=D.i(U)&65535;j[2*B+2*U]+=P*xe,H(j,2*B+2*U),j[2*B+2*U+1]+=V*xe,H(j,2*B+2*U+1),j[2*B+2*U+1]+=P*be,H(j,2*B+2*U+1),j[2*B+2*U+2]+=V*be,H(j,2*B+2*U+2)}for(D=0;D<C;D++)j[D]=j[2*D+1]<<16|j[2*D];for(D=C;D<2*C;D++)j[D]=0;return new c(j,0)};function H(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function F(D,C){this.g=D,this.h=C}function re(D,C){if(k(C))throw Error("division by zero");if(k(D))return new F(b,b);if(I(D))return C=re(R(D),C),new F(R(C.g),R(C.h));if(I(C))return C=re(D,R(C)),new F(R(C.g),C.h);if(D.g.length>30){if(I(D)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var j=x,B=C;B.l(D)<=0;)j=te(j),B=te(B);var U=ce(j,1),V=ce(B,1);for(B=ce(B,2),j=ce(j,2);!k(B);){var P=V.add(B);P.l(D)<=0&&(U=U.add(j),V=P),B=ce(B,1),j=ce(j,1)}return C=O(D,U.j(C)),new F(U,C)}for(U=b;D.l(C)>=0;){for(j=Math.max(1,Math.floor(D.m()/C.m())),B=Math.ceil(Math.log(j)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),V=m(j),P=V.j(C);I(P)||P.l(D)>0;)j-=B,V=m(j),P=V.j(C);k(V)&&(V=x),U=U.add(V),D=O(D,P)}return new F(U,D)}t.B=function(D){return re(this,D).h},t.and=function(D){const C=Math.max(this.g.length,D.g.length),j=[];for(let B=0;B<C;B++)j[B]=this.i(B)&D.i(B);return new c(j,this.h&D.h)},t.or=function(D){const C=Math.max(this.g.length,D.g.length),j=[];for(let B=0;B<C;B++)j[B]=this.i(B)|D.i(B);return new c(j,this.h|D.h)},t.xor=function(D){const C=Math.max(this.g.length,D.g.length),j=[];for(let B=0;B<C;B++)j[B]=this.i(B)^D.i(B);return new c(j,this.h^D.h)};function te(D){const C=D.g.length+1,j=[];for(let B=0;B<C;B++)j[B]=D.i(B)<<1|D.i(B-1)>>>31;return new c(j,D.h)}function ce(D,C){const j=C>>5;C%=32;const B=D.g.length-j,U=[];for(let V=0;V<B;V++)U[V]=C>0?D.i(V+j)>>>C|D.i(V+j+1)<<32-C:D.i(V+j);return new c(U,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,qC=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,Ga=c}).apply(typeof _T<"u"?_T:typeof self<"u"?self:typeof window<"u"?window:{});var wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var HC,Uu,GC,Hf,x0,$C,KC,YC;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof wf=="object"&&wf];for(var w=0;w<f.length;++w){var E=f[w];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(f,w){if(w)e:{var E=s;f=f.split(".");for(var M=0;M<f.length-1;M++){var ee=f[M];if(!(ee in E))break e;E=E[ee]}f=f[f.length-1],M=E[f],w=w(M),w!=M&&w!=null&&e(E,f,{configurable:!0,writable:!0,value:w})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(w){var E=[],M;for(M in w)Object.prototype.hasOwnProperty.call(w,M)&&E.push([M,w[M]]);return E}});var l=l||{},c=this||self;function h(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function d(f,w,E){return f.call.apply(f.bind,arguments)}function m(f,w,E){return m=d,m.apply(null,arguments)}function g(f,w){var E=Array.prototype.slice.call(arguments,1);return function(){var M=E.slice();return M.push.apply(M,arguments),f.apply(this,M)}}function b(f,w){function E(){}E.prototype=w.prototype,f.Z=w.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(M,ee,oe){for(var ve=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ve[$e-2]=arguments[$e];return w.prototype[ee].apply(M,ve)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const w=f.length;if(w>0){const E=Array(w);for(let M=0;M<w;M++)E[M]=f[M];return E}return[]}function k(f,w){for(let M=1;M<arguments.length;M++){const ee=arguments[M];var E=typeof ee;if(E=E!="object"?E:ee?Array.isArray(ee)?"array":E:"null",E=="array"||E=="object"&&typeof ee.length=="number"){E=f.length||0;const oe=ee.length||0;f.length=E+oe;for(let ve=0;ve<oe;ve++)f[E+ve]=ee[ve]}else f.push(ee)}}class I{constructor(w,E){this.i=w,this.j=E,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function R(f){c.setTimeout(()=>{throw f},0)}function O(){var f=D;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class H{constructor(){this.h=this.g=null}add(w,E){const M=F.get();M.set(w,E),this.h?this.h.next=M:this.g=M,this.h=M}}var F=new I(()=>new re,f=>f.reset());class re{constructor(){this.next=this.g=this.h=null}set(w,E){this.h=w,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let te,ce=!1,D=new H,C=()=>{const f=Promise.resolve(void 0);te=()=>{f.then(j)}};function j(){for(var f;f=O();){try{f.h.call(f.g)}catch(E){R(E)}var w=F;w.j(f),w.h<100&&(w.h++,f.next=w.g,w.g=f)}ce=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,w),c.removeEventListener("test",E,w)}catch{}return f})();function P(f){return/^[\s\xa0]*$/.test(f)}function be(f,w){U.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,w)}b(be,U),be.prototype.init=function(f,w){const E=this.type=f.type,M=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget,w||(E=="mouseover"?w=f.fromElement:E=="mouseout"&&(w=f.toElement)),this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),Z=0;function X(f,w,E,M,ee){this.listener=f,this.proxy=null,this.src=w,this.type=E,this.capture=!!M,this.ha=ee,this.key=++Z,this.da=this.fa=!1}function $(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Y(f,w,E){for(const M in f)w.call(E,f[M],M,f)}function L(f,w){for(const E in f)w.call(void 0,f[E],E,f)}function T(f){const w={};for(const E in f)w[E]=f[E];return w}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(f,w){let E,M;for(let ee=1;ee<arguments.length;ee++){M=arguments[ee];for(E in M)f[E]=M[E];for(let oe=0;oe<z.length;oe++)E=z[oe],Object.prototype.hasOwnProperty.call(M,E)&&(f[E]=M[E])}}function ne(f){this.src=f,this.g={},this.h=0}ne.prototype.add=function(f,w,E,M,ee){const oe=f.toString();f=this.g[oe],f||(f=this.g[oe]=[],this.h++);const ve=ye(f,w,M,ee);return ve>-1?(w=f[ve],E||(w.fa=!1)):(w=new X(w,this.src,oe,!!M,ee),w.fa=E,f.push(w)),w};function ge(f,w){const E=w.type;if(E in f.g){var M=f.g[E],ee=Array.prototype.indexOf.call(M,w,void 0),oe;(oe=ee>=0)&&Array.prototype.splice.call(M,ee,1),oe&&($(w),f.g[E].length==0&&(delete f.g[E],f.h--))}}function ye(f,w,E,M){for(let ee=0;ee<f.length;++ee){const oe=f[ee];if(!oe.da&&oe.listener==w&&oe.capture==!!E&&oe.ha==M)return ee}return-1}var he="closure_lm_"+(Math.random()*1e6|0),we={};function Te(f,w,E,M,ee){if(Array.isArray(w)){for(let oe=0;oe<w.length;oe++)Te(f,w[oe],E,M,ee);return null}return E=yn(E),f&&f[xe]?f.J(w,E,h(M)?!!M.capture:!1,ee):Ae(f,w,E,!1,M,ee)}function Ae(f,w,E,M,ee,oe){if(!w)throw Error("Invalid event type");const ve=h(ee)?!!ee.capture:!!ee;let $e=xt(f);if($e||(f[he]=$e=new ne(f)),E=$e.add(w,E,M,ve,oe),E.proxy)return E;if(M=ze(),E.proxy=M,M.src=f,M.listener=E,f.addEventListener)V||(ee=ve),ee===void 0&&(ee=!1),f.addEventListener(w.toString(),M,ee);else if(f.attachEvent)f.attachEvent(De(w.toString()),M);else if(f.addListener&&f.removeListener)f.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ze(){function f(E){return w.call(f.src,f.listener,E)}const w=mt;return f}function Ve(f,w,E,M,ee){if(Array.isArray(w))for(var oe=0;oe<w.length;oe++)Ve(f,w[oe],E,M,ee);else M=h(M)?!!M.capture:!!M,E=yn(E),f&&f[xe]?(f=f.i,oe=String(w).toString(),oe in f.g&&(w=f.g[oe],E=ye(w,E,M,ee),E>-1&&($(w[E]),Array.prototype.splice.call(w,E,1),w.length==0&&(delete f.g[oe],f.h--)))):f&&(f=xt(f))&&(w=f.g[w.toString()],f=-1,w&&(f=ye(w,E,M,ee)),(E=f>-1?w[f]:null)&&dt(E))}function dt(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[xe])ge(w.i,f);else{var E=f.type,M=f.proxy;w.removeEventListener?w.removeEventListener(E,M,f.capture):w.detachEvent?w.detachEvent(De(E),M):w.addListener&&w.removeListener&&w.removeListener(M),(E=xt(w))?(ge(E,f),E.h==0&&(E.src=null,w[he]=null)):$(f)}}}function De(f){return f in we?we[f]:we[f]="on"+f}function mt(f,w){if(f.da)f=!0;else{w=new be(w,this);const E=f.listener,M=f.ha||f.src;f.fa&&dt(f),f=E.call(M,w)}return f}function xt(f){return f=f[he],f instanceof ne?f:null}var Xt="__closure_events_fn_"+(Math.random()*1e9>>>0);function yn(f){return typeof f=="function"?f:(f[Xt]||(f[Xt]=function(w){return f.handleEvent(w)}),f[Xt])}function Ze(){B.call(this),this.i=new ne(this),this.M=this,this.G=null}b(Ze,B),Ze.prototype[xe]=!0,Ze.prototype.removeEventListener=function(f,w,E,M){Ve(this,f,w,E,M)};function Be(f,w){var E,M=f.G;if(M)for(E=[];M;M=M.G)E.push(M);if(f=f.M,M=w.type||w,typeof w=="string")w=new U(w,f);else if(w instanceof U)w.target=w.target||f;else{var ee=w;w=new U(M,f),W(w,ee)}ee=!0;let oe,ve;if(E)for(ve=E.length-1;ve>=0;ve--)oe=w.g=E[ve],ee=Wn(oe,M,!0,w)&&ee;if(oe=w.g=f,ee=Wn(oe,M,!0,w)&&ee,ee=Wn(oe,M,!1,w)&&ee,E)for(ve=0;ve<E.length;ve++)oe=w.g=E[ve],ee=Wn(oe,M,!1,w)&&ee}Ze.prototype.N=function(){if(Ze.Z.N.call(this),this.i){var f=this.i;for(const w in f.g){const E=f.g[w];for(let M=0;M<E.length;M++)$(E[M]);delete f.g[w],f.h--}}this.G=null},Ze.prototype.J=function(f,w,E,M){return this.i.add(String(f),w,!1,E,M)},Ze.prototype.K=function(f,w,E,M){return this.i.add(String(f),w,!0,E,M)};function Wn(f,w,E,M){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();let ee=!0;for(let oe=0;oe<w.length;++oe){const ve=w[oe];if(ve&&!ve.da&&ve.capture==E){const $e=ve.listener,dn=ve.ha||ve.src;ve.fa&&ge(f.i,ve),ee=$e.call(dn,M)!==!1&&ee}}return ee&&!M.defaultPrevented}function Os(f,w){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:c.setTimeout(f,w||0)}function Xs(f){f.g=Os(()=>{f.g=null,f.i&&(f.i=!1,Xs(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class Ot extends B{constructor(w,E){super(),this.m=w,this.l=E,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Xs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(f){B.call(this),this.h=f,this.g={}}b(Ss,B);var As=[];function zn(f){Y(f.g,function(w,E){this.g.hasOwnProperty(E)&&dt(w)},f),f.g={}}Ss.prototype.N=function(){Ss.Z.N.call(this),zn(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Et=c.JSON.stringify,Bn=c.JSON.parse,Vs=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function vn(){}function Ls(){}var In={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Rt(){U.call(this,"d")}b(Rt,U);function kn(){U.call(this,"c")}b(kn,U);var Nt={},mr=null;function bi(){return mr=mr||new Ze}Nt.Ia="serverreachability";function pr(f){U.call(this,Nt.Ia,f)}b(pr,U);function rn(f){const w=bi();Be(w,new pr(w))}Nt.STAT_EVENT="statevent";function xi(f,w){U.call(this,Nt.STAT_EVENT,f),this.stat=w}b(xi,U);function Ye(f){const w=bi();Be(w,new xi(w,f))}Nt.Ja="timingevent";function Vt(f,w){U.call(this,Nt.Ja,f),this.size=w}b(Vt,U);function Lt(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},w)}function Ft(){this.g=!0}Ft.prototype.ua=function(){this.g=!1};function Fn(f,w,E,M,ee,oe){f.info(function(){if(f.g)if(oe){var ve="",$e=oe.split("&");for(let vt=0;vt<$e.length;vt++){var dn=$e[vt].split("=");if(dn.length>1){const Kt=dn[0];dn=dn[1];const ei=Kt.split("_");ve=ei.length>=2&&ei[1]=="type"?ve+(Kt+"="+dn+"&"):ve+(Kt+"=redacted&")}}}else ve=null;else ve=oe;return"XMLHTTP REQ ("+M+") [attempt "+ee+"]: "+w+`
`+E+`
`+ve})}function Qt(f,w,E,M,ee,oe,ve){f.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+ee+"]: "+w+`
`+E+`
`+oe+" "+ve})}function ut(f,w,E,M){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+Jt(f,E)+(M?" "+M:"")})}function Dn(f,w){f.info(function(){return"TIMEOUT: "+w})}Ft.prototype.info=function(){};function Jt(f,w){if(!f.g)return w;if(!w)return null;try{const oe=JSON.parse(w);if(oe){for(f=0;f<oe.length;f++)if(Array.isArray(oe[f])){var E=oe[f];if(!(E.length<2)){var M=E[1];if(Array.isArray(M)&&!(M.length<1)){var ee=M[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let ve=1;ve<M.length;ve++)M[ve]=""}}}}return Et(oe)}catch{return w}}var bn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},an={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xn;function ps(){}b(ps,vn),ps.prototype.g=function(){return new XMLHttpRequest},Xn=new ps;function Qn(f){return encodeURIComponent(String(f))}function gs(f){var w=1;f=f.split(":");const E=[];for(;w>0&&f.length;)E.push(f.shift()),w--;return f.length&&E.push(f.join(":")),E}function Mn(f,w,E,M){this.j=f,this.i=w,this.l=E,this.S=M||1,this.V=new Ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new on}function on(){this.i=null,this.g="",this.h=!1}var wt={},qt={};function qn(f,w,E){f.M=1,f.A=wr(ln(w)),f.u=E,f.R=!0,gr(f,null)}function gr(f,w){f.F=Date.now(),Ut(f),f.B=ln(f.A);var E=f.B,M=f.S;Array.isArray(M)||(M=[String(M)]),ul(E.i,"t",M),f.C=0,E=f.j.L,f.h=new on,f.g=hd(f.j,E?w:null,!f.u),f.P>0&&(f.O=new Ot(m(f.Y,f,f.g),f.P)),w=f.V,E=f.g,M=f.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(As[0]=ee.toString()),ee=As);for(let oe=0;oe<ee.length;oe++){const ve=Te(E,ee[oe],M||w.handleEvent,!1,w.h||w);if(!ve)break;w.g[ve.key]=ve}w=f.J?T(f.J):{},f.u?(f.v||(f.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,w)):(f.v="GET",f.g.ea(f.B,f.v,null,w)),rn(),Fn(f.i,f.v,f.B,f.l,f.S,f.u)}Mn.prototype.ba=function(f){f=f.target;const w=this.O;w&&Si(f)==3?w.j():this.Y(f)},Mn.prototype.Y=function(f){try{if(f==this.g)e:{const $e=Si(this.g),dn=this.g.ya(),vt=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||Jn(this.g)))){this.K||$e!=4||dn==7||(dn==8||vt<=0?rn(3):rn(2)),xn(this);var w=this.g.ca();this.X=w;var E=ho(this);if(this.o=w==200,Qt(this.i,this.v,this.B,this.l,this.S,$e,w),this.o){if(this.U&&!this.L){t:{if(this.g){var M,ee=this.g;if((M=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(M)){var oe=M;break t}}oe=null}if(f=oe)ut(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ys(this,f);else{this.o=!1,this.m=3,Ye(12),Pn(this),rs(this);break e}}if(this.R){f=!0;let Kt;for(;!this.K&&this.C<E.length;)if(Kt=yr(this,E),Kt==qt){$e==4&&(this.m=4,Ye(14),f=!1),ut(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==wt){this.m=4,Ye(15),ut(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else ut(this.i,this.l,Kt,null),ys(this,Kt);if(ll(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||E.length!=0||this.h.h||(this.m=1,Ye(16),f=!1),this.o=this.o&&f,!f)ut(this.i,this.l,E,"[Invalid Chunked Response]"),Pn(this),rs(this);else if(E.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),$c(ve),ve.P=!0,Ye(11))}}else ut(this.i,this.l,E,null),ys(this,E);$e==4&&Pn(this),this.o&&!this.K&&($e==4?od(this.j,this):(this.o=!1,Ut(this)))}else Tr(this.g),w==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ye(12)):(this.m=0,Ye(13)),Pn(this),rs(this)}}}catch{}};function ho(f){if(!ll(f))return f.g.la();const w=Jn(f.g);if(w==="")return"";let E="";const M=w.length,ee=Si(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Pn(f),rs(f),"";f.h.i=new c.TextDecoder}for(let oe=0;oe<M;oe++)f.h.h=!0,E+=f.h.i.decode(w[oe],{stream:!(ee&&oe==M-1)});return w.length=0,f.h.g+=E,f.C=0,f.h.g}function ll(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function yr(f,w){var E=f.C,M=w.indexOf(`
`,E);return M==-1?qt:(E=Number(w.substring(E,M)),isNaN(E)?wt:(M+=1,M+E>w.length?qt:(w=w.slice(M,M+E),f.C=M+E,w)))}Mn.prototype.cancel=function(){this.K=!0,Pn(this)};function Ut(f){f.T=Date.now()+f.H,wi(f,f.H)}function wi(f,w){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Lt(m(f.aa,f),w)}function xn(f){f.D&&(c.clearTimeout(f.D),f.D=null)}Mn.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Dn(this.i,this.B),this.M!=2&&(rn(),Ye(17)),Pn(this),this.m=2,rs(this)):wi(this,this.T-f)};function rs(f){f.j.I==0||f.K||od(f.j,f)}function Pn(f){xn(f);var w=f.O;w&&typeof w.dispose=="function"&&w.dispose(),f.O=null,zn(f.V),f.g&&(w=f.g,f.g=null,w.abort(),w.dispose())}function ys(f,w){try{var E=f.j;if(E.I!=0&&(E.g==f||Us(E.h,f))){if(!f.L&&Us(E.h,f)&&E.I==3){try{var M=E.Ba.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var ee=M;if(ee[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)pl(E),fa(E);else break e;xo(E),Ye(18)}}else E.xa=ee[1],0<E.xa-E.K&&ee[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Lt(m(E.Va,E),6e3));Qs(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ki(E,11)}else if((f.L||E.g==f)&&pl(E),!P(w))for(ee=E.Ba.g.parse(w),w=0;w<ee.length;w++){let vt=ee[w];const Kt=vt[0];if(!(Kt<=E.K))if(E.K=Kt,vt=vt[1],E.I==2)if(vt[0]=="c"){E.M=vt[1],E.ba=vt[2];const ei=vt[3];ei!=null&&(E.ka=ei,E.j.info("VER="+E.ka));const Yi=vt[4];Yi!=null&&(E.za=Yi,E.j.info("SVER="+E.za));const Ai=vt[5];Ai!=null&&typeof Ai=="number"&&Ai>0&&(M=1.5*Ai,E.O=M,E.j.info("backChannelRequestTimeoutMs_="+M)),M=E;const Ci=f.g;if(Ci){const wo=Ci.g?Ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wo){var oe=M.h;oe.g||wo.indexOf("spdy")==-1&&wo.indexOf("quic")==-1&&wo.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(vr(oe,oe.h),oe.h=null))}if(M.G){const gl=Ci.g?Ci.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(M.wa=gl,pt(M.J,M.G,gl))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),M=E;var ve=f;if(M.na=ud(M,M.L?M.ba:null,M.W),ve.L){aa(M.h,ve);var $e=ve,dn=M.O;dn&&($e.H=dn),$e.D&&(xn($e),Ut($e)),M.g=ve}else rd(M);E.i.length>0&&$i(E)}else vt[0]!="stop"&&vt[0]!="close"||Ki(E,7);else E.I==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Ki(E,7):Hc(E):vt[0]!="noop"&&E.l&&E.l.qa(vt),E.A=0)}}rn(4)}catch{}}var Zt=class{constructor(f,w){this.g=f,this.map=w}};function fo(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ra(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Qs(f){return f.h?1:f.g?f.g.size:0}function Us(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function vr(f,w){f.g?f.g.add(w):f.h=w}function aa(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}fo.prototype.cancel=function(){if(this.i=mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function mo(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const E of f.g.values())w=w.concat(E.G);return w}return A(f.i)}var cl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function br(f,w){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const M=f[E].indexOf("=");let ee,oe=null;M>=0?(ee=f[E].substring(0,M),oe=f[E].substring(M+1)):ee=f[E],w(ee,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function vs(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;f instanceof vs?(this.l=f.l,ot(this,f.j),this.o=f.o,this.g=f.g,xr(this,f.u),this.h=f.h,oa(this,sd(f.i)),this.m=f.m):f&&(w=String(f).match(cl))?(this.l=!1,ot(this,w[1]||"",!0),this.o=J(w[2]||""),this.g=J(w[3]||"",!0),xr(this,w[4]),this.h=J(w[5]||"",!0),oa(this,w[6]||"",!0),this.m=J(w[7]||"")):(this.l=!1,this.i=new la(null,this.l))}vs.prototype.toString=function(){const f=[];var w=this.j;w&&f.push(Ee(w,zt,!0),":");var E=this.g;return(E||w=="file")&&(f.push("//"),(w=this.o)&&f.push(Ee(w,zt,!0),"@"),f.push(Qn(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Ee(E,E.charAt(0)=="/"?St:Pt,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Ee(E,_i)),f.join("")},vs.prototype.resolve=function(f){const w=ln(this);let E=!!f.j;E?ot(w,f.j):E=!!f.o,E?w.o=f.o:E=!!f.g,E?w.g=f.g:E=f.u!=null;var M=f.h;if(E)xr(w,f.u);else if(E=!!f.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var ee=w.h.lastIndexOf("/");ee!=-1&&(M=w.h.slice(0,ee+1)+M)}if(ee=M,ee==".."||ee==".")M="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){M=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const oe=[];for(let ve=0;ve<ee.length;){const $e=ee[ve++];$e=="."?M&&ve==ee.length&&oe.push(""):$e==".."?((oe.length>1||oe.length==1&&oe[0]!="")&&oe.pop(),M&&ve==ee.length&&oe.push("")):(oe.push($e),M=!0)}M=oe.join("/")}else M=ee}return E?w.h=M:E=f.i.toString()!=="",E?oa(w,sd(f.i)):E=!!f.m,E&&(w.m=f.m),w};function ln(f){return new vs(f)}function ot(f,w,E){f.j=E?J(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function xr(f,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);f.u=w}else f.u=null}function oa(f,w,E){w instanceof la?(f.i=w,hl(f.i,f.l)):(E||(w=Ee(w,wn)),f.i=new la(w,f.l))}function pt(f,w,E){f.i.set(w,E)}function wr(f){return pt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function J(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ee(f,w,E){return typeof f=="string"?(f=encodeURI(f).replace(w,Xe),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Xe(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var zt=/[#\/\?@]/g,Pt=/[#\?:]/g,St=/[#\?]/g,wn=/[#\?@]/g,_i=/#/g;function la(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function Cs(f){f.g||(f.g=new Map,f.h=0,f.i&&br(f.i,function(w,E){f.add(decodeURIComponent(w.replace(/\+/g," ")),E)}))}t=la.prototype,t.add=function(f,w){Cs(this),this.i=null,f=ca(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(w),this.h+=1,this};function nd(f,w){Cs(f),w=ca(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function Uc(f,w){return Cs(f),w=ca(f,w),f.g.has(w)}t.forEach=function(f,w){Cs(this),this.g.forEach(function(E,M){E.forEach(function(ee){f.call(w,ee,M,this)},this)},this)};function zc(f,w){Cs(f);let E=[];if(typeof w=="string")Uc(f,w)&&(E=E.concat(f.g.get(ca(f,w))));else for(f=Array.from(f.g.values()),w=0;w<f.length;w++)E=E.concat(f[w]);return E}t.set=function(f,w){return Cs(this),this.i=null,f=ca(this,f),Uc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=zc(this,f),f.length>0?String(f[0]):w):w};function ul(f,w,E){nd(f,w),E.length>0&&(f.i=null,f.g.set(ca(f,w),A(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(let M=0;M<w.length;M++){var E=w[M];const ee=Qn(E);E=zc(this,E);for(let oe=0;oe<E.length;oe++){let ve=ee;E[oe]!==""&&(ve+="="+Qn(E[oe])),f.push(ve)}}return this.i=f.join("&")};function sd(f){const w=new la;return w.i=f.i,f.g&&(w.g=new Map(f.g),w.h=f.h),w}function ca(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function hl(f,w){w&&!f.j&&(Cs(f),f.i=null,f.g.forEach(function(E,M){const ee=M.toLowerCase();M!=ee&&(nd(this,M),ul(this,ee,E))},f)),f.j=w}function Ti(f,w){const E=new Ft;if(c.Image){const M=new Image;M.onload=g(Js,E,"TestLoadImage: loaded",!0,w,M),M.onerror=g(Js,E,"TestLoadImage: error",!1,w,M),M.onabort=g(Js,E,"TestLoadImage: abort",!1,w,M),M.ontimeout=g(Js,E,"TestLoadImage: timeout",!1,w,M),c.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=f}else w(!1)}function Bc(f,w){const E=new Ft,M=new AbortController,ee=setTimeout(()=>{M.abort(),Js(E,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:M.signal}).then(oe=>{clearTimeout(ee),oe.ok?Js(E,"TestPingServer: ok",!0,w):Js(E,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(ee),Js(E,"TestPingServer: error",!1,w)})}function Js(f,w,E,M,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),M(E)}catch{}}function ua(){this.g=new Vs}function qi(f){this.i=f.Sb||null,this.h=f.ab||!1}b(qi,vn),qi.prototype.g=function(){return new po(this.i,this.h)};function po(f,w){Ze.call(this),this.H=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(po,Ze),t=po.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=w,this.readyState=1,Ei(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(w.body=f),(this.H||c).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ha(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;dl(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function dl(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?ha(this):Ei(this),this.readyState==3&&dl(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ha(this))},t.Na=function(f){this.g&&(this.response=f,ha(this))},t.ga=function(){this.g&&ha(this)};function ha(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Ei(f)}t.setRequestHeader=function(f,w){this.A.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var E=w.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=w.next();return f.join(`\r
`)};function Ei(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(po.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Zs(f){let w="";return Y(f,function(E,M){w+=M,w+=":",w+=E,w+=`\r
`}),w}function go(f,w,E){e:{for(M in E){var M=!1;break e}M=!0}M||(E=Zs(E),typeof f=="string"?E!=null&&Qn(E):pt(f,w,E))}function It(f){Ze.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(It,Ze);var Hi=/^https?$/i,Fc=["POST","PUT"];t=It.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,w,E,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xn.g(),this.g.onreadystatechange=x(m(this.Ca,this));try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(oe){yo(this,oe);return}if(f=E||"",E=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var ee in M)E.set(ee,M[ee]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const oe of M.keys())E.set(oe,M.get(oe));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(E.keys()).find(oe=>oe.toLowerCase()=="content-type"),ee=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Fc,w,void 0)>=0)||M||ee||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,ve]of E)this.g.setRequestHeader(oe,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(oe){yo(this,oe)}};function yo(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.o=5,qc(f),_r(f)}function qc(f){f.A||(f.A=!0,Be(f,"complete"),Be(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Be(this,"complete"),Be(this,"abort"),_r(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_r(this,!0)),It.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?vo(this):this.Xa())},t.Xa=function(){vo(this)};function vo(f){if(f.h&&typeof l<"u"){if(f.v&&Si(f)==4)setTimeout(f.Ca.bind(f),0);else if(Be(f,"readystatechange"),Si(f)==4){f.h=!1;try{const oe=f.ca();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var E;if(!(E=w)){var M;if(M=oe===0){let ve=String(f.D).match(cl)[1]||null;!ve&&c.self&&c.self.location&&(ve=c.self.location.protocol.slice(0,-1)),M=!Hi.test(ve?ve.toLowerCase():"")}E=M}if(E)Be(f,"complete"),Be(f,"success");else{f.o=6;try{var ee=Si(f)>2?f.g.statusText:""}catch{ee=""}f.l=ee+" ["+f.ca()+"]",qc(f)}}finally{_r(f)}}}}function _r(f,w){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,w||Be(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Si(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Si(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),Bn(w)}};function Jn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Tr(f){const w={};f=(f.g&&Si(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<f.length;M++){if(P(f[M]))continue;var E=gs(f[M]);const ee=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const oe=w[ee]||[];w[ee]=oe,oe.push(E)}L(w,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(f,w,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||w}function da(f){this.za=0,this.i=[],this.j=new Ft,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gi("baseRetryDelayMs",5e3,f),this.Za=Gi("retryDelaySeedMs",1e4,f),this.Ta=Gi("forwardChannelMaxRetries",2,f),this.va=Gi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new fo(f&&f.concurrentRequestLimit),this.Ba=new ua,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=da.prototype,t.ka=8,t.I=1,t.connect=function(f,w,E,M){Ye(0),this.W=f,this.H=w||{},E&&M!==void 0&&(this.H.OSID=E,this.H.OAID=M),this.F=this.X,this.J=ud(this,null,this.W),$i(this)};function Hc(f){if(fl(f),f.I==3){var w=f.V++,E=ln(f.J);if(pt(E,"SID",f.M),pt(E,"RID",w),pt(E,"TYPE","terminate"),bo(f,E),w=new Mn(f,f.j,w),w.M=2,w.A=wr(ln(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(w.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=w.A,E=!0),E||(w.g=hd(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Ut(w)}cd(f)}function fa(f){f.g&&($c(f),f.g.cancel(),f.g=null)}function fl(f){fa(f),f.v&&(c.clearTimeout(f.v),f.v=null),pl(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function $i(f){if(!ra(f.h)&&!f.m){f.m=!0;var w=f.Ea;te||C(),ce||(te(),ce=!0),D.add(w,f),f.D=0}}function ml(f,w){return Qs(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=w.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Lt(m(f.Ea,f,w),ld(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const ee=new Mn(this,this.j,f);let oe=this.o;if(this.U&&(oe?(oe=T(oe),W(oe,this.U)):oe=this.U),this.u!==null||this.R||(ee.J=oe,oe=null),this.S)e:{for(var w=0,E=0;E<this.i.length;E++){t:{var M=this.i[E];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,w>4096){w=E;break e}if(w===4096||E===this.i.length-1){w=E+1;break e}}w=1e3}else w=1e3;w=id(this,ee,w),E=ln(this.J),pt(E,"RID",f),pt(E,"CVER",22),this.G&&pt(E,"X-HTTP-Session-Id",this.G),bo(this,E),oe&&(this.R?w="headers="+Qn(Zs(oe))+"&"+w:this.u&&go(E,this.u,oe)),vr(this.h,ee),this.Ra&&pt(E,"TYPE","init"),this.S?(pt(E,"$req",w),pt(E,"SID","null"),ee.U=!0,qn(ee,E,null)):qn(ee,E,w),this.I=2}}else this.I==3&&(f?Gc(this,f):this.i.length==0||ra(this.h)||Gc(this))};function Gc(f,w){var E;w?E=w.l:E=f.V++;const M=ln(f.J);pt(M,"SID",f.M),pt(M,"RID",E),pt(M,"AID",f.K),bo(f,M),f.u&&f.o&&go(M,f.u,f.o),E=new Mn(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),w&&(f.i=w.G.concat(f.i)),w=id(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),vr(f.h,E),qn(E,M,w)}function bo(f,w){f.H&&Y(f.H,function(E,M){pt(w,M,E)}),f.l&&Y({},function(E,M){pt(w,M,E)})}function id(f,w,E){E=Math.min(f.i.length,E);const M=f.l?m(f.l.Ka,f.l,f):null;e:{var ee=f.i;let $e=-1;for(;;){const dn=["count="+E];$e==-1?E>0?($e=ee[0].g,dn.push("ofs="+$e)):$e=0:dn.push("ofs="+$e);let vt=!0;for(let Kt=0;Kt<E;Kt++){var oe=ee[Kt].g;const ei=ee[Kt].map;if(oe-=$e,oe<0)$e=Math.max(0,ee[Kt].g-100),vt=!1;else try{oe="req"+oe+"_"||"";try{var ve=ei instanceof Map?ei:Object.entries(ei);for(const[Yi,Ai]of ve){let Ci=Ai;h(Ai)&&(Ci=Et(Ai)),dn.push(oe+Yi+"="+encodeURIComponent(Ci))}}catch(Yi){throw dn.push(oe+"type="+encodeURIComponent("_badmap")),Yi}}catch{M&&M(ei)}}if(vt){ve=dn.join("&");break e}}ve=void 0}return f=f.i.splice(0,E),w.G=f,ve}function rd(f){if(!f.g&&!f.v){f.Y=1;var w=f.Da;te||C(),ce||(te(),ce=!0),D.add(w,f),f.A=0}}function xo(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Lt(m(f.Da,f),ld(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,ad(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Lt(m(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ye(10),fa(this),ad(this))};function $c(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function ad(f){f.g=new Mn(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var w=ln(f.na);pt(w,"RID","rpc"),pt(w,"SID",f.M),pt(w,"AID",f.K),pt(w,"CI",f.F?"0":"1"),!f.F&&f.ia&&pt(w,"TO",f.ia),pt(w,"TYPE","xmlhttp"),bo(f,w),f.u&&f.o&&go(w,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=wr(ln(w)),E.u=null,E.R=!0,gr(E,f)}t.Va=function(){this.C!=null&&(this.C=null,fa(this),xo(this),Ye(19))};function pl(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function od(f,w){var E=null;if(f.g==w){pl(f),$c(f),f.g=null;var M=2}else if(Us(f.h,w))E=w.G,aa(f.h,w),M=1;else return;if(f.I!=0){if(w.o)if(M==1){E=w.u?w.u.length:0,w=Date.now()-w.F;var ee=f.D;M=bi(),Be(M,new Vt(M,E)),$i(f)}else rd(f);else if(ee=w.m,ee==3||ee==0&&w.X>0||!(M==1&&ml(f,w)||M==2&&xo(f)))switch(E&&E.length>0&&(w=f.h,w.i=w.i.concat(E)),ee){case 1:Ki(f,5);break;case 4:Ki(f,10);break;case 3:Ki(f,6);break;default:Ki(f,2)}}}function ld(f,w){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*w}function Ki(f,w){if(f.j.info("Error code "+w),w==2){var E=m(f.bb,f),M=f.Ua;const ee=!M;M=new vs(M||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ot(M,"https"),wr(M),ee?Ti(M.toString(),E):Bc(M.toString(),E)}else Ye(2);f.I=0,f.l&&f.l.pa(w),cd(f),fl(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ye(2)):(this.j.info("Failed to ping google.com"),Ye(1))};function cd(f){if(f.I=0,f.ja=[],f.l){const w=mo(f.h);(w.length!=0||f.i.length!=0)&&(k(f.ja,w),k(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function ud(f,w,E){var M=E instanceof vs?ln(E):new vs(E);if(M.g!="")w&&(M.g=w+"."+M.g),xr(M,M.u);else{var ee=c.location;M=ee.protocol,w=w?w+"."+ee.hostname:ee.hostname,ee=+ee.port;const oe=new vs(null);M&&ot(oe,M),w&&(oe.g=w),ee&&xr(oe,ee),E&&(oe.h=E),M=oe}return E=f.G,w=f.wa,E&&w&&pt(M,E,w),pt(M,"VER",f.ka),bo(f,M),M}function hd(f,w,E){if(w&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Aa&&!f.ma?new It(new qi({ab:E})):new It(f.ma),w.Fa(f.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dd(){}t=dd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ma(){}ma.prototype.g=function(f,w){return new bs(f,w)};function bs(f,w){Ze.call(this),this.g=new da(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(f?f["X-WebChannel-Client-Profile"]=w.sa:f={"X-WebChannel-Client-Profile":w.sa}),this.g.U=f,(f=w&&w.Qb)&&!P(f)&&(this.g.u=f),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!P(w)&&(this.g.G=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new Er(this)}b(bs,Ze),bs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bs.prototype.close=function(){Hc(this.g)},bs.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=Et(f),f=E);w.i.push(new Zt(w.Ya++,f)),w.I==3&&$i(w)},bs.prototype.N=function(){this.g.l=null,delete this.j,Hc(this.g),delete this.g,bs.Z.N.call(this)};function fd(f){Rt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const E in w){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}b(fd,Rt);function md(){kn.call(this),this.status=1}b(md,kn);function Er(f){this.g=f}b(Er,dd),Er.prototype.ra=function(){Be(this.g,"a")},Er.prototype.qa=function(f){Be(this.g,new fd(f))},Er.prototype.pa=function(f){Be(this.g,new md)},Er.prototype.oa=function(){Be(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,bs.prototype.send=bs.prototype.o,bs.prototype.open=bs.prototype.m,bs.prototype.close=bs.prototype.close,YC=function(){return new ma},KC=function(){return bi()},$C=Nt,x0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bn.NO_ERROR=0,bn.TIMEOUT=8,bn.HTTP_ERROR=6,Hf=bn,an.COMPLETE="complete",GC=an,Ls.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",Ze.prototype.listen=Ze.prototype.J,Uu=Ls,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,HC=It}).apply(typeof wf<"u"?wf:typeof self<"u"?self:typeof window<"u"?window:{});let cs=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};cs.UNAUTHENTICATED=new cs(null),cs.GOOGLE_CREDENTIALS=new cs("google-credentials-uid"),cs.FIRST_PARTY=new cs("first-party-uid"),cs.MOCK_USER=new cs("mock-user");let Sc="12.8.0";function nO(t){Sc=t}const el=new Tv("@firebase/firestore");function Yl(){return el.logLevel}function Se(t,...e){if(el.logLevel<=it.DEBUG){const n=e.map(Uv);el.debug(`Firestore (${Sc}): ${t}`,...n)}}function ta(t,...e){if(el.logLevel<=it.ERROR){const n=e.map(Uv);el.error(`Firestore (${Sc}): ${t}`,...n)}}function tl(t,...e){if(el.logLevel<=it.WARN){const n=e.map(Uv);el.warn(`Firestore (${Sc}): ${t}`,...n)}}function Uv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Oe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,WC(t,s,n)}function WC(t,e,n){let s=`FIRESTORE (${Sc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ta(s),new Error(s)}function Tt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||WC(e,a,s)}function Ge(t,e){return t}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class XC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(cs.UNAUTHENTICATED)))}shutdown(){}}class sO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class iO{constructor(e){this.t=e,this.currentUser=cs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Tt(this.o===void 0,42304);let s=this.i;const a=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let l=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Wr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Wr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Tt(typeof s.accessToken=="string",31837,{l:s}),new XC(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string",2055,{h:e}),new cs(e)}}class rO{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=cs.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class aO{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new rO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(cs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class TT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Tt(this.o===void 0,3512);const s=l=>{l.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Se("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new TT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new TT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function lO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Wm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=lO(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function rt(t,e){return t<e?-1:t>e?1:0}function w0(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Dy(a)===Dy(l)?rt(a,l):Dy(a)?1:-1}return rt(t.length,e.length)}const cO=55296,uO=57343;function Dy(t){const e=t.charCodeAt(0);return e>=cO&&e<=uO}function mc(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const ET="__name__";class Zi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Oe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Zi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return rt(e.length,n.length)}static compareSegments(e,n){const s=Zi.isNumericId(e),a=Zi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Zi.extractNumericId(e).compare(Zi.extractNumericId(n)):w0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ga.fromString(e.substring(4,e.length-2))}}class Bt extends Zi{construct(e,n,s){return new Bt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(fe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new Bt(n)}static emptyPath(){return new Bt([])}}const hO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends Zi{construct(e,n,s){return new Kn(e,n,s)}static isValidIdentifier(e){return hO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ET}static keyField(){return new Kn([ET])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new _e(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new _e(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new _e(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(s+=h,a++):(l(),a++)}if(l(),c)throw new _e(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kn(n)}static emptyPath(){return new Kn([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Bt.fromString(e))}static fromName(e){return new Me(Bt.fromString(e).popFirst(5))}static empty(){return new Me(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Bt(e.slice()))}}function JC(t,e,n){if(!n)throw new _e(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZC(t,e,n,s){if(e===!0&&s===!0)throw new _e(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ST(t){if(!Me.isDocumentKey(t))throw new _e(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function AT(t){if(Me.isDocumentKey(t))throw new _e(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function e2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Xm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xm(t);throw new _e(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Nn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Oh(t,e){if(!e2(t))throw new _e(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new _e(fe.INVALID_ARGUMENT,n);return!0}const CT=-62135596800,RT=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*RT);return new qe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<CT)throw new _e(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RT}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Oh(e,qe._jsonSchema))return new qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-CT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:Nn("string",qe._jsonSchemaVersion),seconds:Nn("number"),nanoseconds:Nn("number")};class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new qe(0,0))}static max(){return new Ue(new qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const uh=-1;function dO(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ue.fromTimestamp(s===1e9?new qe(n+1,0):new qe(n,s));return new Ja(a,Me.empty(),e)}function fO(t){return new Ja(t.readTime,t.key,uh)}class Ja{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ja(Ue.min(),Me.empty(),uh)}static max(){return new Ja(Ue.max(),Me.empty(),uh)}}function mO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:rt(t.largestBatchId,e.largestBatchId))}const pO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ac(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==pO)throw t;Se("LocalStore","Unexpectedly lost primary lease")}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.reject(n)}static resolve(e){return new pe(((n,s)=>{n(e)}))}static reject(e){return new pe(((n,s)=>{s(e)}))}static waitFor(e){return new pe(((n,s)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(d=>s(d)))})),c=!0,l===a&&n()}))}static or(e){let n=pe.resolve(!1);for(const s of e)n=n.next((a=>a?pe.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new pe(((s,a)=>{const l=e.length,c=new Array(l);let h=0;for(let d=0;d<l;d++){const m=d;n(e[m]).next((g=>{c[m]=g,++h,h===l&&s(c)}),(g=>a(g)))}}))}static doWhile(e,n){return new pe(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function yO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cc(t){return t.name==="IndexedDbTransactionError"}class Qm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qm.ce=-1;const zv=-1;function Jm(t){return t==null}function um(t){return t===0&&1/t==-1/0}function vO(t){return typeof t=="number"&&Number.isInteger(t)&&!um(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const t2="";function bO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=NT(e)),e=xO(t.get(n),e);return NT(e)}function xO(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case t2:n+="";break;default:n+=l}}return n}function NT(t){return t+t2+""}function IT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function n2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class sn{constructor(e,n){this.comparator=e,this.root=n||is.EMPTY}insert(e,n){return new sn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,is.BLACK,null,null))}remove(e){return new sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,is.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _f(this.root,e,this.comparator,!1)}getReverseIterator(){return new _f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _f(this.root,e,this.comparator,!0)}}class _f{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class is{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??is.RED,this.left=a??is.EMPTY,this.right=l??is.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new is(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return is.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return is.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,is.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,is.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}is.EMPTY=null,is.RED=!0,is.BLACK=!1;is.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new is(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Un{constructor(e){this.comparator=e,this.data=new sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kT(this.data.getIterator())}getIteratorFrom(e){return new kT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Un)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Un(this.comparator);return n.data=e,n}}class kT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ys{constructor(e){this.fields=e,e.sort(Kn.comparator)}static empty(){return new Ys([])}unionWith(e){let n=new Un(Kn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ys(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mc(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class s2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new s2("Invalid base64 string: "+l):l}})(e);return new Yn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yn.EMPTY_BYTE_STRING=new Yn("");const wO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Za(t){if(Tt(!!t,39018),typeof t=="string"){let e=0;const n=wO.exec(t);if(Tt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pn(t.seconds),nanos:pn(t.nanos)}}function pn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function eo(t){return typeof t=="string"?Yn.fromBase64String(t):Yn.fromUint8Array(t)}const i2="server_timestamp",r2="__type__",a2="__previous_value__",o2="__local_write_time__";function Bv(t){return(t?.mapValue?.fields||{})[r2]?.stringValue===i2}function Zm(t){const e=t.mapValue.fields[a2];return Bv(e)?Zm(e):e}function hh(t){const e=Za(t.mapValue.fields[o2].timestampValue);return new qe(e.seconds,e.nanos)}class _O{constructor(e,n,s,a,l,c,h,d,m,g,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=g,this.apiKey=b}}const hm="(default)";class pc{constructor(e,n){this.projectId=e,this.database=n||hm}static empty(){return new pc("","")}get isDefaultDatabase(){return this.database===hm}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}function TO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _e(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(t.options.projectId,e)}const l2="__type__",EO="__max__",Tf={mapValue:{}},c2="__vector__",dm="value";function to(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bv(t)?4:AO(t)?9007199254740991:SO(t)?10:11:Oe(28295,{value:t})}function cr(t,e){if(t===e)return!0;const n=to(t);if(n!==to(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hh(t).isEqual(hh(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Za(a.timestampValue),h=Za(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return eo(a.bytesValue).isEqual(eo(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return pn(a.geoPointValue.latitude)===pn(l.geoPointValue.latitude)&&pn(a.geoPointValue.longitude)===pn(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return pn(a.integerValue)===pn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=pn(a.doubleValue),h=pn(l.doubleValue);return c===h?um(c)===um(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return mc(t.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(IT(c)!==IT(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!cr(c[d],h[d])))return!1;return!0})(t,e);default:return Oe(52216,{left:t})}}function dh(t,e){return(t.values||[]).find((n=>cr(n,e)))!==void 0}function gc(t,e){if(t===e)return 0;const n=to(t),s=to(e);if(n!==s)return rt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=pn(l.integerValue||l.doubleValue),d=pn(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return DT(t.timestampValue,e.timestampValue);case 4:return DT(hh(t),hh(e));case 5:return w0(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=eo(l),d=eo(c);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),d=c.split("/");for(let m=0;m<h.length&&m<d.length;m++){const g=rt(h[m],d[m]);if(g!==0)return g}return rt(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=rt(pn(l.latitude),pn(c.latitude));return h!==0?h:rt(pn(l.longitude),pn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return MT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},d=c.fields||{},m=h[dm]?.arrayValue,g=d[dm]?.arrayValue,b=rt(m?.values?.length||0,g?.values?.length||0);return b!==0?b:MT(m,g)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Tf.mapValue&&c===Tf.mapValue)return 0;if(l===Tf.mapValue)return 1;if(c===Tf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),m=c.fields||{},g=Object.keys(m);d.sort(),g.sort();for(let b=0;b<d.length&&b<g.length;++b){const x=w0(d[b],g[b]);if(x!==0)return x;const A=gc(h[d[b]],m[g[b]]);if(A!==0)return A}return rt(d.length,g.length)})(t.mapValue,e.mapValue);default:throw Oe(23264,{he:n})}}function DT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rt(t,e);const n=Za(t),s=Za(e),a=rt(n.seconds,s.seconds);return a!==0?a:rt(n.nanos,s.nanos)}function MT(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=gc(n[a],s[a]);if(l)return l}return rt(n.length,s.length)}function yc(t){return _0(t)}function _0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Za(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return eo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Me.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=_0(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${_0(n.fields[c])}`;return a+"}"})(t.mapValue):Oe(61005,{value:t})}function Gf(t){switch(to(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zm(t);return e?16+Gf(e):16;case 5:return 2*t.stringValue.length;case 6:return eo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Gf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return oo(s.fields,((l,c)=>{a+=l.length+Gf(c)})),a})(t.mapValue);default:throw Oe(13486,{value:t})}}function PT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function T0(t){return!!t&&"integerValue"in t}function Fv(t){return!!t&&"arrayValue"in t}function jT(t){return!!t&&"nullValue"in t}function OT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $f(t){return!!t&&"mapValue"in t}function SO(t){return(t?.mapValue?.fields||{})[l2]?.stringValue===c2}function $u(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return oo(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=$u(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$u(t.arrayValue.values[n]);return e}return{...t}}function AO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EO}class Ps{constructor(e){this.value=e}static empty(){return new Ps({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!$f(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$u(n)}setAll(e){let n=Kn.emptyPath(),s={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,s,a),s={},a=[],n=h.popLast()}c?s[h.lastSegment()]=$u(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());$f(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];$f(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){oo(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Ps($u(this.value))}}function u2(t){const e=[];return oo(t.fields,((n,s)=>{const a=new Kn([n]);if($f(s)){const l=u2(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Ys(e)}class us{constructor(e,n,s,a,l,c,h){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new us(e,0,Ue.min(),Ue.min(),Ue.min(),Ps.empty(),0)}static newFoundDocument(e,n,s,a){return new us(e,1,n,Ue.min(),s,a,0)}static newNoDocument(e,n){return new us(e,2,n,Ue.min(),Ue.min(),Ps.empty(),0)}static newUnknownDocument(e,n){return new us(e,3,n,Ue.min(),Ue.min(),Ps.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ps.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ps.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof us&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new us(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fm{constructor(e,n){this.position=e,this.inclusive=n}}function VT(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=Me.comparator(Me.fromName(c.referenceValue),n.key):s=gc(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function LT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cr(t.position[n],e.position[n]))return!1;return!0}class mm{constructor(e,n="asc"){this.field=e,this.dir=n}}function CO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class h2{}class Rn extends h2{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new NO(e,n,s):n==="array-contains"?new DO(e,s):n==="in"?new MO(e,s):n==="not-in"?new PO(e,s):n==="array-contains-any"?new jO(e,s):new Rn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new IO(e,s):new kO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gc(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison(gc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends h2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Vi(e,n)}matches(e){return d2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function d2(t){return t.op==="and"}function f2(t){return RO(t)&&d2(t)}function RO(t){for(const e of t.filters)if(e instanceof Vi)return!1;return!0}function E0(t){if(t instanceof Rn)return t.field.canonicalString()+t.op.toString()+yc(t.value);if(f2(t))return t.filters.map((e=>E0(e))).join(",");{const e=t.filters.map((n=>E0(n))).join(",");return`${t.op}(${e})`}}function m2(t,e){return t instanceof Rn?(function(s,a){return a instanceof Rn&&s.op===a.op&&s.field.isEqual(a.field)&&cr(s.value,a.value)})(t,e):t instanceof Vi?(function(s,a){return a instanceof Vi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,h)=>l&&m2(c,a.filters[h])),!0):!1})(t,e):void Oe(19439)}function p2(t){return t instanceof Rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${yc(n.value)}`})(t):t instanceof Vi?(function(n){return n.op.toString()+" {"+n.getFilters().map(p2).join(" ,")+"}"})(t):"Filter"}class NO extends Rn{constructor(e,n,s){super(e,n,s),this.key=Me.fromName(s.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class IO extends Rn{constructor(e,n){super(e,"in",n),this.keys=g2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class kO extends Rn{constructor(e,n){super(e,"not-in",n),this.keys=g2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function g2(t,e){return(e.arrayValue?.values||[]).map((n=>Me.fromName(n.referenceValue)))}class DO extends Rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fv(n)&&dh(n.arrayValue,this.value)}}class MO extends Rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dh(this.value.arrayValue,n)}}class PO extends Rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dh(this.value.arrayValue,n)}}class jO extends Rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>dh(this.value.arrayValue,s)))}}class OO{constructor(e,n=null,s=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function UT(t,e=null,n=[],s=[],a=null,l=null,c=null){return new OO(t,e,n,s,a,l,c)}function qv(t){const e=Ge(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>E0(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Jm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>yc(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>yc(s))).join(",")),e.Te=n}return e.Te}function Hv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!m2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LT(t.startAt,e.startAt)&&LT(t.endAt,e.endAt)}function S0(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Vh{constructor(e,n=null,s=[],a=[],l=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function VO(t,e,n,s,a,l,c,h){return new Vh(t,e,n,s,a,l,c,h)}function ep(t){return new Vh(t)}function zT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LO(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function y2(t){return t.collectionGroup!==null}function Ku(t){const e=Ge(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Un(Kn.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new mm(l,s))})),n.has(Kn.keyField().canonicalString())||e.Ie.push(new mm(Kn.keyField(),s))}return e.Ie}function ir(t){const e=Ge(t);return e.Ee||(e.Ee=UO(e,Ku(t))),e.Ee}function UO(t,e){if(t.limitType==="F")return UT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new mm(a.field,l)}));const n=t.endAt?new fm(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new fm(t.startAt.position,t.startAt.inclusive):null;return UT(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function A0(t,e){const n=t.filters.concat([e]);return new Vh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function C0(t,e,n){return new Vh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tp(t,e){return Hv(ir(t),ir(e))&&t.limitType===e.limitType}function v2(t){return`${qv(ir(t))}|lt:${t.limitType}`}function Wl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>p2(a))).join(", ")}]`),Jm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>yc(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>yc(a))).join(",")),`Target(${s})`})(ir(t))}; limitType=${t.limitType})`}function np(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Me.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Ku(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,h,d){const m=VT(c,h,d);return c.inclusive?m<=0:m<0})(s.startAt,Ku(s),a)||s.endAt&&!(function(c,h,d){const m=VT(c,h,d);return c.inclusive?m>=0:m>0})(s.endAt,Ku(s),a))})(t,e)}function zO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function b2(t){return(e,n)=>{let s=!1;for(const a of Ku(t)){const l=BO(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function BO(t,e,n){const s=t.field.isKeyField()?Me.comparator(e.key,n.key):(function(l,c,h){const d=c.data.field(l),m=h.data.field(l);return d!==null&&m!==null?gc(d,m):Oe(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Oe(19790,{direction:t.dir})}}class al{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return n2(this.inner)}size(){return this.innerSize}}const FO=new sn(Me.comparator);function na(){return FO}const x2=new sn(Me.comparator);function zu(...t){let e=x2;for(const n of t)e=e.insert(n.key,n);return e}function w2(t){let e=x2;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ho(){return Yu()}function _2(){return Yu()}function Yu(){return new al((t=>t.toString()),((t,e)=>t.isEqual(e)))}const qO=new sn(Me.comparator),HO=new Un(Me.comparator);function at(...t){let e=HO;for(const n of t)e=e.add(n);return e}const GO=new Un(rt);function $O(){return GO}function Gv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:um(e)?"-0":e}}function T2(t){return{integerValue:""+t}}function KO(t,e){return vO(e)?T2(e):Gv(t,e)}class sp{constructor(){this._=void 0}}function YO(t,e,n){return t instanceof fh?(function(a,l){const c={fields:{[r2]:{stringValue:i2},[o2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Bv(l)&&(l=Zm(l)),l&&(c.fields[a2]=l),{mapValue:c}})(n,e):t instanceof mh?S2(t,e):t instanceof ph?A2(t,e):(function(a,l){const c=E2(a,l),h=BT(c)+BT(a.Ae);return T0(c)&&T0(a.Ae)?T2(h):Gv(a.serializer,h)})(t,e)}function WO(t,e,n){return t instanceof mh?S2(t,e):t instanceof ph?A2(t,e):n}function E2(t,e){return t instanceof pm?(function(s){return T0(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class fh extends sp{}class mh extends sp{constructor(e){super(),this.elements=e}}function S2(t,e){const n=C2(e);for(const s of t.elements)n.some((a=>cr(a,s)))||n.push(s);return{arrayValue:{values:n}}}class ph extends sp{constructor(e){super(),this.elements=e}}function A2(t,e){let n=C2(e);for(const s of t.elements)n=n.filter((a=>!cr(a,s)));return{arrayValue:{values:n}}}class pm extends sp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function BT(t){return pn(t.integerValue||t.doubleValue)}function C2(t){return Fv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class XO{constructor(e,n){this.field=e,this.transform=n}}function QO(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof mh&&a instanceof mh||s instanceof ph&&a instanceof ph?mc(s.elements,a.elements,cr):s instanceof pm&&a instanceof pm?cr(s.Ae,a.Ae):s instanceof fh&&a instanceof fh})(t.transform,e.transform)}class JO{constructor(e,n){this.version=e,this.transformResults=n}}class Ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ts}static exists(e){return new Ts(void 0,e)}static updateTime(e){return new Ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ip{}function R2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rp(t.key,Ts.none()):new Lh(t.key,t.data,Ts.none());{const n=t.data,s=Ps.empty();let a=new Un(Kn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new lo(t.key,s,new Ys(a.toArray()),Ts.none())}}function ZO(t,e,n){t instanceof Lh?(function(a,l,c){const h=a.value.clone(),d=qT(a.fieldTransforms,l,c.transformResults);h.setAll(d),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof lo?(function(a,l,c){if(!Kf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=qT(a.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(N2(a)),d.setAll(h),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Wu(t,e,n,s){return t instanceof Lh?(function(l,c,h,d){if(!Kf(l.precondition,c))return h;const m=l.value.clone(),g=HT(l.fieldTransforms,d,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,s):t instanceof lo?(function(l,c,h,d){if(!Kf(l.precondition,c))return h;const m=HT(l.fieldTransforms,d,c),g=c.data;return g.setAll(N2(l)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,c,h){return Kf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function eV(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=E2(s.transform,a||null);l!=null&&(n===null&&(n=Ps.empty()),n.set(s.field,l))}return n||null}function FT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&mc(s,a,((l,c)=>QO(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lh extends ip{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class lo extends ip{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function N2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function qT(t,e,n){const s=new Map;Tt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);s.set(l.field,WO(c,h,n[a]))}return s}function HT(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,YO(l,c,e))}return s}class rp extends ip{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tV extends ip{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nV{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&ZO(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Wu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Wu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=_2();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const d=R2(c,h);d!==null&&s.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(Ue.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),at())}isEqual(e){return this.batchId===e.batchId&&mc(this.mutations,e.mutations,((n,s)=>FT(n,s)))&&mc(this.baseMutations,e.baseMutations,((n,s)=>FT(n,s)))}}class $v{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Tt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return qO})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new $v(e,n,s,a)}}class sV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class iV{constructor(e,n){this.count=e,this.unchangedNames=n}}var An,ht;function rV(t){switch(t){case fe.OK:return Oe(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function I2(t){if(t===void 0)return ta("GRPC error has no .code"),fe.UNKNOWN;switch(t){case An.OK:return fe.OK;case An.CANCELLED:return fe.CANCELLED;case An.UNKNOWN:return fe.UNKNOWN;case An.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case An.INTERNAL:return fe.INTERNAL;case An.UNAVAILABLE:return fe.UNAVAILABLE;case An.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case An.NOT_FOUND:return fe.NOT_FOUND;case An.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case An.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case An.ABORTED:return fe.ABORTED;case An.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case An.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case An.DATA_LOSS:return fe.DATA_LOSS;default:return Oe(39323,{code:t})}}(ht=An||(An={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";function aV(){return new TextEncoder}const oV=new Ga([4294967295,4294967295],0);function GT(t){const e=aV().encode(t),n=new qC;return n.update(e),new Uint8Array(n.digest())}function $T(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ga([n,s],0),new Ga([a,l],0)]}class Kv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Bu(`Invalid padding: ${n}`);if(s<0)throw new Bu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Bu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ga.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Ga.fromNumber(s)));return a.compare(oV)===1&&(a=new Ga([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=GT(e),[s,a]=$T(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Kv(l,a,n);return s.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=GT(e),[s,a]=$T(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ap{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Uh.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ap(Ue.min(),a,new sn(rt),na(),at())}}class Uh{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Uh(s,n,at(),at(),at())}}class Yf{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class k2{constructor(e,n){this.targetId=e,this.Ce=n}}class D2{constructor(e,n,s=Yn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class KT{constructor(){this.ve=0,this.Fe=YT(),this.Me=Yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),n=at(),s=at();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Oe(38017,{changeType:l})}})),new Uh(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=YT()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class lV{constructor(e){this.Ge=e,this.ze=new Map,this.je=na(),this.He=Ef(),this.Je=Ef(),this.Ze=new sn(rt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(S0(l))if(s===0){const c=new Me(l.path);this.et(n,c,us.newNoDocument(c,Ue.min()))}else Tt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=eo(s).toUint8Array()}catch(d){if(d instanceof s2)return tl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Kv(c,a,l)}catch(d){return tl(d instanceof Bu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&S0(h.target)){const d=new Me(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,us.newNoDocument(d,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let s=at();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new ap(e,n,this.Ze,this.je,s);return this.je=na(),this.He=Ef(),this.Je=Ef(),this.Ze=new sn(rt),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new KT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Un(rt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Un(rt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new KT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ef(){return new sn(Me.comparator)}function YT(){return new sn(Me.comparator)}const cV={asc:"ASCENDING",desc:"DESCENDING"},uV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hV={and:"AND",or:"OR"};class dV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function R0(t,e){return t.useProto3Json||Jm(e)?e:{value:e}}function gm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fV(t,e){return gm(t,e.toTimestamp())}function rr(t){return Tt(!!t,49232),Ue.fromTimestamp((function(n){const s=Za(n);return new qe(s.seconds,s.nanos)})(t))}function Yv(t,e){return N0(t,e).canonicalString()}function N0(t,e){const n=(function(a){return new Bt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function P2(t){const e=Bt.fromString(t);return Tt(U2(e),10190,{key:e.toString()}),e}function I0(t,e){return Yv(t.databaseId,e.path)}function My(t,e){const n=P2(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(O2(n))}function j2(t,e){return Yv(t.databaseId,e)}function mV(t){const e=P2(t);return e.length===4?Bt.emptyPath():O2(e)}function k0(t){return new Bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function O2(t){return Tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function WT(t,e,n){return{name:I0(t,e),fields:n.value.mapValue.fields}}function pV(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Oe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,g){return m.useProto3Json?(Tt(g===void 0||typeof g=="string",58123),Yn.fromBase64String(g||"")):(Tt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Yn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const g=m.code===void 0?fe.UNKNOWN:I2(m.code);return new _e(g,m.message||"")})(c);n=new D2(s,a,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=My(t,s.document.name),l=rr(s.document.updateTime),c=s.document.createTime?rr(s.document.createTime):Ue.min(),h=new Ps({mapValue:{fields:s.document.fields}}),d=us.newFoundDocument(a,l,c,h),m=s.targetIds||[],g=s.removedTargetIds||[];n=new Yf(m,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=My(t,s.document),l=s.readTime?rr(s.readTime):Ue.min(),c=us.newNoDocument(a,l),h=s.removedTargetIds||[];n=new Yf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=My(t,s.document),l=s.removedTargetIds||[];n=new Yf([],l,a,null)}else{if(!("filter"in e))return Oe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new iV(a,l),h=s.targetId;n=new k2(h,c)}}return n}function gV(t,e){let n;if(e instanceof Lh)n={update:WT(t,e.key,e.value)};else if(e instanceof rp)n={delete:I0(t,e.key)};else if(e instanceof lo)n={update:WT(t,e.key,e.data),updateMask:SV(e.fieldMask)};else{if(!(e instanceof tV))return Oe(16599,{dt:e.type});n={verify:I0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const h=c.transform;if(h instanceof fh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof mh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ph)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof pm)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Oe(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:fV(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Oe(27497)})(t,e.precondition)),n}function yV(t,e){return t&&t.length>0?(Tt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?rr(a.updateTime):rr(l);return c.isEqual(Ue.min())&&(c=rr(l)),new JO(c,a.transformResults||[])})(n,e)))):[]}function vV(t,e){return{documents:[j2(t,e.path)]}}function bV(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=j2(t,a);const l=(function(m){if(m.length!==0)return L2(Vi.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((g=>(function(x){return{field:Xl(x.field),direction:_V(x.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=R0(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function xV(t){let e=mV(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Tt(s===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(b){const x=V2(b);return x instanceof Vi&&f2(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((x=>(function(k){return new mm(Ql(k.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(x)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let x;return x=typeof b=="object"?b.value:b,Jm(x)?null:x})(n.limit));let d=null;n.startAt&&(d=(function(b){const x=!!b.before,A=b.values||[];return new fm(A,x)})(n.startAt));let m=null;return n.endAt&&(m=(function(b){const x=!b.before,A=b.values||[];return new fm(A,x)})(n.endAt)),VO(e,a,c,l,h,"F",d,m)}function wV(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function V2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ql(n.unaryFilter.field);return Rn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ql(n.unaryFilter.field);return Rn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ql(n.unaryFilter.field);return Rn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ql(n.unaryFilter.field);return Rn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Rn.create(Ql(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Vi.create(n.compositeFilter.filters.map((s=>V2(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(n.compositeFilter.op))})(t):Oe(30097,{filter:t})}function _V(t){return cV[t]}function TV(t){return uV[t]}function EV(t){return hV[t]}function Xl(t){return{fieldPath:t.canonicalString()}}function Ql(t){return Kn.fromServerFormat(t.fieldPath)}function L2(t){return t instanceof Rn?(function(n){if(n.op==="=="){if(OT(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NAN"}};if(jT(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OT(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NOT_NAN"}};if(jT(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xl(n.field),op:TV(n.op),value:n.value}}})(t):t instanceof Vi?(function(n){const s=n.getFilters().map((a=>L2(a)));return s.length===1?s[0]:{compositeFilter:{op:EV(n.op),filters:s}}})(t):Oe(54877,{filter:t})}function SV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function U2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function z2(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Ba{constructor(e,n,s,a,l=Ue.min(),c=Ue.min(),h=Yn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class AV{constructor(e){this.yt=e}}function CV(t){const e=xV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?C0(e,e.limit,"L"):e}class RV{constructor(){this.Sn=new NV}addToCollectionParentIndex(e,n){return this.Sn.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(Ja.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(Ja.min())}updateCollectionGroup(e,n,s){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class NV{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Un(Bt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Un(Bt.comparator)).toArray()}}const XT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},B2=41943040;class Ms{static withCacheSize(e){return new Ms(e,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Ms.DEFAULT_COLLECTION_PERCENTILE=10,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ms.DEFAULT=new Ms(B2,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ms.DISABLED=new Ms(-1,0,0);class vc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new vc(0)}static ar(){return new vc(-1)}}const QT="LruGarbageCollector",IV=1048576;function JT([t,e],[n,s]){const a=rt(t,n);return a===0?rt(e,s):a}class kV{constructor(e){this.Pr=e,this.buffer=new Un(JT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();JT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DV{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Se(QT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cc(n)?Se(QT,"Ignoring IndexedDB error during garbage collection: ",n):await Ac(n)}await this.Ar(3e5)}))}}class MV{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return pe.resolve(Qm.ce);const s=new kV(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(XT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,c,h,d,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,h=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,d=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(m=Date.now(),Yl()<=it.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${b} documents in `+(m-d)+`ms
Total Duration: ${m-g}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function PV(t,e){return new MV(t,e)}class jV{constructor(){this.changes=new al((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,us.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?pe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class OV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class VV{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Wu(s.mutation,a,Ys.empty(),qe.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,at()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=at()){const a=Ho();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=zu();return l.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Ho();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,at())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,s,a){let l=na();const c=Yu(),h=(function(){return Yu()})();return n.forEach(((d,m)=>{const g=s.get(m.key);a.has(m.key)&&(g===void 0||g.mutation instanceof lo)?l=l.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),Wu(g.mutation,m,g.mutation.getFieldMask(),qe.now())):c.set(m.key,Ys.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((m,g)=>c.set(m,g))),n.forEach(((m,g)=>h.set(m,new OV(g,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,n){const s=Yu();let a=new sn(((c,h)=>c-h)),l=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let g=s.get(d)||Ys.empty();g=h.applyToLocalView(m,g),s.set(d,g);const b=(a.get(h.batchId)||at()).add(d);a=a.insert(h.batchId,b)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,g=d.value,b=_2();g.forEach((x=>{if(!l.has(x)){const A=R2(n.get(x),s.get(x));A!==null&&b.set(x,A),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,b))}return pe.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return LO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):y2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):pe.resolve(Ho());let h=uh,d=l;return c.next((m=>pe.forEach(m,((g,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),l.get(g)?pe.resolve():this.remoteDocumentCache.getEntry(e,g).next((x=>{d=d.insert(g,x)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,d,m,at()))).next((g=>({batchId:h,changes:w2(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((s=>{let a=zu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=zu();return this.indexManager.getCollectionParents(e,l).next((h=>pe.forEach(h,(d=>{const m=(function(b,x){return new Vh(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,s,a).next((g=>{g.forEach(((b,x)=>{c=c.insert(b,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((d,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,us.newInvalidDocument(g)))}));let h=zu();return c.forEach(((d,m)=>{const g=l.get(d);g!==void 0&&Wu(g.mutation,m,Ys.empty(),qe.now()),np(n,m)&&(h=h.insert(d,m))})),h}))}}class LV{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return pe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:rr(a.createTime)}})(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:CV(a.bundledQuery),readTime:rr(a.readTime)}})(n)),pe.resolve()}}class UV{constructor(){this.overlays=new sn(Me.comparator),this.Lr=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ho();return pe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),pe.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),pe.resolve()}getOverlaysForCollection(e,n,s){const a=Ho(),l=n.length+1,c=new Me(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>s&&a.set(d.getKey(),d)}return pe.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new sn(((m,g)=>m-g));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>s){let g=l.get(m.largestBatchId);g===null&&(g=Ho(),l=l.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const h=Ho(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,g)=>h.set(m,g))),!(h.size()>=a)););return pe.resolve(h)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new sV(n,s));let l=this.Lr.get(n);l===void 0&&(l=at(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class zV{constructor(){this.sessionToken=Yn.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}class Wv{constructor(){this.kr=new Un(Gn.Kr),this.qr=new Un(Gn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Gn(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Gn(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Me(new Bt([])),s=new Gn(n,e),a=new Gn(n,e+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Me(new Bt([])),s=new Gn(n,e),a=new Gn(n,e+1);let l=at();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Gn(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Gn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Me.comparator(e.key,n.key)||rt(e.Hr,n.Hr)}static Ur(e,n){return rt(e.Hr,n.Hr)||Me.comparator(e.key,n.key)}}class BV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Un(Gn.Kr)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new nV(l,n,s,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new Gn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return pe.resolve(c)}lookupMutationBatch(e,n){return pe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return pe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?zv:this.Yn-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Gn(n,0),a=new Gn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),pe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Un(rt);return n.forEach((a=>{const l=new Gn(a,0),c=new Gn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{s=s.add(h.Hr)}))})),pe.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Me.isDocumentKey(l)||(l=l.child(""));const c=new Gn(new Me(l),0);let h=new Un(rt);return this.Jr.forEachWhile((d=>{const m=d.key.path;return!!s.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Hr)),!0)}),c),pe.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Tt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return pe.forEach(n.mutations,(a=>{const l=new Gn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Gn(n,0),a=this.Jr.firstAfterOrEqual(s);return pe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class FV{constructor(e){this.ti=e,this.docs=(function(){return new sn(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return pe.resolve(s?s.document.mutableCopy():us.newInvalidDocument(n))}getEntries(e,n){let s=na();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():us.newInvalidDocument(a))})),pe.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=na();const c=n.path,h=new Me(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:g}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||mO(fO(g),s)<=0||(a.has(g.key)||np(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return pe.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Oe(9500)}ni(e,n){return pe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new qV(this)}getSize(e){return pe.resolve(this.size)}}class qV extends jV{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),pe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class HV{constructor(e){this.persistence=e,this.ri=new al((n=>qv(n)),Hv),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.ii=0,this.si=new Wv,this.targetCount=0,this.oi=vc._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),pe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new vc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.lr(n),pe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),pe.waitFor(l).next((()=>a))}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return pe.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),pe.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),pe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return pe.resolve(s)}containsKey(e,n){return pe.resolve(this.si.containsKey(n))}}class F2{constructor(e,n){this._i={},this.overlays={},this.ai=new Qm(0),this.ui=!1,this.ui=!0,this.ci=new zV,this.referenceDelegate=e(this),this.li=new HV(this),this.indexManager=new RV,this.remoteDocumentCache=(function(a){return new FV(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new AV(n),this.Pi=new LV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new BV(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){Se("MemoryPersistence","Starting transaction:",e);const a=new GV(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return pe.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class GV extends gO{constructor(e){super(),this.currentSequenceNumber=e}}class Xv{constructor(e){this.persistence=e,this.Ri=new Wv,this.Ai=null}static Vi(e){return new Xv(e)}get di(){if(this.Ai)return this.Ai;throw Oe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),pe.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.di,(s=>{const a=Me.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Ue.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return pe.or([()=>pe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ym{constructor(e,n){this.persistence=e,this.fi=new al((s=>bO(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=PV(this,n)}static Vi(e,n){return new ym(e,n)}Ti(){}Ii(e){return pe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return pe.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?pe.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((h=>{h||(s++,l.removeEntry(c,Ue.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),pe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),pe.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),pe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gf(e.data.value)),n}wr(e,n,s){return pe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return pe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=at(),a=at();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Qv(e,n.fromCache,s,a)}}class $V{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class KV{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return KP()?8:yO(fs())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new $V;return this.ys(e,n,c).next((h=>{if(l.result=h,this.As)return this.ws(e,n,c,h.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(Yl()<=it.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Wl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),pe.resolve()):(Yl()<=it.DEBUG&&Se("QueryEngine","Query:",Wl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(Yl()<=it.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Wl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ir(n))):pe.resolve())}gs(e,n){if(zT(n))return pe.resolve(null);let s=ir(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=C0(n,null,"F"),s=ir(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=at(...l);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,s).next((d=>{const m=this.bs(n,h);return this.Ss(n,m,c,d.readTime)?this.gs(e,C0(n,null,"F")):this.Ds(e,m,n,d)}))))})))))}ps(e,n,s,a){return zT(n)||a.isEqual(Ue.min())?pe.resolve(null):this.fs.getDocuments(e,s).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,s,a)?pe.resolve(null):(Yl()<=it.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Wl(n)),this.Ds(e,c,n,dO(a,uh)).next((h=>h)))}))}bs(e,n){let s=new Un(b2(e));return n.forEach(((a,l)=>{np(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return Yl()<=it.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Wl(n)),this.fs.getDocumentsMatchingQuery(e,n,Ja.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Jv="LocalStore",YV=3e8;class WV{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new sn(rt),this.Fs=new al((l=>qv(l)),Hv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VV(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function XV(t,e,n,s){return new WV(t,e,n,s)}async function q2(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],h=[];let d=at();for(const m of a){c.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}for(const m of l){h.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(s,d).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function QV(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,g){const b=m.batch,x=b.keys();let A=pe.resolve();return x.forEach((k=>{A=A.next((()=>g.getEntry(d,k))).next((I=>{const R=m.docVersions.get(k);Tt(R!==null,48541),I.version.compareTo(R)<0&&(b.applyToRemoteDocument(I,m),I.isValidDocument()&&(I.setReadTime(m.commitVersion),g.addEntry(I)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(d,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let d=at();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function H2(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function JV(t,e){const n=Ge(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((g,b)=>{const x=a.get(b);if(!x)return;h.push(n.li.removeMatchingKeys(l,g.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,g.addedDocuments,b))));let A=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?A=A.withResumeToken(Yn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,s)),a=a.insert(b,A),(function(I,R,O){return I.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=YV?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(x,A,g)&&h.push(n.li.updateTargetData(l,A))}));let d=na(),m=at();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),h.push(ZV(l,c,e.documentUpdates).next((g=>{d=g.Bs,m=g.Ls}))),!s.isEqual(Ue.min())){const g=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(g)}return pe.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,m))).next((()=>d))})).then((l=>(n.vs=a,l)))}function ZV(t,e,n){let s=at(),a=at();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=na();return n.forEach(((h,d)=>{const m=l.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Ue.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):Se(Jv,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{Bs:c,Ls:a}}))}function e3(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=zv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function t3(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,pe.resolve(a)):n.li.allocateTargetId(s).next((c=>(a=new Ba(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function D0(t,e,n){const s=Ge(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Cc(c))throw c;Se(Jv,`Failed to update sequence numbers for target ${e}: ${c}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function ZT(t,e,n){const s=Ge(t);let a=Ue.min(),l=at();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,m,g){const b=Ge(d),x=b.Fs.get(g);return x!==void 0?pe.resolve(b.vs.get(x)):b.li.getTargetData(m,g)})(s,c,ir(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,h.targetId).next((d=>{l=d}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,e,n?a:Ue.min(),n?l:at()))).next((h=>(n3(s,zO(e),h),{documents:h,ks:l})))))}function n3(t,e,n){let s=t.Ms.get(e)||Ue.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class eE{constructor(){this.activeTargetIds=$O()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s3{constructor(){this.vo=new eE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new eE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class i3{Mo(e){}shutdown(){}}const tE="ConnectivityMonitor";class nE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Se(tE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Se(tE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sf=null;function M0(){return Sf===null?Sf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sf++,"0x"+Sf.toString(16)}const Py="RestConnection",r3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class a3{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===hm?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const c=M0(),h=this.Qo(e,n.toUriEncodedString());Se(Py,`Sending RPC '${e}' ${c}:`,h,s);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,l);const{host:m}=new URL(h),g=sl(m);return this.zo(e,h,d,s,g).then((b=>(Se(Py,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw tl(Py,`RPC '${e}' ${c} failed with error: `,b,"url: ",h,"request:",s),b}))}jo(e,n,s,a,l,c){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=r3[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class o3{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const os="WebChannelConnection",Du=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class ac extends a3{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ac.c_){const e=KC();Du(e,$C.STAT_EVENT,(n=>{n.stat===x0.PROXY?Se(os,"STAT_EVENT: detected buffering proxy"):n.stat===x0.NOPROXY&&Se(os,"STAT_EVENT: detected no buffering proxy")})),ac.c_=!0}}zo(e,n,s,a,l){const c=M0();return new Promise(((h,d)=>{const m=new HC;m.setWithCredentials(!0),m.listenOnce(GC.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Hf.NO_ERROR:const b=m.getResponseJson();Se(os,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),h(b);break;case Hf.TIMEOUT:Se(os,`RPC '${e}' ${c} timed out`),d(new _e(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Hf.HTTP_ERROR:const x=m.getStatus();if(Se(os,`RPC '${e}' ${c} failed with status:`,x,"response text:",m.getResponseText()),x>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const k=A?.error;if(k&&k.status&&k.message){const I=(function(O){const H=O.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(H)>=0?H:fe.UNKNOWN})(k.status);d(new _e(I,k.message))}else d(new _e(fe.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new _e(fe.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Se(os,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);Se(os,`RPC '${e}' ${c} sending request:`,a),m.send(n,"POST",g,s,15)}))}T_(e,n,s){const a=M0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,s),h.encodeInitMessageHeaders=!0;const m=l.join("");Se(os,`Creating RPC '${e}' stream ${a}: ${m}`,h);const g=c.createWebChannel(m,h);this.I_(g);let b=!1,x=!1;const A=new o3({Ho:k=>{x?Se(os,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(b||(Se(os,`Opening RPC '${e}' stream ${a} transport.`),g.open(),b=!0),Se(os,`RPC '${e}' stream ${a} sending:`,k),g.send(k))},Jo:()=>g.close()});return Du(g,Uu.EventType.OPEN,(()=>{x||(Se(os,`RPC '${e}' stream ${a} transport opened.`),A.i_())})),Du(g,Uu.EventType.CLOSE,(()=>{x||(x=!0,Se(os,`RPC '${e}' stream ${a} transport closed`),A.o_(),this.E_(g))})),Du(g,Uu.EventType.ERROR,(k=>{x||(x=!0,tl(os,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),A.o_(new _e(fe.UNAVAILABLE,"The operation could not be completed")))})),Du(g,Uu.EventType.MESSAGE,(k=>{if(!x){const I=k.data[0];Tt(!!I,16349);const R=I,O=R?.error||R[0]?.error;if(O){Se(os,`RPC '${e}' stream ${a} received error:`,O);const H=O.status;let F=(function(ce){const D=An[ce];if(D!==void 0)return I2(D)})(H),re=O.message;F===void 0&&(F=fe.INTERNAL,re="Unknown error status: "+H+" with message "+O.message),x=!0,A.o_(new _e(F,re)),g.close()}else Se(os,`RPC '${e}' stream ${a} received:`,I),A.__(I)}})),ac.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return YC()}}function l3(t){return new ac(t)}function jy(){return typeof document<"u"?document:null}function op(t){return new dV(t,!0)}ac.c_=!1;class G2{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&Se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const sE="PersistentStream";class $2{constructor(e,n,s,a,l,c,h,d){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new G2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(ta(n.toString()),ta("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new _e(fe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Se(sE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Se(sE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class c3 extends $2{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=pV(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ue.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ue.min():c.readTime?rr(c.readTime):Ue.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=k0(this.serializer),n.addTarget=(function(l,c){let h;const d=c.target;if(h=S0(d)?{documents:vV(l,d)}:{query:bV(l,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=M2(l,c.resumeToken);const m=R0(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ue.min())>0){h.readTime=gm(l,c.snapshotVersion.toTimestamp());const m=R0(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const s=wV(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=k0(this.serializer),n.removeTarget=e,this.K_(n)}}class u3 extends $2{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yV(e.writeResults,e.commitTime),s=rr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=k0(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>gV(this.serializer,s)))};this.K_(n)}}class h3{}class d3 extends h3{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new _e(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,N0(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(fe.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,N0(n,s),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(fe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function f3(t,e,n,s){return new d3(t,e,n,s)}class m3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ta(n),this.aa=!1):Se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const nl="RemoteStore";class p3{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{ol(this)&&(Se(nl,"Restarting streams for network reachability change."),await(async function(d){const m=Ge(d);m.Ea.add(4),await zh(m),m.Va.set("Unknown"),m.Ea.delete(4),await lp(m)})(this))}))})),this.Va=new m3(s,a)}}async function lp(t){if(ol(t))for(const e of t.Ra)await e(!0)}async function zh(t){for(const e of t.Ra)await e(!1)}function K2(t,e){const n=Ge(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),nb(n)?tb(n):Rc(n).O_()&&eb(n,e))}function Zv(t,e){const n=Ge(t),s=Rc(n);n.Ia.delete(e),s.O_()&&Y2(n,e),n.Ia.size===0&&(s.O_()?s.L_():ol(n)&&n.Va.set("Unknown"))}function eb(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rc(t).Z_(e)}function Y2(t,e){t.da.$e(e),Rc(t).X_(e)}function tb(t){t.da=new lV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Rc(t).start(),t.Va.ua()}function nb(t){return ol(t)&&!Rc(t).x_()&&t.Ia.size>0}function ol(t){return Ge(t).Ea.size===0}function W2(t){t.da=void 0}async function g3(t){t.Va.set("Online")}async function y3(t){t.Ia.forEach(((e,n)=>{eb(t,e)}))}async function v3(t,e){W2(t),nb(t)?(t.Va.ha(e),tb(t)):t.Va.set("Unknown")}async function b3(t,e,n){if(t.Va.set("Online"),e instanceof D2&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(s){Se(nl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await vm(t,s)}else if(e instanceof Yf?t.da.Xe(e):e instanceof k2?t.da.st(e):t.da.tt(e),!n.isEqual(Ue.min()))try{const s=await H2(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const g=l.Ia.get(m);g&&l.Ia.set(m,g.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,m)=>{const g=l.Ia.get(d);if(!g)return;l.Ia.set(d,g.withResumeToken(Yn.EMPTY_BYTE_STRING,g.snapshotVersion)),Y2(l,d);const b=new Ba(g.target,d,m,g.sequenceNumber);eb(l,b)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){Se(nl,"Failed to raise snapshot:",s),await vm(t,s)}}async function vm(t,e,n){if(!Cc(e))throw e;t.Ea.add(1),await zh(t),t.Va.set("Offline"),n||(n=()=>H2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Se(nl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await lp(t)}))}function X2(t,e){return e().catch((n=>vm(t,n,e)))}async function cp(t){const e=Ge(t),n=no(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zv;for(;x3(e);)try{const a=await e3(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,w3(e,a)}catch(a){await vm(e,a)}Q2(e)&&J2(e)}function x3(t){return ol(t)&&t.Ta.length<10}function w3(t,e){t.Ta.push(e);const n=no(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Q2(t){return ol(t)&&!no(t).x_()&&t.Ta.length>0}function J2(t){no(t).start()}async function _3(t){no(t).ra()}async function T3(t){const e=no(t);for(const n of t.Ta)e.ea(n.mutations)}async function E3(t,e,n){const s=t.Ta.shift(),a=$v.from(s,e,n);await X2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await cp(t)}async function S3(t,e){e&&no(t).Y_&&await(async function(s,a){if((function(c){return rV(c)&&c!==fe.ABORTED})(a.code)){const l=s.Ta.shift();no(s).B_(),await X2(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await cp(s)}})(t,e),Q2(t)&&J2(t)}async function iE(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Se(nl,"RemoteStore received new credentials");const s=ol(n);n.Ea.add(3),await zh(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await lp(n)}async function A3(t,e){const n=Ge(t);e?(n.Ea.delete(2),await lp(n)):e||(n.Ea.add(2),await zh(n),n.Va.set("Unknown"))}function Rc(t){return t.ma||(t.ma=(function(n,s,a){const l=Ge(n);return l.sa(),new c3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:g3.bind(null,t),Yo:y3.bind(null,t),t_:v3.bind(null,t),J_:b3.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),nb(t)?tb(t):t.Va.set("Unknown")):(await t.ma.stop(),W2(t))}))),t.ma}function no(t){return t.fa||(t.fa=(function(n,s,a){const l=Ge(n);return l.sa(),new u3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:_3.bind(null,t),t_:S3.bind(null,t),ta:T3.bind(null,t),na:E3.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await cp(t)):(await t.fa.stop(),t.Ta.length>0&&(Se(nl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class sb{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,h=new sb(e,n,c,a,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ib(t,e){if(ta("AsyncQueue",`${e}: ${t}`),Cc(t))return new _e(fe.UNAVAILABLE,`${e}: ${t}`);throw t}class oc{static emptySet(e){return new oc(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Me.comparator(n.key,s.key):(n,s)=>Me.comparator(n.key,s.key),this.keyedMap=zu(),this.sortedSet=new sn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new oc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class rE{constructor(){this.ga=new sn(Me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Oe(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class bc{constructor(e,n,s,a,l,c,h,d,m){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new bc(e,n,oc.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class C3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class R3{constructor(){this.queries=aE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ge(n),l=a.queries;a.queries=aE(),l.forEach(((c,h)=>{for(const d of h.ba)d.onError(s)}))})(this,new _e(fe.ABORTED,"Firestore shutting down"))}}function aE(){return new al((t=>v2(t)),tp)}async function rb(t,e){const n=Ge(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new C3,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=ib(c,`Initialization of query '${Wl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&ob(n)}async function ab(t,e){const n=Ge(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function N3(t,e){const n=Ge(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(s=!0);c.wa=a}}s&&ob(n)}function I3(t,e,n){const s=Ge(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function ob(t){t.Ca.forEach((e=>{e.next()}))}var P0,oE;(oE=P0||(P0={})).Ma="default",oE.Cache="cache";class lb{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new bc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==P0.Cache}}class Z2{constructor(e){this.key=e}}class eR{constructor(e){this.key=e}}class k3{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=at(),this.mutatedKeys=at(),this.eu=b2(e),this.tu=new oc(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new rE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,b)=>{const x=a.get(g),A=np(this.query,b)?b:null,k=!!x&&this.mutatedKeys.has(x.key),I=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let R=!1;x&&A?x.data.isEqual(A.data)?k!==I&&(s.track({type:3,doc:A}),R=!0):this.su(x,A)||(s.track({type:2,doc:A}),R=!0,(d&&this.eu(A,d)>0||m&&this.eu(A,m)<0)&&(h=!0)):!x&&A?(s.track({type:0,doc:A}),R=!0):x&&!A&&(s.track({type:1,doc:x}),R=!0,(d||m)&&(h=!0)),R&&(A?(c=c.add(A),l=I?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),s.track({type:1,doc:g})}return{tu:c,iu:s,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,b)=>(function(A,k){const I=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Vt:R})}};return I(A)-I(k)})(g.type,b.type)||this.eu(g.doc,b.doc))),this.ou(s),a=a??!1;const h=n&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Xa;return this.Xa=d,c.length!==0||m?{snapshot:new bc(this.query,e.tu,l,c,e.mutatedKeys,d===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=at(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new eR(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new Z2(s))})),n}cu(e){this.Za=e.ks,this.Ya=at();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const cb="SyncEngine";class D3{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class M3{constructor(e){this.key=e,this.hu=!1}}class P3{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new al((h=>v2(h)),tp),this.Iu=new Map,this.Eu=new Set,this.Ru=new sn(Me.comparator),this.Au=new Map,this.Vu=new Wv,this.du={},this.mu=new Map,this.fu=vc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function j3(t,e,n=!0){const s=aR(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await tR(s,e,n,!0),a}async function O3(t,e){const n=aR(t);await tR(n,e,!0,!1)}async function tR(t,e,n,s){const a=await t3(t.localStore,ir(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await V3(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&K2(t.remoteStore,a),h}async function V3(t,e,n,s,a){t.pu=(b,x,A)=>(async function(I,R,O,H){let F=R.view.ru(O);F.Ss&&(F=await ZT(I.localStore,R.query,!1).then((({documents:D})=>R.view.ru(D,F))));const re=H&&H.targetChanges.get(R.targetId),te=H&&H.targetMismatches.get(R.targetId)!=null,ce=R.view.applyChanges(F,I.isPrimaryClient,re,te);return cE(I,R.targetId,ce.au),ce.snapshot})(t,b,x,A);const l=await ZT(t.localStore,e,!0),c=new k3(e,l.ks),h=c.ru(l.documents),d=Uh.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),m=c.applyChanges(h,t.isPrimaryClient,d);cE(t,n,m.au);const g=new D3(e,n,c);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function L3(t,e,n){const s=Ge(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!tp(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await D0(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Zv(s.remoteStore,a.targetId),j0(s,a.targetId)})).catch(Ac)):(j0(s,a.targetId),await D0(s.localStore,a.targetId,!0))}async function U3(t,e){const n=Ge(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Zv(n.remoteStore,s.targetId))}async function z3(t,e,n){const s=K3(t);try{const a=await(function(c,h){const d=Ge(c),m=qe.now(),g=h.reduce(((A,k)=>A.add(k.key)),at());let b,x;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let k=na(),I=at();return d.xs.getEntries(A,g).next((R=>{k=R,k.forEach(((O,H)=>{H.isValidDocument()||(I=I.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,k))).next((R=>{b=R;const O=[];for(const H of h){const F=eV(H,b.get(H.key).overlayedDocument);F!=null&&O.push(new lo(H.key,F,u2(F.value.mapValue),Ts.exists(!0)))}return d.mutationQueue.addMutationBatch(A,m,O,h)})).next((R=>{x=R;const O=R.applyToLocalDocumentSet(b,I);return d.documentOverlayCache.saveOverlays(A,R.batchId,O)}))})).then((()=>({batchId:x.batchId,changes:w2(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let m=c.du[c.currentUser.toKey()];m||(m=new sn(rt)),m=m.insert(h,d),c.du[c.currentUser.toKey()]=m})(s,a.batchId,n),await Bh(s,a.changes),await cp(s.remoteStore)}catch(a){const l=ib(a,"Failed to persist write");n.reject(l)}}async function nR(t,e){const n=Ge(t);try{const s=await JV(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Tt(c.hu,14607):a.removedDocuments.size>0&&(Tt(c.hu,42227),c.hu=!1))})),await Bh(n,s,e)}catch(s){await Ac(s)}}function lE(t,e,n){const s=Ge(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=Ge(c);d.onlineState=h;let m=!1;d.queries.forEach(((g,b)=>{for(const x of b.ba)x.va(h)&&(m=!0)})),m&&ob(d)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function B3(t,e,n){const s=Ge(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new sn(Me.comparator);c=c.insert(l,us.newNoDocument(l,Ue.min()));const h=at().add(l),d=new ap(Ue.min(),new Map,new sn(rt),c,h);await nR(s,d),s.Ru=s.Ru.remove(l),s.Au.delete(e),ub(s)}else await D0(s.localStore,e,!1).then((()=>j0(s,e,n))).catch(Ac)}async function F3(t,e){const n=Ge(t),s=e.batch.batchId;try{const a=await QV(n.localStore,e);iR(n,s,null),sR(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Bh(n,a)}catch(a){await Ac(a)}}async function q3(t,e,n){const s=Ge(t);try{const a=await(function(c,h){const d=Ge(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return d.mutationQueue.lookupMutationBatch(m,h).next((b=>(Tt(b!==null,37113),g=b.keys(),d.mutationQueue.removeMutationBatch(m,b)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>d.localDocuments.getDocuments(m,g)))}))})(s.localStore,e);iR(s,e,n),sR(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Bh(s,a)}catch(a){await Ac(a)}}function sR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function iR(t,e,n){const s=Ge(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function j0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||rR(t,s)}))}function rR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Zv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),ub(t))}function cE(t,e,n){for(const s of n)s instanceof Z2?(t.Vu.addReference(s.key,e),H3(t,s)):s instanceof eR?(Se(cb,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||rR(t,s.key)):Oe(19791,{wu:s})}function H3(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(Se(cb,"New document in limbo: "+n),t.Eu.add(s),ub(t))}function ub(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Me(Bt.fromString(e)),s=t.fu.next();t.Au.set(s,new M3(n)),t.Ru=t.Ru.insert(n,s),K2(t.remoteStore,new Ba(ir(ep(n.path)),s,"TargetPurposeLimboResolution",Qm.ce))}}async function Bh(t,e,n){const s=Ge(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,d)=>{c.push(s.pu(d,e,n).then((m=>{if((m||n)&&s.isPrimaryClient){const g=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;s.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(m){a.push(m);const g=Qv.Es(d.targetId,m);l.push(g)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(d,m){const g=Ge(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>pe.forEach(m,(x=>pe.forEach(x.Ts,(A=>g.persistence.referenceDelegate.addReference(b,x.targetId,A))).next((()=>pe.forEach(x.Is,(A=>g.persistence.referenceDelegate.removeReference(b,x.targetId,A)))))))))}catch(b){if(!Cc(b))throw b;Se(Jv,"Failed to update sequence numbers: "+b)}for(const b of m){const x=b.targetId;if(!b.fromCache){const A=g.vs.get(x),k=A.snapshotVersion,I=A.withLastLimboFreeSnapshotVersion(k);g.vs=g.vs.insert(x,I)}}})(s.localStore,l))}async function G3(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Se(cb,"User change. New user:",e.toKey());const s=await q2(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new _e(fe.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Bh(n,s.Ns)}}function $3(t,e){const n=Ge(t),s=n.Au.get(e);if(s&&s.hu)return at().add(s.key);{let a=at();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function aR(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B3.bind(null,e),e.Pu.J_=N3.bind(null,e.eventManager),e.Pu.yu=I3.bind(null,e.eventManager),e}function K3(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=F3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q3.bind(null,e),e}class bm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=op(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XV(this.persistence,new KV,e.initialUser,this.serializer)}Cu(e){return new F2(Xv.Vi,this.serializer)}Du(e){return new s3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bm.provider={build:()=>new bm};class Y3 extends bm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Tt(this.persistence.referenceDelegate instanceof ym,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new DV(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ms.withCacheSize(this.cacheSizeBytes):Ms.DEFAULT;return new F2((s=>ym.Vi(s,n)),this.serializer)}}class O0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>lE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=G3.bind(null,this.syncEngine),await A3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new R3})()}createDatastore(e){const n=op(e.databaseInfo.databaseId),s=l3(e.databaseInfo);return f3(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,h){return new p3(s,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>lE(this.syncEngine,n,0)),(function(){return nE.v()?new nE:new i3})())}createSyncEngine(e,n){return(function(a,l,c,h,d,m,g){const b=new P3(a,l,c,h,d,m);return g&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ge(n);Se(nl,"RemoteStore shutting down."),s.Ea.add(5),await zh(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}O0.provider={build:()=>new O0};class hb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ta("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const so="FirestoreClient";class W3{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=cs.UNAUTHENTICATED,this.clientId=Wm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{Se(so,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(Se(so,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ib(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Oy(t,e){t.asyncQueue.verifyOperationInProgress(),Se(so,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await q2(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function uE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await X3(t);Se(so,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>iE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>iE(e.remoteStore,a))),t._onlineComponents=e}async function X3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se(so,"Using user provided OfflineComponentProvider");try{await Oy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===fe.FAILED_PRECONDITION||a.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;tl("Error using user provided cache. Falling back to memory cache: "+n),await Oy(t,new bm)}}else Se(so,"Using default OfflineComponentProvider"),await Oy(t,new Y3(void 0));return t._offlineComponents}async function oR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se(so,"Using user provided OnlineComponentProvider"),await uE(t,t._uninitializedComponentsProvider._online)):(Se(so,"Using default OnlineComponentProvider"),await uE(t,new O0))),t._onlineComponents}function Q3(t){return oR(t).then((e=>e.syncEngine))}async function xm(t){const e=await oR(t),n=e.eventManager;return n.onListen=j3.bind(null,e.syncEngine),n.onUnlisten=L3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=U3.bind(null,e.syncEngine),n}function J3(t,e,n,s){const a=new hb(s),l=new lb(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>rb(await xm(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>ab(await xm(t),l)))}}function Z3(t,e,n={}){const s=new Wr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,m){const g=new hb({next:x=>{g.Nu(),c.enqueueAndForget((()=>ab(l,b)));const A=x.docs.has(h);!A&&x.fromCache?m.reject(new _e(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&x.fromCache&&d&&d.source==="server"?m.reject(new _e(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),b=new lb(ep(h.path),g,{includeMetadataChanges:!0,Ka:!0});return rb(l,b)})(await xm(t),t.asyncQueue,e,n,s))),s.promise}function eL(t,e,n={}){const s=new Wr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,m){const g=new hb({next:x=>{g.Nu(),c.enqueueAndForget((()=>ab(l,b))),x.fromCache&&d.source==="server"?m.reject(new _e(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),b=new lb(h,g,{includeMetadataChanges:!0,Ka:!0});return rb(l,b)})(await xm(t),t.asyncQueue,e,n,s))),s.promise}function tL(t,e){const n=new Wr;return t.asyncQueue.enqueueAndForget((async()=>z3(await Q3(t),e,n))),n.promise}function lR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const nL="ComponentProvider",hE=new Map;function sL(t,e,n,s,a){return new _O(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,lR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const cR="firestore.googleapis.com",dE=!0;class fE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cR,this.ssl=dE}else this.host=e.host,this.ssl=e.ssl??dE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=B2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IV)throw new _e(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lR(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _e(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _e(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _e(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class up{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new QC;switch(s.type){case"firstParty":return new aO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=hE.get(n);s&&(Se(nL,"Removing Datastore"),hE.delete(n),s.terminate())})(this),Promise.resolve()}}function uR(t,e,n,s={}){t=ds(t,up);const a=sl(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(wv(`https://${h}`),_v("Firestore",!0)),l.host!==cR&&l.host!==h&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:s};if(!Jo(d,c)&&(t._setSettings(d),s.mockUserToken)){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=cs.MOCK_USER;else{m=KA(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new _e(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new cs(b)}t._authCredentials=new sO(new XC(m,g))}}class co{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new co(this.firestore,e,this._query)}}class tn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Oh(n,tn._jsonSchema))return new tn(e,s||null,new Me(Bt.fromString(n.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:Nn("string",tn._jsonSchemaVersion),referencePath:Nn("string")};class Xr extends co{constructor(e,n,s){super(e,n,ep(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new Me(e))}withConverter(e){return new Xr(this.firestore,e,this._path)}}function fi(t,e,...n){if(t=nn(t),JC("collection","path",e),t instanceof up){const s=Bt.fromString(e,...n);return AT(s),new Xr(t,null,s)}{if(!(t instanceof tn||t instanceof Xr))throw new _e(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Bt.fromString(e,...n));return AT(s),new Xr(t.firestore,null,s)}}function gn(t,e,...n){if(t=nn(t),arguments.length===1&&(e=Wm.newId()),JC("doc","path",e),t instanceof up){const s=Bt.fromString(e,...n);return ST(s),new tn(t,null,new Me(s))}{if(!(t instanceof tn||t instanceof Xr))throw new _e(fe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Bt.fromString(e,...n));return ST(s),new tn(t.firestore,t instanceof Xr?t.converter:null,new Me(s))}}const mE="AsyncQueue";class pE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new G2(this,"async_queue_retry"),this._c=()=>{const s=jy();s&&Se(mE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=jy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Wr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Cc(e))throw e;Se(mE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ta("INTERNAL UNHANDLED ERROR: ",gE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=sb.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Oe(47125,{Pc:gE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function gE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Li extends up{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new pE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pE(e),this._firestoreClient=void 0,await e}}}function hR(t,e){const n=typeof t=="object"?t:Sv(),s=typeof t=="string"?t:hm,a=$m(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=HA("firestore");l&&uR(a,...l)}return a}function Nc(t){if(t._terminated)throw new _e(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||iL(t),t._firestoreClient}function iL(t){const e=t._freezeSettings(),n=sL(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new W3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Ks{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ks(Yn.fromBase64String(e))}catch(n){throw new _e(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ks(Yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ks._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Oh(e,Ks._jsonSchema))return Ks.fromBase64String(e.bytes)}}Ks._jsonSchemaVersion="firestore/bytes/1.0",Ks._jsonSchema={type:Nn("string",Ks._jsonSchemaVersion),bytes:Nn("string")};class Fh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qh{constructor(e){this._methodName=e}}class Oi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(Oh(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Nn("string",Oi._jsonSchemaVersion),latitude:Nn("number"),longitude:Nn("number")};class gi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Oh(e,gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new gi(e.vectorValues);throw new _e(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:Nn("string",gi._jsonSchemaVersion),vectorValues:Nn("object")};const rL=/^__.*__$/;class aL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new lo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lh(e,this.data,n,this.fieldTransforms)}}class dR{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new lo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{dataSource:t})}}class db{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new db({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return wm(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(fR(this.dataSource)&&rL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class oL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||op(e)}createContext(e,n,s,a=!1){return new db({dataSource:e,methodName:n,targetDoc:s,path:Kn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hh(t){const e=t._freezeSettings(),n=op(t._databaseId);return new oL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fb(t,e,n,s,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);pb("Data must be an object, but it was:",c,s);const h=gR(s,c);let d,m;if(l.merge)d=new Ys(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const b of l.mergeFields){const x=xc(e,b,n);if(!c.contains(x))throw new _e(fe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);bR(g,x)||g.push(x)}d=new Ys(g),m=c.fieldTransforms.filter((b=>d.covers(b.field)))}else d=null,m=c.fieldTransforms;return new aL(new Ps(h),d,m)}class Gh extends qh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gh}}class mb extends qh{_toFieldTransform(e){return new XO(e.path,new fh)}isEqual(e){return e instanceof mb}}function mR(t,e,n,s){const a=t.createContext(1,e,n);pb("Data must be an object, but it was:",a,s);const l=[],c=Ps.empty();oo(s,((d,m)=>{const g=vR(e,d,n);m=nn(m);const b=a.childContextForFieldPath(g);if(m instanceof Gh)l.push(g);else{const x=$h(m,b);x!=null&&(l.push(g),c.set(g,x))}}));const h=new Ys(l);return new dR(c,h,a.fieldTransforms)}function pR(t,e,n,s,a,l){const c=t.createContext(1,e,n),h=[xc(e,s,n)],d=[a];if(l.length%2!=0)throw new _e(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)h.push(xc(e,l[x])),d.push(l[x+1]);const m=[],g=Ps.empty();for(let x=h.length-1;x>=0;--x)if(!bR(m,h[x])){const A=h[x];let k=d[x];k=nn(k);const I=c.childContextForFieldPath(A);if(k instanceof Gh)m.push(A);else{const R=$h(k,I);R!=null&&(m.push(A),g.set(A,R))}}const b=new Ys(m);return new dR(g,b,c.fieldTransforms)}function lL(t,e,n,s=!1){return $h(n,t.createContext(s?4:3,e))}function $h(t,e){if(yR(t=nn(t)))return pb("Unsupported field value:",e,t),gR(t,e);if(t instanceof qh)return(function(s,a){if(!fR(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const h of s){let d=$h(h,a.childContextForArray(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=nn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return KO(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=qe.fromDate(s);return{timestampValue:gm(a.serializer,l)}}if(s instanceof qe){const l=new qe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gm(a.serializer,l)}}if(s instanceof Oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ks)return{bytesValue:M2(a.serializer,s._byteString)};if(s instanceof tn){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Yv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof gi)return(function(c,h){const d=c instanceof gi?c.toArray():c;return{mapValue:{fields:{[l2]:{stringValue:c2},[dm]:{arrayValue:{values:d.map((g=>{if(typeof g!="number")throw h.createError("VectorValues must only contain numeric values.");return Gv(h.serializer,g)}))}}}}}})(s,a);if(z2(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Xm(s)}`)})(t,e)}function gR(t,e){const n={};return n2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(t,((s,a)=>{const l=$h(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function yR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof Oi||t instanceof Ks||t instanceof tn||t instanceof qh||t instanceof gi||z2(t))}function pb(t,e,n){if(!yR(n)||!e2(n)){const s=Xm(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function xc(t,e,n){if((e=nn(e))instanceof Fh)return e._internalPath;if(typeof e=="string")return vR(t,e);throw wm("Field path arguments must be of type string or ",t,!1,void 0,n)}const cL=new RegExp("[~\\*/\\[\\]]");function vR(t,e,n){if(e.search(cL)>=0)throw wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fh(...e.split("."))._internalPath}catch{throw wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wm(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${s}`),c&&(d+=` in document ${a}`),d+=")"),new _e(fe.INVALID_ARGUMENT,h+t+d)}function bR(t,e){return t.some((n=>n.isEqual(e)))}class xR{convertValue(e,n="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return oo(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[dm].arrayValue?.values?.map((s=>pn(s.doubleValue)));return new gi(n)}convertGeoPoint(e){return new Oi(pn(e.latitude),pn(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Zm(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(hh(e));default:return null}}convertTimestamp(e){const n=Za(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Bt.fromString(e);Tt(U2(s),9688,{name:e});const a=new pc(s.get(1),s.get(3)),l=new Me(s.popFirst(5));return a.isEqual(n)||ta(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class gb extends xR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ks(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function _m(){return new Gh("deleteField")}function Yo(){return new mb("serverTimestamp")}const yE="@firebase/firestore",vE="4.10.0";function bE(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class wR{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(xc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uL extends wR{data(){return super.data()}}function _R(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yb{}class TR extends yb{}function $a(t,e,...n){let s=[];e instanceof yb&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((d=>d instanceof hp)).length,h=l.filter((d=>d instanceof Kh)).length;if(c>1||c>0&&h>0)throw new _e(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Kh extends TR{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Kh(e,n,s)}_apply(e){const n=this._parse(e);return ER(e._query,n),new co(e.firestore,e.converter,A0(e._query,n))}_parse(e){const n=Hh(e.firestore);return(function(l,c,h,d,m,g,b){let x;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new _e(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){wE(b,g);const k=[];for(const I of b)k.push(xE(d,l,I));x={arrayValue:{values:k}}}else x=xE(d,l,b)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||wE(b,g),x=lL(h,c,b,g==="in"||g==="not-in");return Rn.create(m,g,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function tr(t,e,n){const s=e,a=xc("where",t);return Kh._create(a,s,n)}class hp extends yb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Vi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const d of h)ER(c,d),c=A0(c,d)})(e._query,n),new co(e.firestore,e.converter,A0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function xE(t,e,n){if(typeof(n=nn(n))=="string"){if(n==="")throw new _e(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y2(e)&&n.indexOf("/")!==-1)throw new _e(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Bt.fromString(n));if(!Me.isDocumentKey(s))throw new _e(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return PT(t,new Me(s))}if(n instanceof tn)return PT(t,n._key);throw new _e(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xm(n)}.`)}function wE(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ER(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function vb(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ka extends wR{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(xc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ka._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ka._jsonSchema={type:Nn("string",Ka._jsonSchemaVersion),bundleSource:Nn("string","DocumentSnapshot"),bundleName:Nn("string"),bundle:Nn("string")};class Xu extends Ka{data(e={}){return super.data(e)}}class Ya{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Jl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Xu(this._firestore,this._userDataWriter,s.key,s,new Jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new Xu(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Jl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Xu(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Jl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),g=c.indexOf(h.doc.key)),{type:hL(h.type),doc:d,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ya._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:Nn("string",Ya._jsonSchemaVersion),bundleSource:Nn("string","QuerySnapshot"),bundleName:Nn("string"),bundle:Nn("string")};class SR{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Hh(e)}set(e,n,s){this._verifyNotCommitted();const a=Vy(e,this._firestore),l=vb(a.converter,n,s),c=fb(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,Ts.none())),this}update(e,n,s,...a){this._verifyNotCommitted();const l=Vy(e,this._firestore);let c;return c=typeof(n=nn(n))=="string"||n instanceof Fh?pR(this._dataReader,"WriteBatch.update",l._key,n,s,a):mR(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,Ts.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Vy(e,this._firestore);return this._mutations=this._mutations.concat(new rp(n._key,Ts.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vy(t,e){if((t=nn(t)).firestore!==e)throw new _e(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Wa(t){t=ds(t,tn);const e=ds(t.firestore,Li),n=Nc(e);return Z3(n,t._key).then((s=>AR(e,t,s)))}function Wo(t){t=ds(t,co);const e=ds(t.firestore,Li),n=Nc(e),s=new gb(e);return _R(t._query),eL(n,t._query).then((a=>new Ya(e,s,t,a)))}function Xo(t,e,n){t=ds(t,tn);const s=ds(t.firestore,Li),a=vb(t.converter,e,n),l=Hh(s);return Ic(s,[fb(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ts.none())])}function ls(t,e,n,...s){t=ds(t,tn);const a=ds(t.firestore,Li),l=Hh(a);let c;return c=typeof(e=nn(e))=="string"||e instanceof Fh?pR(l,"updateDoc",t._key,e,n,s):mR(l,"updateDoc",t._key,e),Ic(a,[c.toMutation(t._key,Ts.exists(!0))])}function bb(t){return Ic(ds(t.firestore,Li),[new rp(t._key,Ts.none())])}function xb(t,e){const n=ds(t.firestore,Li),s=gn(t),a=vb(t.converter,e),l=Hh(t.firestore);return Ic(n,[fb(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Ts.exists(!1))]).then((()=>s))}function lc(t,...e){t=nn(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||bE(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(bE(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let l,c,h;if(t instanceof tn)c=ds(t.firestore,Li),h=ep(t._key.path),l={next:m=>{e[s]&&e[s](AR(c,t,m))},error:e[s+1],complete:e[s+2]};else{const m=ds(t,co);c=ds(m.firestore,Li),h=m._query;const g=new gb(c);l={next:b=>{e[s]&&e[s](new Ya(c,g,m,b))},error:e[s+1],complete:e[s+2]},_R(t._query)}const d=Nc(c);return J3(d,h,a,l)}function Ic(t,e){const n=Nc(t);return tL(n,e)}function AR(t,e,n){const s=n.docs.get(e._key),a=new gb(t);return new Ka(t,a,e._key,s,new Jl(n.hasPendingWrites,n.fromCache),e.converter)}function V0(t){return t=ds(t,Li),Nc(t),new SR(t,(e=>Ic(t,e)))}(function(e,n=!0){nO(il),Zo(new Xa("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),h=new Li(new iO(s.getProvider("auth-internal")),new oO(c,s.getProvider("app-check-internal")),TO(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),nr(yE,vE,e),nr(yE,vE,"esm2020")})();const _E=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:xR,Bytes:Ks,CollectionReference:Xr,DocumentReference:tn,DocumentSnapshot:Ka,FieldPath:Fh,FieldValue:qh,Firestore:Li,FirestoreError:_e,GeoPoint:Oi,Query:co,QueryCompositeFilterConstraint:hp,QueryConstraint:TR,QueryDocumentSnapshot:Xu,QueryFieldFilterConstraint:Kh,QuerySnapshot:Ya,SnapshotMetadata:Jl,Timestamp:qe,VectorValue:gi,WriteBatch:SR,_AutoId:Wm,_ByteString:Yn,_DatabaseId:pc,_DocumentKey:Me,_EmptyAuthCredentialsProvider:QC,_FieldPath:Kn,_cast:ds,_logWarn:tl,_validateIsNotUsedTogether:ZC,addDoc:xb,collection:fi,connectFirestoreEmulator:uR,deleteDoc:bb,deleteField:_m,doc:gn,ensureFirestoreConfigured:Nc,executeWrite:Ic,getDoc:Wa,getDocs:Wo,getFirestore:hR,onSnapshot:lc,query:$a,serverTimestamp:Yo,setDoc:Xo,updateDoc:ls,where:tr,writeBatch:V0},Symbol.toStringTag,{value:"Module"}));const CR="firebasestorage.googleapis.com",dL="storageBucket",fL=120*1e3,mL=600*1e3;class fr extends dr{constructor(e,n,s=0){super(Ly(e),`Firebase Storage: ${n} (${Ly(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ly(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ur;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ur||(ur={}));function Ly(t){return"storage/"+t}function pL(){const t="An unknown error occurred, please check the error payload for server response.";return new fr(ur.UNKNOWN,t)}function gL(){return new fr(ur.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yL(){return new fr(ur.CANCELED,"User canceled the upload/download.")}function vL(t){return new fr(ur.INVALID_URL,"Invalid URL '"+t+"'.")}function bL(t){return new fr(ur.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function TE(t){return new fr(ur.INVALID_ARGUMENT,t)}function RR(){return new fr(ur.APP_DELETED,"The Firebase app was deleted.")}function xL(t){return new fr(ur.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Pi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Pi.makeFromUrl(e,n)}catch{return new Pi(e,"")}if(s.path==="")return s;throw bL(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),d={bucket:1,path:3};function m(re){re.path_=decodeURIComponent(re.path)}const g="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",A=new RegExp(`^https?://${b}/${g}/b/${a}/o${x}`,"i"),k={bucket:1,path:3},I=n===CR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",O=new RegExp(`^https?://${I}/${a}/${R}`,"i"),F=[{regex:h,indices:d,postModify:l},{regex:A,indices:k,postModify:m},{regex:O,indices:{bucket:1,path:2},postModify:m}];for(let re=0;re<F.length;re++){const te=F[re],ce=te.regex.exec(e);if(ce){const D=ce[te.indices.bucket];let C=ce[te.indices.path];C||(C=""),s=new Pi(D,C),te.postModify(s);break}}if(s==null)throw vL(e);return s}}class wL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function _L(t,e,n){let s=1,a=null,l=null,c=!1,h=0;function d(){return h===2}let m=!1;function g(...R){m||(m=!0,e.apply(null,R))}function b(R){a=setTimeout(()=>{a=null,t(A,d())},R)}function x(){l&&clearTimeout(l)}function A(R,...O){if(m){x();return}if(R){x(),g.call(null,R,...O);return}if(d()||c){x(),g.call(null,R,...O);return}s<64&&(s*=2);let F;h===1?(h=2,F=0):F=(s+Math.random())*1e3,b(F)}let k=!1;function I(R){k||(k=!0,x(),!m&&(a!==null?(R||(h=2),clearTimeout(a),b(0)):R||(h=1)))}return b(0),l=setTimeout(()=>{c=!0,I(!0)},n),I}function TL(t){t(!1)}function EL(t){return t!==void 0}function EE(t,e,n,s){if(s<e)throw TE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw TE(`Invalid value for '${t}'. Expected ${n} or less.`)}function SL(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Tm;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Tm||(Tm={}));function AL(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class CL{constructor(e,n,s,a,l,c,h,d,m,g,b,x=!0,A=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=b,this.retry=x,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,I)=>{this.resolve_=k,this.reject_=I,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Af(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===Tm.NO_ERROR,d=l.getStatus();if(!h||AL(d,this.additionalRetryCodes_)&&this.retry){const g=l.getErrorCode()===Tm.ABORT;s(!1,new Af(!1,null,g));return}const m=this.successCodes_.indexOf(d)!==-1;s(!0,new Af(m,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());EL(d)?l(d):l()}catch(d){c(d)}else if(h!==null){const d=pL();d.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,d)):c(d)}else if(a.canceled){const d=this.appDelete_?RR():yL();c(d)}else{const d=gL();c(d)}};this.canceled_?n(!1,new Af(!1,null,!0)):this.backoffId_=_L(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&TL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Af{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function RL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function NL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function IL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function kL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function DL(t,e,n,s,a,l,c=!0,h=!1){const d=SL(t.urlParams),m=t.url+d,g=Object.assign({},t.headers);return IL(g,e),RL(g,n),NL(g,l),kL(g,s),new CL(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,h)}function ML(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function PL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Em{constructor(e,n){this._service=e,n instanceof Pi?this._location=n:this._location=Pi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Em(e,n)}get root(){const e=new Pi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PL(this._location.path)}get storage(){return this._service}get parent(){const e=ML(this._location.path);if(e===null)return null;const n=new Pi(this._location.bucket,e);return new Em(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xL(e)}}function SE(t,e){const n=e?.[dL];return n==null?null:Pi.makeFromBucketSpec(n,t)}function jL(t,e,n,s={}){t.host=`${e}:${n}`;const a=sl(e);a&&(wv(`https://${t.host}/b`),_v("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:KA(l,t.app.options.projectId))}class OL{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=CR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fL,this._maxUploadRetryTime=mL,this._requests=new Set,a!=null?this._bucket=Pi.makeFromBucketSpec(a,this._host):this._bucket=SE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Pi.makeFromBucketSpec(this._url,e):this._bucket=SE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){EE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){EE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Em(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new wL(RR());{const c=DL(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const AE="@firebase/storage",CE="0.14.0";const NR="storage";function VL(t=Sv(),e){t=nn(t);const s=$m(t,NR).getImmediate({identifier:e}),a=HA("storage");return a&&LL(s,...a),s}function LL(t,e,n,s={}){jL(t,e,n,s)}function UL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new OL(n,s,a,e,il)}function zL(){Zo(new Xa(NR,UL,"PUBLIC").setMultipleInstances(!0)),nr(AE,CE,""),nr(AE,CE,"esm2020")}zL();const BL={apiKey:"AIzaSyC7IaK8e0JimVT2DeKQovTDLPyufibEu_4",authDomain:"sunsar-bingo.firebaseapp.com",projectId:"sunsar-bingo",storageBucket:"sunsar-bingo.firebasestorage.app",messagingSenderId:"256131852935",appId:"1:256131852935:web:fe514c1e6758e5af252622"},dp=XA(BL),Fr=FC(dp),IR=new er,ft=hR(dp);VL(dp);const RE=Object.freeze(Object.defineProperty({__proto__:null,app:dp,auth:Fr,db:ft,googleProvider:IR},Symbol.toStringTag,{value:"Module"})),kR=S.createContext(void 0),FL=({children:t})=>{const[e,n]=S.useState(null),[s,a]=S.useState(!0),[l,c]=S.useState(null);S.useEffect(()=>{const b=(async()=>{try{await _C(Fr,jv);try{const A=await LC(Fr);A?.user&&console.log("Welcome back via redirect!",A.user.email)}catch(A){console.error("Redirect check error:",A),A.message&&A.message.includes("missing initial state")&&console.warn("Detected missing initial state error. This usually happens in in-app browsers.")}}catch(A){console.error("Auth initialization error:",A)}return SC(Fr,async A=>{if(A){const k={uid:A.uid,email:A.email,displayName:A.displayName,photoURL:A.photoURL};n(k),c(null);try{const{doc:I,setDoc:R,Timestamp:O}=await Kl(async()=>{const{doc:F,setDoc:re,Timestamp:te}=await Promise.resolve().then(()=>_E);return{doc:F,setDoc:re,Timestamp:te}},[]),{db:H}=await Kl(async()=>{const{db:F}=await Promise.resolve().then(()=>RE);return{db:F}},void 0);await R(I(H,"users",A.uid),{...k,lastSeen:O.now()},{merge:!0})}catch(I){console.error("Error syncing user profile:",I)}}else n(null);a(!1)})})();return()=>{b.then(x=>x&&x())}},[]);const h=async()=>{c(null);try{await VC(Fr,IR)}catch(g){console.error("Sign in error:",g),g.code==="auth/popup-blocked"?c("Login popup was blocked. Please allow popups or try a different browser."):g.code==="auth/popup-closed-by-user"?c("Login cancelled."):c(g.message||"Failed to sign in. Please try opening in Chrome or Safari.")}},d=async()=>{await AC(Fr)},m=async g=>{if(Fr.currentUser)try{const{updateProfile:b}=await Kl(async()=>{const{updateProfile:I}=await Promise.resolve().then(()=>tO);return{updateProfile:I}},void 0);await b(Fr.currentUser,{displayName:g}),n(I=>I?{...I,displayName:g}:null);const{doc:x,updateDoc:A}=await Kl(async()=>{const{doc:I,updateDoc:R}=await Promise.resolve().then(()=>_E);return{doc:I,updateDoc:R}},void 0),{db:k}=await Kl(async()=>{const{db:I}=await Promise.resolve().then(()=>RE);return{db:I}},void 0);await A(x(k,"users",Fr.currentUser.uid),{displayName:g})}catch(b){throw console.error("Error updating profile:",b),b}};return y.jsx(kR.Provider,{value:{user:e,loading:s,signIn:h,logout:d,updateProfileName:m,error:l},children:t})},Fi=()=>{const t=S.useContext(kR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},wb=S.createContext({});function _b(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const DR=typeof window<"u",MR=DR?S.useLayoutEffect:S.useEffect,fp=S.createContext(null);function Tb(t,e){t.indexOf(e)===-1&&t.push(e)}function Eb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const hr=(t,e,n)=>n>e?e:n<t?t:n;let Sb=()=>{};const sa={},PR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function jR(t){return typeof t=="object"&&t!==null}const OR=t=>/^0[^.\s]+$/u.test(t);function Ab(t){let e;return()=>(e===void 0&&(e=t()),e)}const yi=t=>t,qL=(t,e)=>n=>e(t(n)),Yh=(...t)=>t.reduce(qL),gh=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Cb{constructor(){this.subscriptions=[]}add(e){return Tb(this.subscriptions,e),()=>Eb(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qr=t=>t*1e3,pi=t=>t/1e3;function VR(t,e){return e?t*(1e3/e):0}const LR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,HL=1e-7,GL=12;function $L(t,e,n,s,a){let l,c,h=0;do c=e+(n-e)/2,l=LR(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>HL&&++h<GL);return c}function Wh(t,e,n,s){if(t===e&&n===s)return yi;const a=l=>$L(l,0,1,t,n);return l=>l===0||l===1?l:LR(a(l),e,s)}const UR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zR=t=>e=>1-t(1-e),BR=Wh(.33,1.53,.69,.99),Rb=zR(BR),FR=UR(Rb),qR=t=>(t*=2)<1?.5*Rb(t):.5*(2-Math.pow(2,-10*(t-1))),Nb=t=>1-Math.sin(Math.acos(t)),HR=zR(Nb),GR=UR(Nb),KL=Wh(.42,0,1,1),YL=Wh(0,0,.58,1),$R=Wh(.42,0,.58,1),WL=t=>Array.isArray(t)&&typeof t[0]!="number",KR=t=>Array.isArray(t)&&typeof t[0]=="number",XL={linear:yi,easeIn:KL,easeInOut:$R,easeOut:YL,circIn:Nb,circInOut:GR,circOut:HR,backIn:Rb,backInOut:FR,backOut:BR,anticipate:qR},QL=t=>typeof t=="string",NE=t=>{if(KR(t)){Sb(t.length===4);const[e,n,s,a]=t;return Wh(e,n,s,a)}else if(QL(t))return XL[t];return t},Cf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function JL(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(g){c.has(g)&&(m.schedule(g),t()),g(h)}const m={schedule:(g,b=!1,x=!1)=>{const k=x&&a?n:s;return b&&c.add(g),k.has(g)||k.add(g),g},cancel:g=>{s.delete(g),c.delete(g)},process:g=>{if(h=g,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,m.process(g))}};return m}const ZL=40;function YR(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Cf.reduce((F,re)=>(F[re]=JL(l),F),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:g,update:b,preRender:x,render:A,postRender:k}=c,I=()=>{const F=sa.useManualTiming?a.timestamp:performance.now();n=!1,sa.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(F-a.timestamp,ZL),1)),a.timestamp=F,a.isProcessing=!0,h.process(a),d.process(a),m.process(a),g.process(a),b.process(a),x.process(a),A.process(a),k.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(I))},R=()=>{n=!0,s=!0,a.isProcessing||t(I)};return{schedule:Cf.reduce((F,re)=>{const te=c[re];return F[re]=(ce,D=!1,C=!1)=>(n||R(),te.schedule(ce,D,C)),F},{}),cancel:F=>{for(let re=0;re<Cf.length;re++)c[Cf[re]].cancel(F)},state:a,steps:c}}const{schedule:$t,cancel:io,state:ss,steps:Uy}=YR(typeof requestAnimationFrame<"u"?requestAnimationFrame:yi,!0);let Wf;function e6(){Wf=void 0}const ws={now:()=>(Wf===void 0&&ws.set(ss.isProcessing||sa.useManualTiming?ss.timestamp:performance.now()),Wf),set:t=>{Wf=t,queueMicrotask(e6)}},WR=t=>e=>typeof e=="string"&&e.startsWith(t),XR=WR("--"),t6=WR("var(--"),Ib=t=>t6(t)?n6.test(t.split("/*")[0].trim()):!1,n6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function IE(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const kc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},yh={...kc,transform:t=>hr(0,1,t)},Rf={...kc,default:1},Qu=t=>Math.round(t*1e5)/1e5,kb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function s6(t){return t==null}const i6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Db=(t,e)=>n=>!!(typeof n=="string"&&i6.test(n)&&n.startsWith(t)||e&&!s6(n)&&Object.prototype.hasOwnProperty.call(n,e)),QR=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,h]=s.match(kb);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},r6=t=>hr(0,255,t),zy={...kc,transform:t=>Math.round(r6(t))},Go={test:Db("rgb","red"),parse:QR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+zy.transform(t)+", "+zy.transform(e)+", "+zy.transform(n)+", "+Qu(yh.transform(s))+")"};function a6(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const L0={test:Db("#"),parse:a6,transform:Go.transform},Xh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ua=Xh("deg"),ar=Xh("%"),Ce=Xh("px"),o6=Xh("vh"),l6=Xh("vw"),kE={...ar,parse:t=>ar.parse(t)/100,transform:t=>ar.transform(t*100)},Zl={test:Db("hsl","hue"),parse:QR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ar.transform(Qu(e))+", "+ar.transform(Qu(n))+", "+Qu(yh.transform(s))+")"},Cn={test:t=>Go.test(t)||L0.test(t)||Zl.test(t),parse:t=>Go.test(t)?Go.parse(t):Zl.test(t)?Zl.parse(t):L0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Go.transform(t):Zl.transform(t),getAnimatableNone:t=>{const e=Cn.parse(t);return e.alpha=0,Cn.transform(e)}},c6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function u6(t){return isNaN(t)&&typeof t=="string"&&(t.match(kb)?.length||0)+(t.match(c6)?.length||0)>0}const JR="number",ZR="color",h6="var",d6="var(",DE="${}",f6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vh(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(f6,d=>(Cn.test(d)?(s.color.push(l),a.push(ZR),n.push(Cn.parse(d))):d.startsWith(d6)?(s.var.push(l),a.push(h6),n.push(d)):(s.number.push(l),a.push(JR),n.push(parseFloat(d))),++l,DE)).split(DE);return{values:n,split:h,indexes:s,types:a}}function eN(t){return vh(t).values}function tN(t){const{split:e,types:n}=vh(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===JR?l+=Qu(a[c]):h===ZR?l+=Cn.transform(a[c]):l+=a[c]}return l}}const m6=t=>typeof t=="number"?0:Cn.test(t)?Cn.getAnimatableNone(t):t;function p6(t){const e=eN(t);return tN(t)(e.map(m6))}const ro={test:u6,parse:eN,createTransformer:tN,getAnimatableNone:p6};function By(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function g6({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=By(d,h,t+1/3),l=By(d,h,t),c=By(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Sm(t,e){return n=>n>0?e:t}const en=(t,e,n)=>t+(e-t)*n,Fy=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},y6=[L0,Go,Zl],v6=t=>y6.find(e=>e.test(t));function ME(t){const e=v6(t);if(!e)return!1;let n=e.parse(t);return e===Zl&&(n=g6(n)),n}const PE=(t,e)=>{const n=ME(t),s=ME(e);if(!n||!s)return Sm(t,e);const a={...n};return l=>(a.red=Fy(n.red,s.red,l),a.green=Fy(n.green,s.green,l),a.blue=Fy(n.blue,s.blue,l),a.alpha=en(n.alpha,s.alpha,l),Go.transform(a))},U0=new Set(["none","hidden"]);function b6(t,e){return U0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function x6(t,e){return n=>en(t,e,n)}function Mb(t){return typeof t=="number"?x6:typeof t=="string"?Ib(t)?Sm:Cn.test(t)?PE:T6:Array.isArray(t)?nN:typeof t=="object"?Cn.test(t)?PE:w6:Sm}function nN(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>Mb(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function w6(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Mb(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function _6(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],h=t.values[c]??0;n[a]=h,s[l]++}return n}const T6=(t,e)=>{const n=ro.createTransformer(e),s=vh(t),a=vh(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?U0.has(t)&&!a.values.length||U0.has(e)&&!s.values.length?b6(t,e):Yh(nN(_6(s,a),a.values),n):Sm(t,e)};function sN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?en(t,e,n):Mb(t)(t,e)}const E6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>$t.update(e,n),stop:()=>io(e),now:()=>ss.isProcessing?ss.timestamp:ws.now()}},iN=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Am=2e4;function Pb(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Am;)e+=n,s=t.next(e);return e>=Am?1/0:e}function S6(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Pb(s),Am);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:pi(a)}}const A6=5;function rN(t,e,n){const s=Math.max(e-A6,0);return VR(n-t(s),e-s)}const hn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qy=.001;function C6({duration:t=hn.duration,bounce:e=hn.bounce,velocity:n=hn.velocity,mass:s=hn.mass}){let a,l,c=1-e;c=hr(hn.minDamping,hn.maxDamping,c),t=hr(hn.minDuration,hn.maxDuration,pi(t)),c<1?(a=m=>{const g=m*c,b=g*t,x=g-n,A=z0(m,c),k=Math.exp(-b);return qy-x/A*k},l=m=>{const b=m*c*t,x=b*n+n,A=Math.pow(c,2)*Math.pow(m,2)*t,k=Math.exp(-b),I=z0(Math.pow(m,2),c);return(-a(m)+qy>0?-1:1)*((x-A)*k)/I}):(a=m=>{const g=Math.exp(-m*t),b=(m-n)*t+1;return-qy+g*b},l=m=>{const g=Math.exp(-m*t),b=(n-m)*(t*t);return g*b});const h=5/t,d=N6(a,l,h);if(t=Qr(t),isNaN(d))return{stiffness:hn.stiffness,damping:hn.damping,duration:t};{const m=Math.pow(d,2)*s;return{stiffness:m,damping:c*2*Math.sqrt(s*m),duration:t}}}const R6=12;function N6(t,e,n){let s=n;for(let a=1;a<R6;a++)s=s-t(s)/e(s);return s}function z0(t,e){return t*Math.sqrt(1-e*e)}const I6=["duration","bounce"],k6=["stiffness","damping","mass"];function jE(t,e){return e.some(n=>t[n]!==void 0)}function D6(t){let e={velocity:hn.velocity,stiffness:hn.stiffness,damping:hn.damping,mass:hn.mass,isResolvedFromDuration:!1,...t};if(!jE(t,k6)&&jE(t,I6))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*hr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:hn.mass,stiffness:a,damping:l}}else{const n=C6(t);e={...e,...n,mass:hn.mass},e.isResolvedFromDuration=!0}return e}function Cm(t=hn.visualDuration,e=hn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:m,mass:g,duration:b,velocity:x,isResolvedFromDuration:A}=D6({...n,velocity:-pi(n.velocity||0)}),k=x||0,I=m/(2*Math.sqrt(d*g)),R=c-l,O=pi(Math.sqrt(d/g)),H=Math.abs(R)<5;s||(s=H?hn.restSpeed.granular:hn.restSpeed.default),a||(a=H?hn.restDelta.granular:hn.restDelta.default);let F;if(I<1){const te=z0(O,I);F=ce=>{const D=Math.exp(-I*O*ce);return c-D*((k+I*O*R)/te*Math.sin(te*ce)+R*Math.cos(te*ce))}}else if(I===1)F=te=>c-Math.exp(-O*te)*(R+(k+O*R)*te);else{const te=O*Math.sqrt(I*I-1);F=ce=>{const D=Math.exp(-I*O*ce),C=Math.min(te*ce,300);return c-D*((k+I*O*R)*Math.sinh(C)+te*R*Math.cosh(C))/te}}const re={calculatedDuration:A&&b||null,next:te=>{const ce=F(te);if(A)h.done=te>=b;else{let D=te===0?k:0;I<1&&(D=te===0?Qr(k):rN(F,te,ce));const C=Math.abs(D)<=s,j=Math.abs(c-ce)<=a;h.done=C&&j}return h.value=h.done?c:ce,h},toString:()=>{const te=Math.min(Pb(re),Am),ce=iN(D=>re.next(te*D).value,te,30);return te+"ms "+ce},toTransition:()=>{}};return re}Cm.applyToOptions=t=>{const e=S6(t,100,Cm);return t.ease=e.ease,t.duration=Qr(e.duration),t.type="keyframes",t};function B0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:d,restDelta:m=.5,restSpeed:g}){const b=t[0],x={done:!1,value:b},A=C=>h!==void 0&&C<h||d!==void 0&&C>d,k=C=>h===void 0?d:d===void 0||Math.abs(h-C)<Math.abs(d-C)?h:d;let I=n*e;const R=b+I,O=c===void 0?R:c(R);O!==R&&(I=O-b);const H=C=>-I*Math.exp(-C/s),F=C=>O+H(C),re=C=>{const j=H(C),B=F(C);x.done=Math.abs(j)<=m,x.value=x.done?O:B};let te,ce;const D=C=>{A(x.value)&&(te=C,ce=Cm({keyframes:[x.value,k(x.value)],velocity:rN(F,C,x.value),damping:a,stiffness:l,restDelta:m,restSpeed:g}))};return D(0),{calculatedDuration:null,next:C=>{let j=!1;return!ce&&te===void 0&&(j=!0,re(C),D(C)),te!==void 0&&C>=te?ce.next(C-te):(!j&&re(C),x)}}}function M6(t,e,n){const s=[],a=n||sa.mix||sN,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||yi:e;h=Yh(d,h)}s.push(h)}return s}function P6(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Sb(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=M6(e,s,a),d=h.length,m=g=>{if(c&&g<t[0])return e[0];let b=0;if(d>1)for(;b<t.length-2&&!(g<t[b+1]);b++);const x=gh(t[b],t[b+1],g);return h[b](x)};return n?g=>m(hr(t[0],t[l-1],g)):m}function j6(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=gh(0,e,s);t.push(en(n,1,a))}}function O6(t){const e=[0];return j6(e,t.length-1),e}function V6(t,e){return t.map(n=>n*e)}function L6(t,e){return t.map(()=>e||$R).splice(0,t.length-1)}function Ju({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=WL(s)?s.map(NE):NE(s),l={done:!1,value:e[0]},c=V6(n&&n.length===e.length?n:O6(e),t),h=P6(c,e,{ease:Array.isArray(a)?a:L6(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const U6=t=>t!==null;function jb(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(U6),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const z6={decay:B0,inertia:B0,tween:Ju,keyframes:Ju,spring:Cm};function aN(t){typeof t.type=="string"&&(t.type=z6[t.type])}class Ob{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const B6=t=>t/100;class Vb extends Ob{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==ws.now()&&this.tick(ws.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;aN(e);const{type:n=Ju,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const d=n||Ju;d!==Ju&&typeof h[0]!="number"&&(this.mixKeyframes=Yh(B6,sN(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Pb(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:g,repeat:b,repeatType:x,repeatDelay:A,type:k,onUpdate:I,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-m*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?O<0:O>a;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,re=s;if(b){const C=Math.min(this.currentTime,a)/h;let j=Math.floor(C),B=C%1;!B&&C>=1&&(B=1),B===1&&j--,j=Math.min(j,b+1),j%2&&(x==="reverse"?(B=1-B,A&&(B-=A/h)):x==="mirror"&&(re=c)),F=hr(0,1,B)*h}const te=H?{done:!1,value:g[0]}:re.next(F);l&&(te.value=l(te.value));let{done:ce}=te;!H&&d!==null&&(ce=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ce);return D&&k!==B0&&(te.value=jb(g,this.options,R,this.speed)),I&&I(te.value),D&&this.finish(),te}then(e,n){return this.finished.then(e,n)}get duration(){return pi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+pi(e)}get time(){return pi(this.currentTime)}set time(e){e=Qr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ws.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=pi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=E6,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ws.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function F6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const $o=t=>t*180/Math.PI,F0=t=>{const e=$o(Math.atan2(t[1],t[0]));return q0(e)},q6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:F0,rotateZ:F0,skewX:t=>$o(Math.atan(t[1])),skewY:t=>$o(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},q0=t=>(t=t%360,t<0&&(t+=360),t),OE=F0,VE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),LE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),H6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:VE,scaleY:LE,scale:t=>(VE(t)+LE(t))/2,rotateX:t=>q0($o(Math.atan2(t[6],t[5]))),rotateY:t=>q0($o(Math.atan2(-t[2],t[0]))),rotateZ:OE,rotate:OE,skewX:t=>$o(Math.atan(t[4])),skewY:t=>$o(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function H0(t){return t.includes("scale")?1:0}function G0(t,e){if(!t||t==="none")return H0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=H6,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=q6,a=h}if(!a)return H0(e);const l=s[e],c=a[1].split(",").map($6);return typeof l=="function"?l(c):c[l]}const G6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return G0(n,e)};function $6(t){return parseFloat(t.trim())}const Dc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mc=new Set(Dc),UE=t=>t===kc||t===Ce,K6=new Set(["x","y","z"]),Y6=Dc.filter(t=>!K6.has(t));function W6(t){const e=[];return Y6.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Fa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>G0(e,"x"),y:(t,{transform:e})=>G0(e,"y")};Fa.translateX=Fa.x;Fa.translateY=Fa.y;const Qo=new Set;let $0=!1,K0=!1,Y0=!1;function oN(){if(K0){const t=Array.from(Qo).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=W6(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}K0=!1,$0=!1,Qo.forEach(t=>t.complete(Y0)),Qo.clear()}function lN(){Qo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(K0=!0)})}function X6(){Y0=!0,lN(),oN(),Y0=!1}class Lb{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Qo.add(this),$0||($0=!0,$t.read(lN),$t.resolveKeyframes(oN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}F6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Qo.delete(this)}cancel(){this.state==="scheduled"&&(Qo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Q6=t=>t.startsWith("--");function J6(t,e,n){Q6(e)?t.style.setProperty(e,n):t.style[e]=n}const Z6=Ab(()=>window.ScrollTimeline!==void 0),eU={};function tU(t,e){const n=Ab(t);return()=>eU[e]??n()}const cN=tU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Fu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,zE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fu([0,.65,.55,1]),circOut:Fu([.55,0,1,.45]),backIn:Fu([.31,.01,.66,-.59]),backOut:Fu([.33,1.53,.69,.99])};function uN(t,e){if(t)return typeof t=="function"?cN()?iN(t,e):"ease-out":KR(t)?Fu(t):Array.isArray(t)?t.map(n=>uN(n,e)||zE.easeOut):zE[t]}function nU(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:d}={},m=void 0){const g={[e]:n};d&&(g.offset=d);const b=uN(h,a);Array.isArray(b)&&(g.easing=b);const x={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),t.animate(g,x)}function hN(t){return typeof t=="function"&&"applyToOptions"in t}function sU({type:t,...e}){return hN(t)&&cN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class iU extends Ob{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Sb(typeof e.type!="string");const m=sU(e);this.animation=nU(n,s,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=jb(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):J6(n,s,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return pi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+pi(e)}get time(){return pi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Qr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Z6()?(this.animation.timeline=e,yi):n(this)}}const dN={anticipate:qR,backInOut:FR,circInOut:GR};function rU(t){return t in dN}function aU(t){typeof t.ease=="string"&&rU(t.ease)&&(t.ease=dN[t.ease])}const Hy=10;class oU extends iU{constructor(e){aU(e),aN(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Vb({...c,autoplay:!1}),d=Math.max(Hy,ws.now()-this.startTime),m=hr(0,Hy,d-Hy);n.setWithVelocity(h.sample(Math.max(0,d-m)).value,h.sample(d).value,m),h.stop()}}const BE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ro.test(t)||t==="0")&&!t.startsWith("url("));function lU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function cU(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=BE(a,e),h=BE(l,e);return!c||!h?!1:lU(t)||(n==="spring"||hN(n))&&s}function W0(t){t.duration=0,t.type="keyframes"}const uU=new Set(["opacity","clipPath","filter","transform"]),hU=Ab(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function dU(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return hU()&&n&&uU.has(n)&&(n!=="transform"||!m)&&!d&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const fU=40;class mU extends Ob{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:d,motionValue:m,element:g,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ws.now();const x={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:d,motionValue:m,element:g,...b},A=g?.KeyframeResolver||Lb;this.keyframeResolver=new A(h,(k,I,R)=>this.onKeyframesResolved(k,I,x,!R),d,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:d,isHandoff:m,onUpdate:g}=s;this.resolvedAt=ws.now(),cU(e,l,c,h)||((sa.instantAnimations||!d)&&g?.(jb(e,s,n)),e[0]=e[e.length-1],W0(s),s.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>fU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},A=!m&&dU(x)?new oU({...x,element:x.motionValue.owner.current}):new Vb(x);A.finished.then(()=>this.notifyFinished()).catch(yi),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),X6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const pU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gU(t){const e=pU.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function fN(t,e,n=1){const[s,a]=gU(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return PR(c)?parseFloat(c):c}return Ib(a)?fN(a,e,n+1):a}function Ub(t,e){return t?.[e]??t?.default??t}const yU={type:"spring",stiffness:500,damping:25,restSpeed:10},vU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),bU={type:"keyframes",duration:.8},xU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wU=(t,{keyframes:e})=>e.length>2?bU:Mc.has(t)?t.startsWith("scale")?vU(e[1]):yU:xU;function _U({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:d,elapsed:m,...g}){return!!Object.keys(g).length}const TU=t=>t!==null;function EU(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(TU),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function mN(t,e,n,s=0,a=1){const l=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),c=t.size,h=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:h-l*s}const zb=(t,e,n,s={},a,l)=>c=>{const h=Ub(s,t)||{},d=h.delay||s.delay||0;let{elapsed:m=0}=s;m=m-Qr(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:x=>{e.set(x),h.onUpdate&&h.onUpdate(x)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};_U(h)||Object.assign(g,wU(t,g)),g.duration&&(g.duration=Qr(g.duration)),g.repeatDelay&&(g.repeatDelay=Qr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let b=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(W0(g),g.delay===0&&(b=!0)),(sa.instantAnimations||sa.skipAnimations)&&(b=!0,W0(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,b&&!l&&e.get()!==void 0){const x=EU(g.keyframes,h);if(x!==void 0){$t.update(()=>{g.onUpdate(x),g.onComplete()});return}}return h.isSync?new Vb(g):new mU(g)},pN=new Set(["width","height","top","left","right","bottom",...Dc]),FE=30,SU=t=>!isNaN(parseFloat(t));class AU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=ws.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ws.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=SU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Cb);const s=this.events[e].add(n);return e==="change"?()=>{s(),$t.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ws.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>FE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,FE);return VR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wc(t,e){return new AU(t,e)}function qE(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Bb(t,e,n,s){if(typeof e=="function"){const[a,l]=qE(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=qE(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function cc(t,e,n){const s=t.getProps();return Bb(s,e,n!==void 0?n:s.custom,t)}const X0=t=>Array.isArray(t);function CU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,wc(n))}function RU(t){return X0(t)?t[t.length-1]||0:t}function NU(t,e){const n=cc(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const h=RU(l[c]);CU(t,c,h)}}const hs=t=>!!(t&&t.getVelocity);function IU(t){return!!(hs(t)&&t.add)}function Q0(t,e){const n=t.getValue("willChange");if(IU(n))return n.add(e);if(!n&&sa.WillChange){const s=new sa.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Fb(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const kU="framerAppearId",gN="data-"+Fb(kU);function yN(t){return t.props[gN]}function DU({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function vN(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;s&&(l=s);const d=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const g in h){const b=t.getValue(g,t.latestValues[g]??null),x=h[g];if(x===void 0||m&&DU(m,g))continue;const A={delay:n,...Ub(l||{},g)},k=b.get();if(k!==void 0&&!b.isAnimating&&!Array.isArray(x)&&x===k&&!A.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const O=yN(t);if(O){const H=window.MotionHandoffAnimation(O,g,$t);H!==null&&(A.startTime=H,I=!0)}}Q0(t,g),b.start(zb(g,b,x,t.shouldReduceMotion&&pN.has(g)?{type:!1}:A,t,I));const R=b.animation;R&&d.push(R)}return c&&Promise.all(d).then(()=>{$t.update(()=>{c&&NU(t,c)})}),d}function J0(t,e,n={}){const s=cc(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(vN(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:b}=a;return MU(t,e,d,m,g,b,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,m]=h==="beforeChildren"?[l,c]:[c,l];return d().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function MU(t,e,n=0,s=0,a=0,l=1,c){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(J0(d,e,{...c,delay:n+(typeof s=="function"?0:s)+mN(t.variantChildren,d,s,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function PU(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>J0(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=J0(t,e,n);else{const a=typeof e=="function"?cc(t,e,n.custom):e;s=Promise.all(vN(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const jU={test:t=>t==="auto",parse:t=>t},bN=t=>e=>e.test(t),xN=[kc,Ce,ar,Ua,l6,o6,jU],HE=t=>xN.find(bN(t));function OU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||OR(t):!0}const VU=new Set(["brightness","contrast","saturate","opacity"]);function LU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(kb)||[];if(!s)return t;const a=n.replace(s,"");let l=VU.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const UU=/\b([a-z-]*)\(.*?\)/gu,Z0={...ro,getAnimatableNone:t=>{const e=t.match(UU);return e?e.map(LU).join(" "):t}},GE={...kc,transform:Math.round},zU={rotate:Ua,rotateX:Ua,rotateY:Ua,rotateZ:Ua,scale:Rf,scaleX:Rf,scaleY:Rf,scaleZ:Rf,skew:Ua,skewX:Ua,skewY:Ua,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:yh,originX:kE,originY:kE,originZ:Ce},qb={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,inset:Ce,insetBlock:Ce,insetBlockStart:Ce,insetBlockEnd:Ce,insetInline:Ce,insetInlineStart:Ce,insetInlineEnd:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,paddingBlock:Ce,paddingBlockStart:Ce,paddingBlockEnd:Ce,paddingInline:Ce,paddingInlineStart:Ce,paddingInlineEnd:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,marginBlock:Ce,marginBlockStart:Ce,marginBlockEnd:Ce,marginInline:Ce,marginInlineStart:Ce,marginInlineEnd:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...zU,zIndex:GE,fillOpacity:yh,strokeOpacity:yh,numOctaves:GE},BU={...qb,color:Cn,backgroundColor:Cn,outlineColor:Cn,fill:Cn,stroke:Cn,borderColor:Cn,borderTopColor:Cn,borderRightColor:Cn,borderBottomColor:Cn,borderLeftColor:Cn,filter:Z0,WebkitFilter:Z0},wN=t=>BU[t];function _N(t,e){let n=wN(t);return n!==Z0&&(n=ro),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const FU=new Set(["auto","none","0"]);function qU(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!FU.has(l)&&vh(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=_N(n,a)}class HU extends Lb{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let b=e[g];if(typeof b=="string"&&(b=b.trim(),Ib(b))){const x=fN(b,n.current);x!==void 0&&(e[g]=x),g===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!pN.has(s)||e.length!==2)return;const[a,l]=e,c=HE(a),h=HE(l),d=IE(a),m=IE(l);if(d!==m&&Fa[s]){this.needsMeasurement=!0;return}if(c!==h)if(UE(c)&&UE(h))for(let g=0;g<e.length;g++){const b=e[g];typeof b=="string"&&(e[g]=parseFloat(b))}else Fa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||OU(e[a]))&&s.push(a);s.length&&qU(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Fa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function GU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const TN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function EN(t){return jR(t)&&"offsetHeight"in t}const{schedule:Hb}=YR(queueMicrotask,!1),Di={x:!1,y:!1};function SN(){return Di.x||Di.y}function $U(t){return t==="x"||t==="y"?Di[t]?null:(Di[t]=!0,()=>{Di[t]=!1}):Di.x||Di.y?null:(Di.x=Di.y=!0,()=>{Di.x=Di.y=!1})}function AN(t,e){const n=GU(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function $E(t){return!(t.pointerType==="touch"||SN())}function KU(t,e,n={}){const[s,a,l]=AN(t,n),c=h=>{if(!$E(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const g=b=>{$E(b)&&(m(b),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,a)};return s.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const CN=(t,e)=>e?t===e?!0:CN(t,e.parentElement):!1,Gb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,YU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function RN(t){return YU.has(t.tagName)||t.isContentEditable===!0}const Xf=new WeakSet;function KE(t){return e=>{e.key==="Enter"&&t(e)}}function Gy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const WU=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=KE(()=>{if(Xf.has(n))return;Gy(n,"down");const a=KE(()=>{Gy(n,"up")}),l=()=>Gy(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function YE(t){return Gb(t)&&!SN()}function XU(t,e,n={}){const[s,a,l]=AN(t,n),c=h=>{const d=h.currentTarget;if(!YE(h))return;Xf.add(d);const m=e(d,h),g=(A,k)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",x),Xf.has(d)&&Xf.delete(d),YE(A)&&typeof m=="function"&&m(A,{success:k})},b=A=>{g(A,d===window||d===document||n.useGlobalTarget||CN(d,A.target))},x=A=>{g(A,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",x,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),EN(h)&&(h.addEventListener("focus",m=>WU(m,a)),!RN(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function NN(t){return jR(t)&&"ownerSVGElement"in t}function QU(t){return NN(t)&&t.tagName==="svg"}const JU=[...xN,Cn,ro],ZU=t=>JU.find(bN(t)),WE=()=>({translate:0,scale:1,origin:0,originPoint:0}),ec=()=>({x:WE(),y:WE()}),XE=()=>({min:0,max:0}),Vn=()=>({x:XE(),y:XE()}),ev={current:null},IN={current:!1},e9=typeof window<"u";function t9(){if(IN.current=!0,!!e9)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ev.current=t.matches;t.addEventListener("change",e),e()}else ev.current=!1}const n9=new WeakMap;function mp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function bh(t){return typeof t=="string"||Array.isArray(t)}const $b=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Kb=["initial",...$b];function pp(t){return mp(t.animate)||Kb.some(e=>bh(t[e]))}function kN(t){return!!(pp(t)||t.variants)}function s9(t,e,n){for(const s in e){const a=e[s],l=n[s];if(hs(a))t.addValue(s,a);else if(hs(l))t.addValue(s,wc(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,wc(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const QE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Rm={};function DN(t){Rm=t}function i9(){return Rm}class r9{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Lb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=ws.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,$t.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=pp(n),this.isVariantNode=kN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in b){const A=b[x];d[x]!==void 0&&hs(A)&&A.set(d[x])}}mount(e){this.current=e,n9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(IN.current||t9(),this.shouldReduceMotion=ev.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),io(this.notifyUpdate),io(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Mc.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&$t.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Rm){const n=Rm[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<QE.length;s++){const a=QE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=s9(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=wc(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(PR(s)||OR(s))?s=parseFloat(s):!ZU(s)&&ro.test(n)&&(s=_N(e,n)),this.setBaseTarget(e,hs(s)?s.get():s)),hs(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Bb(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!hs(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Cb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Hb.render(this.render)}}class uo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class MN extends r9{constructor(){super(...arguments),this.KeyframeResolver=HU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hs(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function PN({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function a9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function o9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function $y(t){return t===void 0||t===1}function tv({scale:t,scaleX:e,scaleY:n}){return!$y(t)||!$y(e)||!$y(n)}function Fo(t){return tv(t)||jN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function jN(t){return JE(t.x)||JE(t.y)}function JE(t){return t&&t!=="0%"}function Nm(t,e,n){const s=t-n,a=e*s;return n+a}function ZE(t,e,n,s,a){return a!==void 0&&(t=Nm(t,a,s)),Nm(t,n,s)+e}function nv(t,e=0,n=1,s,a){t.min=ZE(t.min,e,n,s,a),t.max=ZE(t.max,e,n,s,a)}function ON(t,{x:e,y:n}){nv(t.x,e.translate,e.scale,e.originPoint),nv(t.y,n.translate,n.scale,n.originPoint)}const eS=.999999999999,tS=1.0000000000001;function l9(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&nc(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,ON(t,c)),s&&Fo(l.latestValues)&&nc(t,l.latestValues))}e.x<tS&&e.x>eS&&(e.x=1),e.y<tS&&e.y>eS&&(e.y=1)}function tc(t,e){t.min=t.min+e,t.max=t.max+e}function nS(t,e,n,s,a=.5){const l=en(t.min,t.max,a);nv(t,e,n,l,s)}function nc(t,e){nS(t.x,e.x,e.scaleX,e.scale,e.originX),nS(t.y,e.y,e.scaleY,e.scale,e.originY)}function VN(t,e){return PN(o9(t.getBoundingClientRect(),e))}function c9(t,e,n){const s=VN(t,n),{scroll:a}=e;return a&&(tc(s.x,a.offset.x),tc(s.y,a.offset.y)),s}const u9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},h9=Dc.length;function d9(t,e,n){let s="",a=!0;for(let l=0;l<h9;l++){const c=Dc[l],h=t[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const m=TN(h,qb[c]);if(!d){a=!1;const g=u9[c]||c;s+=`${g}(${m}) `}n&&(e[c]=m)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Yb(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const d in e){const m=e[d];if(Mc.has(d)){c=!0;continue}else if(XR(d)){a[d]=m;continue}else{const g=TN(m,qb[d]);d.startsWith("origin")?(h=!0,l[d]=g):s[d]=g}}if(e.transform||(c||n?s.transform=d9(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:g=0}=l;s.transformOrigin=`${d} ${m} ${g}`}}function LN(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function sS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Mu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=sS(t,e.target.x),s=sS(t,e.target.y);return`${n}% ${s}%`}},f9={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=ro.parse(t);if(a.length>5)return s;const l=ro.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=d;const m=en(h,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}},sv={borderRadius:{...Mu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mu,borderTopRightRadius:Mu,borderBottomLeftRadius:Mu,borderBottomRightRadius:Mu,boxShadow:f9};function UN(t,{layout:e,layoutId:n}){return Mc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!sv[t]||t==="opacity")}function Wb(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const c in s)(hs(s[c])||a&&hs(a[c])||UN(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=s[c]);return l}function m9(t){return window.getComputedStyle(t)}class p9 extends MN{constructor(){super(...arguments),this.type="html",this.renderInstance=LN}readValueFromInstance(e,n){if(Mc.has(n))return this.projection?.isProjecting?H0(n):G6(e,n);{const s=m9(e),a=(XR(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return VN(e,n)}build(e,n,s){Yb(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Wb(e,n,s)}}const g9={offset:"stroke-dashoffset",array:"stroke-dasharray"},y9={offset:"strokeDashoffset",array:"strokeDasharray"};function v9(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?g9:y9;t[l.offset]=Ce.transform(-s);const c=Ce.transform(e),h=Ce.transform(n);t[l.array]=`${c} ${h}`}const b9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function zN(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},d,m,g){if(Yb(t,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:x}=t;b.transform&&(x.transform=b.transform,delete b.transform),(x.transform||b.transformOrigin)&&(x.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),x.transform&&(x.transformBox=g?.transformBox??"fill-box",delete b.transformBox);for(const A of b9)b[A]!==void 0&&(x[A]=b[A],delete b[A]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&v9(b,a,l,c,!1)}const BN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),FN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function x9(t,e,n,s){LN(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(BN.has(a)?a:Fb(a),e.attrs[a])}function qN(t,e,n){const s=Wb(t,e,n);for(const a in t)if(hs(t[a])||hs(e[a])){const l=Dc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class w9 extends MN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Mc.has(n)){const s=wN(n);return s&&s.default||0}return n=BN.has(n)?n:Fb(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return qN(e,n,s)}build(e,n,s){zN(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){x9(e,n,s,a)}mount(e){this.isSVGTag=FN(e.tagName),super.mount(e)}}const _9=Kb.length;function HN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?HN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<_9;n++){const s=Kb[n],a=t.props[s];(bh(a)||a===!1)&&(e[s]=a)}return e}function GN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const T9=[...$b].reverse(),E9=$b.length;function S9(t){return e=>Promise.all(e.map(({animation:n,options:s})=>PU(t,n,s)))}function A9(t){let e=S9(t),n=iS(),s=!0;const a=d=>(m,g)=>{const b=cc(t,g,d==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:x,transitionEnd:A,...k}=b;m={...m,...k,...A}}return m};function l(d){e=d(t)}function c(d){const{props:m}=t,g=HN(t.parent)||{},b=[],x=new Set;let A={},k=1/0;for(let R=0;R<E9;R++){const O=T9[R],H=n[O],F=m[O]!==void 0?m[O]:g[O],re=bh(F),te=O===d?H.isActive:null;te===!1&&(k=R);let ce=F===g[O]&&F!==m[O]&&re;if(ce&&s&&t.manuallyAnimateOnMount&&(ce=!1),H.protectedKeys={...A},!H.isActive&&te===null||!F&&!H.prevProp||mp(F)||typeof F=="boolean")continue;const D=C9(H.prevProp,F);let C=D||O===d&&H.isActive&&!ce&&re||R>k&&re,j=!1;const B=Array.isArray(F)?F:[F];let U=B.reduce(a(O),{});te===!1&&(U={});const{prevResolvedValues:V={}}=H,P={...V,...U},be=X=>{C=!0,x.has(X)&&(j=!0,x.delete(X)),H.needsAnimating[X]=!0;const $=t.getValue(X);$&&($.liveStyle=!1)};for(const X in P){const $=U[X],Y=V[X];if(A.hasOwnProperty(X))continue;let L=!1;X0($)&&X0(Y)?L=!GN($,Y):L=$!==Y,L?$!=null?be(X):x.add(X):$!==void 0&&x.has(X)?be(X):H.protectedKeys[X]=!0}H.prevProp=F,H.prevResolvedValues=U,H.isActive&&(A={...A,...U}),s&&t.blockInitialAnimation&&(C=!1);const xe=ce&&D;C&&(!xe||j)&&b.push(...B.map(X=>{const $={type:O};if(typeof X=="string"&&s&&!xe&&t.manuallyAnimateOnMount&&t.parent){const{parent:Y}=t,L=cc(Y,X);if(Y.enteringChildren&&L){const{delayChildren:T}=L.transition||{};$.delay=mN(Y.enteringChildren,t,T)}}return{animation:X,options:$}}))}if(x.size){const R={};if(typeof m.initial!="boolean"){const O=cc(t,Array.isArray(m.initial)?m.initial[0]:m.initial);O&&O.transition&&(R.transition=O.transition)}x.forEach(O=>{const H=t.getBaseTarget(O),F=t.getValue(O);F&&(F.liveStyle=!0),R[O]=H??null}),b.push({animation:R})}let I=!!b.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(I=!1),s=!1,I?e(b):Promise.resolve()}function h(d,m){if(n[d].isActive===m)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(d,m)),n[d].isActive=m;const g=c(d);for(const b in n)n[b].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=iS()}}}function C9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!GN(e,t):!1}function Lo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iS(){return{animate:Lo(!0),whileInView:Lo(),whileHover:Lo(),whileTap:Lo(),whileDrag:Lo(),whileFocus:Lo(),exit:Lo()}}const $N=1e-4,R9=1-$N,N9=1+$N,KN=.01,I9=0-KN,k9=0+KN;function _s(t){return t.max-t.min}function D9(t,e,n){return Math.abs(t-e)<=n}function rS(t,e,n,s=.5){t.origin=s,t.originPoint=en(e.min,e.max,t.origin),t.scale=_s(n)/_s(e),t.translate=en(n.min,n.max,t.origin)-t.originPoint,(t.scale>=R9&&t.scale<=N9||isNaN(t.scale))&&(t.scale=1),(t.translate>=I9&&t.translate<=k9||isNaN(t.translate))&&(t.translate=0)}function Zu(t,e,n,s){rS(t.x,e.x,n.x,s?s.originX:void 0),rS(t.y,e.y,n.y,s?s.originY:void 0)}function aS(t,e,n){t.min=n.min+e.min,t.max=t.min+_s(e)}function M9(t,e,n){aS(t.x,e.x,n.x),aS(t.y,e.y,n.y)}function oS(t,e,n){t.min=e.min-n.min,t.max=t.min+_s(e)}function Im(t,e,n){oS(t.x,e.x,n.x),oS(t.y,e.y,n.y)}function lS(t,e,n,s,a){return t-=e,t=Nm(t,1/n,s),a!==void 0&&(t=Nm(t,1/a,s)),t}function P9(t,e=0,n=1,s=.5,a,l=t,c=t){if(ar.test(e)&&(e=parseFloat(e),e=en(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=en(l.min,l.max,s);t===l&&(h-=e),t.min=lS(t.min,e,n,h,a),t.max=lS(t.max,e,n,h,a)}function cS(t,e,[n,s,a],l,c){P9(t,e[n],e[s],e[a],e.scale,l,c)}const j9=["x","scaleX","originX"],O9=["y","scaleY","originY"];function uS(t,e,n,s){cS(t.x,e,j9,n?n.x:void 0,s?s.x:void 0),cS(t.y,e,O9,n?n.y:void 0,s?s.y:void 0)}function hS(t,e){t.min=e.min,t.max=e.max}function ki(t,e){hS(t.x,e.x),hS(t.y,e.y)}function dS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function fS(t){return t.translate===0&&t.scale===1}function YN(t){return fS(t.x)&&fS(t.y)}function mS(t,e){return t.min===e.min&&t.max===e.max}function V9(t,e){return mS(t.x,e.x)&&mS(t.y,e.y)}function pS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function WN(t,e){return pS(t.x,e.x)&&pS(t.y,e.y)}function gS(t){return _s(t.x)/_s(t.y)}function yS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function ci(t){return[t("x"),t("y")]}function L9(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:b,rotateY:x,skewX:A,skewY:k}=n;m&&(s=`perspective(${m}px) ${s}`),g&&(s+=`rotate(${g}deg) `),b&&(s+=`rotateX(${b}deg) `),x&&(s+=`rotateY(${x}deg) `),A&&(s+=`skewX(${A}deg) `),k&&(s+=`skewY(${k}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(s+=`scale(${h}, ${d})`),s||"none"}const XN=["TopLeft","TopRight","BottomLeft","BottomRight"],U9=XN.length,vS=t=>typeof t=="string"?parseFloat(t):t,bS=t=>typeof t=="number"||Ce.test(t);function z9(t,e,n,s,a,l){a?(t.opacity=en(0,n.opacity??1,B9(s)),t.opacityExit=en(e.opacity??1,0,F9(s))):l&&(t.opacity=en(e.opacity??1,n.opacity??1,s));for(let c=0;c<U9;c++){const h=`border${XN[c]}Radius`;let d=xS(e,h),m=xS(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||bS(d)===bS(m)?(t[h]=Math.max(en(vS(d),vS(m),s),0),(ar.test(m)||ar.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=en(e.rotate||0,n.rotate||0,s))}function xS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const B9=QN(0,.5,HR),F9=QN(.5,.95,yi);function QN(t,e,n){return s=>s<t?0:s>e?1:n(gh(t,e,s))}function q9(t,e){const n=ws.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(io(s),t(l-e))};return $t.setup(s,!0),()=>io(s)}function xh(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Qf(t){return hs(t)?t.get():t}function H9(t,e,n){const s=hs(t)?t:wc(t);return s.start(zb("",s,e,n)),s.animation}const G9=(t,e)=>t.depth-e.depth;class $9{constructor(){this.children=[],this.isDirty=!1}add(e){Tb(this.children,e),this.isDirty=!0}remove(e){Eb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(G9),this.isDirty=!1,this.children.forEach(e)}}class K9{constructor(){this.members=[]}add(e){Tb(this.members,e),e.scheduleRender()}remove(e){if(Eb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Jf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Ky=["","X","Y","Z"],Y9=1e3;let W9=0;function Yy(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function JN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=yN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",$t,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&JN(s)}function ZN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=W9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(J9),this.nodes.forEach(nz),this.nodes.forEach(sz),this.nodes.forEach(Z9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new $9)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Cb),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=NN(c)&&!QU(c),this.instance=c;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let g,b=0;const x=()=>this.root.updateBlockedByResize=!1;$t.read(()=>{b=window.innerWidth}),t(c,()=>{const A=window.innerWidth;A!==b&&(b=A,this.root.updateBlockedByResize=!0,g&&g(),g=q9(x,250),Jf.hasAnimatedSinceResize&&(Jf.hasAnimatedSinceResize=!1,this.nodes.forEach(TS)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b,hasRelativeLayoutChanged:x,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||m.getDefaultTransition()||lz,{onLayoutAnimationStart:I,onLayoutAnimationComplete:R}=m.getProps(),O=!this.targetLayout||!WN(this.targetLayout,A),H=!b&&x;if(this.options.layoutRoot||this.resumeFrom||H||b&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Ub(k,"layout"),onPlay:I,onComplete:R};(m.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(g,H)}else b||TS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),io(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iz),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&JN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const b=this.path[g];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(_S);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(tz),this.nodes.forEach(X9),this.nodes.forEach(Q9)):this.nodes.forEach(_S),this.clearAllSnapshots();const h=ws.now();ss.delta=hr(0,1e3/60,h-ss.timestamp),ss.timestamp=h,ss.isProcessing=!0,Uy.update.process(ss),Uy.preRender.process(ss),Uy.render.process(ss),ss.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ez),this.sharedNodes.forEach(rz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_s(this.snapshot.measuredBox.x)&&!_s(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Vn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!YN(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||Fo(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),cz(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Vn();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(uz))){const{scroll:m}=this.root;m&&(tc(h.x,m.offset.x),tc(h.y,m.offset.y))}return h}removeElementScroll(c){const h=Vn();if(ki(h,c),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:g,options:b}=m;m!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&ki(h,c),tc(h.x,g.offset.x),tc(h.y,g.offset.y))}return h}applyTransform(c,h=!1){const d=Vn();ki(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&nc(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Fo(g.latestValues)&&nc(d,g.latestValues)}return Fo(this.latestValues)&&nc(d,this.latestValues),d}removeTransform(c){const h=Vn();ki(h,c);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Fo(m.latestValues))continue;tv(m.latestValues)&&m.updateSnapshot();const g=Vn(),b=m.measurePageBox();ki(g,b),uS(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Fo(this.latestValues)&&uS(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ss.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:b}=this.options;if(!this.layout||!(g||b))return;this.resolvedRelativeTargetAt=ss.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Vn(),this.targetWithTransforms=Vn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),M9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ki(this.target,this.layout.layoutBox),ON(this.target,this.targetDelta)):ki(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||tv(this.parent.latestValues)||jN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,d){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vn(),this.relativeTargetOrigin=Vn(),Im(this.relativeTargetOrigin,h,d),ki(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ss.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;ki(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,x=this.treeScale.y;l9(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Vn());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dS(this.prevProjectionDelta.x,this.projectionDelta.x),dS(this.prevProjectionDelta.y,this.projectionDelta.y)),Zu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==x||!yS(this.projectionDelta.x,this.prevProjectionDelta.x)||!yS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ec(),this.projectionDelta=ec(),this.projectionDeltaWithTransform=ec()}setAnimationOrigin(c,h=!1){const d=this.snapshot,m=d?d.latestValues:{},g={...this.latestValues},b=ec();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const x=Vn(),A=d?d.source:void 0,k=this.layout?this.layout.source:void 0,I=A!==k,R=this.getStack(),O=!R||R.members.length<=1,H=!!(I&&!O&&this.options.crossfade===!0&&!this.path.some(oz));this.animationProgress=0;let F;this.mixTargetDelta=re=>{const te=re/1e3;ES(b.x,c.x,te),ES(b.y,c.y,te),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Im(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),az(this.relativeTarget,this.relativeTargetOrigin,x,te),F&&V9(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Vn()),ki(F,this.relativeTarget)),I&&(this.animationValues=g,z9(g,m,this.latestValues,te,H,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(io(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$t.update(()=>{Jf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=wc(0)),this.currentAnimation=H9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Y9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:g}=c;if(!(!h||!d||!m)){if(this!==c&&this.layout&&m&&eI(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Vn();const b=_s(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+b;const x=_s(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+x}ki(h,d),nc(h,g),Zu(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new K9),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&Yy("z",c,m,this.animationValues);for(let g=0;g<Ky.length;g++)Yy(`rotate${Ky[g]}`,c,m,this.animationValues),Yy(`skew${Ky[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Qf(h?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Qf(h?.pointerEvents)||""),this.hasProjected&&!Fo(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let b=L9(this.projectionDeltaWithTransform,this.treeScale,g);d&&(b=d(g,b)),c.transform=b;const{x,y:A}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${A.origin*100}% 0`,m.animationValues?c.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const k in sv){if(g[k]===void 0)continue;const{correct:I,applyTo:R,isCSSVariable:O}=sv[k],H=b==="none"?g[k]:I(g[k],m);if(R){const F=R.length;for(let re=0;re<F;re++)c[R[re]]=H}else O?this.options.visualElement.renderState.vars[k]=H:c[k]=H}this.options.layoutId&&(c.pointerEvents=m===this?Qf(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(wS),this.root.sharedNodes.clear()}}}function X9(t){t.updateLayout()}function Q9(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ci(g=>{const b=l?e.measuredBox[g]:e.layoutBox[g],x=_s(b);b.min=n[g].min,b.max=b.min+x}):eI(a,e.layoutBox,n)&&ci(g=>{const b=l?e.measuredBox[g]:e.layoutBox[g],x=_s(n[g]);b.max=b.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+x)});const c=ec();Zu(c,n,e.layoutBox);const h=ec();l?Zu(h,t.applyTransform(s,!0),e.measuredBox):Zu(h,n,e.layoutBox);const d=!YN(c);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:x}=g;if(b&&x){const A=Vn();Im(A,e.layoutBox,b.layoutBox);const k=Vn();Im(k,n,x.layoutBox),WN(A,k)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=A,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function J9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Z9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ez(t){t.clearSnapshot()}function wS(t){t.clearMeasurements()}function _S(t){t.isLayoutDirty=!1}function tz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function TS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function nz(t){t.resolveTargetDelta()}function sz(t){t.calcProjection()}function iz(t){t.resetSkewAndRotation()}function rz(t){t.removeLeadSnapshot()}function ES(t,e,n){t.translate=en(e.translate,0,n),t.scale=en(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function SS(t,e,n,s){t.min=en(e.min,n.min,s),t.max=en(e.max,n.max,s)}function az(t,e,n,s){SS(t.x,e.x,n.x,s),SS(t.y,e.y,n.y,s)}function oz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const lz={duration:.45,ease:[.4,0,.1,1]},AS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),CS=AS("applewebkit/")&&!AS("chrome/")?Math.round:yi;function RS(t){t.min=CS(t.min),t.max=CS(t.max)}function cz(t){RS(t.x),RS(t.y)}function eI(t,e,n){return t==="position"||t==="preserve-aspect"&&!D9(gS(e),gS(n),.2)}function uz(t){return t!==t.root&&t.scroll?.wasRoot}const hz=ZN({attachResizeListener:(t,e)=>xh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wy={current:void 0},tI=ZN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Wy.current){const t=new hz({});t.mount(window),t.setOptions({layoutScroll:!0}),Wy.current=t}return Wy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Xb=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function NS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function dz(...t){return e=>{let n=!1;const s=t.map(a=>{const l=NS(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():NS(t[a],null)}}}}function fz(...t){return S.useCallback(dz(...t),t)}class mz extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=EN(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function pz({children:t,isPresent:e,anchorX:n,root:s}){const a=S.useId(),l=S.useRef(null),c=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=S.useContext(Xb),d=t.props?.ref??t?.ref,m=fz(l,d);return S.useInsertionEffect(()=>{const{width:g,height:b,top:x,left:A,right:k}=c.current;if(e||!l.current||!g||!b)return;const I=n==="left"?`left: ${A}`:`right: ${k}`;l.current.dataset.motionPopId=a;const R=document.createElement("style");h&&(R.nonce=h);const O=s??document.head;return O.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${b}px !important;
            ${I}px !important;
            top: ${x}px !important;
          }
        `),()=>{O.contains(R)&&O.removeChild(R)}},[e]),y.jsx(mz,{isPresent:e,childRef:l,sizeRef:c,children:S.cloneElement(t,{ref:m})})}const gz=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,root:d})=>{const m=_b(yz),g=S.useId();let b=!0,x=S.useMemo(()=>(b=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:A=>{m.set(A,!0);for(const k of m.values())if(!k)return;s&&s()},register:A=>(m.set(A,!1),()=>m.delete(A))}),[n,m,s]);return l&&b&&(x={...x}),S.useMemo(()=>{m.forEach((A,k)=>m.set(k,!1))},[n]),S.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),c==="popLayout"&&(t=y.jsx(pz,{isPresent:n,anchorX:h,root:d,children:t})),y.jsx(fp.Provider,{value:x,children:t})};function yz(){return new Map}function nI(t=!0){const e=S.useContext(fp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=S.useId();S.useEffect(()=>{if(t)return a(l)},[t]);const c=S.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Nf=t=>t.key||"";function IS(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const js=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",root:d})=>{const[m,g]=nI(c),b=S.useMemo(()=>IS(t),[t]),x=c&&!m?[]:b.map(Nf),A=S.useRef(!0),k=S.useRef(b),I=_b(()=>new Map),R=S.useRef(new Set),[O,H]=S.useState(b),[F,re]=S.useState(b);MR(()=>{A.current=!1,k.current=b;for(let D=0;D<F.length;D++){const C=Nf(F[D]);x.includes(C)?(I.delete(C),R.current.delete(C)):I.get(C)!==!0&&I.set(C,!1)}},[F,x.length,x.join("-")]);const te=[];if(b!==O){let D=[...b];for(let C=0;C<F.length;C++){const j=F[C],B=Nf(j);x.includes(B)||(D.splice(C,0,j),te.push(j))}return l==="wait"&&te.length&&(D=te),re(IS(D)),H(b),null}const{forceRender:ce}=S.useContext(wb);return y.jsx(y.Fragment,{children:F.map(D=>{const C=Nf(D),j=c&&!m?!1:b===F||x.includes(C),B=()=>{if(R.current.has(C))return;if(R.current.add(C),I.has(C))I.set(C,!0);else return;let U=!0;I.forEach(V=>{V||(U=!1)}),U&&(ce?.(),re(k.current),c&&g?.(),s&&s())};return y.jsx(gz,{isPresent:j,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:j?void 0:B,anchorX:h,children:D},C)})})},sI=S.createContext({strict:!1}),kS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let DS=!1;function vz(){if(DS)return;const t={};for(const e in kS)t[e]={isEnabled:n=>kS[e].some(s=>!!n[s])};DN(t),DS=!0}function iI(){return vz(),i9()}function bz(t){const e=iI();for(const n in t)e[n]={...e[n],...t[n]};DN(e)}const xz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function km(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||xz.has(t)}let rI=t=>!km(t);function wz(t){typeof t=="function"&&(rI=e=>e.startsWith("on")?!km(e):t(e))}try{wz(require("@emotion/is-prop-valid").default)}catch{}function _z(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(rI(a)||n===!0&&km(a)||!e&&!km(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const gp=S.createContext({});function Tz(t,e){if(pp(t)){const{initial:n,animate:s}=t;return{initial:n===!1||bh(n)?n:void 0,animate:bh(s)?s:void 0}}return t.inherit!==!1?e:{}}function Ez(t){const{initial:e,animate:n}=Tz(t,S.useContext(gp));return S.useMemo(()=>({initial:e,animate:n}),[MS(e),MS(n)])}function MS(t){return Array.isArray(t)?t.join(" "):t}const Qb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aI(t,e,n){for(const s in e)!hs(e[s])&&!UN(s,n)&&(t[s]=e[s])}function Sz({transformTemplate:t},e){return S.useMemo(()=>{const n=Qb();return Yb(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Az(t,e){const n=t.style||{},s={};return aI(s,n,t),Object.assign(s,Sz(t,e)),s}function Cz(t,e){const n={},s=Az(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const oI=()=>({...Qb(),attrs:{}});function Rz(t,e,n,s){const a=S.useMemo(()=>{const l=oI();return zN(l,e,FN(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};aI(l,t.style,t),a.style={...l,...a.style}}return a}const Nz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jb(t){return typeof t!="string"||t.includes("-")?!1:!!(Nz.indexOf(t)>-1||/[A-Z]/u.test(t))}function Iz(t,e,n,{latestValues:s},a,l=!1,c){const d=(c??Jb(t)?Rz:Cz)(e,s,a,t),m=_z(e,typeof t=="string",l),g=t!==S.Fragment?{...m,...d,ref:n}:{},{children:b}=e,x=S.useMemo(()=>hs(b)?b.get():b,[b]);return S.createElement(t,{...g,children:x})}function kz({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:Dz(n,s,a,t),renderState:e()}}function Dz(t,e,n,s){const a={},l=s(t,{});for(const x in l)a[x]=Qf(l[x]);let{initial:c,animate:h}=t;const d=pp(t),m=kN(t);e&&m&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const b=g?h:c;if(b&&typeof b!="boolean"&&!mp(b)){const x=Array.isArray(b)?b:[b];for(let A=0;A<x.length;A++){const k=Bb(t,x[A]);if(k){const{transitionEnd:I,transition:R,...O}=k;for(const H in O){let F=O[H];if(Array.isArray(F)){const re=g?F.length-1:0;F=F[re]}F!==null&&(a[H]=F)}for(const H in I)a[H]=I[H]}}}return a}const lI=t=>(e,n)=>{const s=S.useContext(gp),a=S.useContext(fp),l=()=>kz(t,e,s,a);return n?l():_b(l)},Mz=lI({scrapeMotionValuesFromProps:Wb,createRenderState:Qb}),Pz=lI({scrapeMotionValuesFromProps:qN,createRenderState:oI}),jz=Symbol.for("motionComponentSymbol");function Oz(t,e,n){const s=S.useRef(n);S.useInsertionEffect(()=>{s.current=n});const a=S.useRef(null);return S.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=s.current;if(typeof c=="function")if(l){const h=c(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const cI=S.createContext({});function qu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Vz(t,e,n,s,a,l){const{visualElement:c}=S.useContext(gp),h=S.useContext(sI),d=S.useContext(fp),m=S.useContext(Xb).reducedMotion,g=S.useRef(null);s=s||h.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:c,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m,isSVG:l}));const b=g.current,x=S.useContext(cI);b&&!b.projection&&a&&(b.type==="html"||b.type==="svg")&&Lz(g.current,n,a,x);const A=S.useRef(!1);S.useInsertionEffect(()=>{b&&A.current&&b.update(n,d)});const k=n[gN],I=S.useRef(!!k&&!window.MotionHandoffIsComplete?.(k)&&window.MotionHasOptimisedAnimation?.(k));return MR(()=>{b&&(A.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),I.current&&b.animationState&&b.animationState.animateChanges())}),S.useEffect(()=>{b&&(!I.current&&b.animationState&&b.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(k)}),I.current=!1),b.enteringChildren=void 0)}),b}function Lz(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:uI(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&qu(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:d,layoutRoot:m})}function uI(t){if(t)return t.options.allowProjection!==!1?t.projection:uI(t.parent)}function Xy(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&bz(s);const l=n?n==="svg":Jb(t),c=l?Pz:Mz;function h(m,g){let b;const x={...S.useContext(Xb),...m,layoutId:Uz(m)},{isStatic:A}=x,k=Ez(m),I=c(m,A);if(!A&&DR){zz();const R=Bz(x);b=R.MeasureLayout,k.visualElement=Vz(t,I,x,a,R.ProjectionNode,l)}return y.jsxs(gp.Provider,{value:k,children:[b&&k.visualElement?y.jsx(b,{visualElement:k.visualElement,...x}):null,Iz(t,m,Oz(I,k.visualElement,g),I,A,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=S.forwardRef(h);return d[jz]=t,d}function Uz({layoutId:t}){const e=S.useContext(wb).id;return e&&t!==void 0?e+"-"+t:t}function zz(t,e){S.useContext(sI).strict}function Bz(t){const e=iI(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Fz(t,e){if(typeof Proxy>"u")return Xy;const n=new Map,s=(l,c)=>Xy(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Xy(c,void 0,t,e)),n.get(c))})}const qz=(t,e)=>e.isSVG??Jb(t)?new w9(e):new p9(e,{allowProjection:t!==S.Fragment});class Hz extends uo{constructor(e){super(e),e.animationState||(e.animationState=A9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Gz=0;class $z extends uo{constructor(){super(...arguments),this.id=Gz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Kz={animation:{Feature:Hz},exit:{Feature:$z}};function Qh(t){return{point:{x:t.pageX,y:t.pageY}}}const Yz=t=>e=>Gb(e)&&t(e,Qh(e));function eh(t,e,n,s){return xh(t,e,Yz(n),s)}const hI=({current:t})=>t?t.ownerDocument.defaultView:null,PS=(t,e)=>Math.abs(t-e);function Wz(t,e){const n=PS(t.x,e.x),s=PS(t.y,e.y);return Math.sqrt(n**2+s**2)}const jS=new Set(["auto","scroll"]);class dI{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Jy(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,I=Wz(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!I)return;const{point:R}=A,{timestamp:O}=ss;this.history.push({...R,timestamp:O});const{onStart:H,onMove:F}=this.handlers;k||(H&&H(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,A)},this.handlePointerMove=(A,k)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Qy(k,this.transformPagePoint),$t.update(this.updatePoint,!0)},this.handlePointerUp=(A,k)=>{this.end();const{onEnd:I,onSessionEnd:R,resumeAnimation:O}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=Jy(A.type==="pointercancel"?this.lastMoveEventInfo:Qy(k,this.transformPagePoint),this.history);this.startEvent&&I&&I(A,H),R&&R(A,H)},!Gb(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=Qh(e),m=Qy(d,this.transformPagePoint),{point:g}=m,{timestamp:b}=ss;this.history=[{...g,timestamp:b}];const{onSessionStart:x}=n;x&&x(e,Jy(m,this.history)),this.removeListeners=Yh(eh(this.contextWindow,"pointermove",this.handlePointerMove),eh(this.contextWindow,"pointerup",this.handlePointerUp),eh(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(jS.has(s.overflowX)||jS.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),$t.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),io(this.updatePoint)}}function Qy(t,e){return e?{point:e(t.point)}:t}function OS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Jy({point:t},e){return{point:t,delta:OS(t,fI(e)),offset:OS(t,Xz(e)),velocity:Qz(e,.1)}}function Xz(t){return t[0]}function fI(t){return t[t.length-1]}function Qz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=fI(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Qr(e)));)n--;if(!s)return{x:0,y:0};const l=pi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Jz(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?en(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?en(n,t,s.max):Math.min(t,n)),t}function VS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Zz(t,{top:e,left:n,bottom:s,right:a}){return{x:VS(t.x,n,a),y:VS(t.y,e,s)}}function LS(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function eB(t,e){return{x:LS(t.x,e.x),y:LS(t.y,e.y)}}function tB(t,e){let n=.5;const s=_s(t),a=_s(e);return a>s?n=gh(e.min,e.max-s,t.min):s>a&&(n=gh(t.min,t.max-a,e.min)),hr(0,1,n)}function nB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const iv=.35;function sB(t=iv){return t===!1?t=0:t===!0&&(t=iv),{x:US(t,"left","right"),y:US(t,"top","bottom")}}function US(t,e,n){return{min:zS(t,e),max:zS(t,n)}}function zS(t,e){return typeof t=="number"?t:t[e]||0}const iB=new WeakMap;class rB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n?(this.stopAnimation(),this.snapToCursor(Qh(b).point)):this.pauseAnimation()},c=(b,x)=>{this.stopAnimation();const{drag:A,dragPropagation:k,onDragStart:I}=this.getProps();if(A&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$U(A),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ci(O=>{let H=this.getAxisMotionValue(O).get()||0;if(ar.test(H)){const{projection:F}=this.visualElement;if(F&&F.layout){const re=F.layout.layoutBox[O];re&&(H=_s(re)*(parseFloat(H)/100))}}this.originPoint[O]=H}),I&&$t.postRender(()=>I(b,x)),Q0(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},h=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x;const{dragPropagation:A,dragDirectionLock:k,onDirectionLock:I,onDrag:R}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:O}=x;if(k&&this.currentDirection===null){this.currentDirection=aB(O),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",x.point,O),this.updateAxis("y",x.point,O),this.visualElement.render(),R&&R(b,x)},d=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x,this.stop(b,x),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>ci(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new dI(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:hI(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&$t.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!If(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=Jz(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&qu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=Zz(s.layoutBox,e):this.constraints=!1,this.elastic=sB(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ci(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=nB(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!qu(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=c9(s,a.root,this.visualElement.getTransformPagePoint());let c=eB(a.layout.layoutBox,l);if(n){const h=n(a9(c));this.hasMutatedConstraints=!!h,h&&(c=PN(h))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=ci(g=>{if(!If(g,n,this.currentDirection))return;let b=d&&d[g]||{};c&&(b={min:0,max:0});const x=a?200:1e6,A=a?40:1e7,k={type:"inertia",velocity:s?e[g]:0,bounceStiffness:x,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(g,k)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Q0(this.visualElement,e),s.start(zb(e,s,0,n,this.visualElement,!1))}stopAnimation(){ci(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ci(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ci(n=>{const{drag:s}=this.getProps();if(!If(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n],d=l.get()||0;l.set(e[n]-en(c,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!qu(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ci(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();a[c]=tB({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ci(c=>{if(!If(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:m}=this.constraints[c];h.set(en(d,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;iB.set(this.visualElement,this);const e=this.visualElement.current,n=eh(e,"pointerdown",d=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&!RN(d.target)&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();qu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),$t.read(s);const c=xh(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(ci(g=>{const b=this.getAxisMotionValue(g);b&&(this.originPoint[g]+=d[g].translate,b.set(b.get()+d[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=iv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function If(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function aB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class oB extends uo{constructor(e){super(e),this.removeGroupControls=yi,this.removeListeners=yi,this.controls=new rB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const BS=t=>(e,n)=>{t&&$t.postRender(()=>t(e,n))};class lB extends uo{constructor(){super(...arguments),this.removePointerDownListener=yi}onPointerDown(e){this.session=new dI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:BS(e),onStart:BS(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&$t.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=eh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Zy=!1;class cB extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Zy&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Jf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Zy=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||$t.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Hb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Zy=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mI(t){const[e,n]=nI(),s=S.useContext(wb);return y.jsx(cB,{...t,layoutGroup:s,switchLayoutGroup:S.useContext(cI),isPresent:e,safeToRemove:n})}const uB={pan:{Feature:lB},drag:{Feature:oB,ProjectionNode:tI,MeasureLayout:mI}};function FS(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&$t.postRender(()=>l(e,Qh(e)))}class hB extends uo{mount(){const{current:e}=this.node;e&&(this.unmount=KU(e,(n,s)=>(FS(this.node,s,"Start"),a=>FS(this.node,a,"End"))))}unmount(){}}class dB extends uo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yh(xh(this.node.current,"focus",()=>this.onFocus()),xh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function qS(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&$t.postRender(()=>l(e,Qh(e)))}class fB extends uo{mount(){const{current:e}=this.node;e&&(this.unmount=XU(e,(n,s)=>(qS(this.node,s,"Start"),(a,{success:l})=>qS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rv=new WeakMap,e0=new WeakMap,mB=t=>{const e=rv.get(t.target);e&&e(t)},pB=t=>{t.forEach(mB)};function gB({root:t,...e}){const n=t||document;e0.has(n)||e0.set(n,{});const s=e0.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(pB,{root:t,...e})),s[a]}function yB(t,e,n){const s=gB(e);return rv.set(t,n),s.observe(t),()=>{rv.delete(t),s.unobserve(t)}}const vB={some:0,all:1};class bB extends uo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:vB[a]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:b}=this.node.getProps(),x=m?g:b;x&&x(d)};return yB(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(xB(e,n))&&this.startObserver()}unmount(){}}function xB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const wB={inView:{Feature:bB},tap:{Feature:fB},focus:{Feature:dB},hover:{Feature:hB}},_B={layout:{ProjectionNode:tI,MeasureLayout:mI}},TB={...Kz,...wB,...uB,..._B},He=Fz(TB,qz);const EB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),HS=t=>{const e=SB(t);return e.charAt(0).toUpperCase()+e.slice(1)},pI=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),AB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var CB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const RB=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...h},d)=>S.createElement("svg",{ref:d,...CB,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:pI("lucide",a),...!l&&!AB(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,g])=>S.createElement(m,g)),...Array.isArray(l)?l:[l]]));const Je=(t,e)=>{const n=S.forwardRef(({className:s,...a},l)=>S.createElement(RB,{ref:l,iconNode:e,className:pI(`lucide-${EB(HS(t))}`,`lucide-${t}`,s),...a}));return n.displayName=HS(t),n};const NB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],IB=Je("arrow-left",NB);const kB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],DB=Je("arrow-right",kB);const MB=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],wh=Je("award",MB);const PB=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Dm=Je("book-open",PB);const jB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Mm=Je("calendar",jB);const OB=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],_h=Je("camera",OB);const VB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],mi=Je("check",VB);const LB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],UB=Je("chevron-down",LB);const zB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],gI=Je("chevron-left",zB);const BB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yI=Je("chevron-right",BB);const FB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qB=Je("chevron-up",FB);const HB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],GS=Je("circle-alert",HB);const GB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$B=Je("circle-check-big",GB);const KB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vI=Je("circle-question-mark",KB);const YB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bI=Je("clock",YB);const WB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],XB=Je("grid-3x3",WB);const QB=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Zb=Je("layout-grid",QB);const JB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ZB=Je("lock",JB);const e8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xI=Je("log-out",e8);const t8=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],av=Je("mail",t8);const n8=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],s8=Je("menu",n8);const i8=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Pm=Je("palette",i8);const r8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],th=Je("pen",r8);const a8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],o8=Je("pencil",a8);const l8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Th=Je("plus",l8);const c8=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],u8=Je("printer",c8);const h8=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],$S=Je("rocket",h8);const d8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],f8=Je("settings",d8);const m8=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Zf=Je("share-2",m8);const p8=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],wI=Je("sparkles",p8);const g8=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],y8=Je("square-check-big",g8);const v8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nh=Je("trash-2",v8);const b8=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],KS=Je("trophy",b8);const x8=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],_I=Je("type",x8);const w8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],YS=Je("user-plus",w8);const _8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Eh=Je("user",_8);const T8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],E8=Je("users",T8);const S8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],or=Je("x",S8);const A8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],sh=Je("zap",A8),TI=S.createContext(null),ex=()=>{const t=S.useContext(TI);if(!t)throw new Error("useDialog must be used within a DialogProvider");return t},C8=({children:t})=>{const[e,n]=S.useState({isOpen:!1,type:"alert",options:{message:""},resolve:null}),[s,a]=S.useState(""),[l,c]=S.useState("editor"),h=S.useCallback((k,I)=>new Promise(R=>{a(I.inputDefaultValue||""),c("editor"),n({isOpen:!0,type:k,options:I,resolve:R})}),[]),d=S.useCallback(k=>{e.resolve&&e.resolve(k),n(I=>({...I,isOpen:!1,resolve:null}))},[e.resolve]),m=S.useCallback((k,I)=>h("alert",{message:k,title:"Notice",confirmText:"OK",type:"info",...I}),[h]),g=S.useCallback((k,I)=>h("confirm",{message:k,title:"Confirm",confirmText:"Yes",cancelText:"Cancel",type:"warning",...I}),[h]),b=S.useCallback((k,I)=>h("prompt",{message:k,title:"Input",confirmText:"OK",cancelText:"Cancel",inputPlaceholder:"",...I}),[h]),x=S.useCallback((k,I)=>h("share",{message:k,title:"Share Board",confirmText:"Send Invite",cancelText:"Cancel",showRoleSelector:!0,inputPlaceholder:"Enter email address",...I}),[h]),A=()=>{switch(e.options.type){case"success":return y.jsx($B,{className:"w-8 h-8 text-green-400"});case"warning":return y.jsx(GS,{className:"w-8 h-8 text-amber-400"});case"error":return y.jsx(GS,{className:"w-8 h-8 text-red-400"});default:return y.jsx(vI,{className:"w-8 h-8 text-accent-primary"})}};return y.jsxs(TI.Provider,{value:{alert:m,confirm:g,prompt:b,sharePrompt:x},children:[t,y.jsx(js,{children:e.isOpen&&y.jsx(He.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!1):d(null)},children:y.jsxs(He.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:k=>k.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="share"?y.jsx(av,{className:"w-6 h-6 text-accent-primary"}):A(),y.jsx("h3",{className:"text-lg font-bold text-white",children:e.options.title})]}),y.jsx("button",{onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!1):d(null)},className:"p-1 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:y.jsx(or,{size:20})})]}),y.jsxs("div",{className:"p-6",children:[y.jsx("p",{className:"text-slate-300 mb-4 whitespace-pre-wrap",children:e.options.message}),(e.type==="prompt"||e.type==="share")&&y.jsx("input",{type:e.type==="share"?"email":"text",autoFocus:!0,value:s,onChange:k=>a(k.target.value),placeholder:e.options.inputPlaceholder,className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors mb-4",onKeyDown:k=>{k.key==="Enter"&&s.trim()&&(e.type==="share"?d({email:s.trim(),role:l}):d(s.trim()))}}),e.type==="share"&&e.options.showRoleSelector&&y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"text-sm font-medium text-slate-400 mb-2 block",children:"Access Level"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>c("viewer"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="viewer"?"bg-accent-primary/20 text-accent-primary border border-accent-primary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Viewer"}),y.jsx("button",{onClick:()=>c("editor"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Editor"})]}),y.jsx("p",{className:"text-xs text-slate-500 mt-2",children:l==="viewer"?"Can view the board but not make changes":"Can view and edit the board"})]})]}),y.jsxs("div",{className:"flex gap-3 p-4 pt-0",children:[e.type!=="alert"&&y.jsx("button",{onClick:()=>{e.type==="confirm"?d(!1):d(null)},className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:e.options.cancelText}),y.jsx("button",{onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!0):e.type==="share"?s.trim()&&d({email:s.trim(),role:l}):d(s.trim()||null)},disabled:(e.type==="prompt"||e.type==="share")&&!s.trim(),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.options.confirmText})]})]})})})]})};function EI(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=EI(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function R8(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=EI(t))&&(s&&(s+=" "),s+=e);return s}const N8=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},I8=(t,e)=>({classGroupId:t,validator:e}),SI=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),jm="-",WS=[],k8="arbitrary..",D8=t=>{const e=P8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return M8(c);const h=c.split(jm),d=h[0]===""&&h.length>1?1:0;return AI(h,d,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const d=s[c],m=n[c];return d?m?N8(m,d):d:m||WS}return n[c]||WS}}},AI=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const m=AI(t,e+1,l);if(m)return m}const c=n.validators;if(c===null)return;const h=e===0?t.join(jm):t.slice(e).join(jm),d=c.length;for(let m=0;m<d;m++){const g=c[m];if(g.validator(h))return g.classGroupId}},M8=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?k8+s:void 0})(),P8=t=>{const{theme:e,classGroups:n}=t;return j8(n,e)},j8=(t,e)=>{const n=SI();for(const s in t){const a=t[s];tx(a,n,s,e)}return n},tx=(t,e,n,s)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];O8(c,e,n,s)}},O8=(t,e,n,s)=>{if(typeof t=="string"){V8(t,e,n);return}if(typeof t=="function"){L8(t,e,n,s);return}U8(t,e,n,s)},V8=(t,e,n)=>{const s=t===""?e:CI(e,t);s.classGroupId=n},L8=(t,e,n,s)=>{if(z8(t)){tx(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(I8(n,t))},U8=(t,e,n,s)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[h,d]=a[c];tx(d,CI(e,h),n,s)}},CI=(t,e)=>{let n=t;const s=e.split(jm),a=s.length;for(let l=0;l<a;l++){const c=s[l];let h=n.nextPart.get(c);h||(h=SI(),n.nextPart.set(c,h)),n=h}return n},z8=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,B8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=s[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},ov="!",XS=":",F8=[],QS=(t,e,n,s,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:a}),q8=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const l=[];let c=0,h=0,d=0,m;const g=a.length;for(let I=0;I<g;I++){const R=a[I];if(c===0&&h===0){if(R===XS){l.push(a.slice(d,I)),d=I+1;continue}if(R==="/"){m=I;continue}}R==="["?c++:R==="]"?c--:R==="("?h++:R===")"&&h--}const b=l.length===0?a:a.slice(d);let x=b,A=!1;b.endsWith(ov)?(x=b.slice(0,-1),A=!0):b.startsWith(ov)&&(x=b.slice(1),A=!0);const k=m&&m>d?m-d:void 0;return QS(l,A,x,k)};if(e){const a=e+XS,l=s;s=c=>c.startsWith(a)?l(c.slice(a.length)):QS(F8,!1,c,void 0,!0)}if(n){const a=s;s=l=>n({className:l,parseClassName:a})}return s},H8=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],h=c[0]==="[",d=e.has(c);h||d?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(c)):a.push(c)}return a.length>0&&(a.sort(),s.push(...a)),s}},G8=t=>({cache:B8(t.cacheSize),parseClassName:q8(t),sortModifiers:H8(t),...D8(t)}),$8=/\s+/,K8=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],h=t.trim().split($8);let d="";for(let m=h.length-1;m>=0;m-=1){const g=h[m],{isExternal:b,modifiers:x,hasImportantModifier:A,baseClassName:k,maybePostfixModifierPosition:I}=n(g);if(b){d=g+(d.length>0?" "+d:d);continue}let R=!!I,O=s(R?k.substring(0,I):k);if(!O){if(!R){d=g+(d.length>0?" "+d:d);continue}if(O=s(k),!O){d=g+(d.length>0?" "+d:d);continue}R=!1}const H=x.length===0?"":x.length===1?x[0]:l(x).join(":"),F=A?H+ov:H,re=F+O;if(c.indexOf(re)>-1)continue;c.push(re);const te=a(O,R);for(let ce=0;ce<te.length;++ce){const D=te[ce];c.push(F+D)}d=g+(d.length>0?" "+d:d)}return d},Y8=(...t)=>{let e=0,n,s,a="";for(;e<t.length;)(n=t[e++])&&(s=RI(n))&&(a&&(a+=" "),a+=s);return a},RI=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=RI(t[s]))&&(n&&(n+=" "),n+=e);return n},W8=(t,...e)=>{let n,s,a,l;const c=d=>{const m=e.reduce((g,b)=>b(g),t());return n=G8(m),s=n.cache.get,a=n.cache.set,l=h,h(d)},h=d=>{const m=s(d);if(m)return m;const g=K8(d,n);return a(d,g),g};return l=c,(...d)=>l(Y8(...d))},X8=[],On=t=>{const e=n=>n[t]||X8;return e.isThemeGetter=!0,e},NI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,II=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Q8=/^\d+\/\d+$/,J8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Z8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,tF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$l=t=>Q8.test(t),Qe=t=>!!t&&!Number.isNaN(Number(t)),La=t=>!!t&&Number.isInteger(Number(t)),t0=t=>t.endsWith("%")&&Qe(t.slice(0,-1)),zr=t=>J8.test(t),sF=()=>!0,iF=t=>Z8.test(t)&&!eF.test(t),kI=()=>!1,rF=t=>tF.test(t),aF=t=>nF.test(t),oF=t=>!Ne(t)&&!Ie(t),lF=t=>Pc(t,PI,kI),Ne=t=>NI.test(t),Uo=t=>Pc(t,jI,iF),n0=t=>Pc(t,fF,Qe),JS=t=>Pc(t,DI,kI),cF=t=>Pc(t,MI,aF),kf=t=>Pc(t,OI,rF),Ie=t=>II.test(t),Pu=t=>jc(t,jI),uF=t=>jc(t,mF),ZS=t=>jc(t,DI),hF=t=>jc(t,PI),dF=t=>jc(t,MI),Df=t=>jc(t,OI,!0),Pc=(t,e,n)=>{const s=NI.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},jc=(t,e,n=!1)=>{const s=II.exec(t);return s?s[1]?e(s[1]):n:!1},DI=t=>t==="position"||t==="percentage",MI=t=>t==="image"||t==="url",PI=t=>t==="length"||t==="size"||t==="bg-size",jI=t=>t==="length",fF=t=>t==="number",mF=t=>t==="family-name",OI=t=>t==="shadow",pF=()=>{const t=On("color"),e=On("font"),n=On("text"),s=On("font-weight"),a=On("tracking"),l=On("leading"),c=On("breakpoint"),h=On("container"),d=On("spacing"),m=On("radius"),g=On("shadow"),b=On("inset-shadow"),x=On("text-shadow"),A=On("drop-shadow"),k=On("blur"),I=On("perspective"),R=On("aspect"),O=On("ease"),H=On("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],te=()=>[...re(),Ie,Ne],ce=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],C=()=>[Ie,Ne,d],j=()=>[$l,"full","auto",...C()],B=()=>[La,"none","subgrid",Ie,Ne],U=()=>["auto",{span:["full",La,Ie,Ne]},La,Ie,Ne],V=()=>[La,"auto",Ie,Ne],P=()=>["auto","min","max","fr",Ie,Ne],be=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],xe=()=>["start","end","center","stretch","center-safe","end-safe"],Z=()=>["auto",...C()],X=()=>[$l,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],$=()=>[t,Ie,Ne],Y=()=>[...re(),ZS,JS,{position:[Ie,Ne]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],T=()=>["auto","cover","contain",hF,lF,{size:[Ie,Ne]}],z=()=>[t0,Pu,Uo],W=()=>["","none","full",m,Ie,Ne],ne=()=>["",Qe,Pu,Uo],ge=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[Qe,t0,ZS,JS],we=()=>["","none",k,Ie,Ne],Te=()=>["none",Qe,Ie,Ne],Ae=()=>["none",Qe,Ie,Ne],ze=()=>[Qe,Ie,Ne],Ve=()=>[$l,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[zr],breakpoint:[zr],color:[sF],container:[zr],"drop-shadow":[zr],ease:["in","out","in-out"],font:[oF],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[zr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[zr],shadow:[zr],spacing:["px",Qe],text:[zr],"text-shadow":[zr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",$l,Ne,Ie,R]}],container:["container"],columns:[{columns:[Qe,Ne,Ie,h]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:te()}],overflow:[{overflow:ce()}],"overflow-x":[{"overflow-x":ce()}],"overflow-y":[{"overflow-y":ce()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[La,"auto",Ie,Ne]}],basis:[{basis:[$l,"full","auto",h,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Qe,$l,"auto","initial","none",Ne]}],grow:[{grow:["",Qe,Ie,Ne]}],shrink:[{shrink:["",Qe,Ie,Ne]}],order:[{order:[La,"first","last","none",Ie,Ne]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...be(),"normal"]}],"justify-items":[{"justify-items":[...xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...xe()]}],"align-content":[{content:["normal",...be()]}],"align-items":[{items:[...xe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...xe(),{baseline:["","last"]}]}],"place-content":[{"place-content":be()}],"place-items":[{"place-items":[...xe(),"baseline"]}],"place-self":[{"place-self":["auto",...xe()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:Z()}],mx:[{mx:Z()}],my:[{my:Z()}],ms:[{ms:Z()}],me:[{me:Z()}],mt:[{mt:Z()}],mr:[{mr:Z()}],mb:[{mb:Z()}],ml:[{ml:Z()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[h,"screen",...X()]}],"min-w":[{"min-w":[h,"screen","none",...X()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",n,Pu,Uo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ie,n0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",t0,Ne]}],"font-family":[{font:[uF,Ne,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ie,Ne]}],"line-clamp":[{"line-clamp":[Qe,"none",Ie,n0]}],leading:[{leading:[l,...C()]}],"list-image":[{"list-image":["none",Ie,Ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[Qe,"from-font","auto",Ie,Uo]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Qe,"auto",Ie,Ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Y()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},La,Ie,Ne],radial:["",Ie,Ne],conic:[La,Ie,Ne]},dF,cF]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Qe,Ie,Ne]}],"outline-w":[{outline:["",Qe,Pu,Uo]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",g,Df,kf]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",b,Df,kf]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Qe,Uo]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",x,Df,kf]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Qe,Ie,Ne]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Ie,Ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":re()}],"mask-image-conic-pos":[{"mask-conic":[Qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Y()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Ne]}],filter:[{filter:["","none",Ie,Ne]}],blur:[{blur:we()}],brightness:[{brightness:[Qe,Ie,Ne]}],contrast:[{contrast:[Qe,Ie,Ne]}],"drop-shadow":[{"drop-shadow":["","none",A,Df,kf]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Qe,Ie,Ne]}],"hue-rotate":[{"hue-rotate":[Qe,Ie,Ne]}],invert:[{invert:["",Qe,Ie,Ne]}],saturate:[{saturate:[Qe,Ie,Ne]}],sepia:[{sepia:["",Qe,Ie,Ne]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Ne]}],"backdrop-blur":[{"backdrop-blur":we()}],"backdrop-brightness":[{"backdrop-brightness":[Qe,Ie,Ne]}],"backdrop-contrast":[{"backdrop-contrast":[Qe,Ie,Ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Qe,Ie,Ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Qe,Ie,Ne]}],"backdrop-invert":[{"backdrop-invert":["",Qe,Ie,Ne]}],"backdrop-opacity":[{"backdrop-opacity":[Qe,Ie,Ne]}],"backdrop-saturate":[{"backdrop-saturate":[Qe,Ie,Ne]}],"backdrop-sepia":[{"backdrop-sepia":["",Qe,Ie,Ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Qe,"initial",Ie,Ne]}],ease:[{ease:["linear","initial",O,Ie,Ne]}],delay:[{delay:[Qe,Ie,Ne]}],animate:[{animate:["none",H,Ie,Ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[I,Ie,Ne]}],"perspective-origin":[{"perspective-origin":te()}],rotate:[{rotate:Te()}],"rotate-x":[{"rotate-x":Te()}],"rotate-y":[{"rotate-y":Te()}],"rotate-z":[{"rotate-z":Te()}],scale:[{scale:Ae()}],"scale-x":[{"scale-x":Ae()}],"scale-y":[{"scale-y":Ae()}],"scale-z":[{"scale-z":Ae()}],"scale-3d":["scale-3d"],skew:[{skew:ze()}],"skew-x":[{"skew-x":ze()}],"skew-y":[{"skew-y":ze()}],transform:[{transform:[Ie,Ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:te()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Ne]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Qe,Pu,Uo,n0]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},gF=W8(pF);function K(...t){return gF(R8(t))}const yF=()=>{const{isSettingsOpen:t,closeSettings:e,settings:n,updateSettings:s}=ms(),a=_t.useRef(n);if(_t.useEffect(()=>{t&&(a.current=n)},[t]),!t)return null;const l=()=>{s(a.current,!1),e()},c=()=>{s(n,!0),e()},h=[{id:"light",name:"Light",color:"bg-white from-slate-100 to-sky-50",animated:!0},{id:"dawn",name:"Dawn",color:"bg-[#0f111a] from-violet-500/20 to-pink-500/20",animated:!1},{id:"cosmic",name:"Cosmic",color:"bg-[#2e1065] from-violet-600/20 to-pink-600/20",animated:!0},{id:"lavender",name:"Lavender",color:"bg-[#3b0764] from-fuchsia-500/20 to-purple-500/20",animated:!0},{id:"midnight",name:"Midnight",color:"bg-[#020617] from-sky-500/20 to-indigo-500/20",animated:!1},{id:"forest",name:"Forest",color:"bg-[#052e16] from-green-500/20 to-emerald-500/20",animated:!1},{id:"ocean",name:"Ocean",color:"bg-[#083344] from-cyan-500/20 to-teal-500/20",animated:!1},{id:"sunset",name:"Sunset",color:"bg-[#2a0a0a] from-orange-500/20 to-rose-500/20",animated:!1}],d=[{id:"outfit",name:"Modern",family:"font-[Outfit]"},{id:"inter",name:"Clean",family:"font-[Inter]"},{id:"playfair",name:"Elegant",family:'font-["Playfair_Display"]'},{id:"mono",name:"Tech",family:'font-["Fira_Code"]'}],m=n.theme==="light";return y.jsx(js,{children:t&&y.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 font-sans",children:[y.jsx(He.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:l}),y.jsxs(He.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:K("relative w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col border",m?"bg-white border-slate-200":"bg-slate-900 border-white/10"),children:[y.jsxs("div",{className:K("p-6 border-b flex justify-between items-center sticky top-0 z-10",m?"bg-white border-slate-100":"bg-slate-900 border-white/10"),children:[y.jsxs("h2",{className:K("text-xl font-bold flex items-center gap-2",m?"text-slate-800":"text-white"),children:[y.jsx(Pm,{className:"w-5 h-5 text-accent-primary"}),"Customization"]}),y.jsx("button",{onClick:l,className:K("transition-colors",m?"text-slate-400 hover:text-slate-600":"text-slate-400 hover:text-white"),children:y.jsx(or,{className:"w-6 h-6"})})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[y.jsxs("section",{children:[y.jsxs("h3",{className:K("text-sm font-semibold uppercase tracking-wider mb-4 flex items-center gap-2",m?"text-slate-500":"text-slate-400"),children:[y.jsx(Pm,{className:"w-4 h-4"})," Theme"]}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:h.map(g=>y.jsxs("button",{onClick:()=>s({theme:g.id},!1),className:K("relative group overflow-hidden rounded-xl border transition-all duration-300",n.theme===g.id?"border-accent-primary ring-2 ring-accent-primary/50":m?"border-slate-200 hover:border-slate-300":"border-white/10 hover:border-white/30"),children:[y.jsx("div",{className:K("h-16 w-full bg-gradient-to-br relative",g.color),children:g.animated&&y.jsxs("div",{className:"absolute top-1.5 left-1.5 px-1.5 py-0.5 bg-black/40 backdrop-blur-sm rounded text-[10px] font-bold text-white/90 flex items-center gap-1",children:[y.jsx(sh,{className:"w-2.5 h-2.5"}),y.jsx("span",{children:"Animated"})]})}),y.jsx("div",{className:K("p-3",m?"bg-slate-50":"bg-slate-800/50"),children:y.jsx("span",{className:K("text-sm font-medium",n.theme===g.id?m?"text-slate-900":"text-white":"text-slate-400"),children:g.name})}),n.theme===g.id&&y.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-accent-primary rounded-full flex items-center justify-center shadow-lg",children:y.jsx(mi,{className:"w-3 h-3 text-white"})})]},g.id))})]}),y.jsxs("section",{children:[y.jsxs("h3",{className:K("text-sm font-semibold uppercase tracking-wider mb-4 flex items-center gap-2",m?"text-slate-500":"text-slate-400"),children:[y.jsx(_I,{className:"w-4 h-4"})," Typography"]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:d.map(g=>y.jsxs("button",{onClick:()=>s({font:g.id},!1),className:K("flex items-center justify-between p-4 rounded-xl border transition-all duration-200 text-left",n.font===g.id?"bg-accent-primary/10 border-accent-primary text-accent-primary":m?"bg-white border-slate-200 hover:bg-slate-50 text-slate-600":"bg-white/5 border-white/5 hover:bg-white/10 text-slate-300"),children:[y.jsxs("div",{children:[y.jsx("span",{className:K("text-lg block mb-0.5",g.family),children:"Aa"}),y.jsx("span",{className:"text-xs opacity-70",children:g.name})]}),n.font===g.id&&y.jsx(mi,{className:"w-5 h-5"})]},g.id))}),y.jsx("div",{className:K("mt-4 p-4 rounded-xl border",m?"bg-slate-50 border-slate-200":"bg-black/20 border-white/5"),children:y.jsx("p",{className:K("text-sm leading-relaxed",m?"text-slate-600":"text-slate-300",n.font==="outfit"&&"font-[Outfit]",n.font==="inter"&&"font-[Inter]",n.font==="playfair"&&'font-["Playfair_Display"]',n.font==="mono"&&'font-["Fira_Code"]'),children:"The quick brown fox jumps over the lazy dog. 1234567890."})})]}),y.jsxs("section",{children:[y.jsxs("h3",{className:K("text-sm font-semibold uppercase tracking-wider mb-4 flex items-center gap-2",m?"text-slate-500":"text-slate-400"),children:[y.jsx(sh,{className:"w-4 h-4"})," Experience"]}),y.jsxs("div",{className:K("flex items-center justify-between p-4 rounded-xl border mb-3",m?"bg-white border-slate-200":"bg-white/5 border-white/10"),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:K("p-2 rounded-lg",n.enableAnimation?"bg-accent-primary/20 text-accent-primary":m?"bg-slate-100 text-slate-400":"bg-slate-700 text-slate-400"),children:y.jsx(sh,{size:20})}),y.jsxs("div",{children:[y.jsx("div",{className:K("font-medium",m?"text-slate-800":"text-white"),children:"Live Backgrounds"}),y.jsx("div",{className:K("text-xs",m?"text-slate-500":"text-slate-400"),children:"Dynamic particles and ambient effects"})]})]}),y.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:n.enableAnimation,onChange:g=>s({enableAnimation:g.target.checked},!1),className:"sr-only peer"}),y.jsx("div",{className:K("w-11 h-6 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-accent-primary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary",m?"bg-slate-200":"bg-slate-700")})]})]}),y.jsxs("div",{className:K("flex items-center justify-between p-4 rounded-xl border",m?"bg-white border-slate-200":"bg-white/5 border-white/10"),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:K("p-2 rounded-lg",n.enableSound?"bg-emerald-500/20 text-emerald-400":m?"bg-slate-100 text-slate-400":"bg-slate-700 text-slate-400"),children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),y.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),y.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]})}),y.jsxs("div",{children:[y.jsx("div",{className:K("font-medium",m?"text-slate-800":"text-white"),children:"Sound Effects"}),y.jsx("div",{className:K("text-xs",m?"text-slate-500":"text-slate-400"),children:"Satisfying clicks and celebrations"})]})]}),y.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:g=>s({enableSound:g.target.checked},!1),className:"sr-only peer"}),y.jsx("div",{className:K("w-11 h-6 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500",m?"bg-slate-200":"bg-slate-700")})]})]})]})]}),y.jsxs("div",{className:K("p-6 border-t flex justify-end gap-3 sticky bottom-0 z-10 shrink-0",m?"bg-white border-slate-100":"bg-slate-900 border-white/10"),children:[y.jsx("button",{onClick:l,className:K("px-4 py-2 rounded-xl font-semibold transition-colors",m?"bg-slate-100 text-slate-600 hover:bg-slate-200":"bg-white/5 text-slate-300 hover:bg-white/10"),children:"Cancel"}),y.jsx("button",{onClick:c,className:"px-6 py-2 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all active:scale-95",children:"Save Changes"})]})]})]})})},Mf={theme:"dawn",font:"outfit",enableAnimation:!0,enableSound:!0},VI=S.createContext(null),ms=()=>{const t=S.useContext(VI);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},vF=({children:t})=>{const{user:e}=Fi(),[n,s]=S.useState(()=>{try{const m=localStorage.getItem("bingo_settings");return m?{...Mf,...JSON.parse(m)}:Mf}catch(m){return console.error("Error parsing local settings",m),Mf}}),[a,l]=S.useState(!1);S.useEffect(()=>{(async()=>{if(e)try{const g=gn(ft,"users",e.uid),b=await Wa(g);if(b.exists()&&b.data().settings){const x={...Mf,...b.data().settings};s(x),localStorage.setItem("bingo_settings",JSON.stringify(x))}}catch(g){console.error("Error loading settings:",g)}})()},[e]),S.useEffect(()=>{const m=document.body;m.classList.remove("theme-dawn","theme-midnight","theme-forest","theme-ocean","theme-sunset","theme-cosmic","theme-lavender","theme-light"),m.classList.add(`theme-${n.theme}`),m.classList.remove("font-inter","font-playfair","font-mono","font-comic"),n.font!=="outfit"&&m.classList.add(`font-${n.font}`),n.enableAnimation?m.classList.remove("reduce-motion"):m.classList.add("reduce-motion")},[n]);const c=async(m,g=!0)=>{const b={...n,...m};s(b);try{localStorage.setItem("bingo_settings",JSON.stringify(b))}catch(x){console.error("Failed to save settings locally",x)}if(e&&g)try{await Xo(gn(ft,"users",e.uid),{settings:b},{merge:!0})}catch(x){console.error("Error saving settings to DB:",x)}},h=()=>l(!0),d=()=>l(!1);return y.jsxs(VI.Provider,{value:{settings:n,updateSettings:c,isSettingsOpen:a,openSettings:h,closeSettings:d},children:[t,y.jsx(yF,{})]})},bF=()=>{const{signIn:t,error:e}=Fi(),{settings:n}=ms(),s=n.theme==="light";return y.jsxs("div",{className:K("relative flex flex-col items-center justify-center min-h-screen p-4 text-center overflow-hidden font-sans",s?"text-slate-800":"text-slate-100"),children:[y.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none",children:y.jsx("div",{className:K("absolute inset-0 bg-gradient-to-t via-transparent to-transparent",s?"from-white/30":"from-black/30")})}),y.jsxs("div",{className:"relative z-10 w-full max-w-[400px] animate-fade-in-up",children:[y.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[y.jsxs("div",{className:K("relative w-20 h-20 mb-4 rounded-2xl flex items-center justify-center shadow-xl backdrop-blur-sm border",s?"bg-gradient-to-br from-blue-500/10 to-purple-500/10 border-slate-200 shadow-blue-500/5":"bg-gradient-to-br from-indigo-500/20 to-purple-500/20 border-white/10 shadow-indigo-500/10"),children:[y.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-12 h-12 object-contain drop-shadow-lg"}),y.jsx("div",{className:"absolute -top-2 -right-2",children:y.jsx(wI,{className:"w-6 h-6 text-accent-gold animate-bounce-gentle"})})]}),y.jsx("h1",{className:K("text-3xl font-bold tracking-tight mb-2",s?"text-slate-900":"text-white"),children:"SunSar Bingo"}),y.jsx("p",{className:K("text-sm font-medium",s?"text-slate-500":"text-slate-400"),children:"The social way to achieve your 2026 goals."})]}),y.jsx("div",{className:K("backdrop-blur-md border rounded-2xl p-6 sm:p-8 shadow-2xl",s?"bg-white/80 border-slate-200 shadow-slate-200/50":"bg-slate-900/50 border-white/10 shadow-black/50"),children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"text-left space-y-2",children:[y.jsx("h2",{className:K("text-xl font-semibold",s?"text-slate-900":"text-white"),children:"Welcome back"}),y.jsx("p",{className:K("text-sm",s?"text-slate-500":"text-slate-400"),children:"Sign in to continue to your bingo boards."})]}),e&&y.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 px-4 py-3 rounded-xl text-sm flex items-start text-left",children:[y.jsx("span",{className:"mr-2",children:""}),e]}),y.jsxs("button",{onClick:t,className:K("group relative w-full flex items-center justify-center gap-3 px-4 py-3 font-bold rounded-xl transition-all duration-200 shadow-lg hover:tracking-wide active:scale-[0.98]",s?"bg-slate-900 text-white hover:bg-slate-800 shadow-slate-300":"bg-white text-slate-900 hover:bg-slate-200 shadow-white/5"),children:[y.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"G",className:"w-5 h-5"}),y.jsx("span",{children:"Continue with Google"}),y.jsx(DB,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),y.jsxs("div",{className:"relative my-6",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("span",{className:K("w-full border-t",s?"border-slate-200":"border-white/10")})}),y.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:y.jsx("span",{className:K("px-2",s?"bg-white/0 text-slate-400":"bg-transparent text-slate-500"),children:"New to SunSar?"})})]}),y.jsx(xv,{to:"/help",className:K("block w-full py-3 px-4 rounded-xl border font-medium transition-colors text-sm",s?"border-slate-200 text-slate-600 hover:bg-slate-50 hover:text-slate-900":"border-white/10 text-slate-300 hover:bg-white/5 hover:text-white"),children:"Check out how it works"})]})}),y.jsx("div",{className:"mt-8 text-center",children:y.jsxs("p",{className:"text-xs text-slate-500",children:[" 2026 SunSar Bingo  ",y.jsx("a",{href:"#",className:"hover:text-slate-400 underline decoration-slate-700",children:"Privacy"}),"  ",y.jsx("a",{href:"#",className:"hover:text-slate-400 underline decoration-slate-700",children:"Terms"})]})})]})]})};var nx={};(function t(e,n,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",h=(function(){if(!e.OffscreenCanvas)return!1;try{var L=new OffscreenCanvas(1,1),T=L.getContext("2d");T.fillRect(0,0,1,1);var z=L.transferToImageBitmap();T.createPattern(z,"no-repeat")}catch{return!1}return!0})();function d(){}function m(L){var T=n.exports.Promise,z=T!==void 0?T:e.Promise;return typeof z=="function"?new z(L):(L(d,d),null)}var g=(function(L,T){return{transform:function(z){if(L)return z;if(T.has(z))return T.get(z);var W=new OffscreenCanvas(z.width,z.height),ne=W.getContext("2d");return ne.drawImage(z,0,0),T.set(z,W),W},clear:function(){T.clear()}}})(h,new Map),b=(function(){var L=Math.floor(16.666666666666668),T,z,W={},ne=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(ge){var ye=Math.random();return W[ye]=requestAnimationFrame(function he(we){ne===we||ne+L-1<we?(ne=we,delete W[ye],ge()):W[ye]=requestAnimationFrame(he)}),ye},z=function(ge){W[ge]&&cancelAnimationFrame(W[ge])}):(T=function(ge){return setTimeout(ge,L)},z=function(ge){return clearTimeout(ge)}),{frame:T,cancel:z}})(),x=(function(){var L,T,z={};function W(ne){function ge(ye,he){ne.postMessage({options:ye||{},callback:he})}ne.init=function(he){var we=he.transferControlToOffscreen();ne.postMessage({canvas:we},[we])},ne.fire=function(he,we,Te){if(T)return ge(he,null),T;var Ae=Math.random().toString(36).slice(2);return T=m(function(ze){function Ve(dt){dt.data.callback===Ae&&(delete z[Ae],ne.removeEventListener("message",Ve),T=null,g.clear(),Te(),ze())}ne.addEventListener("message",Ve),ge(he,Ae),z[Ae]=Ve.bind(null,{data:{callback:Ae}})}),T},ne.reset=function(){ne.postMessage({reset:!0});for(var he in z)z[he](),delete z[he]}}return function(){if(L)return L;if(!s&&l){var ne=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{L=new Worker(URL.createObjectURL(new Blob([ne])))}catch(ge){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ge),null}W(L)}return L}})(),A={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function k(L,T){return T?T(L):L}function I(L){return L!=null}function R(L,T,z){return k(L&&I(L[T])?L[T]:A[T],z)}function O(L){return L<0?0:Math.floor(L)}function H(L,T){return Math.floor(Math.random()*(T-L))+L}function F(L){return parseInt(L,16)}function re(L){return L.map(te)}function te(L){var T=String(L).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:F(T.substring(0,2)),g:F(T.substring(2,4)),b:F(T.substring(4,6))}}function ce(L){var T=R(L,"origin",Object);return T.x=R(T,"x",Number),T.y=R(T,"y",Number),T}function D(L){L.width=document.documentElement.clientWidth,L.height=document.documentElement.clientHeight}function C(L){var T=L.getBoundingClientRect();L.width=T.width,L.height=T.height}function j(L){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=L,T}function B(L,T,z,W,ne,ge,ye,he,we){L.save(),L.translate(T,z),L.rotate(ge),L.scale(W,ne),L.arc(0,0,1,ye,he,we),L.restore()}function U(L){var T=L.angle*(Math.PI/180),z=L.spread*(Math.PI/180);return{x:L.x,y:L.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:L.startVelocity*.5+Math.random()*L.startVelocity,angle2D:-T+(.5*z-Math.random()*z),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:L.color,shape:L.shape,tick:0,totalTicks:L.ticks,decay:L.decay,drift:L.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:L.gravity*3,ovalScalar:.6,scalar:L.scalar,flat:L.flat}}function V(L,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var z=T.tick++/T.totalTicks,W=T.x+T.random*T.tiltCos,ne=T.y+T.random*T.tiltSin,ge=T.wobbleX+T.random*T.tiltCos,ye=T.wobbleY+T.random*T.tiltSin;if(L.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-z)+")",L.beginPath(),c&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))L.fill(X(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(ge-W)*.1,Math.abs(ye-ne)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var he=Math.PI/10*T.wobble,we=Math.abs(ge-W)*.1,Te=Math.abs(ye-ne)*.1,Ae=T.shape.bitmap.width*T.scalar,ze=T.shape.bitmap.height*T.scalar,Ve=new DOMMatrix([Math.cos(he)*we,Math.sin(he)*we,-Math.sin(he)*Te,Math.cos(he)*Te,T.x,T.y]);Ve.multiplySelf(new DOMMatrix(T.shape.matrix));var dt=L.createPattern(g.transform(T.shape.bitmap),"no-repeat");dt.setTransform(Ve),L.globalAlpha=1-z,L.fillStyle=dt,L.fillRect(T.x-Ae/2,T.y-ze/2,Ae,ze),L.globalAlpha=1}else if(T.shape==="circle")L.ellipse?L.ellipse(T.x,T.y,Math.abs(ge-W)*T.ovalScalar,Math.abs(ye-ne)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):B(L,T.x,T.y,Math.abs(ge-W)*T.ovalScalar,Math.abs(ye-ne)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var De=Math.PI/2*3,mt=4*T.scalar,xt=8*T.scalar,Xt=T.x,yn=T.y,Ze=5,Be=Math.PI/Ze;Ze--;)Xt=T.x+Math.cos(De)*xt,yn=T.y+Math.sin(De)*xt,L.lineTo(Xt,yn),De+=Be,Xt=T.x+Math.cos(De)*mt,yn=T.y+Math.sin(De)*mt,L.lineTo(Xt,yn),De+=Be;else L.moveTo(Math.floor(T.x),Math.floor(T.y)),L.lineTo(Math.floor(T.wobbleX),Math.floor(ne)),L.lineTo(Math.floor(ge),Math.floor(ye)),L.lineTo(Math.floor(W),Math.floor(T.wobbleY));return L.closePath(),L.fill(),T.tick<T.totalTicks}function P(L,T,z,W,ne){var ge=T.slice(),ye=L.getContext("2d"),he,we,Te=m(function(Ae){function ze(){he=we=null,ye.clearRect(0,0,W.width,W.height),g.clear(),ne(),Ae()}function Ve(){s&&!(W.width===a.width&&W.height===a.height)&&(W.width=L.width=a.width,W.height=L.height=a.height),!W.width&&!W.height&&(z(L),W.width=L.width,W.height=L.height),ye.clearRect(0,0,W.width,W.height),ge=ge.filter(function(dt){return V(ye,dt)}),ge.length?he=b.frame(Ve):ze()}he=b.frame(Ve),we=ze});return{addFettis:function(Ae){return ge=ge.concat(Ae),Te},canvas:L,promise:Te,reset:function(){he&&b.cancel(he),we&&we()}}}function be(L,T){var z=!L,W=!!R(T||{},"resize"),ne=!1,ge=R(T,"disableForReducedMotion",Boolean),ye=l&&!!R(T||{},"useWorker"),he=ye?x():null,we=z?D:C,Te=L&&he?!!L.__confetti_initialized:!1,Ae=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ze;function Ve(De,mt,xt){for(var Xt=R(De,"particleCount",O),yn=R(De,"angle",Number),Ze=R(De,"spread",Number),Be=R(De,"startVelocity",Number),Wn=R(De,"decay",Number),Os=R(De,"gravity",Number),Xs=R(De,"drift",Number),Ot=R(De,"colors",re),Ss=R(De,"ticks",Number),As=R(De,"shapes"),zn=R(De,"scalar"),Et=!!R(De,"flat"),Bn=ce(De),Vs=Xt,vn=[],Ls=L.width*Bn.x,In=L.height*Bn.y;Vs--;)vn.push(U({x:Ls,y:In,angle:yn,spread:Ze,startVelocity:Be,color:Ot[Vs%Ot.length],shape:As[H(0,As.length)],ticks:Ss,decay:Wn,gravity:Os,drift:Xs,scalar:zn,flat:Et}));return ze?ze.addFettis(vn):(ze=P(L,vn,we,mt,xt),ze.promise)}function dt(De){var mt=ge||R(De,"disableForReducedMotion",Boolean),xt=R(De,"zIndex",Number);if(mt&&Ae)return m(function(Be){Be()});z&&ze?L=ze.canvas:z&&!L&&(L=j(xt),document.body.appendChild(L)),W&&!Te&&we(L);var Xt={width:L.width,height:L.height};he&&!Te&&he.init(L),Te=!0,he&&(L.__confetti_initialized=!0);function yn(){if(he){var Be={getBoundingClientRect:function(){if(!z)return L.getBoundingClientRect()}};we(Be),he.postMessage({resize:{width:Be.width,height:Be.height}});return}Xt.width=Xt.height=null}function Ze(){ze=null,W&&(ne=!1,e.removeEventListener("resize",yn)),z&&L&&(document.body.contains(L)&&document.body.removeChild(L),L=null,Te=!1)}return W&&!ne&&(ne=!0,e.addEventListener("resize",yn,!1)),he?he.fire(De,Xt,Ze):Ve(De,Xt,Ze)}return dt.reset=function(){he&&he.reset(),ze&&ze.reset()},dt}var xe;function Z(){return xe||(xe=be(null,{useWorker:!0,resize:!0})),xe}function X(L,T,z,W,ne,ge,ye){var he=new Path2D(L),we=new Path2D;we.addPath(he,new DOMMatrix(T));var Te=new Path2D;return Te.addPath(we,new DOMMatrix([Math.cos(ye)*ne,Math.sin(ye)*ne,-Math.sin(ye)*ge,Math.cos(ye)*ge,z,W])),Te}function $(L){if(!c)throw new Error("path confetti are not supported in this browser");var T,z;typeof L=="string"?T=L:(T=L.path,z=L.matrix);var W=new Path2D(T),ne=document.createElement("canvas"),ge=ne.getContext("2d");if(!z){for(var ye=1e3,he=ye,we=ye,Te=0,Ae=0,ze,Ve,dt=0;dt<ye;dt+=2)for(var De=0;De<ye;De+=2)ge.isPointInPath(W,dt,De,"nonzero")&&(he=Math.min(he,dt),we=Math.min(we,De),Te=Math.max(Te,dt),Ae=Math.max(Ae,De));ze=Te-he,Ve=Ae-we;var mt=10,xt=Math.min(mt/ze,mt/Ve);z=[xt,0,0,xt,-Math.round(ze/2+he)*xt,-Math.round(Ve/2+we)*xt]}return{type:"path",path:T,matrix:z}}function Y(L){var T,z=1,W="#000000",ne='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof L=="string"?T=L:(T=L.text,z="scalar"in L?L.scalar:z,ne="fontFamily"in L?L.fontFamily:ne,W="color"in L?L.color:W);var ge=10*z,ye=""+ge+"px "+ne,he=new OffscreenCanvas(ge,ge),we=he.getContext("2d");we.font=ye;var Te=we.measureText(T),Ae=Math.ceil(Te.actualBoundingBoxRight+Te.actualBoundingBoxLeft),ze=Math.ceil(Te.actualBoundingBoxAscent+Te.actualBoundingBoxDescent),Ve=2,dt=Te.actualBoundingBoxLeft+Ve,De=Te.actualBoundingBoxAscent+Ve;Ae+=Ve+Ve,ze+=Ve+Ve,he=new OffscreenCanvas(Ae,ze),we=he.getContext("2d"),we.font=ye,we.fillStyle=W,we.fillText(T,dt,De);var mt=1/z;return{type:"bitmap",bitmap:he.transferToImageBitmap(),matrix:[mt,0,0,mt,-Ae*mt/2,-ze*mt/2]}}n.exports=function(){return Z().apply(this,arguments)},n.exports.reset=function(){Z().reset()},n.exports.create=be,n.exports.shapeFromPath=$,n.exports.shapeFromText=Y})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),nx,!1);const lv=nx.exports;nx.exports.create;const ju=(t=1)=>{const e=200*t,n={origin:{y:.7}};function s(a,l){lv(Object.assign({},n,l,{particleCount:Math.floor(e*a)}))}s(.25,{spread:26,startVelocity:55}),s(.2,{spread:60}),s(.35,{spread:100,decay:.91,scalar:.8}),s(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),s(.1,{spread:120,startVelocity:45})},eA={cloudName:"dia6ped7h",uploadPreset:"bingo_proofs"},tA=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",eA.uploadPreset),e.append("folder","bingo-proofs");const n=await fetch(`https://api.cloudinary.com/v1_1/${eA.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok){const a=await n.json();throw console.error("Cloudinary upload error:",a),new Error(a.error?.message||"Failed to upload image")}return(await n.json()).secure_url},xF="2026",s0=5,wF=["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"],ui=t=>{if(t===void 0)return null;if(t===null||typeof t!="object"||t instanceof Date||t.toDate&&typeof t.toDate=="function")return t;if(Array.isArray(t))return t.map(ui);const e={};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const s=ui(t[n]);s!==void 0&&(e[n]=s)}return e},_F=t=>{const{user:e}=Fi(),[n,s]=S.useState([]),[a,l]=S.useState({}),[c,h]=S.useState(!0),[d,m]=S.useState(!1),[g,b]=S.useState(!1),[x,A]=S.useState(""),[k,I]=S.useState(s0),R=S.useMemo(()=>t?gn(ft,"boards",t):gn(ft,"years",xF),[t]),O=(X,$)=>{if(!X.length)return;const Y=[];for(let T=0;T<$;T++)Y.push(X.slice(T*$,(T+1)*$));let L=!1;for(let T=0;T<$;T++)if(Y[T]&&Y[T].every(z=>z.isCompleted||z.isFreeSpace)){L=!0;break}if(!L){for(let T=0;T<$;T++)if(Y.map(z=>z[T]).every(z=>z&&(z.isCompleted||z.isFreeSpace))){L=!0;break}}!L&&Y.map((T,z)=>T[z]).every(T=>T&&(T.isCompleted||T.isFreeSpace))&&(L=!0),!L&&Y.map((T,z)=>T[$-1-z]).every(T=>T&&(T.isCompleted||T.isFreeSpace))&&(L=!0),L&&!d?(m(!0),ju(2)):L||m(!1)},H=async(X=s0)=>{const $=X*X,Y=X%2===1?Math.floor($/2):-1,L=[...wF].sort(()=>.5-Math.random()),T=[];let z=0;for(let W=0;W<$;W++)W===Y&&X%2===1?T.push({id:W,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(T.push({id:W,text:L[z%L.length]||`Goal ${W+1}`,isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),z++);await Xo(R,{year:2026,gridSize:X,items:T,isLocked:!1,createdAt:qe.now(),lastUpdated:qe.now(),...e?{ownerId:e.uid,members:{[e.uid]:"owner"}}:{}},{merge:!0})};S.useEffect(()=>{if(!e)return;h(!0);const X=lc(R,$=>{if($.exists()){const Y=$.data(),L=Y.gridSize||s0;I(L),s(Y.items||[]),l(Y.members||{}),b(Y.isLocked||!1),A(Y.title||""),O(Y.items||[],L)}else H();h(!1)},$=>{console.error("Error fetching bingo board:",$),h(!1)});return()=>X()},[R,e]);const F=async X=>{if(!n.length)return;const $=n.map(z=>({...z})),Y=$[X];if(Y.isFreeSpace)return;const L=Y.targetCount||1,T=Y.currentCount||0;if(Y.isCompleted){const z=Math.max(0,T-1);Y.currentCount=z,Y.isCompleted=z>=L,z===0&&(Y.completedBy=null,Y.completedAt=null)}else{const z=Math.min(L,T+1);Y.currentCount=z,Y.isCompleted=z>=L,Y.completedBy=e?.displayName||e?.email||"Unknown",Y.completedAt=qe.now(),ju(.5)}s($),O($,k);try{await ls(R,{items:ui($),lastUpdated:qe.now()})}catch(z){throw console.error("Error updating bingo board:",z),z}},re=async X=>{if(!n.length)return;const $=n.map(W=>({...W})),Y=$[X];if(Y.isFreeSpace)return;const L=Y.currentCount||0;if(L<=0)return;const T=Y.targetCount||1,z=L-1;Y.currentCount=z,Y.isCompleted=z>=T,z===0&&(Y.completedBy=null,Y.completedAt=null),s($),O($,k);try{await ls(R,{items:ui($),lastUpdated:qe.now()})}catch(W){throw console.error("Error decrementing progress:",W),W}},te=async(X,$)=>{if(!(!n.length||!e))try{const Y=await tA($),L=n.map(ye=>({...ye})),T=L[X];if(T.isFreeSpace)return;const z=T.targetCount||1,W=T.currentCount||0,ne=Math.min(z,W+1);T.currentCount=ne,T.isCompleted=ne>=z,T.completedBy=e?.displayName||e?.email||"Unknown",T.completedAt=qe.now();const ge=T.proofPhotos||[];T.proofPhotos=[...ge,Y],s(L),O(L,k),ju(1),await ls(R,{items:ui(L),lastUpdated:qe.now()})}catch(Y){throw console.error("Error completing with photo:",Y),Y}},ce=async(X,$)=>{if(!n.length||!e)return;const Y=n[X];!Y.isCompleted&&(Y.currentCount||0)<(Y.targetCount||1);const L=Y.proofPhotos||[];if(L.length>=5)throw new Error("Maximum 5 photos allowed per tile");try{const T=await tA($),z=n.map(W=>({...W}));return z[X].proofPhotos=[...L,T],s(z),ju(.3),await ls(R,{items:ui(z),lastUpdated:qe.now()}),T}catch(T){throw console.error("Error adding photo:",T),T}},D=async(X,$)=>{if(!n.length)return;const Y=n.map(z=>({...z})),L=Y[X];if(!L.proofPhotos)return;const T=[...L.proofPhotos];T.splice($,1),L.proofPhotos=T,s(Y);try{await ls(R,{items:ui(Y),lastUpdated:qe.now()})}catch(z){console.error("Error deleting photo:",z)}},C=async(X,$)=>{if(e)try{const Y=n.map(W=>({...W})),L=Y[X],T={emoji:$,by:e.uid,byName:e.displayName||e.email?.split("@")[0]||"Friend",timestamp:Date.now()},z=L.reactions||[];L.reactions=[...z,T],s(Y),await ls(R,{items:ui(Y),lastUpdated:qe.now()}),ju(.2)}catch(Y){console.error("Error adding reaction:",Y)}},j=async(X,$)=>{const Y=n.map(L=>({...L}));$.text!==void 0&&(Y[X].text=$.text),$.style!==void 0&&(Y[X].style=$.style),s(Y);try{await ls(R,{items:ui(Y),lastUpdated:qe.now()})}catch(L){console.error("Error updating item:",L)}},B=async(X=!0)=>{const $=[...n];let Y=$;if(X){const T=k*k,z=k%2===1?Math.floor(T/2):-1;if(z!==-1){const W=$[z],ne=[...$.slice(0,z),...$.slice(z+1)];for(let ge=ne.length-1;ge>0;ge--){const ye=Math.floor(Math.random()*(ge+1));[ne[ge],ne[ye]]=[ne[ye],ne[ge]]}Y=[...ne.slice(0,z),W,...ne.slice(z)]}else{Y=[...$];for(let W=Y.length-1;W>0;W--){const ne=Math.floor(Math.random()*(W+1));[Y[W],Y[ne]]=[Y[ne],Y[W]]}}s(Y)}b(!0);const L={isLocked:!0,lastUpdated:qe.now()};X&&(L.items=ui(Y),L.itemsBackup=ui($));try{await Xo(R,L,{merge:!0})}catch(T){throw console.error("Error locking board:",T),T}},U=async()=>{try{const X=await Wa(R);if(X.exists()){const $=X.data();$.itemsBackup?await ls(R,{items:$.itemsBackup,itemsBackup:_m(),isLocked:!1,lastUpdated:qe.now()}):await ls(R,{isLocked:!1,lastUpdated:qe.now()})}}catch(X){console.error("Error unlocking board:",X)}},V=S.useMemo(()=>{const X=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],[0,6,12,18,24],[4,8,12,16,20]],$=new Set(n.map((Y,L)=>Y.isCompleted||Y.isFreeSpace?L:-1));return X.reduce((Y,L)=>L.every(T=>$.has(T))?Y+1:Y,0)},[n]);return{items:n,members:a,loading:c,toggleItem:F,updateItem:j,hasWon:d,bingoCount:V,isLocked:g,unlockBoard:U,jumbleAndLock:B,saveBoard:async X=>{s(X);try{await ls(R,{items:ui(X),lastUpdated:qe.now()})}catch($){throw console.error("Error saving board:",$),$}},completeWithPhoto:te,addPhotoToTile:ce,deletePhoto:D,addReaction:C,decrementProgress:re,inviteUser:async(X,$="editor")=>{try{const Y=$a(fi(ft,"users"),tr("email","==",X)),L=await Wo(Y);if(L.empty)return{success:!1,type:"not_found",message:"User not found"};const T=L.docs[0],z=T.id;return await ls(R,{[`members.${z}`]:$}),{success:!0,type:"success",message:`Added ${T.data().displayName||X} as ${$}!`}}catch(Y){return console.error("Error inviting user:",Y),{success:!1,type:"error",message:"Failed to invite user"}}},removeMember:async X=>{try{return await ls(R,{[`members.${X}`]:_m()}),{success:!0}}catch($){return console.error("Error removing member:",$),{success:!1,error:$}}},title:x,gridSize:k,updateTitle:async X=>{try{await ls(R,{title:X,lastUpdated:qe.now()}),A(X)}catch($){console.error("Error updating title:",$)}}}},uc=[{id:"early_bird",category:"Speed",title:"Early Bird",description:"Complete your first tile in January.",icon:"",maxProgress:1},{id:"sprint_start",category:"Speed",title:"Sprint Start",description:"Complete 3 tiles within 24h of starting a board.",icon:"",maxProgress:1},{id:"on_fire",category:"Speed",title:"On Fire",description:"Maintain a 7-day streak.",icon:"",maxProgress:7},{id:"slow_steady",category:"Speed",title:"Slow & Steady",description:"Complete a tile >6 months after starting.",icon:"",maxProgress:1},{id:"weekend_warrior",category:"Speed",title:"Weekend Warrior",description:"Complete 5 tasks on Sat/Sun.",icon:"",maxProgress:5},{id:"shutterbug",category:"Creativity",title:"Shutterbug",description:"Upload your first 10 proof photos.",icon:"",maxProgress:10},{id:"curator",category:"Creativity",title:"Curator",description:"Have a board fully completed with photos.",icon:"",maxProgress:1},{id:"selfie_star",category:"Creativity",title:"Selfie Star",description:"Upload 50 photos total.",icon:"",maxProgress:50},{id:"memory_lane",category:"Creativity",title:"Memory Lane",description:'Open "Memories" view 5 times.',icon:"",maxProgress:5},{id:"social_butterfly",category:"Social",title:"Social Butterfly",description:"Add your first 5 friends.",icon:"",maxProgress:5},{id:"got_mail",category:"Social",title:"You've Got Mail",description:"Accept a friend request.",icon:"",maxProgress:1},{id:"town_crier",category:"Social",title:"Town Crier",description:"Share a board.",icon:"",maxProgress:1},{id:"better_together",category:"Social",title:"Better Together",description:"Join a shared board.",icon:"",maxProgress:1},{id:"peculiar_peeper",category:"Social",title:"Peculiar Peeper",description:"View a friend's profile 10 times.",icon:"",maxProgress:10,isHidden:!0}],LI=()=>{const{user:t}=Fi();return{unlockBadge:async a=>{if(t)try{const l=gn(ft,`users/${t.uid}/badges/progress`),c=await Wa(l),d=(c.exists()?c.data():{})[a]?.progress||0,m=uc.find(g=>g.id===a);if(!m)return;d<m.maxProgress&&(await Xo(l,{[a]:{progress:m.maxProgress,unlockedAt:Yo()}},{merge:!0}),console.log(` Badge Unlocked: ${m.title}`))}catch(l){console.error("Error unlocking badge:",l)}},incrementBadge:async(a,l=1)=>{if(t)try{const c=gn(ft,`users/${t.uid}/badges/progress`),h=await Wa(c),d=h.exists()?h.data():{},m=uc.find(b=>b.id===a);if(!m)return;const g=d[a]?.progress||0;if(g<m.maxProgress){const b=Math.min(g+l,m.maxProgress),x=b>=m.maxProgress;await Xo(c,{[a]:{progress:b,...x?{unlockedAt:Yo()}:{}}},{merge:!0}),x&&g<m.maxProgress&&console.log(` Badge Unlocked: ${m.title}`)}}catch(c){console.error("Error incrementing badge:",c)}},setBadgeProgress:async(a,l)=>{if(t)try{const c=gn(ft,`users/${t.uid}/badges/progress`),h=await Wa(c),d=h.exists()?h.data():{},m=uc.find(b=>b.id===a);if(!m)return;const g=d[a]?.progress||0;if(l>g){const b=Math.min(l,m.maxProgress),x=b>=m.maxProgress;await Xo(c,{[a]:{progress:b,...x?{unlockedAt:Yo()}:{}}},{merge:!0}),x&&g<m.maxProgress&&console.log(` Badge Unlocked: ${m.title}`)}}catch(c){console.error("Error setting badge progress:",c)}}}};let ih=null;const Ou=()=>(ih||(ih=new(window.AudioContext||window.webkitAudioContext)),ih),TF=()=>{const{settings:t}=ms(),e=t.enableSound??!0,n=S.useRef(0);S.useEffect(()=>{const g=()=>{ih?.state==="suspended"&&ih.resume()};return document.addEventListener("click",g,{once:!0}),document.addEventListener("touchstart",g,{once:!0}),()=>{document.removeEventListener("click",g),document.removeEventListener("touchstart",g)}},[]);const s=S.useCallback(()=>{const g=Date.now();return g-n.current<50?!1:(n.current=g,!0)},[]),a=S.useCallback(()=>{if(!(!e||!s()))try{const g=Ou(),b=g.createOscillator(),x=g.createGain();b.connect(x),x.connect(g.destination),b.frequency.setValueAtTime(800,g.currentTime),b.frequency.exponentialRampToValueAtTime(400,g.currentTime+.1),b.type="sine",x.gain.setValueAtTime(.15,g.currentTime),x.gain.exponentialRampToValueAtTime(.001,g.currentTime+.1),b.start(g.currentTime),b.stop(g.currentTime+.1)}catch(g){console.warn("Audio playback failed:",g)}},[e,s]),l=S.useCallback(()=>{if(!(!e||!s()))try{const g=Ou();[523.25,659.25,783.99].forEach((x,A)=>{const k=g.createOscillator(),I=g.createGain();k.connect(I),I.connect(g.destination),k.frequency.setValueAtTime(x,g.currentTime),k.type="sine";const R=g.currentTime+A*.08;I.gain.setValueAtTime(0,R),I.gain.linearRampToValueAtTime(.12,R+.02),I.gain.exponentialRampToValueAtTime(.001,R+.3),k.start(R),k.stop(R+.3)})}catch(g){console.warn("Audio playback failed:",g)}},[e,s]),c=S.useCallback(()=>{if(e)try{const g=Ou();[{freq:523.25,time:0},{freq:659.25,time:.1},{freq:783.99,time:.2},{freq:1046.5,time:.35},{freq:1318.51,time:.5}].forEach(({freq:k,time:I})=>{const R=g.createOscillator(),O=g.createGain();R.connect(O),O.connect(g.destination),R.frequency.setValueAtTime(k,g.currentTime+I),R.type="sine",O.gain.setValueAtTime(0,g.currentTime+I),O.gain.linearRampToValueAtTime(.2,g.currentTime+I+.02),O.gain.exponentialRampToValueAtTime(.001,g.currentTime+I+.5),R.start(g.currentTime+I),R.stop(g.currentTime+I+.5)});const x=g.createOscillator(),A=g.createGain();x.connect(A),A.connect(g.destination),x.type="sine",x.frequency.setValueAtTime(2e3,g.currentTime+.6),x.frequency.exponentialRampToValueAtTime(4e3,g.currentTime+1.2),A.gain.setValueAtTime(0,g.currentTime+.6),A.gain.linearRampToValueAtTime(.05,g.currentTime+.7),A.gain.exponentialRampToValueAtTime(.001,g.currentTime+1.2),x.start(g.currentTime+.6),x.stop(g.currentTime+1.2)}catch(g){console.warn("Audio playback failed:",g)}},[e]),h=S.useRef(null),d=S.useCallback(()=>{if(!(!e||!s()))try{const g=Ou();if(!h.current){const k=g.sampleRate*.15,I=g.createBuffer(1,k,g.sampleRate),R=I.getChannelData(0);for(let O=0;O<k;O++)R[O]=(Math.random()*2-1)*(1-O/k);h.current=I}const b=g.createBufferSource(),x=g.createBiquadFilter(),A=g.createGain();b.buffer=h.current,x.type="lowpass",x.frequency.setValueAtTime(2e3,g.currentTime),x.frequency.exponentialRampToValueAtTime(500,g.currentTime+.15),b.connect(x),x.connect(A),A.connect(g.destination),A.gain.setValueAtTime(.08,g.currentTime),A.gain.exponentialRampToValueAtTime(.001,g.currentTime+.15),b.start(g.currentTime)}catch(g){console.warn("Audio playback failed:",g)}},[e,s]),m=S.useCallback(()=>{if(!(!e||!s()))try{const g=Ou(),b=g.createOscillator(),x=g.createGain();b.connect(x),x.connect(g.destination),b.frequency.setValueAtTime(200,g.currentTime),b.frequency.linearRampToValueAtTime(150,g.currentTime+.2),b.type="sine",x.gain.setValueAtTime(.15,g.currentTime),x.gain.exponentialRampToValueAtTime(.001,g.currentTime+.2),b.start(g.currentTime),b.stop(g.currentTime+.2)}catch(g){console.warn("Audio playback failed:",g)}},[e,s]);return{playClick:a,playSuccess:l,playBingo:c,playWhoosh:d,playError:m}},EF=({items:t,isOpen:e,onClose:n})=>{const[s,a]=S.useState(null),{settings:l}=ms(),c=l.theme==="light",h=S.useMemo(()=>t.map((g,b)=>({...g,originalIndex:b})).filter(g=>g.proofPhotos&&g.proofPhotos.length>0).sort((g,b)=>{const x=g.completedAt?.toDate?.()||new Date(0);return(b.completedAt?.toDate?.()||new Date(0)).getTime()-x.getTime()}),[t]),d=S.useMemo(()=>{const g={};return h.forEach(b=>{const A=(b.completedAt?.toDate?.()||new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"});g[A]||(g[A]=[]),g[A].push(b)}),g},[h]),m=g=>g?(g.toDate?g.toDate():new Date(g)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e?y.jsx(js,{children:y.jsxs(He.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:K("fixed inset-0 z-[200] overflow-y-auto",c?"bg-slate-50":"bg-bg-dark"),children:[y.jsx("div",{className:K("sticky top-0 z-10 backdrop-blur-md border-b",c?"bg-white/95 border-slate-200":"bg-bg-dark/95 border-white/10"),children:y.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Dm,{className:"w-6 h-6 text-accent-gold"}),y.jsx("h1",{className:K("text-xl font-bold",c?"text-slate-800":"text-white"),children:"2026 Memories"}),y.jsxs("span",{className:"text-sm text-slate-400",children:["(",h.length," moments)"]})]}),y.jsx("button",{onClick:n,className:K("p-2 transition-colors rounded-full",c?"text-slate-500 hover:text-slate-800 hover:bg-slate-100":"text-slate-400 hover:text-white hover:bg-white/10"),children:y.jsx(or,{size:24})})]})}),y.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:h.length===0?y.jsxs("div",{className:"text-center py-20",children:[y.jsx(Dm,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),y.jsx("h2",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No memories yet"}),y.jsx("p",{className:"text-slate-500",children:"Complete tasks and add photos to build your 2026 album!"})]}):Object.entries(d).map(([g,b])=>y.jsxs("div",{className:"mb-8",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[y.jsx(Mm,{className:"w-4 h-4 text-accent-primary"}),y.jsx("h2",{className:"text-lg font-semibold text-accent-primary",children:g}),y.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent-primary/30 to-transparent"})]}),y.jsx("div",{className:"space-y-6",children:b.map((x,A)=>y.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.1},className:K("rounded-2xl border overflow-hidden shadow-xl",c?"bg-white border-slate-200 shadow-slate-200/50":"bg-bg-card/80 border-white/10"),children:[y.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer",onClick:()=>a({memoryIdx:h.indexOf(x),photoIdx:0}),children:[y.jsx("img",{src:x.proofPhotos[0],alt:x.text,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),x.proofPhotos.length>1&&y.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-full text-white text-xs font-medium",children:["+",x.proofPhotos.length-1," more"]})]}),x.proofPhotos.length>1&&y.jsx("div",{className:"flex gap-1 p-2 bg-black/30 overflow-x-auto",children:x.proofPhotos.map((k,I)=>y.jsx("button",{onClick:()=>a({memoryIdx:h.indexOf(x),photoIdx:I}),className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 border-2 border-transparent hover:border-accent-primary transition-all",children:y.jsx("img",{src:k,alt:"",className:"w-full h-full object-cover"})},I))}),y.jsxs("div",{className:"p-4",children:[y.jsxs("h3",{className:K("text-lg font-semibold mb-2 flex items-center gap-2",c?"text-slate-800":"text-white"),children:[y.jsx("span",{className:"text-accent-gold",children:x.isCompleted?"":""}),x.text]}),y.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(Eh,{size:14}),x.isCompleted?x.completedBy:"In Progress"]}),x.isCompleted&&y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(Mm,{size:14}),m(x.completedAt)]})]})]})]},x.id))})]},g))}),y.jsx(js,{children:s!==null&&h[s.memoryIdx]&&y.jsxs(He.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>a(null),children:[y.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white",children:y.jsx(or,{size:32})}),(()=>{const g=h[s.memoryIdx],b=g.proofPhotos||[],x=s.photoIdx;return y.jsxs("div",{className:"relative max-w-4xl w-full",onClick:A=>A.stopPropagation(),children:[y.jsx("img",{src:b[x],alt:"",className:"w-full max-h-[80vh] object-contain rounded-lg"}),b.length>1&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>a({...s,photoIdx:x>0?x-1:b.length-1}),className:"absolute left-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:y.jsx(gI,{size:28})}),y.jsx("button",{onClick:()=>a({...s,photoIdx:x<b.length-1?x+1:0}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:y.jsx(yI,{size:28})})]}),y.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[y.jsx("p",{className:"text-white font-semibold",children:g.text}),y.jsxs("p",{className:"text-slate-300 text-sm",children:[x+1," / ",b.length,"  ",m(g.completedAt)]})]})]})})()]})})]})}):null},SF=({items:t})=>{const[e,n]=S.useState([]),s=S.useRef({}),a=S.useRef(!1),{settings:l}=ms(),c=l.theme==="light";S.useEffect(()=>{if(!a.current){t.forEach(d=>{s.current[d.id]=d.reactions?.length||0}),a.current=!0;return}t.forEach(d=>{const m=d.reactions?.length||0,g=s.current[d.id]||0;m>g&&d.reactions.slice(g).forEach(x=>{h(x)}),s.current[d.id]=m})},[t]);const h=d=>{const m=Math.random().toString(36).substring(7),g=Math.random()*80+10;n(b=>[...b,{...d,id:m,x:g}]),setTimeout(()=>{n(b=>b.filter(x=>x.id!==m))},4e3)};return y.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] overflow-hidden",children:y.jsx(js,{children:e.map(d=>y.jsxs(He.div,{initial:{y:"110vh",opacity:0,x:`${d.x}vw`,scale:.5,rotate:0},animate:{y:"-10vh",opacity:[0,1,1,0],scale:[.5,1.5,1.2],rotate:[0,-10,10,0]},transition:{duration:4,ease:"easeOut"},className:"absolute top-0 flex flex-col items-center",children:[y.jsx("span",{className:"text-6xl drop-shadow-2xl filter",children:d.emoji}),d.byName&&y.jsx("div",{className:K("text-sm font-bold text-center mt-2 px-3 py-1 rounded-full backdrop-blur-md border shadow-lg",c?"bg-white/80 text-slate-800 border-slate-200":"bg-black/40 text-white/90 border-white/10"),children:d.byName})]},d.id))})})};function AF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>s=>{e.forEach(a=>a(s))},e)}const yp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Oc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function sx(t){return"nodeType"in t}function Es(t){var e,n;return t?Oc(t)?t:sx(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function ix(t){const{Document:e}=Es(t);return t instanceof e}function Jh(t){return Oc(t)?!1:t instanceof Es(t).HTMLElement}function UI(t){return t instanceof Es(t).SVGElement}function Vc(t){return t?Oc(t)?t.document:sx(t)?ix(t)?t:Jh(t)||UI(t)?t.ownerDocument:document:document:document}const Ui=yp?S.useLayoutEffect:S.useEffect;function vp(t){const e=S.useRef(t);return Ui(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e.current==null?void 0:e.current(...s)},[])}function CF(){const t=S.useRef(null),e=S.useCallback((s,a)=>{t.current=setInterval(s,a)},[]),n=S.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Sh(t,e){e===void 0&&(e=[t]);const n=S.useRef(t);return Ui(()=>{n.current!==t&&(n.current=t)},e),n}function Zh(t,e){const n=S.useRef();return S.useMemo(()=>{const s=t(n.current);return n.current=s,s},[...e])}function Om(t){const e=vp(t),n=S.useRef(null),s=S.useCallback(a=>{a!==n.current&&e?.(a,n.current),n.current=a},[]);return[n,s]}function Vm(t){const e=S.useRef();return S.useEffect(()=>{e.current=t},[t]),e.current}let i0={};function ed(t,e){return S.useMemo(()=>{if(e)return e;const n=i0[t]==null?0:i0[t]+1;return i0[t]=n,t+"-"+n},[t,e])}function zI(t){return function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return s.reduce((l,c)=>{const h=Object.entries(c);for(const[d,m]of h){const g=l[d];g!=null&&(l[d]=g+t*m)}return l},{...e})}}const hc=zI(1),Ah=zI(-1);function RF(t){return"clientX"in t&&"clientY"in t}function bp(t){if(!t)return!1;const{KeyboardEvent:e}=Es(t.target);return e&&t instanceof e}function NF(t){if(!t)return!1;const{TouchEvent:e}=Es(t.target);return e&&t instanceof e}function Lm(t){if(NF(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return RF(t)?{x:t.clientX,y:t.clientY}:null}const ao=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[ao.Translate.toString(t),ao.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:s}=t;return e+" "+n+"ms "+s}}}),nA="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function IF(t){return t.matches(nA)?t:t.querySelector(nA)}const kF={display:"none"};function DF(t){let{id:e,value:n}=t;return _t.createElement("div",{id:e,style:kF},n)}function MF(t){let{id:e,announcement:n,ariaLiveType:s="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return _t.createElement("div",{id:e,style:a,role:"status","aria-live":s,"aria-atomic":!0},n)}function PF(){const[t,e]=S.useState("");return{announce:S.useCallback(s=>{s!=null&&e(s)},[]),announcement:t}}const BI=S.createContext(null);function jF(t){const e=S.useContext(BI);S.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function OF(){const[t]=S.useState(()=>new Set),e=S.useCallback(s=>(t.add(s),()=>t.delete(s)),[t]);return[S.useCallback(s=>{let{type:a,event:l}=s;t.forEach(c=>{var h;return(h=c[a])==null?void 0:h.call(c,l)})},[t]),e]}const VF={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},LF={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function UF(t){let{announcements:e=LF,container:n,hiddenTextDescribedById:s,screenReaderInstructions:a=VF}=t;const{announce:l,announcement:c}=PF(),h=ed("DndLiveRegion"),[d,m]=S.useState(!1);if(S.useEffect(()=>{m(!0)},[]),jF(S.useMemo(()=>({onDragStart(b){let{active:x}=b;l(e.onDragStart({active:x}))},onDragMove(b){let{active:x,over:A}=b;e.onDragMove&&l(e.onDragMove({active:x,over:A}))},onDragOver(b){let{active:x,over:A}=b;l(e.onDragOver({active:x,over:A}))},onDragEnd(b){let{active:x,over:A}=b;l(e.onDragEnd({active:x,over:A}))},onDragCancel(b){let{active:x,over:A}=b;l(e.onDragCancel({active:x,over:A}))}}),[l,e])),!d)return null;const g=_t.createElement(_t.Fragment,null,_t.createElement(DF,{id:s,value:a.draggable}),_t.createElement(MF,{id:h,announcement:c}));return n?Lu.createPortal(g,n):g}var Ln;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Ln||(Ln={}));function Um(){}function sA(t,e){return S.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function zF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const zi=Object.freeze({x:0,y:0});function FI(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function BF(t,e){const n=Lm(t);if(!n)return"0 0";const s={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return s.x+"% "+s.y+"%"}function qI(t,e){let{data:{value:n}}=t,{data:{value:s}}=e;return n-s}function FF(t,e){let{data:{value:n}}=t,{data:{value:s}}=e;return s-n}function iA(t){let{left:e,top:n,height:s,width:a}=t;return[{x:e,y:n},{x:e+a,y:n},{x:e,y:n+s},{x:e+a,y:n+s}]}function HI(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function rA(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const qF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const a=rA(e,e.left,e.top),l=[];for(const c of s){const{id:h}=c,d=n.get(h);if(d){const m=FI(rA(d),a);l.push({id:h,data:{droppableContainer:c,value:m}})}}return l.sort(qI)},HF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const a=iA(e),l=[];for(const c of s){const{id:h}=c,d=n.get(h);if(d){const m=iA(d),g=a.reduce((x,A,k)=>x+FI(m[k],A),0),b=Number((g/4).toFixed(4));l.push({id:h,data:{droppableContainer:c,value:b}})}}return l.sort(qI)};function GF(t,e){const n=Math.max(e.top,t.top),s=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),l=Math.min(e.top+e.height,t.top+t.height),c=a-s,h=l-n;if(s<a&&n<l){const d=e.width*e.height,m=t.width*t.height,g=c*h,b=g/(d+m-g);return Number(b.toFixed(4))}return 0}const $F=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const a=[];for(const l of s){const{id:c}=l,h=n.get(c);if(h){const d=GF(h,e);d>0&&a.push({id:c,data:{droppableContainer:l,value:d}})}}return a.sort(FF)};function KF(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function GI(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:zi}function YF(t){return function(n){for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return a.reduce((c,h)=>({...c,top:c.top+t*h.y,bottom:c.bottom+t*h.y,left:c.left+t*h.x,right:c.right+t*h.x}),{...n})}}const WF=YF(1);function $I(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function XF(t,e,n){const s=$I(e);if(!s)return t;const{scaleX:a,scaleY:l,x:c,y:h}=s,d=t.left-c-(1-a)*parseFloat(n),m=t.top-h-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),g=a?t.width/a:t.width,b=l?t.height/l:t.height;return{width:g,height:b,top:m,right:d+g,bottom:m+b,left:d}}const QF={ignoreTransform:!1};function Lc(t,e){e===void 0&&(e=QF);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:m,transformOrigin:g}=Es(t).getComputedStyle(t);m&&(n=XF(n,m,g))}const{top:s,left:a,width:l,height:c,bottom:h,right:d}=n;return{top:s,left:a,width:l,height:c,bottom:h,right:d}}function aA(t){return Lc(t,{ignoreTransform:!0})}function JF(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function ZF(t,e){return e===void 0&&(e=Es(t).getComputedStyle(t)),e.position==="fixed"}function e7(t,e){e===void 0&&(e=Es(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const l=e[a];return typeof l=="string"?n.test(l):!1})}function xp(t,e){const n=[];function s(a){if(e!=null&&n.length>=e||!a)return n;if(ix(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Jh(a)||UI(a)||n.includes(a))return n;const l=Es(t).getComputedStyle(a);return a!==t&&e7(a,l)&&n.push(a),ZF(a,l)?n:s(a.parentNode)}return t?s(t):n}function KI(t){const[e]=xp(t,1);return e??null}function r0(t){return!yp||!t?null:Oc(t)?t:sx(t)?ix(t)||t===Vc(t).scrollingElement?window:Jh(t)?t:null:null}function YI(t){return Oc(t)?t.scrollX:t.scrollLeft}function WI(t){return Oc(t)?t.scrollY:t.scrollTop}function cv(t){return{x:YI(t),y:WI(t)}}var $n;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})($n||($n={}));function XI(t){return!yp||!t?!1:t===document.scrollingElement}function QI(t){const e={x:0,y:0},n=XI(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},s={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},a=t.scrollTop<=e.y,l=t.scrollLeft<=e.x,c=t.scrollTop>=s.y,h=t.scrollLeft>=s.x;return{isTop:a,isLeft:l,isBottom:c,isRight:h,maxScroll:s,minScroll:e}}const t7={x:.2,y:.2};function n7(t,e,n,s,a){let{top:l,left:c,right:h,bottom:d}=n;s===void 0&&(s=10),a===void 0&&(a=t7);const{isTop:m,isBottom:g,isLeft:b,isRight:x}=QI(t),A={x:0,y:0},k={x:0,y:0},I={height:e.height*a.y,width:e.width*a.x};return!m&&l<=e.top+I.height?(A.y=$n.Backward,k.y=s*Math.abs((e.top+I.height-l)/I.height)):!g&&d>=e.bottom-I.height&&(A.y=$n.Forward,k.y=s*Math.abs((e.bottom-I.height-d)/I.height)),!x&&h>=e.right-I.width?(A.x=$n.Forward,k.x=s*Math.abs((e.right-I.width-h)/I.width)):!b&&c<=e.left+I.width&&(A.x=$n.Backward,k.x=s*Math.abs((e.left+I.width-c)/I.width)),{direction:A,speed:k}}function s7(t){if(t===document.scrollingElement){const{innerWidth:l,innerHeight:c}=window;return{top:0,left:0,right:l,bottom:c,width:l,height:c}}const{top:e,left:n,right:s,bottom:a}=t.getBoundingClientRect();return{top:e,left:n,right:s,bottom:a,width:t.clientWidth,height:t.clientHeight}}function JI(t){return t.reduce((e,n)=>hc(e,cv(n)),zi)}function i7(t){return t.reduce((e,n)=>e+YI(n),0)}function r7(t){return t.reduce((e,n)=>e+WI(n),0)}function ZI(t,e){if(e===void 0&&(e=Lc),!t)return;const{top:n,left:s,bottom:a,right:l}=e(t);KI(t)&&(a<=0||l<=0||n>=window.innerHeight||s>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const a7=[["x",["left","right"],i7],["y",["top","bottom"],r7]];class rx{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=xp(n),a=JI(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,c,h]of a7)for(const d of c)Object.defineProperty(this,d,{get:()=>{const m=h(s),g=a[l]-m;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class rh{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=e}add(e,n,s){var a;(a=this.target)==null||a.addEventListener(e,n,s),this.listeners.push([e,n,s])}}function o7(t){const{EventTarget:e}=Es(t);return t instanceof e?t:Vc(t)}function a0(t,e){const n=Math.abs(t.x),s=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+s**2)>e:"x"in e&&"y"in e?n>e.x&&s>e.y:"x"in e?n>e.x:"y"in e?s>e.y:!1}var hi;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(hi||(hi={}));function oA(t){t.preventDefault()}function l7(t){t.stopPropagation()}var ct;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ct||(ct={}));const ek={start:[ct.Space,ct.Enter],cancel:[ct.Esc],end:[ct.Space,ct.Enter,ct.Tab]},c7=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ct.Right:return{...n,x:n.x+25};case ct.Left:return{...n,x:n.x-25};case ct.Down:return{...n,y:n.y+25};case ct.Up:return{...n,y:n.y-25}}};class ax{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new rh(Vc(n)),this.windowListeners=new rh(Es(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(hi.Resize,this.handleCancel),this.windowListeners.add(hi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(hi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,s=e.node.current;s&&ZI(s),n(zi)}handleKeyDown(e){if(bp(e)){const{active:n,context:s,options:a}=this.props,{keyboardCodes:l=ek,coordinateGetter:c=c7,scrollBehavior:h="smooth"}=a,{code:d}=e;if(l.end.includes(d)){this.handleEnd(e);return}if(l.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:m}=s.current,g=m?{x:m.left,y:m.top}:zi;this.referenceCoordinates||(this.referenceCoordinates=g);const b=c(e,{active:n,context:s.current,currentCoordinates:g});if(b){const x=Ah(b,g),A={x:0,y:0},{scrollableAncestors:k}=s.current;for(const I of k){const R=e.code,{isTop:O,isRight:H,isLeft:F,isBottom:re,maxScroll:te,minScroll:ce}=QI(I),D=s7(I),C={x:Math.min(R===ct.Right?D.right-D.width/2:D.right,Math.max(R===ct.Right?D.left:D.left+D.width/2,b.x)),y:Math.min(R===ct.Down?D.bottom-D.height/2:D.bottom,Math.max(R===ct.Down?D.top:D.top+D.height/2,b.y))},j=R===ct.Right&&!H||R===ct.Left&&!F,B=R===ct.Down&&!re||R===ct.Up&&!O;if(j&&C.x!==b.x){const U=I.scrollLeft+x.x,V=R===ct.Right&&U<=te.x||R===ct.Left&&U>=ce.x;if(V&&!x.y){I.scrollTo({left:U,behavior:h});return}V?A.x=I.scrollLeft-U:A.x=R===ct.Right?I.scrollLeft-te.x:I.scrollLeft-ce.x,A.x&&I.scrollBy({left:-A.x,behavior:h});break}else if(B&&C.y!==b.y){const U=I.scrollTop+x.y,V=R===ct.Down&&U<=te.y||R===ct.Up&&U>=ce.y;if(V&&!x.x){I.scrollTo({top:U,behavior:h});return}V?A.y=I.scrollTop-U:A.y=R===ct.Down?I.scrollTop-te.y:I.scrollTop-ce.y,A.y&&I.scrollBy({top:-A.y,behavior:h});break}}this.handleMove(e,hc(Ah(b,this.referenceCoordinates),A))}}}handleMove(e,n){const{onMove:s}=this.props;e.preventDefault(),s(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ax.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:s=ek,onActivation:a}=e,{active:l}=n;const{code:c}=t.nativeEvent;if(s.start.includes(c)){const h=l.activatorNode.current;return h&&t.target!==h?!1:(t.preventDefault(),a?.({event:t.nativeEvent}),!0)}return!1}}];function lA(t){return!!(t&&"distance"in t)}function cA(t){return!!(t&&"delay"in t)}class ox{constructor(e,n,s){var a;s===void 0&&(s=o7(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:l}=e,{target:c}=l;this.props=e,this.events=n,this.document=Vc(c),this.documentListeners=new rh(this.document),this.listeners=new rh(s),this.windowListeners=new rh(Es(c)),this.initialCoordinates=(a=Lm(l))!=null?a:zi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(hi.Resize,this.handleCancel),this.windowListeners.add(hi.DragStart,oA),this.windowListeners.add(hi.VisibilityChange,this.handleCancel),this.windowListeners.add(hi.ContextMenu,oA),this.documentListeners.add(hi.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(cA(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(lA(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:s,onPending:a}=this.props;a(s,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(hi.Click,l7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(hi.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:s,initialCoordinates:a,props:l}=this,{onMove:c,options:{activationConstraint:h}}=l;if(!a)return;const d=(n=Lm(e))!=null?n:zi,m=Ah(a,d);if(!s&&h){if(lA(h)){if(h.tolerance!=null&&a0(m,h.tolerance))return this.handleCancel();if(a0(m,h.distance))return this.handleStart()}if(cA(h)&&a0(m,h.tolerance))return this.handleCancel();this.handlePending(h,m);return}e.cancelable&&e.preventDefault(),c(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===ct.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const u7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class lx extends ox{constructor(e){const{event:n}=e,s=Vc(n.target);super(e,u7,s)}}lx.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const h7={move:{name:"mousemove"},end:{name:"mouseup"}};var uv;(function(t){t[t.RightClick=2]="RightClick"})(uv||(uv={}));class d7 extends ox{constructor(e){super(e,h7,Vc(e.event.target))}}d7.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;return n.button===uv.RightClick?!1:(s?.({event:n}),!0)}}];const o0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class f7 extends ox{constructor(e){super(e,o0)}static setup(){return window.addEventListener(o0.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(o0.move.name,e)};function e(){}}}f7.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;const{touches:a}=n;return a.length>1?!1:(s?.({event:n}),!0)}}];var ah;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(ah||(ah={}));var zm;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(zm||(zm={}));function m7(t){let{acceleration:e,activator:n=ah.Pointer,canScroll:s,draggingRect:a,enabled:l,interval:c=5,order:h=zm.TreeOrder,pointerCoordinates:d,scrollableAncestors:m,scrollableAncestorRects:g,delta:b,threshold:x}=t;const A=g7({delta:b,disabled:!l}),[k,I]=CF(),R=S.useRef({x:0,y:0}),O=S.useRef({x:0,y:0}),H=S.useMemo(()=>{switch(n){case ah.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case ah.DraggableRect:return a}},[n,a,d]),F=S.useRef(null),re=S.useCallback(()=>{const ce=F.current;if(!ce)return;const D=R.current.x*O.current.x,C=R.current.y*O.current.y;ce.scrollBy(D,C)},[]),te=S.useMemo(()=>h===zm.TreeOrder?[...m].reverse():m,[h,m]);S.useEffect(()=>{if(!l||!m.length||!H){I();return}for(const ce of te){if(s?.(ce)===!1)continue;const D=m.indexOf(ce),C=g[D];if(!C)continue;const{direction:j,speed:B}=n7(ce,C,H,e,x);for(const U of["x","y"])A[U][j[U]]||(B[U]=0,j[U]=0);if(B.x>0||B.y>0){I(),F.current=ce,k(re,c),R.current=B,O.current=j;return}}R.current={x:0,y:0},O.current={x:0,y:0},I()},[e,re,s,I,l,c,JSON.stringify(H),JSON.stringify(A),k,m,te,g,JSON.stringify(x)])}const p7={x:{[$n.Backward]:!1,[$n.Forward]:!1},y:{[$n.Backward]:!1,[$n.Forward]:!1}};function g7(t){let{delta:e,disabled:n}=t;const s=Vm(e);return Zh(a=>{if(n||!s||!a)return p7;const l={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[$n.Backward]:a.x[$n.Backward]||l.x===-1,[$n.Forward]:a.x[$n.Forward]||l.x===1},y:{[$n.Backward]:a.y[$n.Backward]||l.y===-1,[$n.Forward]:a.y[$n.Forward]||l.y===1}}},[n,e,s])}function y7(t,e){const n=e!=null?t.get(e):void 0,s=n?n.node.current:null;return Zh(a=>{var l;return e==null?null:(l=s??a)!=null?l:null},[s,e])}function v7(t,e){return S.useMemo(()=>t.reduce((n,s)=>{const{sensor:a}=s,l=a.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,s)}));return[...n,...l]},[]),[t,e])}var Ch;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Ch||(Ch={}));var hv;(function(t){t.Optimized="optimized"})(hv||(hv={}));const uA=new Map;function b7(t,e){let{dragging:n,dependencies:s,config:a}=e;const[l,c]=S.useState(null),{frequency:h,measure:d,strategy:m}=a,g=S.useRef(t),b=R(),x=Sh(b),A=S.useCallback(function(O){O===void 0&&(O=[]),!x.current&&c(H=>H===null?O:H.concat(O.filter(F=>!H.includes(F))))},[x]),k=S.useRef(null),I=Zh(O=>{if(b&&!n)return uA;if(!O||O===uA||g.current!==t||l!=null){const H=new Map;for(let F of t){if(!F)continue;if(l&&l.length>0&&!l.includes(F.id)&&F.rect.current){H.set(F.id,F.rect.current);continue}const re=F.node.current,te=re?new rx(d(re),re):null;F.rect.current=te,te&&H.set(F.id,te)}return H}return O},[t,l,n,b,d]);return S.useEffect(()=>{g.current=t},[t]),S.useEffect(()=>{b||A()},[n,b]),S.useEffect(()=>{l&&l.length>0&&c(null)},[JSON.stringify(l)]),S.useEffect(()=>{b||typeof h!="number"||k.current!==null||(k.current=setTimeout(()=>{A(),k.current=null},h))},[h,b,A,...s]),{droppableRects:I,measureDroppableContainers:A,measuringScheduled:l!=null};function R(){switch(m){case Ch.Always:return!1;case Ch.BeforeDragging:return n;default:return!n}}}function cx(t,e){return Zh(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function x7(t,e){return cx(t,e)}function w7(t){let{callback:e,disabled:n}=t;const s=vp(e),a=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(s)},[s,n]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function wp(t){let{callback:e,disabled:n}=t;const s=vp(e),a=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(s)},[n]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function _7(t){return new rx(Lc(t),t)}function hA(t,e,n){e===void 0&&(e=_7);const[s,a]=S.useState(null);function l(){a(d=>{if(!t)return null;if(t.isConnected===!1){var m;return(m=d??n)!=null?m:null}const g=e(t);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const c=w7({callback(d){if(t)for(const m of d){const{type:g,target:b}=m;if(g==="childList"&&b instanceof HTMLElement&&b.contains(t)){l();break}}}}),h=wp({callback:l});return Ui(()=>{l(),t?(h?.observe(t),c?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),c?.disconnect())},[t]),s}function T7(t){const e=cx(t);return GI(t,e)}const dA=[];function E7(t){const e=S.useRef(t),n=Zh(s=>t?s&&s!==dA&&t&&e.current&&t.parentNode===e.current.parentNode?s:xp(t):dA,[t]);return S.useEffect(()=>{e.current=t},[t]),n}function S7(t){const[e,n]=S.useState(null),s=S.useRef(t),a=S.useCallback(l=>{const c=r0(l.target);c&&n(h=>h?(h.set(c,cv(c)),new Map(h)):null)},[]);return S.useEffect(()=>{const l=s.current;if(t!==l){c(l);const h=t.map(d=>{const m=r0(d);return m?(m.addEventListener("scroll",a,{passive:!0}),[m,cv(m)]):null}).filter(d=>d!=null);n(h.length?new Map(h):null),s.current=t}return()=>{c(t),c(l)};function c(h){h.forEach(d=>{const m=r0(d);m?.removeEventListener("scroll",a)})}},[a,t]),S.useMemo(()=>t.length?e?Array.from(e.values()).reduce((l,c)=>hc(l,c),zi):JI(t):zi,[t,e])}function fA(t,e){e===void 0&&(e=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},e),S.useEffect(()=>{const s=t!==zi;s&&!n.current&&(n.current=t),!s&&n.current&&(n.current=null)},[t]),n.current?Ah(t,n.current):zi}function A7(t){S.useEffect(()=>{if(!yp)return;const e=t.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function C7(t,e){return S.useMemo(()=>t.reduce((n,s)=>{let{eventName:a,handler:l}=s;return n[a]=c=>{l(c,e)},n},{}),[t,e])}function tk(t){return S.useMemo(()=>t?JF(t):null,[t])}const mA=[];function R7(t,e){e===void 0&&(e=Lc);const[n]=t,s=tk(n?Es(n):null),[a,l]=S.useState(mA);function c(){l(()=>t.length?t.map(d=>XI(d)?s:new rx(e(d),d)):mA)}const h=wp({callback:c});return Ui(()=>{h?.disconnect(),c(),t.forEach(d=>h?.observe(d))},[t]),a}function nk(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Jh(e)?e:t}function N7(t){let{measure:e}=t;const[n,s]=S.useState(null),a=S.useCallback(m=>{for(const{target:g}of m)if(Jh(g)){s(b=>{const x=e(g);return b?{...b,width:x.width,height:x.height}:x});break}},[e]),l=wp({callback:a}),c=S.useCallback(m=>{const g=nk(m);l?.disconnect(),g&&l?.observe(g),s(g?e(g):null)},[e,l]),[h,d]=Om(c);return S.useMemo(()=>({nodeRef:h,rect:n,setRef:d}),[n,h,d])}const I7=[{sensor:lx,options:{}},{sensor:ax,options:{}}],k7={current:{}},em={draggable:{measure:aA},droppable:{measure:aA,strategy:Ch.WhileDragging,frequency:hv.Optimized},dragOverlay:{measure:Lc}};class oh extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,s;return(n=(s=this.get(e))==null?void 0:s.node.current)!=null?n:void 0}}const D7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new oh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Um},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:em,measureDroppableContainers:Um,windowRect:null,measuringScheduled:!1},sk={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Um,draggableNodes:new Map,over:null,measureDroppableContainers:Um},td=S.createContext(sk),ik=S.createContext(D7);function M7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new oh}}}function P7(t,e){switch(e.type){case Ln.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ln.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Ln.DragEnd:case Ln.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ln.RegisterDroppable:{const{element:n}=e,{id:s}=n,a=new oh(t.droppable.containers);return a.set(s,n),{...t,droppable:{...t.droppable,containers:a}}}case Ln.SetDroppableDisabled:{const{id:n,key:s,disabled:a}=e,l=t.droppable.containers.get(n);if(!l||s!==l.key)return t;const c=new oh(t.droppable.containers);return c.set(n,{...l,disabled:a}),{...t,droppable:{...t.droppable,containers:c}}}case Ln.UnregisterDroppable:{const{id:n,key:s}=e,a=t.droppable.containers.get(n);if(!a||s!==a.key)return t;const l=new oh(t.droppable.containers);return l.delete(n),{...t,droppable:{...t.droppable,containers:l}}}default:return t}}function j7(t){let{disabled:e}=t;const{active:n,activatorEvent:s,draggableNodes:a}=S.useContext(td),l=Vm(s),c=Vm(n?.id);return S.useEffect(()=>{if(!e&&!s&&l&&c!=null){if(!bp(l)||document.activeElement===l.target)return;const h=a.get(c);if(!h)return;const{activatorNode:d,node:m}=h;if(!d.current&&!m.current)return;requestAnimationFrame(()=>{for(const g of[d.current,m.current]){if(!g)continue;const b=IF(g);if(b){b.focus();break}}})}},[s,e,a,c,l]),null}function rk(t,e){let{transform:n,...s}=e;return t!=null&&t.length?t.reduce((a,l)=>l({transform:a,...s}),n):n}function O7(t){return S.useMemo(()=>({draggable:{...em.draggable,...t?.draggable},droppable:{...em.droppable,...t?.droppable},dragOverlay:{...em.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function V7(t){let{activeNode:e,measure:n,initialRect:s,config:a=!0}=t;const l=S.useRef(!1),{x:c,y:h}=typeof a=="boolean"?{x:a,y:a}:a;Ui(()=>{if(!c&&!h||!e){l.current=!1;return}if(l.current||!s)return;const m=e?.node.current;if(!m||m.isConnected===!1)return;const g=n(m),b=GI(g,s);if(c||(b.x=0),h||(b.y=0),l.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const x=KI(m);x&&x.scrollBy({top:b.y,left:b.x})}},[e,c,h,s,n])}const _p=S.createContext({...zi,scaleX:1,scaleY:1});var za;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(za||(za={}));const L7=S.memo(function(e){var n,s,a,l;let{id:c,accessibility:h,autoScroll:d=!0,children:m,sensors:g=I7,collisionDetection:b=$F,measuring:x,modifiers:A,...k}=e;const I=S.useReducer(P7,void 0,M7),[R,O]=I,[H,F]=OF(),[re,te]=S.useState(za.Uninitialized),ce=re===za.Initialized,{draggable:{active:D,nodes:C,translate:j},droppable:{containers:B}}=R,U=D!=null?C.get(D):null,V=S.useRef({initial:null,translated:null}),P=S.useMemo(()=>{var Ye;return D!=null?{id:D,data:(Ye=U?.data)!=null?Ye:k7,rect:V}:null},[D,U]),be=S.useRef(null),[xe,Z]=S.useState(null),[X,$]=S.useState(null),Y=Sh(k,Object.values(k)),L=ed("DndDescribedBy",c),T=S.useMemo(()=>B.getEnabled(),[B]),z=O7(x),{droppableRects:W,measureDroppableContainers:ne,measuringScheduled:ge}=b7(T,{dragging:ce,dependencies:[j.x,j.y],config:z.droppable}),ye=y7(C,D),he=S.useMemo(()=>X?Lm(X):null,[X]),we=xi(),Te=x7(ye,z.draggable.measure);V7({activeNode:D!=null?C.get(D):null,config:we.layoutShiftCompensation,initialRect:Te,measure:z.draggable.measure});const Ae=hA(ye,z.draggable.measure,Te),ze=hA(ye?ye.parentElement:null),Ve=S.useRef({activatorEvent:null,active:null,activeNode:ye,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),dt=B.getNodeFor((n=Ve.current.over)==null?void 0:n.id),De=N7({measure:z.dragOverlay.measure}),mt=(s=De.nodeRef.current)!=null?s:ye,xt=ce?(a=De.rect)!=null?a:Ae:null,Xt=!!(De.nodeRef.current&&De.rect),yn=T7(Xt?null:Ae),Ze=tk(mt?Es(mt):null),Be=E7(ce?dt??ye:null),Wn=R7(Be),Os=rk(A,{transform:{x:j.x-yn.x,y:j.y-yn.y,scaleX:1,scaleY:1},activatorEvent:X,active:P,activeNodeRect:Ae,containerNodeRect:ze,draggingNodeRect:xt,over:Ve.current.over,overlayNodeRect:De.rect,scrollableAncestors:Be,scrollableAncestorRects:Wn,windowRect:Ze}),Xs=he?hc(he,j):null,Ot=S7(Be),Ss=fA(Ot),As=fA(Ot,[Ae]),zn=hc(Os,Ss),Et=xt?WF(xt,Os):null,Bn=P&&Et?b({active:P,collisionRect:Et,droppableRects:W,droppableContainers:T,pointerCoordinates:Xs}):null,Vs=HI(Bn,"id"),[vn,Ls]=S.useState(null),In=Xt?Os:hc(Os,As),Rt=KF(In,(l=vn?.rect)!=null?l:null,Ae),kn=S.useRef(null),Nt=S.useCallback((Ye,Vt)=>{let{sensor:Lt,options:Ft}=Vt;if(be.current==null)return;const Fn=C.get(be.current);if(!Fn)return;const Qt=Ye.nativeEvent,ut=new Lt({active:be.current,activeNode:Fn,event:Qt,options:Ft,context:Ve,onAbort(Jt){if(!C.get(Jt))return;const{onDragAbort:an}=Y.current,Xn={id:Jt};an?.(Xn),H({type:"onDragAbort",event:Xn})},onPending(Jt,bn,an,Xn){if(!C.get(Jt))return;const{onDragPending:Qn}=Y.current,gs={id:Jt,constraint:bn,initialCoordinates:an,offset:Xn};Qn?.(gs),H({type:"onDragPending",event:gs})},onStart(Jt){const bn=be.current;if(bn==null)return;const an=C.get(bn);if(!an)return;const{onDragStart:Xn}=Y.current,ps={activatorEvent:Qt,active:{id:bn,data:an.data,rect:V}};Lu.unstable_batchedUpdates(()=>{Xn?.(ps),te(za.Initializing),O({type:Ln.DragStart,initialCoordinates:Jt,active:bn}),H({type:"onDragStart",event:ps}),Z(kn.current),$(Qt)})},onMove(Jt){O({type:Ln.DragMove,coordinates:Jt})},onEnd:Dn(Ln.DragEnd),onCancel:Dn(Ln.DragCancel)});kn.current=ut;function Dn(Jt){return async function(){const{active:an,collisions:Xn,over:ps,scrollAdjustedTranslate:Qn}=Ve.current;let gs=null;if(an&&Qn){const{cancelDrop:Mn}=Y.current;gs={activatorEvent:Qt,active:an,collisions:Xn,delta:Qn,over:ps},Jt===Ln.DragEnd&&typeof Mn=="function"&&await Promise.resolve(Mn(gs))&&(Jt=Ln.DragCancel)}be.current=null,Lu.unstable_batchedUpdates(()=>{O({type:Jt}),te(za.Uninitialized),Ls(null),Z(null),$(null),kn.current=null;const Mn=Jt===Ln.DragEnd?"onDragEnd":"onDragCancel";if(gs){const on=Y.current[Mn];on?.(gs),H({type:Mn,event:gs})}})}}},[C]),mr=S.useCallback((Ye,Vt)=>(Lt,Ft)=>{const Fn=Lt.nativeEvent,Qt=C.get(Ft);if(be.current!==null||!Qt||Fn.dndKit||Fn.defaultPrevented)return;const ut={active:Qt};Ye(Lt,Vt.options,ut)===!0&&(Fn.dndKit={capturedBy:Vt.sensor},be.current=Ft,Nt(Lt,Vt))},[C,Nt]),bi=v7(g,mr);A7(g),Ui(()=>{Ae&&re===za.Initializing&&te(za.Initialized)},[Ae,re]),S.useEffect(()=>{const{onDragMove:Ye}=Y.current,{active:Vt,activatorEvent:Lt,collisions:Ft,over:Fn}=Ve.current;if(!Vt||!Lt)return;const Qt={active:Vt,activatorEvent:Lt,collisions:Ft,delta:{x:zn.x,y:zn.y},over:Fn};Lu.unstable_batchedUpdates(()=>{Ye?.(Qt),H({type:"onDragMove",event:Qt})})},[zn.x,zn.y]),S.useEffect(()=>{const{active:Ye,activatorEvent:Vt,collisions:Lt,droppableContainers:Ft,scrollAdjustedTranslate:Fn}=Ve.current;if(!Ye||be.current==null||!Vt||!Fn)return;const{onDragOver:Qt}=Y.current,ut=Ft.get(Vs),Dn=ut&&ut.rect.current?{id:ut.id,rect:ut.rect.current,data:ut.data,disabled:ut.disabled}:null,Jt={active:Ye,activatorEvent:Vt,collisions:Lt,delta:{x:Fn.x,y:Fn.y},over:Dn};Lu.unstable_batchedUpdates(()=>{Ls(Dn),Qt?.(Jt),H({type:"onDragOver",event:Jt})})},[Vs]),Ui(()=>{Ve.current={activatorEvent:X,active:P,activeNode:ye,collisionRect:Et,collisions:Bn,droppableRects:W,draggableNodes:C,draggingNode:mt,draggingNodeRect:xt,droppableContainers:B,over:vn,scrollableAncestors:Be,scrollAdjustedTranslate:zn},V.current={initial:xt,translated:Et}},[P,ye,Bn,Et,C,mt,xt,W,B,vn,Be,zn]),m7({...we,delta:j,draggingRect:Et,pointerCoordinates:Xs,scrollableAncestors:Be,scrollableAncestorRects:Wn});const pr=S.useMemo(()=>({active:P,activeNode:ye,activeNodeRect:Ae,activatorEvent:X,collisions:Bn,containerNodeRect:ze,dragOverlay:De,draggableNodes:C,droppableContainers:B,droppableRects:W,over:vn,measureDroppableContainers:ne,scrollableAncestors:Be,scrollableAncestorRects:Wn,measuringConfiguration:z,measuringScheduled:ge,windowRect:Ze}),[P,ye,Ae,X,Bn,ze,De,C,B,W,vn,ne,Be,Wn,z,ge,Ze]),rn=S.useMemo(()=>({activatorEvent:X,activators:bi,active:P,activeNodeRect:Ae,ariaDescribedById:{draggable:L},dispatch:O,draggableNodes:C,over:vn,measureDroppableContainers:ne}),[X,bi,P,Ae,O,L,C,vn,ne]);return _t.createElement(BI.Provider,{value:F},_t.createElement(td.Provider,{value:rn},_t.createElement(ik.Provider,{value:pr},_t.createElement(_p.Provider,{value:Rt},m)),_t.createElement(j7,{disabled:h?.restoreFocus===!1})),_t.createElement(UF,{...h,hiddenTextDescribedById:L}));function xi(){const Ye=xe?.autoScrollEnabled===!1,Vt=typeof d=="object"?d.enabled===!1:d===!1,Lt=ce&&!Ye&&!Vt;return typeof d=="object"?{...d,enabled:Lt}:{enabled:Lt}}}),U7=S.createContext(null),pA="button",z7="Draggable";function B7(t){let{id:e,data:n,disabled:s=!1,attributes:a}=t;const l=ed(z7),{activators:c,activatorEvent:h,active:d,activeNodeRect:m,ariaDescribedById:g,draggableNodes:b,over:x}=S.useContext(td),{role:A=pA,roleDescription:k="draggable",tabIndex:I=0}=a??{},R=d?.id===e,O=S.useContext(R?_p:U7),[H,F]=Om(),[re,te]=Om(),ce=C7(c,e),D=Sh(n);Ui(()=>(b.set(e,{id:e,key:l,node:H,activatorNode:re,data:D}),()=>{const j=b.get(e);j&&j.key===l&&b.delete(e)}),[b,e]);const C=S.useMemo(()=>({role:A,tabIndex:I,"aria-disabled":s,"aria-pressed":R&&A===pA?!0:void 0,"aria-roledescription":k,"aria-describedby":g.draggable}),[s,A,I,R,k,g.draggable]);return{active:d,activatorEvent:h,activeNodeRect:m,attributes:C,isDragging:R,listeners:s?void 0:ce,node:H,over:x,setNodeRef:F,setActivatorNodeRef:te,transform:O}}function ak(){return S.useContext(ik)}const F7="Droppable",q7={timeout:25};function H7(t){let{data:e,disabled:n=!1,id:s,resizeObserverConfig:a}=t;const l=ed(F7),{active:c,dispatch:h,over:d,measureDroppableContainers:m}=S.useContext(td),g=S.useRef({disabled:n}),b=S.useRef(!1),x=S.useRef(null),A=S.useRef(null),{disabled:k,updateMeasurementsFor:I,timeout:R}={...q7,...a},O=Sh(I??s),H=S.useCallback(()=>{if(!b.current){b.current=!0;return}A.current!=null&&clearTimeout(A.current),A.current=setTimeout(()=>{m(Array.isArray(O.current)?O.current:[O.current]),A.current=null},R)},[R]),F=wp({callback:H,disabled:k||!c}),re=S.useCallback((C,j)=>{F&&(j&&(F.unobserve(j),b.current=!1),C&&F.observe(C))},[F]),[te,ce]=Om(re),D=Sh(e);return S.useEffect(()=>{!F||!te.current||(F.disconnect(),b.current=!1,F.observe(te.current))},[te,F]),S.useEffect(()=>(h({type:Ln.RegisterDroppable,element:{id:s,key:l,disabled:n,node:te,rect:x,data:D}}),()=>h({type:Ln.UnregisterDroppable,key:l,id:s})),[s]),S.useEffect(()=>{n!==g.current.disabled&&(h({type:Ln.SetDroppableDisabled,id:s,key:l,disabled:n}),g.current.disabled=n)},[s,l,n,h]),{active:c,rect:x,isOver:d?.id===s,node:te,over:d,setNodeRef:ce}}function G7(t){let{animation:e,children:n}=t;const[s,a]=S.useState(null),[l,c]=S.useState(null),h=Vm(n);return!n&&!s&&h&&a(h),Ui(()=>{if(!l)return;const d=s?.key,m=s?.props.id;if(d==null||m==null){a(null);return}Promise.resolve(e(m,l)).then(()=>{a(null)})},[e,s,l]),_t.createElement(_t.Fragment,null,n,s?S.cloneElement(s,{ref:c}):null)}const $7={x:0,y:0,scaleX:1,scaleY:1};function K7(t){let{children:e}=t;return _t.createElement(td.Provider,{value:sk},_t.createElement(_p.Provider,{value:$7},e))}const Y7={position:"fixed",touchAction:"none"},W7=t=>bp(t)?"transform 250ms ease":void 0,X7=S.forwardRef((t,e)=>{let{as:n,activatorEvent:s,adjustScale:a,children:l,className:c,rect:h,style:d,transform:m,transition:g=W7}=t;if(!h)return null;const b=a?m:{...m,scaleX:1,scaleY:1},x={...Y7,width:h.width,height:h.height,top:h.top,left:h.left,transform:ao.Transform.toString(b),transformOrigin:a&&s?BF(s,h):void 0,transition:typeof g=="function"?g(s):g,...d};return _t.createElement(n,{className:c,style:x,ref:e},l)}),Q7=t=>e=>{let{active:n,dragOverlay:s}=e;const a={},{styles:l,className:c}=t;if(l!=null&&l.active)for(const[h,d]of Object.entries(l.active))d!==void 0&&(a[h]=n.node.style.getPropertyValue(h),n.node.style.setProperty(h,d));if(l!=null&&l.dragOverlay)for(const[h,d]of Object.entries(l.dragOverlay))d!==void 0&&s.node.style.setProperty(h,d);return c!=null&&c.active&&n.node.classList.add(c.active),c!=null&&c.dragOverlay&&s.node.classList.add(c.dragOverlay),function(){for(const[d,m]of Object.entries(a))n.node.style.setProperty(d,m);c!=null&&c.active&&n.node.classList.remove(c.active)}},J7=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:ao.Transform.toString(e)},{transform:ao.Transform.toString(n)}]},Z7={duration:250,easing:"ease",keyframes:J7,sideEffects:Q7({styles:{active:{opacity:"0"}}})};function eq(t){let{config:e,draggableNodes:n,droppableContainers:s,measuringConfiguration:a}=t;return vp((l,c)=>{if(e===null)return;const h=n.get(l);if(!h)return;const d=h.node.current;if(!d)return;const m=nk(c);if(!m)return;const{transform:g}=Es(c).getComputedStyle(c),b=$I(g);if(!b)return;const x=typeof e=="function"?e:tq(e);return ZI(d,a.draggable.measure),x({active:{id:l,data:h.data,node:d,rect:a.draggable.measure(d)},draggableNodes:n,dragOverlay:{node:c,rect:a.dragOverlay.measure(m)},droppableContainers:s,measuringConfiguration:a,transform:b})})}function tq(t){const{duration:e,easing:n,sideEffects:s,keyframes:a}={...Z7,...t};return l=>{let{active:c,dragOverlay:h,transform:d,...m}=l;if(!e)return;const g={x:h.rect.left-c.rect.left,y:h.rect.top-c.rect.top},b={scaleX:d.scaleX!==1?c.rect.width*d.scaleX/h.rect.width:1,scaleY:d.scaleY!==1?c.rect.height*d.scaleY/h.rect.height:1},x={x:d.x-g.x,y:d.y-g.y,...b},A=a({...m,active:c,dragOverlay:h,transform:{initial:d,final:x}}),[k]=A,I=A[A.length-1];if(JSON.stringify(k)===JSON.stringify(I))return;const R=s?.({active:c,dragOverlay:h,...m}),O=h.node.animate(A,{duration:e,easing:n,fill:"forwards"});return new Promise(H=>{O.onfinish=()=>{R?.(),H()}})}}let gA=0;function nq(t){return S.useMemo(()=>{if(t!=null)return gA++,gA},[t])}const sq=_t.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:s,style:a,transition:l,modifiers:c,wrapperElement:h="div",className:d,zIndex:m=999}=t;const{activatorEvent:g,active:b,activeNodeRect:x,containerNodeRect:A,draggableNodes:k,droppableContainers:I,dragOverlay:R,over:O,measuringConfiguration:H,scrollableAncestors:F,scrollableAncestorRects:re,windowRect:te}=ak(),ce=S.useContext(_p),D=nq(b?.id),C=rk(c,{activatorEvent:g,active:b,activeNodeRect:x,containerNodeRect:A,draggingNodeRect:R.rect,over:O,overlayNodeRect:R.rect,scrollableAncestors:F,scrollableAncestorRects:re,transform:ce,windowRect:te}),j=cx(x),B=eq({config:s,draggableNodes:k,droppableContainers:I,measuringConfiguration:H}),U=j?R.setRef:void 0;return _t.createElement(K7,null,_t.createElement(G7,{animation:B},b&&D?_t.createElement(X7,{key:D,id:b.id,ref:U,as:h,activatorEvent:g,adjustScale:e,className:d,transition:l,rect:j,style:{zIndex:m,...a},transform:C},n):null))});function ux(t,e,n){const s=t.slice();return s.splice(n<0?s.length+n:n,0,s.splice(e,1)[0]),s}function iq(t,e){return t.reduce((n,s,a)=>{const l=e.get(s);return l&&(n[a]=l),n},Array(t.length))}function Pf(t){return t!==null&&t>=0}function rq(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function aq(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const hx=t=>{let{rects:e,activeIndex:n,overIndex:s,index:a}=t;const l=ux(e,s,n),c=e[a],h=l[a];return!h||!c?null:{x:h.left-c.left,y:h.top-c.top,scaleX:h.width/c.width,scaleY:h.height/c.height}},ok="Sortable",lk=_t.createContext({activeIndex:-1,containerId:ok,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:hx,disabled:{draggable:!1,droppable:!1}});function oq(t){let{children:e,id:n,items:s,strategy:a=hx,disabled:l=!1}=t;const{active:c,dragOverlay:h,droppableRects:d,over:m,measureDroppableContainers:g}=ak(),b=ed(ok,n),x=h.rect!==null,A=S.useMemo(()=>s.map(ce=>typeof ce=="object"&&"id"in ce?ce.id:ce),[s]),k=c!=null,I=c?A.indexOf(c.id):-1,R=m?A.indexOf(m.id):-1,O=S.useRef(A),H=!rq(A,O.current),F=R!==-1&&I===-1||H,re=aq(l);Ui(()=>{H&&k&&g(A)},[H,A,k,g]),S.useEffect(()=>{O.current=A},[A]);const te=S.useMemo(()=>({activeIndex:I,containerId:b,disabled:re,disableTransforms:F,items:A,overIndex:R,useDragOverlay:x,sortedRects:iq(A,d),strategy:a}),[I,b,re.draggable,re.droppable,F,A,R,d,x,a]);return _t.createElement(lk.Provider,{value:te},e)}const lq=t=>{let{id:e,items:n,activeIndex:s,overIndex:a}=t;return ux(n,s,a).indexOf(e)},cq=t=>{let{containerId:e,isSorting:n,wasDragging:s,index:a,items:l,newIndex:c,previousItems:h,previousContainerId:d,transition:m}=t;return!m||!s||h!==l&&a===c?!1:n?!0:c!==a&&e===d},uq={duration:200,easing:"ease"},ck="transform",hq=ao.Transition.toString({property:ck,duration:0,easing:"linear"}),dq={roleDescription:"sortable"};function fq(t){let{disabled:e,index:n,node:s,rect:a}=t;const[l,c]=S.useState(null),h=S.useRef(n);return Ui(()=>{if(!e&&n!==h.current&&s.current){const d=a.current;if(d){const m=Lc(s.current,{ignoreTransform:!0}),g={x:d.left-m.left,y:d.top-m.top,scaleX:d.width/m.width,scaleY:d.height/m.height};(g.x||g.y)&&c(g)}}n!==h.current&&(h.current=n)},[e,n,s,a]),S.useEffect(()=>{l&&c(null)},[l]),l}function mq(t){let{animateLayoutChanges:e=cq,attributes:n,disabled:s,data:a,getNewIndex:l=lq,id:c,strategy:h,resizeObserverConfig:d,transition:m=uq}=t;const{items:g,containerId:b,activeIndex:x,disabled:A,disableTransforms:k,sortedRects:I,overIndex:R,useDragOverlay:O,strategy:H}=S.useContext(lk),F=pq(s,A),re=g.indexOf(c),te=S.useMemo(()=>({sortable:{containerId:b,index:re,items:g},...a}),[b,a,re,g]),ce=S.useMemo(()=>g.slice(g.indexOf(c)),[g,c]),{rect:D,node:C,isOver:j,setNodeRef:B}=H7({id:c,data:te,disabled:F.droppable,resizeObserverConfig:{updateMeasurementsFor:ce,...d}}),{active:U,activatorEvent:V,activeNodeRect:P,attributes:be,setNodeRef:xe,listeners:Z,isDragging:X,over:$,setActivatorNodeRef:Y,transform:L}=B7({id:c,data:te,attributes:{...dq,...n},disabled:F.draggable}),T=AF(B,xe),z=!!U,W=z&&!k&&Pf(x)&&Pf(R),ne=!O&&X,ge=ne&&W?L:null,he=W?ge??(h??H)({rects:I,activeNodeRect:P,activeIndex:x,overIndex:R,index:re}):null,we=Pf(x)&&Pf(R)?l({id:c,items:g,activeIndex:x,overIndex:R}):re,Te=U?.id,Ae=S.useRef({activeId:Te,items:g,newIndex:we,containerId:b}),ze=g!==Ae.current.items,Ve=e({active:U,containerId:b,isDragging:X,isSorting:z,id:c,index:re,items:g,newIndex:Ae.current.newIndex,previousItems:Ae.current.items,previousContainerId:Ae.current.containerId,transition:m,wasDragging:Ae.current.activeId!=null}),dt=fq({disabled:!Ve,index:re,node:C,rect:D});return S.useEffect(()=>{z&&Ae.current.newIndex!==we&&(Ae.current.newIndex=we),b!==Ae.current.containerId&&(Ae.current.containerId=b),g!==Ae.current.items&&(Ae.current.items=g)},[z,we,b,g]),S.useEffect(()=>{if(Te===Ae.current.activeId)return;if(Te!=null&&Ae.current.activeId==null){Ae.current.activeId=Te;return}const mt=setTimeout(()=>{Ae.current.activeId=Te},50);return()=>clearTimeout(mt)},[Te]),{active:U,activeIndex:x,attributes:be,data:te,rect:D,index:re,newIndex:we,items:g,isOver:j,isSorting:z,isDragging:X,listeners:Z,node:C,overIndex:R,over:$,setNodeRef:T,setActivatorNodeRef:Y,setDroppableNodeRef:B,setDraggableNodeRef:xe,transform:dt??he,transition:De()};function De(){if(dt||ze&&Ae.current.newIndex===re)return hq;if(!(ne&&!bp(V)||!m)&&(z||Ve))return ao.Transition.toString({...m,property:ck})}}function pq(t,e){var n,s;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(s=t?.droppable)!=null?s:e.droppable}}function Bm(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const gq=[ct.Down,ct.Right,ct.Up,ct.Left],yq=(t,e)=>{let{context:{active:n,collisionRect:s,droppableRects:a,droppableContainers:l,over:c,scrollableAncestors:h}}=e;if(gq.includes(t.code)){if(t.preventDefault(),!n||!s)return;const d=[];l.getEnabled().forEach(b=>{if(!b||b!=null&&b.disabled)return;const x=a.get(b.id);if(x)switch(t.code){case ct.Down:s.top<x.top&&d.push(b);break;case ct.Up:s.top>x.top&&d.push(b);break;case ct.Left:s.left>x.left&&d.push(b);break;case ct.Right:s.left<x.left&&d.push(b);break}});const m=HF({collisionRect:s,droppableRects:a,droppableContainers:d});let g=HI(m,"id");if(g===c?.id&&m.length>1&&(g=m[1].id),g!=null){const b=l.get(n.id),x=l.get(g),A=x?a.get(x.id):null,k=x?.node.current;if(k&&A&&b&&x){const R=xp(k).some((ce,D)=>h[D]!==ce),O=uk(b,x),H=vq(b,x),F=R||!O?{x:0,y:0}:{x:H?s.width-A.width:0,y:H?s.height-A.height:0},re={x:A.left,y:A.top};return F.x&&F.y?re:Ah(re,F)}}}};function uk(t,e){return!Bm(t)||!Bm(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function vq(t,e){return!Bm(t)||!Bm(e)||!uk(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const bq=({id:t,children:e,disabled:n,className:s,onClick:a})=>{const{attributes:l,listeners:c,setNodeRef:h,transform:d,transition:m,isDragging:g}=mq({id:t,disabled:n}),b={transform:ao.Transform.toString(d),transition:m,zIndex:g?50:"auto",position:"relative"};return y.jsx("div",{ref:h,style:b,...l,...c,onClick:a,className:K("w-full h-full",!n&&"touch-none cursor-grab active:cursor-grabbing",g&&"opacity-0",s),children:y.jsx("div",{className:K("w-full h-full",g&&"opacity-0"),children:e})})},xq=({item:t,gridSize:e,editMode:n,activeId:s,onClick:a,onEdit:l,isLocked:c,fontScale:h=1})=>{const{settings:d}=ms(),m=d.theme==="light",g="relative w-full h-full flex flex-col items-center justify-center p-2 rounded-xl cursor-pointer select-none overflow-hidden transition-all duration-200 border shadow-sm",b=e>=5?"text-xs sm:text-sm":"text-sm sm:text-base",x=m?{default:"bg-white border-slate-200 hover:bg-slate-50 hover:border-slate-300 text-slate-700",completed:"bg-emerald-50 border-emerald-300 text-emerald-700 shadow-[inset_0_0_20px_rgba(16,185,129,0.1)]",freeSpace:"bg-amber-50 border-amber-300 text-amber-600 shadow-[inset_0_0_20px_rgba(245,158,11,0.1)]",editing:"bg-slate-100 border-dashed border-slate-300 opacity-60 hover:opacity-100 hover:border-slate-400 shadow-none text-slate-500"}:{default:"bg-[var(--theme-bg-subtle)] border-[var(--theme-border)] hover:bg-[var(--theme-bg-base)] hover:border-zinc-600 text-slate-300",completed:"bg-emerald-950/20 border-emerald-500/20 text-emerald-200 shadow-[inset_0_0_20px_rgba(16,185,129,0.1)]",freeSpace:"bg-amber-950/20 border-amber-500/20 text-amber-500 shadow-[inset_0_0_20px_rgba(245,158,11,0.1)]",editing:"bg-slate-900 border-dashed border-slate-600 opacity-60 hover:opacity-100 hover:border-slate-400 shadow-none text-slate-500"};let A=x.default;return n?A=x.editing:t.isFreeSpace?A=x.freeSpace:t.isCompleted&&(A=x.completed),y.jsxs(He.div,{layout:!n&&!s,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:!n&&!s?{scale:1.02,y:-2,zIndex:10,boxShadow:m?"0 10px 30px -10px rgba(0,0,0,0.15)":"0 10px 30px -10px rgba(0,0,0,0.5)"}:void 0,whileTap:n?void 0:{scale:.98},onClick:n?l:a,className:K(g,b,A),children:[y.jsx("div",{className:"z-10 text-center w-full px-1",children:t.isFreeSpace?y.jsxs("div",{className:"flex flex-col items-center gap-1",children:[y.jsx("span",{className:K("text-[10px] font-bold uppercase tracking-widest",m?"text-amber-600":"text-amber-600/80"),children:"Bonus"}),y.jsx("span",{className:"font-bold text-amber-500 text-sm sm:text-base",children:"FREE"})]}):y.jsx("span",{className:"font-medium leading-snug block line-clamp-4 break-words transition-[font-size] duration-100",style:{color:t.isCompleted&&!n?void 0:t.style?.color,fontWeight:t.style?.bold?"bold":void 0,fontStyle:t.style?.italic?"italic":void 0,fontSize:`${h}em`},children:t.text})}),y.jsx("div",{className:"absolute top-1.5 right-1.5 flex flex-col gap-1 items-end z-20",children:t.proofPhotos&&t.proofPhotos.length>0&&y.jsx("div",{className:K("p-1 rounded-md backdrop-blur-sm",m?"bg-slate-600/80":"bg-black/40"),children:y.jsx(_h,{size:10,className:"text-white/90"})})}),t.dueDate&&!t.isCompleted&&!c&&y.jsxs("div",{className:K("flex items-center gap-1 mt-1 text-[10px] font-medium absolute bottom-1.5 left-2 px-1 rounded backdrop-blur-sm",m?"bg-slate-200/90":"bg-black/40",(t.dueDate.toDate?t.dueDate.toDate():new Date(t.dueDate))<new Date?"text-red-500":m?"text-slate-600":"text-slate-400"),children:[y.jsx(bI,{size:10}),y.jsx("span",{children:(t.dueDate.toDate?t.dueDate.toDate():new Date(t.dueDate)).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),!t.isFreeSpace&&!n&&(t.targetCount||1)>1&&y.jsxs("div",{className:K("absolute bottom-1.5 right-1.5 px-1.5 py-0.5 rounded text-[10px] font-bold shadow-sm",t.isCompleted?"bg-emerald-500/90 text-white":(t.currentCount||0)>0?"bg-amber-500/90 text-white":m?"bg-slate-200 text-slate-600 border border-slate-300":"bg-slate-700/90 text-slate-300"),children:[t.currentCount||0,"/",t.targetCount]}),n&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 bg-black/40 transition-opacity z-30",children:y.jsx(th,{size:20,className:"text-white drop-shadow-md"})}),t.isCompleted&&!t.isFreeSpace&&!n&&y.jsx(He.div,{initial:{scale:2,opacity:0,rotate:-45},animate:{scale:1,opacity:m?.15:.1,rotate:12},transition:{type:"spring",stiffness:300,damping:15},className:K("absolute -bottom-2 -right-2 transform origin-bottom-right pointer-events-none",m?"text-emerald-600":"text-emerald-400"),children:y.jsx(mi,{size:80,strokeWidth:3})}),t.isCompleted&&y.jsx("div",{className:K("absolute inset-0 rounded-xl ring-1 ring-inset pointer-events-none",m?"ring-emerald-200":"ring-white/10")})]})},Vu=({isOpen:t,onClose:e,title:n,children:s,footer:a,size:l="md",className:c,showCloseButton:h=!0})=>{const{settings:d}=ms(),m=d.theme==="light",g={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-4xl"};return y.jsx(js,{children:t&&y.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[y.jsx(He.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:K("absolute inset-0 backdrop-blur-sm",m?"bg-black/40":"bg-black/60"),onClick:e}),y.jsxs(He.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{duration:.2},className:K("relative w-full rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",m?"bg-white border border-slate-200":"bg-[var(--theme-bg-subtle)] border border-[var(--theme-border)]",g[l],c),onClick:b=>b.stopPropagation(),children:[(n||h)&&y.jsxs("div",{className:K("flex items-center justify-between p-4 sm:p-6 border-b shrink-0",m?"border-slate-200":"border-[var(--theme-border)]"),children:[y.jsx("div",{className:K("text-lg sm:text-xl font-bold truncate pr-4",m?"text-slate-800":"text-slate-100"),children:n}),h&&y.jsx("button",{onClick:e,className:K("p-2 rounded-full transition-colors",m?"text-slate-400 hover:text-slate-700 hover:bg-slate-100":"text-slate-400 hover:text-slate-100 hover:bg-white/10"),children:y.jsx(or,{size:20})})]}),y.jsx("div",{className:K("p-4 sm:p-6 overflow-y-auto custom-scrollbar",m?"text-slate-700":"text-slate-300"),children:s}),a&&y.jsx("div",{className:K("p-4 sm:p-6 border-t shrink-0 flex justify-end gap-3 rounded-b-2xl",m?"border-slate-200 bg-slate-50":"border-[var(--theme-border)] bg-[var(--theme-bg-base)]/50"),children:a})]})]})})},yA=({scale:t,onScaleChange:e,isLightTheme:n})=>{const[s,a]=S.useState(!1),l=S.useRef(null);return S.useEffect(()=>{const c=h=>{l.current&&!l.current.contains(h.target)&&a(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]),y.jsxs("div",{ref:l,className:"relative z-30 flex items-center",children:[y.jsx("button",{onClick:()=>a(!s),className:K("p-3 rounded-full shadow-lg border transition-all duration-300 backdrop-blur-md flex items-center justify-center",n?"bg-white/80 border-slate-200 text-slate-700 hover:bg-slate-50 shadow-slate-200/50":"bg-slate-800/80 border-slate-700 text-slate-300 hover:bg-slate-700 shadow-black/30",s&&"ring-2 ring-accent-primary border-transparent"),title:"Adjust Text Size",children:y.jsx(_I,{size:20})}),y.jsx(js,{children:s&&y.jsxs(He.div,{initial:{opacity:0,height:0,scale:.95,y:-20},animate:{opacity:1,height:200,scale:1,y:0},exit:{opacity:0,height:0,scale:.95,y:-20},className:K("absolute top-full mt-4 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 p-3 rounded-full border shadow-2xl backdrop-blur-xl w-14 overflow-hidden origin-top",n?"bg-white/95 border-slate-200":"bg-slate-900/95 border-slate-700"),children:[y.jsx("span",{className:K("text-[10px] font-bold mt-1 select-none",n?"text-slate-400":"text-slate-500"),children:"Aa"}),y.jsx("div",{className:"flex-1 w-full flex items-center justify-center py-2 relative",children:y.jsx("input",{type:"range",min:"0.75",max:"1.5",step:"0.05",value:t,onChange:c=>e(parseFloat(c.target.value)),className:"w-32 -rotate-90 absolute cursor-pointer",style:{accentColor:n?"#6366f1":"#818cf8"}})}),y.jsx("span",{className:K("text-lg font-bold mb-1 select-none",n?"text-slate-700":"text-slate-200"),children:"Aa"})]})})]})},vA=()=>{const{boardId:t,yearId:e}=MM(),n=e?void 0:t,{items:s,members:a,loading:l,toggleItem:c,hasWon:h,bingoCount:d,isLocked:m,unlockBoard:g,jumbleAndLock:b,saveBoard:x,completeWithPhoto:A,addPhotoToTile:k,addReaction:I,deletePhoto:R,decrementProgress:O,inviteUser:H,removeMember:F,title:re,gridSize:te,updateTitle:ce}=_F(n),{user:D}=Fi(),C=_t.useMemo(()=>{if(!D)return!1;const J=a?a[D.uid]:void 0;return J==="owner"||J==="editor"},[D,a]),{unlockBadge:j,incrementBadge:B}=LI(),U=ex(),{settings:V}=ms(),P=V.theme==="light",{playClick:be,playSuccess:xe,playBingo:Z,playWhoosh:X}=TF(),[$,Y]=S.useState(!1),[L,T]=S.useState(!1),[z,W]=S.useState(""),[ne,ge]=S.useState(()=>{const J=localStorage.getItem("sunsar_font_scale");return J?parseFloat(J):1}),ye=J=>{ge(J),localStorage.setItem("sunsar_font_scale",J.toString())},[he,we]=S.useState(s),[Te,Ae]=S.useState(null);S.useEffect(()=>{(!Te&&!$||$&&he.length===0&&s.length>0)&&we(s)},[s,Te,$]);const ze=zF(sA(lx,{activationConstraint:{distance:8}}),sA(ax,{coordinateGetter:yq})),Ve=J=>{$&&Ae(J.active.id)},dt=async J=>{const{active:Ee,over:Xe}=J;if(Ae(null),Xe&&Ee.id!==Xe.id&&$){const zt=he.findIndex(St=>St.id===Ee.id),Pt=he.findIndex(St=>St.id===Xe.id);if(zt!==-1&&Pt!==-1){const St=ux(he,zt,Pt);we(St);try{await x(St)}catch{U.alert("Failed to save order. You might not have permission.",{type:"error"}),we(he)}}}},[De,mt]=S.useState(!1),[xt,Xt]=S.useState(!1),[yn,Ze]=S.useState(!1),[Be,Wn]=S.useState(!1),[Os,Xs]=S.useState([]),[Ot,Ss]=S.useState(null),[As,zn]=S.useState(""),[Et,Bn]=S.useState({}),[Vs,vn]=S.useState(1),[Ls,In]=S.useState(""),[Rt,kn]=S.useState(!1),[Nt,mr]=S.useState("complete"),[bi,pr]=S.useState(!1),[rn,xi]=S.useState(0),[Ye,Vt]=S.useState(null),[Lt,Ft]=S.useState(!1),[Fn,Qt]=S.useState(!1),[ut,Dn]=S.useState(null),[Jt,bn]=S.useState(0),an=S.useRef(null),Xn=async()=>{if(!m)return;const J=Jt+1;bn(J),an.current&&clearTimeout(an.current),an.current=setTimeout(()=>{bn(0)},2e3),J>=7&&(bn(0),an.current&&clearTimeout(an.current),await U.confirm("This will unlock the board and re-enable editing. Proceed?",{title:" Developer Unlock",confirmText:"Unlock Board",cancelText:"Cancel"})&&(await g(),xe()))};S.useEffect(()=>{const J=async Ee=>{Ee.ctrlKey&&Ee.shiftKey&&Ee.key.toLowerCase()==="u"&&m&&(Ee.preventDefault(),await U.confirm("This will unlock the board and re-enable editing. Proceed?",{title:" Developer Unlock",confirmText:"Unlock Board",cancelText:"Cancel"})&&(await g(),xe()))};return window.addEventListener("keydown",J),()=>window.removeEventListener("keydown",J)},[m,g,U,xe]),S.useEffect(()=>{!localStorage.getItem("hasSeenWalkthrough")&&!l&&s.length>0&&pr(!0)},[l,s]),S.useEffect(()=>{(async()=>{if(xt&&a){const Ee=[];for(const[Xe,zt]of Object.entries(a))if(zt!=="owner")try{const Pt=await Wa(gn(ft,"users",Xe));if(Pt.exists()){const St=Pt.data();Ee.push({id:Xe,name:St.displayName||"Unknown",email:St.email||"No email",role:zt})}}catch(Pt){console.error("Error fetching user:",Pt)}Xs(Ee)}})()},[xt,a]);const ps=async(J,Ee)=>{await U.confirm(`Are you sure you want to remove ${Ee} from this board?`,{title:"Remove Member",type:"error",confirmText:"Remove"})&&((await F(J)).success?(Xs(Pt=>Pt.filter(St=>St.id!==J)),await U.alert(`${Ee} has been removed.`,{type:"success"})):await U.alert("Failed to remove member.",{type:"error"}))},Qn=async()=>{const J=await U.sharePrompt("Enter their email address to invite them to this board.",{title:"Invite User"});if(J){const Ee=await H(J.email,J.role);if(Ee.type==="success")await U.alert(Ee.message,{title:"Success!",type:"success"});else if(Ee.type==="not_found"){if(await U.confirm(`"${J.email}" hasn't signed up yet.

Would you like to send them an email invitation to join SunSar Bingo?`,{title:"User Not Found",confirmText:"Send Invite Email",type:"info"}))try{const{sendInviteEmail:zt,openMailtoFallback:Pt}=await Kl(async()=>{const{sendInviteEmail:wn,openMailtoFallback:_i}=await import("./emailService-hjQeGmh7.js");return{sendInviteEmail:wn,openMailtoFallback:_i}},[]);(await zt({recipientEmail:J.email,senderName:D?.displayName||D?.email||"A friend"})).success?await U.alert(`Invitation sent to ${J.email}! They'll receive an email with instructions to join.`,{title:"Invitation Sent!",type:"success"}):(Pt(J.email,D?.displayName||"A friend"),await U.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"}))}catch{const Pt=encodeURIComponent("Join me on SunSar Bingo!"),St=encodeURIComponent(`Hey! Come join me on SunSar Bingo to track our 2026 goals together.

Sign up here: ${window.location.origin}`);window.open(`mailto:${J.email}?subject=${Pt}&body=${St}`),await U.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"})}}else await U.alert(Ee.message,{title:"Error",type:"error"})}},gs=()=>{rn<2?xi(J=>J+1):(pr(!1),localStorage.setItem("hasSeenWalkthrough","true"))},[Mn,on]=S.useState(!1),[wt,qt]=S.useState(null),[qn,gr]=S.useState(!1),ho=S.useRef(null),[ll,yr]=S.useState(!1),[Ut,wi]=S.useState(null),[xn,rs]=S.useState(null),[Pn,ys]=S.useState(0),Zt=S.useRef(null),[fo,ra]=S.useState(!1),[Qs,Us]=S.useState(()=>localStorage.getItem("celebrationDismissed")==="true"),[vr,aa]=S.useState(0);S.useEffect(()=>{vr===5&&(g(),aa(0),lv({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#ec4899","#ffffff"]}));let J;return vr>0&&(J=setTimeout(()=>aa(0),1e3)),()=>clearTimeout(J)},[vr,g]);const mo=async()=>{be();try{await b(Be),lv({particleCount:150,spread:60,origin:{y:.7},colors:["#22c55e","#ffffff"]}),xe(),Ze(!1),Y(!1)}catch{U.alert("Failed to go live. You might not have permission to lock this board.",{type:"error"})}},cl=()=>{Us(!0),localStorage.setItem("celebrationDismissed","true")};_t.useEffect(()=>{!l&&!h&&(Us(!1),localStorage.removeItem("celebrationDismissed"))},[h,l]);const br=S.useRef(h);_t.useEffect(()=>{h&&!br.current&&!l&&Z(),br.current=h},[h,l,Z]);const vs=J=>{const Ee=he.length>0?he:s;if(Ss(J),zn(Ee[J].text),Bn(Ee[J].style||{color:"#ffffff",fontSize:"base",bold:!1,italic:!1}),vn(Ee[J].targetCount||1),Ee[J].dueDate){const Xe=Ee[J].dueDate,zt=typeof Xe.toDate=="function"?Xe.toDate():new Date(Xe),Pt=zt.getFullYear(),St=String(zt.getMonth()+1).padStart(2,"0"),wn=String(zt.getDate()).padStart(2,"0");In(`${Pt}-${St}-${wn}`)}else In("");kn(!!Ee[J].isFreeSpace),mt(!0)},ln=async()=>{if(Ot===null)return;let J=null;Ls&&(J=new Date(Ls+"T12:00:00"));const Ee=[...he];Ee[Ot]={...Ee[Ot],text:As,style:Et,targetCount:Number(Vs)||1,dueDate:J,isFreeSpace:Rt,isCompleted:Ee[Ot].isCompleted||Rt},we(Ee);try{await x(Ee)}catch{U.alert("Failed to save changes. You might not have permission to edit this board.",{title:"Save Failed",type:"error"})}mt(!1),Ss(null)},ot=he.length>0?he:s;if(S.useEffect(()=>{xn!==null&&ot?.[xn]&&wi(ot[xn])},[ot,xn]),l)return y.jsx("div",{className:"flex h-screen items-center justify-center text-accent-primary animate-pulse",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),y.jsx("p",{children:"Loading Board..."})]})});const oa=s.filter(J=>J.isCompleted).length/25*100,pt=J=>{if(!J)return"-";const Ee=J.toDate?J.toDate():new Date(J);return Ee.toLocaleDateString()+" "+Ee.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},wr=async J=>{const Ee=ot[J];if(Vt({index:J,wasCompleted:Ee.isCompleted}),Ee.isCompleted)be();else{xe();const Xe=new Date,zt=Xe.getMonth(),Pt=Xe.getDay();j("first_step"),zt===0&&j("early_bird"),(Pt===0||Pt===6)&&B("weekend_warrior")}try{await c(J),Ft(!0),setTimeout(()=>Ft(!1),3e3)}catch{U.alert("Failed to update tile. You might not have permission.",{type:"error"})}};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 pb-24 relative overflow-x-hidden no-print",children:[y.jsx("input",{type:"file",accept:"image/*",ref:Zt,className:"hidden",onChange:async J=>{const Ee=J.target.files?.[0];if(Ee&&xn!==null){try{await k(xn,Ee),B("shutterbug"),B("selfie_star")}catch(Xe){console.error(Xe),alert("Failed to add photo")}J.target.value=""}}}),y.jsx(SF,{items:s}),y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("header",{className:"flex justify-between items-center mb-8 py-2",children:[y.jsxs("div",{className:"flex-1 mx-4 min-w-0 flex flex-col justify-center",children:[L?y.jsx("input",{type:"text",value:z,onChange:J=>W(J.target.value),onBlur:()=>{z.trim()&&ce(z.trim()),T(!1)},onKeyDown:J=>{J.key==="Enter"?(z.trim()&&ce(z.trim()),T(!1)):J.key==="Escape"&&T(!1)},autoFocus:!0,className:"bg-transparent border-b-2 border-white/20 text-white text-4xl sm:text-5xl font-black tracking-tighter outline-none w-full shadow-xl"}):y.jsxs("div",{className:"flex items-center gap-3 group",children:[y.jsx("h1",{onClick:()=>{W(re||"My Bingo"),T(!0)},className:"text-left text-4xl sm:text-5xl font-black tracking-tighter truncate cursor-pointer select-none drop-shadow-2xl",title:"Click to edit",children:y.jsx("span",{className:"bg-gradient-to-r from-violet-300 via-fuchsia-300 to-white bg-clip-text text-transparent hover:brightness-110 transition-all",children:re||"My Bingo"})}),y.jsx("button",{onClick:()=>{W(re||"My Bingo"),T(!0)},className:"p-2 rounded-full bg-white/5 text-slate-400 opacity-0 group-hover:opacity-100 transition-all hover:bg-white/10 hover:text-white transform scale-75 group-hover:scale-100",title:"Edit Title",children:y.jsx(th,{size:16})})]}),y.jsxs("div",{className:"flex items-center gap-2 mt-3 cursor-pointer select-none",onClick:Xn,children:[y.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-[11px] font-bold bg-white/5 text-slate-400 border border-white/5 uppercase tracking-wider backdrop-blur-md",children:[te,"",te]}),y.jsxs("span",{className:K("inline-flex items-center px-3 py-1 rounded-full text-[11px] font-bold border uppercase tracking-wider backdrop-blur-md transition-colors",h?"bg-emerald-500/20 text-emerald-300 border-emerald-500/30 shadow-[0_0_15px_rgba(16,185,129,0.3)]":"bg-indigo-500/20 text-indigo-300 border-indigo-500/30"),children:[s.filter(J=>J.isCompleted&&!J.isFreeSpace).length," / ",s.filter(J=>!J.isFreeSpace).length," Done"]})]})]}),y.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[y.jsx("button",{onClick:()=>{ra(!0),B("memory_lane")},className:"p-2.5 text-slate-400 hover:text-accent-gold hover:bg-white/5 rounded-full transition-colors",title:"View Memories",children:y.jsx(Dm,{size:20})}),y.jsx("button",{onClick:()=>{Xt(!0),j("town_crier")},className:"p-2.5 text-slate-400 hover:text-accent-primary hover:bg-white/5 rounded-full transition-colors",title:"Share Board",children:y.jsx(Zf,{size:20})})]})]}),y.jsxs(L7,{sensors:ze,collisionDetection:qF,onDragStart:Ve,onDragEnd:dt,children:[y.jsx("div",{className:"flex justify-center mb-6 relative",children:y.jsxs("div",{className:"w-full max-w-[520px] relative",children:[y.jsx("div",{className:"aspect-square relative transition-all duration-300",children:y.jsx(oq,{items:ot.map(J=>J.id),strategy:hx,children:y.jsx("div",{className:K("grid gap-1.5 sm:gap-2 w-full h-full transition-[font-size,gap] duration-200",te===3&&"grid-cols-3 grid-rows-3",te===4&&"grid-cols-4 grid-rows-4",te===5&&"grid-cols-5 grid-rows-5",te===6&&"grid-cols-6 grid-rows-6"),style:{perspective:"1000px"},children:ot.map((J,Ee)=>y.jsx(bq,{id:J.id,disabled:!$,children:y.jsx(xq,{item:J,index:Ee,gridSize:te,editMode:$,activeId:Te,isLocked:m,fontScale:ne,onEdit:()=>vs(Ee),onClick:()=>{J.isFreeSpace||(J.isCompleted?(Dn(Ee),Qt(!0)):(X(),qt(Ee),on(!0)))}})},J.id))})})}),y.jsx("div",{className:"hidden md:block absolute -right-16 top-0 h-full pointer-events-none",children:y.jsx("div",{className:"sticky top-24 pointer-events-auto",children:y.jsx(yA,{scale:ne,onScaleChange:ye,isLightTheme:P})})}),y.jsx("div",{className:"md:hidden absolute -right-2 -bottom-14 z-20",children:y.jsx(yA,{scale:ne,onScaleChange:ye,isLightTheme:P})})]})}),y.jsx(sq,{children:Te?y.jsx("div",{className:K("relative w-full h-full flex flex-col items-center justify-center p-1 sm:p-2 text-center select-none overflow-hidden","bingo-tile bg-white/10 backdrop-blur-md border-2 border-accent-primary shadow-2xl glass-panel"),style:{width:"100px",height:"100px"},children:y.jsx("span",{className:"text-white font-bold text-sm",children:he.find(J=>J.id===Te)?.text})}):null})]})]}),y.jsx("div",{className:"flex justify-center",children:y.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[520px] glass-panel p-4 flex flex-col gap-4",children:[y.jsxs("div",{className:"w-full",children:[y.jsxs("div",{className:"flex justify-between text-xs text-slate-300 mb-1.5 px-1",children:[y.jsx("span",{className:"font-semibold",children:"Progress"}),y.jsxs("div",{className:"flex gap-3",children:[y.jsxs("span",{className:"font-mono text-accent-gold font-bold",children:[d,"/",te*2+2," Bingos"]}),y.jsxs("span",{className:"font-mono text-accent-primary",children:[Math.round(oa),"%"]})]})]}),y.jsx("div",{className:"h-3 bg-bg-dark/50 rounded-full overflow-hidden border border-white/5",children:y.jsx(He.div,{className:"h-full bg-gradient-to-r from-accent-primary to-accent-secondary relative",initial:{width:0},animate:{width:`${oa}%`},transition:{duration:1,ease:"easeOut"},children:y.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[1px] bg-white/50 shadow-[0_0_10px_white]"})})})]}),y.jsx("div",{className:"flex justify-center gap-2",children:$?y.jsx(y.Fragment,{children:y.jsxs("div",{className:"flex gap-2 w-full",children:[y.jsx("button",{onClick:()=>Y(!1),className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10 transition-all",children:"Cancel"}),y.jsxs("button",{onClick:()=>{x(he),Y(!1)},className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 transition-all flex items-center justify-center gap-2",children:[y.jsx(mi,{size:16}),"Save Changes"]})]})}):y.jsxs("div",{className:"flex gap-2 justify-center w-full flex-wrap",children:[!m&&C&&y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>{we([...s]),Y(!0)},className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[y.jsx(th,{size:12}),"Edit Board"]}),y.jsxs("button",{onClick:()=>{be(),Ze(!0)},className:"flex-1 py-2 px-4 text-xs font-bold text-white bg-gradient-to-r from-accent-primary to-accent-secondary hover:shadow-lg hover:shadow-accent-primary/20 transition-all rounded-lg flex items-center justify-center gap-2 min-w-[120px]",children:[y.jsx($S,{size:14}),"Go Live "]})]}),y.jsxs("button",{onClick:()=>window.print(),className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[y.jsx(u8,{size:12}),"Print Status"]})]})})]})}),y.jsx(js,{children:h&&!Qs&&y.jsx(He.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:y.jsxs(He.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center max-w-sm w-full relative overflow-hidden border-accent-gold/30",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent-gold/10 to-transparent pointer-events-none"}),y.jsx(He.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"inline-block",children:y.jsx(wh,{className:"w-20 h-20 text-accent-gold mx-auto mb-4 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),y.jsx("h2",{className:"text-4xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-accent-gold via-white to-accent-secondary mb-2",children:"BINGO!"}),y.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"2026 is off to an amazing start!"}),y.jsx("button",{onClick:cl,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-[0_0_20px_rgba(139,92,246,0.4)] transition-all transform hover:scale-105",children:"Keep Playing"})]})})}),y.jsxs(Vu,{isOpen:De,onClose:()=>mt(!1),title:"Edit Tile",size:"sm",footer:y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>mt(!1),className:"flex-1 py-2.5 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),y.jsx("button",{onClick:ln,className:"flex-1 py-2.5 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl font-bold text-white shadow-lg hover:shadow-violet-500/25 active:scale-95 transition-all",children:"Save Changes"})]}),children:[y.jsx("div",{className:"mb-6 flex justify-center",children:y.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-lg bg-bg-card/80 border border-white/10 flex items-center justify-center p-2 text-center overflow-hidden relative",children:y.jsx("span",{className:K("font-hand font-semibold leading-tight break-words"),style:{color:Et.color||"#ffffff",fontWeight:Et.bold?"bold":"600",fontStyle:Et.italic?"italic":"normal",fontSize:Et.fontSize==="sm"?"12px":Et.fontSize==="lg"?"18px":Et.fontSize==="xl"?"22px":"16px"},children:As||"Preview Text"})})}),y.jsxs("div",{className:"mb-6",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3 bg-white/5 p-3 rounded-xl border border-white/5",children:[y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer flex-1",children:[y.jsx("input",{type:"checkbox",checked:Rt,onChange:J=>{const Ee=J.target.checked;kn(Ee),Ee&&zn("FREE!")},className:"w-4 h-4 rounded border-gray-500 bg-black/50 text-accent-primary focus:ring-accent-primary"}),y.jsx("span",{className:K("text-sm font-bold transition-colors",Rt?"text-accent-primary":"text-slate-300"),children:"Flag as FREE Space "})]}),Rt&&y.jsxs("div",{className:"flex gap-1 bg-black/80 rounded-full p-1 px-1.5 border border-white/20",children:[y.jsx("div",{className:"w-2 h-2 rounded-full bg-red-900/30"}),y.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-900/30"}),y.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_#22c55e]"})]})]}),y.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Content"}),y.jsx("textarea",{className:K("w-full bg-black/20 text-white rounded-lg p-3 border border-white/10 focus:border-accent-primary outline-none min-h-[80px]",Rt&&"opacity-50 cursor-not-allowed"),disabled:Rt,value:As,onChange:J=>zn(J.target.value),placeholder:"Enter bingo task..."})]}),y.jsxs("div",{className:K("transition-opacity duration-300",Rt&&"opacity-30 pointer-events-none"),children:[y.jsxs("div",{className:"mb-6 space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Color"}),y.jsx("div",{className:"flex gap-2 flex-wrap",children:["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#ec4899","#a855f7"].map(J=>y.jsx("button",{className:K("w-6 h-6 rounded-full border border-white/10 transition-transform active:scale-90",Et.color===J&&"ring-2 ring-white scale-110"),style:{backgroundColor:J},onClick:()=>Bn(Ee=>({...Ee,color:J}))},J))})]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),y.jsx("div",{className:"flex bg-black/20 rounded-lg p-1",children:["sm","base","lg","xl"].map(J=>y.jsx("button",{onClick:()=>Bn(Ee=>({...Ee,fontSize:J})),className:K("flex-1 py-1 text-[10px] font-bold rounded transition-colors uppercase",(Et.fontSize||"base")===J?"bg-accent-primary text-white":"text-slate-400 hover:text-white"),children:J==="base"?"M":J},J))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Style"}),y.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-lg p-1",children:[y.jsx("button",{onClick:()=>Bn(J=>({...J,bold:!J.bold})),className:K("w-8 h-full rounded flex items-center justify-center font-bold transition-colors",Et.bold?"bg-white text-black":"text-slate-400 hover:text-white"),children:"B"}),y.jsx("button",{onClick:()=>Bn(J=>({...J,italic:!J.italic})),className:K("w-8 h-full rounded flex items-center justify-center italic transition-colors font-serif",Et.italic?"bg-white text-black":"text-slate-400 hover:text-white"),children:"I"})]})]})]})]}),y.jsxs("div",{className:"space-y-4 pt-4 border-t border-white/10",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Repeat Goal"}),y.jsx("input",{type:"number",min:"1",max:"100",value:Vs,onChange:J=>vn(J.target.value===""?"":parseInt(J.target.value)),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors"}),y.jsx("p",{className:"text-xs text-slate-500",children:"How many times should this be completed?"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Due Date (Optional)"}),y.jsx("input",{type:"date",value:Ls,onChange:J=>In(J.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors [color-scheme:dark]"})]})]})]})]}),(()=>{const J=wt!==null?ot[wt]:null,Ee=J?.targetCount||1,Xe=J?.currentCount||0,zt=Ee>1,Pt=Xe>0;return J?y.jsx(Vu,{isOpen:Mn&&wt!==null,onClose:()=>{on(!1),qt(null)},title:J.isCompleted?"Tile Details":Pt?"Add Progress":"Complete Task",size:"sm",children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("p",{className:"text-slate-300 text-sm text-center mb-4 line-clamp-3 italic",children:["",J.text,""]}),zt&&y.jsx("div",{className:"text-center mb-4",children:y.jsxs("span",{className:K("inline-block px-3 py-1 rounded-full text-sm font-bold",Pt?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"),children:["Progress: ",Xe," / ",Ee]})}),J.proofPhotos&&J.proofPhotos.length>0&&y.jsxs("div",{className:"mb-6 bg-black/20 p-3 rounded-xl border border-white/5",children:[y.jsx("label",{className:"text-xs text-slate-400 mb-2 block font-semibold uppercase tracking-wider",children:"Attached Photos"}),y.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:J.proofPhotos.map((St,wn)=>y.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0 group rounded-lg overflow-hidden border border-white/10 touch-none select-none",onContextMenu:_i=>_i.preventDefault(),children:[y.jsx("img",{src:St,alt:"",className:"w-full h-full object-cover pointer-events-none"}),y.jsx("button",{onClick:async _i=>{_i.stopPropagation(),window.confirm("Delete this photo?")&&await R(wt,wn)},className:"absolute top-1 right-1 bg-red-500/90 p-1.5 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 shadow-md",children:y.jsx(nh,{size:12})})]},wn))})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("input",{type:"file",accept:"image/*",ref:ho,className:"hidden",onChange:async St=>{const wn=St.target.files?.[0];if(wn&&wt!==null){gr(!0);try{Nt==="complete"?await A(wt,wn):await k(wt,wn),on(!1),qt(null)}catch{alert("Failed to upload photo.")}finally{gr(!1),St.target.value=""}}}}),y.jsxs("button",{onClick:()=>{mr("add"),setTimeout(()=>ho.current?.click(),0)},disabled:qn,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-blue-500/25 active:scale-95 transition-all disabled:opacity-50",children:[y.jsx(_h,{size:20}),qn&&Nt==="add"?"Uploading...":"Add Photo (Keep Status)"]}),!J.isCompleted&&y.jsxs("button",{onClick:()=>{mr("complete"),setTimeout(()=>ho.current?.click(),0)},disabled:qn,className:"w-full py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-amber-500/25 active:scale-95 transition-all disabled:opacity-50",children:[y.jsx(mi,{size:20}),qn&&Nt==="complete"?"Uploading...":zt?"Add Photo & +1":"Add Photo & Complete"]}),y.jsxs("button",{onClick:async()=>{try{await c(wt),on(!1),qt(null)}catch{U.alert("Failed to update tile.",{type:"error"})}},disabled:qn,className:K("w-full py-3 px-4 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-all disabled:opacity-50",J.isCompleted?"bg-slate-700 hover:bg-slate-600":"bg-gradient-to-r from-green-600 to-emerald-600 hover:shadow-green-500/25"),children:[J.isCompleted?y.jsx(or,{size:20}):y.jsx(mi,{size:20}),J.isCompleted?"Mark Incomplete":zt?`Mark +1 (${Xe+1}/${Ee})`:"Mark Complete"]}),Pt&&!J.isCompleted&&y.jsxs("button",{onClick:async()=>{try{await O(wt),on(!1),qt(null)}catch{U.alert("Failed to update progress.",{type:"error"})}},disabled:qn,className:"w-full py-2 rounded-xl font-semibold text-red-400 hover:bg-red-500/10 transition-colors disabled:opacity-50",children:["Remove Progress (",Xe-1,"/",Ee,")"]}),y.jsx("button",{onClick:()=>{on(!1),qt(null)},disabled:qn,className:"w-full py-3 rounded-xl font-semibold bg-white/5 text-slate-400 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"})]})]})}):null})(),y.jsx(js,{children:ll&&Ut&&Ut.proofPhotos&&Ut.proofPhotos.length>0&&y.jsx(He.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{yr(!1),wi(null),rs(null)},children:y.jsxs(He.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-lg w-full",onClick:J=>J.stopPropagation(),children:[y.jsx("button",{onClick:()=>{yr(!1),wi(null),rs(null)},className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors z-10",children:y.jsx(or,{size:28})}),y.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[y.jsxs("div",{className:"relative bg-black",children:[y.jsx("img",{src:Ut.proofPhotos[Pn],alt:`Proof photo ${Pn+1}`,className:"w-full h-auto max-h-[50vh] object-contain"}),Ut.proofPhotos.length>1&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>ys(J=>J>0?J-1:Ut.proofPhotos.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:y.jsx(gI,{size:24})}),y.jsx("button",{onClick:()=>ys(J=>J<Ut.proofPhotos.length-1?J+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:y.jsx(yI,{size:24})})]}),y.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/60 rounded-full text-white text-xs font-medium",children:[Pn+1," / ",Ut.proofPhotos.length]})]}),Ut.proofPhotos.length>1&&y.jsx("div",{className:"flex gap-1 p-2 bg-bg-dark/80 overflow-x-auto",children:Ut.proofPhotos.map((J,Ee)=>y.jsx("button",{onClick:()=>ys(Ee),className:K("w-12 h-12 rounded-md overflow-hidden border-2 flex-shrink-0 transition-all",Pn===Ee?"border-accent-primary":"border-transparent opacity-60 hover:opacity-100"),children:y.jsx("img",{src:J,alt:"",className:"w-full h-full object-cover"})},Ee))}),y.jsxs("div",{className:"p-4 bg-bg-dark/95",children:[y.jsx("p",{className:"text-white font-semibold mb-1",children:Ut.text}),y.jsxs("p",{className:"text-slate-400 text-xs mb-4",children:["Completed by ",Ut.completedBy,"  ",pt(Ut.completedAt)]}),y.jsx("div",{className:"flex gap-2 justify-center pb-1",children:["","","","","",""].map(J=>y.jsx("button",{onClick:()=>{xn!==null&&(I(xn,J),be())},className:"text-2xl hover:scale-125 transition-transform p-2 rounded-full hover:bg-white/10 active:scale-95",title:"React",children:J},J))})]})]}),y.jsxs("div",{className:"mt-4 flex gap-3 justify-center",children:[y.jsxs("button",{onClick:async()=>{window.confirm("Delete this photo?")&&(await R(xn,Pn),Ut?.proofPhotos?.length===1?yr(!1):ys(0))},className:"flex-1 py-3 bg-red-500/10 text-red-400 rounded-xl font-semibold hover:bg-red-500/20 flex items-center justify-center gap-2",children:[y.jsx(nh,{size:20}),"Delete Photo"]}),y.jsxs("button",{onClick:()=>Zt.current?.click(),className:"flex-1 py-3 bg-white/10 text-white rounded-xl font-semibold hover:bg-white/20 flex items-center justify-center gap-2",children:[y.jsx(Th,{size:20}),"Add Photo"]})]}),y.jsx("button",{onClick:()=>{const J=s.findIndex(Ee=>Ee.id===Ut.id);J!==-1&&c(J),yr(!1),wi(null),rs(null)},className:"mt-2 w-full py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Mark as In Progress"})]})})}),y.jsx(js,{children:Lt&&Ye&&y.jsxs(He.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:K("fixed bottom-24 left-1/2 -translate-x-1/2 border px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4",P?"bg-white border-slate-200 text-slate-800":"bg-slate-900 border-white/20 text-white"),children:[y.jsxs("span",{children:["Marked as ",Ye.wasCompleted?"incomplete":"complete"]}),y.jsx("button",{onClick:()=>{c(Ye.index),Ft(!1)},className:"font-bold text-accent-primary hover:text-white transition-colors",children:"Undo"}),y.jsx("button",{onClick:()=>Ft(!1),className:"text-slate-400 hover:text-white",children:y.jsx(or,{size:16})})]})}),y.jsx(js,{children:bi&&y.jsx(He.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:y.jsxs(He.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:K("border rounded-3xl p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",P?"bg-white border-slate-200":"bg-slate-900 border-white/20"),children:[y.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 pointer-events-none",children:y.jsx(wh,{className:"w-32 h-32 text-accent-gold rotate-12"})}),y.jsxs("div",{className:"relative z-10 text-center",children:[y.jsx("h3",{className:K("text-2xl font-bold mb-2",P?"text-slate-900":"text-white"),children:"Welcome! "}),y.jsxs("p",{className:K("mb-8 h-12",P?"text-slate-600":"text-slate-400"),children:[rn===0&&"Tap any tile to mark it as complete.",rn===1&&"Start 'Edit Mode' to add your own tasks.",rn===2&&"Invite friends to play together!"]}),y.jsx("div",{className:"flex justify-center mb-8",children:y.jsx("div",{className:K("w-32 h-32 rounded-2xl border flex items-center justify-center relative",P?"bg-slate-50 border-slate-200":"bg-black/40 border-white/10"),children:y.jsxs(js,{mode:"wait",children:[rn===0&&y.jsxs(He.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center",children:[y.jsx("div",{className:"w-16 h-16 bg-accent-primary/20 rounded-lg border border-accent-primary flex items-center justify-center",children:y.jsx(mi,{className:"w-8 h-8 text-white"})}),y.jsx(He.div,{animate:{scale:[1,1.2,1],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5},className:"absolute w-20 h-20 rounded-full border-2 border-white/50"})]},"step0"),rn===1&&y.jsx(He.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:y.jsx(th,{className:"w-12 h-12 text-blue-400"})},"step1"),rn===2&&y.jsx(He.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:y.jsx(Zf,{className:"w-12 h-12 text-green-400"})},"step2")]})})}),y.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[0,1,2].map(J=>y.jsx("div",{className:K("w-2 h-2 rounded-full transition-colors",J===rn?"bg-white":"bg-white/20")},J))}),y.jsx("button",{onClick:gs,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-slate-200 transition-colors",children:rn===2?"Let's Play!":"Next"})]})]})})})]}),y.jsxs("div",{className:"only-print hidden",children:[y.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-black pb-2",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("img",{src:"/logo.png",className:"h-12 w-auto",alt:"Logo"}),y.jsx("h1",{className:"text-2xl font-bold",children:re||"2026 Edition"})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"text-xs uppercase tracking-widest mb-0.5",children:["Status Report (",te,"",te,")"]}),y.jsxs("p",{className:"text-xl font-bold",children:[d," / ",te*2+2," Bingos"]})]})]}),y.jsx("div",{className:`grid gap-0 border-2 border-black ${te===3?"grid-cols-3":te===4?"grid-cols-4":te===5?"grid-cols-5":"grid-cols-6"}`,children:s.map(J=>y.jsxs("div",{className:"aspect-square border border-black p-1.5 flex flex-col justify-between relative overflow-hidden min-h-[80px]",children:[y.jsx("div",{className:`font-bold leading-tight z-10 ${te>=5?"text-[10px]":"text-[11px]"}`,children:J.text}),J.isCompleted&&!J.isFreeSpace&&y.jsxs("div",{className:"mt-0.5 relative z-10",children:[y.jsx("div",{className:"text-[7px] uppercase font-bold text-slate-700",children:"Completed by:"}),y.jsx("div",{className:"text-[9px] font-mono font-bold leading-none",children:J.completedBy||"User"}),y.jsx("div",{className:"text-[7px] text-slate-600 mt-0.5",children:pt(J.completedAt)})]}),J.isCompleted&&y.jsx("div",{className:"absolute bottom-1 right-1 text-3xl font-bold text-slate-200 opacity-60 pointer-events-none z-0",children:""}),J.isFreeSpace&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-xl rotate-[-45deg] opacity-20",children:"FREE"})]},J.id))}),y.jsxs("div",{className:"mt-4 text-[9px] text-center border-t border-black pt-2 flex justify-between text-slate-500",children:[y.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),y.jsx("span",{children:"bingo.mysunsar.com"})]})]}),y.jsx(EF,{items:s,isOpen:fo,onClose:()=>ra(!1)}),y.jsx(Vu,{isOpen:xt,onClose:()=>Xt(!1),title:y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx(Zf,{className:"w-5 h-5 text-accent-primary"}),"Shared With"]}),size:"md",children:y.jsxs("div",{children:[Os.length===0?y.jsx("div",{className:"text-center text-slate-400 py-8",children:y.jsx("p",{children:"This board hasn't been shared yet."})}):y.jsx("div",{className:"space-y-4 mb-6",children:Os.map(J=>y.jsxs("div",{className:K("flex items-center justify-between p-3 rounded-xl border",P?"bg-slate-50 border-slate-200":"bg-white/5 border-white/5"),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:J.name.charAt(0)}),y.jsxs("div",{children:[y.jsx("div",{className:K("text-sm font-semibold",P?"text-slate-900":"text-white"),children:J.name}),y.jsxs("div",{className:K("text-xs",P?"text-slate-500":"text-slate-400"),children:[J.email,"  ",J.role]})]})]}),y.jsx("button",{onClick:()=>ps(J.id,J.name),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove User",children:y.jsx(nh,{size:16})})]},J.id))}),y.jsxs("button",{onClick:Qn,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all flex items-center justify-center gap-2",children:[y.jsx(Th,{size:18}),"Invite New User"]})]})}),y.jsx(Vu,{isOpen:yn,onClose:()=>Ze(!1),title:y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx($S,{className:"w-5 h-5 text-accent-primary"}),"Ready to Go Live?"]}),size:"sm",footer:y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>Ze(!1),className:K("flex-1 py-3 rounded-xl font-semibold transition-colors",P?"bg-slate-100 text-slate-700 hover:bg-slate-200":"bg-white/5 text-slate-300 hover:bg-white/10"),children:"Not Yet"}),y.jsx("button",{onClick:mo,className:"flex-1 py-3 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl font-bold text-white shadow-lg hover:shadow-green-500/25 transition-all",children:"Let's Go! "})]}),children:y.jsxs("div",{children:[y.jsxs("p",{className:K("mb-6 leading-relaxed",P?"text-slate-600":"text-slate-300"),children:["Going live will ",y.jsx("strong",{className:P?"text-slate-800":"text-white",children:"lock the board"})," for play mode. You won't be able to edit items easily anymore."]}),y.jsx("div",{className:K("rounded-xl p-4 mb-6 cursor-pointer transition-colors",P?"bg-slate-100 border border-slate-200 hover:bg-slate-200":"bg-white/5 border border-white/10 hover:bg-white/10"),onClick:()=>Wn(!Be),children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:K("mt-1 w-5 h-5 rounded border flex items-center justify-center transition-colors",Be?"bg-accent-primary border-accent-primary":P?"border-slate-400":"border-slate-500"),children:Be&&y.jsx(mi,{size:14,className:"text-white"})}),y.jsxs("div",{children:[y.jsx("div",{className:K("font-semibold",P?"text-slate-800":"text-white"),children:"Shuffle Items?"}),y.jsx("div",{className:K("text-xs mt-1",P?"text-slate-500":"text-slate-400"),children:"Randomize the grid arrangement one last time before locking."})]})]})})]})}),y.jsx(Vu,{isOpen:Fn,onClose:()=>{Qt(!1),Dn(null)},title:"Goal Status",size:"sm",footer:y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>{Qt(!1),Dn(null)},className:K("flex-1 py-2.5 rounded-xl font-semibold transition-colors",P?"bg-slate-100 text-slate-700 hover:bg-slate-200":"bg-white/5 text-slate-300 hover:bg-white/10"),children:"Cancel"}),y.jsx("button",{onClick:()=>{ut!==null&&wr(ut),Qt(!1),Dn(null)},className:"flex-1 py-2.5 px-4 bg-amber-600 hover:bg-amber-500 rounded-xl font-bold text-white shadow-lg transition-all",children:"Mark Incomplete"})]}),children:ut!==null&&ot[ut]&&y.jsxs("div",{className:"text-center",children:[ot[ut].proofPhotos&&ot[ut].proofPhotos.length>0&&y.jsxs("div",{className:"mb-4 relative rounded-xl overflow-hidden",children:[y.jsx("img",{src:ot[ut].proofPhotos[0],alt:"Goal photo",className:"w-full h-32 object-cover"}),ot[ut].proofPhotos.length>1&&y.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/60 px-2 py-1 rounded text-xs text-white",children:["+",ot[ut].proofPhotos.length-1," more"]})]}),y.jsxs("div",{className:K("rounded-xl p-4 mb-4",P?"bg-emerald-50 border border-emerald-200":"bg-emerald-500/10 border border-emerald-500/30"),children:[y.jsx("div",{className:K("text-xs font-bold uppercase tracking-wider mb-1",P?"text-emerald-700":"text-emerald-400"),children:" Completed"}),y.jsx("div",{className:K("text-lg font-bold",P?"text-slate-900":"text-white"),children:ot[ut].text})]}),y.jsxs("p",{className:K("text-sm",P?"text-slate-600":"text-slate-400"),children:["Are you sure you want to mark this goal as ",y.jsx("strong",{className:P?"text-amber-600":"text-amber-400",children:"incomplete"}),"?",ot[ut].proofPhotos&&ot[ut].proofPhotos.length>0&&y.jsx("span",{children:" Your photos will be preserved."})]})]})})]})},zo=({className:t,...e})=>{const{settings:n}=ms(),s=n.theme==="light";return y.jsx("div",{className:K("animate-pulse rounded-lg",s?"bg-slate-200":"bg-white/5",t),...e})},wq=()=>{const{user:t}=Fi(),e=ex(),{settings:n}=ms(),s=n.theme==="light",a=qm(),[l,c]=S.useState([]),[h,d]=S.useState(!0),[m,g]=S.useState(!1),[b,x]=S.useState(null),[A,k]=S.useState(5),[I,R]=S.useState(null),[O,H]=S.useState(""),F=(V,P)=>{V.preventDefault(),V.stopPropagation(),R(P.id),H(P.title)},re=async V=>{if(V.preventDefault(),V.stopPropagation(),!!I){try{await ls(gn(ft,"boards",I),{title:O}),c(P=>P.map(be=>be.id===I?{...be,title:O}:be))}catch(P){console.error("Error updating title:",P)}R(null)}},te=V=>{V.preventDefault(),V.stopPropagation(),R(null)},ce=V=>{V.key==="Enter"?re(V):V.key==="Escape"?(V.stopPropagation(),R(null)):V.stopPropagation()},D=[{size:3,label:"33",description:"Quick (9 tiles)",icon:""},{size:4,label:"44",description:"Compact (16 tiles)",icon:""},{size:5,label:"55",description:"Classic (25 tiles)",icon:""},{size:6,label:"66",description:"Extended (36 tiles)",icon:""}],C={blank:{name:"Blank Canvas ",items:[]},default:{name:"2026 Goals ",items:["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"]},fitness:{name:"Fitness Challenge ",items:["Run a 5k","Do 50 pushups in a row","Try a yoga class","Drink 3L water for a week","No sugar for 7 days","Go for a hike","Meal prep for a week","Climb a bouldering wall","Try Pilates","Walk 15k steps in a day","Do a spin class","Bike 20km","FREE SPACE","Touch your toes","Hold a plank for 2 min","Try CrossFit","Go swimming","Meditate for 10 mins x 7","Try a new sport","Sleep 8 hours x 5 days","Do 100 squats","Run a 10k","Go to the gym 4x in a week","Stretch daily for a week","Join a run club"]},couples:{name:"Couple Goals ",items:["Date night (no phones)","Cook a meal together","Weekend getaway","Watch a whole series","Breakfast in bed","Go for a long walk","Plan a future trip","Give each other massages","Recreate first date","Take a dance class","Stargazing date","Write love letters","FREE SPACE","Visit a winery/brewery","Do a puzzle together","Double date","Sunset picnic","Bake something sweet","Volunteer together","Learn a couple's skill","Game night","Make a photo album","Try a new restaurant","Surprise gift","Kiss in the rain"]},personal:{name:"Personal Growth ",items:["Read 1 book/month","Learn a new language","Start a journal","Digital detox (24h)","Meditate daily (1 week)","Drink 2L water daily","Wake up at 6am (1 week)","Declutter a room","Learn to invest","Take a solo trip","Volunteer","Compliment a stranger","FREE SPACE","No social media (weekend)","Learn an instrument","Cook a new cuisine","Write a gratitude list","Take a cold shower","Listen to a podcast","Fix sleep schedule","Walk 10k steps","Call an old friend","Create a vision board","Save 10% income","Take a course"]},knitting:{name:"Knitting Goals ",items:["Finish a WIP","Cast on a sweater","Learn brioche","Knit socks","Stash bust project","Try colorwork","Knit a hat","Use luxury yarn","Fix a mistake","Knit a gift","Block a project","Organize needles","FREE SPACE","Try a new fiber","Knit in public","Attend a knit night","Learn magic loop","Design a pattern","Teach someone to knit","Finish a blanket","Knit a shawl","Try cables","Buy souvenir yarn","Weave in ends immediately","Knit a gauge swatch"]},weaving:{name:"Weaving Goals ",items:["Warp the loom","Weave a rug","Try a new structure","Sample a pattern","Use handspun yarn","Finish a scarf","Hemstitching","Fix a broken warp","Weave a towel","Try tapestry","Mix fibers","Organize yarn stash","FREE SPACE","Weave a placemat","Attend a workshop","Try doublewidth","Weave transparency","Calculate warp correctly","Finish raw edges","Weave with rags","Try tablet weaving","Rigid heddle project","Floor loom project","Visit a mill","Share a project online"]},spinning:{name:"Spinning Goals ",items:["Spin 100g fiber","Ply a yarn","Try a new breed","Spin lace weight","Spin art yarn","Comb fleece","Card a batt","Spin on a drop spindle","Clean the wheel","Spin distinct colors","Skein and wash","Fractal spin","FREE SPACE","Spin silk","Spin cotton","Navajo ply","Spin for a project","Participate in Tour de Fleece","Sample a blend","Teach spinning","Spin consistent grist","Dye fiber","Blend colors on hackle","Spin exotic fiber","Fill a bobbin"]},painting:{name:"Painting Goals ",items:["Paint a landscape","Try watercolors","Paint a portrait","Mix a new color","Paint en plein air","Visit a gallery","Finish a sketchbook","Try oils","Paint a still life","Use a palette knife","Paint an animal","Try abstract","FREE SPACE","Clean brushes properly","Paint on canvas","Paint on wood","Follow a tutorial","Paint a sky","Try gouache","Varnish a painting","Frame a piece","Paint daily for a week","Recreate a master","Paint a self-portrait","Host a paint night"]},corporate:{name:"Corporate Bingo ",items:['"Circle back"',`"Let's take this offline"`,"Meeting that could be an email",'"Synergy"','"Low hanging fruit"','"Touch base"',"Someone forgets to mute","Screen share fails",'"Can you see my screen?"',"Awkward silence",'"Bandwidth"','"Deep dive"',"FREE SPACE","Pet interrupts video call","Echo on the line",'"Per my last email"','"Drill down"','"Out of pocket"','"Hard stop"','"Boil the ocean"',"Reply All disaster",'"Move the needle"','"Blue sky thinking"','"Paradigm shift"','"Quick win"']},travel:{name:"Travel Bucket List ",items:["Visit a new continent","Go on a solo trip","See the Northern Lights","Swim in an ocean","Road trip across 3 states","Fly First Class","Visit a National Park","Eat street food","Stay in a hostel","Learn 'Hello' in 5 languages","Visit a Wonder of the World","Go on a cruise","FREE SPACE","Make a travel vlog","Sleep under the stars","Visit a castle","Ride a train","See a volcano","Go scuba diving","Watch a sunrise on a mountain","Visit a winery","Ride a camel/elephant","Go skiing/snowboarding","Visit a tropical island","Send a postcard"]}};S.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching boards for user:",t.uid,t.email);const P=new Map;try{const Y=$a(fi(ft,"boards"),tr(`members.${t.uid}`,"in",["owner","editor","viewer"])),L=await Wo(Y);console.log("Boards with membership found:",L.docs.length),L.docs.forEach(T=>{const z=T.data(),W=z.members?.[t.uid],ne=z.members||{},ge=Object.values(ne).filter(ye=>ye!=="owner").length;P.set(T.id,{id:T.id,...z,sharedCount:ge,myRole:W,members:ne})})}catch(Y){console.error("Error querying boards by membership:",Y)}try{const Y=$a(fi(ft,"years"),tr("ownerId","==",t.uid)),L=await Wo(Y);console.log("Legacy boards (years collection) found:",L.docs.length),L.docs.forEach(T=>{const z=T.data();P.set(`legacy_${T.id}`,{id:T.id,title:z.title||"2026 Bingo",createdAt:z.createdAt,isLocked:z.isLocked,ownerId:z.ownerId,myRole:"owner",members:{}})})}catch(Y){console.log("Years collection query failed:",Y)}try{const Y=await Wo(fi(ft,"years"));console.log("All years docs:",Y.docs.length),Y.docs.forEach(L=>{const T=L.data();if(T.ownerId===t.uid||T.members?.[t.uid]){const z=`legacy_years_${L.id}`;P.has(z)||P.set(z,{id:L.id,title:T.title||`${L.id} Bingo`,createdAt:T.createdAt,isLocked:T.isLocked,ownerId:T.ownerId,myRole:T.ownerId===t.uid?"owner":T.members?.[t.uid]||"viewer",members:T.members||{}})}})}catch(Y){console.log("Direct years fetch failed:",Y)}const be=Array.from(P.values()),xe=new Set;be.forEach(Y=>{Y.myRole!=="owner"&&(Y.ownerId&&Y.ownerId!==t.uid&&xe.add(Y.ownerId),Y.members&&Object.entries(Y.members).forEach(([L,T])=>{T==="owner"&&L!==t.uid&&xe.add(L)}))});const Z=Array.from(xe),X={};for(const Y of Z)try{const L=await Wa(gn(ft,"users",Y));if(L.exists()){const T=L.data();X[Y]=T.displayName||T.email||"Unknown"}}catch{console.log("Could not fetch owner info for:",Y)}const $=be.map(Y=>{let L=Y.ownerId;if(Y.members){const T=Object.keys(Y.members).find(z=>Y.members[z]==="owner"&&z!==t.uid);T&&(L=T)}return Y.myRole!=="owner"&&L&&X[L]?{...Y,ownerName:X[L]}:Y});console.log("Total boards to display:",$.length,$.map(Y=>Y.title)),c($)}catch(P){console.error("Error fetching boards:",P)}finally{d(!1)}})()},[t]);const j=async V=>{if(!t)return;const P=C[V],be=A,xe=be*be,Z=be%2===1?Math.floor(xe/2):-1,X=be%2===1?xe-1:xe,$=await e.prompt("What would you like to call this board?",{title:"Board Title",inputDefaultValue:P.name,confirmText:"Create"});if($)try{const Y=P.items.filter(ne=>ne.trim().toUpperCase()!=="FREE SPACE"&&ne!=="FREE SPACE"),L=[...Y].sort(()=>.5-Math.random());for(;L.length<X;)L.push(Y[L.length%Y.length]||`Goal ${L.length+1}`);const T=[];let z=0;for(let ne=0;ne<xe;ne++)ne===Z&&be%2===1?T.push({id:ne,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(T.push({id:ne,text:L[z],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),z++);const W=await xb(fi(ft,"boards"),{title:$,gridSize:be,ownerId:t.uid,members:{[t.uid]:"owner"},items:T,createdAt:qe.now(),isLocked:!1,lastUpdated:qe.now()});a(`/board/${W.id}`)}catch(Y){console.error("Error creating board:",Y),await e.alert("Failed to create board. Please try again.",{title:"Error",type:"error"})}finally{g(!1),x(null),k(5)}};if(h)return y.jsx("div",{className:"min-h-screen bg-transparent p-6 relative",children:y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs("header",{className:"flex justify-between items-center mb-12 py-2",children:[y.jsx(zo,{className:"h-10 w-32 md:w-40"}),y.jsxs("div",{className:"flex gap-2 items-center",children:[y.jsx(zo,{className:"w-10 h-10 rounded-full"}),y.jsx(zo,{className:"w-10 h-10 rounded-full"}),y.jsx(zo,{className:"w-20 h-10 rounded-xl"})]})]}),y.jsxs("div",{className:"mb-10",children:[y.jsx(zo,{className:"h-12 w-64 mb-3 rounded-lg"}),y.jsx(zo,{className:"h-6 w-48 rounded-md"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((V,P)=>y.jsx(zo,{className:"h-48 rounded-2xl"},P))})]})});const B=async(V,P,be)=>{if(V.stopPropagation(),await e.confirm(`This will permanently delete "${be}" and all its data.

This action cannot be undone.`,{title:"Delete Board?",confirmText:"Delete",type:"error"}))try{await bb(gn(ft,"boards",P)),c(Z=>Z.filter(X=>X.id!==P)),await e.alert("Board deleted successfully.",{title:"Deleted",type:"success"})}catch(Z){console.error("Error deleting board:",Z),await e.alert("Failed to delete board. Please try again.",{title:"Error",type:"error"})}},U=async(V,P,be)=>{if(V.stopPropagation(),!t)return;if(await e.confirm(`You will no longer have access to "${be}".

You can ask the owner to re-share it if needed.`,{title:"Leave Board?",confirmText:"Leave",type:"warning"}))try{await ls(gn(ft,"boards",P),{[`members.${t.uid}`]:_m()}),c(Z=>Z.filter(X=>X.id!==P)),await e.alert("You have left the board.",{title:"Left Board",type:"success"})}catch(Z){console.error("Error leaving board:",Z),await e.alert("Failed to leave board. Please try again.",{title:"Error",type:"error"})}};return y.jsxs("div",{children:[y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs("div",{className:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:K("text-3xl font-semibold tracking-tight",s?"text-slate-800":"text-white"),children:"My Boards"}),y.jsxs("p",{className:K("mt-1",s?"text-slate-600":"text-slate-400"),children:["Welcome back, ",y.jsx("span",{className:K("font-medium",s?"text-slate-900":"text-white"),children:t?.displayName?.split(" ")[0]||"Bingo Player"})]})]}),y.jsxs("button",{onClick:()=>g(!0),className:K("flex items-center gap-2 px-4 py-2 font-bold rounded-lg transition-colors shadow-lg active:scale-95",s?"bg-slate-900 text-white hover:bg-slate-800":"bg-white text-bg-dark hover:bg-slate-200"),children:[y.jsx(Th,{className:"w-5 h-5"}),y.jsx("span",{children:"New Board"})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.filter(V=>V.myRole==="owner").map(V=>{const be=V.id==="2026"||!V.ownerId?`/board/legacy/${V.id}`:`/board/${V.id}`;return y.jsxs("div",{onClick:xe=>{xe.preventDefault(),console.log("Navigating to board:",be),a(be)},className:K("group relative h-48 p-6 flex flex-col justify-between cursor-pointer overflow-hidden active:scale-[0.99] rounded-xl border transition-all",s?"bg-white border-slate-200 hover:bg-slate-50 hover:shadow-lg":"bg-[var(--theme-bg-card)] border-[var(--theme-border)] hover:bg-zinc-900"),children:[y.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:y.jsx("button",{onClick:xe=>B(xe,V.id,V.title),className:K("p-2 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",s?"text-slate-400 hover:text-red-500 hover:bg-red-50":"text-slate-500 hover:text-red-400 hover:bg-white/10"),title:"Delete Board",children:y.jsx(nh,{size:18})})}),y.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"h-7 mb-2",children:!!V.sharedCount&&V.sharedCount>0&&y.jsxs("span",{className:K("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border",s?"bg-emerald-50 text-emerald-600 border-emerald-200":"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"),children:[y.jsx(E8,{size:10}),"Shared with ",V.sharedCount]})}),I===V.id?y.jsxs("div",{className:"flex items-center gap-2 mb-1.5 z-30 relative",onClick:xe=>xe.stopPropagation(),children:[y.jsx("input",{type:"text",value:O,onChange:xe=>H(xe.target.value),onKeyDown:ce,onClick:xe=>xe.stopPropagation(),autoFocus:!0,className:K("font-bold text-xl rounded px-2 py-0.5 border border-accent-primary outline-none min-w-0 flex-1 w-full",s?"bg-white text-slate-800":"bg-black/50 text-white")}),y.jsx("button",{onClick:re,className:"p-1 text-green-400 hover:bg-green-400/20 rounded-full transition-colors",children:y.jsx(mi,{size:18})}),y.jsx("button",{onClick:te,className:"p-1 text-red-400 hover:bg-red-400/20 rounded-full transition-colors",children:y.jsx(or,{size:18})})]}):y.jsxs("div",{className:"flex items-start gap-2 pr-8 mb-1.5",children:[y.jsx("h3",{className:K("text-xl font-bold line-clamp-2 group-hover:text-accent-primary transition-colors",s?"text-slate-800":"text-white"),children:V.title}),y.jsx("button",{onClick:xe=>F(xe,V),className:K("opacity-0 group-hover:opacity-100 p-1.5 rounded-full transition-all z-20",s?"text-slate-400 hover:text-slate-700 hover:bg-slate-100":"text-slate-400 hover:text-white hover:bg-white/10"),title:"Rename Board",children:y.jsx(o8,{size:14})})]}),y.jsxs("div",{className:K("flex items-center gap-2 text-xs",s?"text-slate-500":"text-slate-400"),children:[y.jsx(Mm,{className:"w-3.5 h-3.5"}),V.createdAt?.toDate?V.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),y.jsx("div",{className:"mt-4",children:y.jsx("span",{className:K("inline-block px-4 py-1.5 rounded-xl text-xs font-bold border transition-all shadow-sm","bg-accent-primary/10 text-accent-primary border-accent-primary/20 group-hover:bg-accent-primary group-hover:text-white"),children:"Open Board"})})]})]},V.id)})}),l.filter(V=>V.myRole!=="owner").length>0&&y.jsxs(y.Fragment,{children:[y.jsxs("h2",{className:K("text-xl font-bold mt-10 mb-6 flex items-center gap-2",s?"text-slate-800":"text-white"),children:[y.jsx("span",{className:"bg-gradient-to-r from-accent-secondary to-pink-500 bg-clip-text text-transparent",children:"Shared With Me"}),y.jsxs("span",{className:K("text-sm font-normal","text-slate-500"),children:["(",l.filter(V=>V.myRole!=="owner").length,")"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.filter(V=>V.myRole!=="owner").map(V=>{const be=V.id==="2026"||!V.ownerId?`/board/legacy/${V.id}`:`/board/${V.id}`;return y.jsxs("div",{onClick:xe=>{xe.preventDefault(),console.log("Navigating to shared board:",be),a(be)},className:K("group relative h-48 p-6 flex flex-col justify-between cursor-pointer overflow-hidden active:scale-[0.99] rounded-xl border transition-all",s?"bg-white border-slate-200 hover:bg-slate-50 hover:shadow-lg":"bg-[var(--theme-bg-card)] border-[var(--theme-border)] hover:bg-zinc-900"),children:[y.jsx("div",{className:K("absolute top-0 right-0 p-4 transition-opacity pointer-events-none",s?"opacity-5 group-hover:opacity-10":"opacity-10 group-hover:opacity-20"),children:y.jsx(Zb,{className:"w-24 h-24"})}),y.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:y.jsx("button",{onClick:xe=>U(xe,V.id,V.title),className:K("p-2 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",s?"text-slate-400 hover:text-amber-600 hover:bg-amber-50":"text-slate-500 hover:text-amber-400 hover:bg-white/10"),title:"Leave Board",children:y.jsx(xI,{size:18})})}),y.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"h-7 mb-2",children:y.jsx("span",{className:K("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border",V.myRole==="editor"?s?"bg-purple-50 text-purple-600 border-purple-200":"bg-accent-secondary/20 text-accent-secondary border-accent-secondary/30":s?"bg-blue-50 text-blue-600 border-blue-200":"bg-blue-500/20 text-blue-400 border-blue-500/30"),children:V.myRole==="editor"?" Editor":" Viewer"})}),y.jsx("h3",{className:K("text-xl font-bold mb-1 line-clamp-1 pr-8",s?"text-slate-800":"text-white"),children:V.title}),V.ownerName&&y.jsxs("div",{className:K("text-xs mb-1.5","text-slate-500"),children:["Shared by ",y.jsx("span",{className:s?"text-slate-700":"text-slate-400",children:V.ownerName})]}),y.jsxs("div",{className:K("flex items-center gap-2 text-xs",s?"text-slate-500":"text-slate-400"),children:[y.jsx(Mm,{className:"w-3.5 h-3.5"}),V.createdAt?.toDate?V.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),y.jsx("div",{className:"mt-4",children:y.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-secondary/10 text-accent-secondary border border-accent-secondary/20 group-hover:bg-accent-secondary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},V.id)})})]})]}),m&&y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{b?x(null):g(!1)}}),y.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[y.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center shrink-0",children:[y.jsx("h2",{className:"text-xl font-bold text-white",children:b?C[b].name:"Choose a Template"}),y.jsx("button",{onClick:()=>{b?x(null):g(!1)},className:"text-slate-400 hover:text-white",children:y.jsx(Th,{className:"w-6 h-6 rotate-45"})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:b?y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Grid Size"}),y.jsx("div",{className:"grid grid-cols-4 gap-2",children:D.map(({size:V,label:P,icon:be})=>y.jsxs("button",{onClick:()=>k(V),className:`p-3 rounded-xl border text-center transition-all ${A===V?"bg-accent-primary/20 border-accent-primary text-white":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10 hover:text-white"}`,children:[y.jsx("span",{className:"text-lg block",children:be}),y.jsx("span",{className:"font-bold text-sm",children:P}),y.jsxs("span",{className:"text-[10px] block opacity-70",children:[V*V," tiles"]})]},V))})]}),y.jsx("div",{className:"flex justify-center",children:y.jsx("div",{className:`aspect-square w-full max-w-[380px] grid gap-1.5 p-3 bg-slate-950/50 rounded-xl border border-white/10 ${A===3?"grid-cols-3":A===4?"grid-cols-4":A===5?"grid-cols-5":"grid-cols-6"}`,children:(()=>{const V=A*A,P=A%2===1?Math.floor(V/2):-1,be=C[b].items.filter(xe=>xe.trim().toUpperCase()!=="FREE SPACE");return Array.from({length:V},(xe,Z)=>{const X=Z===P&&A%2===1,$=Z<P||P===-1?Z:Z-1,Y=X?"FREE":be[$%be.length]||`Goal ${Z+1}`;return y.jsx("div",{className:`
                                                                relative rounded-lg flex items-center justify-center p-1 text-center select-none overflow-hidden 
                                                                ${A<=4?"text-[9px] sm:text-[11px]":"text-[7px] sm:text-[9px]"}
                                                                leading-tight font-medium border shadow-sm
                                                                ${X?"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold":"bg-white/5 border-white/10 text-slate-300"}
                                                            `,children:y.jsx("span",{className:"line-clamp-2",children:Y})},Z)})})()})}),y.jsxs("div",{className:"flex gap-3 pt-4",children:[y.jsx("button",{onClick:()=>x(null),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Back"}),y.jsxs("button",{onClick:()=>j(b),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all",children:["Create ",A,"",A," Board"]})]})]}):y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(C).map(([V,P])=>y.jsxs("button",{onClick:()=>x(V),className:"flex flex-col items-start p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent-primary/50 transition-all text-left group",children:[y.jsx("h3",{className:"font-bold text-white group-hover:text-accent-primary transition-colors",children:P.name}),y.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click to preview"})]},V))})})]})]})]})},_q=()=>{const{settings:t}=ms(),e=S.useRef(null),n=S.useRef(null),s=S.useRef([]),l=["cosmic","lavender","light"].includes(t.theme),c=S.useMemo(()=>{switch(t.theme){case"light":return{type:"clouds",particleCount:20,baseColor:"rgba(255, 255, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #f0f9ff 0%, #e0f2fe 50%, #dbeafe 100%)",shootingStars:!1};case"cosmic":return{type:"stars",particleCount:200,baseColor:"rgba(139, 92, 246, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1e1b4b 0%, #0f172a 40%, #020617 100%)",shootingStars:!0};case"lavender":return{type:"petals",particleCount:50,baseColor:"rgba(232, 121, 249, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #3b0764 0%, #2e1065 50%, #1a0525 100%)",shootingStars:!1};default:return{type:"none",particleCount:0,baseColor:"rgba(0, 0, 0, ",bgGradient:"none",shootingStars:!1}}},[t.theme]);return S.useEffect(()=>{const h=e.current;if(!h)return;const d=()=>{const g=[];for(let b=0;b<c.particleCount;b++)g.push(Tq(h.width,h.height,c.type));s.current=g},m=()=>{h.width=window.innerWidth,h.height=window.innerHeight,d()};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[c]),S.useEffect(()=>{if(t.enableAnimation===!1)return;const h=e.current;if(!h)return;const d=h.getContext("2d");if(!d)return;let m=0,g=null;const b=()=>{d.clearRect(0,0,h.width,h.height),s.current.forEach(x=>{Eq(x,h.width,h.height,c.type),Sq(d,x,c)}),c.shootingStars&&(m++,m>300&&Math.random()<.01&&(g={x:Math.random()*h.width,y:Math.random()*h.height*.5,length:80+Math.random()*40,speed:15+Math.random()*10,opacity:1},m=0),g&&(d.beginPath(),d.strokeStyle=`rgba(255, 255, 255, ${g.opacity})`,d.lineWidth=2,d.moveTo(g.x,g.y),d.lineTo(g.x-g.length,g.y-g.length*.3),d.stroke(),g.x+=g.speed,g.y+=g.speed*.3,g.opacity-=.02,g.opacity<=0&&(g=null))),n.current=requestAnimationFrame(b)};return b(),()=>{n.current&&cancelAnimationFrame(n.current)}},[t.enableAnimation,c]),l?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-0 transition-all duration-1000",style:{background:c.bgGradient}}),y.jsx("canvas",{ref:e,className:"fixed inset-0 z-0 pointer-events-none",style:{opacity:t.enableAnimation===!1?0:.8}}),y.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none overflow-hidden",children:[y.jsx("div",{className:`absolute w-[600px] h-[600px] rounded-full blur-[120px] animate-float-slow ${t.theme==="cosmic"?"bg-violet-600/20":t.theme==="lavender"?"bg-fuchsia-500/10":t.theme==="light"?"bg-blue-300/20":"bg-purple-500/10"}`,style:{top:"-15%",left:"-10%"}}),y.jsx("div",{className:`absolute w-[500px] h-[500px] rounded-full blur-[100px] animate-float-slower ${t.theme==="cosmic"?"bg-pink-600/20":t.theme==="lavender"?"bg-purple-600/20":t.theme==="light"?"bg-sky-300/20":"bg-pink-500/10"}`,style:{bottom:"-10%",right:"-5%"}})]})]}):null};function Tq(t,e,n){const s={x:Math.random()*t,y:Math.random()*e,opacity:Math.random()*.5+.2};switch(n){case"stars":return{...s,size:Math.random()*3+1,speedX:0,speedY:0,opacity:Math.random()*.8+.4};case"clouds":return{...s,size:Math.random()*80+40,speedX:Math.random()*.3+.1,speedY:Math.random()*.05-.025,opacity:Math.random()*.4+.3};case"leaves":return{...s,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.8+.3,hue:Math.random()*40+80};case"petals":return{...s,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.5+.2,hue:Math.random()*40+280};case"bubbles":return{...s,size:Math.random()*8+2,speedX:Math.random()*.3-.15,speedY:-(Math.random()*.8+.3)};case"embers":return{...s,size:Math.random()*3+1,speedX:Math.random()*.4-.2,speedY:-(Math.random()*1+.5),hue:Math.random()*30+15};default:return{...s,size:Math.random()*4+1,speedX:Math.random()*.3-.15,speedY:Math.random()*.2-.1,hue:Math.random()*60+240}}}function Eq(t,e,n,s){t.x+=t.speedX,t.y+=t.speedY,s==="stars"&&(t.opacity+=(Math.random()-.5)*.05,t.opacity=Math.max(.1,Math.min(1,t.opacity))),t.x<0&&(t.x=e),t.x>e&&(t.x=0),t.y<0&&(t.y=n),t.y>n&&(t.y=0)}function Sq(t,e,n){switch(t.beginPath(),n.type){case"stars":t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill(),e.opacity>.7&&(t.beginPath(),t.fillStyle=`rgba(200, 220, 255, ${e.opacity*.3})`,t.arc(e.x,e.y,e.size*3,0,Math.PI*2),t.fill());break;case"clouds":t.save(),t.shadowColor="rgba(100, 150, 200, 0.3)",t.shadowBlur=20,t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size*.6,0,Math.PI*2),t.fill(),t.beginPath(),t.arc(e.x-e.size*.4,e.y+e.size*.1,e.size*.45,0,Math.PI*2),t.fill(),t.beginPath(),t.arc(e.x+e.size*.4,e.y+e.size*.1,e.size*.5,0,Math.PI*2),t.fill(),t.restore();break;case"leaves":t.fillStyle=`hsla(${e.hue}, 60%, 50%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.5,e.x*.01,0,Math.PI*2),t.fill();break;case"petals":t.fillStyle=`hsla(${e.hue}, 70%, 60%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.6,e.x*.02,0,Math.PI*2),t.fill();break;case"bubbles":t.strokeStyle=n.baseColor+`${e.opacity})`,t.lineWidth=1,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.stroke(),t.beginPath(),t.fillStyle=`rgba(255, 255, 255, ${e.opacity*.5})`,t.arc(e.x-e.size*.3,e.y-e.size*.3,e.size*.2,0,Math.PI*2),t.fill();break;case"embers":const s=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size);s.addColorStop(0,`hsla(${e.hue}, 100%, 70%, ${e.opacity})`),s.addColorStop(1,`hsla(${e.hue}, 100%, 50%, 0)`),t.fillStyle=s,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill();break;default:const a=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size*2);a.addColorStop(0,`hsla(${e.hue}, 80%, 60%, ${e.opacity})`),a.addColorStop(1,`hsla(${e.hue}, 80%, 60%, 0)`),t.fillStyle=a,t.arc(e.x,e.y,e.size*2,0,Math.PI*2),t.fill();break}}const jf=({icon:t,title:e,description:n,color:s})=>y.jsxs(He.div,{whileHover:{scale:1.02},className:"bg-white/5 border border-white/10 rounded-2xl p-6 backdrop-blur-sm",children:[y.jsx("div",{className:K("w-12 h-12 rounded-xl flex items-center justify-center mb-4",s),children:y.jsx(t,{size:24,className:"text-white"})}),y.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:e}),y.jsx("p",{className:"text-slate-400 text-sm",children:n})]}),l0=({number:t,title:e,description:n})=>y.jsxs("div",{className:"flex gap-4",children:[y.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-accent-primary/20 border border-accent-primary/50 flex items-center justify-center text-accent-primary font-bold",children:t}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-white mb-1",children:e}),y.jsx("p",{className:"text-slate-400 text-sm",children:n})]})]}),Aq=()=>{const t=qm(),{settings:e}=ms(),n=e.theme==="light";return y.jsx("div",{className:K("min-h-screen p-6 relative overflow-x-hidden pb-32 bg-transparent",n?"text-slate-800":"text-white"),children:y.jsxs("div",{className:"max-w-5xl mx-auto",children:[y.jsxs(He.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t(-1),className:K("flex items-center gap-2 transition-colors mb-8 group",n?"text-slate-600 hover:text-slate-900":"text-slate-400 hover:text-white"),children:[y.jsx(IB,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back"]}),y.jsxs("div",{className:"text-center mb-16",children:[y.jsx(He.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-accent-primary to-accent-secondary mb-6 shadow-2xl",children:y.jsx(Dm,{size:40,className:"text-white"})}),y.jsxs(He.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl sm:text-5xl font-extrabold mb-4",children:["Welcome to ",y.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:"SunSar Bingo"})]}),y.jsx(He.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:K("text-xl max-w-2xl mx-auto",n?"text-slate-600":"text-slate-400"),children:"Turn your 2026 goals into a beautiful, social game. Track progress, celebrate wins, and stay motivated together."})]}),y.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-16",children:[y.jsx(jf,{icon:Zb,title:"Custom Boards",description:"Create 3x3, 4x4, or 5x5 grids for any goal type",color:"bg-blue-500"}),y.jsx(jf,{icon:_h,title:"Photo Memories",description:"Attach photos to tiles and build a visual journal",color:"bg-green-500"}),y.jsx(jf,{icon:YS,title:"Shared Boards",description:"Invite friends to track goals together",color:"bg-purple-500"}),y.jsx(jf,{icon:Pm,title:"8 Themes",description:"Beautiful themes including 3 with animations",color:"bg-pink-500"})]}),y.jsxs(He.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-16",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl text-blue-400",children:y.jsx(Th,{size:28})}),y.jsx("h2",{className:"text-2xl font-bold",children:"Getting Started"})]}),y.jsxs("div",{className:K("rounded-3xl p-8 backdrop-blur-sm space-y-6",n?"bg-white/60 border border-slate-200":"bg-white/5 border border-white/10"),children:[y.jsx(l0,{number:1,title:"Create Your Board",description:"From the dashboard, click 'Create Board'. Choose from templates like 'Fitness', 'Travel', or 'Self Care'  or start blank."}),y.jsx(l0,{number:2,title:"Customize Your Goals",description:"Write specific, actionable goals for each tile. You can set multi-count targets (e.g., 'Run 10 miles' with progress tracking) and due dates."}),y.jsx(l0,{number:3,title:"Go Live",description:"Click 'Go Live' to lock your board and start playing. The board structure is now set  time to start completing goals!"})]})]}),y.jsxs(He.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-16",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("div",{className:"p-3 bg-green-500/20 rounded-xl text-green-400",children:y.jsx(y8,{size:28})}),y.jsx("h2",{className:"text-2xl font-bold",children:"Playing & Tracking"})]}),y.jsx("div",{className:K("rounded-3xl p-8 backdrop-blur-sm",n?"bg-white/60 border border-slate-200":"bg-white/5 border border-white/10"),children:y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[y.jsx(wI,{className:"w-5 h-5 text-yellow-400"}),"Completing Goals"]}),y.jsxs("ul",{className:K("space-y-3 text-sm",n?"text-slate-600":"text-slate-400"),children:[y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2 flex-shrink-0"}),y.jsxs("span",{children:[y.jsx("strong",{children:"Tap any tile"})," to open it and mark progress"]})]}),y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2 flex-shrink-0"}),y.jsxs("span",{children:[y.jsx("strong",{children:"Add photos"})," as proof and memories"]})]}),y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2 flex-shrink-0"}),y.jsxs("span",{children:[y.jsx("strong",{children:"Track multi-count"})," goals with +/- buttons"]})]})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[y.jsx(KS,{className:"w-5 h-5 text-amber-400"}),"Winning Bingo"]}),y.jsxs("p",{className:K("text-sm",n?"text-slate-600":"text-slate-400"),children:["Complete any full ",y.jsx("strong",{children:"row"}),", ",y.jsx("strong",{children:"column"}),", or ",y.jsx("strong",{children:"diagonal"})," to score a BINGO! Watch for the confetti celebration when you hit one. The goal is to fill the entire board  but each bingo along the way is a victory."]}),y.jsxs("div",{className:K("p-4 rounded-xl text-center",n?"bg-amber-50 border border-amber-200":"bg-amber-500/10 border border-amber-500/30"),children:[y.jsx("span",{className:"font-bold text-amber-500",children:"Pro tip:"}),y.jsx("span",{className:K("ml-2 text-sm",n?"text-slate-700":"text-slate-300"),children:"The center tile is a FREE space!"})]})]})]})})]}),y.jsxs(He.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mb-16",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("div",{className:"p-3 bg-purple-500/20 rounded-xl text-purple-400",children:y.jsx(Zf,{size:28})}),y.jsx("h2",{className:"text-2xl font-bold",children:"Playing Together"})]}),y.jsx("div",{className:K("rounded-3xl p-8 backdrop-blur-sm",n?"bg-white/60 border border-slate-200":"bg-white/5 border border-white/10"),children:y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[y.jsx(YS,{className:"w-5 h-5 text-accent-secondary"}),"Invite Collaborators"]}),y.jsx("p",{className:K("text-sm mb-4",n?"text-slate-600":"text-slate-400"),children:"Share your board with friends, family, or teammates. Everyone can view progress and complete tiles together."}),y.jsxs("ul",{className:K("space-y-2 text-sm",n?"text-slate-600":"text-slate-400"),children:[y.jsxs("li",{children:[" ",y.jsx("strong",{children:"Editors"})," can mark goals complete"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{children:"Viewers"})," can see progress"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{children:"Owner"})," controls board settings"]})]})]}),y.jsxs("div",{children:[y.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[y.jsx(KS,{className:"w-5 h-5 text-amber-400"}),"Competition Mode"]}),y.jsxs("p",{className:K("text-sm mb-4",n?"text-slate-600":"text-slate-400"),children:["On shared boards, tiles show ",y.jsx("strong",{children:"who completed them first"}),". Race your friends to complete the most goals!"]}),y.jsxs("div",{className:K("rounded-xl p-4 border text-center",n?"bg-slate-50 border-slate-200":"bg-black/40 border-white/5"),children:[y.jsx("span",{className:K("text-xs uppercase tracking-widest","text-slate-500"),children:"Example"}),y.jsx("div",{className:"mt-2 font-bold",children:'"Run a 5K"'}),y.jsx("div",{className:"text-xs text-accent-primary mt-1",children:" Completed by Sunit"})]})]})]})})]}),y.jsxs(He.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"mb-16",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("div",{className:"p-3 bg-pink-500/20 rounded-xl text-pink-400",children:y.jsx(Pm,{size:28})}),y.jsx("h2",{className:"text-2xl font-bold",children:"Themes & Customization"})]}),y.jsxs("div",{className:K("rounded-3xl p-8 backdrop-blur-sm",n?"bg-white/60 border border-slate-200":"bg-white/5 border border-white/10"),children:[y.jsxs("p",{className:K("text-sm mb-6",n?"text-slate-600":"text-slate-400"),children:["Choose from ",y.jsx("strong",{children:"8 beautiful themes"})," to match your style. Access themes anytime from the sidebar or Settings."]}),y.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-8 gap-3 mb-6",children:[{name:"Light",color:"bg-sky-100",animated:!0},{name:"Dawn",color:"bg-orange-400",animated:!1},{name:"Midnight",color:"bg-indigo-600",animated:!1},{name:"Cosmic",color:"bg-violet-600",animated:!0},{name:"Lavender",color:"bg-fuchsia-600",animated:!0},{name:"Forest",color:"bg-emerald-600",animated:!1},{name:"Ocean",color:"bg-cyan-600",animated:!1},{name:"Sunset",color:"bg-rose-600",animated:!1}].map(s=>y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:K("w-10 h-10 rounded-full mx-auto mb-2 relative",s.color,s.name==="Light"&&"border border-slate-300"),children:s.animated&&y.jsx(sh,{className:"absolute -top-1 -right-1 w-4 h-4 text-yellow-400 drop-shadow"})}),y.jsx("span",{className:K("text-xs",n?"text-slate-600":"text-slate-400"),children:s.name})]},s.name))}),y.jsxs("div",{className:K("flex items-center gap-3 p-4 rounded-xl",n?"bg-blue-50 border border-blue-200":"bg-blue-500/10 border border-blue-500/30"),children:[y.jsx(sh,{className:"w-5 h-5 text-blue-400"}),y.jsxs("p",{className:K("text-sm",n?"text-blue-800":"text-blue-200"),children:[y.jsx("strong",{children:"Animated themes"})," (Light, Cosmic, Lavender) feature moving backgrounds with clouds, stars, or petals!"]})]})]})]}),y.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"text-center",children:y.jsx("button",{onClick:()=>t("/dashboard"),className:K("px-8 py-4 font-bold rounded-2xl text-lg hover:scale-105 transition-transform shadow-xl",n?"bg-slate-900 text-white shadow-slate-300":"bg-white text-slate-900 shadow-white/10"),children:"Start Playing "})})]})})},Cq=()=>{const{user:t}=Fi(),[e,n]=S.useState([]),[s,a]=S.useState([]),[l,c]=S.useState([]),[h,d]=S.useState(!0),{unlockBadge:m,setBadgeProgress:g}=LI();return S.useEffect(()=>{if(!t){n([]),d(!1);return}const R=fi(ft,`users/${t.uid}/friends`),O=lc(R,H=>{const F=[];H.forEach(re=>{F.push(re.data())}),n(F)});return()=>O()},[t]),S.useEffect(()=>{if(!t)return;const R=$a(fi(ft,"friend_requests"),tr("toUserEmail","==",t.email),tr("status","==","pending")),O=lc(R,H=>{const F=[];H.forEach(re=>{F.push({id:re.id,...re.data()})}),a(F),d(!1)});return()=>O()},[t]),S.useEffect(()=>{if(!t)return;const R=$a(fi(ft,"friend_requests"),tr("fromUserId","==",t.uid),tr("status","==","pending")),O=lc(R,H=>{const F=[];H.forEach(re=>{F.push({id:re.id,...re.data()})}),c(F)});return()=>O()},[t]),{friends:e,incomingRequests:s,outgoingRequests:l,loading:h,sendFriendRequest:async R=>{if(!t)throw new Error("Not authenticated");if(R.toLowerCase()===t.email?.toLowerCase())throw new Error("You cannot add yourself.");const O=fi(ft,"users"),H=$a(O,tr("email","==",R.toLowerCase())),F=await Wo(H);if(F.empty)return{success:!1,message:"User not found."};const re=F.docs[0].data(),te=F.docs[0].id;return e.some(ce=>ce.email.toLowerCase()===R.toLowerCase())?{success:!1,message:"Use is already your friend."}:l.some(ce=>ce.toUserEmail.toLowerCase()===R.toLowerCase())?{success:!1,message:"Request already sent."}:(await xb(fi(ft,"friend_requests"),{fromUserId:t.uid,fromUserEmail:t.email,fromUserName:t.displayName||"Unknown",fromUserPhoto:t.photoURL,toUserId:te,toUserEmail:re.email,status:"pending",createdAt:Yo()}),{success:!0,message:"Friend request sent!"})},acceptFriendRequest:async R=>{if(!t)return;const O=V0(ft),H=gn(ft,"friend_requests",R.id);O.update(H,{status:"accepted"});const F=gn(ft,`users/${t.uid}/friends/${R.fromUserId}`);O.set(F,{uid:R.fromUserId,email:R.fromUserEmail,displayName:R.fromUserName,photoURL:R.fromUserPhoto,since:Yo()});const re=gn(ft,`users/${R.fromUserId}/friends/${t.uid}`);O.set(re,{uid:t.uid,email:t.email,displayName:t.displayName||"Unknown",photoURL:t.photoURL,since:Yo()}),await O.commit(),m("got_mail");const te=e.length+1;g("social_butterfly",te)},rejectFriendRequest:async R=>{await bb(gn(ft,"friend_requests",R))},removeFriend:async R=>{if(!t)return;const O=V0(ft),H=gn(ft,`users/${t.uid}/friends/${R}`),F=gn(ft,`users/${R}/friends/${t.uid}`);O.delete(H),O.delete(F),await O.commit()},getFriendsNotInBoard:R=>{const O=new Set(R.map(H=>H.id));return e.filter(H=>!O.has(H.uid))}}},Rq=()=>{const{friends:t,incomingRequests:e,outgoingRequests:n,sendFriendRequest:s,acceptFriendRequest:a,rejectFriendRequest:l,removeFriend:c}=Cq(),{settings:h}=ms(),d=h.theme==="light",m=ex(),[g,b]=S.useState("friends"),[x,A]=S.useState(""),[k,I]=S.useState(!1),R=async()=>{if(x.trim()){I(!0);try{const O=await s(x.trim());O.success?(await m.alert(`Request sent to ${x}!`,{type:"success"}),A("")):await m.alert(O.message,{type:"error"})}catch{await m.alert("Something went wrong. Check the email and try again.",{type:"error"})}finally{I(!1)}}};return y.jsxs("div",{className:K("rounded-3xl border shadow-xl overflow-hidden mt-8 max-w-4xl mx-auto",d?"bg-white border-slate-200":"bg-slate-900 border-white/10"),children:[y.jsx("div",{className:K("p-4 border-b flex items-center justify-between",d?"bg-slate-50 border-slate-200":"bg-white/5 border-white/5"),children:y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:()=>b("friends"),className:K("px-4 py-2 rounded-xl text-sm font-bold transition-all relative",g==="friends"?"bg-accent-primary text-white shadow-lg shadow-accent-primary/25":d?"text-slate-600 hover:bg-slate-200":"text-slate-400 hover:text-white hover:bg-white/5"),children:["My Friends",t.length>0&&y.jsx("span",{className:"ml-2 text-xs opacity-80 bg-black/20 px-1.5 rounded-full",children:t.length})]}),y.jsxs("button",{onClick:()=>b("requests"),className:K("px-4 py-2 rounded-xl text-sm font-bold transition-all relative",g==="requests"?"bg-accent-secondary text-white shadow-lg shadow-accent-secondary/25":d?"text-slate-600 hover:bg-slate-200":"text-slate-400 hover:text-white hover:bg-white/5"),children:["Requests",e.length>0&&y.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[10px] flex items-center justify-center text-white border-2 border-slate-900",children:e.length})]}),y.jsx("button",{onClick:()=>b("search"),className:K("px-4 py-2 rounded-xl text-sm font-bold transition-all",g==="search"?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/25":d?"text-slate-600 hover:bg-slate-200":"text-slate-400 hover:text-white hover:bg-white/5"),children:"Find People"})]})}),y.jsx("div",{className:"p-6 min-h-[300px]",children:y.jsxs(js,{mode:"wait",children:[g==="friends"&&y.jsx(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:t.length===0?y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:K("w-20 h-20 mx-auto rounded-full flex items-center justify-center mb-4",d?"bg-slate-100":"bg-white/5"),children:y.jsx(Eh,{size:32,className:"text-slate-400"})}),y.jsx("h3",{className:K("text-lg font-bold mb-2",d?"text-slate-800":"text-white"),children:"No friends yet"}),y.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Connect with people to share boards and compete!"}),y.jsx("button",{onClick:()=>b("search"),className:"px-6 py-2 bg-accent-primary text-white rounded-xl font-bold hover:shadow-lg transition-all",children:"Find Friends"})]}):y.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:t.map(O=>y.jsxs("div",{className:K("flex items-center gap-4 p-4 rounded-xl border transition-all",d?"bg-white border-slate-200 hover:shadow-md":"bg-white/5 border-white/5 hover:bg-white/10"),children:[O.photoURL?y.jsx("img",{src:O.photoURL,alt:O.displayName,className:"w-12 h-12 rounded-full object-cover bg-slate-800"}):y.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-indigo-500 flex items-center justify-center text-white font-bold text-lg",children:O.displayName.charAt(0)}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("h4",{className:K("font-bold truncate",d?"text-slate-900":"text-white"),children:O.displayName}),y.jsx("p",{className:"text-xs text-slate-400 truncate",children:O.email})]}),y.jsx("button",{onClick:async()=>{await m.confirm("Are you sure you want to remove this friend?",{type:"error",confirmText:"Remove"})&&c(O.uid)},className:K("p-2 rounded-lg transition-colors",d?"text-slate-400 hover:text-red-500 hover:bg-red-50":"text-slate-600 hover:text-red-400 hover:bg-red-500/10"),children:y.jsx(nh,{size:18})})]},O.uid))})},"friends"),g==="requests"&&y.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[y.jsxs("div",{className:"mb-8",children:[y.jsxs("h3",{className:K("text-sm font-bold uppercase tracking-wider mb-4 flex items-center gap-2",d?"text-slate-500":"text-slate-400"),children:[y.jsx(av,{size:14})," Incoming Requests"]}),e.length===0?y.jsx("p",{className:"text-sm text-slate-500 italic",children:"No pending requests."}):y.jsx("div",{className:"space-y-3",children:e.map(O=>y.jsxs("div",{className:K("flex items-center gap-4 p-4 rounded-xl border",d?"bg-white border-slate-200":"bg-white/5 border-white/5"),children:[O.fromUserPhoto?y.jsx("img",{src:O.fromUserPhoto,className:"w-10 h-10 rounded-full object-cover"}):y.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center text-white font-bold",children:O.fromUserName.charAt(0)}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:K("font-bold",d?"text-slate-900":"text-white"),children:O.fromUserName}),y.jsx("div",{className:"text-xs text-slate-400",children:"Sent you a friend request"})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>a(O),className:"p-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors shadow-lg shadow-emerald-500/20",title:"Accept",children:y.jsx(mi,{size:18})}),y.jsx("button",{onClick:()=>l(O.id),className:K("p-2 rounded-lg transition-colors border",d?"border-slate-300 text-slate-500 hover:bg-slate-100":"border-white/10 text-slate-400 hover:bg-white/10"),title:"Decline",children:y.jsx(or,{size:18})})]})]},O.id))})]}),y.jsxs("div",{children:[y.jsxs("h3",{className:K("text-sm font-bold uppercase tracking-wider mb-4 flex items-center gap-2",d?"text-slate-500":"text-slate-400"),children:[y.jsx(bI,{size:14})," Sent Requests"]}),n.length===0?y.jsx("p",{className:"text-sm text-slate-500 italic",children:"No sent requests."}):y.jsx("div",{className:"space-y-3",children:n.map(O=>y.jsxs("div",{className:K("flex items-center justify-between p-3 rounded-xl border opacity-70",d?"bg-slate-50 border-slate-200":"bg-white/5 border-white/5"),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:K("w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold",d?"bg-slate-200 text-slate-600":"bg-white/10 text-white"),children:O.toUserEmail.charAt(0).toUpperCase()}),y.jsxs("div",{children:[y.jsx("div",{className:K("text-sm font-bold",d?"text-slate-900":"text-white"),children:O.toUserEmail}),y.jsx("div",{className:"text-[10px] text-slate-400",children:"Pending..."})]})]}),y.jsx("button",{onClick:()=>l(O.id),className:"text-xs text-red-400 hover:underline",children:"Cancel"})]},O.id))})]})]},"requests"),g==="search"&&y.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"max-w-md mx-auto py-8",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("h3",{className:K("text-xl font-bold mb-2",d?"text-slate-900":"text-white"),children:"Add a Friend"}),y.jsx("p",{className:"text-slate-400 text-sm",children:"Enter their email address to send a request."})]}),y.jsxs("div",{className:"relative mb-4",children:[y.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:y.jsx(av,{size:18,className:"text-slate-500"})}),y.jsx("input",{type:"email",value:x,onChange:O=>A(O.target.value),placeholder:"friend@example.com",className:K("w-full pl-10 pr-4 py-3 rounded-xl outline-none border transition-all",d?"bg-slate-50 border-slate-200 focus:border-accent-primary focus:ring-2 focus:ring-accent-primary/20 text-slate-900 placeholder:text-slate-400":"bg-black/20 border-white/10 focus:border-accent-primary focus:ring-2 focus:ring-accent-primary/20 text-white placeholder:text-slate-500"),onKeyDown:O=>O.key==="Enter"&&R()})]}),y.jsx("button",{onClick:R,disabled:!x||k,className:"w-full py-3 bg-emerald-500 text-white font-bold rounded-xl hover:bg-emerald-600 hover:shadow-lg hover:shadow-emerald-500/25 active:scale-95 transition-all disabled:opacity-50 disabled:pointer-events-none",children:k?"Sending...":"Send Request"})]},"search")]})})]})},Nq=()=>{const{user:t}=Fi(),{settings:e}=ms(),n=e.theme==="light",[s,a]=S.useState({}),[l,c]=S.useState(!0),[h,d]=S.useState(!1);S.useEffect(()=>{if(!t)return;c(!0);const b=gn(ft,`users/${t.uid}/badges/progress`),x=lc(b,A=>{A.exists()?a(A.data()):a({}),c(!1)});return()=>x()},[t]);const m=["Speed","Creativity","Social"],g=uc.filter(b=>(s[b.id]?.progress||0)>=b.maxProgress).length;return y.jsxs("div",{className:K("rounded-3xl border shadow-xl overflow-hidden mb-8",n?"bg-white border-slate-200":"bg-slate-900 border-white/10"),children:[y.jsxs("button",{onClick:()=>d(!h),className:"w-full flex items-center justify-between p-6 md:p-8 text-left focus:outline-none group",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:K("p-3 rounded-2xl",n?"bg-amber-100 text-amber-600":"bg-amber-500/10 text-amber-500"),children:y.jsx(wh,{size:32})}),y.jsxs("div",{children:[y.jsx("h2",{className:K("text-xl md:text-2xl font-bold",n?"text-slate-900":"text-white"),children:"Trophy Case"}),y.jsxs("p",{className:"text-slate-400 text-sm",children:[g," / ",uc.length," Unlocked"]})]})]}),y.jsx("div",{className:K("p-2 rounded-full transition-colors",n?"text-slate-400 group-hover:bg-slate-100":"text-slate-500 group-hover:bg-white/5"),children:h?y.jsx(qB,{size:24}):y.jsx(UB,{size:24})})]}),y.jsx(js,{children:h&&y.jsx(He.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:y.jsx("div",{className:"p-6 md:p-8 pt-0 border-t border-dashed border-slate-200 dark:border-white/10",children:l?y.jsx("div",{className:"text-center py-12 text-slate-500 animate-pulse",children:"Loading trophies..."}):y.jsx("div",{className:"space-y-10 mt-6",children:m.map(b=>y.jsxs("div",{children:[y.jsxs("h3",{className:K("text-lg font-bold mb-4 flex items-center gap-2",n?"text-slate-700":"text-slate-300"),children:[b==="Speed"&&"",b==="Creativity"&&"",b==="Social"&&"",b]}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:uc.filter(x=>x.category===b).map(x=>{const A=s[x.id]?.progress||0,k=A>=x.maxProgress,I=x.isHidden&&!k;return y.jsxs(He.div,{whileHover:{scale:1.02},className:K("relative p-4 rounded-2xl border flex flex-col items-center text-center transition-all h-full",k?n?"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 shadow-sm":"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/30":n?"bg-slate-50 border-slate-100 opacity-80":"bg-white/5 border-white/5 opacity-60"),children:[y.jsxs("div",{className:K("w-16 h-16 rounded-full flex items-center justify-center text-3xl mb-3 shadow-inner relative overflow-hidden",k?n?"bg-white shadow-amber-100":"bg-black/30 shadow-black/50":"bg-black/10 grayscale"),children:[I?y.jsx(ZB,{size:20,className:"text-slate-400"}):x.icon,k&&y.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/20 to-transparent w-full h-full skew-x-12 translate-x-full animate-shimmer"})]}),y.jsx("h4",{className:K("font-bold text-sm mb-1",k?n?"text-slate-900":"text-white":"text-slate-500"),children:I?"???":x.title}),y.jsx("p",{className:"text-xs text-slate-400 mb-3 leading-snug",children:I?"Keep playing to unlock.":x.description}),!k&&!I&&x.maxProgress>1&&y.jsxs("div",{className:"w-full mt-auto",children:[y.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mb-1 font-mono",children:[y.jsx("span",{children:A}),y.jsx("span",{children:x.maxProgress})]}),y.jsx("div",{className:"h-1.5 w-full bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-accent-primary rounded-full transition-all duration-500",style:{width:`${A/x.maxProgress*100}%`}})})]}),k&&s[x.id]?.unlockedAt&&y.jsx("div",{className:"mt-auto text-[10px] text-amber-500 font-medium bg-amber-500/10 px-2 py-0.5 rounded-full",children:"Unlocked!"})]},x.id)})})]},b))})})})})]})},Iq=()=>{const{user:t,updateProfileName:e}=Fi(),{settings:n}=ms(),s=n.theme==="light",[a,l]=S.useState({totalBoards:0,totalTiles:0,totalBingos:0,totalPhotos:0}),[c,h]=S.useState(!1),[d,m]=S.useState(t?.displayName||"");S.useEffect(()=>{if(!t)return;m(t.displayName||""),(async()=>{try{const x=$a(fi(ft,"boards"),tr(`members.${t.uid}`,"in",["owner","editor","viewer"])),A=await Wo(x);let k=0,I=0,R=0;A.docs.forEach(O=>{const H=O.data();k++,H.items&&H.items.forEach(F=>{F.isCompleted&&!F.isFreeSpace&&I++,F.proofPhotos&&(R+=F.proofPhotos.length)})}),l({totalBoards:k,totalTiles:I,totalBingos:0,totalPhotos:R})}catch(x){console.error("Error fetching stats",x)}})()},[t]);const g=async()=>{if(!(!t||!d.trim()))try{await e(d.trim()),h(!1)}catch(b){console.error("Failed to update name",b)}};return y.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-8 animate-in fade-in duration-500",children:[y.jsxs("div",{className:K("rounded-3xl p-8 mb-12 shadow-2xl relative overflow-hidden border",s?"bg-gradient-to-br from-indigo-100 to-slate-100 border-white shadow-indigo-100":"bg-gradient-to-br from-indigo-900/50 to-slate-900/50 border-white/10"),children:[y.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-accent-primary/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),y.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center gap-8",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:K("w-32 h-32 rounded-full border-4 flex items-center justify-center overflow-hidden shadow-xl",s?"bg-slate-200 border-white":"bg-slate-800 border-white/10"),children:t?.photoURL?y.jsx("img",{src:t.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):y.jsx(Eh,{size:64,className:"text-slate-500"})}),y.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-accent-primary rounded-full text-white shadow-lg hover:scale-105 transition-transform",children:y.jsx(_h,{size:16})})]}),y.jsxs("div",{className:"flex-1 text-center md:text-left",children:[y.jsx("div",{className:"mb-2",children:y.jsx("span",{className:"text-sm font-semibold text-accent-secondary uppercase tracking-wider",children:"Player Profile"})}),c?y.jsxs("div",{className:"flex items-center gap-3 justify-center md:justify-start",children:[y.jsx("input",{value:d,onChange:b=>m(b.target.value),className:K("border rounded-lg px-4 py-2 text-2xl font-bold outline-none focus:border-accent-primary w-full max-w-xs",s?"bg-white/80 border-slate-300 text-slate-800":"bg-black/30 border-white/20 text-white"),autoFocus:!0}),y.jsx("button",{onClick:g,className:"p-2 bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30",children:y.jsx(mi,{size:24})})]}):y.jsxs("h1",{className:K("text-4xl font-bold mb-2 flex items-center justify-center md:justify-start gap-3 group",s?"text-slate-900":"text-white"),children:[t?.displayName||"Bingo Player",y.jsx("button",{onClick:()=>h(!0),className:K("opacity-0 group-hover:opacity-100 transition-opacity",s?"text-slate-400 hover:text-slate-700":"text-slate-400 hover:text-white"),children:y.jsx(th,{size:20})})]}),y.jsx("p",{className:K(s?"text-slate-600":"text-slate-400"),children:t?.email}),y.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Joined January 2026"})]})]})]}),y.jsx("div",{className:"mt-12",children:y.jsx(Rq,{})}),y.jsx(Nq,{}),y.jsxs("h2",{className:K("text-2xl font-bold mb-6 flex items-center gap-2 mt-12",s?"text-slate-800":"text-white"),children:[y.jsx(wh,{className:"text-accent-gold"})," Lifetime Stats"]}),y.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[y.jsx(Of,{label:"Active Boards",value:a.totalBoards,icon:y.jsx(XB,{size:24,className:"text-violet-400"}),delay:0,isLightTheme:s}),y.jsx(Of,{label:"Tiles Completed",value:a.totalTiles,icon:y.jsx(mi,{size:24,className:"text-emerald-400"}),delay:.1,isLightTheme:s}),y.jsx(Of,{label:"Bingos Won",value:"--",icon:y.jsx(wh,{size:24,className:"text-amber-400"}),delay:.2,isLightTheme:s}),y.jsx(Of,{label:"Photos Added",value:a.totalPhotos,icon:y.jsx(_h,{size:24,className:"text-pink-400"}),delay:.3,isLightTheme:s})]})]})},Of=({label:t,value:e,icon:n,delay:s,isLightTheme:a})=>y.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s},className:K("p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-colors border",a?"bg-white border-slate-200 hover:bg-slate-50 shadow-sm":"bg-white/5 border-white/10 hover:bg-white/10"),children:[y.jsx("div",{className:K("mb-3 p-3 rounded-full",a?"bg-slate-100":"bg-white/5"),children:n}),y.jsx("div",{className:K("text-3xl font-bold mb-1",a?"text-slate-800":"text-white"),children:e}),y.jsx("div",{className:K("text-sm font-medium uppercase tracking-wide",a?"text-slate-500":"text-slate-400"),children:t})]}),Vf=({children:t})=>{const{logout:e,user:n}=Fi(),{openSettings:s,settings:a,updateSettings:l}=ms(),[c,h]=_t.useState(!1),d=ia();_t.useEffect(()=>{h(!1)},[d.pathname]);const m=[{label:"Dashboard",path:"/dashboard",icon:Zb},{label:"Profile",path:"/profile",icon:Eh},{label:"Help & Guide",path:"/help",icon:vI}],g=a.theme==="light";return y.jsxs("div",{className:"min-h-screen bg-transparent flex",style:{color:"var(--theme-text-main)"},children:[c&&y.jsx("div",{className:K("fixed inset-0 z-40 lg:hidden backdrop-blur-sm",g?"bg-black/30":"bg-black/50"),onClick:()=>h(!1)}),y.jsxs("aside",{className:K("fixed inset-y-0 left-0 z-50 w-64 bg-[var(--theme-bg-subtle)] border-r border-[var(--theme-border)] transform transition-transform duration-200 lg:translate-x-0 lg:static flex flex-col",c?"translate-x-0":"-translate-x-full"),children:[y.jsx("div",{className:"h-16 flex items-center justify-center border-b border-[var(--theme-border)] shrink-0 p-2",children:y.jsx("img",{src:"/logo.png?v=restore",alt:"SunSar Bingo",className:"h-full w-auto object-contain"})}),y.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:[y.jsx("div",{className:K("text-xs font-semibold uppercase tracking-wider mb-2 px-3","text-slate-500"),children:"Menu"}),m.map(b=>y.jsxs(LA,{to:b.path,className:({isActive:x})=>K("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",x?"bg-[var(--theme-accent-primary)]/10 text-[var(--theme-accent-primary)]":g?"text-slate-600 hover:text-slate-900 hover:bg-slate-100":"text-slate-400 hover:text-slate-100 hover:bg-white/5"),children:[y.jsx(b.icon,{size:18}),b.label]},b.path)),y.jsxs("button",{onClick:s,className:K("w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",g?"text-slate-600 hover:text-slate-900 hover:bg-slate-100":"text-slate-400 hover:text-slate-100 hover:bg-white/5"),children:[y.jsx(f8,{size:18}),"Settings"]}),y.jsxs("div",{className:K("px-3 py-3 mt-2 border-t",g?"border-slate-200":"border-white/5"),children:[y.jsx("div",{className:K("text-[10px] font-bold uppercase tracking-wider mb-3","text-slate-500"),children:"Theme"}),y.jsx("div",{className:"flex justify-between gap-1",children:[{id:"light",color:"bg-slate-200 ring-1 ring-slate-400"},{id:"dawn",color:"bg-orange-400"},{id:"midnight",color:"bg-indigo-500"},{id:"cosmic",color:"bg-violet-500"},{id:"lavender",color:"bg-fuchsia-500"},{id:"forest",color:"bg-emerald-500"},{id:"ocean",color:"bg-cyan-500"},{id:"sunset",color:"bg-rose-500"}].map(b=>y.jsx("button",{onClick:()=>l({theme:b.id}),className:K("w-6 h-6 rounded-full transition-all duration-300 relative",b.color,a.theme===b.id?g?"ring-2 ring-slate-800 ring-offset-2 ring-offset-white scale-110 z-10":"ring-2 ring-white ring-offset-2 ring-offset-[var(--theme-bg-subtle)] scale-110 z-10":"opacity-40 hover:opacity-100 hover:scale-105"),title:b.id},b.id))})]})]}),y.jsxs("div",{className:K("p-4 border-t bg-[var(--theme-bg-subtle)] shrink-0",g?"border-slate-200":"border-[var(--theme-border)]"),children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[n?.photoURL?y.jsx("img",{src:n.photoURL,className:"w-8 h-8 rounded-full bg-slate-800 object-cover",alt:"User"}):y.jsx("div",{className:K("w-8 h-8 rounded-full flex items-center justify-center",g?"bg-slate-200":"bg-slate-800"),children:y.jsx(Eh,{size:14,className:g?"text-slate-600":"text-slate-400"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:K("text-sm font-medium truncate",g?"text-slate-800":"text-white"),children:n?.displayName||"User"}),y.jsx("p",{className:K("text-xs truncate","text-slate-500"),children:n?.email})]})]}),y.jsxs("button",{onClick:e,className:K("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-lg transition-colors",g?"text-slate-600 hover:text-red-600 hover:bg-red-50":"text-slate-400 hover:text-red-400 hover:bg-red-500/10"),children:[y.jsx(xI,{size:16}),"Sign Out"]})]})]}),y.jsxs("main",{className:"flex-1 min-w-0 flex flex-col h-screen overflow-hidden bg-transparent relative",children:[y.jsxs("header",{className:K("h-16 flex items-center justify-between px-4 lg:hidden border-b shrink-0",g?"border-slate-200 bg-white/80 backdrop-blur-sm":"border-[var(--theme-border)] bg-[var(--theme-bg-subtle)]"),children:[y.jsx("button",{onClick:()=>h(!0),className:K("p-2",g?"text-slate-600":"text-slate-400"),children:y.jsx(s8,{size:24})}),y.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-8 w-auto"}),y.jsx("div",{className:"w-8"})," "]}),y.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 sm:p-6 lg:p-8",children:y.jsx("div",{className:"max-w-7xl mx-auto h-full",children:t})})]})]})},kq=()=>{const{user:t,loading:e}=Fi();return e?y.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-bg-dark text-slate-500",children:"Initializing..."}):y.jsxs(y.Fragment,{children:[y.jsx(_q,{}),y.jsx(CP,{}),y.jsx("div",{className:"relative z-10 min-h-screen",children:y.jsx(vP,{children:y.jsxs(YM,{children:[y.jsx(Br,{path:"/login",element:t?y.jsx(Vo,{to:"/dashboard",replace:!0}):y.jsx(bF,{})}),y.jsx(Br,{path:"/help",element:y.jsx(Aq,{})}),y.jsx(Br,{path:"/dashboard",element:t?y.jsx(Vf,{children:y.jsx(wq,{})}):y.jsx(Vo,{to:"/login",replace:!0})}),y.jsx(Br,{path:"/profile",element:t?y.jsx(Vf,{children:y.jsx(Iq,{})}):y.jsx(Vo,{to:"/login",replace:!0})}),y.jsx(Br,{path:"/board/legacy/:yearId",element:t?y.jsx(Vf,{children:y.jsx(vA,{})}):y.jsx(Vo,{to:"/login",replace:!0})}),y.jsx(Br,{path:"/board/:boardId",element:t?y.jsx(Vf,{children:y.jsx(vA,{})}):y.jsx(Vo,{to:"/login",replace:!0})}),y.jsx(Br,{path:"/",element:y.jsx(Vo,{to:t?"/dashboard":"/login",replace:!0})}),y.jsx(Br,{path:"*",element:y.jsx(Vo,{to:t?"/dashboard":"/login",replace:!0})})]})})})]})};function Dq(){return y.jsx(FL,{children:y.jsx(vF,{children:y.jsx(C8,{children:y.jsx(kq,{})})})})}console.log("Main.tsx full run");const bA=document.getElementById("root");bA?XD.createRoot(bA).render(y.jsx(S.StrictMode,{children:y.jsx(Dq,{})})):console.error("Root not found");export{Xa as C,dr as F,$m as _,nn as a,HA as b,Zo as c,di as d,dp as e,Sv as g,sl as i,wv as p,nr as r,_v as u};
