(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function VD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var py={exports:{}},Cu={};var I1;function LD(){if(I1)return Cu;I1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Cu.Fragment=e,Cu.jsx=n,Cu.jsxs=n,Cu}var k1;function UD(){return k1||(k1=1,py.exports=LD()),py.exports}var y=UD(),gy={exports:{}},Be={};var D1;function zD(){if(D1)return Be;D1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function A(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,R={};function O(T,U,W){this.props=T,this.context=U,this.refs=R,this.updater=W||k}O.prototype.isReactComponent={},O.prototype.setState=function(T,U){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,U,"setState")},O.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function H(){}H.prototype=O.prototype;function F(T,U,W){this.props=T,this.context=U,this.refs=R,this.updater=W||k}var re=F.prototype=new H;re.constructor=F,I(re,O.prototype),re.isPureReactComponent=!0;var te=Array.isArray;function ce(){}var D={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function j(T,U,W){var ie=W.ref;return{$$typeof:t,type:T,key:U,ref:ie!==void 0?ie:null,props:W}}function z(T,U){return j(T.type,U,T.props)}function B(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function P(T){var U={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(W){return U[W]})}var V=/\/+/g;function be(T,U){return typeof T=="object"&&T!==null&&T.key!=null?P(""+T.key):U.toString(36)}function Te(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(ce,ce):(T.status="pending",T.then(function(U){T.status==="pending"&&(T.status="fulfilled",T.value=U)},function(U){T.status==="pending"&&(T.status="rejected",T.reason=U)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function J(T,U,W,ie,ye){var ge=typeof T;(ge==="undefined"||ge==="boolean")&&(T=null);var me=!1;if(T===null)me=!0;else switch(ge){case"bigint":case"string":case"number":me=!0;break;case"object":switch(T.$$typeof){case t:case e:me=!0;break;case g:return me=T._init,J(me(T._payload),U,W,ie,ye)}}if(me)return ye=ye(T),me=ie===""?"."+be(T,0):ie,te(ye)?(W="",me!=null&&(W=me.replace(V,"$&/")+"/"),J(ye,U,W,"",function(Ce){return Ce})):ye!=null&&(B(ye)&&(ye=z(ye,W+(ye.key==null||T&&T.key===ye.key?"":(""+ye.key).replace(V,"$&/")+"/")+me)),U.push(ye)),1;me=0;var we=ie===""?".":ie+":";if(te(T))for(var Ee=0;Ee<T.length;Ee++)ie=T[Ee],ge=we+be(ie,Ee),me+=J(ie,U,W,ge,ye);else if(Ee=A(T),typeof Ee=="function")for(T=Ee.call(T),Ee=0;!(ie=T.next()).done;)ie=ie.value,ge=we+be(ie,Ee++),me+=J(ie,U,W,ge,ye);else if(ge==="object"){if(typeof T.then=="function")return J(Te(T),U,W,ie,ye);throw U=String(T),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return me}function Y(T,U,W){if(T==null)return T;var ie=[],ye=0;return J(T,ie,"","",function(ge){return U.call(W,ge,ye++)}),ie}function K(T){if(T._status===-1){var U=T._result;U=U(),U.then(function(W){(T._status===0||T._status===-1)&&(T._status=1,T._result=W)},function(W){(T._status===0||T._status===-1)&&(T._status=2,T._result=W)}),T._status===-1&&(T._status=0,T._result=U)}if(T._status===1)return T._result.default;throw T._result}var X=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},L={map:Y,forEach:function(T,U,W){Y(T,function(){U.apply(this,arguments)},W)},count:function(T){var U=0;return Y(T,function(){U++}),U},toArray:function(T){return Y(T,function(U){return U})||[]},only:function(T){if(!B(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return Be.Activity=b,Be.Children=L,Be.Component=O,Be.Fragment=n,Be.Profiler=a,Be.PureComponent=F,Be.StrictMode=s,Be.Suspense=d,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Be.__COMPILER_RUNTIME={__proto__:null,c:function(T){return D.H.useMemoCache(T)}},Be.cache=function(T){return function(){return T.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(T,U,W){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ie=I({},T.props),ye=T.key;if(U!=null)for(ge in U.key!==void 0&&(ye=""+U.key),U)!C.call(U,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&U.ref===void 0||(ie[ge]=U[ge]);var ge=arguments.length-2;if(ge===1)ie.children=W;else if(1<ge){for(var me=Array(ge),we=0;we<ge;we++)me[we]=arguments[we+2];ie.children=me}return j(T.type,ye,ie)},Be.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:l,_context:T},T},Be.createElement=function(T,U,W){var ie,ye={},ge=null;if(U!=null)for(ie in U.key!==void 0&&(ge=""+U.key),U)C.call(U,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ye[ie]=U[ie]);var me=arguments.length-2;if(me===1)ye.children=W;else if(1<me){for(var we=Array(me),Ee=0;Ee<me;Ee++)we[Ee]=arguments[Ee+2];ye.children=we}if(T&&T.defaultProps)for(ie in me=T.defaultProps,me)ye[ie]===void 0&&(ye[ie]=me[ie]);return j(T,ge,ye)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(T){return{$$typeof:h,render:T}},Be.isValidElement=B,Be.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:K}},Be.memo=function(T,U){return{$$typeof:m,type:T,compare:U===void 0?null:U}},Be.startTransition=function(T){var U=D.T,W={};D.T=W;try{var ie=T(),ye=D.S;ye!==null&&ye(W,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ce,X)}catch(ge){X(ge)}finally{U!==null&&W.types!==null&&(U.types=W.types),D.T=U}},Be.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Be.use=function(T){return D.H.use(T)},Be.useActionState=function(T,U,W){return D.H.useActionState(T,U,W)},Be.useCallback=function(T,U){return D.H.useCallback(T,U)},Be.useContext=function(T){return D.H.useContext(T)},Be.useDebugValue=function(){},Be.useDeferredValue=function(T,U){return D.H.useDeferredValue(T,U)},Be.useEffect=function(T,U){return D.H.useEffect(T,U)},Be.useEffectEvent=function(T){return D.H.useEffectEvent(T)},Be.useId=function(){return D.H.useId()},Be.useImperativeHandle=function(T,U,W){return D.H.useImperativeHandle(T,U,W)},Be.useInsertionEffect=function(T,U){return D.H.useInsertionEffect(T,U)},Be.useLayoutEffect=function(T,U){return D.H.useLayoutEffect(T,U)},Be.useMemo=function(T,U){return D.H.useMemo(T,U)},Be.useOptimistic=function(T,U){return D.H.useOptimistic(T,U)},Be.useReducer=function(T,U,W){return D.H.useReducer(T,U,W)},Be.useRef=function(T){return D.H.useRef(T)},Be.useState=function(T){return D.H.useState(T)},Be.useSyncExternalStore=function(T,U,W){return D.H.useSyncExternalStore(T,U,W)},Be.useTransition=function(){return D.H.useTransition()},Be.version="19.2.3",Be}var M1;function hv(){return M1||(M1=1,gy.exports=zD()),gy.exports}var S=hv();const At=VD(S);var yy={exports:{}},Ru={},vy={exports:{}},by={};var P1;function BD(){return P1||(P1=1,(function(t){function e(J,Y){var K=J.length;J.push(Y);e:for(;0<K;){var X=K-1>>>1,L=J[X];if(0<a(L,Y))J[X]=Y,J[K]=L,K=X;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var Y=J[0],K=J.pop();if(K!==Y){J[0]=K;e:for(var X=0,L=J.length,T=L>>>1;X<T;){var U=2*(X+1)-1,W=J[U],ie=U+1,ye=J[ie];if(0>a(W,K))ie<L&&0>a(ye,W)?(J[X]=ye,J[ie]=K,X=ie):(J[X]=W,J[U]=K,X=U);else if(ie<L&&0>a(ye,K))J[X]=ye,J[ie]=K,X=ie;else break e}}return Y}function a(J,Y){var K=J.sortIndex-Y.sortIndex;return K!==0?K:J.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],m=[],g=1,b=null,x=3,A=!1,k=!1,I=!1,R=!1,O=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function re(J){for(var Y=n(m);Y!==null;){if(Y.callback===null)s(m);else if(Y.startTime<=J)s(m),Y.sortIndex=Y.expirationTime,e(d,Y);else break;Y=n(m)}}function te(J){if(I=!1,re(J),!k)if(n(d)!==null)k=!0,ce||(ce=!0,P());else{var Y=n(m);Y!==null&&Te(te,Y.startTime-J)}}var ce=!1,D=-1,C=5,j=-1;function z(){return R?!0:!(t.unstable_now()-j<C)}function B(){if(R=!1,ce){var J=t.unstable_now();j=J;var Y=!0;try{e:{k=!1,I&&(I=!1,H(D),D=-1),A=!0;var K=x;try{t:{for(re(J),b=n(d);b!==null&&!(b.expirationTime>J&&z());){var X=b.callback;if(typeof X=="function"){b.callback=null,x=b.priorityLevel;var L=X(b.expirationTime<=J);if(J=t.unstable_now(),typeof L=="function"){b.callback=L,re(J),Y=!0;break t}b===n(d)&&s(d),re(J)}else s(d);b=n(d)}if(b!==null)Y=!0;else{var T=n(m);T!==null&&Te(te,T.startTime-J),Y=!1}}break e}finally{b=null,x=K,A=!1}Y=void 0}}finally{Y?P():ce=!1}}}var P;if(typeof F=="function")P=function(){F(B)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,be=V.port2;V.port1.onmessage=B,P=function(){be.postMessage(null)}}else P=function(){O(B,0)};function Te(J,Y){D=O(function(){J(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(J){switch(x){case 1:case 2:case 3:var Y=3;break;default:Y=x}var K=x;x=Y;try{return J()}finally{x=K}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(J,Y){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var K=x;x=J;try{return Y()}finally{x=K}},t.unstable_scheduleCallback=function(J,Y,K){var X=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?X+K:X):K=X,J){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=K+L,J={id:g++,callback:Y,priorityLevel:J,startTime:K,expirationTime:L,sortIndex:-1},K>X?(J.sortIndex=K,e(m,J),n(d)===null&&J===n(m)&&(I?(H(D),D=-1):I=!0,Te(te,K-X))):(J.sortIndex=L,e(d,J),k||A||(k=!0,ce||(ce=!0,P()))),J},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(J){var Y=x;return function(){var K=x;x=Y;try{return J.apply(this,arguments)}finally{x=K}}}})(by)),by}var j1;function FD(){return j1||(j1=1,vy.exports=BD()),vy.exports}var xy={exports:{}},rs={};var O1;function qD(){if(O1)return rs;O1=1;var t=hv();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,m,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:d,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return rs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rs.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,g)},rs.flushSync=function(d){var m=c.T,g=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=m,s.p=g,s.d.f()}},rs.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(d,m))},rs.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},rs.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,b=h(g,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?s.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:A}):g==="script"&&s.d.X(d,{crossOrigin:b,integrity:x,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},rs.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);s.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(d)},rs.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,b=h(g,m.crossOrigin);s.d.L(d,g,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},rs.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=h(m.as,m.crossOrigin);s.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(d)},rs.requestFormReset=function(d){s.d.r(d)},rs.unstable_batchedUpdates=function(d,m){return d(m)},rs.useFormState=function(d,m,g){return c.H.useFormState(d,m,g)},rs.useFormStatus=function(){return c.H.useHostTransitionStatus()},rs.version="19.2.3",rs}var V1;function vA(){if(V1)return xy.exports;V1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xy.exports=qD(),xy.exports}var L1;function HD(){if(L1)return Ru;L1=1;var t=FD(),e=hv(),n=vA();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var p=o.return;if(p===null)break;var v=p.alternate;if(v===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===o)return d(p),i;if(v===u)return d(p),r;v=v.sibling}throw Error(s(188))}if(o.return!==u.return)o=p,u=v;else{for(var _=!1,N=p.child;N;){if(N===o){_=!0,o=p,u=v;break}if(N===u){_=!0,u=p,o=v;break}N=N.sibling}if(!_){for(N=v.child;N;){if(N===o){_=!0,o=v,u=p;break}if(N===u){_=!0,u=v,o=p;break}N=N.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),F=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function P(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function be(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case O:return"Profiler";case R:return"StrictMode";case te:return"Suspense";case ce:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case k:return"Portal";case F:return i.displayName||"Context";case H:return(i._context.displayName||"Context")+".Consumer";case re:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return r=i.displayName||null,r!==null?r:be(i.type)||"Memo";case C:r=i._payload,i=i._init;try{return be(i(r))}catch{}}return null}var Te=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},X=[],L=-1;function T(i){return{current:i}}function U(i){0>L||(i.current=X[L],X[L]=null,L--)}function W(i,r){L++,X[L]=i.current,i.current=r}var ie=T(null),ye=T(null),ge=T(null),me=T(null);function we(i,r){switch(W(ge,r),W(ye,i),W(ie,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Z_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Z_(r),i=e1(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}U(ie),W(ie,i)}function Ee(){U(ie),U(ye),U(ge)}function Ce(i){i.memoizedState!==null&&W(me,i);var r=ie.current,o=e1(r,i.type);r!==o&&(W(ye,i),W(ie,o))}function ze(i){ye.current===i&&(U(ie),U(ye)),me.current===i&&(U(me),Tu._currentValue=K)}var Ve,ht;function De(i){if(Ve===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ve=r&&r[1]||"",ht=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+i+ht}var pt=!1;function _t(i,r){if(!i||pt)return"";pt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(le){var ae=le}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(le){ae=le}i.call(fe.prototype)}}else{try{throw Error()}catch(le){ae=le}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(le){if(le&&ae&&typeof le.stack=="string")return[le.stack,ae.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),_=v[0],N=v[1];if(_&&N){var q=_.split(`
`),se=N.split(`
`);for(p=u=0;u<q.length&&!q[u].includes("DetermineComponentFrameRoot");)u++;for(;p<se.length&&!se[p].includes("DetermineComponentFrameRoot");)p++;if(u===q.length||p===se.length)for(u=q.length-1,p=se.length-1;1<=u&&0<=p&&q[u]!==se[p];)p--;for(;1<=u&&0<=p;u--,p--)if(q[u]!==se[p]){if(u!==1||p!==1)do if(u--,p--,0>p||q[u]!==se[p]){var ue=`
`+q[u].replace(" at new "," at ");return i.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",i.displayName)),ue}while(1<=u&&0<=p);break}}}finally{pt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?De(o):""}function nn(i,r){switch(i.tag){case 26:case 27:case 5:return De(i.type);case 16:return De("Lazy");case 13:return i.child!==r&&r!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return _t(i.type,!1);case 11:return _t(i.type.render,!1);case 1:return _t(i.type,!0);case 31:return De("Activity");default:return""}}function Qt(i){try{var r="",o=null;do r+=nn(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Je=Object.prototype.hasOwnProperty,Ke=t.unstable_scheduleCallback,Ln=t.unstable_cancelCallback,zs=t.unstable_shouldYield,As=t.unstable_requestPaint,Gt=t.unstable_now,ms=t.unstable_getCurrentPriorityLevel,Cs=t.unstable_ImmediatePriority,jt=t.unstable_UserBlockingPriority,Jt=t.unstable_NormalPriority,ps=t.unstable_LowPriority,Bs=t.unstable_IdlePriority,dn=t.log,Fs=t.unstable_setDisableYieldValue,$t=null,sn=null;function xn(i){if(typeof dn=="function"&&Fs(i),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode($t,i)}catch{}}var Dt=Math.clz32?Math.clz32:ns,ea=Math.log,si=Math.LN2;function ns(i){return i>>>=0,i===0?32:31-(ea(i)/si|0)|0}var Rs=256,qs=262144,Xe=4194304;function Ot(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Tt(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var p=0,v=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var N=u&134217727;return N!==0?(u=N&~v,u!==0?p=Ot(u):(_&=N,_!==0?p=Ot(_):o||(o=N&~i,o!==0&&(p=Ot(o))))):(N=u&~v,N!==0?p=Ot(N):_!==0?p=Ot(_):o||(o=u&~i,o!==0&&(p=Ot(o)))),p===0?0:r!==0&&r!==p&&(r&v)===0&&(v=p&-p,o=r&-r,v>=o||v===32&&(o&4194048)!==0)?r:p}function rn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function fn(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gt(){var i=Xe;return Xe<<=1,(Xe&62914560)===0&&(Xe=4194304),i}function Vt(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ss(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function zt(i,r,o,u,p,v){var _=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var N=i.entanglements,q=i.expirationTimes,se=i.hiddenUpdates;for(o=_&~o;0<o;){var ue=31-Dt(o),fe=1<<ue;N[ue]=0,q[ue]=-1;var ae=se[ue];if(ae!==null)for(se[ue]=null,ue=0;ue<ae.length;ue++){var le=ae[ue];le!==null&&(le.lane&=-536870913)}o&=~fe}u!==0&&an(i,u,0),v!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=v&~(_&~r))}function an(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Dt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Un(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Dt(o),p=1<<u;p&r|i[u]&r&&(i[u]|=r),o&=~p}}function Kn(i,r){var o=r&-r;return o=(o&42)!==0?1:gs(o),(o&(i.suspendedLanes|r))!==0?0:o}function gs(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Yn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ys(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:T1(i.type))}function Kt(i,r){var o=Y.p;try{return Y.p=i,r()}finally{Y.p=o}}var Bt=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Bt,Lt="__reactProps$"+Bt,Hs="__reactContainer$"+Bt,Gi="__reactEvents$"+Bt,Oc="__reactListeners$"+Bt,yr="__reactHandles$"+Bt,wn="__reactResources$"+Bt,vs="__reactMarker$"+Bt;function is(i){delete i[Mt],delete i[Lt],delete i[Gi],delete i[Oc],delete i[yr]}function Ns(i){var r=i[Mt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Hs]||o[Mt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=o1(i);i!==null;){if(o=i[Mt])return o;i=o1(i)}return r}i=o,o=i.parentNode}return null}function zn(i){if(i=i[Mt]||i[Hs]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Bn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Gs(i){var r=i[wn];return r||(r=i[wn]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function on(i){i[vs]=!0}var ta=new Set,lo={};function $s(i,r){Is(i,r),Is(i+"Capture",r)}function Is(i,r){for(lo[i]=r,i=0;i<r.length;i++)ta.add(r[i])}var na=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),co={},uo={};function ho(i){return Je.call(uo,i)?!0:Je.call(co,i)?!1:na.test(i)?uo[i]=!0:(co[i]=!0,!1)}function sa(i,r,o){if(ho(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function bs(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Ze(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function In(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ei(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ia(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,v=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return p.call(this)},set:function(_){o=""+_,v.call(this,_)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function yt(i){if(!i._valueTracker){var r=Ei(i)?"checked":"value";i._valueTracker=ia(i,r,""+i[r])}}function Z(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Ei(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function xe(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var vt=/[\n"\\]/g;function ot(i){return i.replace(vt,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ct(i,r,o,u,p,v,_,N){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+In(r)):i.value!==""+In(r)&&(i.value=""+In(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?kn(i,_,In(r)):o!=null?kn(i,_,In(o)):u!=null&&i.removeAttribute("value"),p==null&&v!=null&&(i.defaultChecked=!!v),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.name=""+In(N):i.removeAttribute("name")}function mn(i,r,o,u,p,v,_,N){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),r!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||r!=null)){yt(i);return}o=o!=null?""+In(o):"",r=r!=null?""+In(r):o,N||r===i.value||(i.value=r),i.defaultValue=r}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=N?i.checked:!!u,i.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),yt(i)}function kn(i,r,o){r==="number"&&xe(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Dn(i,r,o,u){if(i=i.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=r.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&u&&(i[o].defaultSelected=!0)}else{for(o=""+In(o),r=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}r!==null||i[p].disabled||(r=i[p])}r!==null&&(r.selected=!0)}}function Zh(i,r,o){if(r!=null&&(r=""+In(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+In(o):""}function ra(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(Te(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=In(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),yt(i)}function ks(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var ed=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vc(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||ed.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Lc(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in r)u=r[p],r.hasOwnProperty(p)&&o[p]!==u&&Vc(i,p,u)}else for(var v in r)r.hasOwnProperty(v)&&Vc(i,v,r[v])}function ol(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var td=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ll(i){return aa.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Si(){}var Uc=null;function ii(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var oa=null,$i=null;function fo(i){var r=zn(i);if(r&&(i=r.stateNode)){var o=i[Lt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Ct(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ot(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var p=u[Lt]||null;if(!p)throw Error(s(90));Ct(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Z(u)}break e;case"textarea":Zh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Dn(i,!!o.multiple,r,!1)}}}var cl=!1;function la(i,r,o){if(cl)return i(r,o);cl=!0;try{var u=i(r);return u}finally{if(cl=!1,(oa!==null||$i!==null)&&(Yd(),oa&&(r=oa,i=$i,$i=oa=null,fo(r),i)))for(r=0;r<i.length;r++)fo(i[r])}}function Ai(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Lt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mo=!1;if(ri)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){mo=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{mo=!1}var Ki=null,zc=null,po=null;function Bc(){if(po)return po;var i,r=zc,o=r.length,u,p="value"in Ki?Ki.value:Ki.textContent,v=p.length;for(i=0;i<o&&r[i]===p[i];i++);var _=o-i;for(u=1;u<=_&&r[o-u]===p[v-u];u++);return po=p.slice(i,1<u?1-u:void 0)}function go(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function vr(){return!0}function Ci(){return!1}function Xn(i){function r(o,u,p,v,_){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=v,this.target=_,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(o=i[N],this[N]=o?o(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?vr:Ci,this.isPropagationStopped=Ci,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),r}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yi=Xn(br),ca=b({},br,{view:0,detail:0}),Fc=Xn(ca),ua,ul,Xi,hl=b({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Xi&&(Xi&&i.type==="mousemove"?(ua=i.screenX-Xi.screenX,ul=i.screenY-Xi.screenY):ul=ua=0,Xi=i),ua)},movementY:function(i){return"movementY"in i?i.movementY:ul}}),qc=Xn(hl),yo=b({},hl,{dataTransfer:0}),nd=Xn(yo),sd=b({},ca,{relatedTarget:0}),vo=Xn(sd),Hc=b({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),id=Xn(Hc),dl=b({},br,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),rd=Xn(dl),ad=b({},br,{data:0}),Wi=Xn(ad),od={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ld={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ud(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=cd[i])?!!r[i]:!1}function ha(){return ud}var xs=b({},ca,{key:function(i){if(i.key){var r=od[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=go(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ld[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(i){return i.type==="keypress"?go(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?go(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),hd=Xn(xs),dd=b({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xr=Xn(dd),f=b({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),w=Xn(f),E=b({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),M=Xn(E),ee=b({},hl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),oe=Xn(ee),ve=b({},br,{newState:0,oldState:0}),Ge=Xn(ve),pn=[9,13,27,32],bt=ri&&"CompositionEvent"in window,Yt=null;ri&&"documentMode"in document&&(Yt=document.documentMode);var ai=ri&&"TextEvent"in window&&!Yt,Qi=ri&&(!bt||Yt&&8<Yt&&11>=Yt),Ri=" ",Ni=!1;function bo(i,r){switch(i){case"keyup":return pn.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ml=!1;function ok(i,r){switch(i){case"compositionend":return fl(r);case"keypress":return r.which!==32?null:(Ni=!0,Ri);case"textInput":return i=r.data,i===Ri&&Ni?null:i;default:return null}}function lk(i,r){if(ml)return i==="compositionend"||!bt&&bo(i,r)?(i=Bc(),po=zc=Ki=null,ml=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Qi&&r.locale!=="ko"?null:r.data;default:return null}}var ck={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ux(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!ck[i.type]:r==="textarea"}function hx(i,r,o,u){oa?$i?$i.push(u):$i=[u]:oa=u,r=tf(r,"onChange"),0<r.length&&(o=new Yi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Gc=null,$c=null;function uk(i){K_(i,0)}function fd(i){var r=Bn(i);if(Z(r))return i}function dx(i,r){if(i==="change")return r}var fx=!1;if(ri){var _p;if(ri){var Tp="oninput"in document;if(!Tp){var mx=document.createElement("div");mx.setAttribute("oninput","return;"),Tp=typeof mx.oninput=="function"}_p=Tp}else _p=!1;fx=_p&&(!document.documentMode||9<document.documentMode)}function px(){Gc&&(Gc.detachEvent("onpropertychange",gx),$c=Gc=null)}function gx(i){if(i.propertyName==="value"&&fd($c)){var r=[];hx(r,$c,i,ii(i)),la(uk,r)}}function hk(i,r,o){i==="focusin"?(px(),Gc=r,$c=o,Gc.attachEvent("onpropertychange",gx)):i==="focusout"&&px()}function dk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return fd($c)}function fk(i,r){if(i==="click")return fd(r)}function mk(i,r){if(i==="input"||i==="change")return fd(r)}function pk(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Ks=typeof Object.is=="function"?Object.is:pk;function Kc(i,r){if(Ks(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!Je.call(r,p)||!Ks(i[p],r[p]))return!1}return!0}function yx(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function vx(i,r){var o=yx(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=yx(o)}}function bx(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?bx(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function xx(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=xe(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=xe(i.document)}return r}function Ep(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var gk=ri&&"documentMode"in document&&11>=document.documentMode,pl=null,Sp=null,Yc=null,Ap=!1;function wx(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ap||pl==null||pl!==xe(u)||(u=pl,"selectionStart"in u&&Ep(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Yc&&Kc(Yc,u)||(Yc=u,u=tf(Sp,"onSelect"),0<u.length&&(r=new Yi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=pl)))}function xo(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var gl={animationend:xo("Animation","AnimationEnd"),animationiteration:xo("Animation","AnimationIteration"),animationstart:xo("Animation","AnimationStart"),transitionrun:xo("Transition","TransitionRun"),transitionstart:xo("Transition","TransitionStart"),transitioncancel:xo("Transition","TransitionCancel"),transitionend:xo("Transition","TransitionEnd")},Cp={},_x={};ri&&(_x=document.createElement("div").style,"AnimationEvent"in window||(delete gl.animationend.animation,delete gl.animationiteration.animation,delete gl.animationstart.animation),"TransitionEvent"in window||delete gl.transitionend.transition);function wo(i){if(Cp[i])return Cp[i];if(!gl[i])return i;var r=gl[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in _x)return Cp[i]=r[o];return i}var Tx=wo("animationend"),Ex=wo("animationiteration"),Sx=wo("animationstart"),yk=wo("transitionrun"),vk=wo("transitionstart"),bk=wo("transitioncancel"),Ax=wo("transitionend"),Cx=new Map,Rp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rp.push("scrollEnd");function Ii(i,r){Cx.set(i,r),$s(r,[i])}var md=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},oi=[],yl=0,Np=0;function pd(){for(var i=yl,r=Np=yl=0;r<i;){var o=oi[r];oi[r++]=null;var u=oi[r];oi[r++]=null;var p=oi[r];oi[r++]=null;var v=oi[r];if(oi[r++]=null,u!==null&&p!==null){var _=u.pending;_===null?p.next=p:(p.next=_.next,_.next=p),u.pending=p}v!==0&&Rx(o,p,v)}}function gd(i,r,o,u){oi[yl++]=i,oi[yl++]=r,oi[yl++]=o,oi[yl++]=u,Np|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Ip(i,r,o,u){return gd(i,r,o,u),yd(i)}function _o(i,r){return gd(i,null,null,r),yd(i)}function Rx(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var p=!1,v=i.return;v!==null;)v.childLanes|=o,u=v.alternate,u!==null&&(u.childLanes|=o),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(p=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,p&&r!==null&&(p=31-Dt(o),i=v.hiddenUpdates,u=i[p],u===null?i[p]=[r]:u.push(r),r.lane=o|536870912),v):null}function yd(i){if(50<gu)throw gu=0,Ug=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var vl={};function xk(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ys(i,r,o,u){return new xk(i,r,o,u)}function kp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function wr(i,r){var o=i.alternate;return o===null?(o=Ys(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Nx(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function vd(i,r,o,u,p,v){var _=0;if(u=i,typeof i=="function")kp(i)&&(_=1);else if(typeof i=="string")_=SD(i,o,ie.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case j:return i=Ys(31,o,r,p),i.elementType=j,i.lanes=v,i;case I:return To(o.children,p,v,r);case R:_=8,p|=24;break;case O:return i=Ys(12,o,r,p|2),i.elementType=O,i.lanes=v,i;case te:return i=Ys(13,o,r,p),i.elementType=te,i.lanes=v,i;case ce:return i=Ys(19,o,r,p),i.elementType=ce,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:_=10;break e;case H:_=9;break e;case re:_=11;break e;case D:_=14;break e;case C:_=16,u=null;break e}_=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Ys(_,o,r,p),r.elementType=i,r.type=u,r.lanes=v,r}function To(i,r,o,u){return i=Ys(7,i,u,r),i.lanes=o,i}function Dp(i,r,o){return i=Ys(6,i,null,r),i.lanes=o,i}function Ix(i){var r=Ys(18,null,null,0);return r.stateNode=i,r}function Mp(i,r,o){return r=Ys(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var kx=new WeakMap;function li(i,r){if(typeof i=="object"&&i!==null){var o=kx.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Qt(r)},kx.set(i,r),r)}return{value:i,source:r,stack:Qt(r)}}var bl=[],xl=0,bd=null,Xc=0,ci=[],ui=0,da=null,Ji=1,Zi="";function _r(i,r){bl[xl++]=Xc,bl[xl++]=bd,bd=i,Xc=r}function Dx(i,r,o){ci[ui++]=Ji,ci[ui++]=Zi,ci[ui++]=da,da=i;var u=Ji;i=Zi;var p=32-Dt(u)-1;u&=~(1<<p),o+=1;var v=32-Dt(r)+p;if(30<v){var _=p-p%5;v=(u&(1<<_)-1).toString(32),u>>=_,p-=_,Ji=1<<32-Dt(r)+p|o<<p|u,Zi=v+i}else Ji=1<<v|o<<p|u,Zi=i}function Pp(i){i.return!==null&&(_r(i,1),Dx(i,1,0))}function jp(i){for(;i===bd;)bd=bl[--xl],bl[xl]=null,Xc=bl[--xl],bl[xl]=null;for(;i===da;)da=ci[--ui],ci[ui]=null,Zi=ci[--ui],ci[ui]=null,Ji=ci[--ui],ci[ui]=null}function Mx(i,r){ci[ui++]=Ji,ci[ui++]=Zi,ci[ui++]=da,Ji=r.id,Zi=r.overflow,da=i}var Wn=null,Ft=null,lt=!1,fa=null,hi=!1,Op=Error(s(519));function ma(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wc(li(r,i)),Op}function Px(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Mt]=i,r[Lt]=u,o){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(o=0;o<vu.length;o++)tt(vu[o],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":tt("invalid",r),mn(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":tt("invalid",r);break;case"textarea":tt("invalid",r),ra(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Q_(r.textContent,o)?(u.popover!=null&&(tt("beforetoggle",r),tt("toggle",r)),u.onScroll!=null&&tt("scroll",r),u.onScrollEnd!=null&&tt("scrollend",r),u.onClick!=null&&(r.onclick=Si),r=!0):r=!1,r||ma(i,!0)}function jx(i){for(Wn=i.return;Wn;)switch(Wn.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:Wn=Wn.return}}function wl(i){if(i!==Wn)return!1;if(!lt)return jx(i),lt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||ey(i.type,i.memoizedProps)),o=!o),o&&Ft&&ma(i),jx(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Ft=a1(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Ft=a1(i)}else r===27?(r=Ft,Ra(i.type)?(i=ry,ry=null,Ft=i):Ft=r):Ft=Wn?fi(i.stateNode.nextSibling):null;return!0}function Eo(){Ft=Wn=null,lt=!1}function Vp(){var i=fa;return i!==null&&(js===null?js=i:js.push.apply(js,i),fa=null),i}function Wc(i){fa===null?fa=[i]:fa.push(i)}var Lp=T(null),So=null,Tr=null;function pa(i,r,o){W(Lp,r._currentValue),r._currentValue=o}function Er(i){i._currentValue=Lp.current,U(Lp)}function Up(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function zp(i,r,o,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var v=p.dependencies;if(v!==null){var _=p.child;v=v.firstContext;e:for(;v!==null;){var N=v;v=p;for(var q=0;q<r.length;q++)if(N.context===r[q]){v.lanes|=o,N=v.alternate,N!==null&&(N.lanes|=o),Up(v.return,o,i),u||(_=null);break e}v=N.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(s(341));_.lanes|=o,v=_.alternate,v!==null&&(v.lanes|=o),Up(_,o,i),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===i){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function _l(i,r,o,u){i=null;for(var p=r,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var N=p.type;Ks(p.pendingProps.value,_.value)||(i!==null?i.push(N):i=[N])}}else if(p===me.current){if(_=p.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Tu):i=[Tu])}p=p.return}i!==null&&zp(r,i,o,u),r.flags|=262144}function xd(i){for(i=i.firstContext;i!==null;){if(!Ks(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ao(i){So=i,Tr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qn(i){return Ox(So,i)}function wd(i,r){return So===null&&Ao(i),Ox(i,r)}function Ox(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Tr===null){if(i===null)throw Error(s(308));Tr=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Tr=Tr.next=r;return o}var wk=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},_k=t.unstable_scheduleCallback,Tk=t.unstable_NormalPriority,_n={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bp(){return{controller:new wk,data:new Map,refCount:0}}function Qc(i){i.refCount--,i.refCount===0&&_k(Tk,function(){i.controller.abort()})}var Jc=null,Fp=0,Tl=0,El=null;function Ek(i,r){if(Jc===null){var o=Jc=[];Fp=0,Tl=Gg(),El={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Fp++,r.then(Vx,Vx),r}function Vx(){if(--Fp===0&&Jc!==null){El!==null&&(El.status="fulfilled");var i=Jc;Jc=null,Tl=0,El=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function Sk(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var Lx=J.S;J.S=function(i,r){w_=Gt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Ek(i,r),Lx!==null&&Lx(i,r)};var Co=T(null);function qp(){var i=Co.current;return i!==null?i:Pt.pooledCache}function _d(i,r){r===null?W(Co,Co.current):W(Co,r.pool)}function Ux(){var i=qp();return i===null?null:{parent:_n._currentValue,pool:i}}var Sl=Error(s(460)),Hp=Error(s(474)),Td=Error(s(542)),Ed={then:function(){}};function zx(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Bx(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Si,Si),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,qx(i),i;default:if(typeof r.status=="string")r.then(Si,Si);else{if(i=Pt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=u}},function(u){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,qx(i),i}throw No=r,Sl}}function Ro(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(No=o,Sl):o}}var No=null;function Fx(){if(No===null)throw Error(s(459));var i=No;return No=null,i}function qx(i){if(i===Sl||i===Td)throw Error(s(483))}var Al=null,Zc=0;function Sd(i){var r=Zc;return Zc+=1,Al===null&&(Al=[]),Bx(Al,i,r)}function eu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ad(i,r){throw r.$$typeof===x?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Hx(i){function r(Q,G){if(i){var ne=Q.deletions;ne===null?(Q.deletions=[G],Q.flags|=16):ne.push(G)}}function o(Q,G){if(!i)return null;for(;G!==null;)r(Q,G),G=G.sibling;return null}function u(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function p(Q,G){return Q=wr(Q,G),Q.index=0,Q.sibling=null,Q}function v(Q,G,ne){return Q.index=ne,i?(ne=Q.alternate,ne!==null?(ne=ne.index,ne<G?(Q.flags|=67108866,G):ne):(Q.flags|=67108866,G)):(Q.flags|=1048576,G)}function _(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function N(Q,G,ne,he){return G===null||G.tag!==6?(G=Dp(ne,Q.mode,he),G.return=Q,G):(G=p(G,ne),G.return=Q,G)}function q(Q,G,ne,he){var Pe=ne.type;return Pe===I?ue(Q,G,ne.props.children,he,ne.key):G!==null&&(G.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===C&&Ro(Pe)===G.type)?(G=p(G,ne.props),eu(G,ne),G.return=Q,G):(G=vd(ne.type,ne.key,ne.props,null,Q.mode,he),eu(G,ne),G.return=Q,G)}function se(Q,G,ne,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==ne.containerInfo||G.stateNode.implementation!==ne.implementation?(G=Mp(ne,Q.mode,he),G.return=Q,G):(G=p(G,ne.children||[]),G.return=Q,G)}function ue(Q,G,ne,he,Pe){return G===null||G.tag!==7?(G=To(ne,Q.mode,he,Pe),G.return=Q,G):(G=p(G,ne),G.return=Q,G)}function fe(Q,G,ne){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Dp(""+G,Q.mode,ne),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return ne=vd(G.type,G.key,G.props,null,Q.mode,ne),eu(ne,G),ne.return=Q,ne;case k:return G=Mp(G,Q.mode,ne),G.return=Q,G;case C:return G=Ro(G),fe(Q,G,ne)}if(Te(G)||P(G))return G=To(G,Q.mode,ne,null),G.return=Q,G;if(typeof G.then=="function")return fe(Q,Sd(G),ne);if(G.$$typeof===F)return fe(Q,wd(Q,G),ne);Ad(Q,G)}return null}function ae(Q,G,ne,he){var Pe=G!==null?G.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Pe!==null?null:N(Q,G,""+ne,he);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return ne.key===Pe?q(Q,G,ne,he):null;case k:return ne.key===Pe?se(Q,G,ne,he):null;case C:return ne=Ro(ne),ae(Q,G,ne,he)}if(Te(ne)||P(ne))return Pe!==null?null:ue(Q,G,ne,he,null);if(typeof ne.then=="function")return ae(Q,G,Sd(ne),he);if(ne.$$typeof===F)return ae(Q,G,wd(Q,ne),he);Ad(Q,ne)}return null}function le(Q,G,ne,he,Pe){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(ne)||null,N(G,Q,""+he,Pe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case A:return Q=Q.get(he.key===null?ne:he.key)||null,q(G,Q,he,Pe);case k:return Q=Q.get(he.key===null?ne:he.key)||null,se(G,Q,he,Pe);case C:return he=Ro(he),le(Q,G,ne,he,Pe)}if(Te(he)||P(he))return Q=Q.get(ne)||null,ue(G,Q,he,Pe,null);if(typeof he.then=="function")return le(Q,G,ne,Sd(he),Pe);if(he.$$typeof===F)return le(Q,G,ne,wd(G,he),Pe);Ad(G,he)}return null}function Re(Q,G,ne,he){for(var Pe=null,ft=null,ke=G,Ye=G=0,st=null;ke!==null&&Ye<ne.length;Ye++){ke.index>Ye?(st=ke,ke=null):st=ke.sibling;var mt=ae(Q,ke,ne[Ye],he);if(mt===null){ke===null&&(ke=st);break}i&&ke&&mt.alternate===null&&r(Q,ke),G=v(mt,G,Ye),ft===null?Pe=mt:ft.sibling=mt,ft=mt,ke=st}if(Ye===ne.length)return o(Q,ke),lt&&_r(Q,Ye),Pe;if(ke===null){for(;Ye<ne.length;Ye++)ke=fe(Q,ne[Ye],he),ke!==null&&(G=v(ke,G,Ye),ft===null?Pe=ke:ft.sibling=ke,ft=ke);return lt&&_r(Q,Ye),Pe}for(ke=u(ke);Ye<ne.length;Ye++)st=le(ke,Q,Ye,ne[Ye],he),st!==null&&(i&&st.alternate!==null&&ke.delete(st.key===null?Ye:st.key),G=v(st,G,Ye),ft===null?Pe=st:ft.sibling=st,ft=st);return i&&ke.forEach(function(Ma){return r(Q,Ma)}),lt&&_r(Q,Ye),Pe}function je(Q,G,ne,he){if(ne==null)throw Error(s(151));for(var Pe=null,ft=null,ke=G,Ye=G=0,st=null,mt=ne.next();ke!==null&&!mt.done;Ye++,mt=ne.next()){ke.index>Ye?(st=ke,ke=null):st=ke.sibling;var Ma=ae(Q,ke,mt.value,he);if(Ma===null){ke===null&&(ke=st);break}i&&ke&&Ma.alternate===null&&r(Q,ke),G=v(Ma,G,Ye),ft===null?Pe=Ma:ft.sibling=Ma,ft=Ma,ke=st}if(mt.done)return o(Q,ke),lt&&_r(Q,Ye),Pe;if(ke===null){for(;!mt.done;Ye++,mt=ne.next())mt=fe(Q,mt.value,he),mt!==null&&(G=v(mt,G,Ye),ft===null?Pe=mt:ft.sibling=mt,ft=mt);return lt&&_r(Q,Ye),Pe}for(ke=u(ke);!mt.done;Ye++,mt=ne.next())mt=le(ke,Q,Ye,mt.value,he),mt!==null&&(i&&mt.alternate!==null&&ke.delete(mt.key===null?Ye:mt.key),G=v(mt,G,Ye),ft===null?Pe=mt:ft.sibling=mt,ft=mt);return i&&ke.forEach(function(OD){return r(Q,OD)}),lt&&_r(Q,Ye),Pe}function kt(Q,G,ne,he){if(typeof ne=="object"&&ne!==null&&ne.type===I&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:e:{for(var Pe=ne.key;G!==null;){if(G.key===Pe){if(Pe=ne.type,Pe===I){if(G.tag===7){o(Q,G.sibling),he=p(G,ne.props.children),he.return=Q,Q=he;break e}}else if(G.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===C&&Ro(Pe)===G.type){o(Q,G.sibling),he=p(G,ne.props),eu(he,ne),he.return=Q,Q=he;break e}o(Q,G);break}else r(Q,G);G=G.sibling}ne.type===I?(he=To(ne.props.children,Q.mode,he,ne.key),he.return=Q,Q=he):(he=vd(ne.type,ne.key,ne.props,null,Q.mode,he),eu(he,ne),he.return=Q,Q=he)}return _(Q);case k:e:{for(Pe=ne.key;G!==null;){if(G.key===Pe)if(G.tag===4&&G.stateNode.containerInfo===ne.containerInfo&&G.stateNode.implementation===ne.implementation){o(Q,G.sibling),he=p(G,ne.children||[]),he.return=Q,Q=he;break e}else{o(Q,G);break}else r(Q,G);G=G.sibling}he=Mp(ne,Q.mode,he),he.return=Q,Q=he}return _(Q);case C:return ne=Ro(ne),kt(Q,G,ne,he)}if(Te(ne))return Re(Q,G,ne,he);if(P(ne)){if(Pe=P(ne),typeof Pe!="function")throw Error(s(150));return ne=Pe.call(ne),je(Q,G,ne,he)}if(typeof ne.then=="function")return kt(Q,G,Sd(ne),he);if(ne.$$typeof===F)return kt(Q,G,wd(Q,ne),he);Ad(Q,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,G!==null&&G.tag===6?(o(Q,G.sibling),he=p(G,ne),he.return=Q,Q=he):(o(Q,G),he=Dp(ne,Q.mode,he),he.return=Q,Q=he),_(Q)):o(Q,G)}return function(Q,G,ne,he){try{Zc=0;var Pe=kt(Q,G,ne,he);return Al=null,Pe}catch(ke){if(ke===Sl||ke===Td)throw ke;var ft=Ys(29,ke,null,Q.mode);return ft.lanes=he,ft.return=Q,ft}}}var Io=Hx(!0),Gx=Hx(!1),ga=!1;function Gp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $p(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ya(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function va(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(xt&2)!==0){var p=u.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),u.pending=r,r=yd(i),Rx(i,null,o),r}return gd(i,u,r,o),yd(i)}function tu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Un(i,o)}}function Kp(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?p=v=_:v=v.next=_,o=o.next}while(o!==null);v===null?p=v=r:v=v.next=r}else p=v=r;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Yp=!1;function nu(){if(Yp){var i=El;if(i!==null)throw i}}function su(i,r,o,u){Yp=!1;var p=i.updateQueue;ga=!1;var v=p.firstBaseUpdate,_=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var q=N,se=q.next;q.next=null,_===null?v=se:_.next=se,_=q;var ue=i.alternate;ue!==null&&(ue=ue.updateQueue,N=ue.lastBaseUpdate,N!==_&&(N===null?ue.firstBaseUpdate=se:N.next=se,ue.lastBaseUpdate=q))}if(v!==null){var fe=p.baseState;_=0,ue=se=q=null,N=v;do{var ae=N.lane&-536870913,le=ae!==N.lane;if(le?(nt&ae)===ae:(u&ae)===ae){ae!==0&&ae===Tl&&(Yp=!0),ue!==null&&(ue=ue.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Re=i,je=N;ae=r;var kt=o;switch(je.tag){case 1:if(Re=je.payload,typeof Re=="function"){fe=Re.call(kt,fe,ae);break e}fe=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=je.payload,ae=typeof Re=="function"?Re.call(kt,fe,ae):Re,ae==null)break e;fe=b({},fe,ae);break e;case 2:ga=!0}}ae=N.callback,ae!==null&&(i.flags|=64,le&&(i.flags|=8192),le=p.callbacks,le===null?p.callbacks=[ae]:le.push(ae))}else le={lane:ae,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ue===null?(se=ue=le,q=fe):ue=ue.next=le,_|=ae;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;le=N,N=le.next,le.next=null,p.lastBaseUpdate=le,p.shared.pending=null}}while(!0);ue===null&&(q=fe),p.baseState=q,p.firstBaseUpdate=se,p.lastBaseUpdate=ue,v===null&&(p.shared.lanes=0),Ta|=_,i.lanes=_,i.memoizedState=fe}}function $x(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Kx(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)$x(o[i],r)}var Cl=T(null),Cd=T(0);function Yx(i,r){i=Mr,W(Cd,i),W(Cl,r),Mr=i|r.baseLanes}function Xp(){W(Cd,Mr),W(Cl,Cl.current)}function Wp(){Mr=Cd.current,U(Cl),U(Cd)}var Xs=T(null),di=null;function ba(i){var r=i.alternate;W(gn,gn.current&1),W(Xs,i),di===null&&(r===null||Cl.current!==null||r.memoizedState!==null)&&(di=i)}function Qp(i){W(gn,gn.current),W(Xs,i),di===null&&(di=i)}function Xx(i){i.tag===22?(W(gn,gn.current),W(Xs,i),di===null&&(di=i)):xa()}function xa(){W(gn,gn.current),W(Xs,Xs.current)}function Ws(i){U(Xs),di===i&&(di=null),U(gn)}var gn=T(0);function Rd(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||sy(o)||iy(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Sr=0,$e=null,Nt=null,Tn=null,Nd=!1,Rl=!1,ko=!1,Id=0,iu=0,Nl=null,Ak=0;function ln(){throw Error(s(321))}function Jp(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Ks(i[o],r[o]))return!1;return!0}function Zp(i,r,o,u,p,v){return Sr=v,$e=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=i===null||i.memoizedState===null?Dw:mg,ko=!1,v=o(u,p),ko=!1,Rl&&(v=Qx(r,o,u,p)),Wx(i),v}function Wx(i){J.H=ou;var r=Nt!==null&&Nt.next!==null;if(Sr=0,Tn=Nt=$e=null,Nd=!1,iu=0,Nl=null,r)throw Error(s(300));i===null||En||(i=i.dependencies,i!==null&&xd(i)&&(En=!0))}function Qx(i,r,o,u){$e=i;var p=0;do{if(Rl&&(Nl=null),iu=0,Rl=!1,25<=p)throw Error(s(301));if(p+=1,Tn=Nt=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}J.H=Mw,v=r(o,u)}while(Rl);return v}function Ck(){var i=J.H,r=i.useState()[0];return r=typeof r.then=="function"?ru(r):r,i=i.useState()[0],(Nt!==null?Nt.memoizedState:null)!==i&&($e.flags|=1024),r}function eg(){var i=Id!==0;return Id=0,i}function tg(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function ng(i){if(Nd){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Nd=!1}Sr=0,Tn=Nt=$e=null,Rl=!1,iu=Id=0,Nl=null}function ws(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?$e.memoizedState=Tn=i:Tn=Tn.next=i,Tn}function yn(){if(Nt===null){var i=$e.alternate;i=i!==null?i.memoizedState:null}else i=Nt.next;var r=Tn===null?$e.memoizedState:Tn.next;if(r!==null)Tn=r,Nt=i;else{if(i===null)throw $e.alternate===null?Error(s(467)):Error(s(310));Nt=i,i={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Tn===null?$e.memoizedState=Tn=i:Tn=Tn.next=i}return Tn}function kd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ru(i){var r=iu;return iu+=1,Nl===null&&(Nl=[]),i=Bx(Nl,i,r),r=$e,(Tn===null?r.memoizedState:Tn.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?Dw:mg),i}function Dd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ru(i);if(i.$$typeof===F)return Qn(i)}throw Error(s(438,String(i)))}function sg(i){var r=null,o=$e.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=$e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=kd(),$e.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=z;return r.index++,o}function Ar(i,r){return typeof r=="function"?r(i):r}function Md(i){var r=yn();return ig(r,Nt,i)}function ig(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var p=i.baseQueue,v=u.pending;if(v!==null){if(p!==null){var _=p.next;p.next=v.next,v.next=_}r.baseQueue=p=v,u.pending=null}if(v=i.baseState,p===null)i.memoizedState=v;else{r=p.next;var N=_=null,q=null,se=r,ue=!1;do{var fe=se.lane&-536870913;if(fe!==se.lane?(nt&fe)===fe:(Sr&fe)===fe){var ae=se.revertLane;if(ae===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),fe===Tl&&(ue=!0);else if((Sr&ae)===ae){se=se.next,ae===Tl&&(ue=!0);continue}else fe={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},q===null?(N=q=fe,_=v):q=q.next=fe,$e.lanes|=ae,Ta|=ae;fe=se.action,ko&&o(v,fe),v=se.hasEagerState?se.eagerState:o(v,fe)}else ae={lane:fe,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},q===null?(N=q=ae,_=v):q=q.next=ae,$e.lanes|=fe,Ta|=fe;se=se.next}while(se!==null&&se!==r);if(q===null?_=v:q.next=N,!Ks(v,i.memoizedState)&&(En=!0,ue&&(o=El,o!==null)))throw o;i.memoizedState=v,i.baseState=_,i.baseQueue=q,u.lastRenderedState=v}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function rg(i){var r=yn(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,p=o.pending,v=r.memoizedState;if(p!==null){o.pending=null;var _=p=p.next;do v=i(v,_.action),_=_.next;while(_!==p);Ks(v,r.memoizedState)||(En=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),o.lastRenderedState=v}return[v,u]}function Jx(i,r,o){var u=$e,p=yn(),v=lt;if(v){if(o===void 0)throw Error(s(407));o=o()}else o=r();var _=!Ks((Nt||p).memoizedState,o);if(_&&(p.memoizedState=o,En=!0),p=p.queue,lg(tw.bind(null,u,p,i),[i]),p.getSnapshot!==r||_||Tn!==null&&Tn.memoizedState.tag&1){if(u.flags|=2048,Il(9,{destroy:void 0},ew.bind(null,u,p,o,r),null),Pt===null)throw Error(s(349));v||(Sr&127)!==0||Zx(u,r,o)}return o}function Zx(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=$e.updateQueue,r===null?(r=kd(),$e.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function ew(i,r,o,u){r.value=o,r.getSnapshot=u,nw(r)&&sw(i)}function tw(i,r,o){return o(function(){nw(r)&&sw(i)})}function nw(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Ks(i,o)}catch{return!0}}function sw(i){var r=_o(i,2);r!==null&&Os(r,i,2)}function ag(i){var r=ws();if(typeof i=="function"){var o=i;if(i=o(),ko){xn(!0);try{o()}finally{xn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:i},r}function iw(i,r,o,u){return i.baseState=o,ig(i,Nt,typeof u=="function"?u:Ar)}function Rk(i,r,o,u,p){if(Od(i))throw Error(s(485));if(i=r.action,i!==null){var v={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){v.listeners.push(_)}};J.T!==null?o(!0):v.isTransition=!1,u(v),o=r.pending,o===null?(v.next=r.pending=v,rw(r,v)):(v.next=o.next,r.pending=o.next=v)}}function rw(i,r){var o=r.action,u=r.payload,p=i.state;if(r.isTransition){var v=J.T,_={};J.T=_;try{var N=o(p,u),q=J.S;q!==null&&q(_,N),aw(i,r,N)}catch(se){og(i,r,se)}finally{v!==null&&_.types!==null&&(v.types=_.types),J.T=v}}else try{v=o(p,u),aw(i,r,v)}catch(se){og(i,r,se)}}function aw(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){ow(i,r,u)},function(u){return og(i,r,u)}):ow(i,r,o)}function ow(i,r,o){r.status="fulfilled",r.value=o,lw(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,rw(i,o)))}function og(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,lw(r),r=r.next;while(r!==u)}i.action=null}function lw(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function cw(i,r){return r}function uw(i,r){if(lt){var o=Pt.formState;if(o!==null){e:{var u=$e;if(lt){if(Ft){t:{for(var p=Ft,v=hi;p.nodeType!==8;){if(!v){p=null;break t}if(p=fi(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Ft=fi(p.nextSibling),u=p.data==="F!";break e}}ma(u)}u=!1}u&&(r=o[0])}}return o=ws(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cw,lastRenderedState:r},o.queue=u,o=Nw.bind(null,$e,u),u.dispatch=o,u=ag(!1),v=fg.bind(null,$e,!1,u.queue),u=ws(),p={state:r,dispatch:null,action:i,pending:null},u.queue=p,o=Rk.bind(null,$e,p,v,o),p.dispatch=o,u.memoizedState=i,[r,o,!1]}function hw(i){var r=yn();return dw(r,Nt,i)}function dw(i,r,o){if(r=ig(i,r,cw)[0],i=Md(Ar)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=ru(r)}catch(_){throw _===Sl?Td:_}else u=r;r=yn();var p=r.queue,v=p.dispatch;return o!==r.memoizedState&&($e.flags|=2048,Il(9,{destroy:void 0},Nk.bind(null,p,o),null)),[u,v,i]}function Nk(i,r){i.action=r}function fw(i){var r=yn(),o=Nt;if(o!==null)return dw(r,o,i);yn(),r=r.memoizedState,o=yn();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Il(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=$e.updateQueue,r===null&&(r=kd(),$e.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function mw(){return yn().memoizedState}function Pd(i,r,o,u){var p=ws();$e.flags|=i,p.memoizedState=Il(1|r,{destroy:void 0},o,u===void 0?null:u)}function jd(i,r,o,u){var p=yn();u=u===void 0?null:u;var v=p.memoizedState.inst;Nt!==null&&u!==null&&Jp(u,Nt.memoizedState.deps)?p.memoizedState=Il(r,v,o,u):($e.flags|=i,p.memoizedState=Il(1|r,v,o,u))}function pw(i,r){Pd(8390656,8,i,r)}function lg(i,r){jd(2048,8,i,r)}function Ik(i){$e.flags|=4;var r=$e.updateQueue;if(r===null)r=kd(),$e.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function gw(i){var r=yn().memoizedState;return Ik({ref:r,nextImpl:i}),function(){if((xt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function yw(i,r){return jd(4,2,i,r)}function vw(i,r){return jd(4,4,i,r)}function bw(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function xw(i,r,o){o=o!=null?o.concat([i]):null,jd(4,4,bw.bind(null,r,i),o)}function cg(){}function ww(i,r){var o=yn();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Jp(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function _w(i,r){var o=yn();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Jp(r,u[1]))return u[0];if(u=i(),ko){xn(!0);try{i()}finally{xn(!1)}}return o.memoizedState=[u,r],u}function ug(i,r,o){return o===void 0||(Sr&1073741824)!==0&&(nt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=T_(),$e.lanes|=i,Ta|=i,o)}function Tw(i,r,o,u){return Ks(o,r)?o:Cl.current!==null?(i=ug(i,o,u),Ks(i,r)||(En=!0),i):(Sr&42)===0||(Sr&1073741824)!==0&&(nt&261930)===0?(En=!0,i.memoizedState=o):(i=T_(),$e.lanes|=i,Ta|=i,r)}function Ew(i,r,o,u,p){var v=Y.p;Y.p=v!==0&&8>v?v:8;var _=J.T,N={};J.T=N,fg(i,!1,r,o);try{var q=p(),se=J.S;if(se!==null&&se(N,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ue=Sk(q,u);au(i,r,ue,Zs(i))}else au(i,r,u,Zs(i))}catch(fe){au(i,r,{then:function(){},status:"rejected",reason:fe},Zs())}finally{Y.p=v,_!==null&&N.types!==null&&(_.types=N.types),J.T=_}}function kk(){}function hg(i,r,o,u){if(i.tag!==5)throw Error(s(476));var p=Sw(i).queue;Ew(i,p,r,K,o===null?kk:function(){return Aw(i),o(u)})}function Sw(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:K},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Aw(i){var r=Sw(i);r.next===null&&(r=i.alternate.memoizedState),au(i,r.next.queue,{},Zs())}function dg(){return Qn(Tu)}function Cw(){return yn().memoizedState}function Rw(){return yn().memoizedState}function Dk(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Zs();i=ya(o);var u=va(r,i,o);u!==null&&(Os(u,r,o),tu(u,r,o)),r={cache:Bp()},i.payload=r;return}r=r.return}}function Mk(i,r,o){var u=Zs();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Od(i)?Iw(r,o):(o=Ip(i,r,o,u),o!==null&&(Os(o,i,u),kw(o,r,u)))}function Nw(i,r,o){var u=Zs();au(i,r,o,u)}function au(i,r,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Od(i))Iw(r,p);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var _=r.lastRenderedState,N=v(_,o);if(p.hasEagerState=!0,p.eagerState=N,Ks(N,_))return gd(i,r,p,0),Pt===null&&pd(),!1}catch{}if(o=Ip(i,r,p,u),o!==null)return Os(o,i,u),kw(o,r,u),!0}return!1}function fg(i,r,o,u){if(u={lane:2,revertLane:Gg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Od(i)){if(r)throw Error(s(479))}else r=Ip(i,o,u,2),r!==null&&Os(r,i,2)}function Od(i){var r=i.alternate;return i===$e||r!==null&&r===$e}function Iw(i,r){Rl=Nd=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function kw(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Un(i,o)}}var ou={readContext:Qn,use:Dd,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln};ou.useEffectEvent=ln;var Dw={readContext:Qn,use:Dd,useCallback:function(i,r){return ws().memoizedState=[i,r===void 0?null:r],i},useContext:Qn,useEffect:pw,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Pd(4194308,4,bw.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Pd(4194308,4,i,r)},useInsertionEffect:function(i,r){Pd(4,2,i,r)},useMemo:function(i,r){var o=ws();r=r===void 0?null:r;var u=i();if(ko){xn(!0);try{i()}finally{xn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=ws();if(o!==void 0){var p=o(r);if(ko){xn(!0);try{o(r)}finally{xn(!1)}}}else p=r;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=Mk.bind(null,$e,i),[u.memoizedState,i]},useRef:function(i){var r=ws();return i={current:i},r.memoizedState=i},useState:function(i){i=ag(i);var r=i.queue,o=Nw.bind(null,$e,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:cg,useDeferredValue:function(i,r){var o=ws();return ug(o,i,r)},useTransition:function(){var i=ag(!1);return i=Ew.bind(null,$e,i.queue,!0,!1),ws().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=$e,p=ws();if(lt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Pt===null)throw Error(s(349));(nt&127)!==0||Zx(u,r,o)}p.memoizedState=o;var v={value:o,getSnapshot:r};return p.queue=v,pw(tw.bind(null,u,v,i),[i]),u.flags|=2048,Il(9,{destroy:void 0},ew.bind(null,u,v,o,r),null),o},useId:function(){var i=ws(),r=Pt.identifierPrefix;if(lt){var o=Zi,u=Ji;o=(u&~(1<<32-Dt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Id++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=Ak++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:dg,useFormState:uw,useActionState:uw,useOptimistic:function(i){var r=ws();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=fg.bind(null,$e,!0,o),o.dispatch=r,[i,r]},useMemoCache:sg,useCacheRefresh:function(){return ws().memoizedState=Dk.bind(null,$e)},useEffectEvent:function(i){var r=ws(),o={impl:i};return r.memoizedState=o,function(){if((xt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},mg={readContext:Qn,use:Dd,useCallback:ww,useContext:Qn,useEffect:lg,useImperativeHandle:xw,useInsertionEffect:yw,useLayoutEffect:vw,useMemo:_w,useReducer:Md,useRef:mw,useState:function(){return Md(Ar)},useDebugValue:cg,useDeferredValue:function(i,r){var o=yn();return Tw(o,Nt.memoizedState,i,r)},useTransition:function(){var i=Md(Ar)[0],r=yn().memoizedState;return[typeof i=="boolean"?i:ru(i),r]},useSyncExternalStore:Jx,useId:Cw,useHostTransitionStatus:dg,useFormState:hw,useActionState:hw,useOptimistic:function(i,r){var o=yn();return iw(o,Nt,i,r)},useMemoCache:sg,useCacheRefresh:Rw};mg.useEffectEvent=gw;var Mw={readContext:Qn,use:Dd,useCallback:ww,useContext:Qn,useEffect:lg,useImperativeHandle:xw,useInsertionEffect:yw,useLayoutEffect:vw,useMemo:_w,useReducer:rg,useRef:mw,useState:function(){return rg(Ar)},useDebugValue:cg,useDeferredValue:function(i,r){var o=yn();return Nt===null?ug(o,i,r):Tw(o,Nt.memoizedState,i,r)},useTransition:function(){var i=rg(Ar)[0],r=yn().memoizedState;return[typeof i=="boolean"?i:ru(i),r]},useSyncExternalStore:Jx,useId:Cw,useHostTransitionStatus:dg,useFormState:fw,useActionState:fw,useOptimistic:function(i,r){var o=yn();return Nt!==null?iw(o,Nt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:sg,useCacheRefresh:Rw};Mw.useEffectEvent=gw;function pg(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var gg={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Zs(),p=ya(u);p.payload=r,o!=null&&(p.callback=o),r=va(i,p,u),r!==null&&(Os(r,i,u),tu(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Zs(),p=ya(u);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=va(i,p,u),r!==null&&(Os(r,i,u),tu(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Zs(),u=ya(o);u.tag=2,r!=null&&(u.callback=r),r=va(i,u,o),r!==null&&(Os(r,i,o),tu(r,i,o))}};function Pw(i,r,o,u,p,v,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,v,_):r.prototype&&r.prototype.isPureReactComponent?!Kc(o,u)||!Kc(p,v):!0}function jw(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&gg.enqueueReplaceState(r,r.state,null)}function Do(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=b({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}function Ow(i){md(i)}function Vw(i){console.error(i)}function Lw(i){md(i)}function Vd(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Uw(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function yg(i,r,o){return o=ya(o),o.tag=3,o.payload={element:null},o.callback=function(){Vd(i,r)},o}function zw(i){return i=ya(i),i.tag=3,i}function Bw(i,r,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var v=u.value;i.payload=function(){return p(v)},i.callback=function(){Uw(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){Uw(r,o,u),typeof p!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})})}function Pk(i,r,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&_l(r,o,p,!0),o=Xs.current,o!==null){switch(o.tag){case 31:case 13:return di===null?Xd():o.alternate===null&&cn===0&&(cn=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===Ed?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Fg(i,u,p)),!1;case 22:return o.flags|=65536,u===Ed?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Fg(i,u,p)),!1}throw Error(s(435,o.tag))}return Fg(i,u,p),Xd(),!1}if(lt)return r=Xs.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,u!==Op&&(i=Error(s(422),{cause:u}),Wc(li(i,o)))):(u!==Op&&(r=Error(s(423),{cause:u}),Wc(li(r,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=li(u,o),p=yg(i.stateNode,u,p),Kp(i,p),cn!==4&&(cn=2)),!1;var v=Error(s(520),{cause:u});if(v=li(v,o),pu===null?pu=[v]:pu.push(v),cn!==4&&(cn=2),r===null)return!0;u=li(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=yg(o.stateNode,u,i),Kp(o,i),!1;case 1:if(r=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ea===null||!Ea.has(v))))return o.flags|=65536,p&=-p,o.lanes|=p,p=zw(p),Bw(p,i,o,u),Kp(o,p),!1}o=o.return}while(o!==null);return!1}var vg=Error(s(461)),En=!1;function Jn(i,r,o,u){r.child=i===null?Gx(r,null,o,u):Io(r,i.child,o,u)}function Fw(i,r,o,u,p){o=o.render;var v=r.ref;if("ref"in u){var _={};for(var N in u)N!=="ref"&&(_[N]=u[N])}else _=u;return Ao(r),u=Zp(i,r,o,_,v,p),N=eg(),i!==null&&!En?(tg(i,r,p),Cr(i,r,p)):(lt&&N&&Pp(r),r.flags|=1,Jn(i,r,u,p),r.child)}function qw(i,r,o,u,p){if(i===null){var v=o.type;return typeof v=="function"&&!kp(v)&&v.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=v,Hw(i,r,v,u,p)):(i=vd(o.type,null,u,r,r.mode,p),i.ref=r.ref,i.return=r,r.child=i)}if(v=i.child,!Ag(i,p)){var _=v.memoizedProps;if(o=o.compare,o=o!==null?o:Kc,o(_,u)&&i.ref===r.ref)return Cr(i,r,p)}return r.flags|=1,i=wr(v,u),i.ref=r.ref,i.return=r,r.child=i}function Hw(i,r,o,u,p){if(i!==null){var v=i.memoizedProps;if(Kc(v,u)&&i.ref===r.ref)if(En=!1,r.pendingProps=u=v,Ag(i,p))(i.flags&131072)!==0&&(En=!0);else return r.lanes=i.lanes,Cr(i,r,p)}return bg(i,r,o,u,p)}function Gw(i,r,o,u){var p=u.children,v=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,i!==null){for(u=r.child=i.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~v}else u=0,r.child=null;return $w(i,r,v,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&_d(r,v!==null?v.cachePool:null),v!==null?Yx(r,v):Xp(),Xx(r);else return u=r.lanes=536870912,$w(i,r,v!==null?v.baseLanes|o:o,o,u)}else v!==null?(_d(r,v.cachePool),Yx(r,v),xa(),r.memoizedState=null):(i!==null&&_d(r,null),Xp(),xa());return Jn(i,r,p,o),r.child}function lu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function $w(i,r,o,u,p){var v=qp();return v=v===null?null:{parent:_n._currentValue,pool:v},r.memoizedState={baseLanes:o,cachePool:v},i!==null&&_d(r,null),Xp(),Xx(r),i!==null&&_l(i,r,u,!0),r.childLanes=p,null}function Ld(i,r){return r=zd({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Kw(i,r,o){return Io(r,i.child,null,o),i=Ld(r,r.pendingProps),i.flags|=2,Ws(r),r.memoizedState=null,i}function jk(i,r,o){var u=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(lt){if(u.mode==="hidden")return i=Ld(r,u),r.lanes=536870912,lu(null,i);if(Qp(r),(i=Ft)?(i=r1(i,hi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:da!==null?{id:Ji,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},o=Ix(i),o.return=r,r.child=o,Wn=r,Ft=null)):i=null,i===null)throw ma(r);return r.lanes=536870912,null}return Ld(r,u)}var v=i.memoizedState;if(v!==null){var _=v.dehydrated;if(Qp(r),p)if(r.flags&256)r.flags&=-257,r=Kw(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(En||_l(i,r,o,!1),p=(o&i.childLanes)!==0,En||p){if(u=Pt,u!==null&&(_=Kn(u,o),_!==0&&_!==v.retryLane))throw v.retryLane=_,_o(i,_),Os(u,i,_),vg;Xd(),r=Kw(i,r,o)}else i=v.treeContext,Ft=fi(_.nextSibling),Wn=r,lt=!0,fa=null,hi=!1,i!==null&&Mx(r,i),r=Ld(r,u),r.flags|=4096;return r}return i=wr(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Ud(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function bg(i,r,o,u,p){return Ao(r),o=Zp(i,r,o,u,void 0,p),u=eg(),i!==null&&!En?(tg(i,r,p),Cr(i,r,p)):(lt&&u&&Pp(r),r.flags|=1,Jn(i,r,o,p),r.child)}function Yw(i,r,o,u,p,v){return Ao(r),r.updateQueue=null,o=Qx(r,u,o,p),Wx(i),u=eg(),i!==null&&!En?(tg(i,r,v),Cr(i,r,v)):(lt&&u&&Pp(r),r.flags|=1,Jn(i,r,o,v),r.child)}function Xw(i,r,o,u,p){if(Ao(r),r.stateNode===null){var v=vl,_=o.contextType;typeof _=="object"&&_!==null&&(v=Qn(_)),v=new o(u,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=gg,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=u,v.state=r.memoizedState,v.refs={},Gp(r),_=o.contextType,v.context=typeof _=="object"&&_!==null?Qn(_):vl,v.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(pg(r,o,_,u),v.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(_=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),_!==v.state&&gg.enqueueReplaceState(v,v.state,null),su(r,u,v,p),nu(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){v=r.stateNode;var N=r.memoizedProps,q=Do(o,N);v.props=q;var se=v.context,ue=o.contextType;_=vl,typeof ue=="object"&&ue!==null&&(_=Qn(ue));var fe=o.getDerivedStateFromProps;ue=typeof fe=="function"||typeof v.getSnapshotBeforeUpdate=="function",N=r.pendingProps!==N,ue||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N||se!==_)&&jw(r,v,u,_),ga=!1;var ae=r.memoizedState;v.state=ae,su(r,u,v,p),nu(),se=r.memoizedState,N||ae!==se||ga?(typeof fe=="function"&&(pg(r,o,fe,u),se=r.memoizedState),(q=ga||Pw(r,o,q,u,ae,se,_))?(ue||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=se),v.props=u,v.state=se,v.context=_,u=q):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,$p(i,r),_=r.memoizedProps,ue=Do(o,_),v.props=ue,fe=r.pendingProps,ae=v.context,se=o.contextType,q=vl,typeof se=="object"&&se!==null&&(q=Qn(se)),N=o.getDerivedStateFromProps,(se=typeof N=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==fe||ae!==q)&&jw(r,v,u,q),ga=!1,ae=r.memoizedState,v.state=ae,su(r,u,v,p),nu();var le=r.memoizedState;_!==fe||ae!==le||ga||i!==null&&i.dependencies!==null&&xd(i.dependencies)?(typeof N=="function"&&(pg(r,o,N,u),le=r.memoizedState),(ue=ga||Pw(r,o,ue,u,ae,le,q)||i!==null&&i.dependencies!==null&&xd(i.dependencies))?(se||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,le,q),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,le,q)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||_===i.memoizedProps&&ae===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&ae===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=le),v.props=u,v.state=le,v.context=q,u=ue):(typeof v.componentDidUpdate!="function"||_===i.memoizedProps&&ae===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&ae===i.memoizedState||(r.flags|=1024),u=!1)}return v=u,Ud(i,r),u=(r.flags&128)!==0,v||u?(v=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,i!==null&&u?(r.child=Io(r,i.child,null,p),r.child=Io(r,null,o,p)):Jn(i,r,o,p),r.memoizedState=v.state,i=r.child):i=Cr(i,r,p),i}function Ww(i,r,o,u){return Eo(),r.flags|=256,Jn(i,r,o,u),r.child}var xg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wg(i){return{baseLanes:i,cachePool:Ux()}}function _g(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Js),i}function Qw(i,r,o){var u=r.pendingProps,p=!1,v=(r.flags&128)!==0,_;if((_=v)||(_=i!==null&&i.memoizedState===null?!1:(gn.current&2)!==0),_&&(p=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(lt){if(p?ba(r):xa(),(i=Ft)?(i=r1(i,hi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:da!==null?{id:Ji,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},o=Ix(i),o.return=r,r.child=o,Wn=r,Ft=null)):i=null,i===null)throw ma(r);return iy(i)?r.lanes=32:r.lanes=536870912,null}var N=u.children;return u=u.fallback,p?(xa(),p=r.mode,N=zd({mode:"hidden",children:N},p),u=To(u,p,o,null),N.return=r,u.return=r,N.sibling=u,r.child=N,u=r.child,u.memoizedState=wg(o),u.childLanes=_g(i,_,o),r.memoizedState=xg,lu(null,u)):(ba(r),Tg(r,N))}var q=i.memoizedState;if(q!==null&&(N=q.dehydrated,N!==null)){if(v)r.flags&256?(ba(r),r.flags&=-257,r=Eg(i,r,o)):r.memoizedState!==null?(xa(),r.child=i.child,r.flags|=128,r=null):(xa(),N=u.fallback,p=r.mode,u=zd({mode:"visible",children:u.children},p),N=To(N,p,o,null),N.flags|=2,u.return=r,N.return=r,u.sibling=N,r.child=u,Io(r,i.child,null,o),u=r.child,u.memoizedState=wg(o),u.childLanes=_g(i,_,o),r.memoizedState=xg,r=lu(null,u));else if(ba(r),iy(N)){if(_=N.nextSibling&&N.nextSibling.dataset,_)var se=_.dgst;_=se,u=Error(s(419)),u.stack="",u.digest=_,Wc({value:u,source:null,stack:null}),r=Eg(i,r,o)}else if(En||_l(i,r,o,!1),_=(o&i.childLanes)!==0,En||_){if(_=Pt,_!==null&&(u=Kn(_,o),u!==0&&u!==q.retryLane))throw q.retryLane=u,_o(i,u),Os(_,i,u),vg;sy(N)||Xd(),r=Eg(i,r,o)}else sy(N)?(r.flags|=192,r.child=i.child,r=null):(i=q.treeContext,Ft=fi(N.nextSibling),Wn=r,lt=!0,fa=null,hi=!1,i!==null&&Mx(r,i),r=Tg(r,u.children),r.flags|=4096);return r}return p?(xa(),N=u.fallback,p=r.mode,q=i.child,se=q.sibling,u=wr(q,{mode:"hidden",children:u.children}),u.subtreeFlags=q.subtreeFlags&65011712,se!==null?N=wr(se,N):(N=To(N,p,o,null),N.flags|=2),N.return=r,u.return=r,u.sibling=N,r.child=u,lu(null,u),u=r.child,N=i.child.memoizedState,N===null?N=wg(o):(p=N.cachePool,p!==null?(q=_n._currentValue,p=p.parent!==q?{parent:q,pool:q}:p):p=Ux(),N={baseLanes:N.baseLanes|o,cachePool:p}),u.memoizedState=N,u.childLanes=_g(i,_,o),r.memoizedState=xg,lu(i.child,u)):(ba(r),o=i.child,i=o.sibling,o=wr(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=o,r.memoizedState=null,o)}function Tg(i,r){return r=zd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function zd(i,r){return i=Ys(22,i,null,r),i.lanes=0,i}function Eg(i,r,o){return Io(r,i.child,null,o),i=Tg(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Jw(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Up(i.return,r,o)}function Sg(i,r,o,u,p,v){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:v}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=p,_.treeForkCount=v)}function Zw(i,r,o){var u=r.pendingProps,p=u.revealOrder,v=u.tail;u=u.children;var _=gn.current,N=(_&2)!==0;if(N?(_=_&1|2,r.flags|=128):_&=1,W(gn,_),Jn(i,r,u,o),u=lt?Xc:0,!N&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Jw(i,o,r);else if(i.tag===19)Jw(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(o=r.child,p=null;o!==null;)i=o.alternate,i!==null&&Rd(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),Sg(r,!1,p,o,v,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(i=p.alternate,i!==null&&Rd(i)===null){r.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}Sg(r,!0,o,null,v,u);break;case"together":Sg(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Cr(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Ta|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(_l(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=wr(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=wr(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Ag(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&xd(i)))}function Ok(i,r,o){switch(r.tag){case 3:we(r,r.stateNode.containerInfo),pa(r,_n,i.memoizedState.cache),Eo();break;case 27:case 5:Ce(r);break;case 4:we(r,r.stateNode.containerInfo);break;case 10:pa(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Qp(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(ba(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Qw(i,r,o):(ba(r),i=Cr(i,r,o),i!==null?i.sibling:null);ba(r);break;case 19:var p=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(_l(i,r,o,!1),u=(o&r.childLanes)!==0),p){if(u)return Zw(i,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),W(gn,gn.current),u)break;return null;case 22:return r.lanes=0,Gw(i,r,o,r.pendingProps);case 24:pa(r,_n,i.memoizedState.cache)}return Cr(i,r,o)}function e_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)En=!0;else{if(!Ag(i,o)&&(r.flags&128)===0)return En=!1,Ok(i,r,o);En=(i.flags&131072)!==0}else En=!1,lt&&(r.flags&1048576)!==0&&Dx(r,Xc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=Ro(r.elementType),r.type=i,typeof i=="function")kp(i)?(u=Do(i,u),r.tag=1,r=Xw(null,r,i,u,o)):(r.tag=0,r=bg(null,r,i,u,o));else{if(i!=null){var p=i.$$typeof;if(p===re){r.tag=11,r=Fw(null,r,i,u,o);break e}else if(p===D){r.tag=14,r=qw(null,r,i,u,o);break e}}throw r=be(i)||i,Error(s(306,r,""))}}return r;case 0:return bg(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,p=Do(u,r.pendingProps),Xw(i,r,u,p,o);case 3:e:{if(we(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var v=r.memoizedState;p=v.element,$p(i,r),su(r,u,null,o);var _=r.memoizedState;if(u=_.cache,pa(r,_n,u),u!==v.cache&&zp(r,[_n],o,!0),nu(),u=_.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=Ww(i,r,u,o);break e}else if(u!==p){p=li(Error(s(424)),r),Wc(p),r=Ww(i,r,u,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Ft=fi(i.firstChild),Wn=r,lt=!0,fa=null,hi=!0,o=Gx(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Eo(),u===p){r=Cr(i,r,o);break e}Jn(i,r,u,o)}r=r.child}return r;case 26:return Ud(i,r),i===null?(o=h1(r.type,null,r.pendingProps,null))?r.memoizedState=o:lt||(o=r.type,i=r.pendingProps,u=nf(ge.current).createElement(o),u[Mt]=r,u[Lt]=i,Zn(u,o,i),on(u),r.stateNode=u):r.memoizedState=h1(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ce(r),i===null&&lt&&(u=r.stateNode=l1(r.type,r.pendingProps,ge.current),Wn=r,hi=!0,p=Ft,Ra(r.type)?(ry=p,Ft=fi(u.firstChild)):Ft=p),Jn(i,r,r.pendingProps.children,o),Ud(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&lt&&((p=u=Ft)&&(u=dD(u,r.type,r.pendingProps,hi),u!==null?(r.stateNode=u,Wn=r,Ft=fi(u.firstChild),hi=!1,p=!0):p=!1),p||ma(r)),Ce(r),p=r.type,v=r.pendingProps,_=i!==null?i.memoizedProps:null,u=v.children,ey(p,v)?u=null:_!==null&&ey(p,_)&&(r.flags|=32),r.memoizedState!==null&&(p=Zp(i,r,Ck,null,null,o),Tu._currentValue=p),Ud(i,r),Jn(i,r,u,o),r.child;case 6:return i===null&&lt&&((i=o=Ft)&&(o=fD(o,r.pendingProps,hi),o!==null?(r.stateNode=o,Wn=r,Ft=null,i=!0):i=!1),i||ma(r)),null;case 13:return Qw(i,r,o);case 4:return we(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Io(r,null,u,o):Jn(i,r,u,o),r.child;case 11:return Fw(i,r,r.type,r.pendingProps,o);case 7:return Jn(i,r,r.pendingProps,o),r.child;case 8:return Jn(i,r,r.pendingProps.children,o),r.child;case 12:return Jn(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,pa(r,r.type,u.value),Jn(i,r,u.children,o),r.child;case 9:return p=r.type._context,u=r.pendingProps.children,Ao(r),p=Qn(p),u=u(p),r.flags|=1,Jn(i,r,u,o),r.child;case 14:return qw(i,r,r.type,r.pendingProps,o);case 15:return Hw(i,r,r.type,r.pendingProps,o);case 19:return Zw(i,r,o);case 31:return jk(i,r,o);case 22:return Gw(i,r,o,r.pendingProps);case 24:return Ao(r),u=Qn(_n),i===null?(p=qp(),p===null&&(p=Pt,v=Bp(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=o),p=v),r.memoizedState={parent:u,cache:p},Gp(r),pa(r,_n,p)):((i.lanes&o)!==0&&($p(i,r),su(r,null,null,o),nu()),p=i.memoizedState,v=r.memoizedState,p.parent!==u?(p={parent:u,cache:u},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),pa(r,_n,u)):(u=v.cache,pa(r,_n,u),u!==p.cache&&zp(r,[_n],o,!0))),Jn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Rr(i){i.flags|=4}function Cg(i,r,o,u,p){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(C_())i.flags|=8192;else throw No=Ed,Hp}else i.flags&=-16777217}function t_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!g1(r))if(C_())i.flags|=8192;else throw No=Ed,Hp}function Bd(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?gt():536870912,i.lanes|=r,Pl|=r)}function cu(i,r){if(!lt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function qt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function Vk(i,r,o){var u=r.pendingProps;switch(jp(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(r),null;case 1:return qt(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Er(_n),Ee(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(wl(r)?Rr(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Vp())),qt(r),null;case 26:var p=r.type,v=r.memoizedState;return i===null?(Rr(r),v!==null?(qt(r),t_(r,v)):(qt(r),Cg(r,p,null,u,o))):v?v!==i.memoizedState?(Rr(r),qt(r),t_(r,v)):(qt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&Rr(r),qt(r),Cg(r,p,i,u,o)),null;case 27:if(ze(r),o=ge.current,p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Rr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return qt(r),null}i=ie.current,wl(r)?Px(r):(i=l1(p,u,o),r.stateNode=i,Rr(r))}return qt(r),null;case 5:if(ze(r),p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Rr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return qt(r),null}if(v=ie.current,wl(r))Px(r);else{var _=nf(ge.current);switch(v){case 1:v=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=_.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?_.createElement(p,{is:u.is}):_.createElement(p)}}v[Mt]=r,v[Lt]=u;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)v.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=v;e:switch(Zn(v,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Rr(r)}}return qt(r),Cg(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Rr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=ge.current,wl(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,p=Wn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[Mt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Q_(i.nodeValue,o)),i||ma(r,!0)}else i=nf(i).createTextNode(u),i[Mt]=r,r.stateNode=i}return qt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=wl(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Mt]=r}else Eo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;qt(r),i=!1}else o=Vp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Ws(r),r):(Ws(r),null);if((r.flags&128)!==0)throw Error(s(558))}return qt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=wl(r),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Mt]=r}else Eo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;qt(r),p=!1}else p=Vp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Ws(r),r):(Ws(r),null)}return Ws(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Bd(r,r.updateQueue),qt(r),null);case 4:return Ee(),i===null&&Xg(r.stateNode.containerInfo),qt(r),null;case 10:return Er(r.type),qt(r),null;case 19:if(U(gn),u=r.memoizedState,u===null)return qt(r),null;if(p=(r.flags&128)!==0,v=u.rendering,v===null)if(p)cu(u,!1);else{if(cn!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(v=Rd(i),v!==null){for(r.flags|=128,cu(u,!1),i=v.updateQueue,r.updateQueue=i,Bd(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Nx(o,i),o=o.sibling;return W(gn,gn.current&1|2),lt&&_r(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&Gt()>$d&&(r.flags|=128,p=!0,cu(u,!1),r.lanes=4194304)}else{if(!p)if(i=Rd(v),i!==null){if(r.flags|=128,p=!0,i=i.updateQueue,r.updateQueue=i,Bd(r,i),cu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!lt)return qt(r),null}else 2*Gt()-u.renderingStartTime>$d&&o!==536870912&&(r.flags|=128,p=!0,cu(u,!1),r.lanes=4194304);u.isBackwards?(v.sibling=r.child,r.child=v):(i=u.last,i!==null?i.sibling=v:r.child=v,u.last=v)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Gt(),i.sibling=null,o=gn.current,W(gn,p?o&1|2:o&1),lt&&_r(r,u.treeForkCount),i):(qt(r),null);case 22:case 23:return Ws(r),Wp(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(qt(r),r.subtreeFlags&6&&(r.flags|=8192)):qt(r),o=r.updateQueue,o!==null&&Bd(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&U(Co),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Er(_n),qt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Lk(i,r){switch(jp(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Er(_n),Ee(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ze(r),null;case 31:if(r.memoizedState!==null){if(Ws(r),r.alternate===null)throw Error(s(340));Eo()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Ws(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Eo()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return U(gn),null;case 4:return Ee(),null;case 10:return Er(r.type),null;case 22:case 23:return Ws(r),Wp(),i!==null&&U(Co),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Er(_n),null;case 25:return null;default:return null}}function n_(i,r){switch(jp(r),r.tag){case 3:Er(_n),Ee();break;case 26:case 27:case 5:ze(r);break;case 4:Ee();break;case 31:r.memoizedState!==null&&Ws(r);break;case 13:Ws(r);break;case 19:U(gn);break;case 10:Er(r.type);break;case 22:case 23:Ws(r),Wp(),i!==null&&U(Co);break;case 24:Er(_n)}}function uu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&i)===i){u=void 0;var v=o.create,_=o.inst;u=v(),_.destroy=u}o=o.next}while(o!==p)}}catch(N){St(r,r.return,N)}}function wa(i,r,o){try{var u=r.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&i)===i){var _=u.inst,N=_.destroy;if(N!==void 0){_.destroy=void 0,p=r;var q=o,se=N;try{se()}catch(ue){St(p,q,ue)}}}u=u.next}while(u!==v)}}catch(ue){St(r,r.return,ue)}}function s_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Kx(r,o)}catch(u){St(i,i.return,u)}}}function i_(i,r,o){o.props=Do(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){St(i,r,u)}}function hu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(p){St(i,r,p)}}function er(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){St(i,r,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){St(i,r,p)}else o.current=null}function r_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){St(i,i.return,p)}}function Rg(i,r,o){try{var u=i.stateNode;aD(u,i.type,o,r),u[Lt]=r}catch(p){St(i,i.return,p)}}function a_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ra(i.type)||i.tag===4}function Ng(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||a_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ra(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ig(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Si));else if(u!==4&&(u===27&&Ra(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Ig(i,r,o),i=i.sibling;i!==null;)Ig(i,r,o),i=i.sibling}function Fd(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Ra(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Fd(i,r,o),i=i.sibling;i!==null;)Fd(i,r,o),i=i.sibling}function o_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Zn(r,u,o),r[Mt]=i,r[Lt]=o}catch(v){St(i,i.return,v)}}var Nr=!1,Sn=!1,kg=!1,l_=typeof WeakSet=="function"?WeakSet:Set,Fn=null;function Uk(i,r){if(i=i.containerInfo,Jg=uf,i=xx(i),Ep(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var _=0,N=-1,q=-1,se=0,ue=0,fe=i,ae=null;t:for(;;){for(var le;fe!==o||p!==0&&fe.nodeType!==3||(N=_+p),fe!==v||u!==0&&fe.nodeType!==3||(q=_+u),fe.nodeType===3&&(_+=fe.nodeValue.length),(le=fe.firstChild)!==null;)ae=fe,fe=le;for(;;){if(fe===i)break t;if(ae===o&&++se===p&&(N=_),ae===v&&++ue===u&&(q=_),(le=fe.nextSibling)!==null)break;fe=ae,ae=fe.parentNode}fe=le}o=N===-1||q===-1?null:{start:N,end:q}}else o=null}o=o||{start:0,end:0}}else o=null;for(Zg={focusedElem:i,selectionRange:o},uf=!1,Fn=r;Fn!==null;)if(r=Fn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Fn=i;else for(;Fn!==null;){switch(r=Fn,v=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)p=i[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,o=r,p=v.memoizedProps,v=v.memoizedState,u=o.stateNode;try{var Re=Do(o.type,p);i=u.getSnapshotBeforeUpdate(Re,v),u.__reactInternalSnapshotBeforeUpdate=i}catch(je){St(o,o.return,je)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)ny(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ny(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Fn=i;break}Fn=r.return}}function c_(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:kr(i,o),u&4&&uu(5,o);break;case 1:if(kr(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(_){St(o,o.return,_)}else{var p=Do(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(p,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){St(o,o.return,_)}}u&64&&s_(o),u&512&&hu(o,o.return);break;case 3:if(kr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Kx(i,r)}catch(_){St(o,o.return,_)}}break;case 27:r===null&&u&4&&o_(o);case 26:case 5:kr(i,o),r===null&&u&4&&r_(o),u&512&&hu(o,o.return);break;case 12:kr(i,o);break;case 31:kr(i,o),u&4&&d_(i,o);break;case 13:kr(i,o),u&4&&f_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=Yk.bind(null,o),mD(i,o))));break;case 22:if(u=o.memoizedState!==null||Nr,!u){r=r!==null&&r.memoizedState!==null||Sn,p=Nr;var v=Sn;Nr=u,(Sn=r)&&!v?Dr(i,o,(o.subtreeFlags&8772)!==0):kr(i,o),Nr=p,Sn=v}break;case 30:break;default:kr(i,o)}}function u_(i){var r=i.alternate;r!==null&&(i.alternate=null,u_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&is(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Xt=null,Ds=!1;function Ir(i,r,o){for(o=o.child;o!==null;)h_(i,r,o),o=o.sibling}function h_(i,r,o){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount($t,o)}catch{}switch(o.tag){case 26:Sn||er(o,r),Ir(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Sn||er(o,r);var u=Xt,p=Ds;Ra(o.type)&&(Xt=o.stateNode,Ds=!1),Ir(i,r,o),xu(o.stateNode),Xt=u,Ds=p;break;case 5:Sn||er(o,r);case 6:if(u=Xt,p=Ds,Xt=null,Ir(i,r,o),Xt=u,Ds=p,Xt!==null)if(Ds)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(o.stateNode)}catch(v){St(o,r,v)}else try{Xt.removeChild(o.stateNode)}catch(v){St(o,r,v)}break;case 18:Xt!==null&&(Ds?(i=Xt,s1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Fl(i)):s1(Xt,o.stateNode));break;case 4:u=Xt,p=Ds,Xt=o.stateNode.containerInfo,Ds=!0,Ir(i,r,o),Xt=u,Ds=p;break;case 0:case 11:case 14:case 15:wa(2,o,r),Sn||wa(4,o,r),Ir(i,r,o);break;case 1:Sn||(er(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&i_(o,r,u)),Ir(i,r,o);break;case 21:Ir(i,r,o);break;case 22:Sn=(u=Sn)||o.memoizedState!==null,Ir(i,r,o),Sn=u;break;default:Ir(i,r,o)}}function d_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Fl(i)}catch(o){St(r,r.return,o)}}}function f_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Fl(i)}catch(o){St(r,r.return,o)}}function zk(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new l_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new l_),r;default:throw Error(s(435,i.tag))}}function qd(i,r){var o=zk(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var p=Xk.bind(null,i,u);u.then(p,p)}})}function Ms(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],v=i,_=r,N=_;e:for(;N!==null;){switch(N.tag){case 27:if(Ra(N.type)){Xt=N.stateNode,Ds=!1;break e}break;case 5:Xt=N.stateNode,Ds=!1;break e;case 3:case 4:Xt=N.stateNode.containerInfo,Ds=!0;break e}N=N.return}if(Xt===null)throw Error(s(160));h_(v,_,p),Xt=null,Ds=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)m_(r,i),r=r.sibling}var ki=null;function m_(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ms(r,i),Ps(i),u&4&&(wa(3,i,i.return),uu(3,i),wa(5,i,i.return));break;case 1:Ms(r,i),Ps(i),u&512&&(Sn||o===null||er(o,o.return)),u&64&&Nr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=ki;if(Ms(r,i),Ps(i),u&512&&(Sn||o===null||er(o,o.return)),u&4){var v=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":v=p.getElementsByTagName("title")[0],(!v||v[vs]||v[Mt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(u),p.head.insertBefore(v,p.querySelector("head > title"))),Zn(v,u,o),v[Mt]=i,on(v),u=v;break e;case"link":var _=m1("link","href",p).get(u+(o.href||""));if(_){for(var N=0;N<_.length;N++)if(v=_[N],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(N,1);break t}}v=p.createElement(u),Zn(v,u,o),p.head.appendChild(v);break;case"meta":if(_=m1("meta","content",p).get(u+(o.content||""))){for(N=0;N<_.length;N++)if(v=_[N],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(N,1);break t}}v=p.createElement(u),Zn(v,u,o),p.head.appendChild(v);break;default:throw Error(s(468,u))}v[Mt]=i,on(v),u=v}i.stateNode=u}else p1(p,i.type,i.stateNode);else i.stateNode=f1(p,u,i.memoizedProps);else v!==u?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,u===null?p1(p,i.type,i.stateNode):f1(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Rg(i,i.memoizedProps,o.memoizedProps)}break;case 27:Ms(r,i),Ps(i),u&512&&(Sn||o===null||er(o,o.return)),o!==null&&u&4&&Rg(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Ms(r,i),Ps(i),u&512&&(Sn||o===null||er(o,o.return)),i.flags&32){p=i.stateNode;try{ks(p,"")}catch(Re){St(i,i.return,Re)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,Rg(i,p,o!==null?o.memoizedProps:p)),u&1024&&(kg=!0);break;case 6:if(Ms(r,i),Ps(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Re){St(i,i.return,Re)}}break;case 3:if(af=null,p=ki,ki=sf(r.containerInfo),Ms(r,i),ki=p,Ps(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Fl(r.containerInfo)}catch(Re){St(i,i.return,Re)}kg&&(kg=!1,p_(i));break;case 4:u=ki,ki=sf(i.stateNode.containerInfo),Ms(r,i),Ps(i),ki=u;break;case 12:Ms(r,i),Ps(i);break;case 31:Ms(r,i),Ps(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,qd(i,u)));break;case 13:Ms(r,i),Ps(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Gd=Gt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,qd(i,u)));break;case 22:p=i.memoizedState!==null;var q=o!==null&&o.memoizedState!==null,se=Nr,ue=Sn;if(Nr=se||p,Sn=ue||q,Ms(r,i),Sn=ue,Nr=se,Ps(i),u&8192)e:for(r=i.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||q||Nr||Sn||Mo(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){q=o=r;try{if(v=q.stateNode,p)_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{N=q.stateNode;var fe=q.memoizedProps.style,ae=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;N.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Re){St(q,q.return,Re)}}}else if(r.tag===6){if(o===null){q=r;try{q.stateNode.nodeValue=p?"":q.memoizedProps}catch(Re){St(q,q.return,Re)}}}else if(r.tag===18){if(o===null){q=r;try{var le=q.stateNode;p?i1(le,!0):i1(q.stateNode,!1)}catch(Re){St(q,q.return,Re)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,qd(i,o))));break;case 19:Ms(r,i),Ps(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,qd(i,u)));break;case 30:break;case 21:break;default:Ms(r,i),Ps(i)}}function Ps(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(a_(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,v=Ng(i);Fd(i,v,p);break;case 5:var _=o.stateNode;o.flags&32&&(ks(_,""),o.flags&=-33);var N=Ng(i);Fd(i,N,_);break;case 3:case 4:var q=o.stateNode.containerInfo,se=Ng(i);Ig(i,se,q);break;default:throw Error(s(161))}}catch(ue){St(i,i.return,ue)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function p_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;p_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function kr(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)c_(i,r.alternate,r),r=r.sibling}function Mo(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:wa(4,r,r.return),Mo(r);break;case 1:er(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&i_(r,r.return,o),Mo(r);break;case 27:xu(r.stateNode);case 26:case 5:er(r,r.return),Mo(r);break;case 22:r.memoizedState===null&&Mo(r);break;case 30:Mo(r);break;default:Mo(r)}i=i.sibling}}function Dr(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,p=i,v=r,_=v.flags;switch(v.tag){case 0:case 11:case 15:Dr(p,v,o),uu(4,v);break;case 1:if(Dr(p,v,o),u=v,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(se){St(u,u.return,se)}if(u=v,p=u.updateQueue,p!==null){var N=u.stateNode;try{var q=p.shared.hiddenCallbacks;if(q!==null)for(p.shared.hiddenCallbacks=null,p=0;p<q.length;p++)$x(q[p],N)}catch(se){St(u,u.return,se)}}o&&_&64&&s_(v),hu(v,v.return);break;case 27:o_(v);case 26:case 5:Dr(p,v,o),o&&u===null&&_&4&&r_(v),hu(v,v.return);break;case 12:Dr(p,v,o);break;case 31:Dr(p,v,o),o&&_&4&&d_(p,v);break;case 13:Dr(p,v,o),o&&_&4&&f_(p,v);break;case 22:v.memoizedState===null&&Dr(p,v,o),hu(v,v.return);break;case 30:break;default:Dr(p,v,o)}r=r.sibling}}function Dg(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Qc(o))}function Mg(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Qc(i))}function Di(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)g_(i,r,o,u),r=r.sibling}function g_(i,r,o,u){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Di(i,r,o,u),p&2048&&uu(9,r);break;case 1:Di(i,r,o,u);break;case 3:Di(i,r,o,u),p&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Qc(i)));break;case 12:if(p&2048){Di(i,r,o,u),i=r.stateNode;try{var v=r.memoizedProps,_=v.id,N=v.onPostCommit;typeof N=="function"&&N(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){St(r,r.return,q)}}else Di(i,r,o,u);break;case 31:Di(i,r,o,u);break;case 13:Di(i,r,o,u);break;case 23:break;case 22:v=r.stateNode,_=r.alternate,r.memoizedState!==null?v._visibility&2?Di(i,r,o,u):du(i,r):v._visibility&2?Di(i,r,o,u):(v._visibility|=2,kl(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),p&2048&&Dg(_,r);break;case 24:Di(i,r,o,u),p&2048&&Mg(r.alternate,r);break;default:Di(i,r,o,u)}}function kl(i,r,o,u,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var v=i,_=r,N=o,q=u,se=_.flags;switch(_.tag){case 0:case 11:case 15:kl(v,_,N,q,p),uu(8,_);break;case 23:break;case 22:var ue=_.stateNode;_.memoizedState!==null?ue._visibility&2?kl(v,_,N,q,p):du(v,_):(ue._visibility|=2,kl(v,_,N,q,p)),p&&se&2048&&Dg(_.alternate,_);break;case 24:kl(v,_,N,q,p),p&&se&2048&&Mg(_.alternate,_);break;default:kl(v,_,N,q,p)}r=r.sibling}}function du(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,p=u.flags;switch(u.tag){case 22:du(o,u),p&2048&&Dg(u.alternate,u);break;case 24:du(o,u),p&2048&&Mg(u.alternate,u);break;default:du(o,u)}r=r.sibling}}var fu=8192;function Dl(i,r,o){if(i.subtreeFlags&fu)for(i=i.child;i!==null;)y_(i,r,o),i=i.sibling}function y_(i,r,o){switch(i.tag){case 26:Dl(i,r,o),i.flags&fu&&i.memoizedState!==null&&AD(o,ki,i.memoizedState,i.memoizedProps);break;case 5:Dl(i,r,o);break;case 3:case 4:var u=ki;ki=sf(i.stateNode.containerInfo),Dl(i,r,o),ki=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=fu,fu=16777216,Dl(i,r,o),fu=u):Dl(i,r,o));break;default:Dl(i,r,o)}}function v_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function mu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Fn=u,x_(u,i)}v_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)b_(i),i=i.sibling}function b_(i){switch(i.tag){case 0:case 11:case 15:mu(i),i.flags&2048&&wa(9,i,i.return);break;case 3:mu(i);break;case 12:mu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Hd(i)):mu(i);break;default:mu(i)}}function Hd(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Fn=u,x_(u,i)}v_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:wa(8,r,r.return),Hd(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Hd(r));break;default:Hd(r)}i=i.sibling}}function x_(i,r){for(;Fn!==null;){var o=Fn;switch(o.tag){case 0:case 11:case 15:wa(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Qc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Fn=u;else e:for(o=i;Fn!==null;){u=Fn;var p=u.sibling,v=u.return;if(u_(u),u===o){Fn=null;break e}if(p!==null){p.return=v,Fn=p;break e}Fn=v}}}var Bk={getCacheForType:function(i){var r=Qn(_n),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Qn(_n).controller.signal}},Fk=typeof WeakMap=="function"?WeakMap:Map,xt=0,Pt=null,et=null,nt=0,Et=0,Qs=null,_a=!1,Ml=!1,Pg=!1,Mr=0,cn=0,Ta=0,Po=0,jg=0,Js=0,Pl=0,pu=null,js=null,Og=!1,Gd=0,w_=0,$d=1/0,Kd=null,Ea=null,Mn=0,Sa=null,jl=null,Pr=0,Vg=0,Lg=null,__=null,gu=0,Ug=null;function Zs(){return(xt&2)!==0&&nt!==0?nt&-nt:J.T!==null?Gg():ys()}function T_(){if(Js===0)if((nt&536870912)===0||lt){var i=qs;qs<<=1,(qs&3932160)===0&&(qs=262144),Js=i}else Js=536870912;return i=Xs.current,i!==null&&(i.flags|=32),Js}function Os(i,r,o){(i===Pt&&(Et===2||Et===9)||i.cancelPendingCommit!==null)&&(Ol(i,0),Aa(i,nt,Js,!1)),ss(i,o),((xt&2)===0||i!==Pt)&&(i===Pt&&((xt&2)===0&&(Po|=o),cn===4&&Aa(i,nt,Js,!1)),tr(i))}function E_(i,r,o){if((xt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||rn(i,r),p=u?Gk(i,r):Bg(i,r,!0),v=u;do{if(p===0){Ml&&!u&&Aa(i,r,0,!1);break}else{if(o=i.current.alternate,v&&!qk(o)){p=Bg(i,r,!1),v=!1;continue}if(p===2){if(v=r,i.errorRecoveryDisabledLanes&v)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var N=i;p=pu;var q=N.current.memoizedState.isDehydrated;if(q&&(Ol(N,_).flags|=256),_=Bg(N,_,!1),_!==2){if(Pg&&!q){N.errorRecoveryDisabledLanes|=v,Po|=v,p=4;break e}v=js,js=p,v!==null&&(js===null?js=v:js.push.apply(js,v))}p=_}if(v=!1,p!==2)continue}}if(p===1){Ol(i,0),Aa(i,r,0,!0);break}e:{switch(u=i,v=p,v){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Aa(u,r,Js,!_a);break e;case 2:js=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=Gd+300-Gt(),10<p)){if(Aa(u,r,Js,!_a),Tt(u,0,!0)!==0)break e;Pr=r,u.timeoutHandle=t1(S_.bind(null,u,o,js,Kd,Og,r,Js,Po,Pl,_a,v,"Throttled",-0,0),p);break e}S_(u,o,js,Kd,Og,r,Js,Po,Pl,_a,v,null,-0,0)}}break}while(!0);tr(i)}function S_(i,r,o,u,p,v,_,N,q,se,ue,fe,ae,le){if(i.timeoutHandle=-1,fe=r.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Si},y_(r,v,fe);var Re=(v&62914560)===v?Gd-Gt():(v&4194048)===v?w_-Gt():0;if(Re=CD(fe,Re),Re!==null){Pr=v,i.cancelPendingCommit=Re(M_.bind(null,i,r,v,o,u,p,_,N,q,ue,fe,null,ae,le)),Aa(i,v,_,!se);return}}M_(i,r,v,o,u,p,_,N,q)}function qk(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],v=p.getSnapshot;p=p.value;try{if(!Ks(v(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Aa(i,r,o,u){r&=~jg,r&=~Po,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var p=r;0<p;){var v=31-Dt(p),_=1<<v;u[v]=-1,p&=~_}o!==0&&an(i,o,r)}function Yd(){return(xt&6)===0?(yu(0),!1):!0}function zg(){if(et!==null){if(Et===0)var i=et.return;else i=et,Tr=So=null,ng(i),Al=null,Zc=0,i=et;for(;i!==null;)n_(i.alternate,i),i=i.return;et=null}}function Ol(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,cD(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Pr=0,zg(),Pt=i,et=o=wr(i.current,null),nt=r,Et=0,Qs=null,_a=!1,Ml=rn(i,r),Pg=!1,Pl=Js=jg=Po=Ta=cn=0,js=pu=null,Og=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var p=31-Dt(u),v=1<<p;r|=i[p],u&=~v}return Mr=r,pd(),o}function A_(i,r){$e=null,J.H=ou,r===Sl||r===Td?(r=Fx(),Et=3):r===Hp?(r=Fx(),Et=4):Et=r===vg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Qs=r,et===null&&(cn=1,Vd(i,li(r,i.current)))}function C_(){var i=Xs.current;return i===null?!0:(nt&4194048)===nt?di===null:(nt&62914560)===nt||(nt&536870912)!==0?i===di:!1}function R_(){var i=J.H;return J.H=ou,i===null?ou:i}function N_(){var i=J.A;return J.A=Bk,i}function Xd(){cn=4,_a||(nt&4194048)!==nt&&Xs.current!==null||(Ml=!0),(Ta&134217727)===0&&(Po&134217727)===0||Pt===null||Aa(Pt,nt,Js,!1)}function Bg(i,r,o){var u=xt;xt|=2;var p=R_(),v=N_();(Pt!==i||nt!==r)&&(Kd=null,Ol(i,r)),r=!1;var _=cn;e:do try{if(Et!==0&&et!==null){var N=et,q=Qs;switch(Et){case 8:zg(),_=6;break e;case 3:case 2:case 9:case 6:Xs.current===null&&(r=!0);var se=Et;if(Et=0,Qs=null,Vl(i,N,q,se),o&&Ml){_=0;break e}break;default:se=Et,Et=0,Qs=null,Vl(i,N,q,se)}}Hk(),_=cn;break}catch(ue){A_(i,ue)}while(!0);return r&&i.shellSuspendCounter++,Tr=So=null,xt=u,J.H=p,J.A=v,et===null&&(Pt=null,nt=0,pd()),_}function Hk(){for(;et!==null;)I_(et)}function Gk(i,r){var o=xt;xt|=2;var u=R_(),p=N_();Pt!==i||nt!==r?(Kd=null,$d=Gt()+500,Ol(i,r)):Ml=rn(i,r);e:do try{if(Et!==0&&et!==null){r=et;var v=Qs;t:switch(Et){case 1:Et=0,Qs=null,Vl(i,r,v,1);break;case 2:case 9:if(zx(v)){Et=0,Qs=null,k_(r);break}r=function(){Et!==2&&Et!==9||Pt!==i||(Et=7),tr(i)},v.then(r,r);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:zx(v)?(Et=0,Qs=null,k_(r)):(Et=0,Qs=null,Vl(i,r,v,7));break;case 5:var _=null;switch(et.tag){case 26:_=et.memoizedState;case 5:case 27:var N=et;if(_?g1(_):N.stateNode.complete){Et=0,Qs=null;var q=N.sibling;if(q!==null)et=q;else{var se=N.return;se!==null?(et=se,Wd(se)):et=null}break t}}Et=0,Qs=null,Vl(i,r,v,5);break;case 6:Et=0,Qs=null,Vl(i,r,v,6);break;case 8:zg(),cn=6;break e;default:throw Error(s(462))}}$k();break}catch(ue){A_(i,ue)}while(!0);return Tr=So=null,J.H=u,J.A=p,xt=o,et!==null?0:(Pt=null,nt=0,pd(),cn)}function $k(){for(;et!==null&&!zs();)I_(et)}function I_(i){var r=e_(i.alternate,i,Mr);i.memoizedProps=i.pendingProps,r===null?Wd(i):et=r}function k_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Yw(o,r,r.pendingProps,r.type,void 0,nt);break;case 11:r=Yw(o,r,r.pendingProps,r.type.render,r.ref,nt);break;case 5:ng(r);default:n_(o,r),r=et=Nx(r,Mr),r=e_(o,r,Mr)}i.memoizedProps=i.pendingProps,r===null?Wd(i):et=r}function Vl(i,r,o,u){Tr=So=null,ng(r),Al=null,Zc=0;var p=r.return;try{if(Pk(i,p,r,o,nt)){cn=1,Vd(i,li(o,i.current)),et=null;return}}catch(v){if(p!==null)throw et=p,v;cn=1,Vd(i,li(o,i.current)),et=null;return}r.flags&32768?(lt||u===1?i=!0:Ml||(nt&536870912)!==0?i=!1:(_a=i=!0,(u===2||u===9||u===3||u===6)&&(u=Xs.current,u!==null&&u.tag===13&&(u.flags|=16384))),D_(r,i)):Wd(r)}function Wd(i){var r=i;do{if((r.flags&32768)!==0){D_(r,_a);return}i=r.return;var o=Vk(r.alternate,r,Mr);if(o!==null){et=o;return}if(r=r.sibling,r!==null){et=r;return}et=r=i}while(r!==null);cn===0&&(cn=5)}function D_(i,r){do{var o=Lk(i.alternate,i);if(o!==null){o.flags&=32767,et=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){et=i;return}et=i=o}while(i!==null);cn=6,et=null}function M_(i,r,o,u,p,v,_,N,q){i.cancelPendingCommit=null;do Qd();while(Mn!==0);if((xt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(v=r.lanes|r.childLanes,v|=Np,zt(i,o,v,_,N,q),i===Pt&&(et=Pt=null,nt=0),jl=r,Sa=i,Pr=o,Vg=v,Lg=p,__=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Wk(Jt,function(){return L_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,p=Y.p,Y.p=2,_=xt,xt|=4;try{Uk(i,r,o)}finally{xt=_,Y.p=p,J.T=u}}Mn=1,P_(),j_(),O_()}}function P_(){if(Mn===1){Mn=0;var i=Sa,r=jl,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=Y.p;Y.p=2;var p=xt;xt|=4;try{m_(r,i);var v=Zg,_=xx(i.containerInfo),N=v.focusedElem,q=v.selectionRange;if(_!==N&&N&&N.ownerDocument&&bx(N.ownerDocument.documentElement,N)){if(q!==null&&Ep(N)){var se=q.start,ue=q.end;if(ue===void 0&&(ue=se),"selectionStart"in N)N.selectionStart=se,N.selectionEnd=Math.min(ue,N.value.length);else{var fe=N.ownerDocument||document,ae=fe&&fe.defaultView||window;if(ae.getSelection){var le=ae.getSelection(),Re=N.textContent.length,je=Math.min(q.start,Re),kt=q.end===void 0?je:Math.min(q.end,Re);!le.extend&&je>kt&&(_=kt,kt=je,je=_);var Q=vx(N,je),G=vx(N,kt);if(Q&&G&&(le.rangeCount!==1||le.anchorNode!==Q.node||le.anchorOffset!==Q.offset||le.focusNode!==G.node||le.focusOffset!==G.offset)){var ne=fe.createRange();ne.setStart(Q.node,Q.offset),le.removeAllRanges(),je>kt?(le.addRange(ne),le.extend(G.node,G.offset)):(ne.setEnd(G.node,G.offset),le.addRange(ne))}}}}for(fe=[],le=N;le=le.parentNode;)le.nodeType===1&&fe.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<fe.length;N++){var he=fe[N];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}uf=!!Jg,Zg=Jg=null}finally{xt=p,Y.p=u,J.T=o}}i.current=r,Mn=2}}function j_(){if(Mn===2){Mn=0;var i=Sa,r=jl,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=Y.p;Y.p=2;var p=xt;xt|=4;try{c_(i,r.alternate,r)}finally{xt=p,Y.p=u,J.T=o}}Mn=3}}function O_(){if(Mn===4||Mn===3){Mn=0,As();var i=Sa,r=jl,o=Pr,u=__;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Mn=5:(Mn=0,jl=Sa=null,V_(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ea=null),Yn(o),r=r.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot($t,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=J.T,p=Y.p,Y.p=2,J.T=null;try{for(var v=i.onRecoverableError,_=0;_<u.length;_++){var N=u[_];v(N.value,{componentStack:N.stack})}}finally{J.T=r,Y.p=p}}(Pr&3)!==0&&Qd(),tr(i),p=i.pendingLanes,(o&261930)!==0&&(p&42)!==0?i===Ug?gu++:(gu=0,Ug=i):gu=0,yu(0)}}function V_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Qc(r)))}function Qd(){return P_(),j_(),O_(),L_()}function L_(){if(Mn!==5)return!1;var i=Sa,r=Vg;Vg=0;var o=Yn(Pr),u=J.T,p=Y.p;try{Y.p=32>o?32:o,J.T=null,o=Lg,Lg=null;var v=Sa,_=Pr;if(Mn=0,jl=Sa=null,Pr=0,(xt&6)!==0)throw Error(s(331));var N=xt;if(xt|=4,b_(v.current),g_(v,v.current,_,o),xt=N,yu(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot($t,v)}catch{}return!0}finally{Y.p=p,J.T=u,V_(i,r)}}function U_(i,r,o){r=li(o,r),r=yg(i.stateNode,r,2),i=va(i,r,2),i!==null&&(ss(i,2),tr(i))}function St(i,r,o){if(i.tag===3)U_(i,i,o);else for(;r!==null;){if(r.tag===3){U_(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ea===null||!Ea.has(u))){i=li(o,i),o=zw(2),u=va(r,o,2),u!==null&&(Bw(o,u,r,i),ss(u,2),tr(u));break}}r=r.return}}function Fg(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new Fk;var p=new Set;u.set(r,p)}else p=u.get(r),p===void 0&&(p=new Set,u.set(r,p));p.has(o)||(Pg=!0,p.add(o),i=Kk.bind(null,i,r,o),r.then(i,i))}function Kk(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Pt===i&&(nt&o)===o&&(cn===4||cn===3&&(nt&62914560)===nt&&300>Gt()-Gd?(xt&2)===0&&Ol(i,0):jg|=o,Pl===nt&&(Pl=0)),tr(i)}function z_(i,r){r===0&&(r=gt()),i=_o(i,r),i!==null&&(ss(i,r),tr(i))}function Yk(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),z_(i,o)}function Xk(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),z_(i,o)}function Wk(i,r){return Ke(i,r)}var Jd=null,Ll=null,qg=!1,Zd=!1,Hg=!1,Ca=0;function tr(i){i!==Ll&&i.next===null&&(Ll===null?Jd=Ll=i:Ll=Ll.next=i),Zd=!0,qg||(qg=!0,Jk())}function yu(i,r){if(!Hg&&Zd){Hg=!0;do for(var o=!1,u=Jd;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var v=0;else{var _=u.suspendedLanes,N=u.pingedLanes;v=(1<<31-Dt(42|i)+1)-1,v&=p&~(_&~N),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,H_(u,v))}else v=nt,v=Tt(u,u===Pt?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||rn(u,v)||(o=!0,H_(u,v));u=u.next}while(o);Hg=!1}}function Qk(){B_()}function B_(){Zd=qg=!1;var i=0;Ca!==0&&lD()&&(i=Ca);for(var r=Gt(),o=null,u=Jd;u!==null;){var p=u.next,v=F_(u,r);v===0?(u.next=null,o===null?Jd=p:o.next=p,p===null&&(Ll=o)):(o=u,(i!==0||(v&3)!==0)&&(Zd=!0)),u=p}Mn!==0&&Mn!==5||yu(i),Ca!==0&&(Ca=0)}function F_(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var _=31-Dt(v),N=1<<_,q=p[_];q===-1?((N&o)===0||(N&u)!==0)&&(p[_]=fn(N,r)):q<=r&&(i.expiredLanes|=N),v&=~N}if(r=Pt,o=nt,o=Tt(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Et===2||Et===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ln(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||rn(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Ln(u),Yn(o)){case 2:case 8:o=jt;break;case 32:o=Jt;break;case 268435456:o=Bs;break;default:o=Jt}return u=q_.bind(null,i),o=Ke(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Ln(u),i.callbackPriority=2,i.callbackNode=null,2}function q_(i,r){if(Mn!==0&&Mn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Qd()&&i.callbackNode!==o)return null;var u=nt;return u=Tt(i,i===Pt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(E_(i,u,r),F_(i,Gt()),i.callbackNode!=null&&i.callbackNode===o?q_.bind(null,i):null)}function H_(i,r){if(Qd())return null;E_(i,r,!0)}function Jk(){uD(function(){(xt&6)!==0?Ke(Cs,Qk):B_()})}function Gg(){if(Ca===0){var i=Tl;i===0&&(i=Rs,Rs<<=1,(Rs&261888)===0&&(Rs=256)),Ca=i}return Ca}function G_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ll(""+i)}function $_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function Zk(i,r,o,u,p){if(r==="submit"&&o&&o.stateNode===p){var v=G_((p[Lt]||null).action),_=u.submitter;_&&(r=(r=_[Lt]||null)?G_(r.formAction):_.getAttribute("formAction"),r!==null&&(v=r,_=null));var N=new Yi("action","action",null,u,p);i.push({event:N,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ca!==0){var q=_?$_(p,_):new FormData(p);hg(o,{pending:!0,data:q,method:p.method,action:v},null,q)}}else typeof v=="function"&&(N.preventDefault(),q=_?$_(p,_):new FormData(p),hg(o,{pending:!0,data:q,method:p.method,action:v},v,q))},currentTarget:p}]})}}for(var $g=0;$g<Rp.length;$g++){var Kg=Rp[$g],eD=Kg.toLowerCase(),tD=Kg[0].toUpperCase()+Kg.slice(1);Ii(eD,"on"+tD)}Ii(Tx,"onAnimationEnd"),Ii(Ex,"onAnimationIteration"),Ii(Sx,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(yk,"onTransitionRun"),Ii(vk,"onTransitionStart"),Ii(bk,"onTransitionCancel"),Ii(Ax,"onTransitionEnd"),Is("onMouseEnter",["mouseout","mouseover"]),Is("onMouseLeave",["mouseout","mouseover"]),Is("onPointerEnter",["pointerout","pointerover"]),Is("onPointerLeave",["pointerout","pointerover"]),$s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$s("onBeforeInput",["compositionend","keypress","textInput","paste"]),$s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vu));function K_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],p=u.event;u=u.listeners;e:{var v=void 0;if(r)for(var _=u.length-1;0<=_;_--){var N=u[_],q=N.instance,se=N.currentTarget;if(N=N.listener,q!==v&&p.isPropagationStopped())break e;v=N,p.currentTarget=se;try{v(p)}catch(ue){md(ue)}p.currentTarget=null,v=q}else for(_=0;_<u.length;_++){if(N=u[_],q=N.instance,se=N.currentTarget,N=N.listener,q!==v&&p.isPropagationStopped())break e;v=N,p.currentTarget=se;try{v(p)}catch(ue){md(ue)}p.currentTarget=null,v=q}}}}function tt(i,r){var o=r[Gi];o===void 0&&(o=r[Gi]=new Set);var u=i+"__bubble";o.has(u)||(Y_(r,i,2,!1),o.add(u))}function Yg(i,r,o){var u=0;r&&(u|=4),Y_(o,i,u,r)}var ef="_reactListening"+Math.random().toString(36).slice(2);function Xg(i){if(!i[ef]){i[ef]=!0,ta.forEach(function(o){o!=="selectionchange"&&(nD.has(o)||Yg(o,!1,i),Yg(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[ef]||(r[ef]=!0,Yg("selectionchange",!1,r))}}function Y_(i,r,o,u){switch(T1(r)){case 2:var p=ID;break;case 8:p=kD;break;default:p=uy}o=p.bind(null,r,o,i),p=void 0,!mo||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(r,o,{capture:!0,passive:p}):i.addEventListener(r,o,!0):p!==void 0?i.addEventListener(r,o,{passive:p}):i.addEventListener(r,o,!1)}function Wg(i,r,o,u,p){var v=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var N=u.stateNode.containerInfo;if(N===p)break;if(_===4)for(_=u.return;_!==null;){var q=_.tag;if((q===3||q===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;N!==null;){if(_=Ns(N),_===null)return;if(q=_.tag,q===5||q===6||q===26||q===27){u=v=_;continue e}N=N.parentNode}}u=u.return}la(function(){var se=v,ue=ii(o),fe=[];e:{var ae=Cx.get(i);if(ae!==void 0){var le=Yi,Re=i;switch(i){case"keypress":if(go(o)===0)break e;case"keydown":case"keyup":le=hd;break;case"focusin":Re="focus",le=vo;break;case"focusout":Re="blur",le=vo;break;case"beforeblur":case"afterblur":le=vo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=nd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=w;break;case Tx:case Ex:case Sx:le=id;break;case Ax:le=M;break;case"scroll":case"scrollend":le=Fc;break;case"wheel":le=oe;break;case"copy":case"cut":case"paste":le=rd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=xr;break;case"toggle":case"beforetoggle":le=Ge}var je=(r&4)!==0,kt=!je&&(i==="scroll"||i==="scrollend"),Q=je?ae!==null?ae+"Capture":null:ae;je=[];for(var G=se,ne;G!==null;){var he=G;if(ne=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ne===null||Q===null||(he=Ai(G,Q),he!=null&&je.push(bu(G,he,ne))),kt)break;G=G.return}0<je.length&&(ae=new le(ae,Re,null,o,ue),fe.push({event:ae,listeners:je}))}}if((r&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",ae&&o!==Uc&&(Re=o.relatedTarget||o.fromElement)&&(Ns(Re)||Re[Hs]))break e;if((le||ae)&&(ae=ue.window===ue?ue:(ae=ue.ownerDocument)?ae.defaultView||ae.parentWindow:window,le?(Re=o.relatedTarget||o.toElement,le=se,Re=Re?Ns(Re):null,Re!==null&&(kt=l(Re),je=Re.tag,Re!==kt||je!==5&&je!==27&&je!==6)&&(Re=null)):(le=null,Re=se),le!==Re)){if(je=qc,he="onMouseLeave",Q="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(je=xr,he="onPointerLeave",Q="onPointerEnter",G="pointer"),kt=le==null?ae:Bn(le),ne=Re==null?ae:Bn(Re),ae=new je(he,G+"leave",le,o,ue),ae.target=kt,ae.relatedTarget=ne,he=null,Ns(ue)===se&&(je=new je(Q,G+"enter",Re,o,ue),je.target=ne,je.relatedTarget=kt,he=je),kt=he,le&&Re)t:{for(je=sD,Q=le,G=Re,ne=0,he=Q;he;he=je(he))ne++;he=0;for(var Pe=G;Pe;Pe=je(Pe))he++;for(;0<ne-he;)Q=je(Q),ne--;for(;0<he-ne;)G=je(G),he--;for(;ne--;){if(Q===G||G!==null&&Q===G.alternate){je=Q;break t}Q=je(Q),G=je(G)}je=null}else je=null;le!==null&&X_(fe,ae,le,je,!1),Re!==null&&kt!==null&&X_(fe,kt,Re,je,!0)}}e:{if(ae=se?Bn(se):window,le=ae.nodeName&&ae.nodeName.toLowerCase(),le==="select"||le==="input"&&ae.type==="file")var ft=dx;else if(ux(ae))if(fx)ft=mk;else{ft=dk;var ke=hk}else le=ae.nodeName,!le||le.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?se&&ol(se.elementType)&&(ft=dx):ft=fk;if(ft&&(ft=ft(i,se))){hx(fe,ft,o,ue);break e}ke&&ke(i,ae,se),i==="focusout"&&se&&ae.type==="number"&&se.memoizedProps.value!=null&&kn(ae,"number",ae.value)}switch(ke=se?Bn(se):window,i){case"focusin":(ux(ke)||ke.contentEditable==="true")&&(pl=ke,Sp=se,Yc=null);break;case"focusout":Yc=Sp=pl=null;break;case"mousedown":Ap=!0;break;case"contextmenu":case"mouseup":case"dragend":Ap=!1,wx(fe,o,ue);break;case"selectionchange":if(gk)break;case"keydown":case"keyup":wx(fe,o,ue)}var Ye;if(bt)e:{switch(i){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else ml?bo(i,o)&&(st="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(st="onCompositionStart");st&&(Qi&&o.locale!=="ko"&&(ml||st!=="onCompositionStart"?st==="onCompositionEnd"&&ml&&(Ye=Bc()):(Ki=ue,zc="value"in Ki?Ki.value:Ki.textContent,ml=!0)),ke=tf(se,st),0<ke.length&&(st=new Wi(st,i,null,o,ue),fe.push({event:st,listeners:ke}),Ye?st.data=Ye:(Ye=fl(o),Ye!==null&&(st.data=Ye)))),(Ye=ai?ok(i,o):lk(i,o))&&(st=tf(se,"onBeforeInput"),0<st.length&&(ke=new Wi("onBeforeInput","beforeinput",null,o,ue),fe.push({event:ke,listeners:st}),ke.data=Ye)),Zk(fe,i,se,o,ue)}K_(fe,r)})}function bu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function tf(i,r){for(var o=r+"Capture",u=[];i!==null;){var p=i,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Ai(i,o),p!=null&&u.unshift(bu(i,p,v)),p=Ai(i,r),p!=null&&u.push(bu(i,p,v))),i.tag===3)return u;i=i.return}return[]}function sD(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function X_(i,r,o,u,p){for(var v=r._reactName,_=[];o!==null&&o!==u;){var N=o,q=N.alternate,se=N.stateNode;if(N=N.tag,q!==null&&q===u)break;N!==5&&N!==26&&N!==27||se===null||(q=se,p?(se=Ai(o,v),se!=null&&_.unshift(bu(o,se,q))):p||(se=Ai(o,v),se!=null&&_.push(bu(o,se,q)))),o=o.return}_.length!==0&&i.push({event:r,listeners:_})}var iD=/\r\n?/g,rD=/\u0000|\uFFFD/g;function W_(i){return(typeof i=="string"?i:""+i).replace(iD,`
`).replace(rD,"")}function Q_(i,r){return r=W_(r),W_(i)===r}function It(i,r,o,u,p,v){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||ks(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&ks(i,""+u);break;case"className":bs(i,"class",u);break;case"tabIndex":bs(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":bs(i,o,u);break;case"style":Lc(i,u,v);break;case"data":if(r!=="object"){bs(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ll(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(r!=="input"&&It(i,r,"name",p.name,p,null),It(i,r,"formEncType",p.formEncType,p,null),It(i,r,"formMethod",p.formMethod,p,null),It(i,r,"formTarget",p.formTarget,p,null)):(It(i,r,"encType",p.encType,p,null),It(i,r,"method",p.method,p,null),It(i,r,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ll(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Si);break;case"onScroll":u!=null&&tt("scroll",i);break;case"onScrollEnd":u!=null&&tt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=ll(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":tt("beforetoggle",i),tt("toggle",i),sa(i,"popover",u);break;case"xlinkActuate":Ze(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ze(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ze(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ze(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ze(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ze(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ze(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ze(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ze(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":sa(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=td.get(o)||o,sa(i,o,u))}}function Qg(i,r,o,u,p,v){switch(o){case"style":Lc(i,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?ks(i,u):(typeof u=="number"||typeof u=="bigint")&&ks(i,""+u);break;case"onScroll":u!=null&&tt("scroll",i);break;case"onScrollEnd":u!=null&&tt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),v=i[Lt]||null,v=v!=null?v[o]:null,typeof v=="function"&&i.removeEventListener(r,v,p),typeof u=="function")){typeof v!="function"&&v!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,p);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):sa(i,o,u)}}}function Zn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",i),tt("load",i);var u=!1,p=!1,v;for(v in o)if(o.hasOwnProperty(v)){var _=o[v];if(_!=null)switch(v){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:It(i,r,v,_,o,null)}}p&&It(i,r,"srcSet",o.srcSet,o,null),u&&It(i,r,"src",o.src,o,null);return;case"input":tt("invalid",i);var N=v=_=p=null,q=null,se=null;for(u in o)if(o.hasOwnProperty(u)){var ue=o[u];if(ue!=null)switch(u){case"name":p=ue;break;case"type":_=ue;break;case"checked":q=ue;break;case"defaultChecked":se=ue;break;case"value":v=ue;break;case"defaultValue":N=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,r));break;default:It(i,r,u,ue,o,null)}}mn(i,v,N,q,se,_,p,!1);return;case"select":tt("invalid",i),u=_=v=null;for(p in o)if(o.hasOwnProperty(p)&&(N=o[p],N!=null))switch(p){case"value":v=N;break;case"defaultValue":_=N;break;case"multiple":u=N;default:It(i,r,p,N,o,null)}r=v,o=_,i.multiple=!!u,r!=null?Dn(i,!!u,r,!1):o!=null&&Dn(i,!!u,o,!0);return;case"textarea":tt("invalid",i),v=p=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(N=o[_],N!=null))switch(_){case"value":u=N;break;case"defaultValue":p=N;break;case"children":v=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(91));break;default:It(i,r,_,N,o,null)}ra(i,u,p,v);return;case"option":for(q in o)o.hasOwnProperty(q)&&(u=o[q],u!=null)&&(q==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":It(i,r,q,u,o,null));return;case"dialog":tt("beforetoggle",i),tt("toggle",i),tt("cancel",i),tt("close",i);break;case"iframe":case"object":tt("load",i);break;case"video":case"audio":for(u=0;u<vu.length;u++)tt(vu[u],i);break;case"image":tt("error",i),tt("load",i);break;case"details":tt("toggle",i);break;case"embed":case"source":case"link":tt("error",i),tt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in o)if(o.hasOwnProperty(se)&&(u=o[se],u!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:It(i,r,se,u,o,null)}return;default:if(ol(r)){for(ue in o)o.hasOwnProperty(ue)&&(u=o[ue],u!==void 0&&Qg(i,r,ue,u,o,void 0));return}}for(N in o)o.hasOwnProperty(N)&&(u=o[N],u!=null&&It(i,r,N,u,o,null))}function aD(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,_=null,N=null,q=null,se=null,ue=null;for(le in o){var fe=o[le];if(o.hasOwnProperty(le)&&fe!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":q=fe;default:u.hasOwnProperty(le)||It(i,r,le,null,u,fe)}}for(var ae in u){var le=u[ae];if(fe=o[ae],u.hasOwnProperty(ae)&&(le!=null||fe!=null))switch(ae){case"type":v=le;break;case"name":p=le;break;case"checked":se=le;break;case"defaultChecked":ue=le;break;case"value":_=le;break;case"defaultValue":N=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,r));break;default:le!==fe&&It(i,r,ae,le,u,fe)}}Ct(i,_,N,q,se,ue,v,p);return;case"select":le=_=N=ae=null;for(v in o)if(q=o[v],o.hasOwnProperty(v)&&q!=null)switch(v){case"value":break;case"multiple":le=q;default:u.hasOwnProperty(v)||It(i,r,v,null,u,q)}for(p in u)if(v=u[p],q=o[p],u.hasOwnProperty(p)&&(v!=null||q!=null))switch(p){case"value":ae=v;break;case"defaultValue":N=v;break;case"multiple":_=v;default:v!==q&&It(i,r,p,v,u,q)}r=N,o=_,u=le,ae!=null?Dn(i,!!o,ae,!1):!!u!=!!o&&(r!=null?Dn(i,!!o,r,!0):Dn(i,!!o,o?[]:"",!1));return;case"textarea":le=ae=null;for(N in o)if(p=o[N],o.hasOwnProperty(N)&&p!=null&&!u.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:It(i,r,N,null,u,p)}for(_ in u)if(p=u[_],v=o[_],u.hasOwnProperty(_)&&(p!=null||v!=null))switch(_){case"value":ae=p;break;case"defaultValue":le=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==v&&It(i,r,_,p,u,v)}Zh(i,ae,le);return;case"option":for(var Re in o)ae=o[Re],o.hasOwnProperty(Re)&&ae!=null&&!u.hasOwnProperty(Re)&&(Re==="selected"?i.selected=!1:It(i,r,Re,null,u,ae));for(q in u)ae=u[q],le=o[q],u.hasOwnProperty(q)&&ae!==le&&(ae!=null||le!=null)&&(q==="selected"?i.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":It(i,r,q,ae,u,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in o)ae=o[je],o.hasOwnProperty(je)&&ae!=null&&!u.hasOwnProperty(je)&&It(i,r,je,null,u,ae);for(se in u)if(ae=u[se],le=o[se],u.hasOwnProperty(se)&&ae!==le&&(ae!=null||le!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,r));break;default:It(i,r,se,ae,u,le)}return;default:if(ol(r)){for(var kt in o)ae=o[kt],o.hasOwnProperty(kt)&&ae!==void 0&&!u.hasOwnProperty(kt)&&Qg(i,r,kt,void 0,u,ae);for(ue in u)ae=u[ue],le=o[ue],!u.hasOwnProperty(ue)||ae===le||ae===void 0&&le===void 0||Qg(i,r,ue,ae,u,le);return}}for(var Q in o)ae=o[Q],o.hasOwnProperty(Q)&&ae!=null&&!u.hasOwnProperty(Q)&&It(i,r,Q,null,u,ae);for(fe in u)ae=u[fe],le=o[fe],!u.hasOwnProperty(fe)||ae===le||ae==null&&le==null||It(i,r,fe,ae,u,le)}function J_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oD(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],v=p.transferSize,_=p.initiatorType,N=p.duration;if(v&&N&&J_(_)){for(_=0,N=p.responseEnd,u+=1;u<o.length;u++){var q=o[u],se=q.startTime;if(se>N)break;var ue=q.transferSize,fe=q.initiatorType;ue&&J_(fe)&&(q=q.responseEnd,_+=ue*(q<N?1:(N-se)/(q-se)))}if(--u,r+=8*(v+_)/(p.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Jg=null,Zg=null;function nf(i){return i.nodeType===9?i:i.ownerDocument}function Z_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e1(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function ey(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ty=null;function lD(){var i=window.event;return i&&i.type==="popstate"?i===ty?!1:(ty=i,!0):(ty=null,!1)}var t1=typeof setTimeout=="function"?setTimeout:void 0,cD=typeof clearTimeout=="function"?clearTimeout:void 0,n1=typeof Promise=="function"?Promise:void 0,uD=typeof queueMicrotask=="function"?queueMicrotask:typeof n1<"u"?function(i){return n1.resolve(null).then(i).catch(hD)}:t1;function hD(i){setTimeout(function(){throw i})}function Ra(i){return i==="head"}function s1(i,r){var o=r,u=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(p),Fl(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")xu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,xu(o);for(var v=o.firstChild;v;){var _=v.nextSibling,N=v.nodeName;v[vs]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=_}}else o==="body"&&xu(i.ownerDocument.body);o=p}while(o);Fl(r)}function i1(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function ny(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ny(o),is(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function dD(i,r,o,u){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[vs])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=fi(i.nextSibling),i===null)break}return null}function fD(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=fi(i.nextSibling),i===null))return null;return i}function r1(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=fi(i.nextSibling),i===null))return null;return i}function sy(i){return i.data==="$?"||i.data==="$~"}function iy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function mD(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function fi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var ry=null;function a1(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return fi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function o1(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function l1(i,r,o){switch(r=nf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function xu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);is(i)}var mi=new Map,c1=new Set;function sf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var jr=Y.d;Y.d={f:pD,r:gD,D:yD,C:vD,L:bD,m:xD,X:_D,S:wD,M:TD};function pD(){var i=jr.f(),r=Yd();return i||r}function gD(i){var r=zn(i);r!==null&&r.tag===5&&r.type==="form"?Aw(r):jr.r(i)}var Ul=typeof document>"u"?null:document;function u1(i,r,o){var u=Ul;if(u&&typeof r=="string"&&r){var p=ot(r);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),c1.has(p)||(c1.add(p),i={rel:i,crossOrigin:o,href:r},u.querySelector(p)===null&&(r=u.createElement("link"),Zn(r,"link",i),on(r),u.head.appendChild(r)))}}function yD(i){jr.D(i),u1("dns-prefetch",i,null)}function vD(i,r){jr.C(i,r),u1("preconnect",i,r)}function bD(i,r,o){jr.L(i,r,o);var u=Ul;if(u&&i&&r){var p='link[rel="preload"][as="'+ot(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+ot(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+ot(o.imageSizes)+'"]')):p+='[href="'+ot(i)+'"]';var v=p;switch(r){case"style":v=zl(i);break;case"script":v=Bl(i)}mi.has(v)||(i=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),mi.set(v,i),u.querySelector(p)!==null||r==="style"&&u.querySelector(wu(v))||r==="script"&&u.querySelector(_u(v))||(r=u.createElement("link"),Zn(r,"link",i),on(r),u.head.appendChild(r)))}}function xD(i,r){jr.m(i,r);var o=Ul;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+ot(u)+'"][href="'+ot(i)+'"]',v=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Bl(i)}if(!mi.has(v)&&(i=b({rel:"modulepreload",href:i},r),mi.set(v,i),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(_u(v)))return}u=o.createElement("link"),Zn(u,"link",i),on(u),o.head.appendChild(u)}}}function wD(i,r,o){jr.S(i,r,o);var u=Ul;if(u&&i){var p=Gs(u).hoistableStyles,v=zl(i);r=r||"default";var _=p.get(v);if(!_){var N={loading:0,preload:null};if(_=u.querySelector(wu(v)))N.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},o),(o=mi.get(v))&&ay(i,o);var q=_=u.createElement("link");on(q),Zn(q,"link",i),q._p=new Promise(function(se,ue){q.onload=se,q.onerror=ue}),q.addEventListener("load",function(){N.loading|=1}),q.addEventListener("error",function(){N.loading|=2}),N.loading|=4,rf(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:N},p.set(v,_)}}}function _D(i,r){jr.X(i,r);var o=Ul;if(o&&i){var u=Gs(o).hoistableScripts,p=Bl(i),v=u.get(p);v||(v=o.querySelector(_u(p)),v||(i=b({src:i,async:!0},r),(r=mi.get(p))&&oy(i,r),v=o.createElement("script"),on(v),Zn(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function TD(i,r){jr.M(i,r);var o=Ul;if(o&&i){var u=Gs(o).hoistableScripts,p=Bl(i),v=u.get(p);v||(v=o.querySelector(_u(p)),v||(i=b({src:i,async:!0,type:"module"},r),(r=mi.get(p))&&oy(i,r),v=o.createElement("script"),on(v),Zn(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function h1(i,r,o,u){var p=(p=ge.current)?sf(p):null;if(!p)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=zl(o.href),o=Gs(p).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=zl(o.href);var v=Gs(p).hoistableStyles,_=v.get(i);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,_),(v=p.querySelector(wu(i)))&&!v._p&&(_.instance=v,_.state.loading=5),mi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},mi.set(i,o),v||ED(p,i,o,_.state))),r&&u===null)throw Error(s(528,""));return _}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Bl(o),o=Gs(p).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function zl(i){return'href="'+ot(i)+'"'}function wu(i){return'link[rel="stylesheet"]['+i+"]"}function d1(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function ED(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Zn(r,"link",o),on(r),i.head.appendChild(r))}function Bl(i){return'[src="'+ot(i)+'"]'}function _u(i){return"script[async]"+i}function f1(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+ot(o.href)+'"]');if(u)return r.instance=u,on(u),u;var p=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),on(u),Zn(u,"style",p),rf(u,o.precedence,i),r.instance=u;case"stylesheet":p=zl(o.href);var v=i.querySelector(wu(p));if(v)return r.state.loading|=4,r.instance=v,on(v),v;u=d1(o),(p=mi.get(p))&&ay(u,p),v=(i.ownerDocument||i).createElement("link"),on(v);var _=v;return _._p=new Promise(function(N,q){_.onload=N,_.onerror=q}),Zn(v,"link",u),r.state.loading|=4,rf(v,o.precedence,i),r.instance=v;case"script":return v=Bl(o.src),(p=i.querySelector(_u(v)))?(r.instance=p,on(p),p):(u=o,(p=mi.get(v))&&(u=b({},o),oy(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),on(p),Zn(p,"link",u),i.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,rf(u,o.precedence,i));return r.instance}function rf(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,v=p,_=0;_<u.length;_++){var N=u[_];if(N.dataset.precedence===r)v=N;else if(v!==p)break}v?v.parentNode.insertBefore(i,v.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function ay(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function oy(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var af=null;function m1(i,r,o){if(af===null){var u=new Map,p=af=new Map;p.set(o,u)}else p=af,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var v=o[p];if(!(v[vs]||v[Mt]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var _=v.getAttribute(r)||"";_=i+_;var N=u.get(_);N?N.push(v):u.set(_,[v])}}return u}function p1(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function SD(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function g1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function AD(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=zl(u.href),v=r.querySelector(wu(p));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=of.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=v,on(v);return}v=r.ownerDocument||r,u=d1(u),(p=mi.get(p))&&ay(u,p),v=v.createElement("link"),on(v);var _=v;_._p=new Promise(function(N,q){_.onload=N,_.onerror=q}),Zn(v,"link",u),o.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=of.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var ly=0;function CD(i,r){return i.stylesheets&&i.count===0&&cf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&cf(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+r);0<i.imgBytes&&ly===0&&(ly=62500*oD());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&cf(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>ly?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function of(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var lf=null;function cf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,lf=new Map,r.forEach(RD,i),lf=null,of.call(i))}function RD(i,r){if(!(r.state.loading&4)){var o=lf.get(i);if(o)var u=o.get(null);else{o=new Map,lf.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var _=p[v];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}p=r.instance,_=p.getAttribute("data-precedence"),v=o.get(_)||u,v===u&&o.set(null,p),o.set(_,p),this.count++,u=of.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),v?v.parentNode.insertBefore(p,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),r.state.loading|=4}}var Tu={$$typeof:F,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function ND(i,r,o,u,p,v,_,N,q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.hiddenUpdates=Vt(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function y1(i,r,o,u,p,v,_,N,q,se,ue,fe){return i=new ND(i,r,o,_,q,se,ue,fe,N),r=1,v===!0&&(r|=24),v=Ys(3,null,null,r),i.current=v,v.stateNode=i,r=Bp(),r.refCount++,i.pooledCache=r,r.refCount++,v.memoizedState={element:u,isDehydrated:o,cache:r},Gp(v),i}function v1(i){return i?(i=vl,i):vl}function b1(i,r,o,u,p,v){p=v1(p),u.context===null?u.context=p:u.pendingContext=p,u=ya(r),u.payload={element:o},v=v===void 0?null:v,v!==null&&(u.callback=v),o=va(i,u,r),o!==null&&(Os(o,i,r),tu(o,i,r))}function x1(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function cy(i,r){x1(i,r),(i=i.alternate)&&x1(i,r)}function w1(i){if(i.tag===13||i.tag===31){var r=_o(i,67108864);r!==null&&Os(r,i,67108864),cy(i,67108864)}}function _1(i){if(i.tag===13||i.tag===31){var r=Zs();r=gs(r);var o=_o(i,r);o!==null&&Os(o,i,r),cy(i,r)}}var uf=!0;function ID(i,r,o,u){var p=J.T;J.T=null;var v=Y.p;try{Y.p=2,uy(i,r,o,u)}finally{Y.p=v,J.T=p}}function kD(i,r,o,u){var p=J.T;J.T=null;var v=Y.p;try{Y.p=8,uy(i,r,o,u)}finally{Y.p=v,J.T=p}}function uy(i,r,o,u){if(uf){var p=hy(u);if(p===null)Wg(i,r,u,hf,o),E1(i,u);else if(MD(p,i,r,o,u))u.stopPropagation();else if(E1(i,u),r&4&&-1<DD.indexOf(i)){for(;p!==null;){var v=zn(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var _=Ot(v.pendingLanes);if(_!==0){var N=v;for(N.pendingLanes|=2,N.entangledLanes|=2;_;){var q=1<<31-Dt(_);N.entanglements[1]|=q,_&=~q}tr(v),(xt&6)===0&&($d=Gt()+500,yu(0))}}break;case 31:case 13:N=_o(v,2),N!==null&&Os(N,v,2),Yd(),cy(v,2)}if(v=hy(u),v===null&&Wg(i,r,u,hf,o),v===p)break;p=v}p!==null&&u.stopPropagation()}else Wg(i,r,u,null,o)}}function hy(i){return i=ii(i),dy(i)}var hf=null;function dy(i){if(hf=null,i=Ns(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=h(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return hf=i,null}function T1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ms()){case Cs:return 2;case jt:return 8;case Jt:case ps:return 32;case Bs:return 268435456;default:return 32}default:return 32}}var fy=!1,Na=null,Ia=null,ka=null,Eu=new Map,Su=new Map,Da=[],DD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E1(i,r){switch(i){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":Eu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(r.pointerId)}}function Au(i,r,o,u,p,v){return i===null||i.nativeEvent!==v?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:v,targetContainers:[p]},r!==null&&(r=zn(r),r!==null&&w1(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),i)}function MD(i,r,o,u,p){switch(r){case"focusin":return Na=Au(Na,i,r,o,u,p),!0;case"dragenter":return Ia=Au(Ia,i,r,o,u,p),!0;case"mouseover":return ka=Au(ka,i,r,o,u,p),!0;case"pointerover":var v=p.pointerId;return Eu.set(v,Au(Eu.get(v)||null,i,r,o,u,p)),!0;case"gotpointercapture":return v=p.pointerId,Su.set(v,Au(Su.get(v)||null,i,r,o,u,p)),!0}return!1}function S1(i){var r=Ns(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,Kt(i.priority,function(){_1(o)});return}}else if(r===31){if(r=h(o),r!==null){i.blockedOn=r,Kt(i.priority,function(){_1(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function df(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=hy(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Uc=u,o.target.dispatchEvent(u),Uc=null}else return r=zn(o),r!==null&&w1(r),i.blockedOn=o,!1;r.shift()}return!0}function A1(i,r,o){df(i)&&o.delete(r)}function PD(){fy=!1,Na!==null&&df(Na)&&(Na=null),Ia!==null&&df(Ia)&&(Ia=null),ka!==null&&df(ka)&&(ka=null),Eu.forEach(A1),Su.forEach(A1)}function ff(i,r){i.blockedOn===r&&(i.blockedOn=null,fy||(fy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,PD)))}var mf=null;function C1(i){mf!==i&&(mf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){mf===i&&(mf=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],p=i[r+2];if(typeof u!="function"){if(dy(u||o)===null)continue;break}var v=zn(o);v!==null&&(i.splice(r,3),r-=3,hg(v,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function Fl(i){function r(q){return ff(q,i)}Na!==null&&ff(Na,i),Ia!==null&&ff(Ia,i),ka!==null&&ff(ka,i),Eu.forEach(r),Su.forEach(r);for(var o=0;o<Da.length;o++){var u=Da[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Da.length&&(o=Da[0],o.blockedOn===null);)S1(o),o.blockedOn===null&&Da.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],v=o[u+1],_=p[Lt]||null;if(typeof v=="function")_||C1(o);else if(_){var N=null;if(v&&v.hasAttribute("formAction")){if(p=v,_=v[Lt]||null)N=_.formAction;else if(dy(p)!==null)continue}else N=_.action;typeof N=="function"?o[u+1]=N:(o.splice(u,3),u-=3),C1(o)}}}function R1(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(_){return p=_})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function my(i){this._internalRoot=i}pf.prototype.render=my.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Zs();b1(o,u,i,r,null,null)},pf.prototype.unmount=my.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;b1(i.current,2,null,i,null,null),Yd(),r[Hs]=null}};function pf(i){this._internalRoot=i}pf.prototype.unstable_scheduleHydration=function(i){if(i){var r=ys();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Da.length&&r!==0&&r<Da[o].priority;o++);Da.splice(o,0,i),o===0&&S1(i)}};var N1=e.version;if(N1!=="19.2.3")throw Error(s(527,N1,"19.2.3"));Y.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var jD={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gf.isDisabled&&gf.supportsFiber)try{$t=gf.inject(jD),sn=gf}catch{}}return Ru.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",p=Ow,v=Vw,_=Lw;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=y1(i,1,!1,null,null,o,u,null,p,v,_,R1),i[Hs]=r.current,Xg(i),new my(r)},Ru.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,p="",v=Ow,_=Vw,N=Lw,q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.formState!==void 0&&(q=o.formState)),r=y1(i,1,!0,r,o??null,u,p,q,v,_,N,R1),r.context=v1(null),o=r.current,u=Zs(),u=gs(u),p=ya(u),p.callback=null,va(o,p,u),o=u,r.current.lanes=o,ss(r,o),tr(r),i[Hs]=r.current,Xg(i),new pf(r)},Ru.version="19.2.3",Ru}var U1;function GD(){if(U1)return yy.exports;U1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yy.exports=HD(),yy.exports}var $D=GD();var z1="popstate";function KD(t={}){function e(s,a){let{pathname:l,search:c,hash:h}=s.location;return l0("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ah(a)}return XD(e,n,null,t)}function Wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ti(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YD(){return Math.random().toString(36).substring(2,10)}function B1(t,e){return{usr:t.state,key:t.key,idx:e}}function l0(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?bc(e):e,state:n,key:e&&e.key||s||YD()}}function ah({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function bc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function XD(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,h="POP",d=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function b(){h="POP";let R=g(),O=R==null?null:R-m;m=R,d&&d({action:h,location:I.location,delta:O})}function x(R,O){h="PUSH";let H=l0(I.location,R,O);m=g()+1;let F=B1(H,m),re=I.createHref(H);try{c.pushState(F,"",re)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;a.location.assign(re)}l&&d&&d({action:h,location:I.location,delta:1})}function A(R,O){h="REPLACE";let H=l0(I.location,R,O);m=g();let F=B1(H,m),re=I.createHref(H);c.replaceState(F,"",re),l&&d&&d({action:h,location:I.location,delta:0})}function k(R){return WD(R)}let I={get action(){return h},get location(){return t(a,c)},listen(R){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(z1,b),d=R,()=>{a.removeEventListener(z1,b),d=null}},createHref(R){return e(a,R)},createURL:k,encodeLocation(R){let O=k(R);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:x,replace:A,go(R){return c.go(R)}};return I}function WD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:ah(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function bA(t,e,n="/"){return QD(t,e,n,!1)}function QD(t,e,n,s){let a=typeof e=="string"?bc(e):e,l=Kr(a.pathname||"/",n);if(l==null)return null;let c=xA(t);JD(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let m=cM(l);h=oM(c[d],m,s)}return h}function xA(t,e=[],n=[],s="",a=!1){let l=(c,h,d=a,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(s)&&d)return;Wt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length)}let b=qr([s,g.relativePath]),x=n.concat(g);c.children&&c.children.length>0&&(Wt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),xA(c.children,e,x,b,d)),!(c.path==null&&!c.index)&&e.push({path:b,score:rM(b,c.index),routesMeta:x})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let d of wA(c.path))l(c,h,!0,d)}),e}function wA(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=wA(s.join("/")),h=[];return h.push(...c.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function JD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aM(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var ZD=/^:[\w-]+$/,eM=3,tM=2,nM=1,sM=10,iM=-2,F1=t=>t==="*";function rM(t,e){let n=t.split("/"),s=n.length;return n.some(F1)&&(s+=iM),e&&(s+=tM),n.filter(a=>!F1(a)).reduce((a,l)=>a+(ZD.test(l)?eM:l===""?nM:sM),s)}function aM(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function oM(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let h=0;h<s.length;++h){let d=s[h],m=h===s.length-1,g=l==="/"?e:e.slice(l.length)||"/",b=Zf({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),x=d.route;if(!b&&m&&n&&!s[s.length-1].route.index&&(b=Zf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:qr([l,b.pathname]),pathnameBase:fM(qr([l,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(l=qr([l,b.pathnameBase]))}return c}function Zf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=lM(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((m,{paramName:g,isOptional:b},x)=>{if(g==="*"){let k=h[x]||"";c=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const A=h[x];return b&&!A?m[g]=void 0:m[g]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function lM(t,e=!1,n=!0){Ti(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function cM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ti(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Kr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var _A=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uM=t=>_A.test(t);function hM(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?bc(t):t,l;if(n)if(uM(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Ti(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=q1(n.substring(1),"/"):l=q1(n,e)}else l=e;return{pathname:l,search:mM(s),hash:pM(a)}}function q1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function wy(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dv(t){let e=dM(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function fv(t,e,n,s=!1){let a;typeof t=="string"?a=bc(t):(a={...t},Wt(!a.pathname||!a.pathname.includes("?"),wy("?","pathname","search",a)),Wt(!a.pathname||!a.pathname.includes("#"),wy("#","pathname","hash",a)),Wt(!a.search||!a.search.includes("#"),wy("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let b=e.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),b-=1;a.pathname=x.join("/")}h=b>=0?e[b]:"/"}let d=hM(a,h),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var qr=t=>t.join("/").replace(/\/\/+/g,"/"),fM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,gM=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function yM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function vM(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var TA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function EA(t,e){let n=t;if(typeof n!="string"||!_A.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(TA)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Kr(c.pathname,e);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{Ti(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var SA=["POST","PUT","PATCH","DELETE"];new Set(SA);var bM=["GET",...SA];new Set(bM);var xc=S.createContext(null);xc.displayName="DataRouter";var zm=S.createContext(null);zm.displayName="DataRouterState";var xM=S.createContext(!1),AA=S.createContext({isTransitioning:!1});AA.displayName="ViewTransition";var wM=S.createContext(new Map);wM.displayName="Fetchers";var _M=S.createContext(null);_M.displayName="Await";var ni=S.createContext(null);ni.displayName="Navigation";var Ah=S.createContext(null);Ah.displayName="Location";var qi=S.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var mv=S.createContext(null);mv.displayName="RouteError";var CA="REACT_ROUTER_ERROR",TM="REDIRECT",EM="ROUTE_ERROR_RESPONSE";function SM(t){if(t.startsWith(`${CA}:${TM}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function AM(t){if(t.startsWith(`${CA}:${EM}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new gM(e.status,e.statusText,e.data)}catch{}}function CM(t,{relative:e}={}){Wt(wc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=S.useContext(ni),{hash:a,pathname:l,search:c}=Ch(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:qr([n,l])),s.createHref({pathname:h,search:c,hash:a})}function wc(){return S.useContext(Ah)!=null}function Zr(){return Wt(wc(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Ah).location}var RA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function NA(t){S.useContext(ni).static||S.useLayoutEffect(t)}function Bm(){let{isDataRoute:t}=S.useContext(qi);return t?BM():RM()}function RM(){Wt(wc(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(xc),{basename:e,navigator:n}=S.useContext(ni),{matches:s}=S.useContext(qi),{pathname:a}=Zr(),l=JSON.stringify(dv(s)),c=S.useRef(!1);return NA(()=>{c.current=!0}),S.useCallback((d,m={})=>{if(Ti(c.current,RA),!c.current)return;if(typeof d=="number"){n.go(d);return}let g=fv(d,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:qr([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,a,t])}S.createContext(null);function NM(){let{matches:t}=S.useContext(qi),e=t[t.length-1];return e?e.params:{}}function Ch(t,{relative:e}={}){let{matches:n}=S.useContext(qi),{pathname:s}=Zr(),a=JSON.stringify(dv(n));return S.useMemo(()=>fv(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function IM(t,e){return IA(t,e)}function IA(t,e,n,s,a){Wt(wc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext(ni),{matches:c}=S.useContext(qi),h=c[c.length-1],d=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",b=h&&h.route;{let H=b&&b.path||"";DA(m,!b||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let x=Zr(),A;if(e){let H=typeof e=="string"?bc(e):e;Wt(g==="/"||H.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${H.pathname}" was given in the \`location\` prop.`),A=H}else A=x;let k=A.pathname||"/",I=k;if(g!=="/"){let H=g.replace(/^\//,"").split("/");I="/"+k.replace(/^\//,"").split("/").slice(H.length).join("/")}let R=bA(t,{pathname:I});Ti(b||R!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Ti(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=jM(R&&R.map(H=>Object.assign({},H,{params:Object.assign({},d,H.params),pathname:qr([g,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?g:qr([g,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,n,s,a);return e&&O?S.createElement(Ah.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},O):O}function kM(){let t=zM(),e=yM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:a},n):null,c)}var DM=S.createElement(kM,null),kA=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=AM(t.digest);n&&(t=n)}let e=t!==void 0?S.createElement(qi.Provider,{value:this.props.routeContext},S.createElement(mv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?S.createElement(MM,{error:t},e):e}};kA.contextType=xM;var _y=new WeakMap;function MM({children:t,error:e}){let{basename:n}=S.useContext(ni);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=SM(e.digest);if(s){let a=_y.get(e);if(a)throw a;let l=EA(s.location,n);if(TA&&!_y.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw _y.set(e,c),c}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function PM({routeContext:t,match:e,children:n}){let s=S.useContext(xc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(qi.Provider,{value:t},n)}function jM(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let g=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);Wt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,d=-1;if(n)for(let g=0;g<l.length;g++){let b=l[g];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(d=g),b.route.id){let{loaderData:x,errors:A}=n,k=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!A||A[b.route.id]===void 0);if(b.route.lazy||k){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let m=n&&s?(g,b)=>{s(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:vM(n.matches),errorInfo:b})}:void 0;return l.reduceRight((g,b,x)=>{let A,k=!1,I=null,R=null;n&&(A=c&&b.route.id?c[b.route.id]:void 0,I=b.route.errorElement||DM,h&&(d<0&&x===0?(DA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,R=null):d===x&&(k=!0,R=b.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,x+1)),H=()=>{let F;return A?F=I:k?F=R:b.route.Component?F=S.createElement(b.route.Component,null):b.route.element?F=b.route.element:F=g,S.createElement(PM,{match:b,routeContext:{outlet:g,matches:O,isDataRoute:n!=null},children:F})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?S.createElement(kA,{location:n.location,revalidation:n.revalidation,component:I,error:A,children:H(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:m}):H()},null)}function pv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OM(t){let e=S.useContext(xc);return Wt(e,pv(t)),e}function VM(t){let e=S.useContext(zm);return Wt(e,pv(t)),e}function LM(t){let e=S.useContext(qi);return Wt(e,pv(t)),e}function gv(t){let e=LM(t),n=e.matches[e.matches.length-1];return Wt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function UM(){return gv("useRouteId")}function zM(){let t=S.useContext(mv),e=VM("useRouteError"),n=gv("useRouteError");return t!==void 0?t:e.errors?.[n]}function BM(){let{router:t}=OM("useNavigate"),e=gv("useNavigate"),n=S.useRef(!1);return NA(()=>{n.current=!0}),S.useCallback(async(a,l={})=>{Ti(n.current,RA),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var H1={};function DA(t,e,n){!e&&!H1[t]&&(H1[t]=!0,Ti(!1,n))}S.memo(FM);function FM({routes:t,future:e,state:n,onError:s}){return IA(t,void 0,n,s,e)}function jo({to:t,replace:e,state:n,relative:s}){Wt(wc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=S.useContext(ni);Ti(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(qi),{pathname:c}=Zr(),h=Bm(),d=fv(t,dv(l),c,s==="path"),m=JSON.stringify(d);return S.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:s})},[h,m,s,e,n]),null}function Vr(t){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qM({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Wt(!wc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=bc(n));let{pathname:m="/",search:g="",hash:b="",state:x=null,key:A="default"}=n,k=S.useMemo(()=>{let I=Kr(m,h);return I==null?null:{location:{pathname:I,search:g,hash:b,state:x,key:A},navigationType:s}},[h,m,g,b,x,A,s]);return Ti(k!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:S.createElement(ni.Provider,{value:d},S.createElement(Ah.Provider,{children:e,value:k}))}function HM({children:t,location:e}){return IM(c0(t),e)}function c0(t,e=[]){let n=[];return S.Children.forEach(t,(s,a)=>{if(!S.isValidElement(s))return;let l=[...e,a];if(s.type===S.Fragment){n.push.apply(n,c0(s.props.children,l));return}Wt(s.type===Vr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=c0(s.props.children,l)),n.push(c)}),n}var Of="get",Vf="application/x-www-form-urlencoded";function Fm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function GM(t){return Fm(t)&&t.tagName.toLowerCase()==="button"}function $M(t){return Fm(t)&&t.tagName.toLowerCase()==="form"}function KM(t){return Fm(t)&&t.tagName.toLowerCase()==="input"}function YM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XM(t,e){return t.button===0&&(!e||e==="_self")&&!YM(t)}var yf=null;function WM(){if(yf===null)try{new FormData(document.createElement("form"),0),yf=!1}catch{yf=!0}return yf}var QM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ty(t){return t!=null&&!QM.has(t)?(Ti(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vf}"`),null):t}function JM(t,e){let n,s,a,l,c;if($M(t)){let h=t.getAttribute("action");s=h?Kr(h,e):null,n=t.getAttribute("method")||Of,a=Ty(t.getAttribute("enctype"))||Vf,l=new FormData(t)}else if(GM(t)||KM(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(s=d?Kr(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Of,a=Ty(t.getAttribute("formenctype"))||Ty(h.getAttribute("enctype"))||Vf,l=new FormData(h,t),!WM()){let{name:m,type:g,value:b}=t;if(g==="image"){let x=m?`${m}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else m&&l.append(m,b)}}else{if(Fm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Of,s=null,a=Vf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ZM(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&Kr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function eP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function nP(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await eP(l,n);return c.links?c.links():[]}return[]}));return aP(s.flat(1).filter(tP).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function G1(t,e,n,s,a,l){let c=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,m)=>c(d,m)||h(d,m)):l==="data"?e.filter((d,m)=>{let g=s.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function sP(t,e,{includeHydrateFallback:n}={}){return iP(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function iP(t){return[...new Set(t)]}function rP(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function aP(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(rP(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function MA(){let t=S.useContext(xc);return yv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function oP(){let t=S.useContext(zm);return yv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var vv=S.createContext(void 0);vv.displayName="FrameworkContext";function PA(){let t=S.useContext(vv);return yv(t,"You must render this element inside a <HydratedRouter> element"),t}function lP(t,e){let n=S.useContext(vv),[s,a]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:b}=e,x=S.useRef(null);S.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let I=O=>{O.forEach(H=>{c(H.isIntersecting)})},R=new IntersectionObserver(I,{threshold:.5});return x.current&&R.observe(x.current),()=>{R.disconnect()}}},[t]),S.useEffect(()=>{if(s){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[s]);let A=()=>{a(!0)},k=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:Nu(h,A),onBlur:Nu(d,k),onMouseEnter:Nu(m,A),onMouseLeave:Nu(g,k),onTouchStart:Nu(b,A)}]:[!1,x,{}]}function Nu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function cP({page:t,...e}){let{router:n}=MA(),s=S.useMemo(()=>bA(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?S.createElement(hP,{page:t,matches:s,...e}):null}function uP(t){let{manifest:e,routeModules:n}=PA(),[s,a]=S.useState([]);return S.useEffect(()=>{let l=!1;return nP(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function hP({page:t,matches:e,...n}){let s=Zr(),{future:a,manifest:l,routeModules:c}=PA(),{basename:h}=MA(),{loaderData:d,matches:m}=oP(),g=S.useMemo(()=>G1(t,e,m,l,s,"data"),[t,e,m,l,s]),b=S.useMemo(()=>G1(t,e,m,l,s,"assets"),[t,e,m,l,s]),x=S.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let I=new Set,R=!1;if(e.forEach(H=>{let F=l.routes[H.route.id];!F||!F.hasLoader||(!g.some(re=>re.route.id===H.route.id)&&H.route.id in d&&c[H.route.id]?.shouldRevalidate||F.hasClientLoader?R=!0:I.add(H.route.id))}),I.size===0)return[];let O=ZM(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return R&&I.size>0&&O.searchParams.set("_routes",e.filter(H=>I.has(H.route.id)).map(H=>H.route.id).join(",")),[O.pathname+O.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,s,l,g,e,t,c]),A=S.useMemo(()=>sP(b,l),[b,l]),k=uP(b);return S.createElement(S.Fragment,null,x.map(I=>S.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),A.map(I=>S.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),k.map(({key:I,link:R})=>S.createElement("link",{key:I,nonce:n.nonce,...R})))}function dP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var fP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fP&&(window.__reactRouterVersion="7.12.0")}catch{}function mP({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=S.useRef();a.current==null&&(a.current=KD({window:s,v5Compat:!0}));let l=a.current,[c,h]=S.useState({action:l.action,location:l.location}),d=S.useCallback(m=>{n===!1?h(m):S.startTransition(()=>h(m))},[n]);return S.useLayoutEffect(()=>l.listen(d),[l,d]),S.createElement(qM,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var jA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bv=S.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:h,target:d,to:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:x,...A},k){let{basename:I,unstable_useTransitions:R}=S.useContext(ni),O=typeof m=="string"&&jA.test(m),H=EA(m,I);m=H.to;let F=CM(m,{relative:a}),[re,te,ce]=lP(s,A),D=yP(m,{replace:c,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:R});function C(z){e&&e(z),z.defaultPrevented||D(z)}let j=S.createElement("a",{...A,...ce,href:H.absoluteURL||F,onClick:H.isExternal||l?e:C,ref:dP(k,te),target:d,"data-discover":!O&&n==="render"?"true":void 0});return re&&!O?S.createElement(S.Fragment,null,j,S.createElement(cP,{page:F})):j});bv.displayName="Link";var OA=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:h,children:d,...m},g){let b=Ch(c,{relative:m.relative}),x=Zr(),A=S.useContext(zm),{navigator:k,basename:I}=S.useContext(ni),R=A!=null&&_P(b)&&h===!0,O=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,H=x.pathname,F=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(H=H.toLowerCase(),F=F?F.toLowerCase():null,O=O.toLowerCase()),F&&I&&(F=Kr(F,I)||F);const re=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let te=H===O||!a&&H.startsWith(O)&&H.charAt(re)==="/",ce=F!=null&&(F===O||!a&&F.startsWith(O)&&F.charAt(O.length)==="/"),D={isActive:te,isPending:ce,isTransitioning:R},C=te?e:void 0,j;typeof s=="function"?j=s(D):j=[s,te?"active":null,ce?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let z=typeof l=="function"?l(D):l;return S.createElement(bv,{...m,"aria-current":C,className:j,ref:g,style:z,to:c,viewTransition:h},typeof d=="function"?d(D):d)});OA.displayName="NavLink";var pP=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Of,action:h,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:x,...A},k)=>{let{unstable_useTransitions:I}=S.useContext(ni),R=xP(),O=wP(h,{relative:m}),H=c.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&jA.test(h),re=te=>{if(d&&d(te),te.defaultPrevented)return;te.preventDefault();let ce=te.nativeEvent.submitter,D=ce?.getAttribute("formmethod")||c,C=()=>R(ce||te.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:a,state:l,relative:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:x});I&&n!==!1?S.startTransition(()=>C()):C()};return S.createElement("form",{ref:k,method:H,action:O,onSubmit:s?d:re,...A,"data-discover":!F&&t==="render"?"true":void 0})});pP.displayName="Form";function gP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VA(t){let e=S.useContext(xc);return Wt(e,gP(t)),e}function yP(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let m=Bm(),g=Zr(),b=Ch(t,{relative:l});return S.useCallback(x=>{if(XM(x,e)){x.preventDefault();let A=n!==void 0?n:ah(g)===ah(b),k=()=>m(t,{replace:A,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});d?S.startTransition(()=>k()):k()}},[g,m,b,n,s,e,t,a,l,c,h,d])}var vP=0,bP=()=>`__${String(++vP)}__`;function xP(){let{router:t}=VA("useSubmit"),{basename:e}=S.useContext(ni),n=UM(),s=t.fetch,a=t.navigate;return S.useCallback(async(l,c={})=>{let{action:h,method:d,encType:m,formData:g,body:b}=JM(l,e);if(c.navigate===!1){let x=c.fetcherKey||bP();await s(x,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:b,formMethod:c.method||d,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:b,formMethod:c.method||d,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function wP(t,{relative:e}={}){let{basename:n}=S.useContext(ni),s=S.useContext(qi);Wt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Ch(t||".",{relative:e})},c=Zr();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(b=>b).forEach(b=>h.append("index",b));let g=h.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:qr([n,l.pathname])),ah(l)}function _P(t,{relative:e}={}){let n=S.useContext(AA);Wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=VA("useViewTransitionState"),a=Ch(t,{relative:e});if(!n.isTransitioning)return!1;let l=Kr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Kr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Zf(a.pathname,c)!=null||Zf(a.pathname,l)!=null}var Ou=vA();const TP=()=>y.jsx("div",{className:"noise-overlay"}),EP="modulepreload",SP=function(t){return"/"+t},$1={},Hl=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let d=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");a=d(n.map(m=>{if(m=SP(m),m in $1)return;$1[m]=!0;const g=m.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${b}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":EP,g||(x.as="script"),x.crossOrigin="",x.href=m,h&&x.setAttribute("nonce",h),document.head.appendChild(x),g)return new Promise((A,k)=>{x.addEventListener("load",A),x.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},AP=()=>{};var K1={};const LA=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},CP=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},UA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,g=l>>2,b=(l&3)<<4|h>>4;let x=(h&15)<<2|m>>6,A=m&63;d||(A=64,c||(x=64)),s.push(n[g],n[b],n[x],n[A])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||m==null||b==null)throw new RP;const x=l<<2|h>>4;if(s.push(x),m!==64){const A=h<<4&240|m>>2;if(s.push(A),b!==64){const k=m<<6&192|b;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NP=function(t){const e=LA(t);return UA.encodeByteArray(e,!0)},em=function(t){return NP(t).replace(/\./g,"")},zA=function(t){try{return UA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function IP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const kP=()=>IP().__FIREBASE_DEFAULTS__,DP=()=>{if(typeof process>"u"||typeof K1>"u")return;const t=K1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zA(t[1]);return e&&JSON.parse(e)},qm=()=>{try{return AP()||kP()||DP()||MP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BA=t=>qm()?.emulatorHosts?.[t],FA=t=>{const e=BA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},qA=()=>qm()?.config,HA=t=>qm()?.[`_${t}`];class PP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function nl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xv(t){return(await fetch(t,{credentials:"include"})).ok}function GA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[em(JSON.stringify(n)),em(JSON.stringify(c)),""].join(".")}const Fu={};function jP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fu))Fu[e]?t.emulator.push(e):t.prod.push(e);return t}function OP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Y1=!1;function wv(t,e){if(typeof window>"u"||typeof document>"u"||!nl(window.location.host)||Fu[t]===e||Fu[t]||Y1)return;Fu[t]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",l=jP().prod.length>0;function c(){const x=document.getElementById(s);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,A){x.setAttribute("width","24"),x.setAttribute("id",A),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Y1=!0,c()},x}function g(x,A){x.setAttribute("id",A),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=OP(s),A=n("text"),k=document.getElementById(A)||document.createElement("span"),I=n("learnmore"),R=document.getElementById(I)||document.createElement("a"),O=n("preprendIcon"),H=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const F=x.element;h(F),g(R,I);const re=m();d(H,O),F.append(H,k,R,re),document.body.appendChild(F)}l?(k.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function ds(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ds())}function LP(){const t=qm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FP(){const t=ds();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qP(){return!LP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HP(){try{return typeof indexedDB=="object"}catch{return!1}}function GP(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const $P="FirebaseError";class pr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=$P,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rh.prototype.create)}}class Rh{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?KP(l,s):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new pr(a,h,s)}}function KP(t,e){return t.replace(YP,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const YP=/\{\$([^}]+)}/g;function XP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(X1(l)&&X1(c)){if(!Qo(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function X1(t){return t!==null&&typeof t=="object"}function Nh(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function WP(t,e){const n=new QP(t,e);return n.subscribe.bind(n)}class QP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");JP(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Ey),a.error===void 0&&(a.error=Ey),a.complete===void 0&&(a.complete=Ey);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ey(){}function hn(t){return t&&t._delegate?t._delegate:t}class Ka{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Uo="[DEFAULT]";class ZP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new PP;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tj(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ej(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ej(t){return t===Uo?void 0:t}function tj(t){return t.instantiationMode==="EAGER"}class nj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const sj={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},ij=it.INFO,rj={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},aj=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=rj[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _v{constructor(e){this.name=e,this._logLevel=ij,this._logHandler=aj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const oj=(t,e)=>e.some(n=>t instanceof n);let W1,Q1;function lj(){return W1||(W1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cj(){return Q1||(Q1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $A=new WeakMap,u0=new WeakMap,KA=new WeakMap,Sy=new WeakMap,Tv=new WeakMap;function uj(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(za(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&$A.set(n,t)}).catch(()=>{}),Tv.set(e,t),e}function hj(t){if(u0.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});u0.set(t,e)}let h0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return u0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return za(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dj(t){h0=t(h0)}function fj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ay(this),e,...n);return KA.set(s,e.sort?e.sort():[e]),za(s)}:cj().includes(t)?function(...e){return t.apply(Ay(this),e),za($A.get(this))}:function(...e){return za(t.apply(Ay(this),e))}}function mj(t){return typeof t=="function"?fj(t):(t instanceof IDBTransaction&&hj(t),oj(t,lj())?new Proxy(t,h0):t)}function za(t){if(t instanceof IDBRequest)return uj(t);if(Sy.has(t))return Sy.get(t);const e=mj(t);return e!==t&&(Sy.set(t,e),Tv.set(e,t)),e}const Ay=t=>Tv.get(t);function pj(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=za(c);return s&&c.addEventListener("upgradeneeded",d=>{s(za(c.result),d.oldVersion,d.newVersion,za(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const gj=["get","getKey","getAll","getAllKeys","count"],yj=["put","add","delete","clear"],Cy=new Map;function J1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cy.get(e))return Cy.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=yj.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||gj.includes(n)))return;const l=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let m=d.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return Cy.set(e,l),l}dj(t=>({...t,get:(e,n,s)=>J1(e,n)||t.get(e,n,s),has:(e,n)=>!!J1(e,n)||t.has(e,n)}));class vj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bj(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function bj(t){return t.getComponent()?.type==="VERSION"}const d0="@firebase/app",Z1="0.14.7";const Yr=new _v("@firebase/app"),xj="@firebase/app-compat",wj="@firebase/analytics-compat",_j="@firebase/analytics",Tj="@firebase/app-check-compat",Ej="@firebase/app-check",Sj="@firebase/auth",Aj="@firebase/auth-compat",Cj="@firebase/database",Rj="@firebase/data-connect",Nj="@firebase/database-compat",Ij="@firebase/functions",kj="@firebase/functions-compat",Dj="@firebase/installations",Mj="@firebase/installations-compat",Pj="@firebase/messaging",jj="@firebase/messaging-compat",Oj="@firebase/performance",Vj="@firebase/performance-compat",Lj="@firebase/remote-config",Uj="@firebase/remote-config-compat",zj="@firebase/storage",Bj="@firebase/storage-compat",Fj="@firebase/firestore",qj="@firebase/ai",Hj="@firebase/firestore-compat",Gj="firebase",$j="12.8.0";const f0="[DEFAULT]",Kj={[d0]:"fire-core",[xj]:"fire-core-compat",[_j]:"fire-analytics",[wj]:"fire-analytics-compat",[Ej]:"fire-app-check",[Tj]:"fire-app-check-compat",[Sj]:"fire-auth",[Aj]:"fire-auth-compat",[Cj]:"fire-rtdb",[Rj]:"fire-data-connect",[Nj]:"fire-rtdb-compat",[Ij]:"fire-fn",[kj]:"fire-fn-compat",[Dj]:"fire-iid",[Mj]:"fire-iid-compat",[Pj]:"fire-fcm",[jj]:"fire-fcm-compat",[Oj]:"fire-perf",[Vj]:"fire-perf-compat",[Lj]:"fire-rc",[Uj]:"fire-rc-compat",[zj]:"fire-gcs",[Bj]:"fire-gcs-compat",[Fj]:"fire-fst",[Hj]:"fire-fst-compat",[qj]:"fire-vertex","fire-js":"fire-js",[Gj]:"fire-js-all"};const tm=new Map,Yj=new Map,m0=new Map;function eT(t,e){try{t.container.addComponent(e)}catch(n){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jo(t){const e=t.name;if(m0.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;m0.set(e,t);for(const n of tm.values())eT(n,t);for(const n of Yj.values())eT(n,t);return!0}function Hm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yi(t){return t==null?!1:t.settings!==void 0}const Xj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ba=new Rh("app","Firebase",Xj);class Wj{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ba.create("app-deleted",{appName:this._name})}}const sl=$j;function YA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:f0,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Ba.create("bad-app-name",{appName:String(a)});if(n||(n=qA()),!n)throw Ba.create("no-options");const l=tm.get(a);if(l){if(Qo(n,l.options)&&Qo(s,l.config))return l;throw Ba.create("duplicate-app",{appName:a})}const c=new nj(a);for(const d of m0.values())c.addComponent(d);const h=new Wj(n,s,c);return tm.set(a,h),h}function Ev(t=f0){const e=tm.get(t);if(!e&&t===f0&&qA())return YA();if(!e)throw Ba.create("no-app",{appName:t});return e}function rr(t,e,n){let s=Kj[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(c.join(" "));return}Jo(new Ka(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const Qj="firebase-heartbeat-database",Jj=1,oh="firebase-heartbeat-store";let Ry=null;function XA(){return Ry||(Ry=pj(Qj,Jj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(oh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ba.create("idb-open",{originalErrorMessage:t.message})})),Ry}async function Zj(t){try{const n=(await XA()).transaction(oh),s=await n.objectStore(oh).get(WA(t));return await n.done,s}catch(e){if(e instanceof pr)Yr.warn(e.message);else{const n=Ba.create("idb-get",{originalErrorMessage:e?.message});Yr.warn(n.message)}}}async function tT(t,e){try{const s=(await XA()).transaction(oh,"readwrite");await s.objectStore(oh).put(e,WA(t)),await s.done}catch(n){if(n instanceof pr)Yr.warn(n.message);else{const s=Ba.create("idb-set",{originalErrorMessage:n?.message});Yr.warn(s.message)}}}function WA(t){return`${t.name}!${t.options.appId}`}const e4=1024,t4=30;class n4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new i4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>t4){const a=r4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Yr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nT(),{heartbeatsToSend:n,unsentEntries:s}=s4(this._heartbeatsCache.heartbeats),a=em(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Yr.warn(e),""}}}function nT(){return new Date().toISOString().substring(0,10)}function s4(t,e=e4){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),sT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),sT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class i4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HP()?GP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Zj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sT(t){return em(JSON.stringify({version:2,heartbeats:t})).length}function r4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function a4(t){Jo(new Ka("platform-logger",e=>new vj(e),"PRIVATE")),Jo(new Ka("heartbeat",e=>new n4(e),"PRIVATE")),rr(d0,Z1,t),rr(d0,Z1,"esm2020"),rr("fire-js","")}a4("");var o4="firebase",l4="12.8.0";rr(o4,l4,"app");function QA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JA=QA,ZA=new Rh("auth","Firebase",QA());const nm=new _v("@firebase/auth");function c4(t,...e){nm.logLevel<=it.WARN&&nm.warn(`Auth (${sl}): ${t}`,...e)}function Lf(t,...e){nm.logLevel<=it.ERROR&&nm.error(`Auth (${sl}): ${t}`,...e)}function hr(t,...e){throw Av(t,...e)}function Vi(t,...e){return Av(t,...e)}function Sv(t,e,n){const s={...JA(),[e]:n};return new Rh("auth","Firebase",s).create(e,{appName:t.name})}function $o(t){return Sv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function u4(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&hr(t,"argument-error"),Sv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Av(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return ZA.create(t,...e)}function Le(t,e,...n){if(!t)throw Av(e,...n)}function Br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lf(e),new Error(e)}function Xr(t,e){t||Br(e)}function p0(){return typeof self<"u"&&self.location?.href||""}function h4(){return iT()==="http:"||iT()==="https:"}function iT(){return typeof self<"u"&&self.location?.protocol||null}function d4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h4()||zP()||"connection"in navigator)?navigator.onLine:!0}function f4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Ih{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xr(n>e,"Short delay should be less than long delay!"),this.isMobile=VP()||BP()}get(){return d4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cv(t,e){Xr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class eC{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const m4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const p4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],g4=new Ih(3e4,6e4);function Rv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function il(t,e,n,s,a={}){return tC(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const h=Nh({key:t.config.apiKey,...c}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:d,...l};return UP()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&nl(t.emulatorConfig.host)&&(m.credentials="include"),eC.fetch()(await nC(t,t.config.apiHost,n,h),m)})}async function tC(t,e,n){t._canInitEmulator=!1;const s={...m4,...e};try{const a=new v4(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw vf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw vf(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw vf(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw vf(t,"user-disabled",c);const g=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Sv(t,g,m);hr(t,g)}}catch(a){if(a instanceof pr)throw a;hr(t,"network-request-failed",{message:String(a)})}}async function y4(t,e,n,s,a={}){const l=await il(t,e,n,s,a);return"mfaPendingCredential"in l&&hr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function nC(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?Cv(t.config,a):`${t.config.apiScheme}://${a}`;return p4.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class v4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Vi(this.auth,"network-request-failed")),g4.get())})}}function vf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Vi(t,e,s);return a.customData._tokenResponse=n,a}async function b4(t,e){return il(t,"POST","/v1/accounts:delete",e)}async function sm(t,e){return il(t,"POST","/v1/accounts:lookup",e)}function qu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sC(t,e=!1){const n=hn(t),s=await n.getIdToken(e),a=Nv(s);Le(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:qu(Ny(a.auth_time)),issuedAtTime:qu(Ny(a.iat)),expirationTime:qu(Ny(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ny(t){return Number(t)*1e3}function Nv(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Lf("JWT malformed, contained fewer than 3 sections"),null;try{const a=zA(n);return a?JSON.parse(a):(Lf("Failed to decode base64 JWT payload"),null)}catch(a){return Lf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function rT(t){const e=Nv(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function cc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof pr&&x4(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function x4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class w4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class g0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qu(this.lastLoginAt),this.creationTime=qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function im(t){const e=t.auth,n=await t.getIdToken(),s=await cc(t,sm(e,{idToken:n}));Le(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?rC(a.providerUserInfo):[],c=_4(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!c?.length,m=h?d:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new g0(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function iC(t){const e=hn(t);await im(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _4(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function rC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function T4(t,e){const n=await tC(t,{},async()=>{const s=Nh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await nC(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:s};return t.emulatorConfig&&nl(t.emulatorConfig.host)&&(d.credentials="include"),eC.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function E4(t,e){return il(t,"POST","/v2/accounts:revokeToken",Rv(t,e))}class ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=rT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await T4(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new ec;return s&&(Le(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Le(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Le(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ec,this.toJSON())}_performRefresh(){return Br("not implemented")}}function Pa(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ji{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new w4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new g0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await cc(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sC(this,e)}reload(){return iC(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ji({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await im(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject($o(this.auth));const e=await this.getIdToken();return await cc(this,b4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,m=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:A,providerData:k,stsTokenManager:I}=n;Le(b&&I,e,"internal-error");const R=ec.fromJSON(this.name,I);Le(typeof b=="string",e,"internal-error"),Pa(s,e.name),Pa(a,e.name),Le(typeof x=="boolean",e,"internal-error"),Le(typeof A=="boolean",e,"internal-error"),Pa(l,e.name),Pa(c,e.name),Pa(h,e.name),Pa(d,e.name),Pa(m,e.name),Pa(g,e.name);const O=new ji({uid:b,auth:e,email:a,emailVerified:x,displayName:s,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:R,createdAt:m,lastLoginAt:g});return k&&Array.isArray(k)&&(O.providerData=k.map(H=>({...H}))),d&&(O._redirectEventId=d),O}static async _fromIdTokenResponse(e,n,s=!1){const a=new ec;a.updateFromServerResponse(n);const l=new ji({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await im(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Le(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?rC(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new ec;h.updateFromIdToken(s);const d=new ji({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new g0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,m),d}}const aT=new Map;function Fr(t){Xr(t instanceof Function,"Expected a class definition");let e=aT.get(t);return e?(Xr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aT.set(t,e),e)}class aC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aC.type="NONE";const y0=aC;function Uf(t,e,n){return`firebase:${t}:${e}:${n}`}class tc{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Uf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Uf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sm(this.auth,{idToken:e}).catch(()=>{});return n?ji._fromGetAccountInfoResponse(this.auth,n,e):null}return ji._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new tc(Fr(y0),e,s);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Fr(y0);const c=Uf(s,e.config.apiKey,e.name);let h=null;for(const m of n)try{const g=await m._get(c);if(g){let b;if(typeof g=="string"){const x=await sm(e,{idToken:g}).catch(()=>{});if(!x)break;b=await ji._fromGetAccountInfoResponse(e,x,g)}else b=ji._fromJSON(e,g);m!==l&&(h=b),l=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new tc(l,e,s):(l=d[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new tc(l,e,s))}}function oT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dC(e))return"Blackberry";if(fC(e))return"Webos";if(lC(e))return"Safari";if((e.includes("chrome/")||cC(e))&&!e.includes("edge/"))return"Chrome";if(hC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function oC(t=ds()){return/firefox\//i.test(t)}function lC(t=ds()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cC(t=ds()){return/crios\//i.test(t)}function uC(t=ds()){return/iemobile/i.test(t)}function hC(t=ds()){return/android/i.test(t)}function dC(t=ds()){return/blackberry/i.test(t)}function fC(t=ds()){return/webos/i.test(t)}function Iv(t=ds()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function S4(t=ds()){return Iv(t)&&!!window.navigator?.standalone}function A4(){return FP()&&document.documentMode===10}function mC(t=ds()){return Iv(t)||hC(t)||fC(t)||dC(t)||/windows phone/i.test(t)||uC(t)}function pC(t,e=[]){let n;switch(t){case"Browser":n=oT(ds());break;case"Worker":n=`${oT(ds())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sl}/${s}`}class C4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,h)=>{try{const d=e(l);c(d)}catch(d){h(d)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function R4(t,e={}){return il(t,"GET","/v2/passwordPolicy",Rv(t,e))}const N4=6;class I4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??N4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class k4{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lT(this),this.idTokenSubscription=new lT(this),this.beforeStateQueue=new C4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await tc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sm(this,{idToken:e}),s=await ji._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(yi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await im(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject($o(this));const n=e?hn(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject($o(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject($o(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await R4(this),n=new I4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rh("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await E4(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fr(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await tc.create(this,[Fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&c4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Gm(t){return hn(t)}class lT{constructor(e){this.auth=e,this.observer=null,this.addObserver=WP(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let kv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function D4(t){kv=t}function M4(t){return kv.loadJS(t)}function P4(){return kv.gapiScript}function j4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function gC(t,e){const n=Hm(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Qo(l,e??{}))return a;hr(a,"already-initialized")}return n.initialize({options:e})}function O4(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Fr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function yC(t,e,n){const s=Gm(t);Le(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=vC(e),{host:c,port:h}=V4(e),d=h===null?"":`:${h}`,m={url:`${l}//${c}${d}/`},g=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Le(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Le(Qo(m,s.config.emulator)&&Qo(g,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=g,s.settings.appVerificationDisabledForTesting=!0,nl(c)?(xv(`${l}//${c}${d}`),wv("Auth",!0)):L4()}function vC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function V4(t){const e=vC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:cT(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:cT(c)}}}function cT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function L4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Dv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,n){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}async function nc(t,e){return y4(t,"POST","/v1/accounts:signInWithIdp",Rv(t,e))}const U4="http://localhost";class Ya extends Dv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Ya(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return nc(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,nc(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nc(e,n)}buildRequest(){const e={requestUri:U4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nh(n)}return e}}class Mv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class kh extends Mv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Lr extends kh{constructor(){super("facebook.com")}static credential(e){return Ya._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";class sr extends kh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ya._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return sr.credential(n,s)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";class Ur extends kh{constructor(){super("github.com")}static credential(e){return Ya._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";class zr extends kh{constructor(){super("twitter.com")}static credential(e,n){return Ya._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";class uc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await ji._fromIdTokenResponse(e,s,a),c=uT(s);return new uc({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=uT(s);return new uc({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function uT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class rm extends pr{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,rm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new rm(e,n,s,a)}}function bC(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?rm._fromErrorAndOperation(t,l,e,s):l})}async function z4(t,e,n=!1){const s=await cc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return uc._forOperation(t,"link",s)}async function B4(t,e,n=!1){const{auth:s}=t;if(yi(s.app))return Promise.reject($o(s));const a="reauthenticate";try{const l=await cc(t,bC(s,a,e,t),n);Le(l.idToken,s,"internal-error");const c=Nv(l.idToken);Le(c,s,"internal-error");const{sub:h}=c;return Le(t.uid===h,s,"user-mismatch"),uc._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&hr(s,"user-mismatch"),l}}async function F4(t,e,n=!1){if(yi(t.app))return Promise.reject($o(t));const s="signIn",a=await bC(t,s,e),l=await uc._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function q4(t,e){return il(t,"POST","/v1/accounts:update",e)}async function H4(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=hn(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await cc(s,q4(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const h=s.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=s.displayName,h.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function xC(t,e,n,s){return hn(t).onIdTokenChanged(e,n,s)}function wC(t,e,n){return hn(t).beforeAuthStateChanged(e,n)}function _C(t,e,n,s){return hn(t).onAuthStateChanged(e,n,s)}function TC(t){return hn(t).signOut()}const am="__sak";class EC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(am,"1"),this.storage.removeItem(am),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const G4=1e3,$4=10;class SC extends EC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);A4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,$4):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},G4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SC.type="LOCAL";const AC=SC;class CC extends EC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CC.type="SESSION";const Pv=CC;function K4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class $m{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new $m(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(c).map(async m=>m(n.origin,l)),d=await K4(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$m.receivers=[];function jv(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class Y4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,d)=>{const m=jv("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(b){const x=b;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(x.data.response);break;default:clearTimeout(g),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ar(){return window}function X4(t){ar().location.href=t}function RC(){return typeof ar().WorkerGlobalScope<"u"&&typeof ar().importScripts=="function"}async function W4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q4(){return navigator?.serviceWorker?.controller||null}function J4(){return RC()?self:null}const NC="firebaseLocalStorageDb",Z4=1,om="firebaseLocalStorage",IC="fbase_key";class Dh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Km(t,e){return t.transaction([om],e?"readwrite":"readonly").objectStore(om)}function e5(){const t=indexedDB.deleteDatabase(NC);return new Dh(t).toPromise()}function v0(){const t=indexedDB.open(NC,Z4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(om,{keyPath:IC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(om)?e(s):(s.close(),await e5(),e(await v0()))})})}async function hT(t,e,n){const s=Km(t,!0).put({[IC]:e,value:n});return new Dh(s).toPromise()}async function t5(t,e){const n=Km(t,!1).get(e),s=await new Dh(n).toPromise();return s===void 0?null:s.value}function dT(t,e){const n=Km(t,!0).delete(e);return new Dh(n).toPromise()}const n5=800,s5=3;class kC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await v0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>s5)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$m._getInstance(J4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await W4(),!this.activeServiceWorker)return;this.sender=new Y4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await v0();return await hT(e,am,"1"),await dT(e,am),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>hT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>t5(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Km(a,!1).getAll();return new Dh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kC.type="LOCAL";const DC=kC;new Ih(3e4,6e4);function MC(t,e){return e?Fr(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Ov extends Dv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function i5(t){return F4(t.auth,new Ov(t),t.bypassAuthState)}function r5(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),B4(n,new Ov(t),t.bypassAuthState)}async function a5(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),z4(n,new Ov(t),t.bypassAuthState)}class PC{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i5;case"linkViaPopup":case"linkViaRedirect":return a5;case"reauthViaPopup":case"reauthViaRedirect":return r5;default:hr(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const o5=new Ih(2e3,1e4);async function jC(t,e,n){if(yi(t.app))return Promise.reject(Vi(t,"operation-not-supported-in-this-environment"));const s=Gm(t);u4(t,e,Mv);const a=MC(s,n);return new Fo(s,"signInViaPopup",e,a).executeNotNull()}class Fo extends PC{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Fo.currentPopupAction&&Fo.currentPopupAction.cancel(),Fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const e=jv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,o5.get())};e()}}Fo.currentPopupAction=null;const l5="pendingRedirect",zf=new Map;class c5 extends PC{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=zf.get(this.auth._key());if(!e){try{const s=await u5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}zf.set(this.auth._key(),e)}return this.bypassAuthState||zf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u5(t,e){const n=f5(e),s=d5(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function h5(t,e){zf.set(t._key(),e)}function d5(t){return Fr(t._redirectPersistence)}function f5(t){return Uf(l5,t.config.apiKey,t.name)}async function m5(t,e,n=!1){if(yi(t.app))return Promise.reject($o(t));const s=Gm(t),a=MC(s,e),c=await new c5(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const p5=600*1e3;class g5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!OC(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Vi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=p5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fT(e))}saveEventToCache(e){this.cachedEventUids.add(fT(e)),this.lastProcessedEventTime=Date.now()}}function fT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function y5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OC(t);default:return!1}}async function v5(t,e={}){return il(t,"GET","/v1/projects",e)}const b5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x5=/^https?/;async function w5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await v5(t);for(const n of e)try{if(_5(n))return}catch{}hr(t,"unauthorized-domain")}function _5(t){const e=p0(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!x5.test(n))return!1;if(b5.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const T5=new Ih(3e4,6e4);function mT(){const t=ar().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function E5(t){return new Promise((e,n)=>{function s(){mT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mT(),n(Vi(t,"network-request-failed"))},timeout:T5.get()})}if(ar().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ar().gapi?.load)s();else{const a=j4("iframefcb");return ar()[a]=()=>{gapi.load?s():n(Vi(t,"network-request-failed"))},M4(`${P4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Bf=null,e})}let Bf=null;function S5(t){return Bf=Bf||E5(t),Bf}const A5=new Ih(5e3,15e3),C5="__/auth/iframe",R5="emulator/auth/iframe",N5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k5(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cv(e,R5):`https://${t.config.authDomain}/${C5}`,s={apiKey:e.apiKey,appName:t.name,v:sl},a=I5.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Nh(s).slice(1)}`}async function D5(t){const e=await S5(t),n=ar().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:k5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N5,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Vi(t,"network-request-failed"),h=ar().setTimeout(()=>{l(c)},A5.get());function d(){ar().clearTimeout(h),a(s)}s.ping(d).then(d,()=>{l(c)})}))}const M5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P5=500,j5=600,O5="_blank",V5="http://localhost";class pT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L5(t,e,n,s=P5,a=j5){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const d={...M5,width:s.toString(),height:a.toString(),top:l,left:c},m=ds().toLowerCase();n&&(h=cC(m)?O5:n),oC(m)&&(e=e||V5,d.scrollbars="yes");const g=Object.entries(d).reduce((x,[A,k])=>`${x}${A}=${k},`,"");if(S4(m)&&h!=="_self")return U5(e||"",h),new pT(null);const b=window.open(e||"",h,g);Le(b,t,"popup-blocked");try{b.focus()}catch{}return new pT(b)}function U5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const z5="__/auth/handler",B5="emulator/auth/handler",F5=encodeURIComponent("fac");async function gT(t,e,n,s,a,l){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:sl,eventId:a};if(e instanceof Mv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",XP(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,b]of Object.entries({}))c[g]=b}if(e instanceof kh){const g=e.getScopes().filter(b=>b!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),m=d?`#${F5}=${encodeURIComponent(d)}`:"";return`${q5(t)}?${Nh(h).slice(1)}${m}`}function q5({config:t}){return t.emulator?Cv(t,B5):`https://${t.authDomain}/${z5}`}const Iy="webStorageSupport";class H5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pv,this._completeRedirectFn=m5,this._overrideRedirectResult=h5}async _openPopup(e,n,s,a){Xr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await gT(e,n,s,p0(),a);return L5(e,l,jv())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await gT(e,n,s,p0(),a);return X4(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Xr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await D5(e),s=new g5(e);return n.register("authEvent",a=>(Le(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Iy,{type:Iy},a=>{const l=a?.[0]?.[Iy];l!==void 0&&n(!!l),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=w5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mC()||lC()||Iv()}}const VC=H5;var yT="@firebase/auth",vT="1.12.0";class G5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K5(t){Jo(new Ka("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;Le(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pC(t)},m=new k4(s,a,l,d);return O4(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Jo(new Ka("auth-internal",e=>{const n=Gm(e.getProvider("auth").getImmediate());return(s=>new G5(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(yT,vT,$5(t)),rr(yT,vT,"esm2020")}const Y5=300,X5=HA("authIdTokenMaxAge")||Y5;let bT=null;const W5=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>X5)return;const a=n?.token;bT!==a&&(bT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function LC(t=Ev()){const e=Hm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gC(t,{popupRedirectResolver:VC,persistence:[DC,AC,Pv]}),s=HA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=W5(l.toString());wC(n,c,()=>c(n.currentUser)),xC(n,h=>c(h))}}const a=BA("auth");return a&&yC(n,`http://${a}`),n}function Q5(){return document.getElementsByTagName("head")?.[0]??document}D4({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Vi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",Q5().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K5("Browser");const J5=Object.freeze(Object.defineProperty({__proto__:null,AuthCredential:Dv,FacebookAuthProvider:Lr,GithubAuthProvider:Ur,GoogleAuthProvider:sr,OAuthCredential:Ya,TwitterAuthProvider:zr,beforeAuthStateChanged:wC,browserLocalPersistence:AC,browserPopupRedirectResolver:VC,browserSessionPersistence:Pv,connectAuthEmulator:yC,getAuth:LC,getIdTokenResult:sC,inMemoryPersistence:y0,indexedDBLocalPersistence:DC,initializeAuth:gC,onAuthStateChanged:_C,onIdTokenChanged:xC,prodErrorMap:JA,reload:iC,signInWithPopup:jC,signOut:TC,updateProfile:H4},Symbol.toStringTag,{value:"Module"}));var xT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fa,UC;(function(){var t;function e(D,C){function j(){}j.prototype=C.prototype,D.F=C.prototype,D.prototype=new j,D.prototype.constructor=D,D.D=function(z,B,P){for(var V=Array(arguments.length-2),be=2;be<arguments.length;be++)V[be-2]=arguments[be];return C.prototype[B].apply(z,V)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,C,j){j||(j=0);const z=Array(16);if(typeof C=="string")for(var B=0;B<16;++B)z[B]=C.charCodeAt(j++)|C.charCodeAt(j++)<<8|C.charCodeAt(j++)<<16|C.charCodeAt(j++)<<24;else for(B=0;B<16;++B)z[B]=C[j++]|C[j++]<<8|C[j++]<<16|C[j++]<<24;C=D.g[0],j=D.g[1],B=D.g[2];let P=D.g[3],V;V=C+(P^j&(B^P))+z[0]+3614090360&4294967295,C=j+(V<<7&4294967295|V>>>25),V=P+(B^C&(j^B))+z[1]+3905402710&4294967295,P=C+(V<<12&4294967295|V>>>20),V=B+(j^P&(C^j))+z[2]+606105819&4294967295,B=P+(V<<17&4294967295|V>>>15),V=j+(C^B&(P^C))+z[3]+3250441966&4294967295,j=B+(V<<22&4294967295|V>>>10),V=C+(P^j&(B^P))+z[4]+4118548399&4294967295,C=j+(V<<7&4294967295|V>>>25),V=P+(B^C&(j^B))+z[5]+1200080426&4294967295,P=C+(V<<12&4294967295|V>>>20),V=B+(j^P&(C^j))+z[6]+2821735955&4294967295,B=P+(V<<17&4294967295|V>>>15),V=j+(C^B&(P^C))+z[7]+4249261313&4294967295,j=B+(V<<22&4294967295|V>>>10),V=C+(P^j&(B^P))+z[8]+1770035416&4294967295,C=j+(V<<7&4294967295|V>>>25),V=P+(B^C&(j^B))+z[9]+2336552879&4294967295,P=C+(V<<12&4294967295|V>>>20),V=B+(j^P&(C^j))+z[10]+4294925233&4294967295,B=P+(V<<17&4294967295|V>>>15),V=j+(C^B&(P^C))+z[11]+2304563134&4294967295,j=B+(V<<22&4294967295|V>>>10),V=C+(P^j&(B^P))+z[12]+1804603682&4294967295,C=j+(V<<7&4294967295|V>>>25),V=P+(B^C&(j^B))+z[13]+4254626195&4294967295,P=C+(V<<12&4294967295|V>>>20),V=B+(j^P&(C^j))+z[14]+2792965006&4294967295,B=P+(V<<17&4294967295|V>>>15),V=j+(C^B&(P^C))+z[15]+1236535329&4294967295,j=B+(V<<22&4294967295|V>>>10),V=C+(B^P&(j^B))+z[1]+4129170786&4294967295,C=j+(V<<5&4294967295|V>>>27),V=P+(j^B&(C^j))+z[6]+3225465664&4294967295,P=C+(V<<9&4294967295|V>>>23),V=B+(C^j&(P^C))+z[11]+643717713&4294967295,B=P+(V<<14&4294967295|V>>>18),V=j+(P^C&(B^P))+z[0]+3921069994&4294967295,j=B+(V<<20&4294967295|V>>>12),V=C+(B^P&(j^B))+z[5]+3593408605&4294967295,C=j+(V<<5&4294967295|V>>>27),V=P+(j^B&(C^j))+z[10]+38016083&4294967295,P=C+(V<<9&4294967295|V>>>23),V=B+(C^j&(P^C))+z[15]+3634488961&4294967295,B=P+(V<<14&4294967295|V>>>18),V=j+(P^C&(B^P))+z[4]+3889429448&4294967295,j=B+(V<<20&4294967295|V>>>12),V=C+(B^P&(j^B))+z[9]+568446438&4294967295,C=j+(V<<5&4294967295|V>>>27),V=P+(j^B&(C^j))+z[14]+3275163606&4294967295,P=C+(V<<9&4294967295|V>>>23),V=B+(C^j&(P^C))+z[3]+4107603335&4294967295,B=P+(V<<14&4294967295|V>>>18),V=j+(P^C&(B^P))+z[8]+1163531501&4294967295,j=B+(V<<20&4294967295|V>>>12),V=C+(B^P&(j^B))+z[13]+2850285829&4294967295,C=j+(V<<5&4294967295|V>>>27),V=P+(j^B&(C^j))+z[2]+4243563512&4294967295,P=C+(V<<9&4294967295|V>>>23),V=B+(C^j&(P^C))+z[7]+1735328473&4294967295,B=P+(V<<14&4294967295|V>>>18),V=j+(P^C&(B^P))+z[12]+2368359562&4294967295,j=B+(V<<20&4294967295|V>>>12),V=C+(j^B^P)+z[5]+4294588738&4294967295,C=j+(V<<4&4294967295|V>>>28),V=P+(C^j^B)+z[8]+2272392833&4294967295,P=C+(V<<11&4294967295|V>>>21),V=B+(P^C^j)+z[11]+1839030562&4294967295,B=P+(V<<16&4294967295|V>>>16),V=j+(B^P^C)+z[14]+4259657740&4294967295,j=B+(V<<23&4294967295|V>>>9),V=C+(j^B^P)+z[1]+2763975236&4294967295,C=j+(V<<4&4294967295|V>>>28),V=P+(C^j^B)+z[4]+1272893353&4294967295,P=C+(V<<11&4294967295|V>>>21),V=B+(P^C^j)+z[7]+4139469664&4294967295,B=P+(V<<16&4294967295|V>>>16),V=j+(B^P^C)+z[10]+3200236656&4294967295,j=B+(V<<23&4294967295|V>>>9),V=C+(j^B^P)+z[13]+681279174&4294967295,C=j+(V<<4&4294967295|V>>>28),V=P+(C^j^B)+z[0]+3936430074&4294967295,P=C+(V<<11&4294967295|V>>>21),V=B+(P^C^j)+z[3]+3572445317&4294967295,B=P+(V<<16&4294967295|V>>>16),V=j+(B^P^C)+z[6]+76029189&4294967295,j=B+(V<<23&4294967295|V>>>9),V=C+(j^B^P)+z[9]+3654602809&4294967295,C=j+(V<<4&4294967295|V>>>28),V=P+(C^j^B)+z[12]+3873151461&4294967295,P=C+(V<<11&4294967295|V>>>21),V=B+(P^C^j)+z[15]+530742520&4294967295,B=P+(V<<16&4294967295|V>>>16),V=j+(B^P^C)+z[2]+3299628645&4294967295,j=B+(V<<23&4294967295|V>>>9),V=C+(B^(j|~P))+z[0]+4096336452&4294967295,C=j+(V<<6&4294967295|V>>>26),V=P+(j^(C|~B))+z[7]+1126891415&4294967295,P=C+(V<<10&4294967295|V>>>22),V=B+(C^(P|~j))+z[14]+2878612391&4294967295,B=P+(V<<15&4294967295|V>>>17),V=j+(P^(B|~C))+z[5]+4237533241&4294967295,j=B+(V<<21&4294967295|V>>>11),V=C+(B^(j|~P))+z[12]+1700485571&4294967295,C=j+(V<<6&4294967295|V>>>26),V=P+(j^(C|~B))+z[3]+2399980690&4294967295,P=C+(V<<10&4294967295|V>>>22),V=B+(C^(P|~j))+z[10]+4293915773&4294967295,B=P+(V<<15&4294967295|V>>>17),V=j+(P^(B|~C))+z[1]+2240044497&4294967295,j=B+(V<<21&4294967295|V>>>11),V=C+(B^(j|~P))+z[8]+1873313359&4294967295,C=j+(V<<6&4294967295|V>>>26),V=P+(j^(C|~B))+z[15]+4264355552&4294967295,P=C+(V<<10&4294967295|V>>>22),V=B+(C^(P|~j))+z[6]+2734768916&4294967295,B=P+(V<<15&4294967295|V>>>17),V=j+(P^(B|~C))+z[13]+1309151649&4294967295,j=B+(V<<21&4294967295|V>>>11),V=C+(B^(j|~P))+z[4]+4149444226&4294967295,C=j+(V<<6&4294967295|V>>>26),V=P+(j^(C|~B))+z[11]+3174756917&4294967295,P=C+(V<<10&4294967295|V>>>22),V=B+(C^(P|~j))+z[2]+718787259&4294967295,B=P+(V<<15&4294967295|V>>>17),V=j+(P^(B|~C))+z[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(B+(V<<21&4294967295|V>>>11))&4294967295,D.g[2]=D.g[2]+B&4294967295,D.g[3]=D.g[3]+P&4294967295}s.prototype.v=function(D,C){C===void 0&&(C=D.length);const j=C-this.blockSize,z=this.C;let B=this.h,P=0;for(;P<C;){if(B==0)for(;P<=j;)a(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<C;)if(z[B++]=D.charCodeAt(P++),B==this.blockSize){a(this,z),B=0;break}}else for(;P<C;)if(z[B++]=D[P++],B==this.blockSize){a(this,z),B=0;break}}this.h=B,this.o+=C},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;C=this.o*8;for(var j=D.length-8;j<D.length;++j)D[j]=C&255,C/=256;for(this.v(D),D=Array(16),C=0,j=0;j<4;++j)for(let z=0;z<32;z+=8)D[C++]=this.g[j]>>>z&255;return D};function l(D,C){var j=h;return Object.prototype.hasOwnProperty.call(j,D)?j[D]:j[D]=C(D)}function c(D,C){this.h=C;const j=[];let z=!0;for(let B=D.length-1;B>=0;B--){const P=D[B]|0;z&&P==C||(j[B]=P,z=!1)}this.g=j}var h={};function d(D){return-128<=D&&D<128?l(D,function(C){return new c([C|0],C<0?-1:0)}):new c([D|0],D<0?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return R(m(-D));const C=[];let j=1;for(let z=0;D>=j;z++)C[z]=D/j|0,j*=4294967296;return new c(C,0)}function g(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return R(g(D.substring(1),C));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=m(Math.pow(C,8));let z=b;for(let P=0;P<D.length;P+=8){var B=Math.min(8,D.length-P);const V=parseInt(D.substring(P,P+B),C);B<8?(B=m(Math.pow(C,B)),z=z.j(B).add(m(V))):(z=z.j(j),z=z.add(m(V)))}return z}var b=d(0),x=d(1),A=d(16777216);t=c.prototype,t.m=function(){if(I(this))return-R(this).m();let D=0,C=1;for(let j=0;j<this.g.length;j++){const z=this.i(j);D+=(z>=0?z:4294967296+z)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(k(this))return"0";if(I(this))return"-"+R(this).toString(D);const C=m(Math.pow(D,6));var j=this;let z="";for(;;){const B=re(j,C).g;j=O(j,B.j(C));let P=((j.g.length>0?j.g[0]:j.h)>>>0).toString(D);if(j=B,k(j))return P+z;for(;P.length<6;)P="0"+P;z=P+z}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function k(D){if(D.h!=0)return!1;for(let C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function I(D){return D.h==-1}t.l=function(D){return D=O(this,D),I(D)?-1:k(D)?0:1};function R(D){const C=D.g.length,j=[];for(let z=0;z<C;z++)j[z]=~D.g[z];return new c(j,~D.h).add(x)}t.abs=function(){return I(this)?R(this):this},t.add=function(D){const C=Math.max(this.g.length,D.g.length),j=[];let z=0;for(let B=0;B<=C;B++){let P=z+(this.i(B)&65535)+(D.i(B)&65535),V=(P>>>16)+(this.i(B)>>>16)+(D.i(B)>>>16);z=V>>>16,P&=65535,V&=65535,j[B]=V<<16|P}return new c(j,j[j.length-1]&-2147483648?-1:0)};function O(D,C){return D.add(R(C))}t.j=function(D){if(k(this)||k(D))return b;if(I(this))return I(D)?R(this).j(R(D)):R(R(this).j(D));if(I(D))return R(this.j(R(D)));if(this.l(A)<0&&D.l(A)<0)return m(this.m()*D.m());const C=this.g.length+D.g.length,j=[];for(var z=0;z<2*C;z++)j[z]=0;for(z=0;z<this.g.length;z++)for(let B=0;B<D.g.length;B++){const P=this.i(z)>>>16,V=this.i(z)&65535,be=D.i(B)>>>16,Te=D.i(B)&65535;j[2*z+2*B]+=V*Te,H(j,2*z+2*B),j[2*z+2*B+1]+=P*Te,H(j,2*z+2*B+1),j[2*z+2*B+1]+=V*be,H(j,2*z+2*B+1),j[2*z+2*B+2]+=P*be,H(j,2*z+2*B+2)}for(D=0;D<C;D++)j[D]=j[2*D+1]<<16|j[2*D];for(D=C;D<2*C;D++)j[D]=0;return new c(j,0)};function H(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function F(D,C){this.g=D,this.h=C}function re(D,C){if(k(C))throw Error("division by zero");if(k(D))return new F(b,b);if(I(D))return C=re(R(D),C),new F(R(C.g),R(C.h));if(I(C))return C=re(D,R(C)),new F(R(C.g),C.h);if(D.g.length>30){if(I(D)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var j=x,z=C;z.l(D)<=0;)j=te(j),z=te(z);var B=ce(j,1),P=ce(z,1);for(z=ce(z,2),j=ce(j,2);!k(z);){var V=P.add(z);V.l(D)<=0&&(B=B.add(j),P=V),z=ce(z,1),j=ce(j,1)}return C=O(D,B.j(C)),new F(B,C)}for(B=b;D.l(C)>=0;){for(j=Math.max(1,Math.floor(D.m()/C.m())),z=Math.ceil(Math.log(j)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),P=m(j),V=P.j(C);I(V)||V.l(D)>0;)j-=z,P=m(j),V=P.j(C);k(P)&&(P=x),B=B.add(P),D=O(D,V)}return new F(B,D)}t.B=function(D){return re(this,D).h},t.and=function(D){const C=Math.max(this.g.length,D.g.length),j=[];for(let z=0;z<C;z++)j[z]=this.i(z)&D.i(z);return new c(j,this.h&D.h)},t.or=function(D){const C=Math.max(this.g.length,D.g.length),j=[];for(let z=0;z<C;z++)j[z]=this.i(z)|D.i(z);return new c(j,this.h|D.h)},t.xor=function(D){const C=Math.max(this.g.length,D.g.length),j=[];for(let z=0;z<C;z++)j[z]=this.i(z)^D.i(z);return new c(j,this.h^D.h)};function te(D){const C=D.g.length+1,j=[];for(let z=0;z<C;z++)j[z]=D.i(z)<<1|D.i(z-1)>>>31;return new c(j,D.h)}function ce(D,C){const j=C>>5;C%=32;const z=D.g.length-j,B=[];for(let P=0;P<z;P++)B[P]=C>0?D.i(P+j)>>>C|D.i(P+j+1)<<32-C:D.i(P+j);return new c(B,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,UC=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,Fa=c}).apply(typeof xT<"u"?xT:typeof self<"u"?self:typeof window<"u"?window:{});var bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zC,Vu,BC,Ff,b0,FC,qC,HC;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof bf=="object"&&bf];for(var w=0;w<f.length;++w){var E=f[w];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(f,w){if(w)e:{var E=s;f=f.split(".");for(var M=0;M<f.length-1;M++){var ee=f[M];if(!(ee in E))break e;E=E[ee]}f=f[f.length-1],M=E[f],w=w(M),w!=M&&w!=null&&e(E,f,{configurable:!0,writable:!0,value:w})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(w){var E=[],M;for(M in w)Object.prototype.hasOwnProperty.call(w,M)&&E.push([M,w[M]]);return E}});var l=l||{},c=this||self;function h(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function d(f,w,E){return f.call.apply(f.bind,arguments)}function m(f,w,E){return m=d,m.apply(null,arguments)}function g(f,w){var E=Array.prototype.slice.call(arguments,1);return function(){var M=E.slice();return M.push.apply(M,arguments),f.apply(this,M)}}function b(f,w){function E(){}E.prototype=w.prototype,f.Z=w.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(M,ee,oe){for(var ve=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ve[Ge-2]=arguments[Ge];return w.prototype[ee].apply(M,ve)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const w=f.length;if(w>0){const E=Array(w);for(let M=0;M<w;M++)E[M]=f[M];return E}return[]}function k(f,w){for(let M=1;M<arguments.length;M++){const ee=arguments[M];var E=typeof ee;if(E=E!="object"?E:ee?Array.isArray(ee)?"array":E:"null",E=="array"||E=="object"&&typeof ee.length=="number"){E=f.length||0;const oe=ee.length||0;f.length=E+oe;for(let ve=0;ve<oe;ve++)f[E+ve]=ee[ve]}else f.push(ee)}}class I{constructor(w,E){this.i=w,this.j=E,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function R(f){c.setTimeout(()=>{throw f},0)}function O(){var f=D;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class H{constructor(){this.h=this.g=null}add(w,E){const M=F.get();M.set(w,E),this.h?this.h.next=M:this.g=M,this.h=M}}var F=new I(()=>new re,f=>f.reset());class re{constructor(){this.next=this.g=this.h=null}set(w,E){this.h=w,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let te,ce=!1,D=new H,C=()=>{const f=Promise.resolve(void 0);te=()=>{f.then(j)}};function j(){for(var f;f=O();){try{f.h.call(f.g)}catch(E){R(E)}var w=F;w.j(f),w.h<100&&(w.h++,f.next=w.g,w.g=f)}ce=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,w),c.removeEventListener("test",E,w)}catch{}return f})();function V(f){return/^[\s\xa0]*$/.test(f)}function be(f,w){B.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,w)}b(be,B),be.prototype.init=function(f,w){const E=this.type=f.type,M=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget,w||(E=="mouseover"?w=f.fromElement:E=="mouseout"&&(w=f.toElement)),this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),J=0;function Y(f,w,E,M,ee){this.listener=f,this.proxy=null,this.src=w,this.type=E,this.capture=!!M,this.ha=ee,this.key=++J,this.da=this.fa=!1}function K(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function X(f,w,E){for(const M in f)w.call(E,f[M],M,f)}function L(f,w){for(const E in f)w.call(void 0,f[E],E,f)}function T(f){const w={};for(const E in f)w[E]=f[E];return w}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(f,w){let E,M;for(let ee=1;ee<arguments.length;ee++){M=arguments[ee];for(E in M)f[E]=M[E];for(let oe=0;oe<U.length;oe++)E=U[oe],Object.prototype.hasOwnProperty.call(M,E)&&(f[E]=M[E])}}function ie(f){this.src=f,this.g={},this.h=0}ie.prototype.add=function(f,w,E,M,ee){const oe=f.toString();f=this.g[oe],f||(f=this.g[oe]=[],this.h++);const ve=ge(f,w,M,ee);return ve>-1?(w=f[ve],E||(w.fa=!1)):(w=new Y(w,this.src,oe,!!M,ee),w.fa=E,f.push(w)),w};function ye(f,w){const E=w.type;if(E in f.g){var M=f.g[E],ee=Array.prototype.indexOf.call(M,w,void 0),oe;(oe=ee>=0)&&Array.prototype.splice.call(M,ee,1),oe&&(K(w),f.g[E].length==0&&(delete f.g[E],f.h--))}}function ge(f,w,E,M){for(let ee=0;ee<f.length;++ee){const oe=f[ee];if(!oe.da&&oe.listener==w&&oe.capture==!!E&&oe.ha==M)return ee}return-1}var me="closure_lm_"+(Math.random()*1e6|0),we={};function Ee(f,w,E,M,ee){if(Array.isArray(w)){for(let oe=0;oe<w.length;oe++)Ee(f,w[oe],E,M,ee);return null}return E=Qt(E),f&&f[Te]?f.J(w,E,h(M)?!!M.capture:!1,ee):Ce(f,w,E,!1,M,ee)}function Ce(f,w,E,M,ee,oe){if(!w)throw Error("Invalid event type");const ve=h(ee)?!!ee.capture:!!ee;let Ge=_t(f);if(Ge||(f[me]=Ge=new ie(f)),E=Ge.add(w,E,M,ve,oe),E.proxy)return E;if(M=ze(),E.proxy=M,M.src=f,M.listener=E,f.addEventListener)P||(ee=ve),ee===void 0&&(ee=!1),f.addEventListener(w.toString(),M,ee);else if(f.attachEvent)f.attachEvent(De(w.toString()),M);else if(f.addListener&&f.removeListener)f.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ze(){function f(E){return w.call(f.src,f.listener,E)}const w=pt;return f}function Ve(f,w,E,M,ee){if(Array.isArray(w))for(var oe=0;oe<w.length;oe++)Ve(f,w[oe],E,M,ee);else M=h(M)?!!M.capture:!!M,E=Qt(E),f&&f[Te]?(f=f.i,oe=String(w).toString(),oe in f.g&&(w=f.g[oe],E=ge(w,E,M,ee),E>-1&&(K(w[E]),Array.prototype.splice.call(w,E,1),w.length==0&&(delete f.g[oe],f.h--)))):f&&(f=_t(f))&&(w=f.g[w.toString()],f=-1,w&&(f=ge(w,E,M,ee)),(E=f>-1?w[f]:null)&&ht(E))}function ht(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[Te])ye(w.i,f);else{var E=f.type,M=f.proxy;w.removeEventListener?w.removeEventListener(E,M,f.capture):w.detachEvent?w.detachEvent(De(E),M):w.addListener&&w.removeListener&&w.removeListener(M),(E=_t(w))?(ye(E,f),E.h==0&&(E.src=null,w[me]=null)):K(f)}}}function De(f){return f in we?we[f]:we[f]="on"+f}function pt(f,w){if(f.da)f=!0;else{w=new be(w,this);const E=f.listener,M=f.ha||f.src;f.fa&&ht(f),f=E.call(M,w)}return f}function _t(f){return f=f[me],f instanceof ie?f:null}var nn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qt(f){return typeof f=="function"?f:(f[nn]||(f[nn]=function(w){return f.handleEvent(w)}),f[nn])}function Je(){z.call(this),this.i=new ie(this),this.M=this,this.G=null}b(Je,z),Je.prototype[Te]=!0,Je.prototype.removeEventListener=function(f,w,E,M){Ve(this,f,w,E,M)};function Ke(f,w){var E,M=f.G;if(M)for(E=[];M;M=M.G)E.push(M);if(f=f.M,M=w.type||w,typeof w=="string")w=new B(w,f);else if(w instanceof B)w.target=w.target||f;else{var ee=w;w=new B(M,f),W(w,ee)}ee=!0;let oe,ve;if(E)for(ve=E.length-1;ve>=0;ve--)oe=w.g=E[ve],ee=Ln(oe,M,!0,w)&&ee;if(oe=w.g=f,ee=Ln(oe,M,!0,w)&&ee,ee=Ln(oe,M,!1,w)&&ee,E)for(ve=0;ve<E.length;ve++)oe=w.g=E[ve],ee=Ln(oe,M,!1,w)&&ee}Je.prototype.N=function(){if(Je.Z.N.call(this),this.i){var f=this.i;for(const w in f.g){const E=f.g[w];for(let M=0;M<E.length;M++)K(E[M]);delete f.g[w],f.h--}}this.G=null},Je.prototype.J=function(f,w,E,M){return this.i.add(String(f),w,!1,E,M)},Je.prototype.K=function(f,w,E,M){return this.i.add(String(f),w,!0,E,M)};function Ln(f,w,E,M){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();let ee=!0;for(let oe=0;oe<w.length;++oe){const ve=w[oe];if(ve&&!ve.da&&ve.capture==E){const Ge=ve.listener,pn=ve.ha||ve.src;ve.fa&&ye(f.i,ve),ee=Ge.call(pn,M)!==!1&&ee}}return ee&&!M.defaultPrevented}function zs(f,w){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:c.setTimeout(f,w||0)}function As(f){f.g=zs(()=>{f.g=null,f.i&&(f.i=!1,As(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class Gt extends z{constructor(w,E){super(),this.m=w,this.l=E,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:As(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(f){z.call(this),this.h=f,this.g={}}b(ms,z);var Cs=[];function jt(f){X(f.g,function(w,E){this.g.hasOwnProperty(E)&&ht(w)},f),f.g={}}ms.prototype.N=function(){ms.Z.N.call(this),jt(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jt=c.JSON.stringify,ps=c.JSON.parse,Bs=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function dn(){}function Fs(){}var $t={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function sn(){B.call(this,"d")}b(sn,B);function xn(){B.call(this,"c")}b(xn,B);var Dt={},ea=null;function si(){return ea=ea||new Je}Dt.Ia="serverreachability";function ns(f){B.call(this,Dt.Ia,f)}b(ns,B);function Rs(f){const w=si();Ke(w,new ns(w))}Dt.STAT_EVENT="statevent";function qs(f,w){B.call(this,Dt.STAT_EVENT,f),this.stat=w}b(qs,B);function Xe(f){const w=si();Ke(w,new qs(w,f))}Dt.Ja="timingevent";function Ot(f,w){B.call(this,Dt.Ja,f),this.size=w}b(Ot,B);function Tt(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},w)}function rn(){this.g=!0}rn.prototype.ua=function(){this.g=!1};function fn(f,w,E,M,ee,oe){f.info(function(){if(f.g)if(oe){var ve="",Ge=oe.split("&");for(let bt=0;bt<Ge.length;bt++){var pn=Ge[bt].split("=");if(pn.length>1){const Yt=pn[0];pn=pn[1];const ai=Yt.split("_");ve=ai.length>=2&&ai[1]=="type"?ve+(Yt+"="+pn+"&"):ve+(Yt+"=redacted&")}}}else ve=null;else ve=oe;return"XMLHTTP REQ ("+M+") [attempt "+ee+"]: "+w+`
`+E+`
`+ve})}function gt(f,w,E,M,ee,oe,ve){f.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+ee+"]: "+w+`
`+E+`
`+oe+" "+ve})}function Vt(f,w,E,M){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+zt(f,E)+(M?" "+M:"")})}function ss(f,w){f.info(function(){return"TIMEOUT: "+w})}rn.prototype.info=function(){};function zt(f,w){if(!f.g)return w;if(!w)return null;try{const oe=JSON.parse(w);if(oe){for(f=0;f<oe.length;f++)if(Array.isArray(oe[f])){var E=oe[f];if(!(E.length<2)){var M=E[1];if(Array.isArray(M)&&!(M.length<1)){var ee=M[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let ve=1;ve<M.length;ve++)M[ve]=""}}}}return Jt(oe)}catch{return w}}var an={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Un={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kn;function gs(){}b(gs,dn),gs.prototype.g=function(){return new XMLHttpRequest},Kn=new gs;function Yn(f){return encodeURIComponent(String(f))}function ys(f){var w=1;f=f.split(":");const E=[];for(;w>0&&f.length;)E.push(f.shift()),w--;return f.length&&E.push(f.join(":")),E}function Kt(f,w,E,M){this.j=f,this.i=w,this.l=E,this.S=M||1,this.V=new ms(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bt}function Bt(){this.i=null,this.g="",this.h=!1}var Mt={},Lt={};function Hs(f,w,E){f.M=1,f.A=Z(Ze(w)),f.u=E,f.R=!0,Gi(f,null)}function Gi(f,w){f.F=Date.now(),vs(f),f.B=Ze(f.A);var E=f.B,M=f.S;Array.isArray(M)||(M=[String(M)]),ol(E.i,"t",M),f.C=0,E=f.j.L,f.h=new Bt,f.g=cd(f.j,E?w:null,!f.u),f.P>0&&(f.O=new Gt(m(f.Y,f,f.g),f.P)),w=f.V,E=f.g,M=f.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(Cs[0]=ee.toString()),ee=Cs);for(let oe=0;oe<ee.length;oe++){const ve=Ee(E,ee[oe],M||w.handleEvent,!1,w.h||w);if(!ve)break;w.g[ve.key]=ve}w=f.J?T(f.J):{},f.u?(f.v||(f.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,w)):(f.v="GET",f.g.ea(f.B,f.v,null,w)),Rs(),fn(f.i,f.v,f.B,f.l,f.S,f.u)}Kt.prototype.ba=function(f){f=f.target;const w=this.O;w&&Ci(f)==3?w.j():this.Y(f)},Kt.prototype.Y=function(f){try{if(f==this.g)e:{const Ge=Ci(this.g),pn=this.g.ya(),bt=this.g.ca();if(!(Ge<3)&&(Ge!=3||this.g&&(this.h.h||this.g.la()||Xn(this.g)))){this.K||Ge!=4||pn==7||(pn==8||bt<=0?Rs(3):Rs(2)),Ns(this);var w=this.g.ca();this.X=w;var E=Oc(this);if(this.o=w==200,gt(this.i,this.v,this.B,this.l,this.S,Ge,w),this.o){if(this.U&&!this.L){t:{if(this.g){var M,ee=this.g;if((M=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(M)){var oe=M;break t}}oe=null}if(f=oe)Vt(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Gs(this,f);else{this.o=!1,this.m=3,Xe(12),Bn(this),zn(this);break e}}if(this.R){f=!0;let Yt;for(;!this.K&&this.C<E.length;)if(Yt=wn(this,E),Yt==Lt){Ge==4&&(this.m=4,Xe(14),f=!1),Vt(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==Mt){this.m=4,Xe(15),Vt(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Vt(this.i,this.l,Yt,null),Gs(this,Yt);if(yr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||E.length!=0||this.h.h||(this.m=1,Xe(16),f=!1),this.o=this.o&&f,!f)Vt(this.i,this.l,E,"[Invalid Chunked Response]"),Bn(this),zn(this);else if(E.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Hc(ve),ve.P=!0,Xe(11))}}else Vt(this.i,this.l,E,null),Gs(this,E);Ge==4&&Bn(this),this.o&&!this.K&&(Ge==4?rd(this.j,this):(this.o=!1,vs(this)))}else br(this.g),w==400&&E.indexOf("Unknown SID")>0?(this.m=3,Xe(12)):(this.m=0,Xe(13)),Bn(this),zn(this)}}}catch{}};function Oc(f){if(!yr(f))return f.g.la();const w=Xn(f.g);if(w==="")return"";let E="";const M=w.length,ee=Ci(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Bn(f),zn(f),"";f.h.i=new c.TextDecoder}for(let oe=0;oe<M;oe++)f.h.h=!0,E+=f.h.i.decode(w[oe],{stream:!(ee&&oe==M-1)});return w.length=0,f.h.g+=E,f.C=0,f.h.g}function yr(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function wn(f,w){var E=f.C,M=w.indexOf(`
`,E);return M==-1?Lt:(E=Number(w.substring(E,M)),isNaN(E)?Mt:(M+=1,M+E>w.length?Lt:(w=w.slice(M,M+E),f.C=M+E,w)))}Kt.prototype.cancel=function(){this.K=!0,Bn(this)};function vs(f){f.T=Date.now()+f.H,is(f,f.H)}function is(f,w){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Tt(m(f.aa,f),w)}function Ns(f){f.D&&(c.clearTimeout(f.D),f.D=null)}Kt.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ss(this.i,this.B),this.M!=2&&(Rs(),Xe(17)),Bn(this),this.m=2,zn(this)):is(this,this.T-f)};function zn(f){f.j.I==0||f.K||rd(f.j,f)}function Bn(f){Ns(f);var w=f.O;w&&typeof w.dispose=="function"&&w.dispose(),f.O=null,jt(f.V),f.g&&(w=f.g,f.g=null,w.abort(),w.dispose())}function Gs(f,w){try{var E=f.j;if(E.I!=0&&(E.g==f||Is(E.h,f))){if(!f.L&&Is(E.h,f)&&E.I==3){try{var M=E.Ba.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var ee=M;if(ee[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)dl(E),ua(E);else break e;vo(E),Xe(18)}}else E.xa=ee[1],0<E.xa-E.K&&ee[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Tt(m(E.Va,E),6e3));$s(E.h)<=1&&E.ta&&(E.ta=void 0)}else Wi(E,11)}else if((f.L||E.g==f)&&dl(E),!V(w))for(ee=E.Ba.g.parse(w),w=0;w<ee.length;w++){let bt=ee[w];const Yt=bt[0];if(!(Yt<=E.K))if(E.K=Yt,bt=bt[1],E.I==2)if(bt[0]=="c"){E.M=bt[1],E.ba=bt[2];const ai=bt[3];ai!=null&&(E.ka=ai,E.j.info("VER="+E.ka));const Qi=bt[4];Qi!=null&&(E.za=Qi,E.j.info("SVER="+E.za));const Ri=bt[5];Ri!=null&&typeof Ri=="number"&&Ri>0&&(M=1.5*Ri,E.O=M,E.j.info("backChannelRequestTimeoutMs_="+M)),M=E;const Ni=f.g;if(Ni){const bo=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bo){var oe=M.h;oe.g||bo.indexOf("spdy")==-1&&bo.indexOf("quic")==-1&&bo.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(na(oe,oe.h),oe.h=null))}if(M.G){const fl=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(M.wa=fl,yt(M.J,M.G,fl))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),M=E;var ve=f;if(M.na=ld(M,M.L?M.ba:null,M.W),ve.L){co(M.h,ve);var Ge=ve,pn=M.O;pn&&(Ge.H=pn),Ge.D&&(Ns(Ge),vs(Ge)),M.g=ve}else sd(M);E.i.length>0&&Xi(E)}else bt[0]!="stop"&&bt[0]!="close"||Wi(E,7);else E.I==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?Wi(E,7):Fc(E):bt[0]!="noop"&&E.l&&E.l.qa(bt),E.A=0)}}Rs(4)}catch{}}var on=class{constructor(f,w){this.g=f,this.map=w}};function ta(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function $s(f){return f.h?1:f.g?f.g.size:0}function Is(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function na(f,w){f.g?f.g.add(w):f.h=w}function co(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}ta.prototype.cancel=function(){if(this.i=uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function uo(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const E of f.g.values())w=w.concat(E.G);return w}return A(f.i)}var ho=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(f,w){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const M=f[E].indexOf("=");let ee,oe=null;M>=0?(ee=f[E].substring(0,M),oe=f[E].substring(M+1)):ee=f[E],w(ee,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function bs(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;f instanceof bs?(this.l=f.l,In(this,f.j),this.o=f.o,this.g=f.g,Ei(this,f.u),this.h=f.h,ia(this,td(f.i)),this.m=f.m):f&&(w=String(f).match(ho))?(this.l=!1,In(this,w[1]||"",!0),this.o=xe(w[2]||""),this.g=xe(w[3]||"",!0),Ei(this,w[4]),this.h=xe(w[5]||"",!0),ia(this,w[6]||"",!0),this.m=xe(w[7]||"")):(this.l=!1,this.i=new ra(null,this.l))}bs.prototype.toString=function(){const f=[];var w=this.j;w&&f.push(vt(w,Ct,!0),":");var E=this.g;return(E||w=="file")&&(f.push("//"),(w=this.o)&&f.push(vt(w,Ct,!0),"@"),f.push(Yn(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(vt(E,E.charAt(0)=="/"?kn:mn,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",vt(E,Zh)),f.join("")},bs.prototype.resolve=function(f){const w=Ze(this);let E=!!f.j;E?In(w,f.j):E=!!f.o,E?w.o=f.o:E=!!f.g,E?w.g=f.g:E=f.u!=null;var M=f.h;if(E)Ei(w,f.u);else if(E=!!f.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var ee=w.h.lastIndexOf("/");ee!=-1&&(M=w.h.slice(0,ee+1)+M)}if(ee=M,ee==".."||ee==".")M="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){M=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const oe=[];for(let ve=0;ve<ee.length;){const Ge=ee[ve++];Ge=="."?M&&ve==ee.length&&oe.push(""):Ge==".."?((oe.length>1||oe.length==1&&oe[0]!="")&&oe.pop(),M&&ve==ee.length&&oe.push("")):(oe.push(Ge),M=!0)}M=oe.join("/")}else M=ee}return E?w.h=M:E=f.i.toString()!=="",E?ia(w,td(f.i)):E=!!f.m,E&&(w.m=f.m),w};function Ze(f){return new bs(f)}function In(f,w,E){f.j=E?xe(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Ei(f,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);f.u=w}else f.u=null}function ia(f,w,E){w instanceof ra?(f.i=w,ll(f.i,f.l)):(E||(w=vt(w,Dn)),f.i=new ra(w,f.l))}function yt(f,w,E){f.i.set(w,E)}function Z(f){return yt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function xe(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function vt(f,w,E){return typeof f=="string"?(f=encodeURI(f).replace(w,ot),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function ot(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ct=/[#\/\?@]/g,mn=/[#\?:]/g,kn=/[#\?]/g,Dn=/[#\?@]/g,Zh=/#/g;function ra(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function ks(f){f.g||(f.g=new Map,f.h=0,f.i&&sa(f.i,function(w,E){f.add(decodeURIComponent(w.replace(/\+/g," ")),E)}))}t=ra.prototype,t.add=function(f,w){ks(this),this.i=null,f=aa(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(w),this.h+=1,this};function ed(f,w){ks(f),w=aa(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function Vc(f,w){return ks(f),w=aa(f,w),f.g.has(w)}t.forEach=function(f,w){ks(this),this.g.forEach(function(E,M){E.forEach(function(ee){f.call(w,ee,M,this)},this)},this)};function Lc(f,w){ks(f);let E=[];if(typeof w=="string")Vc(f,w)&&(E=E.concat(f.g.get(aa(f,w))));else for(f=Array.from(f.g.values()),w=0;w<f.length;w++)E=E.concat(f[w]);return E}t.set=function(f,w){return ks(this),this.i=null,f=aa(this,f),Vc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=Lc(this,f),f.length>0?String(f[0]):w):w};function ol(f,w,E){ed(f,w),E.length>0&&(f.i=null,f.g.set(aa(f,w),A(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(let M=0;M<w.length;M++){var E=w[M];const ee=Yn(E);E=Lc(this,E);for(let oe=0;oe<E.length;oe++){let ve=ee;E[oe]!==""&&(ve+="="+Yn(E[oe])),f.push(ve)}}return this.i=f.join("&")};function td(f){const w=new ra;return w.i=f.i,f.g&&(w.g=new Map(f.g),w.h=f.h),w}function aa(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function ll(f,w){w&&!f.j&&(ks(f),f.i=null,f.g.forEach(function(E,M){const ee=M.toLowerCase();M!=ee&&(ed(this,M),ol(this,ee,E))},f)),f.j=w}function Si(f,w){const E=new rn;if(c.Image){const M=new Image;M.onload=g(ii,E,"TestLoadImage: loaded",!0,w,M),M.onerror=g(ii,E,"TestLoadImage: error",!1,w,M),M.onabort=g(ii,E,"TestLoadImage: abort",!1,w,M),M.ontimeout=g(ii,E,"TestLoadImage: timeout",!1,w,M),c.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=f}else w(!1)}function Uc(f,w){const E=new rn,M=new AbortController,ee=setTimeout(()=>{M.abort(),ii(E,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:M.signal}).then(oe=>{clearTimeout(ee),oe.ok?ii(E,"TestPingServer: ok",!0,w):ii(E,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(ee),ii(E,"TestPingServer: error",!1,w)})}function ii(f,w,E,M,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),M(E)}catch{}}function oa(){this.g=new Bs}function $i(f){this.i=f.Sb||null,this.h=f.ab||!1}b($i,dn),$i.prototype.g=function(){return new fo(this.i,this.h)};function fo(f,w){Je.call(this),this.H=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(fo,Je),t=fo.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=w,this.readyState=1,Ai(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(w.body=f),(this.H||c).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,la(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;cl(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function cl(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?la(this):Ai(this),this.readyState==3&&cl(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,la(this))},t.Na=function(f){this.g&&(this.response=f,la(this))},t.ga=function(){this.g&&la(this)};function la(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Ai(f)}t.setRequestHeader=function(f,w){this.A.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var E=w.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=w.next();return f.join(`\r
`)};function Ai(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ri(f){let w="";return X(f,function(E,M){w+=M,w+=":",w+=E,w+=`\r
`}),w}function mo(f,w,E){e:{for(M in E){var M=!1;break e}M=!0}M||(E=ri(E),typeof f=="string"?E!=null&&Yn(E):yt(f,w,E))}function Rt(f){Je.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Rt,Je);var Ki=/^https?$/i,zc=["POST","PUT"];t=Rt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,w,E,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kn.g(),this.g.onreadystatechange=x(m(this.Ca,this));try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(oe){po(this,oe);return}if(f=E||"",E=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var ee in M)E.set(ee,M[ee]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const oe of M.keys())E.set(oe,M.get(oe));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(E.keys()).find(oe=>oe.toLowerCase()=="content-type"),ee=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(zc,w,void 0)>=0)||M||ee||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,ve]of E)this.g.setRequestHeader(oe,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(oe){po(this,oe)}};function po(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.o=5,Bc(f),vr(f)}function Bc(f){f.A||(f.A=!0,Ke(f,"complete"),Ke(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ke(this,"complete"),Ke(this,"abort"),vr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vr(this,!0)),Rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?go(this):this.Xa())},t.Xa=function(){go(this)};function go(f){if(f.h&&typeof l<"u"){if(f.v&&Ci(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ke(f,"readystatechange"),Ci(f)==4){f.h=!1;try{const oe=f.ca();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var E;if(!(E=w)){var M;if(M=oe===0){let ve=String(f.D).match(ho)[1]||null;!ve&&c.self&&c.self.location&&(ve=c.self.location.protocol.slice(0,-1)),M=!Ki.test(ve?ve.toLowerCase():"")}E=M}if(E)Ke(f,"complete"),Ke(f,"success");else{f.o=6;try{var ee=Ci(f)>2?f.g.statusText:""}catch{ee=""}f.l=ee+" ["+f.ca()+"]",Bc(f)}}finally{vr(f)}}}}function vr(f,w){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,w||Ke(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ci(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Ci(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),ps(w)}};function Xn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function br(f){const w={};f=(f.g&&Ci(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<f.length;M++){if(V(f[M]))continue;var E=ys(f[M]);const ee=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const oe=w[ee]||[];w[ee]=oe,oe.push(E)}L(w,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yi(f,w,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||w}function ca(f){this.za=0,this.i=[],this.j=new rn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yi("baseRetryDelayMs",5e3,f),this.Za=Yi("retryDelaySeedMs",1e4,f),this.Ta=Yi("forwardChannelMaxRetries",2,f),this.va=Yi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new ta(f&&f.concurrentRequestLimit),this.Ba=new oa,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ca.prototype,t.ka=8,t.I=1,t.connect=function(f,w,E,M){Xe(0),this.W=f,this.H=w||{},E&&M!==void 0&&(this.H.OSID=E,this.H.OAID=M),this.F=this.X,this.J=ld(this,null,this.W),Xi(this)};function Fc(f){if(ul(f),f.I==3){var w=f.V++,E=Ze(f.J);if(yt(E,"SID",f.M),yt(E,"RID",w),yt(E,"TYPE","terminate"),yo(f,E),w=new Kt(f,f.j,w),w.M=2,w.A=Z(Ze(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(w.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=w.A,E=!0),E||(w.g=cd(w.j,null),w.g.ea(w.A)),w.F=Date.now(),vs(w)}od(f)}function ua(f){f.g&&(Hc(f),f.g.cancel(),f.g=null)}function ul(f){ua(f),f.v&&(c.clearTimeout(f.v),f.v=null),dl(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function Xi(f){if(!lo(f.h)&&!f.m){f.m=!0;var w=f.Ea;te||C(),ce||(te(),ce=!0),D.add(w,f),f.D=0}}function hl(f,w){return $s(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=w.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Tt(m(f.Ea,f,w),ad(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const ee=new Kt(this,this.j,f);let oe=this.o;if(this.U&&(oe?(oe=T(oe),W(oe,this.U)):oe=this.U),this.u!==null||this.R||(ee.J=oe,oe=null),this.S)e:{for(var w=0,E=0;E<this.i.length;E++){t:{var M=this.i[E];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,w>4096){w=E;break e}if(w===4096||E===this.i.length-1){w=E+1;break e}}w=1e3}else w=1e3;w=nd(this,ee,w),E=Ze(this.J),yt(E,"RID",f),yt(E,"CVER",22),this.G&&yt(E,"X-HTTP-Session-Id",this.G),yo(this,E),oe&&(this.R?w="headers="+Yn(ri(oe))+"&"+w:this.u&&mo(E,this.u,oe)),na(this.h,ee),this.Ra&&yt(E,"TYPE","init"),this.S?(yt(E,"$req",w),yt(E,"SID","null"),ee.U=!0,Hs(ee,E,null)):Hs(ee,E,w),this.I=2}}else this.I==3&&(f?qc(this,f):this.i.length==0||lo(this.h)||qc(this))};function qc(f,w){var E;w?E=w.l:E=f.V++;const M=Ze(f.J);yt(M,"SID",f.M),yt(M,"RID",E),yt(M,"AID",f.K),yo(f,M),f.u&&f.o&&mo(M,f.u,f.o),E=new Kt(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),w&&(f.i=w.G.concat(f.i)),w=nd(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),na(f.h,E),Hs(E,M,w)}function yo(f,w){f.H&&X(f.H,function(E,M){yt(w,M,E)}),f.l&&X({},function(E,M){yt(w,M,E)})}function nd(f,w,E){E=Math.min(f.i.length,E);const M=f.l?m(f.l.Ka,f.l,f):null;e:{var ee=f.i;let Ge=-1;for(;;){const pn=["count="+E];Ge==-1?E>0?(Ge=ee[0].g,pn.push("ofs="+Ge)):Ge=0:pn.push("ofs="+Ge);let bt=!0;for(let Yt=0;Yt<E;Yt++){var oe=ee[Yt].g;const ai=ee[Yt].map;if(oe-=Ge,oe<0)Ge=Math.max(0,ee[Yt].g-100),bt=!1;else try{oe="req"+oe+"_"||"";try{var ve=ai instanceof Map?ai:Object.entries(ai);for(const[Qi,Ri]of ve){let Ni=Ri;h(Ri)&&(Ni=Jt(Ri)),pn.push(oe+Qi+"="+encodeURIComponent(Ni))}}catch(Qi){throw pn.push(oe+"type="+encodeURIComponent("_badmap")),Qi}}catch{M&&M(ai)}}if(bt){ve=pn.join("&");break e}}ve=void 0}return f=f.i.splice(0,E),w.G=f,ve}function sd(f){if(!f.g&&!f.v){f.Y=1;var w=f.Da;te||C(),ce||(te(),ce=!0),D.add(w,f),f.A=0}}function vo(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Tt(m(f.Da,f),ad(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,id(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Tt(m(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xe(10),ua(this),id(this))};function Hc(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function id(f){f.g=new Kt(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var w=Ze(f.na);yt(w,"RID","rpc"),yt(w,"SID",f.M),yt(w,"AID",f.K),yt(w,"CI",f.F?"0":"1"),!f.F&&f.ia&&yt(w,"TO",f.ia),yt(w,"TYPE","xmlhttp"),yo(f,w),f.u&&f.o&&mo(w,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=Z(Ze(w)),E.u=null,E.R=!0,Gi(E,f)}t.Va=function(){this.C!=null&&(this.C=null,ua(this),vo(this),Xe(19))};function dl(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function rd(f,w){var E=null;if(f.g==w){dl(f),Hc(f),f.g=null;var M=2}else if(Is(f.h,w))E=w.G,co(f.h,w),M=1;else return;if(f.I!=0){if(w.o)if(M==1){E=w.u?w.u.length:0,w=Date.now()-w.F;var ee=f.D;M=si(),Ke(M,new Ot(M,E)),Xi(f)}else sd(f);else if(ee=w.m,ee==3||ee==0&&w.X>0||!(M==1&&hl(f,w)||M==2&&vo(f)))switch(E&&E.length>0&&(w=f.h,w.i=w.i.concat(E)),ee){case 1:Wi(f,5);break;case 4:Wi(f,10);break;case 3:Wi(f,6);break;default:Wi(f,2)}}}function ad(f,w){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*w}function Wi(f,w){if(f.j.info("Error code "+w),w==2){var E=m(f.bb,f),M=f.Ua;const ee=!M;M=new bs(M||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||In(M,"https"),Z(M),ee?Si(M.toString(),E):Uc(M.toString(),E)}else Xe(2);f.I=0,f.l&&f.l.pa(w),od(f),ul(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Xe(2)):(this.j.info("Failed to ping google.com"),Xe(1))};function od(f){if(f.I=0,f.ja=[],f.l){const w=uo(f.h);(w.length!=0||f.i.length!=0)&&(k(f.ja,w),k(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function ld(f,w,E){var M=E instanceof bs?Ze(E):new bs(E);if(M.g!="")w&&(M.g=w+"."+M.g),Ei(M,M.u);else{var ee=c.location;M=ee.protocol,w=w?w+"."+ee.hostname:ee.hostname,ee=+ee.port;const oe=new bs(null);M&&In(oe,M),w&&(oe.g=w),ee&&Ei(oe,ee),E&&(oe.h=E),M=oe}return E=f.G,w=f.wa,E&&w&&yt(M,E,w),yt(M,"VER",f.ka),yo(f,M),M}function cd(f,w,E){if(w&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Aa&&!f.ma?new Rt(new $i({ab:E})):new Rt(f.ma),w.Fa(f.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ud(){}t=ud.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ha(){}ha.prototype.g=function(f,w){return new xs(f,w)};function xs(f,w){Je.call(this),this.g=new ca(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(f?f["X-WebChannel-Client-Profile"]=w.sa:f={"X-WebChannel-Client-Profile":w.sa}),this.g.U=f,(f=w&&w.Qb)&&!V(f)&&(this.g.u=f),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!V(w)&&(this.g.G=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new xr(this)}b(xs,Je),xs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xs.prototype.close=function(){Fc(this.g)},xs.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=Jt(f),f=E);w.i.push(new on(w.Ya++,f)),w.I==3&&Xi(w)},xs.prototype.N=function(){this.g.l=null,delete this.j,Fc(this.g),delete this.g,xs.Z.N.call(this)};function hd(f){sn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const E in w){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}b(hd,sn);function dd(){xn.call(this),this.status=1}b(dd,xn);function xr(f){this.g=f}b(xr,ud),xr.prototype.ra=function(){Ke(this.g,"a")},xr.prototype.qa=function(f){Ke(this.g,new hd(f))},xr.prototype.pa=function(f){Ke(this.g,new dd)},xr.prototype.oa=function(){Ke(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,xs.prototype.send=xs.prototype.o,xs.prototype.open=xs.prototype.m,xs.prototype.close=xs.prototype.close,HC=function(){return new ha},qC=function(){return si()},FC=Dt,b0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},an.NO_ERROR=0,an.TIMEOUT=8,an.HTTP_ERROR=6,Ff=an,Un.COMPLETE="complete",BC=Un,Fs.EventType=$t,$t.OPEN="a",$t.CLOSE="b",$t.ERROR="c",$t.MESSAGE="d",Je.prototype.listen=Je.prototype.J,Vu=Fs,Rt.prototype.listenOnce=Rt.prototype.K,Rt.prototype.getLastError=Rt.prototype.Ha,Rt.prototype.getLastErrorCode=Rt.prototype.ya,Rt.prototype.getStatus=Rt.prototype.ca,Rt.prototype.getResponseJson=Rt.prototype.La,Rt.prototype.getResponseText=Rt.prototype.la,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Fa,zC=Rt}).apply(typeof bf<"u"?bf:typeof self<"u"?self:typeof window<"u"?window:{});let ls=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ls.UNAUTHENTICATED=new ls(null),ls.GOOGLE_CREDENTIALS=new ls("google-credentials-uid"),ls.FIRST_PARTY=new ls("first-party-uid"),ls.MOCK_USER=new ls("mock-user");let _c="12.8.0";function Z5(t){_c=t}const Zo=new _v("@firebase/firestore");function Gl(){return Zo.logLevel}function Se(t,...e){if(Zo.logLevel<=it.DEBUG){const n=e.map(Vv);Zo.debug(`Firestore (${_c}): ${t}`,...n)}}function Wr(t,...e){if(Zo.logLevel<=it.ERROR){const n=e.map(Vv);Zo.error(`Firestore (${_c}): ${t}`,...n)}}function el(t,...e){if(Zo.logLevel<=it.WARN){const n=e.map(Vv);Zo.warn(`Firestore (${_c}): ${t}`,...n)}}function Vv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Oe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,GC(t,s,n)}function GC(t,e,n){let s=`FIRESTORE (${_c}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Wr(s),new Error(s)}function wt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||GC(e,a,s)}function He(t,e){return t}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class $C{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ls.UNAUTHENTICATED)))}shutdown(){}}class eO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class tO{constructor(e){this.t=e,this.currentUser=ls.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let s=this.i;const a=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let l=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Hr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Hr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(wt(typeof s.accessToken=="string",31837,{l:s}),new $C(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new ls(e)}}class nO{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=ls.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class sO{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new nO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ls.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const s=l=>{l.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Se("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Ym{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=rO(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function rt(t,e){return t<e?-1:t>e?1:0}function x0(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return ky(a)===ky(l)?rt(a,l):ky(a)?1:-1}return rt(t.length,e.length)}const aO=55296,oO=57343;function ky(t){const e=t.charCodeAt(0);return e>=aO&&e<=oO}function hc(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const _T="__name__";class nr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Oe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=nr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return rt(e.length,n.length)}static compareSegments(e,n){const s=nr.isNumericId(e),a=nr.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?nr.extractNumericId(e).compare(nr.extractNumericId(n)):x0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fa.fromString(e.substring(4,e.length-2))}}class Ut extends nr{construct(e,n,s){return new Ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(de.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new Ut(n)}static emptyPath(){return new Ut([])}}const lO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends nr{construct(e,n,s){return new Gn(e,n,s)}static isValidIdentifier(e){return lO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_T}static keyField(){return new Gn([_T])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new _e(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new _e(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new _e(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(s+=h,a++):(l(),a++)}if(l(),c)throw new _e(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(n)}static emptyPath(){return new Gn([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Ut.fromString(e))}static fromName(e){return new Me(Ut.fromString(e).popFirst(5))}static empty(){return new Me(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Ut(e.slice()))}}function YC(t,e,n){if(!n)throw new _e(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XC(t,e,n,s){if(e===!0&&s===!0)throw new _e(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TT(t){if(!Me.isDocumentKey(t))throw new _e(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ET(t){if(Me.isDocumentKey(t))throw new _e(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function WC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Xm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function hs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xm(t);throw new _e(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Nn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Mh(t,e){if(!WC(t))throw new _e(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new _e(de.INVALID_ARGUMENT,n);return!0}const ST=-62135596800,AT=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*AT);return new Fe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ST)throw new _e(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AT}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mh(e,Fe._jsonSchema))return new Fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ST;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:Nn("string",Fe._jsonSchemaVersion),seconds:Nn("number"),nanoseconds:Nn("number")};class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new Fe(0,0))}static max(){return new Ue(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const lh=-1;function cO(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ue.fromTimestamp(s===1e9?new Fe(n+1,0):new Fe(n,s));return new Xa(a,Me.empty(),e)}function uO(t){return new Xa(t.readTime,t.key,lh)}class Xa{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xa(Ue.min(),Me.empty(),lh)}static max(){return new Xa(Ue.max(),Me.empty(),lh)}}function hO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:rt(t.largestBatchId,e.largestBatchId))}const dO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Tc(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==dO)throw t;Se("LocalStore","Unexpectedly lost primary lease")}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.reject(n)}static resolve(e){return new pe(((n,s)=>{n(e)}))}static reject(e){return new pe(((n,s)=>{s(e)}))}static waitFor(e){return new pe(((n,s)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(d=>s(d)))})),c=!0,l===a&&n()}))}static or(e){let n=pe.resolve(!1);for(const s of e)n=n.next((a=>a?pe.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new pe(((s,a)=>{const l=e.length,c=new Array(l);let h=0;for(let d=0;d<l;d++){const m=d;n(e[m]).next((g=>{c[m]=g,++h,h===l&&s(c)}),(g=>a(g)))}}))}static doWhile(e,n){return new pe(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function mO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ec(t){return t.name==="IndexedDbTransactionError"}class Wm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wm.ce=-1;const Lv=-1;function Qm(t){return t==null}function lm(t){return t===0&&1/t==-1/0}function pO(t){return typeof t=="number"&&Number.isInteger(t)&&!lm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const QC="";function gO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=CT(e)),e=yO(t.get(n),e);return CT(e)}function yO(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case QC:n+="";break;default:n+=l}}return n}function CT(t){return t+QC+""}function RT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class tn{constructor(e,n){this.comparator=e,this.root=n||ts.EMPTY}insert(e,n){return new tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ts.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ts.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xf(this.root,e,this.comparator,!0)}}class xf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ts{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??ts.RED,this.left=a??ts.EMPTY,this.right=l??ts.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new ts(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ts.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return ts.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ts.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ts.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}ts.EMPTY=null,ts.RED=!0,ts.BLACK=!1;ts.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new ts(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NT(this.data.getIterator())}getIteratorFrom(e){return new NT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vn(this.comparator);return n.data=e,n}}class NT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ti{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new ti([])}unionWith(e){let n=new Vn(Gn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hc(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class ZC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ZC("Invalid base64 string: "+l):l}})(e);return new $n(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new $n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$n.EMPTY_BYTE_STRING=new $n("");const vO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wa(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const n=vO.exec(t);if(wt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vn(t.seconds),nanos:vn(t.nanos)}}function vn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qa(t){return typeof t=="string"?$n.fromBase64String(t):$n.fromUint8Array(t)}const e2="server_timestamp",t2="__type__",n2="__previous_value__",s2="__local_write_time__";function Uv(t){return(t?.mapValue?.fields||{})[t2]?.stringValue===e2}function Jm(t){const e=t.mapValue.fields[n2];return Uv(e)?Jm(e):e}function ch(t){const e=Wa(t.mapValue.fields[s2].timestampValue);return new Fe(e.seconds,e.nanos)}class bO{constructor(e,n,s,a,l,c,h,d,m,g,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=g,this.apiKey=b}}const cm="(default)";class dc{constructor(e,n){this.projectId=e,this.database=n||cm}static empty(){return new dc("","")}get isDefaultDatabase(){return this.database===cm}isEqual(e){return e instanceof dc&&e.projectId===this.projectId&&e.database===this.database}}function xO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _e(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(t.options.projectId,e)}const i2="__type__",wO="__max__",wf={mapValue:{}},r2="__vector__",um="value";function Ja(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uv(t)?4:TO(t)?9007199254740991:_O(t)?10:11:Oe(28295,{value:t})}function dr(t,e){if(t===e)return!0;const n=Ja(t);if(n!==Ja(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ch(t).isEqual(ch(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Wa(a.timestampValue),h=Wa(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Qa(a.bytesValue).isEqual(Qa(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return vn(a.geoPointValue.latitude)===vn(l.geoPointValue.latitude)&&vn(a.geoPointValue.longitude)===vn(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return vn(a.integerValue)===vn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=vn(a.doubleValue),h=vn(l.doubleValue);return c===h?lm(c)===lm(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return hc(t.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(RT(c)!==RT(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!dr(c[d],h[d])))return!1;return!0})(t,e);default:return Oe(52216,{left:t})}}function uh(t,e){return(t.values||[]).find((n=>dr(n,e)))!==void 0}function fc(t,e){if(t===e)return 0;const n=Ja(t),s=Ja(e);if(n!==s)return rt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=vn(l.integerValue||l.doubleValue),d=vn(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return IT(t.timestampValue,e.timestampValue);case 4:return IT(ch(t),ch(e));case 5:return x0(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=Qa(l),d=Qa(c);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),d=c.split("/");for(let m=0;m<h.length&&m<d.length;m++){const g=rt(h[m],d[m]);if(g!==0)return g}return rt(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=rt(vn(l.latitude),vn(c.latitude));return h!==0?h:rt(vn(l.longitude),vn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return kT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},d=c.fields||{},m=h[um]?.arrayValue,g=d[um]?.arrayValue,b=rt(m?.values?.length||0,g?.values?.length||0);return b!==0?b:kT(m,g)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===wf.mapValue&&c===wf.mapValue)return 0;if(l===wf.mapValue)return 1;if(c===wf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),m=c.fields||{},g=Object.keys(m);d.sort(),g.sort();for(let b=0;b<d.length&&b<g.length;++b){const x=x0(d[b],g[b]);if(x!==0)return x;const A=fc(h[d[b]],m[g[b]]);if(A!==0)return A}return rt(d.length,g.length)})(t.mapValue,e.mapValue);default:throw Oe(23264,{he:n})}}function IT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rt(t,e);const n=Wa(t),s=Wa(e),a=rt(n.seconds,s.seconds);return a!==0?a:rt(n.nanos,s.nanos)}function kT(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=fc(n[a],s[a]);if(l)return l}return rt(n.length,s.length)}function mc(t){return w0(t)}function w0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Wa(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Qa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Me.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=w0(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${w0(n.fields[c])}`;return a+"}"})(t.mapValue):Oe(61005,{value:t})}function qf(t){switch(Ja(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jm(t);return e?16+qf(e):16;case 5:return 2*t.stringValue.length;case 6:return Qa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+qf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return io(s.fields,((l,c)=>{a+=l.length+qf(c)})),a})(t.mapValue);default:throw Oe(13486,{value:t})}}function DT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _0(t){return!!t&&"integerValue"in t}function zv(t){return!!t&&"arrayValue"in t}function MT(t){return!!t&&"nullValue"in t}function PT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hf(t){return!!t&&"mapValue"in t}function _O(t){return(t?.mapValue?.fields||{})[i2]?.stringValue===r2}function Hu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return io(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Hu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hu(t.arrayValue.values[n]);return e}return{...t}}function TO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===wO}class Ls{constructor(e){this.value=e}static empty(){return new Ls({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Hf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(n)}setAll(e){let n=Gn.emptyPath(),s={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,s,a),s={},a=[],n=h.popLast()}c?s[h.lastSegment()]=Hu(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Hf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Hf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){io(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Ls(Hu(this.value))}}function a2(t){const e=[];return io(t.fields,((n,s)=>{const a=new Gn([n]);if(Hf(s)){const l=a2(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new ti(e)}class cs{constructor(e,n,s,a,l,c,h){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new cs(e,0,Ue.min(),Ue.min(),Ue.min(),Ls.empty(),0)}static newFoundDocument(e,n,s,a){return new cs(e,1,n,Ue.min(),s,a,0)}static newNoDocument(e,n){return new cs(e,2,n,Ue.min(),Ue.min(),Ls.empty(),0)}static newUnknownDocument(e,n){return new cs(e,3,n,Ue.min(),Ue.min(),Ls.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hm{constructor(e,n){this.position=e,this.inclusive=n}}function jT(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=Me.comparator(Me.fromName(c.referenceValue),n.key):s=fc(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function OT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dr(t.position[n],e.position[n]))return!1;return!0}class dm{constructor(e,n="asc"){this.field=e,this.dir=n}}function EO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class o2{}class Rn extends o2{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new AO(e,n,s):n==="array-contains"?new NO(e,s):n==="in"?new IO(e,s):n==="not-in"?new kO(e,s):n==="array-contains-any"?new DO(e,s):new Rn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new CO(e,s):new RO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fc(n,this.value)):n!==null&&Ja(this.value)===Ja(n)&&this.matchesComparison(fc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends o2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ui(e,n)}matches(e){return l2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function l2(t){return t.op==="and"}function c2(t){return SO(t)&&l2(t)}function SO(t){for(const e of t.filters)if(e instanceof Ui)return!1;return!0}function T0(t){if(t instanceof Rn)return t.field.canonicalString()+t.op.toString()+mc(t.value);if(c2(t))return t.filters.map((e=>T0(e))).join(",");{const e=t.filters.map((n=>T0(n))).join(",");return`${t.op}(${e})`}}function u2(t,e){return t instanceof Rn?(function(s,a){return a instanceof Rn&&s.op===a.op&&s.field.isEqual(a.field)&&dr(s.value,a.value)})(t,e):t instanceof Ui?(function(s,a){return a instanceof Ui&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,h)=>l&&u2(c,a.filters[h])),!0):!1})(t,e):void Oe(19439)}function h2(t){return t instanceof Rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${mc(n.value)}`})(t):t instanceof Ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(h2).join(" ,")+"}"})(t):"Filter"}class AO extends Rn{constructor(e,n,s){super(e,n,s),this.key=Me.fromName(s.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class CO extends Rn{constructor(e,n){super(e,"in",n),this.keys=d2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class RO extends Rn{constructor(e,n){super(e,"not-in",n),this.keys=d2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function d2(t,e){return(e.arrayValue?.values||[]).map((n=>Me.fromName(n.referenceValue)))}class NO extends Rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zv(n)&&uh(n.arrayValue,this.value)}}class IO extends Rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uh(this.value.arrayValue,n)}}class kO extends Rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uh(this.value.arrayValue,n)}}class DO extends Rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>uh(this.value.arrayValue,s)))}}class MO{constructor(e,n=null,s=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function VT(t,e=null,n=[],s=[],a=null,l=null,c=null){return new MO(t,e,n,s,a,l,c)}function Bv(t){const e=He(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>T0(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Qm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>mc(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>mc(s))).join(",")),e.Te=n}return e.Te}function Fv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!u2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OT(t.startAt,e.startAt)&&OT(t.endAt,e.endAt)}function E0(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ph{constructor(e,n=null,s=[],a=[],l=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function PO(t,e,n,s,a,l,c,h){return new Ph(t,e,n,s,a,l,c,h)}function Zm(t){return new Ph(t)}function LT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jO(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function f2(t){return t.collectionGroup!==null}function Gu(t){const e=He(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Vn(Gn.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new dm(l,s))})),n.has(Gn.keyField().canonicalString())||e.Ie.push(new dm(Gn.keyField(),s))}return e.Ie}function or(t){const e=He(t);return e.Ee||(e.Ee=OO(e,Gu(t))),e.Ee}function OO(t,e){if(t.limitType==="F")return VT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new dm(a.field,l)}));const n=t.endAt?new hm(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new hm(t.startAt.position,t.startAt.inclusive):null;return VT(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function S0(t,e){const n=t.filters.concat([e]);return new Ph(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function A0(t,e,n){return new Ph(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ep(t,e){return Fv(or(t),or(e))&&t.limitType===e.limitType}function m2(t){return`${Bv(or(t))}|lt:${t.limitType}`}function $l(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>h2(a))).join(", ")}]`),Qm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>mc(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>mc(a))).join(",")),`Target(${s})`})(or(t))}; limitType=${t.limitType})`}function tp(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Me.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Gu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,h,d){const m=jT(c,h,d);return c.inclusive?m<=0:m<0})(s.startAt,Gu(s),a)||s.endAt&&!(function(c,h,d){const m=jT(c,h,d);return c.inclusive?m>=0:m>0})(s.endAt,Gu(s),a))})(t,e)}function VO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function p2(t){return(e,n)=>{let s=!1;for(const a of Gu(t)){const l=LO(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function LO(t,e,n){const s=t.field.isKeyField()?Me.comparator(e.key,n.key):(function(l,c,h){const d=c.data.field(l),m=h.data.field(l);return d!==null&&m!==null?fc(d,m):Oe(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Oe(19790,{direction:t.dir})}}class rl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return JC(this.inner)}size(){return this.innerSize}}const UO=new tn(Me.comparator);function Qr(){return UO}const g2=new tn(Me.comparator);function Lu(...t){let e=g2;for(const n of t)e=e.insert(n.key,n);return e}function y2(t){let e=g2;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function qo(){return $u()}function v2(){return $u()}function $u(){return new rl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const zO=new tn(Me.comparator),BO=new Vn(Me.comparator);function at(...t){let e=BO;for(const n of t)e=e.add(n);return e}const FO=new Vn(rt);function qO(){return FO}function qv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lm(e)?"-0":e}}function b2(t){return{integerValue:""+t}}function HO(t,e){return pO(e)?b2(e):qv(t,e)}class np{constructor(){this._=void 0}}function GO(t,e,n){return t instanceof hh?(function(a,l){const c={fields:{[t2]:{stringValue:e2},[s2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Uv(l)&&(l=Jm(l)),l&&(c.fields[n2]=l),{mapValue:c}})(n,e):t instanceof dh?w2(t,e):t instanceof fh?_2(t,e):(function(a,l){const c=x2(a,l),h=UT(c)+UT(a.Ae);return _0(c)&&_0(a.Ae)?b2(h):qv(a.serializer,h)})(t,e)}function $O(t,e,n){return t instanceof dh?w2(t,e):t instanceof fh?_2(t,e):n}function x2(t,e){return t instanceof fm?(function(s){return _0(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class hh extends np{}class dh extends np{constructor(e){super(),this.elements=e}}function w2(t,e){const n=T2(e);for(const s of t.elements)n.some((a=>dr(a,s)))||n.push(s);return{arrayValue:{values:n}}}class fh extends np{constructor(e){super(),this.elements=e}}function _2(t,e){let n=T2(e);for(const s of t.elements)n=n.filter((a=>!dr(a,s)));return{arrayValue:{values:n}}}class fm extends np{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function UT(t){return vn(t.integerValue||t.doubleValue)}function T2(t){return zv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class KO{constructor(e,n){this.field=e,this.transform=n}}function YO(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof dh&&a instanceof dh||s instanceof fh&&a instanceof fh?hc(s.elements,a.elements,dr):s instanceof fm&&a instanceof fm?dr(s.Ae,a.Ae):s instanceof hh&&a instanceof hh})(t.transform,e.transform)}class XO{constructor(e,n){this.version=e,this.transformResults=n}}class Es{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Es}static exists(e){return new Es(void 0,e)}static updateTime(e){return new Es(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sp{}function E2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ip(t.key,Es.none()):new jh(t.key,t.data,Es.none());{const n=t.data,s=Ls.empty();let a=new Vn(Gn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new ro(t.key,s,new ti(a.toArray()),Es.none())}}function WO(t,e,n){t instanceof jh?(function(a,l,c){const h=a.value.clone(),d=BT(a.fieldTransforms,l,c.transformResults);h.setAll(d),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ro?(function(a,l,c){if(!Gf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=BT(a.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(S2(a)),d.setAll(h),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Ku(t,e,n,s){return t instanceof jh?(function(l,c,h,d){if(!Gf(l.precondition,c))return h;const m=l.value.clone(),g=FT(l.fieldTransforms,d,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,s):t instanceof ro?(function(l,c,h,d){if(!Gf(l.precondition,c))return h;const m=FT(l.fieldTransforms,d,c),g=c.data;return g.setAll(S2(l)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,c,h){return Gf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function QO(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=x2(s.transform,a||null);l!=null&&(n===null&&(n=Ls.empty()),n.set(s.field,l))}return n||null}function zT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&hc(s,a,((l,c)=>YO(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jh extends sp{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ro extends sp{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function S2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function BT(t,e,n){const s=new Map;wt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);s.set(l.field,$O(c,h,n[a]))}return s}function FT(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,GO(l,c,e))}return s}class ip extends sp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JO extends sp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ZO{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&WO(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ku(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ku(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=v2();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const d=E2(c,h);d!==null&&s.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(Ue.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),at())}isEqual(e){return this.batchId===e.batchId&&hc(this.mutations,e.mutations,((n,s)=>zT(n,s)))&&hc(this.baseMutations,e.baseMutations,((n,s)=>zT(n,s)))}}class Hv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){wt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return zO})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Hv(e,n,s,a)}}class eV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class tV{constructor(e,n){this.count=e,this.unchangedNames=n}}var An,ut;function nV(t){switch(t){case de.OK:return Oe(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function A2(t){if(t===void 0)return Wr("GRPC error has no .code"),de.UNKNOWN;switch(t){case An.OK:return de.OK;case An.CANCELLED:return de.CANCELLED;case An.UNKNOWN:return de.UNKNOWN;case An.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case An.INTERNAL:return de.INTERNAL;case An.UNAVAILABLE:return de.UNAVAILABLE;case An.UNAUTHENTICATED:return de.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case An.NOT_FOUND:return de.NOT_FOUND;case An.ALREADY_EXISTS:return de.ALREADY_EXISTS;case An.PERMISSION_DENIED:return de.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case An.ABORTED:return de.ABORTED;case An.OUT_OF_RANGE:return de.OUT_OF_RANGE;case An.UNIMPLEMENTED:return de.UNIMPLEMENTED;case An.DATA_LOSS:return de.DATA_LOSS;default:return Oe(39323,{code:t})}}(ut=An||(An={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";function sV(){return new TextEncoder}const iV=new Fa([4294967295,4294967295],0);function qT(t){const e=sV().encode(t),n=new UC;return n.update(e),new Uint8Array(n.digest())}function HT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Fa([n,s],0),new Fa([a,l],0)]}class Gv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Uu(`Invalid padding: ${n}`);if(s<0)throw new Uu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Uu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Uu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fa.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Fa.fromNumber(s)));return a.compare(iV)===1&&(a=new Fa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=qT(e),[s,a]=HT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Gv(l,a,n);return s.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=qT(e),[s,a]=HT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rp{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Oh.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new rp(Ue.min(),a,new tn(rt),Qr(),at())}}class Oh{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Oh(s,n,at(),at(),at())}}class $f{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class C2{constructor(e,n){this.targetId=e,this.Ce=n}}class R2{constructor(e,n,s=$n.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class GT{constructor(){this.ve=0,this.Fe=$T(),this.Me=$n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),n=at(),s=at();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Oe(38017,{changeType:l})}})),new Oh(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=$T()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class rV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qr(),this.He=_f(),this.Je=_f(),this.Ze=new tn(rt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(E0(l))if(s===0){const c=new Me(l.path);this.et(n,c,cs.newNoDocument(c,Ue.min()))}else wt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=Qa(s).toUint8Array()}catch(d){if(d instanceof ZC)return el("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Gv(c,a,l)}catch(d){return el(d instanceof Uu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&E0(h.target)){const d=new Me(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,cs.newNoDocument(d,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let s=at();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new rp(e,n,this.Ze,this.je,s);return this.je=Qr(),this.He=_f(),this.Je=_f(),this.Ze=new tn(rt),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new GT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Vn(rt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Vn(rt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new GT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _f(){return new tn(Me.comparator)}function $T(){return new tn(Me.comparator)}const aV={asc:"ASCENDING",desc:"DESCENDING"},oV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lV={and:"AND",or:"OR"};class cV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function C0(t,e){return t.useProto3Json||Qm(e)?e:{value:e}}function mm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uV(t,e){return mm(t,e.toTimestamp())}function lr(t){return wt(!!t,49232),Ue.fromTimestamp((function(n){const s=Wa(n);return new Fe(s.seconds,s.nanos)})(t))}function $v(t,e){return R0(t,e).canonicalString()}function R0(t,e){const n=(function(a){return new Ut(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function I2(t){const e=Ut.fromString(t);return wt(j2(e),10190,{key:e.toString()}),e}function N0(t,e){return $v(t.databaseId,e.path)}function Dy(t,e){const n=I2(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(D2(n))}function k2(t,e){return $v(t.databaseId,e)}function hV(t){const e=I2(t);return e.length===4?Ut.emptyPath():D2(e)}function I0(t){return new Ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function D2(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function KT(t,e,n){return{name:N0(t,e),fields:n.value.mapValue.fields}}function dV(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Oe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,g){return m.useProto3Json?(wt(g===void 0||typeof g=="string",58123),$n.fromBase64String(g||"")):(wt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),$n.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const g=m.code===void 0?de.UNKNOWN:A2(m.code);return new _e(g,m.message||"")})(c);n=new R2(s,a,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Dy(t,s.document.name),l=lr(s.document.updateTime),c=s.document.createTime?lr(s.document.createTime):Ue.min(),h=new Ls({mapValue:{fields:s.document.fields}}),d=cs.newFoundDocument(a,l,c,h),m=s.targetIds||[],g=s.removedTargetIds||[];n=new $f(m,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Dy(t,s.document),l=s.readTime?lr(s.readTime):Ue.min(),c=cs.newNoDocument(a,l),h=s.removedTargetIds||[];n=new $f([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Dy(t,s.document),l=s.removedTargetIds||[];n=new $f([],l,a,null)}else{if(!("filter"in e))return Oe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new tV(a,l),h=s.targetId;n=new C2(h,c)}}return n}function fV(t,e){let n;if(e instanceof jh)n={update:KT(t,e.key,e.value)};else if(e instanceof ip)n={delete:N0(t,e.key)};else if(e instanceof ro)n={update:KT(t,e.key,e.data),updateMask:_V(e.fieldMask)};else{if(!(e instanceof JO))return Oe(16599,{dt:e.type});n={verify:N0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const h=c.transform;if(h instanceof hh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof dh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof fh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof fm)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Oe(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:uV(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Oe(27497)})(t,e.precondition)),n}function mV(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?lr(a.updateTime):lr(l);return c.isEqual(Ue.min())&&(c=lr(l)),new XO(c,a.transformResults||[])})(n,e)))):[]}function pV(t,e){return{documents:[k2(t,e.path)]}}function gV(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=k2(t,a);const l=(function(m){if(m.length!==0)return P2(Ui.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((g=>(function(x){return{field:Kl(x.field),direction:bV(x.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=C0(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function yV(t){let e=hV(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){wt(s===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(b){const x=M2(b);return x instanceof Ui&&c2(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((x=>(function(k){return new dm(Yl(k.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(x)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let x;return x=typeof b=="object"?b.value:b,Qm(x)?null:x})(n.limit));let d=null;n.startAt&&(d=(function(b){const x=!!b.before,A=b.values||[];return new hm(A,x)})(n.startAt));let m=null;return n.endAt&&(m=(function(b){const x=!b.before,A=b.values||[];return new hm(A,x)})(n.endAt)),PO(e,a,c,l,h,"F",d,m)}function vV(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function M2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Yl(n.unaryFilter.field);return Rn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Yl(n.unaryFilter.field);return Rn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Yl(n.unaryFilter.field);return Rn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Yl(n.unaryFilter.field);return Rn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Rn.create(Yl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ui.create(n.compositeFilter.filters.map((s=>M2(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(n.compositeFilter.op))})(t):Oe(30097,{filter:t})}function bV(t){return aV[t]}function xV(t){return oV[t]}function wV(t){return lV[t]}function Kl(t){return{fieldPath:t.canonicalString()}}function Yl(t){return Gn.fromServerFormat(t.fieldPath)}function P2(t){return t instanceof Rn?(function(n){if(n.op==="=="){if(PT(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NAN"}};if(MT(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PT(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NOT_NAN"}};if(MT(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kl(n.field),op:xV(n.op),value:n.value}}})(t):t instanceof Ui?(function(n){const s=n.getFilters().map((a=>P2(a)));return s.length===1?s[0]:{compositeFilter:{op:wV(n.op),filters:s}}})(t):Oe(54877,{filter:t})}function _V(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function j2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function O2(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class La{constructor(e,n,s,a,l=Ue.min(),c=Ue.min(),h=$n.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new La(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class TV{constructor(e){this.yt=e}}function EV(t){const e=yV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?A0(e,e.limit,"L"):e}class SV{constructor(){this.Sn=new AV}addToCollectionParentIndex(e,n){return this.Sn.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(Xa.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(Xa.min())}updateCollectionGroup(e,n,s){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class AV{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Vn(Ut.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Vn(Ut.comparator)).toArray()}}const YT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},V2=41943040;class Vs{static withCacheSize(e){return new Vs(e,Vs.DEFAULT_COLLECTION_PERCENTILE,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Vs.DEFAULT_COLLECTION_PERCENTILE=10,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vs.DEFAULT=new Vs(V2,Vs.DEFAULT_COLLECTION_PERCENTILE,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vs.DISABLED=new Vs(-1,0,0);class pc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new pc(0)}static ar(){return new pc(-1)}}const XT="LruGarbageCollector",CV=1048576;function WT([t,e],[n,s]){const a=rt(t,n);return a===0?rt(e,s):a}class RV{constructor(e){this.Pr=e,this.buffer=new Vn(WT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();WT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NV{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Se(XT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ec(n)?Se(XT,"Ignoring IndexedDB error during garbage collection: ",n):await Tc(n)}await this.Ar(3e5)}))}}class IV{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return pe.resolve(Wm.ce);const s=new RV(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(YT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,c,h,d,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,h=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,d=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(m=Date.now(),Gl()<=it.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${b} documents in `+(m-d)+`ms
Total Duration: ${m-g}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function kV(t,e){return new IV(t,e)}class DV{constructor(){this.changes=new rl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?pe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class MV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class PV{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Ku(s.mutation,a,ti.empty(),Fe.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,at()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=at()){const a=qo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=Lu();return l.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=qo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,at())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,s,a){let l=Qr();const c=$u(),h=(function(){return $u()})();return n.forEach(((d,m)=>{const g=s.get(m.key);a.has(m.key)&&(g===void 0||g.mutation instanceof ro)?l=l.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),Ku(g.mutation,m,g.mutation.getFieldMask(),Fe.now())):c.set(m.key,ti.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((m,g)=>c.set(m,g))),n.forEach(((m,g)=>h.set(m,new MV(g,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,n){const s=$u();let a=new tn(((c,h)=>c-h)),l=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let g=s.get(d)||ti.empty();g=h.applyToLocalView(m,g),s.set(d,g);const b=(a.get(h.batchId)||at()).add(d);a=a.insert(h.batchId,b)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,g=d.value,b=v2();g.forEach((x=>{if(!l.has(x)){const A=E2(n.get(x),s.get(x));A!==null&&b.set(x,A),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,b))}return pe.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return jO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):f2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):pe.resolve(qo());let h=lh,d=l;return c.next((m=>pe.forEach(m,((g,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),l.get(g)?pe.resolve():this.remoteDocumentCache.getEntry(e,g).next((x=>{d=d.insert(g,x)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,d,m,at()))).next((g=>({batchId:h,changes:y2(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((s=>{let a=Lu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=Lu();return this.indexManager.getCollectionParents(e,l).next((h=>pe.forEach(h,(d=>{const m=(function(b,x){return new Ph(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,s,a).next((g=>{g.forEach(((b,x)=>{c=c.insert(b,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((d,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,cs.newInvalidDocument(g)))}));let h=Lu();return c.forEach(((d,m)=>{const g=l.get(d);g!==void 0&&Ku(g.mutation,m,ti.empty(),Fe.now()),tp(n,m)&&(h=h.insert(d,m))})),h}))}}class jV{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return pe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:lr(a.createTime)}})(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:EV(a.bundledQuery),readTime:lr(a.readTime)}})(n)),pe.resolve()}}class OV{constructor(){this.overlays=new tn(Me.comparator),this.Lr=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=qo();return pe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),pe.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),pe.resolve()}getOverlaysForCollection(e,n,s){const a=qo(),l=n.length+1,c=new Me(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>s&&a.set(d.getKey(),d)}return pe.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new tn(((m,g)=>m-g));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>s){let g=l.get(m.largestBatchId);g===null&&(g=qo(),l=l.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const h=qo(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,g)=>h.set(m,g))),!(h.size()>=a)););return pe.resolve(h)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new eV(n,s));let l=this.Lr.get(n);l===void 0&&(l=at(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class VV{constructor(){this.sessionToken=$n.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}class Kv{constructor(){this.kr=new Vn(qn.Kr),this.qr=new Vn(qn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new qn(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new qn(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Me(new Ut([])),s=new qn(n,e),a=new qn(n,e+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Me(new Ut([])),s=new qn(n,e),a=new qn(n,e+1);let l=at();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new qn(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Me.comparator(e.key,n.key)||rt(e.Hr,n.Hr)}static Ur(e,n){return rt(e.Hr,n.Hr)||Me.comparator(e.key,n.key)}}class LV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Vn(qn.Kr)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ZO(l,n,s,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new qn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return pe.resolve(c)}lookupMutationBatch(e,n){return pe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return pe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?Lv:this.Yn-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qn(n,0),a=new qn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),pe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vn(rt);return n.forEach((a=>{const l=new qn(a,0),c=new qn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{s=s.add(h.Hr)}))})),pe.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Me.isDocumentKey(l)||(l=l.child(""));const c=new qn(new Me(l),0);let h=new Vn(rt);return this.Jr.forEachWhile((d=>{const m=d.key.path;return!!s.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Hr)),!0)}),c),pe.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){wt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return pe.forEach(n.mutations,(a=>{const l=new qn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new qn(n,0),a=this.Jr.firstAfterOrEqual(s);return pe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class UV{constructor(e){this.ti=e,this.docs=(function(){return new tn(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return pe.resolve(s?s.document.mutableCopy():cs.newInvalidDocument(n))}getEntries(e,n){let s=Qr();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():cs.newInvalidDocument(a))})),pe.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Qr();const c=n.path,h=new Me(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:g}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||hO(uO(g),s)<=0||(a.has(g.key)||tp(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return pe.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Oe(9500)}ni(e,n){return pe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new zV(this)}getSize(e){return pe.resolve(this.size)}}class zV extends DV{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),pe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class BV{constructor(e){this.persistence=e,this.ri=new rl((n=>Bv(n)),Fv),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.ii=0,this.si=new Kv,this.targetCount=0,this.oi=pc._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),pe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new pc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.lr(n),pe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),pe.waitFor(l).next((()=>a))}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return pe.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),pe.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),pe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return pe.resolve(s)}containsKey(e,n){return pe.resolve(this.si.containsKey(n))}}class L2{constructor(e,n){this._i={},this.overlays={},this.ai=new Wm(0),this.ui=!1,this.ui=!0,this.ci=new VV,this.referenceDelegate=e(this),this.li=new BV(this),this.indexManager=new SV,this.remoteDocumentCache=(function(a){return new UV(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new TV(n),this.Pi=new jV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new LV(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){Se("MemoryPersistence","Starting transaction:",e);const a=new FV(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return pe.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class FV extends fO{constructor(e){super(),this.currentSequenceNumber=e}}class Yv{constructor(e){this.persistence=e,this.Ri=new Kv,this.Ai=null}static Vi(e){return new Yv(e)}get di(){if(this.Ai)return this.Ai;throw Oe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),pe.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.di,(s=>{const a=Me.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Ue.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return pe.or([()=>pe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class pm{constructor(e,n){this.persistence=e,this.fi=new rl((s=>gO(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=kV(this,n)}static Vi(e,n){return new pm(e,n)}Ti(){}Ii(e){return pe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return pe.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?pe.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((h=>{h||(s++,l.removeEntry(c,Ue.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),pe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),pe.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),pe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qf(e.data.value)),n}wr(e,n,s){return pe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return pe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Xv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=at(),a=at();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Xv(e,n.fromCache,s,a)}}class qV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class HV{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return qP()?8:mO(ds())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new qV;return this.ys(e,n,c).next((h=>{if(l.result=h,this.As)return this.ws(e,n,c,h.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(Gl()<=it.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",$l(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),pe.resolve()):(Gl()<=it.DEBUG&&Se("QueryEngine","Query:",$l(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(Gl()<=it.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",$l(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):pe.resolve())}gs(e,n){if(LT(n))return pe.resolve(null);let s=or(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=A0(n,null,"F"),s=or(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=at(...l);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,s).next((d=>{const m=this.bs(n,h);return this.Ss(n,m,c,d.readTime)?this.gs(e,A0(n,null,"F")):this.Ds(e,m,n,d)}))))})))))}ps(e,n,s,a){return LT(n)||a.isEqual(Ue.min())?pe.resolve(null):this.fs.getDocuments(e,s).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,s,a)?pe.resolve(null):(Gl()<=it.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),$l(n)),this.Ds(e,c,n,cO(a,lh)).next((h=>h)))}))}bs(e,n){let s=new Vn(p2(e));return n.forEach(((a,l)=>{tp(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return Gl()<=it.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",$l(n)),this.fs.getDocumentsMatchingQuery(e,n,Xa.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Wv="LocalStore",GV=3e8;class $V{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new tn(rt),this.Fs=new rl((l=>Bv(l)),Fv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PV(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function KV(t,e,n,s){return new $V(t,e,n,s)}async function U2(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],h=[];let d=at();for(const m of a){c.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}for(const m of l){h.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(s,d).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function YV(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,g){const b=m.batch,x=b.keys();let A=pe.resolve();return x.forEach((k=>{A=A.next((()=>g.getEntry(d,k))).next((I=>{const R=m.docVersions.get(k);wt(R!==null,48541),I.version.compareTo(R)<0&&(b.applyToRemoteDocument(I,m),I.isValidDocument()&&(I.setReadTime(m.commitVersion),g.addEntry(I)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(d,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let d=at();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function z2(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function XV(t,e){const n=He(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((g,b)=>{const x=a.get(b);if(!x)return;h.push(n.li.removeMatchingKeys(l,g.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,g.addedDocuments,b))));let A=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?A=A.withResumeToken($n.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,s)),a=a.insert(b,A),(function(I,R,O){return I.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=GV?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(x,A,g)&&h.push(n.li.updateTargetData(l,A))}));let d=Qr(),m=at();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),h.push(WV(l,c,e.documentUpdates).next((g=>{d=g.Bs,m=g.Ls}))),!s.isEqual(Ue.min())){const g=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(g)}return pe.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,m))).next((()=>d))})).then((l=>(n.vs=a,l)))}function WV(t,e,n){let s=at(),a=at();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=Qr();return n.forEach(((h,d)=>{const m=l.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Ue.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):Se(Wv,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{Bs:c,Ls:a}}))}function QV(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Lv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function JV(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,pe.resolve(a)):n.li.allocateTargetId(s).next((c=>(a=new La(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function k0(t,e,n){const s=He(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Ec(c))throw c;Se(Wv,`Failed to update sequence numbers for target ${e}: ${c}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function QT(t,e,n){const s=He(t);let a=Ue.min(),l=at();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,m,g){const b=He(d),x=b.Fs.get(g);return x!==void 0?pe.resolve(b.vs.get(x)):b.li.getTargetData(m,g)})(s,c,or(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,h.targetId).next((d=>{l=d}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,e,n?a:Ue.min(),n?l:at()))).next((h=>(ZV(s,VO(e),h),{documents:h,ks:l})))))}function ZV(t,e,n){let s=t.Ms.get(e)||Ue.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class JT{constructor(){this.activeTargetIds=qO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e3{constructor(){this.vo=new JT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new JT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class t3{Mo(e){}shutdown(){}}const ZT="ConnectivityMonitor";class eE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Se(ZT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Se(ZT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Tf=null;function D0(){return Tf===null?Tf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tf++,"0x"+Tf.toString(16)}const My="RestConnection",n3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class s3{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===cm?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const c=D0(),h=this.Qo(e,n.toUriEncodedString());Se(My,`Sending RPC '${e}' ${c}:`,h,s);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,l);const{host:m}=new URL(h),g=nl(m);return this.zo(e,h,d,s,g).then((b=>(Se(My,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw el(My,`RPC '${e}' ${c} failed with error: `,b,"url: ",h,"request:",s),b}))}jo(e,n,s,a,l,c){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_c})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=n3[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class i3{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const as="WebChannelConnection",Iu=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class sc extends s3{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!sc.c_){const e=qC();Iu(e,FC.STAT_EVENT,(n=>{n.stat===b0.PROXY?Se(as,"STAT_EVENT: detected buffering proxy"):n.stat===b0.NOPROXY&&Se(as,"STAT_EVENT: detected no buffering proxy")})),sc.c_=!0}}zo(e,n,s,a,l){const c=D0();return new Promise(((h,d)=>{const m=new zC;m.setWithCredentials(!0),m.listenOnce(BC.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Ff.NO_ERROR:const b=m.getResponseJson();Se(as,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),h(b);break;case Ff.TIMEOUT:Se(as,`RPC '${e}' ${c} timed out`),d(new _e(de.DEADLINE_EXCEEDED,"Request time out"));break;case Ff.HTTP_ERROR:const x=m.getStatus();if(Se(as,`RPC '${e}' ${c} failed with status:`,x,"response text:",m.getResponseText()),x>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const k=A?.error;if(k&&k.status&&k.message){const I=(function(O){const H=O.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(H)>=0?H:de.UNKNOWN})(k.status);d(new _e(I,k.message))}else d(new _e(de.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new _e(de.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Se(as,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);Se(as,`RPC '${e}' ${c} sending request:`,a),m.send(n,"POST",g,s,15)}))}T_(e,n,s){const a=D0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,s),h.encodeInitMessageHeaders=!0;const m=l.join("");Se(as,`Creating RPC '${e}' stream ${a}: ${m}`,h);const g=c.createWebChannel(m,h);this.I_(g);let b=!1,x=!1;const A=new i3({Ho:k=>{x?Se(as,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(b||(Se(as,`Opening RPC '${e}' stream ${a} transport.`),g.open(),b=!0),Se(as,`RPC '${e}' stream ${a} sending:`,k),g.send(k))},Jo:()=>g.close()});return Iu(g,Vu.EventType.OPEN,(()=>{x||(Se(as,`RPC '${e}' stream ${a} transport opened.`),A.i_())})),Iu(g,Vu.EventType.CLOSE,(()=>{x||(x=!0,Se(as,`RPC '${e}' stream ${a} transport closed`),A.o_(),this.E_(g))})),Iu(g,Vu.EventType.ERROR,(k=>{x||(x=!0,el(as,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),A.o_(new _e(de.UNAVAILABLE,"The operation could not be completed")))})),Iu(g,Vu.EventType.MESSAGE,(k=>{if(!x){const I=k.data[0];wt(!!I,16349);const R=I,O=R?.error||R[0]?.error;if(O){Se(as,`RPC '${e}' stream ${a} received error:`,O);const H=O.status;let F=(function(ce){const D=An[ce];if(D!==void 0)return A2(D)})(H),re=O.message;F===void 0&&(F=de.INTERNAL,re="Unknown error status: "+H+" with message "+O.message),x=!0,A.o_(new _e(F,re)),g.close()}else Se(as,`RPC '${e}' stream ${a} received:`,I),A.__(I)}})),sc.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return HC()}}function r3(t){return new sc(t)}function Py(){return typeof document<"u"?document:null}function ap(t){return new cV(t,!0)}sc.c_=!1;class B2{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&Se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const tE="PersistentStream";class F2{constructor(e,n,s,a,l,c,h,d){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new B2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Wr(n.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new _e(de.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Se(tE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Se(tE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class a3 extends F2{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=dV(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ue.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ue.min():c.readTime?lr(c.readTime):Ue.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=I0(this.serializer),n.addTarget=(function(l,c){let h;const d=c.target;if(h=E0(d)?{documents:pV(l,d)}:{query:gV(l,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=N2(l,c.resumeToken);const m=C0(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ue.min())>0){h.readTime=mm(l,c.snapshotVersion.toTimestamp());const m=C0(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const s=vV(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=I0(this.serializer),n.removeTarget=e,this.K_(n)}}class o3 extends F2{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=mV(e.writeResults,e.commitTime),s=lr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=I0(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>fV(this.serializer,s)))};this.K_(n)}}class l3{}class c3 extends l3{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new _e(de.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,R0(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(de.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,R0(n,s),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(de.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function u3(t,e,n,s){return new c3(t,e,n,s)}class h3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wr(n),this.aa=!1):Se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const tl="RemoteStore";class d3{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{al(this)&&(Se(tl,"Restarting streams for network reachability change."),await(async function(d){const m=He(d);m.Ea.add(4),await Vh(m),m.Va.set("Unknown"),m.Ea.delete(4),await op(m)})(this))}))})),this.Va=new h3(s,a)}}async function op(t){if(al(t))for(const e of t.Ra)await e(!0)}async function Vh(t){for(const e of t.Ra)await e(!1)}function q2(t,e){const n=He(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),eb(n)?Zv(n):Sc(n).O_()&&Jv(n,e))}function Qv(t,e){const n=He(t),s=Sc(n);n.Ia.delete(e),s.O_()&&H2(n,e),n.Ia.size===0&&(s.O_()?s.L_():al(n)&&n.Va.set("Unknown"))}function Jv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sc(t).Z_(e)}function H2(t,e){t.da.$e(e),Sc(t).X_(e)}function Zv(t){t.da=new rV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Sc(t).start(),t.Va.ua()}function eb(t){return al(t)&&!Sc(t).x_()&&t.Ia.size>0}function al(t){return He(t).Ea.size===0}function G2(t){t.da=void 0}async function f3(t){t.Va.set("Online")}async function m3(t){t.Ia.forEach(((e,n)=>{Jv(t,e)}))}async function p3(t,e){G2(t),eb(t)?(t.Va.ha(e),Zv(t)):t.Va.set("Unknown")}async function g3(t,e,n){if(t.Va.set("Online"),e instanceof R2&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(s){Se(tl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gm(t,s)}else if(e instanceof $f?t.da.Xe(e):e instanceof C2?t.da.st(e):t.da.tt(e),!n.isEqual(Ue.min()))try{const s=await z2(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const g=l.Ia.get(m);g&&l.Ia.set(m,g.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,m)=>{const g=l.Ia.get(d);if(!g)return;l.Ia.set(d,g.withResumeToken($n.EMPTY_BYTE_STRING,g.snapshotVersion)),H2(l,d);const b=new La(g.target,d,m,g.sequenceNumber);Jv(l,b)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){Se(tl,"Failed to raise snapshot:",s),await gm(t,s)}}async function gm(t,e,n){if(!Ec(e))throw e;t.Ea.add(1),await Vh(t),t.Va.set("Offline"),n||(n=()=>z2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Se(tl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await op(t)}))}function $2(t,e){return e().catch((n=>gm(t,n,e)))}async function lp(t){const e=He(t),n=Za(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lv;for(;y3(e);)try{const a=await QV(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,v3(e,a)}catch(a){await gm(e,a)}K2(e)&&Y2(e)}function y3(t){return al(t)&&t.Ta.length<10}function v3(t,e){t.Ta.push(e);const n=Za(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function K2(t){return al(t)&&!Za(t).x_()&&t.Ta.length>0}function Y2(t){Za(t).start()}async function b3(t){Za(t).ra()}async function x3(t){const e=Za(t);for(const n of t.Ta)e.ea(n.mutations)}async function w3(t,e,n){const s=t.Ta.shift(),a=Hv.from(s,e,n);await $2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await lp(t)}async function _3(t,e){e&&Za(t).Y_&&await(async function(s,a){if((function(c){return nV(c)&&c!==de.ABORTED})(a.code)){const l=s.Ta.shift();Za(s).B_(),await $2(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await lp(s)}})(t,e),K2(t)&&Y2(t)}async function nE(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),Se(tl,"RemoteStore received new credentials");const s=al(n);n.Ea.add(3),await Vh(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await op(n)}async function T3(t,e){const n=He(t);e?(n.Ea.delete(2),await op(n)):e||(n.Ea.add(2),await Vh(n),n.Va.set("Unknown"))}function Sc(t){return t.ma||(t.ma=(function(n,s,a){const l=He(n);return l.sa(),new a3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:f3.bind(null,t),Yo:m3.bind(null,t),t_:p3.bind(null,t),J_:g3.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),eb(t)?Zv(t):t.Va.set("Unknown")):(await t.ma.stop(),G2(t))}))),t.ma}function Za(t){return t.fa||(t.fa=(function(n,s,a){const l=He(n);return l.sa(),new o3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:b3.bind(null,t),t_:_3.bind(null,t),ta:x3.bind(null,t),na:w3.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await lp(t)):(await t.fa.stop(),t.Ta.length>0&&(Se(tl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class tb{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,h=new tb(e,n,c,a,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nb(t,e){if(Wr("AsyncQueue",`${e}: ${t}`),Ec(t))return new _e(de.UNAVAILABLE,`${e}: ${t}`);throw t}class ic{static emptySet(e){return new ic(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Me.comparator(n.key,s.key):(n,s)=>Me.comparator(n.key,s.key),this.keyedMap=Lu(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ic)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ic;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class sE{constructor(){this.ga=new tn(Me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Oe(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class gc{constructor(e,n,s,a,l,c,h,d,m){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new gc(e,n,ic.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ep(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class E3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class S3{constructor(){this.queries=iE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=He(n),l=a.queries;a.queries=iE(),l.forEach(((c,h)=>{for(const d of h.ba)d.onError(s)}))})(this,new _e(de.ABORTED,"Firestore shutting down"))}}function iE(){return new rl((t=>m2(t)),ep)}async function sb(t,e){const n=He(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new E3,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=nb(c,`Initialization of query '${$l(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&rb(n)}async function ib(t,e){const n=He(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function A3(t,e){const n=He(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(s=!0);c.wa=a}}s&&rb(n)}function C3(t,e,n){const s=He(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function rb(t){t.Ca.forEach((e=>{e.next()}))}var M0,rE;(rE=M0||(M0={})).Ma="default",rE.Cache="cache";class ab{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new gc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==M0.Cache}}class X2{constructor(e){this.key=e}}class W2{constructor(e){this.key=e}}class R3{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=at(),this.mutatedKeys=at(),this.eu=p2(e),this.tu=new ic(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new sE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,b)=>{const x=a.get(g),A=tp(this.query,b)?b:null,k=!!x&&this.mutatedKeys.has(x.key),I=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let R=!1;x&&A?x.data.isEqual(A.data)?k!==I&&(s.track({type:3,doc:A}),R=!0):this.su(x,A)||(s.track({type:2,doc:A}),R=!0,(d&&this.eu(A,d)>0||m&&this.eu(A,m)<0)&&(h=!0)):!x&&A?(s.track({type:0,doc:A}),R=!0):x&&!A&&(s.track({type:1,doc:x}),R=!0,(d||m)&&(h=!0)),R&&(A?(c=c.add(A),l=I?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),s.track({type:1,doc:g})}return{tu:c,iu:s,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,b)=>(function(A,k){const I=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Vt:R})}};return I(A)-I(k)})(g.type,b.type)||this.eu(g.doc,b.doc))),this.ou(s),a=a??!1;const h=n&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Xa;return this.Xa=d,c.length!==0||m?{snapshot:new gc(this.query,e.tu,l,c,e.mutatedKeys,d===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=at(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new W2(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new X2(s))})),n}cu(e){this.Za=e.ks,this.Ya=at();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return gc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ob="SyncEngine";class N3{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class I3{constructor(e){this.key=e,this.hu=!1}}class k3{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new rl((h=>m2(h)),ep),this.Iu=new Map,this.Eu=new Set,this.Ru=new tn(Me.comparator),this.Au=new Map,this.Vu=new Kv,this.du={},this.mu=new Map,this.fu=pc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function D3(t,e,n=!0){const s=nR(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Q2(s,e,n,!0),a}async function M3(t,e){const n=nR(t);await Q2(n,e,!0,!1)}async function Q2(t,e,n,s){const a=await JV(t.localStore,or(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await P3(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&q2(t.remoteStore,a),h}async function P3(t,e,n,s,a){t.pu=(b,x,A)=>(async function(I,R,O,H){let F=R.view.ru(O);F.Ss&&(F=await QT(I.localStore,R.query,!1).then((({documents:D})=>R.view.ru(D,F))));const re=H&&H.targetChanges.get(R.targetId),te=H&&H.targetMismatches.get(R.targetId)!=null,ce=R.view.applyChanges(F,I.isPrimaryClient,re,te);return oE(I,R.targetId,ce.au),ce.snapshot})(t,b,x,A);const l=await QT(t.localStore,e,!0),c=new R3(e,l.ks),h=c.ru(l.documents),d=Oh.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),m=c.applyChanges(h,t.isPrimaryClient,d);oE(t,n,m.au);const g=new N3(e,n,c);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function j3(t,e,n){const s=He(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!ep(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await k0(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Qv(s.remoteStore,a.targetId),P0(s,a.targetId)})).catch(Tc)):(P0(s,a.targetId),await k0(s.localStore,a.targetId,!0))}async function O3(t,e){const n=He(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Qv(n.remoteStore,s.targetId))}async function V3(t,e,n){const s=H3(t);try{const a=await(function(c,h){const d=He(c),m=Fe.now(),g=h.reduce(((A,k)=>A.add(k.key)),at());let b,x;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let k=Qr(),I=at();return d.xs.getEntries(A,g).next((R=>{k=R,k.forEach(((O,H)=>{H.isValidDocument()||(I=I.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,k))).next((R=>{b=R;const O=[];for(const H of h){const F=QO(H,b.get(H.key).overlayedDocument);F!=null&&O.push(new ro(H.key,F,a2(F.value.mapValue),Es.exists(!0)))}return d.mutationQueue.addMutationBatch(A,m,O,h)})).next((R=>{x=R;const O=R.applyToLocalDocumentSet(b,I);return d.documentOverlayCache.saveOverlays(A,R.batchId,O)}))})).then((()=>({batchId:x.batchId,changes:y2(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let m=c.du[c.currentUser.toKey()];m||(m=new tn(rt)),m=m.insert(h,d),c.du[c.currentUser.toKey()]=m})(s,a.batchId,n),await Lh(s,a.changes),await lp(s.remoteStore)}catch(a){const l=nb(a,"Failed to persist write");n.reject(l)}}async function J2(t,e){const n=He(t);try{const s=await XV(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(wt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?wt(c.hu,14607):a.removedDocuments.size>0&&(wt(c.hu,42227),c.hu=!1))})),await Lh(n,s,e)}catch(s){await Tc(s)}}function aE(t,e,n){const s=He(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=He(c);d.onlineState=h;let m=!1;d.queries.forEach(((g,b)=>{for(const x of b.ba)x.va(h)&&(m=!0)})),m&&rb(d)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function L3(t,e,n){const s=He(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new tn(Me.comparator);c=c.insert(l,cs.newNoDocument(l,Ue.min()));const h=at().add(l),d=new rp(Ue.min(),new Map,new tn(rt),c,h);await J2(s,d),s.Ru=s.Ru.remove(l),s.Au.delete(e),lb(s)}else await k0(s.localStore,e,!1).then((()=>P0(s,e,n))).catch(Tc)}async function U3(t,e){const n=He(t),s=e.batch.batchId;try{const a=await YV(n.localStore,e);eR(n,s,null),Z2(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Lh(n,a)}catch(a){await Tc(a)}}async function z3(t,e,n){const s=He(t);try{const a=await(function(c,h){const d=He(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return d.mutationQueue.lookupMutationBatch(m,h).next((b=>(wt(b!==null,37113),g=b.keys(),d.mutationQueue.removeMutationBatch(m,b)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>d.localDocuments.getDocuments(m,g)))}))})(s.localStore,e);eR(s,e,n),Z2(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Lh(s,a)}catch(a){await Tc(a)}}function Z2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function eR(t,e,n){const s=He(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function P0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||tR(t,s)}))}function tR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Qv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),lb(t))}function oE(t,e,n){for(const s of n)s instanceof X2?(t.Vu.addReference(s.key,e),B3(t,s)):s instanceof W2?(Se(ob,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||tR(t,s.key)):Oe(19791,{wu:s})}function B3(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(Se(ob,"New document in limbo: "+n),t.Eu.add(s),lb(t))}function lb(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Me(Ut.fromString(e)),s=t.fu.next();t.Au.set(s,new I3(n)),t.Ru=t.Ru.insert(n,s),q2(t.remoteStore,new La(or(Zm(n.path)),s,"TargetPurposeLimboResolution",Wm.ce))}}async function Lh(t,e,n){const s=He(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,d)=>{c.push(s.pu(d,e,n).then((m=>{if((m||n)&&s.isPrimaryClient){const g=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;s.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(m){a.push(m);const g=Xv.Es(d.targetId,m);l.push(g)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(d,m){const g=He(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>pe.forEach(m,(x=>pe.forEach(x.Ts,(A=>g.persistence.referenceDelegate.addReference(b,x.targetId,A))).next((()=>pe.forEach(x.Is,(A=>g.persistence.referenceDelegate.removeReference(b,x.targetId,A)))))))))}catch(b){if(!Ec(b))throw b;Se(Wv,"Failed to update sequence numbers: "+b)}for(const b of m){const x=b.targetId;if(!b.fromCache){const A=g.vs.get(x),k=A.snapshotVersion,I=A.withLastLimboFreeSnapshotVersion(k);g.vs=g.vs.insert(x,I)}}})(s.localStore,l))}async function F3(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){Se(ob,"User change. New user:",e.toKey());const s=await U2(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new _e(de.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Lh(n,s.Ns)}}function q3(t,e){const n=He(t),s=n.Au.get(e);if(s&&s.hu)return at().add(s.key);{let a=at();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function nR(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=J2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L3.bind(null,e),e.Pu.J_=A3.bind(null,e.eventManager),e.Pu.yu=C3.bind(null,e.eventManager),e}function H3(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z3.bind(null,e),e}class ym{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ap(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return KV(this.persistence,new HV,e.initialUser,this.serializer)}Cu(e){return new L2(Yv.Vi,this.serializer)}Du(e){return new e3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ym.provider={build:()=>new ym};class G3 extends ym{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){wt(this.persistence.referenceDelegate instanceof pm,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new NV(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vs.withCacheSize(this.cacheSizeBytes):Vs.DEFAULT;return new L2((s=>pm.Vi(s,n)),this.serializer)}}class j0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>aE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=F3.bind(null,this.syncEngine),await T3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new S3})()}createDatastore(e){const n=ap(e.databaseInfo.databaseId),s=r3(e.databaseInfo);return u3(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,h){return new d3(s,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>aE(this.syncEngine,n,0)),(function(){return eE.v()?new eE:new t3})())}createSyncEngine(e,n){return(function(a,l,c,h,d,m,g){const b=new k3(a,l,c,h,d,m);return g&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=He(n);Se(tl,"RemoteStore shutting down."),s.Ea.add(5),await Vh(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}j0.provider={build:()=>new j0};class cb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const eo="FirestoreClient";class $3{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=ls.UNAUTHENTICATED,this.clientId=Ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{Se(eo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(Se(eo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=nb(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function jy(t,e){t.asyncQueue.verifyOperationInProgress(),Se(eo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await U2(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function lE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await K3(t);Se(eo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>nE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>nE(e.remoteStore,a))),t._onlineComponents=e}async function K3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se(eo,"Using user provided OfflineComponentProvider");try{await jy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;el("Error using user provided cache. Falling back to memory cache: "+n),await jy(t,new ym)}}else Se(eo,"Using default OfflineComponentProvider"),await jy(t,new G3(void 0));return t._offlineComponents}async function sR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se(eo,"Using user provided OnlineComponentProvider"),await lE(t,t._uninitializedComponentsProvider._online)):(Se(eo,"Using default OnlineComponentProvider"),await lE(t,new j0))),t._onlineComponents}function Y3(t){return sR(t).then((e=>e.syncEngine))}async function vm(t){const e=await sR(t),n=e.eventManager;return n.onListen=D3.bind(null,e.syncEngine),n.onUnlisten=j3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=M3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=O3.bind(null,e.syncEngine),n}function X3(t,e,n,s){const a=new cb(s),l=new ab(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>sb(await vm(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>ib(await vm(t),l)))}}function W3(t,e,n={}){const s=new Hr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,m){const g=new cb({next:x=>{g.Nu(),c.enqueueAndForget((()=>ib(l,b)));const A=x.docs.has(h);!A&&x.fromCache?m.reject(new _e(de.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&x.fromCache&&d&&d.source==="server"?m.reject(new _e(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),b=new ab(Zm(h.path),g,{includeMetadataChanges:!0,Ka:!0});return sb(l,b)})(await vm(t),t.asyncQueue,e,n,s))),s.promise}function Q3(t,e,n={}){const s=new Hr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,m){const g=new cb({next:x=>{g.Nu(),c.enqueueAndForget((()=>ib(l,b))),x.fromCache&&d.source==="server"?m.reject(new _e(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),b=new ab(h,g,{includeMetadataChanges:!0,Ka:!0});return sb(l,b)})(await vm(t),t.asyncQueue,e,n,s))),s.promise}function J3(t,e){const n=new Hr;return t.asyncQueue.enqueueAndForget((async()=>V3(await Y3(t),e,n))),n.promise}function iR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Z3="ComponentProvider",cE=new Map;function eL(t,e,n,s,a){return new bO(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,iR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const rR="firestore.googleapis.com",uE=!0;class hE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rR,this.ssl=uE}else this.host=e.host,this.ssl=e.ssl??uE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=V2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CV)throw new _e(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iR(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cp{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new KC;switch(s.type){case"firstParty":return new sO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=cE.get(n);s&&(Se(Z3,"Removing Datastore"),cE.delete(n),s.terminate())})(this),Promise.resolve()}}function aR(t,e,n,s={}){t=hs(t,cp);const a=nl(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(xv(`https://${h}`),wv("Firestore",!0)),l.host!==rR&&l.host!==h&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:s};if(!Qo(d,c)&&(t._setSettings(d),s.mockUserToken)){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=ls.MOCK_USER;else{m=GA(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new _e(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ls(b)}t._authCredentials=new eO(new $C(m,g))}}class ao{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class en{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Mh(n,en._jsonSchema))return new en(e,s||null,new Me(Ut.fromString(n.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:Nn("string",en._jsonSchemaVersion),referencePath:Nn("string")};class Gr extends ao{constructor(e,n,s){super(e,n,Zm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new Me(e))}withConverter(e){return new Gr(this.firestore,e,this._path)}}function vi(t,e,...n){if(t=hn(t),YC("collection","path",e),t instanceof cp){const s=Ut.fromString(e,...n);return ET(s),new Gr(t,null,s)}{if(!(t instanceof en||t instanceof Gr))throw new _e(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ut.fromString(e,...n));return ET(s),new Gr(t.firestore,null,s)}}function bn(t,e,...n){if(t=hn(t),arguments.length===1&&(e=Ym.newId()),YC("doc","path",e),t instanceof cp){const s=Ut.fromString(e,...n);return TT(s),new en(t,null,new Me(s))}{if(!(t instanceof en||t instanceof Gr))throw new _e(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ut.fromString(e,...n));return TT(s),new en(t.firestore,t instanceof Gr?t.converter:null,new Me(s))}}const dE="AsyncQueue";class fE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new B2(this,"async_queue_retry"),this._c=()=>{const s=Py();s&&Se(dE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Py();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Py();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ec(e))throw e;Se(dE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Wr("INTERNAL UNHANDLED ERROR: ",mE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=tb.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Oe(47125,{Pc:mE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function mE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class zi extends cp{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new fE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fE(e),this._firestoreClient=void 0,await e}}}function oR(t,e){const n=typeof t=="object"?t:Ev(),s=typeof t=="string"?t:cm,a=Hm(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=FA("firestore");l&&aR(a,...l)}return a}function Ac(t){if(t._terminated)throw new _e(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tL(t),t._firestoreClient}function tL(t){const e=t._freezeSettings(),n=eL(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new $3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei($n.fromBase64String(e))}catch(n){throw new _e(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ei($n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mh(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:Nn("string",ei._jsonSchemaVersion),bytes:Nn("string")};class Uh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zh{constructor(e){this._methodName=e}}class Li{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(e){if(Mh(e,Li._jsonSchema))return new Li(e.latitude,e.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:Nn("string",Li._jsonSchemaVersion),latitude:Nn("number"),longitude:Nn("number")};class wi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mh(e,wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new wi(e.vectorValues);throw new _e(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Nn("string",wi._jsonSchemaVersion),vectorValues:Nn("object")};const nL=/^__.*__$/;class sL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ro(e,this.data,this.fieldMask,n,this.fieldTransforms):new jh(e,this.data,n,this.fieldTransforms)}}class lR{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ro(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{dataSource:t})}}class ub{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ub({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return bm(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(cR(this.dataSource)&&nL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class iL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ap(e)}createContext(e,n,s,a=!1){return new ub({dataSource:e,methodName:n,targetDoc:s,path:Gn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bh(t){const e=t._freezeSettings(),n=ap(t._databaseId);return new iL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hb(t,e,n,s,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);fb("Data must be an object, but it was:",c,s);const h=dR(s,c);let d,m;if(l.merge)d=new ti(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const b of l.mergeFields){const x=yc(e,b,n);if(!c.contains(x))throw new _e(de.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);pR(g,x)||g.push(x)}d=new ti(g),m=c.fieldTransforms.filter((b=>d.covers(b.field)))}else d=null,m=c.fieldTransforms;return new sL(new Ls(h),d,m)}class Fh extends zh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fh}}class db extends zh{_toFieldTransform(e){return new KO(e.path,new hh)}isEqual(e){return e instanceof db}}function uR(t,e,n,s){const a=t.createContext(1,e,n);fb("Data must be an object, but it was:",a,s);const l=[],c=Ls.empty();io(s,((d,m)=>{const g=mR(e,d,n);m=hn(m);const b=a.childContextForFieldPath(g);if(m instanceof Fh)l.push(g);else{const x=qh(m,b);x!=null&&(l.push(g),c.set(g,x))}}));const h=new ti(l);return new lR(c,h,a.fieldTransforms)}function hR(t,e,n,s,a,l){const c=t.createContext(1,e,n),h=[yc(e,s,n)],d=[a];if(l.length%2!=0)throw new _e(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)h.push(yc(e,l[x])),d.push(l[x+1]);const m=[],g=Ls.empty();for(let x=h.length-1;x>=0;--x)if(!pR(m,h[x])){const A=h[x];let k=d[x];k=hn(k);const I=c.childContextForFieldPath(A);if(k instanceof Fh)m.push(A);else{const R=qh(k,I);R!=null&&(m.push(A),g.set(A,R))}}const b=new ti(m);return new lR(g,b,c.fieldTransforms)}function rL(t,e,n,s=!1){return qh(n,t.createContext(s?4:3,e))}function qh(t,e){if(fR(t=hn(t)))return fb("Unsupported field value:",e,t),dR(t,e);if(t instanceof zh)return(function(s,a){if(!cR(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const h of s){let d=qh(h,a.childContextForArray(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=hn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return HO(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Fe.fromDate(s);return{timestampValue:mm(a.serializer,l)}}if(s instanceof Fe){const l=new Fe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mm(a.serializer,l)}}if(s instanceof Li)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ei)return{bytesValue:N2(a.serializer,s._byteString)};if(s instanceof en){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:$v(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof wi)return(function(c,h){const d=c instanceof wi?c.toArray():c;return{mapValue:{fields:{[i2]:{stringValue:r2},[um]:{arrayValue:{values:d.map((g=>{if(typeof g!="number")throw h.createError("VectorValues must only contain numeric values.");return qv(h.serializer,g)}))}}}}}})(s,a);if(O2(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Xm(s)}`)})(t,e)}function dR(t,e){const n={};return JC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(t,((s,a)=>{const l=qh(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function fR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof Li||t instanceof ei||t instanceof en||t instanceof zh||t instanceof wi||O2(t))}function fb(t,e,n){if(!fR(n)||!WC(n)){const s=Xm(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function yc(t,e,n){if((e=hn(e))instanceof Uh)return e._internalPath;if(typeof e=="string")return mR(t,e);throw bm("Field path arguments must be of type string or ",t,!1,void 0,n)}const aL=new RegExp("[~\\*/\\[\\]]");function mR(t,e,n){if(e.search(aL)>=0)throw bm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Uh(...e.split("."))._internalPath}catch{throw bm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bm(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${s}`),c&&(d+=` in document ${a}`),d+=")"),new _e(de.INVALID_ARGUMENT,h+t+d)}function pR(t,e){return t.some((n=>n.isEqual(e)))}class gR{convertValue(e,n="none"){switch(Ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return io(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[um].arrayValue?.values?.map((s=>vn(s.doubleValue)));return new wi(n)}convertGeoPoint(e){return new Li(vn(e.latitude),vn(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Jm(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ch(e));default:return null}}convertTimestamp(e){const n=Wa(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ut.fromString(e);wt(j2(s),9688,{name:e});const a=new dc(s.get(1),s.get(3)),l=new Me(s.popFirst(5));return a.isEqual(n)||Wr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class mb extends gR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function xm(){return new Fh("deleteField")}function Ko(){return new db("serverTimestamp")}const pE="@firebase/firestore",gE="4.10.0";function yE(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class yR{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(yc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oL extends yR{data(){return super.data()}}function vR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pb{}class bR extends pb{}function qa(t,e,...n){let s=[];e instanceof pb&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((d=>d instanceof up)).length,h=l.filter((d=>d instanceof Hh)).length;if(c>1||c>0&&h>0)throw new _e(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Hh extends bR{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Hh(e,n,s)}_apply(e){const n=this._parse(e);return xR(e._query,n),new ao(e.firestore,e.converter,S0(e._query,n))}_parse(e){const n=Bh(e.firestore);return(function(l,c,h,d,m,g,b){let x;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new _e(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){bE(b,g);const k=[];for(const I of b)k.push(vE(d,l,I));x={arrayValue:{values:k}}}else x=vE(d,l,b)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||bE(b,g),x=rL(h,c,b,g==="in"||g==="not-in");return Rn.create(m,g,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ir(t,e,n){const s=e,a=yc("where",t);return Hh._create(a,s,n)}class up extends pb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new up(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const d of h)xR(c,d),c=S0(c,d)})(e._query,n),new ao(e.firestore,e.converter,S0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function vE(t,e,n){if(typeof(n=hn(n))=="string"){if(n==="")throw new _e(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f2(e)&&n.indexOf("/")!==-1)throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ut.fromString(n));if(!Me.isDocumentKey(s))throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return DT(t,new Me(s))}if(n instanceof en)return DT(t,n._key);throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xm(n)}.`)}function bE(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xR(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function gb(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ha extends yR{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(yc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ha._jsonSchema={type:Nn("string",Ha._jsonSchemaVersion),bundleSource:Nn("string","DocumentSnapshot"),bundleName:Nn("string"),bundle:Nn("string")};class Yu extends Ha{data(e={}){return super.data(e)}}class Ga{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Xl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Yu(this._firestore,this._userDataWriter,s.key,s,new Xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new Yu(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Xl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Yu(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Xl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),g=c.indexOf(h.doc.key)),{type:lL(h.type),doc:d,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ga._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:Nn("string",Ga._jsonSchemaVersion),bundleSource:Nn("string","QuerySnapshot"),bundleName:Nn("string"),bundle:Nn("string")};class wR{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Bh(e)}set(e,n,s){this._verifyNotCommitted();const a=Oy(e,this._firestore),l=gb(a.converter,n,s),c=hb(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,Es.none())),this}update(e,n,s,...a){this._verifyNotCommitted();const l=Oy(e,this._firestore);let c;return c=typeof(n=hn(n))=="string"||n instanceof Uh?hR(this._dataReader,"WriteBatch.update",l._key,n,s,a):uR(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,Es.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Oy(e,this._firestore);return this._mutations=this._mutations.concat(new ip(n._key,Es.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Oy(t,e){if((t=hn(t)).firestore!==e)throw new _e(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function $a(t){t=hs(t,en);const e=hs(t.firestore,zi),n=Ac(e);return W3(n,t._key).then((s=>_R(e,t,s)))}function Yo(t){t=hs(t,ao);const e=hs(t.firestore,zi),n=Ac(e),s=new mb(e);return vR(t._query),Q3(n,t._query).then((a=>new Ga(e,s,t,a)))}function Xo(t,e,n){t=hs(t,en);const s=hs(t.firestore,zi),a=gb(t.converter,e,n),l=Bh(s);return Cc(s,[hb(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Es.none())])}function os(t,e,n,...s){t=hs(t,en);const a=hs(t.firestore,zi),l=Bh(a);let c;return c=typeof(e=hn(e))=="string"||e instanceof Uh?hR(l,"updateDoc",t._key,e,n,s):uR(l,"updateDoc",t._key,e),Cc(a,[c.toMutation(t._key,Es.exists(!0))])}function yb(t){return Cc(hs(t.firestore,zi),[new ip(t._key,Es.none())])}function vb(t,e){const n=hs(t.firestore,zi),s=bn(t),a=gb(t.converter,e),l=Bh(t.firestore);return Cc(n,[hb(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Es.exists(!1))]).then((()=>s))}function rc(t,...e){t=hn(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||yE(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(yE(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let l,c,h;if(t instanceof en)c=hs(t.firestore,zi),h=Zm(t._key.path),l={next:m=>{e[s]&&e[s](_R(c,t,m))},error:e[s+1],complete:e[s+2]};else{const m=hs(t,ao);c=hs(m.firestore,zi),h=m._query;const g=new mb(c);l={next:b=>{e[s]&&e[s](new Ga(c,g,m,b))},error:e[s+1],complete:e[s+2]},vR(t._query)}const d=Ac(c);return X3(d,h,a,l)}function Cc(t,e){const n=Ac(t);return J3(n,e)}function _R(t,e,n){const s=n.docs.get(e._key),a=new mb(t);return new Ha(t,a,e._key,s,new Xl(n.hasPendingWrites,n.fromCache),e.converter)}function O0(t){return t=hs(t,zi),Ac(t),new wR(t,(e=>Cc(t,e)))}(function(e,n=!0){Z5(sl),Jo(new Ka("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),h=new zi(new tO(s.getProvider("auth-internal")),new iO(c,s.getProvider("app-check-internal")),xO(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),rr(pE,gE,e),rr(pE,gE,"esm2020")})();const xE=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:gR,Bytes:ei,CollectionReference:Gr,DocumentReference:en,DocumentSnapshot:Ha,FieldPath:Uh,FieldValue:zh,Firestore:zi,FirestoreError:_e,GeoPoint:Li,Query:ao,QueryCompositeFilterConstraint:up,QueryConstraint:bR,QueryDocumentSnapshot:Yu,QueryFieldFilterConstraint:Hh,QuerySnapshot:Ga,SnapshotMetadata:Xl,Timestamp:Fe,VectorValue:wi,WriteBatch:wR,_AutoId:Ym,_ByteString:$n,_DatabaseId:dc,_DocumentKey:Me,_EmptyAuthCredentialsProvider:KC,_FieldPath:Gn,_cast:hs,_logWarn:el,_validateIsNotUsedTogether:XC,addDoc:vb,collection:vi,connectFirestoreEmulator:aR,deleteDoc:yb,deleteField:xm,doc:bn,ensureFirestoreConfigured:Ac,executeWrite:Cc,getDoc:$a,getDocs:Yo,getFirestore:oR,onSnapshot:rc,query:qa,serverTimestamp:Ko,setDoc:Xo,updateDoc:os,where:ir,writeBatch:O0},Symbol.toStringTag,{value:"Module"}));const TR="firebasestorage.googleapis.com",cL="storageBucket",uL=120*1e3,hL=600*1e3;class gr extends pr{constructor(e,n,s=0){super(Vy(e),`Firebase Storage: ${n} (${Vy(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fr||(fr={}));function Vy(t){return"storage/"+t}function dL(){const t="An unknown error occurred, please check the error payload for server response.";return new gr(fr.UNKNOWN,t)}function fL(){return new gr(fr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mL(){return new gr(fr.CANCELED,"User canceled the upload/download.")}function pL(t){return new gr(fr.INVALID_URL,"Invalid URL '"+t+"'.")}function gL(t){return new gr(fr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function wE(t){return new gr(fr.INVALID_ARGUMENT,t)}function ER(){return new gr(fr.APP_DELETED,"The Firebase app was deleted.")}function yL(t){return new gr(fr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Oi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Oi.makeFromUrl(e,n)}catch{return new Oi(e,"")}if(s.path==="")return s;throw gL(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),d={bucket:1,path:3};function m(re){re.path_=decodeURIComponent(re.path)}const g="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",A=new RegExp(`^https?://${b}/${g}/b/${a}/o${x}`,"i"),k={bucket:1,path:3},I=n===TR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",O=new RegExp(`^https?://${I}/${a}/${R}`,"i"),F=[{regex:h,indices:d,postModify:l},{regex:A,indices:k,postModify:m},{regex:O,indices:{bucket:1,path:2},postModify:m}];for(let re=0;re<F.length;re++){const te=F[re],ce=te.regex.exec(e);if(ce){const D=ce[te.indices.bucket];let C=ce[te.indices.path];C||(C=""),s=new Oi(D,C),te.postModify(s);break}}if(s==null)throw pL(e);return s}}class vL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function bL(t,e,n){let s=1,a=null,l=null,c=!1,h=0;function d(){return h===2}let m=!1;function g(...R){m||(m=!0,e.apply(null,R))}function b(R){a=setTimeout(()=>{a=null,t(A,d())},R)}function x(){l&&clearTimeout(l)}function A(R,...O){if(m){x();return}if(R){x(),g.call(null,R,...O);return}if(d()||c){x(),g.call(null,R,...O);return}s<64&&(s*=2);let F;h===1?(h=2,F=0):F=(s+Math.random())*1e3,b(F)}let k=!1;function I(R){k||(k=!0,x(),!m&&(a!==null?(R||(h=2),clearTimeout(a),b(0)):R||(h=1)))}return b(0),l=setTimeout(()=>{c=!0,I(!0)},n),I}function xL(t){t(!1)}function wL(t){return t!==void 0}function _E(t,e,n,s){if(s<e)throw wE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw wE(`Invalid value for '${t}'. Expected ${n} or less.`)}function _L(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var wm;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(wm||(wm={}));function TL(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class EL{constructor(e,n,s,a,l,c,h,d,m,g,b,x=!0,A=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=b,this.retry=x,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,I)=>{this.resolve_=k,this.reject_=I,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Ef(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===wm.NO_ERROR,d=l.getStatus();if(!h||TL(d,this.additionalRetryCodes_)&&this.retry){const g=l.getErrorCode()===wm.ABORT;s(!1,new Ef(!1,null,g));return}const m=this.successCodes_.indexOf(d)!==-1;s(!0,new Ef(m,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());wL(d)?l(d):l()}catch(d){c(d)}else if(h!==null){const d=dL();d.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,d)):c(d)}else if(a.canceled){const d=this.appDelete_?ER():mL();c(d)}else{const d=fL();c(d)}};this.canceled_?n(!1,new Ef(!1,null,!0)):this.backoffId_=bL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ef{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function SL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function AL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function RL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function NL(t,e,n,s,a,l,c=!0,h=!1){const d=_L(t.urlParams),m=t.url+d,g=Object.assign({},t.headers);return CL(g,e),SL(g,n),AL(g,l),RL(g,s),new EL(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,h)}function IL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function kL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class _m{constructor(e,n){this._service=e,n instanceof Oi?this._location=n:this._location=Oi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _m(e,n)}get root(){const e=new Oi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kL(this._location.path)}get storage(){return this._service}get parent(){const e=IL(this._location.path);if(e===null)return null;const n=new Oi(this._location.bucket,e);return new _m(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yL(e)}}function TE(t,e){const n=e?.[cL];return n==null?null:Oi.makeFromBucketSpec(n,t)}function DL(t,e,n,s={}){t.host=`${e}:${n}`;const a=nl(e);a&&(xv(`https://${t.host}/b`),wv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:GA(l,t.app.options.projectId))}class ML{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=TR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uL,this._maxUploadRetryTime=hL,this._requests=new Set,a!=null?this._bucket=Oi.makeFromBucketSpec(a,this._host):this._bucket=TE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Oi.makeFromBucketSpec(this._url,e):this._bucket=TE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _m(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new vL(ER());{const c=NL(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const EE="@firebase/storage",SE="0.14.0";const SR="storage";function PL(t=Ev(),e){t=hn(t);const s=Hm(t,SR).getImmediate({identifier:e}),a=FA("storage");return a&&jL(s,...a),s}function jL(t,e,n,s={}){DL(t,e,n,s)}function OL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new ML(n,s,a,e,sl)}function VL(){Jo(new Ka(SR,OL,"PUBLIC").setMultipleInstances(!0)),rr(EE,SE,""),rr(EE,SE,"esm2020")}VL();const LL={apiKey:"AIzaSyC7IaK8e0JimVT2DeKQovTDLPyufibEu_4",authDomain:"sunsar-bingo.firebaseapp.com",projectId:"sunsar-bingo",storageBucket:"sunsar-bingo.firebasestorage.app",messagingSenderId:"256131852935",appId:"1:256131852935:web:fe514c1e6758e5af252622"},hp=YA(LL),zo=LC(hp),AR=new sr,dt=oR(hp);PL(hp);const AE=Object.freeze(Object.defineProperty({__proto__:null,app:hp,auth:zo,db:dt,googleProvider:AR},Symbol.toStringTag,{value:"Module"})),CR=S.createContext(void 0),UL=({children:t})=>{const[e,n]=S.useState(null),[s,a]=S.useState(!0),[l,c]=S.useState(null);S.useEffect(()=>{const g=_C(zo,async b=>{if(b){const x={uid:b.uid,email:b.email,displayName:b.displayName,photoURL:b.photoURL};n(x),c(null);try{const{doc:A,setDoc:k,Timestamp:I}=await Hl(async()=>{const{doc:O,setDoc:H,Timestamp:F}=await Promise.resolve().then(()=>xE);return{doc:O,setDoc:H,Timestamp:F}},[]),{db:R}=await Hl(async()=>{const{db:O}=await Promise.resolve().then(()=>AE);return{db:O}},void 0);await k(A(R,"users",b.uid),{...x,lastSeen:I.now()},{merge:!0})}catch(A){console.error("Error syncing user profile:",A)}}else n(null);a(!1)});return()=>g()},[]);const h=async()=>{c(null);try{await jC(zo,AR)}catch(g){c(g.message||"Failed to sign in")}},d=async()=>{await TC(zo)},m=async g=>{if(zo.currentUser)try{const{updateProfile:b}=await Hl(async()=>{const{updateProfile:I}=await Promise.resolve().then(()=>J5);return{updateProfile:I}},void 0);await b(zo.currentUser,{displayName:g}),n(I=>I?{...I,displayName:g}:null);const{doc:x,updateDoc:A}=await Hl(async()=>{const{doc:I,updateDoc:R}=await Promise.resolve().then(()=>xE);return{doc:I,updateDoc:R}},void 0),{db:k}=await Hl(async()=>{const{db:I}=await Promise.resolve().then(()=>AE);return{db:I}},void 0);await A(x(k,"users",zo.currentUser.uid),{displayName:g})}catch(b){throw console.error("Error updating profile:",b),b}};return y.jsx(CR.Provider,{value:{user:e,loading:s,signIn:h,logout:d,updateProfileName:m,error:l},children:t})},Hi=()=>{const t=S.useContext(CR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},bb=S.createContext({});function xb(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const RR=typeof window<"u",NR=RR?S.useLayoutEffect:S.useEffect,dp=S.createContext(null);function wb(t,e){t.indexOf(e)===-1&&t.push(e)}function _b(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const mr=(t,e,n)=>n>e?e:n<t?t:n;let Tb=()=>{};const Jr={},IR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function kR(t){return typeof t=="object"&&t!==null}const DR=t=>/^0[^.\s]+$/u.test(t);function Eb(t){let e;return()=>(e===void 0&&(e=t()),e)}const _i=t=>t,zL=(t,e)=>n=>e(t(n)),Gh=(...t)=>t.reduce(zL),mh=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Sb{constructor(){this.subscriptions=[]}add(e){return wb(this.subscriptions,e),()=>_b(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $r=t=>t*1e3,xi=t=>t/1e3;function MR(t,e){return e?t*(1e3/e):0}const PR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,BL=1e-7,FL=12;function qL(t,e,n,s,a){let l,c,h=0;do c=e+(n-e)/2,l=PR(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>BL&&++h<FL);return c}function $h(t,e,n,s){if(t===e&&n===s)return _i;const a=l=>qL(l,0,1,t,n);return l=>l===0||l===1?l:PR(a(l),e,s)}const jR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,OR=t=>e=>1-t(1-e),VR=$h(.33,1.53,.69,.99),Ab=OR(VR),LR=jR(Ab),UR=t=>(t*=2)<1?.5*Ab(t):.5*(2-Math.pow(2,-10*(t-1))),Cb=t=>1-Math.sin(Math.acos(t)),zR=OR(Cb),BR=jR(Cb),HL=$h(.42,0,1,1),GL=$h(0,0,.58,1),FR=$h(.42,0,.58,1),$L=t=>Array.isArray(t)&&typeof t[0]!="number",qR=t=>Array.isArray(t)&&typeof t[0]=="number",KL={linear:_i,easeIn:HL,easeInOut:FR,easeOut:GL,circIn:Cb,circInOut:BR,circOut:zR,backIn:Ab,backInOut:LR,backOut:VR,anticipate:UR},YL=t=>typeof t=="string",CE=t=>{if(qR(t)){Tb(t.length===4);const[e,n,s,a]=t;return $h(e,n,s,a)}else if(YL(t))return KL[t];return t},Sf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function XL(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(g){c.has(g)&&(m.schedule(g),t()),g(h)}const m={schedule:(g,b=!1,x=!1)=>{const k=x&&a?n:s;return b&&c.add(g),k.has(g)||k.add(g),g},cancel:g=>{s.delete(g),c.delete(g)},process:g=>{if(h=g,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,m.process(g))}};return m}const WL=40;function HR(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Sf.reduce((F,re)=>(F[re]=XL(l),F),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:g,update:b,preRender:x,render:A,postRender:k}=c,I=()=>{const F=Jr.useManualTiming?a.timestamp:performance.now();n=!1,Jr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(F-a.timestamp,WL),1)),a.timestamp=F,a.isProcessing=!0,h.process(a),d.process(a),m.process(a),g.process(a),b.process(a),x.process(a),A.process(a),k.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(I))},R=()=>{n=!0,s=!0,a.isProcessing||t(I)};return{schedule:Sf.reduce((F,re)=>{const te=c[re];return F[re]=(ce,D=!1,C=!1)=>(n||R(),te.schedule(ce,D,C)),F},{}),cancel:F=>{for(let re=0;re<Sf.length;re++)c[Sf[re]].cancel(F)},state:a,steps:c}}const{schedule:Ht,cancel:to,state:es,steps:Ly}=HR(typeof requestAnimationFrame<"u"?requestAnimationFrame:_i,!0);let Kf;function QL(){Kf=void 0}const _s={now:()=>(Kf===void 0&&_s.set(es.isProcessing||Jr.useManualTiming?es.timestamp:performance.now()),Kf),set:t=>{Kf=t,queueMicrotask(QL)}},GR=t=>e=>typeof e=="string"&&e.startsWith(t),$R=GR("--"),JL=GR("var(--"),Rb=t=>JL(t)?ZL.test(t.split("/*")[0].trim()):!1,ZL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function RE(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Rc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ph={...Rc,transform:t=>mr(0,1,t)},Af={...Rc,default:1},Xu=t=>Math.round(t*1e5)/1e5,Nb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function e6(t){return t==null}const t6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ib=(t,e)=>n=>!!(typeof n=="string"&&t6.test(n)&&n.startsWith(t)||e&&!e6(n)&&Object.prototype.hasOwnProperty.call(n,e)),KR=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,h]=s.match(Nb);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},n6=t=>mr(0,255,t),Uy={...Rc,transform:t=>Math.round(n6(t))},Ho={test:Ib("rgb","red"),parse:KR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Uy.transform(t)+", "+Uy.transform(e)+", "+Uy.transform(n)+", "+Xu(ph.transform(s))+")"};function s6(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const V0={test:Ib("#"),parse:s6,transform:Ho.transform},Kh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Oa=Kh("deg"),cr=Kh("%"),Ae=Kh("px"),i6=Kh("vh"),r6=Kh("vw"),NE={...cr,parse:t=>cr.parse(t)/100,transform:t=>cr.transform(t*100)},Wl={test:Ib("hsl","hue"),parse:KR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+cr.transform(Xu(e))+", "+cr.transform(Xu(n))+", "+Xu(ph.transform(s))+")"},Cn={test:t=>Ho.test(t)||V0.test(t)||Wl.test(t),parse:t=>Ho.test(t)?Ho.parse(t):Wl.test(t)?Wl.parse(t):V0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ho.transform(t):Wl.transform(t),getAnimatableNone:t=>{const e=Cn.parse(t);return e.alpha=0,Cn.transform(e)}},a6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function o6(t){return isNaN(t)&&typeof t=="string"&&(t.match(Nb)?.length||0)+(t.match(a6)?.length||0)>0}const YR="number",XR="color",l6="var",c6="var(",IE="${}",u6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gh(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(u6,d=>(Cn.test(d)?(s.color.push(l),a.push(XR),n.push(Cn.parse(d))):d.startsWith(c6)?(s.var.push(l),a.push(l6),n.push(d)):(s.number.push(l),a.push(YR),n.push(parseFloat(d))),++l,IE)).split(IE);return{values:n,split:h,indexes:s,types:a}}function WR(t){return gh(t).values}function QR(t){const{split:e,types:n}=gh(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===YR?l+=Xu(a[c]):h===XR?l+=Cn.transform(a[c]):l+=a[c]}return l}}const h6=t=>typeof t=="number"?0:Cn.test(t)?Cn.getAnimatableNone(t):t;function d6(t){const e=WR(t);return QR(t)(e.map(h6))}const no={test:o6,parse:WR,createTransformer:QR,getAnimatableNone:d6};function zy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function f6({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=zy(d,h,t+1/3),l=zy(d,h,t),c=zy(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Tm(t,e){return n=>n>0?e:t}const Zt=(t,e,n)=>t+(e-t)*n,By=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},m6=[V0,Ho,Wl],p6=t=>m6.find(e=>e.test(t));function kE(t){const e=p6(t);if(!e)return!1;let n=e.parse(t);return e===Wl&&(n=f6(n)),n}const DE=(t,e)=>{const n=kE(t),s=kE(e);if(!n||!s)return Tm(t,e);const a={...n};return l=>(a.red=By(n.red,s.red,l),a.green=By(n.green,s.green,l),a.blue=By(n.blue,s.blue,l),a.alpha=Zt(n.alpha,s.alpha,l),Ho.transform(a))},L0=new Set(["none","hidden"]);function g6(t,e){return L0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function y6(t,e){return n=>Zt(t,e,n)}function kb(t){return typeof t=="number"?y6:typeof t=="string"?Rb(t)?Tm:Cn.test(t)?DE:x6:Array.isArray(t)?JR:typeof t=="object"?Cn.test(t)?DE:v6:Tm}function JR(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>kb(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function v6(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=kb(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function b6(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],h=t.values[c]??0;n[a]=h,s[l]++}return n}const x6=(t,e)=>{const n=no.createTransformer(e),s=gh(t),a=gh(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?L0.has(t)&&!a.values.length||L0.has(e)&&!s.values.length?g6(t,e):Gh(JR(b6(s,a),a.values),n):Tm(t,e)};function ZR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Zt(t,e,n):kb(t)(t,e)}const w6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ht.update(e,n),stop:()=>to(e),now:()=>es.isProcessing?es.timestamp:_s.now()}},eN=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Em=2e4;function Db(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Em;)e+=n,s=t.next(e);return e>=Em?1/0:e}function _6(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Db(s),Em);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:xi(a)}}const T6=5;function tN(t,e,n){const s=Math.max(e-T6,0);return MR(n-t(s),e-s)}const un={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fy=.001;function E6({duration:t=un.duration,bounce:e=un.bounce,velocity:n=un.velocity,mass:s=un.mass}){let a,l,c=1-e;c=mr(un.minDamping,un.maxDamping,c),t=mr(un.minDuration,un.maxDuration,xi(t)),c<1?(a=m=>{const g=m*c,b=g*t,x=g-n,A=U0(m,c),k=Math.exp(-b);return Fy-x/A*k},l=m=>{const b=m*c*t,x=b*n+n,A=Math.pow(c,2)*Math.pow(m,2)*t,k=Math.exp(-b),I=U0(Math.pow(m,2),c);return(-a(m)+Fy>0?-1:1)*((x-A)*k)/I}):(a=m=>{const g=Math.exp(-m*t),b=(m-n)*t+1;return-Fy+g*b},l=m=>{const g=Math.exp(-m*t),b=(n-m)*(t*t);return g*b});const h=5/t,d=A6(a,l,h);if(t=$r(t),isNaN(d))return{stiffness:un.stiffness,damping:un.damping,duration:t};{const m=Math.pow(d,2)*s;return{stiffness:m,damping:c*2*Math.sqrt(s*m),duration:t}}}const S6=12;function A6(t,e,n){let s=n;for(let a=1;a<S6;a++)s=s-t(s)/e(s);return s}function U0(t,e){return t*Math.sqrt(1-e*e)}const C6=["duration","bounce"],R6=["stiffness","damping","mass"];function ME(t,e){return e.some(n=>t[n]!==void 0)}function N6(t){let e={velocity:un.velocity,stiffness:un.stiffness,damping:un.damping,mass:un.mass,isResolvedFromDuration:!1,...t};if(!ME(t,R6)&&ME(t,C6))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*mr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:un.mass,stiffness:a,damping:l}}else{const n=E6(t);e={...e,...n,mass:un.mass},e.isResolvedFromDuration=!0}return e}function Sm(t=un.visualDuration,e=un.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:m,mass:g,duration:b,velocity:x,isResolvedFromDuration:A}=N6({...n,velocity:-xi(n.velocity||0)}),k=x||0,I=m/(2*Math.sqrt(d*g)),R=c-l,O=xi(Math.sqrt(d/g)),H=Math.abs(R)<5;s||(s=H?un.restSpeed.granular:un.restSpeed.default),a||(a=H?un.restDelta.granular:un.restDelta.default);let F;if(I<1){const te=U0(O,I);F=ce=>{const D=Math.exp(-I*O*ce);return c-D*((k+I*O*R)/te*Math.sin(te*ce)+R*Math.cos(te*ce))}}else if(I===1)F=te=>c-Math.exp(-O*te)*(R+(k+O*R)*te);else{const te=O*Math.sqrt(I*I-1);F=ce=>{const D=Math.exp(-I*O*ce),C=Math.min(te*ce,300);return c-D*((k+I*O*R)*Math.sinh(C)+te*R*Math.cosh(C))/te}}const re={calculatedDuration:A&&b||null,next:te=>{const ce=F(te);if(A)h.done=te>=b;else{let D=te===0?k:0;I<1&&(D=te===0?$r(k):tN(F,te,ce));const C=Math.abs(D)<=s,j=Math.abs(c-ce)<=a;h.done=C&&j}return h.value=h.done?c:ce,h},toString:()=>{const te=Math.min(Db(re),Em),ce=eN(D=>re.next(te*D).value,te,30);return te+"ms "+ce},toTransition:()=>{}};return re}Sm.applyToOptions=t=>{const e=_6(t,100,Sm);return t.ease=e.ease,t.duration=$r(e.duration),t.type="keyframes",t};function z0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:d,restDelta:m=.5,restSpeed:g}){const b=t[0],x={done:!1,value:b},A=C=>h!==void 0&&C<h||d!==void 0&&C>d,k=C=>h===void 0?d:d===void 0||Math.abs(h-C)<Math.abs(d-C)?h:d;let I=n*e;const R=b+I,O=c===void 0?R:c(R);O!==R&&(I=O-b);const H=C=>-I*Math.exp(-C/s),F=C=>O+H(C),re=C=>{const j=H(C),z=F(C);x.done=Math.abs(j)<=m,x.value=x.done?O:z};let te,ce;const D=C=>{A(x.value)&&(te=C,ce=Sm({keyframes:[x.value,k(x.value)],velocity:tN(F,C,x.value),damping:a,stiffness:l,restDelta:m,restSpeed:g}))};return D(0),{calculatedDuration:null,next:C=>{let j=!1;return!ce&&te===void 0&&(j=!0,re(C),D(C)),te!==void 0&&C>=te?ce.next(C-te):(!j&&re(C),x)}}}function I6(t,e,n){const s=[],a=n||Jr.mix||ZR,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||_i:e;h=Gh(d,h)}s.push(h)}return s}function k6(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Tb(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=I6(e,s,a),d=h.length,m=g=>{if(c&&g<t[0])return e[0];let b=0;if(d>1)for(;b<t.length-2&&!(g<t[b+1]);b++);const x=mh(t[b],t[b+1],g);return h[b](x)};return n?g=>m(mr(t[0],t[l-1],g)):m}function D6(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=mh(0,e,s);t.push(Zt(n,1,a))}}function M6(t){const e=[0];return D6(e,t.length-1),e}function P6(t,e){return t.map(n=>n*e)}function j6(t,e){return t.map(()=>e||FR).splice(0,t.length-1)}function Wu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=$L(s)?s.map(CE):CE(s),l={done:!1,value:e[0]},c=P6(n&&n.length===e.length?n:M6(e),t),h=k6(c,e,{ease:Array.isArray(a)?a:j6(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const O6=t=>t!==null;function Mb(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(O6),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const V6={decay:z0,inertia:z0,tween:Wu,keyframes:Wu,spring:Sm};function nN(t){typeof t.type=="string"&&(t.type=V6[t.type])}class Pb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const L6=t=>t/100;class jb extends Pb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==_s.now()&&this.tick(_s.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;nN(e);const{type:n=Wu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const d=n||Wu;d!==Wu&&typeof h[0]!="number"&&(this.mixKeyframes=Gh(L6,ZR(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Db(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:g,repeat:b,repeatType:x,repeatDelay:A,type:k,onUpdate:I,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-m*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?O<0:O>a;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,re=s;if(b){const C=Math.min(this.currentTime,a)/h;let j=Math.floor(C),z=C%1;!z&&C>=1&&(z=1),z===1&&j--,j=Math.min(j,b+1),j%2&&(x==="reverse"?(z=1-z,A&&(z-=A/h)):x==="mirror"&&(re=c)),F=mr(0,1,z)*h}const te=H?{done:!1,value:g[0]}:re.next(F);l&&(te.value=l(te.value));let{done:ce}=te;!H&&d!==null&&(ce=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ce);return D&&k!==z0&&(te.value=Mb(g,this.options,R,this.speed)),I&&I(te.value),D&&this.finish(),te}then(e,n){return this.finished.then(e,n)}get duration(){return xi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xi(e)}get time(){return xi(this.currentTime)}set time(e){e=$r(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(_s.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=w6,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_s.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function U6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Go=t=>t*180/Math.PI,B0=t=>{const e=Go(Math.atan2(t[1],t[0]));return F0(e)},z6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:B0,rotateZ:B0,skewX:t=>Go(Math.atan(t[1])),skewY:t=>Go(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},F0=t=>(t=t%360,t<0&&(t+=360),t),PE=B0,jE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),OE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),B6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jE,scaleY:OE,scale:t=>(jE(t)+OE(t))/2,rotateX:t=>F0(Go(Math.atan2(t[6],t[5]))),rotateY:t=>F0(Go(Math.atan2(-t[2],t[0]))),rotateZ:PE,rotate:PE,skewX:t=>Go(Math.atan(t[4])),skewY:t=>Go(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function q0(t){return t.includes("scale")?1:0}function H0(t,e){if(!t||t==="none")return q0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=B6,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=z6,a=h}if(!a)return q0(e);const l=s[e],c=a[1].split(",").map(q6);return typeof l=="function"?l(c):c[l]}const F6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return H0(n,e)};function q6(t){return parseFloat(t.trim())}const Nc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ic=new Set(Nc),VE=t=>t===Rc||t===Ae,H6=new Set(["x","y","z"]),G6=Nc.filter(t=>!H6.has(t));function $6(t){const e=[];return G6.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ua={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>H0(e,"x"),y:(t,{transform:e})=>H0(e,"y")};Ua.translateX=Ua.x;Ua.translateY=Ua.y;const Wo=new Set;let G0=!1,$0=!1,K0=!1;function sN(){if($0){const t=Array.from(Wo).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=$6(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}$0=!1,G0=!1,Wo.forEach(t=>t.complete(K0)),Wo.clear()}function iN(){Wo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($0=!0)})}function K6(){K0=!0,iN(),sN(),K0=!1}class Ob{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Wo.add(this),G0||(G0=!0,Ht.read(iN),Ht.resolveKeyframes(sN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}U6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Wo.delete(this)}cancel(){this.state==="scheduled"&&(Wo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Y6=t=>t.startsWith("--");function X6(t,e,n){Y6(e)?t.style.setProperty(e,n):t.style[e]=n}const W6=Eb(()=>window.ScrollTimeline!==void 0),Q6={};function J6(t,e){const n=Eb(t);return()=>Q6[e]??n()}const rN=J6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,LE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zu([0,.65,.55,1]),circOut:zu([.55,0,1,.45]),backIn:zu([.31,.01,.66,-.59]),backOut:zu([.33,1.53,.69,.99])};function aN(t,e){if(t)return typeof t=="function"?rN()?eN(t,e):"ease-out":qR(t)?zu(t):Array.isArray(t)?t.map(n=>aN(n,e)||LE.easeOut):LE[t]}function Z6(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:d}={},m=void 0){const g={[e]:n};d&&(g.offset=d);const b=aN(h,a);Array.isArray(b)&&(g.easing=b);const x={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),t.animate(g,x)}function oN(t){return typeof t=="function"&&"applyToOptions"in t}function eU({type:t,...e}){return oN(t)&&rN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class tU extends Pb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Tb(typeof e.type!="string");const m=eU(e);this.animation=Z6(n,s,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=Mb(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):X6(n,s,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return xi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xi(e)}get time(){return xi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=$r(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&W6()?(this.animation.timeline=e,_i):n(this)}}const lN={anticipate:UR,backInOut:LR,circInOut:BR};function nU(t){return t in lN}function sU(t){typeof t.ease=="string"&&nU(t.ease)&&(t.ease=lN[t.ease])}const qy=10;class iU extends tU{constructor(e){sU(e),nN(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new jb({...c,autoplay:!1}),d=Math.max(qy,_s.now()-this.startTime),m=mr(0,qy,d-qy);n.setWithVelocity(h.sample(Math.max(0,d-m)).value,h.sample(d).value,m),h.stop()}}const UE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(no.test(t)||t==="0")&&!t.startsWith("url("));function rU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function aU(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=UE(a,e),h=UE(l,e);return!c||!h?!1:rU(t)||(n==="spring"||oN(n))&&s}function Y0(t){t.duration=0,t.type="keyframes"}const oU=new Set(["opacity","clipPath","filter","transform"]),lU=Eb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cU(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return lU()&&n&&oU.has(n)&&(n!=="transform"||!m)&&!d&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const uU=40;class hU extends Pb{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:d,motionValue:m,element:g,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=_s.now();const x={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:d,motionValue:m,element:g,...b},A=g?.KeyframeResolver||Ob;this.keyframeResolver=new A(h,(k,I,R)=>this.onKeyframesResolved(k,I,x,!R),d,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:d,isHandoff:m,onUpdate:g}=s;this.resolvedAt=_s.now(),aU(e,l,c,h)||((Jr.instantAnimations||!d)&&g?.(Mb(e,s,n)),e[0]=e[e.length-1],Y0(s),s.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>uU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},A=!m&&cU(x)?new iU({...x,element:x.motionValue.owner.current}):new jb(x);A.finished.then(()=>this.notifyFinished()).catch(_i),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),K6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const dU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fU(t){const e=dU.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function cN(t,e,n=1){const[s,a]=fU(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return IR(c)?parseFloat(c):c}return Rb(a)?cN(a,e,n+1):a}function Vb(t,e){return t?.[e]??t?.default??t}const mU={type:"spring",stiffness:500,damping:25,restSpeed:10},pU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gU={type:"keyframes",duration:.8},yU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vU=(t,{keyframes:e})=>e.length>2?gU:Ic.has(t)?t.startsWith("scale")?pU(e[1]):mU:yU;function bU({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:d,elapsed:m,...g}){return!!Object.keys(g).length}const xU=t=>t!==null;function wU(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(xU),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function uN(t,e,n,s=0,a=1){const l=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),c=t.size,h=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:h-l*s}const Lb=(t,e,n,s={},a,l)=>c=>{const h=Vb(s,t)||{},d=h.delay||s.delay||0;let{elapsed:m=0}=s;m=m-$r(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:x=>{e.set(x),h.onUpdate&&h.onUpdate(x)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};bU(h)||Object.assign(g,vU(t,g)),g.duration&&(g.duration=$r(g.duration)),g.repeatDelay&&(g.repeatDelay=$r(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let b=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Y0(g),g.delay===0&&(b=!0)),(Jr.instantAnimations||Jr.skipAnimations)&&(b=!0,Y0(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,b&&!l&&e.get()!==void 0){const x=wU(g.keyframes,h);if(x!==void 0){Ht.update(()=>{g.onUpdate(x),g.onComplete()});return}}return h.isSync?new jb(g):new hU(g)},hN=new Set(["width","height","top","left","right","bottom",...Nc]),zE=30,_U=t=>!isNaN(parseFloat(t));class TU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=_s.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=_s.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_U(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Sb);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ht.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=_s.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zE);return MR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vc(t,e){return new TU(t,e)}function BE(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Ub(t,e,n,s){if(typeof e=="function"){const[a,l]=BE(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=BE(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function ac(t,e,n){const s=t.getProps();return Ub(s,e,n!==void 0?n:s.custom,t)}const X0=t=>Array.isArray(t);function EU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vc(n))}function SU(t){return X0(t)?t[t.length-1]||0:t}function AU(t,e){const n=ac(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const h=SU(l[c]);EU(t,c,h)}}const us=t=>!!(t&&t.getVelocity);function CU(t){return!!(us(t)&&t.add)}function W0(t,e){const n=t.getValue("willChange");if(CU(n))return n.add(e);if(!n&&Jr.WillChange){const s=new Jr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function zb(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const RU="framerAppearId",dN="data-"+zb(RU);function fN(t){return t.props[dN]}function NU({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function mN(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;s&&(l=s);const d=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const g in h){const b=t.getValue(g,t.latestValues[g]??null),x=h[g];if(x===void 0||m&&NU(m,g))continue;const A={delay:n,...Vb(l||{},g)},k=b.get();if(k!==void 0&&!b.isAnimating&&!Array.isArray(x)&&x===k&&!A.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const O=fN(t);if(O){const H=window.MotionHandoffAnimation(O,g,Ht);H!==null&&(A.startTime=H,I=!0)}}W0(t,g),b.start(Lb(g,b,x,t.shouldReduceMotion&&hN.has(g)?{type:!1}:A,t,I));const R=b.animation;R&&d.push(R)}return c&&Promise.all(d).then(()=>{Ht.update(()=>{c&&AU(t,c)})}),d}function Q0(t,e,n={}){const s=ac(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(mN(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:b}=a;return IU(t,e,d,m,g,b,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,m]=h==="beforeChildren"?[l,c]:[c,l];return d().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function IU(t,e,n=0,s=0,a=0,l=1,c){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(Q0(d,e,{...c,delay:n+(typeof s=="function"?0:s)+uN(t.variantChildren,d,s,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function kU(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Q0(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Q0(t,e,n);else{const a=typeof e=="function"?ac(t,e,n.custom):e;s=Promise.all(mN(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const DU={test:t=>t==="auto",parse:t=>t},pN=t=>e=>e.test(t),gN=[Rc,Ae,cr,Oa,r6,i6,DU],FE=t=>gN.find(pN(t));function MU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||DR(t):!0}const PU=new Set(["brightness","contrast","saturate","opacity"]);function jU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Nb)||[];if(!s)return t;const a=n.replace(s,"");let l=PU.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const OU=/\b([a-z-]*)\(.*?\)/gu,J0={...no,getAnimatableNone:t=>{const e=t.match(OU);return e?e.map(jU).join(" "):t}},qE={...Rc,transform:Math.round},VU={rotate:Oa,rotateX:Oa,rotateY:Oa,rotateZ:Oa,scale:Af,scaleX:Af,scaleY:Af,scaleZ:Af,skew:Oa,skewX:Oa,skewY:Oa,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:ph,originX:NE,originY:NE,originZ:Ae},Bb={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,inset:Ae,insetBlock:Ae,insetBlockStart:Ae,insetBlockEnd:Ae,insetInline:Ae,insetInlineStart:Ae,insetInlineEnd:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,paddingBlock:Ae,paddingBlockStart:Ae,paddingBlockEnd:Ae,paddingInline:Ae,paddingInlineStart:Ae,paddingInlineEnd:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,marginBlock:Ae,marginBlockStart:Ae,marginBlockEnd:Ae,marginInline:Ae,marginInlineStart:Ae,marginInlineEnd:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae,...VU,zIndex:qE,fillOpacity:ph,strokeOpacity:ph,numOctaves:qE},LU={...Bb,color:Cn,backgroundColor:Cn,outlineColor:Cn,fill:Cn,stroke:Cn,borderColor:Cn,borderTopColor:Cn,borderRightColor:Cn,borderBottomColor:Cn,borderLeftColor:Cn,filter:J0,WebkitFilter:J0},yN=t=>LU[t];function vN(t,e){let n=yN(t);return n!==J0&&(n=no),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const UU=new Set(["auto","none","0"]);function zU(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!UU.has(l)&&gh(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=vN(n,a)}class BU extends Ob{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let b=e[g];if(typeof b=="string"&&(b=b.trim(),Rb(b))){const x=cN(b,n.current);x!==void 0&&(e[g]=x),g===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!hN.has(s)||e.length!==2)return;const[a,l]=e,c=FE(a),h=FE(l),d=RE(a),m=RE(l);if(d!==m&&Ua[s]){this.needsMeasurement=!0;return}if(c!==h)if(VE(c)&&VE(h))for(let g=0;g<e.length;g++){const b=e[g];typeof b=="string"&&(e[g]=parseFloat(b))}else Ua[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||MU(e[a]))&&s.push(a);s.length&&zU(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ua[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Ua[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function FU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const bN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function xN(t){return kR(t)&&"offsetHeight"in t}const{schedule:Fb}=HR(queueMicrotask,!1),Pi={x:!1,y:!1};function wN(){return Pi.x||Pi.y}function qU(t){return t==="x"||t==="y"?Pi[t]?null:(Pi[t]=!0,()=>{Pi[t]=!1}):Pi.x||Pi.y?null:(Pi.x=Pi.y=!0,()=>{Pi.x=Pi.y=!1})}function _N(t,e){const n=FU(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function HE(t){return!(t.pointerType==="touch"||wN())}function HU(t,e,n={}){const[s,a,l]=_N(t,n),c=h=>{if(!HE(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const g=b=>{HE(b)&&(m(b),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,a)};return s.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const TN=(t,e)=>e?t===e?!0:TN(t,e.parentElement):!1,qb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,GU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function EN(t){return GU.has(t.tagName)||t.isContentEditable===!0}const Yf=new WeakSet;function GE(t){return e=>{e.key==="Enter"&&t(e)}}function Hy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const $U=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=GE(()=>{if(Yf.has(n))return;Hy(n,"down");const a=GE(()=>{Hy(n,"up")}),l=()=>Hy(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function $E(t){return qb(t)&&!wN()}function KU(t,e,n={}){const[s,a,l]=_N(t,n),c=h=>{const d=h.currentTarget;if(!$E(h))return;Yf.add(d);const m=e(d,h),g=(A,k)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",x),Yf.has(d)&&Yf.delete(d),$E(A)&&typeof m=="function"&&m(A,{success:k})},b=A=>{g(A,d===window||d===document||n.useGlobalTarget||TN(d,A.target))},x=A=>{g(A,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",x,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),xN(h)&&(h.addEventListener("focus",m=>$U(m,a)),!EN(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function SN(t){return kR(t)&&"ownerSVGElement"in t}function YU(t){return SN(t)&&t.tagName==="svg"}const XU=[...gN,Cn,no],WU=t=>XU.find(pN(t)),KE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ql=()=>({x:KE(),y:KE()}),YE=()=>({min:0,max:0}),jn=()=>({x:YE(),y:YE()}),Z0={current:null},AN={current:!1},QU=typeof window<"u";function JU(){if(AN.current=!0,!!QU)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Z0.current=t.matches;t.addEventListener("change",e),e()}else Z0.current=!1}const ZU=new WeakMap;function fp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function yh(t){return typeof t=="string"||Array.isArray(t)}const Hb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gb=["initial",...Hb];function mp(t){return fp(t.animate)||Gb.some(e=>yh(t[e]))}function CN(t){return!!(mp(t)||t.variants)}function e9(t,e,n){for(const s in e){const a=e[s],l=n[s];if(us(a))t.addValue(s,a);else if(us(l))t.addValue(s,vc(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,vc(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const XE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Am={};function RN(t){Am=t}function t9(){return Am}class n9{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ob,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=_s.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ht.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=mp(n),this.isVariantNode=CN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in b){const A=b[x];d[x]!==void 0&&us(A)&&A.set(d[x])}}mount(e){this.current=e,ZU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(AN.current||JU(),this.shouldReduceMotion=Z0.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),to(this.notifyUpdate),to(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ic.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Ht.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Am){const n=Am[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<XE.length;s++){const a=XE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=e9(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=vc(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(IR(s)||DR(s))?s=parseFloat(s):!WU(s)&&no.test(n)&&(s=vN(e,n)),this.setBaseTarget(e,us(s)?s.get():s)),us(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Ub(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!us(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Sb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Fb.render(this.render)}}class oo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class NN extends n9{constructor(){super(...arguments),this.KeyframeResolver=BU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;us(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function IN({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function s9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function i9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Gy(t){return t===void 0||t===1}function ev({scale:t,scaleX:e,scaleY:n}){return!Gy(t)||!Gy(e)||!Gy(n)}function Bo(t){return ev(t)||kN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function kN(t){return WE(t.x)||WE(t.y)}function WE(t){return t&&t!=="0%"}function Cm(t,e,n){const s=t-n,a=e*s;return n+a}function QE(t,e,n,s,a){return a!==void 0&&(t=Cm(t,a,s)),Cm(t,n,s)+e}function tv(t,e=0,n=1,s,a){t.min=QE(t.min,e,n,s,a),t.max=QE(t.max,e,n,s,a)}function DN(t,{x:e,y:n}){tv(t.x,e.translate,e.scale,e.originPoint),tv(t.y,n.translate,n.scale,n.originPoint)}const JE=.999999999999,ZE=1.0000000000001;function r9(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Zl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,DN(t,c)),s&&Bo(l.latestValues)&&Zl(t,l.latestValues))}e.x<ZE&&e.x>JE&&(e.x=1),e.y<ZE&&e.y>JE&&(e.y=1)}function Jl(t,e){t.min=t.min+e,t.max=t.max+e}function eS(t,e,n,s,a=.5){const l=Zt(t.min,t.max,a);tv(t,e,n,l,s)}function Zl(t,e){eS(t.x,e.x,e.scaleX,e.scale,e.originX),eS(t.y,e.y,e.scaleY,e.scale,e.originY)}function MN(t,e){return IN(i9(t.getBoundingClientRect(),e))}function a9(t,e,n){const s=MN(t,n),{scroll:a}=e;return a&&(Jl(s.x,a.offset.x),Jl(s.y,a.offset.y)),s}const o9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},l9=Nc.length;function c9(t,e,n){let s="",a=!0;for(let l=0;l<l9;l++){const c=Nc[l],h=t[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const m=bN(h,Bb[c]);if(!d){a=!1;const g=o9[c]||c;s+=`${g}(${m}) `}n&&(e[c]=m)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function $b(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const d in e){const m=e[d];if(Ic.has(d)){c=!0;continue}else if($R(d)){a[d]=m;continue}else{const g=bN(m,Bb[d]);d.startsWith("origin")?(h=!0,l[d]=g):s[d]=g}}if(e.transform||(c||n?s.transform=c9(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:g=0}=l;s.transformOrigin=`${d} ${m} ${g}`}}function PN(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function tS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ku={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ae.test(t))t=parseFloat(t);else return t;const n=tS(t,e.target.x),s=tS(t,e.target.y);return`${n}% ${s}%`}},u9={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=no.parse(t);if(a.length>5)return s;const l=no.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=d;const m=Zt(h,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}},nv={borderRadius:{...ku,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ku,borderTopRightRadius:ku,borderBottomLeftRadius:ku,borderBottomRightRadius:ku,boxShadow:u9};function jN(t,{layout:e,layoutId:n}){return Ic.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!nv[t]||t==="opacity")}function Kb(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const c in s)(us(s[c])||a&&us(a[c])||jN(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=s[c]);return l}function h9(t){return window.getComputedStyle(t)}class d9 extends NN{constructor(){super(...arguments),this.type="html",this.renderInstance=PN}readValueFromInstance(e,n){if(Ic.has(n))return this.projection?.isProjecting?q0(n):F6(e,n);{const s=h9(e),a=($R(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return MN(e,n)}build(e,n,s){$b(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Kb(e,n,s)}}const f9={offset:"stroke-dashoffset",array:"stroke-dasharray"},m9={offset:"strokeDashoffset",array:"strokeDasharray"};function p9(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?f9:m9;t[l.offset]=Ae.transform(-s);const c=Ae.transform(e),h=Ae.transform(n);t[l.array]=`${c} ${h}`}const g9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function ON(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},d,m,g){if($b(t,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:x}=t;b.transform&&(x.transform=b.transform,delete b.transform),(x.transform||b.transformOrigin)&&(x.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),x.transform&&(x.transformBox=g?.transformBox??"fill-box",delete b.transformBox);for(const A of g9)b[A]!==void 0&&(x[A]=b[A],delete b[A]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&p9(b,a,l,c,!1)}const VN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),LN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function y9(t,e,n,s){PN(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(VN.has(a)?a:zb(a),e.attrs[a])}function UN(t,e,n){const s=Kb(t,e,n);for(const a in t)if(us(t[a])||us(e[a])){const l=Nc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class v9 extends NN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ic.has(n)){const s=yN(n);return s&&s.default||0}return n=VN.has(n)?n:zb(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return UN(e,n,s)}build(e,n,s){ON(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){y9(e,n,s,a)}mount(e){this.isSVGTag=LN(e.tagName),super.mount(e)}}const b9=Gb.length;function zN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?zN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<b9;n++){const s=Gb[n],a=t.props[s];(yh(a)||a===!1)&&(e[s]=a)}return e}function BN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const x9=[...Hb].reverse(),w9=Hb.length;function _9(t){return e=>Promise.all(e.map(({animation:n,options:s})=>kU(t,n,s)))}function T9(t){let e=_9(t),n=nS(),s=!0;const a=d=>(m,g)=>{const b=ac(t,g,d==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:x,transitionEnd:A,...k}=b;m={...m,...k,...A}}return m};function l(d){e=d(t)}function c(d){const{props:m}=t,g=zN(t.parent)||{},b=[],x=new Set;let A={},k=1/0;for(let R=0;R<w9;R++){const O=x9[R],H=n[O],F=m[O]!==void 0?m[O]:g[O],re=yh(F),te=O===d?H.isActive:null;te===!1&&(k=R);let ce=F===g[O]&&F!==m[O]&&re;if(ce&&s&&t.manuallyAnimateOnMount&&(ce=!1),H.protectedKeys={...A},!H.isActive&&te===null||!F&&!H.prevProp||fp(F)||typeof F=="boolean")continue;const D=E9(H.prevProp,F);let C=D||O===d&&H.isActive&&!ce&&re||R>k&&re,j=!1;const z=Array.isArray(F)?F:[F];let B=z.reduce(a(O),{});te===!1&&(B={});const{prevResolvedValues:P={}}=H,V={...P,...B},be=Y=>{C=!0,x.has(Y)&&(j=!0,x.delete(Y)),H.needsAnimating[Y]=!0;const K=t.getValue(Y);K&&(K.liveStyle=!1)};for(const Y in V){const K=B[Y],X=P[Y];if(A.hasOwnProperty(Y))continue;let L=!1;X0(K)&&X0(X)?L=!BN(K,X):L=K!==X,L?K!=null?be(Y):x.add(Y):K!==void 0&&x.has(Y)?be(Y):H.protectedKeys[Y]=!0}H.prevProp=F,H.prevResolvedValues=B,H.isActive&&(A={...A,...B}),s&&t.blockInitialAnimation&&(C=!1);const Te=ce&&D;C&&(!Te||j)&&b.push(...z.map(Y=>{const K={type:O};if(typeof Y=="string"&&s&&!Te&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,L=ac(X,Y);if(X.enteringChildren&&L){const{delayChildren:T}=L.transition||{};K.delay=uN(X.enteringChildren,t,T)}}return{animation:Y,options:K}}))}if(x.size){const R={};if(typeof m.initial!="boolean"){const O=ac(t,Array.isArray(m.initial)?m.initial[0]:m.initial);O&&O.transition&&(R.transition=O.transition)}x.forEach(O=>{const H=t.getBaseTarget(O),F=t.getValue(O);F&&(F.liveStyle=!0),R[O]=H??null}),b.push({animation:R})}let I=!!b.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(I=!1),s=!1,I?e(b):Promise.resolve()}function h(d,m){if(n[d].isActive===m)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(d,m)),n[d].isActive=m;const g=c(d);for(const b in n)n[b].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=nS()}}}function E9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!BN(e,t):!1}function Oo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nS(){return{animate:Oo(!0),whileInView:Oo(),whileHover:Oo(),whileTap:Oo(),whileDrag:Oo(),whileFocus:Oo(),exit:Oo()}}const FN=1e-4,S9=1-FN,A9=1+FN,qN=.01,C9=0-qN,R9=0+qN;function Ts(t){return t.max-t.min}function N9(t,e,n){return Math.abs(t-e)<=n}function sS(t,e,n,s=.5){t.origin=s,t.originPoint=Zt(e.min,e.max,t.origin),t.scale=Ts(n)/Ts(e),t.translate=Zt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=S9&&t.scale<=A9||isNaN(t.scale))&&(t.scale=1),(t.translate>=C9&&t.translate<=R9||isNaN(t.translate))&&(t.translate=0)}function Qu(t,e,n,s){sS(t.x,e.x,n.x,s?s.originX:void 0),sS(t.y,e.y,n.y,s?s.originY:void 0)}function iS(t,e,n){t.min=n.min+e.min,t.max=t.min+Ts(e)}function I9(t,e,n){iS(t.x,e.x,n.x),iS(t.y,e.y,n.y)}function rS(t,e,n){t.min=e.min-n.min,t.max=t.min+Ts(e)}function Rm(t,e,n){rS(t.x,e.x,n.x),rS(t.y,e.y,n.y)}function aS(t,e,n,s,a){return t-=e,t=Cm(t,1/n,s),a!==void 0&&(t=Cm(t,1/a,s)),t}function k9(t,e=0,n=1,s=.5,a,l=t,c=t){if(cr.test(e)&&(e=parseFloat(e),e=Zt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Zt(l.min,l.max,s);t===l&&(h-=e),t.min=aS(t.min,e,n,h,a),t.max=aS(t.max,e,n,h,a)}function oS(t,e,[n,s,a],l,c){k9(t,e[n],e[s],e[a],e.scale,l,c)}const D9=["x","scaleX","originX"],M9=["y","scaleY","originY"];function lS(t,e,n,s){oS(t.x,e,D9,n?n.x:void 0,s?s.x:void 0),oS(t.y,e,M9,n?n.y:void 0,s?s.y:void 0)}function cS(t,e){t.min=e.min,t.max=e.max}function Mi(t,e){cS(t.x,e.x),cS(t.y,e.y)}function uS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function hS(t){return t.translate===0&&t.scale===1}function HN(t){return hS(t.x)&&hS(t.y)}function dS(t,e){return t.min===e.min&&t.max===e.max}function P9(t,e){return dS(t.x,e.x)&&dS(t.y,e.y)}function fS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function GN(t,e){return fS(t.x,e.x)&&fS(t.y,e.y)}function mS(t){return Ts(t.x)/Ts(t.y)}function pS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function pi(t){return[t("x"),t("y")]}function j9(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:b,rotateY:x,skewX:A,skewY:k}=n;m&&(s=`perspective(${m}px) ${s}`),g&&(s+=`rotate(${g}deg) `),b&&(s+=`rotateX(${b}deg) `),x&&(s+=`rotateY(${x}deg) `),A&&(s+=`skewX(${A}deg) `),k&&(s+=`skewY(${k}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(s+=`scale(${h}, ${d})`),s||"none"}const $N=["TopLeft","TopRight","BottomLeft","BottomRight"],O9=$N.length,gS=t=>typeof t=="string"?parseFloat(t):t,yS=t=>typeof t=="number"||Ae.test(t);function V9(t,e,n,s,a,l){a?(t.opacity=Zt(0,n.opacity??1,L9(s)),t.opacityExit=Zt(e.opacity??1,0,U9(s))):l&&(t.opacity=Zt(e.opacity??1,n.opacity??1,s));for(let c=0;c<O9;c++){const h=`border${$N[c]}Radius`;let d=vS(e,h),m=vS(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||yS(d)===yS(m)?(t[h]=Math.max(Zt(gS(d),gS(m),s),0),(cr.test(m)||cr.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=Zt(e.rotate||0,n.rotate||0,s))}function vS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const L9=KN(0,.5,zR),U9=KN(.5,.95,_i);function KN(t,e,n){return s=>s<t?0:s>e?1:n(mh(t,e,s))}function z9(t,e){const n=_s.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(to(s),t(l-e))};return Ht.setup(s,!0),()=>to(s)}function vh(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Xf(t){return us(t)?t.get():t}function B9(t,e,n){const s=us(t)?t:vc(t);return s.start(Lb("",s,e,n)),s.animation}const F9=(t,e)=>t.depth-e.depth;class q9{constructor(){this.children=[],this.isDirty=!1}add(e){wb(this.children,e),this.isDirty=!0}remove(e){_b(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(F9),this.isDirty=!1,this.children.forEach(e)}}class H9{constructor(){this.members=[]}add(e){wb(this.members,e),e.scheduleRender()}remove(e){if(_b(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Wf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},$y=["","X","Y","Z"],G9=1e3;let $9=0;function Ky(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function YN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=fN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ht,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&YN(s)}function XN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=$9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(X9),this.nodes.forEach(Z9),this.nodes.forEach(ez),this.nodes.forEach(W9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new q9)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Sb),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=SN(c)&&!YU(c),this.instance=c;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let g,b=0;const x=()=>this.root.updateBlockedByResize=!1;Ht.read(()=>{b=window.innerWidth}),t(c,()=>{const A=window.innerWidth;A!==b&&(b=A,this.root.updateBlockedByResize=!0,g&&g(),g=z9(x,250),Wf.hasAnimatedSinceResize&&(Wf.hasAnimatedSinceResize=!1,this.nodes.forEach(wS)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b,hasRelativeLayoutChanged:x,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||m.getDefaultTransition()||rz,{onLayoutAnimationStart:I,onLayoutAnimationComplete:R}=m.getProps(),O=!this.targetLayout||!GN(this.targetLayout,A),H=!b&&x;if(this.options.layoutRoot||this.resumeFrom||H||b&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Vb(k,"layout"),onPlay:I,onComplete:R};(m.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(g,H)}else b||wS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),to(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tz),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&YN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const b=this.path[g];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(xS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(J9),this.nodes.forEach(K9),this.nodes.forEach(Y9)):this.nodes.forEach(xS),this.clearAllSnapshots();const h=_s.now();es.delta=mr(0,1e3/60,h-es.timestamp),es.timestamp=h,es.isProcessing=!0,Ly.update.process(es),Ly.preRender.process(es),Ly.render.process(es),es.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Q9),this.sharedNodes.forEach(nz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ts(this.snapshot.measuredBox.x)&&!Ts(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=jn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!HN(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||Bo(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),az(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return jn();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(oz))){const{scroll:m}=this.root;m&&(Jl(h.x,m.offset.x),Jl(h.y,m.offset.y))}return h}removeElementScroll(c){const h=jn();if(Mi(h,c),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:g,options:b}=m;m!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&Mi(h,c),Jl(h.x,g.offset.x),Jl(h.y,g.offset.y))}return h}applyTransform(c,h=!1){const d=jn();Mi(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Zl(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Bo(g.latestValues)&&Zl(d,g.latestValues)}return Bo(this.latestValues)&&Zl(d,this.latestValues),d}removeTransform(c){const h=jn();Mi(h,c);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Bo(m.latestValues))continue;ev(m.latestValues)&&m.updateSnapshot();const g=jn(),b=m.measurePageBox();Mi(g,b),lS(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Bo(this.latestValues)&&lS(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==es.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:b}=this.options;if(!this.layout||!(g||b))return;this.resolvedRelativeTargetAt=es.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=jn(),this.targetWithTransforms=jn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),I9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mi(this.target,this.layout.layoutBox),DN(this.target,this.targetDelta)):Mi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ev(this.parent.latestValues)||kN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,d){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jn(),this.relativeTargetOrigin=jn(),Rm(this.relativeTargetOrigin,h,d),Mi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===es.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Mi(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,x=this.treeScale.y;r9(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=jn());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uS(this.prevProjectionDelta.x,this.projectionDelta.x),uS(this.prevProjectionDelta.y,this.projectionDelta.y)),Qu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==x||!pS(this.projectionDelta.x,this.prevProjectionDelta.x)||!pS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ql(),this.projectionDelta=Ql(),this.projectionDeltaWithTransform=Ql()}setAnimationOrigin(c,h=!1){const d=this.snapshot,m=d?d.latestValues:{},g={...this.latestValues},b=Ql();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const x=jn(),A=d?d.source:void 0,k=this.layout?this.layout.source:void 0,I=A!==k,R=this.getStack(),O=!R||R.members.length<=1,H=!!(I&&!O&&this.options.crossfade===!0&&!this.path.some(iz));this.animationProgress=0;let F;this.mixTargetDelta=re=>{const te=re/1e3;_S(b.x,c.x,te),_S(b.y,c.y,te),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rm(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sz(this.relativeTarget,this.relativeTargetOrigin,x,te),F&&P9(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=jn()),Mi(F,this.relativeTarget)),I&&(this.animationValues=g,V9(g,m,this.latestValues,te,H,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(to(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ht.update(()=>{Wf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vc(0)),this.currentAnimation=B9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(G9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:g}=c;if(!(!h||!d||!m)){if(this!==c&&this.layout&&m&&WN(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||jn();const b=Ts(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+b;const x=Ts(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+x}Mi(h,d),Zl(h,g),Qu(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new H9),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&Ky("z",c,m,this.animationValues);for(let g=0;g<$y.length;g++)Ky(`rotate${$y[g]}`,c,m,this.animationValues),Ky(`skew${$y[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Xf(h?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Xf(h?.pointerEvents)||""),this.hasProjected&&!Bo(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let b=j9(this.projectionDeltaWithTransform,this.treeScale,g);d&&(b=d(g,b)),c.transform=b;const{x,y:A}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${A.origin*100}% 0`,m.animationValues?c.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const k in nv){if(g[k]===void 0)continue;const{correct:I,applyTo:R,isCSSVariable:O}=nv[k],H=b==="none"?g[k]:I(g[k],m);if(R){const F=R.length;for(let re=0;re<F;re++)c[R[re]]=H}else O?this.options.visualElement.renderState.vars[k]=H:c[k]=H}this.options.layoutId&&(c.pointerEvents=m===this?Xf(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(bS),this.root.sharedNodes.clear()}}}function K9(t){t.updateLayout()}function Y9(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?pi(g=>{const b=l?e.measuredBox[g]:e.layoutBox[g],x=Ts(b);b.min=n[g].min,b.max=b.min+x}):WN(a,e.layoutBox,n)&&pi(g=>{const b=l?e.measuredBox[g]:e.layoutBox[g],x=Ts(n[g]);b.max=b.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+x)});const c=Ql();Qu(c,n,e.layoutBox);const h=Ql();l?Qu(h,t.applyTransform(s,!0),e.measuredBox):Qu(h,n,e.layoutBox);const d=!HN(c);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:x}=g;if(b&&x){const A=jn();Rm(A,e.layoutBox,b.layoutBox);const k=jn();Rm(k,n,x.layoutBox),GN(A,k)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=A,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function X9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function W9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Q9(t){t.clearSnapshot()}function bS(t){t.clearMeasurements()}function xS(t){t.isLayoutDirty=!1}function J9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function wS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Z9(t){t.resolveTargetDelta()}function ez(t){t.calcProjection()}function tz(t){t.resetSkewAndRotation()}function nz(t){t.removeLeadSnapshot()}function _S(t,e,n){t.translate=Zt(e.translate,0,n),t.scale=Zt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function TS(t,e,n,s){t.min=Zt(e.min,n.min,s),t.max=Zt(e.max,n.max,s)}function sz(t,e,n,s){TS(t.x,e.x,n.x,s),TS(t.y,e.y,n.y,s)}function iz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const rz={duration:.45,ease:[.4,0,.1,1]},ES=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),SS=ES("applewebkit/")&&!ES("chrome/")?Math.round:_i;function AS(t){t.min=SS(t.min),t.max=SS(t.max)}function az(t){AS(t.x),AS(t.y)}function WN(t,e,n){return t==="position"||t==="preserve-aspect"&&!N9(mS(e),mS(n),.2)}function oz(t){return t!==t.root&&t.scroll?.wasRoot}const lz=XN({attachResizeListener:(t,e)=>vh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yy={current:void 0},QN=XN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yy.current){const t=new lz({});t.mount(window),t.setOptions({layoutScroll:!0}),Yy.current=t}return Yy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Yb=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function CS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function cz(...t){return e=>{let n=!1;const s=t.map(a=>{const l=CS(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():CS(t[a],null)}}}}function uz(...t){return S.useCallback(cz(...t),t)}class hz extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=xN(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function dz({children:t,isPresent:e,anchorX:n,root:s}){const a=S.useId(),l=S.useRef(null),c=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=S.useContext(Yb),d=t.props?.ref??t?.ref,m=uz(l,d);return S.useInsertionEffect(()=>{const{width:g,height:b,top:x,left:A,right:k}=c.current;if(e||!l.current||!g||!b)return;const I=n==="left"?`left: ${A}`:`right: ${k}`;l.current.dataset.motionPopId=a;const R=document.createElement("style");h&&(R.nonce=h);const O=s??document.head;return O.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${b}px !important;
            ${I}px !important;
            top: ${x}px !important;
          }
        `),()=>{O.contains(R)&&O.removeChild(R)}},[e]),y.jsx(hz,{isPresent:e,childRef:l,sizeRef:c,children:S.cloneElement(t,{ref:m})})}const fz=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,root:d})=>{const m=xb(mz),g=S.useId();let b=!0,x=S.useMemo(()=>(b=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:A=>{m.set(A,!0);for(const k of m.values())if(!k)return;s&&s()},register:A=>(m.set(A,!1),()=>m.delete(A))}),[n,m,s]);return l&&b&&(x={...x}),S.useMemo(()=>{m.forEach((A,k)=>m.set(k,!1))},[n]),S.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),c==="popLayout"&&(t=y.jsx(dz,{isPresent:n,anchorX:h,root:d,children:t})),y.jsx(dp.Provider,{value:x,children:t})};function mz(){return new Map}function JN(t=!0){const e=S.useContext(dp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=S.useId();S.useEffect(()=>{if(t)return a(l)},[t]);const c=S.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Cf=t=>t.key||"";function RS(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const Us=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",root:d})=>{const[m,g]=JN(c),b=S.useMemo(()=>RS(t),[t]),x=c&&!m?[]:b.map(Cf),A=S.useRef(!0),k=S.useRef(b),I=xb(()=>new Map),R=S.useRef(new Set),[O,H]=S.useState(b),[F,re]=S.useState(b);NR(()=>{A.current=!1,k.current=b;for(let D=0;D<F.length;D++){const C=Cf(F[D]);x.includes(C)?(I.delete(C),R.current.delete(C)):I.get(C)!==!0&&I.set(C,!1)}},[F,x.length,x.join("-")]);const te=[];if(b!==O){let D=[...b];for(let C=0;C<F.length;C++){const j=F[C],z=Cf(j);x.includes(z)||(D.splice(C,0,j),te.push(j))}return l==="wait"&&te.length&&(D=te),re(RS(D)),H(b),null}const{forceRender:ce}=S.useContext(bb);return y.jsx(y.Fragment,{children:F.map(D=>{const C=Cf(D),j=c&&!m?!1:b===F||x.includes(C),z=()=>{if(R.current.has(C))return;if(R.current.add(C),I.has(C))I.set(C,!0);else return;let B=!0;I.forEach(P=>{P||(B=!1)}),B&&(ce?.(),re(k.current),c&&g?.(),s&&s())};return y.jsx(fz,{isPresent:j,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:j?void 0:z,anchorX:h,children:D},C)})})},ZN=S.createContext({strict:!1}),NS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let IS=!1;function pz(){if(IS)return;const t={};for(const e in NS)t[e]={isEnabled:n=>NS[e].some(s=>!!n[s])};RN(t),IS=!0}function eI(){return pz(),t9()}function gz(t){const e=eI();for(const n in t)e[n]={...e[n],...t[n]};RN(e)}const yz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||yz.has(t)}let tI=t=>!Nm(t);function vz(t){typeof t=="function"&&(tI=e=>e.startsWith("on")?!Nm(e):t(e))}try{vz(require("@emotion/is-prop-valid").default)}catch{}function bz(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(tI(a)||n===!0&&Nm(a)||!e&&!Nm(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const pp=S.createContext({});function xz(t,e){if(mp(t)){const{initial:n,animate:s}=t;return{initial:n===!1||yh(n)?n:void 0,animate:yh(s)?s:void 0}}return t.inherit!==!1?e:{}}function wz(t){const{initial:e,animate:n}=xz(t,S.useContext(pp));return S.useMemo(()=>({initial:e,animate:n}),[kS(e),kS(n)])}function kS(t){return Array.isArray(t)?t.join(" "):t}const Xb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nI(t,e,n){for(const s in e)!us(e[s])&&!jN(s,n)&&(t[s]=e[s])}function _z({transformTemplate:t},e){return S.useMemo(()=>{const n=Xb();return $b(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Tz(t,e){const n=t.style||{},s={};return nI(s,n,t),Object.assign(s,_z(t,e)),s}function Ez(t,e){const n={},s=Tz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const sI=()=>({...Xb(),attrs:{}});function Sz(t,e,n,s){const a=S.useMemo(()=>{const l=sI();return ON(l,e,LN(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};nI(l,t.style,t),a.style={...l,...a.style}}return a}const Az=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Wb(t){return typeof t!="string"||t.includes("-")?!1:!!(Az.indexOf(t)>-1||/[A-Z]/u.test(t))}function Cz(t,e,n,{latestValues:s},a,l=!1,c){const d=(c??Wb(t)?Sz:Ez)(e,s,a,t),m=bz(e,typeof t=="string",l),g=t!==S.Fragment?{...m,...d,ref:n}:{},{children:b}=e,x=S.useMemo(()=>us(b)?b.get():b,[b]);return S.createElement(t,{...g,children:x})}function Rz({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:Nz(n,s,a,t),renderState:e()}}function Nz(t,e,n,s){const a={},l=s(t,{});for(const x in l)a[x]=Xf(l[x]);let{initial:c,animate:h}=t;const d=mp(t),m=CN(t);e&&m&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const b=g?h:c;if(b&&typeof b!="boolean"&&!fp(b)){const x=Array.isArray(b)?b:[b];for(let A=0;A<x.length;A++){const k=Ub(t,x[A]);if(k){const{transitionEnd:I,transition:R,...O}=k;for(const H in O){let F=O[H];if(Array.isArray(F)){const re=g?F.length-1:0;F=F[re]}F!==null&&(a[H]=F)}for(const H in I)a[H]=I[H]}}}return a}const iI=t=>(e,n)=>{const s=S.useContext(pp),a=S.useContext(dp),l=()=>Rz(t,e,s,a);return n?l():xb(l)},Iz=iI({scrapeMotionValuesFromProps:Kb,createRenderState:Xb}),kz=iI({scrapeMotionValuesFromProps:UN,createRenderState:sI}),Dz=Symbol.for("motionComponentSymbol");function Mz(t,e,n){const s=S.useRef(n);S.useInsertionEffect(()=>{s.current=n});const a=S.useRef(null);return S.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=s.current;if(typeof c=="function")if(l){const h=c(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const rI=S.createContext({});function Bu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Pz(t,e,n,s,a,l){const{visualElement:c}=S.useContext(pp),h=S.useContext(ZN),d=S.useContext(dp),m=S.useContext(Yb).reducedMotion,g=S.useRef(null);s=s||h.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:c,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m,isSVG:l}));const b=g.current,x=S.useContext(rI);b&&!b.projection&&a&&(b.type==="html"||b.type==="svg")&&jz(g.current,n,a,x);const A=S.useRef(!1);S.useInsertionEffect(()=>{b&&A.current&&b.update(n,d)});const k=n[dN],I=S.useRef(!!k&&!window.MotionHandoffIsComplete?.(k)&&window.MotionHasOptimisedAnimation?.(k));return NR(()=>{b&&(A.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),I.current&&b.animationState&&b.animationState.animateChanges())}),S.useEffect(()=>{b&&(!I.current&&b.animationState&&b.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(k)}),I.current=!1),b.enteringChildren=void 0)}),b}function jz(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:aI(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&Bu(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:d,layoutRoot:m})}function aI(t){if(t)return t.options.allowProjection!==!1?t.projection:aI(t.parent)}function Xy(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&gz(s);const l=n?n==="svg":Wb(t),c=l?kz:Iz;function h(m,g){let b;const x={...S.useContext(Yb),...m,layoutId:Oz(m)},{isStatic:A}=x,k=wz(m),I=c(m,A);if(!A&&RR){Vz();const R=Lz(x);b=R.MeasureLayout,k.visualElement=Pz(t,I,x,a,R.ProjectionNode,l)}return y.jsxs(pp.Provider,{value:k,children:[b&&k.visualElement?y.jsx(b,{visualElement:k.visualElement,...x}):null,Cz(t,m,Mz(I,k.visualElement,g),I,A,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=S.forwardRef(h);return d[Dz]=t,d}function Oz({layoutId:t}){const e=S.useContext(bb).id;return e&&t!==void 0?e+"-"+t:t}function Vz(t,e){S.useContext(ZN).strict}function Lz(t){const e=eI(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Uz(t,e){if(typeof Proxy>"u")return Xy;const n=new Map,s=(l,c)=>Xy(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Xy(c,void 0,t,e)),n.get(c))})}const zz=(t,e)=>e.isSVG??Wb(t)?new v9(e):new d9(e,{allowProjection:t!==S.Fragment});class Bz extends oo{constructor(e){super(e),e.animationState||(e.animationState=T9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Fz=0;class qz extends oo{constructor(){super(...arguments),this.id=Fz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Hz={animation:{Feature:Bz},exit:{Feature:qz}};function Yh(t){return{point:{x:t.pageX,y:t.pageY}}}const Gz=t=>e=>qb(e)&&t(e,Yh(e));function Ju(t,e,n,s){return vh(t,e,Gz(n),s)}const oI=({current:t})=>t?t.ownerDocument.defaultView:null,DS=(t,e)=>Math.abs(t-e);function $z(t,e){const n=DS(t.x,e.x),s=DS(t.y,e.y);return Math.sqrt(n**2+s**2)}const MS=new Set(["auto","scroll"]);class lI{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Qy(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,I=$z(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!I)return;const{point:R}=A,{timestamp:O}=es;this.history.push({...R,timestamp:O});const{onStart:H,onMove:F}=this.handlers;k||(H&&H(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,A)},this.handlePointerMove=(A,k)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Wy(k,this.transformPagePoint),Ht.update(this.updatePoint,!0)},this.handlePointerUp=(A,k)=>{this.end();const{onEnd:I,onSessionEnd:R,resumeAnimation:O}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=Qy(A.type==="pointercancel"?this.lastMoveEventInfo:Wy(k,this.transformPagePoint),this.history);this.startEvent&&I&&I(A,H),R&&R(A,H)},!qb(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=Yh(e),m=Wy(d,this.transformPagePoint),{point:g}=m,{timestamp:b}=es;this.history=[{...g,timestamp:b}];const{onSessionStart:x}=n;x&&x(e,Qy(m,this.history)),this.removeListeners=Gh(Ju(this.contextWindow,"pointermove",this.handlePointerMove),Ju(this.contextWindow,"pointerup",this.handlePointerUp),Ju(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(MS.has(s.overflowX)||MS.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),Ht.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),to(this.updatePoint)}}function Wy(t,e){return e?{point:e(t.point)}:t}function PS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qy({point:t},e){return{point:t,delta:PS(t,cI(e)),offset:PS(t,Kz(e)),velocity:Yz(e,.1)}}function Kz(t){return t[0]}function cI(t){return t[t.length-1]}function Yz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=cI(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>$r(e)));)n--;if(!s)return{x:0,y:0};const l=xi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Xz(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Zt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Zt(n,t,s.max):Math.min(t,n)),t}function jS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Wz(t,{top:e,left:n,bottom:s,right:a}){return{x:jS(t.x,n,a),y:jS(t.y,e,s)}}function OS(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Qz(t,e){return{x:OS(t.x,e.x),y:OS(t.y,e.y)}}function Jz(t,e){let n=.5;const s=Ts(t),a=Ts(e);return a>s?n=mh(e.min,e.max-s,t.min):s>a&&(n=mh(t.min,t.max-a,e.min)),mr(0,1,n)}function Zz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const sv=.35;function eB(t=sv){return t===!1?t=0:t===!0&&(t=sv),{x:VS(t,"left","right"),y:VS(t,"top","bottom")}}function VS(t,e,n){return{min:LS(t,e),max:LS(t,n)}}function LS(t,e){return typeof t=="number"?t:t[e]||0}const tB=new WeakMap;class nB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n?(this.stopAnimation(),this.snapToCursor(Yh(b).point)):this.pauseAnimation()},c=(b,x)=>{this.stopAnimation();const{drag:A,dragPropagation:k,onDragStart:I}=this.getProps();if(A&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qU(A),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pi(O=>{let H=this.getAxisMotionValue(O).get()||0;if(cr.test(H)){const{projection:F}=this.visualElement;if(F&&F.layout){const re=F.layout.layoutBox[O];re&&(H=Ts(re)*(parseFloat(H)/100))}}this.originPoint[O]=H}),I&&Ht.postRender(()=>I(b,x)),W0(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},h=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x;const{dragPropagation:A,dragDirectionLock:k,onDirectionLock:I,onDrag:R}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:O}=x;if(k&&this.currentDirection===null){this.currentDirection=sB(O),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",x.point,O),this.updateAxis("y",x.point,O),this.visualElement.render(),R&&R(b,x)},d=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x,this.stop(b,x),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>pi(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new lI(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:oI(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Ht.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Rf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=Xz(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Bu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=Wz(s.layoutBox,e):this.constraints=!1,this.elastic=eB(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&pi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Zz(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Bu(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=a9(s,a.root,this.visualElement.getTransformPagePoint());let c=Qz(a.layout.layoutBox,l);if(n){const h=n(s9(c));this.hasMutatedConstraints=!!h,h&&(c=IN(h))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=pi(g=>{if(!Rf(g,n,this.currentDirection))return;let b=d&&d[g]||{};c&&(b={min:0,max:0});const x=a?200:1e6,A=a?40:1e7,k={type:"inertia",velocity:s?e[g]:0,bounceStiffness:x,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(g,k)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return W0(this.visualElement,e),s.start(Lb(e,s,0,n,this.visualElement,!1))}stopAnimation(){pi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){pi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){pi(n=>{const{drag:s}=this.getProps();if(!Rf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n],d=l.get()||0;l.set(e[n]-Zt(c,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Bu(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};pi(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();a[c]=Jz({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),pi(c=>{if(!Rf(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:m}=this.constraints[c];h.set(Zt(d,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;tB.set(this.visualElement,this);const e=this.visualElement.current,n=Ju(e,"pointerdown",d=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&!EN(d.target)&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();Bu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ht.read(s);const c=vh(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(pi(g=>{const b=this.getAxisMotionValue(g);b&&(this.originPoint[g]+=d[g].translate,b.set(b.get()+d[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=sv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Rf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function sB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class iB extends oo{constructor(e){super(e),this.removeGroupControls=_i,this.removeListeners=_i,this.controls=new nB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_i}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const US=t=>(e,n)=>{t&&Ht.postRender(()=>t(e,n))};class rB extends oo{constructor(){super(...arguments),this.removePointerDownListener=_i}onPointerDown(e){this.session=new lI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:oI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:US(e),onStart:US(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&Ht.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Ju(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Jy=!1;class aB extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Jy&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Wf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Jy=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Ht.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Fb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Jy=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function uI(t){const[e,n]=JN(),s=S.useContext(bb);return y.jsx(aB,{...t,layoutGroup:s,switchLayoutGroup:S.useContext(rI),isPresent:e,safeToRemove:n})}const oB={pan:{Feature:rB},drag:{Feature:iB,ProjectionNode:QN,MeasureLayout:uI}};function zS(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Ht.postRender(()=>l(e,Yh(e)))}class lB extends oo{mount(){const{current:e}=this.node;e&&(this.unmount=HU(e,(n,s)=>(zS(this.node,s,"Start"),a=>zS(this.node,a,"End"))))}unmount(){}}class cB extends oo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gh(vh(this.node.current,"focus",()=>this.onFocus()),vh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BS(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Ht.postRender(()=>l(e,Yh(e)))}class uB extends oo{mount(){const{current:e}=this.node;e&&(this.unmount=KU(e,(n,s)=>(BS(this.node,s,"Start"),(a,{success:l})=>BS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const iv=new WeakMap,Zy=new WeakMap,hB=t=>{const e=iv.get(t.target);e&&e(t)},dB=t=>{t.forEach(hB)};function fB({root:t,...e}){const n=t||document;Zy.has(n)||Zy.set(n,{});const s=Zy.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(dB,{root:t,...e})),s[a]}function mB(t,e,n){const s=fB(e);return iv.set(t,n),s.observe(t),()=>{iv.delete(t),s.unobserve(t)}}const pB={some:0,all:1};class gB extends oo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:pB[a]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:b}=this.node.getProps(),x=m?g:b;x&&x(d)};return mB(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(yB(e,n))&&this.startObserver()}unmount(){}}function yB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const vB={inView:{Feature:gB},tap:{Feature:uB},focus:{Feature:cB},hover:{Feature:lB}},bB={layout:{ProjectionNode:QN,MeasureLayout:uI}},xB={...Hz,...vB,...oB,...bB},qe=Uz(xB,zz);const wB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_B=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),FS=t=>{const e=_B(t);return e.charAt(0).toUpperCase()+e.slice(1)},hI=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),TB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var EB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const SB=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...h},d)=>S.createElement("svg",{ref:d,...EB,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:hI("lucide",a),...!l&&!TB(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,g])=>S.createElement(m,g)),...Array.isArray(l)?l:[l]]));const Qe=(t,e)=>{const n=S.forwardRef(({className:s,...a},l)=>S.createElement(SB,{ref:l,iconNode:e,className:hI(`lucide-${wB(FS(t))}`,`lucide-${t}`,s),...a}));return n.displayName=FS(t),n};const AB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],CB=Qe("arrow-left",AB);const RB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],NB=Qe("arrow-right",RB);const IB=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],bh=Qe("award",IB);const kB=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Im=Qe("book-open",kB);const DB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],km=Qe("calendar",DB);const MB=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],xh=Qe("camera",MB);const PB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bi=Qe("check",PB);const jB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],OB=Qe("chevron-down",jB);const VB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],dI=Qe("chevron-left",VB);const LB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fI=Qe("chevron-right",LB);const UB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zB=Qe("chevron-up",UB);const BB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qS=Qe("circle-alert",BB);const FB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qB=Qe("circle-check-big",FB);const HB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mI=Qe("circle-question-mark",HB);const GB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pI=Qe("clock",GB);const $B=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],KB=Qe("grid-3x3",$B);const YB=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Qb=Qe("layout-grid",YB);const XB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],WB=Qe("lock",XB);const QB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gI=Qe("log-out",QB);const JB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],rv=Qe("mail",JB);const ZB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],e8=Qe("menu",ZB);const t8=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Dm=Qe("palette",t8);const n8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Zu=Qe("pen",n8);const s8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],i8=Qe("pencil",s8);const r8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wh=Qe("plus",r8);const a8=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],o8=Qe("printer",a8);const l8=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],HS=Qe("rocket",l8);const c8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],u8=Qe("settings",c8);const h8=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Qf=Qe("share-2",h8);const d8=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],yI=Qe("sparkles",d8);const f8=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],m8=Qe("square-check-big",f8);const p8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],eh=Qe("trash-2",p8);const g8=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],GS=Qe("trophy",g8);const y8=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],vI=Qe("type",y8);const v8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],$S=Qe("user-plus",v8);const b8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_h=Qe("user",b8);const x8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],w8=Qe("users",x8);const _8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ur=Qe("x",_8);const T8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],th=Qe("zap",T8),bI=S.createContext(null),Jb=()=>{const t=S.useContext(bI);if(!t)throw new Error("useDialog must be used within a DialogProvider");return t},E8=({children:t})=>{const[e,n]=S.useState({isOpen:!1,type:"alert",options:{message:""},resolve:null}),[s,a]=S.useState(""),[l,c]=S.useState("editor"),h=S.useCallback((k,I)=>new Promise(R=>{a(I.inputDefaultValue||""),c("editor"),n({isOpen:!0,type:k,options:I,resolve:R})}),[]),d=S.useCallback(k=>{e.resolve&&e.resolve(k),n(I=>({...I,isOpen:!1,resolve:null}))},[e.resolve]),m=S.useCallback((k,I)=>h("alert",{message:k,title:"Notice",confirmText:"OK",type:"info",...I}),[h]),g=S.useCallback((k,I)=>h("confirm",{message:k,title:"Confirm",confirmText:"Yes",cancelText:"Cancel",type:"warning",...I}),[h]),b=S.useCallback((k,I)=>h("prompt",{message:k,title:"Input",confirmText:"OK",cancelText:"Cancel",inputPlaceholder:"",...I}),[h]),x=S.useCallback((k,I)=>h("share",{message:k,title:"Share Board",confirmText:"Send Invite",cancelText:"Cancel",showRoleSelector:!0,inputPlaceholder:"Enter email address",...I}),[h]),A=()=>{switch(e.options.type){case"success":return y.jsx(qB,{className:"w-8 h-8 text-green-400"});case"warning":return y.jsx(qS,{className:"w-8 h-8 text-amber-400"});case"error":return y.jsx(qS,{className:"w-8 h-8 text-red-400"});default:return y.jsx(mI,{className:"w-8 h-8 text-accent-primary"})}};return y.jsxs(bI.Provider,{value:{alert:m,confirm:g,prompt:b,sharePrompt:x},children:[t,y.jsx(Us,{children:e.isOpen&&y.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!1):d(null)},children:y.jsxs(qe.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:k=>k.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="share"?y.jsx(rv,{className:"w-6 h-6 text-accent-primary"}):A(),y.jsx("h3",{className:"text-lg font-bold text-white",children:e.options.title})]}),y.jsx("button",{onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!1):d(null)},className:"p-1 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:y.jsx(ur,{size:20})})]}),y.jsxs("div",{className:"p-6",children:[y.jsx("p",{className:"text-slate-300 mb-4 whitespace-pre-wrap",children:e.options.message}),(e.type==="prompt"||e.type==="share")&&y.jsx("input",{type:e.type==="share"?"email":"text",autoFocus:!0,value:s,onChange:k=>a(k.target.value),placeholder:e.options.inputPlaceholder,className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors mb-4",onKeyDown:k=>{k.key==="Enter"&&s.trim()&&(e.type==="share"?d({email:s.trim(),role:l}):d(s.trim()))}}),e.type==="share"&&e.options.showRoleSelector&&y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"text-sm font-medium text-slate-400 mb-2 block",children:"Access Level"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>c("viewer"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="viewer"?"bg-accent-primary/20 text-accent-primary border border-accent-primary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Viewer"}),y.jsx("button",{onClick:()=>c("editor"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Editor"})]}),y.jsx("p",{className:"text-xs text-slate-500 mt-2",children:l==="viewer"?"Can view the board but not make changes":"Can view and edit the board"})]})]}),y.jsxs("div",{className:"flex gap-3 p-4 pt-0",children:[e.type!=="alert"&&y.jsx("button",{onClick:()=>{e.type==="confirm"?d(!1):d(null)},className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:e.options.cancelText}),y.jsx("button",{onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!0):e.type==="share"?s.trim()&&d({email:s.trim(),role:l}):d(s.trim()||null)},disabled:(e.type==="prompt"||e.type==="share")&&!s.trim(),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.options.confirmText})]})]})})})]})};function xI(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=xI(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function S8(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=xI(t))&&(s&&(s+=" "),s+=e);return s}const A8=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},C8=(t,e)=>({classGroupId:t,validator:e}),wI=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Mm="-",KS=[],R8="arbitrary..",N8=t=>{const e=k8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return I8(c);const h=c.split(Mm),d=h[0]===""&&h.length>1?1:0;return _I(h,d,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const d=s[c],m=n[c];return d?m?A8(m,d):d:m||KS}return n[c]||KS}}},_I=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const m=_I(t,e+1,l);if(m)return m}const c=n.validators;if(c===null)return;const h=e===0?t.join(Mm):t.slice(e).join(Mm),d=c.length;for(let m=0;m<d;m++){const g=c[m];if(g.validator(h))return g.classGroupId}},I8=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?R8+s:void 0})(),k8=t=>{const{theme:e,classGroups:n}=t;return D8(n,e)},D8=(t,e)=>{const n=wI();for(const s in t){const a=t[s];Zb(a,n,s,e)}return n},Zb=(t,e,n,s)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];M8(c,e,n,s)}},M8=(t,e,n,s)=>{if(typeof t=="string"){P8(t,e,n);return}if(typeof t=="function"){j8(t,e,n,s);return}O8(t,e,n,s)},P8=(t,e,n)=>{const s=t===""?e:TI(e,t);s.classGroupId=n},j8=(t,e,n,s)=>{if(V8(t)){Zb(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(C8(n,t))},O8=(t,e,n,s)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[h,d]=a[c];Zb(d,TI(e,h),n,s)}},TI=(t,e)=>{let n=t;const s=e.split(Mm),a=s.length;for(let l=0;l<a;l++){const c=s[l];let h=n.nextPart.get(c);h||(h=wI(),n.nextPart.set(c,h)),n=h}return n},V8=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,L8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=s[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},av="!",YS=":",U8=[],XS=(t,e,n,s,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:a}),z8=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const l=[];let c=0,h=0,d=0,m;const g=a.length;for(let I=0;I<g;I++){const R=a[I];if(c===0&&h===0){if(R===YS){l.push(a.slice(d,I)),d=I+1;continue}if(R==="/"){m=I;continue}}R==="["?c++:R==="]"?c--:R==="("?h++:R===")"&&h--}const b=l.length===0?a:a.slice(d);let x=b,A=!1;b.endsWith(av)?(x=b.slice(0,-1),A=!0):b.startsWith(av)&&(x=b.slice(1),A=!0);const k=m&&m>d?m-d:void 0;return XS(l,A,x,k)};if(e){const a=e+YS,l=s;s=c=>c.startsWith(a)?l(c.slice(a.length)):XS(U8,!1,c,void 0,!0)}if(n){const a=s;s=l=>n({className:l,parseClassName:a})}return s},B8=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],h=c[0]==="[",d=e.has(c);h||d?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(c)):a.push(c)}return a.length>0&&(a.sort(),s.push(...a)),s}},F8=t=>({cache:L8(t.cacheSize),parseClassName:z8(t),sortModifiers:B8(t),...N8(t)}),q8=/\s+/,H8=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],h=t.trim().split(q8);let d="";for(let m=h.length-1;m>=0;m-=1){const g=h[m],{isExternal:b,modifiers:x,hasImportantModifier:A,baseClassName:k,maybePostfixModifierPosition:I}=n(g);if(b){d=g+(d.length>0?" "+d:d);continue}let R=!!I,O=s(R?k.substring(0,I):k);if(!O){if(!R){d=g+(d.length>0?" "+d:d);continue}if(O=s(k),!O){d=g+(d.length>0?" "+d:d);continue}R=!1}const H=x.length===0?"":x.length===1?x[0]:l(x).join(":"),F=A?H+av:H,re=F+O;if(c.indexOf(re)>-1)continue;c.push(re);const te=a(O,R);for(let ce=0;ce<te.length;++ce){const D=te[ce];c.push(F+D)}d=g+(d.length>0?" "+d:d)}return d},G8=(...t)=>{let e=0,n,s,a="";for(;e<t.length;)(n=t[e++])&&(s=EI(n))&&(a&&(a+=" "),a+=s);return a},EI=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=EI(t[s]))&&(n&&(n+=" "),n+=e);return n},$8=(t,...e)=>{let n,s,a,l;const c=d=>{const m=e.reduce((g,b)=>b(g),t());return n=F8(m),s=n.cache.get,a=n.cache.set,l=h,h(d)},h=d=>{const m=s(d);if(m)return m;const g=H8(d,n);return a(d,g),g};return l=c,(...d)=>l(G8(...d))},K8=[],Pn=t=>{const e=n=>n[t]||K8;return e.isThemeGetter=!0,e},SI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,AI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Y8=/^\d+\/\d+$/,X8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,W8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Q8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,J8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Z8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ql=t=>Y8.test(t),We=t=>!!t&&!Number.isNaN(Number(t)),ja=t=>!!t&&Number.isInteger(Number(t)),e0=t=>t.endsWith("%")&&We(t.slice(0,-1)),Or=t=>X8.test(t),eF=()=>!0,tF=t=>W8.test(t)&&!Q8.test(t),CI=()=>!1,nF=t=>J8.test(t),sF=t=>Z8.test(t),iF=t=>!Ne(t)&&!Ie(t),rF=t=>kc(t,II,CI),Ne=t=>SI.test(t),Vo=t=>kc(t,kI,tF),t0=t=>kc(t,uF,We),WS=t=>kc(t,RI,CI),aF=t=>kc(t,NI,sF),Nf=t=>kc(t,DI,nF),Ie=t=>AI.test(t),Du=t=>Dc(t,kI),oF=t=>Dc(t,hF),QS=t=>Dc(t,RI),lF=t=>Dc(t,II),cF=t=>Dc(t,NI),If=t=>Dc(t,DI,!0),kc=(t,e,n)=>{const s=SI.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Dc=(t,e,n=!1)=>{const s=AI.exec(t);return s?s[1]?e(s[1]):n:!1},RI=t=>t==="position"||t==="percentage",NI=t=>t==="image"||t==="url",II=t=>t==="length"||t==="size"||t==="bg-size",kI=t=>t==="length",uF=t=>t==="number",hF=t=>t==="family-name",DI=t=>t==="shadow",dF=()=>{const t=Pn("color"),e=Pn("font"),n=Pn("text"),s=Pn("font-weight"),a=Pn("tracking"),l=Pn("leading"),c=Pn("breakpoint"),h=Pn("container"),d=Pn("spacing"),m=Pn("radius"),g=Pn("shadow"),b=Pn("inset-shadow"),x=Pn("text-shadow"),A=Pn("drop-shadow"),k=Pn("blur"),I=Pn("perspective"),R=Pn("aspect"),O=Pn("ease"),H=Pn("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],te=()=>[...re(),Ie,Ne],ce=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],C=()=>[Ie,Ne,d],j=()=>[ql,"full","auto",...C()],z=()=>[ja,"none","subgrid",Ie,Ne],B=()=>["auto",{span:["full",ja,Ie,Ne]},ja,Ie,Ne],P=()=>[ja,"auto",Ie,Ne],V=()=>["auto","min","max","fr",Ie,Ne],be=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Te=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...C()],Y=()=>[ql,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],K=()=>[t,Ie,Ne],X=()=>[...re(),QS,WS,{position:[Ie,Ne]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],T=()=>["auto","cover","contain",lF,rF,{size:[Ie,Ne]}],U=()=>[e0,Du,Vo],W=()=>["","none","full",m,Ie,Ne],ie=()=>["",We,Du,Vo],ye=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[We,e0,QS,WS],we=()=>["","none",k,Ie,Ne],Ee=()=>["none",We,Ie,Ne],Ce=()=>["none",We,Ie,Ne],ze=()=>[We,Ie,Ne],Ve=()=>[ql,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Or],breakpoint:[Or],color:[eF],container:[Or],"drop-shadow":[Or],ease:["in","out","in-out"],font:[iF],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Or],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Or],shadow:[Or],spacing:["px",We],text:[Or],"text-shadow":[Or],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ql,Ne,Ie,R]}],container:["container"],columns:[{columns:[We,Ne,Ie,h]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:te()}],overflow:[{overflow:ce()}],"overflow-x":[{"overflow-x":ce()}],"overflow-y":[{"overflow-y":ce()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[ja,"auto",Ie,Ne]}],basis:[{basis:[ql,"full","auto",h,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[We,ql,"auto","initial","none",Ne]}],grow:[{grow:["",We,Ie,Ne]}],shrink:[{shrink:["",We,Ie,Ne]}],order:[{order:[ja,"first","last","none",Ie,Ne]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...be(),"normal"]}],"justify-items":[{"justify-items":[...Te(),"normal"]}],"justify-self":[{"justify-self":["auto",...Te()]}],"align-content":[{content:["normal",...be()]}],"align-items":[{items:[...Te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Te(),{baseline:["","last"]}]}],"place-content":[{"place-content":be()}],"place-items":[{"place-items":[...Te(),"baseline"]}],"place-self":[{"place-self":["auto",...Te()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[h,"screen",...Y()]}],"min-w":[{"min-w":[h,"screen","none",...Y()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",n,Du,Vo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ie,t0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",e0,Ne]}],"font-family":[{font:[oF,Ne,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ie,Ne]}],"line-clamp":[{"line-clamp":[We,"none",Ie,t0]}],leading:[{leading:[l,...C()]}],"list-image":[{"list-image":["none",Ie,Ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:[We,"from-font","auto",Ie,Vo]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[We,"auto",Ie,Ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ja,Ie,Ne],radial:["",Ie,Ne],conic:[ja,Ie,Ne]},cF,aF]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ye(),"hidden","none"]}],"divide-style":[{divide:[...ye(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...ye(),"none","hidden"]}],"outline-offset":[{"outline-offset":[We,Ie,Ne]}],"outline-w":[{outline:["",We,Du,Vo]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",g,If,Nf]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",b,If,Nf]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[We,Vo]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",x,If,Nf]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[We,Ie,Ne]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[We]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[Ie,Ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":re()}],"mask-image-conic-pos":[{"mask-conic":[We]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Ne]}],filter:[{filter:["","none",Ie,Ne]}],blur:[{blur:we()}],brightness:[{brightness:[We,Ie,Ne]}],contrast:[{contrast:[We,Ie,Ne]}],"drop-shadow":[{"drop-shadow":["","none",A,If,Nf]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",We,Ie,Ne]}],"hue-rotate":[{"hue-rotate":[We,Ie,Ne]}],invert:[{invert:["",We,Ie,Ne]}],saturate:[{saturate:[We,Ie,Ne]}],sepia:[{sepia:["",We,Ie,Ne]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Ne]}],"backdrop-blur":[{"backdrop-blur":we()}],"backdrop-brightness":[{"backdrop-brightness":[We,Ie,Ne]}],"backdrop-contrast":[{"backdrop-contrast":[We,Ie,Ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",We,Ie,Ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[We,Ie,Ne]}],"backdrop-invert":[{"backdrop-invert":["",We,Ie,Ne]}],"backdrop-opacity":[{"backdrop-opacity":[We,Ie,Ne]}],"backdrop-saturate":[{"backdrop-saturate":[We,Ie,Ne]}],"backdrop-sepia":[{"backdrop-sepia":["",We,Ie,Ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[We,"initial",Ie,Ne]}],ease:[{ease:["linear","initial",O,Ie,Ne]}],delay:[{delay:[We,Ie,Ne]}],animate:[{animate:["none",H,Ie,Ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[I,Ie,Ne]}],"perspective-origin":[{"perspective-origin":te()}],rotate:[{rotate:Ee()}],"rotate-x":[{"rotate-x":Ee()}],"rotate-y":[{"rotate-y":Ee()}],"rotate-z":[{"rotate-z":Ee()}],scale:[{scale:Ce()}],"scale-x":[{"scale-x":Ce()}],"scale-y":[{"scale-y":Ce()}],"scale-z":[{"scale-z":Ce()}],"scale-3d":["scale-3d"],skew:[{skew:ze()}],"skew-x":[{"skew-x":ze()}],"skew-y":[{"skew-y":ze()}],transform:[{transform:[Ie,Ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:te()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Ne]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[We,Du,Vo,t0]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},fF=$8(dF);function $(...t){return fF(S8(t))}const mF=()=>{const{isSettingsOpen:t,closeSettings:e,settings:n,updateSettings:s}=fs(),a=At.useRef(n);if(At.useEffect(()=>{t&&(a.current=n)},[t]),!t)return null;const l=()=>{s(a.current,!1),e()},c=()=>{s(n,!0),e()},h=[{id:"light",name:"Light",color:"bg-white from-slate-100 to-sky-50",animated:!0},{id:"dawn",name:"Dawn",color:"bg-[#0f111a] from-violet-500/20 to-pink-500/20",animated:!1},{id:"cosmic",name:"Cosmic",color:"bg-[#2e1065] from-violet-600/20 to-pink-600/20",animated:!0},{id:"lavender",name:"Lavender",color:"bg-[#3b0764] from-fuchsia-500/20 to-purple-500/20",animated:!0},{id:"midnight",name:"Midnight",color:"bg-[#020617] from-sky-500/20 to-indigo-500/20",animated:!1},{id:"forest",name:"Forest",color:"bg-[#052e16] from-green-500/20 to-emerald-500/20",animated:!1},{id:"ocean",name:"Ocean",color:"bg-[#083344] from-cyan-500/20 to-teal-500/20",animated:!1},{id:"sunset",name:"Sunset",color:"bg-[#2a0a0a] from-orange-500/20 to-rose-500/20",animated:!1}],d=[{id:"outfit",name:"Modern",family:"font-[Outfit]"},{id:"inter",name:"Clean",family:"font-[Inter]"},{id:"playfair",name:"Elegant",family:'font-["Playfair_Display"]'},{id:"mono",name:"Tech",family:'font-["Fira_Code"]'}],m=n.theme==="light";return y.jsx(Us,{children:t&&y.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 font-sans",children:[y.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:l}),y.jsxs(qe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:$("relative w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col border",m?"bg-white border-slate-200":"bg-slate-900 border-white/10"),children:[y.jsxs("div",{className:$("p-6 border-b flex justify-between items-center sticky top-0 z-10",m?"bg-white border-slate-100":"bg-slate-900 border-white/10"),children:[y.jsxs("h2",{className:$("text-xl font-bold flex items-center gap-2",m?"text-slate-800":"text-white"),children:[y.jsx(Dm,{className:"w-5 h-5 text-accent-primary"}),"Customization"]}),y.jsx("button",{onClick:l,className:$("transition-colors",m?"text-slate-400 hover:text-slate-600":"text-slate-400 hover:text-white"),children:y.jsx(ur,{className:"w-6 h-6"})})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[y.jsxs("section",{children:[y.jsxs("h3",{className:$("text-sm font-semibold uppercase tracking-wider mb-4 flex items-center gap-2",m?"text-slate-500":"text-slate-400"),children:[y.jsx(Dm,{className:"w-4 h-4"})," Theme"]}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:h.map(g=>y.jsxs("button",{onClick:()=>s({theme:g.id},!1),className:$("relative group overflow-hidden rounded-xl border transition-all duration-300",n.theme===g.id?"border-accent-primary ring-2 ring-accent-primary/50":m?"border-slate-200 hover:border-slate-300":"border-white/10 hover:border-white/30"),children:[y.jsx("div",{className:$("h-16 w-full bg-gradient-to-br relative",g.color),children:g.animated&&y.jsxs("div",{className:"absolute top-1.5 left-1.5 px-1.5 py-0.5 bg-black/40 backdrop-blur-sm rounded text-[10px] font-bold text-white/90 flex items-center gap-1",children:[y.jsx(th,{className:"w-2.5 h-2.5"}),y.jsx("span",{children:"Animated"})]})}),y.jsx("div",{className:$("p-3",m?"bg-slate-50":"bg-slate-800/50"),children:y.jsx("span",{className:$("text-sm font-medium",n.theme===g.id?m?"text-slate-900":"text-white":"text-slate-400"),children:g.name})}),n.theme===g.id&&y.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-accent-primary rounded-full flex items-center justify-center shadow-lg",children:y.jsx(bi,{className:"w-3 h-3 text-white"})})]},g.id))})]}),y.jsxs("section",{children:[y.jsxs("h3",{className:$("text-sm font-semibold uppercase tracking-wider mb-4 flex items-center gap-2",m?"text-slate-500":"text-slate-400"),children:[y.jsx(vI,{className:"w-4 h-4"})," Typography"]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:d.map(g=>y.jsxs("button",{onClick:()=>s({font:g.id},!1),className:$("flex items-center justify-between p-4 rounded-xl border transition-all duration-200 text-left",n.font===g.id?"bg-accent-primary/10 border-accent-primary text-accent-primary":m?"bg-white border-slate-200 hover:bg-slate-50 text-slate-600":"bg-white/5 border-white/5 hover:bg-white/10 text-slate-300"),children:[y.jsxs("div",{children:[y.jsx("span",{className:$("text-lg block mb-0.5",g.family),children:"Aa"}),y.jsx("span",{className:"text-xs opacity-70",children:g.name})]}),n.font===g.id&&y.jsx(bi,{className:"w-5 h-5"})]},g.id))}),y.jsx("div",{className:$("mt-4 p-4 rounded-xl border",m?"bg-slate-50 border-slate-200":"bg-black/20 border-white/5"),children:y.jsx("p",{className:$("text-sm leading-relaxed",m?"text-slate-600":"text-slate-300",n.font==="outfit"&&"font-[Outfit]",n.font==="inter"&&"font-[Inter]",n.font==="playfair"&&'font-["Playfair_Display"]',n.font==="mono"&&'font-["Fira_Code"]'),children:"The quick brown fox jumps over the lazy dog. 1234567890."})})]}),y.jsxs("section",{children:[y.jsxs("h3",{className:$("text-sm font-semibold uppercase tracking-wider mb-4 flex items-center gap-2",m?"text-slate-500":"text-slate-400"),children:[y.jsx(th,{className:"w-4 h-4"})," Experience"]}),y.jsxs("div",{className:$("flex items-center justify-between p-4 rounded-xl border mb-3",m?"bg-white border-slate-200":"bg-white/5 border-white/10"),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:$("p-2 rounded-lg",n.enableAnimation?"bg-accent-primary/20 text-accent-primary":m?"bg-slate-100 text-slate-400":"bg-slate-700 text-slate-400"),children:y.jsx(th,{size:20})}),y.jsxs("div",{children:[y.jsx("div",{className:$("font-medium",m?"text-slate-800":"text-white"),children:"Live Backgrounds"}),y.jsx("div",{className:$("text-xs",m?"text-slate-500":"text-slate-400"),children:"Dynamic particles and ambient effects"})]})]}),y.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:n.enableAnimation,onChange:g=>s({enableAnimation:g.target.checked},!1),className:"sr-only peer"}),y.jsx("div",{className:$("w-11 h-6 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-accent-primary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary",m?"bg-slate-200":"bg-slate-700")})]})]}),y.jsxs("div",{className:$("flex items-center justify-between p-4 rounded-xl border",m?"bg-white border-slate-200":"bg-white/5 border-white/10"),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:$("p-2 rounded-lg",n.enableSound?"bg-emerald-500/20 text-emerald-400":m?"bg-slate-100 text-slate-400":"bg-slate-700 text-slate-400"),children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),y.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),y.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]})}),y.jsxs("div",{children:[y.jsx("div",{className:$("font-medium",m?"text-slate-800":"text-white"),children:"Sound Effects"}),y.jsx("div",{className:$("text-xs",m?"text-slate-500":"text-slate-400"),children:"Satisfying clicks and celebrations"})]})]}),y.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:g=>s({enableSound:g.target.checked},!1),className:"sr-only peer"}),y.jsx("div",{className:$("w-11 h-6 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500",m?"bg-slate-200":"bg-slate-700")})]})]})]})]}),y.jsxs("div",{className:$("p-6 border-t flex justify-end gap-3 sticky bottom-0 z-10 shrink-0",m?"bg-white border-slate-100":"bg-slate-900 border-white/10"),children:[y.jsx("button",{onClick:l,className:$("px-4 py-2 rounded-xl font-semibold transition-colors",m?"bg-slate-100 text-slate-600 hover:bg-slate-200":"bg-white/5 text-slate-300 hover:bg-white/10"),children:"Cancel"}),y.jsx("button",{onClick:c,className:"px-6 py-2 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all active:scale-95",children:"Save Changes"})]})]})]})})},kf={theme:"dawn",font:"outfit",enableAnimation:!0,enableSound:!0},MI=S.createContext(null),fs=()=>{const t=S.useContext(MI);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},pF=({children:t})=>{const{user:e}=Hi(),[n,s]=S.useState(()=>{try{const m=localStorage.getItem("bingo_settings");return m?{...kf,...JSON.parse(m)}:kf}catch(m){return console.error("Error parsing local settings",m),kf}}),[a,l]=S.useState(!1);S.useEffect(()=>{(async()=>{if(e)try{const g=bn(dt,"users",e.uid),b=await $a(g);if(b.exists()&&b.data().settings){const x={...kf,...b.data().settings};s(x),localStorage.setItem("bingo_settings",JSON.stringify(x))}}catch(g){console.error("Error loading settings:",g)}})()},[e]),S.useEffect(()=>{const m=document.body;m.classList.remove("theme-dawn","theme-midnight","theme-forest","theme-ocean","theme-sunset","theme-cosmic","theme-lavender","theme-light"),m.classList.add(`theme-${n.theme}`),m.classList.remove("font-inter","font-playfair","font-mono","font-comic"),n.font!=="outfit"&&m.classList.add(`font-${n.font}`),n.enableAnimation?m.classList.remove("reduce-motion"):m.classList.add("reduce-motion")},[n]);const c=async(m,g=!0)=>{const b={...n,...m};s(b);try{localStorage.setItem("bingo_settings",JSON.stringify(b))}catch(x){console.error("Failed to save settings locally",x)}if(e&&g)try{await Xo(bn(dt,"users",e.uid),{settings:b},{merge:!0})}catch(x){console.error("Error saving settings to DB:",x)}},h=()=>l(!0),d=()=>l(!1);return y.jsxs(MI.Provider,{value:{settings:n,updateSettings:c,isSettingsOpen:a,openSettings:h,closeSettings:d},children:[t,y.jsx(mF,{})]})},gF=()=>{const{signIn:t,error:e}=Hi(),{settings:n}=fs(),s=n.theme==="light";return y.jsxs("div",{className:$("relative flex flex-col items-center justify-center min-h-screen p-4 text-center overflow-hidden font-sans",s?"text-slate-800":"text-slate-100"),children:[y.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none",children:y.jsx("div",{className:$("absolute inset-0 bg-gradient-to-t via-transparent to-transparent",s?"from-white/30":"from-black/30")})}),y.jsxs("div",{className:"relative z-10 w-full max-w-[400px] animate-fade-in-up",children:[y.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[y.jsxs("div",{className:$("relative w-20 h-20 mb-4 rounded-2xl flex items-center justify-center shadow-xl backdrop-blur-sm border",s?"bg-gradient-to-br from-blue-500/10 to-purple-500/10 border-slate-200 shadow-blue-500/5":"bg-gradient-to-br from-indigo-500/20 to-purple-500/20 border-white/10 shadow-indigo-500/10"),children:[y.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-12 h-12 object-contain drop-shadow-lg"}),y.jsx("div",{className:"absolute -top-2 -right-2",children:y.jsx(yI,{className:"w-6 h-6 text-accent-gold animate-bounce-gentle"})})]}),y.jsx("h1",{className:$("text-3xl font-bold tracking-tight mb-2",s?"text-slate-900":"text-white"),children:"SunSar Bingo"}),y.jsx("p",{className:$("text-sm font-medium",s?"text-slate-500":"text-slate-400"),children:"The social way to achieve your 2026 goals."})]}),y.jsx("div",{className:$("backdrop-blur-md border rounded-2xl p-6 sm:p-8 shadow-2xl",s?"bg-white/80 border-slate-200 shadow-slate-200/50":"bg-slate-900/50 border-white/10 shadow-black/50"),children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"text-left space-y-2",children:[y.jsx("h2",{className:$("text-xl font-semibold",s?"text-slate-900":"text-white"),children:"Welcome back"}),y.jsx("p",{className:$("text-sm",s?"text-slate-500":"text-slate-400"),children:"Sign in to continue to your bingo boards."})]}),e&&y.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 px-4 py-3 rounded-xl text-sm flex items-start text-left",children:[y.jsx("span",{className:"mr-2",children:""}),e]}),y.jsxs("button",{onClick:t,className:$("group relative w-full flex items-center justify-center gap-3 px-4 py-3 font-bold rounded-xl transition-all duration-200 shadow-lg hover:tracking-wide active:scale-[0.98]",s?"bg-slate-900 text-white hover:bg-slate-800 shadow-slate-300":"bg-white text-slate-900 hover:bg-slate-200 shadow-white/5"),children:[y.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"G",className:"w-5 h-5"}),y.jsx("span",{children:"Continue with Google"}),y.jsx(NB,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),y.jsxs("div",{className:"relative my-6",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("span",{className:$("w-full border-t",s?"border-slate-200":"border-white/10")})}),y.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:y.jsx("span",{className:$("px-2",s?"bg-white/0 text-slate-400":"bg-transparent text-slate-500"),children:"New to SunSar?"})})]}),y.jsx(bv,{to:"/help",className:$("block w-full py-3 px-4 rounded-xl border font-medium transition-colors text-sm",s?"border-slate-200 text-slate-600 hover:bg-slate-50 hover:text-slate-900":"border-white/10 text-slate-300 hover:bg-white/5 hover:text-white"),children:"Check out how it works"})]})}),y.jsx("div",{className:"mt-8 text-center",children:y.jsxs("p",{className:"text-xs text-slate-500",children:[" 2026 SunSar Bingo  ",y.jsx("a",{href:"#",className:"hover:text-slate-400 underline decoration-slate-700",children:"Privacy"}),"  ",y.jsx("a",{href:"#",className:"hover:text-slate-400 underline decoration-slate-700",children:"Terms"})]})})]})]})};var ex={};(function t(e,n,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",h=(function(){if(!e.OffscreenCanvas)return!1;try{var L=new OffscreenCanvas(1,1),T=L.getContext("2d");T.fillRect(0,0,1,1);var U=L.transferToImageBitmap();T.createPattern(U,"no-repeat")}catch{return!1}return!0})();function d(){}function m(L){var T=n.exports.Promise,U=T!==void 0?T:e.Promise;return typeof U=="function"?new U(L):(L(d,d),null)}var g=(function(L,T){return{transform:function(U){if(L)return U;if(T.has(U))return T.get(U);var W=new OffscreenCanvas(U.width,U.height),ie=W.getContext("2d");return ie.drawImage(U,0,0),T.set(U,W),W},clear:function(){T.clear()}}})(h,new Map),b=(function(){var L=Math.floor(16.666666666666668),T,U,W={},ie=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(ye){var ge=Math.random();return W[ge]=requestAnimationFrame(function me(we){ie===we||ie+L-1<we?(ie=we,delete W[ge],ye()):W[ge]=requestAnimationFrame(me)}),ge},U=function(ye){W[ye]&&cancelAnimationFrame(W[ye])}):(T=function(ye){return setTimeout(ye,L)},U=function(ye){return clearTimeout(ye)}),{frame:T,cancel:U}})(),x=(function(){var L,T,U={};function W(ie){function ye(ge,me){ie.postMessage({options:ge||{},callback:me})}ie.init=function(me){var we=me.transferControlToOffscreen();ie.postMessage({canvas:we},[we])},ie.fire=function(me,we,Ee){if(T)return ye(me,null),T;var Ce=Math.random().toString(36).slice(2);return T=m(function(ze){function Ve(ht){ht.data.callback===Ce&&(delete U[Ce],ie.removeEventListener("message",Ve),T=null,g.clear(),Ee(),ze())}ie.addEventListener("message",Ve),ye(me,Ce),U[Ce]=Ve.bind(null,{data:{callback:Ce}})}),T},ie.reset=function(){ie.postMessage({reset:!0});for(var me in U)U[me](),delete U[me]}}return function(){if(L)return L;if(!s&&l){var ie=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{L=new Worker(URL.createObjectURL(new Blob([ie])))}catch(ye){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ye),null}W(L)}return L}})(),A={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function k(L,T){return T?T(L):L}function I(L){return L!=null}function R(L,T,U){return k(L&&I(L[T])?L[T]:A[T],U)}function O(L){return L<0?0:Math.floor(L)}function H(L,T){return Math.floor(Math.random()*(T-L))+L}function F(L){return parseInt(L,16)}function re(L){return L.map(te)}function te(L){var T=String(L).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:F(T.substring(0,2)),g:F(T.substring(2,4)),b:F(T.substring(4,6))}}function ce(L){var T=R(L,"origin",Object);return T.x=R(T,"x",Number),T.y=R(T,"y",Number),T}function D(L){L.width=document.documentElement.clientWidth,L.height=document.documentElement.clientHeight}function C(L){var T=L.getBoundingClientRect();L.width=T.width,L.height=T.height}function j(L){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=L,T}function z(L,T,U,W,ie,ye,ge,me,we){L.save(),L.translate(T,U),L.rotate(ye),L.scale(W,ie),L.arc(0,0,1,ge,me,we),L.restore()}function B(L){var T=L.angle*(Math.PI/180),U=L.spread*(Math.PI/180);return{x:L.x,y:L.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:L.startVelocity*.5+Math.random()*L.startVelocity,angle2D:-T+(.5*U-Math.random()*U),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:L.color,shape:L.shape,tick:0,totalTicks:L.ticks,decay:L.decay,drift:L.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:L.gravity*3,ovalScalar:.6,scalar:L.scalar,flat:L.flat}}function P(L,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var U=T.tick++/T.totalTicks,W=T.x+T.random*T.tiltCos,ie=T.y+T.random*T.tiltSin,ye=T.wobbleX+T.random*T.tiltCos,ge=T.wobbleY+T.random*T.tiltSin;if(L.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-U)+")",L.beginPath(),c&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))L.fill(Y(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(ye-W)*.1,Math.abs(ge-ie)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var me=Math.PI/10*T.wobble,we=Math.abs(ye-W)*.1,Ee=Math.abs(ge-ie)*.1,Ce=T.shape.bitmap.width*T.scalar,ze=T.shape.bitmap.height*T.scalar,Ve=new DOMMatrix([Math.cos(me)*we,Math.sin(me)*we,-Math.sin(me)*Ee,Math.cos(me)*Ee,T.x,T.y]);Ve.multiplySelf(new DOMMatrix(T.shape.matrix));var ht=L.createPattern(g.transform(T.shape.bitmap),"no-repeat");ht.setTransform(Ve),L.globalAlpha=1-U,L.fillStyle=ht,L.fillRect(T.x-Ce/2,T.y-ze/2,Ce,ze),L.globalAlpha=1}else if(T.shape==="circle")L.ellipse?L.ellipse(T.x,T.y,Math.abs(ye-W)*T.ovalScalar,Math.abs(ge-ie)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):z(L,T.x,T.y,Math.abs(ye-W)*T.ovalScalar,Math.abs(ge-ie)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var De=Math.PI/2*3,pt=4*T.scalar,_t=8*T.scalar,nn=T.x,Qt=T.y,Je=5,Ke=Math.PI/Je;Je--;)nn=T.x+Math.cos(De)*_t,Qt=T.y+Math.sin(De)*_t,L.lineTo(nn,Qt),De+=Ke,nn=T.x+Math.cos(De)*pt,Qt=T.y+Math.sin(De)*pt,L.lineTo(nn,Qt),De+=Ke;else L.moveTo(Math.floor(T.x),Math.floor(T.y)),L.lineTo(Math.floor(T.wobbleX),Math.floor(ie)),L.lineTo(Math.floor(ye),Math.floor(ge)),L.lineTo(Math.floor(W),Math.floor(T.wobbleY));return L.closePath(),L.fill(),T.tick<T.totalTicks}function V(L,T,U,W,ie){var ye=T.slice(),ge=L.getContext("2d"),me,we,Ee=m(function(Ce){function ze(){me=we=null,ge.clearRect(0,0,W.width,W.height),g.clear(),ie(),Ce()}function Ve(){s&&!(W.width===a.width&&W.height===a.height)&&(W.width=L.width=a.width,W.height=L.height=a.height),!W.width&&!W.height&&(U(L),W.width=L.width,W.height=L.height),ge.clearRect(0,0,W.width,W.height),ye=ye.filter(function(ht){return P(ge,ht)}),ye.length?me=b.frame(Ve):ze()}me=b.frame(Ve),we=ze});return{addFettis:function(Ce){return ye=ye.concat(Ce),Ee},canvas:L,promise:Ee,reset:function(){me&&b.cancel(me),we&&we()}}}function be(L,T){var U=!L,W=!!R(T||{},"resize"),ie=!1,ye=R(T,"disableForReducedMotion",Boolean),ge=l&&!!R(T||{},"useWorker"),me=ge?x():null,we=U?D:C,Ee=L&&me?!!L.__confetti_initialized:!1,Ce=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ze;function Ve(De,pt,_t){for(var nn=R(De,"particleCount",O),Qt=R(De,"angle",Number),Je=R(De,"spread",Number),Ke=R(De,"startVelocity",Number),Ln=R(De,"decay",Number),zs=R(De,"gravity",Number),As=R(De,"drift",Number),Gt=R(De,"colors",re),ms=R(De,"ticks",Number),Cs=R(De,"shapes"),jt=R(De,"scalar"),Jt=!!R(De,"flat"),ps=ce(De),Bs=nn,dn=[],Fs=L.width*ps.x,$t=L.height*ps.y;Bs--;)dn.push(B({x:Fs,y:$t,angle:Qt,spread:Je,startVelocity:Ke,color:Gt[Bs%Gt.length],shape:Cs[H(0,Cs.length)],ticks:ms,decay:Ln,gravity:zs,drift:As,scalar:jt,flat:Jt}));return ze?ze.addFettis(dn):(ze=V(L,dn,we,pt,_t),ze.promise)}function ht(De){var pt=ye||R(De,"disableForReducedMotion",Boolean),_t=R(De,"zIndex",Number);if(pt&&Ce)return m(function(Ke){Ke()});U&&ze?L=ze.canvas:U&&!L&&(L=j(_t),document.body.appendChild(L)),W&&!Ee&&we(L);var nn={width:L.width,height:L.height};me&&!Ee&&me.init(L),Ee=!0,me&&(L.__confetti_initialized=!0);function Qt(){if(me){var Ke={getBoundingClientRect:function(){if(!U)return L.getBoundingClientRect()}};we(Ke),me.postMessage({resize:{width:Ke.width,height:Ke.height}});return}nn.width=nn.height=null}function Je(){ze=null,W&&(ie=!1,e.removeEventListener("resize",Qt)),U&&L&&(document.body.contains(L)&&document.body.removeChild(L),L=null,Ee=!1)}return W&&!ie&&(ie=!0,e.addEventListener("resize",Qt,!1)),me?me.fire(De,nn,Je):Ve(De,nn,Je)}return ht.reset=function(){me&&me.reset(),ze&&ze.reset()},ht}var Te;function J(){return Te||(Te=be(null,{useWorker:!0,resize:!0})),Te}function Y(L,T,U,W,ie,ye,ge){var me=new Path2D(L),we=new Path2D;we.addPath(me,new DOMMatrix(T));var Ee=new Path2D;return Ee.addPath(we,new DOMMatrix([Math.cos(ge)*ie,Math.sin(ge)*ie,-Math.sin(ge)*ye,Math.cos(ge)*ye,U,W])),Ee}function K(L){if(!c)throw new Error("path confetti are not supported in this browser");var T,U;typeof L=="string"?T=L:(T=L.path,U=L.matrix);var W=new Path2D(T),ie=document.createElement("canvas"),ye=ie.getContext("2d");if(!U){for(var ge=1e3,me=ge,we=ge,Ee=0,Ce=0,ze,Ve,ht=0;ht<ge;ht+=2)for(var De=0;De<ge;De+=2)ye.isPointInPath(W,ht,De,"nonzero")&&(me=Math.min(me,ht),we=Math.min(we,De),Ee=Math.max(Ee,ht),Ce=Math.max(Ce,De));ze=Ee-me,Ve=Ce-we;var pt=10,_t=Math.min(pt/ze,pt/Ve);U=[_t,0,0,_t,-Math.round(ze/2+me)*_t,-Math.round(Ve/2+we)*_t]}return{type:"path",path:T,matrix:U}}function X(L){var T,U=1,W="#000000",ie='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof L=="string"?T=L:(T=L.text,U="scalar"in L?L.scalar:U,ie="fontFamily"in L?L.fontFamily:ie,W="color"in L?L.color:W);var ye=10*U,ge=""+ye+"px "+ie,me=new OffscreenCanvas(ye,ye),we=me.getContext("2d");we.font=ge;var Ee=we.measureText(T),Ce=Math.ceil(Ee.actualBoundingBoxRight+Ee.actualBoundingBoxLeft),ze=Math.ceil(Ee.actualBoundingBoxAscent+Ee.actualBoundingBoxDescent),Ve=2,ht=Ee.actualBoundingBoxLeft+Ve,De=Ee.actualBoundingBoxAscent+Ve;Ce+=Ve+Ve,ze+=Ve+Ve,me=new OffscreenCanvas(Ce,ze),we=me.getContext("2d"),we.font=ge,we.fillStyle=W,we.fillText(T,ht,De);var pt=1/U;return{type:"bitmap",bitmap:me.transferToImageBitmap(),matrix:[pt,0,0,pt,-Ce*pt/2,-ze*pt/2]}}n.exports=function(){return J().apply(this,arguments)},n.exports.reset=function(){J().reset()},n.exports.create=be,n.exports.shapeFromPath=K,n.exports.shapeFromText=X})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),ex,!1);const ov=ex.exports;ex.exports.create;const Mu=(t=1)=>{const e=200*t,n={origin:{y:.7}};function s(a,l){ov(Object.assign({},n,l,{particleCount:Math.floor(e*a)}))}s(.25,{spread:26,startVelocity:55}),s(.2,{spread:60}),s(.35,{spread:100,decay:.91,scalar:.8}),s(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),s(.1,{spread:120,startVelocity:45})},JS={cloudName:"dia6ped7h",uploadPreset:"bingo_proofs"},ZS=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",JS.uploadPreset),e.append("folder","bingo-proofs");const n=await fetch(`https://api.cloudinary.com/v1_1/${JS.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok){const a=await n.json();throw console.error("Cloudinary upload error:",a),new Error(a.error?.message||"Failed to upload image")}return(await n.json()).secure_url},yF="2026",n0=5,vF=["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"],bF=t=>{const{user:e}=Hi(),[n,s]=S.useState([]),[a,l]=S.useState({}),[c,h]=S.useState(!0),[d,m]=S.useState(!1),[g,b]=S.useState(!1),[x,A]=S.useState(""),[k,I]=S.useState(n0),R=S.useMemo(()=>t?bn(dt,"boards",t):bn(dt,"years",yF),[t]),O=(Y,K)=>{if(!Y.length)return;const X=[];for(let T=0;T<K;T++)X.push(Y.slice(T*K,(T+1)*K));let L=!1;for(let T=0;T<K;T++)if(X[T]&&X[T].every(U=>U.isCompleted||U.isFreeSpace)){L=!0;break}if(!L){for(let T=0;T<K;T++)if(X.map(U=>U[T]).every(U=>U&&(U.isCompleted||U.isFreeSpace))){L=!0;break}}!L&&X.map((T,U)=>T[U]).every(T=>T&&(T.isCompleted||T.isFreeSpace))&&(L=!0),!L&&X.map((T,U)=>T[K-1-U]).every(T=>T&&(T.isCompleted||T.isFreeSpace))&&(L=!0),L&&!d?(m(!0),Mu(2)):L||m(!1)},H=async(Y=n0)=>{const K=Y*Y,X=Y%2===1?Math.floor(K/2):-1,L=[...vF].sort(()=>.5-Math.random()),T=[];let U=0;for(let W=0;W<K;W++)W===X&&Y%2===1?T.push({id:W,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(T.push({id:W,text:L[U%L.length]||`Goal ${W+1}`,isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),U++);await Xo(R,{year:2026,gridSize:Y,items:T,isLocked:!1,createdAt:Fe.now(),lastUpdated:Fe.now(),...e?{ownerId:e.uid,members:{[e.uid]:"owner"}}:{}},{merge:!0})};S.useEffect(()=>{if(!e)return;h(!0);const Y=rc(R,K=>{if(K.exists()){const X=K.data(),L=X.gridSize||n0;I(L),s(X.items||[]),l(X.members||{}),b(X.isLocked||!1),A(X.title||""),O(X.items||[],L)}else H();h(!1)},K=>{console.error("Error fetching bingo board:",K),h(!1)});return()=>Y()},[R,e]);const F=async Y=>{if(!n.length)return;const K=n.map(U=>({...U})),X=K[Y];if(X.isFreeSpace)return;const L=X.targetCount||1,T=X.currentCount||0;if(X.isCompleted){const U=Math.max(0,T-1);X.currentCount=U,X.isCompleted=U>=L,U===0&&(X.completedBy=null,X.completedAt=null)}else{const U=Math.min(L,T+1);X.currentCount=U,X.isCompleted=U>=L,X.completedBy=e?.displayName||e?.email||"Unknown",X.completedAt=Fe.now(),Mu(.5)}s(K),O(K,k);try{await os(R,{items:K,lastUpdated:Fe.now()})}catch(U){console.error("Error updating bingo board:",U)}},re=async Y=>{if(!n.length)return;const K=n.map(W=>({...W})),X=K[Y];if(X.isFreeSpace)return;const L=X.currentCount||0;if(L<=0)return;const T=X.targetCount||1,U=L-1;X.currentCount=U,X.isCompleted=U>=T,U===0&&(X.completedBy=null,X.completedAt=null),s(K),O(K,k);try{await os(R,{items:K,lastUpdated:Fe.now()})}catch(W){console.error("Error decrementing progress:",W)}},te=async(Y,K)=>{if(!(!n.length||!e))try{const X=await ZS(K),L=n.map(ge=>({...ge})),T=L[Y];if(T.isFreeSpace)return;const U=T.targetCount||1,W=T.currentCount||0,ie=Math.min(U,W+1);T.currentCount=ie,T.isCompleted=ie>=U,T.completedBy=e?.displayName||e?.email||"Unknown",T.completedAt=Fe.now();const ye=T.proofPhotos||[];T.proofPhotos=[...ye,X],s(L),O(L,k),Mu(1),await os(R,{items:L,lastUpdated:Fe.now()})}catch(X){throw console.error("Error completing with photo:",X),X}},ce=async(Y,K)=>{if(!n.length||!e)return;const X=n[Y];!X.isCompleted&&(X.currentCount||0)<(X.targetCount||1);const L=X.proofPhotos||[];if(L.length>=5)throw new Error("Maximum 5 photos allowed per tile");try{const T=await ZS(K),U=n.map(W=>({...W}));return U[Y].proofPhotos=[...L,T],s(U),Mu(.3),await os(R,{items:U,lastUpdated:Fe.now()}),T}catch(T){throw console.error("Error adding photo:",T),T}},D=async(Y,K)=>{if(!n.length)return;const X=n.map(U=>({...U})),L=X[Y];if(!L.proofPhotos)return;const T=[...L.proofPhotos];T.splice(K,1),L.proofPhotos=T,s(X);try{await os(R,{items:X,lastUpdated:Fe.now()})}catch(U){console.error("Error deleting photo:",U)}},C=async(Y,K)=>{if(e)try{const X=n.map(W=>({...W})),L=X[Y],T={emoji:K,by:e.uid,byName:e.displayName||e.email?.split("@")[0]||"Friend",timestamp:Date.now()},U=L.reactions||[];L.reactions=[...U,T],s(X),await os(R,{items:X,lastUpdated:Fe.now()}),Mu(.2)}catch(X){console.error("Error adding reaction:",X)}},j=async(Y,K)=>{const X=n.map(L=>({...L}));K.text!==void 0&&(X[Y].text=K.text),K.style!==void 0&&(X[Y].style=K.style),s(X);try{await os(R,{items:X,lastUpdated:Fe.now()})}catch(L){console.error("Error updating item:",L)}},z=async(Y=!0)=>{const K=[...n];let X=K;if(Y){const T=k*k,U=k%2===1?Math.floor(T/2):-1;if(U!==-1){const W=K[U],ie=[...K.slice(0,U),...K.slice(U+1)];for(let ye=ie.length-1;ye>0;ye--){const ge=Math.floor(Math.random()*(ye+1));[ie[ye],ie[ge]]=[ie[ge],ie[ye]]}X=[...ie.slice(0,U),W,...ie.slice(U)]}else{X=[...K];for(let W=X.length-1;W>0;W--){const ie=Math.floor(Math.random()*(W+1));[X[W],X[ie]]=[X[ie],X[W]]}}s(X)}b(!0);const L={isLocked:!0,lastUpdated:Fe.now()};Y&&(L.items=X,L.itemsBackup=K),await Xo(R,L,{merge:!0})},B=async()=>{try{const Y=await $a(R);if(Y.exists()){const K=Y.data();K.itemsBackup?await os(R,{items:K.itemsBackup,itemsBackup:xm(),isLocked:!1,lastUpdated:Fe.now()}):await os(R,{isLocked:!1,lastUpdated:Fe.now()})}}catch(Y){console.error("Error unlocking board:",Y)}},P=S.useMemo(()=>{const Y=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],[0,6,12,18,24],[4,8,12,16,20]],K=new Set(n.map((X,L)=>X.isCompleted||X.isFreeSpace?L:-1));return Y.reduce((X,L)=>L.every(T=>K.has(T))?X+1:X,0)},[n]);return{items:n,members:a,loading:c,toggleItem:F,updateItem:j,hasWon:d,bingoCount:P,isLocked:g,unlockBoard:B,jumbleAndLock:z,saveBoard:async Y=>{s(Y);try{await os(R,{items:Y,lastUpdated:Fe.now()})}catch(K){console.error("Error saving board:",K)}},completeWithPhoto:te,addPhotoToTile:ce,deletePhoto:D,addReaction:C,decrementProgress:re,inviteUser:async(Y,K="editor")=>{try{const X=qa(vi(dt,"users"),ir("email","==",Y)),L=await Yo(X);if(L.empty)return{success:!1,type:"not_found",message:"User not found"};const T=L.docs[0],U=T.id;return await os(R,{[`members.${U}`]:K}),{success:!0,type:"success",message:`Added ${T.data().displayName||Y} as ${K}!`}}catch(X){return console.error("Error inviting user:",X),{success:!1,type:"error",message:"Failed to invite user"}}},removeMember:async Y=>{try{return await os(R,{[`members.${Y}`]:xm()}),{success:!0}}catch(K){return console.error("Error removing member:",K),{success:!1,error:K}}},title:x,gridSize:k,updateTitle:async Y=>{try{await os(R,{title:Y,lastUpdated:Fe.now()}),A(Y)}catch(K){console.error("Error updating title:",K)}}}},oc=[{id:"early_bird",category:"Speed",title:"Early Bird",description:"Complete your first tile in January.",icon:"",maxProgress:1},{id:"sprint_start",category:"Speed",title:"Sprint Start",description:"Complete 3 tiles within 24h of starting a board.",icon:"",maxProgress:1},{id:"on_fire",category:"Speed",title:"On Fire",description:"Maintain a 7-day streak.",icon:"",maxProgress:7},{id:"slow_steady",category:"Speed",title:"Slow & Steady",description:"Complete a tile >6 months after starting.",icon:"",maxProgress:1},{id:"weekend_warrior",category:"Speed",title:"Weekend Warrior",description:"Complete 5 tasks on Sat/Sun.",icon:"",maxProgress:5},{id:"shutterbug",category:"Creativity",title:"Shutterbug",description:"Upload your first 10 proof photos.",icon:"",maxProgress:10},{id:"curator",category:"Creativity",title:"Curator",description:"Have a board fully completed with photos.",icon:"",maxProgress:1},{id:"selfie_star",category:"Creativity",title:"Selfie Star",description:"Upload 50 photos total.",icon:"",maxProgress:50},{id:"memory_lane",category:"Creativity",title:"Memory Lane",description:'Open "Memories" view 5 times.',icon:"",maxProgress:5},{id:"social_butterfly",category:"Social",title:"Social Butterfly",description:"Add your first 5 friends.",icon:"",maxProgress:5},{id:"got_mail",category:"Social",title:"You've Got Mail",description:"Accept a friend request.",icon:"",maxProgress:1},{id:"town_crier",category:"Social",title:"Town Crier",description:"Share a board.",icon:"",maxProgress:1},{id:"better_together",category:"Social",title:"Better Together",description:"Join a shared board.",icon:"",maxProgress:1},{id:"peculiar_peeper",category:"Social",title:"Peculiar Peeper",description:"View a friend's profile 10 times.",icon:"",maxProgress:10,isHidden:!0}],PI=()=>{const{user:t}=Hi();return{unlockBadge:async a=>{if(t)try{const l=bn(dt,`users/${t.uid}/badges/progress`),c=await $a(l),d=(c.exists()?c.data():{})[a]?.progress||0,m=oc.find(g=>g.id===a);if(!m)return;d<m.maxProgress&&(await Xo(l,{[a]:{progress:m.maxProgress,unlockedAt:Ko()}},{merge:!0}),console.log(` Badge Unlocked: ${m.title}`))}catch(l){console.error("Error unlocking badge:",l)}},incrementBadge:async(a,l=1)=>{if(t)try{const c=bn(dt,`users/${t.uid}/badges/progress`),h=await $a(c),d=h.exists()?h.data():{},m=oc.find(b=>b.id===a);if(!m)return;const g=d[a]?.progress||0;if(g<m.maxProgress){const b=Math.min(g+l,m.maxProgress),x=b>=m.maxProgress;await Xo(c,{[a]:{progress:b,...x?{unlockedAt:Ko()}:{}}},{merge:!0}),x&&g<m.maxProgress&&console.log(` Badge Unlocked: ${m.title}`)}}catch(c){console.error("Error incrementing badge:",c)}},setBadgeProgress:async(a,l)=>{if(t)try{const c=bn(dt,`users/${t.uid}/badges/progress`),h=await $a(c),d=h.exists()?h.data():{},m=oc.find(b=>b.id===a);if(!m)return;const g=d[a]?.progress||0;if(l>g){const b=Math.min(l,m.maxProgress),x=b>=m.maxProgress;await Xo(c,{[a]:{progress:b,...x?{unlockedAt:Ko()}:{}}},{merge:!0}),x&&g<m.maxProgress&&console.log(` Badge Unlocked: ${m.title}`)}}catch(c){console.error("Error setting badge progress:",c)}}}};let nh=null;const Pu=()=>(nh||(nh=new(window.AudioContext||window.webkitAudioContext)),nh),xF=()=>{const{settings:t}=fs(),e=t.enableSound??!0,n=S.useRef(0);S.useEffect(()=>{const g=()=>{nh?.state==="suspended"&&nh.resume()};return document.addEventListener("click",g,{once:!0}),document.addEventListener("touchstart",g,{once:!0}),()=>{document.removeEventListener("click",g),document.removeEventListener("touchstart",g)}},[]);const s=S.useCallback(()=>{const g=Date.now();return g-n.current<50?!1:(n.current=g,!0)},[]),a=S.useCallback(()=>{if(!(!e||!s()))try{const g=Pu(),b=g.createOscillator(),x=g.createGain();b.connect(x),x.connect(g.destination),b.frequency.setValueAtTime(800,g.currentTime),b.frequency.exponentialRampToValueAtTime(400,g.currentTime+.1),b.type="sine",x.gain.setValueAtTime(.15,g.currentTime),x.gain.exponentialRampToValueAtTime(.001,g.currentTime+.1),b.start(g.currentTime),b.stop(g.currentTime+.1)}catch(g){console.warn("Audio playback failed:",g)}},[e,s]),l=S.useCallback(()=>{if(!(!e||!s()))try{const g=Pu();[523.25,659.25,783.99].forEach((x,A)=>{const k=g.createOscillator(),I=g.createGain();k.connect(I),I.connect(g.destination),k.frequency.setValueAtTime(x,g.currentTime),k.type="sine";const R=g.currentTime+A*.08;I.gain.setValueAtTime(0,R),I.gain.linearRampToValueAtTime(.12,R+.02),I.gain.exponentialRampToValueAtTime(.001,R+.3),k.start(R),k.stop(R+.3)})}catch(g){console.warn("Audio playback failed:",g)}},[e,s]),c=S.useCallback(()=>{if(e)try{const g=Pu();[{freq:523.25,time:0},{freq:659.25,time:.1},{freq:783.99,time:.2},{freq:1046.5,time:.35},{freq:1318.51,time:.5}].forEach(({freq:k,time:I})=>{const R=g.createOscillator(),O=g.createGain();R.connect(O),O.connect(g.destination),R.frequency.setValueAtTime(k,g.currentTime+I),R.type="sine",O.gain.setValueAtTime(0,g.currentTime+I),O.gain.linearRampToValueAtTime(.2,g.currentTime+I+.02),O.gain.exponentialRampToValueAtTime(.001,g.currentTime+I+.5),R.start(g.currentTime+I),R.stop(g.currentTime+I+.5)});const x=g.createOscillator(),A=g.createGain();x.connect(A),A.connect(g.destination),x.type="sine",x.frequency.setValueAtTime(2e3,g.currentTime+.6),x.frequency.exponentialRampToValueAtTime(4e3,g.currentTime+1.2),A.gain.setValueAtTime(0,g.currentTime+.6),A.gain.linearRampToValueAtTime(.05,g.currentTime+.7),A.gain.exponentialRampToValueAtTime(.001,g.currentTime+1.2),x.start(g.currentTime+.6),x.stop(g.currentTime+1.2)}catch(g){console.warn("Audio playback failed:",g)}},[e]),h=S.useRef(null),d=S.useCallback(()=>{if(!(!e||!s()))try{const g=Pu();if(!h.current){const k=g.sampleRate*.15,I=g.createBuffer(1,k,g.sampleRate),R=I.getChannelData(0);for(let O=0;O<k;O++)R[O]=(Math.random()*2-1)*(1-O/k);h.current=I}const b=g.createBufferSource(),x=g.createBiquadFilter(),A=g.createGain();b.buffer=h.current,x.type="lowpass",x.frequency.setValueAtTime(2e3,g.currentTime),x.frequency.exponentialRampToValueAtTime(500,g.currentTime+.15),b.connect(x),x.connect(A),A.connect(g.destination),A.gain.setValueAtTime(.08,g.currentTime),A.gain.exponentialRampToValueAtTime(.001,g.currentTime+.15),b.start(g.currentTime)}catch(g){console.warn("Audio playback failed:",g)}},[e,s]),m=S.useCallback(()=>{if(!(!e||!s()))try{const g=Pu(),b=g.createOscillator(),x=g.createGain();b.connect(x),x.connect(g.destination),b.frequency.setValueAtTime(200,g.currentTime),b.frequency.linearRampToValueAtTime(150,g.currentTime+.2),b.type="sine",x.gain.setValueAtTime(.15,g.currentTime),x.gain.exponentialRampToValueAtTime(.001,g.currentTime+.2),b.start(g.currentTime),b.stop(g.currentTime+.2)}catch(g){console.warn("Audio playback failed:",g)}},[e,s]);return{playClick:a,playSuccess:l,playBingo:c,playWhoosh:d,playError:m}},wF=({items:t,isOpen:e,onClose:n})=>{const[s,a]=S.useState(null),{settings:l}=fs(),c=l.theme==="light",h=S.useMemo(()=>t.map((g,b)=>({...g,originalIndex:b})).filter(g=>g.proofPhotos&&g.proofPhotos.length>0).sort((g,b)=>{const x=g.completedAt?.toDate?.()||new Date(0);return(b.completedAt?.toDate?.()||new Date(0)).getTime()-x.getTime()}),[t]),d=S.useMemo(()=>{const g={};return h.forEach(b=>{const A=(b.completedAt?.toDate?.()||new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"});g[A]||(g[A]=[]),g[A].push(b)}),g},[h]),m=g=>g?(g.toDate?g.toDate():new Date(g)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e?y.jsx(Us,{children:y.jsxs(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:$("fixed inset-0 z-[200] overflow-y-auto",c?"bg-slate-50":"bg-bg-dark"),children:[y.jsx("div",{className:$("sticky top-0 z-10 backdrop-blur-md border-b",c?"bg-white/95 border-slate-200":"bg-bg-dark/95 border-white/10"),children:y.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Im,{className:"w-6 h-6 text-accent-gold"}),y.jsx("h1",{className:$("text-xl font-bold",c?"text-slate-800":"text-white"),children:"2026 Memories"}),y.jsxs("span",{className:"text-sm text-slate-400",children:["(",h.length," moments)"]})]}),y.jsx("button",{onClick:n,className:$("p-2 transition-colors rounded-full",c?"text-slate-500 hover:text-slate-800 hover:bg-slate-100":"text-slate-400 hover:text-white hover:bg-white/10"),children:y.jsx(ur,{size:24})})]})}),y.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:h.length===0?y.jsxs("div",{className:"text-center py-20",children:[y.jsx(Im,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),y.jsx("h2",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No memories yet"}),y.jsx("p",{className:"text-slate-500",children:"Complete tasks and add photos to build your 2026 album!"})]}):Object.entries(d).map(([g,b])=>y.jsxs("div",{className:"mb-8",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[y.jsx(km,{className:"w-4 h-4 text-accent-primary"}),y.jsx("h2",{className:"text-lg font-semibold text-accent-primary",children:g}),y.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent-primary/30 to-transparent"})]}),y.jsx("div",{className:"space-y-6",children:b.map((x,A)=>y.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.1},className:$("rounded-2xl border overflow-hidden shadow-xl",c?"bg-white border-slate-200 shadow-slate-200/50":"bg-bg-card/80 border-white/10"),children:[y.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer",onClick:()=>a({memoryIdx:h.indexOf(x),photoIdx:0}),children:[y.jsx("img",{src:x.proofPhotos[0],alt:x.text,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),x.proofPhotos.length>1&&y.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-full text-white text-xs font-medium",children:["+",x.proofPhotos.length-1," more"]})]}),x.proofPhotos.length>1&&y.jsx("div",{className:"flex gap-1 p-2 bg-black/30 overflow-x-auto",children:x.proofPhotos.map((k,I)=>y.jsx("button",{onClick:()=>a({memoryIdx:h.indexOf(x),photoIdx:I}),className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 border-2 border-transparent hover:border-accent-primary transition-all",children:y.jsx("img",{src:k,alt:"",className:"w-full h-full object-cover"})},I))}),y.jsxs("div",{className:"p-4",children:[y.jsxs("h3",{className:$("text-lg font-semibold mb-2 flex items-center gap-2",c?"text-slate-800":"text-white"),children:[y.jsx("span",{className:"text-accent-gold",children:x.isCompleted?"":""}),x.text]}),y.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(_h,{size:14}),x.isCompleted?x.completedBy:"In Progress"]}),x.isCompleted&&y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(km,{size:14}),m(x.completedAt)]})]})]})]},x.id))})]},g))}),y.jsx(Us,{children:s!==null&&h[s.memoryIdx]&&y.jsxs(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>a(null),children:[y.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white",children:y.jsx(ur,{size:32})}),(()=>{const g=h[s.memoryIdx],b=g.proofPhotos||[],x=s.photoIdx;return y.jsxs("div",{className:"relative max-w-4xl w-full",onClick:A=>A.stopPropagation(),children:[y.jsx("img",{src:b[x],alt:"",className:"w-full max-h-[80vh] object-contain rounded-lg"}),b.length>1&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>a({...s,photoIdx:x>0?x-1:b.length-1}),className:"absolute left-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:y.jsx(dI,{size:28})}),y.jsx("button",{onClick:()=>a({...s,photoIdx:x<b.length-1?x+1:0}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:y.jsx(fI,{size:28})})]}),y.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[y.jsx("p",{className:"text-white font-semibold",children:g.text}),y.jsxs("p",{className:"text-slate-300 text-sm",children:[x+1," / ",b.length,"  ",m(g.completedAt)]})]})]})})()]})})]})}):null},_F=({items:t})=>{const[e,n]=S.useState([]),s=S.useRef({}),a=S.useRef(!1),{settings:l}=fs(),c=l.theme==="light";S.useEffect(()=>{if(!a.current){t.forEach(d=>{s.current[d.id]=d.reactions?.length||0}),a.current=!0;return}t.forEach(d=>{const m=d.reactions?.length||0,g=s.current[d.id]||0;m>g&&d.reactions.slice(g).forEach(x=>{h(x)}),s.current[d.id]=m})},[t]);const h=d=>{const m=Math.random().toString(36).substring(7),g=Math.random()*80+10;n(b=>[...b,{...d,id:m,x:g}]),setTimeout(()=>{n(b=>b.filter(x=>x.id!==m))},4e3)};return y.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] overflow-hidden",children:y.jsx(Us,{children:e.map(d=>y.jsxs(qe.div,{initial:{y:"110vh",opacity:0,x:`${d.x}vw`,scale:.5,rotate:0},animate:{y:"-10vh",opacity:[0,1,1,0],scale:[.5,1.5,1.2],rotate:[0,-10,10,0]},transition:{duration:4,ease:"easeOut"},className:"absolute top-0 flex flex-col items-center",children:[y.jsx("span",{className:"text-6xl drop-shadow-2xl filter",children:d.emoji}),d.byName&&y.jsx("div",{className:$("text-sm font-bold text-center mt-2 px-3 py-1 rounded-full backdrop-blur-md border shadow-lg",c?"bg-white/80 text-slate-800 border-slate-200":"bg-black/40 text-white/90 border-white/10"),children:d.byName})]},d.id))})})};function TF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>s=>{e.forEach(a=>a(s))},e)}const gp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Mc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function tx(t){return"nodeType"in t}function Ss(t){var e,n;return t?Mc(t)?t:tx(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function nx(t){const{Document:e}=Ss(t);return t instanceof e}function Xh(t){return Mc(t)?!1:t instanceof Ss(t).HTMLElement}function jI(t){return t instanceof Ss(t).SVGElement}function Pc(t){return t?Mc(t)?t.document:tx(t)?nx(t)?t:Xh(t)||jI(t)?t.ownerDocument:document:document:document}const Bi=gp?S.useLayoutEffect:S.useEffect;function yp(t){const e=S.useRef(t);return Bi(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e.current==null?void 0:e.current(...s)},[])}function EF(){const t=S.useRef(null),e=S.useCallback((s,a)=>{t.current=setInterval(s,a)},[]),n=S.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Th(t,e){e===void 0&&(e=[t]);const n=S.useRef(t);return Bi(()=>{n.current!==t&&(n.current=t)},e),n}function Wh(t,e){const n=S.useRef();return S.useMemo(()=>{const s=t(n.current);return n.current=s,s},[...e])}function Pm(t){const e=yp(t),n=S.useRef(null),s=S.useCallback(a=>{a!==n.current&&e?.(a,n.current),n.current=a},[]);return[n,s]}function jm(t){const e=S.useRef();return S.useEffect(()=>{e.current=t},[t]),e.current}let s0={};function Qh(t,e){return S.useMemo(()=>{if(e)return e;const n=s0[t]==null?0:s0[t]+1;return s0[t]=n,t+"-"+n},[t,e])}function OI(t){return function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return s.reduce((l,c)=>{const h=Object.entries(c);for(const[d,m]of h){const g=l[d];g!=null&&(l[d]=g+t*m)}return l},{...e})}}const lc=OI(1),Eh=OI(-1);function SF(t){return"clientX"in t&&"clientY"in t}function vp(t){if(!t)return!1;const{KeyboardEvent:e}=Ss(t.target);return e&&t instanceof e}function AF(t){if(!t)return!1;const{TouchEvent:e}=Ss(t.target);return e&&t instanceof e}function Om(t){if(AF(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return SF(t)?{x:t.clientX,y:t.clientY}:null}const so=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[so.Translate.toString(t),so.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:s}=t;return e+" "+n+"ms "+s}}}),eA="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function CF(t){return t.matches(eA)?t:t.querySelector(eA)}const RF={display:"none"};function NF(t){let{id:e,value:n}=t;return At.createElement("div",{id:e,style:RF},n)}function IF(t){let{id:e,announcement:n,ariaLiveType:s="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return At.createElement("div",{id:e,style:a,role:"status","aria-live":s,"aria-atomic":!0},n)}function kF(){const[t,e]=S.useState("");return{announce:S.useCallback(s=>{s!=null&&e(s)},[]),announcement:t}}const VI=S.createContext(null);function DF(t){const e=S.useContext(VI);S.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function MF(){const[t]=S.useState(()=>new Set),e=S.useCallback(s=>(t.add(s),()=>t.delete(s)),[t]);return[S.useCallback(s=>{let{type:a,event:l}=s;t.forEach(c=>{var h;return(h=c[a])==null?void 0:h.call(c,l)})},[t]),e]}const PF={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},jF={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function OF(t){let{announcements:e=jF,container:n,hiddenTextDescribedById:s,screenReaderInstructions:a=PF}=t;const{announce:l,announcement:c}=kF(),h=Qh("DndLiveRegion"),[d,m]=S.useState(!1);if(S.useEffect(()=>{m(!0)},[]),DF(S.useMemo(()=>({onDragStart(b){let{active:x}=b;l(e.onDragStart({active:x}))},onDragMove(b){let{active:x,over:A}=b;e.onDragMove&&l(e.onDragMove({active:x,over:A}))},onDragOver(b){let{active:x,over:A}=b;l(e.onDragOver({active:x,over:A}))},onDragEnd(b){let{active:x,over:A}=b;l(e.onDragEnd({active:x,over:A}))},onDragCancel(b){let{active:x,over:A}=b;l(e.onDragCancel({active:x,over:A}))}}),[l,e])),!d)return null;const g=At.createElement(At.Fragment,null,At.createElement(NF,{id:s,value:a.draggable}),At.createElement(IF,{id:h,announcement:c}));return n?Ou.createPortal(g,n):g}var On;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(On||(On={}));function Vm(){}function tA(t,e){return S.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function VF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const Fi=Object.freeze({x:0,y:0});function LI(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function LF(t,e){const n=Om(t);if(!n)return"0 0";const s={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return s.x+"% "+s.y+"%"}function UI(t,e){let{data:{value:n}}=t,{data:{value:s}}=e;return n-s}function UF(t,e){let{data:{value:n}}=t,{data:{value:s}}=e;return s-n}function nA(t){let{left:e,top:n,height:s,width:a}=t;return[{x:e,y:n},{x:e+a,y:n},{x:e,y:n+s},{x:e+a,y:n+s}]}function zI(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function sA(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const zF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const a=sA(e,e.left,e.top),l=[];for(const c of s){const{id:h}=c,d=n.get(h);if(d){const m=LI(sA(d),a);l.push({id:h,data:{droppableContainer:c,value:m}})}}return l.sort(UI)},BF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const a=nA(e),l=[];for(const c of s){const{id:h}=c,d=n.get(h);if(d){const m=nA(d),g=a.reduce((x,A,k)=>x+LI(m[k],A),0),b=Number((g/4).toFixed(4));l.push({id:h,data:{droppableContainer:c,value:b}})}}return l.sort(UI)};function FF(t,e){const n=Math.max(e.top,t.top),s=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),l=Math.min(e.top+e.height,t.top+t.height),c=a-s,h=l-n;if(s<a&&n<l){const d=e.width*e.height,m=t.width*t.height,g=c*h,b=g/(d+m-g);return Number(b.toFixed(4))}return 0}const qF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const a=[];for(const l of s){const{id:c}=l,h=n.get(c);if(h){const d=FF(h,e);d>0&&a.push({id:c,data:{droppableContainer:l,value:d}})}}return a.sort(UF)};function HF(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function BI(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Fi}function GF(t){return function(n){for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return a.reduce((c,h)=>({...c,top:c.top+t*h.y,bottom:c.bottom+t*h.y,left:c.left+t*h.x,right:c.right+t*h.x}),{...n})}}const $F=GF(1);function FI(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function KF(t,e,n){const s=FI(e);if(!s)return t;const{scaleX:a,scaleY:l,x:c,y:h}=s,d=t.left-c-(1-a)*parseFloat(n),m=t.top-h-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),g=a?t.width/a:t.width,b=l?t.height/l:t.height;return{width:g,height:b,top:m,right:d+g,bottom:m+b,left:d}}const YF={ignoreTransform:!1};function jc(t,e){e===void 0&&(e=YF);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:m,transformOrigin:g}=Ss(t).getComputedStyle(t);m&&(n=KF(n,m,g))}const{top:s,left:a,width:l,height:c,bottom:h,right:d}=n;return{top:s,left:a,width:l,height:c,bottom:h,right:d}}function iA(t){return jc(t,{ignoreTransform:!0})}function XF(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function WF(t,e){return e===void 0&&(e=Ss(t).getComputedStyle(t)),e.position==="fixed"}function QF(t,e){e===void 0&&(e=Ss(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const l=e[a];return typeof l=="string"?n.test(l):!1})}function bp(t,e){const n=[];function s(a){if(e!=null&&n.length>=e||!a)return n;if(nx(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Xh(a)||jI(a)||n.includes(a))return n;const l=Ss(t).getComputedStyle(a);return a!==t&&QF(a,l)&&n.push(a),WF(a,l)?n:s(a.parentNode)}return t?s(t):n}function qI(t){const[e]=bp(t,1);return e??null}function i0(t){return!gp||!t?null:Mc(t)?t:tx(t)?nx(t)||t===Pc(t).scrollingElement?window:Xh(t)?t:null:null}function HI(t){return Mc(t)?t.scrollX:t.scrollLeft}function GI(t){return Mc(t)?t.scrollY:t.scrollTop}function lv(t){return{x:HI(t),y:GI(t)}}var Hn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Hn||(Hn={}));function $I(t){return!gp||!t?!1:t===document.scrollingElement}function KI(t){const e={x:0,y:0},n=$I(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},s={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},a=t.scrollTop<=e.y,l=t.scrollLeft<=e.x,c=t.scrollTop>=s.y,h=t.scrollLeft>=s.x;return{isTop:a,isLeft:l,isBottom:c,isRight:h,maxScroll:s,minScroll:e}}const JF={x:.2,y:.2};function ZF(t,e,n,s,a){let{top:l,left:c,right:h,bottom:d}=n;s===void 0&&(s=10),a===void 0&&(a=JF);const{isTop:m,isBottom:g,isLeft:b,isRight:x}=KI(t),A={x:0,y:0},k={x:0,y:0},I={height:e.height*a.y,width:e.width*a.x};return!m&&l<=e.top+I.height?(A.y=Hn.Backward,k.y=s*Math.abs((e.top+I.height-l)/I.height)):!g&&d>=e.bottom-I.height&&(A.y=Hn.Forward,k.y=s*Math.abs((e.bottom-I.height-d)/I.height)),!x&&h>=e.right-I.width?(A.x=Hn.Forward,k.x=s*Math.abs((e.right-I.width-h)/I.width)):!b&&c<=e.left+I.width&&(A.x=Hn.Backward,k.x=s*Math.abs((e.left+I.width-c)/I.width)),{direction:A,speed:k}}function e7(t){if(t===document.scrollingElement){const{innerWidth:l,innerHeight:c}=window;return{top:0,left:0,right:l,bottom:c,width:l,height:c}}const{top:e,left:n,right:s,bottom:a}=t.getBoundingClientRect();return{top:e,left:n,right:s,bottom:a,width:t.clientWidth,height:t.clientHeight}}function YI(t){return t.reduce((e,n)=>lc(e,lv(n)),Fi)}function t7(t){return t.reduce((e,n)=>e+HI(n),0)}function n7(t){return t.reduce((e,n)=>e+GI(n),0)}function XI(t,e){if(e===void 0&&(e=jc),!t)return;const{top:n,left:s,bottom:a,right:l}=e(t);qI(t)&&(a<=0||l<=0||n>=window.innerHeight||s>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const s7=[["x",["left","right"],t7],["y",["top","bottom"],n7]];class sx{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=bp(n),a=YI(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,c,h]of s7)for(const d of c)Object.defineProperty(this,d,{get:()=>{const m=h(s),g=a[l]-m;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class sh{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=e}add(e,n,s){var a;(a=this.target)==null||a.addEventListener(e,n,s),this.listeners.push([e,n,s])}}function i7(t){const{EventTarget:e}=Ss(t);return t instanceof e?t:Pc(t)}function r0(t,e){const n=Math.abs(t.x),s=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+s**2)>e:"x"in e&&"y"in e?n>e.x&&s>e.y:"x"in e?n>e.x:"y"in e?s>e.y:!1}var gi;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(gi||(gi={}));function rA(t){t.preventDefault()}function r7(t){t.stopPropagation()}var ct;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ct||(ct={}));const WI={start:[ct.Space,ct.Enter],cancel:[ct.Esc],end:[ct.Space,ct.Enter,ct.Tab]},a7=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ct.Right:return{...n,x:n.x+25};case ct.Left:return{...n,x:n.x-25};case ct.Down:return{...n,y:n.y+25};case ct.Up:return{...n,y:n.y-25}}};class ix{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new sh(Pc(n)),this.windowListeners=new sh(Ss(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(gi.Resize,this.handleCancel),this.windowListeners.add(gi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(gi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,s=e.node.current;s&&XI(s),n(Fi)}handleKeyDown(e){if(vp(e)){const{active:n,context:s,options:a}=this.props,{keyboardCodes:l=WI,coordinateGetter:c=a7,scrollBehavior:h="smooth"}=a,{code:d}=e;if(l.end.includes(d)){this.handleEnd(e);return}if(l.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:m}=s.current,g=m?{x:m.left,y:m.top}:Fi;this.referenceCoordinates||(this.referenceCoordinates=g);const b=c(e,{active:n,context:s.current,currentCoordinates:g});if(b){const x=Eh(b,g),A={x:0,y:0},{scrollableAncestors:k}=s.current;for(const I of k){const R=e.code,{isTop:O,isRight:H,isLeft:F,isBottom:re,maxScroll:te,minScroll:ce}=KI(I),D=e7(I),C={x:Math.min(R===ct.Right?D.right-D.width/2:D.right,Math.max(R===ct.Right?D.left:D.left+D.width/2,b.x)),y:Math.min(R===ct.Down?D.bottom-D.height/2:D.bottom,Math.max(R===ct.Down?D.top:D.top+D.height/2,b.y))},j=R===ct.Right&&!H||R===ct.Left&&!F,z=R===ct.Down&&!re||R===ct.Up&&!O;if(j&&C.x!==b.x){const B=I.scrollLeft+x.x,P=R===ct.Right&&B<=te.x||R===ct.Left&&B>=ce.x;if(P&&!x.y){I.scrollTo({left:B,behavior:h});return}P?A.x=I.scrollLeft-B:A.x=R===ct.Right?I.scrollLeft-te.x:I.scrollLeft-ce.x,A.x&&I.scrollBy({left:-A.x,behavior:h});break}else if(z&&C.y!==b.y){const B=I.scrollTop+x.y,P=R===ct.Down&&B<=te.y||R===ct.Up&&B>=ce.y;if(P&&!x.x){I.scrollTo({top:B,behavior:h});return}P?A.y=I.scrollTop-B:A.y=R===ct.Down?I.scrollTop-te.y:I.scrollTop-ce.y,A.y&&I.scrollBy({top:-A.y,behavior:h});break}}this.handleMove(e,lc(Eh(b,this.referenceCoordinates),A))}}}handleMove(e,n){const{onMove:s}=this.props;e.preventDefault(),s(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ix.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:s=WI,onActivation:a}=e,{active:l}=n;const{code:c}=t.nativeEvent;if(s.start.includes(c)){const h=l.activatorNode.current;return h&&t.target!==h?!1:(t.preventDefault(),a?.({event:t.nativeEvent}),!0)}return!1}}];function aA(t){return!!(t&&"distance"in t)}function oA(t){return!!(t&&"delay"in t)}class rx{constructor(e,n,s){var a;s===void 0&&(s=i7(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:l}=e,{target:c}=l;this.props=e,this.events=n,this.document=Pc(c),this.documentListeners=new sh(this.document),this.listeners=new sh(s),this.windowListeners=new sh(Ss(c)),this.initialCoordinates=(a=Om(l))!=null?a:Fi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(gi.Resize,this.handleCancel),this.windowListeners.add(gi.DragStart,rA),this.windowListeners.add(gi.VisibilityChange,this.handleCancel),this.windowListeners.add(gi.ContextMenu,rA),this.documentListeners.add(gi.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(oA(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(aA(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:s,onPending:a}=this.props;a(s,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(gi.Click,r7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(gi.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:s,initialCoordinates:a,props:l}=this,{onMove:c,options:{activationConstraint:h}}=l;if(!a)return;const d=(n=Om(e))!=null?n:Fi,m=Eh(a,d);if(!s&&h){if(aA(h)){if(h.tolerance!=null&&r0(m,h.tolerance))return this.handleCancel();if(r0(m,h.distance))return this.handleStart()}if(oA(h)&&r0(m,h.tolerance))return this.handleCancel();this.handlePending(h,m);return}e.cancelable&&e.preventDefault(),c(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===ct.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const o7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ax extends rx{constructor(e){const{event:n}=e,s=Pc(n.target);super(e,o7,s)}}ax.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const l7={move:{name:"mousemove"},end:{name:"mouseup"}};var cv;(function(t){t[t.RightClick=2]="RightClick"})(cv||(cv={}));class c7 extends rx{constructor(e){super(e,l7,Pc(e.event.target))}}c7.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;return n.button===cv.RightClick?!1:(s?.({event:n}),!0)}}];const a0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class u7 extends rx{constructor(e){super(e,a0)}static setup(){return window.addEventListener(a0.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(a0.move.name,e)};function e(){}}}u7.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;const{touches:a}=n;return a.length>1?!1:(s?.({event:n}),!0)}}];var ih;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(ih||(ih={}));var Lm;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Lm||(Lm={}));function h7(t){let{acceleration:e,activator:n=ih.Pointer,canScroll:s,draggingRect:a,enabled:l,interval:c=5,order:h=Lm.TreeOrder,pointerCoordinates:d,scrollableAncestors:m,scrollableAncestorRects:g,delta:b,threshold:x}=t;const A=f7({delta:b,disabled:!l}),[k,I]=EF(),R=S.useRef({x:0,y:0}),O=S.useRef({x:0,y:0}),H=S.useMemo(()=>{switch(n){case ih.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case ih.DraggableRect:return a}},[n,a,d]),F=S.useRef(null),re=S.useCallback(()=>{const ce=F.current;if(!ce)return;const D=R.current.x*O.current.x,C=R.current.y*O.current.y;ce.scrollBy(D,C)},[]),te=S.useMemo(()=>h===Lm.TreeOrder?[...m].reverse():m,[h,m]);S.useEffect(()=>{if(!l||!m.length||!H){I();return}for(const ce of te){if(s?.(ce)===!1)continue;const D=m.indexOf(ce),C=g[D];if(!C)continue;const{direction:j,speed:z}=ZF(ce,C,H,e,x);for(const B of["x","y"])A[B][j[B]]||(z[B]=0,j[B]=0);if(z.x>0||z.y>0){I(),F.current=ce,k(re,c),R.current=z,O.current=j;return}}R.current={x:0,y:0},O.current={x:0,y:0},I()},[e,re,s,I,l,c,JSON.stringify(H),JSON.stringify(A),k,m,te,g,JSON.stringify(x)])}const d7={x:{[Hn.Backward]:!1,[Hn.Forward]:!1},y:{[Hn.Backward]:!1,[Hn.Forward]:!1}};function f7(t){let{delta:e,disabled:n}=t;const s=jm(e);return Wh(a=>{if(n||!s||!a)return d7;const l={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[Hn.Backward]:a.x[Hn.Backward]||l.x===-1,[Hn.Forward]:a.x[Hn.Forward]||l.x===1},y:{[Hn.Backward]:a.y[Hn.Backward]||l.y===-1,[Hn.Forward]:a.y[Hn.Forward]||l.y===1}}},[n,e,s])}function m7(t,e){const n=e!=null?t.get(e):void 0,s=n?n.node.current:null;return Wh(a=>{var l;return e==null?null:(l=s??a)!=null?l:null},[s,e])}function p7(t,e){return S.useMemo(()=>t.reduce((n,s)=>{const{sensor:a}=s,l=a.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,s)}));return[...n,...l]},[]),[t,e])}var Sh;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Sh||(Sh={}));var uv;(function(t){t.Optimized="optimized"})(uv||(uv={}));const lA=new Map;function g7(t,e){let{dragging:n,dependencies:s,config:a}=e;const[l,c]=S.useState(null),{frequency:h,measure:d,strategy:m}=a,g=S.useRef(t),b=R(),x=Th(b),A=S.useCallback(function(O){O===void 0&&(O=[]),!x.current&&c(H=>H===null?O:H.concat(O.filter(F=>!H.includes(F))))},[x]),k=S.useRef(null),I=Wh(O=>{if(b&&!n)return lA;if(!O||O===lA||g.current!==t||l!=null){const H=new Map;for(let F of t){if(!F)continue;if(l&&l.length>0&&!l.includes(F.id)&&F.rect.current){H.set(F.id,F.rect.current);continue}const re=F.node.current,te=re?new sx(d(re),re):null;F.rect.current=te,te&&H.set(F.id,te)}return H}return O},[t,l,n,b,d]);return S.useEffect(()=>{g.current=t},[t]),S.useEffect(()=>{b||A()},[n,b]),S.useEffect(()=>{l&&l.length>0&&c(null)},[JSON.stringify(l)]),S.useEffect(()=>{b||typeof h!="number"||k.current!==null||(k.current=setTimeout(()=>{A(),k.current=null},h))},[h,b,A,...s]),{droppableRects:I,measureDroppableContainers:A,measuringScheduled:l!=null};function R(){switch(m){case Sh.Always:return!1;case Sh.BeforeDragging:return n;default:return!n}}}function ox(t,e){return Wh(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function y7(t,e){return ox(t,e)}function v7(t){let{callback:e,disabled:n}=t;const s=yp(e),a=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(s)},[s,n]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function xp(t){let{callback:e,disabled:n}=t;const s=yp(e),a=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(s)},[n]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function b7(t){return new sx(jc(t),t)}function cA(t,e,n){e===void 0&&(e=b7);const[s,a]=S.useState(null);function l(){a(d=>{if(!t)return null;if(t.isConnected===!1){var m;return(m=d??n)!=null?m:null}const g=e(t);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const c=v7({callback(d){if(t)for(const m of d){const{type:g,target:b}=m;if(g==="childList"&&b instanceof HTMLElement&&b.contains(t)){l();break}}}}),h=xp({callback:l});return Bi(()=>{l(),t?(h?.observe(t),c?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),c?.disconnect())},[t]),s}function x7(t){const e=ox(t);return BI(t,e)}const uA=[];function w7(t){const e=S.useRef(t),n=Wh(s=>t?s&&s!==uA&&t&&e.current&&t.parentNode===e.current.parentNode?s:bp(t):uA,[t]);return S.useEffect(()=>{e.current=t},[t]),n}function _7(t){const[e,n]=S.useState(null),s=S.useRef(t),a=S.useCallback(l=>{const c=i0(l.target);c&&n(h=>h?(h.set(c,lv(c)),new Map(h)):null)},[]);return S.useEffect(()=>{const l=s.current;if(t!==l){c(l);const h=t.map(d=>{const m=i0(d);return m?(m.addEventListener("scroll",a,{passive:!0}),[m,lv(m)]):null}).filter(d=>d!=null);n(h.length?new Map(h):null),s.current=t}return()=>{c(t),c(l)};function c(h){h.forEach(d=>{const m=i0(d);m?.removeEventListener("scroll",a)})}},[a,t]),S.useMemo(()=>t.length?e?Array.from(e.values()).reduce((l,c)=>lc(l,c),Fi):YI(t):Fi,[t,e])}function hA(t,e){e===void 0&&(e=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},e),S.useEffect(()=>{const s=t!==Fi;s&&!n.current&&(n.current=t),!s&&n.current&&(n.current=null)},[t]),n.current?Eh(t,n.current):Fi}function T7(t){S.useEffect(()=>{if(!gp)return;const e=t.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function E7(t,e){return S.useMemo(()=>t.reduce((n,s)=>{let{eventName:a,handler:l}=s;return n[a]=c=>{l(c,e)},n},{}),[t,e])}function QI(t){return S.useMemo(()=>t?XF(t):null,[t])}const dA=[];function S7(t,e){e===void 0&&(e=jc);const[n]=t,s=QI(n?Ss(n):null),[a,l]=S.useState(dA);function c(){l(()=>t.length?t.map(d=>$I(d)?s:new sx(e(d),d)):dA)}const h=xp({callback:c});return Bi(()=>{h?.disconnect(),c(),t.forEach(d=>h?.observe(d))},[t]),a}function JI(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Xh(e)?e:t}function A7(t){let{measure:e}=t;const[n,s]=S.useState(null),a=S.useCallback(m=>{for(const{target:g}of m)if(Xh(g)){s(b=>{const x=e(g);return b?{...b,width:x.width,height:x.height}:x});break}},[e]),l=xp({callback:a}),c=S.useCallback(m=>{const g=JI(m);l?.disconnect(),g&&l?.observe(g),s(g?e(g):null)},[e,l]),[h,d]=Pm(c);return S.useMemo(()=>({nodeRef:h,rect:n,setRef:d}),[n,h,d])}const C7=[{sensor:ax,options:{}},{sensor:ix,options:{}}],R7={current:{}},Jf={draggable:{measure:iA},droppable:{measure:iA,strategy:Sh.WhileDragging,frequency:uv.Optimized},dragOverlay:{measure:jc}};class rh extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,s;return(n=(s=this.get(e))==null?void 0:s.node.current)!=null?n:void 0}}const N7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new rh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Vm},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Jf,measureDroppableContainers:Vm,windowRect:null,measuringScheduled:!1},ZI={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Vm,draggableNodes:new Map,over:null,measureDroppableContainers:Vm},Jh=S.createContext(ZI),ek=S.createContext(N7);function I7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new rh}}}function k7(t,e){switch(e.type){case On.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case On.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case On.DragEnd:case On.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case On.RegisterDroppable:{const{element:n}=e,{id:s}=n,a=new rh(t.droppable.containers);return a.set(s,n),{...t,droppable:{...t.droppable,containers:a}}}case On.SetDroppableDisabled:{const{id:n,key:s,disabled:a}=e,l=t.droppable.containers.get(n);if(!l||s!==l.key)return t;const c=new rh(t.droppable.containers);return c.set(n,{...l,disabled:a}),{...t,droppable:{...t.droppable,containers:c}}}case On.UnregisterDroppable:{const{id:n,key:s}=e,a=t.droppable.containers.get(n);if(!a||s!==a.key)return t;const l=new rh(t.droppable.containers);return l.delete(n),{...t,droppable:{...t.droppable,containers:l}}}default:return t}}function D7(t){let{disabled:e}=t;const{active:n,activatorEvent:s,draggableNodes:a}=S.useContext(Jh),l=jm(s),c=jm(n?.id);return S.useEffect(()=>{if(!e&&!s&&l&&c!=null){if(!vp(l)||document.activeElement===l.target)return;const h=a.get(c);if(!h)return;const{activatorNode:d,node:m}=h;if(!d.current&&!m.current)return;requestAnimationFrame(()=>{for(const g of[d.current,m.current]){if(!g)continue;const b=CF(g);if(b){b.focus();break}}})}},[s,e,a,c,l]),null}function tk(t,e){let{transform:n,...s}=e;return t!=null&&t.length?t.reduce((a,l)=>l({transform:a,...s}),n):n}function M7(t){return S.useMemo(()=>({draggable:{...Jf.draggable,...t?.draggable},droppable:{...Jf.droppable,...t?.droppable},dragOverlay:{...Jf.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function P7(t){let{activeNode:e,measure:n,initialRect:s,config:a=!0}=t;const l=S.useRef(!1),{x:c,y:h}=typeof a=="boolean"?{x:a,y:a}:a;Bi(()=>{if(!c&&!h||!e){l.current=!1;return}if(l.current||!s)return;const m=e?.node.current;if(!m||m.isConnected===!1)return;const g=n(m),b=BI(g,s);if(c||(b.x=0),h||(b.y=0),l.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const x=qI(m);x&&x.scrollBy({top:b.y,left:b.x})}},[e,c,h,s,n])}const wp=S.createContext({...Fi,scaleX:1,scaleY:1});var Va;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Va||(Va={}));const j7=S.memo(function(e){var n,s,a,l;let{id:c,accessibility:h,autoScroll:d=!0,children:m,sensors:g=C7,collisionDetection:b=qF,measuring:x,modifiers:A,...k}=e;const I=S.useReducer(k7,void 0,I7),[R,O]=I,[H,F]=MF(),[re,te]=S.useState(Va.Uninitialized),ce=re===Va.Initialized,{draggable:{active:D,nodes:C,translate:j},droppable:{containers:z}}=R,B=D!=null?C.get(D):null,P=S.useRef({initial:null,translated:null}),V=S.useMemo(()=>{var Xe;return D!=null?{id:D,data:(Xe=B?.data)!=null?Xe:R7,rect:P}:null},[D,B]),be=S.useRef(null),[Te,J]=S.useState(null),[Y,K]=S.useState(null),X=Th(k,Object.values(k)),L=Qh("DndDescribedBy",c),T=S.useMemo(()=>z.getEnabled(),[z]),U=M7(x),{droppableRects:W,measureDroppableContainers:ie,measuringScheduled:ye}=g7(T,{dragging:ce,dependencies:[j.x,j.y],config:U.droppable}),ge=m7(C,D),me=S.useMemo(()=>Y?Om(Y):null,[Y]),we=qs(),Ee=y7(ge,U.draggable.measure);P7({activeNode:D!=null?C.get(D):null,config:we.layoutShiftCompensation,initialRect:Ee,measure:U.draggable.measure});const Ce=cA(ge,U.draggable.measure,Ee),ze=cA(ge?ge.parentElement:null),Ve=S.useRef({activatorEvent:null,active:null,activeNode:ge,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ht=z.getNodeFor((n=Ve.current.over)==null?void 0:n.id),De=A7({measure:U.dragOverlay.measure}),pt=(s=De.nodeRef.current)!=null?s:ge,_t=ce?(a=De.rect)!=null?a:Ce:null,nn=!!(De.nodeRef.current&&De.rect),Qt=x7(nn?null:Ce),Je=QI(pt?Ss(pt):null),Ke=w7(ce?ht??ge:null),Ln=S7(Ke),zs=tk(A,{transform:{x:j.x-Qt.x,y:j.y-Qt.y,scaleX:1,scaleY:1},activatorEvent:Y,active:V,activeNodeRect:Ce,containerNodeRect:ze,draggingNodeRect:_t,over:Ve.current.over,overlayNodeRect:De.rect,scrollableAncestors:Ke,scrollableAncestorRects:Ln,windowRect:Je}),As=me?lc(me,j):null,Gt=_7(Ke),ms=hA(Gt),Cs=hA(Gt,[Ce]),jt=lc(zs,ms),Jt=_t?$F(_t,zs):null,ps=V&&Jt?b({active:V,collisionRect:Jt,droppableRects:W,droppableContainers:T,pointerCoordinates:As}):null,Bs=zI(ps,"id"),[dn,Fs]=S.useState(null),$t=nn?zs:lc(zs,Cs),sn=HF($t,(l=dn?.rect)!=null?l:null,Ce),xn=S.useRef(null),Dt=S.useCallback((Xe,Ot)=>{let{sensor:Tt,options:rn}=Ot;if(be.current==null)return;const fn=C.get(be.current);if(!fn)return;const gt=Xe.nativeEvent,Vt=new Tt({active:be.current,activeNode:fn,event:gt,options:rn,context:Ve,onAbort(zt){if(!C.get(zt))return;const{onDragAbort:Un}=X.current,Kn={id:zt};Un?.(Kn),H({type:"onDragAbort",event:Kn})},onPending(zt,an,Un,Kn){if(!C.get(zt))return;const{onDragPending:Yn}=X.current,ys={id:zt,constraint:an,initialCoordinates:Un,offset:Kn};Yn?.(ys),H({type:"onDragPending",event:ys})},onStart(zt){const an=be.current;if(an==null)return;const Un=C.get(an);if(!Un)return;const{onDragStart:Kn}=X.current,gs={activatorEvent:gt,active:{id:an,data:Un.data,rect:P}};Ou.unstable_batchedUpdates(()=>{Kn?.(gs),te(Va.Initializing),O({type:On.DragStart,initialCoordinates:zt,active:an}),H({type:"onDragStart",event:gs}),J(xn.current),K(gt)})},onMove(zt){O({type:On.DragMove,coordinates:zt})},onEnd:ss(On.DragEnd),onCancel:ss(On.DragCancel)});xn.current=Vt;function ss(zt){return async function(){const{active:Un,collisions:Kn,over:gs,scrollAdjustedTranslate:Yn}=Ve.current;let ys=null;if(Un&&Yn){const{cancelDrop:Kt}=X.current;ys={activatorEvent:gt,active:Un,collisions:Kn,delta:Yn,over:gs},zt===On.DragEnd&&typeof Kt=="function"&&await Promise.resolve(Kt(ys))&&(zt=On.DragCancel)}be.current=null,Ou.unstable_batchedUpdates(()=>{O({type:zt}),te(Va.Uninitialized),Fs(null),J(null),K(null),xn.current=null;const Kt=zt===On.DragEnd?"onDragEnd":"onDragCancel";if(ys){const Bt=X.current[Kt];Bt?.(ys),H({type:Kt,event:ys})}})}}},[C]),ea=S.useCallback((Xe,Ot)=>(Tt,rn)=>{const fn=Tt.nativeEvent,gt=C.get(rn);if(be.current!==null||!gt||fn.dndKit||fn.defaultPrevented)return;const Vt={active:gt};Xe(Tt,Ot.options,Vt)===!0&&(fn.dndKit={capturedBy:Ot.sensor},be.current=rn,Dt(Tt,Ot))},[C,Dt]),si=p7(g,ea);T7(g),Bi(()=>{Ce&&re===Va.Initializing&&te(Va.Initialized)},[Ce,re]),S.useEffect(()=>{const{onDragMove:Xe}=X.current,{active:Ot,activatorEvent:Tt,collisions:rn,over:fn}=Ve.current;if(!Ot||!Tt)return;const gt={active:Ot,activatorEvent:Tt,collisions:rn,delta:{x:jt.x,y:jt.y},over:fn};Ou.unstable_batchedUpdates(()=>{Xe?.(gt),H({type:"onDragMove",event:gt})})},[jt.x,jt.y]),S.useEffect(()=>{const{active:Xe,activatorEvent:Ot,collisions:Tt,droppableContainers:rn,scrollAdjustedTranslate:fn}=Ve.current;if(!Xe||be.current==null||!Ot||!fn)return;const{onDragOver:gt}=X.current,Vt=rn.get(Bs),ss=Vt&&Vt.rect.current?{id:Vt.id,rect:Vt.rect.current,data:Vt.data,disabled:Vt.disabled}:null,zt={active:Xe,activatorEvent:Ot,collisions:Tt,delta:{x:fn.x,y:fn.y},over:ss};Ou.unstable_batchedUpdates(()=>{Fs(ss),gt?.(zt),H({type:"onDragOver",event:zt})})},[Bs]),Bi(()=>{Ve.current={activatorEvent:Y,active:V,activeNode:ge,collisionRect:Jt,collisions:ps,droppableRects:W,draggableNodes:C,draggingNode:pt,draggingNodeRect:_t,droppableContainers:z,over:dn,scrollableAncestors:Ke,scrollAdjustedTranslate:jt},P.current={initial:_t,translated:Jt}},[V,ge,ps,Jt,C,pt,_t,W,z,dn,Ke,jt]),h7({...we,delta:j,draggingRect:Jt,pointerCoordinates:As,scrollableAncestors:Ke,scrollableAncestorRects:Ln});const ns=S.useMemo(()=>({active:V,activeNode:ge,activeNodeRect:Ce,activatorEvent:Y,collisions:ps,containerNodeRect:ze,dragOverlay:De,draggableNodes:C,droppableContainers:z,droppableRects:W,over:dn,measureDroppableContainers:ie,scrollableAncestors:Ke,scrollableAncestorRects:Ln,measuringConfiguration:U,measuringScheduled:ye,windowRect:Je}),[V,ge,Ce,Y,ps,ze,De,C,z,W,dn,ie,Ke,Ln,U,ye,Je]),Rs=S.useMemo(()=>({activatorEvent:Y,activators:si,active:V,activeNodeRect:Ce,ariaDescribedById:{draggable:L},dispatch:O,draggableNodes:C,over:dn,measureDroppableContainers:ie}),[Y,si,V,Ce,O,L,C,dn,ie]);return At.createElement(VI.Provider,{value:F},At.createElement(Jh.Provider,{value:Rs},At.createElement(ek.Provider,{value:ns},At.createElement(wp.Provider,{value:sn},m)),At.createElement(D7,{disabled:h?.restoreFocus===!1})),At.createElement(OF,{...h,hiddenTextDescribedById:L}));function qs(){const Xe=Te?.autoScrollEnabled===!1,Ot=typeof d=="object"?d.enabled===!1:d===!1,Tt=ce&&!Xe&&!Ot;return typeof d=="object"?{...d,enabled:Tt}:{enabled:Tt}}}),O7=S.createContext(null),fA="button",V7="Draggable";function L7(t){let{id:e,data:n,disabled:s=!1,attributes:a}=t;const l=Qh(V7),{activators:c,activatorEvent:h,active:d,activeNodeRect:m,ariaDescribedById:g,draggableNodes:b,over:x}=S.useContext(Jh),{role:A=fA,roleDescription:k="draggable",tabIndex:I=0}=a??{},R=d?.id===e,O=S.useContext(R?wp:O7),[H,F]=Pm(),[re,te]=Pm(),ce=E7(c,e),D=Th(n);Bi(()=>(b.set(e,{id:e,key:l,node:H,activatorNode:re,data:D}),()=>{const j=b.get(e);j&&j.key===l&&b.delete(e)}),[b,e]);const C=S.useMemo(()=>({role:A,tabIndex:I,"aria-disabled":s,"aria-pressed":R&&A===fA?!0:void 0,"aria-roledescription":k,"aria-describedby":g.draggable}),[s,A,I,R,k,g.draggable]);return{active:d,activatorEvent:h,activeNodeRect:m,attributes:C,isDragging:R,listeners:s?void 0:ce,node:H,over:x,setNodeRef:F,setActivatorNodeRef:te,transform:O}}function nk(){return S.useContext(ek)}const U7="Droppable",z7={timeout:25};function B7(t){let{data:e,disabled:n=!1,id:s,resizeObserverConfig:a}=t;const l=Qh(U7),{active:c,dispatch:h,over:d,measureDroppableContainers:m}=S.useContext(Jh),g=S.useRef({disabled:n}),b=S.useRef(!1),x=S.useRef(null),A=S.useRef(null),{disabled:k,updateMeasurementsFor:I,timeout:R}={...z7,...a},O=Th(I??s),H=S.useCallback(()=>{if(!b.current){b.current=!0;return}A.current!=null&&clearTimeout(A.current),A.current=setTimeout(()=>{m(Array.isArray(O.current)?O.current:[O.current]),A.current=null},R)},[R]),F=xp({callback:H,disabled:k||!c}),re=S.useCallback((C,j)=>{F&&(j&&(F.unobserve(j),b.current=!1),C&&F.observe(C))},[F]),[te,ce]=Pm(re),D=Th(e);return S.useEffect(()=>{!F||!te.current||(F.disconnect(),b.current=!1,F.observe(te.current))},[te,F]),S.useEffect(()=>(h({type:On.RegisterDroppable,element:{id:s,key:l,disabled:n,node:te,rect:x,data:D}}),()=>h({type:On.UnregisterDroppable,key:l,id:s})),[s]),S.useEffect(()=>{n!==g.current.disabled&&(h({type:On.SetDroppableDisabled,id:s,key:l,disabled:n}),g.current.disabled=n)},[s,l,n,h]),{active:c,rect:x,isOver:d?.id===s,node:te,over:d,setNodeRef:ce}}function F7(t){let{animation:e,children:n}=t;const[s,a]=S.useState(null),[l,c]=S.useState(null),h=jm(n);return!n&&!s&&h&&a(h),Bi(()=>{if(!l)return;const d=s?.key,m=s?.props.id;if(d==null||m==null){a(null);return}Promise.resolve(e(m,l)).then(()=>{a(null)})},[e,s,l]),At.createElement(At.Fragment,null,n,s?S.cloneElement(s,{ref:c}):null)}const q7={x:0,y:0,scaleX:1,scaleY:1};function H7(t){let{children:e}=t;return At.createElement(Jh.Provider,{value:ZI},At.createElement(wp.Provider,{value:q7},e))}const G7={position:"fixed",touchAction:"none"},$7=t=>vp(t)?"transform 250ms ease":void 0,K7=S.forwardRef((t,e)=>{let{as:n,activatorEvent:s,adjustScale:a,children:l,className:c,rect:h,style:d,transform:m,transition:g=$7}=t;if(!h)return null;const b=a?m:{...m,scaleX:1,scaleY:1},x={...G7,width:h.width,height:h.height,top:h.top,left:h.left,transform:so.Transform.toString(b),transformOrigin:a&&s?LF(s,h):void 0,transition:typeof g=="function"?g(s):g,...d};return At.createElement(n,{className:c,style:x,ref:e},l)}),Y7=t=>e=>{let{active:n,dragOverlay:s}=e;const a={},{styles:l,className:c}=t;if(l!=null&&l.active)for(const[h,d]of Object.entries(l.active))d!==void 0&&(a[h]=n.node.style.getPropertyValue(h),n.node.style.setProperty(h,d));if(l!=null&&l.dragOverlay)for(const[h,d]of Object.entries(l.dragOverlay))d!==void 0&&s.node.style.setProperty(h,d);return c!=null&&c.active&&n.node.classList.add(c.active),c!=null&&c.dragOverlay&&s.node.classList.add(c.dragOverlay),function(){for(const[d,m]of Object.entries(a))n.node.style.setProperty(d,m);c!=null&&c.active&&n.node.classList.remove(c.active)}},X7=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:so.Transform.toString(e)},{transform:so.Transform.toString(n)}]},W7={duration:250,easing:"ease",keyframes:X7,sideEffects:Y7({styles:{active:{opacity:"0"}}})};function Q7(t){let{config:e,draggableNodes:n,droppableContainers:s,measuringConfiguration:a}=t;return yp((l,c)=>{if(e===null)return;const h=n.get(l);if(!h)return;const d=h.node.current;if(!d)return;const m=JI(c);if(!m)return;const{transform:g}=Ss(c).getComputedStyle(c),b=FI(g);if(!b)return;const x=typeof e=="function"?e:J7(e);return XI(d,a.draggable.measure),x({active:{id:l,data:h.data,node:d,rect:a.draggable.measure(d)},draggableNodes:n,dragOverlay:{node:c,rect:a.dragOverlay.measure(m)},droppableContainers:s,measuringConfiguration:a,transform:b})})}function J7(t){const{duration:e,easing:n,sideEffects:s,keyframes:a}={...W7,...t};return l=>{let{active:c,dragOverlay:h,transform:d,...m}=l;if(!e)return;const g={x:h.rect.left-c.rect.left,y:h.rect.top-c.rect.top},b={scaleX:d.scaleX!==1?c.rect.width*d.scaleX/h.rect.width:1,scaleY:d.scaleY!==1?c.rect.height*d.scaleY/h.rect.height:1},x={x:d.x-g.x,y:d.y-g.y,...b},A=a({...m,active:c,dragOverlay:h,transform:{initial:d,final:x}}),[k]=A,I=A[A.length-1];if(JSON.stringify(k)===JSON.stringify(I))return;const R=s?.({active:c,dragOverlay:h,...m}),O=h.node.animate(A,{duration:e,easing:n,fill:"forwards"});return new Promise(H=>{O.onfinish=()=>{R?.(),H()}})}}let mA=0;function Z7(t){return S.useMemo(()=>{if(t!=null)return mA++,mA},[t])}const eq=At.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:s,style:a,transition:l,modifiers:c,wrapperElement:h="div",className:d,zIndex:m=999}=t;const{activatorEvent:g,active:b,activeNodeRect:x,containerNodeRect:A,draggableNodes:k,droppableContainers:I,dragOverlay:R,over:O,measuringConfiguration:H,scrollableAncestors:F,scrollableAncestorRects:re,windowRect:te}=nk(),ce=S.useContext(wp),D=Z7(b?.id),C=tk(c,{activatorEvent:g,active:b,activeNodeRect:x,containerNodeRect:A,draggingNodeRect:R.rect,over:O,overlayNodeRect:R.rect,scrollableAncestors:F,scrollableAncestorRects:re,transform:ce,windowRect:te}),j=ox(x),z=Q7({config:s,draggableNodes:k,droppableContainers:I,measuringConfiguration:H}),B=j?R.setRef:void 0;return At.createElement(H7,null,At.createElement(F7,{animation:z},b&&D?At.createElement(K7,{key:D,id:b.id,ref:B,as:h,activatorEvent:g,adjustScale:e,className:d,transition:l,rect:j,style:{zIndex:m,...a},transform:C},n):null))});function lx(t,e,n){const s=t.slice();return s.splice(n<0?s.length+n:n,0,s.splice(e,1)[0]),s}function tq(t,e){return t.reduce((n,s,a)=>{const l=e.get(s);return l&&(n[a]=l),n},Array(t.length))}function Df(t){return t!==null&&t>=0}function nq(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function sq(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const cx=t=>{let{rects:e,activeIndex:n,overIndex:s,index:a}=t;const l=lx(e,s,n),c=e[a],h=l[a];return!h||!c?null:{x:h.left-c.left,y:h.top-c.top,scaleX:h.width/c.width,scaleY:h.height/c.height}},sk="Sortable",ik=At.createContext({activeIndex:-1,containerId:sk,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:cx,disabled:{draggable:!1,droppable:!1}});function iq(t){let{children:e,id:n,items:s,strategy:a=cx,disabled:l=!1}=t;const{active:c,dragOverlay:h,droppableRects:d,over:m,measureDroppableContainers:g}=nk(),b=Qh(sk,n),x=h.rect!==null,A=S.useMemo(()=>s.map(ce=>typeof ce=="object"&&"id"in ce?ce.id:ce),[s]),k=c!=null,I=c?A.indexOf(c.id):-1,R=m?A.indexOf(m.id):-1,O=S.useRef(A),H=!nq(A,O.current),F=R!==-1&&I===-1||H,re=sq(l);Bi(()=>{H&&k&&g(A)},[H,A,k,g]),S.useEffect(()=>{O.current=A},[A]);const te=S.useMemo(()=>({activeIndex:I,containerId:b,disabled:re,disableTransforms:F,items:A,overIndex:R,useDragOverlay:x,sortedRects:tq(A,d),strategy:a}),[I,b,re.draggable,re.droppable,F,A,R,d,x,a]);return At.createElement(ik.Provider,{value:te},e)}const rq=t=>{let{id:e,items:n,activeIndex:s,overIndex:a}=t;return lx(n,s,a).indexOf(e)},aq=t=>{let{containerId:e,isSorting:n,wasDragging:s,index:a,items:l,newIndex:c,previousItems:h,previousContainerId:d,transition:m}=t;return!m||!s||h!==l&&a===c?!1:n?!0:c!==a&&e===d},oq={duration:200,easing:"ease"},rk="transform",lq=so.Transition.toString({property:rk,duration:0,easing:"linear"}),cq={roleDescription:"sortable"};function uq(t){let{disabled:e,index:n,node:s,rect:a}=t;const[l,c]=S.useState(null),h=S.useRef(n);return Bi(()=>{if(!e&&n!==h.current&&s.current){const d=a.current;if(d){const m=jc(s.current,{ignoreTransform:!0}),g={x:d.left-m.left,y:d.top-m.top,scaleX:d.width/m.width,scaleY:d.height/m.height};(g.x||g.y)&&c(g)}}n!==h.current&&(h.current=n)},[e,n,s,a]),S.useEffect(()=>{l&&c(null)},[l]),l}function hq(t){let{animateLayoutChanges:e=aq,attributes:n,disabled:s,data:a,getNewIndex:l=rq,id:c,strategy:h,resizeObserverConfig:d,transition:m=oq}=t;const{items:g,containerId:b,activeIndex:x,disabled:A,disableTransforms:k,sortedRects:I,overIndex:R,useDragOverlay:O,strategy:H}=S.useContext(ik),F=dq(s,A),re=g.indexOf(c),te=S.useMemo(()=>({sortable:{containerId:b,index:re,items:g},...a}),[b,a,re,g]),ce=S.useMemo(()=>g.slice(g.indexOf(c)),[g,c]),{rect:D,node:C,isOver:j,setNodeRef:z}=B7({id:c,data:te,disabled:F.droppable,resizeObserverConfig:{updateMeasurementsFor:ce,...d}}),{active:B,activatorEvent:P,activeNodeRect:V,attributes:be,setNodeRef:Te,listeners:J,isDragging:Y,over:K,setActivatorNodeRef:X,transform:L}=L7({id:c,data:te,attributes:{...cq,...n},disabled:F.draggable}),T=TF(z,Te),U=!!B,W=U&&!k&&Df(x)&&Df(R),ie=!O&&Y,ye=ie&&W?L:null,me=W?ye??(h??H)({rects:I,activeNodeRect:V,activeIndex:x,overIndex:R,index:re}):null,we=Df(x)&&Df(R)?l({id:c,items:g,activeIndex:x,overIndex:R}):re,Ee=B?.id,Ce=S.useRef({activeId:Ee,items:g,newIndex:we,containerId:b}),ze=g!==Ce.current.items,Ve=e({active:B,containerId:b,isDragging:Y,isSorting:U,id:c,index:re,items:g,newIndex:Ce.current.newIndex,previousItems:Ce.current.items,previousContainerId:Ce.current.containerId,transition:m,wasDragging:Ce.current.activeId!=null}),ht=uq({disabled:!Ve,index:re,node:C,rect:D});return S.useEffect(()=>{U&&Ce.current.newIndex!==we&&(Ce.current.newIndex=we),b!==Ce.current.containerId&&(Ce.current.containerId=b),g!==Ce.current.items&&(Ce.current.items=g)},[U,we,b,g]),S.useEffect(()=>{if(Ee===Ce.current.activeId)return;if(Ee!=null&&Ce.current.activeId==null){Ce.current.activeId=Ee;return}const pt=setTimeout(()=>{Ce.current.activeId=Ee},50);return()=>clearTimeout(pt)},[Ee]),{active:B,activeIndex:x,attributes:be,data:te,rect:D,index:re,newIndex:we,items:g,isOver:j,isSorting:U,isDragging:Y,listeners:J,node:C,overIndex:R,over:K,setNodeRef:T,setActivatorNodeRef:X,setDroppableNodeRef:z,setDraggableNodeRef:Te,transform:ht??me,transition:De()};function De(){if(ht||ze&&Ce.current.newIndex===re)return lq;if(!(ie&&!vp(P)||!m)&&(U||Ve))return so.Transition.toString({...m,property:rk})}}function dq(t,e){var n,s;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(s=t?.droppable)!=null?s:e.droppable}}function Um(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const fq=[ct.Down,ct.Right,ct.Up,ct.Left],mq=(t,e)=>{let{context:{active:n,collisionRect:s,droppableRects:a,droppableContainers:l,over:c,scrollableAncestors:h}}=e;if(fq.includes(t.code)){if(t.preventDefault(),!n||!s)return;const d=[];l.getEnabled().forEach(b=>{if(!b||b!=null&&b.disabled)return;const x=a.get(b.id);if(x)switch(t.code){case ct.Down:s.top<x.top&&d.push(b);break;case ct.Up:s.top>x.top&&d.push(b);break;case ct.Left:s.left>x.left&&d.push(b);break;case ct.Right:s.left<x.left&&d.push(b);break}});const m=BF({collisionRect:s,droppableRects:a,droppableContainers:d});let g=zI(m,"id");if(g===c?.id&&m.length>1&&(g=m[1].id),g!=null){const b=l.get(n.id),x=l.get(g),A=x?a.get(x.id):null,k=x?.node.current;if(k&&A&&b&&x){const R=bp(k).some((ce,D)=>h[D]!==ce),O=ak(b,x),H=pq(b,x),F=R||!O?{x:0,y:0}:{x:H?s.width-A.width:0,y:H?s.height-A.height:0},re={x:A.left,y:A.top};return F.x&&F.y?re:Eh(re,F)}}}};function ak(t,e){return!Um(t)||!Um(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function pq(t,e){return!Um(t)||!Um(e)||!ak(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const gq=({id:t,children:e,disabled:n,className:s,onClick:a})=>{const{attributes:l,listeners:c,setNodeRef:h,transform:d,transition:m,isDragging:g}=hq({id:t,disabled:n}),b={transform:so.Transform.toString(d),transition:m,zIndex:g?50:"auto",position:"relative"};return y.jsx("div",{ref:h,style:b,...l,...c,onClick:a,className:$("w-full h-full",!n&&"touch-none cursor-grab active:cursor-grabbing",g&&"opacity-0",s),children:y.jsx("div",{className:$("w-full h-full",g&&"opacity-0"),children:e})})},yq=({item:t,gridSize:e,editMode:n,activeId:s,onClick:a,onEdit:l,isLocked:c,fontScale:h=1})=>{const{settings:d}=fs(),m=d.theme==="light",g="relative w-full h-full flex flex-col items-center justify-center p-2 rounded-xl cursor-pointer select-none overflow-hidden transition-all duration-200 border shadow-sm",b=e>=5?"text-xs sm:text-sm":"text-sm sm:text-base",x=m?{default:"bg-white border-slate-200 hover:bg-slate-50 hover:border-slate-300 text-slate-700",completed:"bg-emerald-50 border-emerald-300 text-emerald-700 shadow-[inset_0_0_20px_rgba(16,185,129,0.1)]",freeSpace:"bg-amber-50 border-amber-300 text-amber-600 shadow-[inset_0_0_20px_rgba(245,158,11,0.1)]",editing:"bg-slate-100 border-dashed border-slate-300 opacity-60 hover:opacity-100 hover:border-slate-400 shadow-none text-slate-500"}:{default:"bg-[var(--theme-bg-subtle)] border-[var(--theme-border)] hover:bg-[var(--theme-bg-base)] hover:border-zinc-600 text-slate-300",completed:"bg-emerald-950/20 border-emerald-500/20 text-emerald-200 shadow-[inset_0_0_20px_rgba(16,185,129,0.1)]",freeSpace:"bg-amber-950/20 border-amber-500/20 text-amber-500 shadow-[inset_0_0_20px_rgba(245,158,11,0.1)]",editing:"bg-slate-900 border-dashed border-slate-600 opacity-60 hover:opacity-100 hover:border-slate-400 shadow-none text-slate-500"};let A=x.default;return n?A=x.editing:t.isFreeSpace?A=x.freeSpace:t.isCompleted&&(A=x.completed),y.jsxs(qe.div,{layout:!n&&!s,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:!n&&!s?{scale:1.02,y:-2,zIndex:10,boxShadow:m?"0 10px 30px -10px rgba(0,0,0,0.15)":"0 10px 30px -10px rgba(0,0,0,0.5)"}:void 0,whileTap:n?void 0:{scale:.98},onClick:n?l:a,className:$(g,b,A),children:[y.jsx("div",{className:"z-10 text-center w-full px-1",children:t.isFreeSpace?y.jsxs("div",{className:"flex flex-col items-center gap-1",children:[y.jsx("span",{className:$("text-[10px] font-bold uppercase tracking-widest",m?"text-amber-600":"text-amber-600/80"),children:"Bonus"}),y.jsx("span",{className:"font-bold text-amber-500 text-sm sm:text-base",children:"FREE"})]}):y.jsx("span",{className:"font-medium leading-snug block line-clamp-4 break-words transition-[font-size] duration-100",style:{color:t.isCompleted&&!n?void 0:t.style?.color,fontWeight:t.style?.bold?"bold":void 0,fontStyle:t.style?.italic?"italic":void 0,fontSize:`${h}em`},children:t.text})}),y.jsx("div",{className:"absolute top-1.5 right-1.5 flex flex-col gap-1 items-end z-20",children:t.proofPhotos&&t.proofPhotos.length>0&&y.jsx("div",{className:$("p-1 rounded-md backdrop-blur-sm",m?"bg-slate-600/80":"bg-black/40"),children:y.jsx(xh,{size:10,className:"text-white/90"})})}),t.dueDate&&!t.isCompleted&&!c&&y.jsxs("div",{className:$("flex items-center gap-1 mt-1 text-[10px] font-medium absolute bottom-1.5 left-2 px-1 rounded backdrop-blur-sm",m?"bg-slate-200/90":"bg-black/40",(t.dueDate.toDate?t.dueDate.toDate():new Date(t.dueDate))<new Date?"text-red-500":m?"text-slate-600":"text-slate-400"),children:[y.jsx(pI,{size:10}),y.jsx("span",{children:(t.dueDate.toDate?t.dueDate.toDate():new Date(t.dueDate)).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),!t.isFreeSpace&&!n&&(t.targetCount||1)>1&&y.jsxs("div",{className:$("absolute bottom-1.5 right-1.5 px-1.5 py-0.5 rounded text-[10px] font-bold shadow-sm",t.isCompleted?"bg-emerald-500/90 text-white":(t.currentCount||0)>0?"bg-amber-500/90 text-white":m?"bg-slate-200 text-slate-600 border border-slate-300":"bg-slate-700/90 text-slate-300"),children:[t.currentCount||0,"/",t.targetCount]}),n&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 bg-black/40 transition-opacity z-30",children:y.jsx(Zu,{size:20,className:"text-white drop-shadow-md"})}),t.isCompleted&&!t.isFreeSpace&&!n&&y.jsx(qe.div,{initial:{scale:2,opacity:0,rotate:-45},animate:{scale:1,opacity:m?.15:.1,rotate:12},transition:{type:"spring",stiffness:300,damping:15},className:$("absolute -bottom-2 -right-2 transform origin-bottom-right pointer-events-none",m?"text-emerald-600":"text-emerald-400"),children:y.jsx(bi,{size:80,strokeWidth:3})}),t.isCompleted&&y.jsx("div",{className:$("absolute inset-0 rounded-xl ring-1 ring-inset pointer-events-none",m?"ring-emerald-200":"ring-white/10")})]})},ju=({isOpen:t,onClose:e,title:n,children:s,footer:a,size:l="md",className:c,showCloseButton:h=!0})=>{const{settings:d}=fs(),m=d.theme==="light",g={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-4xl"};return y.jsx(Us,{children:t&&y.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[y.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:$("absolute inset-0 backdrop-blur-sm",m?"bg-black/40":"bg-black/60"),onClick:e}),y.jsxs(qe.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{duration:.2},className:$("relative w-full rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",m?"bg-white border border-slate-200":"bg-[var(--theme-bg-subtle)] border border-[var(--theme-border)]",g[l],c),onClick:b=>b.stopPropagation(),children:[(n||h)&&y.jsxs("div",{className:$("flex items-center justify-between p-4 sm:p-6 border-b shrink-0",m?"border-slate-200":"border-[var(--theme-border)]"),children:[y.jsx("div",{className:$("text-lg sm:text-xl font-bold truncate pr-4",m?"text-slate-800":"text-slate-100"),children:n}),h&&y.jsx("button",{onClick:e,className:$("p-2 rounded-full transition-colors",m?"text-slate-400 hover:text-slate-700 hover:bg-slate-100":"text-slate-400 hover:text-slate-100 hover:bg-white/10"),children:y.jsx(ur,{size:20})})]}),y.jsx("div",{className:$("p-4 sm:p-6 overflow-y-auto custom-scrollbar",m?"text-slate-700":"text-slate-300"),children:s}),a&&y.jsx("div",{className:$("p-4 sm:p-6 border-t shrink-0 flex justify-end gap-3 rounded-b-2xl",m?"border-slate-200 bg-slate-50":"border-[var(--theme-border)] bg-[var(--theme-bg-base)]/50"),children:a})]})]})})},pA=({scale:t,onScaleChange:e,isLightTheme:n})=>{const[s,a]=S.useState(!1),l=S.useRef(null);return S.useEffect(()=>{const c=h=>{l.current&&!l.current.contains(h.target)&&a(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]),y.jsxs("div",{ref:l,className:"relative z-30 flex items-center",children:[y.jsx("button",{onClick:()=>a(!s),className:$("p-3 rounded-full shadow-lg border transition-all duration-300 backdrop-blur-md flex items-center justify-center",n?"bg-white/80 border-slate-200 text-slate-700 hover:bg-slate-50 shadow-slate-200/50":"bg-slate-800/80 border-slate-700 text-slate-300 hover:bg-slate-700 shadow-black/30",s&&"ring-2 ring-accent-primary border-transparent"),title:"Adjust Text Size",children:y.jsx(vI,{size:20})}),y.jsx(Us,{children:s&&y.jsxs(qe.div,{initial:{opacity:0,height:0,scale:.95,y:-20},animate:{opacity:1,height:200,scale:1,y:0},exit:{opacity:0,height:0,scale:.95,y:-20},className:$("absolute top-full mt-4 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 p-3 rounded-full border shadow-2xl backdrop-blur-xl w-14 overflow-hidden origin-top",n?"bg-white/95 border-slate-200":"bg-slate-900/95 border-slate-700"),children:[y.jsx("span",{className:$("text-[10px] font-bold mt-1 select-none",n?"text-slate-400":"text-slate-500"),children:"Aa"}),y.jsx("div",{className:"flex-1 w-full flex items-center justify-center py-2 relative",children:y.jsx("input",{type:"range",min:"0.75",max:"1.5",step:"0.05",value:t,onChange:c=>e(parseFloat(c.target.value)),className:"w-32 -rotate-90 absolute cursor-pointer",style:{accentColor:n?"#6366f1":"#818cf8"}})}),y.jsx("span",{className:$("text-lg font-bold mb-1 select-none",n?"text-slate-700":"text-slate-200"),children:"Aa"})]})})]})},gA=()=>{const{boardId:t,yearId:e}=NM(),n=e?void 0:t,{items:s,members:a,loading:l,toggleItem:c,hasWon:h,bingoCount:d,isLocked:m,unlockBoard:g,jumbleAndLock:b,saveBoard:x,completeWithPhoto:A,addPhotoToTile:k,addReaction:I,deletePhoto:R,decrementProgress:O,inviteUser:H,removeMember:F,title:re,gridSize:te,updateTitle:ce}=bF(n),{user:D}=Hi(),{unlockBadge:C,incrementBadge:j}=PI(),z=Jb(),{settings:B}=fs(),P=B.theme==="light",{playClick:V,playSuccess:be,playBingo:Te,playWhoosh:J}=xF(),[Y,K]=S.useState(!1),[X,L]=S.useState(!1),[T,U]=S.useState(""),[W,ie]=S.useState(()=>{const Z=localStorage.getItem("sunsar_font_scale");return Z?parseFloat(Z):1}),ye=Z=>{ie(Z),localStorage.setItem("sunsar_font_scale",Z.toString())},[ge,me]=S.useState(s),[we,Ee]=S.useState(null);S.useEffect(()=>{(!we&&!Y||Y&&ge.length===0&&s.length>0)&&me(s)},[s,we,Y]);const Ce=VF(tA(ax,{activationConstraint:{distance:8}}),tA(ix,{coordinateGetter:mq})),ze=Z=>{Y&&Ee(Z.active.id)},Ve=Z=>{const{active:xe,over:vt}=Z;Ee(null),vt&&xe.id!==vt.id&&Y&&me(ot=>{const Ct=ot.findIndex(Dn=>Dn.id===xe.id),mn=ot.findIndex(Dn=>Dn.id===vt.id),kn=lx(ot,Ct,mn);return x(kn),kn})},[ht,De]=S.useState(!1),[pt,_t]=S.useState(!1),[nn,Qt]=S.useState(!1),[Je,Ke]=S.useState(!1),[Ln,zs]=S.useState([]),[As,Gt]=S.useState(null),[ms,Cs]=S.useState(""),[jt,Jt]=S.useState({}),[ps,Bs]=S.useState(1),[dn,Fs]=S.useState(""),[$t,sn]=S.useState(!1),[xn,Dt]=S.useState("complete"),[ea,si]=S.useState(!1),[ns,Rs]=S.useState(0),[qs,Xe]=S.useState(null),[Ot,Tt]=S.useState(!1),[rn,fn]=S.useState(!1),[gt,Vt]=S.useState(null),[ss,zt]=S.useState(0),an=S.useRef(null),Un=async()=>{if(!m)return;const Z=ss+1;zt(Z),an.current&&clearTimeout(an.current),an.current=setTimeout(()=>{zt(0)},2e3),Z>=7&&(zt(0),an.current&&clearTimeout(an.current),await z.confirm("This will unlock the board and re-enable editing. Proceed?",{title:" Developer Unlock",confirmText:"Unlock Board",cancelText:"Cancel"})&&(await g(),be()))};S.useEffect(()=>{const Z=async xe=>{xe.ctrlKey&&xe.shiftKey&&xe.key.toLowerCase()==="u"&&m&&(xe.preventDefault(),await z.confirm("This will unlock the board and re-enable editing. Proceed?",{title:" Developer Unlock",confirmText:"Unlock Board",cancelText:"Cancel"})&&(await g(),be()))};return window.addEventListener("keydown",Z),()=>window.removeEventListener("keydown",Z)},[m,g,z,be]),S.useEffect(()=>{!localStorage.getItem("hasSeenWalkthrough")&&!l&&s.length>0&&si(!0)},[l,s]),S.useEffect(()=>{(async()=>{if(pt&&a){const xe=[];for(const[vt,ot]of Object.entries(a))if(ot!=="owner")try{const Ct=await $a(bn(dt,"users",vt));if(Ct.exists()){const mn=Ct.data();xe.push({id:vt,name:mn.displayName||"Unknown",email:mn.email||"No email",role:ot})}}catch(Ct){console.error("Error fetching user:",Ct)}zs(xe)}})()},[pt,a]);const Kn=async(Z,xe)=>{await z.confirm(`Are you sure you want to remove ${xe} from this board?`,{title:"Remove Member",type:"error",confirmText:"Remove"})&&((await F(Z)).success?(zs(Ct=>Ct.filter(mn=>mn.id!==Z)),await z.alert(`${xe} has been removed.`,{type:"success"})):await z.alert("Failed to remove member.",{type:"error"}))},gs=async()=>{const Z=await z.sharePrompt("Enter their email address to invite them to this board.",{title:"Invite User"});if(Z){const xe=await H(Z.email,Z.role);if(xe.type==="success")await z.alert(xe.message,{title:"Success!",type:"success"});else if(xe.type==="not_found"){if(await z.confirm(`"${Z.email}" hasn't signed up yet.

Would you like to send them an email invitation to join SunSar Bingo?`,{title:"User Not Found",confirmText:"Send Invite Email",type:"info"}))try{const{sendInviteEmail:ot,openMailtoFallback:Ct}=await Hl(async()=>{const{sendInviteEmail:kn,openMailtoFallback:Dn}=await import("./emailService-B3gJBebX.js");return{sendInviteEmail:kn,openMailtoFallback:Dn}},[]);(await ot({recipientEmail:Z.email,senderName:D?.displayName||D?.email||"A friend"})).success?await z.alert(`Invitation sent to ${Z.email}! They'll receive an email with instructions to join.`,{title:"Invitation Sent!",type:"success"}):(Ct(Z.email,D?.displayName||"A friend"),await z.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"}))}catch{const Ct=encodeURIComponent("Join me on SunSar Bingo!"),mn=encodeURIComponent(`Hey! Come join me on SunSar Bingo to track our 2026 goals together.

Sign up here: ${window.location.origin}`);window.open(`mailto:${Z.email}?subject=${Ct}&body=${mn}`),await z.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"})}}else await z.alert(xe.message,{title:"Error",type:"error"})}},Yn=()=>{ns<2?Rs(Z=>Z+1):(si(!1),localStorage.setItem("hasSeenWalkthrough","true"))},[ys,Kt]=S.useState(!1),[Bt,Mt]=S.useState(null),[Lt,Hs]=S.useState(!1),Gi=S.useRef(null),[Oc,yr]=S.useState(!1),[wn,vs]=S.useState(null),[is,Ns]=S.useState(null),[zn,Bn]=S.useState(0),Gs=S.useRef(null),[on,ta]=S.useState(!1),[lo,$s]=S.useState(()=>localStorage.getItem("celebrationDismissed")==="true"),[Is,na]=S.useState(0);S.useEffect(()=>{Is===5&&(g(),na(0),ov({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#ec4899","#ffffff"]}));let Z;return Is>0&&(Z=setTimeout(()=>na(0),1e3)),()=>clearTimeout(Z)},[Is,g]);const co=()=>{V(),b(Je),ov({particleCount:150,spread:60,origin:{y:.7},colors:["#22c55e","#ffffff"]}),be(),Qt(!1),K(!1)},uo=()=>{$s(!0),localStorage.setItem("celebrationDismissed","true")};At.useEffect(()=>{!l&&!h&&($s(!1),localStorage.removeItem("celebrationDismissed"))},[h,l]);const ho=S.useRef(h);At.useEffect(()=>{h&&!ho.current&&!l&&Te(),ho.current=h},[h,l,Te]);const sa=Z=>{const xe=ge.length>0?ge:s;if(Gt(Z),Cs(xe[Z].text),Jt(xe[Z].style||{color:"#ffffff",fontSize:"base",bold:!1,italic:!1}),Bs(xe[Z].targetCount||1),xe[Z].dueDate){const vt=xe[Z].dueDate,ot=typeof vt.toDate=="function"?vt.toDate():new Date(vt),Ct=ot.getFullYear(),mn=String(ot.getMonth()+1).padStart(2,"0"),kn=String(ot.getDate()).padStart(2,"0");Fs(`${Ct}-${mn}-${kn}`)}else Fs("");sn(!!xe[Z].isFreeSpace),De(!0)},bs=()=>{if(As===null)return;let Z;dn&&(Z=new Date(dn+"T12:00:00"));const xe=[...ge];xe[As]={...xe[As],text:ms,style:jt,targetCount:Number(ps)||1,dueDate:Z,isFreeSpace:$t,isCompleted:xe[As].isCompleted||$t},me(xe),x(xe),De(!1),Gt(null)},Ze=ge.length>0?ge:s;if(S.useEffect(()=>{is!==null&&Ze?.[is]&&vs(Ze[is])},[Ze,is]),l)return y.jsx("div",{className:"flex h-screen items-center justify-center text-accent-primary animate-pulse",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),y.jsx("p",{children:"Loading Board..."})]})});const Ei=s.filter(Z=>Z.isCompleted).length/25*100,ia=Z=>{if(!Z)return"-";const xe=Z.toDate?Z.toDate():new Date(Z);return xe.toLocaleDateString()+" "+xe.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},yt=Z=>{const xe=Ze[Z];if(Xe({index:Z,wasCompleted:xe.isCompleted}),xe.isCompleted)V();else{be();const vt=new Date,ot=vt.getMonth(),Ct=vt.getDay();C("first_step"),ot===0&&C("early_bird"),(Ct===0||Ct===6)&&j("weekend_warrior")}c(Z),Tt(!0),setTimeout(()=>Tt(!1),3e3)};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 pb-24 relative overflow-x-hidden no-print",children:[y.jsx("input",{type:"file",accept:"image/*",ref:Gs,className:"hidden",onChange:async Z=>{const xe=Z.target.files?.[0];if(xe&&is!==null){try{await k(is,xe),j("shutterbug"),j("selfie_star")}catch(vt){console.error(vt),alert("Failed to add photo")}Z.target.value=""}}}),y.jsx(_F,{items:s}),y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("header",{className:"flex justify-between items-center mb-8 py-2",children:[y.jsxs("div",{className:"flex-1 mx-4 min-w-0 flex flex-col justify-center",children:[X?y.jsx("input",{type:"text",value:T,onChange:Z=>U(Z.target.value),onBlur:()=>{T.trim()&&ce(T.trim()),L(!1)},onKeyDown:Z=>{Z.key==="Enter"?(T.trim()&&ce(T.trim()),L(!1)):Z.key==="Escape"&&L(!1)},autoFocus:!0,className:"bg-transparent border-b-2 border-white/20 text-white text-4xl sm:text-5xl font-black tracking-tighter outline-none w-full shadow-xl"}):y.jsxs("div",{className:"flex items-center gap-3 group",children:[y.jsx("h1",{onClick:()=>{U(re||"My Bingo"),L(!0)},className:"text-left text-4xl sm:text-5xl font-black tracking-tighter truncate cursor-pointer select-none drop-shadow-2xl",title:"Click to edit",children:y.jsx("span",{className:"bg-gradient-to-r from-violet-300 via-fuchsia-300 to-white bg-clip-text text-transparent hover:brightness-110 transition-all",children:re||"My Bingo"})}),y.jsx("button",{onClick:()=>{U(re||"My Bingo"),L(!0)},className:"p-2 rounded-full bg-white/5 text-slate-400 opacity-0 group-hover:opacity-100 transition-all hover:bg-white/10 hover:text-white transform scale-75 group-hover:scale-100",title:"Edit Title",children:y.jsx(Zu,{size:16})})]}),y.jsxs("div",{className:"flex items-center gap-2 mt-3 cursor-pointer select-none",onClick:Un,children:[y.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-[11px] font-bold bg-white/5 text-slate-400 border border-white/5 uppercase tracking-wider backdrop-blur-md",children:[te,"",te]}),y.jsxs("span",{className:$("inline-flex items-center px-3 py-1 rounded-full text-[11px] font-bold border uppercase tracking-wider backdrop-blur-md transition-colors",h?"bg-emerald-500/20 text-emerald-300 border-emerald-500/30 shadow-[0_0_15px_rgba(16,185,129,0.3)]":"bg-indigo-500/20 text-indigo-300 border-indigo-500/30"),children:[s.filter(Z=>Z.isCompleted&&!Z.isFreeSpace).length," / ",s.filter(Z=>!Z.isFreeSpace).length," Done"]})]})]}),y.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[y.jsx("button",{onClick:()=>{ta(!0),j("memory_lane")},className:"p-2.5 text-slate-400 hover:text-accent-gold hover:bg-white/5 rounded-full transition-colors",title:"View Memories",children:y.jsx(Im,{size:20})}),y.jsx("button",{onClick:()=>{_t(!0),C("town_crier")},className:"p-2.5 text-slate-400 hover:text-accent-primary hover:bg-white/5 rounded-full transition-colors",title:"Share Board",children:y.jsx(Qf,{size:20})})]})]}),y.jsxs(j7,{sensors:Ce,collisionDetection:zF,onDragStart:ze,onDragEnd:Ve,children:[y.jsx("div",{className:"flex justify-center mb-6 relative",children:y.jsxs("div",{className:"w-full max-w-[520px] relative",children:[y.jsx("div",{className:"aspect-square relative transition-all duration-300",children:y.jsx(iq,{items:Ze.map(Z=>Z.id),strategy:cx,children:y.jsx("div",{className:$("grid gap-1.5 sm:gap-2 w-full h-full transition-[font-size,gap] duration-200",te===3&&"grid-cols-3 grid-rows-3",te===4&&"grid-cols-4 grid-rows-4",te===5&&"grid-cols-5 grid-rows-5",te===6&&"grid-cols-6 grid-rows-6"),style:{perspective:"1000px"},children:Ze.map((Z,xe)=>y.jsx(gq,{id:Z.id,disabled:!Y,children:y.jsx(yq,{item:Z,index:xe,gridSize:te,editMode:Y,activeId:we,isLocked:m,fontScale:W,onEdit:()=>sa(xe),onClick:()=>{Z.isFreeSpace||(Z.isCompleted?(Vt(xe),fn(!0)):(J(),Mt(xe),Kt(!0)))}})},Z.id))})})}),y.jsx("div",{className:"hidden md:block absolute -right-16 top-0 h-full pointer-events-none",children:y.jsx("div",{className:"sticky top-24 pointer-events-auto",children:y.jsx(pA,{scale:W,onScaleChange:ye,isLightTheme:P})})}),y.jsx("div",{className:"md:hidden absolute -right-2 -bottom-14 z-20",children:y.jsx(pA,{scale:W,onScaleChange:ye,isLightTheme:P})})]})}),y.jsx(eq,{children:we?y.jsx("div",{className:$("relative w-full h-full flex flex-col items-center justify-center p-1 sm:p-2 text-center select-none overflow-hidden","bingo-tile bg-white/10 backdrop-blur-md border-2 border-accent-primary shadow-2xl glass-panel"),style:{width:"100px",height:"100px"},children:y.jsx("span",{className:"text-white font-bold text-sm",children:ge.find(Z=>Z.id===we)?.text})}):null})]})]}),y.jsx("div",{className:"flex justify-center",children:y.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[520px] glass-panel p-4 flex flex-col gap-4",children:[y.jsxs("div",{className:"w-full",children:[y.jsxs("div",{className:"flex justify-between text-xs text-slate-300 mb-1.5 px-1",children:[y.jsx("span",{className:"font-semibold",children:"Progress"}),y.jsxs("div",{className:"flex gap-3",children:[y.jsxs("span",{className:"font-mono text-accent-gold font-bold",children:[d,"/",te*2+2," Bingos"]}),y.jsxs("span",{className:"font-mono text-accent-primary",children:[Math.round(Ei),"%"]})]})]}),y.jsx("div",{className:"h-3 bg-bg-dark/50 rounded-full overflow-hidden border border-white/5",children:y.jsx(qe.div,{className:"h-full bg-gradient-to-r from-accent-primary to-accent-secondary relative",initial:{width:0},animate:{width:`${Ei}%`},transition:{duration:1,ease:"easeOut"},children:y.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[1px] bg-white/50 shadow-[0_0_10px_white]"})})})]}),y.jsx("div",{className:"flex justify-center gap-2",children:Y?y.jsx(y.Fragment,{children:y.jsxs("div",{className:"flex gap-2 w-full",children:[y.jsx("button",{onClick:()=>K(!1),className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10 transition-all",children:"Cancel"}),y.jsxs("button",{onClick:()=>{x(ge),K(!1)},className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 transition-all flex items-center justify-center gap-2",children:[y.jsx(bi,{size:16}),"Save Changes"]})]})}):y.jsxs("div",{className:"flex gap-2 justify-center w-full flex-wrap",children:[!m&&y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>{me([...s]),K(!0)},className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[y.jsx(Zu,{size:12}),"Edit Board"]}),y.jsxs("button",{onClick:()=>{V(),Qt(!0)},className:"flex-1 py-2 px-4 text-xs font-bold text-white bg-gradient-to-r from-accent-primary to-accent-secondary hover:shadow-lg hover:shadow-accent-primary/20 transition-all rounded-lg flex items-center justify-center gap-2 min-w-[120px]",children:[y.jsx(HS,{size:14}),"Go Live "]})]}),y.jsxs("button",{onClick:()=>window.print(),className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[y.jsx(o8,{size:12}),"Print Status"]})]})})]})}),y.jsx(Us,{children:h&&!lo&&y.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:y.jsxs(qe.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center max-w-sm w-full relative overflow-hidden border-accent-gold/30",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent-gold/10 to-transparent pointer-events-none"}),y.jsx(qe.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"inline-block",children:y.jsx(bh,{className:"w-20 h-20 text-accent-gold mx-auto mb-4 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),y.jsx("h2",{className:"text-4xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-accent-gold via-white to-accent-secondary mb-2",children:"BINGO!"}),y.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"2026 is off to an amazing start!"}),y.jsx("button",{onClick:uo,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-[0_0_20px_rgba(139,92,246,0.4)] transition-all transform hover:scale-105",children:"Keep Playing"})]})})}),y.jsxs(ju,{isOpen:ht,onClose:()=>De(!1),title:"Edit Tile",size:"sm",footer:y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>De(!1),className:"flex-1 py-2.5 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),y.jsx("button",{onClick:bs,className:"flex-1 py-2.5 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl font-bold text-white shadow-lg hover:shadow-violet-500/25 active:scale-95 transition-all",children:"Save Changes"})]}),children:[y.jsx("div",{className:"mb-6 flex justify-center",children:y.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-lg bg-bg-card/80 border border-white/10 flex items-center justify-center p-2 text-center overflow-hidden relative",children:y.jsx("span",{className:$("font-hand font-semibold leading-tight break-words"),style:{color:jt.color||"#ffffff",fontWeight:jt.bold?"bold":"600",fontStyle:jt.italic?"italic":"normal",fontSize:jt.fontSize==="sm"?"12px":jt.fontSize==="lg"?"18px":jt.fontSize==="xl"?"22px":"16px"},children:ms||"Preview Text"})})}),y.jsxs("div",{className:"mb-6",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3 bg-white/5 p-3 rounded-xl border border-white/5",children:[y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer flex-1",children:[y.jsx("input",{type:"checkbox",checked:$t,onChange:Z=>{const xe=Z.target.checked;sn(xe),xe&&Cs("FREE!")},className:"w-4 h-4 rounded border-gray-500 bg-black/50 text-accent-primary focus:ring-accent-primary"}),y.jsx("span",{className:$("text-sm font-bold transition-colors",$t?"text-accent-primary":"text-slate-300"),children:"Flag as FREE Space "})]}),$t&&y.jsxs("div",{className:"flex gap-1 bg-black/80 rounded-full p-1 px-1.5 border border-white/20",children:[y.jsx("div",{className:"w-2 h-2 rounded-full bg-red-900/30"}),y.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-900/30"}),y.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_#22c55e]"})]})]}),y.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Content"}),y.jsx("textarea",{className:$("w-full bg-black/20 text-white rounded-lg p-3 border border-white/10 focus:border-accent-primary outline-none min-h-[80px]",$t&&"opacity-50 cursor-not-allowed"),disabled:$t,value:ms,onChange:Z=>Cs(Z.target.value),placeholder:"Enter bingo task..."})]}),y.jsxs("div",{className:$("transition-opacity duration-300",$t&&"opacity-30 pointer-events-none"),children:[y.jsxs("div",{className:"mb-6 space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Color"}),y.jsx("div",{className:"flex gap-2 flex-wrap",children:["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#ec4899","#a855f7"].map(Z=>y.jsx("button",{className:$("w-6 h-6 rounded-full border border-white/10 transition-transform active:scale-90",jt.color===Z&&"ring-2 ring-white scale-110"),style:{backgroundColor:Z},onClick:()=>Jt(xe=>({...xe,color:Z}))},Z))})]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),y.jsx("div",{className:"flex bg-black/20 rounded-lg p-1",children:["sm","base","lg","xl"].map(Z=>y.jsx("button",{onClick:()=>Jt(xe=>({...xe,fontSize:Z})),className:$("flex-1 py-1 text-[10px] font-bold rounded transition-colors uppercase",(jt.fontSize||"base")===Z?"bg-accent-primary text-white":"text-slate-400 hover:text-white"),children:Z==="base"?"M":Z},Z))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Style"}),y.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-lg p-1",children:[y.jsx("button",{onClick:()=>Jt(Z=>({...Z,bold:!Z.bold})),className:$("w-8 h-full rounded flex items-center justify-center font-bold transition-colors",jt.bold?"bg-white text-black":"text-slate-400 hover:text-white"),children:"B"}),y.jsx("button",{onClick:()=>Jt(Z=>({...Z,italic:!Z.italic})),className:$("w-8 h-full rounded flex items-center justify-center italic transition-colors font-serif",jt.italic?"bg-white text-black":"text-slate-400 hover:text-white"),children:"I"})]})]})]})]}),y.jsxs("div",{className:"space-y-4 pt-4 border-t border-white/10",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Repeat Goal"}),y.jsx("input",{type:"number",min:"1",max:"100",value:ps,onChange:Z=>Bs(Z.target.value===""?"":parseInt(Z.target.value)),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors"}),y.jsx("p",{className:"text-xs text-slate-500",children:"How many times should this be completed?"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Due Date (Optional)"}),y.jsx("input",{type:"date",value:dn,onChange:Z=>Fs(Z.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors [color-scheme:dark]"})]})]})]})]}),(()=>{const Z=Bt!==null?Ze[Bt]:null,xe=Z?.targetCount||1,vt=Z?.currentCount||0,ot=xe>1,Ct=vt>0;return Z?y.jsx(ju,{isOpen:ys&&Bt!==null,onClose:()=>{Kt(!1),Mt(null)},title:Z.isCompleted?"Tile Details":Ct?"Add Progress":"Complete Task",size:"sm",children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("p",{className:"text-slate-300 text-sm text-center mb-4 line-clamp-3 italic",children:["",Z.text,""]}),ot&&y.jsx("div",{className:"text-center mb-4",children:y.jsxs("span",{className:$("inline-block px-3 py-1 rounded-full text-sm font-bold",Ct?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"),children:["Progress: ",vt," / ",xe]})}),Z.proofPhotos&&Z.proofPhotos.length>0&&y.jsxs("div",{className:"mb-6 bg-black/20 p-3 rounded-xl border border-white/5",children:[y.jsx("label",{className:"text-xs text-slate-400 mb-2 block font-semibold uppercase tracking-wider",children:"Attached Photos"}),y.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:Z.proofPhotos.map((mn,kn)=>y.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0 group rounded-lg overflow-hidden border border-white/10 touch-none select-none",onContextMenu:Dn=>Dn.preventDefault(),children:[y.jsx("img",{src:mn,alt:"",className:"w-full h-full object-cover pointer-events-none"}),y.jsx("button",{onClick:async Dn=>{Dn.stopPropagation(),window.confirm("Delete this photo?")&&await R(Bt,kn)},className:"absolute top-1 right-1 bg-red-500/90 p-1.5 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 shadow-md",children:y.jsx(eh,{size:12})})]},kn))})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("input",{type:"file",accept:"image/*",ref:Gi,className:"hidden",onChange:async mn=>{const kn=mn.target.files?.[0];if(kn&&Bt!==null){Hs(!0);try{xn==="complete"?await A(Bt,kn):await k(Bt,kn),Kt(!1),Mt(null)}catch{alert("Failed to upload photo.")}finally{Hs(!1),mn.target.value=""}}}}),y.jsxs("button",{onClick:()=>{Dt("add"),setTimeout(()=>Gi.current?.click(),0)},disabled:Lt,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-blue-500/25 active:scale-95 transition-all disabled:opacity-50",children:[y.jsx(xh,{size:20}),Lt&&xn==="add"?"Uploading...":"Add Photo (Keep Status)"]}),!Z.isCompleted&&y.jsxs("button",{onClick:()=>{Dt("complete"),setTimeout(()=>Gi.current?.click(),0)},disabled:Lt,className:"w-full py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-amber-500/25 active:scale-95 transition-all disabled:opacity-50",children:[y.jsx(bi,{size:20}),Lt&&xn==="complete"?"Uploading...":ot?"Add Photo & +1":"Add Photo & Complete"]}),y.jsxs("button",{onClick:()=>{c(Bt),Kt(!1),Mt(null)},disabled:Lt,className:$("w-full py-3 px-4 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-all disabled:opacity-50",Z.isCompleted?"bg-slate-700 hover:bg-slate-600":"bg-gradient-to-r from-green-600 to-emerald-600 hover:shadow-green-500/25"),children:[Z.isCompleted?y.jsx(ur,{size:20}):y.jsx(bi,{size:20}),Z.isCompleted?"Mark Incomplete":ot?`Mark +1 (${vt+1}/${xe})`:"Mark Complete"]}),Ct&&!Z.isCompleted&&y.jsxs("button",{onClick:()=>{O(Bt),Kt(!1),Mt(null)},disabled:Lt,className:"w-full py-2 rounded-xl font-semibold text-red-400 hover:bg-red-500/10 transition-colors disabled:opacity-50",children:["Remove Progress (",vt-1,"/",xe,")"]}),y.jsx("button",{onClick:()=>{Kt(!1),Mt(null)},disabled:Lt,className:"w-full py-3 rounded-xl font-semibold bg-white/5 text-slate-400 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"})]})]})}):null})(),y.jsx(Us,{children:Oc&&wn&&wn.proofPhotos&&wn.proofPhotos.length>0&&y.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{yr(!1),vs(null),Ns(null)},children:y.jsxs(qe.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-lg w-full",onClick:Z=>Z.stopPropagation(),children:[y.jsx("button",{onClick:()=>{yr(!1),vs(null),Ns(null)},className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors z-10",children:y.jsx(ur,{size:28})}),y.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[y.jsxs("div",{className:"relative bg-black",children:[y.jsx("img",{src:wn.proofPhotos[zn],alt:`Proof photo ${zn+1}`,className:"w-full h-auto max-h-[50vh] object-contain"}),wn.proofPhotos.length>1&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>Bn(Z=>Z>0?Z-1:wn.proofPhotos.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:y.jsx(dI,{size:24})}),y.jsx("button",{onClick:()=>Bn(Z=>Z<wn.proofPhotos.length-1?Z+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:y.jsx(fI,{size:24})})]}),y.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/60 rounded-full text-white text-xs font-medium",children:[zn+1," / ",wn.proofPhotos.length]})]}),wn.proofPhotos.length>1&&y.jsx("div",{className:"flex gap-1 p-2 bg-bg-dark/80 overflow-x-auto",children:wn.proofPhotos.map((Z,xe)=>y.jsx("button",{onClick:()=>Bn(xe),className:$("w-12 h-12 rounded-md overflow-hidden border-2 flex-shrink-0 transition-all",zn===xe?"border-accent-primary":"border-transparent opacity-60 hover:opacity-100"),children:y.jsx("img",{src:Z,alt:"",className:"w-full h-full object-cover"})},xe))}),y.jsxs("div",{className:"p-4 bg-bg-dark/95",children:[y.jsx("p",{className:"text-white font-semibold mb-1",children:wn.text}),y.jsxs("p",{className:"text-slate-400 text-xs mb-4",children:["Completed by ",wn.completedBy,"  ",ia(wn.completedAt)]}),y.jsx("div",{className:"flex gap-2 justify-center pb-1",children:["","","","","",""].map(Z=>y.jsx("button",{onClick:()=>{is!==null&&(I(is,Z),V())},className:"text-2xl hover:scale-125 transition-transform p-2 rounded-full hover:bg-white/10 active:scale-95",title:"React",children:Z},Z))})]})]}),y.jsxs("div",{className:"mt-4 flex gap-3 justify-center",children:[y.jsxs("button",{onClick:async()=>{window.confirm("Delete this photo?")&&(await R(is,zn),wn?.proofPhotos?.length===1?yr(!1):Bn(0))},className:"flex-1 py-3 bg-red-500/10 text-red-400 rounded-xl font-semibold hover:bg-red-500/20 flex items-center justify-center gap-2",children:[y.jsx(eh,{size:20}),"Delete Photo"]}),y.jsxs("button",{onClick:()=>Gs.current?.click(),className:"flex-1 py-3 bg-white/10 text-white rounded-xl font-semibold hover:bg-white/20 flex items-center justify-center gap-2",children:[y.jsx(wh,{size:20}),"Add Photo"]})]}),y.jsx("button",{onClick:()=>{const Z=s.findIndex(xe=>xe.id===wn.id);Z!==-1&&c(Z),yr(!1),vs(null),Ns(null)},className:"mt-2 w-full py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Mark as In Progress"})]})})}),y.jsx(Us,{children:Ot&&qs&&y.jsxs(qe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:$("fixed bottom-24 left-1/2 -translate-x-1/2 border px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4",P?"bg-white border-slate-200 text-slate-800":"bg-slate-900 border-white/20 text-white"),children:[y.jsxs("span",{children:["Marked as ",qs.wasCompleted?"incomplete":"complete"]}),y.jsx("button",{onClick:()=>{c(qs.index),Tt(!1)},className:"font-bold text-accent-primary hover:text-white transition-colors",children:"Undo"}),y.jsx("button",{onClick:()=>Tt(!1),className:"text-slate-400 hover:text-white",children:y.jsx(ur,{size:16})})]})}),y.jsx(Us,{children:ea&&y.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:y.jsxs(qe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:$("border rounded-3xl p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",P?"bg-white border-slate-200":"bg-slate-900 border-white/20"),children:[y.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 pointer-events-none",children:y.jsx(bh,{className:"w-32 h-32 text-accent-gold rotate-12"})}),y.jsxs("div",{className:"relative z-10 text-center",children:[y.jsx("h3",{className:$("text-2xl font-bold mb-2",P?"text-slate-900":"text-white"),children:"Welcome! "}),y.jsxs("p",{className:$("mb-8 h-12",P?"text-slate-600":"text-slate-400"),children:[ns===0&&"Tap any tile to mark it as complete.",ns===1&&"Start 'Edit Mode' to add your own tasks.",ns===2&&"Invite friends to play together!"]}),y.jsx("div",{className:"flex justify-center mb-8",children:y.jsx("div",{className:$("w-32 h-32 rounded-2xl border flex items-center justify-center relative",P?"bg-slate-50 border-slate-200":"bg-black/40 border-white/10"),children:y.jsxs(Us,{mode:"wait",children:[ns===0&&y.jsxs(qe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center",children:[y.jsx("div",{className:"w-16 h-16 bg-accent-primary/20 rounded-lg border border-accent-primary flex items-center justify-center",children:y.jsx(bi,{className:"w-8 h-8 text-white"})}),y.jsx(qe.div,{animate:{scale:[1,1.2,1],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5},className:"absolute w-20 h-20 rounded-full border-2 border-white/50"})]},"step0"),ns===1&&y.jsx(qe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:y.jsx(Zu,{className:"w-12 h-12 text-blue-400"})},"step1"),ns===2&&y.jsx(qe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:y.jsx(Qf,{className:"w-12 h-12 text-green-400"})},"step2")]})})}),y.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[0,1,2].map(Z=>y.jsx("div",{className:$("w-2 h-2 rounded-full transition-colors",Z===ns?"bg-white":"bg-white/20")},Z))}),y.jsx("button",{onClick:Yn,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-slate-200 transition-colors",children:ns===2?"Let's Play!":"Next"})]})]})})})]}),y.jsxs("div",{className:"only-print hidden",children:[y.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-black pb-2",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("img",{src:"/logo.png",className:"h-12 w-auto",alt:"Logo"}),y.jsx("h1",{className:"text-2xl font-bold",children:re||"2026 Edition"})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"text-xs uppercase tracking-widest mb-0.5",children:["Status Report (",te,"",te,")"]}),y.jsxs("p",{className:"text-xl font-bold",children:[d," / ",te*2+2," Bingos"]})]})]}),y.jsx("div",{className:`grid gap-0 border-2 border-black ${te===3?"grid-cols-3":te===4?"grid-cols-4":te===5?"grid-cols-5":"grid-cols-6"}`,children:s.map(Z=>y.jsxs("div",{className:"aspect-square border border-black p-1.5 flex flex-col justify-between relative overflow-hidden min-h-[80px]",children:[y.jsx("div",{className:`font-bold leading-tight z-10 ${te>=5?"text-[10px]":"text-[11px]"}`,children:Z.text}),Z.isCompleted&&!Z.isFreeSpace&&y.jsxs("div",{className:"mt-0.5 relative z-10",children:[y.jsx("div",{className:"text-[7px] uppercase font-bold text-slate-700",children:"Completed by:"}),y.jsx("div",{className:"text-[9px] font-mono font-bold leading-none",children:Z.completedBy||"User"}),y.jsx("div",{className:"text-[7px] text-slate-600 mt-0.5",children:ia(Z.completedAt)})]}),Z.isCompleted&&y.jsx("div",{className:"absolute bottom-1 right-1 text-3xl font-bold text-slate-200 opacity-60 pointer-events-none z-0",children:""}),Z.isFreeSpace&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-xl rotate-[-45deg] opacity-20",children:"FREE"})]},Z.id))}),y.jsxs("div",{className:"mt-4 text-[9px] text-center border-t border-black pt-2 flex justify-between text-slate-500",children:[y.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),y.jsx("span",{children:"bingo.mysunsar.com"})]})]}),y.jsx(wF,{items:s,isOpen:on,onClose:()=>ta(!1)}),y.jsx(ju,{isOpen:pt,onClose:()=>_t(!1),title:y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx(Qf,{className:"w-5 h-5 text-accent-primary"}),"Shared With"]}),size:"md",children:y.jsxs("div",{children:[Ln.length===0?y.jsx("div",{className:"text-center text-slate-400 py-8",children:y.jsx("p",{children:"This board hasn't been shared yet."})}):y.jsx("div",{className:"space-y-4 mb-6",children:Ln.map(Z=>y.jsxs("div",{className:$("flex items-center justify-between p-3 rounded-xl border",P?"bg-slate-50 border-slate-200":"bg-white/5 border-white/5"),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:Z.name.charAt(0)}),y.jsxs("div",{children:[y.jsx("div",{className:$("text-sm font-semibold",P?"text-slate-900":"text-white"),children:Z.name}),y.jsxs("div",{className:$("text-xs",P?"text-slate-500":"text-slate-400"),children:[Z.email,"  ",Z.role]})]})]}),y.jsx("button",{onClick:()=>Kn(Z.id,Z.name),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove User",children:y.jsx(eh,{size:16})})]},Z.id))}),y.jsxs("button",{onClick:gs,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all flex items-center justify-center gap-2",children:[y.jsx(wh,{size:18}),"Invite New User"]})]})}),y.jsx(ju,{isOpen:nn,onClose:()=>Qt(!1),title:y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx(HS,{className:"w-5 h-5 text-accent-primary"}),"Ready to Go Live?"]}),size:"sm",footer:y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>Qt(!1),className:$("flex-1 py-3 rounded-xl font-semibold transition-colors",P?"bg-slate-100 text-slate-700 hover:bg-slate-200":"bg-white/5 text-slate-300 hover:bg-white/10"),children:"Not Yet"}),y.jsx("button",{onClick:co,className:"flex-1 py-3 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl font-bold text-white shadow-lg hover:shadow-green-500/25 transition-all",children:"Let's Go! "})]}),children:y.jsxs("div",{children:[y.jsxs("p",{className:$("mb-6 leading-relaxed",P?"text-slate-600":"text-slate-300"),children:["Going live will ",y.jsx("strong",{className:P?"text-slate-800":"text-white",children:"lock the board"})," for play mode. You won't be able to edit items easily anymore."]}),y.jsx("div",{className:$("rounded-xl p-4 mb-6 cursor-pointer transition-colors",P?"bg-slate-100 border border-slate-200 hover:bg-slate-200":"bg-white/5 border border-white/10 hover:bg-white/10"),onClick:()=>Ke(!Je),children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:$("mt-1 w-5 h-5 rounded border flex items-center justify-center transition-colors",Je?"bg-accent-primary border-accent-primary":P?"border-slate-400":"border-slate-500"),children:Je&&y.jsx(bi,{size:14,className:"text-white"})}),y.jsxs("div",{children:[y.jsx("div",{className:$("font-semibold",P?"text-slate-800":"text-white"),children:"Shuffle Items?"}),y.jsx("div",{className:$("text-xs mt-1",P?"text-slate-500":"text-slate-400"),children:"Randomize the grid arrangement one last time before locking."})]})]})})]})}),y.jsx(ju,{isOpen:rn,onClose:()=>{fn(!1),Vt(null)},title:"Goal Status",size:"sm",footer:y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>{fn(!1),Vt(null)},className:$("flex-1 py-2.5 rounded-xl font-semibold transition-colors",P?"bg-slate-100 text-slate-700 hover:bg-slate-200":"bg-white/5 text-slate-300 hover:bg-white/10"),children:"Cancel"}),y.jsx("button",{onClick:()=>{gt!==null&&yt(gt),fn(!1),Vt(null)},className:"flex-1 py-2.5 px-4 bg-amber-600 hover:bg-amber-500 rounded-xl font-bold text-white shadow-lg transition-all",children:"Mark Incomplete"})]}),children:gt!==null&&Ze[gt]&&y.jsxs("div",{className:"text-center",children:[Ze[gt].proofPhotos&&Ze[gt].proofPhotos.length>0&&y.jsxs("div",{className:"mb-4 relative rounded-xl overflow-hidden",children:[y.jsx("img",{src:Ze[gt].proofPhotos[0],alt:"Goal photo",className:"w-full h-32 object-cover"}),Ze[gt].proofPhotos.length>1&&y.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/60 px-2 py-1 rounded text-xs text-white",children:["+",Ze[gt].proofPhotos.length-1," more"]})]}),y.jsxs("div",{className:$("rounded-xl p-4 mb-4",P?"bg-emerald-50 border border-emerald-200":"bg-emerald-500/10 border border-emerald-500/30"),children:[y.jsx("div",{className:$("text-xs font-bold uppercase tracking-wider mb-1",P?"text-emerald-700":"text-emerald-400"),children:" Completed"}),y.jsx("div",{className:$("text-lg font-bold",P?"text-slate-900":"text-white"),children:Ze[gt].text})]}),y.jsxs("p",{className:$("text-sm",P?"text-slate-600":"text-slate-400"),children:["Are you sure you want to mark this goal as ",y.jsx("strong",{className:P?"text-amber-600":"text-amber-400",children:"incomplete"}),"?",Ze[gt].proofPhotos&&Ze[gt].proofPhotos.length>0&&y.jsx("span",{children:" Your photos will be preserved."})]})]})})]})},Lo=({className:t,...e})=>{const{settings:n}=fs(),s=n.theme==="light";return y.jsx("div",{className:$("animate-pulse rounded-lg",s?"bg-slate-200":"bg-white/5",t),...e})},vq=()=>{const{user:t}=Hi(),e=Jb(),{settings:n}=fs(),s=n.theme==="light",a=Bm(),[l,c]=S.useState([]),[h,d]=S.useState(!0),[m,g]=S.useState(!1),[b,x]=S.useState(null),[A,k]=S.useState(5),[I,R]=S.useState(null),[O,H]=S.useState(""),F=(P,V)=>{P.preventDefault(),P.stopPropagation(),R(V.id),H(V.title)},re=async P=>{if(P.preventDefault(),P.stopPropagation(),!!I){try{await os(bn(dt,"boards",I),{title:O}),c(V=>V.map(be=>be.id===I?{...be,title:O}:be))}catch(V){console.error("Error updating title:",V)}R(null)}},te=P=>{P.preventDefault(),P.stopPropagation(),R(null)},ce=P=>{P.key==="Enter"?re(P):P.key==="Escape"?(P.stopPropagation(),R(null)):P.stopPropagation()},D=[{size:3,label:"33",description:"Quick (9 tiles)",icon:""},{size:4,label:"44",description:"Compact (16 tiles)",icon:""},{size:5,label:"55",description:"Classic (25 tiles)",icon:""},{size:6,label:"66",description:"Extended (36 tiles)",icon:""}],C={blank:{name:"Blank Canvas ",items:[]},default:{name:"2026 Goals ",items:["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"]},fitness:{name:"Fitness Challenge ",items:["Run a 5k","Do 50 pushups in a row","Try a yoga class","Drink 3L water for a week","No sugar for 7 days","Go for a hike","Meal prep for a week","Climb a bouldering wall","Try Pilates","Walk 15k steps in a day","Do a spin class","Bike 20km","FREE SPACE","Touch your toes","Hold a plank for 2 min","Try CrossFit","Go swimming","Meditate for 10 mins x 7","Try a new sport","Sleep 8 hours x 5 days","Do 100 squats","Run a 10k","Go to the gym 4x in a week","Stretch daily for a week","Join a run club"]},couples:{name:"Couple Goals ",items:["Date night (no phones)","Cook a meal together","Weekend getaway","Watch a whole series","Breakfast in bed","Go for a long walk","Plan a future trip","Give each other massages","Recreate first date","Take a dance class","Stargazing date","Write love letters","FREE SPACE","Visit a winery/brewery","Do a puzzle together","Double date","Sunset picnic","Bake something sweet","Volunteer together","Learn a couple's skill","Game night","Make a photo album","Try a new restaurant","Surprise gift","Kiss in the rain"]},personal:{name:"Personal Growth ",items:["Read 1 book/month","Learn a new language","Start a journal","Digital detox (24h)","Meditate daily (1 week)","Drink 2L water daily","Wake up at 6am (1 week)","Declutter a room","Learn to invest","Take a solo trip","Volunteer","Compliment a stranger","FREE SPACE","No social media (weekend)","Learn an instrument","Cook a new cuisine","Write a gratitude list","Take a cold shower","Listen to a podcast","Fix sleep schedule","Walk 10k steps","Call an old friend","Create a vision board","Save 10% income","Take a course"]},knitting:{name:"Knitting Goals ",items:["Finish a WIP","Cast on a sweater","Learn brioche","Knit socks","Stash bust project","Try colorwork","Knit a hat","Use luxury yarn","Fix a mistake","Knit a gift","Block a project","Organize needles","FREE SPACE","Try a new fiber","Knit in public","Attend a knit night","Learn magic loop","Design a pattern","Teach someone to knit","Finish a blanket","Knit a shawl","Try cables","Buy souvenir yarn","Weave in ends immediately","Knit a gauge swatch"]},weaving:{name:"Weaving Goals ",items:["Warp the loom","Weave a rug","Try a new structure","Sample a pattern","Use handspun yarn","Finish a scarf","Hemstitching","Fix a broken warp","Weave a towel","Try tapestry","Mix fibers","Organize yarn stash","FREE SPACE","Weave a placemat","Attend a workshop","Try doublewidth","Weave transparency","Calculate warp correctly","Finish raw edges","Weave with rags","Try tablet weaving","Rigid heddle project","Floor loom project","Visit a mill","Share a project online"]},spinning:{name:"Spinning Goals ",items:["Spin 100g fiber","Ply a yarn","Try a new breed","Spin lace weight","Spin art yarn","Comb fleece","Card a batt","Spin on a drop spindle","Clean the wheel","Spin distinct colors","Skein and wash","Fractal spin","FREE SPACE","Spin silk","Spin cotton","Navajo ply","Spin for a project","Participate in Tour de Fleece","Sample a blend","Teach spinning","Spin consistent grist","Dye fiber","Blend colors on hackle","Spin exotic fiber","Fill a bobbin"]},painting:{name:"Painting Goals ",items:["Paint a landscape","Try watercolors","Paint a portrait","Mix a new color","Paint en plein air","Visit a gallery","Finish a sketchbook","Try oils","Paint a still life","Use a palette knife","Paint an animal","Try abstract","FREE SPACE","Clean brushes properly","Paint on canvas","Paint on wood","Follow a tutorial","Paint a sky","Try gouache","Varnish a painting","Frame a piece","Paint daily for a week","Recreate a master","Paint a self-portrait","Host a paint night"]},corporate:{name:"Corporate Bingo ",items:['"Circle back"',`"Let's take this offline"`,"Meeting that could be an email",'"Synergy"','"Low hanging fruit"','"Touch base"',"Someone forgets to mute","Screen share fails",'"Can you see my screen?"',"Awkward silence",'"Bandwidth"','"Deep dive"',"FREE SPACE","Pet interrupts video call","Echo on the line",'"Per my last email"','"Drill down"','"Out of pocket"','"Hard stop"','"Boil the ocean"',"Reply All disaster",'"Move the needle"','"Blue sky thinking"','"Paradigm shift"','"Quick win"']},travel:{name:"Travel Bucket List ",items:["Visit a new continent","Go on a solo trip","See the Northern Lights","Swim in an ocean","Road trip across 3 states","Fly First Class","Visit a National Park","Eat street food","Stay in a hostel","Learn 'Hello' in 5 languages","Visit a Wonder of the World","Go on a cruise","FREE SPACE","Make a travel vlog","Sleep under the stars","Visit a castle","Ride a train","See a volcano","Go scuba diving","Watch a sunrise on a mountain","Visit a winery","Ride a camel/elephant","Go skiing/snowboarding","Visit a tropical island","Send a postcard"]}};S.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching boards for user:",t.uid,t.email);const V=new Map;try{const X=qa(vi(dt,"boards"),ir(`members.${t.uid}`,"in",["owner","editor","viewer"])),L=await Yo(X);console.log("Boards with membership found:",L.docs.length),L.docs.forEach(T=>{const U=T.data(),W=U.members?.[t.uid],ie=U.members||{},ye=Object.values(ie).filter(ge=>ge!=="owner").length;V.set(T.id,{id:T.id,...U,sharedCount:ye,myRole:W,members:ie})})}catch(X){console.error("Error querying boards by membership:",X)}try{const X=qa(vi(dt,"years"),ir("ownerId","==",t.uid)),L=await Yo(X);console.log("Legacy boards (years collection) found:",L.docs.length),L.docs.forEach(T=>{const U=T.data();V.set(`legacy_${T.id}`,{id:T.id,title:U.title||"2026 Bingo",createdAt:U.createdAt,isLocked:U.isLocked,ownerId:U.ownerId,myRole:"owner",members:{}})})}catch(X){console.log("Years collection query failed:",X)}try{const X=await Yo(vi(dt,"years"));console.log("All years docs:",X.docs.length),X.docs.forEach(L=>{const T=L.data();if(T.ownerId===t.uid||T.members?.[t.uid]){const U=`legacy_years_${L.id}`;V.has(U)||V.set(U,{id:L.id,title:T.title||`${L.id} Bingo`,createdAt:T.createdAt,isLocked:T.isLocked,ownerId:T.ownerId,myRole:T.ownerId===t.uid?"owner":T.members?.[t.uid]||"viewer",members:T.members||{}})}})}catch(X){console.log("Direct years fetch failed:",X)}const be=Array.from(V.values()),Te=new Set;be.forEach(X=>{X.myRole!=="owner"&&(X.ownerId&&X.ownerId!==t.uid&&Te.add(X.ownerId),X.members&&Object.entries(X.members).forEach(([L,T])=>{T==="owner"&&L!==t.uid&&Te.add(L)}))});const J=Array.from(Te),Y={};for(const X of J)try{const L=await $a(bn(dt,"users",X));if(L.exists()){const T=L.data();Y[X]=T.displayName||T.email||"Unknown"}}catch{console.log("Could not fetch owner info for:",X)}const K=be.map(X=>{let L=X.ownerId;if(X.members){const T=Object.keys(X.members).find(U=>X.members[U]==="owner"&&U!==t.uid);T&&(L=T)}return X.myRole!=="owner"&&L&&Y[L]?{...X,ownerName:Y[L]}:X});console.log("Total boards to display:",K.length,K.map(X=>X.title)),c(K)}catch(V){console.error("Error fetching boards:",V)}finally{d(!1)}})()},[t]);const j=async P=>{if(!t)return;const V=C[P],be=A,Te=be*be,J=be%2===1?Math.floor(Te/2):-1,Y=be%2===1?Te-1:Te,K=await e.prompt("What would you like to call this board?",{title:"Board Title",inputDefaultValue:V.name,confirmText:"Create"});if(K)try{const X=V.items.filter(ie=>ie.trim().toUpperCase()!=="FREE SPACE"&&ie!=="FREE SPACE"),L=[...X].sort(()=>.5-Math.random());for(;L.length<Y;)L.push(X[L.length%X.length]||`Goal ${L.length+1}`);const T=[];let U=0;for(let ie=0;ie<Te;ie++)ie===J&&be%2===1?T.push({id:ie,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(T.push({id:ie,text:L[U],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),U++);const W=await vb(vi(dt,"boards"),{title:K,gridSize:be,ownerId:t.uid,members:{[t.uid]:"owner"},items:T,createdAt:Fe.now(),isLocked:!1,lastUpdated:Fe.now()});a(`/board/${W.id}`)}catch(X){console.error("Error creating board:",X),await e.alert("Failed to create board. Please try again.",{title:"Error",type:"error"})}finally{g(!1),x(null),k(5)}};if(h)return y.jsx("div",{className:"min-h-screen bg-transparent p-6 relative",children:y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs("header",{className:"flex justify-between items-center mb-12 py-2",children:[y.jsx(Lo,{className:"h-10 w-32 md:w-40"}),y.jsxs("div",{className:"flex gap-2 items-center",children:[y.jsx(Lo,{className:"w-10 h-10 rounded-full"}),y.jsx(Lo,{className:"w-10 h-10 rounded-full"}),y.jsx(Lo,{className:"w-20 h-10 rounded-xl"})]})]}),y.jsxs("div",{className:"mb-10",children:[y.jsx(Lo,{className:"h-12 w-64 mb-3 rounded-lg"}),y.jsx(Lo,{className:"h-6 w-48 rounded-md"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((P,V)=>y.jsx(Lo,{className:"h-48 rounded-2xl"},V))})]})});const z=async(P,V,be)=>{if(P.stopPropagation(),await e.confirm(`This will permanently delete "${be}" and all its data.

This action cannot be undone.`,{title:"Delete Board?",confirmText:"Delete",type:"error"}))try{await yb(bn(dt,"boards",V)),c(J=>J.filter(Y=>Y.id!==V)),await e.alert("Board deleted successfully.",{title:"Deleted",type:"success"})}catch(J){console.error("Error deleting board:",J),await e.alert("Failed to delete board. Please try again.",{title:"Error",type:"error"})}},B=async(P,V,be)=>{if(P.stopPropagation(),!t)return;if(await e.confirm(`You will no longer have access to "${be}".

You can ask the owner to re-share it if needed.`,{title:"Leave Board?",confirmText:"Leave",type:"warning"}))try{await os(bn(dt,"boards",V),{[`members.${t.uid}`]:xm()}),c(J=>J.filter(Y=>Y.id!==V)),await e.alert("You have left the board.",{title:"Left Board",type:"success"})}catch(J){console.error("Error leaving board:",J),await e.alert("Failed to leave board. Please try again.",{title:"Error",type:"error"})}};return y.jsxs("div",{children:[y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs("div",{className:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:$("text-3xl font-semibold tracking-tight",s?"text-slate-800":"text-white"),children:"My Boards"}),y.jsxs("p",{className:$("mt-1",s?"text-slate-600":"text-slate-400"),children:["Welcome back, ",y.jsx("span",{className:$("font-medium",s?"text-slate-900":"text-white"),children:t?.displayName?.split(" ")[0]||"Bingo Player"})]})]}),y.jsxs("button",{onClick:()=>g(!0),className:$("flex items-center gap-2 px-4 py-2 font-bold rounded-lg transition-colors shadow-lg active:scale-95",s?"bg-slate-900 text-white hover:bg-slate-800":"bg-white text-bg-dark hover:bg-slate-200"),children:[y.jsx(wh,{className:"w-5 h-5"}),y.jsx("span",{children:"New Board"})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.filter(P=>P.myRole==="owner").map(P=>{const be=P.id==="2026"||!P.ownerId?`/board/legacy/${P.id}`:`/board/${P.id}`;return y.jsxs("div",{onClick:Te=>{Te.preventDefault(),console.log("Navigating to board:",be),a(be)},className:$("group relative h-48 p-6 flex flex-col justify-between cursor-pointer overflow-hidden active:scale-[0.99] rounded-xl border transition-all",s?"bg-white border-slate-200 hover:bg-slate-50 hover:shadow-lg":"bg-[var(--theme-bg-card)] border-[var(--theme-border)] hover:bg-zinc-900"),children:[y.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:y.jsx("button",{onClick:Te=>z(Te,P.id,P.title),className:$("p-2 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",s?"text-slate-400 hover:text-red-500 hover:bg-red-50":"text-slate-500 hover:text-red-400 hover:bg-white/10"),title:"Delete Board",children:y.jsx(eh,{size:18})})}),y.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"h-7 mb-2",children:!!P.sharedCount&&P.sharedCount>0&&y.jsxs("span",{className:$("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border",s?"bg-emerald-50 text-emerald-600 border-emerald-200":"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"),children:[y.jsx(w8,{size:10}),"Shared with ",P.sharedCount]})}),I===P.id?y.jsxs("div",{className:"flex items-center gap-2 mb-1.5 z-30 relative",onClick:Te=>Te.stopPropagation(),children:[y.jsx("input",{type:"text",value:O,onChange:Te=>H(Te.target.value),onKeyDown:ce,onClick:Te=>Te.stopPropagation(),autoFocus:!0,className:$("font-bold text-xl rounded px-2 py-0.5 border border-accent-primary outline-none min-w-0 flex-1 w-full",s?"bg-white text-slate-800":"bg-black/50 text-white")}),y.jsx("button",{onClick:re,className:"p-1 text-green-400 hover:bg-green-400/20 rounded-full transition-colors",children:y.jsx(bi,{size:18})}),y.jsx("button",{onClick:te,className:"p-1 text-red-400 hover:bg-red-400/20 rounded-full transition-colors",children:y.jsx(ur,{size:18})})]}):y.jsxs("div",{className:"flex items-start gap-2 pr-8 mb-1.5",children:[y.jsx("h3",{className:$("text-xl font-bold line-clamp-2 group-hover:text-accent-primary transition-colors",s?"text-slate-800":"text-white"),children:P.title}),y.jsx("button",{onClick:Te=>F(Te,P),className:$("opacity-0 group-hover:opacity-100 p-1.5 rounded-full transition-all z-20",s?"text-slate-400 hover:text-slate-700 hover:bg-slate-100":"text-slate-400 hover:text-white hover:bg-white/10"),title:"Rename Board",children:y.jsx(i8,{size:14})})]}),y.jsxs("div",{className:$("flex items-center gap-2 text-xs",s?"text-slate-500":"text-slate-400"),children:[y.jsx(km,{className:"w-3.5 h-3.5"}),P.createdAt?.toDate?P.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),y.jsx("div",{className:"mt-4",children:y.jsx("span",{className:$("inline-block px-4 py-1.5 rounded-xl text-xs font-bold border transition-all shadow-sm","bg-accent-primary/10 text-accent-primary border-accent-primary/20 group-hover:bg-accent-primary group-hover:text-white"),children:"Open Board"})})]})]},P.id)})}),l.filter(P=>P.myRole!=="owner").length>0&&y.jsxs(y.Fragment,{children:[y.jsxs("h2",{className:$("text-xl font-bold mt-10 mb-6 flex items-center gap-2",s?"text-slate-800":"text-white"),children:[y.jsx("span",{className:"bg-gradient-to-r from-accent-secondary to-pink-500 bg-clip-text text-transparent",children:"Shared With Me"}),y.jsxs("span",{className:$("text-sm font-normal","text-slate-500"),children:["(",l.filter(P=>P.myRole!=="owner").length,")"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.filter(P=>P.myRole!=="owner").map(P=>{const be=P.id==="2026"||!P.ownerId?`/board/legacy/${P.id}`:`/board/${P.id}`;return y.jsxs("div",{onClick:Te=>{Te.preventDefault(),console.log("Navigating to shared board:",be),a(be)},className:$("group relative h-48 p-6 flex flex-col justify-between cursor-pointer overflow-hidden active:scale-[0.99] rounded-xl border transition-all",s?"bg-white border-slate-200 hover:bg-slate-50 hover:shadow-lg":"bg-[var(--theme-bg-card)] border-[var(--theme-border)] hover:bg-zinc-900"),children:[y.jsx("div",{className:$("absolute top-0 right-0 p-4 transition-opacity pointer-events-none",s?"opacity-5 group-hover:opacity-10":"opacity-10 group-hover:opacity-20"),children:y.jsx(Qb,{className:"w-24 h-24"})}),y.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:y.jsx("button",{onClick:Te=>B(Te,P.id,P.title),className:$("p-2 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",s?"text-slate-400 hover:text-amber-600 hover:bg-amber-50":"text-slate-500 hover:text-amber-400 hover:bg-white/10"),title:"Leave Board",children:y.jsx(gI,{size:18})})}),y.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"h-7 mb-2",children:y.jsx("span",{className:$("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border",P.myRole==="editor"?s?"bg-purple-50 text-purple-600 border-purple-200":"bg-accent-secondary/20 text-accent-secondary border-accent-secondary/30":s?"bg-blue-50 text-blue-600 border-blue-200":"bg-blue-500/20 text-blue-400 border-blue-500/30"),children:P.myRole==="editor"?" Editor":" Viewer"})}),y.jsx("h3",{className:$("text-xl font-bold mb-1 line-clamp-1 pr-8",s?"text-slate-800":"text-white"),children:P.title}),P.ownerName&&y.jsxs("div",{className:$("text-xs mb-1.5","text-slate-500"),children:["Shared by ",y.jsx("span",{className:s?"text-slate-700":"text-slate-400",children:P.ownerName})]}),y.jsxs("div",{className:$("flex items-center gap-2 text-xs",s?"text-slate-500":"text-slate-400"),children:[y.jsx(km,{className:"w-3.5 h-3.5"}),P.createdAt?.toDate?P.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),y.jsx("div",{className:"mt-4",children:y.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-secondary/10 text-accent-secondary border border-accent-secondary/20 group-hover:bg-accent-secondary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},P.id)})})]})]}),m&&y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{b?x(null):g(!1)}}),y.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[y.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center shrink-0",children:[y.jsx("h2",{className:"text-xl font-bold text-white",children:b?C[b].name:"Choose a Template"}),y.jsx("button",{onClick:()=>{b?x(null):g(!1)},className:"text-slate-400 hover:text-white",children:y.jsx(wh,{className:"w-6 h-6 rotate-45"})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:b?y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Grid Size"}),y.jsx("div",{className:"grid grid-cols-4 gap-2",children:D.map(({size:P,label:V,icon:be})=>y.jsxs("button",{onClick:()=>k(P),className:`p-3 rounded-xl border text-center transition-all ${A===P?"bg-accent-primary/20 border-accent-primary text-white":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10 hover:text-white"}`,children:[y.jsx("span",{className:"text-lg block",children:be}),y.jsx("span",{className:"font-bold text-sm",children:V}),y.jsxs("span",{className:"text-[10px] block opacity-70",children:[P*P," tiles"]})]},P))})]}),y.jsx("div",{className:"flex justify-center",children:y.jsx("div",{className:`aspect-square w-full max-w-[380px] grid gap-1.5 p-3 bg-slate-950/50 rounded-xl border border-white/10 ${A===3?"grid-cols-3":A===4?"grid-cols-4":A===5?"grid-cols-5":"grid-cols-6"}`,children:(()=>{const P=A*A,V=A%2===1?Math.floor(P/2):-1,be=C[b].items.filter(Te=>Te.trim().toUpperCase()!=="FREE SPACE");return Array.from({length:P},(Te,J)=>{const Y=J===V&&A%2===1,K=J<V||V===-1?J:J-1,X=Y?"FREE":be[K%be.length]||`Goal ${J+1}`;return y.jsx("div",{className:`
                                                                relative rounded-lg flex items-center justify-center p-1 text-center select-none overflow-hidden 
                                                                ${A<=4?"text-[9px] sm:text-[11px]":"text-[7px] sm:text-[9px]"}
                                                                leading-tight font-medium border shadow-sm
                                                                ${Y?"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold":"bg-white/5 border-white/10 text-slate-300"}
                                                            `,children:y.jsx("span",{className:"line-clamp-2",children:X})},J)})})()})}),y.jsxs("div",{className:"flex gap-3 pt-4",children:[y.jsx("button",{onClick:()=>x(null),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Back"}),y.jsxs("button",{onClick:()=>j(b),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all",children:["Create ",A,"",A," Board"]})]})]}):y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(C).map(([P,V])=>y.jsxs("button",{onClick:()=>x(P),className:"flex flex-col items-start p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent-primary/50 transition-all text-left group",children:[y.jsx("h3",{className:"font-bold text-white group-hover:text-accent-primary transition-colors",children:V.name}),y.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click to preview"})]},P))})})]})]})]})},bq=()=>{const{settings:t}=fs(),e=S.useRef(null),n=S.useRef(null),s=S.useRef([]),l=["cosmic","lavender","light"].includes(t.theme),c=S.useMemo(()=>{switch(t.theme){case"light":return{type:"clouds",particleCount:20,baseColor:"rgba(255, 255, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #f0f9ff 0%, #e0f2fe 50%, #dbeafe 100%)",shootingStars:!1};case"cosmic":return{type:"stars",particleCount:200,baseColor:"rgba(139, 92, 246, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1e1b4b 0%, #0f172a 40%, #020617 100%)",shootingStars:!0};case"lavender":return{type:"petals",particleCount:50,baseColor:"rgba(232, 121, 249, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #3b0764 0%, #2e1065 50%, #1a0525 100%)",shootingStars:!1};default:return{type:"none",particleCount:0,baseColor:"rgba(0, 0, 0, ",bgGradient:"none",shootingStars:!1}}},[t.theme]);return S.useEffect(()=>{const h=e.current;if(!h)return;const d=()=>{const g=[];for(let b=0;b<c.particleCount;b++)g.push(xq(h.width,h.height,c.type));s.current=g},m=()=>{h.width=window.innerWidth,h.height=window.innerHeight,d()};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[c]),S.useEffect(()=>{if(t.enableAnimation===!1)return;const h=e.current;if(!h)return;const d=h.getContext("2d");if(!d)return;let m=0,g=null;const b=()=>{d.clearRect(0,0,h.width,h.height),s.current.forEach(x=>{wq(x,h.width,h.height,c.type),_q(d,x,c)}),c.shootingStars&&(m++,m>300&&Math.random()<.01&&(g={x:Math.random()*h.width,y:Math.random()*h.height*.5,length:80+Math.random()*40,speed:15+Math.random()*10,opacity:1},m=0),g&&(d.beginPath(),d.strokeStyle=`rgba(255, 255, 255, ${g.opacity})`,d.lineWidth=2,d.moveTo(g.x,g.y),d.lineTo(g.x-g.length,g.y-g.length*.3),d.stroke(),g.x+=g.speed,g.y+=g.speed*.3,g.opacity-=.02,g.opacity<=0&&(g=null))),n.current=requestAnimationFrame(b)};return b(),()=>{n.current&&cancelAnimationFrame(n.current)}},[t.enableAnimation,c]),l?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-0 transition-all duration-1000",style:{background:c.bgGradient}}),y.jsx("canvas",{ref:e,className:"fixed inset-0 z-0 pointer-events-none",style:{opacity:t.enableAnimation===!1?0:.8}}),y.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none overflow-hidden",children:[y.jsx("div",{className:`absolute w-[600px] h-[600px] rounded-full blur-[120px] animate-float-slow ${t.theme==="cosmic"?"bg-violet-600/20":t.theme==="lavender"?"bg-fuchsia-500/10":t.theme==="light"?"bg-blue-300/20":"bg-purple-500/10"}`,style:{top:"-15%",left:"-10%"}}),y.jsx("div",{className:`absolute w-[500px] h-[500px] rounded-full blur-[100px] animate-float-slower ${t.theme==="cosmic"?"bg-pink-600/20":t.theme==="lavender"?"bg-purple-600/20":t.theme==="light"?"bg-sky-300/20":"bg-pink-500/10"}`,style:{bottom:"-10%",right:"-5%"}})]})]}):null};function xq(t,e,n){const s={x:Math.random()*t,y:Math.random()*e,opacity:Math.random()*.5+.2};switch(n){case"stars":return{...s,size:Math.random()*3+1,speedX:0,speedY:0,opacity:Math.random()*.8+.4};case"clouds":return{...s,size:Math.random()*80+40,speedX:Math.random()*.3+.1,speedY:Math.random()*.05-.025,opacity:Math.random()*.4+.3};case"leaves":return{...s,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.8+.3,hue:Math.random()*40+80};case"petals":return{...s,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.5+.2,hue:Math.random()*40+280};case"bubbles":return{...s,size:Math.random()*8+2,speedX:Math.random()*.3-.15,speedY:-(Math.random()*.8+.3)};case"embers":return{...s,size:Math.random()*3+1,speedX:Math.random()*.4-.2,speedY:-(Math.random()*1+.5),hue:Math.random()*30+15};default:return{...s,size:Math.random()*4+1,speedX:Math.random()*.3-.15,speedY:Math.random()*.2-.1,hue:Math.random()*60+240}}}function wq(t,e,n,s){t.x+=t.speedX,t.y+=t.speedY,s==="stars"&&(t.opacity+=(Math.random()-.5)*.05,t.opacity=Math.max(.1,Math.min(1,t.opacity))),t.x<0&&(t.x=e),t.x>e&&(t.x=0),t.y<0&&(t.y=n),t.y>n&&(t.y=0)}function _q(t,e,n){switch(t.beginPath(),n.type){case"stars":t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill(),e.opacity>.7&&(t.beginPath(),t.fillStyle=`rgba(200, 220, 255, ${e.opacity*.3})`,t.arc(e.x,e.y,e.size*3,0,Math.PI*2),t.fill());break;case"clouds":t.save(),t.shadowColor="rgba(100, 150, 200, 0.3)",t.shadowBlur=20,t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size*.6,0,Math.PI*2),t.fill(),t.beginPath(),t.arc(e.x-e.size*.4,e.y+e.size*.1,e.size*.45,0,Math.PI*2),t.fill(),t.beginPath(),t.arc(e.x+e.size*.4,e.y+e.size*.1,e.size*.5,0,Math.PI*2),t.fill(),t.restore();break;case"leaves":t.fillStyle=`hsla(${e.hue}, 60%, 50%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.5,e.x*.01,0,Math.PI*2),t.fill();break;case"petals":t.fillStyle=`hsla(${e.hue}, 70%, 60%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.6,e.x*.02,0,Math.PI*2),t.fill();break;case"bubbles":t.strokeStyle=n.baseColor+`${e.opacity})`,t.lineWidth=1,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.stroke(),t.beginPath(),t.fillStyle=`rgba(255, 255, 255, ${e.opacity*.5})`,t.arc(e.x-e.size*.3,e.y-e.size*.3,e.size*.2,0,Math.PI*2),t.fill();break;case"embers":const s=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size);s.addColorStop(0,`hsla(${e.hue}, 100%, 70%, ${e.opacity})`),s.addColorStop(1,`hsla(${e.hue}, 100%, 50%, 0)`),t.fillStyle=s,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill();break;default:const a=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size*2);a.addColorStop(0,`hsla(${e.hue}, 80%, 60%, ${e.opacity})`),a.addColorStop(1,`hsla(${e.hue}, 80%, 60%, 0)`),t.fillStyle=a,t.arc(e.x,e.y,e.size*2,0,Math.PI*2),t.fill();break}}const Mf=({icon:t,title:e,description:n,color:s})=>y.jsxs(qe.div,{whileHover:{scale:1.02},className:"bg-white/5 border border-white/10 rounded-2xl p-6 backdrop-blur-sm",children:[y.jsx("div",{className:$("w-12 h-12 rounded-xl flex items-center justify-center mb-4",s),children:y.jsx(t,{size:24,className:"text-white"})}),y.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:e}),y.jsx("p",{className:"text-slate-400 text-sm",children:n})]}),o0=({number:t,title:e,description:n})=>y.jsxs("div",{className:"flex gap-4",children:[y.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-accent-primary/20 border border-accent-primary/50 flex items-center justify-center text-accent-primary font-bold",children:t}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-white mb-1",children:e}),y.jsx("p",{className:"text-slate-400 text-sm",children:n})]})]}),Tq=()=>{const t=Bm(),{settings:e}=fs(),n=e.theme==="light";return y.jsx("div",{className:$("min-h-screen p-6 relative overflow-x-hidden pb-32 bg-transparent",n?"text-slate-800":"text-white"),children:y.jsxs("div",{className:"max-w-5xl mx-auto",children:[y.jsxs(qe.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t(-1),className:$("flex items-center gap-2 transition-colors mb-8 group",n?"text-slate-600 hover:text-slate-900":"text-slate-400 hover:text-white"),children:[y.jsx(CB,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back"]}),y.jsxs("div",{className:"text-center mb-16",children:[y.jsx(qe.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-accent-primary to-accent-secondary mb-6 shadow-2xl",children:y.jsx(Im,{size:40,className:"text-white"})}),y.jsxs(qe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl sm:text-5xl font-extrabold mb-4",children:["Welcome to ",y.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:"SunSar Bingo"})]}),y.jsx(qe.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:$("text-xl max-w-2xl mx-auto",n?"text-slate-600":"text-slate-400"),children:"Turn your 2026 goals into a beautiful, social game. Track progress, celebrate wins, and stay motivated together."})]}),y.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-16",children:[y.jsx(Mf,{icon:Qb,title:"Custom Boards",description:"Create 3x3, 4x4, or 5x5 grids for any goal type",color:"bg-blue-500"}),y.jsx(Mf,{icon:xh,title:"Photo Memories",description:"Attach photos to tiles and build a visual journal",color:"bg-green-500"}),y.jsx(Mf,{icon:$S,title:"Shared Boards",description:"Invite friends to track goals together",color:"bg-purple-500"}),y.jsx(Mf,{icon:Dm,title:"8 Themes",description:"Beautiful themes including 3 with animations",color:"bg-pink-500"})]}),y.jsxs(qe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-16",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl text-blue-400",children:y.jsx(wh,{size:28})}),y.jsx("h2",{className:"text-2xl font-bold",children:"Getting Started"})]}),y.jsxs("div",{className:$("rounded-3xl p-8 backdrop-blur-sm space-y-6",n?"bg-white/60 border border-slate-200":"bg-white/5 border border-white/10"),children:[y.jsx(o0,{number:1,title:"Create Your Board",description:"From the dashboard, click 'Create Board'. Choose from templates like 'Fitness', 'Travel', or 'Self Care'  or start blank."}),y.jsx(o0,{number:2,title:"Customize Your Goals",description:"Write specific, actionable goals for each tile. You can set multi-count targets (e.g., 'Run 10 miles' with progress tracking) and due dates."}),y.jsx(o0,{number:3,title:"Go Live",description:"Click 'Go Live' to lock your board and start playing. The board structure is now set  time to start completing goals!"})]})]}),y.jsxs(qe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-16",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("div",{className:"p-3 bg-green-500/20 rounded-xl text-green-400",children:y.jsx(m8,{size:28})}),y.jsx("h2",{className:"text-2xl font-bold",children:"Playing & Tracking"})]}),y.jsx("div",{className:$("rounded-3xl p-8 backdrop-blur-sm",n?"bg-white/60 border border-slate-200":"bg-white/5 border border-white/10"),children:y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[y.jsx(yI,{className:"w-5 h-5 text-yellow-400"}),"Completing Goals"]}),y.jsxs("ul",{className:$("space-y-3 text-sm",n?"text-slate-600":"text-slate-400"),children:[y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2 flex-shrink-0"}),y.jsxs("span",{children:[y.jsx("strong",{children:"Tap any tile"})," to open it and mark progress"]})]}),y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2 flex-shrink-0"}),y.jsxs("span",{children:[y.jsx("strong",{children:"Add photos"})," as proof and memories"]})]}),y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2 flex-shrink-0"}),y.jsxs("span",{children:[y.jsx("strong",{children:"Track multi-count"})," goals with +/- buttons"]})]})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[y.jsx(GS,{className:"w-5 h-5 text-amber-400"}),"Winning Bingo"]}),y.jsxs("p",{className:$("text-sm",n?"text-slate-600":"text-slate-400"),children:["Complete any full ",y.jsx("strong",{children:"row"}),", ",y.jsx("strong",{children:"column"}),", or ",y.jsx("strong",{children:"diagonal"})," to score a BINGO! Watch for the confetti celebration when you hit one. The goal is to fill the entire board  but each bingo along the way is a victory."]}),y.jsxs("div",{className:$("p-4 rounded-xl text-center",n?"bg-amber-50 border border-amber-200":"bg-amber-500/10 border border-amber-500/30"),children:[y.jsx("span",{className:"font-bold text-amber-500",children:"Pro tip:"}),y.jsx("span",{className:$("ml-2 text-sm",n?"text-slate-700":"text-slate-300"),children:"The center tile is a FREE space!"})]})]})]})})]}),y.jsxs(qe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mb-16",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("div",{className:"p-3 bg-purple-500/20 rounded-xl text-purple-400",children:y.jsx(Qf,{size:28})}),y.jsx("h2",{className:"text-2xl font-bold",children:"Playing Together"})]}),y.jsx("div",{className:$("rounded-3xl p-8 backdrop-blur-sm",n?"bg-white/60 border border-slate-200":"bg-white/5 border border-white/10"),children:y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[y.jsx($S,{className:"w-5 h-5 text-accent-secondary"}),"Invite Collaborators"]}),y.jsx("p",{className:$("text-sm mb-4",n?"text-slate-600":"text-slate-400"),children:"Share your board with friends, family, or teammates. Everyone can view progress and complete tiles together."}),y.jsxs("ul",{className:$("space-y-2 text-sm",n?"text-slate-600":"text-slate-400"),children:[y.jsxs("li",{children:[" ",y.jsx("strong",{children:"Editors"})," can mark goals complete"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{children:"Viewers"})," can see progress"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{children:"Owner"})," controls board settings"]})]})]}),y.jsxs("div",{children:[y.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[y.jsx(GS,{className:"w-5 h-5 text-amber-400"}),"Competition Mode"]}),y.jsxs("p",{className:$("text-sm mb-4",n?"text-slate-600":"text-slate-400"),children:["On shared boards, tiles show ",y.jsx("strong",{children:"who completed them first"}),". Race your friends to complete the most goals!"]}),y.jsxs("div",{className:$("rounded-xl p-4 border text-center",n?"bg-slate-50 border-slate-200":"bg-black/40 border-white/5"),children:[y.jsx("span",{className:$("text-xs uppercase tracking-widest","text-slate-500"),children:"Example"}),y.jsx("div",{className:"mt-2 font-bold",children:'"Run a 5K"'}),y.jsx("div",{className:"text-xs text-accent-primary mt-1",children:" Completed by Sunit"})]})]})]})})]}),y.jsxs(qe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"mb-16",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("div",{className:"p-3 bg-pink-500/20 rounded-xl text-pink-400",children:y.jsx(Dm,{size:28})}),y.jsx("h2",{className:"text-2xl font-bold",children:"Themes & Customization"})]}),y.jsxs("div",{className:$("rounded-3xl p-8 backdrop-blur-sm",n?"bg-white/60 border border-slate-200":"bg-white/5 border border-white/10"),children:[y.jsxs("p",{className:$("text-sm mb-6",n?"text-slate-600":"text-slate-400"),children:["Choose from ",y.jsx("strong",{children:"8 beautiful themes"})," to match your style. Access themes anytime from the sidebar or Settings."]}),y.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-8 gap-3 mb-6",children:[{name:"Light",color:"bg-sky-100",animated:!0},{name:"Dawn",color:"bg-orange-400",animated:!1},{name:"Midnight",color:"bg-indigo-600",animated:!1},{name:"Cosmic",color:"bg-violet-600",animated:!0},{name:"Lavender",color:"bg-fuchsia-600",animated:!0},{name:"Forest",color:"bg-emerald-600",animated:!1},{name:"Ocean",color:"bg-cyan-600",animated:!1},{name:"Sunset",color:"bg-rose-600",animated:!1}].map(s=>y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:$("w-10 h-10 rounded-full mx-auto mb-2 relative",s.color,s.name==="Light"&&"border border-slate-300"),children:s.animated&&y.jsx(th,{className:"absolute -top-1 -right-1 w-4 h-4 text-yellow-400 drop-shadow"})}),y.jsx("span",{className:$("text-xs",n?"text-slate-600":"text-slate-400"),children:s.name})]},s.name))}),y.jsxs("div",{className:$("flex items-center gap-3 p-4 rounded-xl",n?"bg-blue-50 border border-blue-200":"bg-blue-500/10 border border-blue-500/30"),children:[y.jsx(th,{className:"w-5 h-5 text-blue-400"}),y.jsxs("p",{className:$("text-sm",n?"text-blue-800":"text-blue-200"),children:[y.jsx("strong",{children:"Animated themes"})," (Light, Cosmic, Lavender) feature moving backgrounds with clouds, stars, or petals!"]})]})]})]}),y.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"text-center",children:y.jsx("button",{onClick:()=>t("/dashboard"),className:$("px-8 py-4 font-bold rounded-2xl text-lg hover:scale-105 transition-transform shadow-xl",n?"bg-slate-900 text-white shadow-slate-300":"bg-white text-slate-900 shadow-white/10"),children:"Start Playing "})})]})})},Eq=()=>{const{user:t}=Hi(),[e,n]=S.useState([]),[s,a]=S.useState([]),[l,c]=S.useState([]),[h,d]=S.useState(!0),{unlockBadge:m,setBadgeProgress:g}=PI();return S.useEffect(()=>{if(!t){n([]),d(!1);return}const R=vi(dt,`users/${t.uid}/friends`),O=rc(R,H=>{const F=[];H.forEach(re=>{F.push(re.data())}),n(F)});return()=>O()},[t]),S.useEffect(()=>{if(!t)return;const R=qa(vi(dt,"friend_requests"),ir("toUserEmail","==",t.email),ir("status","==","pending")),O=rc(R,H=>{const F=[];H.forEach(re=>{F.push({id:re.id,...re.data()})}),a(F),d(!1)});return()=>O()},[t]),S.useEffect(()=>{if(!t)return;const R=qa(vi(dt,"friend_requests"),ir("fromUserId","==",t.uid),ir("status","==","pending")),O=rc(R,H=>{const F=[];H.forEach(re=>{F.push({id:re.id,...re.data()})}),c(F)});return()=>O()},[t]),{friends:e,incomingRequests:s,outgoingRequests:l,loading:h,sendFriendRequest:async R=>{if(!t)throw new Error("Not authenticated");if(R.toLowerCase()===t.email?.toLowerCase())throw new Error("You cannot add yourself.");const O=vi(dt,"users"),H=qa(O,ir("email","==",R.toLowerCase())),F=await Yo(H);if(F.empty)return{success:!1,message:"User not found."};const re=F.docs[0].data(),te=F.docs[0].id;return e.some(ce=>ce.email.toLowerCase()===R.toLowerCase())?{success:!1,message:"Use is already your friend."}:l.some(ce=>ce.toUserEmail.toLowerCase()===R.toLowerCase())?{success:!1,message:"Request already sent."}:(await vb(vi(dt,"friend_requests"),{fromUserId:t.uid,fromUserEmail:t.email,fromUserName:t.displayName||"Unknown",fromUserPhoto:t.photoURL,toUserId:te,toUserEmail:re.email,status:"pending",createdAt:Ko()}),{success:!0,message:"Friend request sent!"})},acceptFriendRequest:async R=>{if(!t)return;const O=O0(dt),H=bn(dt,"friend_requests",R.id);O.update(H,{status:"accepted"});const F=bn(dt,`users/${t.uid}/friends/${R.fromUserId}`);O.set(F,{uid:R.fromUserId,email:R.fromUserEmail,displayName:R.fromUserName,photoURL:R.fromUserPhoto,since:Ko()});const re=bn(dt,`users/${R.fromUserId}/friends/${t.uid}`);O.set(re,{uid:t.uid,email:t.email,displayName:t.displayName||"Unknown",photoURL:t.photoURL,since:Ko()}),await O.commit(),m("got_mail");const te=e.length+1;g("social_butterfly",te)},rejectFriendRequest:async R=>{await yb(bn(dt,"friend_requests",R))},removeFriend:async R=>{if(!t)return;const O=O0(dt),H=bn(dt,`users/${t.uid}/friends/${R}`),F=bn(dt,`users/${R}/friends/${t.uid}`);O.delete(H),O.delete(F),await O.commit()},getFriendsNotInBoard:R=>{const O=new Set(R.map(H=>H.id));return e.filter(H=>!O.has(H.uid))}}},Sq=()=>{const{friends:t,incomingRequests:e,outgoingRequests:n,sendFriendRequest:s,acceptFriendRequest:a,rejectFriendRequest:l,removeFriend:c}=Eq(),{settings:h}=fs(),d=h.theme==="light",m=Jb(),[g,b]=S.useState("friends"),[x,A]=S.useState(""),[k,I]=S.useState(!1),R=async()=>{if(x.trim()){I(!0);try{const O=await s(x.trim());O.success?(await m.alert(`Request sent to ${x}!`,{type:"success"}),A("")):await m.alert(O.message,{type:"error"})}catch{await m.alert("Something went wrong. Check the email and try again.",{type:"error"})}finally{I(!1)}}};return y.jsxs("div",{className:$("rounded-3xl border shadow-xl overflow-hidden mt-8 max-w-4xl mx-auto",d?"bg-white border-slate-200":"bg-slate-900 border-white/10"),children:[y.jsx("div",{className:$("p-4 border-b flex items-center justify-between",d?"bg-slate-50 border-slate-200":"bg-white/5 border-white/5"),children:y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:()=>b("friends"),className:$("px-4 py-2 rounded-xl text-sm font-bold transition-all relative",g==="friends"?"bg-accent-primary text-white shadow-lg shadow-accent-primary/25":d?"text-slate-600 hover:bg-slate-200":"text-slate-400 hover:text-white hover:bg-white/5"),children:["My Friends",t.length>0&&y.jsx("span",{className:"ml-2 text-xs opacity-80 bg-black/20 px-1.5 rounded-full",children:t.length})]}),y.jsxs("button",{onClick:()=>b("requests"),className:$("px-4 py-2 rounded-xl text-sm font-bold transition-all relative",g==="requests"?"bg-accent-secondary text-white shadow-lg shadow-accent-secondary/25":d?"text-slate-600 hover:bg-slate-200":"text-slate-400 hover:text-white hover:bg-white/5"),children:["Requests",e.length>0&&y.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[10px] flex items-center justify-center text-white border-2 border-slate-900",children:e.length})]}),y.jsx("button",{onClick:()=>b("search"),className:$("px-4 py-2 rounded-xl text-sm font-bold transition-all",g==="search"?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/25":d?"text-slate-600 hover:bg-slate-200":"text-slate-400 hover:text-white hover:bg-white/5"),children:"Find People"})]})}),y.jsx("div",{className:"p-6 min-h-[300px]",children:y.jsxs(Us,{mode:"wait",children:[g==="friends"&&y.jsx(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:t.length===0?y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:$("w-20 h-20 mx-auto rounded-full flex items-center justify-center mb-4",d?"bg-slate-100":"bg-white/5"),children:y.jsx(_h,{size:32,className:"text-slate-400"})}),y.jsx("h3",{className:$("text-lg font-bold mb-2",d?"text-slate-800":"text-white"),children:"No friends yet"}),y.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Connect with people to share boards and compete!"}),y.jsx("button",{onClick:()=>b("search"),className:"px-6 py-2 bg-accent-primary text-white rounded-xl font-bold hover:shadow-lg transition-all",children:"Find Friends"})]}):y.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:t.map(O=>y.jsxs("div",{className:$("flex items-center gap-4 p-4 rounded-xl border transition-all",d?"bg-white border-slate-200 hover:shadow-md":"bg-white/5 border-white/5 hover:bg-white/10"),children:[O.photoURL?y.jsx("img",{src:O.photoURL,alt:O.displayName,className:"w-12 h-12 rounded-full object-cover bg-slate-800"}):y.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-indigo-500 flex items-center justify-center text-white font-bold text-lg",children:O.displayName.charAt(0)}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("h4",{className:$("font-bold truncate",d?"text-slate-900":"text-white"),children:O.displayName}),y.jsx("p",{className:"text-xs text-slate-400 truncate",children:O.email})]}),y.jsx("button",{onClick:async()=>{await m.confirm("Are you sure you want to remove this friend?",{type:"error",confirmText:"Remove"})&&c(O.uid)},className:$("p-2 rounded-lg transition-colors",d?"text-slate-400 hover:text-red-500 hover:bg-red-50":"text-slate-600 hover:text-red-400 hover:bg-red-500/10"),children:y.jsx(eh,{size:18})})]},O.uid))})},"friends"),g==="requests"&&y.jsxs(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[y.jsxs("div",{className:"mb-8",children:[y.jsxs("h3",{className:$("text-sm font-bold uppercase tracking-wider mb-4 flex items-center gap-2",d?"text-slate-500":"text-slate-400"),children:[y.jsx(rv,{size:14})," Incoming Requests"]}),e.length===0?y.jsx("p",{className:"text-sm text-slate-500 italic",children:"No pending requests."}):y.jsx("div",{className:"space-y-3",children:e.map(O=>y.jsxs("div",{className:$("flex items-center gap-4 p-4 rounded-xl border",d?"bg-white border-slate-200":"bg-white/5 border-white/5"),children:[O.fromUserPhoto?y.jsx("img",{src:O.fromUserPhoto,className:"w-10 h-10 rounded-full object-cover"}):y.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center text-white font-bold",children:O.fromUserName.charAt(0)}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:$("font-bold",d?"text-slate-900":"text-white"),children:O.fromUserName}),y.jsx("div",{className:"text-xs text-slate-400",children:"Sent you a friend request"})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>a(O),className:"p-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors shadow-lg shadow-emerald-500/20",title:"Accept",children:y.jsx(bi,{size:18})}),y.jsx("button",{onClick:()=>l(O.id),className:$("p-2 rounded-lg transition-colors border",d?"border-slate-300 text-slate-500 hover:bg-slate-100":"border-white/10 text-slate-400 hover:bg-white/10"),title:"Decline",children:y.jsx(ur,{size:18})})]})]},O.id))})]}),y.jsxs("div",{children:[y.jsxs("h3",{className:$("text-sm font-bold uppercase tracking-wider mb-4 flex items-center gap-2",d?"text-slate-500":"text-slate-400"),children:[y.jsx(pI,{size:14})," Sent Requests"]}),n.length===0?y.jsx("p",{className:"text-sm text-slate-500 italic",children:"No sent requests."}):y.jsx("div",{className:"space-y-3",children:n.map(O=>y.jsxs("div",{className:$("flex items-center justify-between p-3 rounded-xl border opacity-70",d?"bg-slate-50 border-slate-200":"bg-white/5 border-white/5"),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:$("w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold",d?"bg-slate-200 text-slate-600":"bg-white/10 text-white"),children:O.toUserEmail.charAt(0).toUpperCase()}),y.jsxs("div",{children:[y.jsx("div",{className:$("text-sm font-bold",d?"text-slate-900":"text-white"),children:O.toUserEmail}),y.jsx("div",{className:"text-[10px] text-slate-400",children:"Pending..."})]})]}),y.jsx("button",{onClick:()=>l(O.id),className:"text-xs text-red-400 hover:underline",children:"Cancel"})]},O.id))})]})]},"requests"),g==="search"&&y.jsxs(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"max-w-md mx-auto py-8",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("h3",{className:$("text-xl font-bold mb-2",d?"text-slate-900":"text-white"),children:"Add a Friend"}),y.jsx("p",{className:"text-slate-400 text-sm",children:"Enter their email address to send a request."})]}),y.jsxs("div",{className:"relative mb-4",children:[y.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:y.jsx(rv,{size:18,className:"text-slate-500"})}),y.jsx("input",{type:"email",value:x,onChange:O=>A(O.target.value),placeholder:"friend@example.com",className:$("w-full pl-10 pr-4 py-3 rounded-xl outline-none border transition-all",d?"bg-slate-50 border-slate-200 focus:border-accent-primary focus:ring-2 focus:ring-accent-primary/20 text-slate-900 placeholder:text-slate-400":"bg-black/20 border-white/10 focus:border-accent-primary focus:ring-2 focus:ring-accent-primary/20 text-white placeholder:text-slate-500"),onKeyDown:O=>O.key==="Enter"&&R()})]}),y.jsx("button",{onClick:R,disabled:!x||k,className:"w-full py-3 bg-emerald-500 text-white font-bold rounded-xl hover:bg-emerald-600 hover:shadow-lg hover:shadow-emerald-500/25 active:scale-95 transition-all disabled:opacity-50 disabled:pointer-events-none",children:k?"Sending...":"Send Request"})]},"search")]})})]})},Aq=()=>{const{user:t}=Hi(),{settings:e}=fs(),n=e.theme==="light",[s,a]=S.useState({}),[l,c]=S.useState(!0),[h,d]=S.useState(!1);S.useEffect(()=>{if(!t)return;c(!0);const b=bn(dt,`users/${t.uid}/badges/progress`),x=rc(b,A=>{A.exists()?a(A.data()):a({}),c(!1)});return()=>x()},[t]);const m=["Speed","Creativity","Social"],g=oc.filter(b=>(s[b.id]?.progress||0)>=b.maxProgress).length;return y.jsxs("div",{className:$("rounded-3xl border shadow-xl overflow-hidden mb-8",n?"bg-white border-slate-200":"bg-slate-900 border-white/10"),children:[y.jsxs("button",{onClick:()=>d(!h),className:"w-full flex items-center justify-between p-6 md:p-8 text-left focus:outline-none group",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:$("p-3 rounded-2xl",n?"bg-amber-100 text-amber-600":"bg-amber-500/10 text-amber-500"),children:y.jsx(bh,{size:32})}),y.jsxs("div",{children:[y.jsx("h2",{className:$("text-xl md:text-2xl font-bold",n?"text-slate-900":"text-white"),children:"Trophy Case"}),y.jsxs("p",{className:"text-slate-400 text-sm",children:[g," / ",oc.length," Unlocked"]})]})]}),y.jsx("div",{className:$("p-2 rounded-full transition-colors",n?"text-slate-400 group-hover:bg-slate-100":"text-slate-500 group-hover:bg-white/5"),children:h?y.jsx(zB,{size:24}):y.jsx(OB,{size:24})})]}),y.jsx(Us,{children:h&&y.jsx(qe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:y.jsx("div",{className:"p-6 md:p-8 pt-0 border-t border-dashed border-slate-200 dark:border-white/10",children:l?y.jsx("div",{className:"text-center py-12 text-slate-500 animate-pulse",children:"Loading trophies..."}):y.jsx("div",{className:"space-y-10 mt-6",children:m.map(b=>y.jsxs("div",{children:[y.jsxs("h3",{className:$("text-lg font-bold mb-4 flex items-center gap-2",n?"text-slate-700":"text-slate-300"),children:[b==="Speed"&&"",b==="Creativity"&&"",b==="Social"&&"",b]}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:oc.filter(x=>x.category===b).map(x=>{const A=s[x.id]?.progress||0,k=A>=x.maxProgress,I=x.isHidden&&!k;return y.jsxs(qe.div,{whileHover:{scale:1.02},className:$("relative p-4 rounded-2xl border flex flex-col items-center text-center transition-all h-full",k?n?"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 shadow-sm":"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/30":n?"bg-slate-50 border-slate-100 opacity-80":"bg-white/5 border-white/5 opacity-60"),children:[y.jsxs("div",{className:$("w-16 h-16 rounded-full flex items-center justify-center text-3xl mb-3 shadow-inner relative overflow-hidden",k?n?"bg-white shadow-amber-100":"bg-black/30 shadow-black/50":"bg-black/10 grayscale"),children:[I?y.jsx(WB,{size:20,className:"text-slate-400"}):x.icon,k&&y.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/20 to-transparent w-full h-full skew-x-12 translate-x-full animate-shimmer"})]}),y.jsx("h4",{className:$("font-bold text-sm mb-1",k?n?"text-slate-900":"text-white":"text-slate-500"),children:I?"???":x.title}),y.jsx("p",{className:"text-xs text-slate-400 mb-3 leading-snug",children:I?"Keep playing to unlock.":x.description}),!k&&!I&&x.maxProgress>1&&y.jsxs("div",{className:"w-full mt-auto",children:[y.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mb-1 font-mono",children:[y.jsx("span",{children:A}),y.jsx("span",{children:x.maxProgress})]}),y.jsx("div",{className:"h-1.5 w-full bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-accent-primary rounded-full transition-all duration-500",style:{width:`${A/x.maxProgress*100}%`}})})]}),k&&s[x.id]?.unlockedAt&&y.jsx("div",{className:"mt-auto text-[10px] text-amber-500 font-medium bg-amber-500/10 px-2 py-0.5 rounded-full",children:"Unlocked!"})]},x.id)})})]},b))})})})})]})},Cq=()=>{const{user:t,updateProfileName:e}=Hi(),{settings:n}=fs(),s=n.theme==="light",[a,l]=S.useState({totalBoards:0,totalTiles:0,totalBingos:0,totalPhotos:0}),[c,h]=S.useState(!1),[d,m]=S.useState(t?.displayName||"");S.useEffect(()=>{if(!t)return;m(t.displayName||""),(async()=>{try{const x=qa(vi(dt,"boards"),ir(`members.${t.uid}`,"in",["owner","editor","viewer"])),A=await Yo(x);let k=0,I=0,R=0;A.docs.forEach(O=>{const H=O.data();k++,H.items&&H.items.forEach(F=>{F.isCompleted&&!F.isFreeSpace&&I++,F.proofPhotos&&(R+=F.proofPhotos.length)})}),l({totalBoards:k,totalTiles:I,totalBingos:0,totalPhotos:R})}catch(x){console.error("Error fetching stats",x)}})()},[t]);const g=async()=>{if(!(!t||!d.trim()))try{await e(d.trim()),h(!1)}catch(b){console.error("Failed to update name",b)}};return y.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-8 animate-in fade-in duration-500",children:[y.jsxs("div",{className:$("rounded-3xl p-8 mb-12 shadow-2xl relative overflow-hidden border",s?"bg-gradient-to-br from-indigo-100 to-slate-100 border-white shadow-indigo-100":"bg-gradient-to-br from-indigo-900/50 to-slate-900/50 border-white/10"),children:[y.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-accent-primary/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),y.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center gap-8",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:$("w-32 h-32 rounded-full border-4 flex items-center justify-center overflow-hidden shadow-xl",s?"bg-slate-200 border-white":"bg-slate-800 border-white/10"),children:t?.photoURL?y.jsx("img",{src:t.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):y.jsx(_h,{size:64,className:"text-slate-500"})}),y.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-accent-primary rounded-full text-white shadow-lg hover:scale-105 transition-transform",children:y.jsx(xh,{size:16})})]}),y.jsxs("div",{className:"flex-1 text-center md:text-left",children:[y.jsx("div",{className:"mb-2",children:y.jsx("span",{className:"text-sm font-semibold text-accent-secondary uppercase tracking-wider",children:"Player Profile"})}),c?y.jsxs("div",{className:"flex items-center gap-3 justify-center md:justify-start",children:[y.jsx("input",{value:d,onChange:b=>m(b.target.value),className:$("border rounded-lg px-4 py-2 text-2xl font-bold outline-none focus:border-accent-primary w-full max-w-xs",s?"bg-white/80 border-slate-300 text-slate-800":"bg-black/30 border-white/20 text-white"),autoFocus:!0}),y.jsx("button",{onClick:g,className:"p-2 bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30",children:y.jsx(bi,{size:24})})]}):y.jsxs("h1",{className:$("text-4xl font-bold mb-2 flex items-center justify-center md:justify-start gap-3 group",s?"text-slate-900":"text-white"),children:[t?.displayName||"Bingo Player",y.jsx("button",{onClick:()=>h(!0),className:$("opacity-0 group-hover:opacity-100 transition-opacity",s?"text-slate-400 hover:text-slate-700":"text-slate-400 hover:text-white"),children:y.jsx(Zu,{size:20})})]}),y.jsx("p",{className:$(s?"text-slate-600":"text-slate-400"),children:t?.email}),y.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Joined January 2026"})]})]})]}),y.jsx("div",{className:"mt-12",children:y.jsx(Sq,{})}),y.jsx(Aq,{}),y.jsxs("h2",{className:$("text-2xl font-bold mb-6 flex items-center gap-2 mt-12",s?"text-slate-800":"text-white"),children:[y.jsx(bh,{className:"text-accent-gold"})," Lifetime Stats"]}),y.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[y.jsx(Pf,{label:"Active Boards",value:a.totalBoards,icon:y.jsx(KB,{size:24,className:"text-violet-400"}),delay:0,isLightTheme:s}),y.jsx(Pf,{label:"Tiles Completed",value:a.totalTiles,icon:y.jsx(bi,{size:24,className:"text-emerald-400"}),delay:.1,isLightTheme:s}),y.jsx(Pf,{label:"Bingos Won",value:"--",icon:y.jsx(bh,{size:24,className:"text-amber-400"}),delay:.2,isLightTheme:s}),y.jsx(Pf,{label:"Photos Added",value:a.totalPhotos,icon:y.jsx(xh,{size:24,className:"text-pink-400"}),delay:.3,isLightTheme:s})]})]})},Pf=({label:t,value:e,icon:n,delay:s,isLightTheme:a})=>y.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s},className:$("p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-colors border",a?"bg-white border-slate-200 hover:bg-slate-50 shadow-sm":"bg-white/5 border-white/10 hover:bg-white/10"),children:[y.jsx("div",{className:$("mb-3 p-3 rounded-full",a?"bg-slate-100":"bg-white/5"),children:n}),y.jsx("div",{className:$("text-3xl font-bold mb-1",a?"text-slate-800":"text-white"),children:e}),y.jsx("div",{className:$("text-sm font-medium uppercase tracking-wide",a?"text-slate-500":"text-slate-400"),children:t})]}),jf=({children:t})=>{const{logout:e,user:n}=Hi(),{openSettings:s,settings:a,updateSettings:l}=fs(),[c,h]=At.useState(!1),d=Zr();At.useEffect(()=>{h(!1)},[d.pathname]);const m=[{label:"Dashboard",path:"/dashboard",icon:Qb},{label:"Profile",path:"/profile",icon:_h},{label:"Help & Guide",path:"/help",icon:mI}],g=a.theme==="light";return y.jsxs("div",{className:"min-h-screen bg-transparent flex",style:{color:"var(--theme-text-main)"},children:[c&&y.jsx("div",{className:$("fixed inset-0 z-40 lg:hidden backdrop-blur-sm",g?"bg-black/30":"bg-black/50"),onClick:()=>h(!1)}),y.jsxs("aside",{className:$("fixed inset-y-0 left-0 z-50 w-64 bg-[var(--theme-bg-subtle)] border-r border-[var(--theme-border)] transform transition-transform duration-200 lg:translate-x-0 lg:static flex flex-col",c?"translate-x-0":"-translate-x-full"),children:[y.jsx("div",{className:"h-16 flex items-center justify-center border-b border-[var(--theme-border)] shrink-0 p-2",children:y.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-full w-auto object-contain"})}),y.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:[y.jsx("div",{className:$("text-xs font-semibold uppercase tracking-wider mb-2 px-3","text-slate-500"),children:"Menu"}),m.map(b=>y.jsxs(OA,{to:b.path,className:({isActive:x})=>$("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",x?"bg-[var(--theme-accent-primary)]/10 text-[var(--theme-accent-primary)]":g?"text-slate-600 hover:text-slate-900 hover:bg-slate-100":"text-slate-400 hover:text-slate-100 hover:bg-white/5"),children:[y.jsx(b.icon,{size:18}),b.label]},b.path)),y.jsxs("button",{onClick:s,className:$("w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",g?"text-slate-600 hover:text-slate-900 hover:bg-slate-100":"text-slate-400 hover:text-slate-100 hover:bg-white/5"),children:[y.jsx(u8,{size:18}),"Settings"]}),y.jsxs("div",{className:$("px-3 py-3 mt-2 border-t",g?"border-slate-200":"border-white/5"),children:[y.jsx("div",{className:$("text-[10px] font-bold uppercase tracking-wider mb-3","text-slate-500"),children:"Theme"}),y.jsx("div",{className:"flex justify-between gap-1",children:[{id:"light",color:"bg-slate-200 ring-1 ring-slate-400"},{id:"dawn",color:"bg-orange-400"},{id:"midnight",color:"bg-indigo-500"},{id:"cosmic",color:"bg-violet-500"},{id:"lavender",color:"bg-fuchsia-500"},{id:"forest",color:"bg-emerald-500"},{id:"ocean",color:"bg-cyan-500"},{id:"sunset",color:"bg-rose-500"}].map(b=>y.jsx("button",{onClick:()=>l({theme:b.id}),className:$("w-6 h-6 rounded-full transition-all duration-300 relative",b.color,a.theme===b.id?g?"ring-2 ring-slate-800 ring-offset-2 ring-offset-white scale-110 z-10":"ring-2 ring-white ring-offset-2 ring-offset-[var(--theme-bg-subtle)] scale-110 z-10":"opacity-40 hover:opacity-100 hover:scale-105"),title:b.id},b.id))})]})]}),y.jsxs("div",{className:$("p-4 border-t bg-[var(--theme-bg-subtle)] shrink-0",g?"border-slate-200":"border-[var(--theme-border)]"),children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[n?.photoURL?y.jsx("img",{src:n.photoURL,className:"w-8 h-8 rounded-full bg-slate-800 object-cover",alt:"User"}):y.jsx("div",{className:$("w-8 h-8 rounded-full flex items-center justify-center",g?"bg-slate-200":"bg-slate-800"),children:y.jsx(_h,{size:14,className:g?"text-slate-600":"text-slate-400"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:$("text-sm font-medium truncate",g?"text-slate-800":"text-white"),children:n?.displayName||"User"}),y.jsx("p",{className:$("text-xs truncate","text-slate-500"),children:n?.email})]})]}),y.jsxs("button",{onClick:e,className:$("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-lg transition-colors",g?"text-slate-600 hover:text-red-600 hover:bg-red-50":"text-slate-400 hover:text-red-400 hover:bg-red-500/10"),children:[y.jsx(gI,{size:16}),"Sign Out"]})]})]}),y.jsxs("main",{className:"flex-1 min-w-0 flex flex-col h-screen overflow-hidden bg-transparent relative",children:[y.jsxs("header",{className:$("h-16 flex items-center justify-between px-4 lg:hidden border-b shrink-0",g?"border-slate-200 bg-white/80 backdrop-blur-sm":"border-[var(--theme-border)] bg-[var(--theme-bg-subtle)]"),children:[y.jsx("button",{onClick:()=>h(!0),className:$("p-2",g?"text-slate-600":"text-slate-400"),children:y.jsx(e8,{size:24})}),y.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-8 w-auto"}),y.jsx("div",{className:"w-8"})," "]}),y.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 sm:p-6 lg:p-8",children:y.jsx("div",{className:"max-w-7xl mx-auto h-full",children:t})})]})]})},Rq=()=>{const{user:t,loading:e}=Hi();return e?y.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-bg-dark text-slate-500",children:"Initializing..."}):y.jsxs(y.Fragment,{children:[y.jsx(bq,{}),y.jsx(TP,{}),y.jsx("div",{className:"relative z-10 min-h-screen",children:y.jsx(mP,{children:y.jsxs(HM,{children:[y.jsx(Vr,{path:"/login",element:t?y.jsx(jo,{to:"/dashboard",replace:!0}):y.jsx(gF,{})}),y.jsx(Vr,{path:"/help",element:y.jsx(Tq,{})}),y.jsx(Vr,{path:"/dashboard",element:t?y.jsx(jf,{children:y.jsx(vq,{})}):y.jsx(jo,{to:"/login",replace:!0})}),y.jsx(Vr,{path:"/profile",element:t?y.jsx(jf,{children:y.jsx(Cq,{})}):y.jsx(jo,{to:"/login",replace:!0})}),y.jsx(Vr,{path:"/board/legacy/:yearId",element:t?y.jsx(jf,{children:y.jsx(gA,{})}):y.jsx(jo,{to:"/login",replace:!0})}),y.jsx(Vr,{path:"/board/:boardId",element:t?y.jsx(jf,{children:y.jsx(gA,{})}):y.jsx(jo,{to:"/login",replace:!0})}),y.jsx(Vr,{path:"/",element:y.jsx(jo,{to:t?"/dashboard":"/login",replace:!0})}),y.jsx(Vr,{path:"*",element:y.jsx(jo,{to:t?"/dashboard":"/login",replace:!0})})]})})})]})};function Nq(){return y.jsx(UL,{children:y.jsx(pF,{children:y.jsx(E8,{children:y.jsx(Rq,{})})})})}console.log("Main.tsx full run");const yA=document.getElementById("root");yA?$D.createRoot(yA).render(y.jsx(S.StrictMode,{children:y.jsx(Nq,{})})):console.error("Root not found");export{Ka as C,pr as F,Hm as _,hn as a,FA as b,Jo as c,yi as d,hp as e,Ev as g,nl as i,xv as p,rr as r,wv as u};
