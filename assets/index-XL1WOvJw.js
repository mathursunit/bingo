(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function pN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fg={exports:{}},eu={};var rx;function gN(){if(rx)return eu;rx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return eu.Fragment=e,eu.jsx=n,eu.jsxs=n,eu}var ax;function yN(){return ax||(ax=1,fg.exports=gN()),fg.exports}var b=yN(),mg={exports:{}},je={};var ox;function vN(){if(ox)return je;ox=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function C(E){return E===null||typeof E!="object"?null:(E=x&&E[x]||E["@@iterator"],typeof E=="function"?E:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,N={};function q(E,Q,ne){this.props=E,this.context=Q,this.refs=N,this.updater=ne||M}q.prototype.isReactComponent={},q.prototype.setState=function(E,Q){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,Q,"setState")},q.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function W(){}W.prototype=q.prototype;function K(E,Q,ne){this.props=E,this.context=Q,this.refs=N,this.updater=ne||M}var G=K.prototype=new W;G.constructor=K,O(G,q.prototype),G.isPureReactComponent=!0;var re=Array.isArray;function ce(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function k(E,Q,ne){var oe=ne.ref;return{$$typeof:t,type:E,key:Q,ref:oe!==void 0?oe:null,props:ne}}function j(E,Q){return k(E.type,Q,E.props)}function P(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function z(E){var Q={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ne){return Q[ne]})}var V=/\/+/g;function me(E,Q){return typeof E=="object"&&E!==null&&E.key!=null?z(""+E.key):Q.toString(36)}function ye(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(ce,ce):(E.status="pending",E.then(function(Q){E.status==="pending"&&(E.status="fulfilled",E.value=Q)},function(Q){E.status==="pending"&&(E.status="rejected",E.reason=Q)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function U(E,Q,ne,oe,ge){var ve=typeof E;(ve==="undefined"||ve==="boolean")&&(E=null);var de=!1;if(E===null)de=!0;else switch(ve){case"bigint":case"string":case"number":de=!0;break;case"object":switch(E.$$typeof){case t:case e:de=!0;break;case y:return de=E._init,U(de(E._payload),Q,ne,oe,ge)}}if(de)return ge=ge(E),de=oe===""?"."+me(E,0):oe,re(ge)?(ne="",de!=null&&(ne=de.replace(V,"$&/")+"/"),U(ge,Q,ne,"",function(Ge){return Ge})):ge!=null&&(P(ge)&&(ge=j(ge,ne+(ge.key==null||E&&E.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+de)),Q.push(ge)),1;de=0;var Ee=oe===""?".":oe+":";if(re(E))for(var Ie=0;Ie<E.length;Ie++)oe=E[Ie],ve=Ee+me(oe,Ie),de+=U(oe,Q,ne,ve,ge);else if(Ie=C(E),typeof Ie=="function")for(E=Ie.call(E),Ie=0;!(oe=E.next()).done;)oe=oe.value,ve=Ee+me(oe,Ie++),de+=U(oe,Q,ne,ve,ge);else if(ve==="object"){if(typeof E.then=="function")return U(ye(E),Q,ne,oe,ge);throw Q=String(E),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return de}function Z(E,Q,ne){if(E==null)return E;var oe=[],ge=0;return U(E,oe,"","",function(ve){return Q.call(ne,ve,ge++)}),oe}function H(E){if(E._status===-1){var Q=E._result;Q=Q(),Q.then(function(ne){(E._status===0||E._status===-1)&&(E._status=1,E._result=ne)},function(ne){(E._status===0||E._status===-1)&&(E._status=2,E._result=ne)}),E._status===-1&&(E._status=0,E._result=Q)}if(E._status===1)return E._result.default;throw E._result}var pe=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},B={map:Z,forEach:function(E,Q,ne){Z(E,function(){Q.apply(this,arguments)},ne)},count:function(E){var Q=0;return Z(E,function(){Q++}),Q},toArray:function(E){return Z(E,function(Q){return Q})||[]},only:function(E){if(!P(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return je.Activity=v,je.Children=B,je.Component=q,je.Fragment=n,je.Profiler=a,je.PureComponent=K,je.StrictMode=s,je.Suspense=f,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,je.__COMPILER_RUNTIME={__proto__:null,c:function(E){return I.H.useMemoCache(E)}},je.cache=function(E){return function(){return E.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(E,Q,ne){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var oe=O({},E.props),ge=E.key;if(Q!=null)for(ve in Q.key!==void 0&&(ge=""+Q.key),Q)!S.call(Q,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&Q.ref===void 0||(oe[ve]=Q[ve]);var ve=arguments.length-2;if(ve===1)oe.children=ne;else if(1<ve){for(var de=Array(ve),Ee=0;Ee<ve;Ee++)de[Ee]=arguments[Ee+2];oe.children=de}return k(E.type,ge,oe)},je.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:l,_context:E},E},je.createElement=function(E,Q,ne){var oe,ge={},ve=null;if(Q!=null)for(oe in Q.key!==void 0&&(ve=""+Q.key),Q)S.call(Q,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ge[oe]=Q[oe]);var de=arguments.length-2;if(de===1)ge.children=ne;else if(1<de){for(var Ee=Array(de),Ie=0;Ie<de;Ie++)Ee[Ie]=arguments[Ie+2];ge.children=Ee}if(E&&E.defaultProps)for(oe in de=E.defaultProps,de)ge[oe]===void 0&&(ge[oe]=de[oe]);return k(E,ve,ge)},je.createRef=function(){return{current:null}},je.forwardRef=function(E){return{$$typeof:d,render:E}},je.isValidElement=P,je.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:H}},je.memo=function(E,Q){return{$$typeof:m,type:E,compare:Q===void 0?null:Q}},je.startTransition=function(E){var Q=I.T,ne={};I.T=ne;try{var oe=E(),ge=I.S;ge!==null&&ge(ne,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ce,pe)}catch(ve){pe(ve)}finally{Q!==null&&ne.types!==null&&(Q.types=ne.types),I.T=Q}},je.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},je.use=function(E){return I.H.use(E)},je.useActionState=function(E,Q,ne){return I.H.useActionState(E,Q,ne)},je.useCallback=function(E,Q){return I.H.useCallback(E,Q)},je.useContext=function(E){return I.H.useContext(E)},je.useDebugValue=function(){},je.useDeferredValue=function(E,Q){return I.H.useDeferredValue(E,Q)},je.useEffect=function(E,Q){return I.H.useEffect(E,Q)},je.useEffectEvent=function(E){return I.H.useEffectEvent(E)},je.useId=function(){return I.H.useId()},je.useImperativeHandle=function(E,Q,ne){return I.H.useImperativeHandle(E,Q,ne)},je.useInsertionEffect=function(E,Q){return I.H.useInsertionEffect(E,Q)},je.useLayoutEffect=function(E,Q){return I.H.useLayoutEffect(E,Q)},je.useMemo=function(E,Q){return I.H.useMemo(E,Q)},je.useOptimistic=function(E,Q){return I.H.useOptimistic(E,Q)},je.useReducer=function(E,Q,ne){return I.H.useReducer(E,Q,ne)},je.useRef=function(E){return I.H.useRef(E)},je.useState=function(E){return I.H.useState(E)},je.useSyncExternalStore=function(E,Q,ne){return I.H.useSyncExternalStore(E,Q,ne)},je.useTransition=function(){return I.H.useTransition()},je.version="19.2.3",je}var lx;function e0(){return lx||(lx=1,mg.exports=vN()),mg.exports}var D=e0();const rf=pN(D);var pg={exports:{}},tu={},gg={exports:{}},yg={};var cx;function bN(){return cx||(cx=1,(function(t){function e(U,Z){var H=U.length;U.push(Z);e:for(;0<H;){var pe=H-1>>>1,B=U[pe];if(0<a(B,Z))U[pe]=Z,U[H]=B,H=pe;else break e}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var Z=U[0],H=U.pop();if(H!==Z){U[0]=H;e:for(var pe=0,B=U.length,E=B>>>1;pe<E;){var Q=2*(pe+1)-1,ne=U[Q],oe=Q+1,ge=U[oe];if(0>a(ne,H))oe<B&&0>a(ge,ne)?(U[pe]=ge,U[oe]=H,pe=oe):(U[pe]=ne,U[Q]=H,pe=Q);else if(oe<B&&0>a(ge,H))U[pe]=ge,U[oe]=H,pe=oe;else break e}}return Z}function a(U,Z){var H=U.sortIndex-Z.sortIndex;return H!==0?H:U.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],m=[],y=1,v=null,x=3,C=!1,M=!1,O=!1,N=!1,q=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function G(U){for(var Z=n(m);Z!==null;){if(Z.callback===null)s(m);else if(Z.startTime<=U)s(m),Z.sortIndex=Z.expirationTime,e(f,Z);else break;Z=n(m)}}function re(U){if(O=!1,G(U),!M)if(n(f)!==null)M=!0,ce||(ce=!0,z());else{var Z=n(m);Z!==null&&ye(re,Z.startTime-U)}}var ce=!1,I=-1,S=5,k=-1;function j(){return N?!0:!(t.unstable_now()-k<S)}function P(){if(N=!1,ce){var U=t.unstable_now();k=U;var Z=!0;try{e:{M=!1,O&&(O=!1,W(I),I=-1),C=!0;var H=x;try{t:{for(G(U),v=n(f);v!==null&&!(v.expirationTime>U&&j());){var pe=v.callback;if(typeof pe=="function"){v.callback=null,x=v.priorityLevel;var B=pe(v.expirationTime<=U);if(U=t.unstable_now(),typeof B=="function"){v.callback=B,G(U),Z=!0;break t}v===n(f)&&s(f),G(U)}else s(f);v=n(f)}if(v!==null)Z=!0;else{var E=n(m);E!==null&&ye(re,E.startTime-U),Z=!1}}break e}finally{v=null,x=H,C=!1}Z=void 0}}finally{Z?z():ce=!1}}}var z;if(typeof K=="function")z=function(){K(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,me=V.port2;V.port1.onmessage=P,z=function(){me.postMessage(null)}}else z=function(){q(P,0)};function ye(U,Z){I=q(function(){U(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(U){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var H=x;x=Z;try{return U()}finally{x=H}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var H=x;x=U;try{return Z()}finally{x=H}},t.unstable_scheduleCallback=function(U,Z,H){var pe=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?pe+H:pe):H=pe,U){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=H+B,U={id:y++,callback:Z,priorityLevel:U,startTime:H,expirationTime:B,sortIndex:-1},H>pe?(U.sortIndex=H,e(m,U),n(f)===null&&U===n(m)&&(O?(W(I),I=-1):O=!0,ye(re,H-pe))):(U.sortIndex=B,e(f,U),M||C||(M=!0,ce||(ce=!0,z()))),U},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(U){var Z=x;return function(){var H=x;x=Z;try{return U.apply(this,arguments)}finally{x=H}}}})(yg)),yg}var ux;function _N(){return ux||(ux=1,gg.exports=bN()),gg.exports}var vg={exports:{}},Rn={};var hx;function wN(){if(hx)return Rn;hx=1;var t=e0();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:m,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Rn.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(f,m,null,y)},Rn.flushSync=function(f){var m=u.T,y=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=m,s.p=y,s.d.f()}},Rn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(f,m))},Rn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},Rn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,v=d(y,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:C}):y==="script"&&s.d.X(f,{crossOrigin:v,integrity:x,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Rn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);s.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(f)},Rn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=d(y,m.crossOrigin);s.d.L(f,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Rn.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=d(m.as,m.crossOrigin);s.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(f)},Rn.requestFormReset=function(f){s.d.r(f)},Rn.unstable_batchedUpdates=function(f,m){return f(m)},Rn.useFormState=function(f,m,y){return u.H.useFormState(f,m,y)},Rn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Rn.version="19.2.3",Rn}var dx;function xN(){if(dx)return vg.exports;dx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vg.exports=wN(),vg.exports}var fx;function TN(){if(fx)return tu;fx=1;var t=_N(),e=e0(),n=xN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return f(p),i;if(g===c)return f(p),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=p,c=g;else{for(var w=!1,A=p.child;A;){if(A===o){w=!0,o=p,c=g;break}if(A===c){w=!0,c=p,o=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===o){w=!0,o=g,c=p;break}if(A===c){w=!0,c=g,o=p;break}A=A.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),K=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function me(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case q:return"Profiler";case N:return"StrictMode";case re:return"Suspense";case ce:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case K:return i.displayName||"Context";case W:return(i._context.displayName||"Context")+".Consumer";case G:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:me(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return me(i(r))}catch{}}return null}var ye=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},pe=[],B=-1;function E(i){return{current:i}}function Q(i){0>B||(i.current=pe[B],pe[B]=null,B--)}function ne(i,r){B++,pe[B]=i.current,i.current=r}var oe=E(null),ge=E(null),ve=E(null),de=E(null);function Ee(i,r){switch(ne(ve,r),ne(ge,i),ne(oe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Rw(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Rw(r),i=Iw(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Q(oe),ne(oe,i)}function Ie(){Q(oe),Q(ge),Q(ve)}function Ge(i){i.memoizedState!==null&&ne(de,i);var r=oe.current,o=Iw(r,i.type);r!==o&&(ne(ge,i),ne(oe,o))}function qe(i){ge.current===i&&(Q(oe),Q(ge)),de.current===i&&(Q(de),Wc._currentValue=H)}var $e,xt;function Ve(i){if($e===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);$e=r&&r[1]||"",xt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$e+i+xt}var ut=!1;function zt(i,r){if(!i||ut)return"";ut=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(se){var te=se}Reflect.construct(i,[],ue)}else{try{ue.call()}catch(se){te=se}i.call(ue.prototype)}}else{try{throw Error()}catch(se){te=se}(ue=i())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(se){if(se&&te&&typeof se.stack=="string")return[se.stack,te.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],A=g[1];if(w&&A){var L=w.split(`
`),ee=A.split(`
`);for(p=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;p<ee.length&&!ee[p].includes("DetermineComponentFrameRoot");)p++;if(c===L.length||p===ee.length)for(c=L.length-1,p=ee.length-1;1<=c&&0<=p&&L[c]!==ee[p];)p--;for(;1<=c&&0<=p;c--,p--)if(L[c]!==ee[p]){if(c!==1||p!==1)do if(c--,p--,0>p||L[c]!==ee[p]){var ae=`
`+L[c].replace(" at new "," at ");return i.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",i.displayName)),ae}while(1<=c&&0<=p);break}}}finally{ut=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ve(o):""}function Bt(i,r){switch(i.tag){case 26:case 27:case 5:return Ve(i.type);case 16:return Ve("Lazy");case 13:return i.child!==r&&r!==null?Ve("Suspense Fallback"):Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 15:return zt(i.type,!1);case 11:return zt(i.type.render,!1);case 1:return zt(i.type,!0);case 31:return Ve("Activity");default:return""}}function yn(i){try{var r="",o=null;do r+=Bt(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ht=Object.prototype.hasOwnProperty,et=t.unstable_scheduleCallback,gi=t.unstable_cancelCallback,Da=t.unstable_shouldYield,wr=t.unstable_requestPaint,Yt=t.unstable_now,Sn=t.unstable_getCurrentPriorityLevel,Vn=t.unstable_ImmediatePriority,Fn=t.unstable_UserBlockingPriority,An=t.unstable_NormalPriority,Us=t.unstable_LowPriority,ls=t.unstable_IdlePriority,cs=t.log,Fi=t.unstable_setDisableYieldValue,rt=null,Dt=null;function Pn(i){if(typeof cs=="function"&&Fi(i),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(rt,i)}catch{}}var Tt=Math.clz32?Math.clz32:Ma,zs=Math.log,yi=Math.LN2;function Ma(i){return i>>>=0,i===0?32:31-(zs(i)/yi|0)|0}var Jn=256,vi=262144,Ot=4194304;function ei(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function bi(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var p=0,g=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?p=ei(c):(w&=A,w!==0?p=ei(w):o||(o=A&~i,o!==0&&(p=ei(o))))):(A=c&~g,A!==0?p=ei(A):w!==0?p=ei(w):o||(o=c&~i,o!==0&&(p=ei(o)))),p===0?0:r!==0&&r!==p&&(r&g)===0&&(g=p&-p,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:p}function qn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Va(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xr(){var i=Ot;return Ot<<=1,(Ot&62914560)===0&&(Ot=4194304),i}function _i(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Bs(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function nc(i,r,o,c,p,g){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,L=i.expirationTimes,ee=i.hiddenUpdates;for(o=w&~o;0<o;){var ae=31-Tt(o),ue=1<<ae;A[ae]=0,L[ae]=-1;var te=ee[ae];if(te!==null)for(ee[ae]=null,ae=0;ae<te.length;ae++){var se=te[ae];se!==null&&(se.lane&=-536870913)}o&=~ue}c!==0&&us(i,c,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(w&~r))}function us(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Tt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Pa(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Tt(o),p=1<<c;p&r|i[c]&r&&(i[c]|=r),o&=~p}}function Oa(i,r){var o=r&-r;return o=(o&42)!==0?1:Tr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Tr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function wi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Er(){var i=Z.p;return i!==0?i:(i=window.event,i===void 0?32:Zw(i.type))}function On(i,r){var o=Z.p;try{return Z.p=i,r()}finally{Z.p=o}}var ti=Math.random().toString(36).slice(2),Y="__reactFiber$"+ti,we="__reactProps$"+ti,dt="__reactContainer$"+ti,Rt="__reactEvents$"+ti,Qt="__reactListeners$"+ti,Cn="__reactHandles$"+ti,qi="__reactResources$"+ti,ni="__reactMarker$"+ti;function No(i){delete i[Y],delete i[we],delete i[Rt],delete i[Qt],delete i[Cn]}function hs(i){var r=i[Y];if(r)return r;for(var o=i.parentNode;o;){if(r=o[dt]||o[Y]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Ow(i);i!==null;){if(o=i[Y])return o;i=Ow(i)}return r}i=o,o=i.parentNode}return null}function xi(i){if(i=i[Y]||i[dt]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function ii(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ds(i){var r=i[qi];return r||(r=i[qi]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Wt(i){i[ni]=!0}var ic=new Set,sc={};function fs(i,r){ms(i,r),ms(i+"Capture",r)}function ms(i,r){for(sc[i]=r,i=0;i<r.length;i++)ic.add(r[i])}var rc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ac={},oc={};function oh(i){return ht.call(oc,i)?!0:ht.call(ac,i)?!1:rc.test(i)?oc[i]=!0:(ac[i]=!0,!1)}function ko(i,r,o){if(oh(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function si(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Xt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function dn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Sr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function lc(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return p.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function mt(i){if(!i._valueTracker){var r=Sr(i)?"checked":"value";i._valueTracker=lc(i,r,""+i[r])}}function ja(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Sr(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function ps(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var La=/[\n"\\]/g;function Hn(i){return i.replace(La,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Do(i,r,o,c,p,g,w,A){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),r!=null?w==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+dn(r)):i.value!==""+dn(r)&&(i.value=""+dn(r)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),r!=null?cc(i,w,dn(r)):o!=null?cc(i,w,dn(o)):c!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+dn(A):i.removeAttribute("name")}function lh(i,r,o,c,p,g,w,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){mt(i);return}o=o!=null?""+dn(o):"",r=r!=null?""+dn(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),mt(i)}function cc(i,r,o){r==="number"&&ps(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ar(i,r,o,c){if(i=i.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=r.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&c&&(i[o].defaultSelected=!0)}else{for(o=""+dn(o),r=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}r!==null||i[p].disabled||(r=i[p])}r!==null&&(r.selected=!0)}}function ch(i,r,o){if(r!=null&&(r=""+dn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+dn(o):""}function Cr(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(ye(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=dn(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),mt(i)}function Gn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var uh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uc(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||uh.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function hc(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in r)c=r[p],r.hasOwnProperty(p)&&o[p]!==c&&uc(i,p,c)}else for(var g in r)r.hasOwnProperty(g)&&uc(i,g,r[g])}function Mo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vo(i){return Rr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Hi(){}var dc=null;function Ti(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ir=null,gs=null;function Ua(i){var r=xi(i);if(r&&(i=r.stateNode)){var o=i[we]||null;e:switch(i=r.stateNode,r.type){case"input":if(Do(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Hn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var p=c[we]||null;if(!p)throw Error(s(90));Do(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&ja(c)}break e;case"textarea":ch(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ar(i,!!o.multiple,r,!1)}}}var Po=!1;function Nr(i,r,o){if(Po)return i(r,o);Po=!0;try{var c=i(r);return c}finally{if(Po=!1,(Ir!==null||gs!==null)&&(sd(),Ir&&(r=Ir,i=gs,gs=Ir=null,Ua(r),i)))for(r=0;r<i.length;r++)Ua(i[r])}}function Gi(i,r){var o=i.stateNode;if(o===null)return null;var c=o[we]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),za=!1;if(Ei)try{var yt={};Object.defineProperty(yt,"passive",{get:function(){za=!0}}),window.addEventListener("test",yt,yt),window.removeEventListener("test",yt,yt)}catch{za=!1}var ys=null,fc=null,Ba=null;function mc(){if(Ba)return Ba;var i,r=fc,o=r.length,c,p="value"in ys?ys.value:ys.textContent,g=p.length;for(i=0;i<o&&r[i]===p[i];i++);var w=o-i;for(c=1;c<=w&&r[o-c]===p[g-c];c++);return Ba=p.slice(i,1<c?1-c:void 0)}function Fa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Fs(){return!0}function $i(){return!1}function vn(i){function r(o,c,p,g,w){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Fs:$i,this.isPropagationStopped=$i,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),r}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=vn(qs),kr=v({},qs,{view:0,detail:0}),pc=vn(kr),Dr,Oo,bs,jo=v({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==bs&&(bs&&i.type==="mousemove"?(Dr=i.screenX-bs.screenX,Oo=i.screenY-bs.screenY):Oo=Dr=0,bs=i),Dr)},movementY:function(i){return"movementY"in i?i.movementY:Oo}}),gc=vn(jo),qa=v({},jo,{dataTransfer:0}),dh=vn(qa),fh=v({},kr,{relatedTarget:0}),Ha=vn(fh),yc=v({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),mh=vn(yc),Lo=v({},qs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ph=vn(Lo),gh=v({},qs,{data:0}),_s=vn(gh),yh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _h(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=bh[i])?!!r[i]:!1}function Mr(){return _h}var jn=v({},kr,{key:function(i){if(i.key){var r=yh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Fa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?vh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(i){return i.type==="keypress"?Fa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Fa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),wh=vn(jn),xh=v({},jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hs=vn(xh),h=v({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr}),_=vn(h),T=v({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=vn(T),X=v({},jo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ie=vn(X),be=v({},qs,{newState:0,oldState:0}),ze=vn(be),Ft=[9,13,27,32],lt=Ei&&"CompositionEvent"in window,It=null;Ei&&"documentMode"in document&&(It=document.documentMode);var Si=Ei&&"TextEvent"in window&&!It,ws=Ei&&(!lt||It&&8<It&&11>=It),Ki=" ",Yi=!1;function Ga(i,r){switch(i){case"keyup":return Ft.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var zo=!1;function UR(i,r){switch(i){case"compositionend":return Uo(r);case"keypress":return r.which!==32?null:(Yi=!0,Ki);case"textInput":return i=r.data,i===Ki&&Yi?null:i;default:return null}}function zR(i,r){if(zo)return i==="compositionend"||!lt&&Ga(i,r)?(i=mc(),Ba=fc=ys=null,zo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ws&&r.locale!=="ko"?null:r.data;default:return null}}var BR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!BR[i.type]:r==="textarea"}function zv(i,r,o,c){Ir?gs?gs.push(c):gs=[c]:Ir=c,r=hd(r,"onChange"),0<r.length&&(o=new vs("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var vc=null,bc=null;function FR(i){xw(i,0)}function Th(i){var r=ii(i);if(ja(r))return i}function Bv(i,r){if(i==="change")return r}var Fv=!1;if(Ei){var _m;if(Ei){var wm="oninput"in document;if(!wm){var qv=document.createElement("div");qv.setAttribute("oninput","return;"),wm=typeof qv.oninput=="function"}_m=wm}else _m=!1;Fv=_m&&(!document.documentMode||9<document.documentMode)}function Hv(){vc&&(vc.detachEvent("onpropertychange",Gv),bc=vc=null)}function Gv(i){if(i.propertyName==="value"&&Th(bc)){var r=[];zv(r,bc,i,Ti(i)),Nr(FR,r)}}function qR(i,r,o){i==="focusin"?(Hv(),vc=r,bc=o,vc.attachEvent("onpropertychange",Gv)):i==="focusout"&&Hv()}function HR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Th(bc)}function GR(i,r){if(i==="click")return Th(r)}function $R(i,r){if(i==="input"||i==="change")return Th(r)}function KR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var ri=typeof Object.is=="function"?Object.is:KR;function _c(i,r){if(ri(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!ht.call(r,p)||!ri(i[p],r[p]))return!1}return!0}function $v(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Kv(i,r){var o=$v(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=$v(o)}}function Yv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Yv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Qv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ps(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=ps(i.document)}return r}function xm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var YR=Ei&&"documentMode"in document&&11>=document.documentMode,Bo=null,Tm=null,wc=null,Em=!1;function Wv(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Em||Bo==null||Bo!==ps(c)||(c=Bo,"selectionStart"in c&&xm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),wc&&_c(wc,c)||(wc=c,c=hd(Tm,"onSelect"),0<c.length&&(r=new vs("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Bo)))}function $a(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Fo={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},Sm={},Xv={};Ei&&(Xv=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function Ka(i){if(Sm[i])return Sm[i];if(!Fo[i])return i;var r=Fo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Xv)return Sm[i]=r[o];return i}var Zv=Ka("animationend"),Jv=Ka("animationiteration"),eb=Ka("animationstart"),QR=Ka("transitionrun"),WR=Ka("transitionstart"),XR=Ka("transitioncancel"),tb=Ka("transitionend"),nb=new Map,Am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Am.push("scrollEnd");function Qi(i,r){nb.set(i,r),fs(r,[i])}var Eh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ai=[],qo=0,Cm=0;function Sh(){for(var i=qo,r=Cm=qo=0;r<i;){var o=Ai[r];Ai[r++]=null;var c=Ai[r];Ai[r++]=null;var p=Ai[r];Ai[r++]=null;var g=Ai[r];if(Ai[r++]=null,c!==null&&p!==null){var w=c.pending;w===null?p.next=p:(p.next=w.next,w.next=p),c.pending=p}g!==0&&ib(o,p,g)}}function Ah(i,r,o,c){Ai[qo++]=i,Ai[qo++]=r,Ai[qo++]=o,Ai[qo++]=c,Cm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Rm(i,r,o,c){return Ah(i,r,o,c),Ch(i)}function Ya(i,r){return Ah(i,null,null,r),Ch(i)}function ib(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&r!==null&&(p=31-Tt(o),i=g.hiddenUpdates,c=i[p],c===null?i[p]=[r]:c.push(r),r.lane=o|536870912),g):null}function Ch(i){if(50<qc)throw qc=0,jp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Ho={};function ZR(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(i,r,o,c){return new ZR(i,r,o,c)}function Im(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Gs(i,r){var o=i.alternate;return o===null?(o=ai(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function sb(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Rh(i,r,o,c,p,g){var w=0;if(c=i,typeof i=="function")Im(i)&&(w=1);else if(typeof i=="string")w=iN(i,o,oe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case k:return i=ai(31,o,r,p),i.elementType=k,i.lanes=g,i;case O:return Qa(o.children,p,g,r);case N:w=8,p|=24;break;case q:return i=ai(12,o,r,p|2),i.elementType=q,i.lanes=g,i;case re:return i=ai(13,o,r,p),i.elementType=re,i.lanes=g,i;case ce:return i=ai(19,o,r,p),i.elementType=ce,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:w=10;break e;case W:w=9;break e;case G:w=11;break e;case I:w=14;break e;case S:w=16,c=null;break e}w=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=ai(w,o,r,p),r.elementType=i,r.type=c,r.lanes=g,r}function Qa(i,r,o,c){return i=ai(7,i,c,r),i.lanes=o,i}function Nm(i,r,o){return i=ai(6,i,null,r),i.lanes=o,i}function rb(i){var r=ai(18,null,null,0);return r.stateNode=i,r}function km(i,r,o){return r=ai(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var ab=new WeakMap;function Ci(i,r){if(typeof i=="object"&&i!==null){var o=ab.get(i);return o!==void 0?o:(r={value:i,source:r,stack:yn(r)},ab.set(i,r),r)}return{value:i,source:r,stack:yn(r)}}var Go=[],$o=0,Ih=null,xc=0,Ri=[],Ii=0,Vr=null,xs=1,Ts="";function $s(i,r){Go[$o++]=xc,Go[$o++]=Ih,Ih=i,xc=r}function ob(i,r,o){Ri[Ii++]=xs,Ri[Ii++]=Ts,Ri[Ii++]=Vr,Vr=i;var c=xs;i=Ts;var p=32-Tt(c)-1;c&=~(1<<p),o+=1;var g=32-Tt(r)+p;if(30<g){var w=p-p%5;g=(c&(1<<w)-1).toString(32),c>>=w,p-=w,xs=1<<32-Tt(r)+p|o<<p|c,Ts=g+i}else xs=1<<g|o<<p|c,Ts=i}function Dm(i){i.return!==null&&($s(i,1),ob(i,1,0))}function Mm(i){for(;i===Ih;)Ih=Go[--$o],Go[$o]=null,xc=Go[--$o],Go[$o]=null;for(;i===Vr;)Vr=Ri[--Ii],Ri[Ii]=null,Ts=Ri[--Ii],Ri[Ii]=null,xs=Ri[--Ii],Ri[Ii]=null}function lb(i,r){Ri[Ii++]=xs,Ri[Ii++]=Ts,Ri[Ii++]=Vr,xs=r.id,Ts=r.overflow,Vr=i}var bn=null,St=null,tt=!1,Pr=null,Ni=!1,Vm=Error(s(519));function Or(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tc(Ci(r,i)),Vm}function cb(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Y]=i,r[we]=c,o){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(o=0;o<Gc.length;o++)Ye(Gc[o],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":Ye("invalid",r),lh(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ye("invalid",r);break;case"textarea":Ye("invalid",r),Cr(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Aw(r.textContent,o)?(c.popover!=null&&(Ye("beforetoggle",r),Ye("toggle",r)),c.onScroll!=null&&Ye("scroll",r),c.onScrollEnd!=null&&Ye("scrollend",r),c.onClick!=null&&(r.onclick=Hi),r=!0):r=!1,r||Or(i,!0)}function ub(i){for(bn=i.return;bn;)switch(bn.tag){case 5:case 31:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:bn=bn.return}}function Ko(i){if(i!==bn)return!1;if(!tt)return ub(i),tt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Zp(i.type,i.memoizedProps)),o=!o),o&&St&&Or(i),ub(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));St=Pw(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));St=Pw(i)}else r===27?(r=St,Wr(i.type)?(i=ig,ig=null,St=i):St=r):St=bn?Di(i.stateNode.nextSibling):null;return!0}function Wa(){St=bn=null,tt=!1}function Pm(){var i=Pr;return i!==null&&(Qn===null?Qn=i:Qn.push.apply(Qn,i),Pr=null),i}function Tc(i){Pr===null?Pr=[i]:Pr.push(i)}var Om=E(null),Xa=null,Ks=null;function jr(i,r,o){ne(Om,r._currentValue),r._currentValue=o}function Ys(i){i._currentValue=Om.current,Q(Om)}function jm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function Lm(i,r,o,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var w=p.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=p;for(var L=0;L<r.length;L++)if(A.context===r[L]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),jm(g.return,o,i),c||(w=null);break e}g=A.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(s(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),jm(w,o,i),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===i){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function Yo(i,r,o,c){i=null;for(var p=r,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var A=p.type;ri(p.pendingProps.value,w.value)||(i!==null?i.push(A):i=[A])}}else if(p===de.current){if(w=p.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Wc):i=[Wc])}p=p.return}i!==null&&Lm(r,i,o,c),r.flags|=262144}function Nh(i){for(i=i.firstContext;i!==null;){if(!ri(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Za(i){Xa=i,Ks=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function _n(i){return hb(Xa,i)}function kh(i,r){return Xa===null&&Za(i),hb(i,r)}function hb(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ks===null){if(i===null)throw Error(s(308));Ks=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ks=Ks.next=r;return o}var JR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},eI=t.unstable_scheduleCallback,tI=t.unstable_NormalPriority,Zt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Um(){return{controller:new JR,data:new Map,refCount:0}}function Ec(i){i.refCount--,i.refCount===0&&eI(tI,function(){i.controller.abort()})}var Sc=null,zm=0,Qo=0,Wo=null;function nI(i,r){if(Sc===null){var o=Sc=[];zm=0,Qo=qp(),Wo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return zm++,r.then(db,db),r}function db(){if(--zm===0&&Sc!==null){Wo!==null&&(Wo.status="fulfilled");var i=Sc;Sc=null,Qo=0,Wo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function iI(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var fb=U.S;U.S=function(i,r){W_=Yt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&nI(i,r),fb!==null&&fb(i,r)};var Ja=E(null);function Bm(){var i=Ja.current;return i!==null?i:wt.pooledCache}function Dh(i,r){r===null?ne(Ja,Ja.current):ne(Ja,r.pool)}function mb(){var i=Bm();return i===null?null:{parent:Zt._currentValue,pool:i}}var Xo=Error(s(460)),Fm=Error(s(474)),Mh=Error(s(542)),Vh={then:function(){}};function pb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function gb(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Hi,Hi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,vb(i),i;default:if(typeof r.status=="string")r.then(Hi,Hi);else{if(i=wt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=c}},function(c){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,vb(i),i}throw to=r,Xo}}function eo(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(to=o,Xo):o}}var to=null;function yb(){if(to===null)throw Error(s(459));var i=to;return to=null,i}function vb(i){if(i===Xo||i===Mh)throw Error(s(483))}var Zo=null,Ac=0;function Ph(i){var r=Ac;return Ac+=1,Zo===null&&(Zo=[]),gb(Zo,i,r)}function Cc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Oh(i,r){throw r.$$typeof===x?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function bb(i){function r($,F){if(i){var J=$.deletions;J===null?($.deletions=[F],$.flags|=16):J.push(F)}}function o($,F){if(!i)return null;for(;F!==null;)r($,F),F=F.sibling;return null}function c($){for(var F=new Map;$!==null;)$.key!==null?F.set($.key,$):F.set($.index,$),$=$.sibling;return F}function p($,F){return $=Gs($,F),$.index=0,$.sibling=null,$}function g($,F,J){return $.index=J,i?(J=$.alternate,J!==null?(J=J.index,J<F?($.flags|=67108866,F):J):($.flags|=67108866,F)):($.flags|=1048576,F)}function w($){return i&&$.alternate===null&&($.flags|=67108866),$}function A($,F,J,le){return F===null||F.tag!==6?(F=Nm(J,$.mode,le),F.return=$,F):(F=p(F,J),F.return=$,F)}function L($,F,J,le){var ke=J.type;return ke===O?ae($,F,J.props.children,le,J.key):F!==null&&(F.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===S&&eo(ke)===F.type)?(F=p(F,J.props),Cc(F,J),F.return=$,F):(F=Rh(J.type,J.key,J.props,null,$.mode,le),Cc(F,J),F.return=$,F)}function ee($,F,J,le){return F===null||F.tag!==4||F.stateNode.containerInfo!==J.containerInfo||F.stateNode.implementation!==J.implementation?(F=km(J,$.mode,le),F.return=$,F):(F=p(F,J.children||[]),F.return=$,F)}function ae($,F,J,le,ke){return F===null||F.tag!==7?(F=Qa(J,$.mode,le,ke),F.return=$,F):(F=p(F,J),F.return=$,F)}function ue($,F,J){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Nm(""+F,$.mode,J),F.return=$,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case C:return J=Rh(F.type,F.key,F.props,null,$.mode,J),Cc(J,F),J.return=$,J;case M:return F=km(F,$.mode,J),F.return=$,F;case S:return F=eo(F),ue($,F,J)}if(ye(F)||z(F))return F=Qa(F,$.mode,J,null),F.return=$,F;if(typeof F.then=="function")return ue($,Ph(F),J);if(F.$$typeof===K)return ue($,kh($,F),J);Oh($,F)}return null}function te($,F,J,le){var ke=F!==null?F.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return ke!==null?null:A($,F,""+J,le);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return J.key===ke?L($,F,J,le):null;case M:return J.key===ke?ee($,F,J,le):null;case S:return J=eo(J),te($,F,J,le)}if(ye(J)||z(J))return ke!==null?null:ae($,F,J,le,null);if(typeof J.then=="function")return te($,F,Ph(J),le);if(J.$$typeof===K)return te($,F,kh($,J),le);Oh($,J)}return null}function se($,F,J,le,ke){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return $=$.get(J)||null,A(F,$,""+le,ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case C:return $=$.get(le.key===null?J:le.key)||null,L(F,$,le,ke);case M:return $=$.get(le.key===null?J:le.key)||null,ee(F,$,le,ke);case S:return le=eo(le),se($,F,J,le,ke)}if(ye(le)||z(le))return $=$.get(J)||null,ae(F,$,le,ke,null);if(typeof le.then=="function")return se($,F,J,Ph(le),ke);if(le.$$typeof===K)return se($,F,J,kh(F,le),ke);Oh(F,le)}return null}function Se($,F,J,le){for(var ke=null,at=null,Re=F,Fe=F=0,We=null;Re!==null&&Fe<J.length;Fe++){Re.index>Fe?(We=Re,Re=null):We=Re.sibling;var ot=te($,Re,J[Fe],le);if(ot===null){Re===null&&(Re=We);break}i&&Re&&ot.alternate===null&&r($,Re),F=g(ot,F,Fe),at===null?ke=ot:at.sibling=ot,at=ot,Re=We}if(Fe===J.length)return o($,Re),tt&&$s($,Fe),ke;if(Re===null){for(;Fe<J.length;Fe++)Re=ue($,J[Fe],le),Re!==null&&(F=g(Re,F,Fe),at===null?ke=Re:at.sibling=Re,at=Re);return tt&&$s($,Fe),ke}for(Re=c(Re);Fe<J.length;Fe++)We=se(Re,$,Fe,J[Fe],le),We!==null&&(i&&We.alternate!==null&&Re.delete(We.key===null?Fe:We.key),F=g(We,F,Fe),at===null?ke=We:at.sibling=We,at=We);return i&&Re.forEach(function(ta){return r($,ta)}),tt&&$s($,Fe),ke}function De($,F,J,le){if(J==null)throw Error(s(151));for(var ke=null,at=null,Re=F,Fe=F=0,We=null,ot=J.next();Re!==null&&!ot.done;Fe++,ot=J.next()){Re.index>Fe?(We=Re,Re=null):We=Re.sibling;var ta=te($,Re,ot.value,le);if(ta===null){Re===null&&(Re=We);break}i&&Re&&ta.alternate===null&&r($,Re),F=g(ta,F,Fe),at===null?ke=ta:at.sibling=ta,at=ta,Re=We}if(ot.done)return o($,Re),tt&&$s($,Fe),ke;if(Re===null){for(;!ot.done;Fe++,ot=J.next())ot=ue($,ot.value,le),ot!==null&&(F=g(ot,F,Fe),at===null?ke=ot:at.sibling=ot,at=ot);return tt&&$s($,Fe),ke}for(Re=c(Re);!ot.done;Fe++,ot=J.next())ot=se(Re,$,Fe,ot.value,le),ot!==null&&(i&&ot.alternate!==null&&Re.delete(ot.key===null?Fe:ot.key),F=g(ot,F,Fe),at===null?ke=ot:at.sibling=ot,at=ot);return i&&Re.forEach(function(mN){return r($,mN)}),tt&&$s($,Fe),ke}function _t($,F,J,le){if(typeof J=="object"&&J!==null&&J.type===O&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case C:e:{for(var ke=J.key;F!==null;){if(F.key===ke){if(ke=J.type,ke===O){if(F.tag===7){o($,F.sibling),le=p(F,J.props.children),le.return=$,$=le;break e}}else if(F.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===S&&eo(ke)===F.type){o($,F.sibling),le=p(F,J.props),Cc(le,J),le.return=$,$=le;break e}o($,F);break}else r($,F);F=F.sibling}J.type===O?(le=Qa(J.props.children,$.mode,le,J.key),le.return=$,$=le):(le=Rh(J.type,J.key,J.props,null,$.mode,le),Cc(le,J),le.return=$,$=le)}return w($);case M:e:{for(ke=J.key;F!==null;){if(F.key===ke)if(F.tag===4&&F.stateNode.containerInfo===J.containerInfo&&F.stateNode.implementation===J.implementation){o($,F.sibling),le=p(F,J.children||[]),le.return=$,$=le;break e}else{o($,F);break}else r($,F);F=F.sibling}le=km(J,$.mode,le),le.return=$,$=le}return w($);case S:return J=eo(J),_t($,F,J,le)}if(ye(J))return Se($,F,J,le);if(z(J)){if(ke=z(J),typeof ke!="function")throw Error(s(150));return J=ke.call(J),De($,F,J,le)}if(typeof J.then=="function")return _t($,F,Ph(J),le);if(J.$$typeof===K)return _t($,F,kh($,J),le);Oh($,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,F!==null&&F.tag===6?(o($,F.sibling),le=p(F,J),le.return=$,$=le):(o($,F),le=Nm(J,$.mode,le),le.return=$,$=le),w($)):o($,F)}return function($,F,J,le){try{Ac=0;var ke=_t($,F,J,le);return Zo=null,ke}catch(Re){if(Re===Xo||Re===Mh)throw Re;var at=ai(29,Re,null,$.mode);return at.lanes=le,at.return=$,at}}}var no=bb(!0),_b=bb(!1),Lr=!1;function qm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ur(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function zr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(ct&2)!==0){var p=c.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),c.pending=r,r=Ch(i),ib(i,null,o),r}return Ah(i,c,r,o),Ch(i)}function Rc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Pa(i,o)}}function Gm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?p=g=r:g=g.next=r}else p=g=r;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var $m=!1;function Ic(){if($m){var i=Wo;if(i!==null)throw i}}function Nc(i,r,o,c){$m=!1;var p=i.updateQueue;Lr=!1;var g=p.firstBaseUpdate,w=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var L=A,ee=L.next;L.next=null,w===null?g=ee:w.next=ee,w=L;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,A=ae.lastBaseUpdate,A!==w&&(A===null?ae.firstBaseUpdate=ee:A.next=ee,ae.lastBaseUpdate=L))}if(g!==null){var ue=p.baseState;w=0,ae=ee=L=null,A=g;do{var te=A.lane&-536870913,se=te!==A.lane;if(se?(Qe&te)===te:(c&te)===te){te!==0&&te===Qo&&($m=!0),ae!==null&&(ae=ae.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Se=i,De=A;te=r;var _t=o;switch(De.tag){case 1:if(Se=De.payload,typeof Se=="function"){ue=Se.call(_t,ue,te);break e}ue=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=De.payload,te=typeof Se=="function"?Se.call(_t,ue,te):Se,te==null)break e;ue=v({},ue,te);break e;case 2:Lr=!0}}te=A.callback,te!==null&&(i.flags|=64,se&&(i.flags|=8192),se=p.callbacks,se===null?p.callbacks=[te]:se.push(te))}else se={lane:te,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ae===null?(ee=ae=se,L=ue):ae=ae.next=se,w|=te;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;se=A,A=se.next,se.next=null,p.lastBaseUpdate=se,p.shared.pending=null}}while(!0);ae===null&&(L=ue),p.baseState=L,p.firstBaseUpdate=ee,p.lastBaseUpdate=ae,g===null&&(p.shared.lanes=0),Gr|=w,i.lanes=w,i.memoizedState=ue}}function wb(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function xb(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)wb(o[i],r)}var Jo=E(null),jh=E(0);function Tb(i,r){i=ir,ne(jh,i),ne(Jo,r),ir=i|r.baseLanes}function Km(){ne(jh,ir),ne(Jo,Jo.current)}function Ym(){ir=jh.current,Q(Jo),Q(jh)}var oi=E(null),ki=null;function Br(i){var r=i.alternate;ne(qt,qt.current&1),ne(oi,i),ki===null&&(r===null||Jo.current!==null||r.memoizedState!==null)&&(ki=i)}function Qm(i){ne(qt,qt.current),ne(oi,i),ki===null&&(ki=i)}function Eb(i){i.tag===22?(ne(qt,qt.current),ne(oi,i),ki===null&&(ki=i)):Fr()}function Fr(){ne(qt,qt.current),ne(oi,oi.current)}function li(i){Q(oi),ki===i&&(ki=null),Q(qt)}var qt=E(0);function Lh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||tg(o)||ng(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Qs=0,Be=null,vt=null,Jt=null,Uh=!1,el=!1,io=!1,zh=0,kc=0,tl=null,sI=0;function jt(){throw Error(s(321))}function Wm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!ri(i[o],r[o]))return!1;return!0}function Xm(i,r,o,c,p,g){return Qs=g,Be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U.H=i===null||i.memoizedState===null?o_:dp,io=!1,g=o(c,p),io=!1,el&&(g=Ab(r,o,c,p)),Sb(i),g}function Sb(i){U.H=Vc;var r=vt!==null&&vt.next!==null;if(Qs=0,Jt=vt=Be=null,Uh=!1,kc=0,tl=null,r)throw Error(s(300));i===null||en||(i=i.dependencies,i!==null&&Nh(i)&&(en=!0))}function Ab(i,r,o,c){Be=i;var p=0;do{if(el&&(tl=null),kc=0,el=!1,25<=p)throw Error(s(301));if(p+=1,Jt=vt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}U.H=l_,g=r(o,c)}while(el);return g}function rI(){var i=U.H,r=i.useState()[0];return r=typeof r.then=="function"?Dc(r):r,i=i.useState()[0],(vt!==null?vt.memoizedState:null)!==i&&(Be.flags|=1024),r}function Zm(){var i=zh!==0;return zh=0,i}function Jm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function ep(i){if(Uh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Uh=!1}Qs=0,Jt=vt=Be=null,el=!1,kc=zh=0,tl=null}function Ln(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Be.memoizedState=Jt=i:Jt=Jt.next=i,Jt}function Ht(){if(vt===null){var i=Be.alternate;i=i!==null?i.memoizedState:null}else i=vt.next;var r=Jt===null?Be.memoizedState:Jt.next;if(r!==null)Jt=r,vt=i;else{if(i===null)throw Be.alternate===null?Error(s(467)):Error(s(310));vt=i,i={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Jt===null?Be.memoizedState=Jt=i:Jt=Jt.next=i}return Jt}function Bh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dc(i){var r=kc;return kc+=1,tl===null&&(tl=[]),i=gb(tl,i,r),r=Be,(Jt===null?r.memoizedState:Jt.next)===null&&(r=r.alternate,U.H=r===null||r.memoizedState===null?o_:dp),i}function Fh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Dc(i);if(i.$$typeof===K)return _n(i)}throw Error(s(438,String(i)))}function tp(i){var r=null,o=Be.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Bh(),Be.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=j;return r.index++,o}function Ws(i,r){return typeof r=="function"?r(i):r}function qh(i){var r=Ht();return np(r,vt,i)}function np(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var p=i.baseQueue,g=c.pending;if(g!==null){if(p!==null){var w=p.next;p.next=g.next,g.next=w}r.baseQueue=p=g,c.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{r=p.next;var A=w=null,L=null,ee=r,ae=!1;do{var ue=ee.lane&-536870913;if(ue!==ee.lane?(Qe&ue)===ue:(Qs&ue)===ue){var te=ee.revertLane;if(te===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ue===Qo&&(ae=!0);else if((Qs&te)===te){ee=ee.next,te===Qo&&(ae=!0);continue}else ue={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},L===null?(A=L=ue,w=g):L=L.next=ue,Be.lanes|=te,Gr|=te;ue=ee.action,io&&o(g,ue),g=ee.hasEagerState?ee.eagerState:o(g,ue)}else te={lane:ue,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},L===null?(A=L=te,w=g):L=L.next=te,Be.lanes|=ue,Gr|=ue;ee=ee.next}while(ee!==null&&ee!==r);if(L===null?w=g:L.next=A,!ri(g,i.memoizedState)&&(en=!0,ae&&(o=Wo,o!==null)))throw o;i.memoizedState=g,i.baseState=w,i.baseQueue=L,c.lastRenderedState=g}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function ip(i){var r=Ht(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,p=o.pending,g=r.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do g=i(g,w.action),w=w.next;while(w!==p);ri(g,r.memoizedState)||(en=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function Cb(i,r,o){var c=Be,p=Ht(),g=tt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var w=!ri((vt||p).memoizedState,o);if(w&&(p.memoizedState=o,en=!0),p=p.queue,ap(Nb.bind(null,c,p,i),[i]),p.getSnapshot!==r||w||Jt!==null&&Jt.memoizedState.tag&1){if(c.flags|=2048,nl(9,{destroy:void 0},Ib.bind(null,c,p,o,r),null),wt===null)throw Error(s(349));g||(Qs&127)!==0||Rb(c,r,o)}return o}function Rb(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Be.updateQueue,r===null?(r=Bh(),Be.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Ib(i,r,o,c){r.value=o,r.getSnapshot=c,kb(r)&&Db(i)}function Nb(i,r,o){return o(function(){kb(r)&&Db(i)})}function kb(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!ri(i,o)}catch{return!0}}function Db(i){var r=Ya(i,2);r!==null&&Wn(r,i,2)}function sp(i){var r=Ln();if(typeof i=="function"){var o=i;if(i=o(),io){Pn(!0);try{o()}finally{Pn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:i},r}function Mb(i,r,o,c){return i.baseState=o,np(i,vt,typeof c=="function"?c:Ws)}function aI(i,r,o,c,p){if($h(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};U.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,Vb(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Vb(i,r){var o=r.action,c=r.payload,p=i.state;if(r.isTransition){var g=U.T,w={};U.T=w;try{var A=o(p,c),L=U.S;L!==null&&L(w,A),Pb(i,r,A)}catch(ee){rp(i,r,ee)}finally{g!==null&&w.types!==null&&(g.types=w.types),U.T=g}}else try{g=o(p,c),Pb(i,r,g)}catch(ee){rp(i,r,ee)}}function Pb(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Ob(i,r,c)},function(c){return rp(i,r,c)}):Ob(i,r,o)}function Ob(i,r,o){r.status="fulfilled",r.value=o,jb(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Vb(i,o)))}function rp(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,jb(r),r=r.next;while(r!==c)}i.action=null}function jb(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Lb(i,r){return r}function Ub(i,r){if(tt){var o=wt.formState;if(o!==null){e:{var c=Be;if(tt){if(St){t:{for(var p=St,g=Ni;p.nodeType!==8;){if(!g){p=null;break t}if(p=Di(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){St=Di(p.nextSibling),c=p.data==="F!";break e}}Or(c)}c=!1}c&&(r=o[0])}}return o=Ln(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lb,lastRenderedState:r},o.queue=c,o=s_.bind(null,Be,c),c.dispatch=o,c=sp(!1),g=hp.bind(null,Be,!1,c.queue),c=Ln(),p={state:r,dispatch:null,action:i,pending:null},c.queue=p,o=aI.bind(null,Be,p,g,o),p.dispatch=o,c.memoizedState=i,[r,o,!1]}function zb(i){var r=Ht();return Bb(r,vt,i)}function Bb(i,r,o){if(r=np(i,r,Lb)[0],i=qh(Ws)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Dc(r)}catch(w){throw w===Xo?Mh:w}else c=r;r=Ht();var p=r.queue,g=p.dispatch;return o!==r.memoizedState&&(Be.flags|=2048,nl(9,{destroy:void 0},oI.bind(null,p,o),null)),[c,g,i]}function oI(i,r){i.action=r}function Fb(i){var r=Ht(),o=vt;if(o!==null)return Bb(r,o,i);Ht(),r=r.memoizedState,o=Ht();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function nl(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Be.updateQueue,r===null&&(r=Bh(),Be.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function qb(){return Ht().memoizedState}function Hh(i,r,o,c){var p=Ln();Be.flags|=i,p.memoizedState=nl(1|r,{destroy:void 0},o,c===void 0?null:c)}function Gh(i,r,o,c){var p=Ht();c=c===void 0?null:c;var g=p.memoizedState.inst;vt!==null&&c!==null&&Wm(c,vt.memoizedState.deps)?p.memoizedState=nl(r,g,o,c):(Be.flags|=i,p.memoizedState=nl(1|r,g,o,c))}function Hb(i,r){Hh(8390656,8,i,r)}function ap(i,r){Gh(2048,8,i,r)}function lI(i){Be.flags|=4;var r=Be.updateQueue;if(r===null)r=Bh(),Be.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function Gb(i){var r=Ht().memoizedState;return lI({ref:r,nextImpl:i}),function(){if((ct&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function $b(i,r){return Gh(4,2,i,r)}function Kb(i,r){return Gh(4,4,i,r)}function Yb(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Qb(i,r,o){o=o!=null?o.concat([i]):null,Gh(4,4,Yb.bind(null,r,i),o)}function op(){}function Wb(i,r){var o=Ht();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Wm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function Xb(i,r){var o=Ht();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Wm(r,c[1]))return c[0];if(c=i(),io){Pn(!0);try{i()}finally{Pn(!1)}}return o.memoizedState=[c,r],c}function lp(i,r,o){return o===void 0||(Qs&1073741824)!==0&&(Qe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Z_(),Be.lanes|=i,Gr|=i,o)}function Zb(i,r,o,c){return ri(o,r)?o:Jo.current!==null?(i=lp(i,o,c),ri(i,r)||(en=!0),i):(Qs&42)===0||(Qs&1073741824)!==0&&(Qe&261930)===0?(en=!0,i.memoizedState=o):(i=Z_(),Be.lanes|=i,Gr|=i,r)}function Jb(i,r,o,c,p){var g=Z.p;Z.p=g!==0&&8>g?g:8;var w=U.T,A={};U.T=A,hp(i,!1,r,o);try{var L=p(),ee=U.S;if(ee!==null&&ee(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ae=iI(L,c);Mc(i,r,ae,hi(i))}else Mc(i,r,c,hi(i))}catch(ue){Mc(i,r,{then:function(){},status:"rejected",reason:ue},hi())}finally{Z.p=g,w!==null&&A.types!==null&&(w.types=A.types),U.T=w}}function cI(){}function cp(i,r,o,c){if(i.tag!==5)throw Error(s(476));var p=e_(i).queue;Jb(i,p,r,H,o===null?cI:function(){return t_(i),o(c)})}function e_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:H},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function t_(i){var r=e_(i);r.next===null&&(r=i.alternate.memoizedState),Mc(i,r.next.queue,{},hi())}function up(){return _n(Wc)}function n_(){return Ht().memoizedState}function i_(){return Ht().memoizedState}function uI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=hi();i=Ur(o);var c=zr(r,i,o);c!==null&&(Wn(c,r,o),Rc(c,r,o)),r={cache:Um()},i.payload=r;return}r=r.return}}function hI(i,r,o){var c=hi();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$h(i)?r_(r,o):(o=Rm(i,r,o,c),o!==null&&(Wn(o,i,c),a_(o,r,c)))}function s_(i,r,o){var c=hi();Mc(i,r,o,c)}function Mc(i,r,o,c){var p={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if($h(i))r_(r,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var w=r.lastRenderedState,A=g(w,o);if(p.hasEagerState=!0,p.eagerState=A,ri(A,w))return Ah(i,r,p,0),wt===null&&Sh(),!1}catch{}if(o=Rm(i,r,p,c),o!==null)return Wn(o,i,c),a_(o,r,c),!0}return!1}function hp(i,r,o,c){if(c={lane:2,revertLane:qp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},$h(i)){if(r)throw Error(s(479))}else r=Rm(i,o,c,2),r!==null&&Wn(r,i,2)}function $h(i){var r=i.alternate;return i===Be||r!==null&&r===Be}function r_(i,r){el=Uh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function a_(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Pa(i,o)}}var Vc={readContext:_n,use:Fh,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt};Vc.useEffectEvent=jt;var o_={readContext:_n,use:Fh,useCallback:function(i,r){return Ln().memoizedState=[i,r===void 0?null:r],i},useContext:_n,useEffect:Hb,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Hh(4194308,4,Yb.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Hh(4194308,4,i,r)},useInsertionEffect:function(i,r){Hh(4,2,i,r)},useMemo:function(i,r){var o=Ln();r=r===void 0?null:r;var c=i();if(io){Pn(!0);try{i()}finally{Pn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=Ln();if(o!==void 0){var p=o(r);if(io){Pn(!0);try{o(r)}finally{Pn(!1)}}}else p=r;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=hI.bind(null,Be,i),[c.memoizedState,i]},useRef:function(i){var r=Ln();return i={current:i},r.memoizedState=i},useState:function(i){i=sp(i);var r=i.queue,o=s_.bind(null,Be,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:op,useDeferredValue:function(i,r){var o=Ln();return lp(o,i,r)},useTransition:function(){var i=sp(!1);return i=Jb.bind(null,Be,i.queue,!0,!1),Ln().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Be,p=Ln();if(tt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),wt===null)throw Error(s(349));(Qe&127)!==0||Rb(c,r,o)}p.memoizedState=o;var g={value:o,getSnapshot:r};return p.queue=g,Hb(Nb.bind(null,c,g,i),[i]),c.flags|=2048,nl(9,{destroy:void 0},Ib.bind(null,c,g,o,r),null),o},useId:function(){var i=Ln(),r=wt.identifierPrefix;if(tt){var o=Ts,c=xs;o=(c&~(1<<32-Tt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=zh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=sI++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:up,useFormState:Ub,useActionState:Ub,useOptimistic:function(i){var r=Ln();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=hp.bind(null,Be,!0,o),o.dispatch=r,[i,r]},useMemoCache:tp,useCacheRefresh:function(){return Ln().memoizedState=uI.bind(null,Be)},useEffectEvent:function(i){var r=Ln(),o={impl:i};return r.memoizedState=o,function(){if((ct&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},dp={readContext:_n,use:Fh,useCallback:Wb,useContext:_n,useEffect:ap,useImperativeHandle:Qb,useInsertionEffect:$b,useLayoutEffect:Kb,useMemo:Xb,useReducer:qh,useRef:qb,useState:function(){return qh(Ws)},useDebugValue:op,useDeferredValue:function(i,r){var o=Ht();return Zb(o,vt.memoizedState,i,r)},useTransition:function(){var i=qh(Ws)[0],r=Ht().memoizedState;return[typeof i=="boolean"?i:Dc(i),r]},useSyncExternalStore:Cb,useId:n_,useHostTransitionStatus:up,useFormState:zb,useActionState:zb,useOptimistic:function(i,r){var o=Ht();return Mb(o,vt,i,r)},useMemoCache:tp,useCacheRefresh:i_};dp.useEffectEvent=Gb;var l_={readContext:_n,use:Fh,useCallback:Wb,useContext:_n,useEffect:ap,useImperativeHandle:Qb,useInsertionEffect:$b,useLayoutEffect:Kb,useMemo:Xb,useReducer:ip,useRef:qb,useState:function(){return ip(Ws)},useDebugValue:op,useDeferredValue:function(i,r){var o=Ht();return vt===null?lp(o,i,r):Zb(o,vt.memoizedState,i,r)},useTransition:function(){var i=ip(Ws)[0],r=Ht().memoizedState;return[typeof i=="boolean"?i:Dc(i),r]},useSyncExternalStore:Cb,useId:n_,useHostTransitionStatus:up,useFormState:Fb,useActionState:Fb,useOptimistic:function(i,r){var o=Ht();return vt!==null?Mb(o,vt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:tp,useCacheRefresh:i_};l_.useEffectEvent=Gb;function fp(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var mp={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=hi(),p=Ur(c);p.payload=r,o!=null&&(p.callback=o),r=zr(i,p,c),r!==null&&(Wn(r,i,c),Rc(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=hi(),p=Ur(c);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=zr(i,p,c),r!==null&&(Wn(r,i,c),Rc(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=hi(),c=Ur(o);c.tag=2,r!=null&&(c.callback=r),r=zr(i,c,o),r!==null&&(Wn(r,i,o),Rc(r,i,o))}};function c_(i,r,o,c,p,g,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,w):r.prototype&&r.prototype.isPureReactComponent?!_c(o,c)||!_c(p,g):!0}function u_(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&mp.enqueueReplaceState(r,r.state,null)}function so(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}function h_(i){Eh(i)}function d_(i){console.error(i)}function f_(i){Eh(i)}function Kh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function m_(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function pp(i,r,o){return o=Ur(o),o.tag=3,o.payload={element:null},o.callback=function(){Kh(i,r)},o}function p_(i){return i=Ur(i),i.tag=3,i}function g_(i,r,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;i.payload=function(){return p(g)},i.callback=function(){m_(r,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){m_(r,o,c),typeof p!="function"&&($r===null?$r=new Set([this]):$r.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function dI(i,r,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Yo(r,o,p,!0),o=oi.current,o!==null){switch(o.tag){case 31:case 13:return ki===null?rd():o.alternate===null&&Lt===0&&(Lt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===Vh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),zp(i,c,p)),!1;case 22:return o.flags|=65536,c===Vh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),zp(i,c,p)),!1}throw Error(s(435,o.tag))}return zp(i,c,p),rd(),!1}if(tt)return r=oi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,c!==Vm&&(i=Error(s(422),{cause:c}),Tc(Ci(i,o)))):(c!==Vm&&(r=Error(s(423),{cause:c}),Tc(Ci(r,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=Ci(c,o),p=pp(i.stateNode,c,p),Gm(i,p),Lt!==4&&(Lt=2)),!1;var g=Error(s(520),{cause:c});if(g=Ci(g,o),Fc===null?Fc=[g]:Fc.push(g),Lt!==4&&(Lt=2),r===null)return!0;c=Ci(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=pp(o.stateNode,c,i),Gm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&($r===null||!$r.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=p_(p),g_(p,i,o,c),Gm(o,p),!1}o=o.return}while(o!==null);return!1}var gp=Error(s(461)),en=!1;function wn(i,r,o,c){r.child=i===null?_b(r,null,o,c):no(r,i.child,o,c)}function y_(i,r,o,c,p){o=o.render;var g=r.ref;if("ref"in c){var w={};for(var A in c)A!=="ref"&&(w[A]=c[A])}else w=c;return Za(r),c=Xm(i,r,o,w,g,p),A=Zm(),i!==null&&!en?(Jm(i,r,p),Xs(i,r,p)):(tt&&A&&Dm(r),r.flags|=1,wn(i,r,c,p),r.child)}function v_(i,r,o,c,p){if(i===null){var g=o.type;return typeof g=="function"&&!Im(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,b_(i,r,g,c,p)):(i=Rh(o.type,null,c,r,r.mode,p),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Ep(i,p)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:_c,o(w,c)&&i.ref===r.ref)return Xs(i,r,p)}return r.flags|=1,i=Gs(g,c),i.ref=r.ref,i.return=r,r.child=i}function b_(i,r,o,c,p){if(i!==null){var g=i.memoizedProps;if(_c(g,c)&&i.ref===r.ref)if(en=!1,r.pendingProps=c=g,Ep(i,p))(i.flags&131072)!==0&&(en=!0);else return r.lanes=i.lanes,Xs(i,r,p)}return yp(i,r,o,c,p)}function __(i,r,o,c){var p=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,r.child=null;return w_(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Dh(r,g!==null?g.cachePool:null),g!==null?Tb(r,g):Km(),Eb(r);else return c=r.lanes=536870912,w_(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Dh(r,g.cachePool),Tb(r,g),Fr(),r.memoizedState=null):(i!==null&&Dh(r,null),Km(),Fr());return wn(i,r,p,o),r.child}function Pc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function w_(i,r,o,c,p){var g=Bm();return g=g===null?null:{parent:Zt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Dh(r,null),Km(),Eb(r),i!==null&&Yo(i,r,c,!0),r.childLanes=p,null}function Yh(i,r){return r=Wh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function x_(i,r,o){return no(r,i.child,null,o),i=Yh(r,r.pendingProps),i.flags|=2,li(r),r.memoizedState=null,i}function fI(i,r,o){var c=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(tt){if(c.mode==="hidden")return i=Yh(r,c),r.lanes=536870912,Pc(null,i);if(Qm(r),(i=St)?(i=Vw(i,Ni),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Vr!==null?{id:xs,overflow:Ts}:null,retryLane:536870912,hydrationErrors:null},o=rb(i),o.return=r,r.child=o,bn=r,St=null)):i=null,i===null)throw Or(r);return r.lanes=536870912,null}return Yh(r,c)}var g=i.memoizedState;if(g!==null){var w=g.dehydrated;if(Qm(r),p)if(r.flags&256)r.flags&=-257,r=x_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(en||Yo(i,r,o,!1),p=(o&i.childLanes)!==0,en||p){if(c=wt,c!==null&&(w=Oa(c,o),w!==0&&w!==g.retryLane))throw g.retryLane=w,Ya(i,w),Wn(c,i,w),gp;rd(),r=x_(i,r,o)}else i=g.treeContext,St=Di(w.nextSibling),bn=r,tt=!0,Pr=null,Ni=!1,i!==null&&lb(r,i),r=Yh(r,c),r.flags|=4096;return r}return i=Gs(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Qh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function yp(i,r,o,c,p){return Za(r),o=Xm(i,r,o,c,void 0,p),c=Zm(),i!==null&&!en?(Jm(i,r,p),Xs(i,r,p)):(tt&&c&&Dm(r),r.flags|=1,wn(i,r,o,p),r.child)}function T_(i,r,o,c,p,g){return Za(r),r.updateQueue=null,o=Ab(r,c,o,p),Sb(i),c=Zm(),i!==null&&!en?(Jm(i,r,g),Xs(i,r,g)):(tt&&c&&Dm(r),r.flags|=1,wn(i,r,o,g),r.child)}function E_(i,r,o,c,p){if(Za(r),r.stateNode===null){var g=Ho,w=o.contextType;typeof w=="object"&&w!==null&&(g=_n(w)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=mp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},qm(r),w=o.contextType,g.context=typeof w=="object"&&w!==null?_n(w):Ho,g.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(fp(r,o,w,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&mp.enqueueReplaceState(g,g.state,null),Nc(r,c,g,p),Ic(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var A=r.memoizedProps,L=so(o,A);g.props=L;var ee=g.context,ae=o.contextType;w=Ho,typeof ae=="object"&&ae!==null&&(w=_n(ae));var ue=o.getDerivedStateFromProps;ae=typeof ue=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ae||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||ee!==w)&&u_(r,g,c,w),Lr=!1;var te=r.memoizedState;g.state=te,Nc(r,c,g,p),Ic(),ee=r.memoizedState,A||te!==ee||Lr?(typeof ue=="function"&&(fp(r,o,ue,c),ee=r.memoizedState),(L=Lr||c_(r,o,L,c,te,ee,w))?(ae||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=ee),g.props=c,g.state=ee,g.context=w,c=L):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Hm(i,r),w=r.memoizedProps,ae=so(o,w),g.props=ae,ue=r.pendingProps,te=g.context,ee=o.contextType,L=Ho,typeof ee=="object"&&ee!==null&&(L=_n(ee)),A=o.getDerivedStateFromProps,(ee=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==ue||te!==L)&&u_(r,g,c,L),Lr=!1,te=r.memoizedState,g.state=te,Nc(r,c,g,p),Ic();var se=r.memoizedState;w!==ue||te!==se||Lr||i!==null&&i.dependencies!==null&&Nh(i.dependencies)?(typeof A=="function"&&(fp(r,o,A,c),se=r.memoizedState),(ae=Lr||c_(r,o,ae,c,te,se,L)||i!==null&&i.dependencies!==null&&Nh(i.dependencies))?(ee||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,se,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,se,L)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&te===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&te===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=se),g.props=c,g.state=se,g.context=L,c=ae):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&te===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&te===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,Qh(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=no(r,i.child,null,p),r.child=no(r,null,o,p)):wn(i,r,o,p),r.memoizedState=g.state,i=r.child):i=Xs(i,r,p),i}function S_(i,r,o,c){return Wa(),r.flags|=256,wn(i,r,o,c),r.child}var vp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bp(i){return{baseLanes:i,cachePool:mb()}}function _p(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=ui),i}function A_(i,r,o){var c=r.pendingProps,p=!1,g=(r.flags&128)!==0,w;if((w=g)||(w=i!==null&&i.memoizedState===null?!1:(qt.current&2)!==0),w&&(p=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,i===null){if(tt){if(p?Br(r):Fr(),(i=St)?(i=Vw(i,Ni),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Vr!==null?{id:xs,overflow:Ts}:null,retryLane:536870912,hydrationErrors:null},o=rb(i),o.return=r,r.child=o,bn=r,St=null)):i=null,i===null)throw Or(r);return ng(i)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,p?(Fr(),p=r.mode,A=Wh({mode:"hidden",children:A},p),c=Qa(c,p,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=bp(o),c.childLanes=_p(i,w,o),r.memoizedState=vp,Pc(null,c)):(Br(r),wp(r,A))}var L=i.memoizedState;if(L!==null&&(A=L.dehydrated,A!==null)){if(g)r.flags&256?(Br(r),r.flags&=-257,r=xp(i,r,o)):r.memoizedState!==null?(Fr(),r.child=i.child,r.flags|=128,r=null):(Fr(),A=c.fallback,p=r.mode,c=Wh({mode:"visible",children:c.children},p),A=Qa(A,p,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,no(r,i.child,null,o),c=r.child,c.memoizedState=bp(o),c.childLanes=_p(i,w,o),r.memoizedState=vp,r=Pc(null,c));else if(Br(r),ng(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var ee=w.dgst;w=ee,c=Error(s(419)),c.stack="",c.digest=w,Tc({value:c,source:null,stack:null}),r=xp(i,r,o)}else if(en||Yo(i,r,o,!1),w=(o&i.childLanes)!==0,en||w){if(w=wt,w!==null&&(c=Oa(w,o),c!==0&&c!==L.retryLane))throw L.retryLane=c,Ya(i,c),Wn(w,i,c),gp;tg(A)||rd(),r=xp(i,r,o)}else tg(A)?(r.flags|=192,r.child=i.child,r=null):(i=L.treeContext,St=Di(A.nextSibling),bn=r,tt=!0,Pr=null,Ni=!1,i!==null&&lb(r,i),r=wp(r,c.children),r.flags|=4096);return r}return p?(Fr(),A=c.fallback,p=r.mode,L=i.child,ee=L.sibling,c=Gs(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,ee!==null?A=Gs(ee,A):(A=Qa(A,p,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,Pc(null,c),c=r.child,A=i.child.memoizedState,A===null?A=bp(o):(p=A.cachePool,p!==null?(L=Zt._currentValue,p=p.parent!==L?{parent:L,pool:L}:p):p=mb(),A={baseLanes:A.baseLanes|o,cachePool:p}),c.memoizedState=A,c.childLanes=_p(i,w,o),r.memoizedState=vp,Pc(i.child,c)):(Br(r),o=i.child,i=o.sibling,o=Gs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(w=r.deletions,w===null?(r.deletions=[i],r.flags|=16):w.push(i)),r.child=o,r.memoizedState=null,o)}function wp(i,r){return r=Wh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Wh(i,r){return i=ai(22,i,null,r),i.lanes=0,i}function xp(i,r,o){return no(r,i.child,null,o),i=wp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function C_(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),jm(i.return,r,o)}function Tp(i,r,o,c,p,g){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p,treeForkCount:g}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=o,w.tailMode=p,w.treeForkCount=g)}function R_(i,r,o){var c=r.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var w=qt.current,A=(w&2)!==0;if(A?(w=w&1|2,r.flags|=128):w&=1,ne(qt,w),wn(i,r,c,o),c=tt?xc:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&C_(i,o,r);else if(i.tag===19)C_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(o=r.child,p=null;o!==null;)i=o.alternate,i!==null&&Lh(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),Tp(r,!1,p,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(i=p.alternate,i!==null&&Lh(i)===null){r.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}Tp(r,!0,o,null,g,c);break;case"together":Tp(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Xs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Gr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Yo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Gs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Gs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Ep(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Nh(i)))}function mI(i,r,o){switch(r.tag){case 3:Ee(r,r.stateNode.containerInfo),jr(r,Zt,i.memoizedState.cache),Wa();break;case 27:case 5:Ge(r);break;case 4:Ee(r,r.stateNode.containerInfo);break;case 10:jr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Qm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Br(r),r.flags|=128,null):(o&r.child.childLanes)!==0?A_(i,r,o):(Br(r),i=Xs(i,r,o),i!==null?i.sibling:null);Br(r);break;case 19:var p=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Yo(i,r,o,!1),c=(o&r.childLanes)!==0),p){if(c)return R_(i,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ne(qt,qt.current),c)break;return null;case 22:return r.lanes=0,__(i,r,o,r.pendingProps);case 24:jr(r,Zt,i.memoizedState.cache)}return Xs(i,r,o)}function I_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)en=!0;else{if(!Ep(i,o)&&(r.flags&128)===0)return en=!1,mI(i,r,o);en=(i.flags&131072)!==0}else en=!1,tt&&(r.flags&1048576)!==0&&ob(r,xc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=eo(r.elementType),r.type=i,typeof i=="function")Im(i)?(c=so(i,c),r.tag=1,r=E_(null,r,i,c,o)):(r.tag=0,r=yp(null,r,i,c,o));else{if(i!=null){var p=i.$$typeof;if(p===G){r.tag=11,r=y_(null,r,i,c,o);break e}else if(p===I){r.tag=14,r=v_(null,r,i,c,o);break e}}throw r=me(i)||i,Error(s(306,r,""))}}return r;case 0:return yp(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,p=so(c,r.pendingProps),E_(i,r,c,p,o);case 3:e:{if(Ee(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;p=g.element,Hm(i,r),Nc(r,c,null,o);var w=r.memoizedState;if(c=w.cache,jr(r,Zt,c),c!==g.cache&&Lm(r,[Zt],o,!0),Ic(),c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=S_(i,r,c,o);break e}else if(c!==p){p=Ci(Error(s(424)),r),Tc(p),r=S_(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,St=Di(i.firstChild),bn=r,tt=!0,Pr=null,Ni=!0,o=_b(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Wa(),c===p){r=Xs(i,r,o);break e}wn(i,r,c,o)}r=r.child}return r;case 26:return Qh(i,r),i===null?(o=zw(r.type,null,r.pendingProps,null))?r.memoizedState=o:tt||(o=r.type,i=r.pendingProps,c=dd(ve.current).createElement(o),c[Y]=r,c[we]=i,xn(c,o,i),Wt(c),r.stateNode=c):r.memoizedState=zw(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ge(r),i===null&&tt&&(c=r.stateNode=jw(r.type,r.pendingProps,ve.current),bn=r,Ni=!0,p=St,Wr(r.type)?(ig=p,St=Di(c.firstChild)):St=p),wn(i,r,r.pendingProps.children,o),Qh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&tt&&((p=c=St)&&(c=HI(c,r.type,r.pendingProps,Ni),c!==null?(r.stateNode=c,bn=r,St=Di(c.firstChild),Ni=!1,p=!0):p=!1),p||Or(r)),Ge(r),p=r.type,g=r.pendingProps,w=i!==null?i.memoizedProps:null,c=g.children,Zp(p,g)?c=null:w!==null&&Zp(p,w)&&(r.flags|=32),r.memoizedState!==null&&(p=Xm(i,r,rI,null,null,o),Wc._currentValue=p),Qh(i,r),wn(i,r,c,o),r.child;case 6:return i===null&&tt&&((i=o=St)&&(o=GI(o,r.pendingProps,Ni),o!==null?(r.stateNode=o,bn=r,St=null,i=!0):i=!1),i||Or(r)),null;case 13:return A_(i,r,o);case 4:return Ee(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=no(r,null,c,o):wn(i,r,c,o),r.child;case 11:return y_(i,r,r.type,r.pendingProps,o);case 7:return wn(i,r,r.pendingProps,o),r.child;case 8:return wn(i,r,r.pendingProps.children,o),r.child;case 12:return wn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,jr(r,r.type,c.value),wn(i,r,c.children,o),r.child;case 9:return p=r.type._context,c=r.pendingProps.children,Za(r),p=_n(p),c=c(p),r.flags|=1,wn(i,r,c,o),r.child;case 14:return v_(i,r,r.type,r.pendingProps,o);case 15:return b_(i,r,r.type,r.pendingProps,o);case 19:return R_(i,r,o);case 31:return fI(i,r,o);case 22:return __(i,r,o,r.pendingProps);case 24:return Za(r),c=_n(Zt),i===null?(p=Bm(),p===null&&(p=wt,g=Um(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),r.memoizedState={parent:c,cache:p},qm(r),jr(r,Zt,p)):((i.lanes&o)!==0&&(Hm(i,r),Nc(r,null,null,o),Ic()),p=i.memoizedState,g=r.memoizedState,p.parent!==c?(p={parent:c,cache:c},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),jr(r,Zt,c)):(c=g.cache,jr(r,Zt,c),c!==p.cache&&Lm(r,[Zt],o,!0))),wn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Zs(i){i.flags|=4}function Sp(i,r,o,c,p){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(nw())i.flags|=8192;else throw to=Vh,Fm}else i.flags&=-16777217}function N_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Gw(r))if(nw())i.flags|=8192;else throw to=Vh,Fm}function Xh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?xr():536870912,i.lanes|=r,al|=r)}function Oc(i,r){if(!tt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function At(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function pI(i,r,o){var c=r.pendingProps;switch(Mm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(r),null;case 1:return At(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Ys(Zt),Ie(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ko(r)?Zs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Pm())),At(r),null;case 26:var p=r.type,g=r.memoizedState;return i===null?(Zs(r),g!==null?(At(r),N_(r,g)):(At(r),Sp(r,p,null,c,o))):g?g!==i.memoizedState?(Zs(r),At(r),N_(r,g)):(At(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Zs(r),At(r),Sp(r,p,i,c,o)),null;case 27:if(qe(r),o=ve.current,p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Zs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return At(r),null}i=oe.current,Ko(r)?cb(r):(i=jw(p,c,o),r.stateNode=i,Zs(r))}return At(r),null;case 5:if(qe(r),p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Zs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return At(r),null}if(g=oe.current,Ko(r))cb(r);else{var w=dd(ve.current);switch(g){case 1:g=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=w.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?w.createElement(p,{is:c.is}):w.createElement(p)}}g[Y]=r,g[we]=c;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)g.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=g;e:switch(xn(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Zs(r)}}return At(r),Sp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Zs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=ve.current,Ko(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,p=bn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[Y]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Aw(i.nodeValue,o)),i||Or(r,!0)}else i=dd(i).createTextNode(c),i[Y]=r,r.stateNode=i}return At(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=Ko(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Y]=r}else Wa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;At(r),i=!1}else o=Pm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(li(r),r):(li(r),null);if((r.flags&128)!==0)throw Error(s(558))}return At(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Ko(r),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Y]=r}else Wa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;At(r),p=!1}else p=Pm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(li(r),r):(li(r),null)}return li(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Xh(r,r.updateQueue),At(r),null);case 4:return Ie(),i===null&&Kp(r.stateNode.containerInfo),At(r),null;case 10:return Ys(r.type),At(r),null;case 19:if(Q(qt),c=r.memoizedState,c===null)return At(r),null;if(p=(r.flags&128)!==0,g=c.rendering,g===null)if(p)Oc(c,!1);else{if(Lt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Lh(i),g!==null){for(r.flags|=128,Oc(c,!1),i=g.updateQueue,r.updateQueue=i,Xh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)sb(o,i),o=o.sibling;return ne(qt,qt.current&1|2),tt&&$s(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&Yt()>nd&&(r.flags|=128,p=!0,Oc(c,!1),r.lanes=4194304)}else{if(!p)if(i=Lh(g),i!==null){if(r.flags|=128,p=!0,i=i.updateQueue,r.updateQueue=i,Xh(r,i),Oc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!tt)return At(r),null}else 2*Yt()-c.renderingStartTime>nd&&o!==536870912&&(r.flags|=128,p=!0,Oc(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Yt(),i.sibling=null,o=qt.current,ne(qt,p?o&1|2:o&1),tt&&$s(r,c.treeForkCount),i):(At(r),null);case 22:case 23:return li(r),Ym(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(At(r),r.subtreeFlags&6&&(r.flags|=8192)):At(r),o=r.updateQueue,o!==null&&Xh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&Q(Ja),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ys(Zt),At(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function gI(i,r){switch(Mm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ys(Zt),Ie(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return qe(r),null;case 31:if(r.memoizedState!==null){if(li(r),r.alternate===null)throw Error(s(340));Wa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(li(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Wa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return Q(qt),null;case 4:return Ie(),null;case 10:return Ys(r.type),null;case 22:case 23:return li(r),Ym(),i!==null&&Q(Ja),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ys(Zt),null;case 25:return null;default:return null}}function k_(i,r){switch(Mm(r),r.tag){case 3:Ys(Zt),Ie();break;case 26:case 27:case 5:qe(r);break;case 4:Ie();break;case 31:r.memoizedState!==null&&li(r);break;case 13:li(r);break;case 19:Q(qt);break;case 10:Ys(r.type);break;case 22:case 23:li(r),Ym(),i!==null&&Q(Ja);break;case 24:Ys(Zt)}}function jc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&i)===i){c=void 0;var g=o.create,w=o.inst;c=g(),w.destroy=c}o=o.next}while(o!==p)}}catch(A){gt(r,r.return,A)}}function qr(i,r,o){try{var c=r.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&i)===i){var w=c.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,p=r;var L=o,ee=A;try{ee()}catch(ae){gt(p,L,ae)}}}c=c.next}while(c!==g)}}catch(ae){gt(r,r.return,ae)}}function D_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{xb(r,o)}catch(c){gt(i,i.return,c)}}}function M_(i,r,o){o.props=so(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){gt(i,r,c)}}function Lc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(p){gt(i,r,p)}}function Es(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){gt(i,r,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){gt(i,r,p)}else o.current=null}function V_(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){gt(i,i.return,p)}}function Ap(i,r,o){try{var c=i.stateNode;LI(c,i.type,o,r),c[we]=r}catch(p){gt(i,i.return,p)}}function P_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Wr(i.type)||i.tag===4}function Cp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||P_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Wr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Rp(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Hi));else if(c!==4&&(c===27&&Wr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Rp(i,r,o),i=i.sibling;i!==null;)Rp(i,r,o),i=i.sibling}function Zh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Wr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Zh(i,r,o),i=i.sibling;i!==null;)Zh(i,r,o),i=i.sibling}function O_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);xn(r,c,o),r[Y]=i,r[we]=o}catch(g){gt(i,i.return,g)}}var Js=!1,tn=!1,Ip=!1,j_=typeof WeakSet=="function"?WeakSet:Set,fn=null;function yI(i,r){if(i=i.containerInfo,Wp=bd,i=Qv(i),xm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,A=-1,L=-1,ee=0,ae=0,ue=i,te=null;t:for(;;){for(var se;ue!==o||p!==0&&ue.nodeType!==3||(A=w+p),ue!==g||c!==0&&ue.nodeType!==3||(L=w+c),ue.nodeType===3&&(w+=ue.nodeValue.length),(se=ue.firstChild)!==null;)te=ue,ue=se;for(;;){if(ue===i)break t;if(te===o&&++ee===p&&(A=w),te===g&&++ae===c&&(L=w),(se=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=se}o=A===-1||L===-1?null:{start:A,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(Xp={focusedElem:i,selectionRange:o},bd=!1,fn=r;fn!==null;)if(r=fn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,fn=i;else for(;fn!==null;){switch(r=fn,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)p=i[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Se=so(o.type,p);i=c.getSnapshotBeforeUpdate(Se,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(De){gt(o,o.return,De)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)eg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":eg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,fn=i;break}fn=r.return}}function L_(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:tr(i,o),c&4&&jc(5,o);break;case 1:if(tr(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(w){gt(o,o.return,w)}else{var p=so(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(p,r,i.__reactInternalSnapshotBeforeUpdate)}catch(w){gt(o,o.return,w)}}c&64&&D_(o),c&512&&Lc(o,o.return);break;case 3:if(tr(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{xb(i,r)}catch(w){gt(o,o.return,w)}}break;case 27:r===null&&c&4&&O_(o);case 26:case 5:tr(i,o),r===null&&c&4&&V_(o),c&512&&Lc(o,o.return);break;case 12:tr(i,o);break;case 31:tr(i,o),c&4&&B_(i,o);break;case 13:tr(i,o),c&4&&F_(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=AI.bind(null,o),$I(i,o))));break;case 22:if(c=o.memoizedState!==null||Js,!c){r=r!==null&&r.memoizedState!==null||tn,p=Js;var g=tn;Js=c,(tn=r)&&!g?nr(i,o,(o.subtreeFlags&8772)!==0):tr(i,o),Js=p,tn=g}break;case 30:break;default:tr(i,o)}}function U_(i){var r=i.alternate;r!==null&&(i.alternate=null,U_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&No(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Nt=null,$n=!1;function er(i,r,o){for(o=o.child;o!==null;)z_(i,r,o),o=o.sibling}function z_(i,r,o){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(rt,o)}catch{}switch(o.tag){case 26:tn||Es(o,r),er(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:tn||Es(o,r);var c=Nt,p=$n;Wr(o.type)&&(Nt=o.stateNode,$n=!1),er(i,r,o),Kc(o.stateNode),Nt=c,$n=p;break;case 5:tn||Es(o,r);case 6:if(c=Nt,p=$n,Nt=null,er(i,r,o),Nt=c,$n=p,Nt!==null)if($n)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(o.stateNode)}catch(g){gt(o,r,g)}else try{Nt.removeChild(o.stateNode)}catch(g){gt(o,r,g)}break;case 18:Nt!==null&&($n?(i=Nt,Dw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),ml(i)):Dw(Nt,o.stateNode));break;case 4:c=Nt,p=$n,Nt=o.stateNode.containerInfo,$n=!0,er(i,r,o),Nt=c,$n=p;break;case 0:case 11:case 14:case 15:qr(2,o,r),tn||qr(4,o,r),er(i,r,o);break;case 1:tn||(Es(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&M_(o,r,c)),er(i,r,o);break;case 21:er(i,r,o);break;case 22:tn=(c=tn)||o.memoizedState!==null,er(i,r,o),tn=c;break;default:er(i,r,o)}}function B_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ml(i)}catch(o){gt(r,r.return,o)}}}function F_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ml(i)}catch(o){gt(r,r.return,o)}}function vI(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new j_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new j_),r;default:throw Error(s(435,i.tag))}}function Jh(i,r){var o=vI(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var p=CI.bind(null,i,c);c.then(p,p)}})}function Kn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=i,w=r,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(Wr(A.type)){Nt=A.stateNode,$n=!1;break e}break;case 5:Nt=A.stateNode,$n=!1;break e;case 3:case 4:Nt=A.stateNode.containerInfo,$n=!0;break e}A=A.return}if(Nt===null)throw Error(s(160));z_(g,w,p),Nt=null,$n=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)q_(r,i),r=r.sibling}var Wi=null;function q_(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Kn(r,i),Yn(i),c&4&&(qr(3,i,i.return),jc(3,i),qr(5,i,i.return));break;case 1:Kn(r,i),Yn(i),c&512&&(tn||o===null||Es(o,o.return)),c&64&&Js&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=Wi;if(Kn(r,i),Yn(i),c&512&&(tn||o===null||Es(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[ni]||g[Y]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),xn(g,c,o),g[Y]=i,Wt(g),c=g;break e;case"link":var w=qw("link","href",p).get(c+(o.href||""));if(w){for(var A=0;A<w.length;A++)if(g=w[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(A,1);break t}}g=p.createElement(c),xn(g,c,o),p.head.appendChild(g);break;case"meta":if(w=qw("meta","content",p).get(c+(o.content||""))){for(A=0;A<w.length;A++)if(g=w[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(A,1);break t}}g=p.createElement(c),xn(g,c,o),p.head.appendChild(g);break;default:throw Error(s(468,c))}g[Y]=i,Wt(g),c=g}i.stateNode=c}else Hw(p,i.type,i.stateNode);else i.stateNode=Fw(p,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Hw(p,i.type,i.stateNode):Fw(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Ap(i,i.memoizedProps,o.memoizedProps)}break;case 27:Kn(r,i),Yn(i),c&512&&(tn||o===null||Es(o,o.return)),o!==null&&c&4&&Ap(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Kn(r,i),Yn(i),c&512&&(tn||o===null||Es(o,o.return)),i.flags&32){p=i.stateNode;try{Gn(p,"")}catch(Se){gt(i,i.return,Se)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,Ap(i,p,o!==null?o.memoizedProps:p)),c&1024&&(Ip=!0);break;case 6:if(Kn(r,i),Yn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(Se){gt(i,i.return,Se)}}break;case 3:if(pd=null,p=Wi,Wi=fd(r.containerInfo),Kn(r,i),Wi=p,Yn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ml(r.containerInfo)}catch(Se){gt(i,i.return,Se)}Ip&&(Ip=!1,H_(i));break;case 4:c=Wi,Wi=fd(i.stateNode.containerInfo),Kn(r,i),Yn(i),Wi=c;break;case 12:Kn(r,i),Yn(i);break;case 31:Kn(r,i),Yn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Jh(i,c)));break;case 13:Kn(r,i),Yn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(td=Yt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Jh(i,c)));break;case 22:p=i.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,ee=Js,ae=tn;if(Js=ee||p,tn=ae||L,Kn(r,i),tn=ae,Js=ee,Yn(i),c&8192)e:for(r=i.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||L||Js||tn||ro(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){L=o=r;try{if(g=L.stateNode,p)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=L.stateNode;var ue=L.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;A.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Se){gt(L,L.return,Se)}}}else if(r.tag===6){if(o===null){L=r;try{L.stateNode.nodeValue=p?"":L.memoizedProps}catch(Se){gt(L,L.return,Se)}}}else if(r.tag===18){if(o===null){L=r;try{var se=L.stateNode;p?Mw(se,!0):Mw(L.stateNode,!1)}catch(Se){gt(L,L.return,Se)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Jh(i,o))));break;case 19:Kn(r,i),Yn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Jh(i,c)));break;case 30:break;case 21:break;default:Kn(r,i),Yn(i)}}function Yn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(P_(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,g=Cp(i);Zh(i,g,p);break;case 5:var w=o.stateNode;o.flags&32&&(Gn(w,""),o.flags&=-33);var A=Cp(i);Zh(i,A,w);break;case 3:case 4:var L=o.stateNode.containerInfo,ee=Cp(i);Rp(i,ee,L);break;default:throw Error(s(161))}}catch(ae){gt(i,i.return,ae)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function H_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;H_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function tr(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)L_(i,r.alternate,r),r=r.sibling}function ro(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:qr(4,r,r.return),ro(r);break;case 1:Es(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&M_(r,r.return,o),ro(r);break;case 27:Kc(r.stateNode);case 26:case 5:Es(r,r.return),ro(r);break;case 22:r.memoizedState===null&&ro(r);break;case 30:ro(r);break;default:ro(r)}i=i.sibling}}function nr(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,p=i,g=r,w=g.flags;switch(g.tag){case 0:case 11:case 15:nr(p,g,o),jc(4,g);break;case 1:if(nr(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ee){gt(c,c.return,ee)}if(c=g,p=c.updateQueue,p!==null){var A=c.stateNode;try{var L=p.shared.hiddenCallbacks;if(L!==null)for(p.shared.hiddenCallbacks=null,p=0;p<L.length;p++)wb(L[p],A)}catch(ee){gt(c,c.return,ee)}}o&&w&64&&D_(g),Lc(g,g.return);break;case 27:O_(g);case 26:case 5:nr(p,g,o),o&&c===null&&w&4&&V_(g),Lc(g,g.return);break;case 12:nr(p,g,o);break;case 31:nr(p,g,o),o&&w&4&&B_(p,g);break;case 13:nr(p,g,o),o&&w&4&&F_(p,g);break;case 22:g.memoizedState===null&&nr(p,g,o),Lc(g,g.return);break;case 30:break;default:nr(p,g,o)}r=r.sibling}}function Np(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ec(o))}function kp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ec(i))}function Xi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)G_(i,r,o,c),r=r.sibling}function G_(i,r,o,c){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Xi(i,r,o,c),p&2048&&jc(9,r);break;case 1:Xi(i,r,o,c);break;case 3:Xi(i,r,o,c),p&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ec(i)));break;case 12:if(p&2048){Xi(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,w=g.id,A=g.onPostCommit;typeof A=="function"&&A(w,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){gt(r,r.return,L)}}else Xi(i,r,o,c);break;case 31:Xi(i,r,o,c);break;case 13:Xi(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,w=r.alternate,r.memoizedState!==null?g._visibility&2?Xi(i,r,o,c):Uc(i,r):g._visibility&2?Xi(i,r,o,c):(g._visibility|=2,il(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),p&2048&&Np(w,r);break;case 24:Xi(i,r,o,c),p&2048&&kp(r.alternate,r);break;default:Xi(i,r,o,c)}}function il(i,r,o,c,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,w=r,A=o,L=c,ee=w.flags;switch(w.tag){case 0:case 11:case 15:il(g,w,A,L,p),jc(8,w);break;case 23:break;case 22:var ae=w.stateNode;w.memoizedState!==null?ae._visibility&2?il(g,w,A,L,p):Uc(g,w):(ae._visibility|=2,il(g,w,A,L,p)),p&&ee&2048&&Np(w.alternate,w);break;case 24:il(g,w,A,L,p),p&&ee&2048&&kp(w.alternate,w);break;default:il(g,w,A,L,p)}r=r.sibling}}function Uc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,p=c.flags;switch(c.tag){case 22:Uc(o,c),p&2048&&Np(c.alternate,c);break;case 24:Uc(o,c),p&2048&&kp(c.alternate,c);break;default:Uc(o,c)}r=r.sibling}}var zc=8192;function sl(i,r,o){if(i.subtreeFlags&zc)for(i=i.child;i!==null;)$_(i,r,o),i=i.sibling}function $_(i,r,o){switch(i.tag){case 26:sl(i,r,o),i.flags&zc&&i.memoizedState!==null&&sN(o,Wi,i.memoizedState,i.memoizedProps);break;case 5:sl(i,r,o);break;case 3:case 4:var c=Wi;Wi=fd(i.stateNode.containerInfo),sl(i,r,o),Wi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=zc,zc=16777216,sl(i,r,o),zc=c):sl(i,r,o));break;default:sl(i,r,o)}}function K_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Bc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];fn=c,Q_(c,i)}K_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Y_(i),i=i.sibling}function Y_(i){switch(i.tag){case 0:case 11:case 15:Bc(i),i.flags&2048&&qr(9,i,i.return);break;case 3:Bc(i);break;case 12:Bc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,ed(i)):Bc(i);break;default:Bc(i)}}function ed(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];fn=c,Q_(c,i)}K_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:qr(8,r,r.return),ed(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,ed(r));break;default:ed(r)}i=i.sibling}}function Q_(i,r){for(;fn!==null;){var o=fn;switch(o.tag){case 0:case 11:case 15:qr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ec(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,fn=c;else e:for(o=i;fn!==null;){c=fn;var p=c.sibling,g=c.return;if(U_(c),c===o){fn=null;break e}if(p!==null){p.return=g,fn=p;break e}fn=g}}}var bI={getCacheForType:function(i){var r=_n(Zt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return _n(Zt).controller.signal}},_I=typeof WeakMap=="function"?WeakMap:Map,ct=0,wt=null,Ke=null,Qe=0,pt=0,ci=null,Hr=!1,rl=!1,Dp=!1,ir=0,Lt=0,Gr=0,ao=0,Mp=0,ui=0,al=0,Fc=null,Qn=null,Vp=!1,td=0,W_=0,nd=1/0,id=null,$r=null,on=0,Kr=null,ol=null,sr=0,Pp=0,Op=null,X_=null,qc=0,jp=null;function hi(){return(ct&2)!==0&&Qe!==0?Qe&-Qe:U.T!==null?qp():Er()}function Z_(){if(ui===0)if((Qe&536870912)===0||tt){var i=vi;vi<<=1,(vi&3932160)===0&&(vi=262144),ui=i}else ui=536870912;return i=oi.current,i!==null&&(i.flags|=32),ui}function Wn(i,r,o){(i===wt&&(pt===2||pt===9)||i.cancelPendingCommit!==null)&&(ll(i,0),Yr(i,Qe,ui,!1)),Bs(i,o),((ct&2)===0||i!==wt)&&(i===wt&&((ct&2)===0&&(ao|=o),Lt===4&&Yr(i,Qe,ui,!1)),Ss(i))}function J_(i,r,o){if((ct&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||qn(i,r),p=c?TI(i,r):Up(i,r,!0),g=c;do{if(p===0){rl&&!c&&Yr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!wI(o)){p=Up(i,r,!1),g=!1;continue}if(p===2){if(g=r,i.errorRecoveryDisabledLanes&g)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var A=i;p=Fc;var L=A.current.memoizedState.isDehydrated;if(L&&(ll(A,w).flags|=256),w=Up(A,w,!1),w!==2){if(Dp&&!L){A.errorRecoveryDisabledLanes|=g,ao|=g,p=4;break e}g=Qn,Qn=p,g!==null&&(Qn===null?Qn=g:Qn.push.apply(Qn,g))}p=w}if(g=!1,p!==2)continue}}if(p===1){ll(i,0),Yr(i,r,0,!0);break}e:{switch(c=i,g=p,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Yr(c,r,ui,!Hr);break e;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=td+300-Yt(),10<p)){if(Yr(c,r,ui,!Hr),bi(c,0,!0)!==0)break e;sr=r,c.timeoutHandle=Nw(ew.bind(null,c,o,Qn,id,Vp,r,ui,ao,al,Hr,g,"Throttled",-0,0),p);break e}ew(c,o,Qn,id,Vp,r,ui,ao,al,Hr,g,null,-0,0)}}break}while(!0);Ss(i)}function ew(i,r,o,c,p,g,w,A,L,ee,ae,ue,te,se){if(i.timeoutHandle=-1,ue=r.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hi},$_(r,g,ue);var Se=(g&62914560)===g?td-Yt():(g&4194048)===g?W_-Yt():0;if(Se=rN(ue,Se),Se!==null){sr=g,i.cancelPendingCommit=Se(lw.bind(null,i,r,g,o,c,p,w,A,L,ae,ue,null,te,se)),Yr(i,g,w,!ee);return}}lw(i,r,g,o,c,p,w,A,L)}function wI(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!ri(g(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Yr(i,r,o,c){r&=~Mp,r&=~ao,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var p=r;0<p;){var g=31-Tt(p),w=1<<g;c[g]=-1,p&=~w}o!==0&&us(i,o,r)}function sd(){return(ct&6)===0?(Hc(0),!1):!0}function Lp(){if(Ke!==null){if(pt===0)var i=Ke.return;else i=Ke,Ks=Xa=null,ep(i),Zo=null,Ac=0,i=Ke;for(;i!==null;)k_(i.alternate,i),i=i.return;Ke=null}}function ll(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,BI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),sr=0,Lp(),wt=i,Ke=o=Gs(i.current,null),Qe=r,pt=0,ci=null,Hr=!1,rl=qn(i,r),Dp=!1,al=ui=Mp=ao=Gr=Lt=0,Qn=Fc=null,Vp=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var p=31-Tt(c),g=1<<p;r|=i[p],c&=~g}return ir=r,Sh(),o}function tw(i,r){Be=null,U.H=Vc,r===Xo||r===Mh?(r=yb(),pt=3):r===Fm?(r=yb(),pt=4):pt=r===gp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ci=r,Ke===null&&(Lt=1,Kh(i,Ci(r,i.current)))}function nw(){var i=oi.current;return i===null?!0:(Qe&4194048)===Qe?ki===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?i===ki:!1}function iw(){var i=U.H;return U.H=Vc,i===null?Vc:i}function sw(){var i=U.A;return U.A=bI,i}function rd(){Lt=4,Hr||(Qe&4194048)!==Qe&&oi.current!==null||(rl=!0),(Gr&134217727)===0&&(ao&134217727)===0||wt===null||Yr(wt,Qe,ui,!1)}function Up(i,r,o){var c=ct;ct|=2;var p=iw(),g=sw();(wt!==i||Qe!==r)&&(id=null,ll(i,r)),r=!1;var w=Lt;e:do try{if(pt!==0&&Ke!==null){var A=Ke,L=ci;switch(pt){case 8:Lp(),w=6;break e;case 3:case 2:case 9:case 6:oi.current===null&&(r=!0);var ee=pt;if(pt=0,ci=null,cl(i,A,L,ee),o&&rl){w=0;break e}break;default:ee=pt,pt=0,ci=null,cl(i,A,L,ee)}}xI(),w=Lt;break}catch(ae){tw(i,ae)}while(!0);return r&&i.shellSuspendCounter++,Ks=Xa=null,ct=c,U.H=p,U.A=g,Ke===null&&(wt=null,Qe=0,Sh()),w}function xI(){for(;Ke!==null;)rw(Ke)}function TI(i,r){var o=ct;ct|=2;var c=iw(),p=sw();wt!==i||Qe!==r?(id=null,nd=Yt()+500,ll(i,r)):rl=qn(i,r);e:do try{if(pt!==0&&Ke!==null){r=Ke;var g=ci;t:switch(pt){case 1:pt=0,ci=null,cl(i,r,g,1);break;case 2:case 9:if(pb(g)){pt=0,ci=null,aw(r);break}r=function(){pt!==2&&pt!==9||wt!==i||(pt=7),Ss(i)},g.then(r,r);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:pb(g)?(pt=0,ci=null,aw(r)):(pt=0,ci=null,cl(i,r,g,7));break;case 5:var w=null;switch(Ke.tag){case 26:w=Ke.memoizedState;case 5:case 27:var A=Ke;if(w?Gw(w):A.stateNode.complete){pt=0,ci=null;var L=A.sibling;if(L!==null)Ke=L;else{var ee=A.return;ee!==null?(Ke=ee,ad(ee)):Ke=null}break t}}pt=0,ci=null,cl(i,r,g,5);break;case 6:pt=0,ci=null,cl(i,r,g,6);break;case 8:Lp(),Lt=6;break e;default:throw Error(s(462))}}EI();break}catch(ae){tw(i,ae)}while(!0);return Ks=Xa=null,U.H=c,U.A=p,ct=o,Ke!==null?0:(wt=null,Qe=0,Sh(),Lt)}function EI(){for(;Ke!==null&&!Da();)rw(Ke)}function rw(i){var r=I_(i.alternate,i,ir);i.memoizedProps=i.pendingProps,r===null?ad(i):Ke=r}function aw(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=T_(o,r,r.pendingProps,r.type,void 0,Qe);break;case 11:r=T_(o,r,r.pendingProps,r.type.render,r.ref,Qe);break;case 5:ep(r);default:k_(o,r),r=Ke=sb(r,ir),r=I_(o,r,ir)}i.memoizedProps=i.pendingProps,r===null?ad(i):Ke=r}function cl(i,r,o,c){Ks=Xa=null,ep(r),Zo=null,Ac=0;var p=r.return;try{if(dI(i,p,r,o,Qe)){Lt=1,Kh(i,Ci(o,i.current)),Ke=null;return}}catch(g){if(p!==null)throw Ke=p,g;Lt=1,Kh(i,Ci(o,i.current)),Ke=null;return}r.flags&32768?(tt||c===1?i=!0:rl||(Qe&536870912)!==0?i=!1:(Hr=i=!0,(c===2||c===9||c===3||c===6)&&(c=oi.current,c!==null&&c.tag===13&&(c.flags|=16384))),ow(r,i)):ad(r)}function ad(i){var r=i;do{if((r.flags&32768)!==0){ow(r,Hr);return}i=r.return;var o=pI(r.alternate,r,ir);if(o!==null){Ke=o;return}if(r=r.sibling,r!==null){Ke=r;return}Ke=r=i}while(r!==null);Lt===0&&(Lt=5)}function ow(i,r){do{var o=gI(i.alternate,i);if(o!==null){o.flags&=32767,Ke=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ke=i;return}Ke=i=o}while(i!==null);Lt=6,Ke=null}function lw(i,r,o,c,p,g,w,A,L){i.cancelPendingCommit=null;do od();while(on!==0);if((ct&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Cm,nc(i,o,g,w,A,L),i===wt&&(Ke=wt=null,Qe=0),ol=r,Kr=i,sr=o,Pp=g,Op=p,X_=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,RI(An,function(){return fw(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=U.T,U.T=null,p=Z.p,Z.p=2,w=ct,ct|=4;try{yI(i,r,o)}finally{ct=w,Z.p=p,U.T=c}}on=1,cw(),uw(),hw()}}function cw(){if(on===1){on=0;var i=Kr,r=ol,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=U.T,U.T=null;var c=Z.p;Z.p=2;var p=ct;ct|=4;try{q_(r,i);var g=Xp,w=Qv(i.containerInfo),A=g.focusedElem,L=g.selectionRange;if(w!==A&&A&&A.ownerDocument&&Yv(A.ownerDocument.documentElement,A)){if(L!==null&&xm(A)){var ee=L.start,ae=L.end;if(ae===void 0&&(ae=ee),"selectionStart"in A)A.selectionStart=ee,A.selectionEnd=Math.min(ae,A.value.length);else{var ue=A.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var se=te.getSelection(),Se=A.textContent.length,De=Math.min(L.start,Se),_t=L.end===void 0?De:Math.min(L.end,Se);!se.extend&&De>_t&&(w=_t,_t=De,De=w);var $=Kv(A,De),F=Kv(A,_t);if($&&F&&(se.rangeCount!==1||se.anchorNode!==$.node||se.anchorOffset!==$.offset||se.focusNode!==F.node||se.focusOffset!==F.offset)){var J=ue.createRange();J.setStart($.node,$.offset),se.removeAllRanges(),De>_t?(se.addRange(J),se.extend(F.node,F.offset)):(J.setEnd(F.node,F.offset),se.addRange(J))}}}}for(ue=[],se=A;se=se.parentNode;)se.nodeType===1&&ue.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ue.length;A++){var le=ue[A];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}bd=!!Wp,Xp=Wp=null}finally{ct=p,Z.p=c,U.T=o}}i.current=r,on=2}}function uw(){if(on===2){on=0;var i=Kr,r=ol,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=U.T,U.T=null;var c=Z.p;Z.p=2;var p=ct;ct|=4;try{L_(i,r.alternate,r)}finally{ct=p,Z.p=c,U.T=o}}on=3}}function hw(){if(on===4||on===3){on=0,wr();var i=Kr,r=ol,o=sr,c=X_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?on=5:(on=0,ol=Kr=null,dw(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&($r=null),wi(o),r=r.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(rt,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=U.T,p=Z.p,Z.p=2,U.T=null;try{for(var g=i.onRecoverableError,w=0;w<c.length;w++){var A=c[w];g(A.value,{componentStack:A.stack})}}finally{U.T=r,Z.p=p}}(sr&3)!==0&&od(),Ss(i),p=i.pendingLanes,(o&261930)!==0&&(p&42)!==0?i===jp?qc++:(qc=0,jp=i):qc=0,Hc(0)}}function dw(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ec(r)))}function od(){return cw(),uw(),hw(),fw()}function fw(){if(on!==5)return!1;var i=Kr,r=Pp;Pp=0;var o=wi(sr),c=U.T,p=Z.p;try{Z.p=32>o?32:o,U.T=null,o=Op,Op=null;var g=Kr,w=sr;if(on=0,ol=Kr=null,sr=0,(ct&6)!==0)throw Error(s(331));var A=ct;if(ct|=4,Y_(g.current),G_(g,g.current,w,o),ct=A,Hc(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(rt,g)}catch{}return!0}finally{Z.p=p,U.T=c,dw(i,r)}}function mw(i,r,o){r=Ci(o,r),r=pp(i.stateNode,r,2),i=zr(i,r,2),i!==null&&(Bs(i,2),Ss(i))}function gt(i,r,o){if(i.tag===3)mw(i,i,o);else for(;r!==null;){if(r.tag===3){mw(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&($r===null||!$r.has(c))){i=Ci(o,i),o=p_(2),c=zr(r,o,2),c!==null&&(g_(o,c,r,i),Bs(c,2),Ss(c));break}}r=r.return}}function zp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new _I;var p=new Set;c.set(r,p)}else p=c.get(r),p===void 0&&(p=new Set,c.set(r,p));p.has(o)||(Dp=!0,p.add(o),i=SI.bind(null,i,r,o),r.then(i,i))}function SI(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,wt===i&&(Qe&o)===o&&(Lt===4||Lt===3&&(Qe&62914560)===Qe&&300>Yt()-td?(ct&2)===0&&ll(i,0):Mp|=o,al===Qe&&(al=0)),Ss(i)}function pw(i,r){r===0&&(r=xr()),i=Ya(i,r),i!==null&&(Bs(i,r),Ss(i))}function AI(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),pw(i,o)}function CI(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),pw(i,o)}function RI(i,r){return et(i,r)}var ld=null,ul=null,Bp=!1,cd=!1,Fp=!1,Qr=0;function Ss(i){i!==ul&&i.next===null&&(ul===null?ld=ul=i:ul=ul.next=i),cd=!0,Bp||(Bp=!0,NI())}function Hc(i,r){if(!Fp&&cd){Fp=!0;do for(var o=!1,c=ld;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var w=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-Tt(42|i)+1)-1,g&=p&~(w&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,bw(c,g))}else g=Qe,g=bi(c,c===wt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||qn(c,g)||(o=!0,bw(c,g));c=c.next}while(o);Fp=!1}}function II(){gw()}function gw(){cd=Bp=!1;var i=0;Qr!==0&&zI()&&(i=Qr);for(var r=Yt(),o=null,c=ld;c!==null;){var p=c.next,g=yw(c,r);g===0?(c.next=null,o===null?ld=p:o.next=p,p===null&&(ul=o)):(o=c,(i!==0||(g&3)!==0)&&(cd=!0)),c=p}on!==0&&on!==5||Hc(i),Qr!==0&&(Qr=0)}function yw(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var w=31-Tt(g),A=1<<w,L=p[w];L===-1?((A&o)===0||(A&c)!==0)&&(p[w]=Va(A,r)):L<=r&&(i.expiredLanes|=A),g&=~A}if(r=wt,o=Qe,o=bi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(pt===2||pt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&gi(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||qn(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&gi(c),wi(o)){case 2:case 8:o=Fn;break;case 32:o=An;break;case 268435456:o=ls;break;default:o=An}return c=vw.bind(null,i),o=et(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&gi(c),i.callbackPriority=2,i.callbackNode=null,2}function vw(i,r){if(on!==0&&on!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(od()&&i.callbackNode!==o)return null;var c=Qe;return c=bi(i,i===wt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(J_(i,c,r),yw(i,Yt()),i.callbackNode!=null&&i.callbackNode===o?vw.bind(null,i):null)}function bw(i,r){if(od())return null;J_(i,r,!0)}function NI(){FI(function(){(ct&6)!==0?et(Vn,II):gw()})}function qp(){if(Qr===0){var i=Qo;i===0&&(i=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),Qr=i}return Qr}function _w(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Vo(""+i)}function ww(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function kI(i,r,o,c,p){if(r==="submit"&&o&&o.stateNode===p){var g=_w((p[we]||null).action),w=c.submitter;w&&(r=(r=w[we]||null)?_w(r.formAction):w.getAttribute("formAction"),r!==null&&(g=r,w=null));var A=new vs("action","action",null,c,p);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Qr!==0){var L=w?ww(p,w):new FormData(p);cp(o,{pending:!0,data:L,method:p.method,action:g},null,L)}}else typeof g=="function"&&(A.preventDefault(),L=w?ww(p,w):new FormData(p),cp(o,{pending:!0,data:L,method:p.method,action:g},g,L))},currentTarget:p}]})}}for(var Hp=0;Hp<Am.length;Hp++){var Gp=Am[Hp],DI=Gp.toLowerCase(),MI=Gp[0].toUpperCase()+Gp.slice(1);Qi(DI,"on"+MI)}Qi(Zv,"onAnimationEnd"),Qi(Jv,"onAnimationIteration"),Qi(eb,"onAnimationStart"),Qi("dblclick","onDoubleClick"),Qi("focusin","onFocus"),Qi("focusout","onBlur"),Qi(QR,"onTransitionRun"),Qi(WR,"onTransitionStart"),Qi(XR,"onTransitionCancel"),Qi(tb,"onTransitionEnd"),ms("onMouseEnter",["mouseout","mouseover"]),ms("onMouseLeave",["mouseout","mouseover"]),ms("onPointerEnter",["pointerout","pointerover"]),ms("onPointerLeave",["pointerout","pointerover"]),fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fs("onBeforeInput",["compositionend","keypress","textInput","paste"]),fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gc));function xw(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],p=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var w=c.length-1;0<=w;w--){var A=c[w],L=A.instance,ee=A.currentTarget;if(A=A.listener,L!==g&&p.isPropagationStopped())break e;g=A,p.currentTarget=ee;try{g(p)}catch(ae){Eh(ae)}p.currentTarget=null,g=L}else for(w=0;w<c.length;w++){if(A=c[w],L=A.instance,ee=A.currentTarget,A=A.listener,L!==g&&p.isPropagationStopped())break e;g=A,p.currentTarget=ee;try{g(p)}catch(ae){Eh(ae)}p.currentTarget=null,g=L}}}}function Ye(i,r){var o=r[Rt];o===void 0&&(o=r[Rt]=new Set);var c=i+"__bubble";o.has(c)||(Tw(r,i,2,!1),o.add(c))}function $p(i,r,o){var c=0;r&&(c|=4),Tw(o,i,c,r)}var ud="_reactListening"+Math.random().toString(36).slice(2);function Kp(i){if(!i[ud]){i[ud]=!0,ic.forEach(function(o){o!=="selectionchange"&&(VI.has(o)||$p(o,!1,i),$p(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[ud]||(r[ud]=!0,$p("selectionchange",!1,r))}}function Tw(i,r,o,c){switch(Zw(r)){case 2:var p=lN;break;case 8:p=cN;break;default:p=lg}o=p.bind(null,r,o,i),p=void 0,!za||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(r,o,{capture:!0,passive:p}):i.addEventListener(r,o,!0):p!==void 0?i.addEventListener(r,o,{passive:p}):i.addEventListener(r,o,!1)}function Yp(i,r,o,c,p){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var A=c.stateNode.containerInfo;if(A===p)break;if(w===4)for(w=c.return;w!==null;){var L=w.tag;if((L===3||L===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;A!==null;){if(w=hs(A),w===null)return;if(L=w.tag,L===5||L===6||L===26||L===27){c=g=w;continue e}A=A.parentNode}}c=c.return}Nr(function(){var ee=g,ae=Ti(o),ue=[];e:{var te=nb.get(i);if(te!==void 0){var se=vs,Se=i;switch(i){case"keypress":if(Fa(o)===0)break e;case"keydown":case"keyup":se=wh;break;case"focusin":Se="focus",se=Ha;break;case"focusout":Se="blur",se=Ha;break;case"beforeblur":case"afterblur":se=Ha;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=_;break;case Zv:case Jv:case eb:se=mh;break;case tb:se=R;break;case"scroll":case"scrollend":se=pc;break;case"wheel":se=ie;break;case"copy":case"cut":case"paste":se=ph;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Hs;break;case"toggle":case"beforetoggle":se=ze}var De=(r&4)!==0,_t=!De&&(i==="scroll"||i==="scrollend"),$=De?te!==null?te+"Capture":null:te;De=[];for(var F=ee,J;F!==null;){var le=F;if(J=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||J===null||$===null||(le=Gi(F,$),le!=null&&De.push($c(F,le,J))),_t)break;F=F.return}0<De.length&&(te=new se(te,Se,null,o,ae),ue.push({event:te,listeners:De}))}}if((r&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",se=i==="mouseout"||i==="pointerout",te&&o!==dc&&(Se=o.relatedTarget||o.fromElement)&&(hs(Se)||Se[dt]))break e;if((se||te)&&(te=ae.window===ae?ae:(te=ae.ownerDocument)?te.defaultView||te.parentWindow:window,se?(Se=o.relatedTarget||o.toElement,se=ee,Se=Se?hs(Se):null,Se!==null&&(_t=l(Se),De=Se.tag,Se!==_t||De!==5&&De!==27&&De!==6)&&(Se=null)):(se=null,Se=ee),se!==Se)){if(De=gc,le="onMouseLeave",$="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(De=Hs,le="onPointerLeave",$="onPointerEnter",F="pointer"),_t=se==null?te:ii(se),J=Se==null?te:ii(Se),te=new De(le,F+"leave",se,o,ae),te.target=_t,te.relatedTarget=J,le=null,hs(ae)===ee&&(De=new De($,F+"enter",Se,o,ae),De.target=J,De.relatedTarget=_t,le=De),_t=le,se&&Se)t:{for(De=PI,$=se,F=Se,J=0,le=$;le;le=De(le))J++;le=0;for(var ke=F;ke;ke=De(ke))le++;for(;0<J-le;)$=De($),J--;for(;0<le-J;)F=De(F),le--;for(;J--;){if($===F||F!==null&&$===F.alternate){De=$;break t}$=De($),F=De(F)}De=null}else De=null;se!==null&&Ew(ue,te,se,De,!1),Se!==null&&_t!==null&&Ew(ue,_t,Se,De,!0)}}e:{if(te=ee?ii(ee):window,se=te.nodeName&&te.nodeName.toLowerCase(),se==="select"||se==="input"&&te.type==="file")var at=Bv;else if(Uv(te))if(Fv)at=$R;else{at=HR;var Re=qR}else se=te.nodeName,!se||se.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&Mo(ee.elementType)&&(at=Bv):at=GR;if(at&&(at=at(i,ee))){zv(ue,at,o,ae);break e}Re&&Re(i,te,ee),i==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&cc(te,"number",te.value)}switch(Re=ee?ii(ee):window,i){case"focusin":(Uv(Re)||Re.contentEditable==="true")&&(Bo=Re,Tm=ee,wc=null);break;case"focusout":wc=Tm=Bo=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,Wv(ue,o,ae);break;case"selectionchange":if(YR)break;case"keydown":case"keyup":Wv(ue,o,ae)}var Fe;if(lt)e:{switch(i){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else zo?Ga(i,o)&&(We="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(We="onCompositionStart");We&&(ws&&o.locale!=="ko"&&(zo||We!=="onCompositionStart"?We==="onCompositionEnd"&&zo&&(Fe=mc()):(ys=ae,fc="value"in ys?ys.value:ys.textContent,zo=!0)),Re=hd(ee,We),0<Re.length&&(We=new _s(We,i,null,o,ae),ue.push({event:We,listeners:Re}),Fe?We.data=Fe:(Fe=Uo(o),Fe!==null&&(We.data=Fe)))),(Fe=Si?UR(i,o):zR(i,o))&&(We=hd(ee,"onBeforeInput"),0<We.length&&(Re=new _s("onBeforeInput","beforeinput",null,o,ae),ue.push({event:Re,listeners:We}),Re.data=Fe)),kI(ue,i,ee,o,ae)}xw(ue,r)})}function $c(i,r,o){return{instance:i,listener:r,currentTarget:o}}function hd(i,r){for(var o=r+"Capture",c=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Gi(i,o),p!=null&&c.unshift($c(i,p,g)),p=Gi(i,r),p!=null&&c.push($c(i,p,g))),i.tag===3)return c;i=i.return}return[]}function PI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ew(i,r,o,c,p){for(var g=r._reactName,w=[];o!==null&&o!==c;){var A=o,L=A.alternate,ee=A.stateNode;if(A=A.tag,L!==null&&L===c)break;A!==5&&A!==26&&A!==27||ee===null||(L=ee,p?(ee=Gi(o,g),ee!=null&&w.unshift($c(o,ee,L))):p||(ee=Gi(o,g),ee!=null&&w.push($c(o,ee,L)))),o=o.return}w.length!==0&&i.push({event:r,listeners:w})}var OI=/\r\n?/g,jI=/\u0000|\uFFFD/g;function Sw(i){return(typeof i=="string"?i:""+i).replace(OI,`
`).replace(jI,"")}function Aw(i,r){return r=Sw(r),Sw(i)===r}function bt(i,r,o,c,p,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Gn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Gn(i,""+c);break;case"className":si(i,"class",c);break;case"tabIndex":si(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":si(i,o,c);break;case"style":hc(i,c,g);break;case"data":if(r!=="object"){si(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Vo(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&bt(i,r,"name",p.name,p,null),bt(i,r,"formEncType",p.formEncType,p,null),bt(i,r,"formMethod",p.formMethod,p,null),bt(i,r,"formTarget",p.formTarget,p,null)):(bt(i,r,"encType",p.encType,p,null),bt(i,r,"method",p.method,p,null),bt(i,r,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Vo(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Hi);break;case"onScroll":c!=null&&Ye("scroll",i);break;case"onScrollEnd":c!=null&&Ye("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Vo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ye("beforetoggle",i),Ye("toggle",i),ko(i,"popover",c);break;case"xlinkActuate":Xt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Xt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Xt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Xt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Xt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Xt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ko(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=hh.get(o)||o,ko(i,o,c))}}function Qp(i,r,o,c,p,g){switch(o){case"style":hc(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Gn(i,c):(typeof c=="number"||typeof c=="bigint")&&Gn(i,""+c);break;case"onScroll":c!=null&&Ye("scroll",i);break;case"onScrollEnd":c!=null&&Ye("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),g=i[we]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,p);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):ko(i,o,c)}}}function xn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",i),Ye("load",i);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:bt(i,r,g,w,o,null)}}p&&bt(i,r,"srcSet",o.srcSet,o,null),c&&bt(i,r,"src",o.src,o,null);return;case"input":Ye("invalid",i);var A=g=w=p=null,L=null,ee=null;for(c in o)if(o.hasOwnProperty(c)){var ae=o[c];if(ae!=null)switch(c){case"name":p=ae;break;case"type":w=ae;break;case"checked":L=ae;break;case"defaultChecked":ee=ae;break;case"value":g=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,r));break;default:bt(i,r,c,ae,o,null)}}lh(i,g,A,L,ee,w,p,!1);return;case"select":Ye("invalid",i),c=w=g=null;for(p in o)if(o.hasOwnProperty(p)&&(A=o[p],A!=null))switch(p){case"value":g=A;break;case"defaultValue":w=A;break;case"multiple":c=A;default:bt(i,r,p,A,o,null)}r=g,o=w,i.multiple=!!c,r!=null?Ar(i,!!c,r,!1):o!=null&&Ar(i,!!c,o,!0);return;case"textarea":Ye("invalid",i),g=p=c=null;for(w in o)if(o.hasOwnProperty(w)&&(A=o[w],A!=null))switch(w){case"value":c=A;break;case"defaultValue":p=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:bt(i,r,w,A,o,null)}Cr(i,c,p,g);return;case"option":for(L in o)o.hasOwnProperty(L)&&(c=o[L],c!=null)&&(L==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":bt(i,r,L,c,o,null));return;case"dialog":Ye("beforetoggle",i),Ye("toggle",i),Ye("cancel",i),Ye("close",i);break;case"iframe":case"object":Ye("load",i);break;case"video":case"audio":for(c=0;c<Gc.length;c++)Ye(Gc[c],i);break;case"image":Ye("error",i),Ye("load",i);break;case"details":Ye("toggle",i);break;case"embed":case"source":case"link":Ye("error",i),Ye("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(c=o[ee],c!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:bt(i,r,ee,c,o,null)}return;default:if(Mo(r)){for(ae in o)o.hasOwnProperty(ae)&&(c=o[ae],c!==void 0&&Qp(i,r,ae,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&bt(i,r,A,c,o,null))}function LI(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,w=null,A=null,L=null,ee=null,ae=null;for(se in o){var ue=o[se];if(o.hasOwnProperty(se)&&ue!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":L=ue;default:c.hasOwnProperty(se)||bt(i,r,se,null,c,ue)}}for(var te in c){var se=c[te];if(ue=o[te],c.hasOwnProperty(te)&&(se!=null||ue!=null))switch(te){case"type":g=se;break;case"name":p=se;break;case"checked":ee=se;break;case"defaultChecked":ae=se;break;case"value":w=se;break;case"defaultValue":A=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,r));break;default:se!==ue&&bt(i,r,te,se,c,ue)}}Do(i,w,A,L,ee,ae,g,p);return;case"select":se=w=A=te=null;for(g in o)if(L=o[g],o.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":se=L;default:c.hasOwnProperty(g)||bt(i,r,g,null,c,L)}for(p in c)if(g=c[p],L=o[p],c.hasOwnProperty(p)&&(g!=null||L!=null))switch(p){case"value":te=g;break;case"defaultValue":A=g;break;case"multiple":w=g;default:g!==L&&bt(i,r,p,g,c,L)}r=A,o=w,c=se,te!=null?Ar(i,!!o,te,!1):!!c!=!!o&&(r!=null?Ar(i,!!o,r,!0):Ar(i,!!o,o?[]:"",!1));return;case"textarea":se=te=null;for(A in o)if(p=o[A],o.hasOwnProperty(A)&&p!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:bt(i,r,A,null,c,p)}for(w in c)if(p=c[w],g=o[w],c.hasOwnProperty(w)&&(p!=null||g!=null))switch(w){case"value":te=p;break;case"defaultValue":se=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==g&&bt(i,r,w,p,c,g)}ch(i,te,se);return;case"option":for(var Se in o)te=o[Se],o.hasOwnProperty(Se)&&te!=null&&!c.hasOwnProperty(Se)&&(Se==="selected"?i.selected=!1:bt(i,r,Se,null,c,te));for(L in c)te=c[L],se=o[L],c.hasOwnProperty(L)&&te!==se&&(te!=null||se!=null)&&(L==="selected"?i.selected=te&&typeof te!="function"&&typeof te!="symbol":bt(i,r,L,te,c,se));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in o)te=o[De],o.hasOwnProperty(De)&&te!=null&&!c.hasOwnProperty(De)&&bt(i,r,De,null,c,te);for(ee in c)if(te=c[ee],se=o[ee],c.hasOwnProperty(ee)&&te!==se&&(te!=null||se!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:bt(i,r,ee,te,c,se)}return;default:if(Mo(r)){for(var _t in o)te=o[_t],o.hasOwnProperty(_t)&&te!==void 0&&!c.hasOwnProperty(_t)&&Qp(i,r,_t,void 0,c,te);for(ae in c)te=c[ae],se=o[ae],!c.hasOwnProperty(ae)||te===se||te===void 0&&se===void 0||Qp(i,r,ae,te,c,se);return}}for(var $ in o)te=o[$],o.hasOwnProperty($)&&te!=null&&!c.hasOwnProperty($)&&bt(i,r,$,null,c,te);for(ue in c)te=c[ue],se=o[ue],!c.hasOwnProperty(ue)||te===se||te==null&&se==null||bt(i,r,ue,te,c,se)}function Cw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var p=o[c],g=p.transferSize,w=p.initiatorType,A=p.duration;if(g&&A&&Cw(w)){for(w=0,A=p.responseEnd,c+=1;c<o.length;c++){var L=o[c],ee=L.startTime;if(ee>A)break;var ae=L.transferSize,ue=L.initiatorType;ae&&Cw(ue)&&(L=L.responseEnd,w+=ae*(L<A?1:(A-ee)/(L-ee)))}if(--c,r+=8*(g+w)/(p.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Wp=null,Xp=null;function dd(i){return i.nodeType===9?i:i.ownerDocument}function Rw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Iw(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Zp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Jp=null;function zI(){var i=window.event;return i&&i.type==="popstate"?i===Jp?!1:(Jp=i,!0):(Jp=null,!1)}var Nw=typeof setTimeout=="function"?setTimeout:void 0,BI=typeof clearTimeout=="function"?clearTimeout:void 0,kw=typeof Promise=="function"?Promise:void 0,FI=typeof queueMicrotask=="function"?queueMicrotask:typeof kw<"u"?function(i){return kw.resolve(null).then(i).catch(qI)}:Nw;function qI(i){setTimeout(function(){throw i})}function Wr(i){return i==="head"}function Dw(i,r){var o=r,c=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(p),ml(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Kc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Kc(o);for(var g=o.firstChild;g;){var w=g.nextSibling,A=g.nodeName;g[ni]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=w}}else o==="body"&&Kc(i.ownerDocument.body);o=p}while(o);ml(r)}function Mw(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function eg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":eg(o),No(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function HI(i,r,o,c){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[ni])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Di(i.nextSibling),i===null)break}return null}function GI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Di(i.nextSibling),i===null))return null;return i}function Vw(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Di(i.nextSibling),i===null))return null;return i}function tg(i){return i.data==="$?"||i.data==="$~"}function ng(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function $I(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Di(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var ig=null;function Pw(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Di(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Ow(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function jw(i,r,o){switch(r=dd(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Kc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);No(i)}var Mi=new Map,Lw=new Set;function fd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var rr=Z.d;Z.d={f:KI,r:YI,D:QI,C:WI,L:XI,m:ZI,X:eN,S:JI,M:tN};function KI(){var i=rr.f(),r=sd();return i||r}function YI(i){var r=xi(i);r!==null&&r.tag===5&&r.type==="form"?t_(r):rr.r(i)}var hl=typeof document>"u"?null:document;function Uw(i,r,o){var c=hl;if(c&&typeof r=="string"&&r){var p=Hn(r);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Lw.has(p)||(Lw.add(p),i={rel:i,crossOrigin:o,href:r},c.querySelector(p)===null&&(r=c.createElement("link"),xn(r,"link",i),Wt(r),c.head.appendChild(r)))}}function QI(i){rr.D(i),Uw("dns-prefetch",i,null)}function WI(i,r){rr.C(i,r),Uw("preconnect",i,r)}function XI(i,r,o){rr.L(i,r,o);var c=hl;if(c&&i&&r){var p='link[rel="preload"][as="'+Hn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Hn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Hn(o.imageSizes)+'"]')):p+='[href="'+Hn(i)+'"]';var g=p;switch(r){case"style":g=dl(i);break;case"script":g=fl(i)}Mi.has(g)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Mi.set(g,i),c.querySelector(p)!==null||r==="style"&&c.querySelector(Yc(g))||r==="script"&&c.querySelector(Qc(g))||(r=c.createElement("link"),xn(r,"link",i),Wt(r),c.head.appendChild(r)))}}function ZI(i,r){rr.m(i,r);var o=hl;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Hn(c)+'"][href="'+Hn(i)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=fl(i)}if(!Mi.has(g)&&(i=v({rel:"modulepreload",href:i},r),Mi.set(g,i),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Qc(g)))return}c=o.createElement("link"),xn(c,"link",i),Wt(c),o.head.appendChild(c)}}}function JI(i,r,o){rr.S(i,r,o);var c=hl;if(c&&i){var p=ds(c).hoistableStyles,g=dl(i);r=r||"default";var w=p.get(g);if(!w){var A={loading:0,preload:null};if(w=c.querySelector(Yc(g)))A.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Mi.get(g))&&sg(i,o);var L=w=c.createElement("link");Wt(L),xn(L,"link",i),L._p=new Promise(function(ee,ae){L.onload=ee,L.onerror=ae}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,md(w,r,c)}w={type:"stylesheet",instance:w,count:1,state:A},p.set(g,w)}}}function eN(i,r){rr.X(i,r);var o=hl;if(o&&i){var c=ds(o).hoistableScripts,p=fl(i),g=c.get(p);g||(g=o.querySelector(Qc(p)),g||(i=v({src:i,async:!0},r),(r=Mi.get(p))&&rg(i,r),g=o.createElement("script"),Wt(g),xn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function tN(i,r){rr.M(i,r);var o=hl;if(o&&i){var c=ds(o).hoistableScripts,p=fl(i),g=c.get(p);g||(g=o.querySelector(Qc(p)),g||(i=v({src:i,async:!0,type:"module"},r),(r=Mi.get(p))&&rg(i,r),g=o.createElement("script"),Wt(g),xn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function zw(i,r,o,c){var p=(p=ve.current)?fd(p):null;if(!p)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=dl(o.href),o=ds(p).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=dl(o.href);var g=ds(p).hoistableStyles,w=g.get(i);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,w),(g=p.querySelector(Yc(i)))&&!g._p&&(w.instance=g,w.state.loading=5),Mi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Mi.set(i,o),g||nN(p,i,o,w.state))),r&&c===null)throw Error(s(528,""));return w}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=fl(o),o=ds(p).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function dl(i){return'href="'+Hn(i)+'"'}function Yc(i){return'link[rel="stylesheet"]['+i+"]"}function Bw(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function nN(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),xn(r,"link",o),Wt(r),i.head.appendChild(r))}function fl(i){return'[src="'+Hn(i)+'"]'}function Qc(i){return"script[async]"+i}function Fw(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Hn(o.href)+'"]');if(c)return r.instance=c,Wt(c),c;var p=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Wt(c),xn(c,"style",p),md(c,o.precedence,i),r.instance=c;case"stylesheet":p=dl(o.href);var g=i.querySelector(Yc(p));if(g)return r.state.loading|=4,r.instance=g,Wt(g),g;c=Bw(o),(p=Mi.get(p))&&sg(c,p),g=(i.ownerDocument||i).createElement("link"),Wt(g);var w=g;return w._p=new Promise(function(A,L){w.onload=A,w.onerror=L}),xn(g,"link",c),r.state.loading|=4,md(g,o.precedence,i),r.instance=g;case"script":return g=fl(o.src),(p=i.querySelector(Qc(g)))?(r.instance=p,Wt(p),p):(c=o,(p=Mi.get(g))&&(c=v({},o),rg(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),Wt(p),xn(p,"link",c),i.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,md(c,o.precedence,i));return r.instance}function md(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,w=0;w<c.length;w++){var A=c[w];if(A.dataset.precedence===r)g=A;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function sg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function rg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var pd=null;function qw(i,r,o){if(pd===null){var c=new Map,p=pd=new Map;p.set(o,c)}else p=pd,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var g=o[p];if(!(g[ni]||g[Y]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(r)||"";w=i+w;var A=c.get(w);A?A.push(g):c.set(w,[g])}}return c}function Hw(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function iN(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Gw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function sN(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=dl(c.href),g=r.querySelector(Yc(p));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=gd.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Wt(g);return}g=r.ownerDocument||r,c=Bw(c),(p=Mi.get(p))&&sg(c,p),g=g.createElement("link"),Wt(g);var w=g;w._p=new Promise(function(A,L){w.onload=A,w.onerror=L}),xn(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=gd.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var ag=0;function rN(i,r){return i.stylesheets&&i.count===0&&vd(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&vd(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&ag===0&&(ag=62500*UI());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&vd(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>ag?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function gd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var yd=null;function vd(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,yd=new Map,r.forEach(aN,i),yd=null,gd.call(i))}function aN(i,r){if(!(r.state.loading&4)){var o=yd.get(i);if(o)var c=o.get(null);else{o=new Map,yd.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var w=p[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}p=r.instance,w=p.getAttribute("data-precedence"),g=o.get(w)||c,g===c&&o.set(null,p),o.set(w,p),this.count++,c=gd.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),r.state.loading|=4}}var Wc={$$typeof:K,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function oN(i,r,o,c,p,g,w,A,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function $w(i,r,o,c,p,g,w,A,L,ee,ae,ue){return i=new oN(i,r,o,w,L,ee,ae,ue,A),r=1,g===!0&&(r|=24),g=ai(3,null,null,r),i.current=g,g.stateNode=i,r=Um(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},qm(g),i}function Kw(i){return i?(i=Ho,i):Ho}function Yw(i,r,o,c,p,g){p=Kw(p),c.context===null?c.context=p:c.pendingContext=p,c=Ur(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=zr(i,c,r),o!==null&&(Wn(o,i,r),Rc(o,i,r))}function Qw(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function og(i,r){Qw(i,r),(i=i.alternate)&&Qw(i,r)}function Ww(i){if(i.tag===13||i.tag===31){var r=Ya(i,67108864);r!==null&&Wn(r,i,67108864),og(i,67108864)}}function Xw(i){if(i.tag===13||i.tag===31){var r=hi();r=Tr(r);var o=Ya(i,r);o!==null&&Wn(o,i,r),og(i,r)}}var bd=!0;function lN(i,r,o,c){var p=U.T;U.T=null;var g=Z.p;try{Z.p=2,lg(i,r,o,c)}finally{Z.p=g,U.T=p}}function cN(i,r,o,c){var p=U.T;U.T=null;var g=Z.p;try{Z.p=8,lg(i,r,o,c)}finally{Z.p=g,U.T=p}}function lg(i,r,o,c){if(bd){var p=cg(c);if(p===null)Yp(i,r,c,_d,o),Jw(i,c);else if(hN(p,i,r,o,c))c.stopPropagation();else if(Jw(i,c),r&4&&-1<uN.indexOf(i)){for(;p!==null;){var g=xi(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=ei(g.pendingLanes);if(w!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var L=1<<31-Tt(w);A.entanglements[1]|=L,w&=~L}Ss(g),(ct&6)===0&&(nd=Yt()+500,Hc(0))}}break;case 31:case 13:A=Ya(g,2),A!==null&&Wn(A,g,2),sd(),og(g,2)}if(g=cg(c),g===null&&Yp(i,r,c,_d,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else Yp(i,r,c,null,o)}}function cg(i){return i=Ti(i),ug(i)}var _d=null;function ug(i){if(_d=null,i=hs(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return _d=i,null}function Zw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sn()){case Vn:return 2;case Fn:return 8;case An:case Us:return 32;case ls:return 268435456;default:return 32}default:return 32}}var hg=!1,Xr=null,Zr=null,Jr=null,Xc=new Map,Zc=new Map,ea=[],uN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jw(i,r){switch(i){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Xc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(r.pointerId)}}function Jc(i,r,o,c,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},r!==null&&(r=xi(r),r!==null&&Ww(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),i)}function hN(i,r,o,c,p){switch(r){case"focusin":return Xr=Jc(Xr,i,r,o,c,p),!0;case"dragenter":return Zr=Jc(Zr,i,r,o,c,p),!0;case"mouseover":return Jr=Jc(Jr,i,r,o,c,p),!0;case"pointerover":var g=p.pointerId;return Xc.set(g,Jc(Xc.get(g)||null,i,r,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,Zc.set(g,Jc(Zc.get(g)||null,i,r,o,c,p)),!0}return!1}function ex(i){var r=hs(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,On(i.priority,function(){Xw(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,On(i.priority,function(){Xw(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function wd(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=cg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);dc=c,o.target.dispatchEvent(c),dc=null}else return r=xi(o),r!==null&&Ww(r),i.blockedOn=o,!1;r.shift()}return!0}function tx(i,r,o){wd(i)&&o.delete(r)}function dN(){hg=!1,Xr!==null&&wd(Xr)&&(Xr=null),Zr!==null&&wd(Zr)&&(Zr=null),Jr!==null&&wd(Jr)&&(Jr=null),Xc.forEach(tx),Zc.forEach(tx)}function xd(i,r){i.blockedOn===r&&(i.blockedOn=null,hg||(hg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,dN)))}var Td=null;function nx(i){Td!==i&&(Td=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Td===i&&(Td=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],p=i[r+2];if(typeof c!="function"){if(ug(c||o)===null)continue;break}var g=xi(o);g!==null&&(i.splice(r,3),r-=3,cp(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function ml(i){function r(L){return xd(L,i)}Xr!==null&&xd(Xr,i),Zr!==null&&xd(Zr,i),Jr!==null&&xd(Jr,i),Xc.forEach(r),Zc.forEach(r);for(var o=0;o<ea.length;o++){var c=ea[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<ea.length&&(o=ea[0],o.blockedOn===null);)ex(o),o.blockedOn===null&&ea.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],w=p[we]||null;if(typeof g=="function")w||nx(o);else if(w){var A=null;if(g&&g.hasAttribute("formAction")){if(p=g,w=g[we]||null)A=w.formAction;else if(ug(p)!==null)continue}else A=w.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),nx(o)}}}function ix(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function dg(i){this._internalRoot=i}Ed.prototype.render=dg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=hi();Yw(o,c,i,r,null,null)},Ed.prototype.unmount=dg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Yw(i.current,2,null,i,null,null),sd(),r[dt]=null}};function Ed(i){this._internalRoot=i}Ed.prototype.unstable_scheduleHydration=function(i){if(i){var r=Er();i={blockedOn:null,target:i,priority:r};for(var o=0;o<ea.length&&r!==0&&r<ea[o].priority;o++);ea.splice(o,0,i),o===0&&ex(i)}};var sx=e.version;if(sx!=="19.2.3")throw Error(s(527,sx,"19.2.3"));Z.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var fN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{rt=Sd.inject(fN),Dt=Sd}catch{}}return tu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",p=h_,g=d_,w=f_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=$w(i,1,!1,null,null,o,c,null,p,g,w,ix),i[dt]=r.current,Kp(i),new dg(r)},tu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,p="",g=h_,w=d_,A=f_,L=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),r=$w(i,1,!0,r,o??null,c,p,L,g,w,A,ix),r.context=Kw(null),o=r.current,c=hi(),c=Tr(c),p=Ur(c),p.callback=null,zr(o,p,c),o=c,r.current.lanes=o,Bs(r,o),Ss(r),i[dt]=r.current,Kp(i),new Ed(r)},tu.version="19.2.3",tu}var mx;function EN(){if(mx)return pg.exports;mx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pg.exports=TN(),pg.exports}var SN=EN();var px="popstate";function AN(t={}){function e(s,a){let{pathname:l,search:u,hash:d}=s.location;return ny("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Su(a)}return RN(e,n,null,t)}function kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CN(){return Math.random().toString(36).substring(2,10)}function gx(t,e){return{usr:t.state,key:t.key,idx:e}}function ny(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Bl(e):e,state:n,key:e&&e.key||s||CN()}}function Su({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Bl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function RN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,d="POP",f=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function v(){d="POP";let N=y(),q=N==null?null:N-m;m=N,f&&f({action:d,location:O.location,delta:q})}function x(N,q){d="PUSH";let W=ny(O.location,N,q);m=y()+1;let K=gx(W,m),G=O.createHref(W);try{u.pushState(K,"",G)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(G)}l&&f&&f({action:d,location:O.location,delta:1})}function C(N,q){d="REPLACE";let W=ny(O.location,N,q);m=y();let K=gx(W,m),G=O.createHref(W);u.replaceState(K,"",G),l&&f&&f({action:d,location:O.location,delta:0})}function M(N){return IN(N)}let O={get action(){return d},get location(){return t(a,u)},listen(N){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(px,v),f=N,()=>{a.removeEventListener(px,v),f=null}},createHref(N){return e(a,N)},createURL:M,encodeLocation(N){let q=M(N);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:x,replace:C,go(N){return u.go(N)}};return O}function IN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),kt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Su(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function ME(t,e,n="/"){return NN(t,e,n,!1)}function NN(t,e,n,s){let a=typeof e=="string"?Bl(e):e,l=pr(a.pathname||"/",n);if(l==null)return null;let u=VE(t);kN(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=FN(l);d=zN(u[f],m,s)}return d}function VE(t,e=[],n=[],s="",a=!1){let l=(u,d,f=a,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&f)return;kt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=hr([s,y.relativePath]),x=n.concat(y);u.children&&u.children.length>0&&(kt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),VE(u.children,e,x,v,f)),!(u.path==null&&!u.index)&&e.push({path:v,score:LN(v,u.index),routesMeta:x})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let f of PE(u.path))l(u,d,!0,f)}),e}function PE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=PE(s.join("/")),d=[];return d.push(...u.map(f=>f===""?l:[l,f].join("/"))),a&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function kN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var DN=/^:[\w-]+$/,MN=3,VN=2,PN=1,ON=10,jN=-2,yx=t=>t==="*";function LN(t,e){let n=t.split("/"),s=n.length;return n.some(yx)&&(s+=jN),e&&(s+=VN),n.filter(a=>!yx(a)).reduce((a,l)=>a+(DN.test(l)?MN:l===""?PN:ON),s)}function UN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function zN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let d=0;d<s.length;++d){let f=s[d],m=d===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=af({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),x=f.route;if(!v&&m&&n&&!s[s.length-1].route.index&&(v=af({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:hr([l,v.pathname]),pathnameBase:$N(hr([l,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(l=hr([l,v.pathnameBase]))}return u}function af(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=BN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:v},x)=>{if(y==="*"){let M=d[x]||"";u=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const C=d[x];return v&&!C?m[y]=void 0:m[y]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function BN(t,e=!1,n=!0){Bi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function FN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function pr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var OE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qN=t=>OE.test(t);function HN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Bl(t):t,l;if(n)if(qN(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Bi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=vx(n.substring(1),"/"):l=vx(n,e)}else l=e;return{pathname:l,search:KN(s),hash:YN(a)}}function vx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function bg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function t0(t){let e=GN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function n0(t,e,n,s=!1){let a;typeof t=="string"?a=Bl(t):(a={...t},kt(!a.pathname||!a.pathname.includes("?"),bg("?","pathname","search",a)),kt(!a.pathname||!a.pathname.includes("#"),bg("#","pathname","hash",a)),kt(!a.search||!a.search.includes("#"),bg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=n;else{let v=e.length-1;if(!s&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}d=v>=0?e[v]:"/"}let f=HN(a,d),m=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var hr=t=>t.join("/").replace(/\/\/+/g,"/"),$N=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,YN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,QN=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function WN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function XN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var jE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function LE(t,e){let n=t;if(typeof n!="string"||!OE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(jE)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=pr(u.pathname,e);u.origin===l.origin&&d!=null?n=d+u.search+u.hash:a=!0}catch{Bi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var UE=["POST","PUT","PATCH","DELETE"];new Set(UE);var ZN=["GET",...UE];new Set(ZN);var Fl=D.createContext(null);Fl.displayName="DataRouter";var qf=D.createContext(null);qf.displayName="DataRouterState";var JN=D.createContext(!1),zE=D.createContext({isTransitioning:!1});zE.displayName="ViewTransition";var ek=D.createContext(new Map);ek.displayName="Fetchers";var tk=D.createContext(null);tk.displayName="Await";var pi=D.createContext(null);pi.displayName="Navigation";var Lu=D.createContext(null);Lu.displayName="Location";var os=D.createContext({outlet:null,matches:[],isDataRoute:!1});os.displayName="Route";var i0=D.createContext(null);i0.displayName="RouteError";var BE="REACT_ROUTER_ERROR",nk="REDIRECT",ik="ROUTE_ERROR_RESPONSE";function sk(t){if(t.startsWith(`${BE}:${nk}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function rk(t){if(t.startsWith(`${BE}:${ik}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new QN(e.status,e.statusText,e.data)}catch{}}function ak(t,{relative:e}={}){kt(ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(pi),{hash:a,pathname:l,search:u}=Uu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:hr([n,l])),s.createHref({pathname:d,search:u,hash:a})}function ql(){return D.useContext(Lu)!=null}function Ca(){return kt(ql(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Lu).location}var FE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qE(t){D.useContext(pi).static||D.useLayoutEffect(t)}function Hl(){let{isDataRoute:t}=D.useContext(os);return t?_k():ok()}function ok(){kt(ql(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(Fl),{basename:e,navigator:n}=D.useContext(pi),{matches:s}=D.useContext(os),{pathname:a}=Ca(),l=JSON.stringify(t0(s)),u=D.useRef(!1);return qE(()=>{u.current=!0}),D.useCallback((f,m={})=>{if(Bi(u.current,FE),!u.current)return;if(typeof f=="number"){n.go(f);return}let y=n0(f,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:hr([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,l,a,t])}D.createContext(null);function lk(){let{matches:t}=D.useContext(os),e=t[t.length-1];return e?e.params:{}}function Uu(t,{relative:e}={}){let{matches:n}=D.useContext(os),{pathname:s}=Ca(),a=JSON.stringify(t0(n));return D.useMemo(()=>n0(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function ck(t,e){return HE(t,e)}function HE(t,e,n,s,a){kt(ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=D.useContext(pi),{matches:u}=D.useContext(os),d=u[u.length-1],f=d?d.params:{},m=d?d.pathname:"/",y=d?d.pathnameBase:"/",v=d&&d.route;{let W=v&&v.path||"";$E(m,!v||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let x=Ca(),C;if(e){let W=typeof e=="string"?Bl(e):e;kt(y==="/"||W.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${W.pathname}" was given in the \`location\` prop.`),C=W}else C=x;let M=C.pathname||"/",O=M;if(y!=="/"){let W=y.replace(/^\//,"").split("/");O="/"+M.replace(/^\//,"").split("/").slice(W.length).join("/")}let N=ME(t,{pathname:O});Bi(v||N!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Bi(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=mk(N&&N.map(W=>Object.assign({},W,{params:Object.assign({},f,W.params),pathname:hr([y,l.encodeLocation?l.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?y:hr([y,l.encodeLocation?l.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),u,n,s,a);return e&&q?D.createElement(Lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},q):q}function uk(){let t=bk(),e=WN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:a},n):null,u)}var hk=D.createElement(uk,null),GE=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=rk(t.digest);n&&(t=n)}let e=t!==void 0?D.createElement(os.Provider,{value:this.props.routeContext},D.createElement(i0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?D.createElement(dk,{error:t},e):e}};GE.contextType=JN;var _g=new WeakMap;function dk({children:t,error:e}){let{basename:n}=D.useContext(pi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=sk(e.digest);if(s){let a=_g.get(e);if(a)throw a;let l=LE(s.location,n);if(jE&&!_g.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw _g.set(e,u),u}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function fk({routeContext:t,match:e,children:n}){let s=D.useContext(Fl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(os.Provider,{value:t},n)}function mk(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);kt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,f=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=y),v.route.id){let{loaderData:x,errors:C}=n,M=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!C||C[v.route.id]===void 0);if(v.route.lazy||M){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let m=n&&s?(y,v)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:XN(n.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,x)=>{let C,M=!1,O=null,N=null;n&&(C=u&&v.route.id?u[v.route.id]:void 0,O=v.route.errorElement||hk,d&&(f<0&&x===0?($E("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,N=null):f===x&&(M=!0,N=v.route.hydrateFallbackElement||null)));let q=e.concat(l.slice(0,x+1)),W=()=>{let K;return C?K=O:M?K=N:v.route.Component?K=D.createElement(v.route.Component,null):v.route.element?K=v.route.element:K=y,D.createElement(fk,{match:v,routeContext:{outlet:y,matches:q,isDataRoute:n!=null},children:K})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?D.createElement(GE,{location:n.location,revalidation:n.revalidation,component:O,error:C,children:W(),routeContext:{outlet:null,matches:q,isDataRoute:!0},onError:m}):W()},null)}function s0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pk(t){let e=D.useContext(Fl);return kt(e,s0(t)),e}function gk(t){let e=D.useContext(qf);return kt(e,s0(t)),e}function yk(t){let e=D.useContext(os);return kt(e,s0(t)),e}function r0(t){let e=yk(t),n=e.matches[e.matches.length-1];return kt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function vk(){return r0("useRouteId")}function bk(){let t=D.useContext(i0),e=gk("useRouteError"),n=r0("useRouteError");return t!==void 0?t:e.errors?.[n]}function _k(){let{router:t}=pk("useNavigate"),e=r0("useNavigate"),n=D.useRef(!1);return qE(()=>{n.current=!0}),D.useCallback(async(a,l={})=>{Bi(n.current,FE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var bx={};function $E(t,e,n){!e&&!bx[t]&&(bx[t]=!0,Bi(!1,n))}D.memo(wk);function wk({routes:t,future:e,state:n,onError:s}){return HE(t,void 0,n,s,e)}function _x({to:t,replace:e,state:n,relative:s}){kt(ql(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=D.useContext(pi);Bi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=D.useContext(os),{pathname:u}=Ca(),d=Hl(),f=n0(t,t0(l),u,s==="path"),m=JSON.stringify(f);return D.useEffect(()=>{d(JSON.parse(m),{replace:e,state:n,relative:s})},[d,m,s,e,n]),null}function sa(t){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xk({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){kt(!ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=D.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[d,a,l,u]);typeof n=="string"&&(n=Bl(n));let{pathname:m="/",search:y="",hash:v="",state:x=null,key:C="default"}=n,M=D.useMemo(()=>{let O=pr(m,d);return O==null?null:{location:{pathname:O,search:y,hash:v,state:x,key:C},navigationType:s}},[d,m,y,v,x,C,s]);return Bi(M!=null,`<Router basename="${d}"> is not able to match the URL "${m}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:D.createElement(pi.Provider,{value:f},D.createElement(Lu.Provider,{children:e,value:M}))}function Tk({children:t,location:e}){return ck(iy(t),e)}function iy(t,e=[]){let n=[];return D.Children.forEach(t,(s,a)=>{if(!D.isValidElement(s))return;let l=[...e,a];if(s.type===D.Fragment){n.push.apply(n,iy(s.props.children,l));return}kt(s.type===sa,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=iy(s.props.children,l)),n.push(u)}),n}var Bd="get",Fd="application/x-www-form-urlencoded";function Hf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Ek(t){return Hf(t)&&t.tagName.toLowerCase()==="button"}function Sk(t){return Hf(t)&&t.tagName.toLowerCase()==="form"}function Ak(t){return Hf(t)&&t.tagName.toLowerCase()==="input"}function Ck(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Rk(t,e){return t.button===0&&(!e||e==="_self")&&!Ck(t)}var Ad=null;function Ik(){if(Ad===null)try{new FormData(document.createElement("form"),0),Ad=!1}catch{Ad=!0}return Ad}var Nk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wg(t){return t!=null&&!Nk.has(t)?(Bi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fd}"`),null):t}function kk(t,e){let n,s,a,l,u;if(Sk(t)){let d=t.getAttribute("action");s=d?pr(d,e):null,n=t.getAttribute("method")||Bd,a=wg(t.getAttribute("enctype"))||Fd,l=new FormData(t)}else if(Ek(t)||Ak(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(s=f?pr(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Bd,a=wg(t.getAttribute("formenctype"))||wg(d.getAttribute("enctype"))||Fd,l=new FormData(d,t),!Ik()){let{name:m,type:y,value:v}=t;if(y==="image"){let x=m?`${m}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else m&&l.append(m,v)}}else{if(Hf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bd,s=null,a=Fd,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function a0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dk(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&pr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function Mk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Vk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Pk(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await Mk(l,n);return u.links?u.links():[]}return[]}));return Uk(s.flat(1).filter(Vk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function wx(t,e,n,s,a,l){let u=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>n[m].pathname!==f.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,m)=>u(f,m)||d(f,m)):l==="data"?e.filter((f,m)=>{let y=s.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Ok(t,e,{includeHydrateFallback:n}={}){return jk(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function jk(t){return[...new Set(t)]}function Lk(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function Uk(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(Lk(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function KE(){let t=D.useContext(Fl);return a0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function zk(){let t=D.useContext(qf);return a0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var o0=D.createContext(void 0);o0.displayName="FrameworkContext";function YE(){let t=D.useContext(o0);return a0(t,"You must render this element inside a <HydratedRouter> element"),t}function Bk(t,e){let n=D.useContext(o0),[s,a]=D.useState(!1),[l,u]=D.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=e,x=D.useRef(null);D.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let O=q=>{q.forEach(W=>{u(W.isIntersecting)})},N=new IntersectionObserver(O,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[t]),D.useEffect(()=>{if(s){let O=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(O)}}},[s]);let C=()=>{a(!0)},M=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:nu(d,C),onBlur:nu(f,M),onMouseEnter:nu(m,C),onMouseLeave:nu(y,M),onTouchStart:nu(v,C)}]:[!1,x,{}]}function nu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Fk({page:t,...e}){let{router:n}=KE(),s=D.useMemo(()=>ME(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?D.createElement(Hk,{page:t,matches:s,...e}):null}function qk(t){let{manifest:e,routeModules:n}=YE(),[s,a]=D.useState([]);return D.useEffect(()=>{let l=!1;return Pk(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function Hk({page:t,matches:e,...n}){let s=Ca(),{future:a,manifest:l,routeModules:u}=YE(),{basename:d}=KE(),{loaderData:f,matches:m}=zk(),y=D.useMemo(()=>wx(t,e,m,l,s,"data"),[t,e,m,l,s]),v=D.useMemo(()=>wx(t,e,m,l,s,"assets"),[t,e,m,l,s]),x=D.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let O=new Set,N=!1;if(e.forEach(W=>{let K=l.routes[W.route.id];!K||!K.hasLoader||(!y.some(G=>G.route.id===W.route.id)&&W.route.id in f&&u[W.route.id]?.shouldRevalidate||K.hasClientLoader?N=!0:O.add(W.route.id))}),O.size===0)return[];let q=Dk(t,d,a.unstable_trailingSlashAwareDataRequests,"data");return N&&O.size>0&&q.searchParams.set("_routes",e.filter(W=>O.has(W.route.id)).map(W=>W.route.id).join(",")),[q.pathname+q.search]},[d,a.unstable_trailingSlashAwareDataRequests,f,s,l,y,e,t,u]),C=D.useMemo(()=>Ok(v,l),[v,l]),M=qk(v);return D.createElement(D.Fragment,null,x.map(O=>D.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),C.map(O=>D.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),M.map(({key:O,link:N})=>D.createElement("link",{key:O,nonce:n.nonce,...N})))}function Gk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var $k=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$k&&(window.__reactRouterVersion="7.12.0")}catch{}function Kk({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=D.useRef();a.current==null&&(a.current=AN({window:s,v5Compat:!0}));let l=a.current,[u,d]=D.useState({action:l.action,location:l.location}),f=D.useCallback(m=>{n===!1?d(m):D.startTransition(()=>d(m))},[n]);return D.useLayoutEffect(()=>l.listen(f),[l,f]),D.createElement(xk,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var QE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WE=D.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:d,target:f,to:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:x,...C},M){let{basename:O,unstable_useTransitions:N}=D.useContext(pi),q=typeof m=="string"&&QE.test(m),W=LE(m,O);m=W.to;let K=ak(m,{relative:a}),[G,re,ce]=Bk(s,C),I=Xk(m,{replace:u,state:d,target:f,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:x,unstable_useTransitions:N});function S(j){e&&e(j),j.defaultPrevented||I(j)}let k=D.createElement("a",{...C,...ce,href:W.absoluteURL||K,onClick:W.isExternal||l?e:S,ref:Gk(M,re),target:f,"data-discover":!q&&n==="render"?"true":void 0});return G&&!q?D.createElement(D.Fragment,null,k,D.createElement(Fk,{page:K})):k});WE.displayName="Link";var Yk=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:d,children:f,...m},y){let v=Uu(u,{relative:m.relative}),x=Ca(),C=D.useContext(qf),{navigator:M,basename:O}=D.useContext(pi),N=C!=null&&nD(v)&&d===!0,q=M.encodeLocation?M.encodeLocation(v).pathname:v.pathname,W=x.pathname,K=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(W=W.toLowerCase(),K=K?K.toLowerCase():null,q=q.toLowerCase()),K&&O&&(K=pr(K,O)||K);const G=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let re=W===q||!a&&W.startsWith(q)&&W.charAt(G)==="/",ce=K!=null&&(K===q||!a&&K.startsWith(q)&&K.charAt(q.length)==="/"),I={isActive:re,isPending:ce,isTransitioning:N},S=re?e:void 0,k;typeof s=="function"?k=s(I):k=[s,re?"active":null,ce?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(I):l;return D.createElement(WE,{...m,"aria-current":S,className:k,ref:y,style:j,to:u,viewTransition:d},typeof f=="function"?f(I):f)});Yk.displayName="NavLink";var Qk=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=Bd,action:d,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:x,...C},M)=>{let{unstable_useTransitions:O}=D.useContext(pi),N=eD(),q=tD(d,{relative:m}),W=u.toLowerCase()==="get"?"get":"post",K=typeof d=="string"&&QE.test(d),G=re=>{if(f&&f(re),re.defaultPrevented)return;re.preventDefault();let ce=re.nativeEvent.submitter,I=ce?.getAttribute("formmethod")||u,S=()=>N(ce||re.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:a,state:l,relative:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:x});O&&n!==!1?D.startTransition(()=>S()):S()};return D.createElement("form",{ref:M,method:W,action:q,onSubmit:s?f:G,...C,"data-discover":!K&&t==="render"?"true":void 0})});Qk.displayName="Form";function Wk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XE(t){let e=D.useContext(Fl);return kt(e,Wk(t)),e}function Xk(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let m=Hl(),y=Ca(),v=Uu(t,{relative:l});return D.useCallback(x=>{if(Rk(x,e)){x.preventDefault();let C=n!==void 0?n:Su(y)===Su(v),M=()=>m(t,{replace:C,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d});f?D.startTransition(()=>M()):M()}},[y,m,v,n,s,e,t,a,l,u,d,f])}var Zk=0,Jk=()=>`__${String(++Zk)}__`;function eD(){let{router:t}=XE("useSubmit"),{basename:e}=D.useContext(pi),n=vk(),s=t.fetch,a=t.navigate;return D.useCallback(async(l,u={})=>{let{action:d,method:f,encType:m,formData:y,body:v}=kk(l,e);if(u.navigate===!1){let x=u.fetcherKey||Jk();await s(x,n,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||f,formEncType:u.encType||m,flushSync:u.flushSync})}else await a(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||f,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function tD(t,{relative:e}={}){let{basename:n}=D.useContext(pi),s=D.useContext(os);kt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Uu(t||".",{relative:e})},u=Ca();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(y=>y==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let y=d.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:hr([n,l.pathname])),Su(l)}function nD(t,{relative:e}={}){let n=D.useContext(zE);kt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=XE("useViewTransitionState"),a=Uu(t,{relative:e});if(!n.isTransitioning)return!1;let l=pr(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=pr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return af(a.pathname,u)!=null||af(a.pathname,l)!=null}const iD="modulepreload",sD=function(t){return"/"+t},xx={},sy=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let f=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");a=f(n.map(m=>{if(m=sD(m),m in xx)return;xx[m]=!0;const y=m.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":iD,y||(x.as="script"),x.crossOrigin="",x.href=m,d&&x.setAttribute("nonce",d),document.head.appendChild(x),y)return new Promise((C,M)=>{x.addEventListener("load",C),x.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return a.then(u=>{for(const d of u||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},rD=()=>{};var Tx={};const ZE=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},aD=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],d=t[n++],f=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(f>>10)),e[s++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},JE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,d=u?t[a+1]:0,f=a+2<t.length,m=f?t[a+2]:0,y=l>>2,v=(l&3)<<4|d>>4;let x=(d&15)<<2|m>>6,C=m&63;f||(C=64,u||(x=64)),s.push(n[y],n[v],n[x],n[C])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||m==null||v==null)throw new oD;const x=l<<2|d>>4;if(s.push(x),m!==64){const C=d<<4&240|m>>2;if(s.push(C),v!==64){const M=m<<6&192|v;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lD=function(t){const e=ZE(t);return JE.encodeByteArray(e,!0)},of=function(t){return lD(t).replace(/\./g,"")},eS=function(t){try{return JE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const uD=()=>cD().__FIREBASE_DEFAULTS__,hD=()=>{if(typeof process>"u"||typeof Tx>"u")return;const t=Tx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eS(t[1]);return e&&JSON.parse(e)},Gf=()=>{try{return rD()||uD()||hD()||dD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tS=t=>Gf()?.emulatorHosts?.[t],nS=t=>{const e=tS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},iS=()=>Gf()?.config,sS=t=>Gf()?.[`_${t}`];class fD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function So(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function l0(t){return(await fetch(t,{credentials:"include"})).ok}function rS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[of(JSON.stringify(n)),of(JSON.stringify(u)),""].join(".")}const fu={};function mD(){const t={prod:[],emulator:[]};for(const e of Object.keys(fu))fu[e]?t.emulator.push(e):t.prod.push(e);return t}function pD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ex=!1;function c0(t,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||fu[t]===e||fu[t]||Ex)return;fu[t]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",l=mD().prod.length>0;function u(){const x=document.getElementById(s);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,C){x.setAttribute("width","24"),x.setAttribute("id",C),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Ex=!0,u()},x}function y(x,C){x.setAttribute("id",C),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=pD(s),C=n("text"),M=document.getElementById(C)||document.createElement("span"),O=n("learnmore"),N=document.getElementById(O)||document.createElement("a"),q=n("preprendIcon"),W=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const K=x.element;d(K),y(N,O);const G=m();f(W,q),K.append(W,M,N,G),document.body.appendChild(K)}l?(M.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function yD(){const t=Gf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _D(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wD(){const t=Mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xD(){return!yD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TD(){try{return typeof indexedDB=="object"}catch{return!1}}function ED(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const SD="FirebaseError";class js extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=SD,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zu.prototype.create)}}class zu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?AD(l,s):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new js(a,d,s)}}function AD(t,e){return t.replace(CD,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const CD=/\{\$([^}]+)}/g;function RD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(Sx(l)&&Sx(u)){if(!bo(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Sx(t){return t!==null&&typeof t=="object"}function Bu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ID(t,e){const n=new ND(t,e);return n.subscribe.bind(n)}class ND{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");kD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=xg),a.error===void 0&&(a.error=xg),a.complete===void 0&&(a.complete=xg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xg(){}function hn(t){return t&&t._delegate?t._delegate:t}class va{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const co="[DEFAULT]";class DD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new fD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VD(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:MD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MD(t){return t===co?void 0:t}function VD(t){return t.instantiationMode==="EAGER"}class PD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const OD={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},jD=Xe.INFO,LD={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},UD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=LD[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u0{constructor(e){this.name=e,this._logLevel=jD,this._logHandler=UD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const zD=(t,e)=>e.some(n=>t instanceof n);let Ax,Cx;function BD(){return Ax||(Ax=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FD(){return Cx||(Cx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aS=new WeakMap,ry=new WeakMap,oS=new WeakMap,Tg=new WeakMap,h0=new WeakMap;function qD(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(fa(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&aS.set(n,t)}).catch(()=>{}),h0.set(e,t),e}function HD(t){if(ry.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});ry.set(t,e)}let ay={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ry.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GD(t){ay=t(ay)}function $D(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Eg(this),e,...n);return oS.set(s,e.sort?e.sort():[e]),fa(s)}:FD().includes(t)?function(...e){return t.apply(Eg(this),e),fa(aS.get(this))}:function(...e){return fa(t.apply(Eg(this),e))}}function KD(t){return typeof t=="function"?$D(t):(t instanceof IDBTransaction&&HD(t),zD(t,BD())?new Proxy(t,ay):t)}function fa(t){if(t instanceof IDBRequest)return qD(t);if(Tg.has(t))return Tg.get(t);const e=KD(t);return e!==t&&(Tg.set(t,e),h0.set(e,t)),e}const Eg=t=>h0.get(t);function YD(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),d=fa(u);return s&&u.addEventListener("upgradeneeded",f=>{s(fa(u.result),f.oldVersion,f.newVersion,fa(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const QD=["get","getKey","getAll","getAllKeys","count"],WD=["put","add","delete","clear"],Sg=new Map;function Rx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sg.get(e))return Sg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=WD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||QD.includes(n)))return;const l=async function(u,...d){const f=this.transaction(u,a?"readwrite":"readonly");let m=f.store;return s&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),a&&f.done]))[0]};return Sg.set(e,l),l}GD(t=>({...t,get:(e,n,s)=>Rx(e,n)||t.get(e,n,s),has:(e,n)=>!!Rx(e,n)||t.has(e,n)}));class XD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ZD(t){return t.getComponent()?.type==="VERSION"}const oy="@firebase/app",Ix="0.14.7";const gr=new u0("@firebase/app"),JD="@firebase/app-compat",eM="@firebase/analytics-compat",tM="@firebase/analytics",nM="@firebase/app-check-compat",iM="@firebase/app-check",sM="@firebase/auth",rM="@firebase/auth-compat",aM="@firebase/database",oM="@firebase/data-connect",lM="@firebase/database-compat",cM="@firebase/functions",uM="@firebase/functions-compat",hM="@firebase/installations",dM="@firebase/installations-compat",fM="@firebase/messaging",mM="@firebase/messaging-compat",pM="@firebase/performance",gM="@firebase/performance-compat",yM="@firebase/remote-config",vM="@firebase/remote-config-compat",bM="@firebase/storage",_M="@firebase/storage-compat",wM="@firebase/firestore",xM="@firebase/ai",TM="@firebase/firestore-compat",EM="firebase",SM="12.8.0";const ly="[DEFAULT]",AM={[oy]:"fire-core",[JD]:"fire-core-compat",[tM]:"fire-analytics",[eM]:"fire-analytics-compat",[iM]:"fire-app-check",[nM]:"fire-app-check-compat",[sM]:"fire-auth",[rM]:"fire-auth-compat",[aM]:"fire-rtdb",[oM]:"fire-data-connect",[lM]:"fire-rtdb-compat",[cM]:"fire-fn",[uM]:"fire-fn-compat",[hM]:"fire-iid",[dM]:"fire-iid-compat",[fM]:"fire-fcm",[mM]:"fire-fcm-compat",[pM]:"fire-perf",[gM]:"fire-perf-compat",[yM]:"fire-rc",[vM]:"fire-rc-compat",[bM]:"fire-gcs",[_M]:"fire-gcs-compat",[wM]:"fire-fst",[TM]:"fire-fst-compat",[xM]:"fire-vertex","fire-js":"fire-js",[EM]:"fire-js-all"};const lf=new Map,CM=new Map,cy=new Map;function Nx(t,e){try{t.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _o(t){const e=t.name;if(cy.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;cy.set(e,t);for(const n of lf.values())Nx(n,t);for(const n of CM.values())Nx(n,t);return!0}function $f(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pi(t){return t==null?!1:t.settings!==void 0}const RM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ma=new zu("app","Firebase",RM);class IM{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ma.create("app-deleted",{appName:this._name})}}const Ao=SM;function lS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:ly,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw ma.create("bad-app-name",{appName:String(a)});if(n||(n=iS()),!n)throw ma.create("no-options");const l=lf.get(a);if(l){if(bo(n,l.options)&&bo(s,l.config))return l;throw ma.create("duplicate-app",{appName:a})}const u=new PD(a);for(const f of cy.values())u.addComponent(f);const d=new IM(n,s,u);return lf.set(a,d),d}function d0(t=ly){const e=lf.get(t);if(!e&&t===ly&&iS())return lS();if(!e)throw ma.create("no-app",{appName:t});return e}function Cs(t,e,n){let s=AM[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(u.join(" "));return}_o(new va(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const NM="firebase-heartbeat-database",kM=1,Au="firebase-heartbeat-store";let Ag=null;function cS(){return Ag||(Ag=YD(NM,kM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Au)}catch(n){console.warn(n)}}}}).catch(t=>{throw ma.create("idb-open",{originalErrorMessage:t.message})})),Ag}async function DM(t){try{const n=(await cS()).transaction(Au),s=await n.objectStore(Au).get(uS(t));return await n.done,s}catch(e){if(e instanceof js)gr.warn(e.message);else{const n=ma.create("idb-get",{originalErrorMessage:e?.message});gr.warn(n.message)}}}async function kx(t,e){try{const s=(await cS()).transaction(Au,"readwrite");await s.objectStore(Au).put(e,uS(t)),await s.done}catch(n){if(n instanceof js)gr.warn(n.message);else{const s=ma.create("idb-set",{originalErrorMessage:n?.message});gr.warn(s.message)}}}function uS(t){return`${t.name}!${t.options.appId}`}const MM=1024,VM=30;class PM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Dx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>VM){const a=LM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Dx(),{heartbeatsToSend:n,unsentEntries:s}=OM(this._heartbeatsCache.heartbeats),a=of(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return gr.warn(e),""}}}function Dx(){return new Date().toISOString().substring(0,10)}function OM(t,e=MM){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Mx(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Mx(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class jM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TD()?ED().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return kx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return kx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Mx(t){return of(JSON.stringify({version:2,heartbeats:t})).length}function LM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function UM(t){_o(new va("platform-logger",e=>new XD(e),"PRIVATE")),_o(new va("heartbeat",e=>new PM(e),"PRIVATE")),Cs(oy,Ix,t),Cs(oy,Ix,"esm2020"),Cs("fire-js","")}UM("");var zM="firebase",BM="12.8.0";Cs(zM,BM,"app");function hS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FM=hS,dS=new zu("auth","Firebase",hS());const cf=new u0("@firebase/auth");function qM(t,...e){cf.logLevel<=Xe.WARN&&cf.warn(`Auth (${Ao}): ${t}`,...e)}function qd(t,...e){cf.logLevel<=Xe.ERROR&&cf.error(`Auth (${Ao}): ${t}`,...e)}function Ds(t,...e){throw m0(t,...e)}function ss(t,...e){return m0(t,...e)}function f0(t,e,n){const s={...FM(),[e]:n};return new zu("auth","Firebase",s).create(e,{appName:t.name})}function go(t){return f0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HM(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ds(t,"argument-error"),f0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function m0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return dS.create(t,...e)}function Pe(t,e,...n){if(!t)throw m0(e,...n)}function lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qd(e),new Error(e)}function yr(t,e){t||lr(e)}function uy(){return typeof self<"u"&&self.location?.href||""}function GM(){return Vx()==="http:"||Vx()==="https:"}function Vx(){return typeof self<"u"&&self.location?.protocol||null}function $M(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GM()||bD()||"connection"in navigator)?navigator.onLine:!0}function KM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=gD()||_D()}get(){return $M()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function p0(t,e){yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class fS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const QM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WM=new Fu(3e4,6e4);function g0(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Gl(t,e,n,s,a={}){return mS(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const d=Bu({key:t.config.apiKey,...u}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:f,...l};return vD()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&So(t.emulatorConfig.host)&&(m.credentials="include"),fS.fetch()(await pS(t,t.config.apiHost,n,d),m)})}async function mS(t,e,n){t._canInitEmulator=!1;const s={...YM,...e};try{const a=new ZM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Cd(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cd(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Cd(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw Cd(t,"user-disabled",u);const y=s[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw f0(t,y,m);Ds(t,y)}}catch(a){if(a instanceof js)throw a;Ds(t,"network-request-failed",{message:String(a)})}}async function XM(t,e,n,s,a={}){const l=await Gl(t,e,n,s,a);return"mfaPendingCredential"in l&&Ds(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function pS(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?p0(t.config,a):`${t.config.apiScheme}://${a}`;return QM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class ZM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ss(this.auth,"network-request-failed")),WM.get())})}}function Cd(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=ss(t,e,s);return a.customData._tokenResponse=n,a}async function JM(t,e){return Gl(t,"POST","/v1/accounts:delete",e)}async function uf(t,e){return Gl(t,"POST","/v1/accounts:lookup",e)}function mu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eV(t,e=!1){const n=hn(t),s=await n.getIdToken(e),a=y0(s);Pe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:mu(Cg(a.auth_time)),issuedAtTime:mu(Cg(a.iat)),expirationTime:mu(Cg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Cg(t){return Number(t)*1e3}function y0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return qd("JWT malformed, contained fewer than 3 sections"),null;try{const a=eS(n);return a?JSON.parse(a):(qd("Failed to decode base64 JWT payload"),null)}catch(a){return qd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Px(t){const e=y0(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Cu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof js&&tV(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function tV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class nV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class hy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hf(t){const e=t.auth,n=await t.getIdToken(),s=await Cu(t,uf(e,{idToken:n}));Pe(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?gS(a.providerUserInfo):[],u=sV(t.providerData,l),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!u?.length,m=d?f:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new hy(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,y)}async function iV(t){const e=hn(t);await hf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sV(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function gS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function rV(t,e){const n=await mS(t,{},async()=>{const s=Bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await pS(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:s};return t.emulatorConfig&&So(t.emulatorConfig.host)&&(f.credentials="include"),fS.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aV(t,e){return Gl(t,"POST","/v2/accounts:revokeToken",g0(t,e))}class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Px(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=Px(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await rV(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new Al;return s&&(Pe(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Pe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Pe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return lr("not implemented")}}function na(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ns{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new nV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new hy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Cu(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eV(this,e)}reload(){return iV(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ns({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await hf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pi(this.auth.app))return Promise.reject(go(this.auth));const e=await this.getIdToken();return await Cu(this,JM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,m=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:C,providerData:M,stsTokenManager:O}=n;Pe(v&&O,e,"internal-error");const N=Al.fromJSON(this.name,O);Pe(typeof v=="string",e,"internal-error"),na(s,e.name),na(a,e.name),Pe(typeof x=="boolean",e,"internal-error"),Pe(typeof C=="boolean",e,"internal-error"),na(l,e.name),na(u,e.name),na(d,e.name),na(f,e.name),na(m,e.name),na(y,e.name);const q=new ns({uid:v,auth:e,email:a,emailVerified:x,displayName:s,isAnonymous:C,photoURL:u,phoneNumber:l,tenantId:d,stsTokenManager:N,createdAt:m,lastLoginAt:y});return M&&Array.isArray(M)&&(q.providerData=M.map(W=>({...W}))),f&&(q._redirectEventId=f),q}static async _fromIdTokenResponse(e,n,s=!1){const a=new Al;a.updateFromServerResponse(n);const l=new ns({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await hf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Pe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?gS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,d=new Al;d.updateFromIdToken(s);const f=new ns({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new hy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(f,m),f}}const Ox=new Map;function cr(t){yr(t instanceof Function,"Expected a class definition");let e=Ox.get(t);return e?(yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ox.set(t,e),e)}class yS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yS.type="NONE";const jx=yS;function Hd(t,e,n){return`firebase:${t}:${e}:${n}`}class Cl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Hd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Hd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uf(this.auth,{idToken:e}).catch(()=>{});return n?ns._fromGetAccountInfoResponse(this.auth,n,e):null}return ns._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Cl(cr(jx),e,s);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||cr(jx);const u=Hd(s,e.config.apiKey,e.name);let d=null;for(const m of n)try{const y=await m._get(u);if(y){let v;if(typeof y=="string"){const x=await uf(e,{idToken:y}).catch(()=>{});if(!x)break;v=await ns._fromGetAccountInfoResponse(e,x,y)}else v=ns._fromJSON(e,y);m!==l&&(d=v),l=m;break}}catch{}const f=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Cl(l,e,s):(l=f[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new Cl(l,e,s))}}function Lx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TS(e))return"Blackberry";if(ES(e))return"Webos";if(bS(e))return"Safari";if((e.includes("chrome/")||_S(e))&&!e.includes("edge/"))return"Chrome";if(xS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function vS(t=Mn()){return/firefox\//i.test(t)}function bS(t=Mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _S(t=Mn()){return/crios\//i.test(t)}function wS(t=Mn()){return/iemobile/i.test(t)}function xS(t=Mn()){return/android/i.test(t)}function TS(t=Mn()){return/blackberry/i.test(t)}function ES(t=Mn()){return/webos/i.test(t)}function v0(t=Mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oV(t=Mn()){return v0(t)&&!!window.navigator?.standalone}function lV(){return wD()&&document.documentMode===10}function SS(t=Mn()){return v0(t)||xS(t)||ES(t)||TS(t)||/windows phone/i.test(t)||wS(t)}function AS(t,e=[]){let n;switch(t){case"Browser":n=Lx(Mn());break;case"Worker":n=`${Lx(Mn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${s}`}class cV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,d)=>{try{const f=e(l);u(f)}catch(f){d(f)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function uV(t,e={}){return Gl(t,"GET","/v2/passwordPolicy",g0(t,e))}const hV=6;class dV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class fV{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ux(this),this.idTokenSubscription=new Ux(this),this.beforeStateQueue=new cV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Cl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uf(this,{idToken:e}),s=await ns._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pi(this.app))return Promise.reject(go(this));const n=e?hn(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pi(this.app)?Promise.reject(go(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pi(this.app)?Promise.reject(go(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uV(this),n=new dV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await aV(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await Cl.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,s,a);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&qM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Kf(t){return hn(t)}class Ux{constructor(e){this.auth=e,this.observer=null,this.addObserver=ID(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let b0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mV(t){b0=t}function pV(t){return b0.loadJS(t)}function gV(){return b0.gapiScript}function yV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function vV(t,e){const n=$f(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(bo(l,e??{}))return a;Ds(a,"already-initialized")}return n.initialize({options:e})}function bV(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(cr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function _V(t,e,n){const s=Kf(t);Pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=CS(e),{host:u,port:d}=wV(e),f=d===null?"":`:${d}`,m={url:`${l}//${u}${f}/`},y=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Pe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Pe(bo(m,s.config.emulator)&&bo(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,So(u)?(l0(`${l}//${u}${f}`),c0("Auth",!0)):xV()}function CS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wV(t){const e=CS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:zx(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:zx(u)}}}function zx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class RS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function Rl(t,e){return XM(t,"POST","/v1/accounts:signInWithIdp",g0(t,e))}const TV="http://localhost";class wo extends RS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ds("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new wo(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Rl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Rl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Rl(e,n)}buildRequest(){const e={requestUri:TV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bu(n)}return e}}class _0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class qu extends _0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class aa extends qu{constructor(){super("facebook.com")}static credential(e){return wo._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";aa.PROVIDER_ID="facebook.com";class or extends qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wo._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return or.credential(n,s)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";class oa extends qu{constructor(){super("github.com")}static credential(e){return wo._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oa.credential(e.oauthAccessToken)}catch{return null}}}oa.GITHUB_SIGN_IN_METHOD="github.com";oa.PROVIDER_ID="github.com";class la extends qu{constructor(){super("twitter.com")}static credential(e,n){return wo._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return la.credential(n,s)}catch{return null}}}la.TWITTER_SIGN_IN_METHOD="twitter.com";la.PROVIDER_ID="twitter.com";class Dl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await ns._fromIdTokenResponse(e,s,a),u=Bx(s);return new Dl({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=Bx(s);return new Dl({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function Bx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class df extends js{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,df.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new df(e,n,s,a)}}function IS(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(t,l,e,s):l})}async function EV(t,e,n=!1){const s=await Cu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Dl._forOperation(t,"link",s)}async function SV(t,e,n=!1){const{auth:s}=t;if(Pi(s.app))return Promise.reject(go(s));const a="reauthenticate";try{const l=await Cu(t,IS(s,a,e,t),n);Pe(l.idToken,s,"internal-error");const u=y0(l.idToken);Pe(u,s,"internal-error");const{sub:d}=u;return Pe(t.uid===d,s,"user-mismatch"),Dl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ds(s,"user-mismatch"),l}}async function AV(t,e,n=!1){if(Pi(t.app))return Promise.reject(go(t));const s="signIn",a=await IS(t,s,e),l=await Dl._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}function CV(t,e,n,s){return hn(t).onIdTokenChanged(e,n,s)}function RV(t,e,n){return hn(t).beforeAuthStateChanged(e,n)}function IV(t,e,n,s){return hn(t).onAuthStateChanged(e,n,s)}function NV(t){return hn(t).signOut()}const ff="__sak";class NS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kV=1e3,DV=10;class kS extends NS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);lV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,DV):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},kV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kS.type="LOCAL";const MV=kS;class DS extends NS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}DS.type="SESSION";const MS=DS;function VV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Yf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Yf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(u).map(async m=>m(n.origin,l)),f=await VV(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yf.receivers=[];function w0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class PV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,f)=>{const m=w0("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(v){const x=v;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(x.data.response);break;default:clearTimeout(y),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Rs(){return window}function OV(t){Rs().location.href=t}function VS(){return typeof Rs().WorkerGlobalScope<"u"&&typeof Rs().importScripts=="function"}async function jV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LV(){return navigator?.serviceWorker?.controller||null}function UV(){return VS()?self:null}const PS="firebaseLocalStorageDb",zV=1,mf="firebaseLocalStorage",OS="fbase_key";class Hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qf(t,e){return t.transaction([mf],e?"readwrite":"readonly").objectStore(mf)}function BV(){const t=indexedDB.deleteDatabase(PS);return new Hu(t).toPromise()}function dy(){const t=indexedDB.open(PS,zV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(mf,{keyPath:OS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(mf)?e(s):(s.close(),await BV(),e(await dy()))})})}async function Fx(t,e,n){const s=Qf(t,!0).put({[OS]:e,value:n});return new Hu(s).toPromise()}async function FV(t,e){const n=Qf(t,!1).get(e),s=await new Hu(n).toPromise();return s===void 0?null:s.value}function qx(t,e){const n=Qf(t,!0).delete(e);return new Hu(n).toPromise()}const qV=800,HV=3;class jS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>HV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yf._getInstance(UV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jV(),!this.activeServiceWorker)return;this.sender=new PV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dy();return await Fx(e,ff,"1"),await qx(e,ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Fx(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>FV(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Qf(a,!1).getAll();return new Hu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jS.type="LOCAL";const GV=jS;new Fu(3e4,6e4);function LS(t,e){return e?cr(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class x0 extends RS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Rl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $V(t){return AV(t.auth,new x0(t),t.bypassAuthState)}function KV(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),SV(n,new x0(t),t.bypassAuthState)}async function YV(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),EV(n,new x0(t),t.bypassAuthState)}class US{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $V;case"linkViaPopup":case"linkViaRedirect":return YV;case"reauthViaPopup":case"reauthViaRedirect":return KV;default:Ds(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const QV=new Fu(2e3,1e4);async function WV(t,e,n){if(Pi(t.app))return Promise.reject(ss(t,"operation-not-supported-in-this-environment"));const s=Kf(t);HM(t,e,_0);const a=LS(s,n);return new ho(s,"signInViaPopup",e,a).executeNotNull()}class ho extends US{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=w0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ss(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ss(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ss(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QV.get())};e()}}ho.currentPopupAction=null;const XV="pendingRedirect",Gd=new Map;class ZV extends US{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Gd.get(this.auth._key());if(!e){try{const s=await JV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Gd.set(this.auth._key(),e)}return this.bypassAuthState||Gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JV(t,e){const n=nP(e),s=tP(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function eP(t,e){Gd.set(t._key(),e)}function tP(t){return cr(t._redirectPersistence)}function nP(t){return Hd(XV,t.config.apiKey,t.name)}async function iP(t,e,n=!1){if(Pi(t.app))return Promise.reject(go(t));const s=Kf(t),a=LS(s,e),u=await new ZV(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const sP=600*1e3;class rP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!zS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ss(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hx(e))}saveEventToCache(e){this.cachedEventUids.add(Hx(e)),this.lastProcessedEventTime=Date.now()}}function Hx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function aP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zS(t);default:return!1}}async function oP(t,e={}){return Gl(t,"GET","/v1/projects",e)}const lP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cP=/^https?/;async function uP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oP(t);for(const n of e)try{if(hP(n))return}catch{}Ds(t,"unauthorized-domain")}function hP(t){const e=uy(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!cP.test(n))return!1;if(lP.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const dP=new Fu(3e4,6e4);function Gx(){const t=Rs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fP(t){return new Promise((e,n)=>{function s(){Gx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gx(),n(ss(t,"network-request-failed"))},timeout:dP.get()})}if(Rs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Rs().gapi?.load)s();else{const a=yV("iframefcb");return Rs()[a]=()=>{gapi.load?s():n(ss(t,"network-request-failed"))},pV(`${gV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw $d=null,e})}let $d=null;function mP(t){return $d=$d||fP(t),$d}const pP=new Fu(5e3,15e3),gP="__/auth/iframe",yP="emulator/auth/iframe",vP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _P(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?p0(e,yP):`https://${t.config.authDomain}/${gP}`,s={apiKey:e.apiKey,appName:t.name,v:Ao},a=bP.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Bu(s).slice(1)}`}async function wP(t){const e=await mP(t),n=Rs().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:_P(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vP,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=ss(t,"network-request-failed"),d=Rs().setTimeout(()=>{l(u)},pP.get());function f(){Rs().clearTimeout(d),a(s)}s.ping(f).then(f,()=>{l(u)})}))}const xP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TP=500,EP=600,SP="_blank",AP="http://localhost";class $x{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CP(t,e,n,s=TP,a=EP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const f={...xP,width:s.toString(),height:a.toString(),top:l,left:u},m=Mn().toLowerCase();n&&(d=_S(m)?SP:n),vS(m)&&(e=e||AP,f.scrollbars="yes");const y=Object.entries(f).reduce((x,[C,M])=>`${x}${C}=${M},`,"");if(oV(m)&&d!=="_self")return RP(e||"",d),new $x(null);const v=window.open(e||"",d,y);Pe(v,t,"popup-blocked");try{v.focus()}catch{}return new $x(v)}function RP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const IP="__/auth/handler",NP="emulator/auth/handler",kP=encodeURIComponent("fac");async function Kx(t,e,n,s,a,l){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ao,eventId:a};if(e instanceof _0){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",RD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof qu){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const f=await t._getAppCheckToken(),m=f?`#${kP}=${encodeURIComponent(f)}`:"";return`${DP(t)}?${Bu(d).slice(1)}${m}`}function DP({config:t}){return t.emulator?p0(t,NP):`https://${t.authDomain}/${IP}`}const Rg="webStorageSupport";class MP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MS,this._completeRedirectFn=iP,this._overrideRedirectResult=eP}async _openPopup(e,n,s,a){yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Kx(e,n,s,uy(),a);return CP(e,l,w0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await Kx(e,n,s,uy(),a);return OV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(yr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await wP(e),s=new rP(e);return n.register("authEvent",a=>(Pe(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rg,{type:Rg},a=>{const l=a?.[0]?.[Rg];l!==void 0&&n(!!l),Ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SS()||bS()||v0()}}const VP=MP;var Yx="@firebase/auth",Qx="1.12.0";class PP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function OP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jP(t){_o(new va("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=s.options;Pe(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const f={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AS(t)},m=new fV(s,a,l,f);return bV(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),_o(new va("auth-internal",e=>{const n=Kf(e.getProvider("auth").getImmediate());return(s=>new PP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cs(Yx,Qx,OP(t)),Cs(Yx,Qx,"esm2020")}const LP=300,UP=sS("authIdTokenMaxAge")||LP;let Wx=null;const zP=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>UP)return;const a=n?.token;Wx!==a&&(Wx=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function BP(t=d0()){const e=$f(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vV(t,{popupRedirectResolver:VP,persistence:[GV,MV,MS]}),s=sS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=zP(l.toString());RV(n,u,()=>u(n.currentUser)),CV(n,d=>u(d))}}const a=tS("auth");return a&&_V(n,`http://${a}`),n}function FP(){return document.getElementsByTagName("head")?.[0]??document}mV({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=ss("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",FP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jP("Browser");var Xx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pa,BS;(function(){var t;function e(I,S){function k(){}k.prototype=S.prototype,I.F=S.prototype,I.prototype=new k,I.prototype.constructor=I,I.D=function(j,P,z){for(var V=Array(arguments.length-2),me=2;me<arguments.length;me++)V[me-2]=arguments[me];return S.prototype[P].apply(j,V)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,S,k){k||(k=0);const j=Array(16);if(typeof S=="string")for(var P=0;P<16;++P)j[P]=S.charCodeAt(k++)|S.charCodeAt(k++)<<8|S.charCodeAt(k++)<<16|S.charCodeAt(k++)<<24;else for(P=0;P<16;++P)j[P]=S[k++]|S[k++]<<8|S[k++]<<16|S[k++]<<24;S=I.g[0],k=I.g[1],P=I.g[2];let z=I.g[3],V;V=S+(z^k&(P^z))+j[0]+3614090360&4294967295,S=k+(V<<7&4294967295|V>>>25),V=z+(P^S&(k^P))+j[1]+3905402710&4294967295,z=S+(V<<12&4294967295|V>>>20),V=P+(k^z&(S^k))+j[2]+606105819&4294967295,P=z+(V<<17&4294967295|V>>>15),V=k+(S^P&(z^S))+j[3]+3250441966&4294967295,k=P+(V<<22&4294967295|V>>>10),V=S+(z^k&(P^z))+j[4]+4118548399&4294967295,S=k+(V<<7&4294967295|V>>>25),V=z+(P^S&(k^P))+j[5]+1200080426&4294967295,z=S+(V<<12&4294967295|V>>>20),V=P+(k^z&(S^k))+j[6]+2821735955&4294967295,P=z+(V<<17&4294967295|V>>>15),V=k+(S^P&(z^S))+j[7]+4249261313&4294967295,k=P+(V<<22&4294967295|V>>>10),V=S+(z^k&(P^z))+j[8]+1770035416&4294967295,S=k+(V<<7&4294967295|V>>>25),V=z+(P^S&(k^P))+j[9]+2336552879&4294967295,z=S+(V<<12&4294967295|V>>>20),V=P+(k^z&(S^k))+j[10]+4294925233&4294967295,P=z+(V<<17&4294967295|V>>>15),V=k+(S^P&(z^S))+j[11]+2304563134&4294967295,k=P+(V<<22&4294967295|V>>>10),V=S+(z^k&(P^z))+j[12]+1804603682&4294967295,S=k+(V<<7&4294967295|V>>>25),V=z+(P^S&(k^P))+j[13]+4254626195&4294967295,z=S+(V<<12&4294967295|V>>>20),V=P+(k^z&(S^k))+j[14]+2792965006&4294967295,P=z+(V<<17&4294967295|V>>>15),V=k+(S^P&(z^S))+j[15]+1236535329&4294967295,k=P+(V<<22&4294967295|V>>>10),V=S+(P^z&(k^P))+j[1]+4129170786&4294967295,S=k+(V<<5&4294967295|V>>>27),V=z+(k^P&(S^k))+j[6]+3225465664&4294967295,z=S+(V<<9&4294967295|V>>>23),V=P+(S^k&(z^S))+j[11]+643717713&4294967295,P=z+(V<<14&4294967295|V>>>18),V=k+(z^S&(P^z))+j[0]+3921069994&4294967295,k=P+(V<<20&4294967295|V>>>12),V=S+(P^z&(k^P))+j[5]+3593408605&4294967295,S=k+(V<<5&4294967295|V>>>27),V=z+(k^P&(S^k))+j[10]+38016083&4294967295,z=S+(V<<9&4294967295|V>>>23),V=P+(S^k&(z^S))+j[15]+3634488961&4294967295,P=z+(V<<14&4294967295|V>>>18),V=k+(z^S&(P^z))+j[4]+3889429448&4294967295,k=P+(V<<20&4294967295|V>>>12),V=S+(P^z&(k^P))+j[9]+568446438&4294967295,S=k+(V<<5&4294967295|V>>>27),V=z+(k^P&(S^k))+j[14]+3275163606&4294967295,z=S+(V<<9&4294967295|V>>>23),V=P+(S^k&(z^S))+j[3]+4107603335&4294967295,P=z+(V<<14&4294967295|V>>>18),V=k+(z^S&(P^z))+j[8]+1163531501&4294967295,k=P+(V<<20&4294967295|V>>>12),V=S+(P^z&(k^P))+j[13]+2850285829&4294967295,S=k+(V<<5&4294967295|V>>>27),V=z+(k^P&(S^k))+j[2]+4243563512&4294967295,z=S+(V<<9&4294967295|V>>>23),V=P+(S^k&(z^S))+j[7]+1735328473&4294967295,P=z+(V<<14&4294967295|V>>>18),V=k+(z^S&(P^z))+j[12]+2368359562&4294967295,k=P+(V<<20&4294967295|V>>>12),V=S+(k^P^z)+j[5]+4294588738&4294967295,S=k+(V<<4&4294967295|V>>>28),V=z+(S^k^P)+j[8]+2272392833&4294967295,z=S+(V<<11&4294967295|V>>>21),V=P+(z^S^k)+j[11]+1839030562&4294967295,P=z+(V<<16&4294967295|V>>>16),V=k+(P^z^S)+j[14]+4259657740&4294967295,k=P+(V<<23&4294967295|V>>>9),V=S+(k^P^z)+j[1]+2763975236&4294967295,S=k+(V<<4&4294967295|V>>>28),V=z+(S^k^P)+j[4]+1272893353&4294967295,z=S+(V<<11&4294967295|V>>>21),V=P+(z^S^k)+j[7]+4139469664&4294967295,P=z+(V<<16&4294967295|V>>>16),V=k+(P^z^S)+j[10]+3200236656&4294967295,k=P+(V<<23&4294967295|V>>>9),V=S+(k^P^z)+j[13]+681279174&4294967295,S=k+(V<<4&4294967295|V>>>28),V=z+(S^k^P)+j[0]+3936430074&4294967295,z=S+(V<<11&4294967295|V>>>21),V=P+(z^S^k)+j[3]+3572445317&4294967295,P=z+(V<<16&4294967295|V>>>16),V=k+(P^z^S)+j[6]+76029189&4294967295,k=P+(V<<23&4294967295|V>>>9),V=S+(k^P^z)+j[9]+3654602809&4294967295,S=k+(V<<4&4294967295|V>>>28),V=z+(S^k^P)+j[12]+3873151461&4294967295,z=S+(V<<11&4294967295|V>>>21),V=P+(z^S^k)+j[15]+530742520&4294967295,P=z+(V<<16&4294967295|V>>>16),V=k+(P^z^S)+j[2]+3299628645&4294967295,k=P+(V<<23&4294967295|V>>>9),V=S+(P^(k|~z))+j[0]+4096336452&4294967295,S=k+(V<<6&4294967295|V>>>26),V=z+(k^(S|~P))+j[7]+1126891415&4294967295,z=S+(V<<10&4294967295|V>>>22),V=P+(S^(z|~k))+j[14]+2878612391&4294967295,P=z+(V<<15&4294967295|V>>>17),V=k+(z^(P|~S))+j[5]+4237533241&4294967295,k=P+(V<<21&4294967295|V>>>11),V=S+(P^(k|~z))+j[12]+1700485571&4294967295,S=k+(V<<6&4294967295|V>>>26),V=z+(k^(S|~P))+j[3]+2399980690&4294967295,z=S+(V<<10&4294967295|V>>>22),V=P+(S^(z|~k))+j[10]+4293915773&4294967295,P=z+(V<<15&4294967295|V>>>17),V=k+(z^(P|~S))+j[1]+2240044497&4294967295,k=P+(V<<21&4294967295|V>>>11),V=S+(P^(k|~z))+j[8]+1873313359&4294967295,S=k+(V<<6&4294967295|V>>>26),V=z+(k^(S|~P))+j[15]+4264355552&4294967295,z=S+(V<<10&4294967295|V>>>22),V=P+(S^(z|~k))+j[6]+2734768916&4294967295,P=z+(V<<15&4294967295|V>>>17),V=k+(z^(P|~S))+j[13]+1309151649&4294967295,k=P+(V<<21&4294967295|V>>>11),V=S+(P^(k|~z))+j[4]+4149444226&4294967295,S=k+(V<<6&4294967295|V>>>26),V=z+(k^(S|~P))+j[11]+3174756917&4294967295,z=S+(V<<10&4294967295|V>>>22),V=P+(S^(z|~k))+j[2]+718787259&4294967295,P=z+(V<<15&4294967295|V>>>17),V=k+(z^(P|~S))+j[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(P+(V<<21&4294967295|V>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+z&4294967295}s.prototype.v=function(I,S){S===void 0&&(S=I.length);const k=S-this.blockSize,j=this.C;let P=this.h,z=0;for(;z<S;){if(P==0)for(;z<=k;)a(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<S;)if(j[P++]=I.charCodeAt(z++),P==this.blockSize){a(this,j),P=0;break}}else for(;z<S;)if(j[P++]=I[z++],P==this.blockSize){a(this,j),P=0;break}}this.h=P,this.o+=S},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var k=I.length-8;k<I.length;++k)I[k]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,k=0;k<4;++k)for(let j=0;j<32;j+=8)I[S++]=this.g[k]>>>j&255;return I};function l(I,S){var k=d;return Object.prototype.hasOwnProperty.call(k,I)?k[I]:k[I]=S(I)}function u(I,S){this.h=S;const k=[];let j=!0;for(let P=I.length-1;P>=0;P--){const z=I[P]|0;j&&z==S||(k[P]=z,j=!1)}this.g=k}var d={};function f(I){return-128<=I&&I<128?l(I,function(S){return new u([S|0],S<0?-1:0)}):new u([I|0],I<0?-1:0)}function m(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return N(m(-I));const S=[];let k=1;for(let j=0;I>=k;j++)S[j]=I/k|0,k*=4294967296;return new u(S,0)}function y(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return N(y(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=m(Math.pow(S,8));let j=v;for(let z=0;z<I.length;z+=8){var P=Math.min(8,I.length-z);const V=parseInt(I.substring(z,z+P),S);P<8?(P=m(Math.pow(S,P)),j=j.j(P).add(m(V))):(j=j.j(k),j=j.add(m(V)))}return j}var v=f(0),x=f(1),C=f(16777216);t=u.prototype,t.m=function(){if(O(this))return-N(this).m();let I=0,S=1;for(let k=0;k<this.g.length;k++){const j=this.i(k);I+=(j>=0?j:4294967296+j)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(O(this))return"-"+N(this).toString(I);const S=m(Math.pow(I,6));var k=this;let j="";for(;;){const P=G(k,S).g;k=q(k,P.j(S));let z=((k.g.length>0?k.g[0]:k.h)>>>0).toString(I);if(k=P,M(k))return z+j;for(;z.length<6;)z="0"+z;j=z+j}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function O(I){return I.h==-1}t.l=function(I){return I=q(this,I),O(I)?-1:M(I)?0:1};function N(I){const S=I.g.length,k=[];for(let j=0;j<S;j++)k[j]=~I.g[j];return new u(k,~I.h).add(x)}t.abs=function(){return O(this)?N(this):this},t.add=function(I){const S=Math.max(this.g.length,I.g.length),k=[];let j=0;for(let P=0;P<=S;P++){let z=j+(this.i(P)&65535)+(I.i(P)&65535),V=(z>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);j=V>>>16,z&=65535,V&=65535,k[P]=V<<16|z}return new u(k,k[k.length-1]&-2147483648?-1:0)};function q(I,S){return I.add(N(S))}t.j=function(I){if(M(this)||M(I))return v;if(O(this))return O(I)?N(this).j(N(I)):N(N(this).j(I));if(O(I))return N(this.j(N(I)));if(this.l(C)<0&&I.l(C)<0)return m(this.m()*I.m());const S=this.g.length+I.g.length,k=[];for(var j=0;j<2*S;j++)k[j]=0;for(j=0;j<this.g.length;j++)for(let P=0;P<I.g.length;P++){const z=this.i(j)>>>16,V=this.i(j)&65535,me=I.i(P)>>>16,ye=I.i(P)&65535;k[2*j+2*P]+=V*ye,W(k,2*j+2*P),k[2*j+2*P+1]+=z*ye,W(k,2*j+2*P+1),k[2*j+2*P+1]+=V*me,W(k,2*j+2*P+1),k[2*j+2*P+2]+=z*me,W(k,2*j+2*P+2)}for(I=0;I<S;I++)k[I]=k[2*I+1]<<16|k[2*I];for(I=S;I<2*S;I++)k[I]=0;return new u(k,0)};function W(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function K(I,S){this.g=I,this.h=S}function G(I,S){if(M(S))throw Error("division by zero");if(M(I))return new K(v,v);if(O(I))return S=G(N(I),S),new K(N(S.g),N(S.h));if(O(S))return S=G(I,N(S)),new K(N(S.g),S.h);if(I.g.length>30){if(O(I)||O(S))throw Error("slowDivide_ only works with positive integers.");for(var k=x,j=S;j.l(I)<=0;)k=re(k),j=re(j);var P=ce(k,1),z=ce(j,1);for(j=ce(j,2),k=ce(k,2);!M(j);){var V=z.add(j);V.l(I)<=0&&(P=P.add(k),z=V),j=ce(j,1),k=ce(k,1)}return S=q(I,P.j(S)),new K(P,S)}for(P=v;I.l(S)>=0;){for(k=Math.max(1,Math.floor(I.m()/S.m())),j=Math.ceil(Math.log(k)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),z=m(k),V=z.j(S);O(V)||V.l(I)>0;)k-=j,z=m(k),V=z.j(S);M(z)&&(z=x),P=P.add(z),I=q(I,V)}return new K(P,I)}t.B=function(I){return G(this,I).h},t.and=function(I){const S=Math.max(this.g.length,I.g.length),k=[];for(let j=0;j<S;j++)k[j]=this.i(j)&I.i(j);return new u(k,this.h&I.h)},t.or=function(I){const S=Math.max(this.g.length,I.g.length),k=[];for(let j=0;j<S;j++)k[j]=this.i(j)|I.i(j);return new u(k,this.h|I.h)},t.xor=function(I){const S=Math.max(this.g.length,I.g.length),k=[];for(let j=0;j<S;j++)k[j]=this.i(j)^I.i(j);return new u(k,this.h^I.h)};function re(I){const S=I.g.length+1,k=[];for(let j=0;j<S;j++)k[j]=I.i(j)<<1|I.i(j-1)>>>31;return new u(k,I.h)}function ce(I,S){const k=S>>5;S%=32;const j=I.g.length-k,P=[];for(let z=0;z<j;z++)P[z]=S>0?I.i(z+k)>>>S|I.i(z+k+1)<<32-S:I.i(z+k);return new u(P,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,BS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,pa=u}).apply(typeof Xx<"u"?Xx:typeof self<"u"?self:typeof window<"u"?window:{});var Rd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var FS,lu,qS,Kd,fy,HS,GS,$S;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rd=="object"&&Rd];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var T=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var X=h[R];if(!(X in T))break e;T=T[X]}h=h[h.length-1],R=T[h],_=_(R),_!=R&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var T=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&T.push([R,_[R]]);return T}});var l=l||{},u=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function f(h,_,T){return h.call.apply(h.bind,arguments)}function m(h,_,T){return m=f,m.apply(null,arguments)}function y(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function v(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(R,X,ie){for(var be=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)be[ze-2]=arguments[ze];return _.prototype[X].apply(R,be)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const _=h.length;if(_>0){const T=Array(_);for(let R=0;R<_;R++)T[R]=h[R];return T}return[]}function M(h,_){for(let R=1;R<arguments.length;R++){const X=arguments[R];var T=typeof X;if(T=T!="object"?T:X?Array.isArray(X)?"array":T:"null",T=="array"||T=="object"&&typeof X.length=="number"){T=h.length||0;const ie=X.length||0;h.length=T+ie;for(let be=0;be<ie;be++)h[T+be]=X[be]}else h.push(X)}}class O{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(h){u.setTimeout(()=>{throw h},0)}function q(){var h=I;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class W{constructor(){this.h=this.g=null}add(_,T){const R=K.get();R.set(_,T),this.h?this.h.next=R:this.g=R,this.h=R}}var K=new O(()=>new G,h=>h.reset());class G{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ce=!1,I=new W,S=()=>{const h=Promise.resolve(void 0);re=()=>{h.then(k)}};function k(){for(var h;h=q();){try{h.h.call(h.g)}catch(T){N(T)}var _=K;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ce=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return h})();function V(h){return/^[\s\xa0]*$/.test(h)}function me(h,_){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}v(me,P),me.prototype.init=function(h,_){const T=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),U=0;function Z(h,_,T,R,X){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!R,this.ha=X,this.key=++U,this.da=this.fa=!1}function H(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function pe(h,_,T){for(const R in h)_.call(T,h[R],R,h)}function B(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function E(h){const _={};for(const T in h)_[T]=h[T];return _}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(h,_){let T,R;for(let X=1;X<arguments.length;X++){R=arguments[X];for(T in R)h[T]=R[T];for(let ie=0;ie<Q.length;ie++)T=Q[ie],Object.prototype.hasOwnProperty.call(R,T)&&(h[T]=R[T])}}function oe(h){this.src=h,this.g={},this.h=0}oe.prototype.add=function(h,_,T,R,X){const ie=h.toString();h=this.g[ie],h||(h=this.g[ie]=[],this.h++);const be=ve(h,_,R,X);return be>-1?(_=h[be],T||(_.fa=!1)):(_=new Z(_,this.src,ie,!!R,X),_.fa=T,h.push(_)),_};function ge(h,_){const T=_.type;if(T in h.g){var R=h.g[T],X=Array.prototype.indexOf.call(R,_,void 0),ie;(ie=X>=0)&&Array.prototype.splice.call(R,X,1),ie&&(H(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function ve(h,_,T,R){for(let X=0;X<h.length;++X){const ie=h[X];if(!ie.da&&ie.listener==_&&ie.capture==!!T&&ie.ha==R)return X}return-1}var de="closure_lm_"+(Math.random()*1e6|0),Ee={};function Ie(h,_,T,R,X){if(Array.isArray(_)){for(let ie=0;ie<_.length;ie++)Ie(h,_[ie],T,R,X);return null}return T=yn(T),h&&h[ye]?h.J(_,T,d(R)?!!R.capture:!1,X):Ge(h,_,T,!1,R,X)}function Ge(h,_,T,R,X,ie){if(!_)throw Error("Invalid event type");const be=d(X)?!!X.capture:!!X;let ze=zt(h);if(ze||(h[de]=ze=new oe(h)),T=ze.add(_,T,R,be,ie),T.proxy)return T;if(R=qe(),T.proxy=R,R.src=h,R.listener=T,h.addEventListener)z||(X=be),X===void 0&&(X=!1),h.addEventListener(_.toString(),R,X);else if(h.attachEvent)h.attachEvent(Ve(_.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function qe(){function h(T){return _.call(h.src,h.listener,T)}const _=ut;return h}function $e(h,_,T,R,X){if(Array.isArray(_))for(var ie=0;ie<_.length;ie++)$e(h,_[ie],T,R,X);else R=d(R)?!!R.capture:!!R,T=yn(T),h&&h[ye]?(h=h.i,ie=String(_).toString(),ie in h.g&&(_=h.g[ie],T=ve(_,T,R,X),T>-1&&(H(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[ie],h.h--)))):h&&(h=zt(h))&&(_=h.g[_.toString()],h=-1,_&&(h=ve(_,T,R,X)),(T=h>-1?_[h]:null)&&xt(T))}function xt(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ye])ge(_.i,h);else{var T=h.type,R=h.proxy;_.removeEventListener?_.removeEventListener(T,R,h.capture):_.detachEvent?_.detachEvent(Ve(T),R):_.addListener&&_.removeListener&&_.removeListener(R),(T=zt(_))?(ge(T,h),T.h==0&&(T.src=null,_[de]=null)):H(h)}}}function Ve(h){return h in Ee?Ee[h]:Ee[h]="on"+h}function ut(h,_){if(h.da)h=!0;else{_=new me(_,this);const T=h.listener,R=h.ha||h.src;h.fa&&xt(h),h=T.call(R,_)}return h}function zt(h){return h=h[de],h instanceof oe?h:null}var Bt="__closure_events_fn_"+(Math.random()*1e9>>>0);function yn(h){return typeof h=="function"?h:(h[Bt]||(h[Bt]=function(_){return h.handleEvent(_)}),h[Bt])}function ht(){j.call(this),this.i=new oe(this),this.M=this,this.G=null}v(ht,j),ht.prototype[ye]=!0,ht.prototype.removeEventListener=function(h,_,T,R){$e(this,h,_,T,R)};function et(h,_){var T,R=h.G;if(R)for(T=[];R;R=R.G)T.push(R);if(h=h.M,R=_.type||_,typeof _=="string")_=new P(_,h);else if(_ instanceof P)_.target=_.target||h;else{var X=_;_=new P(R,h),ne(_,X)}X=!0;let ie,be;if(T)for(be=T.length-1;be>=0;be--)ie=_.g=T[be],X=gi(ie,R,!0,_)&&X;if(ie=_.g=h,X=gi(ie,R,!0,_)&&X,X=gi(ie,R,!1,_)&&X,T)for(be=0;be<T.length;be++)ie=_.g=T[be],X=gi(ie,R,!1,_)&&X}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let R=0;R<T.length;R++)H(T[R]);delete h.g[_],h.h--}}this.G=null},ht.prototype.J=function(h,_,T,R){return this.i.add(String(h),_,!1,T,R)},ht.prototype.K=function(h,_,T,R){return this.i.add(String(h),_,!0,T,R)};function gi(h,_,T,R){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let X=!0;for(let ie=0;ie<_.length;++ie){const be=_[ie];if(be&&!be.da&&be.capture==T){const ze=be.listener,Ft=be.ha||be.src;be.fa&&ge(h.i,be),X=ze.call(Ft,R)!==!1&&X}}return X&&!R.defaultPrevented}function Da(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=m(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function wr(h){h.g=Da(()=>{h.g=null,h.i&&(h.i=!1,wr(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Yt extends j{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:wr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sn(h){j.call(this),this.h=h,this.g={}}v(Sn,j);var Vn=[];function Fn(h){pe(h.g,function(_,T){this.g.hasOwnProperty(T)&&xt(_)},h),h.g={}}Sn.prototype.N=function(){Sn.Z.N.call(this),Fn(this)},Sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var An=u.JSON.stringify,Us=u.JSON.parse,ls=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function cs(){}function Fi(){}var rt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Dt(){P.call(this,"d")}v(Dt,P);function Pn(){P.call(this,"c")}v(Pn,P);var Tt={},zs=null;function yi(){return zs=zs||new ht}Tt.Ia="serverreachability";function Ma(h){P.call(this,Tt.Ia,h)}v(Ma,P);function Jn(h){const _=yi();et(_,new Ma(_))}Tt.STAT_EVENT="statevent";function vi(h,_){P.call(this,Tt.STAT_EVENT,h),this.stat=_}v(vi,P);function Ot(h){const _=yi();et(_,new vi(_,h))}Tt.Ja="timingevent";function ei(h,_){P.call(this,Tt.Ja,h),this.size=_}v(ei,P);function bi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function Va(h,_,T,R,X,ie){h.info(function(){if(h.g)if(ie){var be="",ze=ie.split("&");for(let lt=0;lt<ze.length;lt++){var Ft=ze[lt].split("=");if(Ft.length>1){const It=Ft[0];Ft=Ft[1];const Si=It.split("_");be=Si.length>=2&&Si[1]=="type"?be+(It+"="+Ft+"&"):be+(It+"=redacted&")}}}else be=null;else be=ie;return"XMLHTTP REQ ("+R+") [attempt "+X+"]: "+_+`
`+T+`
`+be})}function xr(h,_,T,R,X,ie,be){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+X+"]: "+_+`
`+T+`
`+ie+" "+be})}function _i(h,_,T,R){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+nc(h,T)+(R?" "+R:"")})}function Bs(h,_){h.info(function(){return"TIMEOUT: "+_})}qn.prototype.info=function(){};function nc(h,_){if(!h.g)return _;if(!_)return null;try{const ie=JSON.parse(_);if(ie){for(h=0;h<ie.length;h++)if(Array.isArray(ie[h])){var T=ie[h];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var X=R[0];if(X!="noop"&&X!="stop"&&X!="close")for(let be=1;be<R.length;be++)R[be]=""}}}}return An(ie)}catch{return _}}var us={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oa;function Tr(){}v(Tr,cs),Tr.prototype.g=function(){return new XMLHttpRequest},Oa=new Tr;function wi(h){return encodeURIComponent(String(h))}function Er(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function On(h,_,T,R){this.j=h,this.i=_,this.l=T,this.S=R||1,this.V=new Sn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var Y={},we={};function dt(h,_,T){h.M=1,h.A=ja(Xt(_)),h.u=T,h.R=!0,Rt(h,null)}function Rt(h,_){h.F=Date.now(),ni(h),h.B=Xt(h.A);var T=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Mo(T.i,"t",R),h.C=0,T=h.j.L,h.h=new ti,h.g=bh(h.j,T?_:null,!h.u),h.P>0&&(h.O=new Yt(m(h.Y,h,h.g),h.P)),_=h.V,T=h.g,R=h.ba;var X="readystatechange";Array.isArray(X)||(X&&(Vn[0]=X.toString()),X=Vn);for(let ie=0;ie<X.length;ie++){const be=Ie(T,X[ie],R||_.handleEvent,!1,_.h||_);if(!be)break;_.g[be.key]=be}_=h.J?E(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Jn(),Va(h.i,h.v,h.B,h.l,h.S,h.u)}On.prototype.ba=function(h){h=h.target;const _=this.O;_&&$i(h)==3?_.j():this.Y(h)},On.prototype.Y=function(h){try{if(h==this.g)e:{const ze=$i(this.g),Ft=this.g.ya(),lt=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||vn(this.g)))){this.K||ze!=4||Ft==7||(Ft==8||lt<=0?Jn(3):Jn(2)),hs(this);var _=this.g.ca();this.X=_;var T=Qt(this);if(this.o=_==200,xr(this.i,this.v,this.B,this.l,this.S,ze,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,X=this.g;if((R=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(R)){var ie=R;break t}}ie=null}if(h=ie)_i(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ds(this,h);else{this.o=!1,this.m=3,Ot(12),ii(this),xi(this);break e}}if(this.R){h=!0;let It;for(;!this.K&&this.C<T.length;)if(It=qi(this,T),It==we){ze==4&&(this.m=4,Ot(14),h=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(It==Y){this.m=4,Ot(15),_i(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else _i(this.i,this.l,It,null),ds(this,It);if(Cn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||T.length!=0||this.h.h||(this.m=1,Ot(16),h=!1),this.o=this.o&&h,!h)_i(this.i,this.l,T,"[Invalid Chunked Response]"),ii(this),xi(this);else if(T.length>0&&!this.W){this.W=!0;var be=this.j;be.g==this&&be.aa&&!be.P&&(be.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),yc(be),be.P=!0,Ot(11))}}else _i(this.i,this.l,T,null),ds(this,T);ze==4&&ii(this),this.o&&!this.K&&(ze==4?ph(this.j,this):(this.o=!1,ni(this)))}else qs(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),ii(this),xi(this)}}}catch{}};function Qt(h){if(!Cn(h))return h.g.la();const _=vn(h.g);if(_==="")return"";let T="";const R=_.length,X=$i(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return ii(h),xi(h),"";h.h.i=new u.TextDecoder}for(let ie=0;ie<R;ie++)h.h.h=!0,T+=h.h.i.decode(_[ie],{stream:!(X&&ie==R-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function Cn(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function qi(h,_){var T=h.C,R=_.indexOf(`
`,T);return R==-1?we:(T=Number(_.substring(T,R)),isNaN(T)?Y:(R+=1,R+T>_.length?we:(_=_.slice(R,R+T),h.C=R+T,_)))}On.prototype.cancel=function(){this.K=!0,ii(this)};function ni(h){h.T=Date.now()+h.H,No(h,h.H)}function No(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=bi(m(h.aa,h),_)}function hs(h){h.D&&(u.clearTimeout(h.D),h.D=null)}On.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Bs(this.i,this.B),this.M!=2&&(Jn(),Ot(17)),ii(this),this.m=2,xi(this)):No(this,this.T-h)};function xi(h){h.j.I==0||h.K||ph(h.j,h)}function ii(h){hs(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Fn(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function ds(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||ms(T.h,h))){if(!h.L&&ms(T.h,h)&&T.I==3){try{var R=T.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var X=R;if(X[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Lo(T),Dr(T);else break e;Ha(T),Ot(18)}}else T.xa=X[1],0<T.xa-T.K&&X[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=bi(m(T.Va,T),6e3));fs(T.h)<=1&&T.ta&&(T.ta=void 0)}else _s(T,11)}else if((h.L||T.g==h)&&Lo(T),!V(_))for(X=T.Ba.g.parse(_),_=0;_<X.length;_++){let lt=X[_];const It=lt[0];if(!(It<=T.K))if(T.K=It,lt=lt[1],T.I==2)if(lt[0]=="c"){T.M=lt[1],T.ba=lt[2];const Si=lt[3];Si!=null&&(T.ka=Si,T.j.info("VER="+T.ka));const ws=lt[4];ws!=null&&(T.za=ws,T.j.info("SVER="+T.za));const Ki=lt[5];Ki!=null&&typeof Ki=="number"&&Ki>0&&(R=1.5*Ki,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const Yi=h.g;if(Yi){const Ga=Yi.g?Yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ga){var ie=R.h;ie.g||Ga.indexOf("spdy")==-1&&Ga.indexOf("quic")==-1&&Ga.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(rc(ie,ie.h),ie.h=null))}if(R.G){const Uo=Yi.g?Yi.g.getResponseHeader("X-HTTP-Session-Id"):null;Uo&&(R.wa=Uo,mt(R.J,R.G,Uo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var be=h;if(R.na=vh(R,R.L?R.ba:null,R.W),be.L){ac(R.h,be);var ze=be,Ft=R.O;Ft&&(ze.H=Ft),ze.D&&(hs(ze),ni(ze)),R.g=be}else fh(R);T.i.length>0&&bs(T)}else lt[0]!="stop"&&lt[0]!="close"||_s(T,7);else T.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?_s(T,7):pc(T):lt[0]!="noop"&&T.l&&T.l.qa(lt),T.A=0)}}Jn(4)}catch{}}var Wt=class{constructor(h,_){this.g=h,this.map=_}};function ic(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sc(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function fs(h){return h.h?1:h.g?h.g.size:0}function ms(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function rc(h,_){h.g?h.g.add(_):h.h=_}function ac(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}ic.prototype.cancel=function(){if(this.i=oc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function oc(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return C(h.i)}var oh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ko(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const R=h[T].indexOf("=");let X,ie=null;R>=0?(X=h[T].substring(0,R),ie=h[T].substring(R+1)):X=h[T],_(X,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function si(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof si?(this.l=h.l,dn(this,h.j),this.o=h.o,this.g=h.g,Sr(this,h.u),this.h=h.h,lc(this,hh(h.i)),this.m=h.m):h&&(_=String(h).match(oh))?(this.l=!1,dn(this,_[1]||"",!0),this.o=ps(_[2]||""),this.g=ps(_[3]||"",!0),Sr(this,_[4]),this.h=ps(_[5]||"",!0),lc(this,_[6]||"",!0),this.m=ps(_[7]||"")):(this.l=!1,this.i=new Cr(null,this.l))}si.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(La(_,Do,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(La(_,Do,!0),"@"),h.push(wi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(La(T,T.charAt(0)=="/"?cc:lh,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",La(T,ch)),h.join("")},si.prototype.resolve=function(h){const _=Xt(this);let T=!!h.j;T?dn(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var R=h.h;if(T)Sr(_,h.u);else if(T=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var X=_.h.lastIndexOf("/");X!=-1&&(R=_.h.slice(0,X+1)+R)}if(X=R,X==".."||X==".")R="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){R=X.lastIndexOf("/",0)==0,X=X.split("/");const ie=[];for(let be=0;be<X.length;){const ze=X[be++];ze=="."?R&&be==X.length&&ie.push(""):ze==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),R&&be==X.length&&ie.push("")):(ie.push(ze),R=!0)}R=ie.join("/")}else R=X}return T?_.h=R:T=h.i.toString()!=="",T?lc(_,hh(h.i)):T=!!h.m,T&&(_.m=h.m),_};function Xt(h){return new si(h)}function dn(h,_,T){h.j=T?ps(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Sr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function lc(h,_,T){_ instanceof Cr?(h.i=_,Vo(h.i,h.l)):(T||(_=La(_,Ar)),h.i=new Cr(_,h.l))}function mt(h,_,T){h.i.set(_,T)}function ja(h){return mt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ps(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function La(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,Hn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Hn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Do=/[#\/\?@]/g,lh=/[#\?:]/g,cc=/[#\?]/g,Ar=/[#\?@]/g,ch=/#/g;function Cr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Gn(h){h.g||(h.g=new Map,h.h=0,h.i&&ko(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=Cr.prototype,t.add=function(h,_){Gn(this),this.i=null,h=Rr(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function uh(h,_){Gn(h),_=Rr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function uc(h,_){return Gn(h),_=Rr(h,_),h.g.has(_)}t.forEach=function(h,_){Gn(this),this.g.forEach(function(T,R){T.forEach(function(X){h.call(_,X,R,this)},this)},this)};function hc(h,_){Gn(h);let T=[];if(typeof _=="string")uc(h,_)&&(T=T.concat(h.g.get(Rr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}t.set=function(h,_){return Gn(this),this.i=null,h=Rr(this,h),uc(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=hc(this,h),h.length>0?String(h[0]):_):_};function Mo(h,_,T){uh(h,_),T.length>0&&(h.i=null,h.g.set(Rr(h,_),C(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var T=_[R];const X=wi(T);T=hc(this,T);for(let ie=0;ie<T.length;ie++){let be=X;T[ie]!==""&&(be+="="+wi(T[ie])),h.push(be)}}return this.i=h.join("&")};function hh(h){const _=new Cr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Rr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Vo(h,_){_&&!h.j&&(Gn(h),h.i=null,h.g.forEach(function(T,R){const X=R.toLowerCase();R!=X&&(uh(this,R),Mo(this,X,T))},h)),h.j=_}function Hi(h,_){const T=new qn;if(u.Image){const R=new Image;R.onload=y(Ti,T,"TestLoadImage: loaded",!0,_,R),R.onerror=y(Ti,T,"TestLoadImage: error",!1,_,R),R.onabort=y(Ti,T,"TestLoadImage: abort",!1,_,R),R.ontimeout=y(Ti,T,"TestLoadImage: timeout",!1,_,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else _(!1)}function dc(h,_){const T=new qn,R=new AbortController,X=setTimeout(()=>{R.abort(),Ti(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:R.signal}).then(ie=>{clearTimeout(X),ie.ok?Ti(T,"TestPingServer: ok",!0,_):Ti(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(X),Ti(T,"TestPingServer: error",!1,_)})}function Ti(h,_,T,R,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),R(T)}catch{}}function Ir(){this.g=new ls}function gs(h){this.i=h.Sb||null,this.h=h.ab||!1}v(gs,cs),gs.prototype.g=function(){return new Ua(this.i,this.h)};function Ua(h,_){ht.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Ua,ht),t=Ua.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Gi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Nr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Gi(this)),this.g&&(this.readyState=3,Gi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Po(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Po(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Nr(this):Gi(this),this.readyState==3&&Po(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Nr(this))},t.Na=function(h){this.g&&(this.response=h,Nr(this))},t.ga=function(){this.g&&Nr(this)};function Nr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Gi(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function Gi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ei(h){let _="";return pe(h,function(T,R){_+=R,_+=":",_+=T,_+=`\r
`}),_}function za(h,_,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=Ei(T),typeof h=="string"?T!=null&&wi(T):mt(h,_,T))}function yt(h){ht.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(yt,ht);var ys=/^https?$/i,fc=["POST","PUT"];t=yt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oa.g(),this.g.onreadystatechange=x(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(ie){Ba(this,ie);return}if(h=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var X in R)T.set(X,R[X]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ie of R.keys())T.set(ie,R.get(ie));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(ie=>ie.toLowerCase()=="content-type"),X=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(fc,_,void 0)>=0)||R||X||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,be]of T)this.g.setRequestHeader(ie,be);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ie){Ba(this,ie)}};function Ba(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,mc(h),Fs(h)}function mc(h){h.A||(h.A=!0,et(h,"complete"),et(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,et(this,"complete"),et(this,"abort"),Fs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fs(this,!0)),yt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Fa(this):this.Xa())},t.Xa=function(){Fa(this)};function Fa(h){if(h.h&&typeof l<"u"){if(h.v&&$i(h)==4)setTimeout(h.Ca.bind(h),0);else if(et(h,"readystatechange"),$i(h)==4){h.h=!1;try{const ie=h.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var R;if(R=ie===0){let be=String(h.D).match(oh)[1]||null;!be&&u.self&&u.self.location&&(be=u.self.location.protocol.slice(0,-1)),R=!ys.test(be?be.toLowerCase():"")}T=R}if(T)et(h,"complete"),et(h,"success");else{h.o=6;try{var X=$i(h)>2?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.ca()+"]",mc(h)}}finally{Fs(h)}}}}function Fs(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||et(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function $i(h){return h.g?h.g.readyState:0}t.ca=function(){try{return $i(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Us(_)}};function vn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function qs(h){const _={};h=(h.g&&$i(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(V(h[R]))continue;var T=Er(h[R]);const X=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ie=_[X]||[];_[X]=ie,ie.push(T)}B(_,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function kr(h){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vs("baseRetryDelayMs",5e3,h),this.Za=vs("retryDelaySeedMs",1e4,h),this.Ta=vs("forwardChannelMaxRetries",2,h),this.va=vs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ic(h&&h.concurrentRequestLimit),this.Ba=new Ir,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=kr.prototype,t.ka=8,t.I=1,t.connect=function(h,_,T,R){Ot(0),this.W=h,this.H=_||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=vh(this,null,this.W),bs(this)};function pc(h){if(Oo(h),h.I==3){var _=h.V++,T=Xt(h.J);if(mt(T,"SID",h.M),mt(T,"RID",_),mt(T,"TYPE","terminate"),qa(h,T),_=new On(h,h.j,_),_.M=2,_.A=ja(Xt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.A,T=!0),T||(_.g=bh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ni(_)}yh(h)}function Dr(h){h.g&&(yc(h),h.g.cancel(),h.g=null)}function Oo(h){Dr(h),h.v&&(u.clearTimeout(h.v),h.v=null),Lo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function bs(h){if(!sc(h.h)&&!h.m){h.m=!0;var _=h.Ea;re||S(),ce||(re(),ce=!0),I.add(_,h),h.D=0}}function jo(h,_){return fs(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=bi(m(h.Ea,h,_),gh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const X=new On(this,this.j,h);let ie=this.o;if(this.U&&(ie?(ie=E(ie),ne(ie,this.U)):ie=this.U),this.u!==null||this.R||(X.J=ie,ie=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=dh(this,X,_),T=Xt(this.J),mt(T,"RID",h),mt(T,"CVER",22),this.G&&mt(T,"X-HTTP-Session-Id",this.G),qa(this,T),ie&&(this.R?_="headers="+wi(Ei(ie))+"&"+_:this.u&&za(T,this.u,ie)),rc(this.h,X),this.Ra&&mt(T,"TYPE","init"),this.S?(mt(T,"$req",_),mt(T,"SID","null"),X.U=!0,dt(X,T,null)):dt(X,T,_),this.I=2}}else this.I==3&&(h?gc(this,h):this.i.length==0||sc(this.h)||gc(this))};function gc(h,_){var T;_?T=_.l:T=h.V++;const R=Xt(h.J);mt(R,"SID",h.M),mt(R,"RID",T),mt(R,"AID",h.K),qa(h,R),h.u&&h.o&&za(R,h.u,h.o),T=new On(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=dh(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),rc(h.h,T),dt(T,R,_)}function qa(h,_){h.H&&pe(h.H,function(T,R){mt(_,R,T)}),h.l&&pe({},function(T,R){mt(_,R,T)})}function dh(h,_,T){T=Math.min(h.i.length,T);const R=h.l?m(h.l.Ka,h.l,h):null;e:{var X=h.i;let ze=-1;for(;;){const Ft=["count="+T];ze==-1?T>0?(ze=X[0].g,Ft.push("ofs="+ze)):ze=0:Ft.push("ofs="+ze);let lt=!0;for(let It=0;It<T;It++){var ie=X[It].g;const Si=X[It].map;if(ie-=ze,ie<0)ze=Math.max(0,X[It].g-100),lt=!1;else try{ie="req"+ie+"_"||"";try{var be=Si instanceof Map?Si:Object.entries(Si);for(const[ws,Ki]of be){let Yi=Ki;d(Ki)&&(Yi=An(Ki)),Ft.push(ie+ws+"="+encodeURIComponent(Yi))}}catch(ws){throw Ft.push(ie+"type="+encodeURIComponent("_badmap")),ws}}catch{R&&R(Si)}}if(lt){be=Ft.join("&");break e}}be=void 0}return h=h.i.splice(0,T),_.G=h,be}function fh(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;re||S(),ce||(re(),ce=!0),I.add(_,h),h.A=0}}function Ha(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=bi(m(h.Da,h),gh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,mh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=bi(m(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),Dr(this),mh(this))};function yc(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function mh(h){h.g=new On(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Xt(h.na);mt(_,"RID","rpc"),mt(_,"SID",h.M),mt(_,"AID",h.K),mt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&mt(_,"TO",h.ia),mt(_,"TYPE","xmlhttp"),qa(h,_),h.u&&h.o&&za(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=ja(Xt(_)),T.u=null,T.R=!0,Rt(T,h)}t.Va=function(){this.C!=null&&(this.C=null,Dr(this),Ha(this),Ot(19))};function Lo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function ph(h,_){var T=null;if(h.g==_){Lo(h),yc(h),h.g=null;var R=2}else if(ms(h.h,_))T=_.G,ac(h.h,_),R=1;else return;if(h.I!=0){if(_.o)if(R==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var X=h.D;R=yi(),et(R,new ei(R,T)),bs(h)}else fh(h);else if(X=_.m,X==3||X==0&&_.X>0||!(R==1&&jo(h,_)||R==2&&Ha(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),X){case 1:_s(h,5);break;case 4:_s(h,10);break;case 3:_s(h,6);break;default:_s(h,2)}}}function gh(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function _s(h,_){if(h.j.info("Error code "+_),_==2){var T=m(h.bb,h),R=h.Ua;const X=!R;R=new si(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||dn(R,"https"),ja(R),X?Hi(R.toString(),T):dc(R.toString(),T)}else Ot(2);h.I=0,h.l&&h.l.pa(_),yh(h),Oo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function yh(h){if(h.I=0,h.ja=[],h.l){const _=oc(h.h);(_.length!=0||h.i.length!=0)&&(M(h.ja,_),M(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function vh(h,_,T){var R=T instanceof si?Xt(T):new si(T);if(R.g!="")_&&(R.g=_+"."+R.g),Sr(R,R.u);else{var X=u.location;R=X.protocol,_=_?_+"."+X.hostname:X.hostname,X=+X.port;const ie=new si(null);R&&dn(ie,R),_&&(ie.g=_),X&&Sr(ie,X),T&&(ie.h=T),R=ie}return T=h.G,_=h.wa,T&&_&&mt(R,T,_),mt(R,"VER",h.ka),qa(h,R),R}function bh(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new yt(new gs({ab:T})):new yt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _h(){}t=_h.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Mr(){}Mr.prototype.g=function(h,_){return new jn(h,_)};function jn(h,_){ht.call(this),this.g=new kr(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!V(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!V(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Hs(this)}v(jn,ht),jn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){pc(this.g)},jn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=An(h),h=T);_.i.push(new Wt(_.Ya++,h)),_.I==3&&bs(_)},jn.prototype.N=function(){this.g.l=null,delete this.j,pc(this.g),delete this.g,jn.Z.N.call(this)};function wh(h){Dt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}v(wh,Dt);function xh(){Pn.call(this),this.status=1}v(xh,Pn);function Hs(h){this.g=h}v(Hs,_h),Hs.prototype.ra=function(){et(this.g,"a")},Hs.prototype.qa=function(h){et(this.g,new wh(h))},Hs.prototype.pa=function(h){et(this.g,new xh)},Hs.prototype.oa=function(){et(this.g,"b")},Mr.prototype.createWebChannel=Mr.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,$S=function(){return new Mr},GS=function(){return yi()},HS=Tt,fy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},us.NO_ERROR=0,us.TIMEOUT=8,us.HTTP_ERROR=6,Kd=us,Pa.COMPLETE="complete",qS=Pa,Fi.EventType=rt,rt.OPEN="a",rt.CLOSE="b",rt.ERROR="c",rt.MESSAGE="d",ht.prototype.listen=ht.prototype.J,lu=Fi,yt.prototype.listenOnce=yt.prototype.K,yt.prototype.getLastError=yt.prototype.Ha,yt.prototype.getLastErrorCode=yt.prototype.ya,yt.prototype.getStatus=yt.prototype.ca,yt.prototype.getResponseJson=yt.prototype.La,yt.prototype.getResponseText=yt.prototype.la,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Fa,FS=yt}).apply(typeof Rd<"u"?Rd:typeof self<"u"?self:typeof window<"u"?window:{});let Nn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");let $l="12.8.0";function qP(t){$l=t}const xo=new u0("@firebase/firestore");function gl(){return xo.logLevel}function xe(t,...e){if(xo.logLevel<=Xe.DEBUG){const n=e.map(T0);xo.debug(`Firestore (${$l}): ${t}`,...n)}}function vr(t,...e){if(xo.logLevel<=Xe.ERROR){const n=e.map(T0);xo.error(`Firestore (${$l}): ${t}`,...n)}}function To(t,...e){if(xo.logLevel<=Xe.WARN){const n=e.map(T0);xo.warn(`Firestore (${$l}): ${t}`,...n)}}function T0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Me(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,KS(t,s,n)}function KS(t,e,n){let s=`FIRESTORE (${$l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw vr(s),new Error(s)}function ft(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||KS(e,a,s)}function Le(t,e){return t}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class YS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Nn.UNAUTHENTICATED)))}shutdown(){}}class HP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class GP{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0,42304);let s=this.i;const a=f=>this.i!==s?(s=this.i,n(f)):Promise.resolve();let l=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new dr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new dr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ft(typeof s.accessToken=="string",31837,{l:s}),new YS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class $P{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class KP{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new $P(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Zx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0,3512);const s=l=>{l.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,xe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Zx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Zx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function QP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Wf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=QP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Ze(t,e){return t<e?-1:t>e?1:0}function my(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Ig(a)===Ig(l)?Ze(a,l):Ig(a)?1:-1}return Ze(t.length,e.length)}const WP=55296,XP=57343;function Ig(t){const e=t.charCodeAt(0);return e>=WP&&e<=XP}function Ml(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const Jx="__name__";class As{constructor(e,n,s){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Me(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return As.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof As?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=As.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ze(e.length,n.length)}static compareSegments(e,n){const s=As.isNumericId(e),a=As.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?As.extractNumericId(e).compare(As.extractNumericId(n)):my(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pa.fromString(e.substring(4,e.length-2))}}class Et extends As{construct(e,n,s){return new Et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(he.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new Et(n)}static emptyPath(){return new Et([])}}const ZP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends As{construct(e,n,s){return new pn(e,n,s)}static isValidIdentifier(e){return ZP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jx}static keyField(){return new pn([Jx])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new _e(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new _e(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new _e(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=f,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(s+=d,a++):(l(),a++)}if(l(),u)throw new _e(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Et.fromString(e))}static fromName(e){return new Ne(Et.fromString(e).popFirst(5))}static empty(){return new Ne(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Et(e.slice()))}}function WS(t,e,n){if(!n)throw new _e(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XS(t,e,n,s){if(e===!0&&s===!0)throw new _e(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eT(t){if(!Ne.isDocumentKey(t))throw new _e(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tT(t){if(Ne.isDocumentKey(t))throw new _e(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ZS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Xf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function Bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xf(t);throw new _e(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function an(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gu(t,e){if(!ZS(t))throw new _e(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new _e(he.INVALID_ARGUMENT,n);return!0}const nT=-62135596800,iT=1e6;class Ue{static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*iT);return new Ue(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nT)throw new _e(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iT}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gu(e,Ue._jsonSchema))return new Ue(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ue._jsonSchemaVersion="firestore/timestamp/1.0",Ue._jsonSchema={type:an("string",Ue._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Ue(0,0))}static max(){return new Oe(new Ue(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ru=-1;function JP(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(s===1e9?new Ue(n+1,0):new Ue(n,s));return new ba(a,Ne.empty(),e)}function e4(t){return new ba(t.readTime,t.key,Ru)}class ba{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ba(Oe.min(),Ne.empty(),Ru)}static max(){return new ba(Oe.max(),Ne.empty(),Ru)}}function t4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}const n4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Kl(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==n4)throw t;xe("LocalStore","Unexpectedly lost primary lease")}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,s)=>{n(e)}))}static reject(e){return new fe(((n,s)=>{s(e)}))}static waitFor(e){return new fe(((n,s)=>{let a=0,l=0,u=!1;e.forEach((d=>{++a,d.next((()=>{++l,u&&l===a&&n()}),(f=>s(f)))})),u=!0,l===a&&n()}))}static or(e){let n=fe.resolve(!1);for(const s of e)n=n.next((a=>a?fe.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new fe(((s,a)=>{const l=e.length,u=new Array(l);let d=0;for(let f=0;f<l;f++){const m=f;n(e[m]).next((y=>{u[m]=y,++d,d===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new fe(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function s4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yl(t){return t.name==="IndexedDbTransactionError"}class Zf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zf.ce=-1;const E0=-1;function Jf(t){return t==null}function pf(t){return t===0&&1/t==-1/0}function r4(t){return typeof t=="number"&&Number.isInteger(t)&&!pf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const JS="";function a4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sT(e)),e=o4(t.get(n),e);return sT(e)}function o4(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case JS:n+="";break;default:n+=l}}return n}function sT(t){return t+JS+""}function rT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ra(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Pt{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Id(this.root,e,this.comparator,!1)}getReverseIterator(){return new Id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Id(this.root,e,this.comparator,!0)}}class Id{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??En.RED,this.left=a??En.EMPTY,this.right=l??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new En(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return En.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class un{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aT(this.data.getIterator())}getIteratorFrom(e){return new aT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class aT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class mi{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new mi([])}unionWith(e){let n=new un(pn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ml(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class tA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new tA("Invalid base64 string: "+l):l}})(e);return new gn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const l4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _a(t){if(ft(!!t,39018),typeof t=="string"){let e=0;const n=l4.exec(t);if(ft(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wa(t){return typeof t=="string"?gn.fromBase64String(t):gn.fromUint8Array(t)}const nA="server_timestamp",iA="__type__",sA="__previous_value__",rA="__local_write_time__";function S0(t){return(t?.mapValue?.fields||{})[iA]?.stringValue===nA}function em(t){const e=t.mapValue.fields[sA];return S0(e)?em(e):e}function Iu(t){const e=_a(t.mapValue.fields[rA].timestampValue);return new Ue(e.seconds,e.nanos)}class c4{constructor(e,n,s,a,l,u,d,f,m,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=y,this.apiKey=v}}const gf="(default)";class Vl{constructor(e,n){this.projectId=e,this.database=n||gf}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===gf}isEqual(e){return e instanceof Vl&&e.projectId===this.projectId&&e.database===this.database}}function u4(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _e(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(t.options.projectId,e)}const aA="__type__",h4="__max__",Nd={mapValue:{}},oA="__vector__",yf="value";function xa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?S0(t)?4:f4(t)?9007199254740991:d4(t)?10:11:Me(28295,{value:t})}function Ms(t,e){if(t===e)return!0;const n=xa(t);if(n!==xa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Iu(t).isEqual(Iu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=_a(a.timestampValue),d=_a(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return wa(a.bytesValue).isEqual(wa(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return $t(a.geoPointValue.latitude)===$t(l.geoPointValue.latitude)&&$t(a.geoPointValue.longitude)===$t(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return $t(a.integerValue)===$t(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=$t(a.doubleValue),d=$t(l.doubleValue);return u===d?pf(u)===pf(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return Ml(t.arrayValue.values||[],e.arrayValue.values||[],Ms);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(rT(u)!==rT(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Ms(u[f],d[f])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function Nu(t,e){return(t.values||[]).find((n=>Ms(n,e)))!==void 0}function Pl(t,e){if(t===e)return 0;const n=xa(t),s=xa(e);if(n!==s)return Ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const d=$t(l.integerValue||l.doubleValue),f=$t(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return oT(t.timestampValue,e.timestampValue);case 4:return oT(Iu(t),Iu(e));case 5:return my(t.stringValue,e.stringValue);case 6:return(function(l,u){const d=wa(l),f=wa(u);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const d=l.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const y=Ze(d[m],f[m]);if(y!==0)return y}return Ze(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const d=Ze($t(l.latitude),$t(u.latitude));return d!==0?d:Ze($t(l.longitude),$t(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return lT(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const d=l.fields||{},f=u.fields||{},m=d[yf]?.arrayValue,y=f[yf]?.arrayValue,v=Ze(m?.values?.length||0,y?.values?.length||0);return v!==0?v:lT(m,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Nd.mapValue&&u===Nd.mapValue)return 0;if(l===Nd.mapValue)return 1;if(u===Nd.mapValue)return-1;const d=l.fields||{},f=Object.keys(d),m=u.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let v=0;v<f.length&&v<y.length;++v){const x=my(f[v],y[v]);if(x!==0)return x;const C=Pl(d[f[v]],m[y[v]]);if(C!==0)return C}return Ze(f.length,y.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function oT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=_a(t),s=_a(e),a=Ze(n.seconds,s.seconds);return a!==0?a:Ze(n.nanos,s.nanos)}function lT(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Pl(n[a],s[a]);if(l)return l}return Ze(n.length,s.length)}function Ol(t){return py(t)}function py(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=_a(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return wa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=py(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${py(n.fields[u])}`;return a+"}"})(t.mapValue):Me(61005,{value:t})}function Yd(t){switch(xa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=em(t);return e?16+Yd(e):16;case 5:return 2*t.stringValue.length;case 6:return wa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Yd(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Ra(s.fields,((l,u)=>{a+=l.length+Yd(u)})),a})(t.mapValue);default:throw Me(13486,{value:t})}}function cT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gy(t){return!!t&&"integerValue"in t}function A0(t){return!!t&&"arrayValue"in t}function uT(t){return!!t&&"nullValue"in t}function hT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qd(t){return!!t&&"mapValue"in t}function d4(t){return(t?.mapValue?.fields||{})[aA]?.stringValue===oA}function pu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ra(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=pu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pu(t.arrayValue.values[n]);return e}return{...t}}function f4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===h4}class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Qd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(n)}setAll(e){let n=pn.emptyPath(),s={},a=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,s,a),s={},a=[],n=d.popLast()}u?s[d.lastSegment()]=pu(u):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Qd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ms(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Qd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Ra(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Zn(pu(this.value))}}function lA(t){const e=[];return Ra(t.fields,((n,s)=>{const a=new pn([n]);if(Qd(s)){const l=lA(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new mi(e)}class kn{constructor(e,n,s,a,l,u,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new kn(e,0,Oe.min(),Oe.min(),Oe.min(),Zn.empty(),0)}static newFoundDocument(e,n,s,a){return new kn(e,1,n,Oe.min(),s,a,0)}static newNoDocument(e,n){return new kn(e,2,n,Oe.min(),Oe.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new kn(e,3,n,Oe.min(),Oe.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vf{constructor(e,n){this.position=e,this.inclusive=n}}function dT(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=Ne.comparator(Ne.fromName(u.referenceValue),n.key):s=Pl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function fT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ms(t.position[n],e.position[n]))return!1;return!0}class bf{constructor(e,n="asc"){this.field=e,this.dir=n}}function m4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class cA{}class rn extends cA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new g4(e,n,s):n==="array-contains"?new b4(e,s):n==="in"?new _4(e,s):n==="not-in"?new w4(e,s):n==="array-contains-any"?new x4(e,s):new rn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new y4(e,s):new v4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Pl(n,this.value)):n!==null&&xa(this.value)===xa(n)&&this.matchesComparison(Pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class as extends cA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new as(e,n)}matches(e){return uA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uA(t){return t.op==="and"}function hA(t){return p4(t)&&uA(t)}function p4(t){for(const e of t.filters)if(e instanceof as)return!1;return!0}function yy(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+Ol(t.value);if(hA(t))return t.filters.map((e=>yy(e))).join(",");{const e=t.filters.map((n=>yy(n))).join(",");return`${t.op}(${e})`}}function dA(t,e){return t instanceof rn?(function(s,a){return a instanceof rn&&s.op===a.op&&s.field.isEqual(a.field)&&Ms(s.value,a.value)})(t,e):t instanceof as?(function(s,a){return a instanceof as&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,d)=>l&&dA(u,a.filters[d])),!0):!1})(t,e):void Me(19439)}function fA(t){return t instanceof rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ol(n.value)}`})(t):t instanceof as?(function(n){return n.op.toString()+" {"+n.getFilters().map(fA).join(" ,")+"}"})(t):"Filter"}class g4 extends rn{constructor(e,n,s){super(e,n,s),this.key=Ne.fromName(s.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class y4 extends rn{constructor(e,n){super(e,"in",n),this.keys=mA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class v4 extends rn{constructor(e,n){super(e,"not-in",n),this.keys=mA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function mA(t,e){return(e.arrayValue?.values||[]).map((n=>Ne.fromName(n.referenceValue)))}class b4 extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return A0(n)&&Nu(n.arrayValue,this.value)}}class _4 extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nu(this.value.arrayValue,n)}}class w4 extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nu(this.value.arrayValue,n)}}class x4 extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!A0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Nu(this.value.arrayValue,s)))}}class T4{constructor(e,n=null,s=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function mT(t,e=null,n=[],s=[],a=null,l=null,u=null){return new T4(t,e,n,s,a,l,u)}function C0(t){const e=Le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>yy(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Jf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ol(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ol(s))).join(",")),e.Te=n}return e.Te}function R0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!m4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fT(t.startAt,e.startAt)&&fT(t.endAt,e.endAt)}function vy(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class $u{constructor(e,n=null,s=[],a=[],l=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function E4(t,e,n,s,a,l,u,d){return new $u(t,e,n,s,a,l,u,d)}function tm(t){return new $u(t)}function pT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function S4(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function pA(t){return t.collectionGroup!==null}function gu(t){const e=Le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new un(pn.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new bf(l,s))})),n.has(pn.keyField().canonicalString())||e.Ie.push(new bf(pn.keyField(),s))}return e.Ie}function Is(t){const e=Le(t);return e.Ee||(e.Ee=A4(e,gu(t))),e.Ee}function A4(t,e){if(t.limitType==="F")return mT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new bf(a.field,l)}));const n=t.endAt?new vf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new vf(t.startAt.position,t.startAt.inclusive):null;return mT(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function by(t,e){const n=t.filters.concat([e]);return new $u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _y(t,e,n){return new $u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nm(t,e){return R0(Is(t),Is(e))&&t.limitType===e.limitType}function gA(t){return`${C0(Is(t))}|lt:${t.limitType}`}function yl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>fA(a))).join(", ")}]`),Jf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Ol(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Ol(a))).join(",")),`Target(${s})`})(Is(t))}; limitType=${t.limitType})`}function im(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ne.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of gu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,d,f){const m=dT(u,d,f);return u.inclusive?m<=0:m<0})(s.startAt,gu(s),a)||s.endAt&&!(function(u,d,f){const m=dT(u,d,f);return u.inclusive?m>=0:m>0})(s.endAt,gu(s),a))})(t,e)}function C4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yA(t){return(e,n)=>{let s=!1;for(const a of gu(t)){const l=R4(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function R4(t,e,n){const s=t.field.isKeyField()?Ne.comparator(e.key,n.key):(function(l,u,d){const f=u.data.field(l),m=d.data.field(l);return f!==null&&m!==null?Pl(f,m):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Me(19790,{direction:t.dir})}}class Co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return eA(this.inner)}size(){return this.innerSize}}const I4=new Pt(Ne.comparator);function br(){return I4}const vA=new Pt(Ne.comparator);function cu(...t){let e=vA;for(const n of t)e=e.insert(n.key,n);return e}function bA(t){let e=vA;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function fo(){return yu()}function _A(){return yu()}function yu(){return new Co((t=>t.toString()),((t,e)=>t.isEqual(e)))}const N4=new Pt(Ne.comparator),k4=new un(Ne.comparator);function Je(...t){let e=k4;for(const n of t)e=e.add(n);return e}const D4=new un(Ze);function M4(){return D4}function I0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(e)?"-0":e}}function wA(t){return{integerValue:""+t}}function V4(t,e){return r4(e)?wA(e):I0(t,e)}class sm{constructor(){this._=void 0}}function P4(t,e,n){return t instanceof _f?(function(a,l){const u={fields:{[iA]:{stringValue:nA},[rA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&S0(l)&&(l=em(l)),l&&(u.fields[sA]=l),{mapValue:u}})(n,e):t instanceof ku?TA(t,e):t instanceof Du?EA(t,e):(function(a,l){const u=xA(a,l),d=gT(u)+gT(a.Ae);return gy(u)&&gy(a.Ae)?wA(d):I0(a.serializer,d)})(t,e)}function O4(t,e,n){return t instanceof ku?TA(t,e):t instanceof Du?EA(t,e):n}function xA(t,e){return t instanceof wf?(function(s){return gy(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class _f extends sm{}class ku extends sm{constructor(e){super(),this.elements=e}}function TA(t,e){const n=SA(e);for(const s of t.elements)n.some((a=>Ms(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Du extends sm{constructor(e){super(),this.elements=e}}function EA(t,e){let n=SA(e);for(const s of t.elements)n=n.filter((a=>!Ms(a,s)));return{arrayValue:{values:n}}}class wf extends sm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function gT(t){return $t(t.integerValue||t.doubleValue)}function SA(t){return A0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function j4(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof ku&&a instanceof ku||s instanceof Du&&a instanceof Du?Ml(s.elements,a.elements,Ms):s instanceof wf&&a instanceof wf?Ms(s.Ae,a.Ae):s instanceof _f&&a instanceof _f})(t.transform,e.transform)}class L4{constructor(e,n){this.version=e,this.transformResults=n}}class ji{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ji}static exists(e){return new ji(void 0,e)}static updateTime(e){return new ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rm{}function AA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new N0(t.key,ji.none()):new Ku(t.key,t.data,ji.none());{const n=t.data,s=Zn.empty();let a=new un(pn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Ia(t.key,s,new mi(a.toArray()),ji.none())}}function U4(t,e,n){t instanceof Ku?(function(a,l,u){const d=a.value.clone(),f=vT(a.fieldTransforms,l,u.transformResults);d.setAll(f),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Ia?(function(a,l,u){if(!Wd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=vT(a.fieldTransforms,l,u.transformResults),f=l.data;f.setAll(CA(a)),f.setAll(d),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function vu(t,e,n,s){return t instanceof Ku?(function(l,u,d,f){if(!Wd(l.precondition,u))return d;const m=l.value.clone(),y=bT(l.fieldTransforms,f,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(t,e,n,s):t instanceof Ia?(function(l,u,d,f){if(!Wd(l.precondition,u))return d;const m=bT(l.fieldTransforms,f,u),y=u.data;return y.setAll(CA(l)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,s):(function(l,u,d){return Wd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function z4(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=xA(s.transform,a||null);l!=null&&(n===null&&(n=Zn.empty()),n.set(s.field,l))}return n||null}function yT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ml(s,a,((l,u)=>j4(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ku extends rm{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ia extends rm{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function CA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function vT(t,e,n){const s=new Map;ft(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,d=e.data.field(l.field);s.set(l.field,O4(u,d,n[a]))}return s}function bT(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,P4(l,u,e))}return s}class N0 extends rm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class B4 extends rm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class F4{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&U4(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=vu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=vu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=_A();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=n.has(a.key)?null:d;const f=AA(u,d);f!==null&&s.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(Oe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Je())}isEqual(e){return this.batchId===e.batchId&&Ml(this.mutations,e.mutations,((n,s)=>yT(n,s)))&&Ml(this.baseMutations,e.baseMutations,((n,s)=>yT(n,s)))}}class k0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){ft(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return N4})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new k0(e,n,s,a)}}class q4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class H4{constructor(e,n){this.count=e,this.unchangedNames=n}}var nn,it;function G4(t){switch(t){case he.OK:return Me(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function RA(t){if(t===void 0)return vr("GRPC error has no .code"),he.UNKNOWN;switch(t){case nn.OK:return he.OK;case nn.CANCELLED:return he.CANCELLED;case nn.UNKNOWN:return he.UNKNOWN;case nn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case nn.INTERNAL:return he.INTERNAL;case nn.UNAVAILABLE:return he.UNAVAILABLE;case nn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case nn.NOT_FOUND:return he.NOT_FOUND;case nn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case nn.ABORTED:return he.ABORTED;case nn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case nn.DATA_LOSS:return he.DATA_LOSS;default:return Me(39323,{code:t})}}(it=nn||(nn={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";function $4(){return new TextEncoder}const K4=new pa([4294967295,4294967295],0);function _T(t){const e=$4().encode(t),n=new BS;return n.update(e),new Uint8Array(n.digest())}function wT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new pa([n,s],0),new pa([a,l],0)]}class D0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new uu(`Invalid padding: ${n}`);if(s<0)throw new uu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new uu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=pa.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(pa.fromNumber(s)));return a.compare(K4)===1&&(a=new pa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_T(e),[s,a]=wT(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new D0(l,a,n);return s.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const n=_T(e),[s,a]=wT(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class am{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Yu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new am(Oe.min(),a,new Pt(Ze),br(),Je())}}class Yu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Yu(s,n,Je(),Je(),Je())}}class Xd{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class IA{constructor(e,n){this.targetId=e,this.Ce=n}}class NA{constructor(e,n,s=gn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class xT{constructor(){this.ve=0,this.Fe=TT(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),s=Je();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Me(38017,{changeType:l})}})),new Yu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=TT()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Y4{constructor(e){this.Ge=e,this.ze=new Map,this.je=br(),this.He=kd(),this.Je=kd(),this.Ze=new Pt(Ze)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(vy(l))if(s===0){const u=new Ne(l.path);this.et(n,u,kn.newNoDocument(u,Oe.min()))}else ft(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,d;try{u=wa(s).toUint8Array()}catch(f){if(f instanceof tA)return To("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new D0(u,a,l)}catch(f){return To(f instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const d=this.ot(u);if(d){if(l.current&&vy(d.target)){const f=new Ne(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,kn.newNoDocument(f,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let s=Je();this.Je.forEach(((l,u)=>{let d=!0;u.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new am(e,n,this.Ze,this.je,s);return this.je=br(),this.He=kd(),this.Je=kd(),this.Ze=new Pt(Ze),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new xT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new un(Ze),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new un(Ze),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function kd(){return new Pt(Ne.comparator)}function TT(){return new Pt(Ne.comparator)}const Q4={asc:"ASCENDING",desc:"DESCENDING"},W4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X4={and:"AND",or:"OR"};class Z4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wy(t,e){return t.useProto3Json||Jf(e)?e:{value:e}}function xf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function J4(t,e){return xf(t,e.toTimestamp())}function Ns(t){return ft(!!t,49232),Oe.fromTimestamp((function(n){const s=_a(n);return new Ue(s.seconds,s.nanos)})(t))}function M0(t,e){return xy(t,e).canonicalString()}function xy(t,e){const n=(function(a){return new Et(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function DA(t){const e=Et.fromString(t);return ft(jA(e),10190,{key:e.toString()}),e}function Ty(t,e){return M0(t.databaseId,e.path)}function Ng(t,e){const n=DA(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(VA(n))}function MA(t,e){return M0(t.databaseId,e)}function eO(t){const e=DA(t);return e.length===4?Et.emptyPath():VA(e)}function Ey(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VA(t){return ft(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ET(t,e,n){return{name:Ty(t,e),fields:n.value.mapValue.fields}}function tO(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Me(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,y){return m.useProto3Json?(ft(y===void 0||typeof y=="string",58123),gn.fromBase64String(y||"")):(ft(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),gn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(m){const y=m.code===void 0?he.UNKNOWN:RA(m.code);return new _e(y,m.message||"")})(u);n=new NA(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Ng(t,s.document.name),l=Ns(s.document.updateTime),u=s.document.createTime?Ns(s.document.createTime):Oe.min(),d=new Zn({mapValue:{fields:s.document.fields}}),f=kn.newFoundDocument(a,l,u,d),m=s.targetIds||[],y=s.removedTargetIds||[];n=new Xd(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Ng(t,s.document),l=s.readTime?Ns(s.readTime):Oe.min(),u=kn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Xd([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Ng(t,s.document),l=s.removedTargetIds||[];n=new Xd([],l,a,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new H4(a,l),d=s.targetId;n=new IA(d,u)}}return n}function nO(t,e){let n;if(e instanceof Ku)n={update:ET(t,e.key,e.value)};else if(e instanceof N0)n={delete:Ty(t,e.key)};else if(e instanceof Ia)n={update:ET(t,e.key,e.data),updateMask:hO(e.fieldMask)};else{if(!(e instanceof B4))return Me(16599,{dt:e.type});n={verify:Ty(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const d=u.transform;if(d instanceof _f)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ku)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Du)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof wf)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Me(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:J4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Me(27497)})(t,e.precondition)),n}function iO(t,e){return t&&t.length>0?(ft(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?Ns(a.updateTime):Ns(l);return u.isEqual(Oe.min())&&(u=Ns(l)),new L4(u,a.transformResults||[])})(n,e)))):[]}function sO(t,e){return{documents:[MA(t,e.path)]}}function rO(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=MA(t,a);const l=(function(m){if(m.length!==0)return OA(as.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(m){if(m.length!==0)return m.map((y=>(function(x){return{field:vl(x.field),direction:lO(x.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=wy(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function aO(t){let e=eO(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ft(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const x=PA(v);return x instanceof as&&hA(x)?x.getFilters():[x]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((x=>(function(M){return new bf(bl(M.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let x;return x=typeof v=="object"?v.value:v,Jf(x)?null:x})(n.limit));let f=null;n.startAt&&(f=(function(v){const x=!!v.before,C=v.values||[];return new vf(C,x)})(n.startAt));let m=null;return n.endAt&&(m=(function(v){const x=!v.before,C=v.values||[];return new vf(C,x)})(n.endAt)),E4(e,a,u,l,d,"F",f,m)}function oO(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=bl(n.unaryFilter.field);return rn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=bl(n.unaryFilter.field);return rn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=bl(n.unaryFilter.field);return rn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=bl(n.unaryFilter.field);return rn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return rn.create(bl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return as.create(n.compositeFilter.filters.map((s=>PA(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function lO(t){return Q4[t]}function cO(t){return W4[t]}function uO(t){return X4[t]}function vl(t){return{fieldPath:t.canonicalString()}}function bl(t){return pn.fromServerFormat(t.fieldPath)}function OA(t){return t instanceof rn?(function(n){if(n.op==="=="){if(hT(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NAN"}};if(uT(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hT(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NAN"}};if(uT(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vl(n.field),op:cO(n.op),value:n.value}}})(t):t instanceof as?(function(n){const s=n.getFilters().map((a=>OA(a)));return s.length===1?s[0]:{compositeFilter:{op:uO(n.op),filters:s}}})(t):Me(54877,{filter:t})}function hO(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function jA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function LA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class ca{constructor(e,n,s,a,l=Oe.min(),u=Oe.min(),d=gn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class dO{constructor(e){this.yt=e}}function fO(t){const e=aO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_y(e,e.limit,"L"):e}class mO{constructor(){this.Sn=new pO}addToCollectionParentIndex(e,n){return this.Sn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(ba.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(ba.min())}updateCollectionGroup(e,n,s){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class pO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new un(Et.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new un(Et.comparator)).toArray()}}const ST={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UA=41943040;class Xn{static withCacheSize(e){return new Xn(e,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(UA,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);class jl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new jl(0)}static ar(){return new jl(-1)}}const AT="LruGarbageCollector",gO=1048576;function CT([t,e],[n,s]){const a=Ze(t,n);return a===0?Ze(e,s):a}class yO{constructor(e){this.Pr=e,this.buffer=new un(CT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();CT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){xe(AT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yl(n)?xe(AT,"Ignoring IndexedDB error during garbage collection: ",n):await Kl(n)}await this.Ar(3e5)}))}}class bO{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(Zf.ce);const s=new yO(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(ST)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ST):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,u,d,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(s=v,d=Date.now(),this.removeTargets(e,s,n)))).next((v=>(l=v,f=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(m=Date.now(),gl()<=Xe.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(f-d)+`ms
	Removed ${v} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function _O(t,e){return new bO(t,e)}class wO{constructor(){this.changes=new Co((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?fe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class TO{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&vu(s.mutation,a,mi.empty(),Ue.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Je()){const a=fo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=cu();return l.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=fo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Je())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,s,a){let l=br();const u=yu(),d=(function(){return yu()})();return n.forEach(((f,m)=>{const y=s.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof Ia)?l=l.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),vu(y.mutation,m,y.mutation.getFieldMask(),Ue.now())):u.set(m.key,mi.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((m,y)=>u.set(m,y))),n.forEach(((m,y)=>d.set(m,new xO(y,u.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=yu();let a=new Pt(((u,d)=>u-d)),l=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((f=>{const m=n.get(f);if(m===null)return;let y=s.get(f)||mi.empty();y=d.applyToLocalView(m,y),s.set(f,y);const v=(a.get(d.batchId)||Je()).add(f);a=a.insert(d.batchId,v)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,y=f.value,v=_A();y.forEach((x=>{if(!l.has(x)){const C=AA(n.get(x),s.get(x));C!==null&&v.set(x,C),l=l.add(x)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,v))}return fe.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return S4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):fe.resolve(fo());let d=Ru,f=l;return u.next((m=>fe.forEach(m,((y,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(y)?fe.resolve():this.remoteDocumentCache.getEntry(e,y).next((x=>{f=f.insert(y,x)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,f,m,Je()))).next((y=>({batchId:d,changes:bA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next((s=>{let a=cu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=cu();return this.indexManager.getCollectionParents(e,l).next((d=>fe.forEach(d,(f=>{const m=(function(v,x){return new $u(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,s,a).next((y=>{y.forEach(((v,x)=>{u=u.insert(v,x)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((f,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,kn.newInvalidDocument(y)))}));let d=cu();return u.forEach(((f,m)=>{const y=l.get(f);y!==void 0&&vu(y.mutation,m,mi.empty(),Ue.now()),im(n,m)&&(d=d.insert(f,m))})),d}))}}class EO{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return fe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Ns(a.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:fO(a.bundledQuery),readTime:Ns(a.readTime)}})(n)),fe.resolve()}}class SO{constructor(){this.overlays=new Pt(Ne.comparator),this.Lr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=fo();return fe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),fe.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),fe.resolve()}getOverlaysForCollection(e,n,s){const a=fo(),l=n.length+1,u=new Ne(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&f.largestBatchId>s&&a.set(f.getKey(),f)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Pt(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>s){let y=l.get(m.largestBatchId);y===null&&(y=fo(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=fo(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,y)=>d.set(m,y))),!(d.size()>=a)););return fe.resolve(d)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new q4(n,s));let l=this.Lr.get(n);l===void 0&&(l=Je(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class AO{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}class V0{constructor(){this.kr=new un(mn.Kr),this.qr=new un(mn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new mn(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new mn(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Ne(new Et([])),s=new mn(n,e),a=new mn(n,e+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ne(new Et([])),s=new mn(n,e),a=new mn(n,e+1);let l=Je();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new mn(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class mn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ne.comparator(e.key,n.key)||Ze(e.Hr,n.Hr)}static Ur(e,n){return Ze(e.Hr,n.Hr)||Ne.comparator(e.key,n.key)}}class CO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new un(mn.Kr)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new F4(l,n,s,a);this.mutationQueue.push(u);for(const d of a)this.Jr=this.Jr.add(new mn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,n){return fe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?E0:this.Yn-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new mn(n,0),a=new mn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const d=this.Zr(u.Hr);l.push(d)})),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new un(Ze);return n.forEach((a=>{const l=new mn(a,0),u=new mn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(d=>{s=s.add(d.Hr)}))})),fe.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Ne.isDocumentKey(l)||(l=l.child(""));const u=new mn(new Ne(l),0);let d=new un(Ze);return this.Jr.forEachWhile((f=>{const m=f.key.path;return!!s.isPrefixOf(m)&&(m.length===a&&(d=d.add(f.Hr)),!0)}),u),fe.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ft(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return fe.forEach(n.mutations,(a=>{const l=new mn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new mn(n,0),a=this.Jr.firstAfterOrEqual(s);return fe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class RO{constructor(e){this.ti=e,this.docs=(function(){return new Pt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return fe.resolve(s?s.document.mutableCopy():kn.newInvalidDocument(n))}getEntries(e,n){let s=br();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():kn.newInvalidDocument(a))})),fe.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=br();const u=n.path,d=new Ne(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||t4(e4(y),s)<=0||(a.has(y.key)||im(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Me(9500)}ni(e,n){return fe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new IO(this)}getSize(e){return fe.resolve(this.size)}}class IO extends wO{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),fe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class NO{constructor(e){this.persistence=e,this.ri=new Co((n=>C0(n)),R0),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.ii=0,this.si=new V0,this.targetCount=0,this.oi=jl._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),fe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new jl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.lr(n),fe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((u,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),fe.waitFor(l).next((()=>a))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return fe.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),fe.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),fe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return fe.resolve(s)}containsKey(e,n){return fe.resolve(this.si.containsKey(n))}}class zA{constructor(e,n){this._i={},this.overlays={},this.ai=new Zf(0),this.ui=!1,this.ui=!0,this.ci=new AO,this.referenceDelegate=e(this),this.li=new NO(this),this.indexManager=new mO,this.remoteDocumentCache=(function(a){return new RO(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new dO(n),this.Pi=new EO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new CO(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){xe("MemoryPersistence","Starting transaction:",e);const a=new kO(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return fe.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class kO extends i4{constructor(e){super(),this.currentSequenceNumber=e}}class P0{constructor(e){this.persistence=e,this.Ri=new V0,this.Ai=null}static Vi(e){return new P0(e)}get di(){if(this.Ai)return this.Ai;throw Me(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),fe.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.di,(s=>{const a=Ne.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Oe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Tf{constructor(e,n){this.persistence=e,this.fi=new Co((s=>a4(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=_O(this,n)}static Vi(e,n){return new Tf(e,n)}Ti(){}Ii(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return fe.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?fe.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((d=>{d||(s++,l.removeEntry(u,Oe.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),fe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yd(e.data.value)),n}wr(e,n,s){return fe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return fe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class O0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=Je(),a=Je();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new O0(e,n.fromCache,s,a)}}class DO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class MO{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return xD()?8:s4(Mn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new DO;return this.ys(e,n,u).next((d=>{if(l.result=d,this.As)return this.ws(e,n,u,d.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(gl()<=Xe.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),fe.resolve()):(gl()<=Xe.DEBUG&&xe("QueryEngine","Query:",yl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(gl()<=Xe.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Is(n))):fe.resolve())}gs(e,n){if(pT(n))return fe.resolve(null);let s=Is(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=_y(n,null,"F"),s=Is(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Je(...l);return this.fs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,s).next((f=>{const m=this.bs(n,d);return this.Ss(n,m,u,f.readTime)?this.gs(e,_y(n,null,"F")):this.Ds(e,m,n,f)}))))})))))}ps(e,n,s,a){return pT(n)||a.isEqual(Oe.min())?fe.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,s,a)?fe.resolve(null):(gl()<=Xe.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yl(n)),this.Ds(e,u,n,JP(a,Ru)).next((d=>d)))}))}bs(e,n){let s=new un(yA(e));return n.forEach(((a,l)=>{im(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return gl()<=Xe.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",yl(n)),this.fs.getDocumentsMatchingQuery(e,n,ba.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const j0="LocalStore",VO=3e8;class PO{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Pt(Ze),this.Fs=new Co((l=>C0(l)),R0),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TO(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function OO(t,e,n,s){return new PO(t,e,n,s)}async function BA(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],d=[];let f=Je();for(const m of a){u.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of l){d.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(s,f).next((m=>({Ns:m,removedBatchIds:u,addedBatchIds:d})))}))}))}function jO(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,f,m,y){const v=m.batch,x=v.keys();let C=fe.resolve();return x.forEach((M=>{C=C.next((()=>y.getEntry(f,M))).next((O=>{const N=m.docVersions.get(M);ft(N!==null,48541),O.version.compareTo(N)<0&&(v.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),y.addEntry(O)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(f,v)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let f=Je();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function FA(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function LO(t,e){const n=Le(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];e.targetChanges.forEach(((y,v)=>{const x=a.get(v);if(!x)return;d.push(n.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,v))));let C=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?C=C.withResumeToken(gn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(v,C),(function(O,N,q){return O.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=VO?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(x,C,y)&&d.push(n.li.updateTargetData(l,C))}));let f=br(),m=Je();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(UO(l,u,e.documentUpdates).next((y=>{f=y.Bs,m=y.Ls}))),!s.isEqual(Oe.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((v=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return fe.waitFor(d).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,m))).next((()=>f))})).then((l=>(n.vs=a,l)))}function UO(t,e,n){let s=Je(),a=Je();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=br();return n.forEach(((d,f)=>{const m=l.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Oe.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):xe(j0,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{Bs:u,Ls:a}}))}function zO(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=E0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function BO(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,fe.resolve(a)):n.li.allocateTargetId(s).next((u=>(a=new ca(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Sy(t,e,n){const s=Le(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Yl(u))throw u;xe(j0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function RT(t,e,n){const s=Le(t);let a=Oe.min(),l=Je();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,y){const v=Le(f),x=v.Fs.get(y);return x!==void 0?fe.resolve(v.vs.get(x)):v.li.getTargetData(m,y)})(s,u,Is(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,d.targetId).next((f=>{l=f}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,n?a:Oe.min(),n?l:Je()))).next((d=>(FO(s,C4(e),d),{documents:d,ks:l})))))}function FO(t,e,n){let s=t.Ms.get(e)||Oe.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class IT{constructor(){this.activeTargetIds=M4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qO{constructor(){this.vo=new IT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new IT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class HO{Mo(e){}shutdown(){}}const NT="ConnectivityMonitor";class kT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){xe(NT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){xe(NT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dd=null;function Ay(){return Dd===null?Dd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dd++,"0x"+Dd.toString(16)}const kg="RestConnection",GO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class $O{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===gf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const u=Ay(),d=this.Qo(e,n.toUriEncodedString());xe(kg,`Sending RPC '${e}' ${u}:`,d,s);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,a,l);const{host:m}=new URL(d),y=So(m);return this.zo(e,d,f,s,y).then((v=>(xe(kg,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw To(kg,`RPC '${e}' ${u} failed with error: `,v,"url: ",d,"request:",s),v}))}jo(e,n,s,a,l,u){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$l})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=GO[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class KO{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const In="WebChannelConnection",iu=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Il extends $O{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Il.c_){const e=GS();iu(e,HS.STAT_EVENT,(n=>{n.stat===fy.PROXY?xe(In,"STAT_EVENT: detected buffering proxy"):n.stat===fy.NOPROXY&&xe(In,"STAT_EVENT: detected no buffering proxy")})),Il.c_=!0}}zo(e,n,s,a,l){const u=Ay();return new Promise(((d,f)=>{const m=new FS;m.setWithCredentials(!0),m.listenOnce(qS.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Kd.NO_ERROR:const v=m.getResponseJson();xe(In,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),d(v);break;case Kd.TIMEOUT:xe(In,`RPC '${e}' ${u} timed out`),f(new _e(he.DEADLINE_EXCEEDED,"Request time out"));break;case Kd.HTTP_ERROR:const x=m.getStatus();if(xe(In,`RPC '${e}' ${u} failed with status:`,x,"response text:",m.getResponseText()),x>0){let C=m.getResponseJson();Array.isArray(C)&&(C=C[0]);const M=C?.error;if(M&&M.status&&M.message){const O=(function(q){const W=q.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(W)>=0?W:he.UNKNOWN})(M.status);f(new _e(O,M.message))}else f(new _e(he.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new _e(he.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{xe(In,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);xe(In,`RPC '${e}' ${u} sending request:`,a),m.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=Ay(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const m=l.join("");xe(In,`Creating RPC '${e}' stream ${a}: ${m}`,d);const y=u.createWebChannel(m,d);this.I_(y);let v=!1,x=!1;const C=new KO({Ho:M=>{x?xe(In,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(v||(xe(In,`Opening RPC '${e}' stream ${a} transport.`),y.open(),v=!0),xe(In,`RPC '${e}' stream ${a} sending:`,M),y.send(M))},Jo:()=>y.close()});return iu(y,lu.EventType.OPEN,(()=>{x||(xe(In,`RPC '${e}' stream ${a} transport opened.`),C.i_())})),iu(y,lu.EventType.CLOSE,(()=>{x||(x=!0,xe(In,`RPC '${e}' stream ${a} transport closed`),C.o_(),this.E_(y))})),iu(y,lu.EventType.ERROR,(M=>{x||(x=!0,To(In,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),C.o_(new _e(he.UNAVAILABLE,"The operation could not be completed")))})),iu(y,lu.EventType.MESSAGE,(M=>{if(!x){const O=M.data[0];ft(!!O,16349);const N=O,q=N?.error||N[0]?.error;if(q){xe(In,`RPC '${e}' stream ${a} received error:`,q);const W=q.status;let K=(function(ce){const I=nn[ce];if(I!==void 0)return RA(I)})(W),G=q.message;K===void 0&&(K=he.INTERNAL,G="Unknown error status: "+W+" with message "+q.message),x=!0,C.o_(new _e(K,G)),y.close()}else xe(In,`RPC '${e}' stream ${a} received:`,O),C.__(O)}})),Il.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return $S()}}function YO(t){return new Il(t)}function Dg(){return typeof document<"u"?document:null}function om(t){return new Z4(t,!0)}Il.c_=!1;class qA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&xe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const DT="PersistentStream";class HA{constructor(e,n,s,a,l,u,d,f){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new _e(he.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return xe(DT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(xe(DT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QO extends HA{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=tO(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Oe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?Ns(u.readTime):Oe.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Ey(this.serializer),n.addTarget=(function(l,u){let d;const f=u.target;if(d=vy(f)?{documents:sO(l,f)}:{query:rO(l,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=kA(l,u.resumeToken);const m=wy(l,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Oe.min())>0){d.readTime=xf(l,u.snapshotVersion.toTimestamp());const m=wy(l,u.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const s=oO(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Ey(this.serializer),n.removeTarget=e,this.K_(n)}}class WO extends HA{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iO(e.writeResults,e.commitTime),s=Ns(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Ey(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>nO(this.serializer,s)))};this.K_(n)}}class XO{}class ZO extends XO{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new _e(he.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,xy(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(he.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.jo(e,xy(n,s),a,u,d,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(he.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function JO(t,e,n,s){return new ZO(t,e,n,s)}class e5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vr(n),this.aa=!1):xe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Eo="RemoteStore";class t5{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{Ro(this)&&(xe(Eo,"Restarting streams for network reachability change."),await(async function(f){const m=Le(f);m.Ea.add(4),await Qu(m),m.Va.set("Unknown"),m.Ea.delete(4),await lm(m)})(this))}))})),this.Va=new e5(s,a)}}async function lm(t){if(Ro(t))for(const e of t.Ra)await e(!0)}async function Qu(t){for(const e of t.Ra)await e(!1)}function GA(t,e){const n=Le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),B0(n)?z0(n):Ql(n).O_()&&U0(n,e))}function L0(t,e){const n=Le(t),s=Ql(n);n.Ia.delete(e),s.O_()&&$A(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ro(n)&&n.Va.set("Unknown"))}function U0(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ql(t).Z_(e)}function $A(t,e){t.da.$e(e),Ql(t).X_(e)}function z0(t){t.da=new Y4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ql(t).start(),t.Va.ua()}function B0(t){return Ro(t)&&!Ql(t).x_()&&t.Ia.size>0}function Ro(t){return Le(t).Ea.size===0}function KA(t){t.da=void 0}async function n5(t){t.Va.set("Online")}async function i5(t){t.Ia.forEach(((e,n)=>{U0(t,e)}))}async function s5(t,e){KA(t),B0(t)?(t.Va.ha(e),z0(t)):t.Va.set("Unknown")}async function r5(t,e,n){if(t.Va.set("Online"),e instanceof NA&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.da.removeTarget(d))})(t,e)}catch(s){xe(Eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ef(t,s)}else if(e instanceof Xd?t.da.Xe(e):e instanceof IA?t.da.st(e):t.da.tt(e),!n.isEqual(Oe.min()))try{const s=await FA(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const d=l.da.Tt(u);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=l.Ia.get(m);y&&l.Ia.set(m,y.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,m)=>{const y=l.Ia.get(f);if(!y)return;l.Ia.set(f,y.withResumeToken(gn.EMPTY_BYTE_STRING,y.snapshotVersion)),$A(l,f);const v=new ca(y.target,f,m,y.sequenceNumber);U0(l,v)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){xe(Eo,"Failed to raise snapshot:",s),await Ef(t,s)}}async function Ef(t,e,n){if(!Yl(e))throw e;t.Ea.add(1),await Qu(t),t.Va.set("Offline"),n||(n=()=>FA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{xe(Eo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await lm(t)}))}function YA(t,e){return e().catch((n=>Ef(t,n,e)))}async function cm(t){const e=Le(t),n=Ta(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:E0;for(;a5(e);)try{const a=await zO(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,o5(e,a)}catch(a){await Ef(e,a)}QA(e)&&WA(e)}function a5(t){return Ro(t)&&t.Ta.length<10}function o5(t,e){t.Ta.push(e);const n=Ta(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function QA(t){return Ro(t)&&!Ta(t).x_()&&t.Ta.length>0}function WA(t){Ta(t).start()}async function l5(t){Ta(t).ra()}async function c5(t){const e=Ta(t);for(const n of t.Ta)e.ea(n.mutations)}async function u5(t,e,n){const s=t.Ta.shift(),a=k0.from(s,e,n);await YA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await cm(t)}async function h5(t,e){e&&Ta(t).Y_&&await(async function(s,a){if((function(u){return G4(u)&&u!==he.ABORTED})(a.code)){const l=s.Ta.shift();Ta(s).B_(),await YA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await cm(s)}})(t,e),QA(t)&&WA(t)}async function MT(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),xe(Eo,"RemoteStore received new credentials");const s=Ro(n);n.Ea.add(3),await Qu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await lm(n)}async function d5(t,e){const n=Le(t);e?(n.Ea.delete(2),await lm(n)):e||(n.Ea.add(2),await Qu(n),n.Va.set("Unknown"))}function Ql(t){return t.ma||(t.ma=(function(n,s,a){const l=Le(n);return l.sa(),new QO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:n5.bind(null,t),Yo:i5.bind(null,t),t_:s5.bind(null,t),J_:r5.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),B0(t)?z0(t):t.Va.set("Unknown")):(await t.ma.stop(),KA(t))}))),t.ma}function Ta(t){return t.fa||(t.fa=(function(n,s,a){const l=Le(n);return l.sa(),new WO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:l5.bind(null,t),t_:h5.bind(null,t),ta:c5.bind(null,t),na:u5.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await cm(t)):(await t.fa.stop(),t.Ta.length>0&&(xe(Eo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class F0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,d=new F0(e,n,u,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q0(t,e){if(vr("AsyncQueue",`${e}: ${t}`),Yl(t))return new _e(he.UNAVAILABLE,`${e}: ${t}`);throw t}class Nl{static emptySet(e){return new Nl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ne.comparator(n.key,s.key):(n,s)=>Ne.comparator(n.key,s.key),this.keyedMap=cu(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Nl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class VT{constructor(){this.ga=new Pt(Ne.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ll{constructor(e,n,s,a,l,u,d,f,m){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new Ll(e,n,Nl.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class f5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class m5{constructor(){this.queries=PT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Le(n),l=a.queries;a.queries=PT(),l.forEach(((u,d)=>{for(const f of d.ba)f.onError(s)}))})(this,new _e(he.ABORTED,"Firestore shutting down"))}}function PT(){return new Co((t=>gA(t)),nm)}async function H0(t,e){const n=Le(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new f5,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const d=q0(u,`Initialization of query '${yl(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&$0(n)}async function G0(t,e){const n=Le(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function p5(t,e){const n=Le(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const d of u.ba)d.Fa(a)&&(s=!0);u.wa=a}}s&&$0(n)}function g5(t,e,n){const s=Le(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function $0(t){t.Ca.forEach((e=>{e.next()}))}var Cy,OT;(OT=Cy||(Cy={})).Ma="default",OT.Cache="cache";class K0{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Ll(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cy.Cache}}class XA{constructor(e){this.key=e}}class ZA{constructor(e){this.key=e}}class y5{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Je(),this.mutatedKeys=Je(),this.eu=yA(e),this.tu=new Nl(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new VT,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const x=a.get(y),C=im(this.query,v)?v:null,M=!!x&&this.mutatedKeys.has(x.key),O=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let N=!1;x&&C?x.data.isEqual(C.data)?M!==O&&(s.track({type:3,doc:C}),N=!0):this.su(x,C)||(s.track({type:2,doc:C}),N=!0,(f&&this.eu(C,f)>0||m&&this.eu(C,m)<0)&&(d=!0)):!x&&C?(s.track({type:0,doc:C}),N=!0):x&&!C&&(s.track({type:1,doc:x}),N=!0,(f||m)&&(d=!0)),N&&(C?(u=u.add(C),l=O?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Ss:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(C,M){const O=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:N})}};return O(C)-O(M)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],f=this.Ya.size===0&&this.current&&!a?1:0,m=f!==this.Xa;return this.Xa=f,u.length!==0||m?{snapshot:new Ll(this.query,e.tu,l,u,e.mutatedKeys,f===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new VT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new ZA(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new XA(s))})),n}cu(e){this.Za=e.ks,this.Ya=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Y0="SyncEngine";class v5{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class b5{constructor(e){this.key=e,this.hu=!1}}class _5{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Co((d=>gA(d)),nm),this.Iu=new Map,this.Eu=new Set,this.Ru=new Pt(Ne.comparator),this.Au=new Map,this.Vu=new V0,this.du={},this.mu=new Map,this.fu=jl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function w5(t,e,n=!0){const s=sC(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await JA(s,e,n,!0),a}async function x5(t,e){const n=sC(t);await JA(n,e,!0,!1)}async function JA(t,e,n,s){const a=await BO(t.localStore,Is(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await T5(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&GA(t.remoteStore,a),d}async function T5(t,e,n,s,a){t.pu=(v,x,C)=>(async function(O,N,q,W){let K=N.view.ru(q);K.Ss&&(K=await RT(O.localStore,N.query,!1).then((({documents:I})=>N.view.ru(I,K))));const G=W&&W.targetChanges.get(N.targetId),re=W&&W.targetMismatches.get(N.targetId)!=null,ce=N.view.applyChanges(K,O.isPrimaryClient,G,re);return LT(O,N.targetId,ce.au),ce.snapshot})(t,v,x,C);const l=await RT(t.localStore,e,!0),u=new y5(e,l.ks),d=u.ru(l.documents),f=Yu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),m=u.applyChanges(d,t.isPrimaryClient,f);LT(t,n,m.au);const y=new v5(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function E5(t,e,n){const s=Le(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!nm(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Sy(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&L0(s.remoteStore,a.targetId),Ry(s,a.targetId)})).catch(Kl)):(Ry(s,a.targetId),await Sy(s.localStore,a.targetId,!0))}async function S5(t,e){const n=Le(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),L0(n.remoteStore,s.targetId))}async function A5(t,e,n){const s=M5(t);try{const a=await(function(u,d){const f=Le(u),m=Ue.now(),y=d.reduce(((C,M)=>C.add(M.key)),Je());let v,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let M=br(),O=Je();return f.xs.getEntries(C,y).next((N=>{M=N,M.forEach(((q,W)=>{W.isValidDocument()||(O=O.add(q))}))})).next((()=>f.localDocuments.getOverlayedDocuments(C,M))).next((N=>{v=N;const q=[];for(const W of d){const K=z4(W,v.get(W.key).overlayedDocument);K!=null&&q.push(new Ia(W.key,K,lA(K.value.mapValue),ji.exists(!0)))}return f.mutationQueue.addMutationBatch(C,m,q,d)})).next((N=>{x=N;const q=N.applyToLocalDocumentSet(v,O);return f.documentOverlayCache.saveOverlays(C,N.batchId,q)}))})).then((()=>({batchId:x.batchId,changes:bA(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,d,f){let m=u.du[u.currentUser.toKey()];m||(m=new Pt(Ze)),m=m.insert(d,f),u.du[u.currentUser.toKey()]=m})(s,a.batchId,n),await Wu(s,a.changes),await cm(s.remoteStore)}catch(a){const l=q0(a,"Failed to persist write");n.reject(l)}}async function eC(t,e){const n=Le(t);try{const s=await LO(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?ft(u.hu,14607):a.removedDocuments.size>0&&(ft(u.hu,42227),u.hu=!1))})),await Wu(n,s,e)}catch(s){await Kl(s)}}function jT(t,e,n){const s=Le(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const f=Le(u);f.onlineState=d;let m=!1;f.queries.forEach(((y,v)=>{for(const x of v.ba)x.va(d)&&(m=!0)})),m&&$0(f)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function C5(t,e,n){const s=Le(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new Pt(Ne.comparator);u=u.insert(l,kn.newNoDocument(l,Oe.min()));const d=Je().add(l),f=new am(Oe.min(),new Map,new Pt(Ze),u,d);await eC(s,f),s.Ru=s.Ru.remove(l),s.Au.delete(e),Q0(s)}else await Sy(s.localStore,e,!1).then((()=>Ry(s,e,n))).catch(Kl)}async function R5(t,e){const n=Le(t),s=e.batch.batchId;try{const a=await jO(n.localStore,e);nC(n,s,null),tC(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Wu(n,a)}catch(a){await Kl(a)}}async function I5(t,e,n){const s=Le(t);try{const a=await(function(u,d){const f=Le(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return f.mutationQueue.lookupMutationBatch(m,d).next((v=>(ft(v!==null,37113),y=v.keys(),f.mutationQueue.removeMutationBatch(m,v)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>f.localDocuments.getDocuments(m,y)))}))})(s.localStore,e);nC(s,e,n),tC(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Wu(s,a)}catch(a){await Kl(a)}}function tC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function nC(t,e,n){const s=Le(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function Ry(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||iC(t,s)}))}function iC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(L0(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Q0(t))}function LT(t,e,n){for(const s of n)s instanceof XA?(t.Vu.addReference(s.key,e),N5(t,s)):s instanceof ZA?(xe(Y0,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||iC(t,s.key)):Me(19791,{wu:s})}function N5(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(xe(Y0,"New document in limbo: "+n),t.Eu.add(s),Q0(t))}function Q0(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ne(Et.fromString(e)),s=t.fu.next();t.Au.set(s,new b5(n)),t.Ru=t.Ru.insert(n,s),GA(t.remoteStore,new ca(Is(tm(n.path)),s,"TargetPurposeLimboResolution",Zf.ce))}}async function Wu(t,e,n){const s=Le(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,f)=>{u.push(s.pu(f,e,n).then((m=>{if((m||n)&&s.isPrimaryClient){const y=m?!m.fromCache:n?.targetChanges.get(f.targetId)?.current;s.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(m){a.push(m);const y=O0.Es(f.targetId,m);l.push(y)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(f,m){const y=Le(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>fe.forEach(m,(x=>fe.forEach(x.Ts,(C=>y.persistence.referenceDelegate.addReference(v,x.targetId,C))).next((()=>fe.forEach(x.Is,(C=>y.persistence.referenceDelegate.removeReference(v,x.targetId,C)))))))))}catch(v){if(!Yl(v))throw v;xe(j0,"Failed to update sequence numbers: "+v)}for(const v of m){const x=v.targetId;if(!v.fromCache){const C=y.vs.get(x),M=C.snapshotVersion,O=C.withLastLimboFreeSnapshotVersion(M);y.vs=y.vs.insert(x,O)}}})(s.localStore,l))}async function k5(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){xe(Y0,"User change. New user:",e.toKey());const s=await BA(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((d=>{d.forEach((f=>{f.reject(new _e(he.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Wu(n,s.Ns)}}function D5(t,e){const n=Le(t),s=n.Au.get(e);if(s&&s.hu)return Je().add(s.key);{let a=Je();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const d=n.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function sC(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C5.bind(null,e),e.Pu.J_=p5.bind(null,e.eventManager),e.Pu.yu=g5.bind(null,e.eventManager),e}function M5(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I5.bind(null,e),e}class Sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=om(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return OO(this.persistence,new MO,e.initialUser,this.serializer)}Cu(e){return new zA(P0.Vi,this.serializer)}Du(e){return new qO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sf.provider={build:()=>new Sf};class V5 extends Sf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ft(this.persistence.referenceDelegate instanceof Tf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new vO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new zA((s=>Tf.Vi(s,n)),this.serializer)}}class Iy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>jT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=k5.bind(null,this.syncEngine),await d5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new m5})()}createDatastore(e){const n=om(e.databaseInfo.databaseId),s=YO(e.databaseInfo);return JO(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,d){return new t5(s,a,l,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>jT(this.syncEngine,n,0)),(function(){return kT.v()?new kT:new HO})())}createSyncEngine(e,n){return(function(a,l,u,d,f,m,y){const v=new _5(a,l,u,d,f,m);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Le(n);xe(Eo,"RemoteStore shutting down."),s.Ea.add(5),await Qu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Iy.provider={build:()=>new Iy};class W0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ea="FirestoreClient";class P5{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=Nn.UNAUTHENTICATED,this.clientId=Wf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{xe(Ea,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(xe(Ea,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=q0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Mg(t,e){t.asyncQueue.verifyOperationInProgress(),xe(Ea,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await BA(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function UT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await O5(t);xe(Ea,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>MT(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>MT(e.remoteStore,a))),t._onlineComponents=e}async function O5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe(Ea,"Using user provided OfflineComponentProvider");try{await Mg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===he.FAILED_PRECONDITION||a.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Mg(t,new Sf)}}else xe(Ea,"Using default OfflineComponentProvider"),await Mg(t,new V5(void 0));return t._offlineComponents}async function rC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe(Ea,"Using user provided OnlineComponentProvider"),await UT(t,t._uninitializedComponentsProvider._online)):(xe(Ea,"Using default OnlineComponentProvider"),await UT(t,new Iy))),t._onlineComponents}function j5(t){return rC(t).then((e=>e.syncEngine))}async function Af(t){const e=await rC(t),n=e.eventManager;return n.onListen=w5.bind(null,e.syncEngine),n.onUnlisten=E5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=x5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=S5.bind(null,e.syncEngine),n}function L5(t,e,n,s){const a=new W0(s),l=new K0(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>H0(await Af(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>G0(await Af(t),l)))}}function U5(t,e,n={}){const s=new dr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,f,m){const y=new W0({next:x=>{y.Nu(),u.enqueueAndForget((()=>G0(l,v)));const C=x.docs.has(d);!C&&x.fromCache?m.reject(new _e(he.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&x.fromCache&&f&&f.source==="server"?m.reject(new _e(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),v=new K0(tm(d.path),y,{includeMetadataChanges:!0,Ka:!0});return H0(l,v)})(await Af(t),t.asyncQueue,e,n,s))),s.promise}function z5(t,e,n={}){const s=new dr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,f,m){const y=new W0({next:x=>{y.Nu(),u.enqueueAndForget((()=>G0(l,v))),x.fromCache&&f.source==="server"?m.reject(new _e(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),v=new K0(d,y,{includeMetadataChanges:!0,Ka:!0});return H0(l,v)})(await Af(t),t.asyncQueue,e,n,s))),s.promise}function B5(t,e){const n=new dr;return t.asyncQueue.enqueueAndForget((async()=>A5(await j5(t),e,n))),n.promise}function aC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const F5="ComponentProvider",zT=new Map;function q5(t,e,n,s,a){return new c4(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,aC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const oC="firestore.googleapis.com",BT=!0;class FT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oC,this.ssl=BT}else this.host=e.host,this.ssl=e.ssl??BT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gO)throw new _e(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aC(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class um{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new QS;switch(s.type){case"firstParty":return new KP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=zT.get(n);s&&(xe(F5,"Removing Datastore"),zT.delete(n),s.terminate())})(this),Promise.resolve()}}function lC(t,e,n,s={}){t=Bn(t,um);const a=So(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(l0(`https://${d}`),c0("Firestore",!0)),l.host!==oC&&l.host!==d&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:d,ssl:a,emulatorOptions:s};if(!bo(f,u)&&(t._setSettings(f),s.mockUserToken)){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=Nn.MOCK_USER;else{m=rS(s.mockUserToken,t._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new _e(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Nn(v)}t._authCredentials=new HP(new YS(m,y))}}class Na{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Na(this.firestore,e,this._query)}}class Vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Gu(n,Vt._jsonSchema))return new Vt(e,s||null,new Ne(Et.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:an("string",Vt._jsonSchemaVersion),referencePath:an("string")};class fr extends Na{constructor(e,n,s){super(e,n,tm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new Ne(e))}withConverter(e){return new fr(this.firestore,e,this._path)}}function ts(t,e,...n){if(t=hn(t),WS("collection","path",e),t instanceof um){const s=Et.fromString(e,...n);return tT(s),new fr(t,null,s)}{if(!(t instanceof Vt||t instanceof fr))throw new _e(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Et.fromString(e,...n));return tT(s),new fr(t.firestore,null,s)}}function Li(t,e,...n){if(t=hn(t),arguments.length===1&&(e=Wf.newId()),WS("doc","path",e),t instanceof um){const s=Et.fromString(e,...n);return eT(s),new Vt(t,null,new Ne(s))}{if(!(t instanceof Vt||t instanceof fr))throw new _e(he.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Et.fromString(e,...n));return eT(s),new Vt(t.firestore,t instanceof fr?t.converter:null,new Ne(s))}}const qT="AsyncQueue";class HT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qA(this,"async_queue_retry"),this._c=()=>{const s=Dg();s&&xe(qT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Dg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Yl(e))throw e;xe(qT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,vr("INTERNAL UNHANDLED ERROR: ",GT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=F0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Me(47125,{Pc:GT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function GT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Vs extends um{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new HT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HT(e),this._firestoreClient=void 0,await e}}}function cC(t,e){const n=typeof t=="object"?t:d0(),s=typeof t=="string"?t:gf,a=$f(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=nS("firestore");l&&lC(a,...l)}return a}function Xu(t){if(t._terminated)throw new _e(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||H5(t),t._firestoreClient}function H5(t){const e=t._freezeSettings(),n=q5(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new P5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fi(gn.fromBase64String(e))}catch(n){throw new _e(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fi(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gu(e,fi._jsonSchema))return fi.fromBase64String(e.bytes)}}fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:an("string",fi._jsonSchemaVersion),bytes:an("string")};class hm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dm{constructor(e){this._methodName=e}}class rs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rs._jsonSchemaVersion}}static fromJSON(e){if(Gu(e,rs._jsonSchema))return new rs(e.latitude,e.longitude)}}rs._jsonSchemaVersion="firestore/geoPoint/1.0",rs._jsonSchema={type:an("string",rs._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};class Ui{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gu(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ui(e.vectorValues);throw new _e(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:an("string",Ui._jsonSchemaVersion),vectorValues:an("object")};const G5=/^__.*__$/;class $5{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ia(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ku(e,this.data,n,this.fieldTransforms)}}class uC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ia(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{dataSource:t})}}class X0{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new X0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Cf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(hC(this.dataSource)&&G5.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class K5{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||om(e)}createContext(e,n,s,a=!1){return new X0({dataSource:e,methodName:n,targetDoc:s,path:pn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fm(t){const e=t._freezeSettings(),n=om(t._databaseId);return new K5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dC(t,e,n,s,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);Z0("Data must be an object, but it was:",u,s);const d=fC(s,u);let f,m;if(l.merge)f=new mi(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const x=Ul(e,v,n);if(!u.contains(x))throw new _e(he.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);gC(y,x)||y.push(x)}f=new mi(y),m=u.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,m=u.fieldTransforms;return new $5(new Zn(d),f,m)}class Zu extends dm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zu}}function Y5(t,e,n,s){const a=t.createContext(1,e,n);Z0("Data must be an object, but it was:",a,s);const l=[],u=Zn.empty();Ra(s,((f,m)=>{const y=pC(e,f,n);m=hn(m);const v=a.childContextForFieldPath(y);if(m instanceof Zu)l.push(y);else{const x=Ju(m,v);x!=null&&(l.push(y),u.set(y,x))}}));const d=new mi(l);return new uC(u,d,a.fieldTransforms)}function Q5(t,e,n,s,a,l){const u=t.createContext(1,e,n),d=[Ul(e,s,n)],f=[a];if(l.length%2!=0)throw new _e(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)d.push(Ul(e,l[x])),f.push(l[x+1]);const m=[],y=Zn.empty();for(let x=d.length-1;x>=0;--x)if(!gC(m,d[x])){const C=d[x];let M=f[x];M=hn(M);const O=u.childContextForFieldPath(C);if(M instanceof Zu)m.push(C);else{const N=Ju(M,O);N!=null&&(m.push(C),y.set(C,N))}}const v=new mi(m);return new uC(y,v,u.fieldTransforms)}function W5(t,e,n,s=!1){return Ju(n,t.createContext(s?4:3,e))}function Ju(t,e){if(mC(t=hn(t)))return Z0("Unsupported field value:",e,t),fC(t,e);if(t instanceof dm)return(function(s,a){if(!hC(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const d of s){let f=Ju(d,a.childContextForArray(u));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=hn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return V4(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ue.fromDate(s);return{timestampValue:xf(a.serializer,l)}}if(s instanceof Ue){const l=new Ue(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:xf(a.serializer,l)}}if(s instanceof rs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof fi)return{bytesValue:kA(a.serializer,s._byteString)};if(s instanceof Vt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:M0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Ui)return(function(u,d){const f=u instanceof Ui?u.toArray():u;return{mapValue:{fields:{[aA]:{stringValue:oA},[yf]:{arrayValue:{values:f.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return I0(d.serializer,y)}))}}}}}})(s,a);if(LA(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Xf(s)}`)})(t,e)}function fC(t,e){const n={};return eA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(t,((s,a)=>{const l=Ju(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function mC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof rs||t instanceof fi||t instanceof Vt||t instanceof dm||t instanceof Ui||LA(t))}function Z0(t,e,n){if(!mC(n)||!ZS(n)){const s=Xf(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function Ul(t,e,n){if((e=hn(e))instanceof hm)return e._internalPath;if(typeof e=="string")return pC(t,e);throw Cf("Field path arguments must be of type string or ",t,!1,void 0,n)}const X5=new RegExp("[~\\*/\\[\\]]");function pC(t,e,n){if(e.search(X5)>=0)throw Cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hm(...e.split("."))._internalPath}catch{throw Cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cf(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(l||u)&&(f+=" (found",l&&(f+=` in field ${s}`),u&&(f+=` in document ${a}`),f+=")"),new _e(he.INVALID_ARGUMENT,d+t+f)}function gC(t,e){return t.some((n=>n.isEqual(e)))}class yC{convertValue(e,n="none"){switch(xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ra(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[yf].arrayValue?.values?.map((s=>$t(s.doubleValue)));return new Ui(n)}convertGeoPoint(e){return new rs($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=em(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Iu(e));default:return null}}convertTimestamp(e){const n=_a(e);return new Ue(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Et.fromString(e);ft(jA(s),9688,{name:e});const a=new Vl(s.get(1),s.get(3)),l=new Ne(s.popFirst(5));return a.isEqual(n)||vr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class J0 extends yC{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function Rf(){return new Zu("deleteField")}const $T="@firebase/firestore",KT="4.10.0";function YT(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class vC{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Ul("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Z5 extends vC{data(){return super.data()}}function bC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ev{}class _C extends ev{}function ua(t,e,...n){let s=[];e instanceof ev&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((f=>f instanceof mm)).length,d=l.filter((f=>f instanceof eh)).length;if(u>1||u>0&&d>0)throw new _e(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class eh extends _C{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new eh(e,n,s)}_apply(e){const n=this._parse(e);return wC(e._query,n),new Na(e.firestore,e.converter,by(e._query,n))}_parse(e){const n=fm(e.firestore);return(function(l,u,d,f,m,y,v){let x;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new _e(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){WT(v,y);const M=[];for(const O of v)M.push(QT(f,l,O));x={arrayValue:{values:M}}}else x=QT(f,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||WT(v,y),x=W5(d,u,v,y==="in"||y==="not-in");return rn.create(m,y,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ha(t,e,n){const s=e,a=Ul("where",t);return eh._create(a,s,n)}class mm extends ev{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mm(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:as.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const d=l.getFlattenedFilters();for(const f of d)wC(u,f),u=by(u,f)})(e._query,n),new Na(e.firestore,e.converter,by(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function QT(t,e,n){if(typeof(n=hn(n))=="string"){if(n==="")throw new _e(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pA(e)&&n.indexOf("/")!==-1)throw new _e(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Et.fromString(n));if(!Ne.isDocumentKey(s))throw new _e(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return cT(t,new Ne(s))}if(n instanceof Vt)return cT(t,n._key);throw new _e(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xf(n)}.`)}function WT(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wC(t,e){const n=(function(a,l){for(const u of a)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function xC(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class _l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ga extends vC{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ul("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ga._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",ga._jsonSchema={type:an("string",ga._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class bu extends ga{data(e={}){return super.data(e)}}class ya{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new _l(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new bu(this._firestore,this._userDataWriter,s.key,s,new _l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const f=new bu(a._firestore,a._userDataWriter,d.doc.key,d.doc,new _l(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const f=new bu(a._firestore,a._userDataWriter,d.doc.key,d.doc,new _l(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:J5(d.type),doc:f,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ya._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function J5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}ya._jsonSchemaVersion="firestore/querySnapshot/1.0",ya._jsonSchema={type:an("string",ya._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};function Wl(t){t=Bn(t,Vt);const e=Bn(t.firestore,Vs),n=Xu(e);return U5(n,t._key).then((s=>SC(e,t,s)))}function ur(t){t=Bn(t,Na);const e=Bn(t.firestore,Vs),n=Xu(e),s=new J0(e);return bC(t._query),z5(n,t._query).then((a=>new ya(e,s,t,a)))}function If(t,e,n){t=Bn(t,Vt);const s=Bn(t.firestore,Vs),a=xC(t.converter,e,n),l=fm(s);return th(s,[dC(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ji.none())])}function di(t,e,n,...s){t=Bn(t,Vt);const a=Bn(t.firestore,Vs),l=fm(a);let u;return u=typeof(e=hn(e))=="string"||e instanceof hm?Q5(l,"updateDoc",t._key,e,n,s):Y5(l,"updateDoc",t._key,e),th(a,[u.toMutation(t._key,ji.exists(!0))])}function TC(t){return th(Bn(t.firestore,Vs),[new N0(t._key,ji.none())])}function tv(t,e){const n=Bn(t.firestore,Vs),s=Li(t),a=xC(t.converter,e),l=fm(t.firestore);return th(n,[dC(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,ji.exists(!1))]).then((()=>s))}function EC(t,...e){t=hn(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||YT(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(YT(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let l,u,d;if(t instanceof Vt)u=Bn(t.firestore,Vs),d=tm(t._key.path),l={next:m=>{e[s]&&e[s](SC(u,t,m))},error:e[s+1],complete:e[s+2]};else{const m=Bn(t,Na);u=Bn(m.firestore,Vs),d=m._query;const y=new J0(u);l={next:v=>{e[s]&&e[s](new ya(u,y,m,v))},error:e[s+1],complete:e[s+2]},bC(t._query)}const f=Xu(u);return L5(f,d,a,l)}function th(t,e){const n=Xu(t);return B5(n,e)}function SC(t,e,n){const s=n.docs.get(e._key),a=new J0(t);return new ga(t,a,e._key,s,new _l(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){qP(Ao),_o(new va("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),d=new Vs(new GP(s.getProvider("auth-internal")),new YP(u,s.getProvider("app-check-internal")),u4(u,a),u);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Cs($T,KT,e),Cs($T,KT,"esm2020")})();const e3=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:yC,Bytes:fi,CollectionReference:fr,DocumentReference:Vt,DocumentSnapshot:ga,FieldPath:hm,FieldValue:dm,Firestore:Vs,FirestoreError:_e,GeoPoint:rs,Query:Na,QueryCompositeFilterConstraint:mm,QueryConstraint:_C,QueryDocumentSnapshot:bu,QueryFieldFilterConstraint:eh,QuerySnapshot:ya,SnapshotMetadata:_l,Timestamp:Ue,VectorValue:Ui,_AutoId:Wf,_ByteString:gn,_DatabaseId:Vl,_DocumentKey:Ne,_EmptyAuthCredentialsProvider:QS,_FieldPath:pn,_cast:Bn,_logWarn:To,_validateIsNotUsedTogether:XS,addDoc:tv,collection:ts,connectFirestoreEmulator:lC,deleteDoc:TC,deleteField:Rf,doc:Li,ensureFirestoreConfigured:Xu,executeWrite:th,getDoc:Wl,getDocs:ur,getFirestore:cC,onSnapshot:EC,query:ua,setDoc:If,updateDoc:di,where:ha},Symbol.toStringTag,{value:"Module"}));const AC="firebasestorage.googleapis.com",t3="storageBucket",n3=120*1e3,i3=600*1e3;class Ls extends js{constructor(e,n,s=0){super(Vg(e),`Firebase Storage: ${n} (${Vg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ls.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ps;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ps||(Ps={}));function Vg(t){return"storage/"+t}function s3(){const t="An unknown error occurred, please check the error payload for server response.";return new Ls(Ps.UNKNOWN,t)}function r3(){return new Ls(Ps.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function a3(){return new Ls(Ps.CANCELED,"User canceled the upload/download.")}function o3(t){return new Ls(Ps.INVALID_URL,"Invalid URL '"+t+"'.")}function l3(t){return new Ls(Ps.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function XT(t){return new Ls(Ps.INVALID_ARGUMENT,t)}function CC(){return new Ls(Ps.APP_DELETED,"The Firebase app was deleted.")}function c3(t){return new Ls(Ps.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class is{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=is.makeFromUrl(e,n)}catch{return new is(e,"")}if(s.path==="")return s;throw l3(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+a+u,"i"),f={bucket:1,path:3};function m(G){G.path_=decodeURIComponent(G.path)}const y="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",C=new RegExp(`^https?://${v}/${y}/b/${a}/o${x}`,"i"),M={bucket:1,path:3},O=n===AC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",q=new RegExp(`^https?://${O}/${a}/${N}`,"i"),K=[{regex:d,indices:f,postModify:l},{regex:C,indices:M,postModify:m},{regex:q,indices:{bucket:1,path:2},postModify:m}];for(let G=0;G<K.length;G++){const re=K[G],ce=re.regex.exec(e);if(ce){const I=ce[re.indices.bucket];let S=ce[re.indices.path];S||(S=""),s=new is(I,S),re.postModify(s);break}}if(s==null)throw o3(e);return s}}class u3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function h3(t,e,n){let s=1,a=null,l=null,u=!1,d=0;function f(){return d===2}let m=!1;function y(...N){m||(m=!0,e.apply(null,N))}function v(N){a=setTimeout(()=>{a=null,t(C,f())},N)}function x(){l&&clearTimeout(l)}function C(N,...q){if(m){x();return}if(N){x(),y.call(null,N,...q);return}if(f()||u){x(),y.call(null,N,...q);return}s<64&&(s*=2);let K;d===1?(d=2,K=0):K=(s+Math.random())*1e3,v(K)}let M=!1;function O(N){M||(M=!0,x(),!m&&(a!==null?(N||(d=2),clearTimeout(a),v(0)):N||(d=1)))}return v(0),l=setTimeout(()=>{u=!0,O(!0)},n),O}function d3(t){t(!1)}function f3(t){return t!==void 0}function ZT(t,e,n,s){if(s<e)throw XT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw XT(`Invalid value for '${t}'. Expected ${n} or less.`)}function m3(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Nf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Nf||(Nf={}));function p3(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class g3{constructor(e,n,s,a,l,u,d,f,m,y,v,x=!0,C=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=v,this.retry=x,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,O)=>{this.resolve_=M,this.reject_=O,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Md(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const d=l.getErrorCode()===Nf.NO_ERROR,f=l.getStatus();if(!d||p3(f,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Nf.ABORT;s(!1,new Md(!1,null,y));return}const m=this.successCodes_.indexOf(f)!==-1;s(!0,new Md(m,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());f3(f)?l(f):l()}catch(f){u(f)}else if(d!==null){const f=s3();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(a.canceled){const f=this.appDelete_?CC():a3();u(f)}else{const f=r3();u(f)}};this.canceled_?n(!1,new Md(!1,null,!0)):this.backoffId_=h3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&d3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Md{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function y3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function v3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function b3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function w3(t,e,n,s,a,l,u=!0,d=!1){const f=m3(t.urlParams),m=t.url+f,y=Object.assign({},t.headers);return b3(y,e),y3(y,n),v3(y,l),_3(y,s),new g3(m,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,d)}function x3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function T3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class kf{constructor(e,n){this._service=e,n instanceof is?this._location=n:this._location=is.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new kf(e,n)}get root(){const e=new is(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return T3(this._location.path)}get storage(){return this._service}get parent(){const e=x3(this._location.path);if(e===null)return null;const n=new is(this._location.bucket,e);return new kf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw c3(e)}}function JT(t,e){const n=e?.[t3];return n==null?null:is.makeFromBucketSpec(n,t)}function E3(t,e,n,s={}){t.host=`${e}:${n}`;const a=So(e);a&&(l0(`https://${t.host}/b`),c0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:rS(l,t.app.options.projectId))}class S3{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=AC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=n3,this._maxUploadRetryTime=i3,this._requests=new Set,a!=null?this._bucket=is.makeFromBucketSpec(a,this._host):this._bucket=JT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=is.makeFromBucketSpec(this._url,e):this._bucket=JT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ZT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ZT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kf(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new u3(CC());{const u=w3(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const e1="@firebase/storage",t1="0.14.0";const RC="storage";function A3(t=d0(),e){t=hn(t);const s=$f(t,RC).getImmediate({identifier:e}),a=nS("storage");return a&&C3(s,...a),s}function C3(t,e,n,s={}){E3(t,e,n,s)}function R3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new S3(n,s,a,e,Ao)}function I3(){_o(new va(RC,R3,"PUBLIC").setMultipleInstances(!0)),Cs(e1,t1,""),Cs(e1,t1,"esm2020")}I3();const N3={apiKey:"AIzaSyC7IaK8e0JimVT2DeKQovTDLPyufibEu_4",authDomain:"sunsar-bingo.firebaseapp.com",projectId:"sunsar-bingo",storageBucket:"sunsar-bingo.firebasestorage.app",messagingSenderId:"256131852935",appId:"1:256131852935:web:fe514c1e6758e5af252622"},pm=lS(N3),Zd=BP(pm),IC=new or,Kt=cC(pm);A3(pm);const k3=Object.freeze(Object.defineProperty({__proto__:null,app:pm,auth:Zd,db:Kt,googleProvider:IC},Symbol.toStringTag,{value:"Module"})),NC=D.createContext(void 0),D3=({children:t})=>{const[e,n]=D.useState(null),[s,a]=D.useState(!0),[l,u]=D.useState(null);D.useEffect(()=>{const m=IV(Zd,async y=>{if(y){const v={uid:y.uid,email:y.email,displayName:y.displayName,photoURL:y.photoURL};n(v),u(null);try{const{doc:x,setDoc:C,Timestamp:M}=await sy(async()=>{const{doc:N,setDoc:q,Timestamp:W}=await Promise.resolve().then(()=>e3);return{doc:N,setDoc:q,Timestamp:W}},[]),{db:O}=await sy(async()=>{const{db:N}=await Promise.resolve().then(()=>k3);return{db:N}},void 0);await C(x(O,"users",y.uid),{...v,lastSeen:M.now()},{merge:!0})}catch(x){console.error("Error syncing user profile:",x)}}else n(null);a(!1)});return()=>m()},[]);const d=async()=>{u(null);try{await WV(Zd,IC)}catch(m){u(m.message||"Failed to sign in")}},f=async()=>{await NV(Zd)};return b.jsx(NC.Provider,{value:{user:e,loading:s,signIn:d,logout:f,error:l},children:t})},Io=()=>{const t=D.useContext(NC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},nv=D.createContext({});function iv(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const kC=typeof window<"u",DC=kC?D.useLayoutEffect:D.useEffect,gm=D.createContext(null);function sv(t,e){t.indexOf(e)===-1&&t.push(e)}function rv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Os=(t,e,n)=>n>e?e:n<t?t:n;let av=()=>{};const _r={},MC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function VC(t){return typeof t=="object"&&t!==null}const PC=t=>/^0[^.\s]+$/u.test(t);function ov(t){let e;return()=>(e===void 0&&(e=t()),e)}const zi=t=>t,M3=(t,e)=>n=>e(t(n)),nh=(...t)=>t.reduce(M3),Mu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class lv{constructor(){this.subscriptions=[]}add(e){return sv(this.subscriptions,e),()=>rv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mr=t=>t*1e3,Oi=t=>t/1e3;function OC(t,e){return e?t*(1e3/e):0}const jC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,V3=1e-7,P3=12;function O3(t,e,n,s,a){let l,u,d=0;do u=e+(n-e)/2,l=jC(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>V3&&++d<P3);return u}function ih(t,e,n,s){if(t===e&&n===s)return zi;const a=l=>O3(l,0,1,t,n);return l=>l===0||l===1?l:jC(a(l),e,s)}const LC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,UC=t=>e=>1-t(1-e),zC=ih(.33,1.53,.69,.99),cv=UC(zC),BC=LC(cv),FC=t=>(t*=2)<1?.5*cv(t):.5*(2-Math.pow(2,-10*(t-1))),uv=t=>1-Math.sin(Math.acos(t)),qC=UC(uv),HC=LC(uv),j3=ih(.42,0,1,1),L3=ih(0,0,.58,1),GC=ih(.42,0,.58,1),U3=t=>Array.isArray(t)&&typeof t[0]!="number",$C=t=>Array.isArray(t)&&typeof t[0]=="number",z3={linear:zi,easeIn:j3,easeInOut:GC,easeOut:L3,circIn:uv,circInOut:HC,circOut:qC,backIn:cv,backInOut:BC,backOut:zC,anticipate:FC},B3=t=>typeof t=="string",n1=t=>{if($C(t)){av(t.length===4);const[e,n,s,a]=t;return ih(e,n,s,a)}else if(B3(t))return z3[t];return t},Vd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function F3(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(y){u.has(y)&&(m.schedule(y),t()),y(d)}const m={schedule:(y,v=!1,x=!1)=>{const M=x&&a?n:s;return v&&u.add(y),M.has(y)||M.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,m.process(y))}};return m}const q3=40;function KC(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Vd.reduce((K,G)=>(K[G]=F3(l),K),{}),{setup:d,read:f,resolveKeyframes:m,preUpdate:y,update:v,preRender:x,render:C,postRender:M}=u,O=()=>{const K=_r.useManualTiming?a.timestamp:performance.now();n=!1,_r.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(K-a.timestamp,q3),1)),a.timestamp=K,a.isProcessing=!0,d.process(a),f.process(a),m.process(a),y.process(a),v.process(a),x.process(a),C.process(a),M.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(O))},N=()=>{n=!0,s=!0,a.isProcessing||t(O)};return{schedule:Vd.reduce((K,G)=>{const re=u[G];return K[G]=(ce,I=!1,S=!1)=>(n||N(),re.schedule(ce,I,S)),K},{}),cancel:K=>{for(let G=0;G<Vd.length;G++)u[Vd[G]].cancel(K)},state:a,steps:u}}const{schedule:Ct,cancel:Sa,state:Tn,steps:Pg}=KC(typeof requestAnimationFrame<"u"?requestAnimationFrame:zi,!0);let Jd;function H3(){Jd=void 0}const Un={now:()=>(Jd===void 0&&Un.set(Tn.isProcessing||_r.useManualTiming?Tn.timestamp:performance.now()),Jd),set:t=>{Jd=t,queueMicrotask(H3)}},YC=t=>e=>typeof e=="string"&&e.startsWith(t),QC=YC("--"),G3=YC("var(--"),hv=t=>G3(t)?$3.test(t.split("/*")[0].trim()):!1,$3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function i1(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Xl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Vu={...Xl,transform:t=>Os(0,1,t)},Pd={...Xl,default:1},_u=t=>Math.round(t*1e5)/1e5,dv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function K3(t){return t==null}const Y3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fv=(t,e)=>n=>!!(typeof n=="string"&&Y3.test(n)&&n.startsWith(t)||e&&!K3(n)&&Object.prototype.hasOwnProperty.call(n,e)),WC=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,d]=s.match(dv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},Q3=t=>Os(0,255,t),Og={...Xl,transform:t=>Math.round(Q3(t))},mo={test:fv("rgb","red"),parse:WC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Og.transform(t)+", "+Og.transform(e)+", "+Og.transform(n)+", "+_u(Vu.transform(s))+")"};function W3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Ny={test:fv("#"),parse:W3,transform:mo.transform},sh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ra=sh("deg"),ks=sh("%"),Te=sh("px"),X3=sh("vh"),Z3=sh("vw"),s1={...ks,parse:t=>ks.parse(t)/100,transform:t=>ks.transform(t*100)},wl={test:fv("hsl","hue"),parse:WC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ks.transform(_u(e))+", "+ks.transform(_u(n))+", "+_u(Vu.transform(s))+")"},sn={test:t=>mo.test(t)||Ny.test(t)||wl.test(t),parse:t=>mo.test(t)?mo.parse(t):wl.test(t)?wl.parse(t):Ny.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?mo.transform(t):wl.transform(t),getAnimatableNone:t=>{const e=sn.parse(t);return e.alpha=0,sn.transform(e)}},J3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ej(t){return isNaN(t)&&typeof t=="string"&&(t.match(dv)?.length||0)+(t.match(J3)?.length||0)>0}const XC="number",ZC="color",tj="var",nj="var(",r1="${}",ij=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(ij,f=>(sn.test(f)?(s.color.push(l),a.push(ZC),n.push(sn.parse(f))):f.startsWith(nj)?(s.var.push(l),a.push(tj),n.push(f)):(s.number.push(l),a.push(XC),n.push(parseFloat(f))),++l,r1)).split(r1);return{values:n,split:d,indexes:s,types:a}}function JC(t){return Pu(t).values}function e2(t){const{split:e,types:n}=Pu(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const d=n[u];d===XC?l+=_u(a[u]):d===ZC?l+=sn.transform(a[u]):l+=a[u]}return l}}const sj=t=>typeof t=="number"?0:sn.test(t)?sn.getAnimatableNone(t):t;function rj(t){const e=JC(t);return e2(t)(e.map(sj))}const Aa={test:ej,parse:JC,createTransformer:e2,getAnimatableNone:rj};function jg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function aj({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;a=jg(f,d,t+1/3),l=jg(f,d,t),u=jg(f,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function Df(t,e){return n=>n>0?e:t}const Mt=(t,e,n)=>t+(e-t)*n,Lg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},oj=[Ny,mo,wl],lj=t=>oj.find(e=>e.test(t));function a1(t){const e=lj(t);if(!e)return!1;let n=e.parse(t);return e===wl&&(n=aj(n)),n}const o1=(t,e)=>{const n=a1(t),s=a1(e);if(!n||!s)return Df(t,e);const a={...n};return l=>(a.red=Lg(n.red,s.red,l),a.green=Lg(n.green,s.green,l),a.blue=Lg(n.blue,s.blue,l),a.alpha=Mt(n.alpha,s.alpha,l),mo.transform(a))},ky=new Set(["none","hidden"]);function cj(t,e){return ky.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function uj(t,e){return n=>Mt(t,e,n)}function mv(t){return typeof t=="number"?uj:typeof t=="string"?hv(t)?Df:sn.test(t)?o1:fj:Array.isArray(t)?t2:typeof t=="object"?sn.test(t)?o1:hj:Df}function t2(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>mv(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function hj(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=mv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function dj(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],d=t.values[u]??0;n[a]=d,s[l]++}return n}const fj=(t,e)=>{const n=Aa.createTransformer(e),s=Pu(t),a=Pu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?ky.has(t)&&!a.values.length||ky.has(e)&&!s.values.length?cj(t,e):nh(t2(dj(s,a),a.values),n):Df(t,e)};function n2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Mt(t,e,n):mv(t)(t,e)}const mj=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ct.update(e,n),stop:()=>Sa(e),now:()=>Tn.isProcessing?Tn.timestamp:Un.now()}},i2=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Mf=2e4;function pv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Mf;)e+=n,s=t.next(e);return e>=Mf?1/0:e}function pj(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(pv(s),Mf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Oi(a)}}const gj=5;function s2(t,e,n){const s=Math.max(e-gj,0);return OC(n-t(s),e-s)}const Ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ug=.001;function yj({duration:t=Ut.duration,bounce:e=Ut.bounce,velocity:n=Ut.velocity,mass:s=Ut.mass}){let a,l,u=1-e;u=Os(Ut.minDamping,Ut.maxDamping,u),t=Os(Ut.minDuration,Ut.maxDuration,Oi(t)),u<1?(a=m=>{const y=m*u,v=y*t,x=y-n,C=Dy(m,u),M=Math.exp(-v);return Ug-x/C*M},l=m=>{const v=m*u*t,x=v*n+n,C=Math.pow(u,2)*Math.pow(m,2)*t,M=Math.exp(-v),O=Dy(Math.pow(m,2),u);return(-a(m)+Ug>0?-1:1)*((x-C)*M)/O}):(a=m=>{const y=Math.exp(-m*t),v=(m-n)*t+1;return-Ug+y*v},l=m=>{const y=Math.exp(-m*t),v=(n-m)*(t*t);return y*v});const d=5/t,f=bj(a,l,d);if(t=mr(t),isNaN(f))return{stiffness:Ut.stiffness,damping:Ut.damping,duration:t};{const m=Math.pow(f,2)*s;return{stiffness:m,damping:u*2*Math.sqrt(s*m),duration:t}}}const vj=12;function bj(t,e,n){let s=n;for(let a=1;a<vj;a++)s=s-t(s)/e(s);return s}function Dy(t,e){return t*Math.sqrt(1-e*e)}const _j=["duration","bounce"],wj=["stiffness","damping","mass"];function l1(t,e){return e.some(n=>t[n]!==void 0)}function xj(t){let e={velocity:Ut.velocity,stiffness:Ut.stiffness,damping:Ut.damping,mass:Ut.mass,isResolvedFromDuration:!1,...t};if(!l1(t,wj)&&l1(t,_j))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Os(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ut.mass,stiffness:a,damping:l}}else{const n=yj(t);e={...e,...n,mass:Ut.mass},e.isResolvedFromDuration=!0}return e}function Vf(t=Ut.visualDuration,e=Ut.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:m,mass:y,duration:v,velocity:x,isResolvedFromDuration:C}=xj({...n,velocity:-Oi(n.velocity||0)}),M=x||0,O=m/(2*Math.sqrt(f*y)),N=u-l,q=Oi(Math.sqrt(f/y)),W=Math.abs(N)<5;s||(s=W?Ut.restSpeed.granular:Ut.restSpeed.default),a||(a=W?Ut.restDelta.granular:Ut.restDelta.default);let K;if(O<1){const re=Dy(q,O);K=ce=>{const I=Math.exp(-O*q*ce);return u-I*((M+O*q*N)/re*Math.sin(re*ce)+N*Math.cos(re*ce))}}else if(O===1)K=re=>u-Math.exp(-q*re)*(N+(M+q*N)*re);else{const re=q*Math.sqrt(O*O-1);K=ce=>{const I=Math.exp(-O*q*ce),S=Math.min(re*ce,300);return u-I*((M+O*q*N)*Math.sinh(S)+re*N*Math.cosh(S))/re}}const G={calculatedDuration:C&&v||null,next:re=>{const ce=K(re);if(C)d.done=re>=v;else{let I=re===0?M:0;O<1&&(I=re===0?mr(M):s2(K,re,ce));const S=Math.abs(I)<=s,k=Math.abs(u-ce)<=a;d.done=S&&k}return d.value=d.done?u:ce,d},toString:()=>{const re=Math.min(pv(G),Mf),ce=i2(I=>G.next(re*I).value,re,30);return re+"ms "+ce},toTransition:()=>{}};return G}Vf.applyToOptions=t=>{const e=pj(t,100,Vf);return t.ease=e.ease,t.duration=mr(e.duration),t.type="keyframes",t};function My({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:f,restDelta:m=.5,restSpeed:y}){const v=t[0],x={done:!1,value:v},C=S=>d!==void 0&&S<d||f!==void 0&&S>f,M=S=>d===void 0?f:f===void 0||Math.abs(d-S)<Math.abs(f-S)?d:f;let O=n*e;const N=v+O,q=u===void 0?N:u(N);q!==N&&(O=q-v);const W=S=>-O*Math.exp(-S/s),K=S=>q+W(S),G=S=>{const k=W(S),j=K(S);x.done=Math.abs(k)<=m,x.value=x.done?q:j};let re,ce;const I=S=>{C(x.value)&&(re=S,ce=Vf({keyframes:[x.value,M(x.value)],velocity:s2(K,S,x.value),damping:a,stiffness:l,restDelta:m,restSpeed:y}))};return I(0),{calculatedDuration:null,next:S=>{let k=!1;return!ce&&re===void 0&&(k=!0,G(S),I(S)),re!==void 0&&S>=re?ce.next(S-re):(!k&&G(S),x)}}}function Tj(t,e,n){const s=[],a=n||_r.mix||n2,l=t.length-1;for(let u=0;u<l;u++){let d=a(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||zi:e;d=nh(f,d)}s.push(d)}return s}function Ej(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(av(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=Tj(e,s,a),f=d.length,m=y=>{if(u&&y<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const x=Mu(t[v],t[v+1],y);return d[v](x)};return n?y=>m(Os(t[0],t[l-1],y)):m}function Sj(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Mu(0,e,s);t.push(Mt(n,1,a))}}function Aj(t){const e=[0];return Sj(e,t.length-1),e}function Cj(t,e){return t.map(n=>n*e)}function Rj(t,e){return t.map(()=>e||GC).splice(0,t.length-1)}function wu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=U3(s)?s.map(n1):n1(s),l={done:!1,value:e[0]},u=Cj(n&&n.length===e.length?n:Aj(e),t),d=Ej(u,e,{ease:Array.isArray(a)?a:Rj(e,a)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const Ij=t=>t!==null;function gv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(Ij),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const Nj={decay:My,inertia:My,tween:wu,keyframes:wu,spring:Vf};function r2(t){typeof t.type=="string"&&(t.type=Nj[t.type])}class yv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const kj=t=>t/100;class vv extends yv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Un.now()&&this.tick(Un.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;r2(e);const{type:n=wu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const f=n||wu;f!==wu&&typeof d[0]!="number"&&(this.mixKeyframes=nh(kj,n2(d[0],d[1])),d=[0,100]);const m=f({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=pv(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:y,repeat:v,repeatType:x,repeatDelay:C,type:M,onUpdate:O,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const q=this.currentTime-m*(this.playbackSpeed>=0?1:-1),W=this.playbackSpeed>=0?q<0:q>a;this.currentTime=Math.max(q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let K=this.currentTime,G=s;if(v){const S=Math.min(this.currentTime,a)/d;let k=Math.floor(S),j=S%1;!j&&S>=1&&(j=1),j===1&&k--,k=Math.min(k,v+1),k%2&&(x==="reverse"?(j=1-j,C&&(j-=C/d)):x==="mirror"&&(G=u)),K=Os(0,1,j)*d}const re=W?{done:!1,value:y[0]}:G.next(K);l&&(re.value=l(re.value));let{done:ce}=re;!W&&f!==null&&(ce=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ce);return I&&M!==My&&(re.value=gv(y,this.options,N,this.speed)),O&&O(re.value),I&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return Oi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Oi(e)}get time(){return Oi(this.currentTime)}set time(e){e=mr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Un.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Oi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=mj,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Un.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Dj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const po=t=>t*180/Math.PI,Vy=t=>{const e=po(Math.atan2(t[1],t[0]));return Py(e)},Mj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Vy,rotateZ:Vy,skewX:t=>po(Math.atan(t[1])),skewY:t=>po(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Py=t=>(t=t%360,t<0&&(t+=360),t),c1=Vy,u1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),h1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Vj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:u1,scaleY:h1,scale:t=>(u1(t)+h1(t))/2,rotateX:t=>Py(po(Math.atan2(t[6],t[5]))),rotateY:t=>Py(po(Math.atan2(-t[2],t[0]))),rotateZ:c1,rotate:c1,skewX:t=>po(Math.atan(t[4])),skewY:t=>po(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Oy(t){return t.includes("scale")?1:0}function jy(t,e){if(!t||t==="none")return Oy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=Vj,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Mj,a=d}if(!a)return Oy(e);const l=s[e],u=a[1].split(",").map(Oj);return typeof l=="function"?l(u):u[l]}const Pj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return jy(n,e)};function Oj(t){return parseFloat(t.trim())}const Zl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jl=new Set(Zl),d1=t=>t===Xl||t===Te,jj=new Set(["x","y","z"]),Lj=Zl.filter(t=>!jj.has(t));function Uj(t){const e=[];return Lj.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const da={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>jy(e,"x"),y:(t,{transform:e})=>jy(e,"y")};da.translateX=da.x;da.translateY=da.y;const yo=new Set;let Ly=!1,Uy=!1,zy=!1;function a2(){if(Uy){const t=Array.from(yo).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=Uj(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Uy=!1,Ly=!1,yo.forEach(t=>t.complete(zy)),yo.clear()}function o2(){yo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Uy=!0)})}function zj(){zy=!0,o2(),a2(),zy=!1}class bv{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(yo.add(this),Ly||(Ly=!0,Ct.read(o2),Ct.resolveKeyframes(a2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}Dj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),yo.delete(this)}cancel(){this.state==="scheduled"&&(yo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Bj=t=>t.startsWith("--");function Fj(t,e,n){Bj(e)?t.style.setProperty(e,n):t.style[e]=n}const qj=ov(()=>window.ScrollTimeline!==void 0),Hj={};function Gj(t,e){const n=ov(t);return()=>Hj[e]??n()}const l2=Gj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,f1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hu([0,.65,.55,1]),circOut:hu([.55,0,1,.45]),backIn:hu([.31,.01,.66,-.59]),backOut:hu([.33,1.53,.69,.99])};function c2(t,e){if(t)return typeof t=="function"?l2()?i2(t,e):"ease-out":$C(t)?hu(t):Array.isArray(t)?t.map(n=>c2(n,e)||f1.easeOut):f1[t]}function $j(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:f}={},m=void 0){const y={[e]:n};f&&(y.offset=f);const v=c2(d,a);Array.isArray(v)&&(y.easing=v);const x={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),t.animate(y,x)}function u2(t){return typeof t=="function"&&"applyToOptions"in t}function Kj({type:t,...e}){return u2(t)&&l2()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Yj extends yv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,av(typeof e.type!="string");const m=Kj(e);this.animation=$j(n,s,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=gv(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):Fj(n,s,y),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Oi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Oi(e)}get time(){return Oi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=mr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&qj()?(this.animation.timeline=e,zi):n(this)}}const h2={anticipate:FC,backInOut:BC,circInOut:HC};function Qj(t){return t in h2}function Wj(t){typeof t.ease=="string"&&Qj(t.ease)&&(t.ease=h2[t.ease])}const zg=10;class Xj extends Yj{constructor(e){Wj(e),r2(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new vv({...u,autoplay:!1}),f=Math.max(zg,Un.now()-this.startTime),m=Os(0,zg,f-zg);n.setWithVelocity(d.sample(Math.max(0,f-m)).value,d.sample(f).value,m),d.stop()}}const m1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Aa.test(t)||t==="0")&&!t.startsWith("url("));function Zj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Jj(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=m1(a,e),d=m1(l,e);return!u||!d?!1:Zj(t)||(n==="spring"||u2(n))&&s}function By(t){t.duration=0,t.type="keyframes"}const eL=new Set(["opacity","clipPath","filter","transform"]),tL=ov(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function nL(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=e.owner.getProps();return tL()&&n&&eL.has(n)&&(n!=="transform"||!m)&&!f&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const iL=40;class sL extends yv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:f,motionValue:m,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Un.now();const x={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:f,motionValue:m,element:y,...v},C=y?.KeyframeResolver||bv;this.keyframeResolver=new C(d,(M,O,N)=>this.onKeyframesResolved(M,O,x,!N),f,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:f,isHandoff:m,onUpdate:y}=s;this.resolvedAt=Un.now(),Jj(e,l,u,d)||((_r.instantAnimations||!f)&&y?.(gv(e,s,n)),e[0]=e[e.length-1],By(s),s.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>iL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},C=!m&&nL(x)?new Xj({...x,element:x.motionValue.owner.current}):new vv(x);C.finished.then(()=>this.notifyFinished()).catch(zi),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),zj()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const rL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function aL(t){const e=rL.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function d2(t,e,n=1){const[s,a]=aL(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return MC(u)?parseFloat(u):u}return hv(a)?d2(a,e,n+1):a}function _v(t,e){return t?.[e]??t?.default??t}const oL={type:"spring",stiffness:500,damping:25,restSpeed:10},lL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),cL={type:"keyframes",duration:.8},uL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hL=(t,{keyframes:e})=>e.length>2?cL:Jl.has(t)?t.startsWith("scale")?lL(e[1]):oL:uL;function dL({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:f,elapsed:m,...y}){return!!Object.keys(y).length}const fL=t=>t!==null;function mL(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(fL),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function f2(t,e,n,s=0,a=1){const l=Array.from(t).sort((m,y)=>m.sortNodePosition(y)).indexOf(e),u=t.size,d=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:d-l*s}const wv=(t,e,n,s={},a,l)=>u=>{const d=_v(s,t)||{},f=d.delay||s.delay||0;let{elapsed:m=0}=s;m=m-mr(f);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};dL(d)||Object.assign(y,hL(t,y)),y.duration&&(y.duration=mr(y.duration)),y.repeatDelay&&(y.repeatDelay=mr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(By(y),y.delay===0&&(v=!0)),(_r.instantAnimations||_r.skipAnimations)&&(v=!0,By(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,v&&!l&&e.get()!==void 0){const x=mL(y.keyframes,d);if(x!==void 0){Ct.update(()=>{y.onUpdate(x),y.onComplete()});return}}return d.isSync?new vv(y):new sL(y)},m2=new Set(["width","height","top","left","right","bottom",...Zl]),p1=30,pL=t=>!isNaN(parseFloat(t));class gL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Un.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Un.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=pL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new lv);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ct.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Un.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>p1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,p1);return OC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zl(t,e){return new gL(t,e)}function g1(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function xv(t,e,n,s){if(typeof e=="function"){const[a,l]=g1(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=g1(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function kl(t,e,n){const s=t.getProps();return xv(s,e,n!==void 0?n:s.custom,t)}const Fy=t=>Array.isArray(t);function yL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,zl(n))}function vL(t){return Fy(t)?t[t.length-1]||0:t}function bL(t,e){const n=kl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const d=vL(l[u]);yL(t,u,d)}}const Dn=t=>!!(t&&t.getVelocity);function _L(t){return!!(Dn(t)&&t.add)}function qy(t,e){const n=t.getValue("willChange");if(_L(n))return n.add(e);if(!n&&_r.WillChange){const s=new _r.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Tv(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const wL="framerAppearId",p2="data-"+Tv(wL);function g2(t){return t.props[p2]}function xL({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function y2(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;s&&(l=s);const f=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const y in d){const v=t.getValue(y,t.latestValues[y]??null),x=d[y];if(x===void 0||m&&xL(m,y))continue;const C={delay:n,..._v(l||{},y)},M=v.get();if(M!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===M&&!C.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const q=g2(t);if(q){const W=window.MotionHandoffAnimation(q,y,Ct);W!==null&&(C.startTime=W,O=!0)}}qy(t,y),v.start(wv(y,v,x,t.shouldReduceMotion&&m2.has(y)?{type:!1}:C,t,O));const N=v.animation;N&&f.push(N)}return u&&Promise.all(f).then(()=>{Ct.update(()=>{u&&bL(t,u)})}),f}function Hy(t,e,n={}){const s=kl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(y2(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=a;return TL(t,e,f,m,y,v,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[f,m]=d==="beforeChildren"?[l,u]:[u,l];return f().then(()=>m())}else return Promise.all([l(),u(n.delay)])}function TL(t,e,n=0,s=0,a=0,l=1,u){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),d.push(Hy(f,e,{...u,delay:n+(typeof s=="function"?0:s)+f2(t.variantChildren,f,s,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function EL(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Hy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Hy(t,e,n);else{const a=typeof e=="function"?kl(t,e,n.custom):e;s=Promise.all(y2(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const SL={test:t=>t==="auto",parse:t=>t},v2=t=>e=>e.test(t),b2=[Xl,Te,ks,ra,Z3,X3,SL],y1=t=>b2.find(v2(t));function AL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||PC(t):!0}const CL=new Set(["brightness","contrast","saturate","opacity"]);function RL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(dv)||[];if(!s)return t;const a=n.replace(s,"");let l=CL.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const IL=/\b([a-z-]*)\(.*?\)/gu,Gy={...Aa,getAnimatableNone:t=>{const e=t.match(IL);return e?e.map(RL).join(" "):t}},v1={...Xl,transform:Math.round},NL={rotate:ra,rotateX:ra,rotateY:ra,rotateZ:ra,scale:Pd,scaleX:Pd,scaleY:Pd,scaleZ:Pd,skew:ra,skewX:ra,skewY:ra,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Vu,originX:s1,originY:s1,originZ:Te},Ev={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,inset:Te,insetBlock:Te,insetBlockStart:Te,insetBlockEnd:Te,insetInline:Te,insetInlineStart:Te,insetInlineEnd:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,paddingBlock:Te,paddingBlockStart:Te,paddingBlockEnd:Te,paddingInline:Te,paddingInlineStart:Te,paddingInlineEnd:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,marginBlock:Te,marginBlockStart:Te,marginBlockEnd:Te,marginInline:Te,marginInlineStart:Te,marginInlineEnd:Te,backgroundPositionX:Te,backgroundPositionY:Te,...NL,zIndex:v1,fillOpacity:Vu,strokeOpacity:Vu,numOctaves:v1},kL={...Ev,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:Gy,WebkitFilter:Gy},_2=t=>kL[t];function w2(t,e){let n=_2(t);return n!==Gy&&(n=Aa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const DL=new Set(["auto","none","0"]);function ML(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!DL.has(l)&&Pu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=w2(n,a)}class VL extends bv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),hv(v))){const x=d2(v,n.current);x!==void 0&&(e[y]=x),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!m2.has(s)||e.length!==2)return;const[a,l]=e,u=y1(a),d=y1(l),f=i1(a),m=i1(l);if(f!==m&&da[s]){this.needsMeasurement=!0;return}if(u!==d)if(d1(u)&&d1(d))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else da[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||AL(e[a]))&&s.push(a);s.length&&ML(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=da[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=da[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function PL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const x2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function T2(t){return VC(t)&&"offsetHeight"in t}const{schedule:Sv}=KC(queueMicrotask,!1),Ji={x:!1,y:!1};function E2(){return Ji.x||Ji.y}function OL(t){return t==="x"||t==="y"?Ji[t]?null:(Ji[t]=!0,()=>{Ji[t]=!1}):Ji.x||Ji.y?null:(Ji.x=Ji.y=!0,()=>{Ji.x=Ji.y=!1})}function S2(t,e){const n=PL(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function b1(t){return!(t.pointerType==="touch"||E2())}function jL(t,e,n={}){const[s,a,l]=S2(t,n),u=d=>{if(!b1(d))return;const{target:f}=d,m=e(f,d);if(typeof m!="function"||!f)return;const y=v=>{b1(v)&&(m(v),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",u,a)}),l}const A2=(t,e)=>e?t===e?!0:A2(t,e.parentElement):!1,Av=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,LL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function C2(t){return LL.has(t.tagName)||t.isContentEditable===!0}const ef=new WeakSet;function _1(t){return e=>{e.key==="Enter"&&t(e)}}function Bg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const UL=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=_1(()=>{if(ef.has(n))return;Bg(n,"down");const a=_1(()=>{Bg(n,"up")}),l=()=>Bg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function w1(t){return Av(t)&&!E2()}function zL(t,e,n={}){const[s,a,l]=S2(t,n),u=d=>{const f=d.currentTarget;if(!w1(d))return;ef.add(f);const m=e(f,d),y=(C,M)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),ef.has(f)&&ef.delete(f),w1(C)&&typeof m=="function"&&m(C,{success:M})},v=C=>{y(C,f===window||f===document||n.useGlobalTarget||A2(f,C.target))},x=C=>{y(C,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",x,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),T2(d)&&(d.addEventListener("focus",m=>UL(m,a)),!C2(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function R2(t){return VC(t)&&"ownerSVGElement"in t}function BL(t){return R2(t)&&t.tagName==="svg"}const FL=[...b2,sn,Aa],qL=t=>FL.find(v2(t)),x1=()=>({translate:0,scale:1,origin:0,originPoint:0}),xl=()=>({x:x1(),y:x1()}),T1=()=>({min:0,max:0}),cn=()=>({x:T1(),y:T1()}),$y={current:null},I2={current:!1},HL=typeof window<"u";function GL(){if(I2.current=!0,!!HL)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$y.current=t.matches;t.addEventListener("change",e),e()}else $y.current=!1}const $L=new WeakMap;function ym(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ou(t){return typeof t=="string"||Array.isArray(t)}const Cv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rv=["initial",...Cv];function vm(t){return ym(t.animate)||Rv.some(e=>Ou(t[e]))}function N2(t){return!!(vm(t)||t.variants)}function KL(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Dn(a))t.addValue(s,a);else if(Dn(l))t.addValue(s,zl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,zl(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const E1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Pf={};function k2(t){Pf=t}function YL(){return Pf}class QL{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Un.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ct.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=vm(n),this.isVariantNode=N2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const C=v[x];f[x]!==void 0&&Dn(C)&&C.set(f[x])}}mount(e){this.current=e,$L.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(I2.current||GL(),this.shouldReduceMotion=$y.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Sa(this.notifyUpdate),Sa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Jl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ct.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Pf){const n=Pf[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):cn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<E1.length;s++){const a=E1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=KL(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=zl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(MC(s)||PC(s))?s=parseFloat(s):!qL(s)&&Aa.test(n)&&(s=w2(e,n)),this.setBaseTarget(e,Dn(s)?s.get():s)),Dn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=xv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Dn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new lv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Sv.render(this.render)}}class ka{constructor(e){this.isMounted=!1,this.node=e}update(){}}class D2 extends QL{constructor(){super(...arguments),this.KeyframeResolver=VL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function M2({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function WL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function XL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Fg(t){return t===void 0||t===1}function Ky({scale:t,scaleX:e,scaleY:n}){return!Fg(t)||!Fg(e)||!Fg(n)}function uo(t){return Ky(t)||V2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function V2(t){return S1(t.x)||S1(t.y)}function S1(t){return t&&t!=="0%"}function Of(t,e,n){const s=t-n,a=e*s;return n+a}function A1(t,e,n,s,a){return a!==void 0&&(t=Of(t,a,s)),Of(t,n,s)+e}function Yy(t,e=0,n=1,s,a){t.min=A1(t.min,e,n,s,a),t.max=A1(t.max,e,n,s,a)}function P2(t,{x:e,y:n}){Yy(t.x,e.translate,e.scale,e.originPoint),Yy(t.y,n.translate,n.scale,n.originPoint)}const C1=.999999999999,R1=1.0000000000001;function ZL(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=n[d],u=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&El(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,P2(t,u)),s&&uo(l.latestValues)&&El(t,l.latestValues))}e.x<R1&&e.x>C1&&(e.x=1),e.y<R1&&e.y>C1&&(e.y=1)}function Tl(t,e){t.min=t.min+e,t.max=t.max+e}function I1(t,e,n,s,a=.5){const l=Mt(t.min,t.max,a);Yy(t,e,n,l,s)}function El(t,e){I1(t.x,e.x,e.scaleX,e.scale,e.originX),I1(t.y,e.y,e.scaleY,e.scale,e.originY)}function O2(t,e){return M2(XL(t.getBoundingClientRect(),e))}function JL(t,e,n){const s=O2(t,n),{scroll:a}=e;return a&&(Tl(s.x,a.offset.x),Tl(s.y,a.offset.y)),s}const e6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},t6=Zl.length;function n6(t,e,n){let s="",a=!0;for(let l=0;l<t6;l++){const u=Zl[l],d=t[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const m=x2(d,Ev[u]);if(!f){a=!1;const y=e6[u]||u;s+=`${y}(${m}) `}n&&(e[u]=m)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Iv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,d=!1;for(const f in e){const m=e[f];if(Jl.has(f)){u=!0;continue}else if(QC(f)){a[f]=m;continue}else{const y=x2(m,Ev[f]);f.startsWith("origin")?(d=!0,l[f]=y):s[f]=y}}if(e.transform||(u||n?s.transform=n6(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:y=0}=l;s.transformOrigin=`${f} ${m} ${y}`}}function j2(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function N1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const su={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=N1(t,e.target.x),s=N1(t,e.target.y);return`${n}% ${s}%`}},i6={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Aa.parse(t);if(a.length>5)return s;const l=Aa.createTransformer(t),u=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;a[0+u]/=d,a[1+u]/=f;const m=Mt(d,f,.5);return typeof a[2+u]=="number"&&(a[2+u]/=m),typeof a[3+u]=="number"&&(a[3+u]/=m),l(a)}},Qy={borderRadius:{...su,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:su,borderTopRightRadius:su,borderBottomLeftRadius:su,borderBottomRightRadius:su,boxShadow:i6};function L2(t,{layout:e,layoutId:n}){return Jl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Qy[t]||t==="opacity")}function Nv(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const u in s)(Dn(s[u])||a&&Dn(a[u])||L2(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function s6(t){return window.getComputedStyle(t)}class r6 extends D2{constructor(){super(...arguments),this.type="html",this.renderInstance=j2}readValueFromInstance(e,n){if(Jl.has(n))return this.projection?.isProjecting?Oy(n):Pj(e,n);{const s=s6(e),a=(QC(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return O2(e,n)}build(e,n,s){Iv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Nv(e,n,s)}}const a6={offset:"stroke-dashoffset",array:"stroke-dasharray"},o6={offset:"strokeDashoffset",array:"strokeDasharray"};function l6(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?a6:o6;t[l.offset]=Te.transform(-s);const u=Te.transform(e),d=Te.transform(n);t[l.array]=`${u} ${d}`}const c6=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function U2(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},f,m,y){if(Iv(t,d,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x}=t;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const C of c6)v[C]!==void 0&&(x[C]=v[C],delete v[C]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&l6(v,a,l,u,!1)}const z2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),B2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function u6(t,e,n,s){j2(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(z2.has(a)?a:Tv(a),e.attrs[a])}function F2(t,e,n){const s=Nv(t,e,n);for(const a in t)if(Dn(t[a])||Dn(e[a])){const l=Zl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class h6 extends D2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=cn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Jl.has(n)){const s=_2(n);return s&&s.default||0}return n=z2.has(n)?n:Tv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return F2(e,n,s)}build(e,n,s){U2(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){u6(e,n,s,a)}mount(e){this.isSVGTag=B2(e.tagName),super.mount(e)}}const d6=Rv.length;function q2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?q2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<d6;n++){const s=Rv[n],a=t.props[s];(Ou(a)||a===!1)&&(e[s]=a)}return e}function H2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const f6=[...Cv].reverse(),m6=Cv.length;function p6(t){return e=>Promise.all(e.map(({animation:n,options:s})=>EL(t,n,s)))}function g6(t){let e=p6(t),n=k1(),s=!0;const a=f=>(m,y)=>{const v=kl(t,y,f==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:x,transitionEnd:C,...M}=v;m={...m,...M,...C}}return m};function l(f){e=f(t)}function u(f){const{props:m}=t,y=q2(t.parent)||{},v=[],x=new Set;let C={},M=1/0;for(let N=0;N<m6;N++){const q=f6[N],W=n[q],K=m[q]!==void 0?m[q]:y[q],G=Ou(K),re=q===f?W.isActive:null;re===!1&&(M=N);let ce=K===y[q]&&K!==m[q]&&G;if(ce&&s&&t.manuallyAnimateOnMount&&(ce=!1),W.protectedKeys={...C},!W.isActive&&re===null||!K&&!W.prevProp||ym(K)||typeof K=="boolean")continue;const I=y6(W.prevProp,K);let S=I||q===f&&W.isActive&&!ce&&G||N>M&&G,k=!1;const j=Array.isArray(K)?K:[K];let P=j.reduce(a(q),{});re===!1&&(P={});const{prevResolvedValues:z={}}=W,V={...z,...P},me=Z=>{S=!0,x.has(Z)&&(k=!0,x.delete(Z)),W.needsAnimating[Z]=!0;const H=t.getValue(Z);H&&(H.liveStyle=!1)};for(const Z in V){const H=P[Z],pe=z[Z];if(C.hasOwnProperty(Z))continue;let B=!1;Fy(H)&&Fy(pe)?B=!H2(H,pe):B=H!==pe,B?H!=null?me(Z):x.add(Z):H!==void 0&&x.has(Z)?me(Z):W.protectedKeys[Z]=!0}W.prevProp=K,W.prevResolvedValues=P,W.isActive&&(C={...C,...P}),s&&t.blockInitialAnimation&&(S=!1);const ye=ce&&I;S&&(!ye||k)&&v.push(...j.map(Z=>{const H={type:q};if(typeof Z=="string"&&s&&!ye&&t.manuallyAnimateOnMount&&t.parent){const{parent:pe}=t,B=kl(pe,Z);if(pe.enteringChildren&&B){const{delayChildren:E}=B.transition||{};H.delay=f2(pe.enteringChildren,t,E)}}return{animation:Z,options:H}}))}if(x.size){const N={};if(typeof m.initial!="boolean"){const q=kl(t,Array.isArray(m.initial)?m.initial[0]:m.initial);q&&q.transition&&(N.transition=q.transition)}x.forEach(q=>{const W=t.getBaseTarget(q),K=t.getValue(q);K&&(K.liveStyle=!0),N[q]=W??null}),v.push({animation:N})}let O=!!v.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(O=!1),s=!1,O?e(v):Promise.resolve()}function d(f,m){if(n[f].isActive===m)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(f,m)),n[f].isActive=m;const y=u(f);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=k1()}}}function y6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!H2(e,t):!1}function oo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k1(){return{animate:oo(!0),whileInView:oo(),whileHover:oo(),whileTap:oo(),whileDrag:oo(),whileFocus:oo(),exit:oo()}}const G2=1e-4,v6=1-G2,b6=1+G2,$2=.01,_6=0-$2,w6=0+$2;function zn(t){return t.max-t.min}function x6(t,e,n){return Math.abs(t-e)<=n}function D1(t,e,n,s=.5){t.origin=s,t.originPoint=Mt(e.min,e.max,t.origin),t.scale=zn(n)/zn(e),t.translate=Mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=v6&&t.scale<=b6||isNaN(t.scale))&&(t.scale=1),(t.translate>=_6&&t.translate<=w6||isNaN(t.translate))&&(t.translate=0)}function xu(t,e,n,s){D1(t.x,e.x,n.x,s?s.originX:void 0),D1(t.y,e.y,n.y,s?s.originY:void 0)}function M1(t,e,n){t.min=n.min+e.min,t.max=t.min+zn(e)}function T6(t,e,n){M1(t.x,e.x,n.x),M1(t.y,e.y,n.y)}function V1(t,e,n){t.min=e.min-n.min,t.max=t.min+zn(e)}function jf(t,e,n){V1(t.x,e.x,n.x),V1(t.y,e.y,n.y)}function P1(t,e,n,s,a){return t-=e,t=Of(t,1/n,s),a!==void 0&&(t=Of(t,1/a,s)),t}function E6(t,e=0,n=1,s=.5,a,l=t,u=t){if(ks.test(e)&&(e=parseFloat(e),e=Mt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=Mt(l.min,l.max,s);t===l&&(d-=e),t.min=P1(t.min,e,n,d,a),t.max=P1(t.max,e,n,d,a)}function O1(t,e,[n,s,a],l,u){E6(t,e[n],e[s],e[a],e.scale,l,u)}const S6=["x","scaleX","originX"],A6=["y","scaleY","originY"];function j1(t,e,n,s){O1(t.x,e,S6,n?n.x:void 0,s?s.x:void 0),O1(t.y,e,A6,n?n.y:void 0,s?s.y:void 0)}function L1(t,e){t.min=e.min,t.max=e.max}function Zi(t,e){L1(t.x,e.x),L1(t.y,e.y)}function U1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function z1(t){return t.translate===0&&t.scale===1}function K2(t){return z1(t.x)&&z1(t.y)}function B1(t,e){return t.min===e.min&&t.max===e.max}function C6(t,e){return B1(t.x,e.x)&&B1(t.y,e.y)}function F1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Y2(t,e){return F1(t.x,e.x)&&F1(t.y,e.y)}function q1(t){return zn(t.x)/zn(t.y)}function H1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Vi(t){return[t("x"),t("y")]}function R6(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:v,rotateY:x,skewX:C,skewY:M}=n;m&&(s=`perspective(${m}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),x&&(s+=`rotateY(${x}deg) `),C&&(s+=`skewX(${C}deg) `),M&&(s+=`skewY(${M}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(s+=`scale(${d}, ${f})`),s||"none"}const Q2=["TopLeft","TopRight","BottomLeft","BottomRight"],I6=Q2.length,G1=t=>typeof t=="string"?parseFloat(t):t,$1=t=>typeof t=="number"||Te.test(t);function N6(t,e,n,s,a,l){a?(t.opacity=Mt(0,n.opacity??1,k6(s)),t.opacityExit=Mt(e.opacity??1,0,D6(s))):l&&(t.opacity=Mt(e.opacity??1,n.opacity??1,s));for(let u=0;u<I6;u++){const d=`border${Q2[u]}Radius`;let f=K1(e,d),m=K1(n,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||$1(f)===$1(m)?(t[d]=Math.max(Mt(G1(f),G1(m),s),0),(ks.test(m)||ks.test(f))&&(t[d]+="%")):t[d]=m}(e.rotate||n.rotate)&&(t.rotate=Mt(e.rotate||0,n.rotate||0,s))}function K1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const k6=W2(0,.5,qC),D6=W2(.5,.95,zi);function W2(t,e,n){return s=>s<t?0:s>e?1:n(Mu(t,e,s))}function M6(t,e){const n=Un.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Sa(s),t(l-e))};return Ct.setup(s,!0),()=>Sa(s)}function ju(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function tf(t){return Dn(t)?t.get():t}function V6(t,e,n){const s=Dn(t)?t:zl(t);return s.start(wv("",s,e,n)),s.animation}const P6=(t,e)=>t.depth-e.depth;class O6{constructor(){this.children=[],this.isDirty=!1}add(e){sv(this.children,e),this.isDirty=!0}remove(e){rv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(P6),this.isDirty=!1,this.children.forEach(e)}}class j6{constructor(){this.members=[]}add(e){sv(this.members,e),e.scheduleRender()}remove(e){if(rv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const nf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},qg=["","X","Y","Z"],L6=1e3;let U6=0;function Hg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function X2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=g2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ct,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&X2(s)}function Z2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},d=e?.()){this.id=U6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(F6),this.nodes.forEach($6),this.nodes.forEach(K6),this.nodes.forEach(q6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new O6)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new lv),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=R2(u)&&!BL(u),this.instance=u;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let y,v=0;const x=()=>this.root.updateBlockedByResize=!1;Ct.read(()=>{v=window.innerWidth}),t(u,()=>{const C=window.innerWidth;C!==v&&(v=C,this.root.updateBlockedByResize=!0,y&&y(),y=M6(x,250),nf.hasAnimatedSinceResize&&(nf.hasAnimatedSinceResize=!1,this.nodes.forEach(W1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||m.getDefaultTransition()||Z6,{onLayoutAnimationStart:O,onLayoutAnimationComplete:N}=m.getProps(),q=!this.targetLayout||!Y2(this.targetLayout,C),W=!v&&x;if(this.options.layoutRoot||this.resumeFrom||W||v&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={..._v(M,"layout"),onPlay:O,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(y,W)}else v||W1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Sa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Y6),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&X2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Y1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Q1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(G6),this.nodes.forEach(z6),this.nodes.forEach(B6)):this.nodes.forEach(Q1),this.clearAllSnapshots();const d=Un.now();Tn.delta=Os(0,1e3/60,d-Tn.timestamp),Tn.timestamp=d,Tn.isProcessing=!0,Pg.update.process(Tn),Pg.preRender.process(Tn),Pg.render.process(Tn),Tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Sv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(H6),this.sharedNodes.forEach(Q6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!zn(this.snapshot.measuredBox.x)&&!zn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=cn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!K2(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;u&&this.instance&&(d||uo(this.latestValues)||y)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),J6(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return cn();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(eU))){const{scroll:m}=this.root;m&&(Tl(d.x,m.offset.x),Tl(d.y,m.offset.y))}return d}removeElementScroll(u){const d=cn();if(Zi(d,u),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:y,options:v}=m;m!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Zi(d,u),Tl(d.x,y.offset.x),Tl(d.y,y.offset.y))}return d}applyTransform(u,d=!1){const f=cn();Zi(f,u);for(let m=0;m<this.path.length;m++){const y=this.path[m];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&El(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),uo(y.latestValues)&&El(f,y.latestValues)}return uo(this.latestValues)&&El(f,this.latestValues),f}removeTransform(u){const d=cn();Zi(d,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!uo(m.latestValues))continue;Ky(m.latestValues)&&m.updateSnapshot();const y=cn(),v=m.measurePageBox();Zi(y,v),j1(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return uo(this.latestValues)&&j1(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=Tn.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=cn(),this.targetWithTransforms=cn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),T6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zi(this.target,this.layout.layoutBox),P2(this.target,this.targetDelta)):Zi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ky(this.parent.latestValues)||V2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,f){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cn(),this.relativeTargetOrigin=cn(),jf(this.relativeTargetOrigin,d,f),Zi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Tn.timestamp&&(f=!1),f)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;Zi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;ZL(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=cn());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(U1(this.prevProjectionDelta.x,this.projectionDelta.x),U1(this.prevProjectionDelta.y,this.projectionDelta.y)),xu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!H1(this.projectionDelta.x,this.prevProjectionDelta.x)||!H1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xl(),this.projectionDelta=xl(),this.projectionDeltaWithTransform=xl()}setAnimationOrigin(u,d=!1){const f=this.snapshot,m=f?f.latestValues:{},y={...this.latestValues},v=xl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=cn(),C=f?f.source:void 0,M=this.layout?this.layout.source:void 0,O=C!==M,N=this.getStack(),q=!N||N.members.length<=1,W=!!(O&&!q&&this.options.crossfade===!0&&!this.path.some(X6));this.animationProgress=0;let K;this.mixTargetDelta=G=>{const re=G/1e3;X1(v.x,u.x,re),X1(v.y,u.y,re),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jf(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),W6(this.relativeTarget,this.relativeTargetOrigin,x,re),K&&C6(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=cn()),Zi(K,this.relativeTarget)),O&&(this.animationValues=y,N6(y,m,this.latestValues,re,W,q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Sa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ct.update(()=>{nf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zl(0)),this.currentAnimation=V6(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(L6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:y}=u;if(!(!d||!f||!m)){if(this!==u&&this.layout&&m&&J2(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||cn();const v=zn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const x=zn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+x}Zi(d,f),El(d,y),xu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new j6),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&Hg("z",u,m,this.animationValues);for(let y=0;y<qg.length;y++)Hg(`rotate${qg[y]}`,u,m,this.animationValues),Hg(`skew${qg[y]}`,u,m,this.animationValues);u.render();for(const y in m)u.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=tf(d?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=tf(d?.pointerEvents)||""),this.hasProjected&&!uo(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=R6(this.projectionDeltaWithTransform,this.treeScale,y);f&&(v=f(y,v)),u.transform=v;const{x,y:C}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${C.origin*100}% 0`,m.animationValues?u.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const M in Qy){if(y[M]===void 0)continue;const{correct:O,applyTo:N,isCSSVariable:q}=Qy[M],W=v==="none"?y[M]:O(y[M],m);if(N){const K=N.length;for(let G=0;G<K;G++)u[N[G]]=W}else q?this.options.visualElement.renderState.vars[M]=W:u[M]=W}this.options.layoutId&&(u.pointerEvents=m===this?tf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Y1),this.root.sharedNodes.clear()}}}function z6(t){t.updateLayout()}function B6(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Vi(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],x=zn(v);v.min=n[y].min,v.max=v.min+x}):J2(a,e.layoutBox,n)&&Vi(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],x=zn(n[y]);v.max=v.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+x)});const u=xl();xu(u,n,e.layoutBox);const d=xl();l?xu(d,t.applyTransform(s,!0),e.measuredBox):xu(d,n,e.layoutBox);const f=!K2(u);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:x}=y;if(v&&x){const C=cn();jf(C,e.layoutBox,v.layoutBox);const M=cn();jf(M,n,x.layoutBox),Y2(C,M)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=C,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function F6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function q6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function H6(t){t.clearSnapshot()}function Y1(t){t.clearMeasurements()}function Q1(t){t.isLayoutDirty=!1}function G6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function W1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function $6(t){t.resolveTargetDelta()}function K6(t){t.calcProjection()}function Y6(t){t.resetSkewAndRotation()}function Q6(t){t.removeLeadSnapshot()}function X1(t,e,n){t.translate=Mt(e.translate,0,n),t.scale=Mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Z1(t,e,n,s){t.min=Mt(e.min,n.min,s),t.max=Mt(e.max,n.max,s)}function W6(t,e,n,s){Z1(t.x,e.x,n.x,s),Z1(t.y,e.y,n.y,s)}function X6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Z6={duration:.45,ease:[.4,0,.1,1]},J1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),eE=J1("applewebkit/")&&!J1("chrome/")?Math.round:zi;function tE(t){t.min=eE(t.min),t.max=eE(t.max)}function J6(t){tE(t.x),tE(t.y)}function J2(t,e,n){return t==="position"||t==="preserve-aspect"&&!x6(q1(e),q1(n),.2)}function eU(t){return t!==t.root&&t.scroll?.wasRoot}const tU=Z2({attachResizeListener:(t,e)=>ju(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gg={current:void 0},eR=Z2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Gg.current){const t=new tU({});t.mount(window),t.setOptions({layoutScroll:!0}),Gg.current=t}return Gg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),kv=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function nE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function nU(...t){return e=>{let n=!1;const s=t.map(a=>{const l=nE(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():nE(t[a],null)}}}}function iU(...t){return D.useCallback(nU(...t),t)}class sU extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=T2(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function rU({children:t,isPresent:e,anchorX:n,root:s}){const a=D.useId(),l=D.useRef(null),u=D.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=D.useContext(kv),f=t.props?.ref??t?.ref,m=iU(l,f);return D.useInsertionEffect(()=>{const{width:y,height:v,top:x,left:C,right:M}=u.current;if(e||!l.current||!y||!v)return;const O=n==="left"?`left: ${C}`:`right: ${M}`;l.current.dataset.motionPopId=a;const N=document.createElement("style");d&&(N.nonce=d);const q=s??document.head;return q.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${v}px !important;
            ${O}px !important;
            top: ${x}px !important;
          }
        `),()=>{q.contains(N)&&q.removeChild(N)}},[e]),b.jsx(sU,{isPresent:e,childRef:l,sizeRef:u,children:D.cloneElement(t,{ref:m})})}const aU=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:d,root:f})=>{const m=iv(oU),y=D.useId();let v=!0,x=D.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:C=>{m.set(C,!0);for(const M of m.values())if(!M)return;s&&s()},register:C=>(m.set(C,!1),()=>m.delete(C))}),[n,m,s]);return l&&v&&(x={...x}),D.useMemo(()=>{m.forEach((C,M)=>m.set(M,!1))},[n]),D.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),u==="popLayout"&&(t=b.jsx(rU,{isPresent:n,anchorX:d,root:f,children:t})),b.jsx(gm.Provider,{value:x,children:t})};function oU(){return new Map}function tR(t=!0){const e=D.useContext(gm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=D.useId();D.useEffect(()=>{if(t)return a(l)},[t]);const u=D.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Od=t=>t.key||"";function iE(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const es=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",root:f})=>{const[m,y]=tR(u),v=D.useMemo(()=>iE(t),[t]),x=u&&!m?[]:v.map(Od),C=D.useRef(!0),M=D.useRef(v),O=iv(()=>new Map),N=D.useRef(new Set),[q,W]=D.useState(v),[K,G]=D.useState(v);DC(()=>{C.current=!1,M.current=v;for(let I=0;I<K.length;I++){const S=Od(K[I]);x.includes(S)?(O.delete(S),N.current.delete(S)):O.get(S)!==!0&&O.set(S,!1)}},[K,x.length,x.join("-")]);const re=[];if(v!==q){let I=[...v];for(let S=0;S<K.length;S++){const k=K[S],j=Od(k);x.includes(j)||(I.splice(S,0,k),re.push(k))}return l==="wait"&&re.length&&(I=re),G(iE(I)),W(v),null}const{forceRender:ce}=D.useContext(nv);return b.jsx(b.Fragment,{children:K.map(I=>{const S=Od(I),k=u&&!m?!1:v===K||x.includes(S),j=()=>{if(N.current.has(S))return;if(N.current.add(S),O.has(S))O.set(S,!0);else return;let P=!0;O.forEach(z=>{z||(P=!1)}),P&&(ce?.(),G(M.current),u&&y?.(),s&&s())};return b.jsx(aU,{isPresent:k,initial:!C.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:f,onExitComplete:k?void 0:j,anchorX:d,children:I},S)})})},nR=D.createContext({strict:!1}),sE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let rE=!1;function lU(){if(rE)return;const t={};for(const e in sE)t[e]={isEnabled:n=>sE[e].some(s=>!!n[s])};k2(t),rE=!0}function iR(){return lU(),YL()}function cU(t){const e=iR();for(const n in t)e[n]={...e[n],...t[n]};k2(e)}const uU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||uU.has(t)}let sR=t=>!Lf(t);function hU(t){typeof t=="function"&&(sR=e=>e.startsWith("on")?!Lf(e):t(e))}try{hU(require("@emotion/is-prop-valid").default)}catch{}function dU(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(sR(a)||n===!0&&Lf(a)||!e&&!Lf(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const bm=D.createContext({});function fU(t,e){if(vm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Ou(n)?n:void 0,animate:Ou(s)?s:void 0}}return t.inherit!==!1?e:{}}function mU(t){const{initial:e,animate:n}=fU(t,D.useContext(bm));return D.useMemo(()=>({initial:e,animate:n}),[aE(e),aE(n)])}function aE(t){return Array.isArray(t)?t.join(" "):t}const Dv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rR(t,e,n){for(const s in e)!Dn(e[s])&&!L2(s,n)&&(t[s]=e[s])}function pU({transformTemplate:t},e){return D.useMemo(()=>{const n=Dv();return Iv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function gU(t,e){const n=t.style||{},s={};return rR(s,n,t),Object.assign(s,pU(t,e)),s}function yU(t,e){const n={},s=gU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const aR=()=>({...Dv(),attrs:{}});function vU(t,e,n,s){const a=D.useMemo(()=>{const l=aR();return U2(l,e,B2(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};rR(l,t.style,t),a.style={...l,...a.style}}return a}const bU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mv(t){return typeof t!="string"||t.includes("-")?!1:!!(bU.indexOf(t)>-1||/[A-Z]/u.test(t))}function _U(t,e,n,{latestValues:s},a,l=!1,u){const f=(u??Mv(t)?vU:yU)(e,s,a,t),m=dU(e,typeof t=="string",l),y=t!==D.Fragment?{...m,...f,ref:n}:{},{children:v}=e,x=D.useMemo(()=>Dn(v)?v.get():v,[v]);return D.createElement(t,{...y,children:x})}function wU({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:xU(n,s,a,t),renderState:e()}}function xU(t,e,n,s){const a={},l=s(t,{});for(const x in l)a[x]=tf(l[x]);let{initial:u,animate:d}=t;const f=vm(t),m=N2(t);e&&m&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?d:u;if(v&&typeof v!="boolean"&&!ym(v)){const x=Array.isArray(v)?v:[v];for(let C=0;C<x.length;C++){const M=xv(t,x[C]);if(M){const{transitionEnd:O,transition:N,...q}=M;for(const W in q){let K=q[W];if(Array.isArray(K)){const G=y?K.length-1:0;K=K[G]}K!==null&&(a[W]=K)}for(const W in O)a[W]=O[W]}}}return a}const oR=t=>(e,n)=>{const s=D.useContext(bm),a=D.useContext(gm),l=()=>wU(t,e,s,a);return n?l():iv(l)},TU=oR({scrapeMotionValuesFromProps:Nv,createRenderState:Dv}),EU=oR({scrapeMotionValuesFromProps:F2,createRenderState:aR}),SU=Symbol.for("motionComponentSymbol");function AU(t,e,n){const s=D.useRef(n);D.useInsertionEffect(()=>{s.current=n});const a=D.useRef(null);return D.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const d=u(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const lR=D.createContext({});function du(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function CU(t,e,n,s,a,l){const{visualElement:u}=D.useContext(bm),d=D.useContext(nR),f=D.useContext(gm),m=D.useContext(kv).reducedMotion,y=D.useRef(null);s=s||d.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:u,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m,isSVG:l}));const v=y.current,x=D.useContext(lR);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&RU(y.current,n,a,x);const C=D.useRef(!1);D.useInsertionEffect(()=>{v&&C.current&&v.update(n,f)});const M=n[p2],O=D.useRef(!!M&&!window.MotionHandoffIsComplete?.(M)&&window.MotionHasOptimisedAnimation?.(M));return DC(()=>{v&&(C.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),O.current&&v.animationState&&v.animationState.animateChanges())}),D.useEffect(()=>{v&&(!O.current&&v.animationState&&v.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(M)}),O.current=!1),v.enteringChildren=void 0)}),v}function RU(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:m,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:cR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&du(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:f,layoutRoot:m})}function cR(t){if(t)return t.options.allowProjection!==!1?t.projection:cR(t.parent)}function $g(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&cU(s);const l=n?n==="svg":Mv(t),u=l?EU:TU;function d(m,y){let v;const x={...D.useContext(kv),...m,layoutId:IU(m)},{isStatic:C}=x,M=mU(m),O=u(m,C);if(!C&&kC){NU();const N=kU(x);v=N.MeasureLayout,M.visualElement=CU(t,O,x,a,N.ProjectionNode,l)}return b.jsxs(bm.Provider,{value:M,children:[v&&M.visualElement?b.jsx(v,{visualElement:M.visualElement,...x}):null,_U(t,m,AU(O,M.visualElement,y),O,C,e,l)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const f=D.forwardRef(d);return f[SU]=t,f}function IU({layoutId:t}){const e=D.useContext(nv).id;return e&&t!==void 0?e+"-"+t:t}function NU(t,e){D.useContext(nR).strict}function kU(t){const e=iR(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function DU(t,e){if(typeof Proxy>"u")return $g;const n=new Map,s=(l,u)=>$g(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,$g(u,void 0,t,e)),n.get(u))})}const MU=(t,e)=>e.isSVG??Mv(t)?new h6(e):new r6(e,{allowProjection:t!==D.Fragment});class VU extends ka{constructor(e){super(e),e.animationState||(e.animationState=g6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ym(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let PU=0;class OU extends ka{constructor(){super(...arguments),this.id=PU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const jU={animation:{Feature:VU},exit:{Feature:OU}};function rh(t){return{point:{x:t.pageX,y:t.pageY}}}const LU=t=>e=>Av(e)&&t(e,rh(e));function Tu(t,e,n,s){return ju(t,e,LU(n),s)}const uR=({current:t})=>t?t.ownerDocument.defaultView:null,oE=(t,e)=>Math.abs(t-e);function UU(t,e){const n=oE(t.x,e.x),s=oE(t.y,e.y);return Math.sqrt(n**2+s**2)}const lE=new Set(["auto","scroll"]);class hR{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=C=>{this.handleScroll(C.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Yg(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,O=UU(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!O)return;const{point:N}=C,{timestamp:q}=Tn;this.history.push({...N,timestamp:q});const{onStart:W,onMove:K}=this.handlers;M||(W&&W(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,C)},this.handlePointerMove=(C,M)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=Kg(M,this.transformPagePoint),Ct.update(this.updatePoint,!0)},this.handlePointerUp=(C,M)=>{this.end();const{onEnd:O,onSessionEnd:N,resumeAnimation:q}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&q&&q(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const W=Yg(C.type==="pointercancel"?this.lastMoveEventInfo:Kg(M,this.transformPagePoint),this.history);this.startEvent&&O&&O(C,W),N&&N(C,W)},!Av(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const f=rh(e),m=Kg(f,this.transformPagePoint),{point:y}=m,{timestamp:v}=Tn;this.history=[{...y,timestamp:v}];const{onSessionStart:x}=n;x&&x(e,Yg(m,this.history)),this.removeListeners=nh(Tu(this.contextWindow,"pointermove",this.handlePointerMove),Tu(this.contextWindow,"pointerup",this.handlePointerUp),Tu(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(lE.has(s.overflowX)||lE.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),Ct.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Sa(this.updatePoint)}}function Kg(t,e){return e?{point:e(t.point)}:t}function cE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Yg({point:t},e){return{point:t,delta:cE(t,dR(e)),offset:cE(t,zU(e)),velocity:BU(e,.1)}}function zU(t){return t[0]}function dR(t){return t[t.length-1]}function BU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=dR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>mr(e)));)n--;if(!s)return{x:0,y:0};const l=Oi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function FU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Mt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Mt(n,t,s.max):Math.min(t,n)),t}function uE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function qU(t,{top:e,left:n,bottom:s,right:a}){return{x:uE(t.x,n,a),y:uE(t.y,e,s)}}function hE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function HU(t,e){return{x:hE(t.x,e.x),y:hE(t.y,e.y)}}function GU(t,e){let n=.5;const s=zn(t),a=zn(e);return a>s?n=Mu(e.min,e.max-s,t.min):s>a&&(n=Mu(t.min,t.max-a,e.min)),Os(0,1,n)}function $U(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Wy=.35;function KU(t=Wy){return t===!1?t=0:t===!0&&(t=Wy),{x:dE(t,"left","right"),y:dE(t,"top","bottom")}}function dE(t,e,n){return{min:fE(t,e),max:fE(t,n)}}function fE(t,e){return typeof t=="number"?t:t[e]||0}const YU=new WeakMap;class QU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=cn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(rh(v).point)):this.pauseAnimation()},u=(v,x)=>{this.stopAnimation();const{drag:C,dragPropagation:M,onDragStart:O}=this.getProps();if(C&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OL(C),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vi(q=>{let W=this.getAxisMotionValue(q).get()||0;if(ks.test(W)){const{projection:K}=this.visualElement;if(K&&K.layout){const G=K.layout.layoutBox[q];G&&(W=zn(G)*(parseFloat(W)/100))}}this.originPoint[q]=W}),O&&Ct.postRender(()=>O(v,x)),qy(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},d=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:C,dragDirectionLock:M,onDirectionLock:O,onDrag:N}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:q}=x;if(M&&this.currentDirection===null){this.currentDirection=WU(q),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",x.point,q),this.updateAxis("y",x.point,q),this.visualElement.render(),N&&N(v,x)},f=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Vi(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new hR(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:uR(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&Ct.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!jd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=FU(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&du(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=qU(s.layoutBox,e):this.constraints=!1,this.elastic=KU(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Vi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=$U(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!du(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=JL(s,a.root,this.visualElement.getTransformPagePoint());let u=HU(a.layout.layoutBox,l);if(n){const d=n(WL(u));this.hasMutatedConstraints=!!d,d&&(u=M2(d))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=Vi(y=>{if(!jd(y,n,this.currentDirection))return;let v=f&&f[y]||{};u&&(v={min:0,max:0});const x=a?200:1e6,C=a?40:1e7,M={type:"inertia",velocity:s?e[y]:0,bounceStiffness:x,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,M)});return Promise.all(m).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return qy(this.visualElement,e),s.start(wv(e,s,0,n,this.visualElement,!1))}stopAnimation(){Vi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Vi(n=>{const{drag:s}=this.getProps();if(!jd(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[n],f=l.get()||0;l.set(e[n]-Mt(u,d,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!du(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Vi(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();a[u]=GU({min:f,max:f},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Vi(u=>{if(!jd(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:m}=this.constraints[u];d.set(Mt(f,m,a[u]))})}addListeners(){if(!this.visualElement.current)return;YU.set(this.visualElement,this);const e=this.visualElement.current,n=Tu(e,"pointerdown",f=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&!C2(f.target)&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();du(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ct.read(s);const u=ju(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Vi(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=f[y].translate,v.set(v.get()+f[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Wy,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function jd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function WU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class XU extends ka{constructor(e){super(e),this.removeGroupControls=zi,this.removeListeners=zi,this.controls=new QU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const mE=t=>(e,n)=>{t&&Ct.postRender(()=>t(e,n))};class ZU extends ka{constructor(){super(...arguments),this.removePointerDownListener=zi}onPointerDown(e){this.session=new hR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:mE(e),onStart:mE(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&Ct.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Tu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Qg=!1;class JU extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Qg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),nf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Qg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Ct.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Sv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Qg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function fR(t){const[e,n]=tR(),s=D.useContext(nv);return b.jsx(JU,{...t,layoutGroup:s,switchLayoutGroup:D.useContext(lR),isPresent:e,safeToRemove:n})}const e9={pan:{Feature:ZU},drag:{Feature:XU,ProjectionNode:eR,MeasureLayout:fR}};function pE(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Ct.postRender(()=>l(e,rh(e)))}class t9 extends ka{mount(){const{current:e}=this.node;e&&(this.unmount=jL(e,(n,s)=>(pE(this.node,s,"Start"),a=>pE(this.node,a,"End"))))}unmount(){}}class n9 extends ka{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nh(ju(this.node.current,"focus",()=>this.onFocus()),ju(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Ct.postRender(()=>l(e,rh(e)))}class i9 extends ka{mount(){const{current:e}=this.node;e&&(this.unmount=zL(e,(n,s)=>(gE(this.node,s,"Start"),(a,{success:l})=>gE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xy=new WeakMap,Wg=new WeakMap,s9=t=>{const e=Xy.get(t.target);e&&e(t)},r9=t=>{t.forEach(s9)};function a9({root:t,...e}){const n=t||document;Wg.has(n)||Wg.set(n,{});const s=Wg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(r9,{root:t,...e})),s[a]}function o9(t,e,n){const s=a9(e);return Xy.set(t,n),s.observe(t),()=>{Xy.delete(t),s.unobserve(t)}}const l9={some:0,all:1};class c9 extends ka{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:l9[a]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),x=m?y:v;x&&x(f)};return o9(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(u9(e,n))&&this.startObserver()}unmount(){}}function u9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const h9={inView:{Feature:c9},tap:{Feature:i9},focus:{Feature:n9},hover:{Feature:t9}},d9={layout:{ProjectionNode:eR,MeasureLayout:fR}},f9={...jU,...h9,...e9,...d9},nt=DU(f9,MU);const m9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),p9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),yE=t=>{const e=p9(t);return e.charAt(0).toUpperCase()+e.slice(1)},mR=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),g9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var y9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const v9=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...d},f)=>D.createElement("svg",{ref:f,...y9,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:mR("lucide",a),...!l&&!g9(d)&&{"aria-hidden":"true"},...d},[...u.map(([m,y])=>D.createElement(m,y)),...Array.isArray(l)?l:[l]]));const st=(t,e)=>{const n=D.forwardRef(({className:s,...a},l)=>D.createElement(v9,{ref:l,iconNode:e,className:mR(`lucide-${m9(yE(t))}`,`lucide-${t}`,s),...a}));return n.displayName=yE(t),n};const b9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],pR=st("arrow-left",b9);const _9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],vE=st("award",_9);const w9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Uf=st("book-open",w9);const x9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zf=st("calendar",x9);const T9=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Zy=st("camera",T9);const E9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Sl=st("check",E9);const S9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],gR=st("chevron-left",S9);const A9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yR=st("chevron-right",A9);const C9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bE=st("circle-alert",C9);const R9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vR=st("circle-check-big",R9);const I9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vv=st("circle-question-mark",I9);const N9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],k9=st("clock",N9);const D9=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],M9=st("crown",D9);const V9=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Pv=st("layout-grid",V9);const P9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],O9=st("loader-circle",P9);const j9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bR=st("log-out",j9);const L9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],U9=st("mail",L9);const z9=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],_E=st("palette",z9);const B9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],wE=st("pen",B9);const F9=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],q9=st("play",F9);const H9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Bf=st("plus",H9);const G9=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],$9=st("printer",G9);const K9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ov=st("settings",K9);const Y9=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],sf=st("share-2",Y9);const Q9=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],W9=st("shuffle",Q9);const X9=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],_R=st("sparkles",X9);const Z9=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xE=st("square-check-big",Z9);const J9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],wR=st("trash-2",J9);const ez=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tz=st("triangle-alert",ez);const nz=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],iz=st("type",nz);const sz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rz=st("user",sz);const az=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],oz=st("users",az);const lz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vo=st("x",lz);const cz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],TE=st("zap",cz),xR=D.createContext(null),TR=()=>{const t=D.useContext(xR);if(!t)throw new Error("useDialog must be used within a DialogProvider");return t},uz=({children:t})=>{const[e,n]=D.useState({isOpen:!1,type:"alert",options:{message:""},resolve:null}),[s,a]=D.useState(""),[l,u]=D.useState("editor"),d=D.useCallback((M,O)=>new Promise(N=>{a(O.inputDefaultValue||""),u("editor"),n({isOpen:!0,type:M,options:O,resolve:N})}),[]),f=D.useCallback(M=>{e.resolve&&e.resolve(M),n(O=>({...O,isOpen:!1,resolve:null}))},[e.resolve]),m=D.useCallback((M,O)=>d("alert",{message:M,title:"Notice",confirmText:"OK",type:"info",...O}),[d]),y=D.useCallback((M,O)=>d("confirm",{message:M,title:"Confirm",confirmText:"Yes",cancelText:"Cancel",type:"warning",...O}),[d]),v=D.useCallback((M,O)=>d("prompt",{message:M,title:"Input",confirmText:"OK",cancelText:"Cancel",inputPlaceholder:"",...O}),[d]),x=D.useCallback((M,O)=>d("share",{message:M,title:"Share Board",confirmText:"Send Invite",cancelText:"Cancel",showRoleSelector:!0,inputPlaceholder:"Enter email address",...O}),[d]),C=()=>{switch(e.options.type){case"success":return b.jsx(vR,{className:"w-8 h-8 text-green-400"});case"warning":return b.jsx(bE,{className:"w-8 h-8 text-amber-400"});case"error":return b.jsx(bE,{className:"w-8 h-8 text-red-400"});default:return b.jsx(Vv,{className:"w-8 h-8 text-accent-primary"})}};return b.jsxs(xR.Provider,{value:{alert:m,confirm:y,prompt:v,sharePrompt:x},children:[t,b.jsx(es,{children:e.isOpen&&b.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{e.type==="alert"?f(void 0):e.type==="confirm"?f(!1):f(null)},children:b.jsxs(nt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:M=>M.stopPropagation(),children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="share"?b.jsx(U9,{className:"w-6 h-6 text-accent-primary"}):C(),b.jsx("h3",{className:"text-lg font-bold text-white",children:e.options.title})]}),b.jsx("button",{onClick:()=>{e.type==="alert"?f(void 0):e.type==="confirm"?f(!1):f(null)},className:"p-1 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:b.jsx(vo,{size:20})})]}),b.jsxs("div",{className:"p-6",children:[b.jsx("p",{className:"text-slate-300 mb-4 whitespace-pre-wrap",children:e.options.message}),(e.type==="prompt"||e.type==="share")&&b.jsx("input",{type:e.type==="share"?"email":"text",autoFocus:!0,value:s,onChange:M=>a(M.target.value),placeholder:e.options.inputPlaceholder,className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors mb-4",onKeyDown:M=>{M.key==="Enter"&&s.trim()&&(e.type==="share"?f({email:s.trim(),role:l}):f(s.trim()))}}),e.type==="share"&&e.options.showRoleSelector&&b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"text-sm font-medium text-slate-400 mb-2 block",children:"Access Level"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>u("viewer"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="viewer"?"bg-accent-primary/20 text-accent-primary border border-accent-primary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Viewer"}),b.jsx("button",{onClick:()=>u("editor"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Editor"})]}),b.jsx("p",{className:"text-xs text-slate-500 mt-2",children:l==="viewer"?"Can view the board but not make changes":"Can view and edit the board"})]})]}),b.jsxs("div",{className:"flex gap-3 p-4 pt-0",children:[e.type!=="alert"&&b.jsx("button",{onClick:()=>{e.type==="confirm"?f(!1):f(null)},className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:e.options.cancelText}),b.jsx("button",{onClick:()=>{e.type==="alert"?f(void 0):e.type==="confirm"?f(!0):e.type==="share"?s.trim()&&f({email:s.trim(),role:l}):f(s.trim()||null)},disabled:(e.type==="prompt"||e.type==="share")&&!s.trim(),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.options.confirmText})]})]})})})]})};function ER(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=ER(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function hz(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=ER(t))&&(s&&(s+=" "),s+=e);return s}const dz=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},fz=(t,e)=>({classGroupId:t,validator:e}),SR=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Ff="-",EE=[],mz="arbitrary..",pz=t=>{const e=yz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return gz(u);const d=u.split(Ff),f=d[0]===""&&d.length>1?1:0;return AR(d,f,e)},getConflictingClassGroupIds:(u,d)=>{if(d){const f=s[u],m=n[u];return f?m?dz(m,f):f:m||EE}return n[u]||EE}}},AR=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const m=AR(t,e+1,l);if(m)return m}const u=n.validators;if(u===null)return;const d=e===0?t.join(Ff):t.slice(e).join(Ff),f=u.length;for(let m=0;m<f;m++){const y=u[m];if(y.validator(d))return y.classGroupId}},gz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?mz+s:void 0})(),yz=t=>{const{theme:e,classGroups:n}=t;return vz(n,e)},vz=(t,e)=>{const n=SR();for(const s in t){const a=t[s];jv(a,n,s,e)}return n},jv=(t,e,n,s)=>{const a=t.length;for(let l=0;l<a;l++){const u=t[l];bz(u,e,n,s)}},bz=(t,e,n,s)=>{if(typeof t=="string"){_z(t,e,n);return}if(typeof t=="function"){wz(t,e,n,s);return}xz(t,e,n,s)},_z=(t,e,n)=>{const s=t===""?e:CR(e,t);s.classGroupId=n},wz=(t,e,n,s)=>{if(Tz(t)){jv(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(fz(n,t))},xz=(t,e,n,s)=>{const a=Object.entries(t),l=a.length;for(let u=0;u<l;u++){const[d,f]=a[u];jv(f,CR(e,d),n,s)}},CR=(t,e)=>{let n=t;const s=e.split(Ff),a=s.length;for(let l=0;l<a;l++){const u=s[l];let d=n.nextPart.get(u);d||(d=SR(),n.nextPart.set(u,d)),n=d}return n},Tz=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Ez=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const a=(l,u)=>{n[l]=u,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(l){let u=n[l];if(u!==void 0)return u;if((u=s[l])!==void 0)return a(l,u),u},set(l,u){l in n?n[l]=u:a(l,u)}}},Jy="!",SE=":",Sz=[],AE=(t,e,n,s,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:a}),Az=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const l=[];let u=0,d=0,f=0,m;const y=a.length;for(let O=0;O<y;O++){const N=a[O];if(u===0&&d===0){if(N===SE){l.push(a.slice(f,O)),f=O+1;continue}if(N==="/"){m=O;continue}}N==="["?u++:N==="]"?u--:N==="("?d++:N===")"&&d--}const v=l.length===0?a:a.slice(f);let x=v,C=!1;v.endsWith(Jy)?(x=v.slice(0,-1),C=!0):v.startsWith(Jy)&&(x=v.slice(1),C=!0);const M=m&&m>f?m-f:void 0;return AE(l,C,x,M)};if(e){const a=e+SE,l=s;s=u=>u.startsWith(a)?l(u.slice(a.length)):AE(Sz,!1,u,void 0,!0)}if(n){const a=s;s=l=>n({className:l,parseClassName:a})}return s},Cz=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let a=[];for(let l=0;l<n.length;l++){const u=n[l],d=u[0]==="[",f=e.has(u);d||f?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(u)):a.push(u)}return a.length>0&&(a.sort(),s.push(...a)),s}},Rz=t=>({cache:Ez(t.cacheSize),parseClassName:Az(t),sortModifiers:Cz(t),...pz(t)}),Iz=/\s+/,Nz=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],d=t.trim().split(Iz);let f="";for(let m=d.length-1;m>=0;m-=1){const y=d[m],{isExternal:v,modifiers:x,hasImportantModifier:C,baseClassName:M,maybePostfixModifierPosition:O}=n(y);if(v){f=y+(f.length>0?" "+f:f);continue}let N=!!O,q=s(N?M.substring(0,O):M);if(!q){if(!N){f=y+(f.length>0?" "+f:f);continue}if(q=s(M),!q){f=y+(f.length>0?" "+f:f);continue}N=!1}const W=x.length===0?"":x.length===1?x[0]:l(x).join(":"),K=C?W+Jy:W,G=K+q;if(u.indexOf(G)>-1)continue;u.push(G);const re=a(q,N);for(let ce=0;ce<re.length;++ce){const I=re[ce];u.push(K+I)}f=y+(f.length>0?" "+f:f)}return f},kz=(...t)=>{let e=0,n,s,a="";for(;e<t.length;)(n=t[e++])&&(s=RR(n))&&(a&&(a+=" "),a+=s);return a},RR=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=RR(t[s]))&&(n&&(n+=" "),n+=e);return n},Dz=(t,...e)=>{let n,s,a,l;const u=f=>{const m=e.reduce((y,v)=>v(y),t());return n=Rz(m),s=n.cache.get,a=n.cache.set,l=d,d(f)},d=f=>{const m=s(f);if(m)return m;const y=Nz(f,n);return a(f,y),y};return l=u,(...f)=>l(kz(...f))},Mz=[],ln=t=>{const e=n=>n[t]||Mz;return e.isThemeGetter=!0,e},IR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,NR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Vz=/^\d+\/\d+$/,Pz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Oz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Lz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Uz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pl=t=>Vz.test(t),He=t=>!!t&&!Number.isNaN(Number(t)),ia=t=>!!t&&Number.isInteger(Number(t)),Xg=t=>t.endsWith("%")&&He(t.slice(0,-1)),ar=t=>Pz.test(t),zz=()=>!0,Bz=t=>Oz.test(t)&&!jz.test(t),kR=()=>!1,Fz=t=>Lz.test(t),qz=t=>Uz.test(t),Hz=t=>!Ae(t)&&!Ce(t),Gz=t=>ec(t,VR,kR),Ae=t=>IR.test(t),lo=t=>ec(t,PR,Bz),Zg=t=>ec(t,Wz,He),CE=t=>ec(t,DR,kR),$z=t=>ec(t,MR,qz),Ld=t=>ec(t,OR,Fz),Ce=t=>NR.test(t),ru=t=>tc(t,PR),Kz=t=>tc(t,Xz),RE=t=>tc(t,DR),Yz=t=>tc(t,VR),Qz=t=>tc(t,MR),Ud=t=>tc(t,OR,!0),ec=(t,e,n)=>{const s=IR.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},tc=(t,e,n=!1)=>{const s=NR.exec(t);return s?s[1]?e(s[1]):n:!1},DR=t=>t==="position"||t==="percentage",MR=t=>t==="image"||t==="url",VR=t=>t==="length"||t==="size"||t==="bg-size",PR=t=>t==="length",Wz=t=>t==="number",Xz=t=>t==="family-name",OR=t=>t==="shadow",Zz=()=>{const t=ln("color"),e=ln("font"),n=ln("text"),s=ln("font-weight"),a=ln("tracking"),l=ln("leading"),u=ln("breakpoint"),d=ln("container"),f=ln("spacing"),m=ln("radius"),y=ln("shadow"),v=ln("inset-shadow"),x=ln("text-shadow"),C=ln("drop-shadow"),M=ln("blur"),O=ln("perspective"),N=ln("aspect"),q=ln("ease"),W=ln("animate"),K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],re=()=>[...G(),Ce,Ae],ce=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],S=()=>[Ce,Ae,f],k=()=>[pl,"full","auto",...S()],j=()=>[ia,"none","subgrid",Ce,Ae],P=()=>["auto",{span:["full",ia,Ce,Ae]},ia,Ce,Ae],z=()=>[ia,"auto",Ce,Ae],V=()=>["auto","min","max","fr",Ce,Ae],me=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ye=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...S()],Z=()=>[pl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],H=()=>[t,Ce,Ae],pe=()=>[...G(),RE,CE,{position:[Ce,Ae]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],E=()=>["auto","cover","contain",Yz,Gz,{size:[Ce,Ae]}],Q=()=>[Xg,ru,lo],ne=()=>["","none","full",m,Ce,Ae],oe=()=>["",He,ru,lo],ge=()=>["solid","dashed","dotted","double"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[He,Xg,RE,CE],Ee=()=>["","none",M,Ce,Ae],Ie=()=>["none",He,Ce,Ae],Ge=()=>["none",He,Ce,Ae],qe=()=>[He,Ce,Ae],$e=()=>[pl,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ar],breakpoint:[ar],color:[zz],container:[ar],"drop-shadow":[ar],ease:["in","out","in-out"],font:[Hz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ar],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ar],shadow:[ar],spacing:["px",He],text:[ar],"text-shadow":[ar],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",pl,Ae,Ce,N]}],container:["container"],columns:[{columns:[He,Ae,Ce,d]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:re()}],overflow:[{overflow:ce()}],"overflow-x":[{"overflow-x":ce()}],"overflow-y":[{"overflow-y":ce()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[ia,"auto",Ce,Ae]}],basis:[{basis:[pl,"full","auto",d,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[He,pl,"auto","initial","none",Ae]}],grow:[{grow:["",He,Ce,Ae]}],shrink:[{shrink:["",He,Ce,Ae]}],order:[{order:[ia,"first","last","none",Ce,Ae]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...me(),"normal"]}],"justify-items":[{"justify-items":[...ye(),"normal"]}],"justify-self":[{"justify-self":["auto",...ye()]}],"align-content":[{content:["normal",...me()]}],"align-items":[{items:[...ye(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ye(),{baseline:["","last"]}]}],"place-content":[{"place-content":me()}],"place-items":[{"place-items":[...ye(),"baseline"]}],"place-self":[{"place-self":["auto",...ye()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[d,"screen",...Z()]}],"min-w":[{"min-w":[d,"screen","none",...Z()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",n,ru,lo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ce,Zg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xg,Ae]}],"font-family":[{font:[Kz,Ae,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ce,Ae]}],"line-clamp":[{"line-clamp":[He,"none",Ce,Zg]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",Ce,Ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ce,Ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[He,"from-font","auto",Ce,lo]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[He,"auto",Ce,Ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce,Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce,Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:pe()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:E()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ia,Ce,Ae],radial:["",Ce,Ae],conic:[ia,Ce,Ae]},Qz,$z]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[He,Ce,Ae]}],"outline-w":[{outline:["",He,ru,lo]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",y,Ud,Ld]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",v,Ud,Ld]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[He,lo]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",x,Ud,Ld]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[He,Ce,Ae]}],"mix-blend":[{"mix-blend":[...ve(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ve()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[He]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Ce,Ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":G()}],"mask-image-conic-pos":[{"mask-conic":[He]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:pe()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:E()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ce,Ae]}],filter:[{filter:["","none",Ce,Ae]}],blur:[{blur:Ee()}],brightness:[{brightness:[He,Ce,Ae]}],contrast:[{contrast:[He,Ce,Ae]}],"drop-shadow":[{"drop-shadow":["","none",C,Ud,Ld]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",He,Ce,Ae]}],"hue-rotate":[{"hue-rotate":[He,Ce,Ae]}],invert:[{invert:["",He,Ce,Ae]}],saturate:[{saturate:[He,Ce,Ae]}],sepia:[{sepia:["",He,Ce,Ae]}],"backdrop-filter":[{"backdrop-filter":["","none",Ce,Ae]}],"backdrop-blur":[{"backdrop-blur":Ee()}],"backdrop-brightness":[{"backdrop-brightness":[He,Ce,Ae]}],"backdrop-contrast":[{"backdrop-contrast":[He,Ce,Ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",He,Ce,Ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[He,Ce,Ae]}],"backdrop-invert":[{"backdrop-invert":["",He,Ce,Ae]}],"backdrop-opacity":[{"backdrop-opacity":[He,Ce,Ae]}],"backdrop-saturate":[{"backdrop-saturate":[He,Ce,Ae]}],"backdrop-sepia":[{"backdrop-sepia":["",He,Ce,Ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ce,Ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[He,"initial",Ce,Ae]}],ease:[{ease:["linear","initial",q,Ce,Ae]}],delay:[{delay:[He,Ce,Ae]}],animate:[{animate:["none",W,Ce,Ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[O,Ce,Ae]}],"perspective-origin":[{"perspective-origin":re()}],rotate:[{rotate:Ie()}],"rotate-x":[{"rotate-x":Ie()}],"rotate-y":[{"rotate-y":Ie()}],"rotate-z":[{"rotate-z":Ie()}],scale:[{scale:Ge()}],"scale-x":[{"scale-x":Ge()}],"scale-y":[{"scale-y":Ge()}],"scale-z":[{"scale-z":Ge()}],"scale-3d":["scale-3d"],skew:[{skew:qe()}],"skew-x":[{"skew-x":qe()}],"skew-y":[{"skew-y":qe()}],transform:[{transform:[Ce,Ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:re()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$e()}],"translate-x":[{"translate-x":$e()}],"translate-y":[{"translate-y":$e()}],"translate-z":[{"translate-z":$e()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce,Ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce,Ae]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[He,ru,lo,Zg]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Jz=Dz(Zz);function Gt(...t){return Jz(hz(t))}const eB=()=>{const{isSettingsOpen:t,closeSettings:e,settings:n,updateSettings:s}=ah(),a=rf.useRef(n);if(rf.useEffect(()=>{t&&(a.current=n)},[t]),!t)return null;const l=()=>{s(a.current,!1),e()},u=()=>{s(n,!0),e()},d=[{id:"dawn",name:"Dawn",color:"bg-[#0f111a] from-violet-500/20 to-pink-500/20"},{id:"midnight",name:"Midnight",color:"bg-[#020617] from-sky-500/20 to-indigo-500/20"},{id:"forest",name:"Forest",color:"bg-[#052e16] from-green-500/20 to-emerald-500/20"},{id:"ocean",name:"Ocean",color:"bg-[#083344] from-cyan-500/20 to-teal-500/20"},{id:"sunset",name:"Sunset",color:"bg-[#2a0a0a] from-orange-500/20 to-rose-500/20"}],f=[{id:"outfit",name:"Modern",family:"font-[Outfit]"},{id:"inter",name:"Clean",family:"font-[Inter]"},{id:"playfair",name:"Elegant",family:'font-["Playfair_Display"]'},{id:"mono",name:"Tech",family:'font-["Fira_Code"]'}];return b.jsx(es,{children:t&&b.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 font-sans",children:[b.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:l}),b.jsxs(nt.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-lg bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[b.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[b.jsx(_E,{className:"w-5 h-5 text-accent-primary"}),"Customization"]}),b.jsx("button",{onClick:l,className:"text-slate-400 hover:text-white transition-colors",children:b.jsx(vo,{className:"w-6 h-6"})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(_E,{className:"w-4 h-4"})," Theme"]}),b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:d.map(m=>b.jsxs("button",{onClick:()=>s({theme:m.id},!1),className:Gt("relative group overflow-hidden rounded-xl border transition-all duration-300",n.theme===m.id?"border-accent-primary ring-2 ring-accent-primary/50":"border-white/10 hover:border-white/30"),children:[b.jsx("div",{className:Gt("h-16 w-full bg-gradient-to-br",m.color)}),b.jsx("div",{className:"p-3 bg-slate-800/50",children:b.jsx("span",{className:Gt("text-sm font-medium",n.theme===m.id?"text-white":"text-slate-400"),children:m.name})}),n.theme===m.id&&b.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-accent-primary rounded-full flex items-center justify-center shadow-lg",children:b.jsx(Sl,{className:"w-3 h-3 text-white"})})]},m.id))})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(iz,{className:"w-4 h-4"})," Typography"]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:f.map(m=>b.jsxs("button",{onClick:()=>s({font:m.id},!1),className:Gt("flex items-center justify-between p-4 rounded-xl border transition-all duration-200 text-left",n.font===m.id?"bg-white/10 border-accent-primary text-white":"bg-white/5 border-white/5 hover:bg-white/10 text-slate-300"),children:[b.jsxs("div",{children:[b.jsx("span",{className:Gt("text-lg block mb-0.5",m.family),children:"Aa"}),b.jsx("span",{className:"text-xs text-slate-400",children:m.name})]}),n.font===m.id&&b.jsx(Sl,{className:"w-5 h-5 text-accent-primary"})]},m.id))}),b.jsx("div",{className:"mt-4 p-4 rounded-xl bg-black/20 border border-white/5",children:b.jsx("p",{className:Gt("text-sm text-slate-300 leading-relaxed",n.font==="outfit"&&"font-[Outfit]",n.font==="inter"&&"font-[Inter]",n.font==="playfair"&&'font-["Playfair_Display"]',n.font==="mono"&&'font-["Fira_Code"]'),children:"The quick brown fox jumps over the lazy dog. 1234567890."})})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(TE,{className:"w-4 h-4"})," Experience"]}),b.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 mb-3",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:Gt("p-2 rounded-lg",n.enableAnimation?"bg-accent-primary/20 text-accent-primary":"bg-slate-700 text-slate-400"),children:b.jsx(TE,{size:20})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium text-white",children:"Live Backgrounds"}),b.jsx("div",{className:"text-xs text-slate-400",children:"Dynamic particles and ambient effects"})]})]}),b.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:n.enableAnimation,onChange:m=>s({enableAnimation:m.target.checked},!1),className:"sr-only peer"}),b.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-accent-primary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary"})]})]}),b.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:Gt("p-2 rounded-lg",n.enableSound?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-slate-400"),children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),b.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),b.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium text-white",children:"Sound Effects"}),b.jsx("div",{className:"text-xs text-slate-400",children:"Satisfying clicks and celebrations"})]})]}),b.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:m=>s({enableSound:m.target.checked},!1),className:"sr-only peer"}),b.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]})]})]}),b.jsxs("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3 sticky bottom-0 bg-slate-900 z-10 shrink-0",children:[b.jsx("button",{onClick:l,className:"px-4 py-2 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:u,className:"px-6 py-2 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all active:scale-95",children:"Save Changes"})]})]})]})})},Jg={theme:"dawn",font:"outfit",enableAnimation:!0,enableSound:!0},jR=D.createContext(null),ah=()=>{const t=D.useContext(jR);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},tB=({children:t})=>{const{user:e}=Io(),[n,s]=D.useState(Jg),[a,l]=D.useState(!1);D.useEffect(()=>{(async()=>{if(!e){s(Jg);return}try{const y=Li(Kt,"users",e.uid),v=await Wl(y);v.exists()&&v.data().settings&&s({...Jg,...v.data().settings})}catch(y){console.error("Error loading settings:",y)}})()},[e]),D.useEffect(()=>{const m=document.body;m.classList.remove("theme-midnight","theme-forest","theme-ocean","theme-sunset"),n.theme!=="dawn"&&m.classList.add(`theme-${n.theme}`),m.classList.remove("font-inter","font-playfair","font-mono","font-comic"),n.font!=="outfit"&&m.classList.add(`font-${n.font}`),n.enableAnimation?m.classList.remove("reduce-motion"):m.classList.add("reduce-motion")},[n]);const u=async(m,y=!0)=>{const v={...n,...m};if(s(v),e&&y)try{await If(Li(Kt,"users",e.uid),{settings:v},{merge:!0})}catch(x){console.error("Error saving settings:",x)}},d=()=>l(!0),f=()=>l(!1);return b.jsxs(jR.Provider,{value:{settings:n,updateSettings:u,isSettingsOpen:a,openSettings:d,closeSettings:f},children:[t,b.jsx(eB,{})]})},nB=()=>{const{signIn:t,error:e}=Io();return b.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center",children:[b.jsx("div",{className:"background-animation"}),b.jsxs("div",{className:"glass-panel p-8 max-w-md w-full flex flex-col items-center gap-6 animate-fade-in",children:[b.jsxs("div",{className:"flex flex-col items-center gap-2 mb-2",children:[b.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-24 w-auto object-contain drop-shadow-[0_0_15px_rgba(251,191,36,0.3)]"}),b.jsx("div",{className:"rounded-full bg-accent-primary/20 p-2 hidden",children:b.jsx(_R,{className:"w-6 h-6 text-accent-gold animate-pulse"})})]}),b.jsx("h1",{className:"text-4xl font-heading font-bold text-gradient sr-only",children:"SunSar Bingo"}),b.jsxs("p",{className:"text-slate-300 font-light text-lg",children:["Track your goals, share with friends,",b.jsx("br",{}),"and make 2026 your best year yet."]}),e&&b.jsx("div",{className:"bg-red-500/20 text-red-200 px-4 py-2 rounded-lg text-sm border border-red-500/30",children:e}),b.jsx("button",{onClick:t,className:"group relative px-6 py-3 bg-white text-bg-dark font-bold rounded-full transition-all hover:scale-105 hover:shadow-[0_0_20px_rgba(255,255,255,0.3)]",children:b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"G",className:"w-5 h-5"}),"Sign in / Sign up with Google"]})})]}),b.jsx("footer",{className:"absolute bottom-4 text-slate-500 text-xs",children:" 2026 SunSar Bingo  Free & Open Source"})]})};var Lv={};(function t(e,n,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),u=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=(function(){if(!e.OffscreenCanvas)return!1;try{var B=new OffscreenCanvas(1,1),E=B.getContext("2d");E.fillRect(0,0,1,1);var Q=B.transferToImageBitmap();E.createPattern(Q,"no-repeat")}catch{return!1}return!0})();function f(){}function m(B){var E=n.exports.Promise,Q=E!==void 0?E:e.Promise;return typeof Q=="function"?new Q(B):(B(f,f),null)}var y=(function(B,E){return{transform:function(Q){if(B)return Q;if(E.has(Q))return E.get(Q);var ne=new OffscreenCanvas(Q.width,Q.height),oe=ne.getContext("2d");return oe.drawImage(Q,0,0),E.set(Q,ne),ne},clear:function(){E.clear()}}})(d,new Map),v=(function(){var B=Math.floor(16.666666666666668),E,Q,ne={},oe=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(E=function(ge){var ve=Math.random();return ne[ve]=requestAnimationFrame(function de(Ee){oe===Ee||oe+B-1<Ee?(oe=Ee,delete ne[ve],ge()):ne[ve]=requestAnimationFrame(de)}),ve},Q=function(ge){ne[ge]&&cancelAnimationFrame(ne[ge])}):(E=function(ge){return setTimeout(ge,B)},Q=function(ge){return clearTimeout(ge)}),{frame:E,cancel:Q}})(),x=(function(){var B,E,Q={};function ne(oe){function ge(ve,de){oe.postMessage({options:ve||{},callback:de})}oe.init=function(de){var Ee=de.transferControlToOffscreen();oe.postMessage({canvas:Ee},[Ee])},oe.fire=function(de,Ee,Ie){if(E)return ge(de,null),E;var Ge=Math.random().toString(36).slice(2);return E=m(function(qe){function $e(xt){xt.data.callback===Ge&&(delete Q[Ge],oe.removeEventListener("message",$e),E=null,y.clear(),Ie(),qe())}oe.addEventListener("message",$e),ge(de,Ge),Q[Ge]=$e.bind(null,{data:{callback:Ge}})}),E},oe.reset=function(){oe.postMessage({reset:!0});for(var de in Q)Q[de](),delete Q[de]}}return function(){if(B)return B;if(!s&&l){var oe=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{B=new Worker(URL.createObjectURL(new Blob([oe])))}catch(ge){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ge),null}ne(B)}return B}})(),C={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function M(B,E){return E?E(B):B}function O(B){return B!=null}function N(B,E,Q){return M(B&&O(B[E])?B[E]:C[E],Q)}function q(B){return B<0?0:Math.floor(B)}function W(B,E){return Math.floor(Math.random()*(E-B))+B}function K(B){return parseInt(B,16)}function G(B){return B.map(re)}function re(B){var E=String(B).replace(/[^0-9a-f]/gi,"");return E.length<6&&(E=E[0]+E[0]+E[1]+E[1]+E[2]+E[2]),{r:K(E.substring(0,2)),g:K(E.substring(2,4)),b:K(E.substring(4,6))}}function ce(B){var E=N(B,"origin",Object);return E.x=N(E,"x",Number),E.y=N(E,"y",Number),E}function I(B){B.width=document.documentElement.clientWidth,B.height=document.documentElement.clientHeight}function S(B){var E=B.getBoundingClientRect();B.width=E.width,B.height=E.height}function k(B){var E=document.createElement("canvas");return E.style.position="fixed",E.style.top="0px",E.style.left="0px",E.style.pointerEvents="none",E.style.zIndex=B,E}function j(B,E,Q,ne,oe,ge,ve,de,Ee){B.save(),B.translate(E,Q),B.rotate(ge),B.scale(ne,oe),B.arc(0,0,1,ve,de,Ee),B.restore()}function P(B){var E=B.angle*(Math.PI/180),Q=B.spread*(Math.PI/180);return{x:B.x,y:B.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:B.startVelocity*.5+Math.random()*B.startVelocity,angle2D:-E+(.5*Q-Math.random()*Q),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:B.color,shape:B.shape,tick:0,totalTicks:B.ticks,decay:B.decay,drift:B.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:B.gravity*3,ovalScalar:.6,scalar:B.scalar,flat:B.flat}}function z(B,E){E.x+=Math.cos(E.angle2D)*E.velocity+E.drift,E.y+=Math.sin(E.angle2D)*E.velocity+E.gravity,E.velocity*=E.decay,E.flat?(E.wobble=0,E.wobbleX=E.x+10*E.scalar,E.wobbleY=E.y+10*E.scalar,E.tiltSin=0,E.tiltCos=0,E.random=1):(E.wobble+=E.wobbleSpeed,E.wobbleX=E.x+10*E.scalar*Math.cos(E.wobble),E.wobbleY=E.y+10*E.scalar*Math.sin(E.wobble),E.tiltAngle+=.1,E.tiltSin=Math.sin(E.tiltAngle),E.tiltCos=Math.cos(E.tiltAngle),E.random=Math.random()+2);var Q=E.tick++/E.totalTicks,ne=E.x+E.random*E.tiltCos,oe=E.y+E.random*E.tiltSin,ge=E.wobbleX+E.random*E.tiltCos,ve=E.wobbleY+E.random*E.tiltSin;if(B.fillStyle="rgba("+E.color.r+", "+E.color.g+", "+E.color.b+", "+(1-Q)+")",B.beginPath(),u&&E.shape.type==="path"&&typeof E.shape.path=="string"&&Array.isArray(E.shape.matrix))B.fill(Z(E.shape.path,E.shape.matrix,E.x,E.y,Math.abs(ge-ne)*.1,Math.abs(ve-oe)*.1,Math.PI/10*E.wobble));else if(E.shape.type==="bitmap"){var de=Math.PI/10*E.wobble,Ee=Math.abs(ge-ne)*.1,Ie=Math.abs(ve-oe)*.1,Ge=E.shape.bitmap.width*E.scalar,qe=E.shape.bitmap.height*E.scalar,$e=new DOMMatrix([Math.cos(de)*Ee,Math.sin(de)*Ee,-Math.sin(de)*Ie,Math.cos(de)*Ie,E.x,E.y]);$e.multiplySelf(new DOMMatrix(E.shape.matrix));var xt=B.createPattern(y.transform(E.shape.bitmap),"no-repeat");xt.setTransform($e),B.globalAlpha=1-Q,B.fillStyle=xt,B.fillRect(E.x-Ge/2,E.y-qe/2,Ge,qe),B.globalAlpha=1}else if(E.shape==="circle")B.ellipse?B.ellipse(E.x,E.y,Math.abs(ge-ne)*E.ovalScalar,Math.abs(ve-oe)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI):j(B,E.x,E.y,Math.abs(ge-ne)*E.ovalScalar,Math.abs(ve-oe)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI);else if(E.shape==="star")for(var Ve=Math.PI/2*3,ut=4*E.scalar,zt=8*E.scalar,Bt=E.x,yn=E.y,ht=5,et=Math.PI/ht;ht--;)Bt=E.x+Math.cos(Ve)*zt,yn=E.y+Math.sin(Ve)*zt,B.lineTo(Bt,yn),Ve+=et,Bt=E.x+Math.cos(Ve)*ut,yn=E.y+Math.sin(Ve)*ut,B.lineTo(Bt,yn),Ve+=et;else B.moveTo(Math.floor(E.x),Math.floor(E.y)),B.lineTo(Math.floor(E.wobbleX),Math.floor(oe)),B.lineTo(Math.floor(ge),Math.floor(ve)),B.lineTo(Math.floor(ne),Math.floor(E.wobbleY));return B.closePath(),B.fill(),E.tick<E.totalTicks}function V(B,E,Q,ne,oe){var ge=E.slice(),ve=B.getContext("2d"),de,Ee,Ie=m(function(Ge){function qe(){de=Ee=null,ve.clearRect(0,0,ne.width,ne.height),y.clear(),oe(),Ge()}function $e(){s&&!(ne.width===a.width&&ne.height===a.height)&&(ne.width=B.width=a.width,ne.height=B.height=a.height),!ne.width&&!ne.height&&(Q(B),ne.width=B.width,ne.height=B.height),ve.clearRect(0,0,ne.width,ne.height),ge=ge.filter(function(xt){return z(ve,xt)}),ge.length?de=v.frame($e):qe()}de=v.frame($e),Ee=qe});return{addFettis:function(Ge){return ge=ge.concat(Ge),Ie},canvas:B,promise:Ie,reset:function(){de&&v.cancel(de),Ee&&Ee()}}}function me(B,E){var Q=!B,ne=!!N(E||{},"resize"),oe=!1,ge=N(E,"disableForReducedMotion",Boolean),ve=l&&!!N(E||{},"useWorker"),de=ve?x():null,Ee=Q?I:S,Ie=B&&de?!!B.__confetti_initialized:!1,Ge=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,qe;function $e(Ve,ut,zt){for(var Bt=N(Ve,"particleCount",q),yn=N(Ve,"angle",Number),ht=N(Ve,"spread",Number),et=N(Ve,"startVelocity",Number),gi=N(Ve,"decay",Number),Da=N(Ve,"gravity",Number),wr=N(Ve,"drift",Number),Yt=N(Ve,"colors",G),Sn=N(Ve,"ticks",Number),Vn=N(Ve,"shapes"),Fn=N(Ve,"scalar"),An=!!N(Ve,"flat"),Us=ce(Ve),ls=Bt,cs=[],Fi=B.width*Us.x,rt=B.height*Us.y;ls--;)cs.push(P({x:Fi,y:rt,angle:yn,spread:ht,startVelocity:et,color:Yt[ls%Yt.length],shape:Vn[W(0,Vn.length)],ticks:Sn,decay:gi,gravity:Da,drift:wr,scalar:Fn,flat:An}));return qe?qe.addFettis(cs):(qe=V(B,cs,Ee,ut,zt),qe.promise)}function xt(Ve){var ut=ge||N(Ve,"disableForReducedMotion",Boolean),zt=N(Ve,"zIndex",Number);if(ut&&Ge)return m(function(et){et()});Q&&qe?B=qe.canvas:Q&&!B&&(B=k(zt),document.body.appendChild(B)),ne&&!Ie&&Ee(B);var Bt={width:B.width,height:B.height};de&&!Ie&&de.init(B),Ie=!0,de&&(B.__confetti_initialized=!0);function yn(){if(de){var et={getBoundingClientRect:function(){if(!Q)return B.getBoundingClientRect()}};Ee(et),de.postMessage({resize:{width:et.width,height:et.height}});return}Bt.width=Bt.height=null}function ht(){qe=null,ne&&(oe=!1,e.removeEventListener("resize",yn)),Q&&B&&(document.body.contains(B)&&document.body.removeChild(B),B=null,Ie=!1)}return ne&&!oe&&(oe=!0,e.addEventListener("resize",yn,!1)),de?de.fire(Ve,Bt,ht):$e(Ve,Bt,ht)}return xt.reset=function(){de&&de.reset(),qe&&qe.reset()},xt}var ye;function U(){return ye||(ye=me(null,{useWorker:!0,resize:!0})),ye}function Z(B,E,Q,ne,oe,ge,ve){var de=new Path2D(B),Ee=new Path2D;Ee.addPath(de,new DOMMatrix(E));var Ie=new Path2D;return Ie.addPath(Ee,new DOMMatrix([Math.cos(ve)*oe,Math.sin(ve)*oe,-Math.sin(ve)*ge,Math.cos(ve)*ge,Q,ne])),Ie}function H(B){if(!u)throw new Error("path confetti are not supported in this browser");var E,Q;typeof B=="string"?E=B:(E=B.path,Q=B.matrix);var ne=new Path2D(E),oe=document.createElement("canvas"),ge=oe.getContext("2d");if(!Q){for(var ve=1e3,de=ve,Ee=ve,Ie=0,Ge=0,qe,$e,xt=0;xt<ve;xt+=2)for(var Ve=0;Ve<ve;Ve+=2)ge.isPointInPath(ne,xt,Ve,"nonzero")&&(de=Math.min(de,xt),Ee=Math.min(Ee,Ve),Ie=Math.max(Ie,xt),Ge=Math.max(Ge,Ve));qe=Ie-de,$e=Ge-Ee;var ut=10,zt=Math.min(ut/qe,ut/$e);Q=[zt,0,0,zt,-Math.round(qe/2+de)*zt,-Math.round($e/2+Ee)*zt]}return{type:"path",path:E,matrix:Q}}function pe(B){var E,Q=1,ne="#000000",oe='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof B=="string"?E=B:(E=B.text,Q="scalar"in B?B.scalar:Q,oe="fontFamily"in B?B.fontFamily:oe,ne="color"in B?B.color:ne);var ge=10*Q,ve=""+ge+"px "+oe,de=new OffscreenCanvas(ge,ge),Ee=de.getContext("2d");Ee.font=ve;var Ie=Ee.measureText(E),Ge=Math.ceil(Ie.actualBoundingBoxRight+Ie.actualBoundingBoxLeft),qe=Math.ceil(Ie.actualBoundingBoxAscent+Ie.actualBoundingBoxDescent),$e=2,xt=Ie.actualBoundingBoxLeft+$e,Ve=Ie.actualBoundingBoxAscent+$e;Ge+=$e+$e,qe+=$e+$e,de=new OffscreenCanvas(Ge,qe),Ee=de.getContext("2d"),Ee.font=ve,Ee.fillStyle=ne,Ee.fillText(E,xt,Ve);var ut=1/Q;return{type:"bitmap",bitmap:de.transferToImageBitmap(),matrix:[ut,0,0,ut,-Ge*ut/2,-qe*ut/2]}}n.exports=function(){return U().apply(this,arguments)},n.exports.reset=function(){U().reset()},n.exports.create=me,n.exports.shapeFromPath=H,n.exports.shapeFromText=pe})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Lv,!1);const LR=Lv.exports;Lv.exports.create;const zd=(t=1)=>{const e=200*t,n={origin:{y:.7}};function s(a,l){LR(Object.assign({},n,l,{particleCount:Math.floor(e*a)}))}s(.25,{spread:26,startVelocity:55}),s(.2,{spread:60}),s(.35,{spread:100,decay:.91,scalar:.8}),s(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),s(.1,{spread:120,startVelocity:45})},IE={cloudName:"dia6ped7h",uploadPreset:"bingo_proofs"},NE=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",IE.uploadPreset),e.append("folder","bingo-proofs");const n=await fetch(`https://api.cloudinary.com/v1_1/${IE.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok){const a=await n.json();throw console.error("Cloudinary upload error:",a),new Error(a.error?.message||"Failed to upload image")}return(await n.json()).secure_url},iB="2026",ey=5,sB=["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"],rB=t=>{const{user:e}=Io(),[n,s]=D.useState([]),[a,l]=D.useState({}),[u,d]=D.useState(!0),[f,m]=D.useState(!1),[y,v]=D.useState(!1),[x,C]=D.useState(""),[M,O]=D.useState(ey),N=D.useMemo(()=>t?Li(Kt,"boards",t):Li(Kt,"years",iB),[t]),q=(me,ye)=>{if(!me.length)return;const U=[];for(let H=0;H<ye;H++)U.push(me.slice(H*ye,(H+1)*ye));let Z=!1;for(let H=0;H<ye;H++)if(U[H]&&U[H].every(pe=>pe.isCompleted)){Z=!0;break}if(!Z){for(let H=0;H<ye;H++)if(U.map(pe=>pe[H]).every(pe=>pe&&pe.isCompleted)){Z=!0;break}}!Z&&U.map((H,pe)=>H[pe]).every(H=>H&&H.isCompleted)&&(Z=!0),!Z&&U.map((H,pe)=>H[ye-1-pe]).every(H=>H&&H.isCompleted)&&(Z=!0),Z&&!f?(m(!0),zd(2)):Z||m(!1)},W=async(me=ey)=>{const ye=me*me,U=me%2===1?Math.floor(ye/2):-1,Z=[...sB].sort(()=>.5-Math.random()),H=[];let pe=0;for(let B=0;B<ye;B++)B===U&&me%2===1?H.push({id:B,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(H.push({id:B,text:Z[pe%Z.length]||`Goal ${B+1}`,isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),pe++);await If(N,{year:2026,gridSize:me,items:H,isLocked:!1,createdAt:Ue.now(),lastUpdated:Ue.now(),...e?{ownerId:e.uid,members:{[e.uid]:"owner"}}:{}},{merge:!0})};D.useEffect(()=>{if(!e)return;d(!0);const me=EC(N,ye=>{if(ye.exists()){const U=ye.data(),Z=U.gridSize||ey;O(Z),s(U.items||[]),l(U.members||{}),v(U.isLocked||!1),C(U.title||""),q(U.items||[],Z)}else W();d(!1)},ye=>{console.error("Error fetching bingo board:",ye),d(!1)});return()=>me()},[N,e]);const K=async me=>{if(!n.length)return;const ye=n.map(pe=>({...pe})),U=ye[me];if(U.isFreeSpace)return;const Z=U.targetCount||1,H=U.currentCount||0;if(U.isCompleted){const pe=Math.max(0,H-1);U.currentCount=pe,U.isCompleted=pe>=Z,pe===0&&(U.completedBy=null,U.completedAt=null,U.proofPhotos=[])}else{const pe=Math.min(Z,H+1);U.currentCount=pe,U.isCompleted=pe>=Z,U.completedBy=e?.displayName||e?.email||"Unknown",U.completedAt=Ue.now(),zd(.5)}s(ye),q(ye,M);try{await di(N,{items:ye,lastUpdated:Ue.now()})}catch(pe){console.error("Error updating bingo board:",pe)}},G=async me=>{if(!n.length)return;const ye=n.map(B=>({...B})),U=ye[me];if(U.isFreeSpace)return;const Z=U.currentCount||0;if(Z<=0)return;const H=U.targetCount||1,pe=Z-1;U.currentCount=pe,U.isCompleted=pe>=H,pe===0&&(U.completedBy=null,U.completedAt=null,U.proofPhotos=[]),s(ye),q(ye,M);try{await di(N,{items:ye,lastUpdated:Ue.now()})}catch(B){console.error("Error decrementing progress:",B)}},re=async(me,ye)=>{if(!(!n.length||!e))try{const U=await NE(ye),Z=n.map(ne=>({...ne})),H=Z[me];if(H.isFreeSpace)return;const pe=H.targetCount||1,B=H.currentCount||0,E=Math.min(pe,B+1);H.currentCount=E,H.isCompleted=E>=pe,H.completedBy=e?.displayName||e?.email||"Unknown",H.completedAt=Ue.now();const Q=H.proofPhotos||[];H.proofPhotos=[...Q,U],s(Z),q(Z,M),zd(1),await di(N,{items:Z,lastUpdated:Ue.now()})}catch(U){throw console.error("Error completing with photo:",U),U}},ce=async(me,ye)=>{if(!n.length||!e)return;const U=n[me];!U.isCompleted&&(U.currentCount||0)<(U.targetCount||1);const Z=U.proofPhotos||[];if(Z.length>=5)throw new Error("Maximum 5 photos allowed per tile");try{const H=await NE(ye),pe=n.map(B=>({...B}));return pe[me].proofPhotos=[...Z,H],s(pe),zd(.3),await di(N,{items:pe,lastUpdated:Ue.now()}),H}catch(H){throw console.error("Error adding photo:",H),H}},I=async(me,ye)=>{const U=n.map(Z=>({...Z}));ye.text!==void 0&&(U[me].text=ye.text),ye.style!==void 0&&(U[me].style=ye.style),s(U);try{await di(N,{items:U,lastUpdated:Ue.now()})}catch(Z){console.error("Error updating item:",Z)}},S=async()=>{const me=[...n],ye=M*M,U=M%2===1?Math.floor(ye/2):-1;let Z;if(U!==-1){const H=me[U],pe=[...me.slice(0,U),...me.slice(U+1)];for(let B=pe.length-1;B>0;B--){const E=Math.floor(Math.random()*(B+1));[pe[B],pe[E]]=[pe[E],pe[B]]}Z=[...pe.slice(0,U),H,...pe.slice(U)]}else{Z=[...me];for(let H=Z.length-1;H>0;H--){const pe=Math.floor(Math.random()*(H+1));[Z[H],Z[pe]]=[Z[pe],Z[H]]}}s(Z),v(!0),await If(N,{isLocked:!0,items:Z,itemsBackup:me,lastUpdated:Ue.now()},{merge:!0})},k=async()=>{try{const me=await Wl(N);if(me.exists()){const ye=me.data();ye.itemsBackup?await di(N,{items:ye.itemsBackup,itemsBackup:Rf(),isLocked:!1,lastUpdated:Ue.now()}):await di(N,{isLocked:!1,lastUpdated:Ue.now()})}}catch(me){console.error("Error unlocking board:",me)}},j=D.useMemo(()=>{const me=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],[0,6,12,18,24],[4,8,12,16,20]],ye=new Set(n.map((U,Z)=>U.isCompleted?Z:-1));return me.reduce((U,Z)=>Z.every(H=>ye.has(H))?U+1:U,0)},[n]);return{items:n,members:a,loading:u,toggleItem:K,updateItem:I,hasWon:f,bingoCount:j,isLocked:y,unlockBoard:k,jumbleAndLock:S,saveBoard:async me=>{s(me);try{await di(N,{items:me,lastUpdated:Ue.now()})}catch(ye){console.error("Error saving board:",ye)}},completeWithPhoto:re,addPhotoToTile:ce,decrementProgress:G,inviteUser:async(me,ye="editor")=>{try{const U=ua(ts(Kt,"users"),ha("email","==",me)),Z=await ur(U);if(Z.empty)return{success:!1,type:"not_found",message:"User not found"};const H=Z.docs[0],pe=H.id;return await di(N,{[`members.${pe}`]:ye}),{success:!0,type:"success",message:`Added ${H.data().displayName||me} as ${ye}!`}}catch(U){return console.error("Error inviting user:",U),{success:!1,type:"error",message:"Failed to invite user"}}},removeMember:async me=>{try{return await di(N,{[`members.${me}`]:Rf()}),{success:!0}}catch(ye){return console.error("Error removing member:",ye),{success:!1,error:ye}}},title:x,gridSize:M}};let Eu=null;const au=()=>(Eu||(Eu=new(window.AudioContext||window.webkitAudioContext)),Eu),aB=()=>{const{settings:t}=ah(),e=t.enableSound??!0,n=D.useRef(0);D.useEffect(()=>{const m=()=>{Eu?.state==="suspended"&&Eu.resume()};return document.addEventListener("click",m,{once:!0}),document.addEventListener("touchstart",m,{once:!0}),()=>{document.removeEventListener("click",m),document.removeEventListener("touchstart",m)}},[]);const s=D.useCallback(()=>{const m=Date.now();return m-n.current<50?!1:(n.current=m,!0)},[]),a=D.useCallback(()=>{if(!(!e||!s()))try{const m=au(),y=m.createOscillator(),v=m.createGain();y.connect(v),v.connect(m.destination),y.frequency.setValueAtTime(800,m.currentTime),y.frequency.exponentialRampToValueAtTime(400,m.currentTime+.1),y.type="sine",v.gain.setValueAtTime(.15,m.currentTime),v.gain.exponentialRampToValueAtTime(.001,m.currentTime+.1),y.start(m.currentTime),y.stop(m.currentTime+.1)}catch(m){console.warn("Audio playback failed:",m)}},[e,s]),l=D.useCallback(()=>{if(!(!e||!s()))try{const m=au();[523.25,659.25,783.99].forEach((v,x)=>{const C=m.createOscillator(),M=m.createGain();C.connect(M),M.connect(m.destination),C.frequency.setValueAtTime(v,m.currentTime),C.type="sine";const O=m.currentTime+x*.08;M.gain.setValueAtTime(0,O),M.gain.linearRampToValueAtTime(.12,O+.02),M.gain.exponentialRampToValueAtTime(.001,O+.3),C.start(O),C.stop(O+.3)})}catch(m){console.warn("Audio playback failed:",m)}},[e,s]),u=D.useCallback(()=>{if(e)try{const m=au();[{freq:523.25,time:0},{freq:659.25,time:.1},{freq:783.99,time:.2},{freq:1046.5,time:.35},{freq:1318.51,time:.5}].forEach(({freq:C,time:M})=>{const O=m.createOscillator(),N=m.createGain();O.connect(N),N.connect(m.destination),O.frequency.setValueAtTime(C,m.currentTime+M),O.type="sine",N.gain.setValueAtTime(0,m.currentTime+M),N.gain.linearRampToValueAtTime(.2,m.currentTime+M+.02),N.gain.exponentialRampToValueAtTime(.001,m.currentTime+M+.5),O.start(m.currentTime+M),O.stop(m.currentTime+M+.5)});const v=m.createOscillator(),x=m.createGain();v.connect(x),x.connect(m.destination),v.type="sine",v.frequency.setValueAtTime(2e3,m.currentTime+.6),v.frequency.exponentialRampToValueAtTime(4e3,m.currentTime+1.2),x.gain.setValueAtTime(0,m.currentTime+.6),x.gain.linearRampToValueAtTime(.05,m.currentTime+.7),x.gain.exponentialRampToValueAtTime(.001,m.currentTime+1.2),v.start(m.currentTime+.6),v.stop(m.currentTime+1.2)}catch(m){console.warn("Audio playback failed:",m)}},[e]),d=D.useCallback(()=>{if(!(!e||!s()))try{const m=au(),y=m.sampleRate*.15,v=m.createBuffer(1,y,m.sampleRate),x=v.getChannelData(0);for(let N=0;N<y;N++)x[N]=(Math.random()*2-1)*(1-N/y);const C=m.createBufferSource(),M=m.createBiquadFilter(),O=m.createGain();C.buffer=v,M.type="lowpass",M.frequency.setValueAtTime(2e3,m.currentTime),M.frequency.exponentialRampToValueAtTime(500,m.currentTime+.15),C.connect(M),M.connect(O),O.connect(m.destination),O.gain.setValueAtTime(.08,m.currentTime),O.gain.exponentialRampToValueAtTime(.001,m.currentTime+.15),C.start(m.currentTime)}catch(m){console.warn("Audio playback failed:",m)}},[e,s]),f=D.useCallback(()=>{if(!(!e||!s()))try{const m=au(),y=m.createOscillator(),v=m.createGain();y.connect(v),v.connect(m.destination),y.frequency.setValueAtTime(200,m.currentTime),y.frequency.linearRampToValueAtTime(150,m.currentTime+.2),y.type="sine",v.gain.setValueAtTime(.15,m.currentTime),v.gain.exponentialRampToValueAtTime(.001,m.currentTime+.2),y.start(m.currentTime),y.stop(m.currentTime+.2)}catch(m){console.warn("Audio playback failed:",m)}},[e,s]);return{playClick:a,playSuccess:l,playBingo:u,playWhoosh:d,playError:f}},oB=({items:t,isOpen:e,onClose:n})=>{const[s,a]=D.useState(null),l=D.useMemo(()=>t.map((f,m)=>({...f,originalIndex:m})).filter(f=>f.isCompleted&&f.proofPhotos&&f.proofPhotos.length>0).sort((f,m)=>{const y=f.completedAt?.toDate?.()||new Date(0);return(m.completedAt?.toDate?.()||new Date(0)).getTime()-y.getTime()}),[t]),u=D.useMemo(()=>{const f={};return l.forEach(m=>{const v=(m.completedAt?.toDate?.()||new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"});f[v]||(f[v]=[]),f[v].push(m)}),f},[l]),d=f=>f?(f.toDate?f.toDate():new Date(f)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e?b.jsx(es,{children:b.jsxs(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-bg-dark overflow-y-auto",children:[b.jsx("div",{className:"sticky top-0 z-10 bg-bg-dark/95 backdrop-blur-md border-b border-white/10",children:b.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Uf,{className:"w-6 h-6 text-accent-gold"}),b.jsx("h1",{className:"text-xl font-bold text-white",children:"2026 Memories"}),b.jsxs("span",{className:"text-sm text-slate-400",children:["(",l.length," moments)"]})]}),b.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-white transition-colors rounded-full hover:bg-white/10",children:b.jsx(vo,{size:24})})]})}),b.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:l.length===0?b.jsxs("div",{className:"text-center py-20",children:[b.jsx(Uf,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),b.jsx("h2",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No memories yet"}),b.jsx("p",{className:"text-slate-500",children:"Complete tasks and add photos to build your 2026 album!"})]}):Object.entries(u).map(([f,m])=>b.jsxs("div",{className:"mb-8",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(zf,{className:"w-4 h-4 text-accent-primary"}),b.jsx("h2",{className:"text-lg font-semibold text-accent-primary",children:f}),b.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent-primary/30 to-transparent"})]}),b.jsx("div",{className:"space-y-6",children:m.map((y,v)=>b.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"bg-bg-card/80 rounded-2xl border border-white/10 overflow-hidden shadow-xl",children:[b.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer",onClick:()=>a({memoryIdx:l.indexOf(y),photoIdx:0}),children:[b.jsx("img",{src:y.proofPhotos[0],alt:y.text,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),y.proofPhotos.length>1&&b.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-full text-white text-xs font-medium",children:["+",y.proofPhotos.length-1," more"]})]}),y.proofPhotos.length>1&&b.jsx("div",{className:"flex gap-1 p-2 bg-black/30 overflow-x-auto",children:y.proofPhotos.map((x,C)=>b.jsx("button",{onClick:()=>a({memoryIdx:l.indexOf(y),photoIdx:C}),className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 border-2 border-transparent hover:border-accent-primary transition-all",children:b.jsx("img",{src:x,alt:"",className:"w-full h-full object-cover"})},C))}),b.jsxs("div",{className:"p-4",children:[b.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[b.jsx("span",{className:"text-accent-gold",children:""}),y.text]}),b.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(rz,{size:14}),y.completedBy]}),b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(zf,{size:14}),d(y.completedAt)]})]})]})]},y.id))})]},f))}),b.jsx(es,{children:s!==null&&l[s.memoryIdx]&&b.jsxs(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>a(null),children:[b.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white",children:b.jsx(vo,{size:32})}),(()=>{const f=l[s.memoryIdx],m=f.proofPhotos||[],y=s.photoIdx;return b.jsxs("div",{className:"relative max-w-4xl w-full",onClick:v=>v.stopPropagation(),children:[b.jsx("img",{src:m[y],alt:"",className:"w-full max-h-[80vh] object-contain rounded-lg"}),m.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>a({...s,photoIdx:y>0?y-1:m.length-1}),className:"absolute left-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:b.jsx(gR,{size:28})}),b.jsx("button",{onClick:()=>a({...s,photoIdx:y<m.length-1?y+1:0}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:b.jsx(yR,{size:28})})]}),b.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[b.jsx("p",{className:"text-white font-semibold",children:f.text}),b.jsxs("p",{className:"text-slate-300 text-sm",children:[y+1," / ",m.length,"  ",d(f.completedAt)]})]})]})})()]})})]})}):null},kE=()=>{const{boardId:t,yearId:e}=lk(),n=Hl(),s=e?void 0:t,{items:a,members:l,loading:u,toggleItem:d,hasWon:f,bingoCount:m,isLocked:y,unlockBoard:v,jumbleAndLock:x,saveBoard:C,completeWithPhoto:M,addPhotoToTile:O,decrementProgress:N,inviteUser:q,removeMember:W,title:K,gridSize:G}=rB(s),{logout:re,user:ce}=Io(),I=TR(),{openSettings:S}=ah(),{playClick:k,playSuccess:j,playBingo:P,playWhoosh:z}=aB(),[V,me]=D.useState(!1),[ye,U]=D.useState([]),[Z,H]=D.useState(!1),[pe,B]=D.useState(!1),[E,Q]=D.useState([]),[ne,oe]=D.useState(null),[ge,ve]=D.useState(""),[de,Ee]=D.useState({}),[Ie,Ge]=D.useState(1),[qe,$e]=D.useState(""),[xt,Ve]=D.useState(!1),[ut,zt]=D.useState(0),[Bt,yn]=D.useState(null),[ht,et]=D.useState(!1);D.useEffect(()=>{!localStorage.getItem("hasSeenWalkthrough")&&!u&&a.length>0&&Ve(!0)},[u,a]),D.useEffect(()=>{(async()=>{if(pe&&l){const we=[];for(const[dt,Rt]of Object.entries(l))if(Rt!=="owner")try{const Qt=await Wl(Li(Kt,"users",dt));if(Qt.exists()){const Cn=Qt.data();we.push({id:dt,name:Cn.displayName||"Unknown",email:Cn.email||"No email",role:Rt})}}catch(Qt){console.error("Error fetching user:",Qt)}Q(we)}})()},[pe,l]);const gi=async(Y,we)=>{await I.confirm(`Are you sure you want to remove ${we} from this board?`,{title:"Remove Member",type:"error",confirmText:"Remove"})&&((await W(Y)).success?(Q(Qt=>Qt.filter(Cn=>Cn.id!==Y)),await I.alert(`${we} has been removed.`,{type:"success"})):await I.alert("Failed to remove member.",{type:"error"}))},Da=async()=>{const Y=await I.sharePrompt("Enter their email address to invite them to this board.",{title:"Invite User"});if(Y){const we=await q(Y.email,Y.role);if(we.type==="success")await I.alert(we.message,{title:"Success!",type:"success"});else if(we.type==="not_found"){if(await I.confirm(`"${Y.email}" hasn't signed up yet.

Would you like to send them an email invitation to join SunSar Bingo?`,{title:"User Not Found",confirmText:"Send Invite Email",type:"info"}))try{const{sendInviteEmail:Rt,openMailtoFallback:Qt}=await sy(async()=>{const{sendInviteEmail:qi,openMailtoFallback:ni}=await import("./emailService-ra1s4kSx.js");return{sendInviteEmail:qi,openMailtoFallback:ni}},[]);(await Rt({recipientEmail:Y.email,senderName:ce?.displayName||ce?.email||"A friend"})).success?await I.alert(`Invitation sent to ${Y.email}! They'll receive an email with instructions to join.`,{title:"Invitation Sent!",type:"success"}):(Qt(Y.email,ce?.displayName||"A friend"),await I.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"}))}catch{const Qt=encodeURIComponent("Join me on SunSar Bingo!"),Cn=encodeURIComponent(`Hey! Come join me on SunSar Bingo to track our 2026 goals together.

Sign up here: ${window.location.origin}`);window.open(`mailto:${Y.email}?subject=${Qt}&body=${Cn}`),await I.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"})}}else await I.alert(we.message,{title:"Error",type:"error"})}},wr=()=>{ut<2?zt(Y=>Y+1):(Ve(!1),localStorage.setItem("hasSeenWalkthrough","true"))},[Yt,Sn]=D.useState(!1),[Vn,Fn]=D.useState(null),[An,Us]=D.useState(!1),ls=D.useRef(null),[cs,Fi]=D.useState(!1),[rt,Dt]=D.useState(null),[Pn,Tt]=D.useState(null),[zs,yi]=D.useState(0),[Ma,Jn]=D.useState(!1),vi=D.useRef(null),[Ot,ei]=D.useState(!1),[bi,qn]=D.useState(()=>localStorage.getItem("celebrationDismissed")==="true"),[Va,xr]=D.useState(0);D.useEffect(()=>{Va===5&&(v(),xr(0),LR({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#ec4899","#ffffff"]}));let Y;return Va>0&&(Y=setTimeout(()=>xr(0),1e3)),()=>clearTimeout(Y)},[Va,v]);const _i=()=>{y&&xr(Y=>Y+1)},Bs=async()=>{await I.confirm("This will randomly shuffle all tiles (except the center) and lock the board. You won't be able to edit it after this.",{title:"Shuffle & Lock Board?",confirmText:"Lock It!",type:"warning"})&&(x(),me(!1))},nc=()=>{qn(!0),localStorage.setItem("celebrationDismissed","true")};rf.useEffect(()=>{!u&&!f&&(qn(!1),localStorage.removeItem("celebrationDismissed"))},[f,u]);const us=D.useRef(f);rf.useEffect(()=>{f&&!us.current&&!u&&P(),us.current=f},[f,u,P]);const Pa=Y=>{const we=V?ye:a;if(oe(Y),ve(we[Y].text),Ee(we[Y].style||{color:"#ffffff",fontSize:"base",bold:!1,italic:!1}),Ge(we[Y].targetCount||1),we[Y].dueDate){const dt=we[Y].dueDate,Rt=typeof dt.toDate=="function"?dt.toDate():new Date(dt),Qt=Rt.getFullYear(),Cn=String(Rt.getMonth()+1).padStart(2,"0"),qi=String(Rt.getDate()).padStart(2,"0");$e(`${Qt}-${Cn}-${qi}`)}else $e("");H(!0)},Oa=()=>{if(ne===null)return;let Y;qe&&(Y=new Date(qe+"T12:00:00"));const we=[...ye];we[ne]={...we[ne],text:ge,style:de,targetCount:Ie,dueDate:Y},U(we),H(!1),oe(null)};if(u)return b.jsx("div",{className:"flex h-screen items-center justify-center text-accent-primary animate-pulse",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),b.jsx("p",{children:"Loading Board..."})]})});const wi=a.filter(Y=>Y.isCompleted).length/25*100,Er=Y=>{if(!Y)return"-";const we=Y.toDate?Y.toDate():new Date(Y);return we.toLocaleDateString()+" "+we.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},On=V?ye:a,ti=Y=>{const we=On[Y];yn({index:Y,wasCompleted:we.isCompleted}),we.isCompleted?k():j(),d(Y),et(!0),setTimeout(()=>et(!1),3e3)};return b.jsx(b.Fragment,{children:b.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 pb-24 relative overflow-x-hidden no-print",children:[b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsxs("header",{className:"flex justify-between items-center mb-8 py-2",children:[b.jsx(nt.img,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},src:"/logo.png",alt:"SunSar Bingo",className:"h-10 sm:h-12 w-auto object-contain cursor-pointer active:scale-95 transition-transform",onClick:_i}),b.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[b.jsx("button",{onClick:()=>ei(!0),className:"p-2.5 text-slate-400 hover:text-accent-gold hover:bg-white/5 rounded-full transition-colors",title:"View Memories",children:b.jsx(Uf,{size:20})}),b.jsx("button",{onClick:()=>n("/dashboard"),className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Dashboard",children:b.jsx(Pv,{size:20})}),b.jsx("button",{onClick:()=>B(!0),className:"p-2.5 text-slate-400 hover:text-accent-primary hover:bg-white/5 rounded-full transition-colors",title:"Share Board",children:b.jsx(sf,{size:20})}),b.jsx("button",{onClick:S,className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Settings",children:b.jsx(Ov,{size:20})}),b.jsx("div",{className:"w-px h-6 bg-white/10 mx-1 hidden sm:block"}),b.jsx(nt.div,{initial:{scale:0},animate:{scale:1},className:"relative cursor-pointer group",children:b.jsx("img",{src:ce?.photoURL||"",alt:"User",className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full border-2 border-white/10 group-hover:border-accent-primary transition-colors object-cover shrink-0"})}),b.jsx("button",{onClick:re,className:"p-2.5 text-slate-400 hover:text-red-400 hover:bg-white/5 rounded-full transition-colors",title:"Logout",children:b.jsx(bR,{size:20})})]})]}),b.jsxs("div",{className:"mb-10",children:[b.jsx(nt.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:K?b.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:K}):b.jsxs(b.Fragment,{children:["My ",b.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent italic",children:"Bingo"})]})}),b.jsxs("p",{className:"text-slate-400 mt-2 text-base flex items-center gap-2",children:[b.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-white/5 rounded-full text-sm border border-white/10",children:[G,"",G," Grid"]}),b.jsx("span",{children:""}),b.jsxs("span",{children:[a.filter(Y=>Y.isCompleted).length,"/",a.length," completed"]})]})]}),b.jsx("div",{className:"flex justify-center mb-6",children:b.jsx("div",{className:"w-full max-w-[520px] aspect-square relative",children:b.jsx("div",{className:Gt("grid gap-1.5 sm:gap-2 w-full h-full",G===3&&"grid-cols-3 grid-rows-3",G===4&&"grid-cols-4 grid-rows-4",G===5&&"grid-cols-5 grid-rows-5",G===6&&"grid-cols-6 grid-rows-6"),children:On.map((Y,we)=>b.jsxs(nt.div,{title:Y.isCompleted?`Completed by ${Y.completedBy||"Someone"} on ${Er(Y.completedAt)}`:void 0,layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:we*.02},whileTap:{scale:.95},onClick:()=>{V||Y.isFreeSpace||(Y.isCompleted?Y.proofPhotos&&Y.proofPhotos.length>0?(Dt(Y),Tt(we),yi(0),Fi(!0)):ti(we):(z(),Fn(we),Sn(!0)))},className:Gt("relative rounded-lg flex items-center justify-center p-1 cursor-pointer select-none border backdrop-blur-sm overflow-hidden",G===3&&"text-sm sm:text-base",G===4&&"text-xs sm:text-sm",G===5&&"text-[11px] sm:text-sm",G===6&&"text-[9px] sm:text-xs","font-medium leading-tight select-none",Y.isCompleted?"text-white scale-110 font-semibold":"text-slate-300","bg-bg-card/90 border-white/20 shadow-md hover:border-white/40 hover:bg-bg-card/95 transition-all duration-200",Y.isCompleted&&!Y.isFreeSpace&&"bg-gradient-to-br from-accent-primary/30 to-accent-secondary/30 border-accent-primary/50 shadow-[0_0_15px_rgba(139,92,246,0.15)]",Y.isFreeSpace&&"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50",V&&"border-dashed border-slate-500"),children:[b.jsx("div",{className:"w-full h-full flex items-center justify-center text-center relative z-10",children:b.jsx("div",{className:"w-full h-full flex items-center justify-center p-1",onClick:dt=>{V&&(dt.stopPropagation(),Pa(we))},children:b.jsx("span",{className:Gt("leading-tight break-words w-full",Y.isFreeSpace?"text-lg font-bold text-accent-gold":"font-semibold line-clamp-3 sm:line-clamp-4",Y.isCompleted&&!Y.isFreeSpace&&"text-white"),style:!Y.isFreeSpace&&!Y.isCompleted?{color:Y.style?.color||"#cbd5e1",fontWeight:Y.style?.bold?"bold":"600",fontStyle:Y.style?.italic?"italic":"normal",fontSize:Y.style?.fontSize==="sm"?"12px":Y.style?.fontSize==="lg"?"18px":Y.style?.fontSize==="xl"?"22px":void 0}:void 0,children:Y.text})})}),Y.dueDate&&!Y.isCompleted&&!y&&b.jsxs("div",{className:Gt("flex items-center gap-1 mt-1 text-[10px] font-medium absolute bottom-1 right-1 px-1 rounded bg-black/40 backdrop-blur-sm",(Y.dueDate.toDate?Y.dueDate.toDate():new Date(Y.dueDate))<new Date?"text-red-400":"text-slate-400"),children:[b.jsx(k9,{size:8}),b.jsx("span",{children:(Y.dueDate.toDate?Y.dueDate.toDate():new Date(Y.dueDate)).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),Y.isCompleted&&!Y.isFreeSpace&&!V&&b.jsxs(b.Fragment,{children:[b.jsx(nt.div,{initial:{scale:0},animate:{scale:1},className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-20",children:b.jsx(Sl,{className:"w-12 h-12 text-white"})}),b.jsx("div",{className:"absolute top-0.5 right-0.5 w-1.5 h-1.5 bg-accent-primary rounded-full shadow-[0_0_5px_rgba(139,92,246,0.8)]"}),Y.proofPhotos&&Y.proofPhotos.length>0&&b.jsxs("div",{className:"absolute bottom-0.5 left-0.5 p-0.5 bg-accent-gold/80 rounded-sm flex items-center gap-0.5",children:[b.jsx(Zy,{className:"w-2.5 h-2.5 text-black"}),Y.proofPhotos.length>1&&b.jsx("span",{className:"text-[8px] font-bold text-black",children:Y.proofPhotos.length})]})]}),!Y.isFreeSpace&&!V&&(Y.targetCount||1)>1&&b.jsxs("div",{className:Gt("absolute bottom-0.5 right-0.5 px-1 py-0.5 rounded text-[8px] font-bold",Y.isCompleted?"bg-green-500/80 text-white":(Y.currentCount||0)>0?"bg-amber-500/80 text-white":"bg-slate-600/80 text-slate-300"),children:[Y.currentCount||0,"/",Y.targetCount]})]},Y.id))})})}),b.jsx("div",{className:"flex justify-center",children:b.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[520px] glass-panel p-4 flex flex-col gap-4",children:[b.jsxs("div",{className:"w-full",children:[b.jsxs("div",{className:"flex justify-between text-xs text-slate-300 mb-1.5 px-1",children:[b.jsx("span",{className:"font-semibold",children:"Progress"}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("span",{className:"font-mono text-accent-gold font-bold",children:[m,"/",G*2+2," Bingos"]}),b.jsxs("span",{className:"font-mono text-accent-primary",children:[Math.round(wi),"%"]})]})]}),b.jsx("div",{className:"h-3 bg-bg-dark/50 rounded-full overflow-hidden border border-white/5",children:b.jsx(nt.div,{className:"h-full bg-gradient-to-r from-accent-primary to-accent-secondary relative",initial:{width:0},animate:{width:`${wi}%`},transition:{duration:1,ease:"easeOut"},children:b.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[1px] bg-white/50 shadow-[0_0_10px_white]"})})})]}),b.jsx("div",{className:"flex justify-center gap-2",children:V?b.jsx(b.Fragment,{children:b.jsxs("div",{className:"flex gap-2 w-full",children:[b.jsx("button",{onClick:()=>me(!1),className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10 transition-all",children:"Cancel"}),b.jsxs("button",{onClick:()=>{C(ye),me(!1)},className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 transition-all flex items-center justify-center gap-2",children:[b.jsx(Sl,{size:16}),"Save Changes"]})]})}):b.jsxs("div",{className:"flex gap-2 justify-center w-full flex-wrap",children:[!y&&b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>{U([...a]),me(!0)},className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[b.jsx(wE,{size:12}),"Edit Board"]}),b.jsxs("button",{onClick:Bs,className:"flex-1 py-2 px-4 text-xs font-medium text-red-400 hover:text-red-300 transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[b.jsx(W9,{size:12}),"Shuffle & Lock"]})]}),b.jsxs("button",{onClick:()=>window.print(),className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[b.jsx($9,{size:12}),"Print Status"]})]})})]})}),b.jsx(es,{children:f&&!bi&&b.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:b.jsxs(nt.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center max-w-sm w-full relative overflow-hidden border-accent-gold/30",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent-gold/10 to-transparent pointer-events-none"}),b.jsx(nt.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"inline-block",children:b.jsx(vE,{className:"w-20 h-20 text-accent-gold mx-auto mb-4 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),b.jsx("h2",{className:"text-4xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-accent-gold via-white to-accent-secondary mb-2",children:"BINGO!"}),b.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"2026 is off to an amazing start!"}),b.jsx("button",{onClick:nc,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-[0_0_20px_rgba(139,92,246,0.4)] transition-all transform hover:scale-105",children:"Keep Playing"})]})})}),b.jsx(es,{children:Z&&b.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:()=>H(!1),children:b.jsxs(nt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-gold/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl relative overflow-hidden",onClick:Y=>Y.stopPropagation(),children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Edit Tile"}),b.jsx("div",{className:"mb-4 flex justify-center",children:b.jsx("div",{className:"w-32 h-32 rounded-lg bg-bg-card/80 border border-white/10 flex items-center justify-center p-2 text-center overflow-hidden",children:b.jsx("span",{className:Gt("font-hand font-semibold leading-tight break-words"),style:{color:de.color||"#ffffff",fontWeight:de.bold?"bold":"600",fontStyle:de.italic?"italic":"normal",fontSize:de.fontSize==="sm"?"12px":de.fontSize==="lg"?"18px":de.fontSize==="xl"?"22px":"16px"},children:ge||"Preview Text"})})}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Content"}),b.jsx("textarea",{className:"w-full bg-black/20 text-white rounded-lg p-3 border border-white/10 focus:border-accent-primary outline-none min-h-[80px]",value:ge,onChange:Y=>ve(Y.target.value),placeholder:"Enter bingo task..."})]}),b.jsxs("div",{className:"mb-6 space-y-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Color"}),b.jsx("div",{className:"flex gap-2 flex-wrap",children:["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#ec4899","#a855f7"].map(Y=>b.jsx("button",{className:Gt("w-6 h-6 rounded-full border border-white/10 transition-transform active:scale-90",de.color===Y&&"ring-2 ring-white scale-110"),style:{backgroundColor:Y},onClick:()=>Ee(we=>({...we,color:Y}))},Y))})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),b.jsx("div",{className:"flex bg-black/20 rounded-lg p-1",children:["sm","base","lg","xl"].map(Y=>b.jsx("button",{onClick:()=>Ee(we=>({...we,fontSize:Y})),className:Gt("flex-1 py-1 text-[10px] font-bold rounded transition-colors uppercase",(de.fontSize||"base")===Y?"bg-accent-primary text-white":"text-slate-400 hover:text-white"),children:Y==="base"?"M":Y},Y))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Style"}),b.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-lg p-1",children:[b.jsx("button",{onClick:()=>Ee(Y=>({...Y,bold:!Y.bold})),className:Gt("w-8 h-full rounded flex items-center justify-center font-bold transition-colors",de.bold?"bg-white text-black":"text-slate-400 hover:text-white"),children:"B"}),b.jsx("button",{onClick:()=>Ee(Y=>({...Y,italic:!Y.italic})),className:Gt("w-8 h-full rounded flex items-center justify-center italic transition-colors font-serif",de.italic?"bg-white text-black":"text-slate-400 hover:text-white"),children:"I"})]})]})]})]}),b.jsxs("div",{className:"space-y-4 mb-6 pt-4 border-t border-white/10",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Repeat Goal"}),b.jsx("input",{type:"number",min:"1",max:"100",value:Ie,onChange:Y=>Ge(parseInt(Y.target.value)||1),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors"}),b.jsx("p",{className:"text-xs text-slate-500",children:"How many times should this be completed?"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Due Date (Optional)"}),b.jsx("input",{type:"date",value:qe,onChange:Y=>$e(Y.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors [color-scheme:dark]"})]})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>H(!1),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:Oa,className:"flex-1 py-3 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl font-bold text-white shadow-lg hover:shadow-violet-500/25 active:scale-95 transition-all",children:"Ok"})]})]})})}),b.jsx(es,{children:Yt&&Vn!==null&&b.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{Sn(!1),Fn(null)},children:b.jsx(nt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-primary/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl",onClick:Y=>Y.stopPropagation(),children:(()=>{const Y=On[Vn],we=Y?.targetCount||1,dt=Y?.currentCount||0,Rt=we>1,Qt=dt>0;return b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2 text-center",children:Qt?"Add Progress":"Complete Task"}),b.jsxs("p",{className:"text-slate-300 text-sm text-center mb-2 line-clamp-2",children:["",Y?.text,""]}),Rt&&b.jsx("div",{className:"text-center mb-4",children:b.jsxs("span",{className:Gt("inline-block px-3 py-1 rounded-full text-sm font-bold",Qt?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"),children:["Progress: ",dt," / ",we]})}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:ls,className:"hidden",onChange:async Cn=>{const qi=Cn.target.files?.[0];if(qi&&Vn!==null){Us(!0);try{await M(Vn,qi),Sn(!1),Fn(null)}catch{alert("Failed to upload photo. Please try again.")}finally{Us(!1)}}}}),b.jsxs("button",{onClick:()=>ls.current?.click(),disabled:An,className:"w-full py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-amber-500/25 active:scale-95 transition-all disabled:opacity-50",children:[b.jsx(Zy,{size:20}),An?"Uploading...":Rt?"Add Photo & +1":"Add Photo & Complete"]}),b.jsxs("button",{onClick:()=>{d(Vn),Sn(!1),Fn(null)},disabled:An,className:"w-full py-3 px-4 bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-green-500/25 active:scale-95 transition-all disabled:opacity-50",children:[b.jsx(Sl,{size:20}),Rt?`Mark +1 (${dt+1}/${we})`:"Mark Complete"]}),Qt&&b.jsxs("button",{onClick:()=>{N(Vn),Sn(!1),Fn(null)},disabled:An,className:"w-full py-2 rounded-xl font-semibold text-red-400 hover:bg-red-500/10 transition-colors disabled:opacity-50",children:["Remove Progress (",dt-1,"/",we,")"]}),b.jsx("button",{onClick:()=>{Sn(!1),Fn(null)},disabled:An,className:"w-full py-3 rounded-xl font-semibold bg-white/5 text-slate-400 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"})]})]})})()})})}),b.jsx(es,{children:cs&&rt&&rt.proofPhotos&&rt.proofPhotos.length>0&&b.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{Fi(!1),Dt(null),Tt(null)},children:b.jsxs(nt.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-lg w-full",onClick:Y=>Y.stopPropagation(),children:[b.jsx("button",{onClick:()=>{Fi(!1),Dt(null),Tt(null)},className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors z-10",children:b.jsx(vo,{size:28})}),b.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[b.jsxs("div",{className:"relative bg-black",children:[b.jsx("img",{src:rt.proofPhotos[zs],alt:`Proof photo ${zs+1}`,className:"w-full h-auto max-h-[50vh] object-contain"}),rt.proofPhotos.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>yi(Y=>Y>0?Y-1:rt.proofPhotos.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:b.jsx(gR,{size:24})}),b.jsx("button",{onClick:()=>yi(Y=>Y<rt.proofPhotos.length-1?Y+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:b.jsx(yR,{size:24})})]}),b.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/60 rounded-full text-white text-xs font-medium",children:[zs+1," / ",rt.proofPhotos.length]})]}),rt.proofPhotos.length>1&&b.jsx("div",{className:"flex gap-1 p-2 bg-bg-dark/80 overflow-x-auto",children:rt.proofPhotos.map((Y,we)=>b.jsx("button",{onClick:()=>yi(we),className:Gt("w-12 h-12 rounded-md overflow-hidden border-2 flex-shrink-0 transition-all",zs===we?"border-accent-primary":"border-transparent opacity-60 hover:opacity-100"),children:b.jsx("img",{src:Y,alt:"",className:"w-full h-full object-cover"})},we))}),b.jsxs("div",{className:"p-4 bg-bg-dark/95",children:[b.jsx("p",{className:"text-white font-semibold mb-1",children:rt.text}),b.jsxs("p",{className:"text-slate-400 text-xs",children:["Completed by ",rt.completedBy,"  ",Er(rt.completedAt)]})]})]}),b.jsx("div",{className:"mt-4 flex gap-2",children:rt.proofPhotos.length<5&&b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:vi,className:"hidden",onChange:async Y=>{const we=Y.target.files?.[0];if(we&&Pn!==null&&rt){Jn(!0);try{const dt=await O(Pn,we);if(dt){const Rt=[...rt.proofPhotos||[],dt];Dt({...rt,proofPhotos:Rt}),yi(Rt.length-1)}}catch{alert("Failed to add photo. Max 5 photos allowed.")}finally{Jn(!1),vi.current&&(vi.current.value="")}}}}),b.jsxs("button",{onClick:()=>vi.current?.click(),disabled:Ma,className:"flex-1 py-2 px-4 bg-accent-gold/20 text-accent-gold rounded-xl font-medium flex items-center justify-center gap-2 hover:bg-accent-gold/30 transition-colors disabled:opacity-50",children:[b.jsx(Bf,{size:18}),Ma?"Adding...":`Add Photo (${rt.proofPhotos.length}/5)`]})]})}),b.jsx("button",{onClick:()=>{const Y=a.findIndex(we=>we.id===rt.id);Y!==-1&&d(Y),Fi(!1),Dt(null),Tt(null)},className:"mt-2 w-full py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Mark as In Progress"})]})})}),b.jsx(es,{children:ht&&Bt&&b.jsxs(nt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-slate-900 border border-white/20 text-white px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4",children:[b.jsxs("span",{children:["Marked as ",Bt.wasCompleted?"incomplete":"complete"]}),b.jsx("button",{onClick:()=>{d(Bt.index),et(!1)},className:"font-bold text-accent-primary hover:text-white transition-colors",children:"Undo"}),b.jsx("button",{onClick:()=>et(!1),className:"text-slate-400 hover:text-white",children:b.jsx(vo,{size:16})})]})}),b.jsx(es,{children:xt&&b.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:b.jsxs(nt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-slate-900 border border-white/20 rounded-3xl p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 pointer-events-none",children:b.jsx(vE,{className:"w-32 h-32 text-accent-gold rotate-12"})}),b.jsxs("div",{className:"relative z-10 text-center",children:[b.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Welcome! "}),b.jsxs("p",{className:"text-slate-400 mb-8 h-12",children:[ut===0&&"Tap any tile to mark it as complete.",ut===1&&"Start 'Edit Mode' to add your own tasks.",ut===2&&"Invite friends to play together!"]}),b.jsx("div",{className:"flex justify-center mb-8",children:b.jsx("div",{className:"w-32 h-32 bg-black/40 rounded-2xl border border-white/10 flex items-center justify-center relative",children:b.jsxs(es,{mode:"wait",children:[ut===0&&b.jsxs(nt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center",children:[b.jsx("div",{className:"w-16 h-16 bg-accent-primary/20 rounded-lg border border-accent-primary flex items-center justify-center",children:b.jsx(Sl,{className:"w-8 h-8 text-white"})}),b.jsx(nt.div,{animate:{scale:[1,1.2,1],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5},className:"absolute w-20 h-20 rounded-full border-2 border-white/50"})]},"step0"),ut===1&&b.jsx(nt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:b.jsx(wE,{className:"w-12 h-12 text-blue-400"})},"step1"),ut===2&&b.jsx(nt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:b.jsx(sf,{className:"w-12 h-12 text-green-400"})},"step2")]})})}),b.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[0,1,2].map(Y=>b.jsx("div",{className:Gt("w-2 h-2 rounded-full transition-colors",Y===ut?"bg-white":"bg-white/20")},Y))}),b.jsx("button",{onClick:wr,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-slate-200 transition-colors",children:ut===2?"Let's Play!":"Next"})]})]})})})]}),b.jsxs("div",{className:"only-print hidden",children:[b.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-black pb-2",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:"/logo.png",className:"h-12 w-auto",alt:"Logo"}),b.jsx("h1",{className:"text-2xl font-bold",children:K||"2026 Edition"})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("p",{className:"text-xs uppercase tracking-widest mb-0.5",children:["Status Report (",G,"",G,")"]}),b.jsxs("p",{className:"text-xl font-bold",children:[m," / ",G*2+2," Bingos"]})]})]}),b.jsx("div",{className:`grid gap-0 border-2 border-black ${G===3?"grid-cols-3":G===4?"grid-cols-4":G===5?"grid-cols-5":"grid-cols-6"}`,children:a.map(Y=>b.jsxs("div",{className:"aspect-square border border-black p-1.5 flex flex-col justify-between relative overflow-hidden min-h-[80px]",children:[b.jsx("div",{className:`font-bold leading-tight z-10 ${G>=5?"text-[10px]":"text-[11px]"}`,children:Y.text}),Y.isCompleted&&!Y.isFreeSpace&&b.jsxs("div",{className:"mt-0.5 relative z-10",children:[b.jsx("div",{className:"text-[7px] uppercase font-bold text-slate-700",children:"Completed by:"}),b.jsx("div",{className:"text-[9px] font-mono font-bold leading-none",children:Y.completedBy||"User"}),b.jsx("div",{className:"text-[7px] text-slate-600 mt-0.5",children:Er(Y.completedAt)})]}),Y.isCompleted&&b.jsx("div",{className:"absolute bottom-1 right-1 text-3xl font-bold text-slate-200 opacity-60 pointer-events-none z-0",children:""}),Y.isFreeSpace&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-xl rotate-[-45deg] opacity-20",children:"FREE"})]},Y.id))}),b.jsxs("div",{className:"mt-4 text-[9px] text-center border-t border-black pt-2 flex justify-between text-slate-500",children:[b.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),b.jsx("span",{children:"bingo.mysunsar.com"})]})]}),b.jsx(oB,{items:a,isOpen:Ot,onClose:()=>ei(!1)}),pe&&b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>B(!1)}),b.jsxs("div",{className:"relative w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[b.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[b.jsx(sf,{className:"w-5 h-5 text-accent-primary"}),"Shared With"]}),b.jsx("button",{onClick:()=>B(!1),className:"text-slate-400 hover:text-white",children:b.jsx(vo,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"p-6",children:[E.length===0?b.jsx("div",{className:"text-center text-slate-400 py-8",children:b.jsx("p",{children:"This board hasn't been shared yet."})}):b.jsx("div",{className:"space-y-4 mb-6",children:E.map(Y=>b.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-3 rounded-xl border border-white/5",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:Y.name.charAt(0)}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-semibold text-white",children:Y.name}),b.jsxs("div",{className:"text-xs text-slate-400",children:[Y.email,"  ",Y.role]})]})]}),b.jsx("button",{onClick:()=>gi(Y.id,Y.name),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove User",children:b.jsx(wR,{size:16})})]},Y.id))}),b.jsxs("button",{onClick:Da,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all flex items-center justify-center gap-2",children:[b.jsx(Bf,{size:18}),"Invite New User"]})]})]})]})]})})},lB=()=>{const{user:t,logout:e}=Io(),n=TR(),{openSettings:s}=ah(),a=Hl(),[l,u]=D.useState([]),[d,f]=D.useState(!0),[m,y]=D.useState(!1),[v,x]=D.useState(null),[C,M]=D.useState(5),O=[{size:3,label:"33",description:"Quick (9 tiles)",icon:""},{size:4,label:"44",description:"Compact (16 tiles)",icon:""},{size:5,label:"55",description:"Classic (25 tiles)",icon:""},{size:6,label:"66",description:"Extended (36 tiles)",icon:""}],N={blank:{name:"Blank Canvas ",items:[]},default:{name:"2026 Goals ",items:["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"]},fitness:{name:"Fitness Challenge ",items:["Run a 5k","Do 50 pushups in a row","Try a yoga class","Drink 3L water for a week","No sugar for 7 days","Go for a hike","Meal prep for a week","Climb a bouldering wall","Try Pilates","Walk 15k steps in a day","Do a spin class","Bike 20km","FREE SPACE","Touch your toes","Hold a plank for 2 min","Try CrossFit","Go swimming","Meditate for 10 mins x 7","Try a new sport","Sleep 8 hours x 5 days","Do 100 squats","Run a 10k","Go to the gym 4x in a week","Stretch daily for a week","Join a run club"]},couples:{name:"Couple Goals ",items:["Date night (no phones)","Cook a meal together","Weekend getaway","Watch a whole series","Breakfast in bed","Go for a long walk","Plan a future trip","Give each other massages","Recreate first date","Take a dance class","Stargazing date","Write love letters","FREE SPACE","Visit a winery/brewery","Do a puzzle together","Double date","Sunset picnic","Bake something sweet","Volunteer together","Learn a couple's skill","Game night","Make a photo album","Try a new restaurant","Surprise gift","Kiss in the rain"]},personal:{name:"Personal Growth ",items:["Read 1 book/month","Learn a new language","Start a journal","Digital detox (24h)","Meditate daily (1 week)","Drink 2L water daily","Wake up at 6am (1 week)","Declutter a room","Learn to invest","Take a solo trip","Volunteer","Compliment a stranger","FREE SPACE","No social media (weekend)","Learn an instrument","Cook a new cuisine","Write a gratitude list","Take a cold shower","Listen to a podcast","Fix sleep schedule","Walk 10k steps","Call an old friend","Create a vision board","Save 10% income","Take a course"]},knitting:{name:"Knitting Goals ",items:["Finish a WIP","Cast on a sweater","Learn brioche","Knit socks","Stash bust project","Try colorwork","Knit a hat","Use luxury yarn","Fix a mistake","Knit a gift","Block a project","Organize needles","FREE SPACE","Try a new fiber","Knit in public","Attend a knit night","Learn magic loop","Design a pattern","Teach someone to knit","Finish a blanket","Knit a shawl","Try cables","Buy souvenir yarn","Weave in ends immediately","Knit a gauge swatch"]},weaving:{name:"Weaving Goals ",items:["Warp the loom","Weave a rug","Try a new structure","Sample a pattern","Use handspun yarn","Finish a scarf","Hemstitching","Fix a broken warp","Weave a towel","Try tapestry","Mix fibers","Organize yarn stash","FREE SPACE","Weave a placemat","Attend a workshop","Try doublewidth","Weave transparency","Calculate warp correctly","Finish raw edges","Weave with rags","Try tablet weaving","Rigid heddle project","Floor loom project","Visit a mill","Share a project online"]},spinning:{name:"Spinning Goals ",items:["Spin 100g fiber","Ply a yarn","Try a new breed","Spin lace weight","Spin art yarn","Comb fleece","Card a batt","Spin on a drop spindle","Clean the wheel","Spin distinct colors","Skein and wash","Fractal spin","FREE SPACE","Spin silk","Spin cotton","Navajo ply","Spin for a project","Participate in Tour de Fleece","Sample a blend","Teach spinning","Spin consistent grist","Dye fiber","Blend colors on hackle","Spin exotic fiber","Fill a bobbin"]},painting:{name:"Painting Goals ",items:["Paint a landscape","Try watercolors","Paint a portrait","Mix a new color","Paint en plein air","Visit a gallery","Finish a sketchbook","Try oils","Paint a still life","Use a palette knife","Paint an animal","Try abstract","FREE SPACE","Clean brushes properly","Paint on canvas","Paint on wood","Follow a tutorial","Paint a sky","Try gouache","Varnish a painting","Frame a piece","Paint daily for a week","Recreate a master","Paint a self-portrait","Host a paint night"]},corporate:{name:"Corporate Bingo ",items:['"Circle back"',`"Let's take this offline"`,"Meeting that could be an email",'"Synergy"','"Low hanging fruit"','"Touch base"',"Someone forgets to mute","Screen share fails",'"Can you see my screen?"',"Awkward silence",'"Bandwidth"','"Deep dive"',"FREE SPACE","Pet interrupts video call","Echo on the line",'"Per my last email"','"Drill down"','"Out of pocket"','"Hard stop"','"Boil the ocean"',"Reply All disaster",'"Move the needle"','"Blue sky thinking"','"Paradigm shift"','"Quick win"']},travel:{name:"Travel Bucket List ",items:["Visit a new continent","Go on a solo trip","See the Northern Lights","Swim in an ocean","Road trip across 3 states","Fly First Class","Visit a National Park","Eat street food","Stay in a hostel","Learn 'Hello' in 5 languages","Visit a Wonder of the World","Go on a cruise","FREE SPACE","Make a travel vlog","Sleep under the stars","Visit a castle","Ride a train","See a volcano","Go scuba diving","Watch a sunrise on a mountain","Visit a winery","Ride a camel/elephant","Go skiing/snowboarding","Visit a tropical island","Send a postcard"]}};D.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching boards for user:",t.uid,t.email);const re=new Map;try{const P=ua(ts(Kt,"boards"),ha(`members.${t.uid}`,"in",["owner","editor","viewer"])),z=await ur(P);console.log("Boards with membership found:",z.docs.length),z.docs.forEach(V=>{const me=V.data(),ye=me.members?.[t.uid],U=me.members||{},Z=Object.values(U).filter(H=>H!=="owner").length;re.set(V.id,{id:V.id,...me,sharedCount:Z,myRole:ye})})}catch(P){console.error("Error querying boards by membership:",P)}try{const P=ua(ts(Kt,"years"),ha("ownerId","==",t.uid)),z=await ur(P);console.log("Legacy boards (years collection) found:",z.docs.length),z.docs.forEach(V=>{const me=V.data();re.set(`legacy_${V.id}`,{id:V.id,title:me.title||"2026 Bingo",createdAt:me.createdAt,isLocked:me.isLocked,ownerId:me.ownerId,myRole:"owner"})})}catch(P){console.log("Years collection query failed:",P)}try{const P=await ur(ts(Kt,"years"));console.log("All years docs:",P.docs.length),P.docs.forEach(z=>{const V=z.data();if(V.ownerId===t.uid||V.members?.[t.uid]){const me=`legacy_years_${z.id}`;re.has(me)||re.set(me,{id:z.id,title:V.title||`${z.id} Bingo`,createdAt:V.createdAt,isLocked:V.isLocked,ownerId:V.ownerId,myRole:V.ownerId===t.uid?"owner":V.members?.[t.uid]||"viewer"})}})}catch(P){console.log("Direct years fetch failed:",P)}const ce=Array.from(re.values()),I=ce.filter(P=>P.myRole!=="owner"&&P.ownerId),S=[...new Set(I.map(P=>P.ownerId))],k={};for(const P of S)try{const z=await Wl(Li(Kt,"users",P));if(z.exists()){const V=z.data();k[P]=V.displayName||V.email||"Unknown"}}catch{console.log("Could not fetch owner info for:",P)}const j=ce.map(P=>P.myRole!=="owner"&&P.ownerId&&k[P.ownerId]?{...P,ownerName:k[P.ownerId]}:P);console.log("Total boards to display:",j.length,j.map(P=>P.title)),u(j)}catch(re){console.error("Error fetching boards:",re)}finally{f(!1)}})()},[t]);const q=async G=>{if(!t)return;const re=N[G],ce=C,I=ce*ce,S=ce%2===1?Math.floor(I/2):-1,k=ce%2===1?I-1:I,j=await n.prompt("What would you like to call this board?",{title:"Board Title",inputDefaultValue:re.name,confirmText:"Create"});if(j)try{const P=re.items.filter(U=>U.trim().toUpperCase()!=="FREE SPACE"&&U!=="FREE SPACE"),z=[...P].sort(()=>.5-Math.random());for(;z.length<k;)z.push(P[z.length%P.length]||`Goal ${z.length+1}`);const V=[];let me=0;for(let U=0;U<I;U++)U===S&&ce%2===1?V.push({id:U,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(V.push({id:U,text:z[me],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),me++);const ye=await tv(ts(Kt,"boards"),{title:j,gridSize:ce,ownerId:t.uid,members:{[t.uid]:"owner"},items:V,createdAt:Ue.now(),isLocked:!1,lastUpdated:Ue.now()});a(`/board/${ye.id}`)}catch(P){console.error("Error creating board:",P),await n.alert("Failed to create board. Please try again.",{title:"Error",type:"error"})}finally{y(!1),x(null),M(5)}};if(d)return b.jsx("div",{className:"min-h-screen bg-bg-dark flex items-center justify-center text-white",children:"Loading Dashboard..."});const W=async(G,re,ce)=>{if(G.stopPropagation(),await n.confirm(`This will permanently delete "${ce}" and all its data.

This action cannot be undone.`,{title:"Delete Board?",confirmText:"Delete",type:"error"}))try{await TC(Li(Kt,"boards",re)),u(S=>S.filter(k=>k.id!==re)),await n.alert("Board deleted successfully.",{title:"Deleted",type:"success"})}catch(S){console.error("Error deleting board:",S),await n.alert("Failed to delete board. Please try again.",{title:"Error",type:"error"})}},K=async(G,re,ce)=>{if(G.stopPropagation(),!t)return;if(await n.confirm(`You will no longer have access to "${ce}".

You can ask the owner to re-share it if needed.`,{title:"Leave Board?",confirmText:"Leave",type:"warning"}))try{await di(Li(Kt,"boards",re),{[`members.${t.uid}`]:Rf()}),u(S=>S.filter(k=>k.id!==re)),await n.alert("You have left the board.",{title:"Left Board",type:"success"})}catch(S){console.error("Error leaving board:",S),await n.alert("Failed to leave board. Please try again.",{title:"Error",type:"error"})}};return b.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 relative",children:[b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsxs("header",{className:"flex justify-between items-center mb-12 py-2",children:[b.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-10 sm:h-12 w-auto object-contain cursor-pointer active:scale-95 transition-transform"}),b.jsxs("div",{className:"flex gap-2 items-center",children:[b.jsx("button",{onClick:()=>a("/help"),className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Help Guide",children:b.jsx(Vv,{size:20})}),b.jsx("button",{onClick:s,className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Settings",children:b.jsx(Ov,{size:20})}),b.jsx("button",{onClick:e,className:"bg-white/5 hover:bg-white/10 px-4 py-2 rounded-xl text-sm font-semibold transition-colors border border-white/10 hover:border-white/20",children:"Logout"})]})]}),b.jsxs("div",{className:"mb-10",children:[b.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:["My ",b.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent italic",children:"Boards"})]}),b.jsxs("p",{className:"text-slate-400 mt-2 text-base sm:text-lg",children:["Welcome back, ",b.jsx("span",{className:"text-accent-primary font-medium",children:t?.displayName?.split(" ")[0]||"Bingo Player"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[b.jsxs("button",{onClick:()=>y(!0),className:"group relative flex flex-col items-center justify-center h-48 rounded-2xl border-2 border-dashed border-slate-700 bg-white/5 hover:bg-white/10 hover:border-accent-primary transition-all cursor-pointer",children:[b.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-primary/20 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:b.jsx(Bf,{className:"w-6 h-6 text-accent-primary"})}),b.jsx("span",{className:"font-semibold text-slate-300 group-hover:text-white",children:"Create New Board"})]}),l.filter(G=>G.myRole==="owner").map(G=>{const ce=G.id==="2026"||!G.ownerId?`/board/legacy/${G.id}`:`/board/${G.id}`;return b.jsxs("div",{onClick:I=>{I.preventDefault(),console.log("Navigating to board:",ce),a(ce)},className:"group relative h-48 rounded-2xl bg-gradient-to-br from-slate-800 to-slate-900 border border-white/10 hover:border-accent-primary/50 p-6 flex flex-col justify-between cursor-pointer transition-all hover:translate-y-[-4px] hover:shadow-xl overflow-hidden active:scale-[0.99]",children:[b.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:b.jsx("button",{onClick:I=>W(I,G.id,G.title),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Delete Board",children:b.jsx(wR,{size:18})})}),b.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"h-7 mb-2",children:G.sharedCount&&G.sharedCount>0&&b.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:[b.jsx(oz,{size:10}),"Shared with ",G.sharedCount]})}),b.jsx("h3",{className:"text-xl font-bold text-white mb-1.5 line-clamp-2 pr-8 group-hover:text-accent-primary transition-colors",children:G.title}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[b.jsx(zf,{className:"w-3.5 h-3.5"}),G.createdAt?.toDate?G.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),b.jsx("div",{className:"mt-4",children:b.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-primary/10 text-accent-primary border border-accent-primary/20 group-hover:bg-accent-primary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},G.id)})]}),l.filter(G=>G.myRole!=="owner").length>0&&b.jsxs(b.Fragment,{children:[b.jsxs("h2",{className:"text-xl font-bold text-white mt-10 mb-6 flex items-center gap-2",children:[b.jsx("span",{className:"bg-gradient-to-r from-accent-secondary to-pink-500 bg-clip-text text-transparent",children:"Shared With Me"}),b.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",l.filter(G=>G.myRole!=="owner").length,")"]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.filter(G=>G.myRole!=="owner").map(G=>{const ce=G.id==="2026"||!G.ownerId?`/board/legacy/${G.id}`:`/board/${G.id}`;return b.jsxs("div",{onClick:I=>{I.preventDefault(),console.log("Navigating to shared board:",ce),a(ce)},className:"group relative h-48 rounded-2xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-white/10 hover:border-accent-secondary/50 p-6 flex flex-col justify-between cursor-pointer transition-all hover:translate-y-[-4px] hover:shadow-xl overflow-hidden active:scale-[0.99]",children:[b.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity pointer-events-none",children:b.jsx(Pv,{className:"w-24 h-24"})}),b.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:b.jsx("button",{onClick:I=>K(I,G.id,G.title),className:"p-2 text-slate-500 hover:text-amber-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Leave Board",children:b.jsx(bR,{size:18})})}),b.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"h-7 mb-2",children:b.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${G.myRole==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:G.myRole==="editor"?" Editor":" Viewer"})}),b.jsx("h3",{className:"text-xl font-bold text-white mb-1 line-clamp-1 pr-8",children:G.title}),G.ownerName&&b.jsxs("div",{className:"text-xs text-slate-500 mb-1.5",children:["Shared by ",b.jsx("span",{className:"text-slate-400",children:G.ownerName})]}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[b.jsx(zf,{className:"w-3.5 h-3.5"}),G.createdAt?.toDate?G.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),b.jsx("div",{className:"mt-4",children:b.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-secondary/10 text-accent-secondary border border-accent-secondary/20 group-hover:bg-accent-secondary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},G.id)})})]})]}),m&&b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{v?x(null):y(!1)}}),b.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center shrink-0",children:[b.jsx("h2",{className:"text-xl font-bold text-white",children:v?N[v].name:"Choose a Template"}),b.jsx("button",{onClick:()=>{v?x(null):y(!1)},className:"text-slate-400 hover:text-white",children:b.jsx(Bf,{className:"w-6 h-6 rotate-45"})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:v?b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Grid Size"}),b.jsx("div",{className:"grid grid-cols-4 gap-2",children:O.map(({size:G,label:re,icon:ce})=>b.jsxs("button",{onClick:()=>M(G),className:`p-3 rounded-xl border text-center transition-all ${C===G?"bg-accent-primary/20 border-accent-primary text-white":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10 hover:text-white"}`,children:[b.jsx("span",{className:"text-lg block",children:ce}),b.jsx("span",{className:"font-bold text-sm",children:re}),b.jsxs("span",{className:"text-[10px] block opacity-70",children:[G*G," tiles"]})]},G))})]}),b.jsx("div",{className:"flex justify-center",children:b.jsx("div",{className:`aspect-square w-full max-w-[380px] grid gap-1.5 p-3 bg-slate-950/50 rounded-xl border border-white/10 ${C===3?"grid-cols-3":C===4?"grid-cols-4":C===5?"grid-cols-5":"grid-cols-6"}`,children:(()=>{const G=C*C,re=C%2===1?Math.floor(G/2):-1,ce=N[v].items.filter(I=>I.trim().toUpperCase()!=="FREE SPACE");return Array.from({length:G},(I,S)=>{const k=S===re&&C%2===1,j=S<re||re===-1?S:S-1,P=k?"FREE":ce[j%ce.length]||`Goal ${S+1}`;return b.jsx("div",{className:`
                                                                relative rounded-lg flex items-center justify-center p-1 text-center select-none overflow-hidden 
                                                                ${C<=4?"text-[9px] sm:text-[11px]":"text-[7px] sm:text-[9px]"}
                                                                leading-tight font-medium border shadow-sm
                                                                ${k?"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold":"bg-white/5 border-white/10 text-slate-300"}
                                                            `,children:b.jsx("span",{className:"line-clamp-2",children:P})},S)})})()})}),b.jsxs("div",{className:"flex gap-3 pt-4",children:[b.jsx("button",{onClick:()=>x(null),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Back"}),b.jsxs("button",{onClick:()=>q(v),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all",children:["Create ",C,"",C," Board"]})]})]}):b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(N).map(([G,re])=>b.jsxs("button",{onClick:()=>x(G),className:"flex flex-col items-start p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent-primary/50 transition-all text-left group",children:[b.jsx("h3",{className:"font-bold text-white group-hover:text-accent-primary transition-colors",children:re.name}),b.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click to preview"})]},G))})})]})]})]})},cB=()=>{const{settings:t}=ah(),e=D.useRef(null),n=D.useRef(null),s=D.useRef([]),a=D.useMemo(()=>{switch(t.theme){case"midnight":return{type:"stars",particleCount:150,baseColor:"rgba(100, 150, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #0a1628 0%, #020617 50%, #000 100%)",shootingStars:!0};case"forest":return{type:"leaves",particleCount:40,baseColor:"rgba(100, 200, 120, ",bgGradient:"radial-gradient(ellipse at 30% 80%, #0a3d1a 0%, #052e16 50%, #021a09 100%)",shootingStars:!1};case"ocean":return{type:"bubbles",particleCount:60,baseColor:"rgba(100, 220, 255, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #0c4a5e 0%, #083344 50%, #041825 100%)",shootingStars:!1};case"sunset":return{type:"embers",particleCount:50,baseColor:"rgba(255, 150, 80, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #4a1a00 0%, #2a0a0a 50%, #1a0505 100%)",shootingStars:!1};default:return{type:"aurora",particleCount:80,baseColor:"rgba(180, 120, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1a1040 0%, #0f111a 50%, #0a0b10 100%)",shootingStars:!1}}},[t.theme]);return D.useEffect(()=>{const l=e.current;if(!l)return;const u=()=>{const f=[];for(let m=0;m<a.particleCount;m++)f.push(uB(l.width,l.height,a.type));s.current=f},d=()=>{l.width=window.innerWidth,l.height=window.innerHeight,u()};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[a]),D.useEffect(()=>{if(t.enableAnimation===!1)return;const l=e.current;if(!l)return;const u=l.getContext("2d");if(!u)return;let d=0,f=null;const m=()=>{u.clearRect(0,0,l.width,l.height),s.current.forEach(y=>{hB(y,l.width,l.height,a.type),dB(u,y,a)}),a.shootingStars&&(d++,d>300&&Math.random()<.01&&(f={x:Math.random()*l.width,y:Math.random()*l.height*.5,length:80+Math.random()*40,speed:15+Math.random()*10,opacity:1},d=0),f&&(u.beginPath(),u.strokeStyle=`rgba(255, 255, 255, ${f.opacity})`,u.lineWidth=2,u.moveTo(f.x,f.y),u.lineTo(f.x-f.length,f.y-f.length*.3),u.stroke(),f.x+=f.speed,f.y+=f.speed*.3,f.opacity-=.02,f.opacity<=0&&(f=null))),n.current=requestAnimationFrame(m)};return m(),()=>{n.current&&cancelAnimationFrame(n.current)}},[t.enableAnimation,a]),b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-[-2] transition-all duration-1000",style:{background:a.bgGradient}}),b.jsx("canvas",{ref:e,className:"fixed inset-0 z-[-1] pointer-events-none",style:{opacity:t.enableAnimation===!1?0:.8}}),b.jsxs("div",{className:"fixed inset-0 z-[-1] pointer-events-none overflow-hidden",children:[b.jsx("div",{className:`absolute w-[600px] h-[600px] rounded-full blur-[120px] animate-float-slow ${t.theme==="midnight"?"bg-blue-500/10":t.theme==="forest"?"bg-green-500/10":t.theme==="ocean"?"bg-cyan-500/10":t.theme==="sunset"?"bg-orange-500/10":"bg-purple-500/10"}`,style:{top:"-15%",left:"-10%"}}),b.jsx("div",{className:`absolute w-[500px] h-[500px] rounded-full blur-[100px] animate-float-slower ${t.theme==="midnight"?"bg-indigo-500/10":t.theme==="forest"?"bg-emerald-500/10":t.theme==="ocean"?"bg-teal-500/10":t.theme==="sunset"?"bg-rose-500/10":"bg-pink-500/10"}`,style:{bottom:"-10%",right:"-5%"}})]})]})};function uB(t,e,n){const s={x:Math.random()*t,y:Math.random()*e,opacity:Math.random()*.5+.2};switch(n){case"stars":return{...s,size:Math.random()*2+.5,speedX:0,speedY:0,opacity:Math.random()*.8+.2};case"leaves":return{...s,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.8+.3,hue:Math.random()*40+80};case"bubbles":return{...s,size:Math.random()*8+2,speedX:Math.random()*.3-.15,speedY:-(Math.random()*.8+.3)};case"embers":return{...s,size:Math.random()*3+1,speedX:Math.random()*.4-.2,speedY:-(Math.random()*1+.5),hue:Math.random()*30+15};default:return{...s,size:Math.random()*4+1,speedX:Math.random()*.3-.15,speedY:Math.random()*.2-.1,hue:Math.random()*60+240}}}function hB(t,e,n,s){t.x+=t.speedX,t.y+=t.speedY,s==="stars"&&(t.opacity+=(Math.random()-.5)*.05,t.opacity=Math.max(.1,Math.min(1,t.opacity))),t.x<0&&(t.x=e),t.x>e&&(t.x=0),t.y<0&&(t.y=n),t.y>n&&(t.y=0)}function dB(t,e,n){switch(t.beginPath(),n.type){case"stars":t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill(),e.opacity>.7&&(t.beginPath(),t.fillStyle=`rgba(200, 220, 255, ${e.opacity*.3})`,t.arc(e.x,e.y,e.size*3,0,Math.PI*2),t.fill());break;case"leaves":t.fillStyle=`hsla(${e.hue}, 60%, 50%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.5,e.x*.01,0,Math.PI*2),t.fill();break;case"bubbles":t.strokeStyle=n.baseColor+`${e.opacity})`,t.lineWidth=1,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.stroke(),t.beginPath(),t.fillStyle=`rgba(255, 255, 255, ${e.opacity*.5})`,t.arc(e.x-e.size*.3,e.y-e.size*.3,e.size*.2,0,Math.PI*2),t.fill();break;case"embers":const s=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size);s.addColorStop(0,`hsla(${e.hue}, 100%, 70%, ${e.opacity})`),s.addColorStop(1,`hsla(${e.hue}, 100%, 50%, 0)`),t.fillStyle=s,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill();break;default:const a=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size*2);a.addColorStop(0,`hsla(${e.hue}, 80%, 60%, ${e.opacity})`),a.addColorStop(1,`hsla(${e.hue}, 80%, 60%, 0)`),t.fillStyle=a,t.arc(e.x,e.y,e.size*2,0,Math.PI*2),t.fill();break}}const ou=({title:t,icon:e,children:n,delay:s=0})=>b.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s},className:"bg-white/5 border border-white/10 rounded-2xl p-6 backdrop-blur-sm hover:bg-white/10 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx("div",{className:"p-2 bg-accent-primary/20 rounded-lg text-accent-primary",children:b.jsx(e,{size:24})}),b.jsx("h3",{className:"text-xl font-bold text-white",children:t})]}),b.jsx("div",{className:"text-slate-300 space-y-3 leading-relaxed",children:n})]}),ty=({number:t,title:e,text:n})=>b.jsxs("div",{className:"flex gap-4",children:[b.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-slate-800 border border-white/20 flex items-center justify-center font-bold text-sm text-white",children:t}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold text-white mb-1",children:e}),b.jsx("p",{className:"text-sm text-slate-400",children:n})]})]}),fB=()=>{const t=Hl();return b.jsx("div",{className:"min-h-screen bg-transparent text-white p-6 relative overflow-x-hidden",children:b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsxs(nt.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t("/dashboard"),className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors mb-8 group",children:[b.jsx(pR,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),b.jsxs("div",{className:"text-center mb-16",children:[b.jsx(nt.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-accent-primary to-accent-secondary mb-6 shadow-2xl shadow-accent-primary/20",children:b.jsx(Uf,{size:40,className:"text-white"})}),b.jsxs(nt.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl sm:text-5xl font-extrabold mb-4",children:["How to ",b.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:"Bingo"})]}),b.jsx(nt.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-xl text-slate-400 max-w-2xl mx-auto",children:"Your complete guide to mastering the art of 2026 Bingo. Turn your goals into a game!"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-24",children:[b.jsxs(ou,{title:"Getting Started",icon:_R,delay:.3,children:[b.jsx("p",{children:"Welcome to your digital accountability partner! The app is designed to make achieving your 2026 goals fun and social."}),b.jsxs("div",{className:"mt-4 space-y-4",children:[b.jsx(ty,{number:1,title:"Sign Up",text:"You're already here! Your account is safe with us."}),b.jsx(ty,{number:2,title:"Create a Board",text:"Choose a template or start from scratch."}),b.jsx(ty,{number:3,title:"Invite Friends",text:"Everything is better together."})]})]}),b.jsxs(ou,{title:"Creating Boards",icon:Pv,delay:.4,children:[b.jsx("p",{children:"Your board is your battlefield. You can customize it to fit your exact needs."}),b.jsxs("div",{className:"mt-4 bg-black/20 rounded-xl p-4 border border-white/5",children:[b.jsxs("h4",{className:"font-semibold text-accent-gold mb-2 flex items-center gap-2",children:[b.jsx(M9,{size:16})," Pro Tips:"]}),b.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-slate-400",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"3x3 Grid:"})," Quick, focused mini-goals."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"5x5 Grid:"})," The classic Bingo experience."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Templates:"})," We have pre-made ideas for inspiration!"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Shuffle:"})," Don't like the layout? Hit shuffle before locking."]})]})]})]}),b.jsxs(ou,{title:"Playing the Game",icon:xE,delay:.5,children:[b.jsx("p",{children:"Once your board is finalized, the fun begins. Tap a tile to interact with it."}),b.jsxs("div",{className:"space-y-3 mt-4",children:[b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx(Zy,{className:"text-accent-secondary shrink-0 mt-1",size:18}),b.jsxs("div",{children:[b.jsx("span",{className:"text-white font-medium",children:"Add Proof:"}),b.jsx("p",{className:"text-sm",children:'Upload a photo to mark a tile as "In Progress" or "Completed".'})]})]}),b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx(xE,{className:"text-green-400 shrink-0 mt-1",size:18}),b.jsxs("div",{children:[b.jsx("span",{className:"text-white font-medium",children:"Mark Complete:"}),b.jsx("p",{className:"text-sm",children:`Tap "Mark Complete" when you're done. Watch the tile light up!`})]})]})]})]}),b.jsxs(ou,{title:"Shared Boards",icon:sf,delay:.6,children:[b.jsx("p",{children:"Compete or collaborate with friends on the same board."}),b.jsxs("div",{className:"mt-4 space-y-2 text-sm",children:[b.jsxs("p",{children:[" ",b.jsx("strong",{children:"Invite Users:"})," Click the share icon and add friends by email."]}),b.jsxs("p",{children:[" ",b.jsx("strong",{children:"Competition:"})," See who completes tiles first. The tile will show the name of the winner!"]}),b.jsxs("p",{children:[" ",b.jsx("strong",{children:"Live Updates:"})," Watch changes happen in real-time."]})]})]}),b.jsxs(ou,{title:"Advanced Features",icon:Ov,delay:.7,children:[b.jsx("p",{children:"Customize your experience in the settings menu."}),b.jsxs("ul",{className:"mt-2 space-y-2 text-sm text-slate-400",children:[b.jsxs("li",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary"}),"Toggle sound effects on/off"]}),b.jsxs("li",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary"}),"Switch dynamic backgrounds"]}),b.jsxs("li",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary"}),"Edit incomplete boards anytime"]})]})]}),b.jsx("div",{className:"md:col-span-2 mt-8",children:b.jsxs("div",{className:"bg-gradient-to-r from-accent-primary/10 to-accent-secondary/10 border border-white/10 rounded-2xl p-8 text-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-accent-primary to-accent-secondary"}),b.jsx(Vv,{className:"w-12 h-12 text-white mx-auto mb-4 opacity-80"}),b.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Ready to start?"}),b.jsx("p",{className:"text-slate-400 mb-6",children:"Create your first board and start your journey."}),b.jsx("button",{onClick:()=>t("/dashboard"),className:"px-8 py-3 bg-white text-bg-dark font-bold rounded-xl hover:bg-slate-200 transition-colors shadow-lg shadow-white/10",children:"Go to Dashboard"})]})})]})]})})},mB=()=>{const{user:t}=Io(),e=Hl(),[n,s]=D.useState("idle"),[a,l]=D.useState([]),[u,d]=D.useState(null),f=v=>l(x=>[...x,`[${new Date().toLocaleTimeString()}] ${v}`]),m=async()=>{if(t){s("running"),l([]),f("Starting migration process...");try{f("Fetching legacy board 'years/2026'...");const v=Li(Kt,"years","2026"),x=await Wl(v);if(!x.exists())throw new Error("Legacy document 'years/2026' not found!");const C=x.data();f(`Legacy data found: ${C.items?.length||0} items.`);const M="sarawbush@gmail.com",O="sunit.mathur@gmail.com";f(`Resolving user: ${M} (Owner)...`);const N=ua(ts(Kt,"users"),ha("email","==",M)),q=await ur(N);if(q.empty)throw new Error(`User ${M} not found in database.`);const W=q.docs[0].id;f(`Found Sara: ${W}`),f(`Resolving user: ${O} (Editor)...`);const K=ua(ts(Kt,"users"),ha("email","==",O)),G=await ur(K);if(G.empty)throw new Error(`User ${O} not found in database.`);const re=G.docs[0].id;f(`Found Sunit: ${re}`),f("Transforming data structure...");const ce=C.items.map((j,P)=>{const z=P===12,V=j.completed||j.isCompleted||!1,me={id:P,text:j.text||j||"",isCompleted:V,isFreeSpace:z,targetCount:1,currentCount:V?1:0};return V&&(me.completedBy=W),me});f("Creating new board in 'boards' collection...");const I=t.uid;f(`Creating as current user: ${I} (to satisfy security rules)`);const S={title:"2026 Bingo",gridSize:5,createdAt:Ue.now(),ownerId:I,updatedAt:Ue.now(),members:{[W]:"owner",[re]:"editor",[I]:"owner"},items:ce,theme:"dawn"},k=await tv(ts(Kt,"boards"),S);d(k.id),f(`SUCCESS! New Board Created. ID: ${k.id}`),s("success")}catch(v){console.error(v),f(`ERROR: ${v.message}`),s("error")}}},y=async()=>{if(t){s("running"),l([]),f("Starting permission fix...");try{f("Finding the '2026 Bingo' board...");const v=ua(ts(Kt,"boards"),ha("title","==","2026 Bingo")),C=(await ur(v)).docs.find(G=>G.data().members?.[t.uid]!==void 0);if(!C)throw new Error("Could not find a '2026 Bingo' board where you are a member.");const M=C.id;f(`Found board: ${M}`);const O="sarawbush@gmail.com",N=ua(ts(Kt,"users"),ha("email","==",O)),W=(await ur(N)).docs[0]?.id;if(!W)throw new Error("Could not find Sara's UID");f(`Downgrading ${t.email} to 'editor'...`),f(`Ensuring ${O} is 'owner'...`),f(`Transferring ownership to ${O}...`);const K=Li(Kt,"boards",M);await di(K,{[`members.${t.uid}`]:"editor",[`members.${W}`]:"owner",ownerId:W}),f("SUCCESS! Permissions updated."),s("success"),d(M)}catch(v){console.error(v),f(`ERROR: ${v.message}`),s("error")}}};return b.jsx("div",{className:"min-h-screen bg-bg-dark text-white p-6",children:b.jsxs("div",{className:"max-w-2xl mx-auto",children:[b.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors mb-8",children:[b.jsx(pR,{size:20}),"Back to Dashboard"]}),b.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-2xl p-8 shadow-xl",children:[b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Legacy Migration Tool"}),b.jsx("p",{className:"text-slate-400 mb-8",children:"Tools to manage the 2026 Board migration."}),b.jsxs("div",{className:"bg-black/30 rounded-xl p-4 mb-8 font-mono text-sm max-h-64 overflow-y-auto border border-white/5",children:[a.length===0?b.jsx("span",{className:"text-slate-600",children:"Waiting for command..."}):a.map((v,x)=>b.jsx("div",{className:"mb-1",children:v},x)),n==="running"&&b.jsxs("div",{className:"flex items-center gap-2 text-accent-primary mt-2",children:[b.jsx(O9,{className:"animate-spin w-4 h-4"})," Processing..."]})]}),n==="success"?b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4 flex flex-col gap-4 text-center",children:[b.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-400 font-bold text-lg",children:[b.jsx(vR,{})," Operation Complete"]}),b.jsx("button",{onClick:()=>e(`/board/${u}`),className:"bg-green-500 text-white font-bold py-3 px-6 rounded-xl hover:bg-green-400 transition-colors",children:"Open Board"})]}),b.jsx("button",{onClick:()=>s("idle"),className:"w-full py-3 text-slate-400 hover:text-white",children:"Run functionality again"})]}):b.jsxs("div",{className:"space-y-4",children:[b.jsxs("button",{onClick:m,disabled:n==="running",className:`w-full py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all ${n==="running"?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-gradient-to-r from-accent-primary to-accent-secondary text-white hover:shadow-lg hover:shadow-accent-primary/20"}`,children:[n==="running"?"Migrating...":"Start New Migration",!n&&b.jsx(q9,{size:20})]}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-0 flex items-center",children:b.jsx("div",{className:"w-full border-t border-white/10"})}),b.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:b.jsx("span",{className:"bg-slate-900 px-2 text-slate-500",children:"Or Fix Existing"})})]}),b.jsx("button",{onClick:y,disabled:n==="running",className:"w-full py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all border border-amber-500/30 text-amber-500 hover:bg-amber-500/10",children:"Downgrade Me to Editor"})]}),n==="error"&&b.jsxs("div",{className:"mt-4 p-4 bg-red-500/10 border border-red-500/20 rounded-xl text-red-200 flex items-center gap-3",children:[b.jsx(tz,{size:20}),"Check logs for error details."]})]})]})})},pB=()=>{const{user:t,loading:e}=Io();return e?b.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-bg-dark text-slate-500",children:"Initializing..."}):t?b.jsxs(b.Fragment,{children:[b.jsx(cB,{}),b.jsx(Kk,{children:b.jsxs(Tk,{children:[b.jsx(sa,{path:"/",element:b.jsx(_x,{to:"/dashboard",replace:!0})}),b.jsx(sa,{path:"/dashboard",element:b.jsx(lB,{})}),b.jsx(sa,{path:"/board/legacy/:yearId",element:b.jsx(kE,{})}),b.jsx(sa,{path:"/board/:boardId",element:b.jsx(kE,{})}),b.jsx(sa,{path:"/help",element:b.jsx(fB,{})}),b.jsx(sa,{path:"/admin/migrate",element:b.jsx(mB,{})}),b.jsx(sa,{path:"*",element:b.jsx(_x,{to:"/dashboard",replace:!0})})]})})]}):b.jsx(nB,{})};function gB(){return b.jsx(D3,{children:b.jsx(tB,{children:b.jsx(uz,{children:b.jsx(pB,{})})})})}console.log("Main.tsx full run");const DE=document.getElementById("root");DE?SN.createRoot(DE).render(b.jsx(D.StrictMode,{children:b.jsx(gB,{})})):console.error("Root not found");export{va as C,js as F,$f as _,hn as a,nS as b,_o as c,Pi as d,pm as e,d0 as g,So as i,l0 as p,Cs as r,c0 as u};
