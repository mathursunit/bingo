(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function ik(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ty={exports:{}},mu={};var l1;function rk(){if(l1)return mu;l1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:l}}return mu.Fragment=e,mu.jsx=n,mu.jsxs=n,mu}var c1;function sk(){return c1||(c1=1,ty.exports=rk()),ty.exports}var b=sk(),ny={exports:{}},ze={};var u1;function ak(){if(u1)return ze;u1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.iterator;function A(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,I={};function z(E,L,Y){this.props=E,this.context=L,this.refs=I,this.updater=Y||M}z.prototype.isReactComponent={},z.prototype.setState=function(E,L){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,L,"setState")},z.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function $(){}$.prototype=z.prototype;function H(E,L,Y){this.props=E,this.context=L,this.refs=I,this.updater=Y||M}var le=H.prototype=new $;le.constructor=H,O(le,z.prototype),le.isPureReactComponent=!0;var re=Array.isArray;function ae(){}var D={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function P(E,L,Y){var ne=Y.ref;return{$$typeof:t,type:E,key:L,ref:ne!==void 0?ne:null,props:Y}}function N(E,L){return P(E.type,L,E.props)}function V(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function B(E){var L={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Y){return L[Y]})}var j=/\/+/g;function be(E,L){return typeof E=="object"&&E!==null&&E.key!=null?B(""+E.key):L.toString(36)}function De(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(ae,ae):(E.status="pending",E.then(function(L){E.status==="pending"&&(E.status="fulfilled",E.value=L)},function(L){E.status==="pending"&&(E.status="rejected",E.reason=L)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function te(E,L,Y,ne,me){var ge=typeof E;(ge==="undefined"||ge==="boolean")&&(E=null);var pe=!1;if(E===null)pe=!0;else switch(ge){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(E.$$typeof){case t:case e:pe=!0;break;case g:return pe=E._init,te(pe(E._payload),L,Y,ne,me)}}if(pe)return me=me(E),pe=ne===""?"."+be(E,0):ne,re(me)?(Y="",pe!=null&&(Y=pe.replace(j,"$&/")+"/"),te(me,L,Y,"",function(Ee){return Ee})):me!=null&&(V(me)&&(me=N(me,Y+(me.key==null||E&&E.key===me.key?"":(""+me.key).replace(j,"$&/")+"/")+pe)),L.push(me)),1;pe=0;var xe=ne===""?".":ne+":";if(re(E))for(var _e=0;_e<E.length;_e++)ne=E[_e],ge=xe+be(ne,_e),pe+=te(ne,L,Y,ge,me);else if(_e=A(E),typeof _e=="function")for(E=_e.call(E),_e=0;!(ne=E.next()).done;)ne=ne.value,ge=xe+be(ne,_e++),pe+=te(ne,L,Y,ge,me);else if(ge==="object"){if(typeof E.then=="function")return te(De(E),L,Y,ne,me);throw L=String(E),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return pe}function G(E,L,Y){if(E==null)return E;var ne=[],me=0;return te(E,ne,"","",function(ge){return L.call(Y,ge,me++)}),ne}function q(E){if(E._status===-1){var L=E._result;L=L(),L.then(function(Y){(E._status===0||E._status===-1)&&(E._status=1,E._result=Y)},function(Y){(E._status===0||E._status===-1)&&(E._status=2,E._result=Y)}),E._status===-1&&(E._status=0,E._result=L)}if(E._status===1)return E._result.default;throw E._result}var W=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},U={map:G,forEach:function(E,L,Y){G(E,function(){L.apply(this,arguments)},Y)},count:function(E){var L=0;return G(E,function(){L++}),L},toArray:function(E){return G(E,function(L){return L})||[]},only:function(E){if(!V(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return ze.Activity=v,ze.Children=U,ze.Component=z,ze.Fragment=n,ze.Profiler=a,ze.PureComponent=H,ze.StrictMode=r,ze.Suspense=d,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ze.__COMPILER_RUNTIME={__proto__:null,c:function(E){return D.H.useMemoCache(E)}},ze.cache=function(E){return function(){return E.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(E,L,Y){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var ne=O({},E.props),me=E.key;if(L!=null)for(ge in L.key!==void 0&&(me=""+L.key),L)!C.call(L,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&L.ref===void 0||(ne[ge]=L[ge]);var ge=arguments.length-2;if(ge===1)ne.children=Y;else if(1<ge){for(var pe=Array(ge),xe=0;xe<ge;xe++)pe[xe]=arguments[xe+2];ne.children=pe}return P(E.type,me,ne)},ze.createContext=function(E){return E={$$typeof:c,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:l,_context:E},E},ze.createElement=function(E,L,Y){var ne,me={},ge=null;if(L!=null)for(ne in L.key!==void 0&&(ge=""+L.key),L)C.call(L,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(me[ne]=L[ne]);var pe=arguments.length-2;if(pe===1)me.children=Y;else if(1<pe){for(var xe=Array(pe),_e=0;_e<pe;_e++)xe[_e]=arguments[_e+2];me.children=xe}if(E&&E.defaultProps)for(ne in pe=E.defaultProps,pe)me[ne]===void 0&&(me[ne]=pe[ne]);return P(E,ge,me)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(E){return{$$typeof:h,render:E}},ze.isValidElement=V,ze.lazy=function(E){return{$$typeof:g,_payload:{_status:-1,_result:E},_init:q}},ze.memo=function(E,L){return{$$typeof:m,type:E,compare:L===void 0?null:L}},ze.startTransition=function(E){var L=D.T,Y={};D.T=Y;try{var ne=E(),me=D.S;me!==null&&me(Y,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(ae,W)}catch(ge){W(ge)}finally{L!==null&&Y.types!==null&&(L.types=Y.types),D.T=L}},ze.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ze.use=function(E){return D.H.use(E)},ze.useActionState=function(E,L,Y){return D.H.useActionState(E,L,Y)},ze.useCallback=function(E,L){return D.H.useCallback(E,L)},ze.useContext=function(E){return D.H.useContext(E)},ze.useDebugValue=function(){},ze.useDeferredValue=function(E,L){return D.H.useDeferredValue(E,L)},ze.useEffect=function(E,L){return D.H.useEffect(E,L)},ze.useEffectEvent=function(E){return D.H.useEffectEvent(E)},ze.useId=function(){return D.H.useId()},ze.useImperativeHandle=function(E,L,Y){return D.H.useImperativeHandle(E,L,Y)},ze.useInsertionEffect=function(E,L){return D.H.useInsertionEffect(E,L)},ze.useLayoutEffect=function(E,L){return D.H.useLayoutEffect(E,L)},ze.useMemo=function(E,L){return D.H.useMemo(E,L)},ze.useOptimistic=function(E,L){return D.H.useOptimistic(E,L)},ze.useReducer=function(E,L,Y){return D.H.useReducer(E,L,Y)},ze.useRef=function(E){return D.H.useRef(E)},ze.useState=function(E){return D.H.useState(E)},ze.useSyncExternalStore=function(E,L,Y){return D.H.useSyncExternalStore(E,L,Y)},ze.useTransition=function(){return D.H.useTransition()},ze.version="19.2.3",ze}var h1;function Xv(){return h1||(h1=1,ny.exports=ak()),ny.exports}var S=Xv();const At=ik(S);var iy={exports:{}},pu={},ry={exports:{}},sy={};var d1;function ok(){return d1||(d1=1,(function(t){function e(te,G){var q=te.length;te.push(G);e:for(;0<q;){var W=q-1>>>1,U=te[W];if(0<a(U,G))te[W]=G,te[q]=U,q=W;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var G=te[0],q=te.pop();if(q!==G){te[0]=q;e:for(var W=0,U=te.length,E=U>>>1;W<E;){var L=2*(W+1)-1,Y=te[L],ne=L+1,me=te[ne];if(0>a(Y,q))ne<U&&0>a(me,Y)?(te[W]=me,te[ne]=q,W=ne):(te[W]=Y,te[L]=q,W=L);else if(ne<U&&0>a(me,q))te[W]=me,te[ne]=q,W=ne;else break e}}return G}function a(te,G){var q=te.sortIndex-G.sortIndex;return q!==0?q:te.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],m=[],g=1,v=null,_=3,A=!1,M=!1,O=!1,I=!1,z=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function le(te){for(var G=n(m);G!==null;){if(G.callback===null)r(m);else if(G.startTime<=te)r(m),G.sortIndex=G.expirationTime,e(d,G);else break;G=n(m)}}function re(te){if(O=!1,le(te),!M)if(n(d)!==null)M=!0,ae||(ae=!0,B());else{var G=n(m);G!==null&&De(re,G.startTime-te)}}var ae=!1,D=-1,C=5,P=-1;function N(){return I?!0:!(t.unstable_now()-P<C)}function V(){if(I=!1,ae){var te=t.unstable_now();P=te;var G=!0;try{e:{M=!1,O&&(O=!1,$(D),D=-1),A=!0;var q=_;try{t:{for(le(te),v=n(d);v!==null&&!(v.expirationTime>te&&N());){var W=v.callback;if(typeof W=="function"){v.callback=null,_=v.priorityLevel;var U=W(v.expirationTime<=te);if(te=t.unstable_now(),typeof U=="function"){v.callback=U,le(te),G=!0;break t}v===n(d)&&r(d),le(te)}else r(d);v=n(d)}if(v!==null)G=!0;else{var E=n(m);E!==null&&De(re,E.startTime-te),G=!1}}break e}finally{v=null,_=q,A=!1}G=void 0}}finally{G?B():ae=!1}}}var B;if(typeof H=="function")B=function(){H(V)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,be=j.port2;j.port1.onmessage=V,B=function(){be.postMessage(null)}}else B=function(){z(V,0)};function De(te,G){D=z(function(){te(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(te){switch(_){case 1:case 2:case 3:var G=3;break;default:G=_}var q=_;_=G;try{return te()}finally{_=q}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(te,G){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var q=_;_=te;try{return G()}finally{_=q}},t.unstable_scheduleCallback=function(te,G,q){var W=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?W+q:W):q=W,te){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=q+U,te={id:g++,callback:G,priorityLevel:te,startTime:q,expirationTime:U,sortIndex:-1},q>W?(te.sortIndex=q,e(m,te),n(d)===null&&te===n(m)&&(O?($(D),D=-1):O=!0,De(re,q-W))):(te.sortIndex=U,e(d,te),M||A||(M=!0,ae||(ae=!0,B()))),te},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(te){var G=_;return function(){var q=_;_=G;try{return te.apply(this,arguments)}finally{_=q}}}})(sy)),sy}var f1;function lk(){return f1||(f1=1,ry.exports=ok()),ry.exports}var ay={exports:{}},ri={};var m1;function ck(){if(m1)return ri;m1=1;var t=Xv();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ri.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ri.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,g)},ri.flushSync=function(d){var m=c.T,g=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=m,r.p=g,r.d.f()}},ri.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},ri.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},ri.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:A}):g==="script"&&r.d.X(d,{crossOrigin:v,integrity:_,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ri.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},ri.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin);r.d.L(d,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ri.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=h(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},ri.requestFormReset=function(d){r.d.r(d)},ri.unstable_batchedUpdates=function(d,m){return d(m)},ri.useFormState=function(d,m,g){return c.H.useFormState(d,m,g)},ri.useFormStatus=function(){return c.H.useHostTransitionStatus()},ri.version="19.2.3",ri}var p1;function XS(){if(p1)return ay.exports;p1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ay.exports=ck(),ay.exports}var g1;function uk(){if(g1)return pu;g1=1;var t=lk(),e=Xv(),n=XS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return d(p),i;if(y===u)return d(p),s;y=y.sibling}throw Error(r(188))}if(o.return!==u.return)o=p,u=y;else{for(var w=!1,R=p.child;R;){if(R===o){w=!0,o=p,u=y;break}if(R===u){w=!0,u=p,o=y;break}R=R.sibling}if(!w){for(R=y.child;R;){if(R===o){w=!0,o=y,u=p;break}if(R===u){w=!0,u=y,o=p;break}R=R.sibling}if(!w)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),H=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var j=Symbol.for("react.client.reference");function be(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===j?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case z:return"Profiler";case I:return"StrictMode";case re:return"Suspense";case ae:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case H:return i.displayName||"Context";case $:return(i._context.displayName||"Context")+".Consumer";case le:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return s=i.displayName||null,s!==null?s:be(i.type)||"Memo";case C:s=i._payload,i=i._init;try{return be(i(s))}catch{}}return null}var De=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},W=[],U=-1;function E(i){return{current:i}}function L(i){0>U||(i.current=W[U],W[U]=null,U--)}function Y(i,s){U++,W[U]=i.current,i.current=s}var ne=E(null),me=E(null),ge=E(null),pe=E(null);function xe(i,s){switch(Y(ge,s),Y(me,i),Y(ne,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Dw(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Dw(s),i=kw(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}L(ne),Y(ne,i)}function _e(){L(ne),L(me),L(ge)}function Ee(i){i.memoizedState!==null&&Y(pe,i);var s=ne.current,o=kw(s,i.type);s!==o&&(Y(me,i),Y(ne,o))}function Ue(i){me.current===i&&(L(ne),L(me)),pe.current===i&&(L(pe),uu._currentValue=q)}var Pe,st;function Ne(i){if(Pe===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Pe=s&&s[1]||"",st=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pe+i+st}var wt=!1;function ht(i,s){if(!i||wt)return"";wt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(oe){var ie=oe}Reflect.construct(i,[],he)}else{try{he.call()}catch(oe){ie=oe}i.call(he.prototype)}}else{try{throw Error()}catch(oe){ie=oe}(he=i())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(oe){if(oe&&ie&&typeof oe.stack=="string")return[oe.stack,ie.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),w=y[0],R=y[1];if(w&&R){var F=w.split(`
`),ee=R.split(`
`);for(p=u=0;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;for(;p<ee.length&&!ee[p].includes("DetermineComponentFrameRoot");)p++;if(u===F.length||p===ee.length)for(u=F.length-1,p=ee.length-1;1<=u&&0<=p&&F[u]!==ee[p];)p--;for(;1<=u&&0<=p;u--,p--)if(F[u]!==ee[p]){if(u!==1||p!==1)do if(u--,p--,0>p||F[u]!==ee[p]){var ce=`
`+F[u].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=u&&0<=p);break}}}finally{wt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ne(o):""}function Bt(i,s){switch(i.tag){case 26:case 27:case 5:return Ne(i.type);case 16:return Ne("Lazy");case 13:return i.child!==s&&s!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return ht(i.type,!1);case 11:return ht(i.type.render,!1);case 1:return ht(i.type,!0);case 31:return Ne("Activity");default:return""}}function mn(i){try{var s="",o=null;do s+=Bt(i,o),o=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var at=Object.prototype.hasOwnProperty,qe=t.unstable_scheduleCallback,pn=t.unstable_cancelCallback,Ni=t.unstable_shouldYield,Di=t.unstable_requestPaint,Ft=t.unstable_now,Jt=t.unstable_getCurrentPriorityLevel,ei=t.unstable_ImmediatePriority,Hn=t.unstable_UserBlockingPriority,gn=t.unstable_NormalPriority,ti=t.unstable_LowPriority,yi=t.unstable_IdlePriority,Pt=t.log,Ki=t.unstable_setDisableYieldValue,Cn=null,nn=null;function jn(i){if(typeof Pt=="function"&&Ki(i),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(Cn,i)}catch{}}var Dt=Math.clz32?Math.clz32:jr,ni=Math.log,gr=Math.LN2;function jr(i){return i>>>=0,i===0?32:31-(ni(i)/gr|0)|0}var vi=256,yr=262144,He=4194304;function Vt(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function jt(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var p=0,y=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var R=u&134217727;return R!==0?(u=R&~y,u!==0?p=Vt(u):(w&=R,w!==0?p=Vt(w):o||(o=R&~i,o!==0&&(p=Vt(o))))):(R=u&~y,R!==0?p=Vt(R):w!==0?p=Vt(w):o||(o=u&~i,o!==0&&(p=Vt(o)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:p}function rn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ln(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qt(){var i=He;return He<<=1,(He&62914560)===0&&(He=4194304),i}function pt(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function cn(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Tt(i,s,o,u,p,y){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var R=i.entanglements,F=i.expirationTimes,ee=i.hiddenUpdates;for(o=w&~o;0<o;){var ce=31-Dt(o),he=1<<ce;R[ce]=0,F[ce]=-1;var ie=ee[ce];if(ie!==null)for(ee[ce]=null,ce=0;ce<ie.length;ce++){var oe=ie[ce];oe!==null&&(oe.lane&=-536870913)}o&=~he}u!==0&&Rn(i,u,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(w&~s))}function Rn(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Dt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function yn(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Dt(o),p=1<<u;p&s|i[u]&s&&(i[u]|=s),o&=~p}}function Gn(i,s){var o=s&-s;return o=(o&42)!==0?1:In(o),(o&(i.suspendedLanes|s))!==0?0:o}function In(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function gt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Nn(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:t1(i.type))}function kt(i,s){var o=G.p;try{return G.p=i,s()}finally{G.p=o}}var vn=Math.random().toString(36).slice(2),Lt="__reactFiber$"+vn,Yt="__reactProps$"+vn,ki="__reactContainer$"+vn,Hs="__reactEvents$"+vn,Yo="__reactListeners$"+vn,Xo="__reactHandles$"+vn,Qa="__reactResources$"+vn,bi="__reactMarker$"+vn;function cs(i){delete i[Lt],delete i[Yt],delete i[Hs],delete i[Yo],delete i[Xo]}function Yi(i){var s=i[Lt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[ki]||o[Lt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=Uw(i);i!==null;){if(o=i[Lt])return o;i=Uw(i)}return s}i=o,o=i.parentNode}return null}function xi(i){if(i=i[Lt]||i[ki]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function ii(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Xi(i){var s=i[Qa];return s||(s=i[Qa]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function sn(i){i[bi]=!0}var Mi=new Set,Wo={};function Oi(i,s){Pi(i,s),Pi(i+"Capture",s)}function Pi(i,s){for(Wo[i]=s,i=0;i<s.length;i++)Mi.add(s[i])}var Ja=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),J={},Se={};function Ut(i){return at.call(Se,i)?!0:at.call(J,i)?!1:Ja.test(i)?Se[i]=!0:(J[i]=!0,!1)}function Ht(i,s,o){if(Ut(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function dt(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function We(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function ut(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Mt(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Vi(i,s,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){o=""+w,y.call(this,w)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function yt(i){if(!i._valueTracker){var s=Mt(i)?"checked":"value";i._valueTracker=Vi(i,s,""+i[s])}}function Za(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Mt(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Lr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var eo=/[\n"\\]/g;function _i(i){return i.replace(eo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Qo(i,s,o,u,p,y,w,R){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),s!=null?w==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ut(s)):i.value!==""+ut(s)&&(i.value=""+ut(s)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),s!=null?Tc(i,w,ut(s)):o!=null?Tc(i,w,ut(o)):u!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+ut(R):i.removeAttribute("name")}function Vh(i,s,o,u,p,y,w,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){yt(i);return}o=o!=null?""+ut(o):"",s=s!=null?""+ut(s):o,R||s===i.value||(i.value=s),i.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=R?i.checked:!!u,i.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),yt(i)}function Tc(i,s,o){s==="number"&&Lr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Gs(i,s,o,u){if(i=i.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=s.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&u&&(i[o].defaultSelected=!0)}else{for(o=""+ut(o),s=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function jh(i,s,o){if(s!=null&&(s=""+ut(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+ut(o):""}function $s(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(De(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=ut(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),yt(i)}function wi(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Lh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ec(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Lh.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Sc(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&o[p]!==u&&Ec(i,p,u)}else for(var y in s)s.hasOwnProperty(y)&&Ec(i,y,s[y])}function Jo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zo(i){return Ks.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function vr(){}var Ac=null;function Wi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ys=null,Ur=null;function to(i){var s=xi(i);if(s&&(i=s.stateNode)){var o=i[Yt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Qo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+_i(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var p=u[Yt]||null;if(!p)throw Error(r(90));Qo(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&Za(u)}break e;case"textarea":jh(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Gs(i,!!o.multiple,s,!1)}}}var el=!1;function Xs(i,s,o){if(el)return i(s,o);el=!0;try{var u=i(s);return u}finally{if(el=!1,(Ys!==null||Ur!==null)&&(kd(),Ys&&(s=Ys,i=Ur,Ur=Ys=null,to(s),i)))for(s=0;s<i.length;s++)to(i[s])}}function br(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Yt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),no=!1;if(Qi)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){no=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch{no=!1}var zr=null,Cc=null,io=null;function Rc(){if(io)return io;var i,s=Cc,o=s.length,u,p="value"in zr?zr.value:zr.textContent,y=p.length;for(i=0;i<o&&s[i]===p[i];i++);var w=o-i;for(u=1;u<=w&&s[o-u]===p[y-u];u++);return io=p.slice(i,1<u?1-u:void 0)}function ro(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function us(){return!0}function xr(){return!1}function $n(i){function s(o,u,p,y,w){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(o=i[R],this[R]=o?o(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?us:xr,this.isPropagationStopped=xr,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),s}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Br=$n(hs),Ws=v({},hs,{view:0,detail:0}),Ic=$n(Ws),Qs,tl,Fr,nl=v({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fr&&(Fr&&i.type==="mousemove"?(Qs=i.screenX-Fr.screenX,tl=i.screenY-Fr.screenY):tl=Qs=0,Fr=i),Qs)},movementY:function(i){return"movementY"in i?i.movementY:tl}}),Nc=$n(nl),so=v({},nl,{dataTransfer:0}),zh=$n(so),Bh=v({},Ws,{relatedTarget:0}),ao=$n(Bh),Dc=v({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Fh=$n(Dc),il=v({},hs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),qh=$n(il),Hh=v({},hs,{data:0}),qr=$n(Hh),Gh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$h={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Kh[i])?!!s[i]:!1}function Js(){return Yh}var hi=v({},Ws,{key:function(i){if(i.key){var s=Gh[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ro(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?$h[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(i){return i.type==="keypress"?ro(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ro(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Xh=$n(hi),Wh=v({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ds=$n(Wh),f=v({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),x=$n(f),T=v({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=$n(T),Q=v({},nl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),se=$n(Q),ye=v({},hs,{newState:0,oldState:0}),Ge=$n(ye),un=[9,13,27,32],vt=Qi&&"CompositionEvent"in window,Xt=null;Qi&&"documentMode"in document&&(Xt=document.documentMode);var Ji=Qi&&"TextEvent"in window&&!Xt,Hr=Qi&&(!vt||Xt&&8<Xt&&11>=Xt),_r=" ",wr=!1;function oo(i,s){switch(i){case"keyup":return un.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var sl=!1;function CN(i,s){switch(i){case"compositionend":return rl(s);case"keypress":return s.which!==32?null:(wr=!0,_r);case"textInput":return i=s.data,i===_r&&wr?null:i;default:return null}}function RN(i,s){if(sl)return i==="compositionend"||!vt&&oo(i,s)?(i=Rc(),io=Cc=zr=null,sl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Hr&&s.locale!=="ko"?null:s.data;default:return null}}var IN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fb(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!IN[i.type]:s==="textarea"}function qb(i,s,o,u){Ys?Ur?Ur.push(u):Ur=[u]:Ys=u,s=Ud(s,"onChange"),0<s.length&&(o=new Br("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var kc=null,Mc=null;function NN(i){Sw(i,0)}function Qh(i){var s=ii(i);if(Za(s))return i}function Hb(i,s){if(i==="change")return s}var Gb=!1;if(Qi){var lp;if(Qi){var cp="oninput"in document;if(!cp){var $b=document.createElement("div");$b.setAttribute("oninput","return;"),cp=typeof $b.oninput=="function"}lp=cp}else lp=!1;Gb=lp&&(!document.documentMode||9<document.documentMode)}function Kb(){kc&&(kc.detachEvent("onpropertychange",Yb),Mc=kc=null)}function Yb(i){if(i.propertyName==="value"&&Qh(Mc)){var s=[];qb(s,Mc,i,Wi(i)),Xs(NN,s)}}function DN(i,s,o){i==="focusin"?(Kb(),kc=s,Mc=o,kc.attachEvent("onpropertychange",Yb)):i==="focusout"&&Kb()}function kN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Qh(Mc)}function MN(i,s){if(i==="click")return Qh(s)}function ON(i,s){if(i==="input"||i==="change")return Qh(s)}function PN(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var ji=typeof Object.is=="function"?Object.is:PN;function Oc(i,s){if(ji(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!at.call(s,p)||!ji(i[p],s[p]))return!1}return!0}function Xb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Wb(i,s){var o=Xb(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Xb(o)}}function Qb(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Qb(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Jb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Lr(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Lr(i.document)}return s}function up(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var VN=Qi&&"documentMode"in document&&11>=document.documentMode,al=null,hp=null,Pc=null,dp=!1;function Zb(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;dp||al==null||al!==Lr(u)||(u=al,"selectionStart"in u&&up(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Pc&&Oc(Pc,u)||(Pc=u,u=Ud(hp,"onSelect"),0<u.length&&(s=new Br("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=al)))}function lo(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var ol={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionrun:lo("Transition","TransitionRun"),transitionstart:lo("Transition","TransitionStart"),transitioncancel:lo("Transition","TransitionCancel"),transitionend:lo("Transition","TransitionEnd")},fp={},ex={};Qi&&(ex=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function co(i){if(fp[i])return fp[i];if(!ol[i])return i;var s=ol[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in ex)return fp[i]=s[o];return i}var tx=co("animationend"),nx=co("animationiteration"),ix=co("animationstart"),jN=co("transitionrun"),LN=co("transitionstart"),UN=co("transitioncancel"),rx=co("transitionend"),sx=new Map,mp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mp.push("scrollEnd");function Tr(i,s){sx.set(i,s),Oi(s,[i])}var Jh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Zi=[],ll=0,pp=0;function Zh(){for(var i=ll,s=pp=ll=0;s<i;){var o=Zi[s];Zi[s++]=null;var u=Zi[s];Zi[s++]=null;var p=Zi[s];Zi[s++]=null;var y=Zi[s];if(Zi[s++]=null,u!==null&&p!==null){var w=u.pending;w===null?p.next=p:(p.next=w.next,w.next=p),u.pending=p}y!==0&&ax(o,p,y)}}function ed(i,s,o,u){Zi[ll++]=i,Zi[ll++]=s,Zi[ll++]=o,Zi[ll++]=u,pp|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function gp(i,s,o,u){return ed(i,s,o,u),td(i)}function uo(i,s){return ed(i,null,null,s),td(i)}function ax(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var p=!1,y=i.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&s!==null&&(p=31-Dt(o),i=y.hiddenUpdates,u=i[p],u===null?i[p]=[s]:u.push(s),s.lane=o|536870912),y):null}function td(i){if(50<iu)throw iu=0,Sg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var cl={};function zN(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Li(i,s,o,u){return new zN(i,s,o,u)}function yp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fs(i,s){var o=i.alternate;return o===null?(o=Li(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function ox(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function nd(i,s,o,u,p,y){var w=0;if(u=i,typeof i=="function")yp(i)&&(w=1);else if(typeof i=="string")w=GD(i,o,ne.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=Li(31,o,s,p),i.elementType=P,i.lanes=y,i;case O:return ho(o.children,p,y,s);case I:w=8,p|=24;break;case z:return i=Li(12,o,s,p|2),i.elementType=z,i.lanes=y,i;case re:return i=Li(13,o,s,p),i.elementType=re,i.lanes=y,i;case ae:return i=Li(19,o,s,p),i.elementType=ae,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:w=10;break e;case $:w=9;break e;case le:w=11;break e;case D:w=14;break e;case C:w=16,u=null;break e}w=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Li(w,o,s,p),s.elementType=i,s.type=u,s.lanes=y,s}function ho(i,s,o,u){return i=Li(7,i,u,s),i.lanes=o,i}function vp(i,s,o){return i=Li(6,i,null,s),i.lanes=o,i}function lx(i){var s=Li(18,null,null,0);return s.stateNode=i,s}function bp(i,s,o){return s=Li(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var cx=new WeakMap;function er(i,s){if(typeof i=="object"&&i!==null){var o=cx.get(i);return o!==void 0?o:(s={value:i,source:s,stack:mn(s)},cx.set(i,s),s)}return{value:i,source:s,stack:mn(s)}}var ul=[],hl=0,id=null,Vc=0,tr=[],nr=0,Zs=null,Gr=1,$r="";function ms(i,s){ul[hl++]=Vc,ul[hl++]=id,id=i,Vc=s}function ux(i,s,o){tr[nr++]=Gr,tr[nr++]=$r,tr[nr++]=Zs,Zs=i;var u=Gr;i=$r;var p=32-Dt(u)-1;u&=~(1<<p),o+=1;var y=32-Dt(s)+p;if(30<y){var w=p-p%5;y=(u&(1<<w)-1).toString(32),u>>=w,p-=w,Gr=1<<32-Dt(s)+p|o<<p|u,$r=y+i}else Gr=1<<y|o<<p|u,$r=i}function xp(i){i.return!==null&&(ms(i,1),ux(i,1,0))}function _p(i){for(;i===id;)id=ul[--hl],ul[hl]=null,Vc=ul[--hl],ul[hl]=null;for(;i===Zs;)Zs=tr[--nr],tr[nr]=null,$r=tr[--nr],tr[nr]=null,Gr=tr[--nr],tr[nr]=null}function hx(i,s){tr[nr++]=Gr,tr[nr++]=$r,tr[nr++]=Zs,Gr=s.id,$r=s.overflow,Zs=i}var Kn=null,Gt=null,ot=!1,ea=null,ir=!1,wp=Error(r(519));function ta(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jc(er(s,i)),wp}function dx(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Lt]=i,s[Yt]=u,o){case"dialog":Je("cancel",s),Je("close",s);break;case"iframe":case"object":case"embed":Je("load",s);break;case"video":case"audio":for(o=0;o<su.length;o++)Je(su[o],s);break;case"source":Je("error",s);break;case"img":case"image":case"link":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"input":Je("invalid",s),Vh(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Je("invalid",s);break;case"textarea":Je("invalid",s),$s(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Iw(s.textContent,o)?(u.popover!=null&&(Je("beforetoggle",s),Je("toggle",s)),u.onScroll!=null&&Je("scroll",s),u.onScrollEnd!=null&&Je("scrollend",s),u.onClick!=null&&(s.onclick=vr),s=!0):s=!1,s||ta(i,!0)}function fx(i){for(Kn=i.return;Kn;)switch(Kn.tag){case 5:case 31:case 13:ir=!1;return;case 27:case 3:ir=!0;return;default:Kn=Kn.return}}function dl(i){if(i!==Kn)return!1;if(!ot)return fx(i),ot=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||zg(i.type,i.memoizedProps)),o=!o),o&&Gt&&ta(i),fx(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Gt=Lw(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Gt=Lw(i)}else s===27?(s=Gt,pa(i.type)?(i=Gg,Gg=null,Gt=i):Gt=s):Gt=Kn?sr(i.stateNode.nextSibling):null;return!0}function fo(){Gt=Kn=null,ot=!1}function Tp(){var i=ea;return i!==null&&(Ai===null?Ai=i:Ai.push.apply(Ai,i),ea=null),i}function jc(i){ea===null?ea=[i]:ea.push(i)}var Ep=E(null),mo=null,ps=null;function na(i,s,o){Y(Ep,s._currentValue),s._currentValue=o}function gs(i){i._currentValue=Ep.current,L(Ep)}function Sp(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Ap(i,s,o,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var w=p.child;y=y.firstContext;e:for(;y!==null;){var R=y;y=p;for(var F=0;F<s.length;F++)if(R.context===s[F]){y.lanes|=o,R=y.alternate,R!==null&&(R.lanes|=o),Sp(y.return,o,i),u||(w=null);break e}y=R.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(r(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),Sp(w,o,i),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===i){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function fl(i,s,o,u){i=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var R=p.type;ji(p.pendingProps.value,w.value)||(i!==null?i.push(R):i=[R])}}else if(p===pe.current){if(w=p.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(uu):i=[uu])}p=p.return}i!==null&&Ap(s,i,o,u),s.flags|=262144}function rd(i){for(i=i.firstContext;i!==null;){if(!ji(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function po(i){mo=i,ps=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Yn(i){return mx(mo,i)}function sd(i,s){return mo===null&&po(i),mx(i,s)}function mx(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ps===null){if(i===null)throw Error(r(308));ps=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ps=ps.next=s;return o}var BN=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},FN=t.unstable_scheduleCallback,qN=t.unstable_NormalPriority,bn={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cp(){return{controller:new BN,data:new Map,refCount:0}}function Lc(i){i.refCount--,i.refCount===0&&FN(qN,function(){i.controller.abort()})}var Uc=null,Rp=0,ml=0,pl=null;function HN(i,s){if(Uc===null){var o=Uc=[];Rp=0,ml=Dg(),pl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Rp++,s.then(px,px),s}function px(){if(--Rp===0&&Uc!==null){pl!==null&&(pl.status="fulfilled");var i=Uc;Uc=null,ml=0,pl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function GN(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var gx=te.S;te.S=function(i,s){Z_=Ft(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&HN(i,s),gx!==null&&gx(i,s)};var go=E(null);function Ip(){var i=go.current;return i!==null?i:Ot.pooledCache}function ad(i,s){s===null?Y(go,go.current):Y(go,s.pool)}function yx(){var i=Ip();return i===null?null:{parent:bn._currentValue,pool:i}}var gl=Error(r(460)),Np=Error(r(474)),od=Error(r(542)),ld={then:function(){}};function vx(i){return i=i.status,i==="fulfilled"||i==="rejected"}function bx(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(vr,vr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,_x(i),i;default:if(typeof s.status=="string")s.then(vr,vr);else{if(i=Ot,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,_x(i),i}throw vo=s,gl}}function yo(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(vo=o,gl):o}}var vo=null;function xx(){if(vo===null)throw Error(r(459));var i=vo;return vo=null,i}function _x(i){if(i===gl||i===od)throw Error(r(483))}var yl=null,zc=0;function cd(i){var s=zc;return zc+=1,yl===null&&(yl=[]),bx(yl,i,s)}function Bc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function ud(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function wx(i){function s(X,K){if(i){var Z=X.deletions;Z===null?(X.deletions=[K],X.flags|=16):Z.push(K)}}function o(X,K){if(!i)return null;for(;K!==null;)s(X,K),K=K.sibling;return null}function u(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function p(X,K){return X=fs(X,K),X.index=0,X.sibling=null,X}function y(X,K,Z){return X.index=Z,i?(Z=X.alternate,Z!==null?(Z=Z.index,Z<K?(X.flags|=67108866,K):Z):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function w(X){return i&&X.alternate===null&&(X.flags|=67108866),X}function R(X,K,Z,ue){return K===null||K.tag!==6?(K=vp(Z,X.mode,ue),K.return=X,K):(K=p(K,Z),K.return=X,K)}function F(X,K,Z,ue){var Me=Z.type;return Me===O?ce(X,K,Z.props.children,ue,Z.key):K!==null&&(K.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===C&&yo(Me)===K.type)?(K=p(K,Z.props),Bc(K,Z),K.return=X,K):(K=nd(Z.type,Z.key,Z.props,null,X.mode,ue),Bc(K,Z),K.return=X,K)}function ee(X,K,Z,ue){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=bp(Z,X.mode,ue),K.return=X,K):(K=p(K,Z.children||[]),K.return=X,K)}function ce(X,K,Z,ue,Me){return K===null||K.tag!==7?(K=ho(Z,X.mode,ue,Me),K.return=X,K):(K=p(K,Z),K.return=X,K)}function he(X,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=vp(""+K,X.mode,Z),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case A:return Z=nd(K.type,K.key,K.props,null,X.mode,Z),Bc(Z,K),Z.return=X,Z;case M:return K=bp(K,X.mode,Z),K.return=X,K;case C:return K=yo(K),he(X,K,Z)}if(De(K)||B(K))return K=ho(K,X.mode,Z,null),K.return=X,K;if(typeof K.then=="function")return he(X,cd(K),Z);if(K.$$typeof===H)return he(X,sd(X,K),Z);ud(X,K)}return null}function ie(X,K,Z,ue){var Me=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Me!==null?null:R(X,K,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return Z.key===Me?F(X,K,Z,ue):null;case M:return Z.key===Me?ee(X,K,Z,ue):null;case C:return Z=yo(Z),ie(X,K,Z,ue)}if(De(Z)||B(Z))return Me!==null?null:ce(X,K,Z,ue,null);if(typeof Z.then=="function")return ie(X,K,cd(Z),ue);if(Z.$$typeof===H)return ie(X,K,sd(X,Z),ue);ud(X,Z)}return null}function oe(X,K,Z,ue,Me){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return X=X.get(Z)||null,R(K,X,""+ue,Me);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case A:return X=X.get(ue.key===null?Z:ue.key)||null,F(K,X,ue,Me);case M:return X=X.get(ue.key===null?Z:ue.key)||null,ee(K,X,ue,Me);case C:return ue=yo(ue),oe(X,K,Z,ue,Me)}if(De(ue)||B(ue))return X=X.get(Z)||null,ce(K,X,ue,Me,null);if(typeof ue.then=="function")return oe(X,K,Z,cd(ue),Me);if(ue.$$typeof===H)return oe(X,K,Z,sd(K,ue),Me);ud(K,ue)}return null}function Ae(X,K,Z,ue){for(var Me=null,ft=null,Ie=K,Ke=K=0,et=null;Ie!==null&&Ke<Z.length;Ke++){Ie.index>Ke?(et=Ie,Ie=null):et=Ie.sibling;var mt=ie(X,Ie,Z[Ke],ue);if(mt===null){Ie===null&&(Ie=et);break}i&&Ie&&mt.alternate===null&&s(X,Ie),K=y(mt,K,Ke),ft===null?Me=mt:ft.sibling=mt,ft=mt,Ie=et}if(Ke===Z.length)return o(X,Ie),ot&&ms(X,Ke),Me;if(Ie===null){for(;Ke<Z.length;Ke++)Ie=he(X,Z[Ke],ue),Ie!==null&&(K=y(Ie,K,Ke),ft===null?Me=Ie:ft.sibling=Ie,ft=Ie);return ot&&ms(X,Ke),Me}for(Ie=u(Ie);Ke<Z.length;Ke++)et=oe(Ie,X,Ke,Z[Ke],ue),et!==null&&(i&&et.alternate!==null&&Ie.delete(et.key===null?Ke:et.key),K=y(et,K,Ke),ft===null?Me=et:ft.sibling=et,ft=et);return i&&Ie.forEach(function(xa){return s(X,xa)}),ot&&ms(X,Ke),Me}function Oe(X,K,Z,ue){if(Z==null)throw Error(r(151));for(var Me=null,ft=null,Ie=K,Ke=K=0,et=null,mt=Z.next();Ie!==null&&!mt.done;Ke++,mt=Z.next()){Ie.index>Ke?(et=Ie,Ie=null):et=Ie.sibling;var xa=ie(X,Ie,mt.value,ue);if(xa===null){Ie===null&&(Ie=et);break}i&&Ie&&xa.alternate===null&&s(X,Ie),K=y(xa,K,Ke),ft===null?Me=xa:ft.sibling=xa,ft=xa,Ie=et}if(mt.done)return o(X,Ie),ot&&ms(X,Ke),Me;if(Ie===null){for(;!mt.done;Ke++,mt=Z.next())mt=he(X,mt.value,ue),mt!==null&&(K=y(mt,K,Ke),ft===null?Me=mt:ft.sibling=mt,ft=mt);return ot&&ms(X,Ke),Me}for(Ie=u(Ie);!mt.done;Ke++,mt=Z.next())mt=oe(Ie,X,Ke,mt.value,ue),mt!==null&&(i&&mt.alternate!==null&&Ie.delete(mt.key===null?Ke:mt.key),K=y(mt,K,Ke),ft===null?Me=mt:ft.sibling=mt,ft=mt);return i&&Ie.forEach(function(nk){return s(X,nk)}),ot&&ms(X,Ke),Me}function Nt(X,K,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===O&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:e:{for(var Me=Z.key;K!==null;){if(K.key===Me){if(Me=Z.type,Me===O){if(K.tag===7){o(X,K.sibling),ue=p(K,Z.props.children),ue.return=X,X=ue;break e}}else if(K.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===C&&yo(Me)===K.type){o(X,K.sibling),ue=p(K,Z.props),Bc(ue,Z),ue.return=X,X=ue;break e}o(X,K);break}else s(X,K);K=K.sibling}Z.type===O?(ue=ho(Z.props.children,X.mode,ue,Z.key),ue.return=X,X=ue):(ue=nd(Z.type,Z.key,Z.props,null,X.mode,ue),Bc(ue,Z),ue.return=X,X=ue)}return w(X);case M:e:{for(Me=Z.key;K!==null;){if(K.key===Me)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){o(X,K.sibling),ue=p(K,Z.children||[]),ue.return=X,X=ue;break e}else{o(X,K);break}else s(X,K);K=K.sibling}ue=bp(Z,X.mode,ue),ue.return=X,X=ue}return w(X);case C:return Z=yo(Z),Nt(X,K,Z,ue)}if(De(Z))return Ae(X,K,Z,ue);if(B(Z)){if(Me=B(Z),typeof Me!="function")throw Error(r(150));return Z=Me.call(Z),Oe(X,K,Z,ue)}if(typeof Z.then=="function")return Nt(X,K,cd(Z),ue);if(Z.$$typeof===H)return Nt(X,K,sd(X,Z),ue);ud(X,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,K!==null&&K.tag===6?(o(X,K.sibling),ue=p(K,Z),ue.return=X,X=ue):(o(X,K),ue=vp(Z,X.mode,ue),ue.return=X,X=ue),w(X)):o(X,K)}return function(X,K,Z,ue){try{zc=0;var Me=Nt(X,K,Z,ue);return yl=null,Me}catch(Ie){if(Ie===gl||Ie===od)throw Ie;var ft=Li(29,Ie,null,X.mode);return ft.lanes=ue,ft.return=X,ft}}}var bo=wx(!0),Tx=wx(!1),ia=!1;function Dp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ra(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function sa(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(bt&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=td(i),ax(i,null,o),s}return ed(i,u,s,o),td(i)}function Fc(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,yn(i,o)}}function Mp(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?p=y=s:y=y.next=s}else p=y=s;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Op=!1;function qc(){if(Op){var i=pl;if(i!==null)throw i}}function Hc(i,s,o,u){Op=!1;var p=i.updateQueue;ia=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var F=R,ee=F.next;F.next=null,w===null?y=ee:w.next=ee,w=F;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,R=ce.lastBaseUpdate,R!==w&&(R===null?ce.firstBaseUpdate=ee:R.next=ee,ce.lastBaseUpdate=F))}if(y!==null){var he=p.baseState;w=0,ce=ee=F=null,R=y;do{var ie=R.lane&-536870913,oe=ie!==R.lane;if(oe?(Ze&ie)===ie:(u&ie)===ie){ie!==0&&ie===ml&&(Op=!0),ce!==null&&(ce=ce.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ae=i,Oe=R;ie=s;var Nt=o;switch(Oe.tag){case 1:if(Ae=Oe.payload,typeof Ae=="function"){he=Ae.call(Nt,he,ie);break e}he=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Oe.payload,ie=typeof Ae=="function"?Ae.call(Nt,he,ie):Ae,ie==null)break e;he=v({},he,ie);break e;case 2:ia=!0}}ie=R.callback,ie!==null&&(i.flags|=64,oe&&(i.flags|=8192),oe=p.callbacks,oe===null?p.callbacks=[ie]:oe.push(ie))}else oe={lane:ie,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ce===null?(ee=ce=oe,F=he):ce=ce.next=oe,w|=ie;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;oe=R,R=oe.next,oe.next=null,p.lastBaseUpdate=oe,p.shared.pending=null}}while(!0);ce===null&&(F=he),p.baseState=F,p.firstBaseUpdate=ee,p.lastBaseUpdate=ce,y===null&&(p.shared.lanes=0),ua|=w,i.lanes=w,i.memoizedState=he}}function Ex(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Sx(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Ex(o[i],s)}var vl=E(null),hd=E(0);function Ax(i,s){i=Ss,Y(hd,i),Y(vl,s),Ss=i|s.baseLanes}function Pp(){Y(hd,Ss),Y(vl,vl.current)}function Vp(){Ss=hd.current,L(vl),L(hd)}var Ui=E(null),rr=null;function aa(i){var s=i.alternate;Y(hn,hn.current&1),Y(Ui,i),rr===null&&(s===null||vl.current!==null||s.memoizedState!==null)&&(rr=i)}function jp(i){Y(hn,hn.current),Y(Ui,i),rr===null&&(rr=i)}function Cx(i){i.tag===22?(Y(hn,hn.current),Y(Ui,i),rr===null&&(rr=i)):oa()}function oa(){Y(hn,hn.current),Y(Ui,Ui.current)}function zi(i){L(Ui),rr===i&&(rr=null),L(hn)}var hn=E(0);function dd(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||qg(o)||Hg(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ys=0,$e=null,Rt=null,xn=null,fd=!1,bl=!1,xo=!1,md=0,Gc=0,xl=null,$N=0;function an(){throw Error(r(321))}function Lp(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!ji(i[o],s[o]))return!1;return!0}function Up(i,s,o,u,p,y){return ys=y,$e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,te.H=i===null||i.memoizedState===null?u_:eg,xo=!1,y=o(u,p),xo=!1,bl&&(y=Ix(s,o,u,p)),Rx(i),y}function Rx(i){te.H=Yc;var s=Rt!==null&&Rt.next!==null;if(ys=0,xn=Rt=$e=null,fd=!1,Gc=0,xl=null,s)throw Error(r(300));i===null||_n||(i=i.dependencies,i!==null&&rd(i)&&(_n=!0))}function Ix(i,s,o,u){$e=i;var p=0;do{if(bl&&(xl=null),Gc=0,bl=!1,25<=p)throw Error(r(301));if(p+=1,xn=Rt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}te.H=h_,y=s(o,u)}while(bl);return y}function KN(){var i=te.H,s=i.useState()[0];return s=typeof s.then=="function"?$c(s):s,i=i.useState()[0],(Rt!==null?Rt.memoizedState:null)!==i&&($e.flags|=1024),s}function zp(){var i=md!==0;return md=0,i}function Bp(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Fp(i){if(fd){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}fd=!1}ys=0,xn=Rt=$e=null,bl=!1,Gc=md=0,xl=null}function di(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?$e.memoizedState=xn=i:xn=xn.next=i,xn}function dn(){if(Rt===null){var i=$e.alternate;i=i!==null?i.memoizedState:null}else i=Rt.next;var s=xn===null?$e.memoizedState:xn.next;if(s!==null)xn=s,Rt=i;else{if(i===null)throw $e.alternate===null?Error(r(467)):Error(r(310));Rt=i,i={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},xn===null?$e.memoizedState=xn=i:xn=xn.next=i}return xn}function pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $c(i){var s=Gc;return Gc+=1,xl===null&&(xl=[]),i=bx(xl,i,s),s=$e,(xn===null?s.memoizedState:xn.next)===null&&(s=s.alternate,te.H=s===null||s.memoizedState===null?u_:eg),i}function gd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return $c(i);if(i.$$typeof===H)return Yn(i)}throw Error(r(438,String(i)))}function qp(i){var s=null,o=$e.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=$e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=pd(),$e.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=N;return s.index++,o}function vs(i,s){return typeof s=="function"?s(i):s}function yd(i){var s=dn();return Hp(s,Rt,i)}function Hp(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var p=i.baseQueue,y=u.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}s.baseQueue=p=y,u.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{s=p.next;var R=w=null,F=null,ee=s,ce=!1;do{var he=ee.lane&-536870913;if(he!==ee.lane?(Ze&he)===he:(ys&he)===he){var ie=ee.revertLane;if(ie===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),he===ml&&(ce=!0);else if((ys&ie)===ie){ee=ee.next,ie===ml&&(ce=!0);continue}else he={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?(R=F=he,w=y):F=F.next=he,$e.lanes|=ie,ua|=ie;he=ee.action,xo&&o(y,he),y=ee.hasEagerState?ee.eagerState:o(y,he)}else ie={lane:he,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?(R=F=ie,w=y):F=F.next=ie,$e.lanes|=he,ua|=he;ee=ee.next}while(ee!==null&&ee!==s);if(F===null?w=y:F.next=R,!ji(y,i.memoizedState)&&(_n=!0,ce&&(o=pl,o!==null)))throw o;i.memoizedState=y,i.baseState=w,i.baseQueue=F,u.lastRenderedState=y}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Gp(i){var s=dn(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,p=o.pending,y=s.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do y=i(y,w.action),w=w.next;while(w!==p);ji(y,s.memoizedState)||(_n=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,u]}function Nx(i,s,o){var u=$e,p=dn(),y=ot;if(y){if(o===void 0)throw Error(r(407));o=o()}else o=s();var w=!ji((Rt||p).memoizedState,o);if(w&&(p.memoizedState=o,_n=!0),p=p.queue,Yp(Mx.bind(null,u,p,i),[i]),p.getSnapshot!==s||w||xn!==null&&xn.memoizedState.tag&1){if(u.flags|=2048,_l(9,{destroy:void 0},kx.bind(null,u,p,o,s),null),Ot===null)throw Error(r(349));y||(ys&127)!==0||Dx(u,s,o)}return o}function Dx(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=$e.updateQueue,s===null?(s=pd(),$e.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function kx(i,s,o,u){s.value=o,s.getSnapshot=u,Ox(s)&&Px(i)}function Mx(i,s,o){return o(function(){Ox(s)&&Px(i)})}function Ox(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!ji(i,o)}catch{return!0}}function Px(i){var s=uo(i,2);s!==null&&Ci(s,i,2)}function $p(i){var s=di();if(typeof i=="function"){var o=i;if(i=o(),xo){jn(!0);try{o()}finally{jn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:i},s}function Vx(i,s,o,u){return i.baseState=o,Hp(i,Rt,typeof u=="function"?u:vs)}function YN(i,s,o,u,p){if(xd(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};te.T!==null?o(!0):y.isTransition=!1,u(y),o=s.pending,o===null?(y.next=s.pending=y,jx(s,y)):(y.next=o.next,s.pending=o.next=y)}}function jx(i,s){var o=s.action,u=s.payload,p=i.state;if(s.isTransition){var y=te.T,w={};te.T=w;try{var R=o(p,u),F=te.S;F!==null&&F(w,R),Lx(i,s,R)}catch(ee){Kp(i,s,ee)}finally{y!==null&&w.types!==null&&(y.types=w.types),te.T=y}}else try{y=o(p,u),Lx(i,s,y)}catch(ee){Kp(i,s,ee)}}function Lx(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Ux(i,s,u)},function(u){return Kp(i,s,u)}):Ux(i,s,o)}function Ux(i,s,o){s.status="fulfilled",s.value=o,zx(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,jx(i,o)))}function Kp(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,zx(s),s=s.next;while(s!==u)}i.action=null}function zx(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Bx(i,s){return s}function Fx(i,s){if(ot){var o=Ot.formState;if(o!==null){e:{var u=$e;if(ot){if(Gt){t:{for(var p=Gt,y=ir;p.nodeType!==8;){if(!y){p=null;break t}if(p=sr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Gt=sr(p.nextSibling),u=p.data==="F!";break e}}ta(u)}u=!1}u&&(s=o[0])}}return o=di(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bx,lastRenderedState:s},o.queue=u,o=o_.bind(null,$e,u),u.dispatch=o,u=$p(!1),y=Zp.bind(null,$e,!1,u.queue),u=di(),p={state:s,dispatch:null,action:i,pending:null},u.queue=p,o=YN.bind(null,$e,p,y,o),p.dispatch=o,u.memoizedState=i,[s,o,!1]}function qx(i){var s=dn();return Hx(s,Rt,i)}function Hx(i,s,o){if(s=Hp(i,s,Bx)[0],i=yd(vs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=$c(s)}catch(w){throw w===gl?od:w}else u=s;s=dn();var p=s.queue,y=p.dispatch;return o!==s.memoizedState&&($e.flags|=2048,_l(9,{destroy:void 0},XN.bind(null,p,o),null)),[u,y,i]}function XN(i,s){i.action=s}function Gx(i){var s=dn(),o=Rt;if(o!==null)return Hx(s,o,i);dn(),s=s.memoizedState,o=dn();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function _l(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=$e.updateQueue,s===null&&(s=pd(),$e.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function $x(){return dn().memoizedState}function vd(i,s,o,u){var p=di();$e.flags|=i,p.memoizedState=_l(1|s,{destroy:void 0},o,u===void 0?null:u)}function bd(i,s,o,u){var p=dn();u=u===void 0?null:u;var y=p.memoizedState.inst;Rt!==null&&u!==null&&Lp(u,Rt.memoizedState.deps)?p.memoizedState=_l(s,y,o,u):($e.flags|=i,p.memoizedState=_l(1|s,y,o,u))}function Kx(i,s){vd(8390656,8,i,s)}function Yp(i,s){bd(2048,8,i,s)}function WN(i){$e.flags|=4;var s=$e.updateQueue;if(s===null)s=pd(),$e.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function Yx(i){var s=dn().memoizedState;return WN({ref:s,nextImpl:i}),function(){if((bt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Xx(i,s){return bd(4,2,i,s)}function Wx(i,s){return bd(4,4,i,s)}function Qx(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Jx(i,s,o){o=o!=null?o.concat([i]):null,bd(4,4,Qx.bind(null,s,i),o)}function Xp(){}function Zx(i,s){var o=dn();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Lp(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function e_(i,s){var o=dn();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Lp(s,u[1]))return u[0];if(u=i(),xo){jn(!0);try{i()}finally{jn(!1)}}return o.memoizedState=[u,s],u}function Wp(i,s,o){return o===void 0||(ys&1073741824)!==0&&(Ze&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=tw(),$e.lanes|=i,ua|=i,o)}function t_(i,s,o,u){return ji(o,s)?o:vl.current!==null?(i=Wp(i,o,u),ji(i,s)||(_n=!0),i):(ys&42)===0||(ys&1073741824)!==0&&(Ze&261930)===0?(_n=!0,i.memoizedState=o):(i=tw(),$e.lanes|=i,ua|=i,s)}function n_(i,s,o,u,p){var y=G.p;G.p=y!==0&&8>y?y:8;var w=te.T,R={};te.T=R,Zp(i,!1,s,o);try{var F=p(),ee=te.S;if(ee!==null&&ee(R,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ce=GN(F,u);Kc(i,s,ce,qi(i))}else Kc(i,s,u,qi(i))}catch(he){Kc(i,s,{then:function(){},status:"rejected",reason:he},qi())}finally{G.p=y,w!==null&&R.types!==null&&(w.types=R.types),te.T=w}}function QN(){}function Qp(i,s,o,u){if(i.tag!==5)throw Error(r(476));var p=i_(i).queue;n_(i,p,s,q,o===null?QN:function(){return r_(i),o(u)})}function i_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:q},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function r_(i){var s=i_(i);s.next===null&&(s=i.alternate.memoizedState),Kc(i,s.next.queue,{},qi())}function Jp(){return Yn(uu)}function s_(){return dn().memoizedState}function a_(){return dn().memoizedState}function JN(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=qi();i=ra(o);var u=sa(s,i,o);u!==null&&(Ci(u,s,o),Fc(u,s,o)),s={cache:Cp()},i.payload=s;return}s=s.return}}function ZN(i,s,o){var u=qi();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},xd(i)?l_(s,o):(o=gp(i,s,o,u),o!==null&&(Ci(o,i,u),c_(o,s,u)))}function o_(i,s,o){var u=qi();Kc(i,s,o,u)}function Kc(i,s,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(xd(i))l_(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,R=y(w,o);if(p.hasEagerState=!0,p.eagerState=R,ji(R,w))return ed(i,s,p,0),Ot===null&&Zh(),!1}catch{}if(o=gp(i,s,p,u),o!==null)return Ci(o,i,u),c_(o,s,u),!0}return!1}function Zp(i,s,o,u){if(u={lane:2,revertLane:Dg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},xd(i)){if(s)throw Error(r(479))}else s=gp(i,o,u,2),s!==null&&Ci(s,i,2)}function xd(i){var s=i.alternate;return i===$e||s!==null&&s===$e}function l_(i,s){bl=fd=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function c_(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,yn(i,o)}}var Yc={readContext:Yn,use:gd,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an};Yc.useEffectEvent=an;var u_={readContext:Yn,use:gd,useCallback:function(i,s){return di().memoizedState=[i,s===void 0?null:s],i},useContext:Yn,useEffect:Kx,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,vd(4194308,4,Qx.bind(null,s,i),o)},useLayoutEffect:function(i,s){return vd(4194308,4,i,s)},useInsertionEffect:function(i,s){vd(4,2,i,s)},useMemo:function(i,s){var o=di();s=s===void 0?null:s;var u=i();if(xo){jn(!0);try{i()}finally{jn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=di();if(o!==void 0){var p=o(s);if(xo){jn(!0);try{o(s)}finally{jn(!1)}}}else p=s;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=ZN.bind(null,$e,i),[u.memoizedState,i]},useRef:function(i){var s=di();return i={current:i},s.memoizedState=i},useState:function(i){i=$p(i);var s=i.queue,o=o_.bind(null,$e,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Xp,useDeferredValue:function(i,s){var o=di();return Wp(o,i,s)},useTransition:function(){var i=$p(!1);return i=n_.bind(null,$e,i.queue,!0,!1),di().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=$e,p=di();if(ot){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Ot===null)throw Error(r(349));(Ze&127)!==0||Dx(u,s,o)}p.memoizedState=o;var y={value:o,getSnapshot:s};return p.queue=y,Kx(Mx.bind(null,u,y,i),[i]),u.flags|=2048,_l(9,{destroy:void 0},kx.bind(null,u,y,o,s),null),o},useId:function(){var i=di(),s=Ot.identifierPrefix;if(ot){var o=$r,u=Gr;o=(u&~(1<<32-Dt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=md++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=$N++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Jp,useFormState:Fx,useActionState:Fx,useOptimistic:function(i){var s=di();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Zp.bind(null,$e,!0,o),o.dispatch=s,[i,s]},useMemoCache:qp,useCacheRefresh:function(){return di().memoizedState=JN.bind(null,$e)},useEffectEvent:function(i){var s=di(),o={impl:i};return s.memoizedState=o,function(){if((bt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},eg={readContext:Yn,use:gd,useCallback:Zx,useContext:Yn,useEffect:Yp,useImperativeHandle:Jx,useInsertionEffect:Xx,useLayoutEffect:Wx,useMemo:e_,useReducer:yd,useRef:$x,useState:function(){return yd(vs)},useDebugValue:Xp,useDeferredValue:function(i,s){var o=dn();return t_(o,Rt.memoizedState,i,s)},useTransition:function(){var i=yd(vs)[0],s=dn().memoizedState;return[typeof i=="boolean"?i:$c(i),s]},useSyncExternalStore:Nx,useId:s_,useHostTransitionStatus:Jp,useFormState:qx,useActionState:qx,useOptimistic:function(i,s){var o=dn();return Vx(o,Rt,i,s)},useMemoCache:qp,useCacheRefresh:a_};eg.useEffectEvent=Yx;var h_={readContext:Yn,use:gd,useCallback:Zx,useContext:Yn,useEffect:Yp,useImperativeHandle:Jx,useInsertionEffect:Xx,useLayoutEffect:Wx,useMemo:e_,useReducer:Gp,useRef:$x,useState:function(){return Gp(vs)},useDebugValue:Xp,useDeferredValue:function(i,s){var o=dn();return Rt===null?Wp(o,i,s):t_(o,Rt.memoizedState,i,s)},useTransition:function(){var i=Gp(vs)[0],s=dn().memoizedState;return[typeof i=="boolean"?i:$c(i),s]},useSyncExternalStore:Nx,useId:s_,useHostTransitionStatus:Jp,useFormState:Gx,useActionState:Gx,useOptimistic:function(i,s){var o=dn();return Rt!==null?Vx(o,Rt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:qp,useCacheRefresh:a_};h_.useEffectEvent=Yx;function tg(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var ng={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=qi(),p=ra(u);p.payload=s,o!=null&&(p.callback=o),s=sa(i,p,u),s!==null&&(Ci(s,i,u),Fc(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=qi(),p=ra(u);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=sa(i,p,u),s!==null&&(Ci(s,i,u),Fc(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=qi(),u=ra(o);u.tag=2,s!=null&&(u.callback=s),s=sa(i,u,o),s!==null&&(Ci(s,i,o),Fc(s,i,o))}};function d_(i,s,o,u,p,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,w):s.prototype&&s.prototype.isPureReactComponent?!Oc(o,u)||!Oc(p,y):!0}function f_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&ng.enqueueReplaceState(s,s.state,null)}function _o(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=v({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}function m_(i){Jh(i)}function p_(i){console.error(i)}function g_(i){Jh(i)}function _d(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function y_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ig(i,s,o){return o=ra(o),o.tag=3,o.payload={element:null},o.callback=function(){_d(i,s)},o}function v_(i){return i=ra(i),i.tag=3,i}function b_(i,s,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;i.payload=function(){return p(y)},i.callback=function(){y_(s,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){y_(s,o,u),typeof p!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function eD(i,s,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&fl(s,o,p,!0),o=Ui.current,o!==null){switch(o.tag){case 31:case 13:return rr===null?Md():o.alternate===null&&on===0&&(on=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===ld?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Rg(i,u,p)),!1;case 22:return o.flags|=65536,u===ld?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Rg(i,u,p)),!1}throw Error(r(435,o.tag))}return Rg(i,u,p),Md(),!1}if(ot)return s=Ui.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==wp&&(i=Error(r(422),{cause:u}),jc(er(i,o)))):(u!==wp&&(s=Error(r(423),{cause:u}),jc(er(s,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=er(u,o),p=ig(i.stateNode,u,p),Mp(i,p),on!==4&&(on=2)),!1;var y=Error(r(520),{cause:u});if(y=er(y,o),nu===null?nu=[y]:nu.push(y),on!==4&&(on=2),s===null)return!0;u=er(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=ig(o.stateNode,u,i),Mp(o,i),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ha===null||!ha.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=v_(p),b_(p,i,o,u),Mp(o,p),!1}o=o.return}while(o!==null);return!1}var rg=Error(r(461)),_n=!1;function Xn(i,s,o,u){s.child=i===null?Tx(s,null,o,u):bo(s,i.child,o,u)}function x_(i,s,o,u,p){o=o.render;var y=s.ref;if("ref"in u){var w={};for(var R in u)R!=="ref"&&(w[R]=u[R])}else w=u;return po(s),u=Up(i,s,o,w,y,p),R=zp(),i!==null&&!_n?(Bp(i,s,p),bs(i,s,p)):(ot&&R&&xp(s),s.flags|=1,Xn(i,s,u,p),s.child)}function __(i,s,o,u,p){if(i===null){var y=o.type;return typeof y=="function"&&!yp(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,w_(i,s,y,u,p)):(i=nd(o.type,null,u,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!dg(i,p)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:Oc,o(w,u)&&i.ref===s.ref)return bs(i,s,p)}return s.flags|=1,i=fs(y,u),i.ref=s.ref,i.return=s,s.child=i}function w_(i,s,o,u,p){if(i!==null){var y=i.memoizedProps;if(Oc(y,u)&&i.ref===s.ref)if(_n=!1,s.pendingProps=u=y,dg(i,p))(i.flags&131072)!==0&&(_n=!0);else return s.lanes=i.lanes,bs(i,s,p)}return sg(i,s,o,u,p)}function T_(i,s,o,u){var p=u.children,y=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,i!==null){for(u=s.child=i.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,s.child=null;return E_(i,s,y,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&ad(s,y!==null?y.cachePool:null),y!==null?Ax(s,y):Pp(),Cx(s);else return u=s.lanes=536870912,E_(i,s,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(ad(s,y.cachePool),Ax(s,y),oa(),s.memoizedState=null):(i!==null&&ad(s,null),Pp(),oa());return Xn(i,s,p,o),s.child}function Xc(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function E_(i,s,o,u,p){var y=Ip();return y=y===null?null:{parent:bn._currentValue,pool:y},s.memoizedState={baseLanes:o,cachePool:y},i!==null&&ad(s,null),Pp(),Cx(s),i!==null&&fl(i,s,u,!0),s.childLanes=p,null}function wd(i,s){return s=Ed({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function S_(i,s,o){return bo(s,i.child,null,o),i=wd(s,s.pendingProps),i.flags|=2,zi(s),s.memoizedState=null,i}function tD(i,s,o){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(ot){if(u.mode==="hidden")return i=wd(s,u),s.lanes=536870912,Xc(null,i);if(jp(s),(i=Gt)?(i=jw(i,ir),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Zs!==null?{id:Gr,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},o=lx(i),o.return=s,s.child=o,Kn=s,Gt=null)):i=null,i===null)throw ta(s);return s.lanes=536870912,null}return wd(s,u)}var y=i.memoizedState;if(y!==null){var w=y.dehydrated;if(jp(s),p)if(s.flags&256)s.flags&=-257,s=S_(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(_n||fl(i,s,o,!1),p=(o&i.childLanes)!==0,_n||p){if(u=Ot,u!==null&&(w=Gn(u,o),w!==0&&w!==y.retryLane))throw y.retryLane=w,uo(i,w),Ci(u,i,w),rg;Md(),s=S_(i,s,o)}else i=y.treeContext,Gt=sr(w.nextSibling),Kn=s,ot=!0,ea=null,ir=!1,i!==null&&hx(s,i),s=wd(s,u),s.flags|=4096;return s}return i=fs(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Td(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function sg(i,s,o,u,p){return po(s),o=Up(i,s,o,u,void 0,p),u=zp(),i!==null&&!_n?(Bp(i,s,p),bs(i,s,p)):(ot&&u&&xp(s),s.flags|=1,Xn(i,s,o,p),s.child)}function A_(i,s,o,u,p,y){return po(s),s.updateQueue=null,o=Ix(s,u,o,p),Rx(i),u=zp(),i!==null&&!_n?(Bp(i,s,y),bs(i,s,y)):(ot&&u&&xp(s),s.flags|=1,Xn(i,s,o,y),s.child)}function C_(i,s,o,u,p){if(po(s),s.stateNode===null){var y=cl,w=o.contextType;typeof w=="object"&&w!==null&&(y=Yn(w)),y=new o(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ng,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},Dp(s),w=o.contextType,y.context=typeof w=="object"&&w!==null?Yn(w):cl,y.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(tg(s,o,w,u),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&ng.enqueueReplaceState(y,y.state,null),Hc(s,u,y,p),qc(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){y=s.stateNode;var R=s.memoizedProps,F=_o(o,R);y.props=F;var ee=y.context,ce=o.contextType;w=cl,typeof ce=="object"&&ce!==null&&(w=Yn(ce));var he=o.getDerivedStateFromProps;ce=typeof he=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||ee!==w)&&f_(s,y,u,w),ia=!1;var ie=s.memoizedState;y.state=ie,Hc(s,u,y,p),qc(),ee=s.memoizedState,R||ie!==ee||ia?(typeof he=="function"&&(tg(s,o,he,u),ee=s.memoizedState),(F=ia||d_(s,o,F,u,ie,ee,w))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=ee),y.props=u,y.state=ee,y.context=w,u=F):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,kp(i,s),w=s.memoizedProps,ce=_o(o,w),y.props=ce,he=s.pendingProps,ie=y.context,ee=o.contextType,F=cl,typeof ee=="object"&&ee!==null&&(F=Yn(ee)),R=o.getDerivedStateFromProps,(ee=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==he||ie!==F)&&f_(s,y,u,F),ia=!1,ie=s.memoizedState,y.state=ie,Hc(s,u,y,p),qc();var oe=s.memoizedState;w!==he||ie!==oe||ia||i!==null&&i.dependencies!==null&&rd(i.dependencies)?(typeof R=="function"&&(tg(s,o,R,u),oe=s.memoizedState),(ce=ia||d_(s,o,ce,u,ie,oe,F)||i!==null&&i.dependencies!==null&&rd(i.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,oe,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,oe,F)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&ie===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&ie===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=oe),y.props=u,y.state=oe,y.context=F,u=ce):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&ie===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&ie===i.memoizedState||(s.flags|=1024),u=!1)}return y=u,Td(i,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&u?(s.child=bo(s,i.child,null,p),s.child=bo(s,null,o,p)):Xn(i,s,o,p),s.memoizedState=y.state,i=s.child):i=bs(i,s,p),i}function R_(i,s,o,u){return fo(),s.flags|=256,Xn(i,s,o,u),s.child}var ag={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function og(i){return{baseLanes:i,cachePool:yx()}}function lg(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Fi),i}function I_(i,s,o){var u=s.pendingProps,p=!1,y=(s.flags&128)!==0,w;if((w=y)||(w=i!==null&&i.memoizedState===null?!1:(hn.current&2)!==0),w&&(p=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,i===null){if(ot){if(p?aa(s):oa(),(i=Gt)?(i=jw(i,ir),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Zs!==null?{id:Gr,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},o=lx(i),o.return=s,s.child=o,Kn=s,Gt=null)):i=null,i===null)throw ta(s);return Hg(i)?s.lanes=32:s.lanes=536870912,null}var R=u.children;return u=u.fallback,p?(oa(),p=s.mode,R=Ed({mode:"hidden",children:R},p),u=ho(u,p,o,null),R.return=s,u.return=s,R.sibling=u,s.child=R,u=s.child,u.memoizedState=og(o),u.childLanes=lg(i,w,o),s.memoizedState=ag,Xc(null,u)):(aa(s),cg(s,R))}var F=i.memoizedState;if(F!==null&&(R=F.dehydrated,R!==null)){if(y)s.flags&256?(aa(s),s.flags&=-257,s=ug(i,s,o)):s.memoizedState!==null?(oa(),s.child=i.child,s.flags|=128,s=null):(oa(),R=u.fallback,p=s.mode,u=Ed({mode:"visible",children:u.children},p),R=ho(R,p,o,null),R.flags|=2,u.return=s,R.return=s,u.sibling=R,s.child=u,bo(s,i.child,null,o),u=s.child,u.memoizedState=og(o),u.childLanes=lg(i,w,o),s.memoizedState=ag,s=Xc(null,u));else if(aa(s),Hg(R)){if(w=R.nextSibling&&R.nextSibling.dataset,w)var ee=w.dgst;w=ee,u=Error(r(419)),u.stack="",u.digest=w,jc({value:u,source:null,stack:null}),s=ug(i,s,o)}else if(_n||fl(i,s,o,!1),w=(o&i.childLanes)!==0,_n||w){if(w=Ot,w!==null&&(u=Gn(w,o),u!==0&&u!==F.retryLane))throw F.retryLane=u,uo(i,u),Ci(w,i,u),rg;qg(R)||Md(),s=ug(i,s,o)}else qg(R)?(s.flags|=192,s.child=i.child,s=null):(i=F.treeContext,Gt=sr(R.nextSibling),Kn=s,ot=!0,ea=null,ir=!1,i!==null&&hx(s,i),s=cg(s,u.children),s.flags|=4096);return s}return p?(oa(),R=u.fallback,p=s.mode,F=i.child,ee=F.sibling,u=fs(F,{mode:"hidden",children:u.children}),u.subtreeFlags=F.subtreeFlags&65011712,ee!==null?R=fs(ee,R):(R=ho(R,p,o,null),R.flags|=2),R.return=s,u.return=s,u.sibling=R,s.child=u,Xc(null,u),u=s.child,R=i.child.memoizedState,R===null?R=og(o):(p=R.cachePool,p!==null?(F=bn._currentValue,p=p.parent!==F?{parent:F,pool:F}:p):p=yx(),R={baseLanes:R.baseLanes|o,cachePool:p}),u.memoizedState=R,u.childLanes=lg(i,w,o),s.memoizedState=ag,Xc(i.child,u)):(aa(s),o=i.child,i=o.sibling,o=fs(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(w=s.deletions,w===null?(s.deletions=[i],s.flags|=16):w.push(i)),s.child=o,s.memoizedState=null,o)}function cg(i,s){return s=Ed({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Ed(i,s){return i=Li(22,i,null,s),i.lanes=0,i}function ug(i,s,o){return bo(s,i.child,null,o),i=cg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function N_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Sp(i.return,s,o)}function hg(i,s,o,u,p,y){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:y}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=o,w.tailMode=p,w.treeForkCount=y)}function D_(i,s,o){var u=s.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var w=hn.current,R=(w&2)!==0;if(R?(w=w&1|2,s.flags|=128):w&=1,Y(hn,w),Xn(i,s,u,o),u=ot?Vc:0,!R&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&N_(i,o,s);else if(i.tag===19)N_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(o=s.child,p=null;o!==null;)i=o.alternate,i!==null&&dd(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),hg(s,!1,p,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&dd(i)===null){s.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}hg(s,!0,o,null,y,u);break;case"together":hg(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function bs(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),ua|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(fl(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=fs(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=fs(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function dg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&rd(i)))}function nD(i,s,o){switch(s.tag){case 3:xe(s,s.stateNode.containerInfo),na(s,bn,i.memoizedState.cache),fo();break;case 27:case 5:Ee(s);break;case 4:xe(s,s.stateNode.containerInfo);break;case 10:na(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,jp(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(aa(s),s.flags|=128,null):(o&s.child.childLanes)!==0?I_(i,s,o):(aa(s),i=bs(i,s,o),i!==null?i.sibling:null);aa(s);break;case 19:var p=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(fl(i,s,o,!1),u=(o&s.childLanes)!==0),p){if(u)return D_(i,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Y(hn,hn.current),u)break;return null;case 22:return s.lanes=0,T_(i,s,o,s.pendingProps);case 24:na(s,bn,i.memoizedState.cache)}return bs(i,s,o)}function k_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)_n=!0;else{if(!dg(i,o)&&(s.flags&128)===0)return _n=!1,nD(i,s,o);_n=(i.flags&131072)!==0}else _n=!1,ot&&(s.flags&1048576)!==0&&ux(s,Vc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=yo(s.elementType),s.type=i,typeof i=="function")yp(i)?(u=_o(i,u),s.tag=1,s=C_(null,s,i,u,o)):(s.tag=0,s=sg(null,s,i,u,o));else{if(i!=null){var p=i.$$typeof;if(p===le){s.tag=11,s=x_(null,s,i,u,o);break e}else if(p===D){s.tag=14,s=__(null,s,i,u,o);break e}}throw s=be(i)||i,Error(r(306,s,""))}}return s;case 0:return sg(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,p=_o(u,s.pendingProps),C_(i,s,u,p,o);case 3:e:{if(xe(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var y=s.memoizedState;p=y.element,kp(i,s),Hc(s,u,null,o);var w=s.memoizedState;if(u=w.cache,na(s,bn,u),u!==y.cache&&Ap(s,[bn],o,!0),qc(),u=w.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=R_(i,s,u,o);break e}else if(u!==p){p=er(Error(r(424)),s),jc(p),s=R_(i,s,u,o);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Gt=sr(i.firstChild),Kn=s,ot=!0,ea=null,ir=!0,o=Tx(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(fo(),u===p){s=bs(i,s,o);break e}Xn(i,s,u,o)}s=s.child}return s;case 26:return Td(i,s),i===null?(o=qw(s.type,null,s.pendingProps,null))?s.memoizedState=o:ot||(o=s.type,i=s.pendingProps,u=zd(ge.current).createElement(o),u[Lt]=s,u[Yt]=i,Wn(u,o,i),sn(u),s.stateNode=u):s.memoizedState=qw(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ee(s),i===null&&ot&&(u=s.stateNode=zw(s.type,s.pendingProps,ge.current),Kn=s,ir=!0,p=Gt,pa(s.type)?(Gg=p,Gt=sr(u.firstChild)):Gt=p),Xn(i,s,s.pendingProps.children,o),Td(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&ot&&((p=u=Gt)&&(u=kD(u,s.type,s.pendingProps,ir),u!==null?(s.stateNode=u,Kn=s,Gt=sr(u.firstChild),ir=!1,p=!0):p=!1),p||ta(s)),Ee(s),p=s.type,y=s.pendingProps,w=i!==null?i.memoizedProps:null,u=y.children,zg(p,y)?u=null:w!==null&&zg(p,w)&&(s.flags|=32),s.memoizedState!==null&&(p=Up(i,s,KN,null,null,o),uu._currentValue=p),Td(i,s),Xn(i,s,u,o),s.child;case 6:return i===null&&ot&&((i=o=Gt)&&(o=MD(o,s.pendingProps,ir),o!==null?(s.stateNode=o,Kn=s,Gt=null,i=!0):i=!1),i||ta(s)),null;case 13:return I_(i,s,o);case 4:return xe(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=bo(s,null,u,o):Xn(i,s,u,o),s.child;case 11:return x_(i,s,s.type,s.pendingProps,o);case 7:return Xn(i,s,s.pendingProps,o),s.child;case 8:return Xn(i,s,s.pendingProps.children,o),s.child;case 12:return Xn(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,na(s,s.type,u.value),Xn(i,s,u.children,o),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,po(s),p=Yn(p),u=u(p),s.flags|=1,Xn(i,s,u,o),s.child;case 14:return __(i,s,s.type,s.pendingProps,o);case 15:return w_(i,s,s.type,s.pendingProps,o);case 19:return D_(i,s,o);case 31:return tD(i,s,o);case 22:return T_(i,s,o,s.pendingProps);case 24:return po(s),u=Yn(bn),i===null?(p=Ip(),p===null&&(p=Ot,y=Cp(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),s.memoizedState={parent:u,cache:p},Dp(s),na(s,bn,p)):((i.lanes&o)!==0&&(kp(i,s),Hc(s,null,null,o),qc()),p=i.memoizedState,y=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),na(s,bn,u)):(u=y.cache,na(s,bn,u),u!==p.cache&&Ap(s,[bn],o,!0))),Xn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function xs(i){i.flags|=4}function fg(i,s,o,u,p){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(sw())i.flags|=8192;else throw vo=ld,Np}else i.flags&=-16777217}function M_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Yw(s))if(sw())i.flags|=8192;else throw vo=ld,Np}function Sd(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?qt():536870912,i.lanes|=s,Sl|=s)}function Wc(i,s){if(!ot)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function $t(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function iD(i,s,o){var u=s.pendingProps;switch(_p(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(s),null;case 1:return $t(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),gs(bn),_e(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(dl(s)?xs(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Tp())),$t(s),null;case 26:var p=s.type,y=s.memoizedState;return i===null?(xs(s),y!==null?($t(s),M_(s,y)):($t(s),fg(s,p,null,u,o))):y?y!==i.memoizedState?(xs(s),$t(s),M_(s,y)):($t(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&xs(s),$t(s),fg(s,p,i,u,o)),null;case 27:if(Ue(s),o=ge.current,p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&xs(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return $t(s),null}i=ne.current,dl(s)?dx(s):(i=zw(p,u,o),s.stateNode=i,xs(s))}return $t(s),null;case 5:if(Ue(s),p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&xs(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return $t(s),null}if(y=ne.current,dl(s))dx(s);else{var w=zd(ge.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?w.createElement(p,{is:u.is}):w.createElement(p)}}y[Lt]=s,y[Yt]=u;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=y;e:switch(Wn(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&xs(s)}}return $t(s),fg(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&xs(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=ge.current,dl(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,p=Kn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[Lt]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Iw(i.nodeValue,o)),i||ta(s,!0)}else i=zd(i).createTextNode(u),i[Lt]=s,s.stateNode=i}return $t(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(u=dl(s),o!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Lt]=s}else fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$t(s),i=!1}else o=Tp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(zi(s),s):(zi(s),null);if((s.flags&128)!==0)throw Error(r(558))}return $t(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=dl(s),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Lt]=s}else fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$t(s),p=!1}else p=Tp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(zi(s),s):(zi(s),null)}return zi(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),Sd(s,s.updateQueue),$t(s),null);case 4:return _e(),i===null&&Pg(s.stateNode.containerInfo),$t(s),null;case 10:return gs(s.type),$t(s),null;case 19:if(L(hn),u=s.memoizedState,u===null)return $t(s),null;if(p=(s.flags&128)!==0,y=u.rendering,y===null)if(p)Wc(u,!1);else{if(on!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=dd(i),y!==null){for(s.flags|=128,Wc(u,!1),i=y.updateQueue,s.updateQueue=i,Sd(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)ox(o,i),o=o.sibling;return Y(hn,hn.current&1|2),ot&&ms(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&Ft()>Nd&&(s.flags|=128,p=!0,Wc(u,!1),s.lanes=4194304)}else{if(!p)if(i=dd(y),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,s.updateQueue=i,Sd(s,i),Wc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!ot)return $t(s),null}else 2*Ft()-u.renderingStartTime>Nd&&o!==536870912&&(s.flags|=128,p=!0,Wc(u,!1),s.lanes=4194304);u.isBackwards?(y.sibling=s.child,s.child=y):(i=u.last,i!==null?i.sibling=y:s.child=y,u.last=y)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Ft(),i.sibling=null,o=hn.current,Y(hn,p?o&1|2:o&1),ot&&ms(s,u.treeForkCount),i):($t(s),null);case 22:case 23:return zi(s),Vp(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&($t(s),s.subtreeFlags&6&&(s.flags|=8192)):$t(s),o=s.updateQueue,o!==null&&Sd(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&L(go),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),gs(bn),$t(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function rD(i,s){switch(_p(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return gs(bn),_e(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ue(s),null;case 31:if(s.memoizedState!==null){if(zi(s),s.alternate===null)throw Error(r(340));fo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(zi(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));fo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return L(hn),null;case 4:return _e(),null;case 10:return gs(s.type),null;case 22:case 23:return zi(s),Vp(),i!==null&&L(go),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return gs(bn),null;case 25:return null;default:return null}}function O_(i,s){switch(_p(s),s.tag){case 3:gs(bn),_e();break;case 26:case 27:case 5:Ue(s);break;case 4:_e();break;case 31:s.memoizedState!==null&&zi(s);break;case 13:zi(s);break;case 19:L(hn);break;case 10:gs(s.type);break;case 22:case 23:zi(s),Vp(),i!==null&&L(go);break;case 24:gs(bn)}}function Qc(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&i)===i){u=void 0;var y=o.create,w=o.inst;u=y(),w.destroy=u}o=o.next}while(o!==p)}}catch(R){St(s,s.return,R)}}function la(i,s,o){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&i)===i){var w=u.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,p=s;var F=o,ee=R;try{ee()}catch(ce){St(p,F,ce)}}}u=u.next}while(u!==y)}}catch(ce){St(s,s.return,ce)}}function P_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Sx(s,o)}catch(u){St(i,i.return,u)}}}function V_(i,s,o){o.props=_o(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){St(i,s,u)}}function Jc(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(p){St(i,s,p)}}function Kr(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){St(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){St(i,s,p)}else o.current=null}function j_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){St(i,i.return,p)}}function mg(i,s,o){try{var u=i.stateNode;AD(u,i.type,o,s),u[Yt]=s}catch(p){St(i,i.return,p)}}function L_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&pa(i.type)||i.tag===4}function pg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||L_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&pa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function gg(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=vr));else if(u!==4&&(u===27&&pa(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(gg(i,s,o),i=i.sibling;i!==null;)gg(i,s,o),i=i.sibling}function Ad(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&pa(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Ad(i,s,o),i=i.sibling;i!==null;)Ad(i,s,o),i=i.sibling}function U_(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Wn(s,u,o),s[Lt]=i,s[Yt]=o}catch(y){St(i,i.return,y)}}var _s=!1,wn=!1,yg=!1,z_=typeof WeakSet=="function"?WeakSet:Set,Un=null;function sD(i,s){if(i=i.containerInfo,Lg=Kd,i=Jb(i),up(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var w=0,R=-1,F=-1,ee=0,ce=0,he=i,ie=null;t:for(;;){for(var oe;he!==o||p!==0&&he.nodeType!==3||(R=w+p),he!==y||u!==0&&he.nodeType!==3||(F=w+u),he.nodeType===3&&(w+=he.nodeValue.length),(oe=he.firstChild)!==null;)ie=he,he=oe;for(;;){if(he===i)break t;if(ie===o&&++ee===p&&(R=w),ie===y&&++ce===u&&(F=w),(oe=he.nextSibling)!==null)break;he=ie,ie=he.parentNode}he=oe}o=R===-1||F===-1?null:{start:R,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ug={focusedElem:i,selectionRange:o},Kd=!1,Un=s;Un!==null;)if(s=Un,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Un=i;else for(;Un!==null;){switch(s=Un,y=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)p=i[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=s,p=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var Ae=_o(o.type,p);i=u.getSnapshotBeforeUpdate(Ae,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(Oe){St(o,o.return,Oe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Fg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Fg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Un=i;break}Un=s.return}}function B_(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ts(i,o),u&4&&Qc(5,o);break;case 1:if(Ts(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(w){St(o,o.return,w)}else{var p=_o(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(w){St(o,o.return,w)}}u&64&&P_(o),u&512&&Jc(o,o.return);break;case 3:if(Ts(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Sx(i,s)}catch(w){St(o,o.return,w)}}break;case 27:s===null&&u&4&&U_(o);case 26:case 5:Ts(i,o),s===null&&u&4&&j_(o),u&512&&Jc(o,o.return);break;case 12:Ts(i,o);break;case 31:Ts(i,o),u&4&&H_(i,o);break;case 13:Ts(i,o),u&4&&G_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=mD.bind(null,o),OD(i,o))));break;case 22:if(u=o.memoizedState!==null||_s,!u){s=s!==null&&s.memoizedState!==null||wn,p=_s;var y=wn;_s=u,(wn=s)&&!y?Es(i,o,(o.subtreeFlags&8772)!==0):Ts(i,o),_s=p,wn=y}break;case 30:break;default:Ts(i,o)}}function F_(i){var s=i.alternate;s!==null&&(i.alternate=null,F_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&cs(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Wt=null,Ti=!1;function ws(i,s,o){for(o=o.child;o!==null;)q_(i,s,o),o=o.sibling}function q_(i,s,o){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Cn,o)}catch{}switch(o.tag){case 26:wn||Kr(o,s),ws(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:wn||Kr(o,s);var u=Wt,p=Ti;pa(o.type)&&(Wt=o.stateNode,Ti=!1),ws(i,s,o),ou(o.stateNode),Wt=u,Ti=p;break;case 5:wn||Kr(o,s);case 6:if(u=Wt,p=Ti,Wt=null,ws(i,s,o),Wt=u,Ti=p,Wt!==null)if(Ti)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(o.stateNode)}catch(y){St(o,s,y)}else try{Wt.removeChild(o.stateNode)}catch(y){St(o,s,y)}break;case 18:Wt!==null&&(Ti?(i=Wt,Pw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Ml(i)):Pw(Wt,o.stateNode));break;case 4:u=Wt,p=Ti,Wt=o.stateNode.containerInfo,Ti=!0,ws(i,s,o),Wt=u,Ti=p;break;case 0:case 11:case 14:case 15:la(2,o,s),wn||la(4,o,s),ws(i,s,o);break;case 1:wn||(Kr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&V_(o,s,u)),ws(i,s,o);break;case 21:ws(i,s,o);break;case 22:wn=(u=wn)||o.memoizedState!==null,ws(i,s,o),wn=u;break;default:ws(i,s,o)}}function H_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ml(i)}catch(o){St(s,s.return,o)}}}function G_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ml(i)}catch(o){St(s,s.return,o)}}function aD(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new z_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new z_),s;default:throw Error(r(435,i.tag))}}function Cd(i,s){var o=aD(i);s.forEach(function(u){if(!o.has(u)){o.add(u);var p=pD.bind(null,i,u);u.then(p,p)}})}function Ei(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],y=i,w=s,R=w;e:for(;R!==null;){switch(R.tag){case 27:if(pa(R.type)){Wt=R.stateNode,Ti=!1;break e}break;case 5:Wt=R.stateNode,Ti=!1;break e;case 3:case 4:Wt=R.stateNode.containerInfo,Ti=!0;break e}R=R.return}if(Wt===null)throw Error(r(160));q_(y,w,p),Wt=null,Ti=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)$_(s,i),s=s.sibling}var Er=null;function $_(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ei(s,i),Si(i),u&4&&(la(3,i,i.return),Qc(3,i),la(5,i,i.return));break;case 1:Ei(s,i),Si(i),u&512&&(wn||o===null||Kr(o,o.return)),u&64&&_s&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=Er;if(Ei(s,i),Si(i),u&512&&(wn||o===null||Kr(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[bi]||y[Lt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),Wn(y,u,o),y[Lt]=i,sn(y),u=y;break e;case"link":var w=$w("link","href",p).get(u+(o.href||""));if(w){for(var R=0;R<w.length;R++)if(y=w[R],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(R,1);break t}}y=p.createElement(u),Wn(y,u,o),p.head.appendChild(y);break;case"meta":if(w=$w("meta","content",p).get(u+(o.content||""))){for(R=0;R<w.length;R++)if(y=w[R],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(R,1);break t}}y=p.createElement(u),Wn(y,u,o),p.head.appendChild(y);break;default:throw Error(r(468,u))}y[Lt]=i,sn(y),u=y}i.stateNode=u}else Kw(p,i.type,i.stateNode);else i.stateNode=Gw(p,u,i.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?Kw(p,i.type,i.stateNode):Gw(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&mg(i,i.memoizedProps,o.memoizedProps)}break;case 27:Ei(s,i),Si(i),u&512&&(wn||o===null||Kr(o,o.return)),o!==null&&u&4&&mg(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Ei(s,i),Si(i),u&512&&(wn||o===null||Kr(o,o.return)),i.flags&32){p=i.stateNode;try{wi(p,"")}catch(Ae){St(i,i.return,Ae)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,mg(i,p,o!==null?o.memoizedProps:p)),u&1024&&(yg=!0);break;case 6:if(Ei(s,i),Si(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Ae){St(i,i.return,Ae)}}break;case 3:if(qd=null,p=Er,Er=Bd(s.containerInfo),Ei(s,i),Er=p,Si(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ml(s.containerInfo)}catch(Ae){St(i,i.return,Ae)}yg&&(yg=!1,K_(i));break;case 4:u=Er,Er=Bd(i.stateNode.containerInfo),Ei(s,i),Si(i),Er=u;break;case 12:Ei(s,i),Si(i);break;case 31:Ei(s,i),Si(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Cd(i,u)));break;case 13:Ei(s,i),Si(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Id=Ft()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Cd(i,u)));break;case 22:p=i.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,ee=_s,ce=wn;if(_s=ee||p,wn=ce||F,Ei(s,i),wn=ce,_s=ee,Si(i),u&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||F||_s||wn||wo(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){F=o=s;try{if(y=F.stateNode,p)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{R=F.stateNode;var he=F.memoizedProps.style,ie=he!=null&&he.hasOwnProperty("display")?he.display:null;R.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Ae){St(F,F.return,Ae)}}}else if(s.tag===6){if(o===null){F=s;try{F.stateNode.nodeValue=p?"":F.memoizedProps}catch(Ae){St(F,F.return,Ae)}}}else if(s.tag===18){if(o===null){F=s;try{var oe=F.stateNode;p?Vw(oe,!0):Vw(F.stateNode,!1)}catch(Ae){St(F,F.return,Ae)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Cd(i,o))));break;case 19:Ei(s,i),Si(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Cd(i,u)));break;case 30:break;case 21:break;default:Ei(s,i),Si(i)}}function Si(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(L_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,y=pg(i);Ad(i,y,p);break;case 5:var w=o.stateNode;o.flags&32&&(wi(w,""),o.flags&=-33);var R=pg(i);Ad(i,R,w);break;case 3:case 4:var F=o.stateNode.containerInfo,ee=pg(i);gg(i,ee,F);break;default:throw Error(r(161))}}catch(ce){St(i,i.return,ce)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function K_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;K_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ts(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)B_(i,s.alternate,s),s=s.sibling}function wo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:la(4,s,s.return),wo(s);break;case 1:Kr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&V_(s,s.return,o),wo(s);break;case 27:ou(s.stateNode);case 26:case 5:Kr(s,s.return),wo(s);break;case 22:s.memoizedState===null&&wo(s);break;case 30:wo(s);break;default:wo(s)}i=i.sibling}}function Es(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=i,y=s,w=y.flags;switch(y.tag){case 0:case 11:case 15:Es(p,y,o),Qc(4,y);break;case 1:if(Es(p,y,o),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ee){St(u,u.return,ee)}if(u=y,p=u.updateQueue,p!==null){var R=u.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)Ex(F[p],R)}catch(ee){St(u,u.return,ee)}}o&&w&64&&P_(y),Jc(y,y.return);break;case 27:U_(y);case 26:case 5:Es(p,y,o),o&&u===null&&w&4&&j_(y),Jc(y,y.return);break;case 12:Es(p,y,o);break;case 31:Es(p,y,o),o&&w&4&&H_(p,y);break;case 13:Es(p,y,o),o&&w&4&&G_(p,y);break;case 22:y.memoizedState===null&&Es(p,y,o),Jc(y,y.return);break;case 30:break;default:Es(p,y,o)}s=s.sibling}}function vg(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Lc(o))}function bg(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Lc(i))}function Sr(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Y_(i,s,o,u),s=s.sibling}function Y_(i,s,o,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Sr(i,s,o,u),p&2048&&Qc(9,s);break;case 1:Sr(i,s,o,u);break;case 3:Sr(i,s,o,u),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Lc(i)));break;case 12:if(p&2048){Sr(i,s,o,u),i=s.stateNode;try{var y=s.memoizedProps,w=y.id,R=y.onPostCommit;typeof R=="function"&&R(w,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){St(s,s.return,F)}}else Sr(i,s,o,u);break;case 31:Sr(i,s,o,u);break;case 13:Sr(i,s,o,u);break;case 23:break;case 22:y=s.stateNode,w=s.alternate,s.memoizedState!==null?y._visibility&2?Sr(i,s,o,u):Zc(i,s):y._visibility&2?Sr(i,s,o,u):(y._visibility|=2,wl(i,s,o,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&vg(w,s);break;case 24:Sr(i,s,o,u),p&2048&&bg(s.alternate,s);break;default:Sr(i,s,o,u)}}function wl(i,s,o,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=i,w=s,R=o,F=u,ee=w.flags;switch(w.tag){case 0:case 11:case 15:wl(y,w,R,F,p),Qc(8,w);break;case 23:break;case 22:var ce=w.stateNode;w.memoizedState!==null?ce._visibility&2?wl(y,w,R,F,p):Zc(y,w):(ce._visibility|=2,wl(y,w,R,F,p)),p&&ee&2048&&vg(w.alternate,w);break;case 24:wl(y,w,R,F,p),p&&ee&2048&&bg(w.alternate,w);break;default:wl(y,w,R,F,p)}s=s.sibling}}function Zc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,p=u.flags;switch(u.tag){case 22:Zc(o,u),p&2048&&vg(u.alternate,u);break;case 24:Zc(o,u),p&2048&&bg(u.alternate,u);break;default:Zc(o,u)}s=s.sibling}}var eu=8192;function Tl(i,s,o){if(i.subtreeFlags&eu)for(i=i.child;i!==null;)X_(i,s,o),i=i.sibling}function X_(i,s,o){switch(i.tag){case 26:Tl(i,s,o),i.flags&eu&&i.memoizedState!==null&&$D(o,Er,i.memoizedState,i.memoizedProps);break;case 5:Tl(i,s,o);break;case 3:case 4:var u=Er;Er=Bd(i.stateNode.containerInfo),Tl(i,s,o),Er=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=eu,eu=16777216,Tl(i,s,o),eu=u):Tl(i,s,o));break;default:Tl(i,s,o)}}function W_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function tu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Un=u,J_(u,i)}W_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Q_(i),i=i.sibling}function Q_(i){switch(i.tag){case 0:case 11:case 15:tu(i),i.flags&2048&&la(9,i,i.return);break;case 3:tu(i);break;case 12:tu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Rd(i)):tu(i);break;default:tu(i)}}function Rd(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Un=u,J_(u,i)}W_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:la(8,s,s.return),Rd(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Rd(s));break;default:Rd(s)}i=i.sibling}}function J_(i,s){for(;Un!==null;){var o=Un;switch(o.tag){case 0:case 11:case 15:la(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Lc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Un=u;else e:for(o=i;Un!==null;){u=Un;var p=u.sibling,y=u.return;if(F_(u),u===o){Un=null;break e}if(p!==null){p.return=y,Un=p;break e}Un=y}}}var oD={getCacheForType:function(i){var s=Yn(bn),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return Yn(bn).controller.signal}},lD=typeof WeakMap=="function"?WeakMap:Map,bt=0,Ot=null,Qe=null,Ze=0,Et=0,Bi=null,ca=!1,El=!1,xg=!1,Ss=0,on=0,ua=0,To=0,_g=0,Fi=0,Sl=0,nu=null,Ai=null,wg=!1,Id=0,Z_=0,Nd=1/0,Dd=null,ha=null,Dn=0,da=null,Al=null,As=0,Tg=0,Eg=null,ew=null,iu=0,Sg=null;function qi(){return(bt&2)!==0&&Ze!==0?Ze&-Ze:te.T!==null?Dg():Nn()}function tw(){if(Fi===0)if((Ze&536870912)===0||ot){var i=yr;yr<<=1,(yr&3932160)===0&&(yr=262144),Fi=i}else Fi=536870912;return i=Ui.current,i!==null&&(i.flags|=32),Fi}function Ci(i,s,o){(i===Ot&&(Et===2||Et===9)||i.cancelPendingCommit!==null)&&(Cl(i,0),fa(i,Ze,Fi,!1)),cn(i,o),((bt&2)===0||i!==Ot)&&(i===Ot&&((bt&2)===0&&(To|=o),on===4&&fa(i,Ze,Fi,!1)),Yr(i))}function nw(i,s,o){if((bt&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&i.expiredLanes)===0||rn(i,s),p=u?hD(i,s):Cg(i,s,!0),y=u;do{if(p===0){El&&!u&&fa(i,s,0,!1);break}else{if(o=i.current.alternate,y&&!cD(o)){p=Cg(i,s,!1),y=!1;continue}if(p===2){if(y=s,i.errorRecoveryDisabledLanes&y)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var R=i;p=nu;var F=R.current.memoizedState.isDehydrated;if(F&&(Cl(R,w).flags|=256),w=Cg(R,w,!1),w!==2){if(xg&&!F){R.errorRecoveryDisabledLanes|=y,To|=y,p=4;break e}y=Ai,Ai=p,y!==null&&(Ai===null?Ai=y:Ai.push.apply(Ai,y))}p=w}if(y=!1,p!==2)continue}}if(p===1){Cl(i,0),fa(i,s,0,!0);break}e:{switch(u=i,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:fa(u,s,Fi,!ca);break e;case 2:Ai=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Id+300-Ft(),10<p)){if(fa(u,s,Fi,!ca),jt(u,0,!0)!==0)break e;As=s,u.timeoutHandle=Mw(iw.bind(null,u,o,Ai,Dd,wg,s,Fi,To,Sl,ca,y,"Throttled",-0,0),p);break e}iw(u,o,Ai,Dd,wg,s,Fi,To,Sl,ca,y,null,-0,0)}}break}while(!0);Yr(i)}function iw(i,s,o,u,p,y,w,R,F,ee,ce,he,ie,oe){if(i.timeoutHandle=-1,he=s.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vr},X_(s,y,he);var Ae=(y&62914560)===y?Id-Ft():(y&4194048)===y?Z_-Ft():0;if(Ae=KD(he,Ae),Ae!==null){As=y,i.cancelPendingCommit=Ae(hw.bind(null,i,s,y,o,u,p,w,R,F,ce,he,null,ie,oe)),fa(i,y,w,!ee);return}}hw(i,s,y,o,u,p,w,R,F)}function cD(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],y=p.getSnapshot;p=p.value;try{if(!ji(y(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fa(i,s,o,u){s&=~_g,s&=~To,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var p=s;0<p;){var y=31-Dt(p),w=1<<y;u[y]=-1,p&=~w}o!==0&&Rn(i,o,s)}function kd(){return(bt&6)===0?(ru(0),!1):!0}function Ag(){if(Qe!==null){if(Et===0)var i=Qe.return;else i=Qe,ps=mo=null,Fp(i),yl=null,zc=0,i=Qe;for(;i!==null;)O_(i.alternate,i),i=i.return;Qe=null}}function Cl(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,ID(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),As=0,Ag(),Ot=i,Qe=o=fs(i.current,null),Ze=s,Et=0,Bi=null,ca=!1,El=rn(i,s),xg=!1,Sl=Fi=_g=To=ua=on=0,Ai=nu=null,wg=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var p=31-Dt(u),y=1<<p;s|=i[p],u&=~y}return Ss=s,Zh(),o}function rw(i,s){$e=null,te.H=Yc,s===gl||s===od?(s=xx(),Et=3):s===Np?(s=xx(),Et=4):Et=s===rg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Bi=s,Qe===null&&(on=1,_d(i,er(s,i.current)))}function sw(){var i=Ui.current;return i===null?!0:(Ze&4194048)===Ze?rr===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?i===rr:!1}function aw(){var i=te.H;return te.H=Yc,i===null?Yc:i}function ow(){var i=te.A;return te.A=oD,i}function Md(){on=4,ca||(Ze&4194048)!==Ze&&Ui.current!==null||(El=!0),(ua&134217727)===0&&(To&134217727)===0||Ot===null||fa(Ot,Ze,Fi,!1)}function Cg(i,s,o){var u=bt;bt|=2;var p=aw(),y=ow();(Ot!==i||Ze!==s)&&(Dd=null,Cl(i,s)),s=!1;var w=on;e:do try{if(Et!==0&&Qe!==null){var R=Qe,F=Bi;switch(Et){case 8:Ag(),w=6;break e;case 3:case 2:case 9:case 6:Ui.current===null&&(s=!0);var ee=Et;if(Et=0,Bi=null,Rl(i,R,F,ee),o&&El){w=0;break e}break;default:ee=Et,Et=0,Bi=null,Rl(i,R,F,ee)}}uD(),w=on;break}catch(ce){rw(i,ce)}while(!0);return s&&i.shellSuspendCounter++,ps=mo=null,bt=u,te.H=p,te.A=y,Qe===null&&(Ot=null,Ze=0,Zh()),w}function uD(){for(;Qe!==null;)lw(Qe)}function hD(i,s){var o=bt;bt|=2;var u=aw(),p=ow();Ot!==i||Ze!==s?(Dd=null,Nd=Ft()+500,Cl(i,s)):El=rn(i,s);e:do try{if(Et!==0&&Qe!==null){s=Qe;var y=Bi;t:switch(Et){case 1:Et=0,Bi=null,Rl(i,s,y,1);break;case 2:case 9:if(vx(y)){Et=0,Bi=null,cw(s);break}s=function(){Et!==2&&Et!==9||Ot!==i||(Et=7),Yr(i)},y.then(s,s);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:vx(y)?(Et=0,Bi=null,cw(s)):(Et=0,Bi=null,Rl(i,s,y,7));break;case 5:var w=null;switch(Qe.tag){case 26:w=Qe.memoizedState;case 5:case 27:var R=Qe;if(w?Yw(w):R.stateNode.complete){Et=0,Bi=null;var F=R.sibling;if(F!==null)Qe=F;else{var ee=R.return;ee!==null?(Qe=ee,Od(ee)):Qe=null}break t}}Et=0,Bi=null,Rl(i,s,y,5);break;case 6:Et=0,Bi=null,Rl(i,s,y,6);break;case 8:Ag(),on=6;break e;default:throw Error(r(462))}}dD();break}catch(ce){rw(i,ce)}while(!0);return ps=mo=null,te.H=u,te.A=p,bt=o,Qe!==null?0:(Ot=null,Ze=0,Zh(),on)}function dD(){for(;Qe!==null&&!Ni();)lw(Qe)}function lw(i){var s=k_(i.alternate,i,Ss);i.memoizedProps=i.pendingProps,s===null?Od(i):Qe=s}function cw(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=A_(o,s,s.pendingProps,s.type,void 0,Ze);break;case 11:s=A_(o,s,s.pendingProps,s.type.render,s.ref,Ze);break;case 5:Fp(s);default:O_(o,s),s=Qe=ox(s,Ss),s=k_(o,s,Ss)}i.memoizedProps=i.pendingProps,s===null?Od(i):Qe=s}function Rl(i,s,o,u){ps=mo=null,Fp(s),yl=null,zc=0;var p=s.return;try{if(eD(i,p,s,o,Ze)){on=1,_d(i,er(o,i.current)),Qe=null;return}}catch(y){if(p!==null)throw Qe=p,y;on=1,_d(i,er(o,i.current)),Qe=null;return}s.flags&32768?(ot||u===1?i=!0:El||(Ze&536870912)!==0?i=!1:(ca=i=!0,(u===2||u===9||u===3||u===6)&&(u=Ui.current,u!==null&&u.tag===13&&(u.flags|=16384))),uw(s,i)):Od(s)}function Od(i){var s=i;do{if((s.flags&32768)!==0){uw(s,ca);return}i=s.return;var o=iD(s.alternate,s,Ss);if(o!==null){Qe=o;return}if(s=s.sibling,s!==null){Qe=s;return}Qe=s=i}while(s!==null);on===0&&(on=5)}function uw(i,s){do{var o=rD(i.alternate,i);if(o!==null){o.flags&=32767,Qe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Qe=i;return}Qe=i=o}while(i!==null);on=6,Qe=null}function hw(i,s,o,u,p,y,w,R,F){i.cancelPendingCommit=null;do Pd();while(Dn!==0);if((bt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=pp,Tt(i,o,y,w,R,F),i===Ot&&(Qe=Ot=null,Ze=0),Al=s,da=i,As=o,Tg=y,Eg=p,ew=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,gD(gn,function(){return gw(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=te.T,te.T=null,p=G.p,G.p=2,w=bt,bt|=4;try{sD(i,s,o)}finally{bt=w,G.p=p,te.T=u}}Dn=1,dw(),fw(),mw()}}function dw(){if(Dn===1){Dn=0;var i=da,s=Al,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=te.T,te.T=null;var u=G.p;G.p=2;var p=bt;bt|=4;try{$_(s,i);var y=Ug,w=Jb(i.containerInfo),R=y.focusedElem,F=y.selectionRange;if(w!==R&&R&&R.ownerDocument&&Qb(R.ownerDocument.documentElement,R)){if(F!==null&&up(R)){var ee=F.start,ce=F.end;if(ce===void 0&&(ce=ee),"selectionStart"in R)R.selectionStart=ee,R.selectionEnd=Math.min(ce,R.value.length);else{var he=R.ownerDocument||document,ie=he&&he.defaultView||window;if(ie.getSelection){var oe=ie.getSelection(),Ae=R.textContent.length,Oe=Math.min(F.start,Ae),Nt=F.end===void 0?Oe:Math.min(F.end,Ae);!oe.extend&&Oe>Nt&&(w=Nt,Nt=Oe,Oe=w);var X=Wb(R,Oe),K=Wb(R,Nt);if(X&&K&&(oe.rangeCount!==1||oe.anchorNode!==X.node||oe.anchorOffset!==X.offset||oe.focusNode!==K.node||oe.focusOffset!==K.offset)){var Z=he.createRange();Z.setStart(X.node,X.offset),oe.removeAllRanges(),Oe>Nt?(oe.addRange(Z),oe.extend(K.node,K.offset)):(Z.setEnd(K.node,K.offset),oe.addRange(Z))}}}}for(he=[],oe=R;oe=oe.parentNode;)oe.nodeType===1&&he.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<he.length;R++){var ue=he[R];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Kd=!!Lg,Ug=Lg=null}finally{bt=p,G.p=u,te.T=o}}i.current=s,Dn=2}}function fw(){if(Dn===2){Dn=0;var i=da,s=Al,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=te.T,te.T=null;var u=G.p;G.p=2;var p=bt;bt|=4;try{B_(i,s.alternate,s)}finally{bt=p,G.p=u,te.T=o}}Dn=3}}function mw(){if(Dn===4||Dn===3){Dn=0,Di();var i=da,s=Al,o=As,u=ew;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Dn=5:(Dn=0,Al=da=null,pw(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(ha=null),gt(o),s=s.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Cn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=te.T,p=G.p,G.p=2,te.T=null;try{for(var y=i.onRecoverableError,w=0;w<u.length;w++){var R=u[w];y(R.value,{componentStack:R.stack})}}finally{te.T=s,G.p=p}}(As&3)!==0&&Pd(),Yr(i),p=i.pendingLanes,(o&261930)!==0&&(p&42)!==0?i===Sg?iu++:(iu=0,Sg=i):iu=0,ru(0)}}function pw(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Lc(s)))}function Pd(){return dw(),fw(),mw(),gw()}function gw(){if(Dn!==5)return!1;var i=da,s=Tg;Tg=0;var o=gt(As),u=te.T,p=G.p;try{G.p=32>o?32:o,te.T=null,o=Eg,Eg=null;var y=da,w=As;if(Dn=0,Al=da=null,As=0,(bt&6)!==0)throw Error(r(331));var R=bt;if(bt|=4,Q_(y.current),Y_(y,y.current,w,o),bt=R,ru(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Cn,y)}catch{}return!0}finally{G.p=p,te.T=u,pw(i,s)}}function yw(i,s,o){s=er(o,s),s=ig(i.stateNode,s,2),i=sa(i,s,2),i!==null&&(cn(i,2),Yr(i))}function St(i,s,o){if(i.tag===3)yw(i,i,o);else for(;s!==null;){if(s.tag===3){yw(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ha===null||!ha.has(u))){i=er(o,i),o=v_(2),u=sa(s,o,2),u!==null&&(b_(o,u,s,i),cn(u,2),Yr(u));break}}s=s.return}}function Rg(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new lD;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(o)||(xg=!0,p.add(o),i=fD.bind(null,i,s,o),s.then(i,i))}function fD(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Ot===i&&(Ze&o)===o&&(on===4||on===3&&(Ze&62914560)===Ze&&300>Ft()-Id?(bt&2)===0&&Cl(i,0):_g|=o,Sl===Ze&&(Sl=0)),Yr(i)}function vw(i,s){s===0&&(s=qt()),i=uo(i,s),i!==null&&(cn(i,s),Yr(i))}function mD(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),vw(i,o)}function pD(i,s){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),vw(i,o)}function gD(i,s){return qe(i,s)}var Vd=null,Il=null,Ig=!1,jd=!1,Ng=!1,ma=0;function Yr(i){i!==Il&&i.next===null&&(Il===null?Vd=Il=i:Il=Il.next=i),jd=!0,Ig||(Ig=!0,vD())}function ru(i,s){if(!Ng&&jd){Ng=!0;do for(var o=!1,u=Vd;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var w=u.suspendedLanes,R=u.pingedLanes;y=(1<<31-Dt(42|i)+1)-1,y&=p&~(w&~R),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,ww(u,y))}else y=Ze,y=jt(u,u===Ot?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||rn(u,y)||(o=!0,ww(u,y));u=u.next}while(o);Ng=!1}}function yD(){bw()}function bw(){jd=Ig=!1;var i=0;ma!==0&&RD()&&(i=ma);for(var s=Ft(),o=null,u=Vd;u!==null;){var p=u.next,y=xw(u,s);y===0?(u.next=null,o===null?Vd=p:o.next=p,p===null&&(Il=o)):(o=u,(i!==0||(y&3)!==0)&&(jd=!0)),u=p}Dn!==0&&Dn!==5||ru(i),ma!==0&&(ma=0)}function xw(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var w=31-Dt(y),R=1<<w,F=p[w];F===-1?((R&o)===0||(R&u)!==0)&&(p[w]=Ln(R,s)):F<=s&&(i.expiredLanes|=R),y&=~R}if(s=Ot,o=Ze,o=jt(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Et===2||Et===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&pn(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||rn(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&pn(u),gt(o)){case 2:case 8:o=Hn;break;case 32:o=gn;break;case 268435456:o=yi;break;default:o=gn}return u=_w.bind(null,i),o=qe(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&pn(u),i.callbackPriority=2,i.callbackNode=null,2}function _w(i,s){if(Dn!==0&&Dn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Pd()&&i.callbackNode!==o)return null;var u=Ze;return u=jt(i,i===Ot?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(nw(i,u,s),xw(i,Ft()),i.callbackNode!=null&&i.callbackNode===o?_w.bind(null,i):null)}function ww(i,s){if(Pd())return null;nw(i,s,!0)}function vD(){ND(function(){(bt&6)!==0?qe(ei,yD):bw()})}function Dg(){if(ma===0){var i=ml;i===0&&(i=vi,vi<<=1,(vi&261888)===0&&(vi=256)),ma=i}return ma}function Tw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Zo(""+i)}function Ew(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function bD(i,s,o,u,p){if(s==="submit"&&o&&o.stateNode===p){var y=Tw((p[Yt]||null).action),w=u.submitter;w&&(s=(s=w[Yt]||null)?Tw(s.formAction):w.getAttribute("formAction"),s!==null&&(y=s,w=null));var R=new Br("action","action",null,u,p);i.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ma!==0){var F=w?Ew(p,w):new FormData(p);Qp(o,{pending:!0,data:F,method:p.method,action:y},null,F)}}else typeof y=="function"&&(R.preventDefault(),F=w?Ew(p,w):new FormData(p),Qp(o,{pending:!0,data:F,method:p.method,action:y},y,F))},currentTarget:p}]})}}for(var kg=0;kg<mp.length;kg++){var Mg=mp[kg],xD=Mg.toLowerCase(),_D=Mg[0].toUpperCase()+Mg.slice(1);Tr(xD,"on"+_D)}Tr(tx,"onAnimationEnd"),Tr(nx,"onAnimationIteration"),Tr(ix,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(jN,"onTransitionRun"),Tr(LN,"onTransitionStart"),Tr(UN,"onTransitionCancel"),Tr(rx,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(su));function Sw(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],p=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var w=u.length-1;0<=w;w--){var R=u[w],F=R.instance,ee=R.currentTarget;if(R=R.listener,F!==y&&p.isPropagationStopped())break e;y=R,p.currentTarget=ee;try{y(p)}catch(ce){Jh(ce)}p.currentTarget=null,y=F}else for(w=0;w<u.length;w++){if(R=u[w],F=R.instance,ee=R.currentTarget,R=R.listener,F!==y&&p.isPropagationStopped())break e;y=R,p.currentTarget=ee;try{y(p)}catch(ce){Jh(ce)}p.currentTarget=null,y=F}}}}function Je(i,s){var o=s[Hs];o===void 0&&(o=s[Hs]=new Set);var u=i+"__bubble";o.has(u)||(Aw(s,i,2,!1),o.add(u))}function Og(i,s,o){var u=0;s&&(u|=4),Aw(o,i,u,s)}var Ld="_reactListening"+Math.random().toString(36).slice(2);function Pg(i){if(!i[Ld]){i[Ld]=!0,Mi.forEach(function(o){o!=="selectionchange"&&(wD.has(o)||Og(o,!1,i),Og(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Ld]||(s[Ld]=!0,Og("selectionchange",!1,s))}}function Aw(i,s,o,u){switch(t1(s)){case 2:var p=WD;break;case 8:p=QD;break;default:p=Wg}o=p.bind(null,s,o,i),p=void 0,!no||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(s,o,{capture:!0,passive:p}):i.addEventListener(s,o,!0):p!==void 0?i.addEventListener(s,o,{passive:p}):i.addEventListener(s,o,!1)}function Vg(i,s,o,u,p){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var R=u.stateNode.containerInfo;if(R===p)break;if(w===4)for(w=u.return;w!==null;){var F=w.tag;if((F===3||F===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;R!==null;){if(w=Yi(R),w===null)return;if(F=w.tag,F===5||F===6||F===26||F===27){u=y=w;continue e}R=R.parentNode}}u=u.return}Xs(function(){var ee=y,ce=Wi(o),he=[];e:{var ie=sx.get(i);if(ie!==void 0){var oe=Br,Ae=i;switch(i){case"keypress":if(ro(o)===0)break e;case"keydown":case"keyup":oe=Xh;break;case"focusin":Ae="focus",oe=ao;break;case"focusout":Ae="blur",oe=ao;break;case"beforeblur":case"afterblur":oe=ao;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Nc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=zh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=x;break;case tx:case nx:case ix:oe=Fh;break;case rx:oe=k;break;case"scroll":case"scrollend":oe=Ic;break;case"wheel":oe=se;break;case"copy":case"cut":case"paste":oe=qh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=ds;break;case"toggle":case"beforetoggle":oe=Ge}var Oe=(s&4)!==0,Nt=!Oe&&(i==="scroll"||i==="scrollend"),X=Oe?ie!==null?ie+"Capture":null:ie;Oe=[];for(var K=ee,Z;K!==null;){var ue=K;if(Z=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Z===null||X===null||(ue=br(K,X),ue!=null&&Oe.push(au(K,ue,Z))),Nt)break;K=K.return}0<Oe.length&&(ie=new oe(ie,Ae,null,o,ce),he.push({event:ie,listeners:Oe}))}}if((s&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",oe=i==="mouseout"||i==="pointerout",ie&&o!==Ac&&(Ae=o.relatedTarget||o.fromElement)&&(Yi(Ae)||Ae[ki]))break e;if((oe||ie)&&(ie=ce.window===ce?ce:(ie=ce.ownerDocument)?ie.defaultView||ie.parentWindow:window,oe?(Ae=o.relatedTarget||o.toElement,oe=ee,Ae=Ae?Yi(Ae):null,Ae!==null&&(Nt=l(Ae),Oe=Ae.tag,Ae!==Nt||Oe!==5&&Oe!==27&&Oe!==6)&&(Ae=null)):(oe=null,Ae=ee),oe!==Ae)){if(Oe=Nc,ue="onMouseLeave",X="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=ds,ue="onPointerLeave",X="onPointerEnter",K="pointer"),Nt=oe==null?ie:ii(oe),Z=Ae==null?ie:ii(Ae),ie=new Oe(ue,K+"leave",oe,o,ce),ie.target=Nt,ie.relatedTarget=Z,ue=null,Yi(ce)===ee&&(Oe=new Oe(X,K+"enter",Ae,o,ce),Oe.target=Z,Oe.relatedTarget=Nt,ue=Oe),Nt=ue,oe&&Ae)t:{for(Oe=TD,X=oe,K=Ae,Z=0,ue=X;ue;ue=Oe(ue))Z++;ue=0;for(var Me=K;Me;Me=Oe(Me))ue++;for(;0<Z-ue;)X=Oe(X),Z--;for(;0<ue-Z;)K=Oe(K),ue--;for(;Z--;){if(X===K||K!==null&&X===K.alternate){Oe=X;break t}X=Oe(X),K=Oe(K)}Oe=null}else Oe=null;oe!==null&&Cw(he,ie,oe,Oe,!1),Ae!==null&&Nt!==null&&Cw(he,Nt,Ae,Oe,!0)}}e:{if(ie=ee?ii(ee):window,oe=ie.nodeName&&ie.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ie.type==="file")var ft=Hb;else if(Fb(ie))if(Gb)ft=ON;else{ft=kN;var Ie=DN}else oe=ie.nodeName,!oe||oe.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ee&&Jo(ee.elementType)&&(ft=Hb):ft=MN;if(ft&&(ft=ft(i,ee))){qb(he,ft,o,ce);break e}Ie&&Ie(i,ie,ee),i==="focusout"&&ee&&ie.type==="number"&&ee.memoizedProps.value!=null&&Tc(ie,"number",ie.value)}switch(Ie=ee?ii(ee):window,i){case"focusin":(Fb(Ie)||Ie.contentEditable==="true")&&(al=Ie,hp=ee,Pc=null);break;case"focusout":Pc=hp=al=null;break;case"mousedown":dp=!0;break;case"contextmenu":case"mouseup":case"dragend":dp=!1,Zb(he,o,ce);break;case"selectionchange":if(VN)break;case"keydown":case"keyup":Zb(he,o,ce)}var Ke;if(vt)e:{switch(i){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else sl?oo(i,o)&&(et="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(et="onCompositionStart");et&&(Hr&&o.locale!=="ko"&&(sl||et!=="onCompositionStart"?et==="onCompositionEnd"&&sl&&(Ke=Rc()):(zr=ce,Cc="value"in zr?zr.value:zr.textContent,sl=!0)),Ie=Ud(ee,et),0<Ie.length&&(et=new qr(et,i,null,o,ce),he.push({event:et,listeners:Ie}),Ke?et.data=Ke:(Ke=rl(o),Ke!==null&&(et.data=Ke)))),(Ke=Ji?CN(i,o):RN(i,o))&&(et=Ud(ee,"onBeforeInput"),0<et.length&&(Ie=new qr("onBeforeInput","beforeinput",null,o,ce),he.push({event:Ie,listeners:et}),Ie.data=Ke)),bD(he,i,ee,o,ce)}Sw(he,s)})}function au(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Ud(i,s){for(var o=s+"Capture",u=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=br(i,o),p!=null&&u.unshift(au(i,p,y)),p=br(i,s),p!=null&&u.push(au(i,p,y))),i.tag===3)return u;i=i.return}return[]}function TD(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Cw(i,s,o,u,p){for(var y=s._reactName,w=[];o!==null&&o!==u;){var R=o,F=R.alternate,ee=R.stateNode;if(R=R.tag,F!==null&&F===u)break;R!==5&&R!==26&&R!==27||ee===null||(F=ee,p?(ee=br(o,y),ee!=null&&w.unshift(au(o,ee,F))):p||(ee=br(o,y),ee!=null&&w.push(au(o,ee,F)))),o=o.return}w.length!==0&&i.push({event:s,listeners:w})}var ED=/\r\n?/g,SD=/\u0000|\uFFFD/g;function Rw(i){return(typeof i=="string"?i:""+i).replace(ED,`
`).replace(SD,"")}function Iw(i,s){return s=Rw(s),Rw(i)===s}function It(i,s,o,u,p,y){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||wi(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&wi(i,""+u);break;case"className":dt(i,"class",u);break;case"tabIndex":dt(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":dt(i,o,u);break;case"style":Sc(i,u,y);break;case"data":if(s!=="object"){dt(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Zo(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&It(i,s,"name",p.name,p,null),It(i,s,"formEncType",p.formEncType,p,null),It(i,s,"formMethod",p.formMethod,p,null),It(i,s,"formTarget",p.formTarget,p,null)):(It(i,s,"encType",p.encType,p,null),It(i,s,"method",p.method,p,null),It(i,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Zo(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=vr);break;case"onScroll":u!=null&&Je("scroll",i);break;case"onScrollEnd":u!=null&&Je("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Zo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Je("beforetoggle",i),Je("toggle",i),Ht(i,"popover",u);break;case"xlinkActuate":We(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":We(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":We(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":We(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":We(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":We(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":We(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":We(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":We(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ht(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Uh.get(o)||o,Ht(i,o,u))}}function jg(i,s,o,u,p,y){switch(o){case"style":Sc(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?wi(i,u):(typeof u=="number"||typeof u=="bigint")&&wi(i,""+u);break;case"onScroll":u!=null&&Je("scroll",i);break;case"onScrollEnd":u!=null&&Je("scrollend",i);break;case"onClick":u!=null&&(i.onclick=vr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),y=i[Yt]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(s,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,p);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Ht(i,o,u)}}}function Wn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",i),Je("load",i);var u=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:It(i,s,y,w,o,null)}}p&&It(i,s,"srcSet",o.srcSet,o,null),u&&It(i,s,"src",o.src,o,null);return;case"input":Je("invalid",i);var R=y=w=p=null,F=null,ee=null;for(u in o)if(o.hasOwnProperty(u)){var ce=o[u];if(ce!=null)switch(u){case"name":p=ce;break;case"type":w=ce;break;case"checked":F=ce;break;case"defaultChecked":ee=ce;break;case"value":y=ce;break;case"defaultValue":R=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:It(i,s,u,ce,o,null)}}Vh(i,y,R,F,ee,w,p,!1);return;case"select":Je("invalid",i),u=w=y=null;for(p in o)if(o.hasOwnProperty(p)&&(R=o[p],R!=null))switch(p){case"value":y=R;break;case"defaultValue":w=R;break;case"multiple":u=R;default:It(i,s,p,R,o,null)}s=y,o=w,i.multiple=!!u,s!=null?Gs(i,!!u,s,!1):o!=null&&Gs(i,!!u,o,!0);return;case"textarea":Je("invalid",i),y=p=u=null;for(w in o)if(o.hasOwnProperty(w)&&(R=o[w],R!=null))switch(w){case"value":u=R;break;case"defaultValue":p=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:It(i,s,w,R,o,null)}$s(i,u,p,y);return;case"option":for(F in o)o.hasOwnProperty(F)&&(u=o[F],u!=null)&&(F==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":It(i,s,F,u,o,null));return;case"dialog":Je("beforetoggle",i),Je("toggle",i),Je("cancel",i),Je("close",i);break;case"iframe":case"object":Je("load",i);break;case"video":case"audio":for(u=0;u<su.length;u++)Je(su[u],i);break;case"image":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"embed":case"source":case"link":Je("error",i),Je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(u=o[ee],u!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:It(i,s,ee,u,o,null)}return;default:if(Jo(s)){for(ce in o)o.hasOwnProperty(ce)&&(u=o[ce],u!==void 0&&jg(i,s,ce,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&It(i,s,R,u,o,null))}function AD(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,w=null,R=null,F=null,ee=null,ce=null;for(oe in o){var he=o[oe];if(o.hasOwnProperty(oe)&&he!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":F=he;default:u.hasOwnProperty(oe)||It(i,s,oe,null,u,he)}}for(var ie in u){var oe=u[ie];if(he=o[ie],u.hasOwnProperty(ie)&&(oe!=null||he!=null))switch(ie){case"type":y=oe;break;case"name":p=oe;break;case"checked":ee=oe;break;case"defaultChecked":ce=oe;break;case"value":w=oe;break;case"defaultValue":R=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:oe!==he&&It(i,s,ie,oe,u,he)}}Qo(i,w,R,F,ee,ce,y,p);return;case"select":oe=w=R=ie=null;for(y in o)if(F=o[y],o.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":oe=F;default:u.hasOwnProperty(y)||It(i,s,y,null,u,F)}for(p in u)if(y=u[p],F=o[p],u.hasOwnProperty(p)&&(y!=null||F!=null))switch(p){case"value":ie=y;break;case"defaultValue":R=y;break;case"multiple":w=y;default:y!==F&&It(i,s,p,y,u,F)}s=R,o=w,u=oe,ie!=null?Gs(i,!!o,ie,!1):!!u!=!!o&&(s!=null?Gs(i,!!o,s,!0):Gs(i,!!o,o?[]:"",!1));return;case"textarea":oe=ie=null;for(R in o)if(p=o[R],o.hasOwnProperty(R)&&p!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:It(i,s,R,null,u,p)}for(w in u)if(p=u[w],y=o[w],u.hasOwnProperty(w)&&(p!=null||y!=null))switch(w){case"value":ie=p;break;case"defaultValue":oe=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&It(i,s,w,p,u,y)}jh(i,ie,oe);return;case"option":for(var Ae in o)ie=o[Ae],o.hasOwnProperty(Ae)&&ie!=null&&!u.hasOwnProperty(Ae)&&(Ae==="selected"?i.selected=!1:It(i,s,Ae,null,u,ie));for(F in u)ie=u[F],oe=o[F],u.hasOwnProperty(F)&&ie!==oe&&(ie!=null||oe!=null)&&(F==="selected"?i.selected=ie&&typeof ie!="function"&&typeof ie!="symbol":It(i,s,F,ie,u,oe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in o)ie=o[Oe],o.hasOwnProperty(Oe)&&ie!=null&&!u.hasOwnProperty(Oe)&&It(i,s,Oe,null,u,ie);for(ee in u)if(ie=u[ee],oe=o[ee],u.hasOwnProperty(ee)&&ie!==oe&&(ie!=null||oe!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:It(i,s,ee,ie,u,oe)}return;default:if(Jo(s)){for(var Nt in o)ie=o[Nt],o.hasOwnProperty(Nt)&&ie!==void 0&&!u.hasOwnProperty(Nt)&&jg(i,s,Nt,void 0,u,ie);for(ce in u)ie=u[ce],oe=o[ce],!u.hasOwnProperty(ce)||ie===oe||ie===void 0&&oe===void 0||jg(i,s,ce,ie,u,oe);return}}for(var X in o)ie=o[X],o.hasOwnProperty(X)&&ie!=null&&!u.hasOwnProperty(X)&&It(i,s,X,null,u,ie);for(he in u)ie=u[he],oe=o[he],!u.hasOwnProperty(he)||ie===oe||ie==null&&oe==null||It(i,s,he,ie,u,oe)}function Nw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CD(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],y=p.transferSize,w=p.initiatorType,R=p.duration;if(y&&R&&Nw(w)){for(w=0,R=p.responseEnd,u+=1;u<o.length;u++){var F=o[u],ee=F.startTime;if(ee>R)break;var ce=F.transferSize,he=F.initiatorType;ce&&Nw(he)&&(F=F.responseEnd,w+=ce*(F<R?1:(R-ee)/(F-ee)))}if(--u,s+=8*(y+w)/(p.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Lg=null,Ug=null;function zd(i){return i.nodeType===9?i:i.ownerDocument}function Dw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kw(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function zg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Bg=null;function RD(){var i=window.event;return i&&i.type==="popstate"?i===Bg?!1:(Bg=i,!0):(Bg=null,!1)}var Mw=typeof setTimeout=="function"?setTimeout:void 0,ID=typeof clearTimeout=="function"?clearTimeout:void 0,Ow=typeof Promise=="function"?Promise:void 0,ND=typeof queueMicrotask=="function"?queueMicrotask:typeof Ow<"u"?function(i){return Ow.resolve(null).then(i).catch(DD)}:Mw;function DD(i){setTimeout(function(){throw i})}function pa(i){return i==="head"}function Pw(i,s){var o=s,u=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(p),Ml(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")ou(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,ou(o);for(var y=o.firstChild;y;){var w=y.nextSibling,R=y.nodeName;y[bi]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=w}}else o==="body"&&ou(i.ownerDocument.body);o=p}while(o);Ml(s)}function Vw(i,s){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Fg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Fg(o),cs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function kD(i,s,o,u){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[bi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=sr(i.nextSibling),i===null)break}return null}function MD(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=sr(i.nextSibling),i===null))return null;return i}function jw(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=sr(i.nextSibling),i===null))return null;return i}function qg(i){return i.data==="$?"||i.data==="$~"}function Hg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function OD(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function sr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Gg=null;function Lw(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return sr(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function Uw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function zw(i,s,o){switch(s=zd(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function ou(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);cs(i)}var ar=new Map,Bw=new Set;function Bd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Cs=G.d;G.d={f:PD,r:VD,D:jD,C:LD,L:UD,m:zD,X:FD,S:BD,M:qD};function PD(){var i=Cs.f(),s=kd();return i||s}function VD(i){var s=xi(i);s!==null&&s.tag===5&&s.type==="form"?r_(s):Cs.r(i)}var Nl=typeof document>"u"?null:document;function Fw(i,s,o){var u=Nl;if(u&&typeof s=="string"&&s){var p=_i(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Bw.has(p)||(Bw.add(p),i={rel:i,crossOrigin:o,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),Wn(s,"link",i),sn(s),u.head.appendChild(s)))}}function jD(i){Cs.D(i),Fw("dns-prefetch",i,null)}function LD(i,s){Cs.C(i,s),Fw("preconnect",i,s)}function UD(i,s,o){Cs.L(i,s,o);var u=Nl;if(u&&i&&s){var p='link[rel="preload"][as="'+_i(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+_i(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+_i(o.imageSizes)+'"]')):p+='[href="'+_i(i)+'"]';var y=p;switch(s){case"style":y=Dl(i);break;case"script":y=kl(i)}ar.has(y)||(i=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),ar.set(y,i),u.querySelector(p)!==null||s==="style"&&u.querySelector(lu(y))||s==="script"&&u.querySelector(cu(y))||(s=u.createElement("link"),Wn(s,"link",i),sn(s),u.head.appendChild(s)))}}function zD(i,s){Cs.m(i,s);var o=Nl;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+_i(u)+'"][href="'+_i(i)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=kl(i)}if(!ar.has(y)&&(i=v({rel:"modulepreload",href:i},s),ar.set(y,i),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(cu(y)))return}u=o.createElement("link"),Wn(u,"link",i),sn(u),o.head.appendChild(u)}}}function BD(i,s,o){Cs.S(i,s,o);var u=Nl;if(u&&i){var p=Xi(u).hoistableStyles,y=Dl(i);s=s||"default";var w=p.get(y);if(!w){var R={loading:0,preload:null};if(w=u.querySelector(lu(y)))R.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},o),(o=ar.get(y))&&$g(i,o);var F=w=u.createElement("link");sn(F),Wn(F,"link",i),F._p=new Promise(function(ee,ce){F.onload=ee,F.onerror=ce}),F.addEventListener("load",function(){R.loading|=1}),F.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Fd(w,s,u)}w={type:"stylesheet",instance:w,count:1,state:R},p.set(y,w)}}}function FD(i,s){Cs.X(i,s);var o=Nl;if(o&&i){var u=Xi(o).hoistableScripts,p=kl(i),y=u.get(p);y||(y=o.querySelector(cu(p)),y||(i=v({src:i,async:!0},s),(s=ar.get(p))&&Kg(i,s),y=o.createElement("script"),sn(y),Wn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function qD(i,s){Cs.M(i,s);var o=Nl;if(o&&i){var u=Xi(o).hoistableScripts,p=kl(i),y=u.get(p);y||(y=o.querySelector(cu(p)),y||(i=v({src:i,async:!0,type:"module"},s),(s=ar.get(p))&&Kg(i,s),y=o.createElement("script"),sn(y),Wn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function qw(i,s,o,u){var p=(p=ge.current)?Bd(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Dl(o.href),o=Xi(p).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Dl(o.href);var y=Xi(p).hoistableStyles,w=y.get(i);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,w),(y=p.querySelector(lu(i)))&&!y._p&&(w.instance=y,w.state.loading=5),ar.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ar.set(i,o),y||HD(p,i,o,w.state))),s&&u===null)throw Error(r(528,""));return w}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=kl(o),o=Xi(p).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Dl(i){return'href="'+_i(i)+'"'}function lu(i){return'link[rel="stylesheet"]['+i+"]"}function Hw(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function HD(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Wn(s,"link",o),sn(s),i.head.appendChild(s))}function kl(i){return'[src="'+_i(i)+'"]'}function cu(i){return"script[async]"+i}function Gw(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+_i(o.href)+'"]');if(u)return s.instance=u,sn(u),u;var p=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),sn(u),Wn(u,"style",p),Fd(u,o.precedence,i),s.instance=u;case"stylesheet":p=Dl(o.href);var y=i.querySelector(lu(p));if(y)return s.state.loading|=4,s.instance=y,sn(y),y;u=Hw(o),(p=ar.get(p))&&$g(u,p),y=(i.ownerDocument||i).createElement("link"),sn(y);var w=y;return w._p=new Promise(function(R,F){w.onload=R,w.onerror=F}),Wn(y,"link",u),s.state.loading|=4,Fd(y,o.precedence,i),s.instance=y;case"script":return y=kl(o.src),(p=i.querySelector(cu(y)))?(s.instance=p,sn(p),p):(u=o,(p=ar.get(y))&&(u=v({},o),Kg(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),sn(p),Wn(p,"link",u),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Fd(u,o.precedence,i));return s.instance}function Fd(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,w=0;w<u.length;w++){var R=u[w];if(R.dataset.precedence===s)y=R;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function $g(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Kg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var qd=null;function $w(i,s,o){if(qd===null){var u=new Map,p=qd=new Map;p.set(o,u)}else p=qd,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var y=o[p];if(!(y[bi]||y[Lt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(s)||"";w=i+w;var R=u.get(w);R?R.push(y):u.set(w,[y])}}return u}function Kw(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function GD(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Yw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function $D(i,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Dl(u.href),y=s.querySelector(lu(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Hd.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=y,sn(y);return}y=s.ownerDocument||s,u=Hw(u),(p=ar.get(p))&&$g(u,p),y=y.createElement("link"),sn(y);var w=y;w._p=new Promise(function(R,F){w.onload=R,w.onerror=F}),Wn(y,"link",u),o.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Hd.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var Yg=0;function KD(i,s){return i.stylesheets&&i.count===0&&$d(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&$d(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+s);0<i.imgBytes&&Yg===0&&(Yg=62500*CD());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&$d(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Yg?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function Hd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Gd=null;function $d(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Gd=new Map,s.forEach(YD,i),Gd=null,Hd.call(i))}function YD(i,s){if(!(s.state.loading&4)){var o=Gd.get(i);if(o)var u=o.get(null);else{o=new Map,Gd.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var w=p[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}p=s.instance,w=p.getAttribute("data-precedence"),y=o.get(w)||u,y===u&&o.set(null,p),o.set(w,p),this.count++,u=Hd.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var uu={$$typeof:H,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function XD(i,s,o,u,p,y,w,R,F){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.hiddenUpdates=pt(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function Xw(i,s,o,u,p,y,w,R,F,ee,ce,he){return i=new XD(i,s,o,w,F,ee,ce,he,R),s=1,y===!0&&(s|=24),y=Li(3,null,null,s),i.current=y,y.stateNode=i,s=Cp(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:s},Dp(y),i}function Ww(i){return i?(i=cl,i):cl}function Qw(i,s,o,u,p,y){p=Ww(p),u.context===null?u.context=p:u.pendingContext=p,u=ra(s),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=sa(i,u,s),o!==null&&(Ci(o,i,s),Fc(o,i,s))}function Jw(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Xg(i,s){Jw(i,s),(i=i.alternate)&&Jw(i,s)}function Zw(i){if(i.tag===13||i.tag===31){var s=uo(i,67108864);s!==null&&Ci(s,i,67108864),Xg(i,67108864)}}function e1(i){if(i.tag===13||i.tag===31){var s=qi();s=In(s);var o=uo(i,s);o!==null&&Ci(o,i,s),Xg(i,s)}}var Kd=!0;function WD(i,s,o,u){var p=te.T;te.T=null;var y=G.p;try{G.p=2,Wg(i,s,o,u)}finally{G.p=y,te.T=p}}function QD(i,s,o,u){var p=te.T;te.T=null;var y=G.p;try{G.p=8,Wg(i,s,o,u)}finally{G.p=y,te.T=p}}function Wg(i,s,o,u){if(Kd){var p=Qg(u);if(p===null)Vg(i,s,u,Yd,o),n1(i,u);else if(ZD(p,i,s,o,u))u.stopPropagation();else if(n1(i,u),s&4&&-1<JD.indexOf(i)){for(;p!==null;){var y=xi(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=Vt(y.pendingLanes);if(w!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var F=1<<31-Dt(w);R.entanglements[1]|=F,w&=~F}Yr(y),(bt&6)===0&&(Nd=Ft()+500,ru(0))}}break;case 31:case 13:R=uo(y,2),R!==null&&Ci(R,y,2),kd(),Xg(y,2)}if(y=Qg(u),y===null&&Vg(i,s,u,Yd,o),y===p)break;p=y}p!==null&&u.stopPropagation()}else Vg(i,s,u,null,o)}}function Qg(i){return i=Wi(i),Jg(i)}var Yd=null;function Jg(i){if(Yd=null,i=Yi(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=h(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Yd=i,null}function t1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case ei:return 2;case Hn:return 8;case gn:case ti:return 32;case yi:return 268435456;default:return 32}default:return 32}}var Zg=!1,ga=null,ya=null,va=null,hu=new Map,du=new Map,ba=[],JD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n1(i,s){switch(i){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":hu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":du.delete(s.pointerId)}}function fu(i,s,o,u,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},s!==null&&(s=xi(s),s!==null&&Zw(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function ZD(i,s,o,u,p){switch(s){case"focusin":return ga=fu(ga,i,s,o,u,p),!0;case"dragenter":return ya=fu(ya,i,s,o,u,p),!0;case"mouseover":return va=fu(va,i,s,o,u,p),!0;case"pointerover":var y=p.pointerId;return hu.set(y,fu(hu.get(y)||null,i,s,o,u,p)),!0;case"gotpointercapture":return y=p.pointerId,du.set(y,fu(du.get(y)||null,i,s,o,u,p)),!0}return!1}function i1(i){var s=Yi(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,kt(i.priority,function(){e1(o)});return}}else if(s===31){if(s=h(o),s!==null){i.blockedOn=s,kt(i.priority,function(){e1(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Qg(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Ac=u,o.target.dispatchEvent(u),Ac=null}else return s=xi(o),s!==null&&Zw(s),i.blockedOn=o,!1;s.shift()}return!0}function r1(i,s,o){Xd(i)&&o.delete(s)}function ek(){Zg=!1,ga!==null&&Xd(ga)&&(ga=null),ya!==null&&Xd(ya)&&(ya=null),va!==null&&Xd(va)&&(va=null),hu.forEach(r1),du.forEach(r1)}function Wd(i,s){i.blockedOn===s&&(i.blockedOn=null,Zg||(Zg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ek)))}var Qd=null;function s1(i){Qd!==i&&(Qd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Qd===i&&(Qd=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],p=i[s+2];if(typeof u!="function"){if(Jg(u||o)===null)continue;break}var y=xi(o);y!==null&&(i.splice(s,3),s-=3,Qp(y,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function Ml(i){function s(F){return Wd(F,i)}ga!==null&&Wd(ga,i),ya!==null&&Wd(ya,i),va!==null&&Wd(va,i),hu.forEach(s),du.forEach(s);for(var o=0;o<ba.length;o++){var u=ba[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ba.length&&(o=ba[0],o.blockedOn===null);)i1(o),o.blockedOn===null&&ba.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],y=o[u+1],w=p[Yt]||null;if(typeof y=="function")w||s1(o);else if(w){var R=null;if(y&&y.hasAttribute("formAction")){if(p=y,w=y[Yt]||null)R=w.formAction;else if(Jg(p)!==null)continue}else R=w.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),s1(o)}}}function a1(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function ey(i){this._internalRoot=i}Jd.prototype.render=ey.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=qi();Qw(o,u,i,s,null,null)},Jd.prototype.unmount=ey.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Qw(i.current,2,null,i,null,null),kd(),s[ki]=null}};function Jd(i){this._internalRoot=i}Jd.prototype.unstable_scheduleHydration=function(i){if(i){var s=Nn();i={blockedOn:null,target:i,priority:s};for(var o=0;o<ba.length&&s!==0&&s<ba[o].priority;o++);ba.splice(o,0,i),o===0&&i1(i)}};var o1=e.version;if(o1!=="19.2.3")throw Error(r(527,o1,"19.2.3"));G.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var tk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zd.isDisabled&&Zd.supportsFiber)try{Cn=Zd.inject(tk),nn=Zd}catch{}}return pu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",p=m_,y=p_,w=g_;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=Xw(i,1,!1,null,null,o,u,null,p,y,w,a1),i[ki]=s.current,Pg(i),new ey(s)},pu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,p="",y=m_,w=p_,R=g_,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.formState!==void 0&&(F=o.formState)),s=Xw(i,1,!0,s,o??null,u,p,F,y,w,R,a1),s.context=Ww(null),o=s.current,u=qi(),u=In(u),p=ra(u),p.callback=null,sa(o,p,u),o=u,s.current.lanes=o,cn(s,o),Yr(s),i[ki]=s.current,Pg(i),new Jd(s)},pu.version="19.2.3",pu}var y1;function hk(){if(y1)return iy.exports;y1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),iy.exports=uk(),iy.exports}var dk=hk();var v1="popstate";function fk(t={}){function e(r,a){let{pathname:l,search:c,hash:h}=r.location;return Yy("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:qu(a)}return pk(e,n,null,t)}function Qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mk(){return Math.random().toString(36).substring(2,10)}function b1(t,e){return{usr:t.state,key:t.key,idx:e}}function Yy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?oc(e):e,state:n,key:e&&e.key||r||mk()}}function qu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function oc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function pk(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,h="POP",d=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function v(){h="POP";let I=g(),z=I==null?null:I-m;m=I,d&&d({action:h,location:O.location,delta:z})}function _(I,z){h="PUSH";let $=Yy(O.location,I,z);m=g()+1;let H=b1($,m),le=O.createHref($);try{c.pushState(H,"",le)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(le)}l&&d&&d({action:h,location:O.location,delta:1})}function A(I,z){h="REPLACE";let $=Yy(O.location,I,z);m=g();let H=b1($,m),le=O.createHref($);c.replaceState(H,"",le),l&&d&&d({action:h,location:O.location,delta:0})}function M(I){return gk(I)}let O={get action(){return h},get location(){return t(a,c)},listen(I){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(v1,v),d=I,()=>{a.removeEventListener(v1,v),d=null}},createHref(I){return e(a,I)},createURL:M,encodeLocation(I){let z=M(I);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:_,replace:A,go(I){return c.go(I)}};return O}function gk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Qt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:qu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function WS(t,e,n="/"){return yk(t,e,n,!1)}function yk(t,e,n,r){let a=typeof e=="string"?oc(e):e,l=js(a.pathname||"/",n);if(l==null)return null;let c=QS(t);vk(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let m=Ik(l);h=Ck(c[d],m,r)}return h}function QS(t,e=[],n=[],r="",a=!1){let l=(c,h,d=a,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&d)return;Qt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=Ms([r,g.relativePath]),_=n.concat(g);c.children&&c.children.length>0&&(Qt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),QS(c.children,e,_,v,d)),!(c.path==null&&!c.index)&&e.push({path:v,score:Sk(v,c.index),routesMeta:_})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let d of JS(c.path))l(c,h,!0,d)}),e}function JS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=JS(r.join("/")),h=[];return h.push(...c.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function vk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ak(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var bk=/^:[\w-]+$/,xk=3,_k=2,wk=1,Tk=10,Ek=-2,x1=t=>t==="*";function Sk(t,e){let n=t.split("/"),r=n.length;return n.some(x1)&&(r+=Ek),e&&(r+=_k),n.filter(a=>!x1(a)).reduce((a,l)=>a+(bk.test(l)?xk:l===""?wk:Tk),r)}function Ak(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function Ck(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",c=[];for(let h=0;h<r.length;++h){let d=r[h],m=h===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",v=Vf({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),_=d.route;if(!v&&m&&n&&!r[r.length-1].route.index&&(v=Vf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Ms([l,v.pathname]),pathnameBase:Mk(Ms([l,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(l=Ms([l,v.pathnameBase]))}return c}function Vf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Rk(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:v},_)=>{if(g==="*"){let M=h[_]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const A=h[_];return v&&!A?m[g]=void 0:m[g]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function Rk(t,e=!1,n=!0){pr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function Ik(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function js(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var ZS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nk=t=>ZS.test(t);function Dk(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?oc(t):t,l;if(n)if(Nk(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),pr(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=_1(n.substring(1),"/"):l=_1(n,e)}else l=e;return{pathname:l,search:Ok(r),hash:Pk(a)}}function _1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function oy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wv(t){let e=kk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Qv(t,e,n,r=!1){let a;typeof t=="string"?a=oc(t):(a={...t},Qt(!a.pathname||!a.pathname.includes("?"),oy("?","pathname","search",a)),Qt(!a.pathname||!a.pathname.includes("#"),oy("#","pathname","hash",a)),Qt(!a.search||!a.search.includes("#"),oy("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),v-=1;a.pathname=_.join("/")}h=v>=0?e[v]:"/"}let d=Dk(a,h),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var Ms=t=>t.join("/").replace(/\/\/+/g,"/"),Mk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ok=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Pk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Vk=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function jk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Lk(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var eA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function tA(t,e){let n=t;if(typeof n!="string"||!ZS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(eA)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=js(c.pathname,e);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{pr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nA=["POST","PUT","PATCH","DELETE"];new Set(nA);var Uk=["GET",...nA];new Set(Uk);var lc=S.createContext(null);lc.displayName="DataRouter";var Em=S.createContext(null);Em.displayName="DataRouterState";var zk=S.createContext(!1),iA=S.createContext({isTransitioning:!1});iA.displayName="ViewTransition";var Bk=S.createContext(new Map);Bk.displayName="Fetchers";var Fk=S.createContext(null);Fk.displayName="Await";var $i=S.createContext(null);$i.displayName="Navigation";var lh=S.createContext(null);lh.displayName="Location";var Vr=S.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var Jv=S.createContext(null);Jv.displayName="RouteError";var rA="REACT_ROUTER_ERROR",qk="REDIRECT",Hk="ROUTE_ERROR_RESPONSE";function Gk(t){if(t.startsWith(`${rA}:${qk}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function $k(t){if(t.startsWith(`${rA}:${Hk}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Vk(e.status,e.statusText,e.data)}catch{}}function Kk(t,{relative:e}={}){Qt(cc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext($i),{hash:a,pathname:l,search:c}=uh(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Ms([n,l])),r.createHref({pathname:h,search:c,hash:a})}function cc(){return S.useContext(lh)!=null}function qs(){return Qt(cc(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(lh).location}var sA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aA(t){S.useContext($i).static||S.useLayoutEffect(t)}function ch(){let{isDataRoute:t}=S.useContext(Vr);return t?oM():Yk()}function Yk(){Qt(cc(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(lc),{basename:e,navigator:n}=S.useContext($i),{matches:r}=S.useContext(Vr),{pathname:a}=qs(),l=JSON.stringify(Wv(r)),c=S.useRef(!1);return aA(()=>{c.current=!0}),S.useCallback((d,m={})=>{if(pr(c.current,sA),!c.current)return;if(typeof d=="number"){n.go(d);return}let g=Qv(d,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ms([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,a,t])}S.createContext(null);function Xk(){let{matches:t}=S.useContext(Vr),e=t[t.length-1];return e?e.params:{}}function uh(t,{relative:e}={}){let{matches:n}=S.useContext(Vr),{pathname:r}=qs(),a=JSON.stringify(Wv(n));return S.useMemo(()=>Qv(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function Wk(t,e){return oA(t,e)}function oA(t,e,n,r,a){Qt(cc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext($i),{matches:c}=S.useContext(Vr),h=c[c.length-1],d=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let $=v&&v.path||"";cA(m,!v||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let _=qs(),A;if(e){let $=typeof e=="string"?oc(e):e;Qt(g==="/"||$.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${$.pathname}" was given in the \`location\` prop.`),A=$}else A=_;let M=A.pathname||"/",O=M;if(g!=="/"){let $=g.replace(/^\//,"").split("/");O="/"+M.replace(/^\//,"").split("/").slice($.length).join("/")}let I=WS(t,{pathname:O});pr(v||I!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),pr(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=tM(I&&I.map($=>Object.assign({},$,{params:Object.assign({},d,$.params),pathname:Ms([g,l.encodeLocation?l.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?g:Ms([g,l.encodeLocation?l.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),c,n,r,a);return e&&z?S.createElement(lh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},z):z}function Qk(){let t=aM(),e=jk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:a},n):null,c)}var Jk=S.createElement(Qk,null),lA=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=$k(t.digest);n&&(t=n)}let e=t!==void 0?S.createElement(Vr.Provider,{value:this.props.routeContext},S.createElement(Jv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?S.createElement(Zk,{error:t},e):e}};lA.contextType=zk;var ly=new WeakMap;function Zk({children:t,error:e}){let{basename:n}=S.useContext($i);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Gk(e.digest);if(r){let a=ly.get(e);if(a)throw a;let l=tA(r.location,n);if(eA&&!ly.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw ly.set(e,c),c}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function eM({routeContext:t,match:e,children:n}){let r=S.useContext(lc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Vr.Provider,{value:t},n)}function tM(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let g=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Qt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,d=-1;if(n)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=g),v.route.id){let{loaderData:_,errors:A}=n,M=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||M){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let m=n&&r?(g,v)=>{r(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Lk(n.matches),errorInfo:v})}:void 0;return l.reduceRight((g,v,_)=>{let A,M=!1,O=null,I=null;n&&(A=c&&v.route.id?c[v.route.id]:void 0,O=v.route.errorElement||Jk,h&&(d<0&&_===0?(cA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,I=null):d===_&&(M=!0,I=v.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,_+1)),$=()=>{let H;return A?H=O:M?H=I:v.route.Component?H=S.createElement(v.route.Component,null):v.route.element?H=v.route.element:H=g,S.createElement(eM,{match:v,routeContext:{outlet:g,matches:z,isDataRoute:n!=null},children:H})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?S.createElement(lA,{location:n.location,revalidation:n.revalidation,component:O,error:A,children:$(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:m}):$()},null)}function Zv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nM(t){let e=S.useContext(lc);return Qt(e,Zv(t)),e}function iM(t){let e=S.useContext(Em);return Qt(e,Zv(t)),e}function rM(t){let e=S.useContext(Vr);return Qt(e,Zv(t)),e}function e0(t){let e=rM(t),n=e.matches[e.matches.length-1];return Qt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function sM(){return e0("useRouteId")}function aM(){let t=S.useContext(Jv),e=iM("useRouteError"),n=e0("useRouteError");return t!==void 0?t:e.errors?.[n]}function oM(){let{router:t}=nM("useNavigate"),e=e0("useNavigate"),n=S.useRef(!1);return aA(()=>{n.current=!0}),S.useCallback(async(a,l={})=>{pr(n.current,sA),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var w1={};function cA(t,e,n){!e&&!w1[t]&&(w1[t]=!0,pr(!1,n))}S.memo(lM);function lM({routes:t,future:e,state:n,onError:r}){return oA(t,void 0,n,r,e)}function Ol({to:t,replace:e,state:n,relative:r}){Qt(cc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=S.useContext($i);pr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(Vr),{pathname:c}=qs(),h=ch(),d=Qv(t,Wv(l),c,r==="path"),m=JSON.stringify(d);return S.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:r})},[h,m,r,e,n]),null}function Ta(t){Qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Qt(!cc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=oc(n));let{pathname:m="/",search:g="",hash:v="",state:_=null,key:A="default"}=n,M=S.useMemo(()=>{let O=js(m,h);return O==null?null:{location:{pathname:O,search:g,hash:v,state:_,key:A},navigationType:r}},[h,m,g,v,_,A,r]);return pr(M!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:S.createElement($i.Provider,{value:d},S.createElement(lh.Provider,{children:e,value:M}))}function uM({children:t,location:e}){return Wk(Xy(t),e)}function Xy(t,e=[]){let n=[];return S.Children.forEach(t,(r,a)=>{if(!S.isValidElement(r))return;let l=[...e,a];if(r.type===S.Fragment){n.push.apply(n,Xy(r.props.children,l));return}Qt(r.type===Ta,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Xy(r.props.children,l)),n.push(c)}),n}var gf="get",yf="application/x-www-form-urlencoded";function Sm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function hM(t){return Sm(t)&&t.tagName.toLowerCase()==="button"}function dM(t){return Sm(t)&&t.tagName.toLowerCase()==="form"}function fM(t){return Sm(t)&&t.tagName.toLowerCase()==="input"}function mM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pM(t,e){return t.button===0&&(!e||e==="_self")&&!mM(t)}var ef=null;function gM(){if(ef===null)try{new FormData(document.createElement("form"),0),ef=!1}catch{ef=!0}return ef}var yM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cy(t){return t!=null&&!yM.has(t)?(pr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yf}"`),null):t}function vM(t,e){let n,r,a,l,c;if(dM(t)){let h=t.getAttribute("action");r=h?js(h,e):null,n=t.getAttribute("method")||gf,a=cy(t.getAttribute("enctype"))||yf,l=new FormData(t)}else if(hM(t)||fM(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?js(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||gf,a=cy(t.getAttribute("formenctype"))||cy(h.getAttribute("enctype"))||yf,l=new FormData(h,t),!gM()){let{name:m,type:g,value:v}=t;if(g==="image"){let _=m?`${m}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else m&&l.append(m,v)}}else{if(Sm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gf,r=null,a=yf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function t0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bM(t,e,n,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&js(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function xM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _M(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wM(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await xM(l,n);return c.links?c.links():[]}return[]}));return AM(r.flat(1).filter(_M).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function T1(t,e,n,r,a,l){let c=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,m)=>c(d,m)||h(d,m)):l==="data"?e.filter((d,m)=>{let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function TM(t,e,{includeHydrateFallback:n}={}){return EM(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function EM(t){return[...new Set(t)]}function SM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function AM(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(SM(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function uA(){let t=S.useContext(lc);return t0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function CM(){let t=S.useContext(Em);return t0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var n0=S.createContext(void 0);n0.displayName="FrameworkContext";function hA(){let t=S.useContext(n0);return t0(t,"You must render this element inside a <HydratedRouter> element"),t}function RM(t,e){let n=S.useContext(n0),[r,a]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=e,_=S.useRef(null);S.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let O=z=>{z.forEach($=>{c($.isIntersecting)})},I=new IntersectionObserver(O,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[t]),S.useEffect(()=>{if(r){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[r]);let A=()=>{a(!0)},M=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:gu(h,A),onBlur:gu(d,M),onMouseEnter:gu(m,A),onMouseLeave:gu(g,M),onTouchStart:gu(v,A)}]:[!1,_,{}]}function gu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function IM({page:t,...e}){let{router:n}=uA(),r=S.useMemo(()=>WS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(DM,{page:t,matches:r,...e}):null}function NM(t){let{manifest:e,routeModules:n}=hA(),[r,a]=S.useState([]);return S.useEffect(()=>{let l=!1;return wM(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),r}function DM({page:t,matches:e,...n}){let r=qs(),{future:a,manifest:l,routeModules:c}=hA(),{basename:h}=uA(),{loaderData:d,matches:m}=CM(),g=S.useMemo(()=>T1(t,e,m,l,r,"data"),[t,e,m,l,r]),v=S.useMemo(()=>T1(t,e,m,l,r,"assets"),[t,e,m,l,r]),_=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let O=new Set,I=!1;if(e.forEach($=>{let H=l.routes[$.route.id];!H||!H.hasLoader||(!g.some(le=>le.route.id===$.route.id)&&$.route.id in d&&c[$.route.id]?.shouldRevalidate||H.hasClientLoader?I=!0:O.add($.route.id))}),O.size===0)return[];let z=bM(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return I&&O.size>0&&z.searchParams.set("_routes",e.filter($=>O.has($.route.id)).map($=>$.route.id).join(",")),[z.pathname+z.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,r,l,g,e,t,c]),A=S.useMemo(()=>TM(v,l),[v,l]),M=NM(v);return S.createElement(S.Fragment,null,_.map(O=>S.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),A.map(O=>S.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),M.map(({key:O,link:I})=>S.createElement("link",{key:O,nonce:n.nonce,...I})))}function kM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var MM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MM&&(window.__reactRouterVersion="7.12.0")}catch{}function OM({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=S.useRef();a.current==null&&(a.current=fk({window:r,v5Compat:!0}));let l=a.current,[c,h]=S.useState({action:l.action,location:l.location}),d=S.useCallback(m=>{n===!1?h(m):S.startTransition(()=>h(m))},[n]);return S.useLayoutEffect(()=>l.listen(d),[l,d]),S.createElement(cM,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var dA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i0=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:h,target:d,to:m,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:_,...A},M){let{basename:O,unstable_useTransitions:I}=S.useContext($i),z=typeof m=="string"&&dA.test(m),$=tA(m,O);m=$.to;let H=Kk(m,{relative:a}),[le,re,ae]=RM(r,A),D=jM(m,{replace:c,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:_,unstable_useTransitions:I});function C(N){e&&e(N),N.defaultPrevented||D(N)}let P=S.createElement("a",{...A,...ae,href:$.absoluteURL||H,onClick:$.isExternal||l?e:C,ref:kM(M,re),target:d,"data-discover":!z&&n==="render"?"true":void 0});return le&&!z?S.createElement(S.Fragment,null,P,S.createElement(IM,{page:H})):P});i0.displayName="Link";var fA=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:h,children:d,...m},g){let v=uh(c,{relative:m.relative}),_=qs(),A=S.useContext(Em),{navigator:M,basename:O}=S.useContext($i),I=A!=null&&FM(v)&&h===!0,z=M.encodeLocation?M.encodeLocation(v).pathname:v.pathname,$=_.pathname,H=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||($=$.toLowerCase(),H=H?H.toLowerCase():null,z=z.toLowerCase()),H&&O&&(H=js(H,O)||H);const le=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let re=$===z||!a&&$.startsWith(z)&&$.charAt(le)==="/",ae=H!=null&&(H===z||!a&&H.startsWith(z)&&H.charAt(z.length)==="/"),D={isActive:re,isPending:ae,isTransitioning:I},C=re?e:void 0,P;typeof r=="function"?P=r(D):P=[r,re?"active":null,ae?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(D):l;return S.createElement(i0,{...m,"aria-current":C,className:P,ref:g,style:N,to:c,viewTransition:h},typeof d=="function"?d(D):d)});fA.displayName="NavLink";var PM=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:c=gf,action:h,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:_,...A},M)=>{let{unstable_useTransitions:O}=S.useContext($i),I=zM(),z=BM(h,{relative:m}),$=c.toLowerCase()==="get"?"get":"post",H=typeof h=="string"&&dA.test(h),le=re=>{if(d&&d(re),re.defaultPrevented)return;re.preventDefault();let ae=re.nativeEvent.submitter,D=ae?.getAttribute("formmethod")||c,C=()=>I(ae||re.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:a,state:l,relative:m,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:_});O&&n!==!1?S.startTransition(()=>C()):C()};return S.createElement("form",{ref:M,method:$,action:z,onSubmit:r?d:le,...A,"data-discover":!H&&t==="render"?"true":void 0})});PM.displayName="Form";function VM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mA(t){let e=S.useContext(lc);return Qt(e,VM(t)),e}function jM(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let m=ch(),g=qs(),v=uh(t,{relative:l});return S.useCallback(_=>{if(pM(_,e)){_.preventDefault();let A=n!==void 0?n:qu(g)===qu(v),M=()=>m(t,{replace:A,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});d?S.startTransition(()=>M()):M()}},[g,m,v,n,r,e,t,a,l,c,h,d])}var LM=0,UM=()=>`__${String(++LM)}__`;function zM(){let{router:t}=mA("useSubmit"),{basename:e}=S.useContext($i),n=sM(),r=t.fetch,a=t.navigate;return S.useCallback(async(l,c={})=>{let{action:h,method:d,encType:m,formData:g,body:v}=vM(l,e);if(c.navigate===!1){let _=c.fetcherKey||UM();await r(_,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||d,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||d,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,e,n])}function BM(t,{relative:e}={}){let{basename:n}=S.useContext($i),r=S.useContext(Vr);Qt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...uh(t||".",{relative:e})},c=qs();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ms([n,l.pathname])),qu(l)}function FM(t,{relative:e}={}){let n=S.useContext(iA);Qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mA("useViewTransitionState"),a=uh(t,{relative:e});if(!n.isTransitioning)return!1;let l=js(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=js(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vf(a.pathname,c)!=null||Vf(a.pathname,l)!=null}var wu=XS();const qM=()=>b.jsx("div",{className:"noise-overlay"}),HM="modulepreload",GM=function(t){return"/"+t},E1={},Wy=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let d=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");a=d(n.map(m=>{if(m=GM(m),m in E1)return;E1[m]=!0;const g=m.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":HM,g||(_.as="script"),_.crossOrigin="",_.href=m,h&&_.setAttribute("nonce",h),document.head.appendChild(_),g)return new Promise((A,M)=>{_.addEventListener("load",A),_.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},$M=()=>{};var S1={};const pA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},KM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},gA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,g=l>>2,v=(l&3)<<4|h>>4;let _=(h&15)<<2|m>>6,A=m&63;d||(A=64,c||(_=64)),r.push(n[g],n[v],n[_],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||m==null||v==null)throw new YM;const _=l<<2|h>>4;if(r.push(_),m!==64){const A=h<<4&240|m>>2;if(r.push(A),v!==64){const M=m<<6&192|v;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XM=function(t){const e=pA(t);return gA.encodeByteArray(e,!0)},jf=function(t){return XM(t).replace(/\./g,"")},yA=function(t){try{return gA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function WM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const QM=()=>WM().__FIREBASE_DEFAULTS__,JM=()=>{if(typeof process>"u"||typeof S1>"u")return;const t=S1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yA(t[1]);return e&&JSON.parse(e)},Am=()=>{try{return $M()||QM()||JM()||ZM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vA=t=>Am()?.emulatorHosts?.[t],bA=t=>{const e=vA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xA=()=>Am()?.config,_A=t=>Am()?.[`_${t}`];class eO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function qo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r0(t){return(await fetch(t,{credentials:"include"})).ok}function wA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[jf(JSON.stringify(n)),jf(JSON.stringify(c)),""].join(".")}const Ru={};function tO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ru))Ru[e]?t.emulator.push(e):t.prod.push(e);return t}function nO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let A1=!1;function s0(t,e){if(typeof window>"u"||typeof document>"u"||!qo(window.location.host)||Ru[t]===e||Ru[t]||A1)return;Ru[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",l=tO().prod.length>0;function c(){const _=document.getElementById(r);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function d(_,A){_.setAttribute("width","24"),_.setAttribute("id",A),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function m(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{A1=!0,c()},_}function g(_,A){_.setAttribute("id",A),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=nO(r),A=n("text"),M=document.getElementById(A)||document.createElement("span"),O=n("learnmore"),I=document.getElementById(O)||document.createElement("a"),z=n("preprendIcon"),$=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const H=_.element;h(H),g(I,O);const le=m();d($,z),H.append($,M,I,le),document.body.appendChild(H)}l?(M.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function ui(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ui())}function rO(){const t=Am()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lO(){const t=ui();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cO(){return!rO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uO(){try{return typeof indexedDB=="object"}catch{return!1}}function hO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const dO="FirebaseError";class os extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dO,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hh.prototype.create)}}class hh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?fO(l,r):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new os(a,h,r)}}function fO(t,e){return t.replace(mO,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const mO=/\{\$([^}]+)}/g;function pO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],c=e[a];if(C1(l)&&C1(c)){if(!jo(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function C1(t){return t!==null&&typeof t=="object"}function dh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gO(t,e){const n=new yO(t,e);return n.subscribe.bind(n)}class yO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vO(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=uy),a.error===void 0&&(a.error=uy),a.complete===void 0&&(a.complete=uy);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function uy(){}function Vn(t){return t&&t._delegate?t._delegate:t}class ja{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ro="[DEFAULT]";class bO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_O(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xO(t){return t===Ro?void 0:t}function _O(t){return t.instantiationMode==="EAGER"}class wO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const TO={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},EO=nt.INFO,SO={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},AO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=SO[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class a0{constructor(e){this.name=e,this._logLevel=EO,this._logHandler=AO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const CO=(t,e)=>e.some(n=>t instanceof n);let R1,I1;function RO(){return R1||(R1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IO(){return I1||(I1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TA=new WeakMap,Qy=new WeakMap,EA=new WeakMap,hy=new WeakMap,o0=new WeakMap;function NO(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(ka(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&TA.set(n,t)}).catch(()=>{}),o0.set(e,t),e}function DO(t){if(Qy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Qy.set(t,e)}let Jy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||EA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ka(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kO(t){Jy=t(Jy)}function MO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dy(this),e,...n);return EA.set(r,e.sort?e.sort():[e]),ka(r)}:IO().includes(t)?function(...e){return t.apply(dy(this),e),ka(TA.get(this))}:function(...e){return ka(t.apply(dy(this),e))}}function OO(t){return typeof t=="function"?MO(t):(t instanceof IDBTransaction&&DO(t),CO(t,RO())?new Proxy(t,Jy):t)}function ka(t){if(t instanceof IDBRequest)return NO(t);if(hy.has(t))return hy.get(t);const e=OO(t);return e!==t&&(hy.set(t,e),o0.set(e,t)),e}const dy=t=>o0.get(t);function PO(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=ka(c);return r&&c.addEventListener("upgradeneeded",d=>{r(ka(c.result),d.oldVersion,d.newVersion,ka(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const VO=["get","getKey","getAll","getAllKeys","count"],jO=["put","add","delete","clear"],fy=new Map;function N1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fy.get(e))return fy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=jO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||VO.includes(n)))return;const l=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return fy.set(e,l),l}kO(t=>({...t,get:(e,n,r)=>N1(e,n)||t.get(e,n,r),has:(e,n)=>!!N1(e,n)||t.has(e,n)}));class LO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UO(t){return t.getComponent()?.type==="VERSION"}const Zy="@firebase/app",D1="0.14.7";const Ls=new a0("@firebase/app"),zO="@firebase/app-compat",BO="@firebase/analytics-compat",FO="@firebase/analytics",qO="@firebase/app-check-compat",HO="@firebase/app-check",GO="@firebase/auth",$O="@firebase/auth-compat",KO="@firebase/database",YO="@firebase/data-connect",XO="@firebase/database-compat",WO="@firebase/functions",QO="@firebase/functions-compat",JO="@firebase/installations",ZO="@firebase/installations-compat",eP="@firebase/messaging",tP="@firebase/messaging-compat",nP="@firebase/performance",iP="@firebase/performance-compat",rP="@firebase/remote-config",sP="@firebase/remote-config-compat",aP="@firebase/storage",oP="@firebase/storage-compat",lP="@firebase/firestore",cP="@firebase/ai",uP="@firebase/firestore-compat",hP="firebase",dP="12.8.0";const ev="[DEFAULT]",fP={[Zy]:"fire-core",[zO]:"fire-core-compat",[FO]:"fire-analytics",[BO]:"fire-analytics-compat",[HO]:"fire-app-check",[qO]:"fire-app-check-compat",[GO]:"fire-auth",[$O]:"fire-auth-compat",[KO]:"fire-rtdb",[YO]:"fire-data-connect",[XO]:"fire-rtdb-compat",[WO]:"fire-fn",[QO]:"fire-fn-compat",[JO]:"fire-iid",[ZO]:"fire-iid-compat",[eP]:"fire-fcm",[tP]:"fire-fcm-compat",[nP]:"fire-perf",[iP]:"fire-perf-compat",[rP]:"fire-rc",[sP]:"fire-rc-compat",[aP]:"fire-gcs",[oP]:"fire-gcs-compat",[lP]:"fire-fst",[uP]:"fire-fst-compat",[cP]:"fire-vertex","fire-js":"fire-js",[hP]:"fire-js-all"};const Lf=new Map,mP=new Map,tv=new Map;function k1(t,e){try{t.container.addComponent(e)}catch(n){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lo(t){const e=t.name;if(tv.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;tv.set(e,t);for(const n of Lf.values())k1(n,t);for(const n of mP.values())k1(n,t);return!0}function Cm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ur(t){return t==null?!1:t.settings!==void 0}const pP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ma=new hh("app","Firebase",pP);class gP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ma.create("app-deleted",{appName:this._name})}}const Ho=dP;function SA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ev,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Ma.create("bad-app-name",{appName:String(a)});if(n||(n=xA()),!n)throw Ma.create("no-options");const l=Lf.get(a);if(l){if(jo(n,l.options)&&jo(r,l.config))return l;throw Ma.create("duplicate-app",{appName:a})}const c=new wO(a);for(const d of tv.values())c.addComponent(d);const h=new gP(n,r,c);return Lf.set(a,h),h}function l0(t=ev){const e=Lf.get(t);if(!e&&t===ev&&xA())return SA();if(!e)throw Ma.create("no-app",{appName:t});return e}function Qr(t,e,n){let r=fP[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(c.join(" "));return}Lo(new ja(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const yP="firebase-heartbeat-database",vP=1,Hu="firebase-heartbeat-store";let my=null;function AA(){return my||(my=PO(yP,vP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ma.create("idb-open",{originalErrorMessage:t.message})})),my}async function bP(t){try{const n=(await AA()).transaction(Hu),r=await n.objectStore(Hu).get(CA(t));return await n.done,r}catch(e){if(e instanceof os)Ls.warn(e.message);else{const n=Ma.create("idb-get",{originalErrorMessage:e?.message});Ls.warn(n.message)}}}async function M1(t,e){try{const r=(await AA()).transaction(Hu,"readwrite");await r.objectStore(Hu).put(e,CA(t)),await r.done}catch(n){if(n instanceof os)Ls.warn(n.message);else{const r=Ma.create("idb-set",{originalErrorMessage:n?.message});Ls.warn(r.message)}}}function CA(t){return`${t.name}!${t.options.appId}`}const xP=1024,_P=30;class wP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=O1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>_P){const a=SP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ls.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=O1(),{heartbeatsToSend:n,unsentEntries:r}=TP(this._heartbeatsCache.heartbeats),a=jf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ls.warn(e),""}}}function O1(){return new Date().toISOString().substring(0,10)}function TP(t,e=xP){const n=[];let r=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),P1(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),P1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class EP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uO()?hO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return M1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return M1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function P1(t){return jf(JSON.stringify({version:2,heartbeats:t})).length}function SP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function AP(t){Lo(new ja("platform-logger",e=>new LO(e),"PRIVATE")),Lo(new ja("heartbeat",e=>new wP(e),"PRIVATE")),Qr(Zy,D1,t),Qr(Zy,D1,"esm2020"),Qr("fire-js","")}AP("");var CP="firebase",RP="12.8.0";Qr(CP,RP,"app");function RA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IP=RA,IA=new hh("auth","Firebase",RA());const Uf=new a0("@firebase/auth");function NP(t,...e){Uf.logLevel<=nt.WARN&&Uf.warn(`Auth (${Ho}): ${t}`,...e)}function vf(t,...e){Uf.logLevel<=nt.ERROR&&Uf.error(`Auth (${Ho}): ${t}`,...e)}function ns(t,...e){throw u0(t,...e)}function Dr(t,...e){return u0(t,...e)}function c0(t,e,n){const r={...IP(),[e]:n};return new hh("auth","Firebase",r).create(e,{appName:t.name})}function Oo(t){return c0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DP(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ns(t,"argument-error"),c0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function u0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return IA.create(t,...e)}function je(t,e,...n){if(!t)throw u0(e,...n)}function Ds(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vf(e),new Error(e)}function Us(t,e){t||Ds(e)}function nv(){return typeof self<"u"&&self.location?.href||""}function kP(){return V1()==="http:"||V1()==="https:"}function V1(){return typeof self<"u"&&self.location?.protocol||null}function MP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kP()||aO()||"connection"in navigator)?navigator.onLine:!0}function OP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class fh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Us(n>e,"Short delay should be less than long delay!"),this.isMobile=iO()||oO()}get(){return MP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function h0(t,e){Us(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class NA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const PP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const VP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jP=new fh(3e4,6e4);function d0(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function uc(t,e,n,r,a={}){return DA(t,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const h=dh({key:t.config.apiKey,...c}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:d,...l};return sO()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&qo(t.emulatorConfig.host)&&(m.credentials="include"),NA.fetch()(await kA(t,t.config.apiHost,n,h),m)})}async function DA(t,e,n){t._canInitEmulator=!1;const r={...PP,...e};try{const a=new UP(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw tf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw tf(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw tf(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw tf(t,"user-disabled",c);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw c0(t,g,m);ns(t,g)}}catch(a){if(a instanceof os)throw a;ns(t,"network-request-failed",{message:String(a)})}}async function LP(t,e,n,r,a={}){const l=await uc(t,e,n,r,a);return"mfaPendingCredential"in l&&ns(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function kA(t,e,n,r){const a=`${e}${n}?${r}`,l=t,c=l.config.emulator?h0(t.config,a):`${t.config.apiScheme}://${a}`;return VP.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class UP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dr(this.auth,"network-request-failed")),jP.get())})}}function tf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Dr(t,e,r);return a.customData._tokenResponse=n,a}async function zP(t,e){return uc(t,"POST","/v1/accounts:delete",e)}async function zf(t,e){return uc(t,"POST","/v1/accounts:lookup",e)}function Iu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BP(t,e=!1){const n=Vn(t),r=await n.getIdToken(e),a=f0(r);je(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:Iu(py(a.auth_time)),issuedAtTime:Iu(py(a.iat)),expirationTime:Iu(py(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function py(t){return Number(t)*1e3}function f0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vf("JWT malformed, contained fewer than 3 sections"),null;try{const a=yA(n);return a?JSON.parse(a):(vf("Failed to decode base64 JWT payload"),null)}catch(a){return vf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function j1(t){const e=f0(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Gu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof os&&FP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function FP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class qP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class iv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Iu(this.lastLoginAt),this.creationTime=Iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bf(t){const e=t.auth,n=await t.getIdToken(),r=await Gu(t,zf(e,{idToken:n}));je(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?MA(a.providerUserInfo):[],c=GP(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!c?.length,m=h?d:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new iv(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function HP(t){const e=Vn(t);await Bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GP(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function MA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function $P(t,e){const n=await DA(t,{},async()=>{const r=dh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await kA(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&qo(t.emulatorConfig.host)&&(d.credentials="include"),NA.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KP(t,e){return uc(t,"POST","/v2/accounts:revokeToken",d0(t,e))}class Gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):j1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=j1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await $P(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new Gl;return r&&(je(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(je(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(je(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gl,this.toJSON())}_performRefresh(){return Ds("not implemented")}}function _a(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rr{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new qP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new iv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Gu(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BP(this,e)}reload(){return HP(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(Oo(this.auth));const e=await this.getIdToken();return await Gu(this,zP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,m=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:_,isAnonymous:A,providerData:M,stsTokenManager:O}=n;je(v&&O,e,"internal-error");const I=Gl.fromJSON(this.name,O);je(typeof v=="string",e,"internal-error"),_a(r,e.name),_a(a,e.name),je(typeof _=="boolean",e,"internal-error"),je(typeof A=="boolean",e,"internal-error"),_a(l,e.name),_a(c,e.name),_a(h,e.name),_a(d,e.name),_a(m,e.name),_a(g,e.name);const z=new Rr({uid:v,auth:e,email:a,emailVerified:_,displayName:r,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:I,createdAt:m,lastLoginAt:g});return M&&Array.isArray(M)&&(z.providerData=M.map($=>({...$}))),d&&(z._redirectEventId=d),z}static async _fromIdTokenResponse(e,n,r=!1){const a=new Gl;a.updateFromServerResponse(n);const l=new Rr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Bf(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];je(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?MA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new Gl;h.updateFromIdToken(r);const d=new Rr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new iv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,m),d}}const L1=new Map;function ks(t){Us(t instanceof Function,"Expected a class definition");let e=L1.get(t);return e?(Us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,L1.set(t,e),e)}class OA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OA.type="NONE";const U1=OA;function bf(t,e,n){return`firebase:${t}:${e}:${n}`}class $l{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=bf(this.userKey,a.apiKey,l),this.fullPersistenceKey=bf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zf(this.auth,{idToken:e}).catch(()=>{});return n?Rr._fromGetAccountInfoResponse(this.auth,n,e):null}return Rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $l(ks(U1),e,r);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||ks(U1);const c=bf(r,e.config.apiKey,e.name);let h=null;for(const m of n)try{const g=await m._get(c);if(g){let v;if(typeof g=="string"){const _=await zf(e,{idToken:g}).catch(()=>{});if(!_)break;v=await Rr._fromGetAccountInfoResponse(e,_,g)}else v=Rr._fromJSON(e,g);m!==l&&(h=v),l=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new $l(l,e,r):(l=d[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new $l(l,e,r))}}function z1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zA(e))return"Blackberry";if(BA(e))return"Webos";if(VA(e))return"Safari";if((e.includes("chrome/")||jA(e))&&!e.includes("edge/"))return"Chrome";if(UA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function PA(t=ui()){return/firefox\//i.test(t)}function VA(t=ui()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jA(t=ui()){return/crios\//i.test(t)}function LA(t=ui()){return/iemobile/i.test(t)}function UA(t=ui()){return/android/i.test(t)}function zA(t=ui()){return/blackberry/i.test(t)}function BA(t=ui()){return/webos/i.test(t)}function m0(t=ui()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function YP(t=ui()){return m0(t)&&!!window.navigator?.standalone}function XP(){return lO()&&document.documentMode===10}function FA(t=ui()){return m0(t)||UA(t)||BA(t)||zA(t)||/windows phone/i.test(t)||LA(t)}function qA(t,e=[]){let n;switch(t){case"Browser":n=z1(ui());break;case"Worker":n=`${z1(ui())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ho}/${r}`}class WP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((c,h)=>{try{const d=e(l);c(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function QP(t,e={}){return uc(t,"GET","/v2/passwordPolicy",d0(t,e))}const JP=6;class ZP{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??JP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class eV{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B1(this),this.idTokenSubscription=new B1(this),this.beforeStateQueue=new WP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ks(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $l.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zf(this,{idToken:e}),r=await Rr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ur(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(Oo(this));const n=e?Vn(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(Oo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(Oo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QP(this),n=new ZP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KP(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ks(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await $l.create(this,[ks(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&NP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Rm(t){return Vn(t)}class B1{constructor(e){this.auth=e,this.observer=null,this.addObserver=gO(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let p0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tV(t){p0=t}function nV(t){return p0.loadJS(t)}function iV(){return p0.gapiScript}function rV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function sV(t,e){const n=Cm(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(jo(l,e??{}))return a;ns(a,"already-initialized")}return n.initialize({options:e})}function aV(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ks);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function oV(t,e,n){const r=Rm(t);je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=HA(e),{host:c,port:h}=lV(e),d=h===null?"":`:${h}`,m={url:`${l}//${c}${d}/`},g=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),je(jo(m,r.config.emulator)&&jo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,qo(c)?(r0(`${l}//${c}${d}`),s0("Auth",!0)):cV()}function HA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lV(t){const e=HA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:F1(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:F1(c)}}}function F1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class GA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ds("not implemented")}_getIdTokenResponse(e){return Ds("not implemented")}_linkToIdToken(e,n){return Ds("not implemented")}_getReauthenticationResolver(e){return Ds("not implemented")}}async function Kl(t,e){return LP(t,"POST","/v1/accounts:signInWithIdp",d0(t,e))}const uV="http://localhost";class Uo extends GA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ns("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const c=new Uo(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Kl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Kl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Kl(e,n)}buildRequest(){const e={requestUri:uV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dh(n)}return e}}class g0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mh extends g0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Aa extends mh{constructor(){super("facebook.com")}static credential(e){return Uo._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Aa.credential(e.oauthAccessToken)}catch{return null}}}Aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Aa.PROVIDER_ID="facebook.com";class Is extends mh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Uo._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Is.credential(n,r)}catch{return null}}}Is.GOOGLE_SIGN_IN_METHOD="google.com";Is.PROVIDER_ID="google.com";class Ca extends mh{constructor(){super("github.com")}static credential(e){return Uo._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.GITHUB_SIGN_IN_METHOD="github.com";Ca.PROVIDER_ID="github.com";class Ra extends mh{constructor(){super("twitter.com")}static credential(e,n){return Uo._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ra.credential(n,r)}catch{return null}}}Ra.TWITTER_SIGN_IN_METHOD="twitter.com";Ra.PROVIDER_ID="twitter.com";class Jl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await Rr._fromIdTokenResponse(e,r,a),c=q1(r);return new Jl({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=q1(r);return new Jl({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function q1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Ff extends os{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Ff.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Ff(e,n,r,a)}}function $A(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ff._fromErrorAndOperation(t,l,e,r):l})}async function hV(t,e,n=!1){const r=await Gu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jl._forOperation(t,"link",r)}async function dV(t,e,n=!1){const{auth:r}=t;if(ur(r.app))return Promise.reject(Oo(r));const a="reauthenticate";try{const l=await Gu(t,$A(r,a,e,t),n);je(l.idToken,r,"internal-error");const c=f0(l.idToken);je(c,r,"internal-error");const{sub:h}=c;return je(t.uid===h,r,"user-mismatch"),Jl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ns(r,"user-mismatch"),l}}async function fV(t,e,n=!1){if(ur(t.app))return Promise.reject(Oo(t));const r="signIn",a=await $A(t,r,e),l=await Jl._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}function mV(t,e,n,r){return Vn(t).onIdTokenChanged(e,n,r)}function pV(t,e,n){return Vn(t).beforeAuthStateChanged(e,n)}function gV(t,e,n,r){return Vn(t).onAuthStateChanged(e,n,r)}function yV(t){return Vn(t).signOut()}const qf="__sak";class KA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qf,"1"),this.storage.removeItem(qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const vV=1e3,bV=10;class YA extends KA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);XP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,bV):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YA.type="LOCAL";const xV=YA;class XA extends KA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XA.type="SESSION";const WA=XA;function _V(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Im{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Im(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(c).map(async m=>m(n.origin,l)),d=await _V(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Im.receivers=[];function y0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class wV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,d)=>{const m=y0("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(v){const _=v;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(_.data.response);break;default:clearTimeout(g),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Jr(){return window}function TV(t){Jr().location.href=t}function QA(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function EV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SV(){return navigator?.serviceWorker?.controller||null}function AV(){return QA()?self:null}const JA="firebaseLocalStorageDb",CV=1,Hf="firebaseLocalStorage",ZA="fbase_key";class ph{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nm(t,e){return t.transaction([Hf],e?"readwrite":"readonly").objectStore(Hf)}function RV(){const t=indexedDB.deleteDatabase(JA);return new ph(t).toPromise()}function rv(){const t=indexedDB.open(JA,CV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hf,{keyPath:ZA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hf)?e(r):(r.close(),await RV(),e(await rv()))})})}async function H1(t,e,n){const r=Nm(t,!0).put({[ZA]:e,value:n});return new ph(r).toPromise()}async function IV(t,e){const n=Nm(t,!1).get(e),r=await new ph(n).toPromise();return r===void 0?null:r.value}function G1(t,e){const n=Nm(t,!0).delete(e);return new ph(n).toPromise()}const NV=800,DV=3;class eC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>DV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Im._getInstance(AV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await EV(),!this.activeServiceWorker)return;this.sender=new wV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rv();return await H1(e,qf,"1"),await G1(e,qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>H1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>IV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>G1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Nm(a,!1).getAll();return new ph(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eC.type="LOCAL";const kV=eC;new fh(3e4,6e4);function tC(t,e){return e?ks(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class v0 extends GA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Kl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MV(t){return fV(t.auth,new v0(t),t.bypassAuthState)}function OV(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),dV(n,new v0(t),t.bypassAuthState)}async function PV(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),hV(n,new v0(t),t.bypassAuthState)}class nC{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MV;case"linkViaPopup":case"linkViaRedirect":return PV;case"reauthViaPopup":case"reauthViaRedirect":return OV;default:ns(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const VV=new fh(2e3,1e4);async function jV(t,e,n){if(ur(t.app))return Promise.reject(Dr(t,"operation-not-supported-in-this-environment"));const r=Rm(t);DP(t,e,g0);const a=tC(r,n);return new No(r,"signInViaPopup",e,a).executeNotNull()}class No extends nC{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const e=y0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VV.get())};e()}}No.currentPopupAction=null;const LV="pendingRedirect",xf=new Map;class UV extends nC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xf.get(this.auth._key());if(!e){try{const r=await zV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xf.set(this.auth._key(),e)}return this.bypassAuthState||xf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zV(t,e){const n=qV(e),r=FV(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function BV(t,e){xf.set(t._key(),e)}function FV(t){return ks(t._redirectPersistence)}function qV(t){return bf(LV,t.config.apiKey,t.name)}async function HV(t,e,n=!1){if(ur(t.app))return Promise.reject(Oo(t));const r=Rm(t),a=tC(r,e),c=await new UV(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const GV=600*1e3;class $V{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!iC(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Dr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GV&&this.cachedEventUids.clear(),this.cachedEventUids.has($1(e))}saveEventToCache(e){this.cachedEventUids.add($1(e)),this.lastProcessedEventTime=Date.now()}}function $1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function KV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iC(t);default:return!1}}async function YV(t,e={}){return uc(t,"GET","/v1/projects",e)}const XV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WV=/^https?/;async function QV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await YV(t);for(const n of e)try{if(JV(n))return}catch{}ns(t,"unauthorized-domain")}function JV(t){const e=nv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!WV.test(n))return!1;if(XV.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const ZV=new fh(3e4,6e4);function K1(){const t=Jr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function e4(t){return new Promise((e,n)=>{function r(){K1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K1(),n(Dr(t,"network-request-failed"))},timeout:ZV.get()})}if(Jr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Jr().gapi?.load)r();else{const a=rV("iframefcb");return Jr()[a]=()=>{gapi.load?r():n(Dr(t,"network-request-failed"))},nV(`${iV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw _f=null,e})}let _f=null;function t4(t){return _f=_f||e4(t),_f}const n4=new fh(5e3,15e3),i4="__/auth/iframe",r4="emulator/auth/iframe",s4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o4(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?h0(e,r4):`https://${t.config.authDomain}/${i4}`,r={apiKey:e.apiKey,appName:t.name,v:Ho},a=a4.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${dh(r).slice(1)}`}async function l4(t){const e=await t4(t),n=Jr().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:o4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s4,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Dr(t,"network-request-failed"),h=Jr().setTimeout(()=>{l(c)},n4.get());function d(){Jr().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{l(c)})}))}const c4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u4=500,h4=600,d4="_blank",f4="http://localhost";class Y1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m4(t,e,n,r=u4,a=h4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...c4,width:r.toString(),height:a.toString(),top:l,left:c},m=ui().toLowerCase();n&&(h=jA(m)?d4:n),PA(m)&&(e=e||f4,d.scrollbars="yes");const g=Object.entries(d).reduce((_,[A,M])=>`${_}${A}=${M},`,"");if(YP(m)&&h!=="_self")return p4(e||"",h),new Y1(null);const v=window.open(e||"",h,g);je(v,t,"popup-blocked");try{v.focus()}catch{}return new Y1(v)}function p4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const g4="__/auth/handler",y4="emulator/auth/handler",v4=encodeURIComponent("fac");async function X1(t,e,n,r,a,l){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ho,eventId:a};if(e instanceof g0){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",pO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))c[g]=v}if(e instanceof mh){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),m=d?`#${v4}=${encodeURIComponent(d)}`:"";return`${b4(t)}?${dh(h).slice(1)}${m}`}function b4({config:t}){return t.emulator?h0(t,y4):`https://${t.authDomain}/${g4}`}const gy="webStorageSupport";class x4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WA,this._completeRedirectFn=HV,this._overrideRedirectResult=BV}async _openPopup(e,n,r,a){Us(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await X1(e,n,r,nv(),a);return m4(e,l,y0())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await X1(e,n,r,nv(),a);return TV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Us(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await l4(e),r=new $V(e);return n.register("authEvent",a=>(je(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gy,{type:gy},a=>{const l=a?.[0]?.[gy];l!==void 0&&n(!!l),ns(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FA()||VA()||m0()}}const _4=x4;var W1="@firebase/auth",Q1="1.12.0";class w4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function T4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E4(t){Lo(new ja("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;je(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qA(t)},m=new eV(r,a,l,d);return aV(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Lo(new ja("auth-internal",e=>{const n=Rm(e.getProvider("auth").getImmediate());return(r=>new w4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(W1,Q1,T4(t)),Qr(W1,Q1,"esm2020")}const S4=300,A4=_A("authIdTokenMaxAge")||S4;let J1=null;const C4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>A4)return;const a=n?.token;J1!==a&&(J1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function R4(t=l0()){const e=Cm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sV(t,{popupRedirectResolver:_4,persistence:[kV,xV,WA]}),r=_A("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=C4(l.toString());pV(n,c,()=>c(n.currentUser)),mV(n,h=>c(h))}}const a=vA("auth");return a&&oV(n,`http://${a}`),n}function I4(){return document.getElementsByTagName("head")?.[0]??document}tV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=Dr("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",I4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E4("Browser");var Z1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Oa,rC;(function(){var t;function e(D,C){function P(){}P.prototype=C.prototype,D.F=C.prototype,D.prototype=new P,D.prototype.constructor=D,D.D=function(N,V,B){for(var j=Array(arguments.length-2),be=2;be<arguments.length;be++)j[be-2]=arguments[be];return C.prototype[V].apply(N,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,C,P){P||(P=0);const N=Array(16);if(typeof C=="string")for(var V=0;V<16;++V)N[V]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(V=0;V<16;++V)N[V]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=D.g[0],P=D.g[1],V=D.g[2];let B=D.g[3],j;j=C+(B^P&(V^B))+N[0]+3614090360&4294967295,C=P+(j<<7&4294967295|j>>>25),j=B+(V^C&(P^V))+N[1]+3905402710&4294967295,B=C+(j<<12&4294967295|j>>>20),j=V+(P^B&(C^P))+N[2]+606105819&4294967295,V=B+(j<<17&4294967295|j>>>15),j=P+(C^V&(B^C))+N[3]+3250441966&4294967295,P=V+(j<<22&4294967295|j>>>10),j=C+(B^P&(V^B))+N[4]+4118548399&4294967295,C=P+(j<<7&4294967295|j>>>25),j=B+(V^C&(P^V))+N[5]+1200080426&4294967295,B=C+(j<<12&4294967295|j>>>20),j=V+(P^B&(C^P))+N[6]+2821735955&4294967295,V=B+(j<<17&4294967295|j>>>15),j=P+(C^V&(B^C))+N[7]+4249261313&4294967295,P=V+(j<<22&4294967295|j>>>10),j=C+(B^P&(V^B))+N[8]+1770035416&4294967295,C=P+(j<<7&4294967295|j>>>25),j=B+(V^C&(P^V))+N[9]+2336552879&4294967295,B=C+(j<<12&4294967295|j>>>20),j=V+(P^B&(C^P))+N[10]+4294925233&4294967295,V=B+(j<<17&4294967295|j>>>15),j=P+(C^V&(B^C))+N[11]+2304563134&4294967295,P=V+(j<<22&4294967295|j>>>10),j=C+(B^P&(V^B))+N[12]+1804603682&4294967295,C=P+(j<<7&4294967295|j>>>25),j=B+(V^C&(P^V))+N[13]+4254626195&4294967295,B=C+(j<<12&4294967295|j>>>20),j=V+(P^B&(C^P))+N[14]+2792965006&4294967295,V=B+(j<<17&4294967295|j>>>15),j=P+(C^V&(B^C))+N[15]+1236535329&4294967295,P=V+(j<<22&4294967295|j>>>10),j=C+(V^B&(P^V))+N[1]+4129170786&4294967295,C=P+(j<<5&4294967295|j>>>27),j=B+(P^V&(C^P))+N[6]+3225465664&4294967295,B=C+(j<<9&4294967295|j>>>23),j=V+(C^P&(B^C))+N[11]+643717713&4294967295,V=B+(j<<14&4294967295|j>>>18),j=P+(B^C&(V^B))+N[0]+3921069994&4294967295,P=V+(j<<20&4294967295|j>>>12),j=C+(V^B&(P^V))+N[5]+3593408605&4294967295,C=P+(j<<5&4294967295|j>>>27),j=B+(P^V&(C^P))+N[10]+38016083&4294967295,B=C+(j<<9&4294967295|j>>>23),j=V+(C^P&(B^C))+N[15]+3634488961&4294967295,V=B+(j<<14&4294967295|j>>>18),j=P+(B^C&(V^B))+N[4]+3889429448&4294967295,P=V+(j<<20&4294967295|j>>>12),j=C+(V^B&(P^V))+N[9]+568446438&4294967295,C=P+(j<<5&4294967295|j>>>27),j=B+(P^V&(C^P))+N[14]+3275163606&4294967295,B=C+(j<<9&4294967295|j>>>23),j=V+(C^P&(B^C))+N[3]+4107603335&4294967295,V=B+(j<<14&4294967295|j>>>18),j=P+(B^C&(V^B))+N[8]+1163531501&4294967295,P=V+(j<<20&4294967295|j>>>12),j=C+(V^B&(P^V))+N[13]+2850285829&4294967295,C=P+(j<<5&4294967295|j>>>27),j=B+(P^V&(C^P))+N[2]+4243563512&4294967295,B=C+(j<<9&4294967295|j>>>23),j=V+(C^P&(B^C))+N[7]+1735328473&4294967295,V=B+(j<<14&4294967295|j>>>18),j=P+(B^C&(V^B))+N[12]+2368359562&4294967295,P=V+(j<<20&4294967295|j>>>12),j=C+(P^V^B)+N[5]+4294588738&4294967295,C=P+(j<<4&4294967295|j>>>28),j=B+(C^P^V)+N[8]+2272392833&4294967295,B=C+(j<<11&4294967295|j>>>21),j=V+(B^C^P)+N[11]+1839030562&4294967295,V=B+(j<<16&4294967295|j>>>16),j=P+(V^B^C)+N[14]+4259657740&4294967295,P=V+(j<<23&4294967295|j>>>9),j=C+(P^V^B)+N[1]+2763975236&4294967295,C=P+(j<<4&4294967295|j>>>28),j=B+(C^P^V)+N[4]+1272893353&4294967295,B=C+(j<<11&4294967295|j>>>21),j=V+(B^C^P)+N[7]+4139469664&4294967295,V=B+(j<<16&4294967295|j>>>16),j=P+(V^B^C)+N[10]+3200236656&4294967295,P=V+(j<<23&4294967295|j>>>9),j=C+(P^V^B)+N[13]+681279174&4294967295,C=P+(j<<4&4294967295|j>>>28),j=B+(C^P^V)+N[0]+3936430074&4294967295,B=C+(j<<11&4294967295|j>>>21),j=V+(B^C^P)+N[3]+3572445317&4294967295,V=B+(j<<16&4294967295|j>>>16),j=P+(V^B^C)+N[6]+76029189&4294967295,P=V+(j<<23&4294967295|j>>>9),j=C+(P^V^B)+N[9]+3654602809&4294967295,C=P+(j<<4&4294967295|j>>>28),j=B+(C^P^V)+N[12]+3873151461&4294967295,B=C+(j<<11&4294967295|j>>>21),j=V+(B^C^P)+N[15]+530742520&4294967295,V=B+(j<<16&4294967295|j>>>16),j=P+(V^B^C)+N[2]+3299628645&4294967295,P=V+(j<<23&4294967295|j>>>9),j=C+(V^(P|~B))+N[0]+4096336452&4294967295,C=P+(j<<6&4294967295|j>>>26),j=B+(P^(C|~V))+N[7]+1126891415&4294967295,B=C+(j<<10&4294967295|j>>>22),j=V+(C^(B|~P))+N[14]+2878612391&4294967295,V=B+(j<<15&4294967295|j>>>17),j=P+(B^(V|~C))+N[5]+4237533241&4294967295,P=V+(j<<21&4294967295|j>>>11),j=C+(V^(P|~B))+N[12]+1700485571&4294967295,C=P+(j<<6&4294967295|j>>>26),j=B+(P^(C|~V))+N[3]+2399980690&4294967295,B=C+(j<<10&4294967295|j>>>22),j=V+(C^(B|~P))+N[10]+4293915773&4294967295,V=B+(j<<15&4294967295|j>>>17),j=P+(B^(V|~C))+N[1]+2240044497&4294967295,P=V+(j<<21&4294967295|j>>>11),j=C+(V^(P|~B))+N[8]+1873313359&4294967295,C=P+(j<<6&4294967295|j>>>26),j=B+(P^(C|~V))+N[15]+4264355552&4294967295,B=C+(j<<10&4294967295|j>>>22),j=V+(C^(B|~P))+N[6]+2734768916&4294967295,V=B+(j<<15&4294967295|j>>>17),j=P+(B^(V|~C))+N[13]+1309151649&4294967295,P=V+(j<<21&4294967295|j>>>11),j=C+(V^(P|~B))+N[4]+4149444226&4294967295,C=P+(j<<6&4294967295|j>>>26),j=B+(P^(C|~V))+N[11]+3174756917&4294967295,B=C+(j<<10&4294967295|j>>>22),j=V+(C^(B|~P))+N[2]+718787259&4294967295,V=B+(j<<15&4294967295|j>>>17),j=P+(B^(V|~C))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(V+(j<<21&4294967295|j>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+B&4294967295}r.prototype.v=function(D,C){C===void 0&&(C=D.length);const P=C-this.blockSize,N=this.C;let V=this.h,B=0;for(;B<C;){if(V==0)for(;B<=P;)a(this,D,B),B+=this.blockSize;if(typeof D=="string"){for(;B<C;)if(N[V++]=D.charCodeAt(B++),V==this.blockSize){a(this,N),V=0;break}}else for(;B<C;)if(N[V++]=D[B++],V==this.blockSize){a(this,N),V=0;break}}this.h=V,this.o+=C},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;C=this.o*8;for(var P=D.length-8;P<D.length;++P)D[P]=C&255,C/=256;for(this.v(D),D=Array(16),C=0,P=0;P<4;++P)for(let N=0;N<32;N+=8)D[C++]=this.g[P]>>>N&255;return D};function l(D,C){var P=h;return Object.prototype.hasOwnProperty.call(P,D)?P[D]:P[D]=C(D)}function c(D,C){this.h=C;const P=[];let N=!0;for(let V=D.length-1;V>=0;V--){const B=D[V]|0;N&&B==C||(P[V]=B,N=!1)}this.g=P}var h={};function d(D){return-128<=D&&D<128?l(D,function(C){return new c([C|0],C<0?-1:0)}):new c([D|0],D<0?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return v;if(D<0)return I(m(-D));const C=[];let P=1;for(let N=0;D>=P;N++)C[N]=D/P|0,P*=4294967296;return new c(C,0)}function g(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return I(g(D.substring(1),C));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=m(Math.pow(C,8));let N=v;for(let B=0;B<D.length;B+=8){var V=Math.min(8,D.length-B);const j=parseInt(D.substring(B,B+V),C);V<8?(V=m(Math.pow(C,V)),N=N.j(V).add(m(j))):(N=N.j(P),N=N.add(m(j)))}return N}var v=d(0),_=d(1),A=d(16777216);t=c.prototype,t.m=function(){if(O(this))return-I(this).m();let D=0,C=1;for(let P=0;P<this.g.length;P++){const N=this.i(P);D+=(N>=0?N:4294967296+N)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(M(this))return"0";if(O(this))return"-"+I(this).toString(D);const C=m(Math.pow(D,6));var P=this;let N="";for(;;){const V=le(P,C).g;P=z(P,V.j(C));let B=((P.g.length>0?P.g[0]:P.h)>>>0).toString(D);if(P=V,M(P))return B+N;for(;B.length<6;)B="0"+B;N=B+N}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function M(D){if(D.h!=0)return!1;for(let C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function O(D){return D.h==-1}t.l=function(D){return D=z(this,D),O(D)?-1:M(D)?0:1};function I(D){const C=D.g.length,P=[];for(let N=0;N<C;N++)P[N]=~D.g[N];return new c(P,~D.h).add(_)}t.abs=function(){return O(this)?I(this):this},t.add=function(D){const C=Math.max(this.g.length,D.g.length),P=[];let N=0;for(let V=0;V<=C;V++){let B=N+(this.i(V)&65535)+(D.i(V)&65535),j=(B>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);N=j>>>16,B&=65535,j&=65535,P[V]=j<<16|B}return new c(P,P[P.length-1]&-2147483648?-1:0)};function z(D,C){return D.add(I(C))}t.j=function(D){if(M(this)||M(D))return v;if(O(this))return O(D)?I(this).j(I(D)):I(I(this).j(D));if(O(D))return I(this.j(I(D)));if(this.l(A)<0&&D.l(A)<0)return m(this.m()*D.m());const C=this.g.length+D.g.length,P=[];for(var N=0;N<2*C;N++)P[N]=0;for(N=0;N<this.g.length;N++)for(let V=0;V<D.g.length;V++){const B=this.i(N)>>>16,j=this.i(N)&65535,be=D.i(V)>>>16,De=D.i(V)&65535;P[2*N+2*V]+=j*De,$(P,2*N+2*V),P[2*N+2*V+1]+=B*De,$(P,2*N+2*V+1),P[2*N+2*V+1]+=j*be,$(P,2*N+2*V+1),P[2*N+2*V+2]+=B*be,$(P,2*N+2*V+2)}for(D=0;D<C;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=C;D<2*C;D++)P[D]=0;return new c(P,0)};function $(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function H(D,C){this.g=D,this.h=C}function le(D,C){if(M(C))throw Error("division by zero");if(M(D))return new H(v,v);if(O(D))return C=le(I(D),C),new H(I(C.g),I(C.h));if(O(C))return C=le(D,I(C)),new H(I(C.g),C.h);if(D.g.length>30){if(O(D)||O(C))throw Error("slowDivide_ only works with positive integers.");for(var P=_,N=C;N.l(D)<=0;)P=re(P),N=re(N);var V=ae(P,1),B=ae(N,1);for(N=ae(N,2),P=ae(P,2);!M(N);){var j=B.add(N);j.l(D)<=0&&(V=V.add(P),B=j),N=ae(N,1),P=ae(P,1)}return C=z(D,V.j(C)),new H(V,C)}for(V=v;D.l(C)>=0;){for(P=Math.max(1,Math.floor(D.m()/C.m())),N=Math.ceil(Math.log(P)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),B=m(P),j=B.j(C);O(j)||j.l(D)>0;)P-=N,B=m(P),j=B.j(C);M(B)&&(B=_),V=V.add(B),D=z(D,j)}return new H(V,D)}t.B=function(D){return le(this,D).h},t.and=function(D){const C=Math.max(this.g.length,D.g.length),P=[];for(let N=0;N<C;N++)P[N]=this.i(N)&D.i(N);return new c(P,this.h&D.h)},t.or=function(D){const C=Math.max(this.g.length,D.g.length),P=[];for(let N=0;N<C;N++)P[N]=this.i(N)|D.i(N);return new c(P,this.h|D.h)},t.xor=function(D){const C=Math.max(this.g.length,D.g.length),P=[];for(let N=0;N<C;N++)P[N]=this.i(N)^D.i(N);return new c(P,this.h^D.h)};function re(D){const C=D.g.length+1,P=[];for(let N=0;N<C;N++)P[N]=D.i(N)<<1|D.i(N-1)>>>31;return new c(P,D.h)}function ae(D,C){const P=C>>5;C%=32;const N=D.g.length-P,V=[];for(let B=0;B<N;B++)V[B]=C>0?D.i(B+P)>>>C|D.i(B+P+1)<<32-C:D.i(B+P);return new c(V,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,rC=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,Oa=c}).apply(typeof Z1<"u"?Z1:typeof self<"u"?self:typeof window<"u"?window:{});var nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sC,Tu,aC,wf,sv,oC,lC,cC;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof nf=="object"&&nf];for(var x=0;x<f.length;++x){var T=f[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function a(f,x){if(x)e:{var T=r;f=f.split(".");for(var k=0;k<f.length-1;k++){var Q=f[k];if(!(Q in T))break e;T=T[Q]}f=f[f.length-1],k=T[f],x=x(k),x!=k&&x!=null&&e(T,f,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(x){var T=[],k;for(k in x)Object.prototype.hasOwnProperty.call(x,k)&&T.push([k,x[k]]);return T}});var l=l||{},c=this||self;function h(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function d(f,x,T){return f.call.apply(f.bind,arguments)}function m(f,x,T){return m=d,m.apply(null,arguments)}function g(f,x){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),f.apply(this,k)}}function v(f,x){function T(){}T.prototype=x.prototype,f.Z=x.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(k,Q,se){for(var ye=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ye[Ge-2]=arguments[Ge];return x.prototype[Q].apply(k,ye)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const x=f.length;if(x>0){const T=Array(x);for(let k=0;k<x;k++)T[k]=f[k];return T}return[]}function M(f,x){for(let k=1;k<arguments.length;k++){const Q=arguments[k];var T=typeof Q;if(T=T!="object"?T:Q?Array.isArray(Q)?"array":T:"null",T=="array"||T=="object"&&typeof Q.length=="number"){T=f.length||0;const se=Q.length||0;f.length=T+se;for(let ye=0;ye<se;ye++)f[T+ye]=Q[ye]}else f.push(Q)}}class O{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function I(f){c.setTimeout(()=>{throw f},0)}function z(){var f=D;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class ${constructor(){this.h=this.g=null}add(x,T){const k=H.get();k.set(x,T),this.h?this.h.next=k:this.g=k,this.h=k}}var H=new O(()=>new le,f=>f.reset());class le{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ae=!1,D=new $,C=()=>{const f=Promise.resolve(void 0);re=()=>{f.then(P)}};function P(){for(var f;f=z();){try{f.h.call(f.g)}catch(T){I(T)}var x=H;x.j(f),x.h<100&&(x.h++,f.next=x.g,x.g=f)}ae=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,x),c.removeEventListener("test",T,x)}catch{}return f})();function j(f){return/^[\s\xa0]*$/.test(f)}function be(f,x){V.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,x)}v(be,V),be.prototype.init=function(f,x){const T=this.type=f.type,k=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget,x||(T=="mouseover"?x=f.fromElement:T=="mouseout"&&(x=f.toElement)),this.relatedTarget=x,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),te=0;function G(f,x,T,k,Q){this.listener=f,this.proxy=null,this.src=x,this.type=T,this.capture=!!k,this.ha=Q,this.key=++te,this.da=this.fa=!1}function q(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function W(f,x,T){for(const k in f)x.call(T,f[k],k,f)}function U(f,x){for(const T in f)x.call(void 0,f[T],T,f)}function E(f){const x={};for(const T in f)x[T]=f[T];return x}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(f,x){let T,k;for(let Q=1;Q<arguments.length;Q++){k=arguments[Q];for(T in k)f[T]=k[T];for(let se=0;se<L.length;se++)T=L[se],Object.prototype.hasOwnProperty.call(k,T)&&(f[T]=k[T])}}function ne(f){this.src=f,this.g={},this.h=0}ne.prototype.add=function(f,x,T,k,Q){const se=f.toString();f=this.g[se],f||(f=this.g[se]=[],this.h++);const ye=ge(f,x,k,Q);return ye>-1?(x=f[ye],T||(x.fa=!1)):(x=new G(x,this.src,se,!!k,Q),x.fa=T,f.push(x)),x};function me(f,x){const T=x.type;if(T in f.g){var k=f.g[T],Q=Array.prototype.indexOf.call(k,x,void 0),se;(se=Q>=0)&&Array.prototype.splice.call(k,Q,1),se&&(q(x),f.g[T].length==0&&(delete f.g[T],f.h--))}}function ge(f,x,T,k){for(let Q=0;Q<f.length;++Q){const se=f[Q];if(!se.da&&se.listener==x&&se.capture==!!T&&se.ha==k)return Q}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),xe={};function _e(f,x,T,k,Q){if(Array.isArray(x)){for(let se=0;se<x.length;se++)_e(f,x[se],T,k,Q);return null}return T=mn(T),f&&f[De]?f.J(x,T,h(k)?!!k.capture:!1,Q):Ee(f,x,T,!1,k,Q)}function Ee(f,x,T,k,Q,se){if(!x)throw Error("Invalid event type");const ye=h(Q)?!!Q.capture:!!Q;let Ge=ht(f);if(Ge||(f[pe]=Ge=new ne(f)),T=Ge.add(x,T,k,ye,se),T.proxy)return T;if(k=Ue(),T.proxy=k,k.src=f,k.listener=T,f.addEventListener)B||(Q=ye),Q===void 0&&(Q=!1),f.addEventListener(x.toString(),k,Q);else if(f.attachEvent)f.attachEvent(Ne(x.toString()),k);else if(f.addListener&&f.removeListener)f.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ue(){function f(T){return x.call(f.src,f.listener,T)}const x=wt;return f}function Pe(f,x,T,k,Q){if(Array.isArray(x))for(var se=0;se<x.length;se++)Pe(f,x[se],T,k,Q);else k=h(k)?!!k.capture:!!k,T=mn(T),f&&f[De]?(f=f.i,se=String(x).toString(),se in f.g&&(x=f.g[se],T=ge(x,T,k,Q),T>-1&&(q(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete f.g[se],f.h--)))):f&&(f=ht(f))&&(x=f.g[x.toString()],f=-1,x&&(f=ge(x,T,k,Q)),(T=f>-1?x[f]:null)&&st(T))}function st(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[De])me(x.i,f);else{var T=f.type,k=f.proxy;x.removeEventListener?x.removeEventListener(T,k,f.capture):x.detachEvent?x.detachEvent(Ne(T),k):x.addListener&&x.removeListener&&x.removeListener(k),(T=ht(x))?(me(T,f),T.h==0&&(T.src=null,x[pe]=null)):q(f)}}}function Ne(f){return f in xe?xe[f]:xe[f]="on"+f}function wt(f,x){if(f.da)f=!0;else{x=new be(x,this);const T=f.listener,k=f.ha||f.src;f.fa&&st(f),f=T.call(k,x)}return f}function ht(f){return f=f[pe],f instanceof ne?f:null}var Bt="__closure_events_fn_"+(Math.random()*1e9>>>0);function mn(f){return typeof f=="function"?f:(f[Bt]||(f[Bt]=function(x){return f.handleEvent(x)}),f[Bt])}function at(){N.call(this),this.i=new ne(this),this.M=this,this.G=null}v(at,N),at.prototype[De]=!0,at.prototype.removeEventListener=function(f,x,T,k){Pe(this,f,x,T,k)};function qe(f,x){var T,k=f.G;if(k)for(T=[];k;k=k.G)T.push(k);if(f=f.M,k=x.type||x,typeof x=="string")x=new V(x,f);else if(x instanceof V)x.target=x.target||f;else{var Q=x;x=new V(k,f),Y(x,Q)}Q=!0;let se,ye;if(T)for(ye=T.length-1;ye>=0;ye--)se=x.g=T[ye],Q=pn(se,k,!0,x)&&Q;if(se=x.g=f,Q=pn(se,k,!0,x)&&Q,Q=pn(se,k,!1,x)&&Q,T)for(ye=0;ye<T.length;ye++)se=x.g=T[ye],Q=pn(se,k,!1,x)&&Q}at.prototype.N=function(){if(at.Z.N.call(this),this.i){var f=this.i;for(const x in f.g){const T=f.g[x];for(let k=0;k<T.length;k++)q(T[k]);delete f.g[x],f.h--}}this.G=null},at.prototype.J=function(f,x,T,k){return this.i.add(String(f),x,!1,T,k)},at.prototype.K=function(f,x,T,k){return this.i.add(String(f),x,!0,T,k)};function pn(f,x,T,k){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();let Q=!0;for(let se=0;se<x.length;++se){const ye=x[se];if(ye&&!ye.da&&ye.capture==T){const Ge=ye.listener,un=ye.ha||ye.src;ye.fa&&me(f.i,ye),Q=Ge.call(un,k)!==!1&&Q}}return Q&&!k.defaultPrevented}function Ni(f,x){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(f,x||0)}function Di(f){f.g=Ni(()=>{f.g=null,f.i&&(f.i=!1,Di(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class Ft extends N{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Di(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jt(f){N.call(this),this.h=f,this.g={}}v(Jt,N);var ei=[];function Hn(f){W(f.g,function(x,T){this.g.hasOwnProperty(T)&&st(x)},f),f.g={}}Jt.prototype.N=function(){Jt.Z.N.call(this),Hn(this)},Jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=c.JSON.stringify,ti=c.JSON.parse,yi=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Pt(){}function Ki(){}var Cn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nn(){V.call(this,"d")}v(nn,V);function jn(){V.call(this,"c")}v(jn,V);var Dt={},ni=null;function gr(){return ni=ni||new at}Dt.Ia="serverreachability";function jr(f){V.call(this,Dt.Ia,f)}v(jr,V);function vi(f){const x=gr();qe(x,new jr(x))}Dt.STAT_EVENT="statevent";function yr(f,x){V.call(this,Dt.STAT_EVENT,f),this.stat=x}v(yr,V);function He(f){const x=gr();qe(x,new yr(x,f))}Dt.Ja="timingevent";function Vt(f,x){V.call(this,Dt.Ja,f),this.size=x}v(Vt,V);function jt(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},x)}function rn(){this.g=!0}rn.prototype.ua=function(){this.g=!1};function Ln(f,x,T,k,Q,se){f.info(function(){if(f.g)if(se){var ye="",Ge=se.split("&");for(let vt=0;vt<Ge.length;vt++){var un=Ge[vt].split("=");if(un.length>1){const Xt=un[0];un=un[1];const Ji=Xt.split("_");ye=Ji.length>=2&&Ji[1]=="type"?ye+(Xt+"="+un+"&"):ye+(Xt+"=redacted&")}}}else ye=null;else ye=se;return"XMLHTTP REQ ("+k+") [attempt "+Q+"]: "+x+`
`+T+`
`+ye})}function qt(f,x,T,k,Q,se,ye){f.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Q+"]: "+x+`
`+T+`
`+se+" "+ye})}function pt(f,x,T,k){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+Tt(f,T)+(k?" "+k:"")})}function cn(f,x){f.info(function(){return"TIMEOUT: "+x})}rn.prototype.info=function(){};function Tt(f,x){if(!f.g)return x;if(!x)return null;try{const se=JSON.parse(x);if(se){for(f=0;f<se.length;f++)if(Array.isArray(se[f])){var T=se[f];if(!(T.length<2)){var k=T[1];if(Array.isArray(k)&&!(k.length<1)){var Q=k[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ye=1;ye<k.length;ye++)k[ye]=""}}}}return gn(se)}catch{return x}}var Rn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gn;function In(){}v(In,Pt),In.prototype.g=function(){return new XMLHttpRequest},Gn=new In;function gt(f){return encodeURIComponent(String(f))}function Nn(f){var x=1;f=f.split(":");const T=[];for(;x>0&&f.length;)T.push(f.shift()),x--;return f.length&&T.push(f.join(":")),T}function kt(f,x,T,k){this.j=f,this.i=x,this.l=T,this.S=k||1,this.V=new Jt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vn}function vn(){this.i=null,this.g="",this.h=!1}var Lt={},Yt={};function ki(f,x,T){f.M=1,f.A=Za(We(x)),f.u=T,f.R=!0,Hs(f,null)}function Hs(f,x){f.F=Date.now(),bi(f),f.B=We(f.A);var T=f.B,k=f.S;Array.isArray(k)||(k=[String(k)]),Jo(T.i,"t",k),f.C=0,T=f.j.L,f.h=new vn,f.g=Kh(f.j,T?x:null,!f.u),f.P>0&&(f.O=new Ft(m(f.Y,f,f.g),f.P)),x=f.V,T=f.g,k=f.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(ei[0]=Q.toString()),Q=ei);for(let se=0;se<Q.length;se++){const ye=_e(T,Q[se],k||x.handleEvent,!1,x.h||x);if(!ye)break;x.g[ye.key]=ye}x=f.J?E(f.J):{},f.u?(f.v||(f.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,x)):(f.v="GET",f.g.ea(f.B,f.v,null,x)),vi(),Ln(f.i,f.v,f.B,f.l,f.S,f.u)}kt.prototype.ba=function(f){f=f.target;const x=this.O;x&&xr(f)==3?x.j():this.Y(f)},kt.prototype.Y=function(f){try{if(f==this.g)e:{const Ge=xr(this.g),un=this.g.ya(),vt=this.g.ca();if(!(Ge<3)&&(Ge!=3||this.g&&(this.h.h||this.g.la()||$n(this.g)))){this.K||Ge!=4||un==7||(un==8||vt<=0?vi(3):vi(2)),Yi(this);var x=this.g.ca();this.X=x;var T=Yo(this);if(this.o=x==200,qt(this.i,this.v,this.B,this.l,this.S,Ge,x),this.o){if(this.U&&!this.L){t:{if(this.g){var k,Q=this.g;if((k=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(k)){var se=k;break t}}se=null}if(f=se)pt(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xi(this,f);else{this.o=!1,this.m=3,He(12),ii(this),xi(this);break e}}if(this.R){f=!0;let Xt;for(;!this.K&&this.C<T.length;)if(Xt=Qa(this,T),Xt==Yt){Ge==4&&(this.m=4,He(14),f=!1),pt(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Lt){this.m=4,He(15),pt(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else pt(this.i,this.l,Xt,null),Xi(this,Xt);if(Xo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||T.length!=0||this.h.h||(this.m=1,He(16),f=!1),this.o=this.o&&f,!f)pt(this.i,this.l,T,"[Invalid Chunked Response]"),ii(this),xi(this);else if(T.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Dc(ye),ye.P=!0,He(11))}}else pt(this.i,this.l,T,null),Xi(this,T);Ge==4&&ii(this),this.o&&!this.K&&(Ge==4?qh(this.j,this):(this.o=!1,bi(this)))}else hs(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,He(12)):(this.m=0,He(13)),ii(this),xi(this)}}}catch{}};function Yo(f){if(!Xo(f))return f.g.la();const x=$n(f.g);if(x==="")return"";let T="";const k=x.length,Q=xr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return ii(f),xi(f),"";f.h.i=new c.TextDecoder}for(let se=0;se<k;se++)f.h.h=!0,T+=f.h.i.decode(x[se],{stream:!(Q&&se==k-1)});return x.length=0,f.h.g+=T,f.C=0,f.h.g}function Xo(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Qa(f,x){var T=f.C,k=x.indexOf(`
`,T);return k==-1?Yt:(T=Number(x.substring(T,k)),isNaN(T)?Lt:(k+=1,k+T>x.length?Yt:(x=x.slice(k,k+T),f.C=k+T,x)))}kt.prototype.cancel=function(){this.K=!0,ii(this)};function bi(f){f.T=Date.now()+f.H,cs(f,f.H)}function cs(f,x){if(f.D!=null)throw Error("WatchDog timer not null");f.D=jt(m(f.aa,f),x)}function Yi(f){f.D&&(c.clearTimeout(f.D),f.D=null)}kt.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(cn(this.i,this.B),this.M!=2&&(vi(),He(17)),ii(this),this.m=2,xi(this)):cs(this,this.T-f)};function xi(f){f.j.I==0||f.K||qh(f.j,f)}function ii(f){Yi(f);var x=f.O;x&&typeof x.dispose=="function"&&x.dispose(),f.O=null,Hn(f.V),f.g&&(x=f.g,f.g=null,x.abort(),x.dispose())}function Xi(f,x){try{var T=f.j;if(T.I!=0&&(T.g==f||Pi(T.h,f))){if(!f.L&&Pi(T.h,f)&&T.I==3){try{var k=T.Ba.g.parse(x)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Q=k;if(Q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)il(T),Qs(T);else break e;ao(T),He(18)}}else T.xa=Q[1],0<T.xa-T.K&&Q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=jt(m(T.Va,T),6e3));Oi(T.h)<=1&&T.ta&&(T.ta=void 0)}else qr(T,11)}else if((f.L||T.g==f)&&il(T),!j(x))for(Q=T.Ba.g.parse(x),x=0;x<Q.length;x++){let vt=Q[x];const Xt=vt[0];if(!(Xt<=T.K))if(T.K=Xt,vt=vt[1],T.I==2)if(vt[0]=="c"){T.M=vt[1],T.ba=vt[2];const Ji=vt[3];Ji!=null&&(T.ka=Ji,T.j.info("VER="+T.ka));const Hr=vt[4];Hr!=null&&(T.za=Hr,T.j.info("SVER="+T.za));const _r=vt[5];_r!=null&&typeof _r=="number"&&_r>0&&(k=1.5*_r,T.O=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const wr=f.g;if(wr){const oo=wr.g?wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oo){var se=k.h;se.g||oo.indexOf("spdy")==-1&&oo.indexOf("quic")==-1&&oo.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Ja(se,se.h),se.h=null))}if(k.G){const rl=wr.g?wr.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(k.wa=rl,yt(k.J,k.G,rl))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),k=T;var ye=f;if(k.na=$h(k,k.L?k.ba:null,k.W),ye.L){J(k.h,ye);var Ge=ye,un=k.O;un&&(Ge.H=un),Ge.D&&(Yi(Ge),bi(Ge)),k.g=ye}else Bh(k);T.i.length>0&&Fr(T)}else vt[0]!="stop"&&vt[0]!="close"||qr(T,7);else T.I==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?qr(T,7):Ic(T):vt[0]!="noop"&&T.l&&T.l.qa(vt),T.A=0)}}vi(4)}catch{}}var sn=class{constructor(f,x){this.g=f,this.map=x}};function Mi(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Oi(f){return f.h?1:f.g?f.g.size:0}function Pi(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function Ja(f,x){f.g?f.g.add(x):f.h=x}function J(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}Mi.prototype.cancel=function(){if(this.i=Se(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Se(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const T of f.g.values())x=x.concat(T.G);return x}return A(f.i)}var Ut=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ht(f,x){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const k=f[T].indexOf("=");let Q,se=null;k>=0?(Q=f[T].substring(0,k),se=f[T].substring(k+1)):Q=f[T],x(Q,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function dt(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;f instanceof dt?(this.l=f.l,ut(this,f.j),this.o=f.o,this.g=f.g,Mt(this,f.u),this.h=f.h,Vi(this,Uh(f.i)),this.m=f.m):f&&(x=String(f).match(Ut))?(this.l=!1,ut(this,x[1]||"",!0),this.o=Lr(x[2]||""),this.g=Lr(x[3]||"",!0),Mt(this,x[4]),this.h=Lr(x[5]||"",!0),Vi(this,x[6]||"",!0),this.m=Lr(x[7]||"")):(this.l=!1,this.i=new $s(null,this.l))}dt.prototype.toString=function(){const f=[];var x=this.j;x&&f.push(eo(x,Qo,!0),":");var T=this.g;return(T||x=="file")&&(f.push("//"),(x=this.o)&&f.push(eo(x,Qo,!0),"@"),f.push(gt(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(eo(T,T.charAt(0)=="/"?Tc:Vh,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",eo(T,jh)),f.join("")},dt.prototype.resolve=function(f){const x=We(this);let T=!!f.j;T?ut(x,f.j):T=!!f.o,T?x.o=f.o:T=!!f.g,T?x.g=f.g:T=f.u!=null;var k=f.h;if(T)Mt(x,f.u);else if(T=!!f.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var Q=x.h.lastIndexOf("/");Q!=-1&&(k=x.h.slice(0,Q+1)+k)}if(Q=k,Q==".."||Q==".")k="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){k=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const se=[];for(let ye=0;ye<Q.length;){const Ge=Q[ye++];Ge=="."?k&&ye==Q.length&&se.push(""):Ge==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),k&&ye==Q.length&&se.push("")):(se.push(Ge),k=!0)}k=se.join("/")}else k=Q}return T?x.h=k:T=f.i.toString()!=="",T?Vi(x,Uh(f.i)):T=!!f.m,T&&(x.m=f.m),x};function We(f){return new dt(f)}function ut(f,x,T){f.j=T?Lr(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function Mt(f,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);f.u=x}else f.u=null}function Vi(f,x,T){x instanceof $s?(f.i=x,Zo(f.i,f.l)):(T||(x=eo(x,Gs)),f.i=new $s(x,f.l))}function yt(f,x,T){f.i.set(x,T)}function Za(f){return yt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Lr(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function eo(f,x,T){return typeof f=="string"?(f=encodeURI(f).replace(x,_i),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function _i(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Qo=/[#\/\?@]/g,Vh=/[#\?:]/g,Tc=/[#\?]/g,Gs=/[#\?@]/g,jh=/#/g;function $s(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function wi(f){f.g||(f.g=new Map,f.h=0,f.i&&Ht(f.i,function(x,T){f.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}t=$s.prototype,t.add=function(f,x){wi(this),this.i=null,f=Ks(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(x),this.h+=1,this};function Lh(f,x){wi(f),x=Ks(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function Ec(f,x){return wi(f),x=Ks(f,x),f.g.has(x)}t.forEach=function(f,x){wi(this),this.g.forEach(function(T,k){T.forEach(function(Q){f.call(x,Q,k,this)},this)},this)};function Sc(f,x){wi(f);let T=[];if(typeof x=="string")Ec(f,x)&&(T=T.concat(f.g.get(Ks(f,x))));else for(f=Array.from(f.g.values()),x=0;x<f.length;x++)T=T.concat(f[x]);return T}t.set=function(f,x){return wi(this),this.i=null,f=Ks(this,f),Ec(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},t.get=function(f,x){return f?(f=Sc(this,f),f.length>0?String(f[0]):x):x};function Jo(f,x,T){Lh(f,x),T.length>0&&(f.i=null,f.g.set(Ks(f,x),A(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(let k=0;k<x.length;k++){var T=x[k];const Q=gt(T);T=Sc(this,T);for(let se=0;se<T.length;se++){let ye=Q;T[se]!==""&&(ye+="="+gt(T[se])),f.push(ye)}}return this.i=f.join("&")};function Uh(f){const x=new $s;return x.i=f.i,f.g&&(x.g=new Map(f.g),x.h=f.h),x}function Ks(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function Zo(f,x){x&&!f.j&&(wi(f),f.i=null,f.g.forEach(function(T,k){const Q=k.toLowerCase();k!=Q&&(Lh(this,k),Jo(this,Q,T))},f)),f.j=x}function vr(f,x){const T=new rn;if(c.Image){const k=new Image;k.onload=g(Wi,T,"TestLoadImage: loaded",!0,x,k),k.onerror=g(Wi,T,"TestLoadImage: error",!1,x,k),k.onabort=g(Wi,T,"TestLoadImage: abort",!1,x,k),k.ontimeout=g(Wi,T,"TestLoadImage: timeout",!1,x,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=f}else x(!1)}function Ac(f,x){const T=new rn,k=new AbortController,Q=setTimeout(()=>{k.abort(),Wi(T,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:k.signal}).then(se=>{clearTimeout(Q),se.ok?Wi(T,"TestPingServer: ok",!0,x):Wi(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Q),Wi(T,"TestPingServer: error",!1,x)})}function Wi(f,x,T,k,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),k(T)}catch{}}function Ys(){this.g=new yi}function Ur(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Ur,Pt),Ur.prototype.g=function(){return new to(this.i,this.h)};function to(f,x){at.call(this),this.H=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(to,at),t=to.prototype,t.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=x,this.readyState=1,br(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(x.body=f),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,br(this)),this.g&&(this.readyState=3,br(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;el(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function el(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?Xs(this):br(this),this.readyState==3&&el(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Xs(this))},t.Na=function(f){this.g&&(this.response=f,Xs(this))},t.ga=function(){this.g&&Xs(this)};function Xs(f){f.readyState=4,f.l=null,f.j=null,f.B=null,br(f)}t.setRequestHeader=function(f,x){this.A.append(f,x)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=x.next();return f.join(`\r
`)};function br(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(to.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Qi(f){let x="";return W(f,function(T,k){x+=k,x+=":",x+=T,x+=`\r
`}),x}function no(f,x,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Qi(T),typeof f=="string"?T!=null&&gt(T):yt(f,x,T))}function Ct(f){at.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Ct,at);var zr=/^https?$/i,Cc=["POST","PUT"];t=Ct.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,x,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gn.g(),this.g.onreadystatechange=_(m(this.Ca,this));try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(se){io(this,se);return}if(f=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Q in k)T.set(Q,k[Q]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const se of k.keys())T.set(se,k.get(se));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(se=>se.toLowerCase()=="content-type"),Q=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Cc,x,void 0)>=0)||k||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ye]of T)this.g.setRequestHeader(se,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(se){io(this,se)}};function io(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.o=5,Rc(f),us(f)}function Rc(f){f.A||(f.A=!0,qe(f,"complete"),qe(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,qe(this,"complete"),qe(this,"abort"),us(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),us(this,!0)),Ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ro(this):this.Xa())},t.Xa=function(){ro(this)};function ro(f){if(f.h&&typeof l<"u"){if(f.v&&xr(f)==4)setTimeout(f.Ca.bind(f),0);else if(qe(f,"readystatechange"),xr(f)==4){f.h=!1;try{const se=f.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var k;if(k=se===0){let ye=String(f.D).match(Ut)[1]||null;!ye&&c.self&&c.self.location&&(ye=c.self.location.protocol.slice(0,-1)),k=!zr.test(ye?ye.toLowerCase():"")}T=k}if(T)qe(f,"complete"),qe(f,"success");else{f.o=6;try{var Q=xr(f)>2?f.g.statusText:""}catch{Q=""}f.l=Q+" ["+f.ca()+"]",Rc(f)}}finally{us(f)}}}}function us(f,x){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,x||qe(f,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function xr(f){return f.g?f.g.readyState:0}t.ca=function(){try{return xr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),ti(x)}};function $n(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function hs(f){const x={};f=(f.g&&xr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<f.length;k++){if(j(f[k]))continue;var T=Nn(f[k]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const se=x[Q]||[];x[Q]=se,se.push(T)}U(x,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(f,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||x}function Ws(f){this.za=0,this.i=[],this.j=new rn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Br("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Br("baseRetryDelayMs",5e3,f),this.Za=Br("retryDelaySeedMs",1e4,f),this.Ta=Br("forwardChannelMaxRetries",2,f),this.va=Br("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Mi(f&&f.concurrentRequestLimit),this.Ba=new Ys,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ws.prototype,t.ka=8,t.I=1,t.connect=function(f,x,T,k){He(0),this.W=f,this.H=x||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.J=$h(this,null,this.W),Fr(this)};function Ic(f){if(tl(f),f.I==3){var x=f.V++,T=We(f.J);if(yt(T,"SID",f.M),yt(T,"RID",x),yt(T,"TYPE","terminate"),so(f,T),x=new kt(f,f.j,x),x.M=2,x.A=Za(We(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=x.A,T=!0),T||(x.g=Kh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),bi(x)}Gh(f)}function Qs(f){f.g&&(Dc(f),f.g.cancel(),f.g=null)}function tl(f){Qs(f),f.v&&(c.clearTimeout(f.v),f.v=null),il(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function Fr(f){if(!Wo(f.h)&&!f.m){f.m=!0;var x=f.Ea;re||C(),ae||(re(),ae=!0),D.add(x,f),f.D=0}}function nl(f,x){return Oi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=x.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=jt(m(f.Ea,f,x),Hh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Q=new kt(this,this.j,f);let se=this.o;if(this.U&&(se?(se=E(se),Y(se,this.U)):se=this.U),this.u!==null||this.R||(Q.J=se,se=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(x+=k,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=zh(this,Q,x),T=We(this.J),yt(T,"RID",f),yt(T,"CVER",22),this.G&&yt(T,"X-HTTP-Session-Id",this.G),so(this,T),se&&(this.R?x="headers="+gt(Qi(se))+"&"+x:this.u&&no(T,this.u,se)),Ja(this.h,Q),this.Ra&&yt(T,"TYPE","init"),this.S?(yt(T,"$req",x),yt(T,"SID","null"),Q.U=!0,ki(Q,T,null)):ki(Q,T,x),this.I=2}}else this.I==3&&(f?Nc(this,f):this.i.length==0||Wo(this.h)||Nc(this))};function Nc(f,x){var T;x?T=x.l:T=f.V++;const k=We(f.J);yt(k,"SID",f.M),yt(k,"RID",T),yt(k,"AID",f.K),so(f,k),f.u&&f.o&&no(k,f.u,f.o),T=new kt(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),x&&(f.i=x.G.concat(f.i)),x=zh(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Ja(f.h,T),ki(T,k,x)}function so(f,x){f.H&&W(f.H,function(T,k){yt(x,k,T)}),f.l&&W({},function(T,k){yt(x,k,T)})}function zh(f,x,T){T=Math.min(f.i.length,T);const k=f.l?m(f.l.Ka,f.l,f):null;e:{var Q=f.i;let Ge=-1;for(;;){const un=["count="+T];Ge==-1?T>0?(Ge=Q[0].g,un.push("ofs="+Ge)):Ge=0:un.push("ofs="+Ge);let vt=!0;for(let Xt=0;Xt<T;Xt++){var se=Q[Xt].g;const Ji=Q[Xt].map;if(se-=Ge,se<0)Ge=Math.max(0,Q[Xt].g-100),vt=!1;else try{se="req"+se+"_"||"";try{var ye=Ji instanceof Map?Ji:Object.entries(Ji);for(const[Hr,_r]of ye){let wr=_r;h(_r)&&(wr=gn(_r)),un.push(se+Hr+"="+encodeURIComponent(wr))}}catch(Hr){throw un.push(se+"type="+encodeURIComponent("_badmap")),Hr}}catch{k&&k(Ji)}}if(vt){ye=un.join("&");break e}}ye=void 0}return f=f.i.splice(0,T),x.G=f,ye}function Bh(f){if(!f.g&&!f.v){f.Y=1;var x=f.Da;re||C(),ae||(re(),ae=!0),D.add(x,f),f.A=0}}function ao(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=jt(m(f.Da,f),Hh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Fh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=jt(m(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,He(10),Qs(this),Fh(this))};function Dc(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Fh(f){f.g=new kt(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var x=We(f.na);yt(x,"RID","rpc"),yt(x,"SID",f.M),yt(x,"AID",f.K),yt(x,"CI",f.F?"0":"1"),!f.F&&f.ia&&yt(x,"TO",f.ia),yt(x,"TYPE","xmlhttp"),so(f,x),f.u&&f.o&&no(x,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=Za(We(x)),T.u=null,T.R=!0,Hs(T,f)}t.Va=function(){this.C!=null&&(this.C=null,Qs(this),ao(this),He(19))};function il(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function qh(f,x){var T=null;if(f.g==x){il(f),Dc(f),f.g=null;var k=2}else if(Pi(f.h,x))T=x.G,J(f.h,x),k=1;else return;if(f.I!=0){if(x.o)if(k==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var Q=f.D;k=gr(),qe(k,new Vt(k,T)),Fr(f)}else Bh(f);else if(Q=x.m,Q==3||Q==0&&x.X>0||!(k==1&&nl(f,x)||k==2&&ao(f)))switch(T&&T.length>0&&(x=f.h,x.i=x.i.concat(T)),Q){case 1:qr(f,5);break;case 4:qr(f,10);break;case 3:qr(f,6);break;default:qr(f,2)}}}function Hh(f,x){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*x}function qr(f,x){if(f.j.info("Error code "+x),x==2){var T=m(f.bb,f),k=f.Ua;const Q=!k;k=new dt(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ut(k,"https"),Za(k),Q?vr(k.toString(),T):Ac(k.toString(),T)}else He(2);f.I=0,f.l&&f.l.pa(x),Gh(f),tl(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function Gh(f){if(f.I=0,f.ja=[],f.l){const x=Se(f.h);(x.length!=0||f.i.length!=0)&&(M(f.ja,x),M(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function $h(f,x,T){var k=T instanceof dt?We(T):new dt(T);if(k.g!="")x&&(k.g=x+"."+k.g),Mt(k,k.u);else{var Q=c.location;k=Q.protocol,x=x?x+"."+Q.hostname:Q.hostname,Q=+Q.port;const se=new dt(null);k&&ut(se,k),x&&(se.g=x),Q&&Mt(se,Q),T&&(se.h=T),k=se}return T=f.G,x=f.wa,T&&x&&yt(k,T,x),yt(k,"VER",f.ka),so(f,k),k}function Kh(f,x,T){if(x&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Aa&&!f.ma?new Ct(new Ur({ab:T})):new Ct(f.ma),x.Fa(f.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yh(){}t=Yh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Js(){}Js.prototype.g=function(f,x){return new hi(f,x)};function hi(f,x){at.call(this),this.g=new Ws(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(f?f["X-WebChannel-Client-Profile"]=x.sa:f={"X-WebChannel-Client-Profile":x.sa}),this.g.U=f,(f=x&&x.Qb)&&!j(f)&&(this.g.u=f),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!j(x)&&(this.g.G=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new ds(this)}v(hi,at),hi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hi.prototype.close=function(){Ic(this.g)},hi.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=gn(f),f=T);x.i.push(new sn(x.Ya++,f)),x.I==3&&Fr(x)},hi.prototype.N=function(){this.g.l=null,delete this.j,Ic(this.g),delete this.g,hi.Z.N.call(this)};function Xh(f){nn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const T in x){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}v(Xh,nn);function Wh(){jn.call(this),this.status=1}v(Wh,jn);function ds(f){this.g=f}v(ds,Yh),ds.prototype.ra=function(){qe(this.g,"a")},ds.prototype.qa=function(f){qe(this.g,new Xh(f))},ds.prototype.pa=function(f){qe(this.g,new Wh)},ds.prototype.oa=function(){qe(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,hi.prototype.send=hi.prototype.o,hi.prototype.open=hi.prototype.m,hi.prototype.close=hi.prototype.close,cC=function(){return new Js},lC=function(){return gr()},oC=Dt,sv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rn.NO_ERROR=0,Rn.TIMEOUT=8,Rn.HTTP_ERROR=6,wf=Rn,yn.COMPLETE="complete",aC=yn,Ki.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",at.prototype.listen=at.prototype.J,Tu=Ki,Ct.prototype.listenOnce=Ct.prototype.K,Ct.prototype.getLastError=Ct.prototype.Ha,Ct.prototype.getLastErrorCode=Ct.prototype.ya,Ct.prototype.getStatus=Ct.prototype.ca,Ct.prototype.getResponseJson=Ct.prototype.La,Ct.prototype.getResponseText=Ct.prototype.la,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Fa,sC=Ct}).apply(typeof nf<"u"?nf:typeof self<"u"?self:typeof window<"u"?window:{});let oi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};oi.UNAUTHENTICATED=new oi(null),oi.GOOGLE_CREDENTIALS=new oi("google-credentials-uid"),oi.FIRST_PARTY=new oi("first-party-uid"),oi.MOCK_USER=new oi("mock-user");let hc="12.8.0";function N4(t){hc=t}const zo=new a0("@firebase/firestore");function Vl(){return zo.logLevel}function we(t,...e){if(zo.logLevel<=nt.DEBUG){const n=e.map(b0);zo.debug(`Firestore (${hc}): ${t}`,...n)}}function zs(t,...e){if(zo.logLevel<=nt.ERROR){const n=e.map(b0);zo.error(`Firestore (${hc}): ${t}`,...n)}}function Bo(t,...e){if(zo.logLevel<=nt.WARN){const n=e.map(b0);zo.warn(`Firestore (${hc}): ${t}`,...n)}}function b0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ve(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,uC(t,r,n)}function uC(t,e,n){let r=`FIRESTORE (${hc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw zs(r),new Error(r)}function _t(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||uC(e,a,r)}function Fe(t,e){return t}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends os{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Os{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class hC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(oi.UNAUTHENTICATED)))}shutdown(){}}class D4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class k4{constructor(e){this.t=e,this.currentUser=oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_t(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let l=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Os,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Os)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string",31837,{l:r}),new hC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new oi(e)}}class M4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=oi.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class O4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new M4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(oi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_t(this.o===void 0,3512);const r=l=>{l.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,we("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function V4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Dm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=V4(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function it(t,e){return t<e?-1:t>e?1:0}function av(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),l=e.charAt(r);if(a!==l)return yy(a)===yy(l)?it(a,l):yy(a)?1:-1}return it(t.length,e.length)}const j4=55296,L4=57343;function yy(t){const e=t.charCodeAt(0);return e>=j4&&e<=L4}function Zl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}const tT="__name__";class Xr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=Xr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return it(e.length,n.length)}static compareSegments(e,n){const r=Xr.isNumericId(e),a=Xr.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Xr.extractNumericId(e).compare(Xr.extractNumericId(n)):av(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Oa.fromString(e.substring(4,e.length-2))}}class zt extends Xr{construct(e,n,r){return new zt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new zt(n)}static emptyPath(){return new zt([])}}const U4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Xr{construct(e,n,r){return new Fn(e,n,r)}static isValidIdentifier(e){return U4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tT}static keyField(){return new Fn([tT])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new ve(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ve(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ve(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(r+=h,a++):(l(),a++)}if(l(),c)throw new ve(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(n)}static emptyPath(){return new Fn([])}}class ke{constructor(e){this.path=e}static fromPath(e){return new ke(zt.fromString(e))}static fromName(e){return new ke(zt.fromString(e).popFirst(5))}static empty(){return new ke(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return zt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new zt(e.slice()))}}function fC(t,e,n){if(!n)throw new ve(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mC(t,e,n,r){if(e===!0&&r===!0)throw new ve(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nT(t){if(!ke.isDocumentKey(t))throw new ve(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iT(t){if(ke.isDocumentKey(t))throw new ve(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function km(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function pi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=km(t);throw new ve(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function An(t,e){const n={typeString:t};return e&&(n.value=e),n}function gh(t,e){if(!pC(t))throw new ve(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new ve(de.INVALID_ARGUMENT,n);return!0}const rT=-62135596800,sT=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*sT);return new Be(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rT)throw new ve(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sT}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gh(e,Be._jsonSchema))return new Be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:An("string",Be._jsonSchemaVersion),seconds:An("number"),nanoseconds:An("number")};class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Be(0,0))}static max(){return new Le(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $u=-1;function z4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Le.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new La(a,ke.empty(),e)}function B4(t){return new La(t.readTime,t.key,$u)}class La{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new La(Le.min(),ke.empty(),$u)}static max(){return new La(Le.max(),ke.empty(),$u)}}function F4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:it(t.largestBatchId,e.largestBatchId))}const q4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function dc(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==q4)throw t;we("LocalStore","Unexpectedly lost primary lease")}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,r)=>{n(e)}))}static reject(e){return new fe(((n,r)=>{r(e)}))}static waitFor(e){return new fe(((n,r)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(d=>r(d)))})),c=!0,l===a&&n()}))}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next((a=>a?fe.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(e,n){return new fe(((r,a)=>{const l=e.length,c=new Array(l);let h=0;for(let d=0;d<l;d++){const m=d;n(e[m]).next((g=>{c[m]=g,++h,h===l&&r(c)}),(g=>a(g)))}}))}static doWhile(e,n){return new fe(((r,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):r()};l()}))}}function G4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fc(t){return t.name==="IndexedDbTransactionError"}class Mm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mm.ce=-1;const x0=-1;function Om(t){return t==null}function Gf(t){return t===0&&1/t==-1/0}function $4(t){return typeof t=="number"&&Number.isInteger(t)&&!Gf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const gC="";function K4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aT(e)),e=Y4(t.get(n),e);return aT(e)}function Y4(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case gC:n+="";break;default:n+=l}}return n}function aT(t){return t+gC+""}function oT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ka(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class tn{constructor(e,n){this.comparator=e,this.root=n||Jn.EMPTY}insert(e,n){return new tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jn.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rf(this.root,e,this.comparator,!1)}getReverseIterator(){return new rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rf(this.root,e,this.comparator,!0)}}class rf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jn{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??Jn.RED,this.left=a??Jn.EMPTY,this.right=l??Jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new Jn(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Jn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}Jn.EMPTY=null,Jn.RED=!0,Jn.BLACK=!1;Jn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new Jn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pn{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lT(this.data.getIterator())}getIteratorFrom(e){return new lT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pn(this.comparator);return n.data=e,n}}class lT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gi{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new Gi([])}unionWith(e){let n=new Pn(Fn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class vC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new vC("Invalid base64 string: "+l):l}})(e);return new qn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new qn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const X4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ua(t){if(_t(!!t,39018),typeof t=="string"){let e=0;const n=X4.exec(t);if(_t(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fn(t.seconds),nanos:fn(t.nanos)}}function fn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function za(t){return typeof t=="string"?qn.fromBase64String(t):qn.fromUint8Array(t)}const bC="server_timestamp",xC="__type__",_C="__previous_value__",wC="__local_write_time__";function _0(t){return(t?.mapValue?.fields||{})[xC]?.stringValue===bC}function Pm(t){const e=t.mapValue.fields[_C];return _0(e)?Pm(e):e}function Ku(t){const e=Ua(t.mapValue.fields[wC].timestampValue);return new Be(e.seconds,e.nanos)}class W4{constructor(e,n,r,a,l,c,h,d,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=g,this.apiKey=v}}const $f="(default)";class ec{constructor(e,n){this.projectId=e,this.database=n||$f}static empty(){return new ec("","")}get isDefaultDatabase(){return this.database===$f}isEqual(e){return e instanceof ec&&e.projectId===this.projectId&&e.database===this.database}}function Q4(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ve(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ec(t.options.projectId,e)}const TC="__type__",J4="__max__",sf={mapValue:{}},EC="__vector__",Kf="value";function Ba(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_0(t)?4:e5(t)?9007199254740991:Z4(t)?10:11:Ve(28295,{value:t})}function is(t,e){if(t===e)return!0;const n=Ba(t);if(n!==Ba(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ku(t).isEqual(Ku(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ua(a.timestampValue),h=Ua(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return za(a.bytesValue).isEqual(za(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return fn(a.geoPointValue.latitude)===fn(l.geoPointValue.latitude)&&fn(a.geoPointValue.longitude)===fn(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return fn(a.integerValue)===fn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=fn(a.doubleValue),h=fn(l.doubleValue);return c===h?Gf(c)===Gf(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return Zl(t.arrayValue.values||[],e.arrayValue.values||[],is);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(oT(c)!==oT(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!is(c[d],h[d])))return!1;return!0})(t,e);default:return Ve(52216,{left:t})}}function Yu(t,e){return(t.values||[]).find((n=>is(n,e)))!==void 0}function tc(t,e){if(t===e)return 0;const n=Ba(t),r=Ba(e);if(n!==r)return it(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=fn(l.integerValue||l.doubleValue),d=fn(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return cT(t.timestampValue,e.timestampValue);case 4:return cT(Ku(t),Ku(e));case 5:return av(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=za(l),d=za(c);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),d=c.split("/");for(let m=0;m<h.length&&m<d.length;m++){const g=it(h[m],d[m]);if(g!==0)return g}return it(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=it(fn(l.latitude),fn(c.latitude));return h!==0?h:it(fn(l.longitude),fn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return uT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},d=c.fields||{},m=h[Kf]?.arrayValue,g=d[Kf]?.arrayValue,v=it(m?.values?.length||0,g?.values?.length||0);return v!==0?v:uT(m,g)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===sf.mapValue&&c===sf.mapValue)return 0;if(l===sf.mapValue)return 1;if(c===sf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),m=c.fields||{},g=Object.keys(m);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const _=av(d[v],g[v]);if(_!==0)return _;const A=tc(h[d[v]],m[g[v]]);if(A!==0)return A}return it(d.length,g.length)})(t.mapValue,e.mapValue);default:throw Ve(23264,{he:n})}}function cT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const n=Ua(t),r=Ua(e),a=it(n.seconds,r.seconds);return a!==0?a:it(n.nanos,r.nanos)}function uT(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=tc(n[a],r[a]);if(l)return l}return it(n.length,r.length)}function nc(t){return ov(t)}function ov(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ua(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return za(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=ov(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${ov(n.fields[c])}`;return a+"}"})(t.mapValue):Ve(61005,{value:t})}function Tf(t){switch(Ba(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pm(t);return e?16+Tf(e):16;case 5:return 2*t.stringValue.length;case 6:return za(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+Tf(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return Ka(r.fields,((l,c)=>{a+=l.length+Tf(c)})),a})(t.mapValue);default:throw Ve(13486,{value:t})}}function hT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lv(t){return!!t&&"integerValue"in t}function w0(t){return!!t&&"arrayValue"in t}function dT(t){return!!t&&"nullValue"in t}function fT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ef(t){return!!t&&"mapValue"in t}function Z4(t){return(t?.mapValue?.fields||{})[TC]?.stringValue===EC}function Nu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ka(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Nu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nu(t.arrayValue.values[n]);return e}return{...t}}function e5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===J4}class Ii{constructor(e){this.value=e}static empty(){return new Ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ef(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nu(n)}setAll(e){let n=Fn.emptyPath(),r={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}c?r[h.lastSegment()]=Nu(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());Ef(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return is(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Ef(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Ka(n,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Ii(Nu(this.value))}}function SC(t){const e=[];return Ka(t.fields,((n,r)=>{const a=new Fn([n]);if(Ef(r)){const l=SC(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Gi(e)}class li{constructor(e,n,r,a,l,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new li(e,0,Le.min(),Le.min(),Le.min(),Ii.empty(),0)}static newFoundDocument(e,n,r,a){return new li(e,1,n,Le.min(),r,a,0)}static newNoDocument(e,n){return new li(e,2,n,Le.min(),Le.min(),Ii.empty(),0)}static newUnknownDocument(e,n){return new li(e,3,n,Le.min(),Le.min(),Ii.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof li&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new li(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yf{constructor(e,n){this.position=e,this.inclusive=n}}function mT(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?r=ke.comparator(ke.fromName(c.referenceValue),n.key):r=tc(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function pT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!is(t.position[n],e.position[n]))return!1;return!0}class Xf{constructor(e,n="asc"){this.field=e,this.dir=n}}function t5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class AC{}class Sn extends AC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new i5(e,n,r):n==="array-contains"?new a5(e,r):n==="in"?new o5(e,r):n==="not-in"?new l5(e,r):n==="array-contains-any"?new c5(e,r):new Sn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new r5(e,r):new s5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tc(n,this.value)):n!==null&&Ba(this.value)===Ba(n)&&this.matchesComparison(tc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mr extends AC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Mr(e,n)}matches(e){return CC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CC(t){return t.op==="and"}function RC(t){return n5(t)&&CC(t)}function n5(t){for(const e of t.filters)if(e instanceof Mr)return!1;return!0}function cv(t){if(t instanceof Sn)return t.field.canonicalString()+t.op.toString()+nc(t.value);if(RC(t))return t.filters.map((e=>cv(e))).join(",");{const e=t.filters.map((n=>cv(n))).join(",");return`${t.op}(${e})`}}function IC(t,e){return t instanceof Sn?(function(r,a){return a instanceof Sn&&r.op===a.op&&r.field.isEqual(a.field)&&is(r.value,a.value)})(t,e):t instanceof Mr?(function(r,a){return a instanceof Mr&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,h)=>l&&IC(c,a.filters[h])),!0):!1})(t,e):void Ve(19439)}function NC(t){return t instanceof Sn?(function(n){return`${n.field.canonicalString()} ${n.op} ${nc(n.value)}`})(t):t instanceof Mr?(function(n){return n.op.toString()+" {"+n.getFilters().map(NC).join(" ,")+"}"})(t):"Filter"}class i5 extends Sn{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class r5 extends Sn{constructor(e,n){super(e,"in",n),this.keys=DC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class s5 extends Sn{constructor(e,n){super(e,"not-in",n),this.keys=DC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function DC(t,e){return(e.arrayValue?.values||[]).map((n=>ke.fromName(n.referenceValue)))}class a5 extends Sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return w0(n)&&Yu(n.arrayValue,this.value)}}class o5 extends Sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yu(this.value.arrayValue,n)}}class l5 extends Sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yu(this.value.arrayValue,n)}}class c5 extends Sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!w0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Yu(this.value.arrayValue,r)))}}class u5{constructor(e,n=null,r=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function gT(t,e=null,n=[],r=[],a=null,l=null,c=null){return new u5(t,e,n,r,a,l,c)}function T0(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>cv(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Om(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>nc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>nc(r))).join(",")),e.Te=n}return e.Te}function E0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!t5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pT(t.startAt,e.startAt)&&pT(t.endAt,e.endAt)}function uv(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class yh{constructor(e,n=null,r=[],a=[],l=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function h5(t,e,n,r,a,l,c,h){return new yh(t,e,n,r,a,l,c,h)}function Vm(t){return new yh(t)}function yT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function d5(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function kC(t){return t.collectionGroup!==null}function Du(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Pn(Fn.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Xf(l,r))})),n.has(Fn.keyField().canonicalString())||e.Ie.push(new Xf(Fn.keyField(),r))}return e.Ie}function Zr(t){const e=Fe(t);return e.Ee||(e.Ee=f5(e,Du(t))),e.Ee}function f5(t,e){if(t.limitType==="F")return gT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Xf(a.field,l)}));const n=t.endAt?new Yf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yf(t.startAt.position,t.startAt.inclusive):null;return gT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hv(t,e){const n=t.filters.concat([e]);return new yh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dv(t,e,n){return new yh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jm(t,e){return E0(Zr(t),Zr(e))&&t.limitType===e.limitType}function MC(t){return`${T0(Zr(t))}|lt:${t.limitType}`}function jl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>NC(a))).join(", ")}]`),Om(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>nc(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>nc(a))).join(",")),`Target(${r})`})(Zr(t))}; limitType=${t.limitType})`}function Lm(t,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ke.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,a){for(const l of Du(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,h,d){const m=mT(c,h,d);return c.inclusive?m<=0:m<0})(r.startAt,Du(r),a)||r.endAt&&!(function(c,h,d){const m=mT(c,h,d);return c.inclusive?m>=0:m>0})(r.endAt,Du(r),a))})(t,e)}function m5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OC(t){return(e,n)=>{let r=!1;for(const a of Du(t)){const l=p5(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function p5(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):(function(l,c,h){const d=c.data.field(l),m=h.data.field(l);return d!==null&&m!==null?tc(d,m):Ve(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve(19790,{direction:t.dir})}}class Go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ka(this.inner,((n,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return yC(this.inner)}size(){return this.innerSize}}const g5=new tn(ke.comparator);function Bs(){return g5}const PC=new tn(ke.comparator);function Eu(...t){let e=PC;for(const n of t)e=e.insert(n.key,n);return e}function VC(t){let e=PC;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Do(){return ku()}function jC(){return ku()}function ku(){return new Go((t=>t.toString()),((t,e)=>t.isEqual(e)))}const y5=new tn(ke.comparator),v5=new Pn(ke.comparator);function rt(...t){let e=v5;for(const n of t)e=e.add(n);return e}const b5=new Pn(it);function x5(){return b5}function S0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gf(e)?"-0":e}}function LC(t){return{integerValue:""+t}}function _5(t,e){return $4(e)?LC(e):S0(t,e)}class Um{constructor(){this._=void 0}}function w5(t,e,n){return t instanceof Wf?(function(a,l){const c={fields:{[xC]:{stringValue:bC},[wC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&_0(l)&&(l=Pm(l)),l&&(c.fields[_C]=l),{mapValue:c}})(n,e):t instanceof Xu?zC(t,e):t instanceof Wu?BC(t,e):(function(a,l){const c=UC(a,l),h=vT(c)+vT(a.Ae);return lv(c)&&lv(a.Ae)?LC(h):S0(a.serializer,h)})(t,e)}function T5(t,e,n){return t instanceof Xu?zC(t,e):t instanceof Wu?BC(t,e):n}function UC(t,e){return t instanceof Qf?(function(r){return lv(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Wf extends Um{}class Xu extends Um{constructor(e){super(),this.elements=e}}function zC(t,e){const n=FC(e);for(const r of t.elements)n.some((a=>is(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Wu extends Um{constructor(e){super(),this.elements=e}}function BC(t,e){let n=FC(e);for(const r of t.elements)n=n.filter((a=>!is(a,r)));return{arrayValue:{values:n}}}class Qf extends Um{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function vT(t){return fn(t.integerValue||t.doubleValue)}function FC(t){return w0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function E5(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Xu&&a instanceof Xu||r instanceof Wu&&a instanceof Wu?Zl(r.elements,a.elements,is):r instanceof Qf&&a instanceof Qf?is(r.Ae,a.Ae):r instanceof Wf&&a instanceof Wf})(t.transform,e.transform)}class S5{constructor(e,n){this.version=e,this.transformResults=n}}class dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zm{}function qC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new A0(t.key,dr.none()):new vh(t.key,t.data,dr.none());{const n=t.data,r=Ii.empty();let a=new Pn(Fn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Ya(t.key,r,new Gi(a.toArray()),dr.none())}}function A5(t,e,n){t instanceof vh?(function(a,l,c){const h=a.value.clone(),d=xT(a.fieldTransforms,l,c.transformResults);h.setAll(d),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Ya?(function(a,l,c){if(!Sf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=xT(a.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(HC(a)),d.setAll(h),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Mu(t,e,n,r){return t instanceof vh?(function(l,c,h,d){if(!Sf(l.precondition,c))return h;const m=l.value.clone(),g=_T(l.fieldTransforms,d,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ya?(function(l,c,h,d){if(!Sf(l.precondition,c))return h;const m=_T(l.fieldTransforms,d,c),g=c.data;return g.setAll(HC(l)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(l,c,h){return Sf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function C5(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=UC(r.transform,a||null);l!=null&&(n===null&&(n=Ii.empty()),n.set(r.field,l))}return n||null}function bT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Zl(r,a,((l,c)=>E5(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vh extends zm{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ya extends zm{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function HC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function xT(t,e,n){const r=new Map;_t(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);r.set(l.field,T5(c,h,n[a]))}return r}function _T(t,e,n){const r=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);r.set(a.field,w5(l,c,e))}return r}class A0 extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R5 extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class I5{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&A5(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jC();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const d=qC(c,h);d!==null&&r.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(Le.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),rt())}isEqual(e){return this.batchId===e.batchId&&Zl(this.mutations,e.mutations,((n,r)=>bT(n,r)))&&Zl(this.baseMutations,e.baseMutations,((n,r)=>bT(n,r)))}}class C0{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){_t(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return y5})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new C0(e,n,r,a)}}class N5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class D5{constructor(e,n){this.count=e,this.unchangedNames=n}}var Tn,ct;function k5(t){switch(t){case de.OK:return Ve(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function GC(t){if(t===void 0)return zs("GRPC error has no .code"),de.UNKNOWN;switch(t){case Tn.OK:return de.OK;case Tn.CANCELLED:return de.CANCELLED;case Tn.UNKNOWN:return de.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return de.INTERNAL;case Tn.UNAVAILABLE:return de.UNAVAILABLE;case Tn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Tn.NOT_FOUND:return de.NOT_FOUND;case Tn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Tn.ABORTED:return de.ABORTED;case Tn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Tn.DATA_LOSS:return de.DATA_LOSS;default:return Ve(39323,{code:t})}}(ct=Tn||(Tn={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";function M5(){return new TextEncoder}const O5=new Oa([4294967295,4294967295],0);function wT(t){const e=M5().encode(t),n=new rC;return n.update(e),new Uint8Array(n.digest())}function TT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Oa([n,r],0),new Oa([a,l],0)]}class R0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Su(`Invalid padding: ${n}`);if(r<0)throw new Su(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Su(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Su(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Oa.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Oa.fromNumber(r)));return a.compare(O5)===1&&(a=new Oa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=wT(e),[r,a]=TT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new R0(l,a,n);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=wT(e),[r,a]=TT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bm{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,bh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bm(Le.min(),a,new tn(it),Bs(),rt())}}class bh{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bh(r,n,rt(),rt(),rt())}}class Af{constructor(e,n,r,a){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=a}}class $C{constructor(e,n){this.targetId=e,this.Ce=n}}class KC{constructor(e,n,r=qn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class ET{constructor(){this.ve=0,this.Fe=ST(),this.Me=qn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rt(),n=rt(),r=rt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ve(38017,{changeType:l})}})),new bh(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=ST()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class P5{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bs(),this.He=af(),this.Je=af(),this.Ze=new tn(it)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(uv(l))if(r===0){const c=new ke(l.path);this.et(n,c,li.newNoDocument(c,Le.min()))}else _t(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=za(r).toUint8Array()}catch(d){if(d instanceof vC)return Bo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new R0(c,a,l)}catch(d){return Bo(d instanceof Su?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&uv(h.target)){const d=new ke(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,li.newNoDocument(d,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let r=rt();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Bm(e,n,this.Ze,this.je,r);return this.je=Bs(),this.He=af(),this.Je=af(),this.Ze=new tn(it),a}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new ET,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Pn(it),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Pn(it),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ET),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function af(){return new tn(ke.comparator)}function ST(){return new tn(ke.comparator)}const V5={asc:"ASCENDING",desc:"DESCENDING"},j5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L5={and:"AND",or:"OR"};class U5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fv(t,e){return t.useProto3Json||Om(e)?e:{value:e}}function Jf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function z5(t,e){return Jf(t,e.toTimestamp())}function es(t){return _t(!!t,49232),Le.fromTimestamp((function(n){const r=Ua(n);return new Be(r.seconds,r.nanos)})(t))}function I0(t,e){return mv(t,e).canonicalString()}function mv(t,e){const n=(function(a){return new zt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function XC(t){const e=zt.fromString(t);return _t(eR(e),10190,{key:e.toString()}),e}function pv(t,e){return I0(t.databaseId,e.path)}function vy(t,e){const n=XC(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(QC(n))}function WC(t,e){return I0(t.databaseId,e)}function B5(t){const e=XC(t);return e.length===4?zt.emptyPath():QC(e)}function gv(t){return new zt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QC(t){return _t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function AT(t,e,n){return{name:pv(t,e),fields:n.value.mapValue.fields}}function F5(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ve(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,g){return m.useProto3Json?(_t(g===void 0||typeof g=="string",58123),qn.fromBase64String(g||"")):(_t(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),qn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const g=m.code===void 0?de.UNKNOWN:GC(m.code);return new ve(g,m.message||"")})(c);n=new KC(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=vy(t,r.document.name),l=es(r.document.updateTime),c=r.document.createTime?es(r.document.createTime):Le.min(),h=new Ii({mapValue:{fields:r.document.fields}}),d=li.newFoundDocument(a,l,c,h),m=r.targetIds||[],g=r.removedTargetIds||[];n=new Af(m,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=vy(t,r.document),l=r.readTime?es(r.readTime):Le.min(),c=li.newNoDocument(a,l),h=r.removedTargetIds||[];n=new Af([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=vy(t,r.document),l=r.removedTargetIds||[];n=new Af([],l,a,null)}else{if(!("filter"in e))return Ve(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new D5(a,l),h=r.targetId;n=new $C(h,c)}}return n}function q5(t,e){let n;if(e instanceof vh)n={update:AT(t,e.key,e.value)};else if(e instanceof A0)n={delete:pv(t,e.key)};else if(e instanceof Ya)n={update:AT(t,e.key,e.data),updateMask:J5(e.fieldMask)};else{if(!(e instanceof R5))return Ve(16599,{dt:e.type});n={verify:pv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const h=c.transform;if(h instanceof Wf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Qf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Ve(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:z5(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ve(27497)})(t,e.precondition)),n}function H5(t,e){return t&&t.length>0?(_t(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?es(a.updateTime):es(l);return c.isEqual(Le.min())&&(c=es(l)),new S5(c,a.transformResults||[])})(n,e)))):[]}function G5(t,e){return{documents:[WC(t,e.path)]}}function $5(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=WC(t,a);const l=(function(m){if(m.length!==0)return ZC(Mr.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((g=>(function(_){return{field:Ll(_.field),direction:X5(_.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=fv(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function K5(t){let e=B5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){_t(r===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(v){const _=JC(v);return _ instanceof Mr&&RC(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((_=>(function(M){return new Xf(Ul(M.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(_)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let _;return _=typeof v=="object"?v.value:v,Om(_)?null:_})(n.limit));let d=null;n.startAt&&(d=(function(v){const _=!!v.before,A=v.values||[];return new Yf(A,_)})(n.startAt));let m=null;return n.endAt&&(m=(function(v){const _=!v.before,A=v.values||[];return new Yf(A,_)})(n.endAt)),h5(e,a,c,l,h,"F",d,m)}function Y5(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ul(n.unaryFilter.field);return Sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Ul(n.unaryFilter.field);return Sn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ul(n.unaryFilter.field);return Sn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ul(n.unaryFilter.field);return Sn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Sn.create(Ul(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Mr.create(n.compositeFilter.filters.map((r=>JC(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(n.compositeFilter.op))})(t):Ve(30097,{filter:t})}function X5(t){return V5[t]}function W5(t){return j5[t]}function Q5(t){return L5[t]}function Ll(t){return{fieldPath:t.canonicalString()}}function Ul(t){return Fn.fromServerFormat(t.fieldPath)}function ZC(t){return t instanceof Sn?(function(n){if(n.op==="=="){if(fT(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NAN"}};if(dT(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fT(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NAN"}};if(dT(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ll(n.field),op:W5(n.op),value:n.value}}})(t):t instanceof Mr?(function(n){const r=n.getFilters().map((a=>ZC(a)));return r.length===1?r[0]:{compositeFilter:{op:Q5(n.op),filters:r}}})(t):Ve(54877,{filter:t})}function J5(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function eR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function tR(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Ia{constructor(e,n,r,a,l=Le.min(),c=Le.min(),h=qn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Z5{constructor(e){this.yt=e}}function ej(t){const e=K5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dv(e,e.limit,"L"):e}class tj{constructor(){this.Sn=new nj}addToCollectionParentIndex(e,n){return this.Sn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(La.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(La.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class nj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Pn(zt.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Pn(zt.comparator)).toArray()}}const CT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nR=41943040;class Ri{static withCacheSize(e){return new Ri(e,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Ri.DEFAULT_COLLECTION_PERCENTILE=10,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ri.DEFAULT=new Ri(nR,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ri.DISABLED=new Ri(-1,0,0);class ic{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ic(0)}static ar(){return new ic(-1)}}const RT="LruGarbageCollector",ij=1048576;function IT([t,e],[n,r]){const a=it(t,n);return a===0?it(e,r):a}class rj{constructor(e){this.Pr=e,this.buffer=new Pn(IT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();IT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){we(RT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fc(n)?we(RT,"Ignoring IndexedDB error during garbage collection: ",n):await dc(n)}await this.Ar(3e5)}))}}class aj{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(Mm.ce);const r=new rj(n);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(CT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,a,l,c,h,d,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(r=v,h=Date.now(),this.removeTargets(e,r,n)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(m=Date.now(),Vl()<=nt.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(m-d)+`ms
Total Duration: ${m-g}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function oj(t,e){return new aj(t,e)}class lj{constructor(){this.changes=new Go((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,li.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class uj{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Mu(r.mutation,a,Gi.empty(),Be.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,rt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=rt()){const a=Do();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((l=>{let c=Eu();return l.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Do();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,rt())))}populateOverlays(e,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,r,a){let l=Bs();const c=ku(),h=(function(){return ku()})();return n.forEach(((d,m)=>{const g=r.get(m.key);a.has(m.key)&&(g===void 0||g.mutation instanceof Ya)?l=l.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),Mu(g.mutation,m,g.mutation.getFieldMask(),Be.now())):c.set(m.key,Gi.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((m,g)=>c.set(m,g))),n.forEach(((m,g)=>h.set(m,new cj(g,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=ku();let a=new tn(((c,h)=>c-h)),l=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let g=r.get(d)||Gi.empty();g=h.applyToLocalView(m,g),r.set(d,g);const v=(a.get(h.batchId)||rt()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,g=d.value,v=jC();g.forEach((_=>{if(!l.has(_)){const A=qC(n.get(_),r.get(_));A!==null&&v.set(_,A),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,v))}return fe.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return d5(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):fe.resolve(Do());let h=$u,d=l;return c.next((m=>fe.forEach(m,((g,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(g)?fe.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{d=d.insert(g,_)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,d,m,rt()))).next((g=>({batchId:h,changes:VC(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((r=>{let a=Eu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let c=Eu();return this.indexManager.getCollectionParents(e,l).next((h=>fe.forEach(h,(d=>{const m=(function(v,_){return new yh(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next((g=>{g.forEach(((v,_)=>{c=c.insert(v,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a)))).next((c=>{l.forEach(((d,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,li.newInvalidDocument(g)))}));let h=Eu();return c.forEach(((d,m)=>{const g=l.get(d);g!==void 0&&Mu(g.mutation,m,Gi.empty(),Be.now()),Lm(n,m)&&(h=h.insert(d,m))})),h}))}}class hj{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return fe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:es(a.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:ej(a.bundledQuery),readTime:es(a.readTime)}})(n)),fe.resolve()}}class dj{constructor(){this.overlays=new tn(ke.comparator),this.Lr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Do();return fe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,l)=>{this.bt(e,n,l)})),fe.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const a=Do(),l=n.length+1,c=new ke(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>r&&a.set(d.getKey(),d)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new tn(((m,g)=>m-g));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let g=l.get(m.largestBatchId);g===null&&(g=Do(),l=l.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const h=Do(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,g)=>h.set(m,g))),!(h.size()>=a)););return fe.resolve(h)}bt(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new N5(n,r));let l=this.Lr.get(n);l===void 0&&(l=rt(),this.Lr.set(n,l)),this.Lr.set(n,l.add(r.key))}}class fj{constructor(){this.sessionToken=qn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}class N0{constructor(){this.kr=new Pn(zn.Kr),this.qr=new Pn(zn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new zn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new zn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ke(new zt([])),r=new zn(n,e),a=new zn(n,e+1),l=[];return this.qr.forEachInRange([r,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ke(new zt([])),r=new zn(n,e),a=new zn(n,e+1);let l=rt();return this.qr.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new zn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ke.comparator(e.key,n.key)||it(e.Hr,n.Hr)}static Ur(e,n){return it(e.Hr,n.Hr)||ke.comparator(e.key,n.key)}}class mj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Pn(zn.Kr)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new I5(l,n,r,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new zn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,n){return fe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.Xr(r),l=a<0?0:a;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?x0:this.Yn-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zn(n,0),a=new zn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pn(it);return n.forEach((a=>{const l=new zn(a,0),c=new zn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{r=r.add(h.Hr)}))})),fe.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;ke.isDocumentKey(l)||(l=l.child(""));const c=new zn(new ke(l),0);let h=new Pn(it);return this.Jr.forEachWhile((d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Hr)),!0)}),c),fe.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){_t(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return fe.forEach(n.mutations,(a=>{const l=new zn(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new zn(n,0),a=this.Jr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class pj{constructor(e){this.ti=e,this.docs=(function(){return new tn(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():li.newInvalidDocument(n))}getEntries(e,n){let r=Bs();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():li.newInvalidDocument(a))})),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=Bs();const c=n.path,h=new ke(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:g}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||F4(B4(g),r)<=0||(a.has(g.key)||Lm(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,n,r,a){Ve(9500)}ni(e,n){return fe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new gj(this)}getSize(e){return fe.resolve(this.size)}}class gj extends lj{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),fe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class yj{constructor(e){this.persistence=e,this.ri=new Go((n=>T0(n)),E0),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.ii=0,this.si=new N0,this.targetCount=0,this.oi=ic._r()}forEachTarget(e,n){return this.ri.forEach(((r,a)=>n(a))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),fe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ic(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.lr(n),fe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),fe.waitFor(l).next((()=>a))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),fe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this.si.containsKey(n))}}class iR{constructor(e,n){this._i={},this.overlays={},this.ai=new Mm(0),this.ui=!1,this.ui=!0,this.ci=new fj,this.referenceDelegate=e(this),this.li=new yj(this),this.indexManager=new tj,this.remoteDocumentCache=(function(a){return new pj(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new Z5(n),this.Pi=new hj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new mj(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const a=new vj(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return fe.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class vj extends H4{constructor(e){super(),this.currentSequenceNumber=e}}class D0{constructor(e){this.persistence=e,this.Ri=new N0,this.Ai=null}static Vi(e){return new D0(e)}get di(){if(this.Ai)return this.Ai;throw Ve(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.di,(r=>{const a=ke.fromPath(r);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Le.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Zf{constructor(e,n){this.persistence=e,this.fi=new Go((r=>K4(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=oj(this,n)}static Vi(e,n){return new Zf(e,n)}Ti(){}Ii(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return fe.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((l=>l?fe.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((h=>{h||(r++,l.removeEntry(c,Le.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),fe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Tf(e.data.value)),n}wr(e,n,r){return fe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return fe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class k0{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=a}static Es(e,n){let r=rt(),a=rt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new k0(e,n.fromCache,r,a)}}class bj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return cO()?8:G4(ui())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new bj;return this.ys(e,n,c).next((h=>{if(l.result=h,this.As)return this.ws(e,n,c,h.size)}))})).next((()=>l.result))}ws(e,n,r,a){return r.documentReadCount<this.Vs?(Vl()<=nt.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",jl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),fe.resolve()):(Vl()<=nt.DEBUG&&we("QueryEngine","Query:",jl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Vl()<=nt.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",jl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(n))):fe.resolve())}gs(e,n){if(yT(n))return fe.resolve(null);let r=Zr(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=dv(n,null,"F"),r=Zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=rt(...l);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const m=this.bs(n,h);return this.Ss(n,m,c,d.readTime)?this.gs(e,dv(n,null,"F")):this.Ds(e,m,n,d)}))))})))))}ps(e,n,r,a){return yT(n)||a.isEqual(Le.min())?fe.resolve(null):this.fs.getDocuments(e,r).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,r,a)?fe.resolve(null):(Vl()<=nt.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),jl(n)),this.Ds(e,c,n,z4(a,$u)).next((h=>h)))}))}bs(e,n){let r=new Pn(OC(e));return n.forEach(((a,l)=>{Lm(e,l)&&(r=r.add(l))})),r}Ss(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,r){return Vl()<=nt.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",jl(n)),this.fs.getDocumentsMatchingQuery(e,n,La.min(),r)}Ds(e,n,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const M0="LocalStore",_j=3e8;class wj{constructor(e,n,r,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new tn(it),this.Fs=new Go((l=>T0(l)),E0),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uj(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Tj(t,e,n,r){return new wj(t,e,n,r)}async function rR(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],h=[];let d=rt();for(const m of a){c.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}for(const m of l){h.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function Ej(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,g){const v=m.batch,_=v.keys();let A=fe.resolve();return _.forEach((M=>{A=A.next((()=>g.getEntry(d,M))).next((O=>{const I=m.docVersions.get(M);_t(I!==null,48541),O.version.compareTo(I)<0&&(v.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),g.addEntry(O)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=rt();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function sR(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function Sj(t,e){const n=Fe(t),r=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((g,v)=>{const _=a.get(v);if(!_)return;h.push(n.li.removeMatchingKeys(l,g.removedDocuments,v).next((()=>n.li.addMatchingKeys(l,g.addedDocuments,v))));let A=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken(qn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,r)),a=a.insert(v,A),(function(O,I,z){return O.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=_j?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(_,A,g)&&h.push(n.li.updateTargetData(l,A))}));let d=Bs(),m=rt();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),h.push(Aj(l,c,e.documentUpdates).next((g=>{d=g.Bs,m=g.Ls}))),!r.isEqual(Le.min())){const g=n.li.getLastRemoteSnapshotVersion(l).next((v=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(g)}return fe.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,m))).next((()=>d))})).then((l=>(n.vs=a,l)))}function Aj(t,e,n){let r=rt(),a=rt();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let c=Bs();return n.forEach(((h,d)=>{const m=l.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Le.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):we(M0,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{Bs:c,Ls:a}}))}function Cj(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=x0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Rj(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.li.getTargetData(r,e).next((l=>l?(a=l,fe.resolve(a)):n.li.allocateTargetId(r).next((c=>(a=new Ia(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function yv(t,e,n){const r=Fe(t),a=r.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!fc(c))throw c;we(M0,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function NT(t,e,n){const r=Fe(t);let a=Le.min(),l=rt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,m,g){const v=Fe(d),_=v.Fs.get(g);return _!==void 0?fe.resolve(v.vs.get(_)):v.li.getTargetData(m,g)})(r,c,Zr(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,h.targetId).next((d=>{l=d}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,n?a:Le.min(),n?l:rt()))).next((h=>(Ij(r,m5(e),h),{documents:h,ks:l})))))}function Ij(t,e,n){let r=t.Ms.get(e)||Le.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.Ms.set(e,r)}class DT{constructor(){this.activeTargetIds=x5()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nj{constructor(){this.vo=new DT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new DT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Dj{Mo(e){}shutdown(){}}const kT="ConnectivityMonitor";class MT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){we(kT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){we(kT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let of=null;function vv(){return of===null?of=(function(){return 268435456+Math.round(2147483648*Math.random())})():of++,"0x"+of.toString(16)}const by="RestConnection",kj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Mj{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===$f?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,n,r,a,l){const c=vv(),h=this.Qo(e,n.toUriEncodedString());we(by,`Sending RPC '${e}' ${c}:`,h,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,l);const{host:m}=new URL(h),g=qo(m);return this.zo(e,h,d,r,g).then((v=>(we(by,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw Bo(by,`RPC '${e}' ${c} failed with error: `,v,"url: ",h,"request:",r),v}))}jo(e,n,r,a,l,c){return this.Wo(e,n,r,a,l)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const r=kj[e];let a=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class Oj{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const si="WebChannelConnection",yu=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Yl extends Mj{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Yl.c_){const e=lC();yu(e,oC.STAT_EVENT,(n=>{n.stat===sv.PROXY?we(si,"STAT_EVENT: detected buffering proxy"):n.stat===sv.NOPROXY&&we(si,"STAT_EVENT: detected no buffering proxy")})),Yl.c_=!0}}zo(e,n,r,a,l){const c=vv();return new Promise(((h,d)=>{const m=new sC;m.setWithCredentials(!0),m.listenOnce(aC.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case wf.NO_ERROR:const v=m.getResponseJson();we(si,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),h(v);break;case wf.TIMEOUT:we(si,`RPC '${e}' ${c} timed out`),d(new ve(de.DEADLINE_EXCEEDED,"Request time out"));break;case wf.HTTP_ERROR:const _=m.getStatus();if(we(si,`RPC '${e}' ${c} failed with status:`,_,"response text:",m.getResponseText()),_>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const M=A?.error;if(M&&M.status&&M.message){const O=(function(z){const $=z.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf($)>=0?$:de.UNKNOWN})(M.status);d(new ve(O,M.message))}else d(new ve(de.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ve(de.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{we(si,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);we(si,`RPC '${e}' ${c} sending request:`,a),m.send(n,"POST",g,r,15)}))}T_(e,n,r){const a=vv(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=l.join("");we(si,`Creating RPC '${e}' stream ${a}: ${m}`,h);const g=c.createWebChannel(m,h);this.I_(g);let v=!1,_=!1;const A=new Oj({Ho:M=>{_?we(si,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(v||(we(si,`Opening RPC '${e}' stream ${a} transport.`),g.open(),v=!0),we(si,`RPC '${e}' stream ${a} sending:`,M),g.send(M))},Jo:()=>g.close()});return yu(g,Tu.EventType.OPEN,(()=>{_||(we(si,`RPC '${e}' stream ${a} transport opened.`),A.i_())})),yu(g,Tu.EventType.CLOSE,(()=>{_||(_=!0,we(si,`RPC '${e}' stream ${a} transport closed`),A.o_(),this.E_(g))})),yu(g,Tu.EventType.ERROR,(M=>{_||(_=!0,Bo(si,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),A.o_(new ve(de.UNAVAILABLE,"The operation could not be completed")))})),yu(g,Tu.EventType.MESSAGE,(M=>{if(!_){const O=M.data[0];_t(!!O,16349);const I=O,z=I?.error||I[0]?.error;if(z){we(si,`RPC '${e}' stream ${a} received error:`,z);const $=z.status;let H=(function(ae){const D=Tn[ae];if(D!==void 0)return GC(D)})($),le=z.message;H===void 0&&(H=de.INTERNAL,le="Unknown error status: "+$+" with message "+z.message),_=!0,A.o_(new ve(H,le)),g.close()}else we(si,`RPC '${e}' stream ${a} received:`,O),A.__(O)}})),Yl.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return cC()}}function Pj(t){return new Yl(t)}function xy(){return typeof document<"u"?document:null}function Fm(t){return new U5(t,!0)}Yl.c_=!1;class aR{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&we("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const OT="PersistentStream";class oR{constructor(e,n,r,a,l,c,h,d){this.Ci=e,this.b_=r,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(zs(n.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new ve(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(OT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(we(OT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Vj extends oR{constructor(e,n,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=F5(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Le.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Le.min():c.readTime?es(c.readTime):Le.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=gv(this.serializer),n.addTarget=(function(l,c){let h;const d=c.target;if(h=uv(d)?{documents:G5(l,d)}:{query:$5(l,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=YC(l,c.resumeToken);const m=fv(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Le.min())>0){h.readTime=Jf(l,c.snapshotVersion.toTimestamp());const m=fv(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const r=Y5(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=gv(this.serializer),n.removeTarget=e,this.K_(n)}}class jj extends oR{constructor(e,n,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=H5(e.writeResults,e.commitTime),r=es(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=gv(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>q5(this.serializer,r)))};this.K_(n)}}class Lj{}class Uj extends Lj{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ve(de.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,mv(n,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(de.UNKNOWN,l.toString())}))}jo(e,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,mv(n,r),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(de.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function zj(t,e,n,r){return new Uj(t,e,n,r)}class Bj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zs(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Fo="RemoteStore";class Fj{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{$o(this)&&(we(Fo,"Restarting streams for network reachability change."),await(async function(d){const m=Fe(d);m.Ea.add(4),await xh(m),m.Va.set("Unknown"),m.Ea.delete(4),await qm(m)})(this))}))})),this.Va=new Bj(r,a)}}async function qm(t){if($o(t))for(const e of t.Ra)await e(!0)}async function xh(t){for(const e of t.Ra)await e(!1)}function lR(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),j0(n)?V0(n):mc(n).O_()&&P0(n,e))}function O0(t,e){const n=Fe(t),r=mc(n);n.Ia.delete(e),r.O_()&&cR(n,e),n.Ia.size===0&&(r.O_()?r.L_():$o(n)&&n.Va.set("Unknown"))}function P0(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mc(t).Z_(e)}function cR(t,e){t.da.$e(e),mc(t).X_(e)}function V0(t){t.da=new P5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),mc(t).start(),t.Va.ua()}function j0(t){return $o(t)&&!mc(t).x_()&&t.Ia.size>0}function $o(t){return Fe(t).Ea.size===0}function uR(t){t.da=void 0}async function qj(t){t.Va.set("Online")}async function Hj(t){t.Ia.forEach(((e,n)=>{P0(t,e)}))}async function Gj(t,e){uR(t),j0(t)?(t.Va.ha(e),V0(t)):t.Va.set("Unknown")}async function $j(t,e,n){if(t.Va.set("Online"),e instanceof KC&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(r){we(Fo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await em(t,r)}else if(e instanceof Af?t.da.Xe(e):e instanceof $C?t.da.st(e):t.da.tt(e),!n.isEqual(Le.min()))try{const r=await sR(t.localStore);n.compareTo(r)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const g=l.Ia.get(m);g&&l.Ia.set(m,g.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,m)=>{const g=l.Ia.get(d);if(!g)return;l.Ia.set(d,g.withResumeToken(qn.EMPTY_BYTE_STRING,g.snapshotVersion)),cR(l,d);const v=new Ia(g.target,d,m,g.sequenceNumber);P0(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){we(Fo,"Failed to raise snapshot:",r),await em(t,r)}}async function em(t,e,n){if(!fc(e))throw e;t.Ea.add(1),await xh(t),t.Va.set("Offline"),n||(n=()=>sR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(Fo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await qm(t)}))}function hR(t,e){return e().catch((n=>em(t,n,e)))}async function Hm(t){const e=Fe(t),n=Fa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:x0;for(;Kj(e);)try{const a=await Cj(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,Yj(e,a)}catch(a){await em(e,a)}dR(e)&&fR(e)}function Kj(t){return $o(t)&&t.Ta.length<10}function Yj(t,e){t.Ta.push(e);const n=Fa(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function dR(t){return $o(t)&&!Fa(t).x_()&&t.Ta.length>0}function fR(t){Fa(t).start()}async function Xj(t){Fa(t).ra()}async function Wj(t){const e=Fa(t);for(const n of t.Ta)e.ea(n.mutations)}async function Qj(t,e,n){const r=t.Ta.shift(),a=C0.from(r,e,n);await hR(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Hm(t)}async function Jj(t,e){e&&Fa(t).Y_&&await(async function(r,a){if((function(c){return k5(c)&&c!==de.ABORTED})(a.code)){const l=r.Ta.shift();Fa(r).B_(),await hR(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Hm(r)}})(t,e),dR(t)&&fR(t)}async function PT(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),we(Fo,"RemoteStore received new credentials");const r=$o(n);n.Ea.add(3),await xh(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qm(n)}async function Zj(t,e){const n=Fe(t);e?(n.Ea.delete(2),await qm(n)):e||(n.Ea.add(2),await xh(n),n.Va.set("Unknown"))}function mc(t){return t.ma||(t.ma=(function(n,r,a){const l=Fe(n);return l.sa(),new Vj(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:qj.bind(null,t),Yo:Hj.bind(null,t),t_:Gj.bind(null,t),J_:$j.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),j0(t)?V0(t):t.Va.set("Unknown")):(await t.ma.stop(),uR(t))}))),t.ma}function Fa(t){return t.fa||(t.fa=(function(n,r,a){const l=Fe(n);return l.sa(),new jj(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Xj.bind(null,t),t_:Jj.bind(null,t),ta:Wj.bind(null,t),na:Qj.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Hm(t)):(await t.fa.stop(),t.Ta.length>0&&(we(Fo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class L0{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const c=Date.now()+r,h=new L0(e,n,c,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function U0(t,e){if(zs("AsyncQueue",`${e}: ${t}`),fc(t))return new ve(de.UNAVAILABLE,`${e}: ${t}`);throw t}class Xl{static emptySet(e){return new Xl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=Eu(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class VT{constructor(){this.ga=new tn(ke.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ve(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class rc{constructor(e,n,r,a,l,c,h,d,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new rc(e,n,Xl.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class e3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class t3{constructor(){this.queries=jT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Fe(n),l=a.queries;a.queries=jT(),l.forEach(((c,h)=>{for(const d of h.ba)d.onError(r)}))})(this,new ve(de.ABORTED,"Firestore shutting down"))}}function jT(){return new Go((t=>MC(t)),jm)}async function z0(t,e){const n=Fe(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(r=2):(l=new e3,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=U0(c,`Initialization of query '${jl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&F0(n)}async function B0(t,e){const n=Fe(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function n3(t,e){const n=Fe(t);let r=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(r=!0);c.wa=a}}r&&F0(n)}function i3(t,e,n){const r=Fe(t),a=r.queries.get(e);if(a)for(const l of a.ba)l.onError(n);r.queries.delete(e)}function F0(t){t.Ca.forEach((e=>{e.next()}))}var bv,LT;(LT=bv||(bv={})).Ma="default",LT.Cache="cache";class q0{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new rc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=rc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bv.Cache}}class mR{constructor(e){this.key=e}}class pR{constructor(e){this.key=e}}class r3{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=rt(),this.mutatedKeys=rt(),this.eu=OC(e),this.tu=new Xl(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new VT,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,v)=>{const _=a.get(g),A=Lm(this.query,v)?v:null,M=!!_&&this.mutatedKeys.has(_.key),O=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let I=!1;_&&A?_.data.isEqual(A.data)?M!==O&&(r.track({type:3,doc:A}),I=!0):this.su(_,A)||(r.track({type:2,doc:A}),I=!0,(d&&this.eu(A,d)>0||m&&this.eu(A,m)<0)&&(h=!0)):!_&&A?(r.track({type:0,doc:A}),I=!0):_&&!A&&(r.track({type:1,doc:_}),I=!0,(d||m)&&(h=!0)),I&&(A?(c=c.add(A),l=O?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{tu:c,iu:r,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,v)=>(function(A,M){const O=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Vt:I})}};return O(A)-O(M)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Xa;return this.Xa=d,c.length!==0||m?{snapshot:new rc(this.query,e.tu,l,c,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new VT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=rt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new pR(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new mR(r))})),n}cu(e){this.Za=e.ks,this.Ya=rt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return rc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const H0="SyncEngine";class s3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class a3{constructor(e){this.key=e,this.hu=!1}}class o3{constructor(e,n,r,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Go((h=>MC(h)),jm),this.Iu=new Map,this.Eu=new Set,this.Ru=new tn(ke.comparator),this.Au=new Map,this.Vu=new N0,this.du={},this.mu=new Map,this.fu=ic.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function l3(t,e,n=!0){const r=_R(t);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await gR(r,e,n,!0),a}async function c3(t,e){const n=_R(t);await gR(n,e,!0,!1)}async function gR(t,e,n,r){const a=await Rj(t.localStore,Zr(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return r&&(h=await u3(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&lR(t.remoteStore,a),h}async function u3(t,e,n,r,a){t.pu=(v,_,A)=>(async function(O,I,z,$){let H=I.view.ru(z);H.Ss&&(H=await NT(O.localStore,I.query,!1).then((({documents:D})=>I.view.ru(D,H))));const le=$&&$.targetChanges.get(I.targetId),re=$&&$.targetMismatches.get(I.targetId)!=null,ae=I.view.applyChanges(H,O.isPrimaryClient,le,re);return zT(O,I.targetId,ae.au),ae.snapshot})(t,v,_,A);const l=await NT(t.localStore,e,!0),c=new r3(e,l.ks),h=c.ru(l.documents),d=bh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),m=c.applyChanges(h,t.isPrimaryClient,d);zT(t,n,m.au);const g=new s3(e,n,c);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function h3(t,e,n){const r=Fe(t),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!jm(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await yv(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&O0(r.remoteStore,a.targetId),xv(r,a.targetId)})).catch(dc)):(xv(r,a.targetId),await yv(r.localStore,a.targetId,!0))}async function d3(t,e){const n=Fe(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),O0(n.remoteStore,r.targetId))}async function f3(t,e,n){const r=x3(t);try{const a=await(function(c,h){const d=Fe(c),m=Be.now(),g=h.reduce(((A,M)=>A.add(M.key)),rt());let v,_;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let M=Bs(),O=rt();return d.xs.getEntries(A,g).next((I=>{M=I,M.forEach(((z,$)=>{$.isValidDocument()||(O=O.add(z))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,M))).next((I=>{v=I;const z=[];for(const $ of h){const H=C5($,v.get($.key).overlayedDocument);H!=null&&z.push(new Ya($.key,H,SC(H.value.mapValue),dr.exists(!0)))}return d.mutationQueue.addMutationBatch(A,m,z,h)})).next((I=>{_=I;const z=I.applyToLocalDocumentSet(v,O);return d.documentOverlayCache.saveOverlays(A,I.batchId,z)}))})).then((()=>({batchId:_.batchId,changes:VC(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let m=c.du[c.currentUser.toKey()];m||(m=new tn(it)),m=m.insert(h,d),c.du[c.currentUser.toKey()]=m})(r,a.batchId,n),await _h(r,a.changes),await Hm(r.remoteStore)}catch(a){const l=U0(a,"Failed to persist write");n.reject(l)}}async function yR(t,e){const n=Fe(t);try{const r=await Sj(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(_t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?_t(c.hu,14607):a.removedDocuments.size>0&&(_t(c.hu,42227),c.hu=!1))})),await _h(n,r,e)}catch(r){await dc(r)}}function UT(t,e,n){const r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=Fe(c);d.onlineState=h;let m=!1;d.queries.forEach(((g,v)=>{for(const _ of v.ba)_.va(h)&&(m=!0)})),m&&F0(d)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function m3(t,e,n){const r=Fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new tn(ke.comparator);c=c.insert(l,li.newNoDocument(l,Le.min()));const h=rt().add(l),d=new Bm(Le.min(),new Map,new tn(it),c,h);await yR(r,d),r.Ru=r.Ru.remove(l),r.Au.delete(e),G0(r)}else await yv(r.localStore,e,!1).then((()=>xv(r,e,n))).catch(dc)}async function p3(t,e){const n=Fe(t),r=e.batch.batchId;try{const a=await Ej(n.localStore,e);bR(n,r,null),vR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _h(n,a)}catch(a){await dc(a)}}async function g3(t,e,n){const r=Fe(t);try{const a=await(function(c,h){const d=Fe(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return d.mutationQueue.lookupMutationBatch(m,h).next((v=>(_t(v!==null,37113),g=v.keys(),d.mutationQueue.removeMutationBatch(m,v)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>d.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);bR(r,e,n),vR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _h(r,a)}catch(a){await dc(a)}}function vR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function bR(t,e,n){const r=Fe(t);let a=r.du[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function xv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||xR(t,r)}))}function xR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(O0(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),G0(t))}function zT(t,e,n){for(const r of n)r instanceof mR?(t.Vu.addReference(r.key,e),y3(t,r)):r instanceof pR?(we(H0,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||xR(t,r.key)):Ve(19791,{wu:r})}function y3(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(we(H0,"New document in limbo: "+n),t.Eu.add(r),G0(t))}function G0(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ke(zt.fromString(e)),r=t.fu.next();t.Au.set(r,new a3(n)),t.Ru=t.Ru.insert(n,r),lR(t.remoteStore,new Ia(Zr(Vm(n.path)),r,"TargetPurposeLimboResolution",Mm.ce))}}async function _h(t,e,n){const r=Fe(t),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{c.push(r.pu(d,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const g=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(m){a.push(m);const g=k0.Es(d.targetId,m);l.push(g)}})))})),await Promise.all(c),r.Pu.J_(a),await(async function(d,m){const g=Fe(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>fe.forEach(m,(_=>fe.forEach(_.Ts,(A=>g.persistence.referenceDelegate.addReference(v,_.targetId,A))).next((()=>fe.forEach(_.Is,(A=>g.persistence.referenceDelegate.removeReference(v,_.targetId,A)))))))))}catch(v){if(!fc(v))throw v;we(M0,"Failed to update sequence numbers: "+v)}for(const v of m){const _=v.targetId;if(!v.fromCache){const A=g.vs.get(_),M=A.snapshotVersion,O=A.withLastLimboFreeSnapshotVersion(M);g.vs=g.vs.insert(_,O)}}})(r.localStore,l))}async function v3(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){we(H0,"User change. New user:",e.toKey());const r=await rR(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new ve(de.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _h(n,r.Ns)}}function b3(t,e){const n=Fe(t),r=n.Au.get(e);if(r&&r.hu)return rt().add(r.key);{let a=rt();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function _R(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m3.bind(null,e),e.Pu.J_=n3.bind(null,e.eventManager),e.Pu.yu=i3.bind(null,e.eventManager),e}function x3(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g3.bind(null,e),e}class tm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Tj(this.persistence,new xj,e.initialUser,this.serializer)}Cu(e){return new iR(D0.Vi,this.serializer)}Du(e){return new Nj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tm.provider={build:()=>new tm};class _3 extends tm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_t(this.persistence.referenceDelegate instanceof Zf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ri.withCacheSize(this.cacheSizeBytes):Ri.DEFAULT;return new iR((r=>Zf.Vi(r,n)),this.serializer)}}class _v{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>UT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=v3.bind(null,this.syncEngine),await Zj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new t3})()}createDatastore(e){const n=Fm(e.databaseInfo.databaseId),r=Pj(e.databaseInfo);return zj(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,l,c,h){return new Fj(r,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>UT(this.syncEngine,n,0)),(function(){return MT.v()?new MT:new Dj})())}createSyncEngine(e,n){return(function(a,l,c,h,d,m,g){const v=new o3(a,l,c,h,d,m);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Fe(n);we(Fo,"RemoteStore shutting down."),r.Ea.add(5),await xh(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_v.provider={build:()=>new _v};class $0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const qa="FirestoreClient";class w3{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=a,this.user=oi.UNAUTHENTICATED,this.clientId=Dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{we(qa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(we(qa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=U0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function _y(t,e){t.asyncQueue.verifyOperationInProgress(),we(qa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await rR(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function BT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await T3(t);we(qa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>PT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>PT(e.remoteStore,a))),t._onlineComponents=e}async function T3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(qa,"Using user provided OfflineComponentProvider");try{await _y(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Bo("Error using user provided cache. Falling back to memory cache: "+n),await _y(t,new tm)}}else we(qa,"Using default OfflineComponentProvider"),await _y(t,new _3(void 0));return t._offlineComponents}async function wR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(qa,"Using user provided OnlineComponentProvider"),await BT(t,t._uninitializedComponentsProvider._online)):(we(qa,"Using default OnlineComponentProvider"),await BT(t,new _v))),t._onlineComponents}function E3(t){return wR(t).then((e=>e.syncEngine))}async function nm(t){const e=await wR(t),n=e.eventManager;return n.onListen=l3.bind(null,e.syncEngine),n.onUnlisten=h3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=c3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=d3.bind(null,e.syncEngine),n}function S3(t,e,n,r){const a=new $0(r),l=new q0(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>z0(await nm(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>B0(await nm(t),l)))}}function A3(t,e,n={}){const r=new Os;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,m){const g=new $0({next:_=>{g.Nu(),c.enqueueAndForget((()=>B0(l,v)));const A=_.docs.has(h);!A&&_.fromCache?m.reject(new ve(de.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&_.fromCache&&d&&d.source==="server"?m.reject(new ve(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:_=>m.reject(_)}),v=new q0(Vm(h.path),g,{includeMetadataChanges:!0,Ka:!0});return z0(l,v)})(await nm(t),t.asyncQueue,e,n,r))),r.promise}function C3(t,e,n={}){const r=new Os;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,m){const g=new $0({next:_=>{g.Nu(),c.enqueueAndForget((()=>B0(l,v))),_.fromCache&&d.source==="server"?m.reject(new ve(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:_=>m.reject(_)}),v=new q0(h,g,{includeMetadataChanges:!0,Ka:!0});return z0(l,v)})(await nm(t),t.asyncQueue,e,n,r))),r.promise}function R3(t,e){const n=new Os;return t.asyncQueue.enqueueAndForget((async()=>f3(await E3(t),e,n))),n.promise}function TR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const I3="ComponentProvider",FT=new Map;function N3(t,e,n,r,a){return new W4(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,TR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const ER="firestore.googleapis.com",qT=!0;class HT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ER,this.ssl=qT}else this.host=e.host,this.ssl=e.ssl??qT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ij)throw new ve(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new dC;switch(r.type){case"firstParty":return new O4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=FT.get(n);r&&(we(I3,"Removing Datastore"),FT.delete(n),r.terminate())})(this),Promise.resolve()}}function SR(t,e,n,r={}){t=pi(t,Gm);const a=qo(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(r0(`https://${h}`),s0("Firestore",!0)),l.host!==ER&&l.host!==h&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:r};if(!jo(d,c)&&(t._setSettings(d),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=oi.MOCK_USER;else{m=wA(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ve(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new oi(v)}t._authCredentials=new D4(new hC(m,g))}}class Xa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xa(this.firestore,e,this._query)}}class en{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(gh(n,en._jsonSchema))return new en(e,r||null,new ke(zt.fromString(n.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:An("string",en._jsonSchemaVersion),referencePath:An("string")};class Ps extends Xa{constructor(e,n,r){super(e,n,Vm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new ke(e))}withConverter(e){return new Ps(this.firestore,e,this._path)}}function Na(t,e,...n){if(t=Vn(t),fC("collection","path",e),t instanceof Gm){const r=zt.fromString(e,...n);return iT(r),new Ps(t,null,r)}{if(!(t instanceof en||t instanceof Ps))throw new ve(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(zt.fromString(e,...n));return iT(r),new Ps(t.firestore,null,r)}}function Ir(t,e,...n){if(t=Vn(t),arguments.length===1&&(e=Dm.newId()),fC("doc","path",e),t instanceof Gm){const r=zt.fromString(e,...n);return nT(r),new en(t,null,new ke(r))}{if(!(t instanceof en||t instanceof Ps))throw new ve(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(zt.fromString(e,...n));return nT(r),new en(t.firestore,t instanceof Ps?t.converter:null,new ke(r))}}const GT="AsyncQueue";class $T{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aR(this,"async_queue_retry"),this._c=()=>{const r=xy();r&&we(GT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=xy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!fc(e))throw e;we(GT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,zs("INTERNAL UNHANDLED ERROR: ",KT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=L0.createAndSchedule(this,e,n,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ve(47125,{Pc:KT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function KT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class rs extends Gm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new $T,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $T(e),this._firestoreClient=void 0,await e}}}function AR(t,e){const n=typeof t=="object"?t:l0(),r=typeof t=="string"?t:$f,a=Cm(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=bA("firestore");l&&SR(a,...l)}return a}function wh(t){if(t._terminated)throw new ve(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||D3(t),t._firestoreClient}function D3(t){const e=t._freezeSettings(),n=N3(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new w3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hi(qn.fromBase64String(e))}catch(n){throw new ve(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hi(qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gh(e,Hi._jsonSchema))return Hi.fromBase64String(e.bytes)}}Hi._jsonSchemaVersion="firestore/bytes/1.0",Hi._jsonSchema={type:An("string",Hi._jsonSchemaVersion),bytes:An("string")};class $m{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Km{constructor(e){this._methodName=e}}class kr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:kr._jsonSchemaVersion}}static fromJSON(e){if(gh(e,kr._jsonSchema))return new kr(e.latitude,e.longitude)}}kr._jsonSchemaVersion="firestore/geoPoint/1.0",kr._jsonSchema={type:An("string",kr._jsonSchemaVersion),latitude:An("number"),longitude:An("number")};class fr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gh(e,fr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new fr(e.vectorValues);throw new ve(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fr._jsonSchemaVersion="firestore/vectorValue/1.0",fr._jsonSchema={type:An("string",fr._jsonSchemaVersion),vectorValues:An("object")};const k3=/^__.*__$/;class M3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new vh(e,this.data,n,this.fieldTransforms)}}class CR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function RR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{dataSource:t})}}class K0{constructor(e,n,r,a,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new K0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return im(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(RR(this.dataSource)&&k3.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class O3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fm(e)}createContext(e,n,r,a=!1){return new K0({dataSource:e,methodName:n,targetDoc:r,path:Fn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ym(t){const e=t._freezeSettings(),n=Fm(t._databaseId);return new O3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function IR(t,e,n,r,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);Y0("Data must be an object, but it was:",c,r);const h=NR(r,c);let d,m;if(l.merge)d=new Gi(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const v of l.mergeFields){const _=sc(e,v,n);if(!c.contains(_))throw new ve(de.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);MR(g,_)||g.push(_)}d=new Gi(g),m=c.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,m=c.fieldTransforms;return new M3(new Ii(h),d,m)}class Th extends Km{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Th}}function P3(t,e,n,r){const a=t.createContext(1,e,n);Y0("Data must be an object, but it was:",a,r);const l=[],c=Ii.empty();Ka(r,((d,m)=>{const g=kR(e,d,n);m=Vn(m);const v=a.childContextForFieldPath(g);if(m instanceof Th)l.push(g);else{const _=Eh(m,v);_!=null&&(l.push(g),c.set(g,_))}}));const h=new Gi(l);return new CR(c,h,a.fieldTransforms)}function V3(t,e,n,r,a,l){const c=t.createContext(1,e,n),h=[sc(e,r,n)],d=[a];if(l.length%2!=0)throw new ve(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)h.push(sc(e,l[_])),d.push(l[_+1]);const m=[],g=Ii.empty();for(let _=h.length-1;_>=0;--_)if(!MR(m,h[_])){const A=h[_];let M=d[_];M=Vn(M);const O=c.childContextForFieldPath(A);if(M instanceof Th)m.push(A);else{const I=Eh(M,O);I!=null&&(m.push(A),g.set(A,I))}}const v=new Gi(m);return new CR(g,v,c.fieldTransforms)}function j3(t,e,n,r=!1){return Eh(n,t.createContext(r?4:3,e))}function Eh(t,e){if(DR(t=Vn(t)))return Y0("Unsupported field value:",e,t),NR(t,e);if(t instanceof Km)return(function(r,a){if(!RR(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const h of r){let d=Eh(h,a.childContextForArray(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}})(t,e)}return(function(r,a){if((r=Vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _5(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Be.fromDate(r);return{timestampValue:Jf(a.serializer,l)}}if(r instanceof Be){const l=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jf(a.serializer,l)}}if(r instanceof kr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hi)return{bytesValue:YC(a.serializer,r._byteString)};if(r instanceof en){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:I0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof fr)return(function(c,h){const d=c instanceof fr?c.toArray():c;return{mapValue:{fields:{[TC]:{stringValue:EC},[Kf]:{arrayValue:{values:d.map((g=>{if(typeof g!="number")throw h.createError("VectorValues must only contain numeric values.");return S0(h.serializer,g)}))}}}}}})(r,a);if(tR(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${km(r)}`)})(t,e)}function NR(t,e){const n={};return yC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ka(t,((r,a)=>{const l=Eh(a,e.childContextForField(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function DR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof kr||t instanceof Hi||t instanceof en||t instanceof Km||t instanceof fr||tR(t))}function Y0(t,e,n){if(!DR(n)||!pC(n)){const r=km(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function sc(t,e,n){if((e=Vn(e))instanceof $m)return e._internalPath;if(typeof e=="string")return kR(t,e);throw im("Field path arguments must be of type string or ",t,!1,void 0,n)}const L3=new RegExp("[~\\*/\\[\\]]");function kR(t,e,n){if(e.search(L3)>=0)throw im(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $m(...e.split("."))._internalPath}catch{throw im(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function im(t,e,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${r}`),c&&(d+=` in document ${a}`),d+=")"),new ve(de.INVALID_ARGUMENT,h+t+d)}function MR(t,e){return t.some((n=>n.isEqual(e)))}class OR{convertValue(e,n="none"){switch(Ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ka(e,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(e){const n=e.fields?.[Kf].arrayValue?.values?.map((r=>fn(r.doubleValue)));return new fr(n)}convertGeoPoint(e){return new kr(fn(e.latitude),fn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ku(e));default:return null}}convertTimestamp(e){const n=Ua(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=zt.fromString(e);_t(eR(r),9688,{name:e});const a=new ec(r.get(1),r.get(3)),l=new ke(r.popFirst(5));return a.isEqual(n)||zs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class X0 extends OR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function rm(){return new Th("deleteField")}const YT="@firebase/firestore",XT="4.10.0";function WT(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class PR{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(sc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class U3 extends PR{data(){return super.data()}}function VR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class W0{}class jR extends W0{}function Qu(t,e,...n){let r=[];e instanceof W0&&r.push(e),r=r.concat(n),(function(l){const c=l.filter((d=>d instanceof Xm)).length,h=l.filter((d=>d instanceof Sh)).length;if(c>1||c>0&&h>0)throw new ve(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class Sh extends jR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Sh(e,n,r)}_apply(e){const n=this._parse(e);return LR(e._query,n),new Xa(e.firestore,e.converter,hv(e._query,n))}_parse(e){const n=Ym(e.firestore);return(function(l,c,h,d,m,g,v){let _;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ve(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){JT(v,g);const M=[];for(const O of v)M.push(QT(d,l,O));_={arrayValue:{values:M}}}else _=QT(d,l,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||JT(v,g),_=j3(h,c,v,g==="in"||g==="not-in");return Sn.create(m,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ju(t,e,n){const r=e,a=sc("where",t);return Sh._create(a,r,n)}class Xm extends W0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xm(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Mr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const d of h)LR(c,d),c=hv(c,d)})(e._query,n),new Xa(e.firestore,e.converter,hv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function QT(t,e,n){if(typeof(n=Vn(n))=="string"){if(n==="")throw new ve(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kC(e)&&n.indexOf("/")!==-1)throw new ve(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(zt.fromString(n));if(!ke.isDocumentKey(r))throw new ve(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hT(t,new ke(r))}if(n instanceof en)return hT(t,n._key);throw new ve(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${km(n)}.`)}function JT(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LR(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function UR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pa extends PR{constructor(e,n,r,a,l,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Pa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pa._jsonSchema={type:An("string",Pa._jsonSchemaVersion),bundleSource:An("string","DocumentSnapshot"),bundleName:An("string"),bundle:An("string")};class Ou extends Pa{data(e={}){return super.data(e)}}class Va{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new zl(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ou(this._firestore,this._userDataWriter,r.key,r,new zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new Ou(a._firestore,a._userDataWriter,h.doc.key,h.doc,new zl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Ou(a._firestore,a._userDataWriter,h.doc.key,h.doc,new zl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),g=c.indexOf(h.doc.key)),{type:z3(h.type),doc:d,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Va._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function z3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}Va._jsonSchemaVersion="firestore/querySnapshot/1.0",Va._jsonSchema={type:An("string",Va._jsonSchemaVersion),bundleSource:An("string","QuerySnapshot"),bundleName:An("string"),bundle:An("string")};function Ah(t){t=pi(t,en);const e=pi(t.firestore,rs),n=wh(e);return A3(n,t._key).then((r=>qR(e,t,r)))}function Po(t){t=pi(t,Xa);const e=pi(t.firestore,rs),n=wh(e),r=new X0(e);return VR(t._query),C3(n,t._query).then((a=>new Va(e,r,t,a)))}function sm(t,e,n){t=pi(t,en);const r=pi(t.firestore,rs),a=UR(t.converter,e,n),l=Ym(r);return Ch(r,[IR(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,dr.none())])}function ai(t,e,n,...r){t=pi(t,en);const a=pi(t.firestore,rs),l=Ym(a);let c;return c=typeof(e=Vn(e))=="string"||e instanceof $m?V3(l,"updateDoc",t._key,e,n,r):P3(l,"updateDoc",t._key,e),Ch(a,[c.toMutation(t._key,dr.exists(!0))])}function zR(t){return Ch(pi(t.firestore,rs),[new A0(t._key,dr.none())])}function BR(t,e){const n=pi(t.firestore,rs),r=Ir(t),a=UR(t.converter,e),l=Ym(t.firestore);return Ch(n,[IR(l,"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,dr.exists(!1))]).then((()=>r))}function FR(t,...e){t=Vn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||WT(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(WT(e[r])){const m=e[r];e[r]=m.next?.bind(m),e[r+1]=m.error?.bind(m),e[r+2]=m.complete?.bind(m)}let l,c,h;if(t instanceof en)c=pi(t.firestore,rs),h=Vm(t._key.path),l={next:m=>{e[r]&&e[r](qR(c,t,m))},error:e[r+1],complete:e[r+2]};else{const m=pi(t,Xa);c=pi(m.firestore,rs),h=m._query;const g=new X0(c);l={next:v=>{e[r]&&e[r](new Va(c,g,m,v))},error:e[r+1],complete:e[r+2]},VR(t._query)}const d=wh(c);return S3(d,h,a,l)}function Ch(t,e){const n=wh(t);return R3(n,e)}function qR(t,e,n){const r=n.docs.get(e._key),a=new X0(t);return new Pa(t,a,e._key,r,new zl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){N4(Ho),Lo(new ja("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),h=new rs(new k4(r.getProvider("auth-internal")),new P4(c,r.getProvider("app-check-internal")),Q4(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Qr(YT,XT,e),Qr(YT,XT,"esm2020")})();const B3=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:OR,Bytes:Hi,CollectionReference:Ps,DocumentReference:en,DocumentSnapshot:Pa,FieldPath:$m,FieldValue:Km,Firestore:rs,FirestoreError:ve,GeoPoint:kr,Query:Xa,QueryCompositeFilterConstraint:Xm,QueryConstraint:jR,QueryDocumentSnapshot:Ou,QueryFieldFilterConstraint:Sh,QuerySnapshot:Va,SnapshotMetadata:zl,Timestamp:Be,VectorValue:fr,_AutoId:Dm,_ByteString:qn,_DatabaseId:ec,_DocumentKey:ke,_EmptyAuthCredentialsProvider:dC,_FieldPath:Fn,_cast:pi,_logWarn:Bo,_validateIsNotUsedTogether:mC,addDoc:BR,collection:Na,connectFirestoreEmulator:SR,deleteDoc:zR,deleteField:rm,doc:Ir,ensureFirestoreConfigured:wh,executeWrite:Ch,getDoc:Ah,getDocs:Po,getFirestore:AR,onSnapshot:FR,query:Qu,setDoc:sm,updateDoc:ai,where:Ju},Symbol.toStringTag,{value:"Module"}));const HR="firebasestorage.googleapis.com",F3="storageBucket",q3=120*1e3,H3=600*1e3;class ls extends os{constructor(e,n,r=0){super(wy(e),`Firebase Storage: ${n} (${wy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ls.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ss;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ss||(ss={}));function wy(t){return"storage/"+t}function G3(){const t="An unknown error occurred, please check the error payload for server response.";return new ls(ss.UNKNOWN,t)}function $3(){return new ls(ss.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function K3(){return new ls(ss.CANCELED,"User canceled the upload/download.")}function Y3(t){return new ls(ss.INVALID_URL,"Invalid URL '"+t+"'.")}function X3(t){return new ls(ss.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ZT(t){return new ls(ss.INVALID_ARGUMENT,t)}function GR(){return new ls(ss.APP_DELETED,"The Firebase app was deleted.")}function W3(t){return new ls(ss.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Nr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Nr.makeFromUrl(e,n)}catch{return new Nr(e,"")}if(r.path==="")return r;throw X3(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),d={bucket:1,path:3};function m(le){le.path_=decodeURIComponent(le.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",A=new RegExp(`^https?://${v}/${g}/b/${a}/o${_}`,"i"),M={bucket:1,path:3},O=n===HR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",z=new RegExp(`^https?://${O}/${a}/${I}`,"i"),H=[{regex:h,indices:d,postModify:l},{regex:A,indices:M,postModify:m},{regex:z,indices:{bucket:1,path:2},postModify:m}];for(let le=0;le<H.length;le++){const re=H[le],ae=re.regex.exec(e);if(ae){const D=ae[re.indices.bucket];let C=ae[re.indices.path];C||(C=""),r=new Nr(D,C),re.postModify(r);break}}if(r==null)throw Y3(e);return r}}class Q3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function J3(t,e,n){let r=1,a=null,l=null,c=!1,h=0;function d(){return h===2}let m=!1;function g(...I){m||(m=!0,e.apply(null,I))}function v(I){a=setTimeout(()=>{a=null,t(A,d())},I)}function _(){l&&clearTimeout(l)}function A(I,...z){if(m){_();return}if(I){_(),g.call(null,I,...z);return}if(d()||c){_(),g.call(null,I,...z);return}r<64&&(r*=2);let H;h===1?(h=2,H=0):H=(r+Math.random())*1e3,v(H)}let M=!1;function O(I){M||(M=!0,_(),!m&&(a!==null?(I||(h=2),clearTimeout(a),v(0)):I||(h=1)))}return v(0),l=setTimeout(()=>{c=!0,O(!0)},n),O}function Z3(t){t(!1)}function eL(t){return t!==void 0}function eE(t,e,n,r){if(r<e)throw ZT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ZT(`Invalid value for '${t}'. Expected ${n} or less.`)}function tL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var am;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(am||(am={}));function nL(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class iL{constructor(e,n,r,a,l,c,h,d,m,g,v,_=!0,A=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=v,this.retry=_,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,O)=>{this.resolve_=M,this.reject_=O,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new lf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===am.NO_ERROR,d=l.getStatus();if(!h||nL(d,this.additionalRetryCodes_)&&this.retry){const g=l.getErrorCode()===am.ABORT;r(!1,new lf(!1,null,g));return}const m=this.successCodes_.indexOf(d)!==-1;r(!0,new lf(m,l))})},n=(r,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());eL(d)?l(d):l()}catch(d){c(d)}else if(h!==null){const d=G3();d.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,d)):c(d)}else if(a.canceled){const d=this.appDelete_?GR():K3();c(d)}else{const d=$3();c(d)}};this.canceled_?n(!1,new lf(!1,null,!0)):this.backoffId_=J3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Z3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function rL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function sL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function aL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function oL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function lL(t,e,n,r,a,l,c=!0,h=!1){const d=tL(t.urlParams),m=t.url+d,g=Object.assign({},t.headers);return aL(g,e),rL(g,n),sL(g,l),oL(g,r),new iL(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,h)}function cL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function uL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class om{constructor(e,n){this._service=e,n instanceof Nr?this._location=n:this._location=Nr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new om(e,n)}get root(){const e=new Nr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uL(this._location.path)}get storage(){return this._service}get parent(){const e=cL(this._location.path);if(e===null)return null;const n=new Nr(this._location.bucket,e);return new om(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw W3(e)}}function tE(t,e){const n=e?.[F3];return n==null?null:Nr.makeFromBucketSpec(n,t)}function hL(t,e,n,r={}){t.host=`${e}:${n}`;const a=qo(e);a&&(r0(`https://${t.host}/b`),s0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(t._overrideAuthToken=typeof l=="string"?l:wA(l,t.app.options.projectId))}class dL{constructor(e,n,r,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=HR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=q3,this._maxUploadRetryTime=H3,this._requests=new Set,a!=null?this._bucket=Nr.makeFromBucketSpec(a,this._host):this._bucket=tE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Nr.makeFromBucketSpec(this._url,e):this._bucket=tE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new om(this,e)}_makeRequest(e,n,r,a,l=!0){if(this._deleted)return new Q3(GR());{const c=lL(e,this._appId,r,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const nE="@firebase/storage",iE="0.14.0";const $R="storage";function fL(t=l0(),e){t=Vn(t);const r=Cm(t,$R).getImmediate({identifier:e}),a=bA("storage");return a&&mL(r,...a),r}function mL(t,e,n,r={}){hL(t,e,n,r)}function pL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new dL(n,r,a,e,Ho)}function gL(){Lo(new ja($R,pL,"PUBLIC").setMultipleInstances(!0)),Qr(nE,iE,""),Qr(nE,iE,"esm2020")}gL();const yL={apiKey:"AIzaSyC7IaK8e0JimVT2DeKQovTDLPyufibEu_4",authDomain:"sunsar-bingo.firebaseapp.com",projectId:"sunsar-bingo",storageBucket:"sunsar-bingo.firebasestorage.app",messagingSenderId:"256131852935",appId:"1:256131852935:web:fe514c1e6758e5af252622"},Wm=SA(yL),Cf=R4(Wm),KR=new Is,Zn=AR(Wm);fL(Wm);const vL=Object.freeze(Object.defineProperty({__proto__:null,app:Wm,auth:Cf,db:Zn,googleProvider:KR},Symbol.toStringTag,{value:"Module"})),YR=S.createContext(void 0),bL=({children:t})=>{const[e,n]=S.useState(null),[r,a]=S.useState(!0),[l,c]=S.useState(null);S.useEffect(()=>{const m=gV(Cf,async g=>{if(g){const v={uid:g.uid,email:g.email,displayName:g.displayName,photoURL:g.photoURL};n(v),c(null);try{const{doc:_,setDoc:A,Timestamp:M}=await Wy(async()=>{const{doc:I,setDoc:z,Timestamp:$}=await Promise.resolve().then(()=>B3);return{doc:I,setDoc:z,Timestamp:$}},[]),{db:O}=await Wy(async()=>{const{db:I}=await Promise.resolve().then(()=>vL);return{db:I}},void 0);await A(_(O,"users",g.uid),{...v,lastSeen:M.now()},{merge:!0})}catch(_){console.error("Error syncing user profile:",_)}}else n(null);a(!1)});return()=>m()},[]);const h=async()=>{c(null);try{await jV(Cf,KR)}catch(m){c(m.message||"Failed to sign in")}},d=async()=>{await yV(Cf)};return b.jsx(YR.Provider,{value:{user:e,loading:r,signIn:h,logout:d,error:l},children:t})},Ko=()=>{const t=S.useContext(YR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Q0=S.createContext({});function J0(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const XR=typeof window<"u",WR=XR?S.useLayoutEffect:S.useEffect,Qm=S.createContext(null);function Z0(t,e){t.indexOf(e)===-1&&t.push(e)}function eb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const as=(t,e,n)=>n>e?e:n<t?t:n;let tb=()=>{};const Fs={},QR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function JR(t){return typeof t=="object"&&t!==null}const ZR=t=>/^0[^.\s]+$/u.test(t);function nb(t){let e;return()=>(e===void 0&&(e=t()),e)}const mr=t=>t,xL=(t,e)=>n=>e(t(n)),Rh=(...t)=>t.reduce(xL),Zu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class ib{constructor(){this.subscriptions=[]}add(e){return Z0(this.subscriptions,e),()=>eb(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vs=t=>t*1e3,hr=t=>t/1e3;function e2(t,e){return e?t*(1e3/e):0}const t2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,_L=1e-7,wL=12;function TL(t,e,n,r,a){let l,c,h=0;do c=e+(n-e)/2,l=t2(c,r,a)-t,l>0?n=c:e=c;while(Math.abs(l)>_L&&++h<wL);return c}function Ih(t,e,n,r){if(t===e&&n===r)return mr;const a=l=>TL(l,0,1,t,n);return l=>l===0||l===1?l:t2(a(l),e,r)}const n2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,i2=t=>e=>1-t(1-e),r2=Ih(.33,1.53,.69,.99),rb=i2(r2),s2=n2(rb),a2=t=>(t*=2)<1?.5*rb(t):.5*(2-Math.pow(2,-10*(t-1))),sb=t=>1-Math.sin(Math.acos(t)),o2=i2(sb),l2=n2(sb),EL=Ih(.42,0,1,1),SL=Ih(0,0,.58,1),c2=Ih(.42,0,.58,1),AL=t=>Array.isArray(t)&&typeof t[0]!="number",u2=t=>Array.isArray(t)&&typeof t[0]=="number",CL={linear:mr,easeIn:EL,easeInOut:c2,easeOut:SL,circIn:sb,circInOut:l2,circOut:o2,backIn:rb,backInOut:s2,backOut:r2,anticipate:a2},RL=t=>typeof t=="string",rE=t=>{if(u2(t)){tb(t.length===4);const[e,n,r,a]=t;return Ih(e,n,r,a)}else if(RL(t))return CL[t];return t},cf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function IL(t,e){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(g){c.has(g)&&(m.schedule(g),t()),g(h)}const m={schedule:(g,v=!1,_=!1)=>{const M=_&&a?n:r;return v&&c.add(g),M.has(g)||M.add(g),g},cancel:g=>{r.delete(g),c.delete(g)},process:g=>{if(h=g,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,m.process(g))}};return m}const NL=40;function h2(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=cf.reduce((H,le)=>(H[le]=IL(l),H),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:g,update:v,preRender:_,render:A,postRender:M}=c,O=()=>{const H=Fs.useManualTiming?a.timestamp:performance.now();n=!1,Fs.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(H-a.timestamp,NL),1)),a.timestamp=H,a.isProcessing=!0,h.process(a),d.process(a),m.process(a),g.process(a),v.process(a),_.process(a),A.process(a),M.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(O))},I=()=>{n=!0,r=!0,a.isProcessing||t(O)};return{schedule:cf.reduce((H,le)=>{const re=c[le];return H[le]=(ae,D=!1,C=!1)=>(n||I(),re.schedule(ae,D,C)),H},{}),cancel:H=>{for(let le=0;le<cf.length;le++)c[cf[le]].cancel(H)},state:a,steps:c}}const{schedule:Kt,cancel:Ha,state:Qn,steps:Ty}=h2(typeof requestAnimationFrame<"u"?requestAnimationFrame:mr,!0);let Rf;function DL(){Rf=void 0}const fi={now:()=>(Rf===void 0&&fi.set(Qn.isProcessing||Fs.useManualTiming?Qn.timestamp:performance.now()),Rf),set:t=>{Rf=t,queueMicrotask(DL)}},d2=t=>e=>typeof e=="string"&&e.startsWith(t),f2=d2("--"),kL=d2("var(--"),ab=t=>kL(t)?ML.test(t.split("/*")[0].trim()):!1,ML=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function sE(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const pc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},eh={...pc,transform:t=>as(0,1,t)},uf={...pc,default:1},Pu=t=>Math.round(t*1e5)/1e5,ob=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function OL(t){return t==null}const PL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lb=(t,e)=>n=>!!(typeof n=="string"&&PL.test(n)&&n.startsWith(t)||e&&!OL(n)&&Object.prototype.hasOwnProperty.call(n,e)),m2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,h]=r.match(ob);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},VL=t=>as(0,255,t),Ey={...pc,transform:t=>Math.round(VL(t))},ko={test:lb("rgb","red"),parse:m2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ey.transform(t)+", "+Ey.transform(e)+", "+Ey.transform(n)+", "+Pu(eh.transform(r))+")"};function jL(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const wv={test:lb("#"),parse:jL,transform:ko.transform},Nh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ea=Nh("deg"),ts=Nh("%"),Te=Nh("px"),LL=Nh("vh"),UL=Nh("vw"),aE={...ts,parse:t=>ts.parse(t)/100,transform:t=>ts.transform(t*100)},Bl={test:lb("hsl","hue"),parse:m2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ts.transform(Pu(e))+", "+ts.transform(Pu(n))+", "+Pu(eh.transform(r))+")"},En={test:t=>ko.test(t)||wv.test(t)||Bl.test(t),parse:t=>ko.test(t)?ko.parse(t):Bl.test(t)?Bl.parse(t):wv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ko.transform(t):Bl.transform(t),getAnimatableNone:t=>{const e=En.parse(t);return e.alpha=0,En.transform(e)}},zL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function BL(t){return isNaN(t)&&typeof t=="string"&&(t.match(ob)?.length||0)+(t.match(zL)?.length||0)>0}const p2="number",g2="color",FL="var",qL="var(",oE="${}",HL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function th(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(HL,d=>(En.test(d)?(r.color.push(l),a.push(g2),n.push(En.parse(d))):d.startsWith(qL)?(r.var.push(l),a.push(FL),n.push(d)):(r.number.push(l),a.push(p2),n.push(parseFloat(d))),++l,oE)).split(oE);return{values:n,split:h,indexes:r,types:a}}function y2(t){return th(t).values}function v2(t){const{split:e,types:n}=th(t),r=e.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===p2?l+=Pu(a[c]):h===g2?l+=En.transform(a[c]):l+=a[c]}return l}}const GL=t=>typeof t=="number"?0:En.test(t)?En.getAnimatableNone(t):t;function $L(t){const e=y2(t);return v2(t)(e.map(GL))}const Ga={test:BL,parse:y2,createTransformer:v2,getAnimatableNone:$L};function Sy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function KL({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=Sy(d,h,t+1/3),l=Sy(d,h,t),c=Sy(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function lm(t,e){return n=>n>0?e:t}const Zt=(t,e,n)=>t+(e-t)*n,Ay=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},YL=[wv,ko,Bl],XL=t=>YL.find(e=>e.test(t));function lE(t){const e=XL(t);if(!e)return!1;let n=e.parse(t);return e===Bl&&(n=KL(n)),n}const cE=(t,e)=>{const n=lE(t),r=lE(e);if(!n||!r)return lm(t,e);const a={...n};return l=>(a.red=Ay(n.red,r.red,l),a.green=Ay(n.green,r.green,l),a.blue=Ay(n.blue,r.blue,l),a.alpha=Zt(n.alpha,r.alpha,l),ko.transform(a))},Tv=new Set(["none","hidden"]);function WL(t,e){return Tv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function QL(t,e){return n=>Zt(t,e,n)}function cb(t){return typeof t=="number"?QL:typeof t=="string"?ab(t)?lm:En.test(t)?cE:e6:Array.isArray(t)?b2:typeof t=="object"?En.test(t)?cE:JL:lm}function b2(t,e){const n=[...t],r=n.length,a=t.map((l,c)=>cb(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function JL(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=cb(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function ZL(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][r[l]],h=t.values[c]??0;n[a]=h,r[l]++}return n}const e6=(t,e)=>{const n=Ga.createTransformer(e),r=th(t),a=th(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Tv.has(t)&&!a.values.length||Tv.has(e)&&!r.values.length?WL(t,e):Rh(b2(ZL(r,a),a.values),n):lm(t,e)};function x2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Zt(t,e,n):cb(t)(t,e)}const t6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Kt.update(e,n),stop:()=>Ha(e),now:()=>Qn.isProcessing?Qn.timestamp:fi.now()}},_2=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},cm=2e4;function ub(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<cm;)e+=n,r=t.next(e);return e>=cm?1/0:e}function n6(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(ub(r),cm);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:hr(a)}}const i6=5;function w2(t,e,n){const r=Math.max(e-i6,0);return e2(n-t(r),e-r)}const ln={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Cy=.001;function r6({duration:t=ln.duration,bounce:e=ln.bounce,velocity:n=ln.velocity,mass:r=ln.mass}){let a,l,c=1-e;c=as(ln.minDamping,ln.maxDamping,c),t=as(ln.minDuration,ln.maxDuration,hr(t)),c<1?(a=m=>{const g=m*c,v=g*t,_=g-n,A=Ev(m,c),M=Math.exp(-v);return Cy-_/A*M},l=m=>{const v=m*c*t,_=v*n+n,A=Math.pow(c,2)*Math.pow(m,2)*t,M=Math.exp(-v),O=Ev(Math.pow(m,2),c);return(-a(m)+Cy>0?-1:1)*((_-A)*M)/O}):(a=m=>{const g=Math.exp(-m*t),v=(m-n)*t+1;return-Cy+g*v},l=m=>{const g=Math.exp(-m*t),v=(n-m)*(t*t);return g*v});const h=5/t,d=a6(a,l,h);if(t=Vs(t),isNaN(d))return{stiffness:ln.stiffness,damping:ln.damping,duration:t};{const m=Math.pow(d,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:t}}}const s6=12;function a6(t,e,n){let r=n;for(let a=1;a<s6;a++)r=r-t(r)/e(r);return r}function Ev(t,e){return t*Math.sqrt(1-e*e)}const o6=["duration","bounce"],l6=["stiffness","damping","mass"];function uE(t,e){return e.some(n=>t[n]!==void 0)}function c6(t){let e={velocity:ln.velocity,stiffness:ln.stiffness,damping:ln.damping,mass:ln.mass,isResolvedFromDuration:!1,...t};if(!uE(t,l6)&&uE(t,o6))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*as(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:ln.mass,stiffness:a,damping:l}}else{const n=r6(t);e={...e,...n,mass:ln.mass},e.isResolvedFromDuration=!0}return e}function um(t=ln.visualDuration,e=ln.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:m,mass:g,duration:v,velocity:_,isResolvedFromDuration:A}=c6({...n,velocity:-hr(n.velocity||0)}),M=_||0,O=m/(2*Math.sqrt(d*g)),I=c-l,z=hr(Math.sqrt(d/g)),$=Math.abs(I)<5;r||(r=$?ln.restSpeed.granular:ln.restSpeed.default),a||(a=$?ln.restDelta.granular:ln.restDelta.default);let H;if(O<1){const re=Ev(z,O);H=ae=>{const D=Math.exp(-O*z*ae);return c-D*((M+O*z*I)/re*Math.sin(re*ae)+I*Math.cos(re*ae))}}else if(O===1)H=re=>c-Math.exp(-z*re)*(I+(M+z*I)*re);else{const re=z*Math.sqrt(O*O-1);H=ae=>{const D=Math.exp(-O*z*ae),C=Math.min(re*ae,300);return c-D*((M+O*z*I)*Math.sinh(C)+re*I*Math.cosh(C))/re}}const le={calculatedDuration:A&&v||null,next:re=>{const ae=H(re);if(A)h.done=re>=v;else{let D=re===0?M:0;O<1&&(D=re===0?Vs(M):w2(H,re,ae));const C=Math.abs(D)<=r,P=Math.abs(c-ae)<=a;h.done=C&&P}return h.value=h.done?c:ae,h},toString:()=>{const re=Math.min(ub(le),cm),ae=_2(D=>le.next(re*D).value,re,30);return re+"ms "+ae},toTransition:()=>{}};return le}um.applyToOptions=t=>{const e=n6(t,100,um);return t.ease=e.ease,t.duration=Vs(e.duration),t.type="keyframes",t};function Sv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:d,restDelta:m=.5,restSpeed:g}){const v=t[0],_={done:!1,value:v},A=C=>h!==void 0&&C<h||d!==void 0&&C>d,M=C=>h===void 0?d:d===void 0||Math.abs(h-C)<Math.abs(d-C)?h:d;let O=n*e;const I=v+O,z=c===void 0?I:c(I);z!==I&&(O=z-v);const $=C=>-O*Math.exp(-C/r),H=C=>z+$(C),le=C=>{const P=$(C),N=H(C);_.done=Math.abs(P)<=m,_.value=_.done?z:N};let re,ae;const D=C=>{A(_.value)&&(re=C,ae=um({keyframes:[_.value,M(_.value)],velocity:w2(H,C,_.value),damping:a,stiffness:l,restDelta:m,restSpeed:g}))};return D(0),{calculatedDuration:null,next:C=>{let P=!1;return!ae&&re===void 0&&(P=!0,le(C),D(C)),re!==void 0&&C>=re?ae.next(C-re):(!P&&le(C),_)}}}function u6(t,e,n){const r=[],a=n||Fs.mix||x2,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||mr:e;h=Rh(d,h)}r.push(h)}return r}function h6(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(tb(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=u6(e,r,a),d=h.length,m=g=>{if(c&&g<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const _=Zu(t[v],t[v+1],g);return h[v](_)};return n?g=>m(as(t[0],t[l-1],g)):m}function d6(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=Zu(0,e,r);t.push(Zt(n,1,a))}}function f6(t){const e=[0];return d6(e,t.length-1),e}function m6(t,e){return t.map(n=>n*e)}function p6(t,e){return t.map(()=>e||c2).splice(0,t.length-1)}function Vu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=AL(r)?r.map(rE):rE(r),l={done:!1,value:e[0]},c=m6(n&&n.length===e.length?n:f6(e),t),h=h6(c,e,{ease:Array.isArray(a)?a:p6(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const g6=t=>t!==null;function hb(t,{repeat:e,repeatType:n="loop"},r,a=1){const l=t.filter(g6),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||r===void 0?l[h]:r}const y6={decay:Sv,inertia:Sv,tween:Vu,keyframes:Vu,spring:um};function T2(t){typeof t.type=="string"&&(t.type=y6[t.type])}class db{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const v6=t=>t/100;class fb extends db{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==fi.now()&&this.tick(fi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;T2(e);const{type:n=Vu,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const d=n||Vu;d!==Vu&&typeof h[0]!="number"&&(this.mixKeyframes=Rh(v6,x2(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=ub(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:v,repeatType:_,repeatDelay:A,type:M,onUpdate:O,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-m*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?z<0:z>a;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,le=r;if(v){const C=Math.min(this.currentTime,a)/h;let P=Math.floor(C),N=C%1;!N&&C>=1&&(N=1),N===1&&P--,P=Math.min(P,v+1),P%2&&(_==="reverse"?(N=1-N,A&&(N-=A/h)):_==="mirror"&&(le=c)),H=as(0,1,N)*h}const re=$?{done:!1,value:g[0]}:le.next(H);l&&(re.value=l(re.value));let{done:ae}=re;!$&&d!==null&&(ae=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return D&&M!==Sv&&(re.value=hb(g,this.options,I,this.speed)),O&&O(re.value),D&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return hr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hr(e)}get time(){return hr(this.currentTime)}set time(e){e=Vs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(fi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=hr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=t6,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function b6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Mo=t=>t*180/Math.PI,Av=t=>{const e=Mo(Math.atan2(t[1],t[0]));return Cv(e)},x6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Av,rotateZ:Av,skewX:t=>Mo(Math.atan(t[1])),skewY:t=>Mo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Cv=t=>(t=t%360,t<0&&(t+=360),t),hE=Av,dE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),fE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),_6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dE,scaleY:fE,scale:t=>(dE(t)+fE(t))/2,rotateX:t=>Cv(Mo(Math.atan2(t[6],t[5]))),rotateY:t=>Cv(Mo(Math.atan2(-t[2],t[0]))),rotateZ:hE,rotate:hE,skewX:t=>Mo(Math.atan(t[4])),skewY:t=>Mo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Rv(t){return t.includes("scale")?1:0}function Iv(t,e){if(!t||t==="none")return Rv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=_6,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=x6,a=h}if(!a)return Rv(e);const l=r[e],c=a[1].split(",").map(T6);return typeof l=="function"?l(c):c[l]}const w6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Iv(n,e)};function T6(t){return parseFloat(t.trim())}const gc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yc=new Set(gc),mE=t=>t===pc||t===Te,E6=new Set(["x","y","z"]),S6=gc.filter(t=>!E6.has(t));function A6(t){const e=[];return S6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Da={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Iv(e,"x"),y:(t,{transform:e})=>Iv(e,"y")};Da.translateX=Da.x;Da.translateY=Da.y;const Vo=new Set;let Nv=!1,Dv=!1,kv=!1;function E2(){if(Dv){const t=Array.from(Vo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=A6(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{r.getValue(l)?.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Dv=!1,Nv=!1,Vo.forEach(t=>t.complete(kv)),Vo.clear()}function S2(){Vo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Dv=!0)})}function C6(){kv=!0,S2(),E2(),kv=!1}class mb{constructor(e,n,r,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Vo.add(this),Nv||(Nv=!0,Kt.read(S2),Kt.resolveKeyframes(E2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}b6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Vo.delete(this)}cancel(){this.state==="scheduled"&&(Vo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const R6=t=>t.startsWith("--");function I6(t,e,n){R6(e)?t.style.setProperty(e,n):t.style[e]=n}const N6=nb(()=>window.ScrollTimeline!==void 0),D6={};function k6(t,e){const n=nb(t);return()=>D6[e]??n()}const A2=k6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Au=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,pE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Au([0,.65,.55,1]),circOut:Au([.55,0,1,.45]),backIn:Au([.31,.01,.66,-.59]),backOut:Au([.33,1.53,.69,.99])};function C2(t,e){if(t)return typeof t=="function"?A2()?_2(t,e):"ease-out":u2(t)?Au(t):Array.isArray(t)?t.map(n=>C2(n,e)||pE.easeOut):pE[t]}function M6(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:d}={},m=void 0){const g={[e]:n};d&&(g.offset=d);const v=C2(h,a);Array.isArray(v)&&(g.easing=v);const _={delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(_.pseudoElement=m),t.animate(g,_)}function R2(t){return typeof t=="function"&&"applyToOptions"in t}function O6({type:t,...e}){return R2(t)&&A2()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class P6 extends db{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,tb(typeof e.type!="string");const m=O6(e);this.animation=M6(n,r,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=hb(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):I6(n,r,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return hr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hr(e)}get time(){return hr(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Vs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&N6()?(this.animation.timeline=e,mr):n(this)}}const I2={anticipate:a2,backInOut:s2,circInOut:l2};function V6(t){return t in I2}function j6(t){typeof t.ease=="string"&&V6(t.ease)&&(t.ease=I2[t.ease])}const Ry=10;class L6 extends P6{constructor(e){j6(e),T2(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new fb({...c,autoplay:!1}),d=Math.max(Ry,fi.now()-this.startTime),m=as(0,Ry,d-Ry);n.setWithVelocity(h.sample(Math.max(0,d-m)).value,h.sample(d).value,m),h.stop()}}const gE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ga.test(t)||t==="0")&&!t.startsWith("url("));function U6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function z6(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=gE(a,e),h=gE(l,e);return!c||!h?!1:U6(t)||(n==="spring"||R2(n))&&r}function Mv(t){t.duration=0,t.type="keyframes"}const B6=new Set(["opacity","clipPath","filter","transform"]),F6=nb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function q6(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return F6()&&n&&B6.has(n)&&(n!=="transform"||!m)&&!d&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}const H6=40;class G6 extends db{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:d,motionValue:m,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=fi.now();const _={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,name:d,motionValue:m,element:g,...v},A=g?.KeyframeResolver||mb;this.keyframeResolver=new A(h,(M,O,I)=>this.onKeyframesResolved(M,O,_,!I),d,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:d,isHandoff:m,onUpdate:g}=r;this.resolvedAt=fi.now(),z6(e,l,c,h)||((Fs.instantAnimations||!d)&&g?.(hb(e,r,n)),e[0]=e[e.length-1],Mv(r),r.repeat=0);const _={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>H6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},A=!m&&q6(_)?new L6({..._,element:_.motionValue.owner.current}):new fb(_);A.finished.then(()=>this.notifyFinished()).catch(mr),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),C6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const $6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function K6(t){const e=$6.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function N2(t,e,n=1){const[r,a]=K6(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return QR(c)?parseFloat(c):c}return ab(a)?N2(a,e,n+1):a}function pb(t,e){return t?.[e]??t?.default??t}const Y6={type:"spring",stiffness:500,damping:25,restSpeed:10},X6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),W6={type:"keyframes",duration:.8},Q6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},J6=(t,{keyframes:e})=>e.length>2?W6:yc.has(t)?t.startsWith("scale")?X6(e[1]):Y6:Q6;function Z6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:d,elapsed:m,...g}){return!!Object.keys(g).length}const eU=t=>t!==null;function tU(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(eU),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function D2(t,e,n,r=0,a=1){const l=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),c=t.size,h=(c-1)*r;return typeof n=="function"?n(l,c):a===1?l*r:h-l*r}const gb=(t,e,n,r={},a,l)=>c=>{const h=pb(r,t)||{},d=h.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Vs(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};Z6(h)||Object.assign(g,J6(t,g)),g.duration&&(g.duration=Vs(g.duration)),g.repeatDelay&&(g.repeatDelay=Vs(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Mv(g),g.delay===0&&(v=!0)),(Fs.instantAnimations||Fs.skipAnimations)&&(v=!0,Mv(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const _=tU(g.keyframes,h);if(_!==void 0){Kt.update(()=>{g.onUpdate(_),g.onComplete()});return}}return h.isSync?new fb(g):new G6(g)},k2=new Set(["width","height","top","left","right","bottom",...gc]),yE=30,nU=t=>!isNaN(parseFloat(t));class iU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=fi.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=fi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ib);const r=this.events[e].add(n);return e==="change"?()=>{r(),Kt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>yE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,yE);return e2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ac(t,e){return new iU(t,e)}function vE(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function yb(t,e,n,r){if(typeof e=="function"){const[a,l]=vE(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=vE(r);e=e(n!==void 0?n:t.custom,a,l)}return e}function Wl(t,e,n){const r=t.getProps();return yb(r,e,n!==void 0?n:r.custom,t)}const Ov=t=>Array.isArray(t);function rU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ac(n))}function sU(t){return Ov(t)?t[t.length-1]||0:t}function aU(t,e){const n=Wl(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const h=sU(l[c]);rU(t,c,h)}}const ci=t=>!!(t&&t.getVelocity);function oU(t){return!!(ci(t)&&t.add)}function Pv(t,e){const n=t.getValue("willChange");if(oU(n))return n.add(e);if(!n&&Fs.WillChange){const r=new Fs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function vb(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const lU="framerAppearId",M2="data-"+vb(lU);function O2(t){return t.props[M2]}function cU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function P2(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(l=r);const d=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const g in h){const v=t.getValue(g,t.latestValues[g]??null),_=h[g];if(_===void 0||m&&cU(m,g))continue;const A={delay:n,...pb(l||{},g)},M=v.get();if(M!==void 0&&!v.isAnimating&&!Array.isArray(_)&&_===M&&!A.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const z=O2(t);if(z){const $=window.MotionHandoffAnimation(z,g,Kt);$!==null&&(A.startTime=$,O=!0)}}Pv(t,g),v.start(gb(g,v,_,t.shouldReduceMotion&&k2.has(g)?{type:!1}:A,t,O));const I=v.animation;I&&d.push(I)}return c&&Promise.all(d).then(()=>{Kt.update(()=>{c&&aU(t,c)})}),d}function Vv(t,e,n={}){const r=Wl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(P2(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=a;return uU(t,e,d,m,g,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,m]=h==="beforeChildren"?[l,c]:[c,l];return d().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function uU(t,e,n=0,r=0,a=0,l=1,c){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(Vv(d,e,{...c,delay:n+(typeof r=="function"?0:r)+D2(t.variantChildren,d,r,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function hU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>Vv(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=Vv(t,e,n);else{const a=typeof e=="function"?Wl(t,e,n.custom):e;r=Promise.all(P2(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const dU={test:t=>t==="auto",parse:t=>t},V2=t=>e=>e.test(t),j2=[pc,Te,ts,Ea,UL,LL,dU],bE=t=>j2.find(V2(t));function fU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ZR(t):!0}const mU=new Set(["brightness","contrast","saturate","opacity"]);function pU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ob)||[];if(!r)return t;const a=n.replace(r,"");let l=mU.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const gU=/\b([a-z-]*)\(.*?\)/gu,jv={...Ga,getAnimatableNone:t=>{const e=t.match(gU);return e?e.map(pU).join(" "):t}},xE={...pc,transform:Math.round},yU={rotate:Ea,rotateX:Ea,rotateY:Ea,rotateZ:Ea,scale:uf,scaleX:uf,scaleY:uf,scaleZ:uf,skew:Ea,skewX:Ea,skewY:Ea,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:eh,originX:aE,originY:aE,originZ:Te},bb={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,inset:Te,insetBlock:Te,insetBlockStart:Te,insetBlockEnd:Te,insetInline:Te,insetInlineStart:Te,insetInlineEnd:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,paddingBlock:Te,paddingBlockStart:Te,paddingBlockEnd:Te,paddingInline:Te,paddingInlineStart:Te,paddingInlineEnd:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,marginBlock:Te,marginBlockStart:Te,marginBlockEnd:Te,marginInline:Te,marginInlineStart:Te,marginInlineEnd:Te,backgroundPositionX:Te,backgroundPositionY:Te,...yU,zIndex:xE,fillOpacity:eh,strokeOpacity:eh,numOctaves:xE},vU={...bb,color:En,backgroundColor:En,outlineColor:En,fill:En,stroke:En,borderColor:En,borderTopColor:En,borderRightColor:En,borderBottomColor:En,borderLeftColor:En,filter:jv,WebkitFilter:jv},L2=t=>vU[t];function U2(t,e){let n=L2(t);return n!==jv&&(n=Ga),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const bU=new Set(["auto","none","0"]);function xU(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!bU.has(l)&&th(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=U2(n,a)}class _U extends mb{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let v=e[g];if(typeof v=="string"&&(v=v.trim(),ab(v))){const _=N2(v,n.current);_!==void 0&&(e[g]=_),g===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!k2.has(r)||e.length!==2)return;const[a,l]=e,c=bE(a),h=bE(l),d=sE(a),m=sE(l);if(d!==m&&Da[r]){this.needsMeasurement=!0;return}if(c!==h)if(mE(c)&&mE(h))for(let g=0;g<e.length;g++){const v=e[g];typeof v=="string"&&(e[g]=parseFloat(v))}else Da[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||fU(e[a]))&&r.push(a);r.length&&xU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Da[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=Da[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function wU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=n?.[t]??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const z2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function B2(t){return JR(t)&&"offsetHeight"in t}const{schedule:xb}=h2(queueMicrotask,!1),Cr={x:!1,y:!1};function F2(){return Cr.x||Cr.y}function TU(t){return t==="x"||t==="y"?Cr[t]?null:(Cr[t]=!0,()=>{Cr[t]=!1}):Cr.x||Cr.y?null:(Cr.x=Cr.y=!0,()=>{Cr.x=Cr.y=!1})}function q2(t,e){const n=wU(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function _E(t){return!(t.pointerType==="touch"||F2())}function EU(t,e,n={}){const[r,a,l]=q2(t,n),c=h=>{if(!_E(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const g=v=>{_E(v)&&(m(v),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,a)};return r.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const H2=(t,e)=>e?t===e?!0:H2(t,e.parentElement):!1,_b=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,SU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function G2(t){return SU.has(t.tagName)||t.isContentEditable===!0}const If=new WeakSet;function wE(t){return e=>{e.key==="Enter"&&t(e)}}function Iy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const AU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=wE(()=>{if(If.has(n))return;Iy(n,"down");const a=wE(()=>{Iy(n,"up")}),l=()=>Iy(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function TE(t){return _b(t)&&!F2()}function CU(t,e,n={}){const[r,a,l]=q2(t,n),c=h=>{const d=h.currentTarget;if(!TE(h))return;If.add(d);const m=e(d,h),g=(A,M)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),If.has(d)&&If.delete(d),TE(A)&&typeof m=="function"&&m(A,{success:M})},v=A=>{g(A,d===window||d===document||n.useGlobalTarget||H2(d,A.target))},_=A=>{g(A,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",_,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),B2(h)&&(h.addEventListener("focus",m=>AU(m,a)),!G2(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function $2(t){return JR(t)&&"ownerSVGElement"in t}function RU(t){return $2(t)&&t.tagName==="svg"}const IU=[...j2,En,Ga],NU=t=>IU.find(V2(t)),EE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fl=()=>({x:EE(),y:EE()}),SE=()=>({min:0,max:0}),Mn=()=>({x:SE(),y:SE()}),Lv={current:null},K2={current:!1},DU=typeof window<"u";function kU(){if(K2.current=!0,!!DU)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Lv.current=t.matches;t.addEventListener("change",e),e()}else Lv.current=!1}const MU=new WeakMap;function Jm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function nh(t){return typeof t=="string"||Array.isArray(t)}const wb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Tb=["initial",...wb];function Zm(t){return Jm(t.animate)||Tb.some(e=>nh(t[e]))}function Y2(t){return!!(Zm(t)||t.variants)}function OU(t,e,n){for(const r in e){const a=e[r],l=n[r];if(ci(a))t.addValue(r,a);else if(ci(l))t.addValue(r,ac(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(r);t.addValue(r,ac(c!==void 0?c:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const AE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let hm={};function X2(t){hm=t}function PU(){return hm}class VU{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=fi.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Kt.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Zm(n),this.isVariantNode=Y2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in v){const A=v[_];d[_]!==void 0&&ci(A)&&A.set(d[_])}}mount(e){this.current=e,MU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(K2.current||kU(),this.shouldReduceMotion=Lv.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ha(this.notifyUpdate),Ha(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=yc.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Kt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hm){const n=hm[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<AE.length;r++){const a=AE[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=OU(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ac(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(QR(r)||ZR(r))?r=parseFloat(r):!NU(r)&&Ga.test(n)&&(r=U2(e,n)),this.setBaseTarget(e,ci(r)?r.get():r)),ci(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=yb(this.props,n,this.presenceContext?.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!ci(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ib),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){xb.render(this.render)}}class Wa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class W2 extends VU{constructor(){super(...arguments),this.KeyframeResolver=_U}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ci(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Q2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function jU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function LU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ny(t){return t===void 0||t===1}function Uv({scale:t,scaleX:e,scaleY:n}){return!Ny(t)||!Ny(e)||!Ny(n)}function Io(t){return Uv(t)||J2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function J2(t){return CE(t.x)||CE(t.y)}function CE(t){return t&&t!=="0%"}function dm(t,e,n){const r=t-n,a=e*r;return n+a}function RE(t,e,n,r,a){return a!==void 0&&(t=dm(t,a,r)),dm(t,n,r)+e}function zv(t,e=0,n=1,r,a){t.min=RE(t.min,e,n,r,a),t.max=RE(t.max,e,n,r,a)}function Z2(t,{x:e,y:n}){zv(t.x,e.translate,e.scale,e.originPoint),zv(t.y,n.translate,n.scale,n.originPoint)}const IE=.999999999999,NE=1.0000000000001;function UU(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Hl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Z2(t,c)),r&&Io(l.latestValues)&&Hl(t,l.latestValues))}e.x<NE&&e.x>IE&&(e.x=1),e.y<NE&&e.y>IE&&(e.y=1)}function ql(t,e){t.min=t.min+e,t.max=t.max+e}function DE(t,e,n,r,a=.5){const l=Zt(t.min,t.max,a);zv(t,e,n,l,r)}function Hl(t,e){DE(t.x,e.x,e.scaleX,e.scale,e.originX),DE(t.y,e.y,e.scaleY,e.scale,e.originY)}function eI(t,e){return Q2(LU(t.getBoundingClientRect(),e))}function zU(t,e,n){const r=eI(t,n),{scroll:a}=e;return a&&(ql(r.x,a.offset.x),ql(r.y,a.offset.y)),r}const BU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FU=gc.length;function qU(t,e,n){let r="",a=!0;for(let l=0;l<FU;l++){const c=gc[l],h=t[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const m=z2(h,bb[c]);if(!d){a=!1;const g=BU[c]||c;r+=`${g}(${m}) `}n&&(e[c]=m)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function Eb(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const d in e){const m=e[d];if(yc.has(d)){c=!0;continue}else if(f2(d)){a[d]=m;continue}else{const g=z2(m,bb[d]);d.startsWith("origin")?(h=!0,l[d]=g):r[d]=g}}if(e.transform||(c||n?r.transform=qU(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:g=0}=l;r.transformOrigin=`${d} ${m} ${g}`}}function tI(t,{style:e,vars:n},r,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,r);for(c in n)l.setProperty(c,n[c])}function kE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=kE(t,e.target.x),r=kE(t,e.target.y);return`${n}% ${r}%`}},HU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=Ga.parse(t);if(a.length>5)return r;const l=Ga.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=d;const m=Zt(h,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}},Bv={borderRadius:{...vu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vu,borderTopRightRadius:vu,borderBottomLeftRadius:vu,borderBottomRightRadius:vu,boxShadow:HU};function nI(t,{layout:e,layoutId:n}){return yc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Bv[t]||t==="opacity")}function Sb(t,e,n){const r=t.style,a=e?.style,l={};if(!r)return l;for(const c in r)(ci(r[c])||a&&ci(a[c])||nI(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=r[c]);return l}function GU(t){return window.getComputedStyle(t)}class $U extends W2{constructor(){super(...arguments),this.type="html",this.renderInstance=tI}readValueFromInstance(e,n){if(yc.has(n))return this.projection?.isProjecting?Rv(n):w6(e,n);{const r=GU(e),a=(f2(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return eI(e,n)}build(e,n,r){Eb(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Sb(e,n,r)}}const KU={offset:"stroke-dashoffset",array:"stroke-dasharray"},YU={offset:"strokeDashoffset",array:"strokeDasharray"};function XU(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?KU:YU;t[l.offset]=Te.transform(-r);const c=Te.transform(e),h=Te.transform(n);t[l.array]=`${c} ${h}`}const WU=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function iI(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},d,m,g){if(Eb(t,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:_}=t;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=g?.transformBox??"fill-box",delete v.transformBox);for(const A of WU)v[A]!==void 0&&(_[A]=v[A],delete v[A]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),a!==void 0&&XU(v,a,l,c,!1)}const rI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),sI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function QU(t,e,n,r){tI(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(rI.has(a)?a:vb(a),e.attrs[a])}function aI(t,e,n){const r=Sb(t,e,n);for(const a in t)if(ci(t[a])||ci(e[a])){const l=gc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}class JU extends W2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Mn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(yc.has(n)){const r=L2(n);return r&&r.default||0}return n=rI.has(n)?n:vb(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return aI(e,n,r)}build(e,n,r){iI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){QU(e,n,r,a)}mount(e){this.isSVGTag=sI(e.tagName),super.mount(e)}}const ZU=Tb.length;function oI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?oI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ZU;n++){const r=Tb[n],a=t.props[r];(nh(a)||a===!1)&&(e[r]=a)}return e}function lI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const e9=[...wb].reverse(),t9=wb.length;function n9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>hU(t,n,r)))}function i9(t){let e=n9(t),n=ME(),r=!0;const a=d=>(m,g)=>{const v=Wl(t,g,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:_,transitionEnd:A,...M}=v;m={...m,...M,...A}}return m};function l(d){e=d(t)}function c(d){const{props:m}=t,g=oI(t.parent)||{},v=[],_=new Set;let A={},M=1/0;for(let I=0;I<t9;I++){const z=e9[I],$=n[z],H=m[z]!==void 0?m[z]:g[z],le=nh(H),re=z===d?$.isActive:null;re===!1&&(M=I);let ae=H===g[z]&&H!==m[z]&&le;if(ae&&r&&t.manuallyAnimateOnMount&&(ae=!1),$.protectedKeys={...A},!$.isActive&&re===null||!H&&!$.prevProp||Jm(H)||typeof H=="boolean")continue;const D=r9($.prevProp,H);let C=D||z===d&&$.isActive&&!ae&&le||I>M&&le,P=!1;const N=Array.isArray(H)?H:[H];let V=N.reduce(a(z),{});re===!1&&(V={});const{prevResolvedValues:B={}}=$,j={...B,...V},be=G=>{C=!0,_.has(G)&&(P=!0,_.delete(G)),$.needsAnimating[G]=!0;const q=t.getValue(G);q&&(q.liveStyle=!1)};for(const G in j){const q=V[G],W=B[G];if(A.hasOwnProperty(G))continue;let U=!1;Ov(q)&&Ov(W)?U=!lI(q,W):U=q!==W,U?q!=null?be(G):_.add(G):q!==void 0&&_.has(G)?be(G):$.protectedKeys[G]=!0}$.prevProp=H,$.prevResolvedValues=V,$.isActive&&(A={...A,...V}),r&&t.blockInitialAnimation&&(C=!1);const De=ae&&D;C&&(!De||P)&&v.push(...N.map(G=>{const q={type:z};if(typeof G=="string"&&r&&!De&&t.manuallyAnimateOnMount&&t.parent){const{parent:W}=t,U=Wl(W,G);if(W.enteringChildren&&U){const{delayChildren:E}=U.transition||{};q.delay=D2(W.enteringChildren,t,E)}}return{animation:G,options:q}}))}if(_.size){const I={};if(typeof m.initial!="boolean"){const z=Wl(t,Array.isArray(m.initial)?m.initial[0]:m.initial);z&&z.transition&&(I.transition=z.transition)}_.forEach(z=>{const $=t.getBaseTarget(z),H=t.getValue(z);H&&(H.liveStyle=!0),I[z]=$??null}),v.push({animation:I})}let O=!!v.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(O=!1),r=!1,O?e(v):Promise.resolve()}function h(d,m){if(n[d].isActive===m)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,m)),n[d].isActive=m;const g=c(d);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=ME()}}}function r9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!lI(e,t):!1}function Eo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ME(){return{animate:Eo(!0),whileInView:Eo(),whileHover:Eo(),whileTap:Eo(),whileDrag:Eo(),whileFocus:Eo(),exit:Eo()}}const cI=1e-4,s9=1-cI,a9=1+cI,uI=.01,o9=0-uI,l9=0+uI;function mi(t){return t.max-t.min}function c9(t,e,n){return Math.abs(t-e)<=n}function OE(t,e,n,r=.5){t.origin=r,t.originPoint=Zt(e.min,e.max,t.origin),t.scale=mi(n)/mi(e),t.translate=Zt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=s9&&t.scale<=a9||isNaN(t.scale))&&(t.scale=1),(t.translate>=o9&&t.translate<=l9||isNaN(t.translate))&&(t.translate=0)}function ju(t,e,n,r){OE(t.x,e.x,n.x,r?r.originX:void 0),OE(t.y,e.y,n.y,r?r.originY:void 0)}function PE(t,e,n){t.min=n.min+e.min,t.max=t.min+mi(e)}function u9(t,e,n){PE(t.x,e.x,n.x),PE(t.y,e.y,n.y)}function VE(t,e,n){t.min=e.min-n.min,t.max=t.min+mi(e)}function fm(t,e,n){VE(t.x,e.x,n.x),VE(t.y,e.y,n.y)}function jE(t,e,n,r,a){return t-=e,t=dm(t,1/n,r),a!==void 0&&(t=dm(t,1/a,r)),t}function h9(t,e=0,n=1,r=.5,a,l=t,c=t){if(ts.test(e)&&(e=parseFloat(e),e=Zt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Zt(l.min,l.max,r);t===l&&(h-=e),t.min=jE(t.min,e,n,h,a),t.max=jE(t.max,e,n,h,a)}function LE(t,e,[n,r,a],l,c){h9(t,e[n],e[r],e[a],e.scale,l,c)}const d9=["x","scaleX","originX"],f9=["y","scaleY","originY"];function UE(t,e,n,r){LE(t.x,e,d9,n?n.x:void 0,r?r.x:void 0),LE(t.y,e,f9,n?n.y:void 0,r?r.y:void 0)}function zE(t,e){t.min=e.min,t.max=e.max}function Ar(t,e){zE(t.x,e.x),zE(t.y,e.y)}function BE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function FE(t){return t.translate===0&&t.scale===1}function hI(t){return FE(t.x)&&FE(t.y)}function qE(t,e){return t.min===e.min&&t.max===e.max}function m9(t,e){return qE(t.x,e.x)&&qE(t.y,e.y)}function HE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function dI(t,e){return HE(t.x,e.x)&&HE(t.y,e.y)}function GE(t){return mi(t.x)/mi(t.y)}function $E(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function or(t){return[t("x"),t("y")]}function p9(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:v,rotateY:_,skewX:A,skewY:M}=n;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),_&&(r+=`rotateY(${_}deg) `),A&&(r+=`skewX(${A}deg) `),M&&(r+=`skewY(${M}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const fI=["TopLeft","TopRight","BottomLeft","BottomRight"],g9=fI.length,KE=t=>typeof t=="string"?parseFloat(t):t,YE=t=>typeof t=="number"||Te.test(t);function y9(t,e,n,r,a,l){a?(t.opacity=Zt(0,n.opacity??1,v9(r)),t.opacityExit=Zt(e.opacity??1,0,b9(r))):l&&(t.opacity=Zt(e.opacity??1,n.opacity??1,r));for(let c=0;c<g9;c++){const h=`border${fI[c]}Radius`;let d=XE(e,h),m=XE(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||YE(d)===YE(m)?(t[h]=Math.max(Zt(KE(d),KE(m),r),0),(ts.test(m)||ts.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=Zt(e.rotate||0,n.rotate||0,r))}function XE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const v9=mI(0,.5,o2),b9=mI(.5,.95,mr);function mI(t,e,n){return r=>r<t?0:r>e?1:n(Zu(t,e,r))}function x9(t,e){const n=fi.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(Ha(r),t(l-e))};return Kt.setup(r,!0),()=>Ha(r)}function ih(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Nf(t){return ci(t)?t.get():t}function _9(t,e,n){const r=ci(t)?t:ac(t);return r.start(gb("",r,e,n)),r.animation}const w9=(t,e)=>t.depth-e.depth;class T9{constructor(){this.children=[],this.isDirty=!1}add(e){Z0(this.children,e),this.isDirty=!0}remove(e){eb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(w9),this.isDirty=!1,this.children.forEach(e)}}class E9{constructor(){this.members=[]}add(e){Z0(this.members,e),e.scheduleRender()}remove(e){if(eb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Df={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Dy=["","X","Y","Z"],S9=1e3;let A9=0;function ky(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function pI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=O2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Kt,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&pI(r)}function gI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=A9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(I9),this.nodes.forEach(M9),this.nodes.forEach(O9),this.nodes.forEach(N9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new T9)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ib),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=$2(c)&&!RU(c),this.instance=c;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let g,v=0;const _=()=>this.root.updateBlockedByResize=!1;Kt.read(()=>{v=window.innerWidth}),t(c,()=>{const A=window.innerWidth;A!==v&&(v=A,this.root.updateBlockedByResize=!0,g&&g(),g=x9(_,250),Df.hasAnimatedSinceResize&&(Df.hasAnimatedSinceResize=!1,this.nodes.forEach(JE)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||m.getDefaultTransition()||U9,{onLayoutAnimationStart:O,onLayoutAnimationComplete:I}=m.getProps(),z=!this.targetLayout||!dI(this.targetLayout,A),$=!v&&_;if(this.options.layoutRoot||this.resumeFrom||$||v&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...pb(M,"layout"),onPlay:O,onComplete:I};(m.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(g,$)}else v||JE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ha(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(P9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&pI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(WE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(QE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(k9),this.nodes.forEach(C9),this.nodes.forEach(R9)):this.nodes.forEach(QE),this.clearAllSnapshots();const h=fi.now();Qn.delta=as(0,1e3/60,h-Qn.timestamp),Qn.timestamp=h,Qn.isProcessing=!0,Ty.update.process(Qn),Ty.preRender.process(Qn),Ty.render.process(Qn),Qn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(D9),this.sharedNodes.forEach(V9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mi(this.snapshot.measuredBox.x)&&!mi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Mn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!hI(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||Io(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),z9(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Mn();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(B9))){const{scroll:m}=this.root;m&&(ql(h.x,m.offset.x),ql(h.y,m.offset.y))}return h}removeElementScroll(c){const h=Mn();if(Ar(h,c),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:g,options:v}=m;m!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Ar(h,c),ql(h.x,g.offset.x),ql(h.y,g.offset.y))}return h}applyTransform(c,h=!1){const d=Mn();Ar(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Hl(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Io(g.latestValues)&&Hl(d,g.latestValues)}return Io(this.latestValues)&&Hl(d,this.latestValues),d}removeTransform(c){const h=Mn();Ar(h,c);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Io(m.latestValues))continue;Uv(m.latestValues)&&m.updateSnapshot();const g=Mn(),v=m.measurePageBox();Ar(g,v),UE(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Io(this.latestValues)&&UE(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=Qn.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Mn(),this.targetWithTransforms=Mn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),u9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ar(this.target,this.layout.layoutBox),Z2(this.target,this.targetDelta)):Ar(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Uv(this.parent.latestValues)||J2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,d){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mn(),this.relativeTargetOrigin=Mn(),fm(this.relativeTargetOrigin,h,d),Ar(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Qn.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Ar(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;UU(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Mn());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(BE(this.prevProjectionDelta.x,this.projectionDelta.x),BE(this.prevProjectionDelta.y,this.projectionDelta.y)),ju(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!$E(this.projectionDelta.x,this.prevProjectionDelta.x)||!$E(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fl(),this.projectionDelta=Fl(),this.projectionDeltaWithTransform=Fl()}setAnimationOrigin(c,h=!1){const d=this.snapshot,m=d?d.latestValues:{},g={...this.latestValues},v=Fl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=Mn(),A=d?d.source:void 0,M=this.layout?this.layout.source:void 0,O=A!==M,I=this.getStack(),z=!I||I.members.length<=1,$=!!(O&&!z&&this.options.crossfade===!0&&!this.path.some(L9));this.animationProgress=0;let H;this.mixTargetDelta=le=>{const re=le/1e3;ZE(v.x,c.x,re),ZE(v.y,c.y,re),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fm(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j9(this.relativeTarget,this.relativeTargetOrigin,_,re),H&&m9(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=Mn()),Ar(H,this.relativeTarget)),O&&(this.animationValues=g,y9(g,m,this.latestValues,re,$,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ha(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Kt.update(()=>{Df.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ac(0)),this.currentAnimation=_9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(S9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:g}=c;if(!(!h||!d||!m)){if(this!==c&&this.layout&&m&&yI(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Mn();const v=mi(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+v;const _=mi(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+_}Ar(h,d),Hl(h,g),ju(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new E9),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&ky("z",c,m,this.animationValues);for(let g=0;g<Dy.length;g++)ky(`rotate${Dy[g]}`,c,m,this.animationValues),ky(`skew${Dy[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Nf(h?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Nf(h?.pointerEvents)||""),this.hasProjected&&!Io(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=p9(this.projectionDeltaWithTransform,this.treeScale,g);d&&(v=d(g,v)),c.transform=v;const{x:_,y:A}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${A.origin*100}% 0`,m.animationValues?c.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const M in Bv){if(g[M]===void 0)continue;const{correct:O,applyTo:I,isCSSVariable:z}=Bv[M],$=v==="none"?g[M]:O(g[M],m);if(I){const H=I.length;for(let le=0;le<H;le++)c[I[le]]=$}else z?this.options.visualElement.renderState.vars[M]=$:c[M]=$}this.options.layoutId&&(c.pointerEvents=m===this?Nf(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(WE),this.root.sharedNodes.clear()}}}function C9(t){t.updateLayout()}function R9(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?or(g=>{const v=l?e.measuredBox[g]:e.layoutBox[g],_=mi(v);v.min=n[g].min,v.max=v.min+_}):yI(a,e.layoutBox,n)&&or(g=>{const v=l?e.measuredBox[g]:e.layoutBox[g],_=mi(n[g]);v.max=v.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+_)});const c=Fl();ju(c,n,e.layoutBox);const h=Fl();l?ju(h,t.applyTransform(r,!0),e.measuredBox):ju(h,n,e.layoutBox);const d=!hI(c);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:_}=g;if(v&&_){const A=Mn();fm(A,e.layoutBox,v.layoutBox);const M=Mn();fm(M,n,_.layoutBox),dI(A,M)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=A,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function I9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function N9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function D9(t){t.clearSnapshot()}function WE(t){t.clearMeasurements()}function QE(t){t.isLayoutDirty=!1}function k9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function JE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function M9(t){t.resolveTargetDelta()}function O9(t){t.calcProjection()}function P9(t){t.resetSkewAndRotation()}function V9(t){t.removeLeadSnapshot()}function ZE(t,e,n){t.translate=Zt(e.translate,0,n),t.scale=Zt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function eS(t,e,n,r){t.min=Zt(e.min,n.min,r),t.max=Zt(e.max,n.max,r)}function j9(t,e,n,r){eS(t.x,e.x,n.x,r),eS(t.y,e.y,n.y,r)}function L9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const U9={duration:.45,ease:[.4,0,.1,1]},tS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),nS=tS("applewebkit/")&&!tS("chrome/")?Math.round:mr;function iS(t){t.min=nS(t.min),t.max=nS(t.max)}function z9(t){iS(t.x),iS(t.y)}function yI(t,e,n){return t==="position"||t==="preserve-aspect"&&!c9(GE(e),GE(n),.2)}function B9(t){return t!==t.root&&t.scroll?.wasRoot}const F9=gI({attachResizeListener:(t,e)=>ih(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),My={current:void 0},vI=gI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!My.current){const t=new F9({});t.mount(window),t.setOptions({layoutScroll:!0}),My.current=t}return My.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ab=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function rS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function q9(...t){return e=>{let n=!1;const r=t.map(a=>{const l=rS(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():rS(t[a],null)}}}}function H9(...t){return S.useCallback(q9(...t),t)}class G9 extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=B2(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $9({children:t,isPresent:e,anchorX:n,root:r}){const a=S.useId(),l=S.useRef(null),c=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=S.useContext(Ab),d=t.props?.ref??t?.ref,m=H9(l,d);return S.useInsertionEffect(()=>{const{width:g,height:v,top:_,left:A,right:M}=c.current;if(e||!l.current||!g||!v)return;const O=n==="left"?`left: ${A}`:`right: ${M}`;l.current.dataset.motionPopId=a;const I=document.createElement("style");h&&(I.nonce=h);const z=r??document.head;return z.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${O}px !important;
            top: ${_}px !important;
          }
        `),()=>{z.contains(I)&&z.removeChild(I)}},[e]),b.jsx(G9,{isPresent:e,childRef:l,sizeRef:c,children:S.cloneElement(t,{ref:m})})}const K9=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,root:d})=>{const m=J0(Y9),g=S.useId();let v=!0,_=S.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:A=>{m.set(A,!0);for(const M of m.values())if(!M)return;r&&r()},register:A=>(m.set(A,!1),()=>m.delete(A))}),[n,m,r]);return l&&v&&(_={..._}),S.useMemo(()=>{m.forEach((A,M)=>m.set(M,!1))},[n]),S.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),c==="popLayout"&&(t=b.jsx($9,{isPresent:n,anchorX:h,root:d,children:t})),b.jsx(Qm.Provider,{value:_,children:t})};function Y9(){return new Map}function bI(t=!0){const e=S.useContext(Qm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=S.useId();S.useEffect(()=>{if(t)return a(l)},[t]);const c=S.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const hf=t=>t.key||"";function sS(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const lr=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",root:d})=>{const[m,g]=bI(c),v=S.useMemo(()=>sS(t),[t]),_=c&&!m?[]:v.map(hf),A=S.useRef(!0),M=S.useRef(v),O=J0(()=>new Map),I=S.useRef(new Set),[z,$]=S.useState(v),[H,le]=S.useState(v);WR(()=>{A.current=!1,M.current=v;for(let D=0;D<H.length;D++){const C=hf(H[D]);_.includes(C)?(O.delete(C),I.current.delete(C)):O.get(C)!==!0&&O.set(C,!1)}},[H,_.length,_.join("-")]);const re=[];if(v!==z){let D=[...v];for(let C=0;C<H.length;C++){const P=H[C],N=hf(P);_.includes(N)||(D.splice(C,0,P),re.push(P))}return l==="wait"&&re.length&&(D=re),le(sS(D)),$(v),null}const{forceRender:ae}=S.useContext(Q0);return b.jsx(b.Fragment,{children:H.map(D=>{const C=hf(D),P=c&&!m?!1:v===H||_.includes(C),N=()=>{if(I.current.has(C))return;if(I.current.add(C),O.has(C))O.set(C,!0);else return;let V=!0;O.forEach(B=>{B||(V=!1)}),V&&(ae?.(),le(M.current),c&&g?.(),r&&r())};return b.jsx(K9,{isPresent:P,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:P?void 0:N,anchorX:h,children:D},C)})})},xI=S.createContext({strict:!1}),aS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let oS=!1;function X9(){if(oS)return;const t={};for(const e in aS)t[e]={isEnabled:n=>aS[e].some(r=>!!n[r])};X2(t),oS=!0}function _I(){return X9(),PU()}function W9(t){const e=_I();for(const n in t)e[n]={...e[n],...t[n]};X2(e)}const Q9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Q9.has(t)}let wI=t=>!mm(t);function J9(t){typeof t=="function"&&(wI=e=>e.startsWith("on")?!mm(e):t(e))}try{J9(require("@emotion/is-prop-valid").default)}catch{}function Z9(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(wI(a)||n===!0&&mm(a)||!e&&!mm(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const ep=S.createContext({});function ez(t,e){if(Zm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||nh(n)?n:void 0,animate:nh(r)?r:void 0}}return t.inherit!==!1?e:{}}function tz(t){const{initial:e,animate:n}=ez(t,S.useContext(ep));return S.useMemo(()=>({initial:e,animate:n}),[lS(e),lS(n)])}function lS(t){return Array.isArray(t)?t.join(" "):t}const Cb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TI(t,e,n){for(const r in e)!ci(e[r])&&!nI(r,n)&&(t[r]=e[r])}function nz({transformTemplate:t},e){return S.useMemo(()=>{const n=Cb();return Eb(n,e,t),Object.assign({},n.vars,n.style)},[e])}function iz(t,e){const n=t.style||{},r={};return TI(r,n,t),Object.assign(r,nz(t,e)),r}function rz(t,e){const n={},r=iz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const EI=()=>({...Cb(),attrs:{}});function sz(t,e,n,r){const a=S.useMemo(()=>{const l=EI();return iI(l,e,sI(r),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};TI(l,t.style,t),a.style={...l,...a.style}}return a}const az=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rb(t){return typeof t!="string"||t.includes("-")?!1:!!(az.indexOf(t)>-1||/[A-Z]/u.test(t))}function oz(t,e,n,{latestValues:r},a,l=!1,c){const d=(c??Rb(t)?sz:rz)(e,r,a,t),m=Z9(e,typeof t=="string",l),g=t!==S.Fragment?{...m,...d,ref:n}:{},{children:v}=e,_=S.useMemo(()=>ci(v)?v.get():v,[v]);return S.createElement(t,{...g,children:_})}function lz({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:cz(n,r,a,t),renderState:e()}}function cz(t,e,n,r){const a={},l=r(t,{});for(const _ in l)a[_]=Nf(l[_]);let{initial:c,animate:h}=t;const d=Zm(t),m=Y2(t);e&&m&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const v=g?h:c;if(v&&typeof v!="boolean"&&!Jm(v)){const _=Array.isArray(v)?v:[v];for(let A=0;A<_.length;A++){const M=yb(t,_[A]);if(M){const{transitionEnd:O,transition:I,...z}=M;for(const $ in z){let H=z[$];if(Array.isArray(H)){const le=g?H.length-1:0;H=H[le]}H!==null&&(a[$]=H)}for(const $ in O)a[$]=O[$]}}}return a}const SI=t=>(e,n)=>{const r=S.useContext(ep),a=S.useContext(Qm),l=()=>lz(t,e,r,a);return n?l():J0(l)},uz=SI({scrapeMotionValuesFromProps:Sb,createRenderState:Cb}),hz=SI({scrapeMotionValuesFromProps:aI,createRenderState:EI}),dz=Symbol.for("motionComponentSymbol");function fz(t,e,n){const r=S.useRef(n);S.useInsertionEffect(()=>{r.current=n});const a=S.useRef(null);return S.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=r.current;if(typeof c=="function")if(l){const h=c(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const AI=S.createContext({});function Cu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function mz(t,e,n,r,a,l){const{visualElement:c}=S.useContext(ep),h=S.useContext(xI),d=S.useContext(Qm),m=S.useContext(Ab).reducedMotion,g=S.useRef(null);r=r||h.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:c,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m,isSVG:l}));const v=g.current,_=S.useContext(AI);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&pz(g.current,n,a,_);const A=S.useRef(!1);S.useInsertionEffect(()=>{v&&A.current&&v.update(n,d)});const M=n[M2],O=S.useRef(!!M&&!window.MotionHandoffIsComplete?.(M)&&window.MotionHasOptimisedAnimation?.(M));return WR(()=>{v&&(A.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),O.current&&v.animationState&&v.animationState.animateChanges())}),S.useEffect(()=>{v&&(!O.current&&v.animationState&&v.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(M)}),O.current=!1),v.enteringChildren=void 0)}),v}function pz(t,e,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:CI(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&Cu(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:m})}function CI(t){if(t)return t.options.allowProjection!==!1?t.projection:CI(t.parent)}function Oy(t,{forwardMotionProps:e=!1,type:n}={},r,a){r&&W9(r);const l=n?n==="svg":Rb(t),c=l?hz:uz;function h(m,g){let v;const _={...S.useContext(Ab),...m,layoutId:gz(m)},{isStatic:A}=_,M=tz(m),O=c(m,A);if(!A&&XR){yz();const I=vz(_);v=I.MeasureLayout,M.visualElement=mz(t,O,_,a,I.ProjectionNode,l)}return b.jsxs(ep.Provider,{value:M,children:[v&&M.visualElement?b.jsx(v,{visualElement:M.visualElement,..._}):null,oz(t,m,fz(O,M.visualElement,g),O,A,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=S.forwardRef(h);return d[dz]=t,d}function gz({layoutId:t}){const e=S.useContext(Q0).id;return e&&t!==void 0?e+"-"+t:t}function yz(t,e){S.useContext(xI).strict}function vz(t){const e=_I(),{drag:n,layout:r}=e;if(!n&&!r)return{};const a={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function bz(t,e){if(typeof Proxy>"u")return Oy;const n=new Map,r=(l,c)=>Oy(l,c,t,e),a=(l,c)=>r(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?r:(n.has(c)||n.set(c,Oy(c,void 0,t,e)),n.get(c))})}const xz=(t,e)=>e.isSVG??Rb(t)?new JU(e):new $U(e,{allowProjection:t!==S.Fragment});class _z extends Wa{constructor(e){super(e),e.animationState||(e.animationState=i9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let wz=0;class Tz extends Wa{constructor(){super(...arguments),this.id=wz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Ez={animation:{Feature:_z},exit:{Feature:Tz}};function Dh(t){return{point:{x:t.pageX,y:t.pageY}}}const Sz=t=>e=>_b(e)&&t(e,Dh(e));function Lu(t,e,n,r){return ih(t,e,Sz(n),r)}const RI=({current:t})=>t?t.ownerDocument.defaultView:null,cS=(t,e)=>Math.abs(t-e);function Az(t,e){const n=cS(t.x,e.x),r=cS(t.y,e.y);return Math.sqrt(n**2+r**2)}const uS=new Set(["auto","scroll"]);class II{constructor(e,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Vy(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,O=Az(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!O)return;const{point:I}=A,{timestamp:z}=Qn;this.history.push({...I,timestamp:z});const{onStart:$,onMove:H}=this.handlers;M||($&&$(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,A)},this.handlePointerMove=(A,M)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Py(M,this.transformPagePoint),Kt.update(this.updatePoint,!0)},this.handlePointerUp=(A,M)=>{this.end();const{onEnd:O,onSessionEnd:I,resumeAnimation:z}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=Vy(A.type==="pointercancel"?this.lastMoveEventInfo:Py(M,this.transformPagePoint),this.history);this.startEvent&&O&&O(A,$),I&&I(A,$)},!_b(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=a||window;const d=Dh(e),m=Py(d,this.transformPagePoint),{point:g}=m,{timestamp:v}=Qn;this.history=[{...g,timestamp:v}];const{onSessionStart:_}=n;_&&_(e,Vy(m,this.history)),this.removeListeners=Rh(Lu(this.contextWindow,"pointermove",this.handlePointerMove),Lu(this.contextWindow,"pointerup",this.handlePointerUp),Lu(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(uS.has(r.overflowX)||uS.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,a=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),Kt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ha(this.updatePoint)}}function Py(t,e){return e?{point:e(t.point)}:t}function hS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Vy({point:t},e){return{point:t,delta:hS(t,NI(e)),offset:hS(t,Cz(e)),velocity:Rz(e,.1)}}function Cz(t){return t[0]}function NI(t){return t[t.length-1]}function Rz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=NI(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>Vs(e)));)n--;if(!r)return{x:0,y:0};const l=hr(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Iz(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Zt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Zt(n,t,r.max):Math.min(t,n)),t}function dS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Nz(t,{top:e,left:n,bottom:r,right:a}){return{x:dS(t.x,n,a),y:dS(t.y,e,r)}}function fS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Dz(t,e){return{x:fS(t.x,e.x),y:fS(t.y,e.y)}}function kz(t,e){let n=.5;const r=mi(t),a=mi(e);return a>r?n=Zu(e.min,e.max-r,t.min):r>a&&(n=Zu(t.min,t.max-a,e.min)),as(0,1,n)}function Mz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Fv=.35;function Oz(t=Fv){return t===!1?t=0:t===!0&&(t=Fv),{x:mS(t,"left","right"),y:mS(t,"top","bottom")}}function mS(t,e,n){return{min:pS(t,e),max:pS(t,n)}}function pS(t,e){return typeof t=="number"?t:t[e]||0}const Pz=new WeakMap;class Vz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(Dh(v).point)):this.pauseAnimation()},c=(v,_)=>{this.stopAnimation();const{drag:A,dragPropagation:M,onDragStart:O}=this.getProps();if(A&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=TU(A),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),or(z=>{let $=this.getAxisMotionValue(z).get()||0;if(ts.test($)){const{projection:H}=this.visualElement;if(H&&H.layout){const le=H.layout.layoutBox[z];le&&($=mi(le)*(parseFloat($)/100))}}this.originPoint[z]=$}),O&&Kt.postRender(()=>O(v,_)),Pv(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},h=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_;const{dragPropagation:A,dragDirectionLock:M,onDirectionLock:O,onDrag:I}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:z}=_;if(M&&this.currentDirection===null){this.currentDirection=jz(z),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",_.point,z),this.updateAxis("y",_.point,z),this.visualElement.render(),I&&I(v,_)},d=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_,this.stop(v,_),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>or(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new II(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:RI(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!r)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Kt.postRender(()=>h(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!df(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=Iz(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Cu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Nz(r.layoutBox,e):this.constraints=!1,this.elastic=Oz(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&or(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Mz(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Cu(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=zU(r,a.root,this.visualElement.getTransformPagePoint());let c=Dz(a.layout.layoutBox,l);if(n){const h=n(jU(c));this.hasMutatedConstraints=!!h,h&&(c=Q2(h))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=or(g=>{if(!df(g,n,this.currentDirection))return;let v=d&&d[g]||{};c&&(v={min:0,max:0});const _=a?200:1e6,A=a?40:1e7,M={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,M)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Pv(this.visualElement,e),r.start(gb(e,r,0,n,this.visualElement,!1))}stopAnimation(){or(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){or(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){or(n=>{const{drag:r}=this.getProps();if(!df(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n],d=l.get()||0;l.set(e[n]-Zt(c,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Cu(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};or(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();a[c]=kz({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),or(c=>{if(!df(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:m}=this.constraints[c];h.set(Zt(d,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;Pz.set(this.visualElement,this);const e=this.visualElement.current,n=Lu(e,"pointerdown",d=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&!G2(d.target)&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Cu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Kt.read(r);const c=ih(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(or(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=d[g].translate,v.set(v.get()+d[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Fv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function df(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function jz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Lz extends Wa{constructor(e){super(e),this.removeGroupControls=mr,this.removeListeners=mr,this.controls=new Vz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mr}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const gS=t=>(e,n)=>{t&&Kt.postRender(()=>t(e,n))};class Uz extends Wa{constructor(){super(...arguments),this.removePointerDownListener=mr}onPointerDown(e){this.session=new II(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:gS(e),onStart:gS(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&Kt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Lu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let jy=!1;class zz extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),jy&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Df.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,jy=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Kt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;jy=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function DI(t){const[e,n]=bI(),r=S.useContext(Q0);return b.jsx(zz,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(AI),isPresent:e,safeToRemove:n})}const Bz={pan:{Feature:Uz},drag:{Feature:Lz,ProjectionNode:vI,MeasureLayout:DI}};function yS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&Kt.postRender(()=>l(e,Dh(e)))}class Fz extends Wa{mount(){const{current:e}=this.node;e&&(this.unmount=EU(e,(n,r)=>(yS(this.node,r,"Start"),a=>yS(this.node,a,"End"))))}unmount(){}}class qz extends Wa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rh(ih(this.node.current,"focus",()=>this.onFocus()),ih(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&Kt.postRender(()=>l(e,Dh(e)))}class Hz extends Wa{mount(){const{current:e}=this.node;e&&(this.unmount=CU(e,(n,r)=>(vS(this.node,r,"Start"),(a,{success:l})=>vS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qv=new WeakMap,Ly=new WeakMap,Gz=t=>{const e=qv.get(t.target);e&&e(t)},$z=t=>{t.forEach(Gz)};function Kz({root:t,...e}){const n=t||document;Ly.has(n)||Ly.set(n,{});const r=Ly.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver($z,{root:t,...e})),r[a]}function Yz(t,e,n){const r=Kz(e);return qv.set(t,n),r.observe(t),()=>{qv.delete(t),r.unobserve(t)}}const Xz={some:0,all:1};class Wz extends Wa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Xz[a]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=m?g:v;_&&_(d)};return Yz(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Qz(e,n))&&this.startObserver()}unmount(){}}function Qz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Jz={inView:{Feature:Wz},tap:{Feature:Hz},focus:{Feature:qz},hover:{Feature:Fz}},Zz={layout:{ProjectionNode:vI,MeasureLayout:DI}},eB={...Ez,...Jz,...Bz,...Zz},tt=bz(eB,xz);const tB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),bS=t=>{const e=nB(t);return e.charAt(0).toUpperCase()+e.slice(1)},kI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),iB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var rB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sB=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...h},d)=>S.createElement("svg",{ref:d,...rB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:kI("lucide",a),...!l&&!iB(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,g])=>S.createElement(m,g)),...Array.isArray(l)?l:[l]]));const Xe=(t,e)=>{const n=S.forwardRef(({className:r,...a},l)=>S.createElement(sB,{ref:l,iconNode:e,className:kI(`lucide-${tB(bS(t))}`,`lucide-${t}`,r),...a}));return n.displayName=bS(t),n};const aB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],oB=Xe("arrow-left",aB);const lB=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],xS=Xe("award",lB);const cB=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],pm=Xe("book-open",cB);const uB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gm=Xe("calendar",uB);const hB=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],MI=Xe("camera",hB);const dB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ns=Xe("check",dB);const fB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],OI=Xe("chevron-left",fB);const mB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],PI=Xe("chevron-right",mB);const pB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_S=Xe("circle-alert",pB);const gB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yB=Xe("circle-check-big",gB);const vB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],VI=Xe("circle-question-mark",vB);const bB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xB=Xe("clock",bB);const _B=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],wB=Xe("download",_B);const TB=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Ib=Xe("layout-grid",TB);const EB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],SB=Xe("lock",EB);const AB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Nb=Xe("log-out",AB);const CB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],RB=Xe("mail",CB);const IB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],NB=Xe("menu",IB);const DB=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],kB=Xe("moon",DB);const MB=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],wS=Xe("palette",MB);const OB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],kf=Xe("pen",OB);const PB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],VB=Xe("pencil",PB);const jB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rh=Xe("plus",jB);const LB=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],UB=Xe("printer",LB);const zB=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],TS=Xe("rocket",zB);const BB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jI=Xe("settings",BB);const FB=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Mf=Xe("share-2",FB);const qB=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],HB=Xe("sparkles",qB);const GB=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$B=Xe("square-check-big",GB);const KB=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],YB=Xe("sun",KB);const XB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Of=Xe("trash-2",XB);const WB=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],QB=Xe("trophy",WB);const JB=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],ZB=Xe("type",JB);const e8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],t8=Xe("user-plus",e8);const n8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],LI=Xe("user",n8);const i8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],r8=Xe("users",i8);const s8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wr=Xe("x",s8);const a8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ES=Xe("zap",a8),UI=S.createContext(null),zI=()=>{const t=S.useContext(UI);if(!t)throw new Error("useDialog must be used within a DialogProvider");return t},o8=({children:t})=>{const[e,n]=S.useState({isOpen:!1,type:"alert",options:{message:""},resolve:null}),[r,a]=S.useState(""),[l,c]=S.useState("editor"),h=S.useCallback((M,O)=>new Promise(I=>{a(O.inputDefaultValue||""),c("editor"),n({isOpen:!0,type:M,options:O,resolve:I})}),[]),d=S.useCallback(M=>{e.resolve&&e.resolve(M),n(O=>({...O,isOpen:!1,resolve:null}))},[e.resolve]),m=S.useCallback((M,O)=>h("alert",{message:M,title:"Notice",confirmText:"OK",type:"info",...O}),[h]),g=S.useCallback((M,O)=>h("confirm",{message:M,title:"Confirm",confirmText:"Yes",cancelText:"Cancel",type:"warning",...O}),[h]),v=S.useCallback((M,O)=>h("prompt",{message:M,title:"Input",confirmText:"OK",cancelText:"Cancel",inputPlaceholder:"",...O}),[h]),_=S.useCallback((M,O)=>h("share",{message:M,title:"Share Board",confirmText:"Send Invite",cancelText:"Cancel",showRoleSelector:!0,inputPlaceholder:"Enter email address",...O}),[h]),A=()=>{switch(e.options.type){case"success":return b.jsx(yB,{className:"w-8 h-8 text-green-400"});case"warning":return b.jsx(_S,{className:"w-8 h-8 text-amber-400"});case"error":return b.jsx(_S,{className:"w-8 h-8 text-red-400"});default:return b.jsx(VI,{className:"w-8 h-8 text-accent-primary"})}};return b.jsxs(UI.Provider,{value:{alert:m,confirm:g,prompt:v,sharePrompt:_},children:[t,b.jsx(lr,{children:e.isOpen&&b.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!1):d(null)},children:b.jsxs(tt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:M=>M.stopPropagation(),children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="share"?b.jsx(RB,{className:"w-6 h-6 text-accent-primary"}):A(),b.jsx("h3",{className:"text-lg font-bold text-white",children:e.options.title})]}),b.jsx("button",{onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!1):d(null)},className:"p-1 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:b.jsx(Wr,{size:20})})]}),b.jsxs("div",{className:"p-6",children:[b.jsx("p",{className:"text-slate-300 mb-4 whitespace-pre-wrap",children:e.options.message}),(e.type==="prompt"||e.type==="share")&&b.jsx("input",{type:e.type==="share"?"email":"text",autoFocus:!0,value:r,onChange:M=>a(M.target.value),placeholder:e.options.inputPlaceholder,className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors mb-4",onKeyDown:M=>{M.key==="Enter"&&r.trim()&&(e.type==="share"?d({email:r.trim(),role:l}):d(r.trim()))}}),e.type==="share"&&e.options.showRoleSelector&&b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"text-sm font-medium text-slate-400 mb-2 block",children:"Access Level"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>c("viewer"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="viewer"?"bg-accent-primary/20 text-accent-primary border border-accent-primary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Viewer"}),b.jsx("button",{onClick:()=>c("editor"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Editor"})]}),b.jsx("p",{className:"text-xs text-slate-500 mt-2",children:l==="viewer"?"Can view the board but not make changes":"Can view and edit the board"})]})]}),b.jsxs("div",{className:"flex gap-3 p-4 pt-0",children:[e.type!=="alert"&&b.jsx("button",{onClick:()=>{e.type==="confirm"?d(!1):d(null)},className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:e.options.cancelText}),b.jsx("button",{onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!0):e.type==="share"?r.trim()&&d({email:r.trim(),role:l}):d(r.trim()||null)},disabled:(e.type==="prompt"||e.type==="share")&&!r.trim(),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.options.confirmText})]})]})})})]})};function BI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=BI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function l8(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=BI(t))&&(r&&(r+=" "),r+=e);return r}const c8=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},u8=(t,e)=>({classGroupId:t,validator:e}),FI=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),ym="-",SS=[],h8="arbitrary..",d8=t=>{const e=m8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return f8(c);const h=c.split(ym),d=h[0]===""&&h.length>1?1:0;return qI(h,d,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const d=r[c],m=n[c];return d?m?c8(m,d):d:m||SS}return n[c]||SS}}},qI=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const m=qI(t,e+1,l);if(m)return m}const c=n.validators;if(c===null)return;const h=e===0?t.join(ym):t.slice(e).join(ym),d=c.length;for(let m=0;m<d;m++){const g=c[m];if(g.validator(h))return g.classGroupId}},f8=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?h8+r:void 0})(),m8=t=>{const{theme:e,classGroups:n}=t;return p8(n,e)},p8=(t,e)=>{const n=FI();for(const r in t){const a=t[r];Db(a,n,r,e)}return n},Db=(t,e,n,r)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];g8(c,e,n,r)}},g8=(t,e,n,r)=>{if(typeof t=="string"){y8(t,e,n);return}if(typeof t=="function"){v8(t,e,n,r);return}b8(t,e,n,r)},y8=(t,e,n)=>{const r=t===""?e:HI(e,t);r.classGroupId=n},v8=(t,e,n,r)=>{if(x8(t)){Db(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(u8(n,t))},b8=(t,e,n,r)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[h,d]=a[c];Db(d,HI(e,h),n,r)}},HI=(t,e)=>{let n=t;const r=e.split(ym),a=r.length;for(let l=0;l<a;l++){const c=r[l];let h=n.nextPart.get(c);h||(h=FI(),n.nextPart.set(c,h)),n=h}return n},x8=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,_8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=r[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},Hv="!",AS=":",w8=[],CS=(t,e,n,r,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),T8=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const l=[];let c=0,h=0,d=0,m;const g=a.length;for(let O=0;O<g;O++){const I=a[O];if(c===0&&h===0){if(I===AS){l.push(a.slice(d,O)),d=O+1;continue}if(I==="/"){m=O;continue}}I==="["?c++:I==="]"?c--:I==="("?h++:I===")"&&h--}const v=l.length===0?a:a.slice(d);let _=v,A=!1;v.endsWith(Hv)?(_=v.slice(0,-1),A=!0):v.startsWith(Hv)&&(_=v.slice(1),A=!0);const M=m&&m>d?m-d:void 0;return CS(l,A,_,M)};if(e){const a=e+AS,l=r;r=c=>c.startsWith(a)?l(c.slice(a.length)):CS(w8,!1,c,void 0,!0)}if(n){const a=r;r=l=>n({className:l,parseClassName:a})}return r},E8=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],h=c[0]==="[",d=e.has(c);h||d?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(c)):a.push(c)}return a.length>0&&(a.sort(),r.push(...a)),r}},S8=t=>({cache:_8(t.cacheSize),parseClassName:T8(t),sortModifiers:E8(t),...d8(t)}),A8=/\s+/,C8=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],h=t.trim().split(A8);let d="";for(let m=h.length-1;m>=0;m-=1){const g=h[m],{isExternal:v,modifiers:_,hasImportantModifier:A,baseClassName:M,maybePostfixModifierPosition:O}=n(g);if(v){d=g+(d.length>0?" "+d:d);continue}let I=!!O,z=r(I?M.substring(0,O):M);if(!z){if(!I){d=g+(d.length>0?" "+d:d);continue}if(z=r(M),!z){d=g+(d.length>0?" "+d:d);continue}I=!1}const $=_.length===0?"":_.length===1?_[0]:l(_).join(":"),H=A?$+Hv:$,le=H+z;if(c.indexOf(le)>-1)continue;c.push(le);const re=a(z,I);for(let ae=0;ae<re.length;++ae){const D=re[ae];c.push(H+D)}d=g+(d.length>0?" "+d:d)}return d},R8=(...t)=>{let e=0,n,r,a="";for(;e<t.length;)(n=t[e++])&&(r=GI(n))&&(a&&(a+=" "),a+=r);return a},GI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=GI(t[r]))&&(n&&(n+=" "),n+=e);return n},I8=(t,...e)=>{let n,r,a,l;const c=d=>{const m=e.reduce((g,v)=>v(g),t());return n=S8(m),r=n.cache.get,a=n.cache.set,l=h,h(d)},h=d=>{const m=r(d);if(m)return m;const g=C8(d,n);return a(d,g),g};return l=c,(...d)=>l(R8(...d))},N8=[],kn=t=>{const e=n=>n[t]||N8;return e.isThemeGetter=!0,e},$I=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,KI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,D8=/^\d+\/\d+$/,k8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,M8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,O8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,P8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,V8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pl=t=>D8.test(t),Ye=t=>!!t&&!Number.isNaN(Number(t)),wa=t=>!!t&&Number.isInteger(Number(t)),Uy=t=>t.endsWith("%")&&Ye(t.slice(0,-1)),Rs=t=>k8.test(t),j8=()=>!0,L8=t=>M8.test(t)&&!O8.test(t),YI=()=>!1,U8=t=>P8.test(t),z8=t=>V8.test(t),B8=t=>!Ce(t)&&!Re(t),F8=t=>vc(t,QI,YI),Ce=t=>$I.test(t),So=t=>vc(t,JI,L8),zy=t=>vc(t,K8,Ye),RS=t=>vc(t,XI,YI),q8=t=>vc(t,WI,z8),ff=t=>vc(t,ZI,U8),Re=t=>KI.test(t),bu=t=>bc(t,JI),H8=t=>bc(t,Y8),IS=t=>bc(t,XI),G8=t=>bc(t,QI),$8=t=>bc(t,WI),mf=t=>bc(t,ZI,!0),vc=(t,e,n)=>{const r=$I.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},bc=(t,e,n=!1)=>{const r=KI.exec(t);return r?r[1]?e(r[1]):n:!1},XI=t=>t==="position"||t==="percentage",WI=t=>t==="image"||t==="url",QI=t=>t==="length"||t==="size"||t==="bg-size",JI=t=>t==="length",K8=t=>t==="number",Y8=t=>t==="family-name",ZI=t=>t==="shadow",X8=()=>{const t=kn("color"),e=kn("font"),n=kn("text"),r=kn("font-weight"),a=kn("tracking"),l=kn("leading"),c=kn("breakpoint"),h=kn("container"),d=kn("spacing"),m=kn("radius"),g=kn("shadow"),v=kn("inset-shadow"),_=kn("text-shadow"),A=kn("drop-shadow"),M=kn("blur"),O=kn("perspective"),I=kn("aspect"),z=kn("ease"),$=kn("animate"),H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],re=()=>[...le(),Re,Ce],ae=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],C=()=>[Re,Ce,d],P=()=>[Pl,"full","auto",...C()],N=()=>[wa,"none","subgrid",Re,Ce],V=()=>["auto",{span:["full",wa,Re,Ce]},wa,Re,Ce],B=()=>[wa,"auto",Re,Ce],j=()=>["auto","min","max","fr",Re,Ce],be=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],De=()=>["start","end","center","stretch","center-safe","end-safe"],te=()=>["auto",...C()],G=()=>[Pl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],q=()=>[t,Re,Ce],W=()=>[...le(),IS,RS,{position:[Re,Ce]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],E=()=>["auto","cover","contain",G8,F8,{size:[Re,Ce]}],L=()=>[Uy,bu,So],Y=()=>["","none","full",m,Re,Ce],ne=()=>["",Ye,bu,So],me=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[Ye,Uy,IS,RS],xe=()=>["","none",M,Re,Ce],_e=()=>["none",Ye,Re,Ce],Ee=()=>["none",Ye,Re,Ce],Ue=()=>[Ye,Re,Ce],Pe=()=>[Pl,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Rs],breakpoint:[Rs],color:[j8],container:[Rs],"drop-shadow":[Rs],ease:["in","out","in-out"],font:[B8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Rs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Rs],shadow:[Rs],spacing:["px",Ye],text:[Rs],"text-shadow":[Rs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Pl,Ce,Re,I]}],container:["container"],columns:[{columns:[Ye,Ce,Re,h]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:re()}],overflow:[{overflow:ae()}],"overflow-x":[{"overflow-x":ae()}],"overflow-y":[{"overflow-y":ae()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[wa,"auto",Re,Ce]}],basis:[{basis:[Pl,"full","auto",h,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ye,Pl,"auto","initial","none",Ce]}],grow:[{grow:["",Ye,Re,Ce]}],shrink:[{shrink:["",Ye,Re,Ce]}],order:[{order:[wa,"first","last","none",Re,Ce]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...be(),"normal"]}],"justify-items":[{"justify-items":[...De(),"normal"]}],"justify-self":[{"justify-self":["auto",...De()]}],"align-content":[{content:["normal",...be()]}],"align-items":[{items:[...De(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...De(),{baseline:["","last"]}]}],"place-content":[{"place-content":be()}],"place-items":[{"place-items":[...De(),"baseline"]}],"place-self":[{"place-self":["auto",...De()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:te()}],mx:[{mx:te()}],my:[{my:te()}],ms:[{ms:te()}],me:[{me:te()}],mt:[{mt:te()}],mr:[{mr:te()}],mb:[{mb:te()}],ml:[{ml:te()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[h,"screen",...G()]}],"min-w":[{"min-w":[h,"screen","none",...G()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",n,bu,So]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Re,zy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Uy,Ce]}],"font-family":[{font:[H8,Ce,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Re,Ce]}],"line-clamp":[{"line-clamp":[Ye,"none",Re,zy]}],leading:[{leading:[l,...C()]}],"list-image":[{"list-image":["none",Re,Ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Re,Ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ye,"from-font","auto",Re,So]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[Ye,"auto",Re,Ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re,Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re,Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:E()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wa,Re,Ce],radial:["",Re,Ce],conic:[wa,Re,Ce]},$8,q8]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...me(),"hidden","none"]}],"divide-style":[{divide:[...me(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ye,Re,Ce]}],"outline-w":[{outline:["",Ye,bu,So]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",g,mf,ff]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",v,mf,ff]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[Ye,So]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",_,mf,ff]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[Ye,Re,Ce]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ye]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Re,Ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":le()}],"mask-image-conic-pos":[{"mask-conic":[Ye]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:E()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Re,Ce]}],filter:[{filter:["","none",Re,Ce]}],blur:[{blur:xe()}],brightness:[{brightness:[Ye,Re,Ce]}],contrast:[{contrast:[Ye,Re,Ce]}],"drop-shadow":[{"drop-shadow":["","none",A,mf,ff]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",Ye,Re,Ce]}],"hue-rotate":[{"hue-rotate":[Ye,Re,Ce]}],invert:[{invert:["",Ye,Re,Ce]}],saturate:[{saturate:[Ye,Re,Ce]}],sepia:[{sepia:["",Ye,Re,Ce]}],"backdrop-filter":[{"backdrop-filter":["","none",Re,Ce]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[Ye,Re,Ce]}],"backdrop-contrast":[{"backdrop-contrast":[Ye,Re,Ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ye,Re,Ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ye,Re,Ce]}],"backdrop-invert":[{"backdrop-invert":["",Ye,Re,Ce]}],"backdrop-opacity":[{"backdrop-opacity":[Ye,Re,Ce]}],"backdrop-saturate":[{"backdrop-saturate":[Ye,Re,Ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Ye,Re,Ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Re,Ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ye,"initial",Re,Ce]}],ease:[{ease:["linear","initial",z,Re,Ce]}],delay:[{delay:[Ye,Re,Ce]}],animate:[{animate:["none",$,Re,Ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[O,Re,Ce]}],"perspective-origin":[{"perspective-origin":re()}],rotate:[{rotate:_e()}],"rotate-x":[{"rotate-x":_e()}],"rotate-y":[{"rotate-y":_e()}],"rotate-z":[{"rotate-z":_e()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:Ue()}],"skew-x":[{"skew-x":Ue()}],"skew-y":[{"skew-y":Ue()}],transform:[{transform:[Re,Ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:re()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Pe()}],"translate-x":[{"translate-x":Pe()}],"translate-y":[{"translate-y":Pe()}],"translate-z":[{"translate-z":Pe()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re,Ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re,Ce]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[Ye,bu,So,zy]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},W8=I8(X8);function xt(...t){return W8(l8(t))}const Q8=()=>{const{isSettingsOpen:t,closeSettings:e,settings:n,updateSettings:r}=tp(),a=At.useRef(n);if(At.useEffect(()=>{t&&(a.current=n)},[t]),!t)return null;const l=()=>{r(a.current,!1),e()},c=()=>{r(n,!0),e()},h=[{id:"dawn",name:"Dawn",color:"bg-[#0f111a] from-violet-500/20 to-pink-500/20"},{id:"cosmic",name:"Cosmic",color:"bg-[#0f172a] from-violet-600/20 to-pink-600/20"},{id:"midnight",name:"Midnight",color:"bg-[#020617] from-sky-500/20 to-indigo-500/20"},{id:"forest",name:"Forest",color:"bg-[#052e16] from-green-500/20 to-emerald-500/20"},{id:"ocean",name:"Ocean",color:"bg-[#083344] from-cyan-500/20 to-teal-500/20"},{id:"sunset",name:"Sunset",color:"bg-[#2a0a0a] from-orange-500/20 to-rose-500/20"}],d=[{id:"outfit",name:"Modern",family:"font-[Outfit]"},{id:"inter",name:"Clean",family:"font-[Inter]"},{id:"playfair",name:"Elegant",family:'font-["Playfair_Display"]'},{id:"mono",name:"Tech",family:'font-["Fira_Code"]'}];return b.jsx(lr,{children:t&&b.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 font-sans",children:[b.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:l}),b.jsxs(tt.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-lg bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[b.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[b.jsx(wS,{className:"w-5 h-5 text-accent-primary"}),"Customization"]}),b.jsx("button",{onClick:l,className:"text-slate-400 hover:text-white transition-colors",children:b.jsx(Wr,{className:"w-6 h-6"})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(wS,{className:"w-4 h-4"})," Theme"]}),b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:h.map(m=>b.jsxs("button",{onClick:()=>r({theme:m.id},!1),className:xt("relative group overflow-hidden rounded-xl border transition-all duration-300",n.theme===m.id?"border-accent-primary ring-2 ring-accent-primary/50":"border-white/10 hover:border-white/30"),children:[b.jsx("div",{className:xt("h-16 w-full bg-gradient-to-br",m.color)}),b.jsx("div",{className:"p-3 bg-slate-800/50",children:b.jsx("span",{className:xt("text-sm font-medium",n.theme===m.id?"text-white":"text-slate-400"),children:m.name})}),n.theme===m.id&&b.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-accent-primary rounded-full flex items-center justify-center shadow-lg",children:b.jsx(Ns,{className:"w-3 h-3 text-white"})})]},m.id))})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(ZB,{className:"w-4 h-4"})," Typography"]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:d.map(m=>b.jsxs("button",{onClick:()=>r({font:m.id},!1),className:xt("flex items-center justify-between p-4 rounded-xl border transition-all duration-200 text-left",n.font===m.id?"bg-white/10 border-accent-primary text-white":"bg-white/5 border-white/5 hover:bg-white/10 text-slate-300"),children:[b.jsxs("div",{children:[b.jsx("span",{className:xt("text-lg block mb-0.5",m.family),children:"Aa"}),b.jsx("span",{className:"text-xs text-slate-400",children:m.name})]}),n.font===m.id&&b.jsx(Ns,{className:"w-5 h-5 text-accent-primary"})]},m.id))}),b.jsx("div",{className:"mt-4 p-4 rounded-xl bg-black/20 border border-white/5",children:b.jsx("p",{className:xt("text-sm text-slate-300 leading-relaxed",n.font==="outfit"&&"font-[Outfit]",n.font==="inter"&&"font-[Inter]",n.font==="playfair"&&'font-["Playfair_Display"]',n.font==="mono"&&'font-["Fira_Code"]'),children:"The quick brown fox jumps over the lazy dog. 1234567890."})})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(ES,{className:"w-4 h-4"})," Experience"]}),b.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 mb-3",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:xt("p-2 rounded-lg",n.enableAnimation?"bg-accent-primary/20 text-accent-primary":"bg-slate-700 text-slate-400"),children:b.jsx(ES,{size:20})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium text-white",children:"Live Backgrounds"}),b.jsx("div",{className:"text-xs text-slate-400",children:"Dynamic particles and ambient effects"})]})]}),b.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:n.enableAnimation,onChange:m=>r({enableAnimation:m.target.checked},!1),className:"sr-only peer"}),b.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-accent-primary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary"})]})]}),b.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:xt("p-2 rounded-lg",n.enableSound?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-slate-400"),children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),b.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),b.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium text-white",children:"Sound Effects"}),b.jsx("div",{className:"text-xs text-slate-400",children:"Satisfying clicks and celebrations"})]})]}),b.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:m=>r({enableSound:m.target.checked},!1),className:"sr-only peer"}),b.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]})]})]}),b.jsxs("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3 sticky bottom-0 bg-slate-900 z-10 shrink-0",children:[b.jsx("button",{onClick:l,className:"px-4 py-2 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:c,className:"px-6 py-2 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all active:scale-95",children:"Save Changes"})]})]})]})})},By={theme:"dawn",font:"outfit",enableAnimation:!0,enableSound:!0},eN=S.createContext(null),tp=()=>{const t=S.useContext(eN);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},J8=({children:t})=>{const{user:e}=Ko(),[n,r]=S.useState(By),[a,l]=S.useState(!1);S.useEffect(()=>{(async()=>{if(!e){r(By);return}try{const g=Ir(Zn,"users",e.uid),v=await Ah(g);v.exists()&&v.data().settings&&r({...By,...v.data().settings})}catch(g){console.error("Error loading settings:",g)}})()},[e]),S.useEffect(()=>{const m=document.body;m.classList.remove("theme-midnight","theme-forest","theme-ocean","theme-sunset"),n.theme!=="dawn"&&m.classList.add(`theme-${n.theme}`),m.classList.remove("font-inter","font-playfair","font-mono","font-comic"),n.font!=="outfit"&&m.classList.add(`font-${n.font}`),n.enableAnimation?m.classList.remove("reduce-motion"):m.classList.add("reduce-motion")},[n]);const c=async(m,g=!0)=>{const v={...n,...m};if(r(v),e&&g)try{await sm(Ir(Zn,"users",e.uid),{settings:v},{merge:!0})}catch(_){console.error("Error saving settings:",_)}},h=()=>l(!0),d=()=>l(!1);return b.jsxs(eN.Provider,{value:{settings:n,updateSettings:c,isSettingsOpen:a,openSettings:h,closeSettings:d},children:[t,b.jsx(Q8,{})]})},Z8=()=>{const{signIn:t,error:e}=Ko();return b.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center",children:[b.jsx("div",{className:"background-animation"}),b.jsxs("div",{className:"glass-panel p-8 max-w-md w-full flex flex-col items-center gap-6 animate-fade-in",children:[b.jsxs("div",{className:"flex flex-col items-center gap-2 mb-2",children:[b.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-24 w-auto object-contain drop-shadow-[0_0_15px_rgba(251,191,36,0.3)]"}),b.jsx("div",{className:"rounded-full bg-accent-primary/20 p-2 hidden",children:b.jsx(HB,{className:"w-6 h-6 text-accent-gold animate-pulse"})})]}),b.jsx("h1",{className:"text-4xl font-heading font-bold text-gradient sr-only",children:"SunSar Bingo"}),b.jsxs("p",{className:"text-slate-300 font-light text-lg",children:["Track your goals, share with friends,",b.jsx("br",{}),"and make 2026 your best year yet."]}),e&&b.jsx("div",{className:"bg-red-500/20 text-red-200 px-4 py-2 rounded-lg text-sm border border-red-500/30",children:e}),b.jsx("button",{onClick:t,className:"group relative px-6 py-3 bg-white text-bg-dark font-bold rounded-full transition-all hover:scale-105 hover:shadow-[0_0_20px_rgba(255,255,255,0.3)]",children:b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"G",className:"w-5 h-5"}),"Sign in / Sign up with Google"]})}),b.jsxs("div",{className:"mt-8 text-sm text-slate-400",children:["New here? ",b.jsx(i0,{to:"/help",className:"text-accent-primary hover:text-accent-secondary transition-colors font-medium",children:"See how it works "})]})]}),b.jsx("footer",{className:"absolute bottom-4 text-slate-500 text-xs",children:" 2026 SunSar Bingo  Free & Open Source"})]})};var kb={};(function t(e,n,r,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",h=(function(){if(!e.OffscreenCanvas)return!1;try{var U=new OffscreenCanvas(1,1),E=U.getContext("2d");E.fillRect(0,0,1,1);var L=U.transferToImageBitmap();E.createPattern(L,"no-repeat")}catch{return!1}return!0})();function d(){}function m(U){var E=n.exports.Promise,L=E!==void 0?E:e.Promise;return typeof L=="function"?new L(U):(U(d,d),null)}var g=(function(U,E){return{transform:function(L){if(U)return L;if(E.has(L))return E.get(L);var Y=new OffscreenCanvas(L.width,L.height),ne=Y.getContext("2d");return ne.drawImage(L,0,0),E.set(L,Y),Y},clear:function(){E.clear()}}})(h,new Map),v=(function(){var U=Math.floor(16.666666666666668),E,L,Y={},ne=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(E=function(me){var ge=Math.random();return Y[ge]=requestAnimationFrame(function pe(xe){ne===xe||ne+U-1<xe?(ne=xe,delete Y[ge],me()):Y[ge]=requestAnimationFrame(pe)}),ge},L=function(me){Y[me]&&cancelAnimationFrame(Y[me])}):(E=function(me){return setTimeout(me,U)},L=function(me){return clearTimeout(me)}),{frame:E,cancel:L}})(),_=(function(){var U,E,L={};function Y(ne){function me(ge,pe){ne.postMessage({options:ge||{},callback:pe})}ne.init=function(pe){var xe=pe.transferControlToOffscreen();ne.postMessage({canvas:xe},[xe])},ne.fire=function(pe,xe,_e){if(E)return me(pe,null),E;var Ee=Math.random().toString(36).slice(2);return E=m(function(Ue){function Pe(st){st.data.callback===Ee&&(delete L[Ee],ne.removeEventListener("message",Pe),E=null,g.clear(),_e(),Ue())}ne.addEventListener("message",Pe),me(pe,Ee),L[Ee]=Pe.bind(null,{data:{callback:Ee}})}),E},ne.reset=function(){ne.postMessage({reset:!0});for(var pe in L)L[pe](),delete L[pe]}}return function(){if(U)return U;if(!r&&l){var ne=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{U=new Worker(URL.createObjectURL(new Blob([ne])))}catch(me){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",me),null}Y(U)}return U}})(),A={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function M(U,E){return E?E(U):U}function O(U){return U!=null}function I(U,E,L){return M(U&&O(U[E])?U[E]:A[E],L)}function z(U){return U<0?0:Math.floor(U)}function $(U,E){return Math.floor(Math.random()*(E-U))+U}function H(U){return parseInt(U,16)}function le(U){return U.map(re)}function re(U){var E=String(U).replace(/[^0-9a-f]/gi,"");return E.length<6&&(E=E[0]+E[0]+E[1]+E[1]+E[2]+E[2]),{r:H(E.substring(0,2)),g:H(E.substring(2,4)),b:H(E.substring(4,6))}}function ae(U){var E=I(U,"origin",Object);return E.x=I(E,"x",Number),E.y=I(E,"y",Number),E}function D(U){U.width=document.documentElement.clientWidth,U.height=document.documentElement.clientHeight}function C(U){var E=U.getBoundingClientRect();U.width=E.width,U.height=E.height}function P(U){var E=document.createElement("canvas");return E.style.position="fixed",E.style.top="0px",E.style.left="0px",E.style.pointerEvents="none",E.style.zIndex=U,E}function N(U,E,L,Y,ne,me,ge,pe,xe){U.save(),U.translate(E,L),U.rotate(me),U.scale(Y,ne),U.arc(0,0,1,ge,pe,xe),U.restore()}function V(U){var E=U.angle*(Math.PI/180),L=U.spread*(Math.PI/180);return{x:U.x,y:U.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:U.startVelocity*.5+Math.random()*U.startVelocity,angle2D:-E+(.5*L-Math.random()*L),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:U.color,shape:U.shape,tick:0,totalTicks:U.ticks,decay:U.decay,drift:U.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:U.gravity*3,ovalScalar:.6,scalar:U.scalar,flat:U.flat}}function B(U,E){E.x+=Math.cos(E.angle2D)*E.velocity+E.drift,E.y+=Math.sin(E.angle2D)*E.velocity+E.gravity,E.velocity*=E.decay,E.flat?(E.wobble=0,E.wobbleX=E.x+10*E.scalar,E.wobbleY=E.y+10*E.scalar,E.tiltSin=0,E.tiltCos=0,E.random=1):(E.wobble+=E.wobbleSpeed,E.wobbleX=E.x+10*E.scalar*Math.cos(E.wobble),E.wobbleY=E.y+10*E.scalar*Math.sin(E.wobble),E.tiltAngle+=.1,E.tiltSin=Math.sin(E.tiltAngle),E.tiltCos=Math.cos(E.tiltAngle),E.random=Math.random()+2);var L=E.tick++/E.totalTicks,Y=E.x+E.random*E.tiltCos,ne=E.y+E.random*E.tiltSin,me=E.wobbleX+E.random*E.tiltCos,ge=E.wobbleY+E.random*E.tiltSin;if(U.fillStyle="rgba("+E.color.r+", "+E.color.g+", "+E.color.b+", "+(1-L)+")",U.beginPath(),c&&E.shape.type==="path"&&typeof E.shape.path=="string"&&Array.isArray(E.shape.matrix))U.fill(G(E.shape.path,E.shape.matrix,E.x,E.y,Math.abs(me-Y)*.1,Math.abs(ge-ne)*.1,Math.PI/10*E.wobble));else if(E.shape.type==="bitmap"){var pe=Math.PI/10*E.wobble,xe=Math.abs(me-Y)*.1,_e=Math.abs(ge-ne)*.1,Ee=E.shape.bitmap.width*E.scalar,Ue=E.shape.bitmap.height*E.scalar,Pe=new DOMMatrix([Math.cos(pe)*xe,Math.sin(pe)*xe,-Math.sin(pe)*_e,Math.cos(pe)*_e,E.x,E.y]);Pe.multiplySelf(new DOMMatrix(E.shape.matrix));var st=U.createPattern(g.transform(E.shape.bitmap),"no-repeat");st.setTransform(Pe),U.globalAlpha=1-L,U.fillStyle=st,U.fillRect(E.x-Ee/2,E.y-Ue/2,Ee,Ue),U.globalAlpha=1}else if(E.shape==="circle")U.ellipse?U.ellipse(E.x,E.y,Math.abs(me-Y)*E.ovalScalar,Math.abs(ge-ne)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI):N(U,E.x,E.y,Math.abs(me-Y)*E.ovalScalar,Math.abs(ge-ne)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI);else if(E.shape==="star")for(var Ne=Math.PI/2*3,wt=4*E.scalar,ht=8*E.scalar,Bt=E.x,mn=E.y,at=5,qe=Math.PI/at;at--;)Bt=E.x+Math.cos(Ne)*ht,mn=E.y+Math.sin(Ne)*ht,U.lineTo(Bt,mn),Ne+=qe,Bt=E.x+Math.cos(Ne)*wt,mn=E.y+Math.sin(Ne)*wt,U.lineTo(Bt,mn),Ne+=qe;else U.moveTo(Math.floor(E.x),Math.floor(E.y)),U.lineTo(Math.floor(E.wobbleX),Math.floor(ne)),U.lineTo(Math.floor(me),Math.floor(ge)),U.lineTo(Math.floor(Y),Math.floor(E.wobbleY));return U.closePath(),U.fill(),E.tick<E.totalTicks}function j(U,E,L,Y,ne){var me=E.slice(),ge=U.getContext("2d"),pe,xe,_e=m(function(Ee){function Ue(){pe=xe=null,ge.clearRect(0,0,Y.width,Y.height),g.clear(),ne(),Ee()}function Pe(){r&&!(Y.width===a.width&&Y.height===a.height)&&(Y.width=U.width=a.width,Y.height=U.height=a.height),!Y.width&&!Y.height&&(L(U),Y.width=U.width,Y.height=U.height),ge.clearRect(0,0,Y.width,Y.height),me=me.filter(function(st){return B(ge,st)}),me.length?pe=v.frame(Pe):Ue()}pe=v.frame(Pe),xe=Ue});return{addFettis:function(Ee){return me=me.concat(Ee),_e},canvas:U,promise:_e,reset:function(){pe&&v.cancel(pe),xe&&xe()}}}function be(U,E){var L=!U,Y=!!I(E||{},"resize"),ne=!1,me=I(E,"disableForReducedMotion",Boolean),ge=l&&!!I(E||{},"useWorker"),pe=ge?_():null,xe=L?D:C,_e=U&&pe?!!U.__confetti_initialized:!1,Ee=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ue;function Pe(Ne,wt,ht){for(var Bt=I(Ne,"particleCount",z),mn=I(Ne,"angle",Number),at=I(Ne,"spread",Number),qe=I(Ne,"startVelocity",Number),pn=I(Ne,"decay",Number),Ni=I(Ne,"gravity",Number),Di=I(Ne,"drift",Number),Ft=I(Ne,"colors",le),Jt=I(Ne,"ticks",Number),ei=I(Ne,"shapes"),Hn=I(Ne,"scalar"),gn=!!I(Ne,"flat"),ti=ae(Ne),yi=Bt,Pt=[],Ki=U.width*ti.x,Cn=U.height*ti.y;yi--;)Pt.push(V({x:Ki,y:Cn,angle:mn,spread:at,startVelocity:qe,color:Ft[yi%Ft.length],shape:ei[$(0,ei.length)],ticks:Jt,decay:pn,gravity:Ni,drift:Di,scalar:Hn,flat:gn}));return Ue?Ue.addFettis(Pt):(Ue=j(U,Pt,xe,wt,ht),Ue.promise)}function st(Ne){var wt=me||I(Ne,"disableForReducedMotion",Boolean),ht=I(Ne,"zIndex",Number);if(wt&&Ee)return m(function(qe){qe()});L&&Ue?U=Ue.canvas:L&&!U&&(U=P(ht),document.body.appendChild(U)),Y&&!_e&&xe(U);var Bt={width:U.width,height:U.height};pe&&!_e&&pe.init(U),_e=!0,pe&&(U.__confetti_initialized=!0);function mn(){if(pe){var qe={getBoundingClientRect:function(){if(!L)return U.getBoundingClientRect()}};xe(qe),pe.postMessage({resize:{width:qe.width,height:qe.height}});return}Bt.width=Bt.height=null}function at(){Ue=null,Y&&(ne=!1,e.removeEventListener("resize",mn)),L&&U&&(document.body.contains(U)&&document.body.removeChild(U),U=null,_e=!1)}return Y&&!ne&&(ne=!0,e.addEventListener("resize",mn,!1)),pe?pe.fire(Ne,Bt,at):Pe(Ne,Bt,at)}return st.reset=function(){pe&&pe.reset(),Ue&&Ue.reset()},st}var De;function te(){return De||(De=be(null,{useWorker:!0,resize:!0})),De}function G(U,E,L,Y,ne,me,ge){var pe=new Path2D(U),xe=new Path2D;xe.addPath(pe,new DOMMatrix(E));var _e=new Path2D;return _e.addPath(xe,new DOMMatrix([Math.cos(ge)*ne,Math.sin(ge)*ne,-Math.sin(ge)*me,Math.cos(ge)*me,L,Y])),_e}function q(U){if(!c)throw new Error("path confetti are not supported in this browser");var E,L;typeof U=="string"?E=U:(E=U.path,L=U.matrix);var Y=new Path2D(E),ne=document.createElement("canvas"),me=ne.getContext("2d");if(!L){for(var ge=1e3,pe=ge,xe=ge,_e=0,Ee=0,Ue,Pe,st=0;st<ge;st+=2)for(var Ne=0;Ne<ge;Ne+=2)me.isPointInPath(Y,st,Ne,"nonzero")&&(pe=Math.min(pe,st),xe=Math.min(xe,Ne),_e=Math.max(_e,st),Ee=Math.max(Ee,Ne));Ue=_e-pe,Pe=Ee-xe;var wt=10,ht=Math.min(wt/Ue,wt/Pe);L=[ht,0,0,ht,-Math.round(Ue/2+pe)*ht,-Math.round(Pe/2+xe)*ht]}return{type:"path",path:E,matrix:L}}function W(U){var E,L=1,Y="#000000",ne='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof U=="string"?E=U:(E=U.text,L="scalar"in U?U.scalar:L,ne="fontFamily"in U?U.fontFamily:ne,Y="color"in U?U.color:Y);var me=10*L,ge=""+me+"px "+ne,pe=new OffscreenCanvas(me,me),xe=pe.getContext("2d");xe.font=ge;var _e=xe.measureText(E),Ee=Math.ceil(_e.actualBoundingBoxRight+_e.actualBoundingBoxLeft),Ue=Math.ceil(_e.actualBoundingBoxAscent+_e.actualBoundingBoxDescent),Pe=2,st=_e.actualBoundingBoxLeft+Pe,Ne=_e.actualBoundingBoxAscent+Pe;Ee+=Pe+Pe,Ue+=Pe+Pe,pe=new OffscreenCanvas(Ee,Ue),xe=pe.getContext("2d"),xe.font=ge,xe.fillStyle=Y,xe.fillText(E,st,Ne);var wt=1/L;return{type:"bitmap",bitmap:pe.transferToImageBitmap(),matrix:[wt,0,0,wt,-Ee*wt/2,-Ue*wt/2]}}n.exports=function(){return te().apply(this,arguments)},n.exports.reset=function(){te().reset()},n.exports.create=be,n.exports.shapeFromPath=q,n.exports.shapeFromText=W})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),kb,!1);const Gv=kb.exports;kb.exports.create;const xu=(t=1)=>{const e=200*t,n={origin:{y:.7}};function r(a,l){Gv(Object.assign({},n,l,{particleCount:Math.floor(e*a)}))}r(.25,{spread:26,startVelocity:55}),r(.2,{spread:60}),r(.35,{spread:100,decay:.91,scalar:.8}),r(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),r(.1,{spread:120,startVelocity:45})},NS={cloudName:"dia6ped7h",uploadPreset:"bingo_proofs"},DS=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",NS.uploadPreset),e.append("folder","bingo-proofs");const n=await fetch(`https://api.cloudinary.com/v1_1/${NS.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok){const a=await n.json();throw console.error("Cloudinary upload error:",a),new Error(a.error?.message||"Failed to upload image")}return(await n.json()).secure_url},eF="2026",Fy=5,tF=["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"],nF=t=>{const{user:e}=Ko(),[n,r]=S.useState([]),[a,l]=S.useState({}),[c,h]=S.useState(!0),[d,m]=S.useState(!1),[g,v]=S.useState(!1),[_,A]=S.useState(""),[M,O]=S.useState(Fy),I=S.useMemo(()=>t?Ir(Zn,"boards",t):Ir(Zn,"years",eF),[t]),z=(G,q)=>{if(!G.length)return;const W=[];for(let E=0;E<q;E++)W.push(G.slice(E*q,(E+1)*q));let U=!1;for(let E=0;E<q;E++)if(W[E]&&W[E].every(L=>L.isCompleted||L.isFreeSpace)){U=!0;break}if(!U){for(let E=0;E<q;E++)if(W.map(L=>L[E]).every(L=>L&&(L.isCompleted||L.isFreeSpace))){U=!0;break}}!U&&W.map((E,L)=>E[L]).every(E=>E&&(E.isCompleted||E.isFreeSpace))&&(U=!0),!U&&W.map((E,L)=>E[q-1-L]).every(E=>E&&(E.isCompleted||E.isFreeSpace))&&(U=!0),U&&!d?(m(!0),xu(2)):U||m(!1)},$=async(G=Fy)=>{const q=G*G,W=G%2===1?Math.floor(q/2):-1,U=[...tF].sort(()=>.5-Math.random()),E=[];let L=0;for(let Y=0;Y<q;Y++)Y===W&&G%2===1?E.push({id:Y,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(E.push({id:Y,text:U[L%U.length]||`Goal ${Y+1}`,isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),L++);await sm(I,{year:2026,gridSize:G,items:E,isLocked:!1,createdAt:Be.now(),lastUpdated:Be.now(),...e?{ownerId:e.uid,members:{[e.uid]:"owner"}}:{}},{merge:!0})};S.useEffect(()=>{if(!e)return;h(!0);const G=FR(I,q=>{if(q.exists()){const W=q.data(),U=W.gridSize||Fy;O(U),r(W.items||[]),l(W.members||{}),v(W.isLocked||!1),A(W.title||""),z(W.items||[],U)}else $();h(!1)},q=>{console.error("Error fetching bingo board:",q),h(!1)});return()=>G()},[I,e]);const H=async G=>{if(!n.length)return;const q=n.map(L=>({...L})),W=q[G];if(W.isFreeSpace)return;const U=W.targetCount||1,E=W.currentCount||0;if(W.isCompleted){const L=Math.max(0,E-1);W.currentCount=L,W.isCompleted=L>=U,L===0&&(W.completedBy=null,W.completedAt=null)}else{const L=Math.min(U,E+1);W.currentCount=L,W.isCompleted=L>=U,W.completedBy=e?.displayName||e?.email||"Unknown",W.completedAt=Be.now(),xu(.5)}r(q),z(q,M);try{await ai(I,{items:q,lastUpdated:Be.now()})}catch(L){console.error("Error updating bingo board:",L)}},le=async G=>{if(!n.length)return;const q=n.map(Y=>({...Y})),W=q[G];if(W.isFreeSpace)return;const U=W.currentCount||0;if(U<=0)return;const E=W.targetCount||1,L=U-1;W.currentCount=L,W.isCompleted=L>=E,L===0&&(W.completedBy=null,W.completedAt=null),r(q),z(q,M);try{await ai(I,{items:q,lastUpdated:Be.now()})}catch(Y){console.error("Error decrementing progress:",Y)}},re=async(G,q)=>{if(!(!n.length||!e))try{const W=await DS(q),U=n.map(ge=>({...ge})),E=U[G];if(E.isFreeSpace)return;const L=E.targetCount||1,Y=E.currentCount||0,ne=Math.min(L,Y+1);E.currentCount=ne,E.isCompleted=ne>=L,E.completedBy=e?.displayName||e?.email||"Unknown",E.completedAt=Be.now();const me=E.proofPhotos||[];E.proofPhotos=[...me,W],r(U),z(U,M),xu(1),await ai(I,{items:U,lastUpdated:Be.now()})}catch(W){throw console.error("Error completing with photo:",W),W}},ae=async(G,q)=>{if(!n.length||!e)return;const W=n[G];!W.isCompleted&&(W.currentCount||0)<(W.targetCount||1);const U=W.proofPhotos||[];if(U.length>=5)throw new Error("Maximum 5 photos allowed per tile");try{const E=await DS(q),L=n.map(Y=>({...Y}));return L[G].proofPhotos=[...U,E],r(L),xu(.3),await ai(I,{items:L,lastUpdated:Be.now()}),E}catch(E){throw console.error("Error adding photo:",E),E}},D=async(G,q)=>{if(!n.length)return;const W=n.map(L=>({...L})),U=W[G];if(!U.proofPhotos)return;const E=[...U.proofPhotos];E.splice(q,1),U.proofPhotos=E,r(W);try{await ai(I,{items:W,lastUpdated:Be.now()})}catch(L){console.error("Error deleting photo:",L)}},C=async(G,q)=>{if(e)try{const W=n.map(Y=>({...Y})),U=W[G],E={emoji:q,by:e.uid,byName:e.displayName||e.email?.split("@")[0]||"Friend",timestamp:Date.now()},L=U.reactions||[];U.reactions=[...L,E],r(W),await ai(I,{items:W,lastUpdated:Be.now()}),xu(.2)}catch(W){console.error("Error adding reaction:",W)}},P=async(G,q)=>{const W=n.map(U=>({...U}));q.text!==void 0&&(W[G].text=q.text),q.style!==void 0&&(W[G].style=q.style),r(W);try{await ai(I,{items:W,lastUpdated:Be.now()})}catch(U){console.error("Error updating item:",U)}},N=async(G=!0)=>{const q=[...n];let W=q;if(G){const E=M*M,L=M%2===1?Math.floor(E/2):-1;if(L!==-1){const Y=q[L],ne=[...q.slice(0,L),...q.slice(L+1)];for(let me=ne.length-1;me>0;me--){const ge=Math.floor(Math.random()*(me+1));[ne[me],ne[ge]]=[ne[ge],ne[me]]}W=[...ne.slice(0,L),Y,...ne.slice(L)]}else{W=[...q];for(let Y=W.length-1;Y>0;Y--){const ne=Math.floor(Math.random()*(Y+1));[W[Y],W[ne]]=[W[ne],W[Y]]}}r(W)}v(!0);const U={isLocked:!0,lastUpdated:Be.now()};G&&(U.items=W,U.itemsBackup=q),await sm(I,U,{merge:!0})},V=async()=>{try{const G=await Ah(I);if(G.exists()){const q=G.data();q.itemsBackup?await ai(I,{items:q.itemsBackup,itemsBackup:rm(),isLocked:!1,lastUpdated:Be.now()}):await ai(I,{isLocked:!1,lastUpdated:Be.now()})}}catch(G){console.error("Error unlocking board:",G)}},B=S.useMemo(()=>{const G=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],[0,6,12,18,24],[4,8,12,16,20]],q=new Set(n.map((W,U)=>W.isCompleted||W.isFreeSpace?U:-1));return G.reduce((W,U)=>U.every(E=>q.has(E))?W+1:W,0)},[n]);return{items:n,members:a,loading:c,toggleItem:H,updateItem:P,hasWon:d,bingoCount:B,isLocked:g,unlockBoard:V,jumbleAndLock:N,saveBoard:async G=>{r(G);try{await ai(I,{items:G,lastUpdated:Be.now()})}catch(q){console.error("Error saving board:",q)}},completeWithPhoto:re,addPhotoToTile:ae,deletePhoto:D,addReaction:C,decrementProgress:le,inviteUser:async(G,q="editor")=>{try{const W=Qu(Na(Zn,"users"),Ju("email","==",G)),U=await Po(W);if(U.empty)return{success:!1,type:"not_found",message:"User not found"};const E=U.docs[0],L=E.id;return await ai(I,{[`members.${L}`]:q}),{success:!0,type:"success",message:`Added ${E.data().displayName||G} as ${q}!`}}catch(W){return console.error("Error inviting user:",W),{success:!1,type:"error",message:"Failed to invite user"}}},removeMember:async G=>{try{return await ai(I,{[`members.${G}`]:rm()}),{success:!0}}catch(q){return console.error("Error removing member:",q),{success:!1,error:q}}},title:_,gridSize:M,updateTitle:async G=>{try{await ai(I,{title:G,lastUpdated:Be.now()}),A(G)}catch(q){console.error("Error updating title:",q)}}}};let Uu=null;const _u=()=>(Uu||(Uu=new(window.AudioContext||window.webkitAudioContext)),Uu),iF=()=>{const{settings:t}=tp(),e=t.enableSound??!0,n=S.useRef(0);S.useEffect(()=>{const g=()=>{Uu?.state==="suspended"&&Uu.resume()};return document.addEventListener("click",g,{once:!0}),document.addEventListener("touchstart",g,{once:!0}),()=>{document.removeEventListener("click",g),document.removeEventListener("touchstart",g)}},[]);const r=S.useCallback(()=>{const g=Date.now();return g-n.current<50?!1:(n.current=g,!0)},[]),a=S.useCallback(()=>{if(!(!e||!r()))try{const g=_u(),v=g.createOscillator(),_=g.createGain();v.connect(_),_.connect(g.destination),v.frequency.setValueAtTime(800,g.currentTime),v.frequency.exponentialRampToValueAtTime(400,g.currentTime+.1),v.type="sine",_.gain.setValueAtTime(.15,g.currentTime),_.gain.exponentialRampToValueAtTime(.001,g.currentTime+.1),v.start(g.currentTime),v.stop(g.currentTime+.1)}catch(g){console.warn("Audio playback failed:",g)}},[e,r]),l=S.useCallback(()=>{if(!(!e||!r()))try{const g=_u();[523.25,659.25,783.99].forEach((_,A)=>{const M=g.createOscillator(),O=g.createGain();M.connect(O),O.connect(g.destination),M.frequency.setValueAtTime(_,g.currentTime),M.type="sine";const I=g.currentTime+A*.08;O.gain.setValueAtTime(0,I),O.gain.linearRampToValueAtTime(.12,I+.02),O.gain.exponentialRampToValueAtTime(.001,I+.3),M.start(I),M.stop(I+.3)})}catch(g){console.warn("Audio playback failed:",g)}},[e,r]),c=S.useCallback(()=>{if(e)try{const g=_u();[{freq:523.25,time:0},{freq:659.25,time:.1},{freq:783.99,time:.2},{freq:1046.5,time:.35},{freq:1318.51,time:.5}].forEach(({freq:M,time:O})=>{const I=g.createOscillator(),z=g.createGain();I.connect(z),z.connect(g.destination),I.frequency.setValueAtTime(M,g.currentTime+O),I.type="sine",z.gain.setValueAtTime(0,g.currentTime+O),z.gain.linearRampToValueAtTime(.2,g.currentTime+O+.02),z.gain.exponentialRampToValueAtTime(.001,g.currentTime+O+.5),I.start(g.currentTime+O),I.stop(g.currentTime+O+.5)});const _=g.createOscillator(),A=g.createGain();_.connect(A),A.connect(g.destination),_.type="sine",_.frequency.setValueAtTime(2e3,g.currentTime+.6),_.frequency.exponentialRampToValueAtTime(4e3,g.currentTime+1.2),A.gain.setValueAtTime(0,g.currentTime+.6),A.gain.linearRampToValueAtTime(.05,g.currentTime+.7),A.gain.exponentialRampToValueAtTime(.001,g.currentTime+1.2),_.start(g.currentTime+.6),_.stop(g.currentTime+1.2)}catch(g){console.warn("Audio playback failed:",g)}},[e]),h=S.useRef(null),d=S.useCallback(()=>{if(!(!e||!r()))try{const g=_u();if(!h.current){const M=g.sampleRate*.15,O=g.createBuffer(1,M,g.sampleRate),I=O.getChannelData(0);for(let z=0;z<M;z++)I[z]=(Math.random()*2-1)*(1-z/M);h.current=O}const v=g.createBufferSource(),_=g.createBiquadFilter(),A=g.createGain();v.buffer=h.current,_.type="lowpass",_.frequency.setValueAtTime(2e3,g.currentTime),_.frequency.exponentialRampToValueAtTime(500,g.currentTime+.15),v.connect(_),_.connect(A),A.connect(g.destination),A.gain.setValueAtTime(.08,g.currentTime),A.gain.exponentialRampToValueAtTime(.001,g.currentTime+.15),v.start(g.currentTime)}catch(g){console.warn("Audio playback failed:",g)}},[e,r]),m=S.useCallback(()=>{if(!(!e||!r()))try{const g=_u(),v=g.createOscillator(),_=g.createGain();v.connect(_),_.connect(g.destination),v.frequency.setValueAtTime(200,g.currentTime),v.frequency.linearRampToValueAtTime(150,g.currentTime+.2),v.type="sine",_.gain.setValueAtTime(.15,g.currentTime),_.gain.exponentialRampToValueAtTime(.001,g.currentTime+.2),v.start(g.currentTime),v.stop(g.currentTime+.2)}catch(g){console.warn("Audio playback failed:",g)}},[e,r]);return{playClick:a,playSuccess:l,playBingo:c,playWhoosh:d,playError:m}},rF=async(t,e)=>{try{const n={version:"2.0",exportedAt:new Date().toISOString(),user:t||"anonymous",boards:{},years:{},currentBoard:e};if(t)try{const d=Na(Zn,"boards"),m=Qu(d,Ju(`members.${t}`,"in",["owner","editor","viewer","admin"])),g=await Po(m);g.forEach(v=>{n.boards[v.id]=v.data()}),console.log(`Backup: Found ${g.size} boards.`)}catch(d){console.warn("Could not fetch all boards via query. Ensure Firestore indexes exist.",d),e?.boardId&&(n.boards[e.boardId]=e)}else e?.boardId&&(n.boards[e.boardId]=e);try{(await Po(Na(Zn,"years"))).forEach(m=>{n.years[m.id]=m.data()})}catch(d){console.warn("Could not fetch years collection.",d)}const r=JSON.stringify(n,null,2),a=new Blob([r],{type:"application/json"}),l=URL.createObjectURL(a),c=document.createElement("a");c.href=l;const h=`bingo_full_backup_${new Date().toISOString().split("T")[0]}.json`;return c.download=h,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(l),!0}catch(n){return console.error("Backup failed:",n),alert("Backup failed. See console for details."),!1}},sF=({items:t,isOpen:e,onClose:n})=>{const[r,a]=S.useState(null),l=S.useMemo(()=>t.map((d,m)=>({...d,originalIndex:m})).filter(d=>d.proofPhotos&&d.proofPhotos.length>0).sort((d,m)=>{const g=d.completedAt?.toDate?.()||new Date(0);return(m.completedAt?.toDate?.()||new Date(0)).getTime()-g.getTime()}),[t]),c=S.useMemo(()=>{const d={};return l.forEach(m=>{const v=(m.completedAt?.toDate?.()||new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"});d[v]||(d[v]=[]),d[v].push(m)}),d},[l]),h=d=>d?(d.toDate?d.toDate():new Date(d)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e?b.jsx(lr,{children:b.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-bg-dark overflow-y-auto",children:[b.jsx("div",{className:"sticky top-0 z-10 bg-bg-dark/95 backdrop-blur-md border-b border-white/10",children:b.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(pm,{className:"w-6 h-6 text-accent-gold"}),b.jsx("h1",{className:"text-xl font-bold text-white",children:"2026 Memories"}),b.jsxs("span",{className:"text-sm text-slate-400",children:["(",l.length," moments)"]})]}),b.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-white transition-colors rounded-full hover:bg-white/10",children:b.jsx(Wr,{size:24})})]})}),b.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:l.length===0?b.jsxs("div",{className:"text-center py-20",children:[b.jsx(pm,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),b.jsx("h2",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No memories yet"}),b.jsx("p",{className:"text-slate-500",children:"Complete tasks and add photos to build your 2026 album!"})]}):Object.entries(c).map(([d,m])=>b.jsxs("div",{className:"mb-8",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(gm,{className:"w-4 h-4 text-accent-primary"}),b.jsx("h2",{className:"text-lg font-semibold text-accent-primary",children:d}),b.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent-primary/30 to-transparent"})]}),b.jsx("div",{className:"space-y-6",children:m.map((g,v)=>b.jsxs(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"bg-bg-card/80 rounded-2xl border border-white/10 overflow-hidden shadow-xl",children:[b.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer",onClick:()=>a({memoryIdx:l.indexOf(g),photoIdx:0}),children:[b.jsx("img",{src:g.proofPhotos[0],alt:g.text,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),g.proofPhotos.length>1&&b.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-full text-white text-xs font-medium",children:["+",g.proofPhotos.length-1," more"]})]}),g.proofPhotos.length>1&&b.jsx("div",{className:"flex gap-1 p-2 bg-black/30 overflow-x-auto",children:g.proofPhotos.map((_,A)=>b.jsx("button",{onClick:()=>a({memoryIdx:l.indexOf(g),photoIdx:A}),className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 border-2 border-transparent hover:border-accent-primary transition-all",children:b.jsx("img",{src:_,alt:"",className:"w-full h-full object-cover"})},A))}),b.jsxs("div",{className:"p-4",children:[b.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[b.jsx("span",{className:"text-accent-gold",children:g.isCompleted?"":""}),g.text]}),b.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(LI,{size:14}),g.isCompleted?g.completedBy:"In Progress"]}),g.isCompleted&&b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(gm,{size:14}),h(g.completedAt)]})]})]})]},g.id))})]},d))}),b.jsx(lr,{children:r!==null&&l[r.memoryIdx]&&b.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>a(null),children:[b.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white",children:b.jsx(Wr,{size:32})}),(()=>{const d=l[r.memoryIdx],m=d.proofPhotos||[],g=r.photoIdx;return b.jsxs("div",{className:"relative max-w-4xl w-full",onClick:v=>v.stopPropagation(),children:[b.jsx("img",{src:m[g],alt:"",className:"w-full max-h-[80vh] object-contain rounded-lg"}),m.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>a({...r,photoIdx:g>0?g-1:m.length-1}),className:"absolute left-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:b.jsx(OI,{size:28})}),b.jsx("button",{onClick:()=>a({...r,photoIdx:g<m.length-1?g+1:0}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:b.jsx(PI,{size:28})})]}),b.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[b.jsx("p",{className:"text-white font-semibold",children:d.text}),b.jsxs("p",{className:"text-slate-300 text-sm",children:[g+1," / ",m.length,"  ",h(d.completedAt)]})]})]})})()]})})]})}):null},aF=({items:t})=>{const[e,n]=S.useState([]),r=S.useRef({}),a=S.useRef(!1);S.useEffect(()=>{if(!a.current){t.forEach(c=>{r.current[c.id]=c.reactions?.length||0}),a.current=!0;return}t.forEach(c=>{const h=c.reactions?.length||0,d=r.current[c.id]||0;h>d&&c.reactions.slice(d).forEach(g=>{l(g)}),r.current[c.id]=h})},[t]);const l=c=>{const h=Math.random().toString(36).substring(7),d=Math.random()*80+10;n(m=>[...m,{...c,id:h,x:d}]),setTimeout(()=>{n(m=>m.filter(g=>g.id!==h))},4e3)};return b.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] overflow-hidden",children:b.jsx(lr,{children:e.map(c=>b.jsxs(tt.div,{initial:{y:"110vh",opacity:0,x:`${c.x}vw`,scale:.5,rotate:0},animate:{y:"-10vh",opacity:[0,1,1,0],scale:[.5,1.5,1.2],rotate:[0,-10,10,0]},transition:{duration:4,ease:"easeOut"},className:"absolute top-0 flex flex-col items-center",children:[b.jsx("span",{className:"text-6xl drop-shadow-2xl filter",children:c.emoji}),c.byName&&b.jsx("div",{className:"text-sm font-bold text-white/90 text-center mt-2 bg-black/40 px-3 py-1 rounded-full backdrop-blur-md border border-white/10 shadow-lg",children:c.byName})]},c.id))})})};function oF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>r=>{e.forEach(a=>a(r))},e)}const np=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Mb(t){return"nodeType"in t}function gi(t){var e,n;return t?xc(t)?t:Mb(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Ob(t){const{Document:e}=gi(t);return t instanceof e}function kh(t){return xc(t)?!1:t instanceof gi(t).HTMLElement}function tN(t){return t instanceof gi(t).SVGElement}function _c(t){return t?xc(t)?t.document:Mb(t)?Ob(t)?t:kh(t)||tN(t)?t.ownerDocument:document:document:document}const Or=np?S.useLayoutEffect:S.useEffect;function ip(t){const e=S.useRef(t);return Or(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}function lF(){const t=S.useRef(null),e=S.useCallback((r,a)=>{t.current=setInterval(r,a)},[]),n=S.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function sh(t,e){e===void 0&&(e=[t]);const n=S.useRef(t);return Or(()=>{n.current!==t&&(n.current=t)},e),n}function Mh(t,e){const n=S.useRef();return S.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function vm(t){const e=ip(t),n=S.useRef(null),r=S.useCallback(a=>{a!==n.current&&e?.(a,n.current),n.current=a},[]);return[n,r]}function bm(t){const e=S.useRef();return S.useEffect(()=>{e.current=t},[t]),e.current}let qy={};function Oh(t,e){return S.useMemo(()=>{if(e)return e;const n=qy[t]==null?0:qy[t]+1;return qy[t]=n,t+"-"+n},[t,e])}function nN(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((l,c)=>{const h=Object.entries(c);for(const[d,m]of h){const g=l[d];g!=null&&(l[d]=g+t*m)}return l},{...e})}}const Ql=nN(1),ah=nN(-1);function cF(t){return"clientX"in t&&"clientY"in t}function rp(t){if(!t)return!1;const{KeyboardEvent:e}=gi(t.target);return e&&t instanceof e}function uF(t){if(!t)return!1;const{TouchEvent:e}=gi(t.target);return e&&t instanceof e}function xm(t){if(uF(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return cF(t)?{x:t.clientX,y:t.clientY}:null}const $a=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[$a.Translate.toString(t),$a.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),kS="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function hF(t){return t.matches(kS)?t:t.querySelector(kS)}const dF={display:"none"};function fF(t){let{id:e,value:n}=t;return At.createElement("div",{id:e,style:dF},n)}function mF(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return At.createElement("div",{id:e,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function pF(){const[t,e]=S.useState("");return{announce:S.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const iN=S.createContext(null);function gF(t){const e=S.useContext(iN);S.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function yF(){const[t]=S.useState(()=>new Set),e=S.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[S.useCallback(r=>{let{type:a,event:l}=r;t.forEach(c=>{var h;return(h=c[a])==null?void 0:h.call(c,l)})},[t]),e]}const vF={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},bF={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function xF(t){let{announcements:e=bF,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=vF}=t;const{announce:l,announcement:c}=pF(),h=Oh("DndLiveRegion"),[d,m]=S.useState(!1);if(S.useEffect(()=>{m(!0)},[]),gF(S.useMemo(()=>({onDragStart(v){let{active:_}=v;l(e.onDragStart({active:_}))},onDragMove(v){let{active:_,over:A}=v;e.onDragMove&&l(e.onDragMove({active:_,over:A}))},onDragOver(v){let{active:_,over:A}=v;l(e.onDragOver({active:_,over:A}))},onDragEnd(v){let{active:_,over:A}=v;l(e.onDragEnd({active:_,over:A}))},onDragCancel(v){let{active:_,over:A}=v;l(e.onDragCancel({active:_,over:A}))}}),[l,e])),!d)return null;const g=At.createElement(At.Fragment,null,At.createElement(fF,{id:r,value:a.draggable}),At.createElement(mF,{id:h,announcement:c}));return n?wu.createPortal(g,n):g}var On;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(On||(On={}));function _m(){}function MS(t,e){return S.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function _F(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Pr=Object.freeze({x:0,y:0});function rN(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function wF(t,e){const n=xm(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function sN(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function TF(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function OS(t){let{left:e,top:n,height:r,width:a}=t;return[{x:e,y:n},{x:e+a,y:n},{x:e,y:n+r},{x:e+a,y:n+r}]}function aN(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function PS(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const EF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=PS(e,e.left,e.top),l=[];for(const c of r){const{id:h}=c,d=n.get(h);if(d){const m=rN(PS(d),a);l.push({id:h,data:{droppableContainer:c,value:m}})}}return l.sort(sN)},SF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=OS(e),l=[];for(const c of r){const{id:h}=c,d=n.get(h);if(d){const m=OS(d),g=a.reduce((_,A,M)=>_+rN(m[M],A),0),v=Number((g/4).toFixed(4));l.push({id:h,data:{droppableContainer:c,value:v}})}}return l.sort(sN)};function AF(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),l=Math.min(e.top+e.height,t.top+t.height),c=a-r,h=l-n;if(r<a&&n<l){const d=e.width*e.height,m=t.width*t.height,g=c*h,v=g/(d+m-g);return Number(v.toFixed(4))}return 0}const CF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=[];for(const l of r){const{id:c}=l,h=n.get(c);if(h){const d=AF(h,e);d>0&&a.push({id:c,data:{droppableContainer:l,value:d}})}}return a.sort(TF)};function RF(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function oN(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Pr}function IF(t){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];return a.reduce((c,h)=>({...c,top:c.top+t*h.y,bottom:c.bottom+t*h.y,left:c.left+t*h.x,right:c.right+t*h.x}),{...n})}}const NF=IF(1);function lN(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function DF(t,e,n){const r=lN(e);if(!r)return t;const{scaleX:a,scaleY:l,x:c,y:h}=r,d=t.left-c-(1-a)*parseFloat(n),m=t.top-h-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),g=a?t.width/a:t.width,v=l?t.height/l:t.height;return{width:g,height:v,top:m,right:d+g,bottom:m+v,left:d}}const kF={ignoreTransform:!1};function wc(t,e){e===void 0&&(e=kF);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:m,transformOrigin:g}=gi(t).getComputedStyle(t);m&&(n=DF(n,m,g))}const{top:r,left:a,width:l,height:c,bottom:h,right:d}=n;return{top:r,left:a,width:l,height:c,bottom:h,right:d}}function VS(t){return wc(t,{ignoreTransform:!0})}function MF(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function OF(t,e){return e===void 0&&(e=gi(t).getComputedStyle(t)),e.position==="fixed"}function PF(t,e){e===void 0&&(e=gi(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const l=e[a];return typeof l=="string"?n.test(l):!1})}function sp(t,e){const n=[];function r(a){if(e!=null&&n.length>=e||!a)return n;if(Ob(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!kh(a)||tN(a)||n.includes(a))return n;const l=gi(t).getComputedStyle(a);return a!==t&&PF(a,l)&&n.push(a),OF(a,l)?n:r(a.parentNode)}return t?r(t):n}function cN(t){const[e]=sp(t,1);return e??null}function Hy(t){return!np||!t?null:xc(t)?t:Mb(t)?Ob(t)||t===_c(t).scrollingElement?window:kh(t)?t:null:null}function uN(t){return xc(t)?t.scrollX:t.scrollLeft}function hN(t){return xc(t)?t.scrollY:t.scrollTop}function $v(t){return{x:uN(t),y:hN(t)}}var Bn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Bn||(Bn={}));function dN(t){return!np||!t?!1:t===document.scrollingElement}function fN(t){const e={x:0,y:0},n=dN(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},a=t.scrollTop<=e.y,l=t.scrollLeft<=e.x,c=t.scrollTop>=r.y,h=t.scrollLeft>=r.x;return{isTop:a,isLeft:l,isBottom:c,isRight:h,maxScroll:r,minScroll:e}}const VF={x:.2,y:.2};function jF(t,e,n,r,a){let{top:l,left:c,right:h,bottom:d}=n;r===void 0&&(r=10),a===void 0&&(a=VF);const{isTop:m,isBottom:g,isLeft:v,isRight:_}=fN(t),A={x:0,y:0},M={x:0,y:0},O={height:e.height*a.y,width:e.width*a.x};return!m&&l<=e.top+O.height?(A.y=Bn.Backward,M.y=r*Math.abs((e.top+O.height-l)/O.height)):!g&&d>=e.bottom-O.height&&(A.y=Bn.Forward,M.y=r*Math.abs((e.bottom-O.height-d)/O.height)),!_&&h>=e.right-O.width?(A.x=Bn.Forward,M.x=r*Math.abs((e.right-O.width-h)/O.width)):!v&&c<=e.left+O.width&&(A.x=Bn.Backward,M.x=r*Math.abs((e.left+O.width-c)/O.width)),{direction:A,speed:M}}function LF(t){if(t===document.scrollingElement){const{innerWidth:l,innerHeight:c}=window;return{top:0,left:0,right:l,bottom:c,width:l,height:c}}const{top:e,left:n,right:r,bottom:a}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:a,width:t.clientWidth,height:t.clientHeight}}function mN(t){return t.reduce((e,n)=>Ql(e,$v(n)),Pr)}function UF(t){return t.reduce((e,n)=>e+uN(n),0)}function zF(t){return t.reduce((e,n)=>e+hN(n),0)}function pN(t,e){if(e===void 0&&(e=wc),!t)return;const{top:n,left:r,bottom:a,right:l}=e(t);cN(t)&&(a<=0||l<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const BF=[["x",["left","right"],UF],["y",["top","bottom"],zF]];class Pb{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=sp(n),a=mN(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,c,h]of BF)for(const d of c)Object.defineProperty(this,d,{get:()=>{const m=h(r),g=a[l]-m;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class zu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var a;(a=this.target)==null||a.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function FF(t){const{EventTarget:e}=gi(t);return t instanceof e?t:_c(t)}function Gy(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var cr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(cr||(cr={}));function jS(t){t.preventDefault()}function qF(t){t.stopPropagation()}var lt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(lt||(lt={}));const gN={start:[lt.Space,lt.Enter],cancel:[lt.Esc],end:[lt.Space,lt.Enter,lt.Tab]},HF=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case lt.Right:return{...n,x:n.x+25};case lt.Left:return{...n,x:n.x-25};case lt.Down:return{...n,y:n.y+25};case lt.Up:return{...n,y:n.y-25}}};class Vb{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new zu(_c(n)),this.windowListeners=new zu(gi(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(cr.Resize,this.handleCancel),this.windowListeners.add(cr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(cr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&pN(r),n(Pr)}handleKeyDown(e){if(rp(e)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:l=gN,coordinateGetter:c=HF,scrollBehavior:h="smooth"}=a,{code:d}=e;if(l.end.includes(d)){this.handleEnd(e);return}if(l.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:m}=r.current,g=m?{x:m.left,y:m.top}:Pr;this.referenceCoordinates||(this.referenceCoordinates=g);const v=c(e,{active:n,context:r.current,currentCoordinates:g});if(v){const _=ah(v,g),A={x:0,y:0},{scrollableAncestors:M}=r.current;for(const O of M){const I=e.code,{isTop:z,isRight:$,isLeft:H,isBottom:le,maxScroll:re,minScroll:ae}=fN(O),D=LF(O),C={x:Math.min(I===lt.Right?D.right-D.width/2:D.right,Math.max(I===lt.Right?D.left:D.left+D.width/2,v.x)),y:Math.min(I===lt.Down?D.bottom-D.height/2:D.bottom,Math.max(I===lt.Down?D.top:D.top+D.height/2,v.y))},P=I===lt.Right&&!$||I===lt.Left&&!H,N=I===lt.Down&&!le||I===lt.Up&&!z;if(P&&C.x!==v.x){const V=O.scrollLeft+_.x,B=I===lt.Right&&V<=re.x||I===lt.Left&&V>=ae.x;if(B&&!_.y){O.scrollTo({left:V,behavior:h});return}B?A.x=O.scrollLeft-V:A.x=I===lt.Right?O.scrollLeft-re.x:O.scrollLeft-ae.x,A.x&&O.scrollBy({left:-A.x,behavior:h});break}else if(N&&C.y!==v.y){const V=O.scrollTop+_.y,B=I===lt.Down&&V<=re.y||I===lt.Up&&V>=ae.y;if(B&&!_.x){O.scrollTo({top:V,behavior:h});return}B?A.y=O.scrollTop-V:A.y=I===lt.Down?O.scrollTop-re.y:O.scrollTop-ae.y,A.y&&O.scrollBy({top:-A.y,behavior:h});break}}this.handleMove(e,Ql(ah(v,this.referenceCoordinates),A))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Vb.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=gN,onActivation:a}=e,{active:l}=n;const{code:c}=t.nativeEvent;if(r.start.includes(c)){const h=l.activatorNode.current;return h&&t.target!==h?!1:(t.preventDefault(),a?.({event:t.nativeEvent}),!0)}return!1}}];function LS(t){return!!(t&&"distance"in t)}function US(t){return!!(t&&"delay"in t)}class jb{constructor(e,n,r){var a;r===void 0&&(r=FF(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:l}=e,{target:c}=l;this.props=e,this.events=n,this.document=_c(c),this.documentListeners=new zu(this.document),this.listeners=new zu(r),this.windowListeners=new zu(gi(c)),this.initialCoordinates=(a=xm(l))!=null?a:Pr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(cr.Resize,this.handleCancel),this.windowListeners.add(cr.DragStart,jS),this.windowListeners.add(cr.VisibilityChange,this.handleCancel),this.windowListeners.add(cr.ContextMenu,jS),this.documentListeners.add(cr.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(US(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(LS(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:a}=this.props;a(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(cr.Click,qF,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(cr.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:a,props:l}=this,{onMove:c,options:{activationConstraint:h}}=l;if(!a)return;const d=(n=xm(e))!=null?n:Pr,m=ah(a,d);if(!r&&h){if(LS(h)){if(h.tolerance!=null&&Gy(m,h.tolerance))return this.handleCancel();if(Gy(m,h.distance))return this.handleStart()}if(US(h)&&Gy(m,h.tolerance))return this.handleCancel();this.handlePending(h,m);return}e.cancelable&&e.preventDefault(),c(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===lt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const GF={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Lb extends jb{constructor(e){const{event:n}=e,r=_c(n.target);super(e,GF,r)}}Lb.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const $F={move:{name:"mousemove"},end:{name:"mouseup"}};var Kv;(function(t){t[t.RightClick=2]="RightClick"})(Kv||(Kv={}));class KF extends jb{constructor(e){super(e,$F,_c(e.event.target))}}KF.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Kv.RightClick?!1:(r?.({event:n}),!0)}}];const $y={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class YF extends jb{constructor(e){super(e,$y)}static setup(){return window.addEventListener($y.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener($y.move.name,e)};function e(){}}}YF.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:a}=n;return a.length>1?!1:(r?.({event:n}),!0)}}];var Bu;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Bu||(Bu={}));var wm;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(wm||(wm={}));function XF(t){let{acceleration:e,activator:n=Bu.Pointer,canScroll:r,draggingRect:a,enabled:l,interval:c=5,order:h=wm.TreeOrder,pointerCoordinates:d,scrollableAncestors:m,scrollableAncestorRects:g,delta:v,threshold:_}=t;const A=QF({delta:v,disabled:!l}),[M,O]=lF(),I=S.useRef({x:0,y:0}),z=S.useRef({x:0,y:0}),$=S.useMemo(()=>{switch(n){case Bu.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Bu.DraggableRect:return a}},[n,a,d]),H=S.useRef(null),le=S.useCallback(()=>{const ae=H.current;if(!ae)return;const D=I.current.x*z.current.x,C=I.current.y*z.current.y;ae.scrollBy(D,C)},[]),re=S.useMemo(()=>h===wm.TreeOrder?[...m].reverse():m,[h,m]);S.useEffect(()=>{if(!l||!m.length||!$){O();return}for(const ae of re){if(r?.(ae)===!1)continue;const D=m.indexOf(ae),C=g[D];if(!C)continue;const{direction:P,speed:N}=jF(ae,C,$,e,_);for(const V of["x","y"])A[V][P[V]]||(N[V]=0,P[V]=0);if(N.x>0||N.y>0){O(),H.current=ae,M(le,c),I.current=N,z.current=P;return}}I.current={x:0,y:0},z.current={x:0,y:0},O()},[e,le,r,O,l,c,JSON.stringify($),JSON.stringify(A),M,m,re,g,JSON.stringify(_)])}const WF={x:{[Bn.Backward]:!1,[Bn.Forward]:!1},y:{[Bn.Backward]:!1,[Bn.Forward]:!1}};function QF(t){let{delta:e,disabled:n}=t;const r=bm(e);return Mh(a=>{if(n||!r||!a)return WF;const l={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Bn.Backward]:a.x[Bn.Backward]||l.x===-1,[Bn.Forward]:a.x[Bn.Forward]||l.x===1},y:{[Bn.Backward]:a.y[Bn.Backward]||l.y===-1,[Bn.Forward]:a.y[Bn.Forward]||l.y===1}}},[n,e,r])}function JF(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Mh(a=>{var l;return e==null?null:(l=r??a)!=null?l:null},[r,e])}function ZF(t,e){return S.useMemo(()=>t.reduce((n,r)=>{const{sensor:a}=r,l=a.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,r)}));return[...n,...l]},[]),[t,e])}var oh;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(oh||(oh={}));var Yv;(function(t){t.Optimized="optimized"})(Yv||(Yv={}));const zS=new Map;function e7(t,e){let{dragging:n,dependencies:r,config:a}=e;const[l,c]=S.useState(null),{frequency:h,measure:d,strategy:m}=a,g=S.useRef(t),v=I(),_=sh(v),A=S.useCallback(function(z){z===void 0&&(z=[]),!_.current&&c($=>$===null?z:$.concat(z.filter(H=>!$.includes(H))))},[_]),M=S.useRef(null),O=Mh(z=>{if(v&&!n)return zS;if(!z||z===zS||g.current!==t||l!=null){const $=new Map;for(let H of t){if(!H)continue;if(l&&l.length>0&&!l.includes(H.id)&&H.rect.current){$.set(H.id,H.rect.current);continue}const le=H.node.current,re=le?new Pb(d(le),le):null;H.rect.current=re,re&&$.set(H.id,re)}return $}return z},[t,l,n,v,d]);return S.useEffect(()=>{g.current=t},[t]),S.useEffect(()=>{v||A()},[n,v]),S.useEffect(()=>{l&&l.length>0&&c(null)},[JSON.stringify(l)]),S.useEffect(()=>{v||typeof h!="number"||M.current!==null||(M.current=setTimeout(()=>{A(),M.current=null},h))},[h,v,A,...r]),{droppableRects:O,measureDroppableContainers:A,measuringScheduled:l!=null};function I(){switch(m){case oh.Always:return!1;case oh.BeforeDragging:return n;default:return!n}}}function Ub(t,e){return Mh(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function t7(t,e){return Ub(t,e)}function n7(t){let{callback:e,disabled:n}=t;const r=ip(e),a=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(r)},[r,n]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function ap(t){let{callback:e,disabled:n}=t;const r=ip(e),a=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(r)},[n]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function i7(t){return new Pb(wc(t),t)}function BS(t,e,n){e===void 0&&(e=i7);const[r,a]=S.useState(null);function l(){a(d=>{if(!t)return null;if(t.isConnected===!1){var m;return(m=d??n)!=null?m:null}const g=e(t);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const c=n7({callback(d){if(t)for(const m of d){const{type:g,target:v}=m;if(g==="childList"&&v instanceof HTMLElement&&v.contains(t)){l();break}}}}),h=ap({callback:l});return Or(()=>{l(),t?(h?.observe(t),c?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),c?.disconnect())},[t]),r}function r7(t){const e=Ub(t);return oN(t,e)}const FS=[];function s7(t){const e=S.useRef(t),n=Mh(r=>t?r&&r!==FS&&t&&e.current&&t.parentNode===e.current.parentNode?r:sp(t):FS,[t]);return S.useEffect(()=>{e.current=t},[t]),n}function a7(t){const[e,n]=S.useState(null),r=S.useRef(t),a=S.useCallback(l=>{const c=Hy(l.target);c&&n(h=>h?(h.set(c,$v(c)),new Map(h)):null)},[]);return S.useEffect(()=>{const l=r.current;if(t!==l){c(l);const h=t.map(d=>{const m=Hy(d);return m?(m.addEventListener("scroll",a,{passive:!0}),[m,$v(m)]):null}).filter(d=>d!=null);n(h.length?new Map(h):null),r.current=t}return()=>{c(t),c(l)};function c(h){h.forEach(d=>{const m=Hy(d);m?.removeEventListener("scroll",a)})}},[a,t]),S.useMemo(()=>t.length?e?Array.from(e.values()).reduce((l,c)=>Ql(l,c),Pr):mN(t):Pr,[t,e])}function qS(t,e){e===void 0&&(e=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},e),S.useEffect(()=>{const r=t!==Pr;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?ah(t,n.current):Pr}function o7(t){S.useEffect(()=>{if(!np)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function l7(t,e){return S.useMemo(()=>t.reduce((n,r)=>{let{eventName:a,handler:l}=r;return n[a]=c=>{l(c,e)},n},{}),[t,e])}function yN(t){return S.useMemo(()=>t?MF(t):null,[t])}const HS=[];function c7(t,e){e===void 0&&(e=wc);const[n]=t,r=yN(n?gi(n):null),[a,l]=S.useState(HS);function c(){l(()=>t.length?t.map(d=>dN(d)?r:new Pb(e(d),d)):HS)}const h=ap({callback:c});return Or(()=>{h?.disconnect(),c(),t.forEach(d=>h?.observe(d))},[t]),a}function vN(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return kh(e)?e:t}function u7(t){let{measure:e}=t;const[n,r]=S.useState(null),a=S.useCallback(m=>{for(const{target:g}of m)if(kh(g)){r(v=>{const _=e(g);return v?{...v,width:_.width,height:_.height}:_});break}},[e]),l=ap({callback:a}),c=S.useCallback(m=>{const g=vN(m);l?.disconnect(),g&&l?.observe(g),r(g?e(g):null)},[e,l]),[h,d]=vm(c);return S.useMemo(()=>({nodeRef:h,rect:n,setRef:d}),[n,h,d])}const h7=[{sensor:Lb,options:{}},{sensor:Vb,options:{}}],d7={current:{}},Pf={draggable:{measure:VS},droppable:{measure:VS,strategy:oh.WhileDragging,frequency:Yv.Optimized},dragOverlay:{measure:wc}};class Fu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const f7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Fu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:_m},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Pf,measureDroppableContainers:_m,windowRect:null,measuringScheduled:!1},bN={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:_m,draggableNodes:new Map,over:null,measureDroppableContainers:_m},Ph=S.createContext(bN),xN=S.createContext(f7);function m7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Fu}}}function p7(t,e){switch(e.type){case On.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case On.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case On.DragEnd:case On.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case On.RegisterDroppable:{const{element:n}=e,{id:r}=n,a=new Fu(t.droppable.containers);return a.set(r,n),{...t,droppable:{...t.droppable,containers:a}}}case On.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=e,l=t.droppable.containers.get(n);if(!l||r!==l.key)return t;const c=new Fu(t.droppable.containers);return c.set(n,{...l,disabled:a}),{...t,droppable:{...t.droppable,containers:c}}}case On.UnregisterDroppable:{const{id:n,key:r}=e,a=t.droppable.containers.get(n);if(!a||r!==a.key)return t;const l=new Fu(t.droppable.containers);return l.delete(n),{...t,droppable:{...t.droppable,containers:l}}}default:return t}}function g7(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:a}=S.useContext(Ph),l=bm(r),c=bm(n?.id);return S.useEffect(()=>{if(!e&&!r&&l&&c!=null){if(!rp(l)||document.activeElement===l.target)return;const h=a.get(c);if(!h)return;const{activatorNode:d,node:m}=h;if(!d.current&&!m.current)return;requestAnimationFrame(()=>{for(const g of[d.current,m.current]){if(!g)continue;const v=hF(g);if(v){v.focus();break}}})}},[r,e,a,c,l]),null}function _N(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((a,l)=>l({transform:a,...r}),n):n}function y7(t){return S.useMemo(()=>({draggable:{...Pf.draggable,...t?.draggable},droppable:{...Pf.droppable,...t?.droppable},dragOverlay:{...Pf.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function v7(t){let{activeNode:e,measure:n,initialRect:r,config:a=!0}=t;const l=S.useRef(!1),{x:c,y:h}=typeof a=="boolean"?{x:a,y:a}:a;Or(()=>{if(!c&&!h||!e){l.current=!1;return}if(l.current||!r)return;const m=e?.node.current;if(!m||m.isConnected===!1)return;const g=n(m),v=oN(g,r);if(c||(v.x=0),h||(v.y=0),l.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const _=cN(m);_&&_.scrollBy({top:v.y,left:v.x})}},[e,c,h,r,n])}const op=S.createContext({...Pr,scaleX:1,scaleY:1});var Sa;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Sa||(Sa={}));const b7=S.memo(function(e){var n,r,a,l;let{id:c,accessibility:h,autoScroll:d=!0,children:m,sensors:g=h7,collisionDetection:v=CF,measuring:_,modifiers:A,...M}=e;const O=S.useReducer(p7,void 0,m7),[I,z]=O,[$,H]=yF(),[le,re]=S.useState(Sa.Uninitialized),ae=le===Sa.Initialized,{draggable:{active:D,nodes:C,translate:P},droppable:{containers:N}}=I,V=D!=null?C.get(D):null,B=S.useRef({initial:null,translated:null}),j=S.useMemo(()=>{var He;return D!=null?{id:D,data:(He=V?.data)!=null?He:d7,rect:B}:null},[D,V]),be=S.useRef(null),[De,te]=S.useState(null),[G,q]=S.useState(null),W=sh(M,Object.values(M)),U=Oh("DndDescribedBy",c),E=S.useMemo(()=>N.getEnabled(),[N]),L=y7(_),{droppableRects:Y,measureDroppableContainers:ne,measuringScheduled:me}=e7(E,{dragging:ae,dependencies:[P.x,P.y],config:L.droppable}),ge=JF(C,D),pe=S.useMemo(()=>G?xm(G):null,[G]),xe=yr(),_e=t7(ge,L.draggable.measure);v7({activeNode:D!=null?C.get(D):null,config:xe.layoutShiftCompensation,initialRect:_e,measure:L.draggable.measure});const Ee=BS(ge,L.draggable.measure,_e),Ue=BS(ge?ge.parentElement:null),Pe=S.useRef({activatorEvent:null,active:null,activeNode:ge,collisionRect:null,collisions:null,droppableRects:Y,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:N,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),st=N.getNodeFor((n=Pe.current.over)==null?void 0:n.id),Ne=u7({measure:L.dragOverlay.measure}),wt=(r=Ne.nodeRef.current)!=null?r:ge,ht=ae?(a=Ne.rect)!=null?a:Ee:null,Bt=!!(Ne.nodeRef.current&&Ne.rect),mn=r7(Bt?null:Ee),at=yN(wt?gi(wt):null),qe=s7(ae?st??ge:null),pn=c7(qe),Ni=_N(A,{transform:{x:P.x-mn.x,y:P.y-mn.y,scaleX:1,scaleY:1},activatorEvent:G,active:j,activeNodeRect:Ee,containerNodeRect:Ue,draggingNodeRect:ht,over:Pe.current.over,overlayNodeRect:Ne.rect,scrollableAncestors:qe,scrollableAncestorRects:pn,windowRect:at}),Di=pe?Ql(pe,P):null,Ft=a7(qe),Jt=qS(Ft),ei=qS(Ft,[Ee]),Hn=Ql(Ni,Jt),gn=ht?NF(ht,Ni):null,ti=j&&gn?v({active:j,collisionRect:gn,droppableRects:Y,droppableContainers:E,pointerCoordinates:Di}):null,yi=aN(ti,"id"),[Pt,Ki]=S.useState(null),Cn=Bt?Ni:Ql(Ni,ei),nn=RF(Cn,(l=Pt?.rect)!=null?l:null,Ee),jn=S.useRef(null),Dt=S.useCallback((He,Vt)=>{let{sensor:jt,options:rn}=Vt;if(be.current==null)return;const Ln=C.get(be.current);if(!Ln)return;const qt=He.nativeEvent,pt=new jt({active:be.current,activeNode:Ln,event:qt,options:rn,context:Pe,onAbort(Tt){if(!C.get(Tt))return;const{onDragAbort:yn}=W.current,Gn={id:Tt};yn?.(Gn),$({type:"onDragAbort",event:Gn})},onPending(Tt,Rn,yn,Gn){if(!C.get(Tt))return;const{onDragPending:gt}=W.current,Nn={id:Tt,constraint:Rn,initialCoordinates:yn,offset:Gn};gt?.(Nn),$({type:"onDragPending",event:Nn})},onStart(Tt){const Rn=be.current;if(Rn==null)return;const yn=C.get(Rn);if(!yn)return;const{onDragStart:Gn}=W.current,In={activatorEvent:qt,active:{id:Rn,data:yn.data,rect:B}};wu.unstable_batchedUpdates(()=>{Gn?.(In),re(Sa.Initializing),z({type:On.DragStart,initialCoordinates:Tt,active:Rn}),$({type:"onDragStart",event:In}),te(jn.current),q(qt)})},onMove(Tt){z({type:On.DragMove,coordinates:Tt})},onEnd:cn(On.DragEnd),onCancel:cn(On.DragCancel)});jn.current=pt;function cn(Tt){return async function(){const{active:yn,collisions:Gn,over:In,scrollAdjustedTranslate:gt}=Pe.current;let Nn=null;if(yn&&gt){const{cancelDrop:kt}=W.current;Nn={activatorEvent:qt,active:yn,collisions:Gn,delta:gt,over:In},Tt===On.DragEnd&&typeof kt=="function"&&await Promise.resolve(kt(Nn))&&(Tt=On.DragCancel)}be.current=null,wu.unstable_batchedUpdates(()=>{z({type:Tt}),re(Sa.Uninitialized),Ki(null),te(null),q(null),jn.current=null;const kt=Tt===On.DragEnd?"onDragEnd":"onDragCancel";if(Nn){const vn=W.current[kt];vn?.(Nn),$({type:kt,event:Nn})}})}}},[C]),ni=S.useCallback((He,Vt)=>(jt,rn)=>{const Ln=jt.nativeEvent,qt=C.get(rn);if(be.current!==null||!qt||Ln.dndKit||Ln.defaultPrevented)return;const pt={active:qt};He(jt,Vt.options,pt)===!0&&(Ln.dndKit={capturedBy:Vt.sensor},be.current=rn,Dt(jt,Vt))},[C,Dt]),gr=ZF(g,ni);o7(g),Or(()=>{Ee&&le===Sa.Initializing&&re(Sa.Initialized)},[Ee,le]),S.useEffect(()=>{const{onDragMove:He}=W.current,{active:Vt,activatorEvent:jt,collisions:rn,over:Ln}=Pe.current;if(!Vt||!jt)return;const qt={active:Vt,activatorEvent:jt,collisions:rn,delta:{x:Hn.x,y:Hn.y},over:Ln};wu.unstable_batchedUpdates(()=>{He?.(qt),$({type:"onDragMove",event:qt})})},[Hn.x,Hn.y]),S.useEffect(()=>{const{active:He,activatorEvent:Vt,collisions:jt,droppableContainers:rn,scrollAdjustedTranslate:Ln}=Pe.current;if(!He||be.current==null||!Vt||!Ln)return;const{onDragOver:qt}=W.current,pt=rn.get(yi),cn=pt&&pt.rect.current?{id:pt.id,rect:pt.rect.current,data:pt.data,disabled:pt.disabled}:null,Tt={active:He,activatorEvent:Vt,collisions:jt,delta:{x:Ln.x,y:Ln.y},over:cn};wu.unstable_batchedUpdates(()=>{Ki(cn),qt?.(Tt),$({type:"onDragOver",event:Tt})})},[yi]),Or(()=>{Pe.current={activatorEvent:G,active:j,activeNode:ge,collisionRect:gn,collisions:ti,droppableRects:Y,draggableNodes:C,draggingNode:wt,draggingNodeRect:ht,droppableContainers:N,over:Pt,scrollableAncestors:qe,scrollAdjustedTranslate:Hn},B.current={initial:ht,translated:gn}},[j,ge,ti,gn,C,wt,ht,Y,N,Pt,qe,Hn]),XF({...xe,delta:P,draggingRect:gn,pointerCoordinates:Di,scrollableAncestors:qe,scrollableAncestorRects:pn});const jr=S.useMemo(()=>({active:j,activeNode:ge,activeNodeRect:Ee,activatorEvent:G,collisions:ti,containerNodeRect:Ue,dragOverlay:Ne,draggableNodes:C,droppableContainers:N,droppableRects:Y,over:Pt,measureDroppableContainers:ne,scrollableAncestors:qe,scrollableAncestorRects:pn,measuringConfiguration:L,measuringScheduled:me,windowRect:at}),[j,ge,Ee,G,ti,Ue,Ne,C,N,Y,Pt,ne,qe,pn,L,me,at]),vi=S.useMemo(()=>({activatorEvent:G,activators:gr,active:j,activeNodeRect:Ee,ariaDescribedById:{draggable:U},dispatch:z,draggableNodes:C,over:Pt,measureDroppableContainers:ne}),[G,gr,j,Ee,z,U,C,Pt,ne]);return At.createElement(iN.Provider,{value:H},At.createElement(Ph.Provider,{value:vi},At.createElement(xN.Provider,{value:jr},At.createElement(op.Provider,{value:nn},m)),At.createElement(g7,{disabled:h?.restoreFocus===!1})),At.createElement(xF,{...h,hiddenTextDescribedById:U}));function yr(){const He=De?.autoScrollEnabled===!1,Vt=typeof d=="object"?d.enabled===!1:d===!1,jt=ae&&!He&&!Vt;return typeof d=="object"?{...d,enabled:jt}:{enabled:jt}}}),x7=S.createContext(null),GS="button",_7="Draggable";function w7(t){let{id:e,data:n,disabled:r=!1,attributes:a}=t;const l=Oh(_7),{activators:c,activatorEvent:h,active:d,activeNodeRect:m,ariaDescribedById:g,draggableNodes:v,over:_}=S.useContext(Ph),{role:A=GS,roleDescription:M="draggable",tabIndex:O=0}=a??{},I=d?.id===e,z=S.useContext(I?op:x7),[$,H]=vm(),[le,re]=vm(),ae=l7(c,e),D=sh(n);Or(()=>(v.set(e,{id:e,key:l,node:$,activatorNode:le,data:D}),()=>{const P=v.get(e);P&&P.key===l&&v.delete(e)}),[v,e]);const C=S.useMemo(()=>({role:A,tabIndex:O,"aria-disabled":r,"aria-pressed":I&&A===GS?!0:void 0,"aria-roledescription":M,"aria-describedby":g.draggable}),[r,A,O,I,M,g.draggable]);return{active:d,activatorEvent:h,activeNodeRect:m,attributes:C,isDragging:I,listeners:r?void 0:ae,node:$,over:_,setNodeRef:H,setActivatorNodeRef:re,transform:z}}function wN(){return S.useContext(xN)}const T7="Droppable",E7={timeout:25};function S7(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:a}=t;const l=Oh(T7),{active:c,dispatch:h,over:d,measureDroppableContainers:m}=S.useContext(Ph),g=S.useRef({disabled:n}),v=S.useRef(!1),_=S.useRef(null),A=S.useRef(null),{disabled:M,updateMeasurementsFor:O,timeout:I}={...E7,...a},z=sh(O??r),$=S.useCallback(()=>{if(!v.current){v.current=!0;return}A.current!=null&&clearTimeout(A.current),A.current=setTimeout(()=>{m(Array.isArray(z.current)?z.current:[z.current]),A.current=null},I)},[I]),H=ap({callback:$,disabled:M||!c}),le=S.useCallback((C,P)=>{H&&(P&&(H.unobserve(P),v.current=!1),C&&H.observe(C))},[H]),[re,ae]=vm(le),D=sh(e);return S.useEffect(()=>{!H||!re.current||(H.disconnect(),v.current=!1,H.observe(re.current))},[re,H]),S.useEffect(()=>(h({type:On.RegisterDroppable,element:{id:r,key:l,disabled:n,node:re,rect:_,data:D}}),()=>h({type:On.UnregisterDroppable,key:l,id:r})),[r]),S.useEffect(()=>{n!==g.current.disabled&&(h({type:On.SetDroppableDisabled,id:r,key:l,disabled:n}),g.current.disabled=n)},[r,l,n,h]),{active:c,rect:_,isOver:d?.id===r,node:re,over:d,setNodeRef:ae}}function A7(t){let{animation:e,children:n}=t;const[r,a]=S.useState(null),[l,c]=S.useState(null),h=bm(n);return!n&&!r&&h&&a(h),Or(()=>{if(!l)return;const d=r?.key,m=r?.props.id;if(d==null||m==null){a(null);return}Promise.resolve(e(m,l)).then(()=>{a(null)})},[e,r,l]),At.createElement(At.Fragment,null,n,r?S.cloneElement(r,{ref:c}):null)}const C7={x:0,y:0,scaleX:1,scaleY:1};function R7(t){let{children:e}=t;return At.createElement(Ph.Provider,{value:bN},At.createElement(op.Provider,{value:C7},e))}const I7={position:"fixed",touchAction:"none"},N7=t=>rp(t)?"transform 250ms ease":void 0,D7=S.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:a,children:l,className:c,rect:h,style:d,transform:m,transition:g=N7}=t;if(!h)return null;const v=a?m:{...m,scaleX:1,scaleY:1},_={...I7,width:h.width,height:h.height,top:h.top,left:h.left,transform:$a.Transform.toString(v),transformOrigin:a&&r?wF(r,h):void 0,transition:typeof g=="function"?g(r):g,...d};return At.createElement(n,{className:c,style:_,ref:e},l)}),k7=t=>e=>{let{active:n,dragOverlay:r}=e;const a={},{styles:l,className:c}=t;if(l!=null&&l.active)for(const[h,d]of Object.entries(l.active))d!==void 0&&(a[h]=n.node.style.getPropertyValue(h),n.node.style.setProperty(h,d));if(l!=null&&l.dragOverlay)for(const[h,d]of Object.entries(l.dragOverlay))d!==void 0&&r.node.style.setProperty(h,d);return c!=null&&c.active&&n.node.classList.add(c.active),c!=null&&c.dragOverlay&&r.node.classList.add(c.dragOverlay),function(){for(const[d,m]of Object.entries(a))n.node.style.setProperty(d,m);c!=null&&c.active&&n.node.classList.remove(c.active)}},M7=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:$a.Transform.toString(e)},{transform:$a.Transform.toString(n)}]},O7={duration:250,easing:"ease",keyframes:M7,sideEffects:k7({styles:{active:{opacity:"0"}}})};function P7(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:a}=t;return ip((l,c)=>{if(e===null)return;const h=n.get(l);if(!h)return;const d=h.node.current;if(!d)return;const m=vN(c);if(!m)return;const{transform:g}=gi(c).getComputedStyle(c),v=lN(g);if(!v)return;const _=typeof e=="function"?e:V7(e);return pN(d,a.draggable.measure),_({active:{id:l,data:h.data,node:d,rect:a.draggable.measure(d)},draggableNodes:n,dragOverlay:{node:c,rect:a.dragOverlay.measure(m)},droppableContainers:r,measuringConfiguration:a,transform:v})})}function V7(t){const{duration:e,easing:n,sideEffects:r,keyframes:a}={...O7,...t};return l=>{let{active:c,dragOverlay:h,transform:d,...m}=l;if(!e)return;const g={x:h.rect.left-c.rect.left,y:h.rect.top-c.rect.top},v={scaleX:d.scaleX!==1?c.rect.width*d.scaleX/h.rect.width:1,scaleY:d.scaleY!==1?c.rect.height*d.scaleY/h.rect.height:1},_={x:d.x-g.x,y:d.y-g.y,...v},A=a({...m,active:c,dragOverlay:h,transform:{initial:d,final:_}}),[M]=A,O=A[A.length-1];if(JSON.stringify(M)===JSON.stringify(O))return;const I=r?.({active:c,dragOverlay:h,...m}),z=h.node.animate(A,{duration:e,easing:n,fill:"forwards"});return new Promise($=>{z.onfinish=()=>{I?.(),$()}})}}let $S=0;function j7(t){return S.useMemo(()=>{if(t!=null)return $S++,$S},[t])}const L7=At.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:a,transition:l,modifiers:c,wrapperElement:h="div",className:d,zIndex:m=999}=t;const{activatorEvent:g,active:v,activeNodeRect:_,containerNodeRect:A,draggableNodes:M,droppableContainers:O,dragOverlay:I,over:z,measuringConfiguration:$,scrollableAncestors:H,scrollableAncestorRects:le,windowRect:re}=wN(),ae=S.useContext(op),D=j7(v?.id),C=_N(c,{activatorEvent:g,active:v,activeNodeRect:_,containerNodeRect:A,draggingNodeRect:I.rect,over:z,overlayNodeRect:I.rect,scrollableAncestors:H,scrollableAncestorRects:le,transform:ae,windowRect:re}),P=Ub(_),N=P7({config:r,draggableNodes:M,droppableContainers:O,measuringConfiguration:$}),V=P?I.setRef:void 0;return At.createElement(R7,null,At.createElement(A7,{animation:N},v&&D?At.createElement(D7,{key:D,id:v.id,ref:V,as:h,activatorEvent:g,adjustScale:e,className:d,transition:l,rect:P,style:{zIndex:m,...a},transform:C},n):null))});function zb(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function U7(t,e){return t.reduce((n,r,a)=>{const l=e.get(r);return l&&(n[a]=l),n},Array(t.length))}function pf(t){return t!==null&&t>=0}function z7(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function B7(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Bb=t=>{let{rects:e,activeIndex:n,overIndex:r,index:a}=t;const l=zb(e,r,n),c=e[a],h=l[a];return!h||!c?null:{x:h.left-c.left,y:h.top-c.top,scaleX:h.width/c.width,scaleY:h.height/c.height}},TN="Sortable",EN=At.createContext({activeIndex:-1,containerId:TN,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Bb,disabled:{draggable:!1,droppable:!1}});function F7(t){let{children:e,id:n,items:r,strategy:a=Bb,disabled:l=!1}=t;const{active:c,dragOverlay:h,droppableRects:d,over:m,measureDroppableContainers:g}=wN(),v=Oh(TN,n),_=h.rect!==null,A=S.useMemo(()=>r.map(ae=>typeof ae=="object"&&"id"in ae?ae.id:ae),[r]),M=c!=null,O=c?A.indexOf(c.id):-1,I=m?A.indexOf(m.id):-1,z=S.useRef(A),$=!z7(A,z.current),H=I!==-1&&O===-1||$,le=B7(l);Or(()=>{$&&M&&g(A)},[$,A,M,g]),S.useEffect(()=>{z.current=A},[A]);const re=S.useMemo(()=>({activeIndex:O,containerId:v,disabled:le,disableTransforms:H,items:A,overIndex:I,useDragOverlay:_,sortedRects:U7(A,d),strategy:a}),[O,v,le.draggable,le.droppable,H,A,I,d,_,a]);return At.createElement(EN.Provider,{value:re},e)}const q7=t=>{let{id:e,items:n,activeIndex:r,overIndex:a}=t;return zb(n,r,a).indexOf(e)},H7=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:a,items:l,newIndex:c,previousItems:h,previousContainerId:d,transition:m}=t;return!m||!r||h!==l&&a===c?!1:n?!0:c!==a&&e===d},G7={duration:200,easing:"ease"},SN="transform",$7=$a.Transition.toString({property:SN,duration:0,easing:"linear"}),K7={roleDescription:"sortable"};function Y7(t){let{disabled:e,index:n,node:r,rect:a}=t;const[l,c]=S.useState(null),h=S.useRef(n);return Or(()=>{if(!e&&n!==h.current&&r.current){const d=a.current;if(d){const m=wc(r.current,{ignoreTransform:!0}),g={x:d.left-m.left,y:d.top-m.top,scaleX:d.width/m.width,scaleY:d.height/m.height};(g.x||g.y)&&c(g)}}n!==h.current&&(h.current=n)},[e,n,r,a]),S.useEffect(()=>{l&&c(null)},[l]),l}function X7(t){let{animateLayoutChanges:e=H7,attributes:n,disabled:r,data:a,getNewIndex:l=q7,id:c,strategy:h,resizeObserverConfig:d,transition:m=G7}=t;const{items:g,containerId:v,activeIndex:_,disabled:A,disableTransforms:M,sortedRects:O,overIndex:I,useDragOverlay:z,strategy:$}=S.useContext(EN),H=W7(r,A),le=g.indexOf(c),re=S.useMemo(()=>({sortable:{containerId:v,index:le,items:g},...a}),[v,a,le,g]),ae=S.useMemo(()=>g.slice(g.indexOf(c)),[g,c]),{rect:D,node:C,isOver:P,setNodeRef:N}=S7({id:c,data:re,disabled:H.droppable,resizeObserverConfig:{updateMeasurementsFor:ae,...d}}),{active:V,activatorEvent:B,activeNodeRect:j,attributes:be,setNodeRef:De,listeners:te,isDragging:G,over:q,setActivatorNodeRef:W,transform:U}=w7({id:c,data:re,attributes:{...K7,...n},disabled:H.draggable}),E=oF(N,De),L=!!V,Y=L&&!M&&pf(_)&&pf(I),ne=!z&&G,me=ne&&Y?U:null,pe=Y?me??(h??$)({rects:O,activeNodeRect:j,activeIndex:_,overIndex:I,index:le}):null,xe=pf(_)&&pf(I)?l({id:c,items:g,activeIndex:_,overIndex:I}):le,_e=V?.id,Ee=S.useRef({activeId:_e,items:g,newIndex:xe,containerId:v}),Ue=g!==Ee.current.items,Pe=e({active:V,containerId:v,isDragging:G,isSorting:L,id:c,index:le,items:g,newIndex:Ee.current.newIndex,previousItems:Ee.current.items,previousContainerId:Ee.current.containerId,transition:m,wasDragging:Ee.current.activeId!=null}),st=Y7({disabled:!Pe,index:le,node:C,rect:D});return S.useEffect(()=>{L&&Ee.current.newIndex!==xe&&(Ee.current.newIndex=xe),v!==Ee.current.containerId&&(Ee.current.containerId=v),g!==Ee.current.items&&(Ee.current.items=g)},[L,xe,v,g]),S.useEffect(()=>{if(_e===Ee.current.activeId)return;if(_e!=null&&Ee.current.activeId==null){Ee.current.activeId=_e;return}const wt=setTimeout(()=>{Ee.current.activeId=_e},50);return()=>clearTimeout(wt)},[_e]),{active:V,activeIndex:_,attributes:be,data:re,rect:D,index:le,newIndex:xe,items:g,isOver:P,isSorting:L,isDragging:G,listeners:te,node:C,overIndex:I,over:q,setNodeRef:E,setActivatorNodeRef:W,setDroppableNodeRef:N,setDraggableNodeRef:De,transform:st??pe,transition:Ne()};function Ne(){if(st||Ue&&Ee.current.newIndex===le)return $7;if(!(ne&&!rp(B)||!m)&&(L||Pe))return $a.Transition.toString({...m,property:SN})}}function W7(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}function Tm(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const Q7=[lt.Down,lt.Right,lt.Up,lt.Left],J7=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:a,droppableContainers:l,over:c,scrollableAncestors:h}}=e;if(Q7.includes(t.code)){if(t.preventDefault(),!n||!r)return;const d=[];l.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const _=a.get(v.id);if(_)switch(t.code){case lt.Down:r.top<_.top&&d.push(v);break;case lt.Up:r.top>_.top&&d.push(v);break;case lt.Left:r.left>_.left&&d.push(v);break;case lt.Right:r.left<_.left&&d.push(v);break}});const m=SF({collisionRect:r,droppableRects:a,droppableContainers:d});let g=aN(m,"id");if(g===c?.id&&m.length>1&&(g=m[1].id),g!=null){const v=l.get(n.id),_=l.get(g),A=_?a.get(_.id):null,M=_?.node.current;if(M&&A&&v&&_){const I=sp(M).some((ae,D)=>h[D]!==ae),z=AN(v,_),$=Z7(v,_),H=I||!z?{x:0,y:0}:{x:$?r.width-A.width:0,y:$?r.height-A.height:0},le={x:A.left,y:A.top};return H.x&&H.y?le:ah(le,H)}}}};function AN(t,e){return!Tm(t)||!Tm(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function Z7(t,e){return!Tm(t)||!Tm(e)||!AN(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const eq=({id:t,children:e,disabled:n,className:r,onClick:a})=>{const{attributes:l,listeners:c,setNodeRef:h,transform:d,transition:m,isDragging:g}=X7({id:t,disabled:n}),v={transform:$a.Transform.toString(d),transition:m,zIndex:g?50:"auto",position:"relative"};return b.jsx("div",{ref:h,style:v,...l,...c,onClick:a,className:xt("w-full h-full",!n&&"touch-none cursor-grab active:cursor-grabbing",g&&"opacity-0",r),children:b.jsx("div",{className:xt("w-full h-full",g&&"opacity-0"),children:e})})},tq=({item:t,gridSize:e,editMode:n,activeId:r,onClick:a,onEdit:l,isLocked:c})=>{const h="relative w-full h-full flex flex-col items-center justify-center p-2 rounded-xl cursor-pointer select-none overflow-hidden transition-all duration-200 border shadow-sm",d=e>=5?"text-xs sm:text-sm":"text-sm sm:text-base",m={default:"bg-[var(--theme-bg-subtle)] border-[var(--theme-border)] hover:bg-[var(--theme-bg-base)] hover:border-zinc-600 text-slate-300",completed:"bg-emerald-950/20 border-emerald-500/20 text-emerald-200 shadow-[inset_0_0_20px_rgba(16,185,129,0.1)]",freeSpace:"bg-amber-950/20 border-amber-500/20 text-amber-500 shadow-[inset_0_0_20px_rgba(245,158,11,0.1)]",editing:"bg-slate-900 border-dashed border-slate-600 opacity-60 hover:opacity-100 hover:border-slate-400 shadow-none text-slate-500"};let g=m.default;return n?g=m.editing:t.isFreeSpace?g=m.freeSpace:t.isCompleted&&(g=m.completed),b.jsxs(tt.div,{layout:!n&&!r,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:!n&&!r?{scale:1.02,y:-2,zIndex:10,boxShadow:"0 10px 30px -10px rgba(0,0,0,0.5)"}:void 0,whileTap:n?void 0:{scale:.98},onClick:n?l:a,className:xt(h,d,g),children:[b.jsx("div",{className:"z-10 text-center w-full px-1",children:t.isFreeSpace?b.jsxs("div",{className:"flex flex-col items-center gap-1",children:[b.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-amber-600/80",children:"Bonus"}),b.jsx("span",{className:"font-bold text-amber-500 text-sm sm:text-base",children:"FREE"})]}):b.jsx("span",{className:"font-medium leading-snug block line-clamp-4 break-words",style:{color:t.isCompleted&&!n?void 0:t.style?.color,fontWeight:t.style?.bold?"bold":void 0,fontStyle:t.style?.italic?"italic":void 0,fontSize:void 0},children:t.text})}),b.jsx("div",{className:"absolute top-1.5 right-1.5 flex flex-col gap-1 items-end z-20",children:t.proofPhotos&&t.proofPhotos.length>0&&b.jsx("div",{className:"bg-black/40 p-1 rounded-md backdrop-blur-sm",children:b.jsx(MI,{size:10,className:"text-white/90"})})}),t.dueDate&&!t.isCompleted&&!c&&b.jsxs("div",{className:xt("flex items-center gap-1 mt-1 text-[10px] font-medium absolute bottom-1.5 left-2 px-1 rounded bg-black/40 backdrop-blur-sm",(t.dueDate.toDate?t.dueDate.toDate():new Date(t.dueDate))<new Date?"text-red-400":"text-slate-400"),children:[b.jsx(xB,{size:10}),b.jsx("span",{children:(t.dueDate.toDate?t.dueDate.toDate():new Date(t.dueDate)).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),!t.isFreeSpace&&!n&&(t.targetCount||1)>1&&b.jsxs("div",{className:xt("absolute bottom-1.5 right-1.5 px-1.5 py-0.5 rounded text-[10px] font-bold shadow-sm",t.isCompleted?"bg-emerald-500/90 text-white":(t.currentCount||0)>0?"bg-amber-500/90 text-white":"bg-slate-700/90 text-slate-300"),children:[t.currentCount||0,"/",t.targetCount]}),n&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 bg-black/40 transition-opacity z-30",children:b.jsx(kf,{size:20,className:"text-white drop-shadow-md"})}),t.isCompleted&&!t.isFreeSpace&&!n&&b.jsx("div",{className:"absolute -bottom-3 -right-3 opacity-[0.07] rotate-12 transition-opacity",children:b.jsx(Ns,{size:64})}),t.isCompleted&&b.jsx("div",{className:"absolute inset-0 rounded-xl ring-1 ring-inset ring-white/10 pointer-events-none"})]})},KS=()=>{const{boardId:t,yearId:e}=Xk(),n=ch(),r=e?void 0:t,{items:a,members:l,loading:c,toggleItem:h,hasWon:d,bingoCount:m,isLocked:g,unlockBoard:v,jumbleAndLock:_,saveBoard:A,completeWithPhoto:M,addPhotoToTile:O,addReaction:I,deletePhoto:z,decrementProgress:$,inviteUser:H,removeMember:le,title:re,gridSize:ae,updateTitle:D}=nF(r),{logout:C,user:P}=Ko(),N=zI(),{openSettings:V,settings:B,updateSettings:j}=tp(),{playClick:be,playSuccess:De,playBingo:te,playWhoosh:G}=iF(),[q,W]=S.useState(!1),[U,E]=S.useState(!1),[L,Y]=S.useState(""),[ne,me]=S.useState(a),[ge,pe]=S.useState(null);S.useEffect(()=>{(!ge&&!q||q&&ne.length===0&&a.length>0)&&me(a)},[a,ge,q]);const xe=_F(MS(Lb,{activationConstraint:{distance:8}}),MS(Vb,{coordinateGetter:J7})),_e=J=>{q&&pe(J.active.id)},Ee=J=>{const{active:Se,over:Ut}=J;pe(null),Ut&&Se.id!==Ut.id&&q&&me(Ht=>{const dt=Ht.findIndex(Mt=>Mt.id===Se.id),We=Ht.findIndex(Mt=>Mt.id===Ut.id),ut=zb(Ht,dt,We);return A(ut),ut})},[Ue,Pe]=S.useState(!1),[st,Ne]=S.useState(!1),[wt,ht]=S.useState(!1),[Bt,mn]=S.useState(!1),[at,qe]=S.useState([]),[pn,Ni]=S.useState(null),[Di,Ft]=S.useState(""),[Jt,ei]=S.useState({}),[Hn,gn]=S.useState(1),[ti,yi]=S.useState(""),[Pt,Ki]=S.useState(!1),[Cn,nn]=S.useState("complete"),[jn,Dt]=S.useState(!1),[ni,gr]=S.useState(0),[jr,vi]=S.useState(null),[yr,He]=S.useState(!1);S.useEffect(()=>{!localStorage.getItem("hasSeenWalkthrough")&&!c&&a.length>0&&Dt(!0)},[c,a]),S.useEffect(()=>{(async()=>{if(st&&l){const Se=[];for(const[Ut,Ht]of Object.entries(l))if(Ht!=="owner")try{const dt=await Ah(Ir(Zn,"users",Ut));if(dt.exists()){const We=dt.data();Se.push({id:Ut,name:We.displayName||"Unknown",email:We.email||"No email",role:Ht})}}catch(dt){console.error("Error fetching user:",dt)}qe(Se)}})()},[st,l]);const Vt=async(J,Se)=>{await N.confirm(`Are you sure you want to remove ${Se} from this board?`,{title:"Remove Member",type:"error",confirmText:"Remove"})&&((await le(J)).success?(qe(dt=>dt.filter(We=>We.id!==J)),await N.alert(`${Se} has been removed.`,{type:"success"})):await N.alert("Failed to remove member.",{type:"error"}))},jt=async()=>{const J=await N.sharePrompt("Enter their email address to invite them to this board.",{title:"Invite User"});if(J){const Se=await H(J.email,J.role);if(Se.type==="success")await N.alert(Se.message,{title:"Success!",type:"success"});else if(Se.type==="not_found"){if(await N.confirm(`"${J.email}" hasn't signed up yet.

Would you like to send them an email invitation to join SunSar Bingo?`,{title:"User Not Found",confirmText:"Send Invite Email",type:"info"}))try{const{sendInviteEmail:Ht,openMailtoFallback:dt}=await Wy(async()=>{const{sendInviteEmail:ut,openMailtoFallback:Mt}=await import("./emailService-DLn_Pz2X.js");return{sendInviteEmail:ut,openMailtoFallback:Mt}},[]);(await Ht({recipientEmail:J.email,senderName:P?.displayName||P?.email||"A friend"})).success?await N.alert(`Invitation sent to ${J.email}! They'll receive an email with instructions to join.`,{title:"Invitation Sent!",type:"success"}):(dt(J.email,P?.displayName||"A friend"),await N.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"}))}catch{const dt=encodeURIComponent("Join me on SunSar Bingo!"),We=encodeURIComponent(`Hey! Come join me on SunSar Bingo to track our 2026 goals together.

Sign up here: ${window.location.origin}`);window.open(`mailto:${J.email}?subject=${dt}&body=${We}`),await N.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"})}}else await N.alert(Se.message,{title:"Error",type:"error"})}},rn=()=>{ni<2?gr(J=>J+1):(Dt(!1),localStorage.setItem("hasSeenWalkthrough","true"))},[Ln,qt]=S.useState(!1),[pt,cn]=S.useState(null),[Tt,Rn]=S.useState(!1),yn=S.useRef(null),[Gn,In]=S.useState(!1),[gt,Nn]=S.useState(null),[kt,vn]=S.useState(null),[Lt,Yt]=S.useState(0),ki=S.useRef(null),[Hs,Yo]=S.useState(!1),[Xo,Qa]=S.useState(()=>localStorage.getItem("celebrationDismissed")==="true"),[bi,cs]=S.useState(0);S.useEffect(()=>{bi===5&&(v(),cs(0),Gv({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#ec4899","#ffffff"]}));let J;return bi>0&&(J=setTimeout(()=>cs(0),1e3)),()=>clearTimeout(J)},[bi,v]);const Yi=()=>{be(),_(Bt),Gv({particleCount:150,spread:60,origin:{y:.7},colors:["#22c55e","#ffffff"]}),De(),ht(!1),W(!1)},xi=()=>{Qa(!0),localStorage.setItem("celebrationDismissed","true")};At.useEffect(()=>{!c&&!d&&(Qa(!1),localStorage.removeItem("celebrationDismissed"))},[d,c]);const ii=S.useRef(d);At.useEffect(()=>{d&&!ii.current&&!c&&te(),ii.current=d},[d,c,te]);const Xi=J=>{const Se=ne.length>0?ne:a;if(Ni(J),Ft(Se[J].text),ei(Se[J].style||{color:"#ffffff",fontSize:"base",bold:!1,italic:!1}),gn(Se[J].targetCount||1),Se[J].dueDate){const Ut=Se[J].dueDate,Ht=typeof Ut.toDate=="function"?Ut.toDate():new Date(Ut),dt=Ht.getFullYear(),We=String(Ht.getMonth()+1).padStart(2,"0"),ut=String(Ht.getDate()).padStart(2,"0");yi(`${dt}-${We}-${ut}`)}else yi("");Ki(!!Se[J].isFreeSpace),Pe(!0)},sn=()=>{if(pn===null)return;let J;ti&&(J=new Date(ti+"T12:00:00"));const Se=[...ne];Se[pn]={...Se[pn],text:Di,style:Jt,targetCount:Hn,dueDate:J,isFreeSpace:Pt,isCompleted:Se[pn].isCompleted||Pt},me(Se),A(Se),Pe(!1),Ni(null)},Mi=ne.length>0?ne:a;if(S.useEffect(()=>{kt!==null&&Mi?.[kt]&&Nn(Mi[kt])},[Mi,kt]),c)return b.jsx("div",{className:"flex h-screen items-center justify-center text-accent-primary animate-pulse",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),b.jsx("p",{children:"Loading Board..."})]})});const Oi=a.filter(J=>J.isCompleted).length/25*100,Pi=J=>{if(!J)return"-";const Se=J.toDate?J.toDate():new Date(J);return Se.toLocaleDateString()+" "+Se.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},Ja=J=>{const Se=Mi[J];vi({index:J,wasCompleted:Se.isCompleted}),Se.isCompleted?be():De(),h(J),He(!0),setTimeout(()=>He(!1),3e3)};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 pb-24 relative overflow-x-hidden no-print",children:[b.jsx("input",{type:"file",accept:"image/*",ref:ki,className:"hidden",onChange:async J=>{const Se=J.target.files?.[0];if(Se&&kt!==null){try{await O(kt,Se)}catch(Ut){console.error(Ut),alert("Failed to add photo")}J.target.value=""}}}),b.jsx(aF,{items:a}),b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsxs("header",{className:"flex justify-between items-center mb-8 py-2",children:[b.jsxs("div",{className:"flex-1 mx-4 min-w-0",children:[U?b.jsx("input",{type:"text",value:L,onChange:J=>Y(J.target.value),onBlur:()=>{L.trim()&&D(L.trim()),E(!1)},onKeyDown:J=>{J.key==="Enter"?(L.trim()&&D(L.trim()),E(!1)):J.key==="Escape"&&E(!1)},autoFocus:!0,className:"bg-transparent border-b-2 border-accent-primary text-white text-lg sm:text-xl font-bold outline-none w-full max-w-[200px]"}):b.jsxs("button",{onClick:()=>{Y(re||"My Bingo"),E(!0)},className:"text-white text-lg sm:text-xl font-bold truncate max-w-[200px] hover:text-accent-primary transition-colors flex items-center gap-1 group",title:"Click to edit board name",children:[b.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent truncate",children:re||"My Bingo"}),b.jsx(kf,{size:14,className:"opacity-0 group-hover:opacity-70 transition-opacity flex-shrink-0"})]}),b.jsxs("p",{className:"text-slate-500 text-xs mt-0.5",children:[ae,"",ae,"  ",a.filter(J=>J.isCompleted&&!J.isFreeSpace).length,"/",a.filter(J=>!J.isFreeSpace).length]})]}),b.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[b.jsx("button",{onClick:()=>rF(P?.uid,{items:a,title:re,gridSize:ae,members:l,boardId:r}),className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Download Full Backup",children:b.jsx(wB,{size:20})}),b.jsx("button",{onClick:()=>Yo(!0),className:"p-2.5 text-slate-400 hover:text-accent-gold hover:bg-white/5 rounded-full transition-colors",title:"View Memories",children:b.jsx(pm,{size:20})}),b.jsx("button",{onClick:()=>n("/dashboard"),className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Dashboard",children:b.jsx(Ib,{size:20})}),b.jsx("button",{onClick:()=>Ne(!0),className:"p-2.5 text-slate-400 hover:text-accent-primary hover:bg-white/5 rounded-full transition-colors",title:"Share Board",children:b.jsx(Mf,{size:20})}),b.jsx("button",{onClick:()=>{const J=["dawn","midnight","forest","ocean","sunset"],Ut=(J.indexOf(B.theme)+1)%J.length;j({theme:J[Ut]})},className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:`Theme: ${B.theme} (click to change)`,children:B.theme==="dawn"?b.jsx(YB,{size:20}):b.jsx(kB,{size:20})}),b.jsx("button",{onClick:V,className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Settings",children:b.jsx(jI,{size:20})}),b.jsx("div",{className:"w-px h-6 bg-white/10 mx-1 hidden sm:block"}),b.jsx(tt.div,{initial:{scale:0},animate:{scale:1},className:"relative cursor-pointer group",children:b.jsx("img",{src:P?.photoURL||"",alt:"User",className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full border-2 border-white/10 group-hover:border-accent-primary transition-colors object-cover shrink-0"})}),b.jsx("button",{onClick:C,className:"p-2.5 text-slate-400 hover:text-red-400 hover:bg-white/5 rounded-full transition-colors",title:"Logout",children:b.jsx(Nb,{size:20})})]})]}),b.jsxs(b7,{sensors:xe,collisionDetection:EF,onDragStart:_e,onDragEnd:Ee,children:[b.jsx("div",{className:"flex justify-center mb-6",children:b.jsx("div",{className:"w-full max-w-[520px] aspect-square relative",children:b.jsx(F7,{items:Mi.map(J=>J.id),strategy:Bb,children:b.jsx("div",{className:xt("grid gap-1.5 sm:gap-2 w-full h-full",ae===3&&"grid-cols-3 grid-rows-3",ae===4&&"grid-cols-4 grid-rows-4",ae===5&&"grid-cols-5 grid-rows-5",ae===6&&"grid-cols-6 grid-rows-6"),style:{perspective:"1000px"},children:Mi.map((J,Se)=>b.jsx(eq,{id:J.id,disabled:!q,children:b.jsx(tq,{item:J,index:Se,gridSize:ae,editMode:q,activeId:ge,isLocked:g,onEdit:()=>Xi(Se),onClick:()=>{J.isFreeSpace||(J.isCompleted?J.proofPhotos&&J.proofPhotos.length>0?(Nn(J),vn(Se),Yt(0),In(!0)):Ja(Se):(G(),cn(Se),qt(!0)))}})},J.id))})})})}),b.jsx(L7,{children:ge?b.jsx("div",{className:xt("relative w-full h-full flex flex-col items-center justify-center p-1 sm:p-2 text-center select-none overflow-hidden","bingo-tile bg-white/10 backdrop-blur-md border-2 border-accent-primary shadow-2xl glass-panel"),style:{width:"100px",height:"100px"},children:b.jsx("span",{className:"text-white font-bold text-sm",children:ne.find(J=>J.id===ge)?.text})}):null})]})]}),b.jsx("div",{className:"flex justify-center",children:b.jsxs(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[520px] glass-panel p-4 flex flex-col gap-4",children:[b.jsxs("div",{className:"w-full",children:[b.jsxs("div",{className:"flex justify-between text-xs text-slate-300 mb-1.5 px-1",children:[b.jsx("span",{className:"font-semibold",children:"Progress"}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("span",{className:"font-mono text-accent-gold font-bold",children:[m,"/",ae*2+2," Bingos"]}),b.jsxs("span",{className:"font-mono text-accent-primary",children:[Math.round(Oi),"%"]})]})]}),b.jsx("div",{className:"h-3 bg-bg-dark/50 rounded-full overflow-hidden border border-white/5",children:b.jsx(tt.div,{className:"h-full bg-gradient-to-r from-accent-primary to-accent-secondary relative",initial:{width:0},animate:{width:`${Oi}%`},transition:{duration:1,ease:"easeOut"},children:b.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[1px] bg-white/50 shadow-[0_0_10px_white]"})})})]}),b.jsx("div",{className:"flex justify-center gap-2",children:q?b.jsx(b.Fragment,{children:b.jsxs("div",{className:"flex gap-2 w-full",children:[b.jsx("button",{onClick:()=>W(!1),className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10 transition-all",children:"Cancel"}),b.jsxs("button",{onClick:()=>{A(ne),W(!1)},className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 transition-all flex items-center justify-center gap-2",children:[b.jsx(Ns,{size:16}),"Save Changes"]})]})}):b.jsxs("div",{className:"flex gap-2 justify-center w-full flex-wrap",children:[!g&&b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>{me([...a]),W(!0)},className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[b.jsx(kf,{size:12}),"Edit Board"]}),b.jsxs("button",{onClick:()=>{be(),ht(!0)},className:"flex-1 py-2 px-4 text-xs font-bold text-white bg-gradient-to-r from-accent-primary to-accent-secondary hover:shadow-lg hover:shadow-accent-primary/20 transition-all rounded-lg flex items-center justify-center gap-2 min-w-[120px]",children:[b.jsx(TS,{size:14}),"Go Live "]})]}),b.jsxs("button",{onClick:()=>window.print(),className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[b.jsx(UB,{size:12}),"Print Status"]})]})})]})}),b.jsx(lr,{children:d&&!Xo&&b.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:b.jsxs(tt.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center max-w-sm w-full relative overflow-hidden border-accent-gold/30",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent-gold/10 to-transparent pointer-events-none"}),b.jsx(tt.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"inline-block",children:b.jsx(xS,{className:"w-20 h-20 text-accent-gold mx-auto mb-4 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),b.jsx("h2",{className:"text-4xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-accent-gold via-white to-accent-secondary mb-2",children:"BINGO!"}),b.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"2026 is off to an amazing start!"}),b.jsx("button",{onClick:xi,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-[0_0_20px_rgba(139,92,246,0.4)] transition-all transform hover:scale-105",children:"Keep Playing"})]})})}),b.jsx(lr,{children:Ue&&b.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:()=>Pe(!1),children:b.jsxs(tt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-gold/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl relative overflow-hidden",onClick:J=>J.stopPropagation(),children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Edit Tile"}),b.jsx("div",{className:"mb-4 flex justify-center",children:b.jsx("div",{className:"w-32 h-32 rounded-lg bg-bg-card/80 border border-white/10 flex items-center justify-center p-2 text-center overflow-hidden",children:b.jsx("span",{className:xt("font-hand font-semibold leading-tight break-words"),style:{color:Jt.color||"#ffffff",fontWeight:Jt.bold?"bold":"600",fontStyle:Jt.italic?"italic":"normal",fontSize:Jt.fontSize==="sm"?"12px":Jt.fontSize==="lg"?"18px":Jt.fontSize==="xl"?"22px":"16px"},children:Di||"Preview Text"})})}),b.jsxs("div",{className:"mb-4",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-3 bg-white/5 p-3 rounded-xl border border-white/5",children:[b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer flex-1",children:[b.jsx("input",{type:"checkbox",checked:Pt,onChange:J=>{const Se=J.target.checked;Ki(Se),Se&&Ft("FREE!")},className:"w-4 h-4 rounded border-gray-500 bg-black/50 text-accent-primary focus:ring-accent-primary"}),b.jsx("span",{className:xt("text-sm font-bold transition-colors",Pt?"text-accent-primary":"text-slate-300"),children:"Flag as FREE Space "})]}),Pt&&b.jsxs("div",{className:"flex gap-1 bg-black/80 rounded-full p-1 px-1.5 border border-white/20",children:[b.jsx("div",{className:"w-2 h-2 rounded-full bg-red-900/30"}),b.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-900/30"}),b.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_#22c55e]"})]})]}),b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Content"}),b.jsx("textarea",{className:xt("w-full bg-black/20 text-white rounded-lg p-3 border border-white/10 focus:border-accent-primary outline-none min-h-[80px]",Pt&&"opacity-50 cursor-not-allowed"),disabled:Pt,value:Di,onChange:J=>Ft(J.target.value),placeholder:"Enter bingo task..."})]}),b.jsxs("div",{className:xt("transition-opacity duration-300",Pt&&"opacity-30 pointer-events-none"),children:[b.jsxs("div",{className:"mb-6 space-y-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Color"}),b.jsx("div",{className:"flex gap-2 flex-wrap",children:["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#ec4899","#a855f7"].map(J=>b.jsx("button",{className:xt("w-6 h-6 rounded-full border border-white/10 transition-transform active:scale-90",Jt.color===J&&"ring-2 ring-white scale-110"),style:{backgroundColor:J},onClick:()=>ei(Se=>({...Se,color:J}))},J))})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),b.jsx("div",{className:"flex bg-black/20 rounded-lg p-1",children:["sm","base","lg","xl"].map(J=>b.jsx("button",{onClick:()=>ei(Se=>({...Se,fontSize:J})),className:xt("flex-1 py-1 text-[10px] font-bold rounded transition-colors uppercase",(Jt.fontSize||"base")===J?"bg-accent-primary text-white":"text-slate-400 hover:text-white"),children:J==="base"?"M":J},J))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Style"}),b.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-lg p-1",children:[b.jsx("button",{onClick:()=>ei(J=>({...J,bold:!J.bold})),className:xt("w-8 h-full rounded flex items-center justify-center font-bold transition-colors",Jt.bold?"bg-white text-black":"text-slate-400 hover:text-white"),children:"B"}),b.jsx("button",{onClick:()=>ei(J=>({...J,italic:!J.italic})),className:xt("w-8 h-full rounded flex items-center justify-center italic transition-colors font-serif",Jt.italic?"bg-white text-black":"text-slate-400 hover:text-white"),children:"I"})]})]})]})]}),b.jsxs("div",{className:"space-y-4 mb-6 pt-4 border-t border-white/10",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Repeat Goal"}),b.jsx("input",{type:"number",min:"1",max:"100",value:Hn,onChange:J=>gn(parseInt(J.target.value)||1),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors"}),b.jsx("p",{className:"text-xs text-slate-500",children:"How many times should this be completed?"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Due Date (Optional)"}),b.jsx("input",{type:"date",value:ti,onChange:J=>yi(J.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors [color-scheme:dark]"})]})]})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>Pe(!1),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:sn,className:"flex-1 py-3 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl font-bold text-white shadow-lg hover:shadow-violet-500/25 active:scale-95 transition-all",children:"Ok"})]})]})})}),b.jsx(lr,{children:Ln&&pt!==null&&b.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{qt(!1),cn(null)},children:b.jsx(tt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-primary/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl max-h-[90vh] overflow-y-auto no-scrollbar",onClick:J=>J.stopPropagation(),children:(()=>{const J=Mi[pt],Se=J?.targetCount||1,Ut=J?.currentCount||0,Ht=Se>1,dt=Ut>0;return b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2 text-center",children:J.isCompleted?"Tile Details":dt?"Add Progress":"Complete Task"}),b.jsxs("p",{className:"text-slate-300 text-sm text-center mb-4 line-clamp-3 italic",children:["",J?.text,""]}),Ht&&b.jsx("div",{className:"text-center mb-4",children:b.jsxs("span",{className:xt("inline-block px-3 py-1 rounded-full text-sm font-bold",dt?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"),children:["Progress: ",Ut," / ",Se]})}),J.proofPhotos&&J.proofPhotos.length>0&&b.jsxs("div",{className:"mb-6 bg-black/20 p-3 rounded-xl border border-white/5",children:[b.jsx("label",{className:"text-xs text-slate-400 mb-2 block font-semibold uppercase tracking-wider",children:"Attached Photos"}),b.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:J.proofPhotos.map((We,ut)=>b.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0 group rounded-lg overflow-hidden border border-white/10 touch-none select-none",onContextMenu:Mt=>Mt.preventDefault(),onTouchStart:Mt=>{const Vi=Mt.currentTarget,yt=setTimeout(()=>{navigator.vibrate&&navigator.vibrate(50),window.confirm("Delete this photo?")&&z(pt,ut)},800);Vi.dataset.timer=String(yt)},onTouchEnd:Mt=>{const Vi=Number(Mt.currentTarget.dataset.timer);Vi&&clearTimeout(Vi),Mt.currentTarget.dataset.timer=""},onTouchMove:Mt=>{const Vi=Number(Mt.currentTarget.dataset.timer);Vi&&clearTimeout(Vi),Mt.currentTarget.dataset.timer=""},children:[b.jsx("img",{src:We,alt:"",className:"w-full h-full object-cover pointer-events-none"}),b.jsx("button",{onClick:async Mt=>{Mt.stopPropagation(),window.confirm("Delete this photo?")&&await z(pt,ut)},className:"absolute top-1 right-1 bg-red-500/90 p-1.5 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 shadow-md",children:b.jsx(Of,{size:12})})]},ut))})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("input",{type:"file",accept:"image/*",ref:yn,className:"hidden",onChange:async We=>{const ut=We.target.files?.[0];if(ut&&pt!==null){Rn(!0);try{Cn==="complete"?await M(pt,ut):await O(pt,ut),qt(!1),cn(null)}catch{alert("Failed to upload photo.")}finally{Rn(!1),We.target.value=""}}}}),b.jsxs("button",{onClick:()=>{nn("add"),setTimeout(()=>yn.current?.click(),0)},disabled:Tt,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-blue-500/25 active:scale-95 transition-all disabled:opacity-50",children:[b.jsx(MI,{size:20}),Tt&&Cn==="add"?"Uploading...":"Add Photo (Keep Status)"]}),!J.isCompleted&&b.jsxs("button",{onClick:()=>{nn("complete"),setTimeout(()=>yn.current?.click(),0)},disabled:Tt,className:"w-full py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-amber-500/25 active:scale-95 transition-all disabled:opacity-50",children:[b.jsx(Ns,{size:20}),Tt&&Cn==="complete"?"Uploading...":Ht?"Add Photo & +1":"Add Photo & Complete"]}),b.jsxs("button",{onClick:()=>{h(pt),qt(!1),cn(null)},disabled:Tt,className:xt("w-full py-3 px-4 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-all disabled:opacity-50",J.isCompleted?"bg-slate-700 hover:bg-slate-600":"bg-gradient-to-r from-green-600 to-emerald-600 hover:shadow-green-500/25"),children:[J.isCompleted?b.jsx(Wr,{size:20}):b.jsx(Ns,{size:20}),J.isCompleted?"Mark Incomplete":Ht?`Mark +1 (${Ut+1}/${Se})`:"Mark Complete"]}),dt&&!J.isCompleted&&b.jsxs("button",{onClick:()=>{$(pt),qt(!1),cn(null)},disabled:Tt,className:"w-full py-2 rounded-xl font-semibold text-red-400 hover:bg-red-500/10 transition-colors disabled:opacity-50",children:["Remove Progress (",Ut-1,"/",Se,")"]}),b.jsx("button",{onClick:()=>{qt(!1),cn(null)},disabled:Tt,className:"w-full py-3 rounded-xl font-semibold bg-white/5 text-slate-400 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"})]})]})})()})})}),b.jsx(lr,{children:Gn&&gt&&gt.proofPhotos&&gt.proofPhotos.length>0&&b.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{In(!1),Nn(null),vn(null)},children:b.jsxs(tt.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-lg w-full",onClick:J=>J.stopPropagation(),children:[b.jsx("button",{onClick:()=>{In(!1),Nn(null),vn(null)},className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors z-10",children:b.jsx(Wr,{size:28})}),b.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[b.jsxs("div",{className:"relative bg-black",children:[b.jsx("img",{src:gt.proofPhotos[Lt],alt:`Proof photo ${Lt+1}`,className:"w-full h-auto max-h-[50vh] object-contain"}),gt.proofPhotos.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>Yt(J=>J>0?J-1:gt.proofPhotos.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:b.jsx(OI,{size:24})}),b.jsx("button",{onClick:()=>Yt(J=>J<gt.proofPhotos.length-1?J+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:b.jsx(PI,{size:24})})]}),b.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/60 rounded-full text-white text-xs font-medium",children:[Lt+1," / ",gt.proofPhotos.length]})]}),gt.proofPhotos.length>1&&b.jsx("div",{className:"flex gap-1 p-2 bg-bg-dark/80 overflow-x-auto",children:gt.proofPhotos.map((J,Se)=>b.jsx("button",{onClick:()=>Yt(Se),className:xt("w-12 h-12 rounded-md overflow-hidden border-2 flex-shrink-0 transition-all",Lt===Se?"border-accent-primary":"border-transparent opacity-60 hover:opacity-100"),children:b.jsx("img",{src:J,alt:"",className:"w-full h-full object-cover"})},Se))}),b.jsxs("div",{className:"p-4 bg-bg-dark/95",children:[b.jsx("p",{className:"text-white font-semibold mb-1",children:gt.text}),b.jsxs("p",{className:"text-slate-400 text-xs mb-4",children:["Completed by ",gt.completedBy,"  ",Pi(gt.completedAt)]}),b.jsx("div",{className:"flex gap-2 justify-center pb-1",children:["","","","","",""].map(J=>b.jsx("button",{onClick:()=>{kt!==null&&(I(kt,J),be())},className:"text-2xl hover:scale-125 transition-transform p-2 rounded-full hover:bg-white/10 active:scale-95",title:"React",children:J},J))})]})]}),b.jsxs("div",{className:"mt-4 flex gap-3 justify-center",children:[b.jsxs("button",{onClick:async()=>{window.confirm("Delete this photo?")&&(await z(kt,Lt),gt?.proofPhotos?.length===1?In(!1):Yt(0))},className:"flex-1 py-3 bg-red-500/10 text-red-400 rounded-xl font-semibold hover:bg-red-500/20 flex items-center justify-center gap-2",children:[b.jsx(Of,{size:20}),"Delete Photo"]}),b.jsxs("button",{onClick:()=>ki.current?.click(),className:"flex-1 py-3 bg-white/10 text-white rounded-xl font-semibold hover:bg-white/20 flex items-center justify-center gap-2",children:[b.jsx(rh,{size:20}),"Add Photo"]})]}),b.jsx("button",{onClick:()=>{const J=a.findIndex(Se=>Se.id===gt.id);J!==-1&&h(J),In(!1),Nn(null),vn(null)},className:"mt-2 w-full py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Mark as In Progress"})]})})}),b.jsx(lr,{children:yr&&jr&&b.jsxs(tt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-slate-900 border border-white/20 text-white px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4",children:[b.jsxs("span",{children:["Marked as ",jr.wasCompleted?"incomplete":"complete"]}),b.jsx("button",{onClick:()=>{h(jr.index),He(!1)},className:"font-bold text-accent-primary hover:text-white transition-colors",children:"Undo"}),b.jsx("button",{onClick:()=>He(!1),className:"text-slate-400 hover:text-white",children:b.jsx(Wr,{size:16})})]})}),b.jsx(lr,{children:jn&&b.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:b.jsxs(tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-slate-900 border border-white/20 rounded-3xl p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 pointer-events-none",children:b.jsx(xS,{className:"w-32 h-32 text-accent-gold rotate-12"})}),b.jsxs("div",{className:"relative z-10 text-center",children:[b.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Welcome! "}),b.jsxs("p",{className:"text-slate-400 mb-8 h-12",children:[ni===0&&"Tap any tile to mark it as complete.",ni===1&&"Start 'Edit Mode' to add your own tasks.",ni===2&&"Invite friends to play together!"]}),b.jsx("div",{className:"flex justify-center mb-8",children:b.jsx("div",{className:"w-32 h-32 bg-black/40 rounded-2xl border border-white/10 flex items-center justify-center relative",children:b.jsxs(lr,{mode:"wait",children:[ni===0&&b.jsxs(tt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center",children:[b.jsx("div",{className:"w-16 h-16 bg-accent-primary/20 rounded-lg border border-accent-primary flex items-center justify-center",children:b.jsx(Ns,{className:"w-8 h-8 text-white"})}),b.jsx(tt.div,{animate:{scale:[1,1.2,1],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5},className:"absolute w-20 h-20 rounded-full border-2 border-white/50"})]},"step0"),ni===1&&b.jsx(tt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:b.jsx(kf,{className:"w-12 h-12 text-blue-400"})},"step1"),ni===2&&b.jsx(tt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:b.jsx(Mf,{className:"w-12 h-12 text-green-400"})},"step2")]})})}),b.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[0,1,2].map(J=>b.jsx("div",{className:xt("w-2 h-2 rounded-full transition-colors",J===ni?"bg-white":"bg-white/20")},J))}),b.jsx("button",{onClick:rn,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-slate-200 transition-colors",children:ni===2?"Let's Play!":"Next"})]})]})})})]}),b.jsxs("div",{className:"only-print hidden",children:[b.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-black pb-2",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:"/logo.png",className:"h-12 w-auto",alt:"Logo"}),b.jsx("h1",{className:"text-2xl font-bold",children:re||"2026 Edition"})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("p",{className:"text-xs uppercase tracking-widest mb-0.5",children:["Status Report (",ae,"",ae,")"]}),b.jsxs("p",{className:"text-xl font-bold",children:[m," / ",ae*2+2," Bingos"]})]})]}),b.jsx("div",{className:`grid gap-0 border-2 border-black ${ae===3?"grid-cols-3":ae===4?"grid-cols-4":ae===5?"grid-cols-5":"grid-cols-6"}`,children:a.map(J=>b.jsxs("div",{className:"aspect-square border border-black p-1.5 flex flex-col justify-between relative overflow-hidden min-h-[80px]",children:[b.jsx("div",{className:`font-bold leading-tight z-10 ${ae>=5?"text-[10px]":"text-[11px]"}`,children:J.text}),J.isCompleted&&!J.isFreeSpace&&b.jsxs("div",{className:"mt-0.5 relative z-10",children:[b.jsx("div",{className:"text-[7px] uppercase font-bold text-slate-700",children:"Completed by:"}),b.jsx("div",{className:"text-[9px] font-mono font-bold leading-none",children:J.completedBy||"User"}),b.jsx("div",{className:"text-[7px] text-slate-600 mt-0.5",children:Pi(J.completedAt)})]}),J.isCompleted&&b.jsx("div",{className:"absolute bottom-1 right-1 text-3xl font-bold text-slate-200 opacity-60 pointer-events-none z-0",children:""}),J.isFreeSpace&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-xl rotate-[-45deg] opacity-20",children:"FREE"})]},J.id))}),b.jsxs("div",{className:"mt-4 text-[9px] text-center border-t border-black pt-2 flex justify-between text-slate-500",children:[b.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),b.jsx("span",{children:"bingo.mysunsar.com"})]})]}),b.jsx(sF,{items:a,isOpen:Hs,onClose:()=>Yo(!1)}),st&&b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>Ne(!1)}),b.jsxs("div",{className:"relative w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[b.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[b.jsx(Mf,{className:"w-5 h-5 text-accent-primary"}),"Shared With"]}),b.jsx("button",{onClick:()=>Ne(!1),className:"text-slate-400 hover:text-white",children:b.jsx(Wr,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"p-6",children:[at.length===0?b.jsx("div",{className:"text-center text-slate-400 py-8",children:b.jsx("p",{children:"This board hasn't been shared yet."})}):b.jsx("div",{className:"space-y-4 mb-6",children:at.map(J=>b.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-3 rounded-xl border border-white/5",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:J.name.charAt(0)}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-semibold text-white",children:J.name}),b.jsxs("div",{className:"text-xs text-slate-400",children:[J.email,"  ",J.role]})]})]}),b.jsx("button",{onClick:()=>Vt(J.id,J.name),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove User",children:b.jsx(Of,{size:16})})]},J.id))}),b.jsxs("button",{onClick:jt,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all flex items-center justify-center gap-2",children:[b.jsx(rh,{size:18}),"Invite New User"]})]})]})]}),wt&&b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>ht(!1)}),b.jsxs("div",{className:"relative w-full max-w-sm bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center bg-gradient-to-r from-accent-primary/10 to-accent-secondary/10",children:[b.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[b.jsx(TS,{className:"w-5 h-5 text-accent-primary"}),"Ready to Go Live?"]}),b.jsx("button",{onClick:()=>ht(!1),className:"text-slate-400 hover:text-white",children:b.jsx(Wr,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"p-6",children:[b.jsxs("p",{className:"text-slate-300 mb-6 leading-relaxed",children:["Going live will ",b.jsx("strong",{children:"lock the board"})," for play mode. You won't be able to edit items easily anymore."]}),b.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mb-6 cursor-pointer hover:bg-white/10 transition-colors",onClick:()=>mn(!Bt),children:b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("div",{className:`mt-1 w-5 h-5 rounded border flex items-center justify-center transition-colors ${Bt?"bg-accent-primary border-accent-primary":"border-slate-500"}`,children:Bt&&b.jsx(Ns,{size:14,className:"text-white"})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-semibold text-white",children:"Shuffle Items?"}),b.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Randomize the grid arrangement one last time before locking."})]})]})}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>ht(!1),className:"flex-1 py-3 bg-slate-800 text-slate-300 font-bold rounded-xl hover:bg-slate-700 transition-colors",children:"Cancel"}),b.jsxs("button",{onClick:Yi,className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary text-white font-bold rounded-xl hover:shadow-lg hover:shadow-accent-primary/20 transition-all flex items-center justify-center gap-2",children:[b.jsx(SB,{size:16}),"Lock & Play"]})]})]})]})]})]})},Ao=({className:t,...e})=>b.jsx("div",{className:xt("skeleton-glass",t),...e}),nq=()=>{const{user:t}=Ko(),e=zI(),n=ch(),[r,a]=S.useState([]),[l,c]=S.useState(!0),[h,d]=S.useState(!1),[m,g]=S.useState(null),[v,_]=S.useState(5),[A,M]=S.useState(null),[O,I]=S.useState(""),z=(N,V)=>{N.preventDefault(),N.stopPropagation(),M(V.id),I(V.title)},$=async N=>{if(N.preventDefault(),N.stopPropagation(),!!A){try{await ai(Ir(Zn,"boards",A),{title:O}),a(V=>V.map(B=>B.id===A?{...B,title:O}:B))}catch(V){console.error("Error updating title:",V)}M(null)}},H=N=>{N.preventDefault(),N.stopPropagation(),M(null)},le=N=>{N.key==="Enter"?$(N):N.key==="Escape"?(N.stopPropagation(),M(null)):N.stopPropagation()},re=[{size:3,label:"33",description:"Quick (9 tiles)",icon:""},{size:4,label:"44",description:"Compact (16 tiles)",icon:""},{size:5,label:"55",description:"Classic (25 tiles)",icon:""},{size:6,label:"66",description:"Extended (36 tiles)",icon:""}],ae={blank:{name:"Blank Canvas ",items:[]},default:{name:"2026 Goals ",items:["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"]},fitness:{name:"Fitness Challenge ",items:["Run a 5k","Do 50 pushups in a row","Try a yoga class","Drink 3L water for a week","No sugar for 7 days","Go for a hike","Meal prep for a week","Climb a bouldering wall","Try Pilates","Walk 15k steps in a day","Do a spin class","Bike 20km","FREE SPACE","Touch your toes","Hold a plank for 2 min","Try CrossFit","Go swimming","Meditate for 10 mins x 7","Try a new sport","Sleep 8 hours x 5 days","Do 100 squats","Run a 10k","Go to the gym 4x in a week","Stretch daily for a week","Join a run club"]},couples:{name:"Couple Goals ",items:["Date night (no phones)","Cook a meal together","Weekend getaway","Watch a whole series","Breakfast in bed","Go for a long walk","Plan a future trip","Give each other massages","Recreate first date","Take a dance class","Stargazing date","Write love letters","FREE SPACE","Visit a winery/brewery","Do a puzzle together","Double date","Sunset picnic","Bake something sweet","Volunteer together","Learn a couple's skill","Game night","Make a photo album","Try a new restaurant","Surprise gift","Kiss in the rain"]},personal:{name:"Personal Growth ",items:["Read 1 book/month","Learn a new language","Start a journal","Digital detox (24h)","Meditate daily (1 week)","Drink 2L water daily","Wake up at 6am (1 week)","Declutter a room","Learn to invest","Take a solo trip","Volunteer","Compliment a stranger","FREE SPACE","No social media (weekend)","Learn an instrument","Cook a new cuisine","Write a gratitude list","Take a cold shower","Listen to a podcast","Fix sleep schedule","Walk 10k steps","Call an old friend","Create a vision board","Save 10% income","Take a course"]},knitting:{name:"Knitting Goals ",items:["Finish a WIP","Cast on a sweater","Learn brioche","Knit socks","Stash bust project","Try colorwork","Knit a hat","Use luxury yarn","Fix a mistake","Knit a gift","Block a project","Organize needles","FREE SPACE","Try a new fiber","Knit in public","Attend a knit night","Learn magic loop","Design a pattern","Teach someone to knit","Finish a blanket","Knit a shawl","Try cables","Buy souvenir yarn","Weave in ends immediately","Knit a gauge swatch"]},weaving:{name:"Weaving Goals ",items:["Warp the loom","Weave a rug","Try a new structure","Sample a pattern","Use handspun yarn","Finish a scarf","Hemstitching","Fix a broken warp","Weave a towel","Try tapestry","Mix fibers","Organize yarn stash","FREE SPACE","Weave a placemat","Attend a workshop","Try doublewidth","Weave transparency","Calculate warp correctly","Finish raw edges","Weave with rags","Try tablet weaving","Rigid heddle project","Floor loom project","Visit a mill","Share a project online"]},spinning:{name:"Spinning Goals ",items:["Spin 100g fiber","Ply a yarn","Try a new breed","Spin lace weight","Spin art yarn","Comb fleece","Card a batt","Spin on a drop spindle","Clean the wheel","Spin distinct colors","Skein and wash","Fractal spin","FREE SPACE","Spin silk","Spin cotton","Navajo ply","Spin for a project","Participate in Tour de Fleece","Sample a blend","Teach spinning","Spin consistent grist","Dye fiber","Blend colors on hackle","Spin exotic fiber","Fill a bobbin"]},painting:{name:"Painting Goals ",items:["Paint a landscape","Try watercolors","Paint a portrait","Mix a new color","Paint en plein air","Visit a gallery","Finish a sketchbook","Try oils","Paint a still life","Use a palette knife","Paint an animal","Try abstract","FREE SPACE","Clean brushes properly","Paint on canvas","Paint on wood","Follow a tutorial","Paint a sky","Try gouache","Varnish a painting","Frame a piece","Paint daily for a week","Recreate a master","Paint a self-portrait","Host a paint night"]},corporate:{name:"Corporate Bingo ",items:['"Circle back"',`"Let's take this offline"`,"Meeting that could be an email",'"Synergy"','"Low hanging fruit"','"Touch base"',"Someone forgets to mute","Screen share fails",'"Can you see my screen?"',"Awkward silence",'"Bandwidth"','"Deep dive"',"FREE SPACE","Pet interrupts video call","Echo on the line",'"Per my last email"','"Drill down"','"Out of pocket"','"Hard stop"','"Boil the ocean"',"Reply All disaster",'"Move the needle"','"Blue sky thinking"','"Paradigm shift"','"Quick win"']},travel:{name:"Travel Bucket List ",items:["Visit a new continent","Go on a solo trip","See the Northern Lights","Swim in an ocean","Road trip across 3 states","Fly First Class","Visit a National Park","Eat street food","Stay in a hostel","Learn 'Hello' in 5 languages","Visit a Wonder of the World","Go on a cruise","FREE SPACE","Make a travel vlog","Sleep under the stars","Visit a castle","Ride a train","See a volcano","Go scuba diving","Watch a sunrise on a mountain","Visit a winery","Ride a camel/elephant","Go skiing/snowboarding","Visit a tropical island","Send a postcard"]}};S.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching boards for user:",t.uid,t.email);const V=new Map;try{const G=Qu(Na(Zn,"boards"),Ju(`members.${t.uid}`,"in",["owner","editor","viewer"])),q=await Po(G);console.log("Boards with membership found:",q.docs.length),q.docs.forEach(W=>{const U=W.data(),E=U.members?.[t.uid],L=U.members||{},Y=Object.values(L).filter(ne=>ne!=="owner").length;V.set(W.id,{id:W.id,...U,sharedCount:Y,myRole:E,members:L})})}catch(G){console.error("Error querying boards by membership:",G)}try{const G=Qu(Na(Zn,"years"),Ju("ownerId","==",t.uid)),q=await Po(G);console.log("Legacy boards (years collection) found:",q.docs.length),q.docs.forEach(W=>{const U=W.data();V.set(`legacy_${W.id}`,{id:W.id,title:U.title||"2026 Bingo",createdAt:U.createdAt,isLocked:U.isLocked,ownerId:U.ownerId,myRole:"owner",members:{}})})}catch(G){console.log("Years collection query failed:",G)}try{const G=await Po(Na(Zn,"years"));console.log("All years docs:",G.docs.length),G.docs.forEach(q=>{const W=q.data();if(W.ownerId===t.uid||W.members?.[t.uid]){const U=`legacy_years_${q.id}`;V.has(U)||V.set(U,{id:q.id,title:W.title||`${q.id} Bingo`,createdAt:W.createdAt,isLocked:W.isLocked,ownerId:W.ownerId,myRole:W.ownerId===t.uid?"owner":W.members?.[t.uid]||"viewer",members:W.members||{}})}})}catch(G){console.log("Direct years fetch failed:",G)}const B=Array.from(V.values()),j=new Set;B.forEach(G=>{G.myRole!=="owner"&&(G.ownerId&&G.ownerId!==t.uid&&j.add(G.ownerId),G.members&&Object.entries(G.members).forEach(([q,W])=>{W==="owner"&&q!==t.uid&&j.add(q)}))});const be=Array.from(j),De={};for(const G of be)try{const q=await Ah(Ir(Zn,"users",G));if(q.exists()){const W=q.data();De[G]=W.displayName||W.email||"Unknown"}}catch{console.log("Could not fetch owner info for:",G)}const te=B.map(G=>{let q=G.ownerId;if(G.members){const W=Object.keys(G.members).find(U=>G.members[U]==="owner"&&U!==t.uid);W&&(q=W)}return G.myRole!=="owner"&&q&&De[q]?{...G,ownerName:De[q]}:G});console.log("Total boards to display:",te.length,te.map(G=>G.title)),a(te)}catch(V){console.error("Error fetching boards:",V)}finally{c(!1)}})()},[t]);const D=async N=>{if(!t)return;const V=ae[N],B=v,j=B*B,be=B%2===1?Math.floor(j/2):-1,De=B%2===1?j-1:j,te=await e.prompt("What would you like to call this board?",{title:"Board Title",inputDefaultValue:V.name,confirmText:"Create"});if(te)try{const G=V.items.filter(L=>L.trim().toUpperCase()!=="FREE SPACE"&&L!=="FREE SPACE"),q=[...G].sort(()=>.5-Math.random());for(;q.length<De;)q.push(G[q.length%G.length]||`Goal ${q.length+1}`);const W=[];let U=0;for(let L=0;L<j;L++)L===be&&B%2===1?W.push({id:L,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(W.push({id:L,text:q[U],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),U++);const E=await BR(Na(Zn,"boards"),{title:te,gridSize:B,ownerId:t.uid,members:{[t.uid]:"owner"},items:W,createdAt:Be.now(),isLocked:!1,lastUpdated:Be.now()});n(`/board/${E.id}`)}catch(G){console.error("Error creating board:",G),await e.alert("Failed to create board. Please try again.",{title:"Error",type:"error"})}finally{d(!1),g(null),_(5)}};if(l)return b.jsx("div",{className:"min-h-screen bg-transparent p-6 relative",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsxs("header",{className:"flex justify-between items-center mb-12 py-2",children:[b.jsx(Ao,{className:"h-10 w-32 md:w-40"}),b.jsxs("div",{className:"flex gap-2 items-center",children:[b.jsx(Ao,{className:"w-10 h-10 rounded-full"}),b.jsx(Ao,{className:"w-10 h-10 rounded-full"}),b.jsx(Ao,{className:"w-20 h-10 rounded-xl"})]})]}),b.jsxs("div",{className:"mb-10",children:[b.jsx(Ao,{className:"h-12 w-64 mb-3 rounded-lg"}),b.jsx(Ao,{className:"h-6 w-48 rounded-md"})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((N,V)=>b.jsx(Ao,{className:"h-48 rounded-2xl"},V))})]})});const C=async(N,V,B)=>{if(N.stopPropagation(),await e.confirm(`This will permanently delete "${B}" and all its data.

This action cannot be undone.`,{title:"Delete Board?",confirmText:"Delete",type:"error"}))try{await zR(Ir(Zn,"boards",V)),a(be=>be.filter(De=>De.id!==V)),await e.alert("Board deleted successfully.",{title:"Deleted",type:"success"})}catch(be){console.error("Error deleting board:",be),await e.alert("Failed to delete board. Please try again.",{title:"Error",type:"error"})}},P=async(N,V,B)=>{if(N.stopPropagation(),!t)return;if(await e.confirm(`You will no longer have access to "${B}".

You can ask the owner to re-share it if needed.`,{title:"Leave Board?",confirmText:"Leave",type:"warning"}))try{await ai(Ir(Zn,"boards",V),{[`members.${t.uid}`]:rm()}),a(be=>be.filter(De=>De.id!==V)),await e.alert("You have left the board.",{title:"Left Board",type:"success"})}catch(be){console.error("Error leaving board:",be),await e.alert("Failed to leave board. Please try again.",{title:"Error",type:"error"})}};return b.jsxs("div",{children:[b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsxs("div",{className:"mb-10",children:[b.jsx("h1",{className:"text-3xl font-semibold text-white tracking-tight",children:"My Boards"}),b.jsxs("p",{className:"text-slate-400 mt-1",children:["Welcome back, ",b.jsx("span",{className:"text-white font-medium",children:t?.displayName?.split(" ")[0]||"Bingo Player"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[b.jsxs("button",{onClick:()=>d(!0),className:"pro-card group relative flex flex-col items-center justify-center h-48 transition-all cursor-pointer hover:bg-zinc-900 border-dashed border-2 border-zinc-700 bg-transparent",children:[b.jsx("div",{className:"relative z-10 w-12 h-12 rounded-full bg-zinc-800 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:b.jsx(rh,{className:"w-6 h-6 text-zinc-400 group-hover:text-white"})}),b.jsx("span",{className:"relative z-10 font-semibold text-sm text-zinc-400 group-hover:text-white transition-colors",children:"Create New Board"})]}),r.filter(N=>N.myRole==="owner").map(N=>{const B=N.id==="2026"||!N.ownerId?`/board/legacy/${N.id}`:`/board/${N.id}`;return b.jsxs("div",{onClick:j=>{j.preventDefault(),console.log("Navigating to board:",B),n(B)},className:"pro-card group relative h-48 p-6 flex flex-col justify-between cursor-pointer overflow-hidden active:scale-[0.99] hover:bg-zinc-900",children:[b.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:b.jsx("button",{onClick:j=>C(j,N.id,N.title),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Delete Board",children:b.jsx(Of,{size:18})})}),b.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"h-7 mb-2",children:!!N.sharedCount&&N.sharedCount>0&&b.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:[b.jsx(r8,{size:10}),"Shared with ",N.sharedCount]})}),A===N.id?b.jsxs("div",{className:"flex items-center gap-2 mb-1.5 z-30 relative",onClick:j=>j.stopPropagation(),children:[b.jsx("input",{type:"text",value:O,onChange:j=>I(j.target.value),onKeyDown:le,onClick:j=>j.stopPropagation(),autoFocus:!0,className:"bg-black/50 text-white font-bold text-xl rounded px-2 py-0.5 border border-accent-primary outline-none min-w-0 flex-1 w-full"}),b.jsx("button",{onClick:$,className:"p-1 text-green-400 hover:bg-green-400/20 rounded-full transition-colors",children:b.jsx(Ns,{size:18})}),b.jsx("button",{onClick:H,className:"p-1 text-red-400 hover:bg-red-400/20 rounded-full transition-colors",children:b.jsx(Wr,{size:18})})]}):b.jsxs("div",{className:"flex items-start gap-2 pr-8 mb-1.5",children:[b.jsx("h3",{className:"text-xl font-bold text-white line-clamp-2 group-hover:text-accent-primary transition-colors",children:N.title}),b.jsx("button",{onClick:j=>z(j,N),className:"opacity-0 group-hover:opacity-100 text-slate-400 hover:text-white p-1.5 rounded-full hover:bg-white/10 transition-all z-20",title:"Rename Board",children:b.jsx(VB,{size:14})})]}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[b.jsx(gm,{className:"w-3.5 h-3.5"}),N.createdAt?.toDate?N.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),b.jsx("div",{className:"mt-4",children:b.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-primary/10 text-accent-primary border border-accent-primary/20 group-hover:bg-accent-primary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},N.id)})]}),r.filter(N=>N.myRole!=="owner").length>0&&b.jsxs(b.Fragment,{children:[b.jsxs("h2",{className:"text-xl font-bold text-white mt-10 mb-6 flex items-center gap-2",children:[b.jsx("span",{className:"bg-gradient-to-r from-accent-secondary to-pink-500 bg-clip-text text-transparent",children:"Shared With Me"}),b.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",r.filter(N=>N.myRole!=="owner").length,")"]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.filter(N=>N.myRole!=="owner").map(N=>{const B=N.id==="2026"||!N.ownerId?`/board/legacy/${N.id}`:`/board/${N.id}`;return b.jsxs("div",{onClick:j=>{j.preventDefault(),console.log("Navigating to shared board:",B),n(B)},className:"pro-card group relative h-48 p-6 flex flex-col justify-between cursor-pointer overflow-hidden active:scale-[0.99] hover:bg-zinc-900",children:[b.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity pointer-events-none",children:b.jsx(Ib,{className:"w-24 h-24"})}),b.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:b.jsx("button",{onClick:j=>P(j,N.id,N.title),className:"p-2 text-slate-500 hover:text-amber-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Leave Board",children:b.jsx(Nb,{size:18})})}),b.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"h-7 mb-2",children:b.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${N.myRole==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:N.myRole==="editor"?" Editor":" Viewer"})}),b.jsx("h3",{className:"text-xl font-bold text-white mb-1 line-clamp-1 pr-8",children:N.title}),N.ownerName&&b.jsxs("div",{className:"text-xs text-slate-500 mb-1.5",children:["Shared by ",b.jsx("span",{className:"text-slate-400",children:N.ownerName})]}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[b.jsx(gm,{className:"w-3.5 h-3.5"}),N.createdAt?.toDate?N.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),b.jsx("div",{className:"mt-4",children:b.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-secondary/10 text-accent-secondary border border-accent-secondary/20 group-hover:bg-accent-secondary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},N.id)})})]})]}),h&&b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{m?g(null):d(!1)}}),b.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center shrink-0",children:[b.jsx("h2",{className:"text-xl font-bold text-white",children:m?ae[m].name:"Choose a Template"}),b.jsx("button",{onClick:()=>{m?g(null):d(!1)},className:"text-slate-400 hover:text-white",children:b.jsx(rh,{className:"w-6 h-6 rotate-45"})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:m?b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Grid Size"}),b.jsx("div",{className:"grid grid-cols-4 gap-2",children:re.map(({size:N,label:V,icon:B})=>b.jsxs("button",{onClick:()=>_(N),className:`p-3 rounded-xl border text-center transition-all ${v===N?"bg-accent-primary/20 border-accent-primary text-white":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10 hover:text-white"}`,children:[b.jsx("span",{className:"text-lg block",children:B}),b.jsx("span",{className:"font-bold text-sm",children:V}),b.jsxs("span",{className:"text-[10px] block opacity-70",children:[N*N," tiles"]})]},N))})]}),b.jsx("div",{className:"flex justify-center",children:b.jsx("div",{className:`aspect-square w-full max-w-[380px] grid gap-1.5 p-3 bg-slate-950/50 rounded-xl border border-white/10 ${v===3?"grid-cols-3":v===4?"grid-cols-4":v===5?"grid-cols-5":"grid-cols-6"}`,children:(()=>{const N=v*v,V=v%2===1?Math.floor(N/2):-1,B=ae[m].items.filter(j=>j.trim().toUpperCase()!=="FREE SPACE");return Array.from({length:N},(j,be)=>{const De=be===V&&v%2===1,te=be<V||V===-1?be:be-1,G=De?"FREE":B[te%B.length]||`Goal ${be+1}`;return b.jsx("div",{className:`
                                                                relative rounded-lg flex items-center justify-center p-1 text-center select-none overflow-hidden 
                                                                ${v<=4?"text-[9px] sm:text-[11px]":"text-[7px] sm:text-[9px]"}
                                                                leading-tight font-medium border shadow-sm
                                                                ${De?"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold":"bg-white/5 border-white/10 text-slate-300"}
                                                            `,children:b.jsx("span",{className:"line-clamp-2",children:G})},be)})})()})}),b.jsxs("div",{className:"flex gap-3 pt-4",children:[b.jsx("button",{onClick:()=>g(null),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Back"}),b.jsxs("button",{onClick:()=>D(m),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all",children:["Create ",v,"",v," Board"]})]})]}):b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(ae).map(([N,V])=>b.jsxs("button",{onClick:()=>g(N),className:"flex flex-col items-start p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent-primary/50 transition-all text-left group",children:[b.jsx("h3",{className:"font-bold text-white group-hover:text-accent-primary transition-colors",children:V.name}),b.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click to preview"})]},N))})})]})]})]})},iq=()=>{const{settings:t}=tp(),e=S.useRef(null),n=S.useRef(null),r=S.useRef([]),a=S.useMemo(()=>{switch(t.theme){case"midnight":return{type:"stars",particleCount:150,baseColor:"rgba(100, 150, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #0a1628 0%, #020617 50%, #000 100%)",shootingStars:!0};case"cosmic":return{type:"stars",particleCount:200,baseColor:"rgba(139, 92, 246, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1e1b4b 0%, #0f172a 40%, #020617 100%)",shootingStars:!0};case"forest":return{type:"leaves",particleCount:40,baseColor:"rgba(100, 200, 120, ",bgGradient:"radial-gradient(ellipse at 30% 80%, #0a3d1a 0%, #052e16 50%, #021a09 100%)",shootingStars:!1};case"ocean":return{type:"bubbles",particleCount:60,baseColor:"rgba(100, 220, 255, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #0c4a5e 0%, #083344 50%, #041825 100%)",shootingStars:!1};case"sunset":return{type:"embers",particleCount:50,baseColor:"rgba(255, 150, 80, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #4a1a00 0%, #2a0a0a 50%, #1a0505 100%)",shootingStars:!1};default:return{type:"aurora",particleCount:80,baseColor:"rgba(180, 120, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1a1040 0%, #0f111a 50%, #0a0b10 100%)",shootingStars:!1}}},[t.theme]);return S.useEffect(()=>{const l=e.current;if(!l)return;const c=()=>{const d=[];for(let m=0;m<a.particleCount;m++)d.push(rq(l.width,l.height,a.type));r.current=d},h=()=>{l.width=window.innerWidth,l.height=window.innerHeight,c()};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[a]),S.useEffect(()=>{if(t.enableAnimation===!1)return;const l=e.current;if(!l)return;const c=l.getContext("2d");if(!c)return;let h=0,d=null;const m=()=>{c.clearRect(0,0,l.width,l.height),r.current.forEach(g=>{sq(g,l.width,l.height,a.type),aq(c,g,a)}),a.shootingStars&&(h++,h>300&&Math.random()<.01&&(d={x:Math.random()*l.width,y:Math.random()*l.height*.5,length:80+Math.random()*40,speed:15+Math.random()*10,opacity:1},h=0),d&&(c.beginPath(),c.strokeStyle=`rgba(255, 255, 255, ${d.opacity})`,c.lineWidth=2,c.moveTo(d.x,d.y),c.lineTo(d.x-d.length,d.y-d.length*.3),c.stroke(),d.x+=d.speed,d.y+=d.speed*.3,d.opacity-=.02,d.opacity<=0&&(d=null))),n.current=requestAnimationFrame(m)};return m(),()=>{n.current&&cancelAnimationFrame(n.current)}},[t.enableAnimation,a]),b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-[-2] transition-all duration-1000",style:{background:a.bgGradient}}),b.jsx("canvas",{ref:e,className:"fixed inset-0 z-[-1] pointer-events-none",style:{opacity:t.enableAnimation===!1?0:.8}}),b.jsxs("div",{className:"fixed inset-0 z-[-1] pointer-events-none overflow-hidden",children:[b.jsx("div",{className:`absolute w-[600px] h-[600px] rounded-full blur-[120px] animate-float-slow ${t.theme==="midnight"?"bg-blue-500/10":t.theme==="cosmic"?"bg-violet-600/20":t.theme==="forest"?"bg-green-500/10":t.theme==="ocean"?"bg-cyan-500/10":t.theme==="sunset"?"bg-orange-500/10":"bg-purple-500/10"}`,style:{top:"-15%",left:"-10%"}}),b.jsx("div",{className:`absolute w-[500px] h-[500px] rounded-full blur-[100px] animate-float-slower ${t.theme==="midnight"?"bg-indigo-500/10":t.theme==="cosmic"?"bg-pink-600/20":t.theme==="forest"?"bg-emerald-500/10":t.theme==="ocean"?"bg-teal-500/10":t.theme==="sunset"?"bg-rose-500/10":"bg-pink-500/10"}`,style:{bottom:"-10%",right:"-5%"}})]})]})};function rq(t,e,n){const r={x:Math.random()*t,y:Math.random()*e,opacity:Math.random()*.5+.2};switch(n){case"stars":return{...r,size:Math.random()*2+.5,speedX:0,speedY:0,opacity:Math.random()*.8+.2};case"leaves":return{...r,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.8+.3,hue:Math.random()*40+80};case"bubbles":return{...r,size:Math.random()*8+2,speedX:Math.random()*.3-.15,speedY:-(Math.random()*.8+.3)};case"embers":return{...r,size:Math.random()*3+1,speedX:Math.random()*.4-.2,speedY:-(Math.random()*1+.5),hue:Math.random()*30+15};default:return{...r,size:Math.random()*4+1,speedX:Math.random()*.3-.15,speedY:Math.random()*.2-.1,hue:Math.random()*60+240}}}function sq(t,e,n,r){t.x+=t.speedX,t.y+=t.speedY,r==="stars"&&(t.opacity+=(Math.random()-.5)*.05,t.opacity=Math.max(.1,Math.min(1,t.opacity))),t.x<0&&(t.x=e),t.x>e&&(t.x=0),t.y<0&&(t.y=n),t.y>n&&(t.y=0)}function aq(t,e,n){switch(t.beginPath(),n.type){case"stars":t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill(),e.opacity>.7&&(t.beginPath(),t.fillStyle=`rgba(200, 220, 255, ${e.opacity*.3})`,t.arc(e.x,e.y,e.size*3,0,Math.PI*2),t.fill());break;case"leaves":t.fillStyle=`hsla(${e.hue}, 60%, 50%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.5,e.x*.01,0,Math.PI*2),t.fill();break;case"bubbles":t.strokeStyle=n.baseColor+`${e.opacity})`,t.lineWidth=1,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.stroke(),t.beginPath(),t.fillStyle=`rgba(255, 255, 255, ${e.opacity*.5})`,t.arc(e.x-e.size*.3,e.y-e.size*.3,e.size*.2,0,Math.PI*2),t.fill();break;case"embers":const r=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size);r.addColorStop(0,`hsla(${e.hue}, 100%, 70%, ${e.opacity})`),r.addColorStop(1,`hsla(${e.hue}, 100%, 50%, 0)`),t.fillStyle=r,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill();break;default:const a=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size*2);a.addColorStop(0,`hsla(${e.hue}, 80%, 60%, ${e.opacity})`),a.addColorStop(1,`hsla(${e.hue}, 80%, 60%, 0)`),t.fillStyle=a,t.arc(e.x,e.y,e.size*2,0,Math.PI*2),t.fill();break}}const Co=({number:t,title:e,text:n,imageSrc:r})=>b.jsxs("div",{className:"relative pl-8 border-l border-white/10 pb-8 last:pb-0 last:border-l-0",children:[b.jsx("div",{className:"absolute -left-4 top-0 w-8 h-8 rounded-full bg-slate-900 border border-accent-primary text-accent-primary font-bold flex items-center justify-center text-sm shadow-[0_0_10px_rgba(139,92,246,0.2)]",children:t}),b.jsxs("div",{className:"mb-2",children:[b.jsx("h4",{className:"text-lg font-bold text-white",children:e}),b.jsx("p",{className:"text-slate-400 text-sm mt-1",children:n})]}),r&&b.jsxs(tt.div,{whileHover:{scale:1.02},className:"mt-4 rounded-xl overflow-hidden border border-white/10 shadow-2xl bg-black/40 group relative",children:[b.jsx("img",{src:r,alt:e,className:"w-full h-auto object-cover opacity-80 group-hover:opacity-100 transition-opacity duration-500"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]})]}),oq=()=>{const t=ch();return b.jsx("div",{className:"min-h-screen bg-transparent text-white p-6 relative overflow-x-hidden pb-32",children:b.jsxs("div",{className:"max-w-5xl mx-auto",children:[b.jsxs(tt.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t("/dashboard"),className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors mb-8 group",children:[b.jsx(oB,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back to App"]}),b.jsxs("div",{className:"text-center mb-16",children:[b.jsx(tt.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-accent-primary to-accent-secondary mb-6 shadow-2xl shadow-accent-primary/20",children:b.jsx(pm,{size:40,className:"text-white"})}),b.jsxs(tt.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl sm:text-5xl font-extrabold mb-4",children:["How to Play ",b.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:"Bingo"})]}),b.jsx(tt.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-xl text-slate-400 max-w-2xl mx-auto",children:"A step-by-step guide to turning your 2026 goals into a social game."})]}),b.jsxs("div",{className:"grid gap-12",children:[b.jsxs(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl text-blue-400",children:b.jsx(rh,{size:32})}),b.jsx("h2",{className:"text-3xl font-bold",children:"1. Creating a Board"})]}),b.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 backdrop-blur-sm",children:[b.jsx(Co,{number:1,title:"Start from Dashboard",text:"Click the 'Create Board' button on your dashboard. You can choose to start fresh or use a template (like 'Self Care' or 'Travel').",imageSrc:"/assets/help/dashboard.png"}),b.jsx(Co,{number:2,title:"Customize Setup",text:"Give your board a name (e.g., '2026 Goals') and choose a Grid Size. 3x3 is great for quick games, while 5x5 is the classic challenge."}),b.jsx(Co,{number:3,title:"Fill Your Tiles",text:"The most fun part! Fill in each tile with a specific goal. You can drag to reorder or click 'Shuffle' to mix them up.",imageSrc:"/assets/help/grid.png"}),b.jsx(Co,{number:4,title:"Lock & Play",text:"When you're happy, click 'Go Live'. This locks the grid structure so you can start marking progress."})]})]}),b.jsxs(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"p-3 bg-green-500/20 rounded-xl text-green-400",children:b.jsx($B,{size:32})}),b.jsx("h2",{className:"text-3xl font-bold",children:"2. Playing & Tracking"})]}),b.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 backdrop-blur-sm",children:[b.jsx(Co,{number:1,title:"Tap to Interact",text:"Tap any tile on your board. If it's a '1-time' goal, you can complete it instantly. For multi-count goals (e.g., 'Read 5 Books'), you can add progress."}),b.jsx(Co,{number:2,title:"Add Photo Proof",text:"Don't just say you did itprove it! Upload photos directly to the tile. This is great for memories later.",imageSrc:"/assets/help/modal.png"}),b.jsx(Co,{number:3,title:"Win with Bingo!",text:"Complete a full row, column, or diagonal to get a BINGO! Watch out for the confetti celebration."})]})]}),b.jsxs(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"p-3 bg-purple-500/20 rounded-xl text-purple-400",children:b.jsx(t8,{size:32})}),b.jsx("h2",{className:"text-3xl font-bold",children:"3. Playing with Friends"})]}),b.jsx("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 backdrop-blur-sm",children:b.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[b.jsx(Mf,{size:20,className:"text-accent-secondary"}),"Shared Boards"]}),b.jsxs("p",{className:"text-slate-400 mb-4",children:["Invite friends to the ",b.jsx("strong",{children:"same board"}),". You all share the same grid but complete tiles individually (or together!)."]}),b.jsxs("ul",{className:"space-y-3",children:[b.jsxs("li",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2"}),b.jsx("span",{className:"text-sm text-slate-300",children:'Great for couples (e.g., "Our 2026 Bucket List")'})]}),b.jsxs("li",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2"}),b.jsx("span",{className:"text-sm text-slate-300",children:"Perfect for team challenges"})]})]})]}),b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[b.jsx(QB,{size:20,className:"text-accent-gold"}),"Competition Mode"]}),b.jsxs("p",{className:"text-slate-400 mb-4",children:["When playing on a shared board, the tile shows ",b.jsx("strong",{children:"who completed it first"}),"."]}),b.jsx("div",{className:"bg-black/40 rounded-xl p-4 border border-white/5",children:b.jsxs("div",{className:"text-center",children:[b.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Tile Status"}),b.jsx("div",{className:"mt-2 font-bold text-white",children:'"Run a Marathon"'}),b.jsx("div",{className:"text-xs text-accent-primary mt-1",children:"Completed by You"})]})})]})]})})]})]}),b.jsx("div",{className:"mt-16 text-center",children:b.jsx("button",{onClick:()=>t("/dashboard"),className:"px-8 py-4 bg-white text-bg-dark font-bold rounded-2xl text-lg hover:scale-105 transition-transform shadow-xl shadow-white/10",children:"Let's Get Started"})})]})})},Ky=({children:t})=>{const{logout:e,user:n}=Ko(),[r,a]=At.useState(!1),l=qs();At.useEffect(()=>{a(!1)},[l.pathname]);const c=[{label:"Dashboard",path:"/dashboard",icon:Ib},{label:"Settings",path:"/settings",icon:jI},{label:"Help & Guide",path:"/help",icon:VI}];return b.jsxs("div",{className:"min-h-screen bg-[var(--theme-bg-base)] text-slate-200 flex",children:[r&&b.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm",onClick:()=>a(!1)}),b.jsxs("aside",{className:xt("fixed inset-y-0 left-0 z-50 w-64 bg-[var(--theme-bg-subtle)] border-r border-[var(--theme-border)] transform transition-transform duration-200 lg:translate-x-0 lg:static flex flex-col",r?"translate-x-0":"-translate-x-full"),children:[b.jsx("div",{className:"h-16 flex items-center px-6 border-b border-[var(--theme-border)] shrink-0",children:b.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-8 w-auto"})}),b.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2 px-3",children:"Menu"}),c.map(h=>b.jsxs(fA,{to:h.path,className:({isActive:d})=>xt("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",d?"bg-[var(--theme-accent-primary)]/10 text-[var(--theme-accent-primary)]":"text-slate-400 hover:text-slate-100 hover:bg-white/5"),children:[b.jsx(h.icon,{size:18}),h.label]},h.path))]}),b.jsxs("div",{className:"p-4 border-t border-[var(--theme-border)] bg-[var(--theme-bg-subtle)] shrink-0",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[n?.photoURL?b.jsx("img",{src:n.photoURL,className:"w-8 h-8 rounded-full bg-slate-800 object-cover",alt:"User"}):b.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center",children:b.jsx(LI,{size:14,className:"text-slate-400"})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-sm font-medium text-white truncate",children:n?.displayName||"User"}),b.jsx("p",{className:"text-xs text-slate-500 truncate",children:n?.email})]})]}),b.jsxs("button",{onClick:e,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:[b.jsx(Nb,{size:16}),"Sign Out"]})]})]}),b.jsxs("main",{className:"flex-1 min-w-0 flex flex-col h-screen overflow-hidden bg-[var(--theme-bg-base)]",children:[b.jsxs("header",{className:"h-16 flex items-center justify-between px-4 lg:hidden border-b border-[var(--theme-border)] bg-[var(--theme-bg-subtle)] shrink-0",children:[b.jsx("button",{onClick:()=>a(!0),className:"p-2 text-slate-400",children:b.jsx(NB,{size:24})}),b.jsx("span",{className:"font-semibold text-white",children:"SunSar Bingo"}),b.jsx("div",{className:"w-8"})," "]}),b.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 sm:p-6 lg:p-8",children:b.jsx("div",{className:"max-w-7xl mx-auto h-full",children:t})})]})]})},lq=()=>{const{user:t,loading:e}=Ko();return e?b.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-bg-dark text-slate-500",children:"Initializing..."}):b.jsxs(b.Fragment,{children:[b.jsx(iq,{}),b.jsx(qM,{}),b.jsx(OM,{children:b.jsxs(uM,{children:[b.jsx(Ta,{path:"/login",element:t?b.jsx(Ol,{to:"/dashboard",replace:!0}):b.jsx(Z8,{})}),b.jsx(Ta,{path:"/help",element:b.jsx(oq,{})}),b.jsx(Ta,{path:"/dashboard",element:t?b.jsx(Ky,{children:b.jsx(nq,{})}):b.jsx(Ol,{to:"/login",replace:!0})}),b.jsx(Ta,{path:"/board/legacy/:yearId",element:t?b.jsx(Ky,{children:b.jsx(KS,{})}):b.jsx(Ol,{to:"/login",replace:!0})}),b.jsx(Ta,{path:"/board/:boardId",element:t?b.jsx(Ky,{children:b.jsx(KS,{})}):b.jsx(Ol,{to:"/login",replace:!0})}),b.jsx(Ta,{path:"/",element:b.jsx(Ol,{to:t?"/dashboard":"/login",replace:!0})}),b.jsx(Ta,{path:"*",element:b.jsx(Ol,{to:t?"/dashboard":"/login",replace:!0})})]})})]})};function cq(){return b.jsx(bL,{children:b.jsx(J8,{children:b.jsx(o8,{children:b.jsx(lq,{})})})})}console.log("Main.tsx full run");const YS=document.getElementById("root");YS?dk.createRoot(YS).render(b.jsx(S.StrictMode,{children:b.jsx(cq,{})})):console.error("Root not found");export{ja as C,os as F,Cm as _,Vn as a,bA as b,Lo as c,ur as d,Wm as e,l0 as g,qo as i,r0 as p,Qr as r,s0 as u};
