(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function dN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gg={exports:{}},Jc={};var aw;function fN(){if(aw)return Jc;aw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Jc.Fragment=e,Jc.jsx=n,Jc.jsxs=n,Jc}var ow;function mN(){return ow||(ow=1,gg.exports=fN()),gg.exports}var v=mN(),yg={exports:{}},je={};var lw;function pN(){if(lw)return je;lw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function C(T){return T===null||typeof T!="object"?null:(T=w&&T[w]||T["@@iterator"],typeof T=="function"?T:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function H(T,L,Q){this.props=T,this.context=L,this.refs=N,this.updater=Q||V}H.prototype.isReactComponent={},H.prototype.setState=function(T,L){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,L,"setState")},H.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function W(){}W.prototype=H.prototype;function Y(T,L,Q){this.props=T,this.context=L,this.refs=N,this.updater=Q||V}var me=Y.prototype=new W;me.constructor=Y,j(me,H.prototype),me.isPureReactComponent=!0;var ue=Array.isArray;function de(){}var k={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function M(T,L,Q){var ne=Q.ref;return{$$typeof:t,type:T,key:L,ref:ne!==void 0?ne:null,props:Q}}function z(T,L){return M(T.type,L,T.props)}function B(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function P(T){var L={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Q){return L[Q]})}var D=/\/+/g;function be(T,L){return typeof T=="object"&&T!==null&&T.key!=null?P(""+T.key):L.toString(36)}function xe(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(de,de):(T.status="pending",T.then(function(L){T.status==="pending"&&(T.status="fulfilled",T.value=L)},function(L){T.status==="pending"&&(T.status="rejected",T.reason=L)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function J(T,L,Q,ne,pe){var ge=typeof T;(ge==="undefined"||ge==="boolean")&&(T=null);var fe=!1;if(T===null)fe=!0;else switch(ge){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(T.$$typeof){case t:case e:fe=!0;break;case y:return fe=T._init,J(fe(T._payload),L,Q,ne,pe)}}if(fe)return pe=pe(T),fe=ne===""?"."+be(T,0):ne,ue(pe)?(Q="",fe!=null&&(Q=fe.replace(D,"$&/")+"/"),J(pe,L,Q,"",function(Ye){return Ye})):pe!=null&&(B(pe)&&(pe=z(pe,Q+(pe.key==null||T&&T.key===pe.key?"":(""+pe.key).replace(D,"$&/")+"/")+fe)),L.push(pe)),1;fe=0;var Ae=ne===""?".":ne+":";if(ue(T))for(var Re=0;Re<T.length;Re++)ne=T[Re],ge=Ae+be(ne,Re),fe+=J(ne,L,Q,ge,pe);else if(Re=C(T),typeof Re=="function")for(T=Re.call(T),Re=0;!(ne=T.next()).done;)ne=ne.value,ge=Ae+be(ne,Re++),fe+=J(ne,L,Q,ge,pe);else if(ge==="object"){if(typeof T.then=="function")return J(xe(T),L,Q,ne,pe);throw L=String(T),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return fe}function X(T,L,Q){if(T==null)return T;var ne=[],pe=0;return J(T,ne,"","",function(ge){return L.call(Q,ge,pe++)}),ne}function G(T){if(T._status===-1){var L=T._result;L=L(),L.then(function(Q){(T._status===0||T._status===-1)&&(T._status=1,T._result=Q)},function(Q){(T._status===0||T._status===-1)&&(T._status=2,T._result=Q)}),T._status===-1&&(T._status=0,T._result=L)}if(T._status===1)return T._result.default;throw T._result}var K=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},O={map:X,forEach:function(T,L,Q){X(T,function(){L.apply(this,arguments)},Q)},count:function(T){var L=0;return X(T,function(){L++}),L},toArray:function(T){return X(T,function(L){return L})||[]},only:function(T){if(!B(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return je.Activity=b,je.Children=O,je.Component=H,je.Fragment=n,je.Profiler=a,je.PureComponent=Y,je.StrictMode=s,je.Suspense=m,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,je.__COMPILER_RUNTIME={__proto__:null,c:function(T){return k.H.useMemoCache(T)}},je.cache=function(T){return function(){return T.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(T,L,Q){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ne=j({},T.props),pe=T.key;if(L!=null)for(ge in L.key!==void 0&&(pe=""+L.key),L)!S.call(L,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&L.ref===void 0||(ne[ge]=L[ge]);var ge=arguments.length-2;if(ge===1)ne.children=Q;else if(1<ge){for(var fe=Array(ge),Ae=0;Ae<ge;Ae++)fe[Ae]=arguments[Ae+2];ne.children=fe}return M(T.type,pe,ne)},je.createContext=function(T){return T={$$typeof:u,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:l,_context:T},T},je.createElement=function(T,L,Q){var ne,pe={},ge=null;if(L!=null)for(ne in L.key!==void 0&&(ge=""+L.key),L)S.call(L,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(pe[ne]=L[ne]);var fe=arguments.length-2;if(fe===1)pe.children=Q;else if(1<fe){for(var Ae=Array(fe),Re=0;Re<fe;Re++)Ae[Re]=arguments[Re+2];pe.children=Ae}if(T&&T.defaultProps)for(ne in fe=T.defaultProps,fe)pe[ne]===void 0&&(pe[ne]=fe[ne]);return M(T,ge,pe)},je.createRef=function(){return{current:null}},je.forwardRef=function(T){return{$$typeof:d,render:T}},je.isValidElement=B,je.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:G}},je.memo=function(T,L){return{$$typeof:p,type:T,compare:L===void 0?null:L}},je.startTransition=function(T){var L=k.T,Q={};k.T=Q;try{var ne=T(),pe=k.S;pe!==null&&pe(Q,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(de,K)}catch(ge){K(ge)}finally{L!==null&&Q.types!==null&&(L.types=Q.types),k.T=L}},je.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},je.use=function(T){return k.H.use(T)},je.useActionState=function(T,L,Q){return k.H.useActionState(T,L,Q)},je.useCallback=function(T,L){return k.H.useCallback(T,L)},je.useContext=function(T){return k.H.useContext(T)},je.useDebugValue=function(){},je.useDeferredValue=function(T,L){return k.H.useDeferredValue(T,L)},je.useEffect=function(T,L){return k.H.useEffect(T,L)},je.useEffectEvent=function(T){return k.H.useEffectEvent(T)},je.useId=function(){return k.H.useId()},je.useImperativeHandle=function(T,L,Q){return k.H.useImperativeHandle(T,L,Q)},je.useInsertionEffect=function(T,L){return k.H.useInsertionEffect(T,L)},je.useLayoutEffect=function(T,L){return k.H.useLayoutEffect(T,L)},je.useMemo=function(T,L){return k.H.useMemo(T,L)},je.useOptimistic=function(T,L){return k.H.useOptimistic(T,L)},je.useReducer=function(T,L,Q){return k.H.useReducer(T,L,Q)},je.useRef=function(T){return k.H.useRef(T)},je.useState=function(T){return k.H.useState(T)},je.useSyncExternalStore=function(T,L,Q){return k.H.useSyncExternalStore(T,L,Q)},je.useTransition=function(){return k.H.useTransition()},je.version="19.2.3",je}var cw;function s0(){return cw||(cw=1,yg.exports=pN()),yg.exports}var I=s0();const of=dN(I);var vg={exports:{}},eu={},bg={exports:{}},_g={};var uw;function gN(){return uw||(uw=1,(function(t){function e(J,X){var G=J.length;J.push(X);e:for(;0<G;){var K=G-1>>>1,O=J[K];if(0<a(O,X))J[K]=X,J[G]=O,G=K;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var X=J[0],G=J.pop();if(G!==X){J[0]=G;e:for(var K=0,O=J.length,T=O>>>1;K<T;){var L=2*(K+1)-1,Q=J[L],ne=L+1,pe=J[ne];if(0>a(Q,G))ne<O&&0>a(pe,Q)?(J[K]=pe,J[ne]=G,K=ne):(J[K]=Q,J[L]=G,K=L);else if(ne<O&&0>a(pe,G))J[K]=pe,J[ne]=G,K=ne;else break e}}return X}function a(J,X){var G=J.sortIndex-X.sortIndex;return G!==0?G:J.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var m=[],p=[],y=1,b=null,w=3,C=!1,V=!1,j=!1,N=!1,H=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function me(J){for(var X=n(p);X!==null;){if(X.callback===null)s(p);else if(X.startTime<=J)s(p),X.sortIndex=X.expirationTime,e(m,X);else break;X=n(p)}}function ue(J){if(j=!1,me(J),!V)if(n(m)!==null)V=!0,de||(de=!0,P());else{var X=n(p);X!==null&&xe(ue,X.startTime-J)}}var de=!1,k=-1,S=5,M=-1;function z(){return N?!0:!(t.unstable_now()-M<S)}function B(){if(N=!1,de){var J=t.unstable_now();M=J;var X=!0;try{e:{V=!1,j&&(j=!1,W(k),k=-1),C=!0;var G=w;try{t:{for(me(J),b=n(m);b!==null&&!(b.expirationTime>J&&z());){var K=b.callback;if(typeof K=="function"){b.callback=null,w=b.priorityLevel;var O=K(b.expirationTime<=J);if(J=t.unstable_now(),typeof O=="function"){b.callback=O,me(J),X=!0;break t}b===n(m)&&s(m),me(J)}else s(m);b=n(m)}if(b!==null)X=!0;else{var T=n(p);T!==null&&xe(ue,T.startTime-J),X=!1}}break e}finally{b=null,w=G,C=!1}X=void 0}}finally{X?P():de=!1}}}var P;if(typeof Y=="function")P=function(){Y(B)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,be=D.port2;D.port1.onmessage=B,P=function(){be.postMessage(null)}}else P=function(){H(B,0)};function xe(J,X){k=H(function(){J(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(J){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var G=w;w=X;try{return J()}finally{w=G}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(J,X){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var G=w;w=J;try{return X()}finally{w=G}},t.unstable_scheduleCallback=function(J,X,G){var K=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?K+G:K):G=K,J){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=G+O,J={id:y++,callback:X,priorityLevel:J,startTime:G,expirationTime:O,sortIndex:-1},G>K?(J.sortIndex=G,e(p,J),n(m)===null&&J===n(p)&&(j?(W(k),k=-1):j=!0,xe(ue,G-K))):(J.sortIndex=O,e(m,J),V||C||(V=!0,de||(de=!0,P()))),J},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(J){var X=w;return function(){var G=w;w=X;try{return J.apply(this,arguments)}finally{w=G}}}})(_g)),_g}var hw;function yN(){return hw||(hw=1,bg.exports=gN()),bg.exports}var xg={exports:{}},Pn={};var dw;function vN(){if(dw)return Pn;dw=1;var t=s0();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Pn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},Pn.flushSync=function(m){var p=u.T,y=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=p,s.p=y,s.d.f()}},Pn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Pn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Pn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,b=d(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:C}):y==="script"&&s.d.X(m,{crossOrigin:b,integrity:w,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Pn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Pn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=d(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Pn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Pn.requestFormReset=function(m){s.d.r(m)},Pn.unstable_batchedUpdates=function(m,p){return m(p)},Pn.useFormState=function(m,p,y){return u.H.useFormState(m,p,y)},Pn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Pn.version="19.2.3",Pn}var fw;function bN(){if(fw)return xg.exports;fw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xg.exports=vN(),xg.exports}var mw;function _N(){if(mw)return eu;mw=1;var t=yN(),e=s0(),n=bN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return m(f),i;if(g===c)return m(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=f,c=g;else{for(var x=!1,A=f.child;A;){if(A===o){x=!0,o=f,c=g;break}if(A===c){x=!0,c=f,o=g;break}A=A.sibling}if(!x){for(A=g.child;A;){if(A===o){x=!0,o=g,c=f;break}if(A===c){x=!0,c=g,o=f;break}A=A.sibling}if(!x)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function P(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function be(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case H:return"Profiler";case N:return"StrictMode";case ue:return"Suspense";case de:return"SuspenseList";case M:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case V:return"Portal";case Y:return i.displayName||"Context";case W:return(i._context.displayName||"Context")+".Consumer";case me:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return r=i.displayName||null,r!==null?r:be(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return be(i(r))}catch{}}return null}var xe=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},K=[],O=-1;function T(i){return{current:i}}function L(i){0>O||(i.current=K[O],K[O]=null,O--)}function Q(i,r){O++,K[O]=i.current,i.current=r}var ne=T(null),pe=T(null),ge=T(null),fe=T(null);function Ae(i,r){switch(Q(ge,r),Q(pe,i),Q(ne,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Ix(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Ix(r),i=Nx(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}L(ne),Q(ne,i)}function Re(){L(ne),L(pe),L(ge)}function Ye(i){i.memoizedState!==null&&Q(fe,i);var r=ne.current,o=Nx(r,i.type);r!==o&&(Q(pe,i),Q(ne,o))}function ze(i){pe.current===i&&(L(ne),L(pe)),fe.current===i&&(L(fe),Qc._currentValue=G)}var Ge,xt;function Ve(i){if(Ge===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ge=r&&r[1]||"",xt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ge+i+xt}var Mt=!1;function Vt(i,r){if(!i||Mt)return"";Mt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(re){var ie=re}Reflect.construct(i,[],le)}else{try{le.call()}catch(re){ie=re}i.call(le.prototype)}}else{try{throw Error()}catch(re){ie=re}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(re){if(re&&ie&&typeof re.stack=="string")return[re.stack,ie.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),x=g[0],A=g[1];if(x&&A){var U=x.split(`
`),te=A.split(`
`);for(f=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;f<te.length&&!te[f].includes("DetermineComponentFrameRoot");)f++;if(c===U.length||f===te.length)for(c=U.length-1,f=te.length-1;1<=c&&0<=f&&U[c]!==te[f];)f--;for(;1<=c&&0<=f;c--,f--)if(U[c]!==te[f]){if(c!==1||f!==1)do if(c--,f--,0>f||U[c]!==te[f]){var ae=`
`+U[c].replace(" at new "," at ");return i.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",i.displayName)),ae}while(1<=c&&0<=f);break}}}finally{Mt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ve(o):""}function Qt(i,r){switch(i.tag){case 26:case 27:case 5:return Ve(i.type);case 16:return Ve("Lazy");case 13:return i.child!==r&&r!==null?Ve("Suspense Fallback"):Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 15:return Vt(i.type,!1);case 11:return Vt(i.type.render,!1);case 1:return Vt(i.type,!0);case 31:return Ve("Activity");default:return""}}function ln(i){try{var r="",o=null;do r+=Qt(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ot=Object.prototype.hasOwnProperty,Be=t.unstable_scheduleCallback,Vn=t.unstable_cancelCallback,Rr=t.unstable_shouldYield,Ks=t.unstable_requestPaint,zt=t.unstable_now,oi=t.unstable_getCurrentPriorityLevel,Ei=t.unstable_ImmediatePriority,ys=t.unstable_UserBlockingPriority,Si=t.unstable_NormalPriority,Ys=t.unstable_LowPriority,xn=t.unstable_IdlePriority,vs=t.log,bs=t.unstable_setDisableYieldValue,Fn=null,cn=null;function wn(i){if(typeof vs=="function"&&bs(i),cn&&typeof cn.setStrictMode=="function")try{cn.setStrictMode(Fn,i)}catch{}}var Pt=Math.clz32?Math.clz32:Mo,Do=Math.log,Ir=Math.LN2;function Mo(i){return i>>>=0,i===0?32:31-(Do(i)/Ir|0)|0}var Tn=256,En=262144,vt=4194304;function pn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function li(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var f=0,g=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?f=pn(c):(x&=A,x!==0?f=pn(x):o||(o=A&~i,o!==0&&(f=pn(o))))):(A=c&~g,A!==0?f=pn(A):x!==0?f=pn(x):o||(o=c&~i,o!==0&&(f=pn(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function qn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function rc(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _s(){var i=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),i}function wt(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ci(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ui(i,r,o,c,f,g){var x=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,U=i.expirationTimes,te=i.hiddenUpdates;for(o=x&~o;0<o;){var ae=31-Pt(o),le=1<<ae;A[ae]=0,U[ae]=-1;var ie=te[ae];if(ie!==null)for(te[ae]=null,ae=0;ae<ie.length;ae++){var re=ie[ae];re!==null&&(re.lane&=-536870913)}o&=~le}c!==0&&Ai(i,c,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(x&~r))}function Ai(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Pt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Wi(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Pt(o),f=1<<c;f&r|i[c]&r&&(i[c]|=r),o&=~f}}function Xi(i,r){var o=r&-r;return o=(o&42)!==0?1:xs(o),(o&(i.suspendedLanes|r))!==0?0:o}function xs(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Zi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ja(){var i=X.p;return i!==0?i:(i=window.event,i===void 0?32:Jx(i.type))}function hi(i,r){var o=X.p;try{return X.p=i,r()}finally{X.p=o}}var Xn=Math.random().toString(36).slice(2),It="__reactFiber$"+Xn,Bt="__reactProps$"+Xn,Ci="__reactContainer$"+Xn,Nr="__reactEvents$"+Xn,ac="__reactListeners$"+Xn,La="__reactHandles$"+Xn,Vo="__reactResources$"+Xn,Ri="__reactMarker$"+Xn;function di(i){delete i[It],delete i[Bt],delete i[Nr],delete i[ac],delete i[La]}function Ji(i){var r=i[It];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ci]||o[It]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=jx(i);i!==null;){if(o=i[It])return o;i=jx(i)}return r}i=o,o=i.parentNode}return null}function Hn(i){if(i=i[It]||i[Ci]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Sn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ii(i){var r=i[Vo];return r||(r=i[Vo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function F(i){i[Ri]=!0}var Ie=new Set,Et={};function St(i,r){bt(i,r),bt(i+"Capture",r)}function bt(i,r){for(Et[i]=r,i=0;i<r.length;i++)Ie.add(r[i])}var Wt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),An={},Xt={};function Ni(i){return ot.call(Xt,i)?!0:ot.call(An,i)?!1:Wt.test(i)?Xt[i]=!0:(An[i]=!0,!1)}function kr(i,r,o){if(Ni(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function fi(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Zt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Dr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function oc(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(x){o=""+x,g.call(this,x)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function ht(i){if(!i._valueTracker){var r=Dr(i)?"checked":"value";i._valueTracker=oc(i,r,""+i[r])}}function Ua(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Dr(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function ws(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var za=/[\n"\\]/g;function Zn(i){return i.replace(za,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Po(i,r,o,c,f,g,x,A){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),r!=null?x==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+gn(r)):i.value!==""+gn(r)&&(i.value=""+gn(r)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),r!=null?lc(i,x,gn(r)):o!=null?lc(i,x,gn(o)):c!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+gn(A):i.removeAttribute("name")}function uh(i,r,o,c,f,g,x,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){ht(i);return}o=o!=null?""+gn(o):"",r=r!=null?""+gn(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x),ht(i)}function lc(i,r,o){r==="number"&&ws(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Mr(i,r,o,c){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&c&&(i[o].defaultSelected=!0)}else{for(o=""+gn(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,c&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function hh(i,r,o){if(r!=null&&(r=""+gn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+gn(o):""}function Vr(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(xe(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=gn(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),ht(i)}function Jn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var dh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cc(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||dh.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function uc(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&o[f]!==c&&cc(i,f,c)}else for(var g in r)r.hasOwnProperty(g)&&cc(i,g,r[g])}function Oo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jo(i){return Pr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function es(){}var hc=null;function ki(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Or=null,Ts=null;function Ba(i){var r=Hn(i);if(r&&(i=r.stateNode)){var o=i[Bt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Po(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Zn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var f=c[Bt]||null;if(!f)throw Error(s(90));Po(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&Ua(c)}break e;case"textarea":hh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Mr(i,!!o.multiple,r,!1)}}}var Lo=!1;function jr(i,r,o){if(Lo)return i(r,o);Lo=!0;try{var c=i(r);return c}finally{if(Lo=!1,(Or!==null||Ts!==null)&&(ad(),Or&&(r=Or,i=Ts,Ts=Or=null,Ba(r),i)))for(r=0;r<i.length;r++)Ba(i[r])}}function ts(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Bt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=!1;if(Di)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{Fa=!1}var Es=null,dc=null,qa=null;function fc(){if(qa)return qa;var i,r=dc,o=r.length,c,f="value"in Es?Es.value:Es.textContent,g=f.length;for(i=0;i<o&&r[i]===f[i];i++);var x=o-i;for(c=1;c<=x&&r[o-c]===f[g-c];c++);return qa=f.slice(i,1<c?1-c:void 0)}function Ha(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Qs(){return!0}function ns(){return!1}function Cn(i){function r(o,c,f,g,x){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Qs:ns,this.isPropagationStopped=ns,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),r}var Ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ss=Cn(Ws),Lr=b({},Ws,{view:0,detail:0}),mc=Cn(Lr),Ur,Uo,As,zo=b({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==As&&(As&&i.type==="mousemove"?(Ur=i.screenX-As.screenX,Uo=i.screenY-As.screenY):Uo=Ur=0,As=i),Ur)},movementY:function(i){return"movementY"in i?i.movementY:Uo}}),pc=Cn(zo),Ga=b({},zo,{dataTransfer:0}),mh=Cn(Ga),ph=b({},Lr,{relatedTarget:0}),$a=Cn(ph),gc=b({},Ws,{animationName:0,elapsedTime:0,pseudoElement:0}),gh=Cn(gc),Bo=b({},Ws,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),yh=Cn(Bo),vh=b({},Ws,{data:0}),Cs=Cn(vh),bh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_h={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=xh[i])?!!r[i]:!1}function zr(){return wh}var Gn=b({},Lr,{key:function(i){if(i.key){var r=bh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ha(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?_h[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(i){return i.type==="keypress"?Ha(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ha(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Th=Cn(Gn),Eh=b({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xs=Cn(Eh),h=b({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),_=Cn(h),E=b({},Ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Cn(E),Z=b({},zo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),se=Cn(Z),ye=b({},Ws,{newState:0,oldState:0}),Fe=Cn(ye),Gt=[9,13,27,32],lt=Di&&"CompositionEvent"in window,Nt=null;Di&&"documentMode"in document&&(Nt=document.documentMode);var Mi=Di&&"TextEvent"in window&&!Nt,Rs=Di&&(!lt||Nt&&8<Nt&&11>=Nt),is=" ",ss=!1;function Ka(i,r){switch(i){case"keyup":return Gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var qo=!1;function OR(i,r){switch(i){case"compositionend":return Fo(r);case"keypress":return r.which!==32?null:(ss=!0,is);case"textInput":return i=r.data,i===is&&ss?null:i;default:return null}}function jR(i,r){if(qo)return i==="compositionend"||!lt&&Ka(i,r)?(i=fc(),qa=dc=Es=null,qo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Rs&&r.locale!=="ko"?null:r.data;default:return null}}var LR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!LR[i.type]:r==="textarea"}function Bv(i,r,o,c){Or?Ts?Ts.push(c):Ts=[c]:Or=c,r=fd(r,"onChange"),0<r.length&&(o=new Ss("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var yc=null,vc=null;function UR(i){Tx(i,0)}function Sh(i){var r=Sn(i);if(Ua(r))return i}function Fv(i,r){if(i==="change")return r}var qv=!1;if(Di){var Tm;if(Di){var Em="oninput"in document;if(!Em){var Hv=document.createElement("div");Hv.setAttribute("oninput","return;"),Em=typeof Hv.oninput=="function"}Tm=Em}else Tm=!1;qv=Tm&&(!document.documentMode||9<document.documentMode)}function Gv(){yc&&(yc.detachEvent("onpropertychange",$v),vc=yc=null)}function $v(i){if(i.propertyName==="value"&&Sh(vc)){var r=[];Bv(r,vc,i,ki(i)),jr(UR,r)}}function zR(i,r,o){i==="focusin"?(Gv(),yc=r,vc=o,yc.attachEvent("onpropertychange",$v)):i==="focusout"&&Gv()}function BR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Sh(vc)}function FR(i,r){if(i==="click")return Sh(r)}function qR(i,r){if(i==="input"||i==="change")return Sh(r)}function HR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var mi=typeof Object.is=="function"?Object.is:HR;function bc(i,r){if(mi(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!ot.call(r,f)||!mi(i[f],r[f]))return!1}return!0}function Kv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Yv(i,r){var o=Kv(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Kv(o)}}function Qv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Qv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Wv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ws(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=ws(i.document)}return r}function Sm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var GR=Di&&"documentMode"in document&&11>=document.documentMode,Ho=null,Am=null,_c=null,Cm=!1;function Xv(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Cm||Ho==null||Ho!==ws(c)||(c=Ho,"selectionStart"in c&&Sm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),_c&&bc(_c,c)||(_c=c,c=fd(Am,"onSelect"),0<c.length&&(r=new Ss("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Ho)))}function Ya(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Go={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionrun:Ya("Transition","TransitionRun"),transitionstart:Ya("Transition","TransitionStart"),transitioncancel:Ya("Transition","TransitionCancel"),transitionend:Ya("Transition","TransitionEnd")},Rm={},Zv={};Di&&(Zv=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function Qa(i){if(Rm[i])return Rm[i];if(!Go[i])return i;var r=Go[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Zv)return Rm[i]=r[o];return i}var Jv=Qa("animationend"),eb=Qa("animationiteration"),tb=Qa("animationstart"),$R=Qa("transitionrun"),KR=Qa("transitionstart"),YR=Qa("transitioncancel"),nb=Qa("transitionend"),ib=new Map,Im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Im.push("scrollEnd");function rs(i,r){ib.set(i,r),St(r,[i])}var Ah=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Vi=[],$o=0,Nm=0;function Ch(){for(var i=$o,r=Nm=$o=0;r<i;){var o=Vi[r];Vi[r++]=null;var c=Vi[r];Vi[r++]=null;var f=Vi[r];Vi[r++]=null;var g=Vi[r];if(Vi[r++]=null,c!==null&&f!==null){var x=c.pending;x===null?f.next=f:(f.next=x.next,x.next=f),c.pending=f}g!==0&&sb(o,f,g)}}function Rh(i,r,o,c){Vi[$o++]=i,Vi[$o++]=r,Vi[$o++]=o,Vi[$o++]=c,Nm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function km(i,r,o,c){return Rh(i,r,o,c),Ih(i)}function Wa(i,r){return Rh(i,null,null,r),Ih(i)}function sb(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&r!==null&&(f=31-Pt(o),i=g.hiddenUpdates,c=i[f],c===null?i[f]=[r]:c.push(r),r.lane=o|536870912),g):null}function Ih(i){if(50<Fc)throw Fc=0,zp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Ko={};function QR(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(i,r,o,c){return new QR(i,r,o,c)}function Dm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zs(i,r){var o=i.alternate;return o===null?(o=pi(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function rb(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Nh(i,r,o,c,f,g){var x=0;if(c=i,typeof i=="function")Dm(i)&&(x=1);else if(typeof i=="string")x=eN(i,o,ne.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case M:return i=pi(31,o,r,f),i.elementType=M,i.lanes=g,i;case j:return Xa(o.children,f,g,r);case N:x=8,f|=24;break;case H:return i=pi(12,o,r,f|2),i.elementType=H,i.lanes=g,i;case ue:return i=pi(13,o,r,f),i.elementType=ue,i.lanes=g,i;case de:return i=pi(19,o,r,f),i.elementType=de,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:x=10;break e;case W:x=9;break e;case me:x=11;break e;case k:x=14;break e;case S:x=16,c=null;break e}x=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=pi(x,o,r,f),r.elementType=i,r.type=c,r.lanes=g,r}function Xa(i,r,o,c){return i=pi(7,i,c,r),i.lanes=o,i}function Mm(i,r,o){return i=pi(6,i,null,r),i.lanes=o,i}function ab(i){var r=pi(18,null,null,0);return r.stateNode=i,r}function Vm(i,r,o){return r=pi(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var ob=new WeakMap;function Pi(i,r){if(typeof i=="object"&&i!==null){var o=ob.get(i);return o!==void 0?o:(r={value:i,source:r,stack:ln(r)},ob.set(i,r),r)}return{value:i,source:r,stack:ln(r)}}var Yo=[],Qo=0,kh=null,xc=0,Oi=[],ji=0,Br=null,Is=1,Ns="";function Js(i,r){Yo[Qo++]=xc,Yo[Qo++]=kh,kh=i,xc=r}function lb(i,r,o){Oi[ji++]=Is,Oi[ji++]=Ns,Oi[ji++]=Br,Br=i;var c=Is;i=Ns;var f=32-Pt(c)-1;c&=~(1<<f),o+=1;var g=32-Pt(r)+f;if(30<g){var x=f-f%5;g=(c&(1<<x)-1).toString(32),c>>=x,f-=x,Is=1<<32-Pt(r)+f|o<<f|c,Ns=g+i}else Is=1<<g|o<<f|c,Ns=i}function Pm(i){i.return!==null&&(Js(i,1),lb(i,1,0))}function Om(i){for(;i===kh;)kh=Yo[--Qo],Yo[Qo]=null,xc=Yo[--Qo],Yo[Qo]=null;for(;i===Br;)Br=Oi[--ji],Oi[ji]=null,Ns=Oi[--ji],Oi[ji]=null,Is=Oi[--ji],Oi[ji]=null}function cb(i,r){Oi[ji++]=Is,Oi[ji++]=Ns,Oi[ji++]=Br,Is=r.id,Ns=r.overflow,Br=i}var Rn=null,At=null,it=!1,Fr=null,Li=!1,jm=Error(s(519));function qr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wc(Pi(r,i)),jm}function ub(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[It]=i,r[Bt]=c,o){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(o=0;o<Hc.length;o++)We(Hc[o],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":We("invalid",r),uh(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":We("invalid",r);break;case"textarea":We("invalid",r),Vr(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Cx(r.textContent,o)?(c.popover!=null&&(We("beforetoggle",r),We("toggle",r)),c.onScroll!=null&&We("scroll",r),c.onScrollEnd!=null&&We("scrollend",r),c.onClick!=null&&(r.onclick=es),r=!0):r=!1,r||qr(i,!0)}function hb(i){for(Rn=i.return;Rn;)switch(Rn.tag){case 5:case 31:case 13:Li=!1;return;case 27:case 3:Li=!0;return;default:Rn=Rn.return}}function Wo(i){if(i!==Rn)return!1;if(!it)return hb(i),it=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||tg(i.type,i.memoizedProps)),o=!o),o&&At&&qr(i),hb(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));At=Ox(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));At=Ox(i)}else r===27?(r=At,ia(i.type)?(i=ag,ag=null,At=i):At=r):At=Rn?zi(i.stateNode.nextSibling):null;return!0}function Za(){At=Rn=null,it=!1}function Lm(){var i=Fr;return i!==null&&(ii===null?ii=i:ii.push.apply(ii,i),Fr=null),i}function wc(i){Fr===null?Fr=[i]:Fr.push(i)}var Um=T(null),Ja=null,er=null;function Hr(i,r,o){Q(Um,r._currentValue),r._currentValue=o}function tr(i){i._currentValue=Um.current,L(Um)}function zm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function Bm(i,r,o,c){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var x=f.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=f;for(var U=0;U<r.length;U++)if(A.context===r[U]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),zm(g.return,o,i),c||(x=null);break e}g=A.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(s(341));x.lanes|=o,g=x.alternate,g!==null&&(g.lanes|=o),zm(x,o,i),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===i){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function Xo(i,r,o,c){i=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var A=f.type;mi(f.pendingProps.value,x.value)||(i!==null?i.push(A):i=[A])}}else if(f===fe.current){if(x=f.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Qc):i=[Qc])}f=f.return}i!==null&&Bm(r,i,o,c),r.flags|=262144}function Dh(i){for(i=i.firstContext;i!==null;){if(!mi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function eo(i){Ja=i,er=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function In(i){return db(Ja,i)}function Mh(i,r){return Ja===null&&eo(i),db(i,r)}function db(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},er===null){if(i===null)throw Error(s(308));er=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else er=er.next=r;return o}var WR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},XR=t.unstable_scheduleCallback,ZR=t.unstable_NormalPriority,Jt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fm(){return{controller:new WR,data:new Map,refCount:0}}function Tc(i){i.refCount--,i.refCount===0&&XR(ZR,function(){i.controller.abort()})}var Ec=null,qm=0,Zo=0,Jo=null;function JR(i,r){if(Ec===null){var o=Ec=[];qm=0,Zo=$p(),Jo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return qm++,r.then(fb,fb),r}function fb(){if(--qm===0&&Ec!==null){Jo!==null&&(Jo.status="fulfilled");var i=Ec;Ec=null,Zo=0,Jo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function eI(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var mb=J.S;J.S=function(i,r){X_=zt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&JR(i,r),mb!==null&&mb(i,r)};var to=T(null);function Hm(){var i=to.current;return i!==null?i:_t.pooledCache}function Vh(i,r){r===null?Q(to,to.current):Q(to,r.pool)}function pb(){var i=Hm();return i===null?null:{parent:Jt._currentValue,pool:i}}var el=Error(s(460)),Gm=Error(s(474)),Ph=Error(s(542)),Oh={then:function(){}};function gb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function yb(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(es,es),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,bb(i),i;default:if(typeof r.status=="string")r.then(es,es);else{if(i=_t,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,bb(i),i}throw io=r,el}}function no(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(io=o,el):o}}var io=null;function vb(){if(io===null)throw Error(s(459));var i=io;return io=null,i}function bb(i){if(i===el||i===Ph)throw Error(s(483))}var tl=null,Sc=0;function jh(i){var r=Sc;return Sc+=1,tl===null&&(tl=[]),yb(tl,i,r)}function Ac(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Lh(i,r){throw r.$$typeof===w?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function _b(i){function r($,q){if(i){var ee=$.deletions;ee===null?($.deletions=[q],$.flags|=16):ee.push(q)}}function o($,q){if(!i)return null;for(;q!==null;)r($,q),q=q.sibling;return null}function c($){for(var q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function f($,q){return $=Zs($,q),$.index=0,$.sibling=null,$}function g($,q,ee){return $.index=ee,i?(ee=$.alternate,ee!==null?(ee=ee.index,ee<q?($.flags|=67108866,q):ee):($.flags|=67108866,q)):($.flags|=1048576,q)}function x($){return i&&$.alternate===null&&($.flags|=67108866),$}function A($,q,ee,oe){return q===null||q.tag!==6?(q=Mm(ee,$.mode,oe),q.return=$,q):(q=f(q,ee),q.return=$,q)}function U($,q,ee,oe){var ke=ee.type;return ke===j?ae($,q,ee.props.children,oe,ee.key):q!==null&&(q.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===S&&no(ke)===q.type)?(q=f(q,ee.props),Ac(q,ee),q.return=$,q):(q=Nh(ee.type,ee.key,ee.props,null,$.mode,oe),Ac(q,ee),q.return=$,q)}function te($,q,ee,oe){return q===null||q.tag!==4||q.stateNode.containerInfo!==ee.containerInfo||q.stateNode.implementation!==ee.implementation?(q=Vm(ee,$.mode,oe),q.return=$,q):(q=f(q,ee.children||[]),q.return=$,q)}function ae($,q,ee,oe,ke){return q===null||q.tag!==7?(q=Xa(ee,$.mode,oe,ke),q.return=$,q):(q=f(q,ee),q.return=$,q)}function le($,q,ee){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Mm(""+q,$.mode,ee),q.return=$,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case C:return ee=Nh(q.type,q.key,q.props,null,$.mode,ee),Ac(ee,q),ee.return=$,ee;case V:return q=Vm(q,$.mode,ee),q.return=$,q;case S:return q=no(q),le($,q,ee)}if(xe(q)||P(q))return q=Xa(q,$.mode,ee,null),q.return=$,q;if(typeof q.then=="function")return le($,jh(q),ee);if(q.$$typeof===Y)return le($,Mh($,q),ee);Lh($,q)}return null}function ie($,q,ee,oe){var ke=q!==null?q.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ke!==null?null:A($,q,""+ee,oe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case C:return ee.key===ke?U($,q,ee,oe):null;case V:return ee.key===ke?te($,q,ee,oe):null;case S:return ee=no(ee),ie($,q,ee,oe)}if(xe(ee)||P(ee))return ke!==null?null:ae($,q,ee,oe,null);if(typeof ee.then=="function")return ie($,q,jh(ee),oe);if(ee.$$typeof===Y)return ie($,q,Mh($,ee),oe);Lh($,ee)}return null}function re($,q,ee,oe,ke){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return $=$.get(ee)||null,A(q,$,""+oe,ke);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case C:return $=$.get(oe.key===null?ee:oe.key)||null,U(q,$,oe,ke);case V:return $=$.get(oe.key===null?ee:oe.key)||null,te(q,$,oe,ke);case S:return oe=no(oe),re($,q,ee,oe,ke)}if(xe(oe)||P(oe))return $=$.get(ee)||null,ae(q,$,oe,ke,null);if(typeof oe.then=="function")return re($,q,ee,jh(oe),ke);if(oe.$$typeof===Y)return re($,q,ee,Mh(q,oe),ke);Lh(q,oe)}return null}function Te($,q,ee,oe){for(var ke=null,rt=null,Ce=q,He=q=0,Ze=null;Ce!==null&&He<ee.length;He++){Ce.index>He?(Ze=Ce,Ce=null):Ze=Ce.sibling;var at=ie($,Ce,ee[He],oe);if(at===null){Ce===null&&(Ce=Ze);break}i&&Ce&&at.alternate===null&&r($,Ce),q=g(at,q,He),rt===null?ke=at:rt.sibling=at,rt=at,Ce=Ze}if(He===ee.length)return o($,Ce),it&&Js($,He),ke;if(Ce===null){for(;He<ee.length;He++)Ce=le($,ee[He],oe),Ce!==null&&(q=g(Ce,q,He),rt===null?ke=Ce:rt.sibling=Ce,rt=Ce);return it&&Js($,He),ke}for(Ce=c(Ce);He<ee.length;He++)Ze=re(Ce,$,He,ee[He],oe),Ze!==null&&(i&&Ze.alternate!==null&&Ce.delete(Ze.key===null?He:Ze.key),q=g(Ze,q,He),rt===null?ke=Ze:rt.sibling=Ze,rt=Ze);return i&&Ce.forEach(function(la){return r($,la)}),it&&Js($,He),ke}function De($,q,ee,oe){if(ee==null)throw Error(s(151));for(var ke=null,rt=null,Ce=q,He=q=0,Ze=null,at=ee.next();Ce!==null&&!at.done;He++,at=ee.next()){Ce.index>He?(Ze=Ce,Ce=null):Ze=Ce.sibling;var la=ie($,Ce,at.value,oe);if(la===null){Ce===null&&(Ce=Ze);break}i&&Ce&&la.alternate===null&&r($,Ce),q=g(la,q,He),rt===null?ke=la:rt.sibling=la,rt=la,Ce=Ze}if(at.done)return o($,Ce),it&&Js($,He),ke;if(Ce===null){for(;!at.done;He++,at=ee.next())at=le($,at.value,oe),at!==null&&(q=g(at,q,He),rt===null?ke=at:rt.sibling=at,rt=at);return it&&Js($,He),ke}for(Ce=c(Ce);!at.done;He++,at=ee.next())at=re(Ce,$,He,at.value,oe),at!==null&&(i&&at.alternate!==null&&Ce.delete(at.key===null?He:at.key),q=g(at,q,He),rt===null?ke=at:rt.sibling=at,rt=at);return i&&Ce.forEach(function(hN){return r($,hN)}),it&&Js($,He),ke}function yt($,q,ee,oe){if(typeof ee=="object"&&ee!==null&&ee.type===j&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case C:e:{for(var ke=ee.key;q!==null;){if(q.key===ke){if(ke=ee.type,ke===j){if(q.tag===7){o($,q.sibling),oe=f(q,ee.props.children),oe.return=$,$=oe;break e}}else if(q.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===S&&no(ke)===q.type){o($,q.sibling),oe=f(q,ee.props),Ac(oe,ee),oe.return=$,$=oe;break e}o($,q);break}else r($,q);q=q.sibling}ee.type===j?(oe=Xa(ee.props.children,$.mode,oe,ee.key),oe.return=$,$=oe):(oe=Nh(ee.type,ee.key,ee.props,null,$.mode,oe),Ac(oe,ee),oe.return=$,$=oe)}return x($);case V:e:{for(ke=ee.key;q!==null;){if(q.key===ke)if(q.tag===4&&q.stateNode.containerInfo===ee.containerInfo&&q.stateNode.implementation===ee.implementation){o($,q.sibling),oe=f(q,ee.children||[]),oe.return=$,$=oe;break e}else{o($,q);break}else r($,q);q=q.sibling}oe=Vm(ee,$.mode,oe),oe.return=$,$=oe}return x($);case S:return ee=no(ee),yt($,q,ee,oe)}if(xe(ee))return Te($,q,ee,oe);if(P(ee)){if(ke=P(ee),typeof ke!="function")throw Error(s(150));return ee=ke.call(ee),De($,q,ee,oe)}if(typeof ee.then=="function")return yt($,q,jh(ee),oe);if(ee.$$typeof===Y)return yt($,q,Mh($,ee),oe);Lh($,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,q!==null&&q.tag===6?(o($,q.sibling),oe=f(q,ee),oe.return=$,$=oe):(o($,q),oe=Mm(ee,$.mode,oe),oe.return=$,$=oe),x($)):o($,q)}return function($,q,ee,oe){try{Sc=0;var ke=yt($,q,ee,oe);return tl=null,ke}catch(Ce){if(Ce===el||Ce===Ph)throw Ce;var rt=pi(29,Ce,null,$.mode);return rt.lanes=oe,rt.return=$,rt}}}var so=_b(!0),xb=_b(!1),Gr=!1;function $m(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Km(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function $r(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Kr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(ct&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=Ih(i),sb(i,null,o),r}return Rh(i,c,r,o),Ih(i)}function Cc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Wi(i,o)}}function Ym(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=x:g=g.next=x,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Qm=!1;function Rc(){if(Qm){var i=Jo;if(i!==null)throw i}}function Ic(i,r,o,c){Qm=!1;var f=i.updateQueue;Gr=!1;var g=f.firstBaseUpdate,x=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var U=A,te=U.next;U.next=null,x===null?g=te:x.next=te,x=U;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,A=ae.lastBaseUpdate,A!==x&&(A===null?ae.firstBaseUpdate=te:A.next=te,ae.lastBaseUpdate=U))}if(g!==null){var le=f.baseState;x=0,ae=te=U=null,A=g;do{var ie=A.lane&-536870913,re=ie!==A.lane;if(re?(Xe&ie)===ie:(c&ie)===ie){ie!==0&&ie===Zo&&(Qm=!0),ae!==null&&(ae=ae.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Te=i,De=A;ie=r;var yt=o;switch(De.tag){case 1:if(Te=De.payload,typeof Te=="function"){le=Te.call(yt,le,ie);break e}le=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=De.payload,ie=typeof Te=="function"?Te.call(yt,le,ie):Te,ie==null)break e;le=b({},le,ie);break e;case 2:Gr=!0}}ie=A.callback,ie!==null&&(i.flags|=64,re&&(i.flags|=8192),re=f.callbacks,re===null?f.callbacks=[ie]:re.push(ie))}else re={lane:ie,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ae===null?(te=ae=re,U=le):ae=ae.next=re,x|=ie;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;re=A,A=re.next,re.next=null,f.lastBaseUpdate=re,f.shared.pending=null}}while(!0);ae===null&&(U=le),f.baseState=U,f.firstBaseUpdate=te,f.lastBaseUpdate=ae,g===null&&(f.shared.lanes=0),Zr|=x,i.lanes=x,i.memoizedState=le}}function wb(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Tb(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)wb(o[i],r)}var nl=T(null),Uh=T(0);function Eb(i,r){i=ur,Q(Uh,i),Q(nl,r),ur=i|r.baseLanes}function Wm(){Q(Uh,ur),Q(nl,nl.current)}function Xm(){ur=Uh.current,L(nl),L(Uh)}var gi=T(null),Ui=null;function Yr(i){var r=i.alternate;Q($t,$t.current&1),Q(gi,i),Ui===null&&(r===null||nl.current!==null||r.memoizedState!==null)&&(Ui=i)}function Zm(i){Q($t,$t.current),Q(gi,i),Ui===null&&(Ui=i)}function Sb(i){i.tag===22?(Q($t,$t.current),Q(gi,i),Ui===null&&(Ui=i)):Qr()}function Qr(){Q($t,$t.current),Q(gi,gi.current)}function yi(i){L(gi),Ui===i&&(Ui=null),L($t)}var $t=T(0);function zh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||sg(o)||rg(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var nr=0,qe=null,pt=null,en=null,Bh=!1,il=!1,ro=!1,Fh=0,Nc=0,sl=null,tI=0;function Ft(){throw Error(s(321))}function Jm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!mi(i[o],r[o]))return!1;return!0}function ep(i,r,o,c,f,g){return nr=g,qe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=i===null||i.memoizedState===null?l_:pp,ro=!1,g=o(c,f),ro=!1,il&&(g=Cb(r,o,c,f)),Ab(i),g}function Ab(i){J.H=Mc;var r=pt!==null&&pt.next!==null;if(nr=0,en=pt=qe=null,Bh=!1,Nc=0,sl=null,r)throw Error(s(300));i===null||tn||(i=i.dependencies,i!==null&&Dh(i)&&(tn=!0))}function Cb(i,r,o,c){qe=i;var f=0;do{if(il&&(sl=null),Nc=0,il=!1,25<=f)throw Error(s(301));if(f+=1,en=pt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}J.H=c_,g=r(o,c)}while(il);return g}function nI(){var i=J.H,r=i.useState()[0];return r=typeof r.then=="function"?kc(r):r,i=i.useState()[0],(pt!==null?pt.memoizedState:null)!==i&&(qe.flags|=1024),r}function tp(){var i=Fh!==0;return Fh=0,i}function np(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function ip(i){if(Bh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Bh=!1}nr=0,en=pt=qe=null,il=!1,Nc=Fh=0,sl=null}function $n(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?qe.memoizedState=en=i:en=en.next=i,en}function Kt(){if(pt===null){var i=qe.alternate;i=i!==null?i.memoizedState:null}else i=pt.next;var r=en===null?qe.memoizedState:en.next;if(r!==null)en=r,pt=i;else{if(i===null)throw qe.alternate===null?Error(s(467)):Error(s(310));pt=i,i={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},en===null?qe.memoizedState=en=i:en=en.next=i}return en}function qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kc(i){var r=Nc;return Nc+=1,sl===null&&(sl=[]),i=yb(sl,i,r),r=qe,(en===null?r.memoizedState:en.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?l_:pp),i}function Hh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return kc(i);if(i.$$typeof===Y)return In(i)}throw Error(s(438,String(i)))}function sp(i){var r=null,o=qe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=qe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=qh(),qe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=z;return r.index++,o}function ir(i,r){return typeof r=="function"?r(i):r}function Gh(i){var r=Kt();return rp(r,pt,i)}function rp(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var f=i.baseQueue,g=c.pending;if(g!==null){if(f!==null){var x=f.next;f.next=g.next,g.next=x}r.baseQueue=f=g,c.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{r=f.next;var A=x=null,U=null,te=r,ae=!1;do{var le=te.lane&-536870913;if(le!==te.lane?(Xe&le)===le:(nr&le)===le){var ie=te.revertLane;if(ie===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),le===Zo&&(ae=!0);else if((nr&ie)===ie){te=te.next,ie===Zo&&(ae=!0);continue}else le={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},U===null?(A=U=le,x=g):U=U.next=le,qe.lanes|=ie,Zr|=ie;le=te.action,ro&&o(g,le),g=te.hasEagerState?te.eagerState:o(g,le)}else ie={lane:le,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},U===null?(A=U=ie,x=g):U=U.next=ie,qe.lanes|=le,Zr|=le;te=te.next}while(te!==null&&te!==r);if(U===null?x=g:U.next=A,!mi(g,i.memoizedState)&&(tn=!0,ae&&(o=Jo,o!==null)))throw o;i.memoizedState=g,i.baseState=x,i.baseQueue=U,c.lastRenderedState=g}return f===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function ap(i){var r=Kt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var x=f=f.next;do g=i(g,x.action),x=x.next;while(x!==f);mi(g,r.memoizedState)||(tn=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function Rb(i,r,o){var c=qe,f=Kt(),g=it;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var x=!mi((pt||f).memoizedState,o);if(x&&(f.memoizedState=o,tn=!0),f=f.queue,cp(kb.bind(null,c,f,i),[i]),f.getSnapshot!==r||x||en!==null&&en.memoizedState.tag&1){if(c.flags|=2048,rl(9,{destroy:void 0},Nb.bind(null,c,f,o,r),null),_t===null)throw Error(s(349));g||(nr&127)!==0||Ib(c,r,o)}return o}function Ib(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=qe.updateQueue,r===null?(r=qh(),qe.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Nb(i,r,o,c){r.value=o,r.getSnapshot=c,Db(r)&&Mb(i)}function kb(i,r,o){return o(function(){Db(r)&&Mb(i)})}function Db(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!mi(i,o)}catch{return!0}}function Mb(i){var r=Wa(i,2);r!==null&&si(r,i,2)}function op(i){var r=$n();if(typeof i=="function"){var o=i;if(i=o(),ro){wn(!0);try{o()}finally{wn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:i},r}function Vb(i,r,o,c){return i.baseState=o,rp(i,pt,typeof c=="function"?c:ir)}function iI(i,r,o,c,f){if(Yh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};J.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,Pb(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Pb(i,r){var o=r.action,c=r.payload,f=i.state;if(r.isTransition){var g=J.T,x={};J.T=x;try{var A=o(f,c),U=J.S;U!==null&&U(x,A),Ob(i,r,A)}catch(te){lp(i,r,te)}finally{g!==null&&x.types!==null&&(g.types=x.types),J.T=g}}else try{g=o(f,c),Ob(i,r,g)}catch(te){lp(i,r,te)}}function Ob(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){jb(i,r,c)},function(c){return lp(i,r,c)}):jb(i,r,o)}function jb(i,r,o){r.status="fulfilled",r.value=o,Lb(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Pb(i,o)))}function lp(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,Lb(r),r=r.next;while(r!==c)}i.action=null}function Lb(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Ub(i,r){return r}function zb(i,r){if(it){var o=_t.formState;if(o!==null){e:{var c=qe;if(it){if(At){t:{for(var f=At,g=Li;f.nodeType!==8;){if(!g){f=null;break t}if(f=zi(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){At=zi(f.nextSibling),c=f.data==="F!";break e}}qr(c)}c=!1}c&&(r=o[0])}}return o=$n(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ub,lastRenderedState:r},o.queue=c,o=r_.bind(null,qe,c),c.dispatch=o,c=op(!1),g=mp.bind(null,qe,!1,c.queue),c=$n(),f={state:r,dispatch:null,action:i,pending:null},c.queue=f,o=iI.bind(null,qe,f,g,o),f.dispatch=o,c.memoizedState=i,[r,o,!1]}function Bb(i){var r=Kt();return Fb(r,pt,i)}function Fb(i,r,o){if(r=rp(i,r,Ub)[0],i=Gh(ir)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=kc(r)}catch(x){throw x===el?Ph:x}else c=r;r=Kt();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(qe.flags|=2048,rl(9,{destroy:void 0},sI.bind(null,f,o),null)),[c,g,i]}function sI(i,r){i.action=r}function qb(i){var r=Kt(),o=pt;if(o!==null)return Fb(r,o,i);Kt(),r=r.memoizedState,o=Kt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function rl(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=qe.updateQueue,r===null&&(r=qh(),qe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function Hb(){return Kt().memoizedState}function $h(i,r,o,c){var f=$n();qe.flags|=i,f.memoizedState=rl(1|r,{destroy:void 0},o,c===void 0?null:c)}function Kh(i,r,o,c){var f=Kt();c=c===void 0?null:c;var g=f.memoizedState.inst;pt!==null&&c!==null&&Jm(c,pt.memoizedState.deps)?f.memoizedState=rl(r,g,o,c):(qe.flags|=i,f.memoizedState=rl(1|r,g,o,c))}function Gb(i,r){$h(8390656,8,i,r)}function cp(i,r){Kh(2048,8,i,r)}function rI(i){qe.flags|=4;var r=qe.updateQueue;if(r===null)r=qh(),qe.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function $b(i){var r=Kt().memoizedState;return rI({ref:r,nextImpl:i}),function(){if((ct&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Kb(i,r){return Kh(4,2,i,r)}function Yb(i,r){return Kh(4,4,i,r)}function Qb(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Wb(i,r,o){o=o!=null?o.concat([i]):null,Kh(4,4,Qb.bind(null,r,i),o)}function up(){}function Xb(i,r){var o=Kt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Jm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function Zb(i,r){var o=Kt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Jm(r,c[1]))return c[0];if(c=i(),ro){wn(!0);try{i()}finally{wn(!1)}}return o.memoizedState=[c,r],c}function hp(i,r,o){return o===void 0||(nr&1073741824)!==0&&(Xe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=J_(),qe.lanes|=i,Zr|=i,o)}function Jb(i,r,o,c){return mi(o,r)?o:nl.current!==null?(i=hp(i,o,c),mi(i,r)||(tn=!0),i):(nr&42)===0||(nr&1073741824)!==0&&(Xe&261930)===0?(tn=!0,i.memoizedState=o):(i=J_(),qe.lanes|=i,Zr|=i,r)}function e_(i,r,o,c,f){var g=X.p;X.p=g!==0&&8>g?g:8;var x=J.T,A={};J.T=A,mp(i,!1,r,o);try{var U=f(),te=J.S;if(te!==null&&te(A,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ae=eI(U,c);Dc(i,r,ae,_i(i))}else Dc(i,r,c,_i(i))}catch(le){Dc(i,r,{then:function(){},status:"rejected",reason:le},_i())}finally{X.p=g,x!==null&&A.types!==null&&(x.types=A.types),J.T=x}}function aI(){}function dp(i,r,o,c){if(i.tag!==5)throw Error(s(476));var f=t_(i).queue;e_(i,f,r,G,o===null?aI:function(){return n_(i),o(c)})}function t_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:G},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function n_(i){var r=t_(i);r.next===null&&(r=i.alternate.memoizedState),Dc(i,r.next.queue,{},_i())}function fp(){return In(Qc)}function i_(){return Kt().memoizedState}function s_(){return Kt().memoizedState}function oI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=_i();i=$r(o);var c=Kr(r,i,o);c!==null&&(si(c,r,o),Cc(c,r,o)),r={cache:Fm()},i.payload=r;return}r=r.return}}function lI(i,r,o){var c=_i();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yh(i)?a_(r,o):(o=km(i,r,o,c),o!==null&&(si(o,i,c),o_(o,r,c)))}function r_(i,r,o){var c=_i();Dc(i,r,o,c)}function Dc(i,r,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Yh(i))a_(r,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var x=r.lastRenderedState,A=g(x,o);if(f.hasEagerState=!0,f.eagerState=A,mi(A,x))return Rh(i,r,f,0),_t===null&&Ch(),!1}catch{}if(o=km(i,r,f,c),o!==null)return si(o,i,c),o_(o,r,c),!0}return!1}function mp(i,r,o,c){if(c={lane:2,revertLane:$p(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Yh(i)){if(r)throw Error(s(479))}else r=km(i,o,c,2),r!==null&&si(r,i,2)}function Yh(i){var r=i.alternate;return i===qe||r!==null&&r===qe}function a_(i,r){il=Bh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function o_(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Wi(i,o)}}var Mc={readContext:In,use:Hh,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};Mc.useEffectEvent=Ft;var l_={readContext:In,use:Hh,useCallback:function(i,r){return $n().memoizedState=[i,r===void 0?null:r],i},useContext:In,useEffect:Gb,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,$h(4194308,4,Qb.bind(null,r,i),o)},useLayoutEffect:function(i,r){return $h(4194308,4,i,r)},useInsertionEffect:function(i,r){$h(4,2,i,r)},useMemo:function(i,r){var o=$n();r=r===void 0?null:r;var c=i();if(ro){wn(!0);try{i()}finally{wn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=$n();if(o!==void 0){var f=o(r);if(ro){wn(!0);try{o(r)}finally{wn(!1)}}}else f=r;return c.memoizedState=c.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},c.queue=i,i=i.dispatch=lI.bind(null,qe,i),[c.memoizedState,i]},useRef:function(i){var r=$n();return i={current:i},r.memoizedState=i},useState:function(i){i=op(i);var r=i.queue,o=r_.bind(null,qe,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:up,useDeferredValue:function(i,r){var o=$n();return hp(o,i,r)},useTransition:function(){var i=op(!1);return i=e_.bind(null,qe,i.queue,!0,!1),$n().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=qe,f=$n();if(it){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),_t===null)throw Error(s(349));(Xe&127)!==0||Ib(c,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,Gb(kb.bind(null,c,g,i),[i]),c.flags|=2048,rl(9,{destroy:void 0},Nb.bind(null,c,g,o,r),null),o},useId:function(){var i=$n(),r=_t.identifierPrefix;if(it){var o=Ns,c=Is;o=(c&~(1<<32-Pt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Fh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=tI++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:fp,useFormState:zb,useActionState:zb,useOptimistic:function(i){var r=$n();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=mp.bind(null,qe,!0,o),o.dispatch=r,[i,r]},useMemoCache:sp,useCacheRefresh:function(){return $n().memoizedState=oI.bind(null,qe)},useEffectEvent:function(i){var r=$n(),o={impl:i};return r.memoizedState=o,function(){if((ct&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},pp={readContext:In,use:Hh,useCallback:Xb,useContext:In,useEffect:cp,useImperativeHandle:Wb,useInsertionEffect:Kb,useLayoutEffect:Yb,useMemo:Zb,useReducer:Gh,useRef:Hb,useState:function(){return Gh(ir)},useDebugValue:up,useDeferredValue:function(i,r){var o=Kt();return Jb(o,pt.memoizedState,i,r)},useTransition:function(){var i=Gh(ir)[0],r=Kt().memoizedState;return[typeof i=="boolean"?i:kc(i),r]},useSyncExternalStore:Rb,useId:i_,useHostTransitionStatus:fp,useFormState:Bb,useActionState:Bb,useOptimistic:function(i,r){var o=Kt();return Vb(o,pt,i,r)},useMemoCache:sp,useCacheRefresh:s_};pp.useEffectEvent=$b;var c_={readContext:In,use:Hh,useCallback:Xb,useContext:In,useEffect:cp,useImperativeHandle:Wb,useInsertionEffect:Kb,useLayoutEffect:Yb,useMemo:Zb,useReducer:ap,useRef:Hb,useState:function(){return ap(ir)},useDebugValue:up,useDeferredValue:function(i,r){var o=Kt();return pt===null?hp(o,i,r):Jb(o,pt.memoizedState,i,r)},useTransition:function(){var i=ap(ir)[0],r=Kt().memoizedState;return[typeof i=="boolean"?i:kc(i),r]},useSyncExternalStore:Rb,useId:i_,useHostTransitionStatus:fp,useFormState:qb,useActionState:qb,useOptimistic:function(i,r){var o=Kt();return pt!==null?Vb(o,pt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:sp,useCacheRefresh:s_};c_.useEffectEvent=$b;function gp(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:b({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var yp={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=_i(),f=$r(c);f.payload=r,o!=null&&(f.callback=o),r=Kr(i,f,c),r!==null&&(si(r,i,c),Cc(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=_i(),f=$r(c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Kr(i,f,c),r!==null&&(si(r,i,c),Cc(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=_i(),c=$r(o);c.tag=2,r!=null&&(c.callback=r),r=Kr(i,c,o),r!==null&&(si(r,i,o),Cc(r,i,o))}};function u_(i,r,o,c,f,g,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,x):r.prototype&&r.prototype.isPureReactComponent?!bc(o,c)||!bc(f,g):!0}function h_(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&yp.enqueueReplaceState(r,r.state,null)}function ao(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=b({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function d_(i){Ah(i)}function f_(i){console.error(i)}function m_(i){Ah(i)}function Qh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function p_(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function vp(i,r,o){return o=$r(o),o.tag=3,o.payload={element:null},o.callback=function(){Qh(i,r)},o}function g_(i){return i=$r(i),i.tag=3,i}function y_(i,r,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=c.value;i.payload=function(){return f(g)},i.callback=function(){p_(r,o,c)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){p_(r,o,c),typeof f!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function cI(i,r,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Xo(r,o,f,!0),o=gi.current,o!==null){switch(o.tag){case 31:case 13:return Ui===null?od():o.alternate===null&&qt===0&&(qt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===Oh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),qp(i,c,f)),!1;case 22:return o.flags|=65536,c===Oh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),qp(i,c,f)),!1}throw Error(s(435,o.tag))}return qp(i,c,f),od(),!1}if(it)return r=gi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==jm&&(i=Error(s(422),{cause:c}),wc(Pi(i,o)))):(c!==jm&&(r=Error(s(423),{cause:c}),wc(Pi(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,c=Pi(c,o),f=vp(i.stateNode,c,f),Ym(i,f),qt!==4&&(qt=2)),!1;var g=Error(s(520),{cause:c});if(g=Pi(g,o),Bc===null?Bc=[g]:Bc.push(g),qt!==4&&(qt=2),r===null)return!0;c=Pi(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=vp(o.stateNode,c,i),Ym(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Jr===null||!Jr.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=g_(f),y_(f,i,o,c),Ym(o,f),!1}o=o.return}while(o!==null);return!1}var bp=Error(s(461)),tn=!1;function Nn(i,r,o,c){r.child=i===null?xb(r,null,o,c):so(r,i.child,o,c)}function v_(i,r,o,c,f){o=o.render;var g=r.ref;if("ref"in c){var x={};for(var A in c)A!=="ref"&&(x[A]=c[A])}else x=c;return eo(r),c=ep(i,r,o,x,g,f),A=tp(),i!==null&&!tn?(np(i,r,f),sr(i,r,f)):(it&&A&&Pm(r),r.flags|=1,Nn(i,r,c,f),r.child)}function b_(i,r,o,c,f){if(i===null){var g=o.type;return typeof g=="function"&&!Dm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,__(i,r,g,c,f)):(i=Nh(o.type,null,c,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Cp(i,f)){var x=g.memoizedProps;if(o=o.compare,o=o!==null?o:bc,o(x,c)&&i.ref===r.ref)return sr(i,r,f)}return r.flags|=1,i=Zs(g,c),i.ref=r.ref,i.return=r,r.child=i}function __(i,r,o,c,f){if(i!==null){var g=i.memoizedProps;if(bc(g,c)&&i.ref===r.ref)if(tn=!1,r.pendingProps=c=g,Cp(i,f))(i.flags&131072)!==0&&(tn=!0);else return r.lanes=i.lanes,sr(i,r,f)}return _p(i,r,o,c,f)}function x_(i,r,o,c){var f=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~g}else c=0,r.child=null;return w_(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Vh(r,g!==null?g.cachePool:null),g!==null?Eb(r,g):Wm(),Sb(r);else return c=r.lanes=536870912,w_(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Vh(r,g.cachePool),Eb(r,g),Qr(),r.memoizedState=null):(i!==null&&Vh(r,null),Wm(),Qr());return Nn(i,r,f,o),r.child}function Vc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function w_(i,r,o,c,f){var g=Hm();return g=g===null?null:{parent:Jt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Vh(r,null),Wm(),Sb(r),i!==null&&Xo(i,r,c,!0),r.childLanes=f,null}function Wh(i,r){return r=Zh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function T_(i,r,o){return so(r,i.child,null,o),i=Wh(r,r.pendingProps),i.flags|=2,yi(r),r.memoizedState=null,i}function uI(i,r,o){var c=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(it){if(c.mode==="hidden")return i=Wh(r,c),r.lanes=536870912,Vc(null,i);if(Zm(r),(i=At)?(i=Px(i,Li),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Br!==null?{id:Is,overflow:Ns}:null,retryLane:536870912,hydrationErrors:null},o=ab(i),o.return=r,r.child=o,Rn=r,At=null)):i=null,i===null)throw qr(r);return r.lanes=536870912,null}return Wh(r,c)}var g=i.memoizedState;if(g!==null){var x=g.dehydrated;if(Zm(r),f)if(r.flags&256)r.flags&=-257,r=T_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(tn||Xo(i,r,o,!1),f=(o&i.childLanes)!==0,tn||f){if(c=_t,c!==null&&(x=Xi(c,o),x!==0&&x!==g.retryLane))throw g.retryLane=x,Wa(i,x),si(c,i,x),bp;od(),r=T_(i,r,o)}else i=g.treeContext,At=zi(x.nextSibling),Rn=r,it=!0,Fr=null,Li=!1,i!==null&&cb(r,i),r=Wh(r,c),r.flags|=4096;return r}return i=Zs(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Xh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function _p(i,r,o,c,f){return eo(r),o=ep(i,r,o,c,void 0,f),c=tp(),i!==null&&!tn?(np(i,r,f),sr(i,r,f)):(it&&c&&Pm(r),r.flags|=1,Nn(i,r,o,f),r.child)}function E_(i,r,o,c,f,g){return eo(r),r.updateQueue=null,o=Cb(r,c,o,f),Ab(i),c=tp(),i!==null&&!tn?(np(i,r,g),sr(i,r,g)):(it&&c&&Pm(r),r.flags|=1,Nn(i,r,o,g),r.child)}function S_(i,r,o,c,f){if(eo(r),r.stateNode===null){var g=Ko,x=o.contextType;typeof x=="object"&&x!==null&&(g=In(x)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=yp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},$m(r),x=o.contextType,g.context=typeof x=="object"&&x!==null?In(x):Ko,g.state=r.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(gp(r,o,x,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&yp.enqueueReplaceState(g,g.state,null),Ic(r,c,g,f),Rc(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var A=r.memoizedProps,U=ao(o,A);g.props=U;var te=g.context,ae=o.contextType;x=Ko,typeof ae=="object"&&ae!==null&&(x=In(ae));var le=o.getDerivedStateFromProps;ae=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ae||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||te!==x)&&h_(r,g,c,x),Gr=!1;var ie=r.memoizedState;g.state=ie,Ic(r,c,g,f),Rc(),te=r.memoizedState,A||ie!==te||Gr?(typeof le=="function"&&(gp(r,o,le,c),te=r.memoizedState),(U=Gr||u_(r,o,U,c,ie,te,x))?(ae||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=te),g.props=c,g.state=te,g.context=x,c=U):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Km(i,r),x=r.memoizedProps,ae=ao(o,x),g.props=ae,le=r.pendingProps,ie=g.context,te=o.contextType,U=Ko,typeof te=="object"&&te!==null&&(U=In(te)),A=o.getDerivedStateFromProps,(te=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==le||ie!==U)&&h_(r,g,c,U),Gr=!1,ie=r.memoizedState,g.state=ie,Ic(r,c,g,f),Rc();var re=r.memoizedState;x!==le||ie!==re||Gr||i!==null&&i.dependencies!==null&&Dh(i.dependencies)?(typeof A=="function"&&(gp(r,o,A,c),re=r.memoizedState),(ae=Gr||u_(r,o,ae,c,ie,re,U)||i!==null&&i.dependencies!==null&&Dh(i.dependencies))?(te||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,re,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,re,U)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===i.memoizedProps&&ie===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&ie===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=re),g.props=c,g.state=re,g.context=U,c=ae):(typeof g.componentDidUpdate!="function"||x===i.memoizedProps&&ie===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&ie===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,Xh(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=so(r,i.child,null,f),r.child=so(r,null,o,f)):Nn(i,r,o,f),r.memoizedState=g.state,i=r.child):i=sr(i,r,f),i}function A_(i,r,o,c){return Za(),r.flags|=256,Nn(i,r,o,c),r.child}var xp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wp(i){return{baseLanes:i,cachePool:pb()}}function Tp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=bi),i}function C_(i,r,o){var c=r.pendingProps,f=!1,g=(r.flags&128)!==0,x;if((x=g)||(x=i!==null&&i.memoizedState===null?!1:($t.current&2)!==0),x&&(f=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,i===null){if(it){if(f?Yr(r):Qr(),(i=At)?(i=Px(i,Li),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Br!==null?{id:Is,overflow:Ns}:null,retryLane:536870912,hydrationErrors:null},o=ab(i),o.return=r,r.child=o,Rn=r,At=null)):i=null,i===null)throw qr(r);return rg(i)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,f?(Qr(),f=r.mode,A=Zh({mode:"hidden",children:A},f),c=Xa(c,f,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=wp(o),c.childLanes=Tp(i,x,o),r.memoizedState=xp,Vc(null,c)):(Yr(r),Ep(r,A))}var U=i.memoizedState;if(U!==null&&(A=U.dehydrated,A!==null)){if(g)r.flags&256?(Yr(r),r.flags&=-257,r=Sp(i,r,o)):r.memoizedState!==null?(Qr(),r.child=i.child,r.flags|=128,r=null):(Qr(),A=c.fallback,f=r.mode,c=Zh({mode:"visible",children:c.children},f),A=Xa(A,f,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,so(r,i.child,null,o),c=r.child,c.memoizedState=wp(o),c.childLanes=Tp(i,x,o),r.memoizedState=xp,r=Vc(null,c));else if(Yr(r),rg(A)){if(x=A.nextSibling&&A.nextSibling.dataset,x)var te=x.dgst;x=te,c=Error(s(419)),c.stack="",c.digest=x,wc({value:c,source:null,stack:null}),r=Sp(i,r,o)}else if(tn||Xo(i,r,o,!1),x=(o&i.childLanes)!==0,tn||x){if(x=_t,x!==null&&(c=Xi(x,o),c!==0&&c!==U.retryLane))throw U.retryLane=c,Wa(i,c),si(x,i,c),bp;sg(A)||od(),r=Sp(i,r,o)}else sg(A)?(r.flags|=192,r.child=i.child,r=null):(i=U.treeContext,At=zi(A.nextSibling),Rn=r,it=!0,Fr=null,Li=!1,i!==null&&cb(r,i),r=Ep(r,c.children),r.flags|=4096);return r}return f?(Qr(),A=c.fallback,f=r.mode,U=i.child,te=U.sibling,c=Zs(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,te!==null?A=Zs(te,A):(A=Xa(A,f,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,Vc(null,c),c=r.child,A=i.child.memoizedState,A===null?A=wp(o):(f=A.cachePool,f!==null?(U=Jt._currentValue,f=f.parent!==U?{parent:U,pool:U}:f):f=pb(),A={baseLanes:A.baseLanes|o,cachePool:f}),c.memoizedState=A,c.childLanes=Tp(i,x,o),r.memoizedState=xp,Vc(i.child,c)):(Yr(r),o=i.child,i=o.sibling,o=Zs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(x=r.deletions,x===null?(r.deletions=[i],r.flags|=16):x.push(i)),r.child=o,r.memoizedState=null,o)}function Ep(i,r){return r=Zh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Zh(i,r){return i=pi(22,i,null,r),i.lanes=0,i}function Sp(i,r,o){return so(r,i.child,null,o),i=Ep(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function R_(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),zm(i.return,r,o)}function Ap(i,r,o,c,f,g){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:g}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=o,x.tailMode=f,x.treeForkCount=g)}function I_(i,r,o){var c=r.pendingProps,f=c.revealOrder,g=c.tail;c=c.children;var x=$t.current,A=(x&2)!==0;if(A?(x=x&1|2,r.flags|=128):x&=1,Q($t,x),Nn(i,r,c,o),c=it?xc:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&R_(i,o,r);else if(i.tag===19)R_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&zh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Ap(r,!1,f,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&zh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Ap(r,!0,o,null,g,c);break;case"together":Ap(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function sr(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Zr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Xo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Zs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Zs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Cp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Dh(i)))}function hI(i,r,o){switch(r.tag){case 3:Ae(r,r.stateNode.containerInfo),Hr(r,Jt,i.memoizedState.cache),Za();break;case 27:case 5:Ye(r);break;case 4:Ae(r,r.stateNode.containerInfo);break;case 10:Hr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Zm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Yr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?C_(i,r,o):(Yr(r),i=sr(i,r,o),i!==null?i.sibling:null);Yr(r);break;case 19:var f=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Xo(i,r,o,!1),c=(o&r.childLanes)!==0),f){if(c)return I_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Q($t,$t.current),c)break;return null;case 22:return r.lanes=0,x_(i,r,o,r.pendingProps);case 24:Hr(r,Jt,i.memoizedState.cache)}return sr(i,r,o)}function N_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)tn=!0;else{if(!Cp(i,o)&&(r.flags&128)===0)return tn=!1,hI(i,r,o);tn=(i.flags&131072)!==0}else tn=!1,it&&(r.flags&1048576)!==0&&lb(r,xc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=no(r.elementType),r.type=i,typeof i=="function")Dm(i)?(c=ao(i,c),r.tag=1,r=S_(null,r,i,c,o)):(r.tag=0,r=_p(null,r,i,c,o));else{if(i!=null){var f=i.$$typeof;if(f===me){r.tag=11,r=v_(null,r,i,c,o);break e}else if(f===k){r.tag=14,r=b_(null,r,i,c,o);break e}}throw r=be(i)||i,Error(s(306,r,""))}}return r;case 0:return _p(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,f=ao(c,r.pendingProps),S_(i,r,c,f,o);case 3:e:{if(Ae(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;f=g.element,Km(i,r),Ic(r,c,null,o);var x=r.memoizedState;if(c=x.cache,Hr(r,Jt,c),c!==g.cache&&Bm(r,[Jt],o,!0),Rc(),c=x.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=A_(i,r,c,o);break e}else if(c!==f){f=Pi(Error(s(424)),r),wc(f),r=A_(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,At=zi(i.firstChild),Rn=r,it=!0,Fr=null,Li=!0,o=xb(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Za(),c===f){r=sr(i,r,o);break e}Nn(i,r,c,o)}r=r.child}return r;case 26:return Xh(i,r),i===null?(o=Bx(r.type,null,r.pendingProps,null))?r.memoizedState=o:it||(o=r.type,i=r.pendingProps,c=md(ge.current).createElement(o),c[It]=r,c[Bt]=i,kn(c,o,i),F(c),r.stateNode=c):r.memoizedState=Bx(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ye(r),i===null&&it&&(c=r.stateNode=Lx(r.type,r.pendingProps,ge.current),Rn=r,Li=!0,f=At,ia(r.type)?(ag=f,At=zi(c.firstChild)):At=f),Nn(i,r,r.pendingProps.children,o),Xh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&it&&((f=c=At)&&(c=BI(c,r.type,r.pendingProps,Li),c!==null?(r.stateNode=c,Rn=r,At=zi(c.firstChild),Li=!1,f=!0):f=!1),f||qr(r)),Ye(r),f=r.type,g=r.pendingProps,x=i!==null?i.memoizedProps:null,c=g.children,tg(f,g)?c=null:x!==null&&tg(f,x)&&(r.flags|=32),r.memoizedState!==null&&(f=ep(i,r,nI,null,null,o),Qc._currentValue=f),Xh(i,r),Nn(i,r,c,o),r.child;case 6:return i===null&&it&&((i=o=At)&&(o=FI(o,r.pendingProps,Li),o!==null?(r.stateNode=o,Rn=r,At=null,i=!0):i=!1),i||qr(r)),null;case 13:return C_(i,r,o);case 4:return Ae(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=so(r,null,c,o):Nn(i,r,c,o),r.child;case 11:return v_(i,r,r.type,r.pendingProps,o);case 7:return Nn(i,r,r.pendingProps,o),r.child;case 8:return Nn(i,r,r.pendingProps.children,o),r.child;case 12:return Nn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Hr(r,r.type,c.value),Nn(i,r,c.children,o),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,eo(r),f=In(f),c=c(f),r.flags|=1,Nn(i,r,c,o),r.child;case 14:return b_(i,r,r.type,r.pendingProps,o);case 15:return __(i,r,r.type,r.pendingProps,o);case 19:return I_(i,r,o);case 31:return uI(i,r,o);case 22:return x_(i,r,o,r.pendingProps);case 24:return eo(r),c=In(Jt),i===null?(f=Hm(),f===null&&(f=_t,g=Fm(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:c,cache:f},$m(r),Hr(r,Jt,f)):((i.lanes&o)!==0&&(Km(i,r),Ic(r,null,null,o),Rc()),f=i.memoizedState,g=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Hr(r,Jt,c)):(c=g.cache,Hr(r,Jt,c),c!==f.cache&&Bm(r,[Jt],o,!0))),Nn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function rr(i){i.flags|=4}function Rp(i,r,o,c,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(ix())i.flags|=8192;else throw io=Oh,Gm}else i.flags&=-16777217}function k_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!$x(r))if(ix())i.flags|=8192;else throw io=Oh,Gm}function Jh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?_s():536870912,i.lanes|=r,cl|=r)}function Pc(i,r){if(!it)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Ct(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function dI(i,r,o){var c=r.pendingProps;switch(Om(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(r),null;case 1:return Ct(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),tr(Jt),Re(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Wo(r)?rr(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Lm())),Ct(r),null;case 26:var f=r.type,g=r.memoizedState;return i===null?(rr(r),g!==null?(Ct(r),k_(r,g)):(Ct(r),Rp(r,f,null,c,o))):g?g!==i.memoizedState?(rr(r),Ct(r),k_(r,g)):(Ct(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&rr(r),Ct(r),Rp(r,f,i,c,o)),null;case 27:if(ze(r),o=ge.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&rr(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return Ct(r),null}i=ne.current,Wo(r)?ub(r):(i=Lx(f,c,o),r.stateNode=i,rr(r))}return Ct(r),null;case 5:if(ze(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&rr(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return Ct(r),null}if(g=ne.current,Wo(r))ub(r);else{var x=md(ge.current);switch(g){case 1:g=x.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=x.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=x.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?x.createElement(f,{is:c.is}):x.createElement(f)}}g[It]=r,g[Bt]=c;e:for(x=r.child;x!==null;){if(x.tag===5||x.tag===6)g.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===r)break e;for(;x.sibling===null;){if(x.return===null||x.return===r)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}r.stateNode=g;e:switch(kn(g,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&rr(r)}}return Ct(r),Rp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&rr(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=ge.current,Wo(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,f=Rn,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}i[It]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Cx(i.nodeValue,o)),i||qr(r,!0)}else i=md(i).createTextNode(c),i[It]=r,r.stateNode=i}return Ct(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=Wo(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[It]=r}else Za(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ct(r),i=!1}else o=Lm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(yi(r),r):(yi(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Ct(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Wo(r),c!==null&&c.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[It]=r}else Za(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ct(r),f=!1}else f=Lm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(yi(r),r):(yi(r),null)}return yi(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Jh(r,r.updateQueue),Ct(r),null);case 4:return Re(),i===null&&Wp(r.stateNode.containerInfo),Ct(r),null;case 10:return tr(r.type),Ct(r),null;case 19:if(L($t),c=r.memoizedState,c===null)return Ct(r),null;if(f=(r.flags&128)!==0,g=c.rendering,g===null)if(f)Pc(c,!1);else{if(qt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=zh(i),g!==null){for(r.flags|=128,Pc(c,!1),i=g.updateQueue,r.updateQueue=i,Jh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)rb(o,i),o=o.sibling;return Q($t,$t.current&1|2),it&&Js(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&zt()>sd&&(r.flags|=128,f=!0,Pc(c,!1),r.lanes=4194304)}else{if(!f)if(i=zh(g),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,Jh(r,i),Pc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!it)return Ct(r),null}else 2*zt()-c.renderingStartTime>sd&&o!==536870912&&(r.flags|=128,f=!0,Pc(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=zt(),i.sibling=null,o=$t.current,Q($t,f?o&1|2:o&1),it&&Js(r,c.treeForkCount),i):(Ct(r),null);case 22:case 23:return yi(r),Xm(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(Ct(r),r.subtreeFlags&6&&(r.flags|=8192)):Ct(r),o=r.updateQueue,o!==null&&Jh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&L(to),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),tr(Jt),Ct(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function fI(i,r){switch(Om(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return tr(Jt),Re(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ze(r),null;case 31:if(r.memoizedState!==null){if(yi(r),r.alternate===null)throw Error(s(340));Za()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(yi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Za()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return L($t),null;case 4:return Re(),null;case 10:return tr(r.type),null;case 22:case 23:return yi(r),Xm(),i!==null&&L(to),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return tr(Jt),null;case 25:return null;default:return null}}function D_(i,r){switch(Om(r),r.tag){case 3:tr(Jt),Re();break;case 26:case 27:case 5:ze(r);break;case 4:Re();break;case 31:r.memoizedState!==null&&yi(r);break;case 13:yi(r);break;case 19:L($t);break;case 10:tr(r.type);break;case 22:case 23:yi(r),Xm(),i!==null&&L(to);break;case 24:tr(Jt)}}function Oc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&i)===i){c=void 0;var g=o.create,x=o.inst;c=g(),x.destroy=c}o=o.next}while(o!==f)}}catch(A){ft(r,r.return,A)}}function Wr(i,r,o){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var g=f.next;c=g;do{if((c.tag&i)===i){var x=c.inst,A=x.destroy;if(A!==void 0){x.destroy=void 0,f=r;var U=o,te=A;try{te()}catch(ae){ft(f,U,ae)}}}c=c.next}while(c!==g)}}catch(ae){ft(r,r.return,ae)}}function M_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Tb(r,o)}catch(c){ft(i,i.return,c)}}}function V_(i,r,o){o.props=ao(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){ft(i,r,c)}}function jc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(f){ft(i,r,f)}}function ks(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){ft(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ft(i,r,f)}else o.current=null}function P_(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){ft(i,i.return,f)}}function Ip(i,r,o){try{var c=i.stateNode;PI(c,i.type,o,r),c[Bt]=r}catch(f){ft(i,i.return,f)}}function O_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ia(i.type)||i.tag===4}function Np(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||O_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ia(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function kp(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=es));else if(c!==4&&(c===27&&ia(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(kp(i,r,o),i=i.sibling;i!==null;)kp(i,r,o),i=i.sibling}function ed(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&ia(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(ed(i,r,o),i=i.sibling;i!==null;)ed(i,r,o),i=i.sibling}function j_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);kn(r,c,o),r[It]=i,r[Bt]=o}catch(g){ft(i,i.return,g)}}var ar=!1,nn=!1,Dp=!1,L_=typeof WeakSet=="function"?WeakSet:Set,yn=null;function mI(i,r){if(i=i.containerInfo,Jp=xd,i=Wv(i),Sm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var x=0,A=-1,U=-1,te=0,ae=0,le=i,ie=null;t:for(;;){for(var re;le!==o||f!==0&&le.nodeType!==3||(A=x+f),le!==g||c!==0&&le.nodeType!==3||(U=x+c),le.nodeType===3&&(x+=le.nodeValue.length),(re=le.firstChild)!==null;)ie=le,le=re;for(;;){if(le===i)break t;if(ie===o&&++te===f&&(A=x),ie===g&&++ae===c&&(U=x),(re=le.nextSibling)!==null)break;le=ie,ie=le.parentNode}le=re}o=A===-1||U===-1?null:{start:A,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(eg={focusedElem:i,selectionRange:o},xd=!1,yn=r;yn!==null;)if(r=yn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,yn=i;else for(;yn!==null;){switch(r=yn,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Te=ao(o.type,f);i=c.getSnapshotBeforeUpdate(Te,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(De){ft(o,o.return,De)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)ig(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ig(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,yn=i;break}yn=r.return}}function U_(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:lr(i,o),c&4&&Oc(5,o);break;case 1:if(lr(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(x){ft(o,o.return,x)}else{var f=ao(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(x){ft(o,o.return,x)}}c&64&&M_(o),c&512&&jc(o,o.return);break;case 3:if(lr(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Tb(i,r)}catch(x){ft(o,o.return,x)}}break;case 27:r===null&&c&4&&j_(o);case 26:case 5:lr(i,o),r===null&&c&4&&P_(o),c&512&&jc(o,o.return);break;case 12:lr(i,o);break;case 31:lr(i,o),c&4&&F_(i,o);break;case 13:lr(i,o),c&4&&q_(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=TI.bind(null,o),qI(i,o))));break;case 22:if(c=o.memoizedState!==null||ar,!c){r=r!==null&&r.memoizedState!==null||nn,f=ar;var g=nn;ar=c,(nn=r)&&!g?cr(i,o,(o.subtreeFlags&8772)!==0):lr(i,o),ar=f,nn=g}break;case 30:break;default:lr(i,o)}}function z_(i){var r=i.alternate;r!==null&&(i.alternate=null,z_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&di(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var kt=null,ei=!1;function or(i,r,o){for(o=o.child;o!==null;)B_(i,r,o),o=o.sibling}function B_(i,r,o){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Fn,o)}catch{}switch(o.tag){case 26:nn||ks(o,r),or(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:nn||ks(o,r);var c=kt,f=ei;ia(o.type)&&(kt=o.stateNode,ei=!1),or(i,r,o),$c(o.stateNode),kt=c,ei=f;break;case 5:nn||ks(o,r);case 6:if(c=kt,f=ei,kt=null,or(i,r,o),kt=c,ei=f,kt!==null)if(ei)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(o.stateNode)}catch(g){ft(o,r,g)}else try{kt.removeChild(o.stateNode)}catch(g){ft(o,r,g)}break;case 18:kt!==null&&(ei?(i=kt,Mx(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),yl(i)):Mx(kt,o.stateNode));break;case 4:c=kt,f=ei,kt=o.stateNode.containerInfo,ei=!0,or(i,r,o),kt=c,ei=f;break;case 0:case 11:case 14:case 15:Wr(2,o,r),nn||Wr(4,o,r),or(i,r,o);break;case 1:nn||(ks(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&V_(o,r,c)),or(i,r,o);break;case 21:or(i,r,o);break;case 22:nn=(c=nn)||o.memoizedState!==null,or(i,r,o),nn=c;break;default:or(i,r,o)}}function F_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{yl(i)}catch(o){ft(r,r.return,o)}}}function q_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{yl(i)}catch(o){ft(r,r.return,o)}}function pI(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new L_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new L_),r;default:throw Error(s(435,i.tag))}}function td(i,r){var o=pI(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var f=EI.bind(null,i,c);c.then(f,f)}})}function ti(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],g=i,x=r,A=x;e:for(;A!==null;){switch(A.tag){case 27:if(ia(A.type)){kt=A.stateNode,ei=!1;break e}break;case 5:kt=A.stateNode,ei=!1;break e;case 3:case 4:kt=A.stateNode.containerInfo,ei=!0;break e}A=A.return}if(kt===null)throw Error(s(160));B_(g,x,f),kt=null,ei=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)H_(r,i),r=r.sibling}var as=null;function H_(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ti(r,i),ni(i),c&4&&(Wr(3,i,i.return),Oc(3,i),Wr(5,i,i.return));break;case 1:ti(r,i),ni(i),c&512&&(nn||o===null||ks(o,o.return)),c&64&&ar&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=as;if(ti(r,i),ni(i),c&512&&(nn||o===null||ks(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ri]||g[It]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(c),f.head.insertBefore(g,f.querySelector("head > title"))),kn(g,c,o),g[It]=i,F(g),c=g;break e;case"link":var x=Hx("link","href",f).get(c+(o.href||""));if(x){for(var A=0;A<x.length;A++)if(g=x[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(A,1);break t}}g=f.createElement(c),kn(g,c,o),f.head.appendChild(g);break;case"meta":if(x=Hx("meta","content",f).get(c+(o.content||""))){for(A=0;A<x.length;A++)if(g=x[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(A,1);break t}}g=f.createElement(c),kn(g,c,o),f.head.appendChild(g);break;default:throw Error(s(468,c))}g[It]=i,F(g),c=g}i.stateNode=c}else Gx(f,i.type,i.stateNode);else i.stateNode=qx(f,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Gx(f,i.type,i.stateNode):qx(f,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Ip(i,i.memoizedProps,o.memoizedProps)}break;case 27:ti(r,i),ni(i),c&512&&(nn||o===null||ks(o,o.return)),o!==null&&c&4&&Ip(i,i.memoizedProps,o.memoizedProps);break;case 5:if(ti(r,i),ni(i),c&512&&(nn||o===null||ks(o,o.return)),i.flags&32){f=i.stateNode;try{Jn(f,"")}catch(Te){ft(i,i.return,Te)}}c&4&&i.stateNode!=null&&(f=i.memoizedProps,Ip(i,f,o!==null?o.memoizedProps:f)),c&1024&&(Dp=!0);break;case 6:if(ti(r,i),ni(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(Te){ft(i,i.return,Te)}}break;case 3:if(yd=null,f=as,as=pd(r.containerInfo),ti(r,i),as=f,ni(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{yl(r.containerInfo)}catch(Te){ft(i,i.return,Te)}Dp&&(Dp=!1,G_(i));break;case 4:c=as,as=pd(i.stateNode.containerInfo),ti(r,i),ni(i),as=c;break;case 12:ti(r,i),ni(i);break;case 31:ti(r,i),ni(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,td(i,c)));break;case 13:ti(r,i),ni(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(id=zt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,td(i,c)));break;case 22:f=i.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,te=ar,ae=nn;if(ar=te||f,nn=ae||U,ti(r,i),nn=ae,ar=te,ni(i),c&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||U||ar||nn||oo(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){U=o=r;try{if(g=U.stateNode,f)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{A=U.stateNode;var le=U.memoizedProps.style,ie=le!=null&&le.hasOwnProperty("display")?le.display:null;A.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Te){ft(U,U.return,Te)}}}else if(r.tag===6){if(o===null){U=r;try{U.stateNode.nodeValue=f?"":U.memoizedProps}catch(Te){ft(U,U.return,Te)}}}else if(r.tag===18){if(o===null){U=r;try{var re=U.stateNode;f?Vx(re,!0):Vx(U.stateNode,!1)}catch(Te){ft(U,U.return,Te)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,td(i,o))));break;case 19:ti(r,i),ni(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,td(i,c)));break;case 30:break;case 21:break;default:ti(r,i),ni(i)}}function ni(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(O_(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=Np(i);ed(i,g,f);break;case 5:var x=o.stateNode;o.flags&32&&(Jn(x,""),o.flags&=-33);var A=Np(i);ed(i,A,x);break;case 3:case 4:var U=o.stateNode.containerInfo,te=Np(i);kp(i,te,U);break;default:throw Error(s(161))}}catch(ae){ft(i,i.return,ae)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function G_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;G_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function lr(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)U_(i,r.alternate,r),r=r.sibling}function oo(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Wr(4,r,r.return),oo(r);break;case 1:ks(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&V_(r,r.return,o),oo(r);break;case 27:$c(r.stateNode);case 26:case 5:ks(r,r.return),oo(r);break;case 22:r.memoizedState===null&&oo(r);break;case 30:oo(r);break;default:oo(r)}i=i.sibling}}function cr(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=i,g=r,x=g.flags;switch(g.tag){case 0:case 11:case 15:cr(f,g,o),Oc(4,g);break;case 1:if(cr(f,g,o),c=g,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(te){ft(c,c.return,te)}if(c=g,f=c.updateQueue,f!==null){var A=c.stateNode;try{var U=f.shared.hiddenCallbacks;if(U!==null)for(f.shared.hiddenCallbacks=null,f=0;f<U.length;f++)wb(U[f],A)}catch(te){ft(c,c.return,te)}}o&&x&64&&M_(g),jc(g,g.return);break;case 27:j_(g);case 26:case 5:cr(f,g,o),o&&c===null&&x&4&&P_(g),jc(g,g.return);break;case 12:cr(f,g,o);break;case 31:cr(f,g,o),o&&x&4&&F_(f,g);break;case 13:cr(f,g,o),o&&x&4&&q_(f,g);break;case 22:g.memoizedState===null&&cr(f,g,o),jc(g,g.return);break;case 30:break;default:cr(f,g,o)}r=r.sibling}}function Mp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Tc(o))}function Vp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Tc(i))}function os(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)$_(i,r,o,c),r=r.sibling}function $_(i,r,o,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:os(i,r,o,c),f&2048&&Oc(9,r);break;case 1:os(i,r,o,c);break;case 3:os(i,r,o,c),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Tc(i)));break;case 12:if(f&2048){os(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,x=g.id,A=g.onPostCommit;typeof A=="function"&&A(x,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(U){ft(r,r.return,U)}}else os(i,r,o,c);break;case 31:os(i,r,o,c);break;case 13:os(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,x=r.alternate,r.memoizedState!==null?g._visibility&2?os(i,r,o,c):Lc(i,r):g._visibility&2?os(i,r,o,c):(g._visibility|=2,al(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Mp(x,r);break;case 24:os(i,r,o,c),f&2048&&Vp(r.alternate,r);break;default:os(i,r,o,c)}}function al(i,r,o,c,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,x=r,A=o,U=c,te=x.flags;switch(x.tag){case 0:case 11:case 15:al(g,x,A,U,f),Oc(8,x);break;case 23:break;case 22:var ae=x.stateNode;x.memoizedState!==null?ae._visibility&2?al(g,x,A,U,f):Lc(g,x):(ae._visibility|=2,al(g,x,A,U,f)),f&&te&2048&&Mp(x.alternate,x);break;case 24:al(g,x,A,U,f),f&&te&2048&&Vp(x.alternate,x);break;default:al(g,x,A,U,f)}r=r.sibling}}function Lc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,f=c.flags;switch(c.tag){case 22:Lc(o,c),f&2048&&Mp(c.alternate,c);break;case 24:Lc(o,c),f&2048&&Vp(c.alternate,c);break;default:Lc(o,c)}r=r.sibling}}var Uc=8192;function ol(i,r,o){if(i.subtreeFlags&Uc)for(i=i.child;i!==null;)K_(i,r,o),i=i.sibling}function K_(i,r,o){switch(i.tag){case 26:ol(i,r,o),i.flags&Uc&&i.memoizedState!==null&&tN(o,as,i.memoizedState,i.memoizedProps);break;case 5:ol(i,r,o);break;case 3:case 4:var c=as;as=pd(i.stateNode.containerInfo),ol(i,r,o),as=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Uc,Uc=16777216,ol(i,r,o),Uc=c):ol(i,r,o));break;default:ol(i,r,o)}}function Y_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function zc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];yn=c,W_(c,i)}Y_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Q_(i),i=i.sibling}function Q_(i){switch(i.tag){case 0:case 11:case 15:zc(i),i.flags&2048&&Wr(9,i,i.return);break;case 3:zc(i);break;case 12:zc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,nd(i)):zc(i);break;default:zc(i)}}function nd(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];yn=c,W_(c,i)}Y_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Wr(8,r,r.return),nd(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,nd(r));break;default:nd(r)}i=i.sibling}}function W_(i,r){for(;yn!==null;){var o=yn;switch(o.tag){case 0:case 11:case 15:Wr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Tc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,yn=c;else e:for(o=i;yn!==null;){c=yn;var f=c.sibling,g=c.return;if(z_(c),c===o){yn=null;break e}if(f!==null){f.return=g,yn=f;break e}yn=g}}}var gI={getCacheForType:function(i){var r=In(Jt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return In(Jt).controller.signal}},yI=typeof WeakMap=="function"?WeakMap:Map,ct=0,_t=null,Qe=null,Xe=0,dt=0,vi=null,Xr=!1,ll=!1,Pp=!1,ur=0,qt=0,Zr=0,lo=0,Op=0,bi=0,cl=0,Bc=null,ii=null,jp=!1,id=0,X_=0,sd=1/0,rd=null,Jr=null,un=0,ea=null,ul=null,hr=0,Lp=0,Up=null,Z_=null,Fc=0,zp=null;function _i(){return(ct&2)!==0&&Xe!==0?Xe&-Xe:J.T!==null?$p():ja()}function J_(){if(bi===0)if((Xe&536870912)===0||it){var i=En;En<<=1,(En&3932160)===0&&(En=262144),bi=i}else bi=536870912;return i=gi.current,i!==null&&(i.flags|=32),bi}function si(i,r,o){(i===_t&&(dt===2||dt===9)||i.cancelPendingCommit!==null)&&(hl(i,0),ta(i,Xe,bi,!1)),ci(i,o),((ct&2)===0||i!==_t)&&(i===_t&&((ct&2)===0&&(lo|=o),qt===4&&ta(i,Xe,bi,!1)),Ds(i))}function ex(i,r,o){if((ct&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||qn(i,r),f=c?_I(i,r):Fp(i,r,!0),g=c;do{if(f===0){ll&&!c&&ta(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!vI(o)){f=Fp(i,r,!1),g=!1;continue}if(f===2){if(g=r,i.errorRecoveryDisabledLanes&g)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var A=i;f=Bc;var U=A.current.memoizedState.isDehydrated;if(U&&(hl(A,x).flags|=256),x=Fp(A,x,!1),x!==2){if(Pp&&!U){A.errorRecoveryDisabledLanes|=g,lo|=g,f=4;break e}g=ii,ii=f,g!==null&&(ii===null?ii=g:ii.push.apply(ii,g))}f=x}if(g=!1,f!==2)continue}}if(f===1){hl(i,0),ta(i,r,0,!0);break}e:{switch(c=i,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ta(c,r,bi,!Xr);break e;case 2:ii=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=id+300-zt(),10<f)){if(ta(c,r,bi,!Xr),li(c,0,!0)!==0)break e;hr=r,c.timeoutHandle=kx(tx.bind(null,c,o,ii,rd,jp,r,bi,lo,cl,Xr,g,"Throttled",-0,0),f);break e}tx(c,o,ii,rd,jp,r,bi,lo,cl,Xr,g,null,-0,0)}}break}while(!0);Ds(i)}function tx(i,r,o,c,f,g,x,A,U,te,ae,le,ie,re){if(i.timeoutHandle=-1,le=r.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:es},K_(r,g,le);var Te=(g&62914560)===g?id-zt():(g&4194048)===g?X_-zt():0;if(Te=nN(le,Te),Te!==null){hr=g,i.cancelPendingCommit=Te(cx.bind(null,i,r,g,o,c,f,x,A,U,ae,le,null,ie,re)),ta(i,g,x,!te);return}}cx(i,r,g,o,c,f,x,A,U)}function vI(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],g=f.getSnapshot;f=f.value;try{if(!mi(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ta(i,r,o,c){r&=~Op,r&=~lo,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var f=r;0<f;){var g=31-Pt(f),x=1<<g;c[g]=-1,f&=~x}o!==0&&Ai(i,o,r)}function ad(){return(ct&6)===0?(qc(0),!1):!0}function Bp(){if(Qe!==null){if(dt===0)var i=Qe.return;else i=Qe,er=Ja=null,ip(i),tl=null,Sc=0,i=Qe;for(;i!==null;)D_(i.alternate,i),i=i.return;Qe=null}}function hl(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,LI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),hr=0,Bp(),_t=i,Qe=o=Zs(i.current,null),Xe=r,dt=0,vi=null,Xr=!1,ll=qn(i,r),Pp=!1,cl=bi=Op=lo=Zr=qt=0,ii=Bc=null,jp=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var f=31-Pt(c),g=1<<f;r|=i[f],c&=~g}return ur=r,Ch(),o}function nx(i,r){qe=null,J.H=Mc,r===el||r===Ph?(r=vb(),dt=3):r===Gm?(r=vb(),dt=4):dt=r===bp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vi=r,Qe===null&&(qt=1,Qh(i,Pi(r,i.current)))}function ix(){var i=gi.current;return i===null?!0:(Xe&4194048)===Xe?Ui===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?i===Ui:!1}function sx(){var i=J.H;return J.H=Mc,i===null?Mc:i}function rx(){var i=J.A;return J.A=gI,i}function od(){qt=4,Xr||(Xe&4194048)!==Xe&&gi.current!==null||(ll=!0),(Zr&134217727)===0&&(lo&134217727)===0||_t===null||ta(_t,Xe,bi,!1)}function Fp(i,r,o){var c=ct;ct|=2;var f=sx(),g=rx();(_t!==i||Xe!==r)&&(rd=null,hl(i,r)),r=!1;var x=qt;e:do try{if(dt!==0&&Qe!==null){var A=Qe,U=vi;switch(dt){case 8:Bp(),x=6;break e;case 3:case 2:case 9:case 6:gi.current===null&&(r=!0);var te=dt;if(dt=0,vi=null,dl(i,A,U,te),o&&ll){x=0;break e}break;default:te=dt,dt=0,vi=null,dl(i,A,U,te)}}bI(),x=qt;break}catch(ae){nx(i,ae)}while(!0);return r&&i.shellSuspendCounter++,er=Ja=null,ct=c,J.H=f,J.A=g,Qe===null&&(_t=null,Xe=0,Ch()),x}function bI(){for(;Qe!==null;)ax(Qe)}function _I(i,r){var o=ct;ct|=2;var c=sx(),f=rx();_t!==i||Xe!==r?(rd=null,sd=zt()+500,hl(i,r)):ll=qn(i,r);e:do try{if(dt!==0&&Qe!==null){r=Qe;var g=vi;t:switch(dt){case 1:dt=0,vi=null,dl(i,r,g,1);break;case 2:case 9:if(gb(g)){dt=0,vi=null,ox(r);break}r=function(){dt!==2&&dt!==9||_t!==i||(dt=7),Ds(i)},g.then(r,r);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:gb(g)?(dt=0,vi=null,ox(r)):(dt=0,vi=null,dl(i,r,g,7));break;case 5:var x=null;switch(Qe.tag){case 26:x=Qe.memoizedState;case 5:case 27:var A=Qe;if(x?$x(x):A.stateNode.complete){dt=0,vi=null;var U=A.sibling;if(U!==null)Qe=U;else{var te=A.return;te!==null?(Qe=te,ld(te)):Qe=null}break t}}dt=0,vi=null,dl(i,r,g,5);break;case 6:dt=0,vi=null,dl(i,r,g,6);break;case 8:Bp(),qt=6;break e;default:throw Error(s(462))}}xI();break}catch(ae){nx(i,ae)}while(!0);return er=Ja=null,J.H=c,J.A=f,ct=o,Qe!==null?0:(_t=null,Xe=0,Ch(),qt)}function xI(){for(;Qe!==null&&!Rr();)ax(Qe)}function ax(i){var r=N_(i.alternate,i,ur);i.memoizedProps=i.pendingProps,r===null?ld(i):Qe=r}function ox(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=E_(o,r,r.pendingProps,r.type,void 0,Xe);break;case 11:r=E_(o,r,r.pendingProps,r.type.render,r.ref,Xe);break;case 5:ip(r);default:D_(o,r),r=Qe=rb(r,ur),r=N_(o,r,ur)}i.memoizedProps=i.pendingProps,r===null?ld(i):Qe=r}function dl(i,r,o,c){er=Ja=null,ip(r),tl=null,Sc=0;var f=r.return;try{if(cI(i,f,r,o,Xe)){qt=1,Qh(i,Pi(o,i.current)),Qe=null;return}}catch(g){if(f!==null)throw Qe=f,g;qt=1,Qh(i,Pi(o,i.current)),Qe=null;return}r.flags&32768?(it||c===1?i=!0:ll||(Xe&536870912)!==0?i=!1:(Xr=i=!0,(c===2||c===9||c===3||c===6)&&(c=gi.current,c!==null&&c.tag===13&&(c.flags|=16384))),lx(r,i)):ld(r)}function ld(i){var r=i;do{if((r.flags&32768)!==0){lx(r,Xr);return}i=r.return;var o=dI(r.alternate,r,ur);if(o!==null){Qe=o;return}if(r=r.sibling,r!==null){Qe=r;return}Qe=r=i}while(r!==null);qt===0&&(qt=5)}function lx(i,r){do{var o=fI(i.alternate,i);if(o!==null){o.flags&=32767,Qe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Qe=i;return}Qe=i=o}while(i!==null);qt=6,Qe=null}function cx(i,r,o,c,f,g,x,A,U){i.cancelPendingCommit=null;do cd();while(un!==0);if((ct&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Nm,ui(i,o,g,x,A,U),i===_t&&(Qe=_t=null,Xe=0),ul=r,ea=i,hr=o,Lp=g,Up=f,Z_=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,SI(Si,function(){return mx(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,f=X.p,X.p=2,x=ct,ct|=4;try{mI(i,r,o)}finally{ct=x,X.p=f,J.T=c}}un=1,ux(),hx(),dx()}}function ux(){if(un===1){un=0;var i=ea,r=ul,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var c=X.p;X.p=2;var f=ct;ct|=4;try{H_(r,i);var g=eg,x=Wv(i.containerInfo),A=g.focusedElem,U=g.selectionRange;if(x!==A&&A&&A.ownerDocument&&Qv(A.ownerDocument.documentElement,A)){if(U!==null&&Sm(A)){var te=U.start,ae=U.end;if(ae===void 0&&(ae=te),"selectionStart"in A)A.selectionStart=te,A.selectionEnd=Math.min(ae,A.value.length);else{var le=A.ownerDocument||document,ie=le&&le.defaultView||window;if(ie.getSelection){var re=ie.getSelection(),Te=A.textContent.length,De=Math.min(U.start,Te),yt=U.end===void 0?De:Math.min(U.end,Te);!re.extend&&De>yt&&(x=yt,yt=De,De=x);var $=Yv(A,De),q=Yv(A,yt);if($&&q&&(re.rangeCount!==1||re.anchorNode!==$.node||re.anchorOffset!==$.offset||re.focusNode!==q.node||re.focusOffset!==q.offset)){var ee=le.createRange();ee.setStart($.node,$.offset),re.removeAllRanges(),De>yt?(re.addRange(ee),re.extend(q.node,q.offset)):(ee.setEnd(q.node,q.offset),re.addRange(ee))}}}}for(le=[],re=A;re=re.parentNode;)re.nodeType===1&&le.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<le.length;A++){var oe=le[A];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}xd=!!Jp,eg=Jp=null}finally{ct=f,X.p=c,J.T=o}}i.current=r,un=2}}function hx(){if(un===2){un=0;var i=ea,r=ul,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var c=X.p;X.p=2;var f=ct;ct|=4;try{U_(i,r.alternate,r)}finally{ct=f,X.p=c,J.T=o}}un=3}}function dx(){if(un===4||un===3){un=0,Ks();var i=ea,r=ul,o=hr,c=Z_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?un=5:(un=0,ul=ea=null,fx(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Jr=null),Zi(o),r=r.stateNode,cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Fn,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=J.T,f=X.p,X.p=2,J.T=null;try{for(var g=i.onRecoverableError,x=0;x<c.length;x++){var A=c[x];g(A.value,{componentStack:A.stack})}}finally{J.T=r,X.p=f}}(hr&3)!==0&&cd(),Ds(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===zp?Fc++:(Fc=0,zp=i):Fc=0,qc(0)}}function fx(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Tc(r)))}function cd(){return ux(),hx(),dx(),mx()}function mx(){if(un!==5)return!1;var i=ea,r=Lp;Lp=0;var o=Zi(hr),c=J.T,f=X.p;try{X.p=32>o?32:o,J.T=null,o=Up,Up=null;var g=ea,x=hr;if(un=0,ul=ea=null,hr=0,(ct&6)!==0)throw Error(s(331));var A=ct;if(ct|=4,Q_(g.current),$_(g,g.current,x,o),ct=A,qc(0,!1),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Fn,g)}catch{}return!0}finally{X.p=f,J.T=c,fx(i,r)}}function px(i,r,o){r=Pi(o,r),r=vp(i.stateNode,r,2),i=Kr(i,r,2),i!==null&&(ci(i,2),Ds(i))}function ft(i,r,o){if(i.tag===3)px(i,i,o);else for(;r!==null;){if(r.tag===3){px(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Jr===null||!Jr.has(c))){i=Pi(o,i),o=g_(2),c=Kr(r,o,2),c!==null&&(y_(o,c,r,i),ci(c,2),Ds(c));break}}r=r.return}}function qp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new yI;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(Pp=!0,f.add(o),i=wI.bind(null,i,r,o),r.then(i,i))}function wI(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,_t===i&&(Xe&o)===o&&(qt===4||qt===3&&(Xe&62914560)===Xe&&300>zt()-id?(ct&2)===0&&hl(i,0):Op|=o,cl===Xe&&(cl=0)),Ds(i)}function gx(i,r){r===0&&(r=_s()),i=Wa(i,r),i!==null&&(ci(i,r),Ds(i))}function TI(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),gx(i,o)}function EI(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),gx(i,o)}function SI(i,r){return Be(i,r)}var ud=null,fl=null,Hp=!1,hd=!1,Gp=!1,na=0;function Ds(i){i!==fl&&i.next===null&&(fl===null?ud=fl=i:fl=fl.next=i),hd=!0,Hp||(Hp=!0,CI())}function qc(i,r){if(!Gp&&hd){Gp=!0;do for(var o=!1,c=ud;c!==null;){if(i!==0){var f=c.pendingLanes;if(f===0)var g=0;else{var x=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-Pt(42|i)+1)-1,g&=f&~(x&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,_x(c,g))}else g=Xe,g=li(c,c===_t?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||qn(c,g)||(o=!0,_x(c,g));c=c.next}while(o);Gp=!1}}function AI(){yx()}function yx(){hd=Hp=!1;var i=0;na!==0&&jI()&&(i=na);for(var r=zt(),o=null,c=ud;c!==null;){var f=c.next,g=vx(c,r);g===0?(c.next=null,o===null?ud=f:o.next=f,f===null&&(fl=o)):(o=c,(i!==0||(g&3)!==0)&&(hd=!0)),c=f}un!==0&&un!==5||qc(i),na!==0&&(na=0)}function vx(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var x=31-Pt(g),A=1<<x,U=f[x];U===-1?((A&o)===0||(A&c)!==0)&&(f[x]=rc(A,r)):U<=r&&(i.expiredLanes|=A),g&=~A}if(r=_t,o=Xe,o=li(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(dt===2||dt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Vn(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||qn(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Vn(c),Zi(o)){case 2:case 8:o=ys;break;case 32:o=Si;break;case 268435456:o=xn;break;default:o=Si}return c=bx.bind(null,i),o=Be(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Vn(c),i.callbackPriority=2,i.callbackNode=null,2}function bx(i,r){if(un!==0&&un!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(cd()&&i.callbackNode!==o)return null;var c=Xe;return c=li(i,i===_t?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(ex(i,c,r),vx(i,zt()),i.callbackNode!=null&&i.callbackNode===o?bx.bind(null,i):null)}function _x(i,r){if(cd())return null;ex(i,r,!0)}function CI(){UI(function(){(ct&6)!==0?Be(Ei,AI):yx()})}function $p(){if(na===0){var i=Zo;i===0&&(i=Tn,Tn<<=1,(Tn&261888)===0&&(Tn=256)),na=i}return na}function xx(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:jo(""+i)}function wx(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function RI(i,r,o,c,f){if(r==="submit"&&o&&o.stateNode===f){var g=xx((f[Bt]||null).action),x=c.submitter;x&&(r=(r=x[Bt]||null)?xx(r.formAction):x.getAttribute("formAction"),r!==null&&(g=r,x=null));var A=new Ss("action","action",null,c,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(na!==0){var U=x?wx(f,x):new FormData(f);dp(o,{pending:!0,data:U,method:f.method,action:g},null,U)}}else typeof g=="function"&&(A.preventDefault(),U=x?wx(f,x):new FormData(f),dp(o,{pending:!0,data:U,method:f.method,action:g},g,U))},currentTarget:f}]})}}for(var Kp=0;Kp<Im.length;Kp++){var Yp=Im[Kp],II=Yp.toLowerCase(),NI=Yp[0].toUpperCase()+Yp.slice(1);rs(II,"on"+NI)}rs(Jv,"onAnimationEnd"),rs(eb,"onAnimationIteration"),rs(tb,"onAnimationStart"),rs("dblclick","onDoubleClick"),rs("focusin","onFocus"),rs("focusout","onBlur"),rs($R,"onTransitionRun"),rs(KR,"onTransitionStart"),rs(YR,"onTransitionCancel"),rs(nb,"onTransitionEnd"),bt("onMouseEnter",["mouseout","mouseover"]),bt("onMouseLeave",["mouseout","mouseover"]),bt("onPointerEnter",["pointerout","pointerover"]),bt("onPointerLeave",["pointerout","pointerover"]),St("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),St("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),St("onBeforeInput",["compositionend","keypress","textInput","paste"]),St("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),St("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),St("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hc));function Tx(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],f=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var x=c.length-1;0<=x;x--){var A=c[x],U=A.instance,te=A.currentTarget;if(A=A.listener,U!==g&&f.isPropagationStopped())break e;g=A,f.currentTarget=te;try{g(f)}catch(ae){Ah(ae)}f.currentTarget=null,g=U}else for(x=0;x<c.length;x++){if(A=c[x],U=A.instance,te=A.currentTarget,A=A.listener,U!==g&&f.isPropagationStopped())break e;g=A,f.currentTarget=te;try{g(f)}catch(ae){Ah(ae)}f.currentTarget=null,g=U}}}}function We(i,r){var o=r[Nr];o===void 0&&(o=r[Nr]=new Set);var c=i+"__bubble";o.has(c)||(Ex(r,i,2,!1),o.add(c))}function Qp(i,r,o){var c=0;r&&(c|=4),Ex(o,i,c,r)}var dd="_reactListening"+Math.random().toString(36).slice(2);function Wp(i){if(!i[dd]){i[dd]=!0,Ie.forEach(function(o){o!=="selectionchange"&&(kI.has(o)||Qp(o,!1,i),Qp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[dd]||(r[dd]=!0,Qp("selectionchange",!1,r))}}function Ex(i,r,o,c){switch(Jx(r)){case 2:var f=rN;break;case 8:f=aN;break;default:f=hg}o=f.bind(null,r,o,i),f=void 0,!Fa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function Xp(i,r,o,c,f){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var A=c.stateNode.containerInfo;if(A===f)break;if(x===4)for(x=c.return;x!==null;){var U=x.tag;if((U===3||U===4)&&x.stateNode.containerInfo===f)return;x=x.return}for(;A!==null;){if(x=Ji(A),x===null)return;if(U=x.tag,U===5||U===6||U===26||U===27){c=g=x;continue e}A=A.parentNode}}c=c.return}jr(function(){var te=g,ae=ki(o),le=[];e:{var ie=ib.get(i);if(ie!==void 0){var re=Ss,Te=i;switch(i){case"keypress":if(Ha(o)===0)break e;case"keydown":case"keyup":re=Th;break;case"focusin":Te="focus",re=$a;break;case"focusout":Te="blur",re=$a;break;case"beforeblur":case"afterblur":re=$a;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=_;break;case Jv:case eb:case tb:re=gh;break;case nb:re=R;break;case"scroll":case"scrollend":re=mc;break;case"wheel":re=se;break;case"copy":case"cut":case"paste":re=yh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Xs;break;case"toggle":case"beforetoggle":re=Fe}var De=(r&4)!==0,yt=!De&&(i==="scroll"||i==="scrollend"),$=De?ie!==null?ie+"Capture":null:ie;De=[];for(var q=te,ee;q!==null;){var oe=q;if(ee=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||ee===null||$===null||(oe=ts(q,$),oe!=null&&De.push(Gc(q,oe,ee))),yt)break;q=q.return}0<De.length&&(ie=new re(ie,Te,null,o,ae),le.push({event:ie,listeners:De}))}}if((r&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",ie&&o!==hc&&(Te=o.relatedTarget||o.fromElement)&&(Ji(Te)||Te[Ci]))break e;if((re||ie)&&(ie=ae.window===ae?ae:(ie=ae.ownerDocument)?ie.defaultView||ie.parentWindow:window,re?(Te=o.relatedTarget||o.toElement,re=te,Te=Te?Ji(Te):null,Te!==null&&(yt=l(Te),De=Te.tag,Te!==yt||De!==5&&De!==27&&De!==6)&&(Te=null)):(re=null,Te=te),re!==Te)){if(De=pc,oe="onMouseLeave",$="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(De=Xs,oe="onPointerLeave",$="onPointerEnter",q="pointer"),yt=re==null?ie:Sn(re),ee=Te==null?ie:Sn(Te),ie=new De(oe,q+"leave",re,o,ae),ie.target=yt,ie.relatedTarget=ee,oe=null,Ji(ae)===te&&(De=new De($,q+"enter",Te,o,ae),De.target=ee,De.relatedTarget=yt,oe=De),yt=oe,re&&Te)t:{for(De=DI,$=re,q=Te,ee=0,oe=$;oe;oe=De(oe))ee++;oe=0;for(var ke=q;ke;ke=De(ke))oe++;for(;0<ee-oe;)$=De($),ee--;for(;0<oe-ee;)q=De(q),oe--;for(;ee--;){if($===q||q!==null&&$===q.alternate){De=$;break t}$=De($),q=De(q)}De=null}else De=null;re!==null&&Sx(le,ie,re,De,!1),Te!==null&&yt!==null&&Sx(le,yt,Te,De,!0)}}e:{if(ie=te?Sn(te):window,re=ie.nodeName&&ie.nodeName.toLowerCase(),re==="select"||re==="input"&&ie.type==="file")var rt=Fv;else if(zv(ie))if(qv)rt=qR;else{rt=BR;var Ce=zR}else re=ie.nodeName,!re||re.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?te&&Oo(te.elementType)&&(rt=Fv):rt=FR;if(rt&&(rt=rt(i,te))){Bv(le,rt,o,ae);break e}Ce&&Ce(i,ie,te),i==="focusout"&&te&&ie.type==="number"&&te.memoizedProps.value!=null&&lc(ie,"number",ie.value)}switch(Ce=te?Sn(te):window,i){case"focusin":(zv(Ce)||Ce.contentEditable==="true")&&(Ho=Ce,Am=te,_c=null);break;case"focusout":_c=Am=Ho=null;break;case"mousedown":Cm=!0;break;case"contextmenu":case"mouseup":case"dragend":Cm=!1,Xv(le,o,ae);break;case"selectionchange":if(GR)break;case"keydown":case"keyup":Xv(le,o,ae)}var He;if(lt)e:{switch(i){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else qo?Ka(i,o)&&(Ze="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ze="onCompositionStart");Ze&&(Rs&&o.locale!=="ko"&&(qo||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&qo&&(He=fc()):(Es=ae,dc="value"in Es?Es.value:Es.textContent,qo=!0)),Ce=fd(te,Ze),0<Ce.length&&(Ze=new Cs(Ze,i,null,o,ae),le.push({event:Ze,listeners:Ce}),He?Ze.data=He:(He=Fo(o),He!==null&&(Ze.data=He)))),(He=Mi?OR(i,o):jR(i,o))&&(Ze=fd(te,"onBeforeInput"),0<Ze.length&&(Ce=new Cs("onBeforeInput","beforeinput",null,o,ae),le.push({event:Ce,listeners:Ze}),Ce.data=He)),RI(le,i,te,o,ae)}Tx(le,r)})}function Gc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function fd(i,r){for(var o=r+"Capture",c=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=ts(i,o),f!=null&&c.unshift(Gc(i,f,g)),f=ts(i,r),f!=null&&c.push(Gc(i,f,g))),i.tag===3)return c;i=i.return}return[]}function DI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Sx(i,r,o,c,f){for(var g=r._reactName,x=[];o!==null&&o!==c;){var A=o,U=A.alternate,te=A.stateNode;if(A=A.tag,U!==null&&U===c)break;A!==5&&A!==26&&A!==27||te===null||(U=te,f?(te=ts(o,g),te!=null&&x.unshift(Gc(o,te,U))):f||(te=ts(o,g),te!=null&&x.push(Gc(o,te,U)))),o=o.return}x.length!==0&&i.push({event:r,listeners:x})}var MI=/\r\n?/g,VI=/\u0000|\uFFFD/g;function Ax(i){return(typeof i=="string"?i:""+i).replace(MI,`
`).replace(VI,"")}function Cx(i,r){return r=Ax(r),Ax(i)===r}function gt(i,r,o,c,f,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Jn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Jn(i,""+c);break;case"className":fi(i,"class",c);break;case"tabIndex":fi(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":fi(i,o,c);break;case"style":uc(i,c,g);break;case"data":if(r!=="object"){fi(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=jo(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&gt(i,r,"name",f.name,f,null),gt(i,r,"formEncType",f.formEncType,f,null),gt(i,r,"formMethod",f.formMethod,f,null),gt(i,r,"formTarget",f.formTarget,f,null)):(gt(i,r,"encType",f.encType,f,null),gt(i,r,"method",f.method,f,null),gt(i,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=jo(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=es);break;case"onScroll":c!=null&&We("scroll",i);break;case"onScrollEnd":c!=null&&We("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=jo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":We("beforetoggle",i),We("toggle",i),kr(i,"popover",c);break;case"xlinkActuate":Zt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Zt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Zt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Zt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Zt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Zt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":kr(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=fh.get(o)||o,kr(i,o,c))}}function Zp(i,r,o,c,f,g){switch(o){case"style":uc(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Jn(i,c):(typeof c=="number"||typeof c=="bigint")&&Jn(i,""+c);break;case"onScroll":c!=null&&We("scroll",i);break;case"onScrollEnd":c!=null&&We("scrollend",i);break;case"onClick":c!=null&&(i.onclick=es);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Et.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=i[Bt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,f),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,f);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):kr(i,o,c)}}}function kn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",i),We("load",i);var c=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var x=o[g];if(x!=null)switch(g){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:gt(i,r,g,x,o,null)}}f&&gt(i,r,"srcSet",o.srcSet,o,null),c&&gt(i,r,"src",o.src,o,null);return;case"input":We("invalid",i);var A=g=x=f=null,U=null,te=null;for(c in o)if(o.hasOwnProperty(c)){var ae=o[c];if(ae!=null)switch(c){case"name":f=ae;break;case"type":x=ae;break;case"checked":U=ae;break;case"defaultChecked":te=ae;break;case"value":g=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,r));break;default:gt(i,r,c,ae,o,null)}}uh(i,g,A,U,te,x,f,!1);return;case"select":We("invalid",i),c=x=g=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":g=A;break;case"defaultValue":x=A;break;case"multiple":c=A;default:gt(i,r,f,A,o,null)}r=g,o=x,i.multiple=!!c,r!=null?Mr(i,!!c,r,!1):o!=null&&Mr(i,!!c,o,!0);return;case"textarea":We("invalid",i),g=f=c=null;for(x in o)if(o.hasOwnProperty(x)&&(A=o[x],A!=null))switch(x){case"value":c=A;break;case"defaultValue":f=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:gt(i,r,x,A,o,null)}Vr(i,c,f,g);return;case"option":for(U in o)o.hasOwnProperty(U)&&(c=o[U],c!=null)&&(U==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":gt(i,r,U,c,o,null));return;case"dialog":We("beforetoggle",i),We("toggle",i),We("cancel",i),We("close",i);break;case"iframe":case"object":We("load",i);break;case"video":case"audio":for(c=0;c<Hc.length;c++)We(Hc[c],i);break;case"image":We("error",i),We("load",i);break;case"details":We("toggle",i);break;case"embed":case"source":case"link":We("error",i),We("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in o)if(o.hasOwnProperty(te)&&(c=o[te],c!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:gt(i,r,te,c,o,null)}return;default:if(Oo(r)){for(ae in o)o.hasOwnProperty(ae)&&(c=o[ae],c!==void 0&&Zp(i,r,ae,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&gt(i,r,A,c,o,null))}function PI(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,x=null,A=null,U=null,te=null,ae=null;for(re in o){var le=o[re];if(o.hasOwnProperty(re)&&le!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":U=le;default:c.hasOwnProperty(re)||gt(i,r,re,null,c,le)}}for(var ie in c){var re=c[ie];if(le=o[ie],c.hasOwnProperty(ie)&&(re!=null||le!=null))switch(ie){case"type":g=re;break;case"name":f=re;break;case"checked":te=re;break;case"defaultChecked":ae=re;break;case"value":x=re;break;case"defaultValue":A=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,r));break;default:re!==le&&gt(i,r,ie,re,c,le)}}Po(i,x,A,U,te,ae,g,f);return;case"select":re=x=A=ie=null;for(g in o)if(U=o[g],o.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":re=U;default:c.hasOwnProperty(g)||gt(i,r,g,null,c,U)}for(f in c)if(g=c[f],U=o[f],c.hasOwnProperty(f)&&(g!=null||U!=null))switch(f){case"value":ie=g;break;case"defaultValue":A=g;break;case"multiple":x=g;default:g!==U&&gt(i,r,f,g,c,U)}r=A,o=x,c=re,ie!=null?Mr(i,!!o,ie,!1):!!c!=!!o&&(r!=null?Mr(i,!!o,r,!0):Mr(i,!!o,o?[]:"",!1));return;case"textarea":re=ie=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:gt(i,r,A,null,c,f)}for(x in c)if(f=c[x],g=o[x],c.hasOwnProperty(x)&&(f!=null||g!=null))switch(x){case"value":ie=f;break;case"defaultValue":re=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&gt(i,r,x,f,c,g)}hh(i,ie,re);return;case"option":for(var Te in o)ie=o[Te],o.hasOwnProperty(Te)&&ie!=null&&!c.hasOwnProperty(Te)&&(Te==="selected"?i.selected=!1:gt(i,r,Te,null,c,ie));for(U in c)ie=c[U],re=o[U],c.hasOwnProperty(U)&&ie!==re&&(ie!=null||re!=null)&&(U==="selected"?i.selected=ie&&typeof ie!="function"&&typeof ie!="symbol":gt(i,r,U,ie,c,re));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in o)ie=o[De],o.hasOwnProperty(De)&&ie!=null&&!c.hasOwnProperty(De)&&gt(i,r,De,null,c,ie);for(te in c)if(ie=c[te],re=o[te],c.hasOwnProperty(te)&&ie!==re&&(ie!=null||re!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:gt(i,r,te,ie,c,re)}return;default:if(Oo(r)){for(var yt in o)ie=o[yt],o.hasOwnProperty(yt)&&ie!==void 0&&!c.hasOwnProperty(yt)&&Zp(i,r,yt,void 0,c,ie);for(ae in c)ie=c[ae],re=o[ae],!c.hasOwnProperty(ae)||ie===re||ie===void 0&&re===void 0||Zp(i,r,ae,ie,c,re);return}}for(var $ in o)ie=o[$],o.hasOwnProperty($)&&ie!=null&&!c.hasOwnProperty($)&&gt(i,r,$,null,c,ie);for(le in c)ie=c[le],re=o[le],!c.hasOwnProperty(le)||ie===re||ie==null&&re==null||gt(i,r,le,ie,c,re)}function Rx(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],g=f.transferSize,x=f.initiatorType,A=f.duration;if(g&&A&&Rx(x)){for(x=0,A=f.responseEnd,c+=1;c<o.length;c++){var U=o[c],te=U.startTime;if(te>A)break;var ae=U.transferSize,le=U.initiatorType;ae&&Rx(le)&&(U=U.responseEnd,x+=ae*(U<A?1:(A-te)/(U-te)))}if(--c,r+=8*(g+x)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Jp=null,eg=null;function md(i){return i.nodeType===9?i:i.ownerDocument}function Ix(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nx(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function tg(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ng=null;function jI(){var i=window.event;return i&&i.type==="popstate"?i===ng?!1:(ng=i,!0):(ng=null,!1)}var kx=typeof setTimeout=="function"?setTimeout:void 0,LI=typeof clearTimeout=="function"?clearTimeout:void 0,Dx=typeof Promise=="function"?Promise:void 0,UI=typeof queueMicrotask=="function"?queueMicrotask:typeof Dx<"u"?function(i){return Dx.resolve(null).then(i).catch(zI)}:kx;function zI(i){setTimeout(function(){throw i})}function ia(i){return i==="head"}function Mx(i,r){var o=r,c=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(f),yl(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")$c(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,$c(o);for(var g=o.firstChild;g;){var x=g.nextSibling,A=g.nodeName;g[Ri]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=x}}else o==="body"&&$c(i.ownerDocument.body);o=f}while(o);yl(r)}function Vx(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function ig(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ig(o),di(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function BI(i,r,o,c){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ri])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=zi(i.nextSibling),i===null)break}return null}function FI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=zi(i.nextSibling),i===null))return null;return i}function Px(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=zi(i.nextSibling),i===null))return null;return i}function sg(i){return i.data==="$?"||i.data==="$~"}function rg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function qI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function zi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var ag=null;function Ox(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return zi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function jx(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function Lx(i,r,o){switch(r=md(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function $c(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);di(i)}var Bi=new Map,Ux=new Set;function pd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var dr=X.d;X.d={f:HI,r:GI,D:$I,C:KI,L:YI,m:QI,X:XI,S:WI,M:ZI};function HI(){var i=dr.f(),r=ad();return i||r}function GI(i){var r=Hn(i);r!==null&&r.tag===5&&r.type==="form"?n_(r):dr.r(i)}var ml=typeof document>"u"?null:document;function zx(i,r,o){var c=ml;if(c&&typeof r=="string"&&r){var f=Zn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Ux.has(f)||(Ux.add(f),i={rel:i,crossOrigin:o,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),kn(r,"link",i),F(r),c.head.appendChild(r)))}}function $I(i){dr.D(i),zx("dns-prefetch",i,null)}function KI(i,r){dr.C(i,r),zx("preconnect",i,r)}function YI(i,r,o){dr.L(i,r,o);var c=ml;if(c&&i&&r){var f='link[rel="preload"][as="'+Zn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Zn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Zn(o.imageSizes)+'"]')):f+='[href="'+Zn(i)+'"]';var g=f;switch(r){case"style":g=pl(i);break;case"script":g=gl(i)}Bi.has(g)||(i=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Bi.set(g,i),c.querySelector(f)!==null||r==="style"&&c.querySelector(Kc(g))||r==="script"&&c.querySelector(Yc(g))||(r=c.createElement("link"),kn(r,"link",i),F(r),c.head.appendChild(r)))}}function QI(i,r){dr.m(i,r);var o=ml;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Zn(c)+'"][href="'+Zn(i)+'"]',g=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=gl(i)}if(!Bi.has(g)&&(i=b({rel:"modulepreload",href:i},r),Bi.set(g,i),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Yc(g)))return}c=o.createElement("link"),kn(c,"link",i),F(c),o.head.appendChild(c)}}}function WI(i,r,o){dr.S(i,r,o);var c=ml;if(c&&i){var f=Ii(c).hoistableStyles,g=pl(i);r=r||"default";var x=f.get(g);if(!x){var A={loading:0,preload:null};if(x=c.querySelector(Kc(g)))A.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Bi.get(g))&&og(i,o);var U=x=c.createElement("link");F(U),kn(U,"link",i),U._p=new Promise(function(te,ae){U.onload=te,U.onerror=ae}),U.addEventListener("load",function(){A.loading|=1}),U.addEventListener("error",function(){A.loading|=2}),A.loading|=4,gd(x,r,c)}x={type:"stylesheet",instance:x,count:1,state:A},f.set(g,x)}}}function XI(i,r){dr.X(i,r);var o=ml;if(o&&i){var c=Ii(o).hoistableScripts,f=gl(i),g=c.get(f);g||(g=o.querySelector(Yc(f)),g||(i=b({src:i,async:!0},r),(r=Bi.get(f))&&lg(i,r),g=o.createElement("script"),F(g),kn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function ZI(i,r){dr.M(i,r);var o=ml;if(o&&i){var c=Ii(o).hoistableScripts,f=gl(i),g=c.get(f);g||(g=o.querySelector(Yc(f)),g||(i=b({src:i,async:!0,type:"module"},r),(r=Bi.get(f))&&lg(i,r),g=o.createElement("script"),F(g),kn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function Bx(i,r,o,c){var f=(f=ge.current)?pd(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=pl(o.href),o=Ii(f).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=pl(o.href);var g=Ii(f).hoistableStyles,x=g.get(i);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,x),(g=f.querySelector(Kc(i)))&&!g._p&&(x.instance=g,x.state.loading=5),Bi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Bi.set(i,o),g||JI(f,i,o,x.state))),r&&c===null)throw Error(s(528,""));return x}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=gl(o),o=Ii(f).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function pl(i){return'href="'+Zn(i)+'"'}function Kc(i){return'link[rel="stylesheet"]['+i+"]"}function Fx(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function JI(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),kn(r,"link",o),F(r),i.head.appendChild(r))}function gl(i){return'[src="'+Zn(i)+'"]'}function Yc(i){return"script[async]"+i}function qx(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Zn(o.href)+'"]');if(c)return r.instance=c,F(c),c;var f=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),F(c),kn(c,"style",f),gd(c,o.precedence,i),r.instance=c;case"stylesheet":f=pl(o.href);var g=i.querySelector(Kc(f));if(g)return r.state.loading|=4,r.instance=g,F(g),g;c=Fx(o),(f=Bi.get(f))&&og(c,f),g=(i.ownerDocument||i).createElement("link"),F(g);var x=g;return x._p=new Promise(function(A,U){x.onload=A,x.onerror=U}),kn(g,"link",c),r.state.loading|=4,gd(g,o.precedence,i),r.instance=g;case"script":return g=gl(o.src),(f=i.querySelector(Yc(g)))?(r.instance=f,F(f),f):(c=o,(f=Bi.get(g))&&(c=b({},o),lg(c,f)),i=i.ownerDocument||i,f=i.createElement("script"),F(f),kn(f,"link",c),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,gd(c,o.precedence,i));return r.instance}function gd(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,g=f,x=0;x<c.length;x++){var A=c[x];if(A.dataset.precedence===r)g=A;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function og(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function lg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var yd=null;function Hx(i,r,o){if(yd===null){var c=new Map,f=yd=new Map;f.set(o,c)}else f=yd,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Ri]||g[It]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(r)||"";x=i+x;var A=c.get(x);A?A.push(g):c.set(x,[g])}}return c}function Gx(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function eN(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function $x(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function tN(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=pl(c.href),g=r.querySelector(Kc(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=vd.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,F(g);return}g=r.ownerDocument||r,c=Fx(c),(f=Bi.get(f))&&og(c,f),g=g.createElement("link"),F(g);var x=g;x._p=new Promise(function(A,U){x.onload=A,x.onerror=U}),kn(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=vd.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var cg=0;function nN(i,r){return i.stylesheets&&i.count===0&&_d(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&_d(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&cg===0&&(cg=62500*OI());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&_d(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>cg?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function vd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_d(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var bd=null;function _d(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,bd=new Map,r.forEach(iN,i),bd=null,vd.call(i))}function iN(i,r){if(!(r.state.loading&4)){var o=bd.get(i);if(o)var c=o.get(null);else{o=new Map,bd.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var x=f[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),c=x)}c&&o.set(null,c)}f=r.instance,x=f.getAttribute("data-precedence"),g=o.get(x)||c,g===c&&o.set(null,f),o.set(x,f),this.count++,c=vd.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Qc={$$typeof:Y,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function sN(i,r,o,c,f,g,x,A,U){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wt(0),this.hiddenUpdates=wt(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Kx(i,r,o,c,f,g,x,A,U,te,ae,le){return i=new sN(i,r,o,x,U,te,ae,le,A),r=1,g===!0&&(r|=24),g=pi(3,null,null,r),i.current=g,g.stateNode=i,r=Fm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},$m(g),i}function Yx(i){return i?(i=Ko,i):Ko}function Qx(i,r,o,c,f,g){f=Yx(f),c.context===null?c.context=f:c.pendingContext=f,c=$r(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Kr(i,c,r),o!==null&&(si(o,i,r),Cc(o,i,r))}function Wx(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function ug(i,r){Wx(i,r),(i=i.alternate)&&Wx(i,r)}function Xx(i){if(i.tag===13||i.tag===31){var r=Wa(i,67108864);r!==null&&si(r,i,67108864),ug(i,67108864)}}function Zx(i){if(i.tag===13||i.tag===31){var r=_i();r=xs(r);var o=Wa(i,r);o!==null&&si(o,i,r),ug(i,r)}}var xd=!0;function rN(i,r,o,c){var f=J.T;J.T=null;var g=X.p;try{X.p=2,hg(i,r,o,c)}finally{X.p=g,J.T=f}}function aN(i,r,o,c){var f=J.T;J.T=null;var g=X.p;try{X.p=8,hg(i,r,o,c)}finally{X.p=g,J.T=f}}function hg(i,r,o,c){if(xd){var f=dg(c);if(f===null)Xp(i,r,c,wd,o),ew(i,c);else if(lN(f,i,r,o,c))c.stopPropagation();else if(ew(i,c),r&4&&-1<oN.indexOf(i)){for(;f!==null;){var g=Hn(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=pn(g.pendingLanes);if(x!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;x;){var U=1<<31-Pt(x);A.entanglements[1]|=U,x&=~U}Ds(g),(ct&6)===0&&(sd=zt()+500,qc(0))}}break;case 31:case 13:A=Wa(g,2),A!==null&&si(A,g,2),ad(),ug(g,2)}if(g=dg(c),g===null&&Xp(i,r,c,wd,o),g===f)break;f=g}f!==null&&c.stopPropagation()}else Xp(i,r,c,null,o)}}function dg(i){return i=ki(i),fg(i)}var wd=null;function fg(i){if(wd=null,i=Ji(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return wd=i,null}function Jx(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oi()){case Ei:return 2;case ys:return 8;case Si:case Ys:return 32;case xn:return 268435456;default:return 32}default:return 32}}var mg=!1,sa=null,ra=null,aa=null,Wc=new Map,Xc=new Map,oa=[],oN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ew(i,r){switch(i){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":Wc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xc.delete(r.pointerId)}}function Zc(i,r,o,c,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},r!==null&&(r=Hn(r),r!==null&&Xx(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function lN(i,r,o,c,f){switch(r){case"focusin":return sa=Zc(sa,i,r,o,c,f),!0;case"dragenter":return ra=Zc(ra,i,r,o,c,f),!0;case"mouseover":return aa=Zc(aa,i,r,o,c,f),!0;case"pointerover":var g=f.pointerId;return Wc.set(g,Zc(Wc.get(g)||null,i,r,o,c,f)),!0;case"gotpointercapture":return g=f.pointerId,Xc.set(g,Zc(Xc.get(g)||null,i,r,o,c,f)),!0}return!1}function tw(i){var r=Ji(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,hi(i.priority,function(){Zx(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,hi(i.priority,function(){Zx(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Td(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=dg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);hc=c,o.target.dispatchEvent(c),hc=null}else return r=Hn(o),r!==null&&Xx(r),i.blockedOn=o,!1;r.shift()}return!0}function nw(i,r,o){Td(i)&&o.delete(r)}function cN(){mg=!1,sa!==null&&Td(sa)&&(sa=null),ra!==null&&Td(ra)&&(ra=null),aa!==null&&Td(aa)&&(aa=null),Wc.forEach(nw),Xc.forEach(nw)}function Ed(i,r){i.blockedOn===r&&(i.blockedOn=null,mg||(mg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cN)))}var Sd=null;function iw(i){Sd!==i&&(Sd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Sd===i&&(Sd=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],f=i[r+2];if(typeof c!="function"){if(fg(c||o)===null)continue;break}var g=Hn(o);g!==null&&(i.splice(r,3),r-=3,dp(g,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function yl(i){function r(U){return Ed(U,i)}sa!==null&&Ed(sa,i),ra!==null&&Ed(ra,i),aa!==null&&Ed(aa,i),Wc.forEach(r),Xc.forEach(r);for(var o=0;o<oa.length;o++){var c=oa[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<oa.length&&(o=oa[0],o.blockedOn===null);)tw(o),o.blockedOn===null&&oa.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],g=o[c+1],x=f[Bt]||null;if(typeof g=="function")x||iw(o);else if(x){var A=null;if(g&&g.hasAttribute("formAction")){if(f=g,x=g[Bt]||null)A=x.formAction;else if(fg(f)!==null)continue}else A=x.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),iw(o)}}}function sw(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(x){return f=x})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function pg(i){this._internalRoot=i}Ad.prototype.render=pg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=_i();Qx(o,c,i,r,null,null)},Ad.prototype.unmount=pg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Qx(i.current,2,null,i,null,null),ad(),r[Ci]=null}};function Ad(i){this._internalRoot=i}Ad.prototype.unstable_scheduleHydration=function(i){if(i){var r=ja();i={blockedOn:null,target:i,priority:r};for(var o=0;o<oa.length&&r!==0&&r<oa[o].priority;o++);oa.splice(o,0,i),o===0&&tw(i)}};var rw=e.version;if(rw!=="19.2.3")throw Error(s(527,rw,"19.2.3"));X.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var uN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{Fn=Cd.inject(uN),cn=Cd}catch{}}return eu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",f=d_,g=f_,x=m_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),r=Kx(i,1,!1,null,null,o,c,null,f,g,x,sw),i[Ci]=r.current,Wp(i),new pg(r)},eu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,f="",g=d_,x=f_,A=m_,U=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),r=Kx(i,1,!0,r,o??null,c,f,U,g,x,A,sw),r.context=Yx(null),o=r.current,c=_i(),c=xs(c),f=$r(c),f.callback=null,Kr(o,f,c),o=c,r.current.lanes=o,ci(r,o),Ds(r),i[Ci]=r.current,Wp(i),new Ad(r)},eu.version="19.2.3",eu}var pw;function xN(){if(pw)return vg.exports;pw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vg.exports=_N(),vg.exports}var wN=xN();var gw="popstate";function TN(t={}){function e(s,a){let{pathname:l,search:u,hash:d}=s.location;return ay("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Su(a)}return SN(e,n,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EN(){return Math.random().toString(36).substring(2,10)}function yw(t,e){return{usr:t.state,key:t.key,idx:e}}function ay(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Gl(e):e,state:n,key:e&&e.key||s||EN()}}function Su({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Gl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function SN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,d="POP",m=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function b(){d="POP";let N=y(),H=N==null?null:N-p;p=N,m&&m({action:d,location:j.location,delta:H})}function w(N,H){d="PUSH";let W=ay(j.location,N,H);p=y()+1;let Y=yw(W,p),me=j.createHref(W);try{u.pushState(Y,"",me)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;a.location.assign(me)}l&&m&&m({action:d,location:j.location,delta:1})}function C(N,H){d="REPLACE";let W=ay(j.location,N,H);p=y();let Y=yw(W,p),me=j.createHref(W);u.replaceState(Y,"",me),l&&m&&m({action:d,location:j.location,delta:0})}function V(N){return AN(N)}let j={get action(){return d},get location(){return t(a,u)},listen(N){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(gw,b),m=N,()=>{a.removeEventListener(gw,b),m=null}},createHref(N){return e(a,N)},createURL:V,encodeLocation(N){let H=V(N);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:w,replace:C,go(N){return u.go(N)}};return j}function AN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Su(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function DE(t,e,n="/"){return CN(t,e,n,!1)}function CN(t,e,n,s){let a=typeof e=="string"?Gl(e):e,l=wr(a.pathname||"/",n);if(l==null)return null;let u=ME(t);RN(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let p=UN(l);d=jN(u[m],p,s)}return d}function ME(t,e=[],n=[],s="",a=!1){let l=(u,d,m=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;Dt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let b=vr([s,y.relativePath]),w=n.concat(y);u.children&&u.children.length>0&&(Dt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),ME(u.children,e,w,b,m)),!(u.path==null&&!u.index)&&e.push({path:b,score:PN(b,u.index),routesMeta:w})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let m of VE(u.path))l(u,d,!0,m)}),e}function VE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=VE(s.join("/")),d=[];return d.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...u),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function RN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ON(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var IN=/^:[\w-]+$/,NN=3,kN=2,DN=1,MN=10,VN=-2,vw=t=>t==="*";function PN(t,e){let n=t.split("/"),s=n.length;return n.some(vw)&&(s+=VN),e&&(s+=kN),n.filter(a=>!vw(a)).reduce((a,l)=>a+(IN.test(l)?NN:l===""?DN:MN),s)}function ON(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function jN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",b=lf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),w=m.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=lf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:vr([l,b.pathname]),pathnameBase:qN(vr([l,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(l=vr([l,b.pathnameBase]))}return u}function lf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=LN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:b},w)=>{if(y==="*"){let V=d[w]||"";u=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const C=d[w];return b&&!C?p[y]=void 0:p[y]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function LN(t,e=!1,n=!0){Qi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function UN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function wr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var PE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zN=t=>PE.test(t);function BN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Gl(t):t,l;if(n)if(zN(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Qi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=bw(n.substring(1),"/"):l=bw(n,e)}else l=e;return{pathname:l,search:HN(s),hash:GN(a)}}function bw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function wg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function r0(t){let e=FN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function a0(t,e,n,s=!1){let a;typeof t=="string"?a=Gl(t):(a={...t},Dt(!a.pathname||!a.pathname.includes("?"),wg("?","pathname","search",a)),Dt(!a.pathname||!a.pathname.includes("#"),wg("#","pathname","hash",a)),Dt(!a.search||!a.search.includes("#"),wg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=n;else{let b=e.length-1;if(!s&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),b-=1;a.pathname=w.join("/")}d=b>=0?e[b]:"/"}let m=BN(a,d),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var vr=t=>t.join("/").replace(/\/\/+/g,"/"),qN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),HN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,$N=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function KN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function YN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var OE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jE(t,e){let n=t;if(typeof n!="string"||!PE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(OE)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=wr(u.pathname,e);u.origin===l.origin&&d!=null?n=d+u.search+u.hash:a=!0}catch{Qi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LE=["POST","PUT","PATCH","DELETE"];new Set(LE);var QN=["GET",...LE];new Set(QN);var $l=I.createContext(null);$l.displayName="DataRouter";var $f=I.createContext(null);$f.displayName="DataRouterState";var WN=I.createContext(!1),UE=I.createContext({isTransitioning:!1});UE.displayName="ViewTransition";var XN=I.createContext(new Map);XN.displayName="Fetchers";var ZN=I.createContext(null);ZN.displayName="Await";var Ti=I.createContext(null);Ti.displayName="Navigation";var Uu=I.createContext(null);Uu.displayName="Location";var gs=I.createContext({outlet:null,matches:[],isDataRoute:!1});gs.displayName="Route";var o0=I.createContext(null);o0.displayName="RouteError";var zE="REACT_ROUTER_ERROR",JN="REDIRECT",ek="ROUTE_ERROR_RESPONSE";function tk(t){if(t.startsWith(`${zE}:${JN}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function nk(t){if(t.startsWith(`${zE}:${ek}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new $N(e.status,e.statusText,e.data)}catch{}}function ik(t,{relative:e}={}){Dt(Kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=I.useContext(Ti),{hash:a,pathname:l,search:u}=Bu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:vr([n,l])),s.createHref({pathname:d,search:u,hash:a})}function Kl(){return I.useContext(Uu)!=null}function Da(){return Dt(Kl(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Uu).location}var BE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FE(t){I.useContext(Ti).static||I.useLayoutEffect(t)}function zu(){let{isDataRoute:t}=I.useContext(gs);return t?yk():sk()}function sk(){Dt(Kl(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext($l),{basename:e,navigator:n}=I.useContext(Ti),{matches:s}=I.useContext(gs),{pathname:a}=Da(),l=JSON.stringify(r0(s)),u=I.useRef(!1);return FE(()=>{u.current=!0}),I.useCallback((m,p={})=>{if(Qi(u.current,BE),!u.current)return;if(typeof m=="number"){n.go(m);return}let y=a0(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:vr([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}I.createContext(null);function rk(){let{matches:t}=I.useContext(gs),e=t[t.length-1];return e?e.params:{}}function Bu(t,{relative:e}={}){let{matches:n}=I.useContext(gs),{pathname:s}=Da(),a=JSON.stringify(r0(n));return I.useMemo(()=>a0(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function ak(t,e){return qE(t,e)}function qE(t,e,n,s,a){Dt(Kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(Ti),{matches:u}=I.useContext(gs),d=u[u.length-1],m=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",b=d&&d.route;{let W=b&&b.path||"";GE(p,!b||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=Da(),C;if(e){let W=typeof e=="string"?Gl(e):e;Dt(y==="/"||W.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${W.pathname}" was given in the \`location\` prop.`),C=W}else C=w;let V=C.pathname||"/",j=V;if(y!=="/"){let W=y.replace(/^\//,"").split("/");j="/"+V.replace(/^\//,"").split("/").slice(W.length).join("/")}let N=DE(t,{pathname:j});Qi(b||N!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Qi(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=hk(N&&N.map(W=>Object.assign({},W,{params:Object.assign({},m,W.params),pathname:vr([y,l.encodeLocation?l.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?y:vr([y,l.encodeLocation?l.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),u,n,s,a);return e&&H?I.createElement(Uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},H):H}function ok(){let t=gk(),e=KN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:a},n):null,u)}var lk=I.createElement(ok,null),HE=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=nk(t.digest);n&&(t=n)}let e=t!==void 0?I.createElement(gs.Provider,{value:this.props.routeContext},I.createElement(o0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?I.createElement(ck,{error:t},e):e}};HE.contextType=WN;var Tg=new WeakMap;function ck({children:t,error:e}){let{basename:n}=I.useContext(Ti);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=tk(e.digest);if(s){let a=Tg.get(e);if(a)throw a;let l=jE(s.location,n);if(OE&&!Tg.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Tg.set(e,u),u}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function uk({routeContext:t,match:e,children:n}){let s=I.useContext($l);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(gs.Provider,{value:t},n)}function hk(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(b=>b.route.id&&u?.[b.route.id]!==void 0);Dt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let b=l[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=y),b.route.id){let{loaderData:w,errors:C}=n,V=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!C||C[b.route.id]===void 0);if(b.route.lazy||V){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(y,b)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:YN(n.matches),errorInfo:b})}:void 0;return l.reduceRight((y,b,w)=>{let C,V=!1,j=null,N=null;n&&(C=u&&b.route.id?u[b.route.id]:void 0,j=b.route.errorElement||lk,d&&(m<0&&w===0?(GE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,N=null):m===w&&(V=!0,N=b.route.hydrateFallbackElement||null)));let H=e.concat(l.slice(0,w+1)),W=()=>{let Y;return C?Y=j:V?Y=N:b.route.Component?Y=I.createElement(b.route.Component,null):b.route.element?Y=b.route.element:Y=y,I.createElement(uk,{match:b,routeContext:{outlet:y,matches:H,isDataRoute:n!=null},children:Y})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?I.createElement(HE,{location:n.location,revalidation:n.revalidation,component:j,error:C,children:W(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:p}):W()},null)}function l0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dk(t){let e=I.useContext($l);return Dt(e,l0(t)),e}function fk(t){let e=I.useContext($f);return Dt(e,l0(t)),e}function mk(t){let e=I.useContext(gs);return Dt(e,l0(t)),e}function c0(t){let e=mk(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function pk(){return c0("useRouteId")}function gk(){let t=I.useContext(o0),e=fk("useRouteError"),n=c0("useRouteError");return t!==void 0?t:e.errors?.[n]}function yk(){let{router:t}=dk("useNavigate"),e=c0("useNavigate"),n=I.useRef(!1);return FE(()=>{n.current=!0}),I.useCallback(async(a,l={})=>{Qi(n.current,BE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var _w={};function GE(t,e,n){!e&&!_w[t]&&(_w[t]=!0,Qi(!1,n))}I.memo(vk);function vk({routes:t,future:e,state:n,onError:s}){return qE(t,void 0,n,s,e)}function vl({to:t,replace:e,state:n,relative:s}){Dt(Kl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=I.useContext(Ti);Qi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=I.useContext(gs),{pathname:u}=Da(),d=zu(),m=a0(t,r0(l),u,s==="path"),p=JSON.stringify(m);return I.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:s})},[d,p,s,e,n]),null}function ha(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bk({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){Dt(!Kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),m=I.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[d,a,l,u]);typeof n=="string"&&(n=Gl(n));let{pathname:p="/",search:y="",hash:b="",state:w=null,key:C="default"}=n,V=I.useMemo(()=>{let j=wr(p,d);return j==null?null:{location:{pathname:j,search:y,hash:b,state:w,key:C},navigationType:s}},[d,p,y,b,w,C,s]);return Qi(V!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:I.createElement(Ti.Provider,{value:m},I.createElement(Uu.Provider,{children:e,value:V}))}function _k({children:t,location:e}){return ak(oy(t),e)}function oy(t,e=[]){let n=[];return I.Children.forEach(t,(s,a)=>{if(!I.isValidElement(s))return;let l=[...e,a];if(s.type===I.Fragment){n.push.apply(n,oy(s.props.children,l));return}Dt(s.type===ha,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=oy(s.props.children,l)),n.push(u)}),n}var Fd="get",qd="application/x-www-form-urlencoded";function Kf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function xk(t){return Kf(t)&&t.tagName.toLowerCase()==="button"}function wk(t){return Kf(t)&&t.tagName.toLowerCase()==="form"}function Tk(t){return Kf(t)&&t.tagName.toLowerCase()==="input"}function Ek(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Sk(t,e){return t.button===0&&(!e||e==="_self")&&!Ek(t)}var Rd=null;function Ak(){if(Rd===null)try{new FormData(document.createElement("form"),0),Rd=!1}catch{Rd=!0}return Rd}var Ck=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eg(t){return t!=null&&!Ck.has(t)?(Qi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qd}"`),null):t}function Rk(t,e){let n,s,a,l,u;if(wk(t)){let d=t.getAttribute("action");s=d?wr(d,e):null,n=t.getAttribute("method")||Fd,a=Eg(t.getAttribute("enctype"))||qd,l=new FormData(t)}else if(xk(t)||Tk(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?wr(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Fd,a=Eg(t.getAttribute("formenctype"))||Eg(d.getAttribute("enctype"))||qd,l=new FormData(d,t),!Ak()){let{name:p,type:y,value:b}=t;if(y==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,b)}}else{if(Kf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fd,s=null,a=qd,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function u0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ik(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&wr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function Nk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Dk(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await Nk(l,n);return u.links?u.links():[]}return[]}));return Ok(s.flat(1).filter(kk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function xw(t,e,n,s,a,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>u(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(u(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Mk(t,e,{includeHydrateFallback:n}={}){return Vk(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Vk(t){return[...new Set(t)]}function Pk(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function Ok(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(Pk(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function $E(){let t=I.useContext($l);return u0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function jk(){let t=I.useContext($f);return u0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var h0=I.createContext(void 0);h0.displayName="FrameworkContext";function KE(){let t=I.useContext(h0);return u0(t,"You must render this element inside a <HydratedRouter> element"),t}function Lk(t,e){let n=I.useContext(h0),[s,a]=I.useState(!1),[l,u]=I.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:b}=e,w=I.useRef(null);I.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let j=H=>{H.forEach(W=>{u(W.isIntersecting)})},N=new IntersectionObserver(j,{threshold:.5});return w.current&&N.observe(w.current),()=>{N.disconnect()}}},[t]),I.useEffect(()=>{if(s){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[s]);let C=()=>{a(!0)},V=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:tu(d,C),onBlur:tu(m,V),onMouseEnter:tu(p,C),onMouseLeave:tu(y,V),onTouchStart:tu(b,C)}]:[!1,w,{}]}function tu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Uk({page:t,...e}){let{router:n}=$E(),s=I.useMemo(()=>DE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?I.createElement(Bk,{page:t,matches:s,...e}):null}function zk(t){let{manifest:e,routeModules:n}=KE(),[s,a]=I.useState([]);return I.useEffect(()=>{let l=!1;return Dk(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function Bk({page:t,matches:e,...n}){let s=Da(),{future:a,manifest:l,routeModules:u}=KE(),{basename:d}=$E(),{loaderData:m,matches:p}=jk(),y=I.useMemo(()=>xw(t,e,p,l,s,"data"),[t,e,p,l,s]),b=I.useMemo(()=>xw(t,e,p,l,s,"assets"),[t,e,p,l,s]),w=I.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let j=new Set,N=!1;if(e.forEach(W=>{let Y=l.routes[W.route.id];!Y||!Y.hasLoader||(!y.some(me=>me.route.id===W.route.id)&&W.route.id in m&&u[W.route.id]?.shouldRevalidate||Y.hasClientLoader?N=!0:j.add(W.route.id))}),j.size===0)return[];let H=Ik(t,d,a.unstable_trailingSlashAwareDataRequests,"data");return N&&j.size>0&&H.searchParams.set("_routes",e.filter(W=>j.has(W.route.id)).map(W=>W.route.id).join(",")),[H.pathname+H.search]},[d,a.unstable_trailingSlashAwareDataRequests,m,s,l,y,e,t,u]),C=I.useMemo(()=>Mk(b,l),[b,l]),V=zk(b);return I.createElement(I.Fragment,null,w.map(j=>I.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),C.map(j=>I.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),V.map(({key:j,link:N})=>I.createElement("link",{key:j,nonce:n.nonce,...N})))}function Fk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qk&&(window.__reactRouterVersion="7.12.0")}catch{}function Hk({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=I.useRef();a.current==null&&(a.current=TN({window:s,v5Compat:!0}));let l=a.current,[u,d]=I.useState({action:l.action,location:l.location}),m=I.useCallback(p=>{n===!1?d(p):I.startTransition(()=>d(p))},[n]);return I.useLayoutEffect(()=>l.listen(m),[l,m]),I.createElement(bk,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var YE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d0=I.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:d,target:m,to:p,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:w,...C},V){let{basename:j,unstable_useTransitions:N}=I.useContext(Ti),H=typeof p=="string"&&YE.test(p),W=jE(p,j);p=W.to;let Y=ik(p,{relative:a}),[me,ue,de]=Lk(s,C),k=Yk(p,{replace:u,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:N});function S(z){e&&e(z),z.defaultPrevented||k(z)}let M=I.createElement("a",{...C,...de,href:W.absoluteURL||Y,onClick:W.isExternal||l?e:S,ref:Fk(V,ue),target:m,"data-discover":!H&&n==="render"?"true":void 0});return me&&!H?I.createElement(I.Fragment,null,M,I.createElement(Uk,{page:Y})):M});d0.displayName="Link";var Gk=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:d,children:m,...p},y){let b=Bu(u,{relative:p.relative}),w=Da(),C=I.useContext($f),{navigator:V,basename:j}=I.useContext(Ti),N=C!=null&&Jk(b)&&d===!0,H=V.encodeLocation?V.encodeLocation(b).pathname:b.pathname,W=w.pathname,Y=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(W=W.toLowerCase(),Y=Y?Y.toLowerCase():null,H=H.toLowerCase()),Y&&j&&(Y=wr(Y,j)||Y);const me=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ue=W===H||!a&&W.startsWith(H)&&W.charAt(me)==="/",de=Y!=null&&(Y===H||!a&&Y.startsWith(H)&&Y.charAt(H.length)==="/"),k={isActive:ue,isPending:de,isTransitioning:N},S=ue?e:void 0,M;typeof s=="function"?M=s(k):M=[s,ue?"active":null,de?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let z=typeof l=="function"?l(k):l;return I.createElement(d0,{...p,"aria-current":S,className:M,ref:y,style:z,to:u,viewTransition:d},typeof m=="function"?m(k):m)});Gk.displayName="NavLink";var $k=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=Fd,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:w,...C},V)=>{let{unstable_useTransitions:j}=I.useContext(Ti),N=Xk(),H=Zk(d,{relative:p}),W=u.toLowerCase()==="get"?"get":"post",Y=typeof d=="string"&&YE.test(d),me=ue=>{if(m&&m(ue),ue.defaultPrevented)return;ue.preventDefault();let de=ue.nativeEvent.submitter,k=de?.getAttribute("formmethod")||u,S=()=>N(de||ue.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:w});j&&n!==!1?I.startTransition(()=>S()):S()};return I.createElement("form",{ref:V,method:W,action:H,onSubmit:s?m:me,...C,"data-discover":!Y&&t==="render"?"true":void 0})});$k.displayName="Form";function Kk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QE(t){let e=I.useContext($l);return Dt(e,Kk(t)),e}function Yk(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let p=zu(),y=Da(),b=Bu(t,{relative:l});return I.useCallback(w=>{if(Sk(w,e)){w.preventDefault();let C=n!==void 0?n:Su(y)===Su(b),V=()=>p(t,{replace:C,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d});m?I.startTransition(()=>V()):V()}},[y,p,b,n,s,e,t,a,l,u,d,m])}var Qk=0,Wk=()=>`__${String(++Qk)}__`;function Xk(){let{router:t}=QE("useSubmit"),{basename:e}=I.useContext(Ti),n=pk(),s=t.fetch,a=t.navigate;return I.useCallback(async(l,u={})=>{let{action:d,method:m,encType:p,formData:y,body:b}=Rk(l,e);if(u.navigate===!1){let w=u.fetcherKey||Wk();await s(w,n,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:b,formMethod:u.method||m,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:b,formMethod:u.method||m,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function Zk(t,{relative:e}={}){let{basename:n}=I.useContext(Ti),s=I.useContext(gs);Dt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Bu(t||".",{relative:e})},u=Da();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let y=d.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:vr([n,l.pathname])),Su(l)}function Jk(t,{relative:e}={}){let n=I.useContext(UE);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=QE("useViewTransitionState"),a=Bu(t,{relative:e});if(!n.isTransitioning)return!1;let l=wr(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=wr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return lf(a.pathname,u)!=null||lf(a.pathname,l)!=null}const eD=()=>v.jsx("div",{className:"noise-overlay"}),tD="modulepreload",nD=function(t){return"/"+t},ww={},ly=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let m=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");a=m(n.map(p=>{if(p=nD(p),p in ww)return;ww[p]=!0;const y=p.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":tD,y||(w.as="script"),w.crossOrigin="",w.href=p,d&&w.setAttribute("nonce",d),document.head.appendChild(w),y)return new Promise((C,V)=>{w.addEventListener("load",C),w.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return a.then(u=>{for(const d of u||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},iD=()=>{};var Tw={};const WE=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},sD=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},XE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,d=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,b=(l&3)<<4|d>>4;let w=(d&15)<<2|p>>6,C=p&63;m||(C=64,u||(w=64)),s.push(n[y],n[b],n[w],n[C])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||b==null)throw new rD;const w=l<<2|d>>4;if(s.push(w),p!==64){const C=d<<4&240|p>>2;if(s.push(C),b!==64){const V=p<<6&192|b;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aD=function(t){const e=WE(t);return XE.encodeByteArray(e,!0)},cf=function(t){return aD(t).replace(/\./g,"")},ZE=function(t){try{return XE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function oD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lD=()=>oD().__FIREBASE_DEFAULTS__,cD=()=>{if(typeof process>"u"||typeof Tw>"u")return;const t=Tw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZE(t[1]);return e&&JSON.parse(e)},Yf=()=>{try{return iD()||lD()||cD()||uD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JE=t=>Yf()?.emulatorHosts?.[t],eS=t=>{const e=JE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},tS=()=>Yf()?.config,nS=t=>Yf()?.[`_${t}`];class hD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ro(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function f0(t){return(await fetch(t,{credentials:"include"})).ok}function iS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[cf(JSON.stringify(n)),cf(JSON.stringify(u)),""].join(".")}const du={};function dD(){const t={prod:[],emulator:[]};for(const e of Object.keys(du))du[e]?t.emulator.push(e):t.prod.push(e);return t}function fD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ew=!1;function m0(t,e){if(typeof window>"u"||typeof document>"u"||!Ro(window.location.host)||du[t]===e||du[t]||Ew)return;du[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=dD().prod.length>0;function u(){const w=document.getElementById(s);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,C){w.setAttribute("width","24"),w.setAttribute("id",C),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Ew=!0,u()},w}function y(w,C){w.setAttribute("id",C),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=fD(s),C=n("text"),V=document.getElementById(C)||document.createElement("span"),j=n("learnmore"),N=document.getElementById(j)||document.createElement("a"),H=n("preprendIcon"),W=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Y=w.element;d(Y),y(N,j);const me=p();m(W,H),Y.append(W,V,N,me),document.body.appendChild(Y)}l?(V.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function pD(){const t=Yf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bD(){const t=Bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _D(){return!pD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xD(){try{return typeof indexedDB=="object"}catch{return!1}}function wD(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const TD="FirebaseError";class Gs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=TD,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fu.prototype.create)}}class Fu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?ED(l,s):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Gs(a,d,s)}}function ED(t,e){return t.replace(SD,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const SD=/\{\$([^}]+)}/g;function AD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(Sw(l)&&Sw(u)){if(!wo(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Sw(t){return t!==null&&typeof t=="object"}function qu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function CD(t,e){const n=new RD(t,e);return n.subscribe.bind(n)}class RD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");ID(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Sg),a.error===void 0&&(a.error=Sg),a.complete===void 0&&(a.complete=Sg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ID(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sg(){}function mn(t){return t&&t._delegate?t._delegate:t}class Ta{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const mo="[DEFAULT]";class ND{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new hD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DD(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:kD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kD(t){return t===mo?void 0:t}function DD(t){return t.instantiationMode==="EAGER"}class MD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ND(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const VD={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},PD=Je.INFO,OD={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},jD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=OD[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class p0{constructor(e){this.name=e,this._logLevel=PD,this._logHandler=jD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const LD=(t,e)=>e.some(n=>t instanceof n);let Aw,Cw;function UD(){return Aw||(Aw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zD(){return Cw||(Cw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sS=new WeakMap,cy=new WeakMap,rS=new WeakMap,Ag=new WeakMap,g0=new WeakMap;function BD(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(va(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&sS.set(n,t)}).catch(()=>{}),g0.set(e,t),e}function FD(t){if(cy.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});cy.set(t,e)}let uy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return va(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qD(t){uy=t(uy)}function HD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Cg(this),e,...n);return rS.set(s,e.sort?e.sort():[e]),va(s)}:zD().includes(t)?function(...e){return t.apply(Cg(this),e),va(sS.get(this))}:function(...e){return va(t.apply(Cg(this),e))}}function GD(t){return typeof t=="function"?HD(t):(t instanceof IDBTransaction&&FD(t),LD(t,UD())?new Proxy(t,uy):t)}function va(t){if(t instanceof IDBRequest)return BD(t);if(Ag.has(t))return Ag.get(t);const e=GD(t);return e!==t&&(Ag.set(t,e),g0.set(e,t)),e}const Cg=t=>g0.get(t);function $D(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),d=va(u);return s&&u.addEventListener("upgradeneeded",m=>{s(va(u.result),m.oldVersion,m.newVersion,va(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const KD=["get","getKey","getAll","getAllKeys","count"],YD=["put","add","delete","clear"],Rg=new Map;function Rw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rg.get(e))return Rg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=YD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||KD.includes(n)))return;const l=async function(u,...d){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return Rg.set(e,l),l}qD(t=>({...t,get:(e,n,s)=>Rw(e,n)||t.get(e,n,s),has:(e,n)=>!!Rw(e,n)||t.has(e,n)}));class QD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function WD(t){return t.getComponent()?.type==="VERSION"}const hy="@firebase/app",Iw="0.14.7";const Tr=new p0("@firebase/app"),XD="@firebase/app-compat",ZD="@firebase/analytics-compat",JD="@firebase/analytics",eM="@firebase/app-check-compat",tM="@firebase/app-check",nM="@firebase/auth",iM="@firebase/auth-compat",sM="@firebase/database",rM="@firebase/data-connect",aM="@firebase/database-compat",oM="@firebase/functions",lM="@firebase/functions-compat",cM="@firebase/installations",uM="@firebase/installations-compat",hM="@firebase/messaging",dM="@firebase/messaging-compat",fM="@firebase/performance",mM="@firebase/performance-compat",pM="@firebase/remote-config",gM="@firebase/remote-config-compat",yM="@firebase/storage",vM="@firebase/storage-compat",bM="@firebase/firestore",_M="@firebase/ai",xM="@firebase/firestore-compat",wM="firebase",TM="12.8.0";const dy="[DEFAULT]",EM={[hy]:"fire-core",[XD]:"fire-core-compat",[JD]:"fire-analytics",[ZD]:"fire-analytics-compat",[tM]:"fire-app-check",[eM]:"fire-app-check-compat",[nM]:"fire-auth",[iM]:"fire-auth-compat",[sM]:"fire-rtdb",[rM]:"fire-data-connect",[aM]:"fire-rtdb-compat",[oM]:"fire-fn",[lM]:"fire-fn-compat",[cM]:"fire-iid",[uM]:"fire-iid-compat",[hM]:"fire-fcm",[dM]:"fire-fcm-compat",[fM]:"fire-perf",[mM]:"fire-perf-compat",[pM]:"fire-rc",[gM]:"fire-rc-compat",[yM]:"fire-gcs",[vM]:"fire-gcs-compat",[bM]:"fire-fst",[xM]:"fire-fst-compat",[_M]:"fire-vertex","fire-js":"fire-js",[wM]:"fire-js-all"};const uf=new Map,SM=new Map,fy=new Map;function Nw(t,e){try{t.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function To(t){const e=t.name;if(fy.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;fy.set(e,t);for(const n of uf.values())Nw(n,t);for(const n of SM.values())Nw(n,t);return!0}function Qf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hi(t){return t==null?!1:t.settings!==void 0}const AM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ba=new Fu("app","Firebase",AM);class CM{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ba.create("app-deleted",{appName:this._name})}}const Io=TM;function aS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:dy,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw ba.create("bad-app-name",{appName:String(a)});if(n||(n=tS()),!n)throw ba.create("no-options");const l=uf.get(a);if(l){if(wo(n,l.options)&&wo(s,l.config))return l;throw ba.create("duplicate-app",{appName:a})}const u=new MD(a);for(const m of fy.values())u.addComponent(m);const d=new CM(n,s,u);return uf.set(a,d),d}function y0(t=dy){const e=uf.get(t);if(!e&&t===dy&&tS())return aS();if(!e)throw ba.create("no-app",{appName:t});return e}function Ps(t,e,n){let s=EM[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(u.join(" "));return}To(new Ta(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const RM="firebase-heartbeat-database",IM=1,Au="firebase-heartbeat-store";let Ig=null;function oS(){return Ig||(Ig=$D(RM,IM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Au)}catch(n){console.warn(n)}}}}).catch(t=>{throw ba.create("idb-open",{originalErrorMessage:t.message})})),Ig}async function NM(t){try{const n=(await oS()).transaction(Au),s=await n.objectStore(Au).get(lS(t));return await n.done,s}catch(e){if(e instanceof Gs)Tr.warn(e.message);else{const n=ba.create("idb-get",{originalErrorMessage:e?.message});Tr.warn(n.message)}}}async function kw(t,e){try{const s=(await oS()).transaction(Au,"readwrite");await s.objectStore(Au).put(e,lS(t)),await s.done}catch(n){if(n instanceof Gs)Tr.warn(n.message);else{const s=ba.create("idb-set",{originalErrorMessage:n?.message});Tr.warn(s.message)}}}function lS(t){return`${t.name}!${t.options.appId}`}const kM=1024,DM=30;class MM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Dw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>DM){const a=OM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Tr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Dw(),{heartbeatsToSend:n,unsentEntries:s}=VM(this._heartbeatsCache.heartbeats),a=cf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Tr.warn(e),""}}}function Dw(){return new Date().toISOString().substring(0,10)}function VM(t,e=kM){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Mw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Mw(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class PM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xD()?wD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return kw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return kw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Mw(t){return cf(JSON.stringify({version:2,heartbeats:t})).length}function OM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function jM(t){To(new Ta("platform-logger",e=>new QD(e),"PRIVATE")),To(new Ta("heartbeat",e=>new MM(e),"PRIVATE")),Ps(hy,Iw,t),Ps(hy,Iw,"esm2020"),Ps("fire-js","")}jM("");var LM="firebase",UM="12.8.0";Ps(LM,UM,"app");function cS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zM=cS,uS=new Fu("auth","Firebase",cS());const hf=new p0("@firebase/auth");function BM(t,...e){hf.logLevel<=Je.WARN&&hf.warn(`Auth (${Io}): ${t}`,...e)}function Hd(t,...e){hf.logLevel<=Je.ERROR&&hf.error(`Auth (${Io}): ${t}`,...e)}function zs(t,...e){throw b0(t,...e)}function fs(t,...e){return b0(t,...e)}function v0(t,e,n){const s={...zM(),[e]:n};return new Fu("auth","Firebase",s).create(e,{appName:t.name})}function _o(t){return v0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FM(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&zs(t,"argument-error"),v0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function b0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return uS.create(t,...e)}function Pe(t,e,...n){if(!t)throw b0(e,...n)}function gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hd(e),new Error(e)}function Er(t,e){t||gr(e)}function my(){return typeof self<"u"&&self.location?.href||""}function qM(){return Vw()==="http:"||Vw()==="https:"}function Vw(){return typeof self<"u"&&self.location?.protocol||null}function HM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qM()||yD()||"connection"in navigator)?navigator.onLine:!0}function GM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Er(n>e,"Short delay should be less than long delay!"),this.isMobile=mD()||vD()}get(){return HM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _0(t,e){Er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class hS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $M={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YM=new Hu(3e4,6e4);function x0(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Yl(t,e,n,s,a={}){return dS(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const d=qu({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return gD()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Ro(t.emulatorConfig.host)&&(p.credentials="include"),hS.fetch()(await fS(t,t.config.apiHost,n,d),p)})}async function dS(t,e,n){t._canInitEmulator=!1;const s={...$M,...e};try{const a=new WM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Id(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Id(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Id(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw Id(t,"user-disabled",u);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw v0(t,y,p);zs(t,y)}}catch(a){if(a instanceof Gs)throw a;zs(t,"network-request-failed",{message:String(a)})}}async function QM(t,e,n,s,a={}){const l=await Yl(t,e,n,s,a);return"mfaPendingCredential"in l&&zs(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function fS(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?_0(t.config,a):`${t.config.apiScheme}://${a}`;return KM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class WM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(fs(this.auth,"network-request-failed")),YM.get())})}}function Id(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=fs(t,e,s);return a.customData._tokenResponse=n,a}async function XM(t,e){return Yl(t,"POST","/v1/accounts:delete",e)}async function df(t,e){return Yl(t,"POST","/v1/accounts:lookup",e)}function fu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZM(t,e=!1){const n=mn(t),s=await n.getIdToken(e),a=w0(s);Pe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:fu(Ng(a.auth_time)),issuedAtTime:fu(Ng(a.iat)),expirationTime:fu(Ng(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ng(t){return Number(t)*1e3}function w0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Hd("JWT malformed, contained fewer than 3 sections"),null;try{const a=ZE(n);return a?JSON.parse(a):(Hd("Failed to decode base64 JWT payload"),null)}catch(a){return Hd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Pw(t){const e=w0(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Cu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Gs&&JM(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function JM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class eV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class py{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ff(t){const e=t.auth,n=await t.getIdToken(),s=await Cu(t,df(e,{idToken:n}));Pe(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?mS(a.providerUserInfo):[],u=nV(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,p=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new py(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function tV(t){const e=mn(t);await ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nV(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function mS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function iV(t,e){const n=await dS(t,{},async()=>{const s=qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await fS(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return t.emulatorConfig&&Ro(t.emulatorConfig.host)&&(m.credentials="include"),hS.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sV(t,e){return Yl(t,"POST","/v2/accounts:revokeToken",x0(t,e))}class Nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=Pw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await iV(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new Nl;return s&&(Pe(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Pe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Pe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nl,this.toJSON())}_performRefresh(){return gr("not implemented")}}function ca(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class us{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new eV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new py(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Cu(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZM(this,e)}reload(){return tV(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new us({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ff(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hi(this.auth.app))return Promise.reject(_o(this.auth));const e=await this.getIdToken();return await Cu(this,XM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:C,providerData:V,stsTokenManager:j}=n;Pe(b&&j,e,"internal-error");const N=Nl.fromJSON(this.name,j);Pe(typeof b=="string",e,"internal-error"),ca(s,e.name),ca(a,e.name),Pe(typeof w=="boolean",e,"internal-error"),Pe(typeof C=="boolean",e,"internal-error"),ca(l,e.name),ca(u,e.name),ca(d,e.name),ca(m,e.name),ca(p,e.name),ca(y,e.name);const H=new us({uid:b,auth:e,email:a,emailVerified:w,displayName:s,isAnonymous:C,photoURL:u,phoneNumber:l,tenantId:d,stsTokenManager:N,createdAt:p,lastLoginAt:y});return V&&Array.isArray(V)&&(H.providerData=V.map(W=>({...W}))),m&&(H._redirectEventId=m),H}static async _fromIdTokenResponse(e,n,s=!1){const a=new Nl;a.updateFromServerResponse(n);const l=new us({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await ff(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Pe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?mS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,d=new Nl;d.updateFromIdToken(s);const m=new us({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new py(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const Ow=new Map;function yr(t){Er(t instanceof Function,"Expected a class definition");let e=Ow.get(t);return e?(Er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ow.set(t,e),e)}class pS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pS.type="NONE";const jw=pS;function Gd(t,e,n){return`firebase:${t}:${e}:${n}`}class kl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Gd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Gd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await df(this.auth,{idToken:e}).catch(()=>{});return n?us._fromGetAccountInfoResponse(this.auth,n,e):null}return us._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new kl(yr(jw),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||yr(jw);const u=Gd(s,e.config.apiKey,e.name);let d=null;for(const p of n)try{const y=await p._get(u);if(y){let b;if(typeof y=="string"){const w=await df(e,{idToken:y}).catch(()=>{});if(!w)break;b=await us._fromGetAccountInfoResponse(e,w,y)}else b=us._fromJSON(e,y);p!==l&&(d=b),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new kl(l,e,s):(l=m[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new kl(l,e,s))}}function Lw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xS(e))return"Blackberry";if(wS(e))return"Webos";if(yS(e))return"Safari";if((e.includes("chrome/")||vS(e))&&!e.includes("edge/"))return"Chrome";if(_S(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function gS(t=Bn()){return/firefox\//i.test(t)}function yS(t=Bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vS(t=Bn()){return/crios\//i.test(t)}function bS(t=Bn()){return/iemobile/i.test(t)}function _S(t=Bn()){return/android/i.test(t)}function xS(t=Bn()){return/blackberry/i.test(t)}function wS(t=Bn()){return/webos/i.test(t)}function T0(t=Bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rV(t=Bn()){return T0(t)&&!!window.navigator?.standalone}function aV(){return bD()&&document.documentMode===10}function TS(t=Bn()){return T0(t)||_S(t)||wS(t)||xS(t)||/windows phone/i.test(t)||bS(t)}function ES(t,e=[]){let n;switch(t){case"Browser":n=Lw(Bn());break;case"Worker":n=`${Lw(Bn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Io}/${s}`}class oV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,d)=>{try{const m=e(l);u(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function lV(t,e={}){return Yl(t,"GET","/v2/passwordPolicy",x0(t,e))}const cV=6;class uV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??cV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class hV{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uw(this),this.idTokenSubscription=new Uw(this),this.beforeStateQueue=new oV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await df(this,{idToken:e}),s=await us._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Hi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ff(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hi(this.app))return Promise.reject(_o(this));const n=e?mn(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hi(this.app)?Promise.reject(_o(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hi(this.app)?Promise.reject(_o(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lV(this),n=new uV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await sV(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yr(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ES(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&BM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wf(t){return mn(t)}class Uw{constructor(e){this.auth=e,this.observer=null,this.addObserver=CD(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let E0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dV(t){E0=t}function fV(t){return E0.loadJS(t)}function mV(){return E0.gapiScript}function pV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function gV(t,e){const n=Qf(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(wo(l,e??{}))return a;zs(a,"already-initialized")}return n.initialize({options:e})}function yV(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(yr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function vV(t,e,n){const s=Wf(t);Pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=SS(e),{host:u,port:d}=bV(e),m=d===null?"":`:${d}`,p={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Pe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Pe(wo(p,s.config.emulator)&&wo(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Ro(u)?(f0(`${l}//${u}${m}`),m0("Auth",!0)):_V()}function SS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bV(t){const e=SS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:zw(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:zw(u)}}}function zw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _V(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class AS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,n){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}async function Dl(t,e){return QM(t,"POST","/v1/accounts:signInWithIdp",x0(t,e))}const xV="http://localhost";class Eo extends AS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new Eo(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Dl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Dl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Dl(e,n)}buildRequest(){const e={requestUri:xV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qu(n)}return e}}class S0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gu extends S0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fa extends Gu{constructor(){super("facebook.com")}static credential(e){return Eo._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fa.credential(e.oauthAccessToken)}catch{return null}}}fa.FACEBOOK_SIGN_IN_METHOD="facebook.com";fa.PROVIDER_ID="facebook.com";class pr extends Gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Eo._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return pr.credential(n,s)}catch{return null}}}pr.GOOGLE_SIGN_IN_METHOD="google.com";pr.PROVIDER_ID="google.com";class ma extends Gu{constructor(){super("github.com")}static credential(e){return Eo._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ma.credential(e.oauthAccessToken)}catch{return null}}}ma.GITHUB_SIGN_IN_METHOD="github.com";ma.PROVIDER_ID="github.com";class pa extends Gu{constructor(){super("twitter.com")}static credential(e,n){return Eo._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return pa.credential(n,s)}catch{return null}}}pa.TWITTER_SIGN_IN_METHOD="twitter.com";pa.PROVIDER_ID="twitter.com";class Ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await us._fromIdTokenResponse(e,s,a),u=Bw(s);return new Ol({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=Bw(s);return new Ol({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function Bw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class mf extends Gs{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,mf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new mf(e,n,s,a)}}function CS(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?mf._fromErrorAndOperation(t,l,e,s):l})}async function wV(t,e,n=!1){const s=await Cu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ol._forOperation(t,"link",s)}async function TV(t,e,n=!1){const{auth:s}=t;if(Hi(s.app))return Promise.reject(_o(s));const a="reauthenticate";try{const l=await Cu(t,CS(s,a,e,t),n);Pe(l.idToken,s,"internal-error");const u=w0(l.idToken);Pe(u,s,"internal-error");const{sub:d}=u;return Pe(t.uid===d,s,"user-mismatch"),Ol._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&zs(s,"user-mismatch"),l}}async function EV(t,e,n=!1){if(Hi(t.app))return Promise.reject(_o(t));const s="signIn",a=await CS(t,s,e),l=await Ol._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}function SV(t,e,n,s){return mn(t).onIdTokenChanged(e,n,s)}function AV(t,e,n){return mn(t).beforeAuthStateChanged(e,n)}function CV(t,e,n,s){return mn(t).onAuthStateChanged(e,n,s)}function RV(t){return mn(t).signOut()}const pf="__sak";class RS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pf,"1"),this.storage.removeItem(pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const IV=1e3,NV=10;class IS extends RS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);aV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,NV):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},IV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IS.type="LOCAL";const kV=IS;class NS extends RS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NS.type="SESSION";const kS=NS;function DV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Xf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Xf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(u).map(async p=>p(n.origin,l)),m=await DV(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xf.receivers=[];function A0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class MV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,m)=>{const p=A0("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(b){const w=b;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Os(){return window}function VV(t){Os().location.href=t}function DS(){return typeof Os().WorkerGlobalScope<"u"&&typeof Os().importScripts=="function"}async function PV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OV(){return navigator?.serviceWorker?.controller||null}function jV(){return DS()?self:null}const MS="firebaseLocalStorageDb",LV=1,gf="firebaseLocalStorage",VS="fbase_key";class $u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zf(t,e){return t.transaction([gf],e?"readwrite":"readonly").objectStore(gf)}function UV(){const t=indexedDB.deleteDatabase(MS);return new $u(t).toPromise()}function gy(){const t=indexedDB.open(MS,LV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(gf,{keyPath:VS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(gf)?e(s):(s.close(),await UV(),e(await gy()))})})}async function Fw(t,e,n){const s=Zf(t,!0).put({[VS]:e,value:n});return new $u(s).toPromise()}async function zV(t,e){const n=Zf(t,!1).get(e),s=await new $u(n).toPromise();return s===void 0?null:s.value}function qw(t,e){const n=Zf(t,!0).delete(e);return new $u(n).toPromise()}const BV=800,FV=3;class PS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>FV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xf._getInstance(jV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PV(),!this.activeServiceWorker)return;this.sender=new MV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gy();return await Fw(e,pf,"1"),await qw(e,pf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Fw(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>zV(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Zf(a,!1).getAll();return new $u(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PS.type="LOCAL";const qV=PS;new Hu(3e4,6e4);function OS(t,e){return e?yr(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class C0 extends AS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Dl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HV(t){return EV(t.auth,new C0(t),t.bypassAuthState)}function GV(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),TV(n,new C0(t),t.bypassAuthState)}async function $V(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),wV(n,new C0(t),t.bypassAuthState)}class jS{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HV;case"linkViaPopup":case"linkViaRedirect":return $V;case"reauthViaPopup":case"reauthViaRedirect":return GV;default:zs(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const KV=new Hu(2e3,1e4);async function YV(t,e,n){if(Hi(t.app))return Promise.reject(fs(t,"operation-not-supported-in-this-environment"));const s=Wf(t);FM(t,e,S0);const a=OS(s,n);return new go(s,"signInViaPopup",e,a).executeNotNull()}class go extends jS{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=A0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KV.get())};e()}}go.currentPopupAction=null;const QV="pendingRedirect",$d=new Map;class WV extends jS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=$d.get(this.auth._key());if(!e){try{const s=await XV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}$d.set(this.auth._key(),e)}return this.bypassAuthState||$d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XV(t,e){const n=eP(e),s=JV(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function ZV(t,e){$d.set(t._key(),e)}function JV(t){return yr(t._redirectPersistence)}function eP(t){return Gd(QV,t.config.apiKey,t.name)}async function tP(t,e,n=!1){if(Hi(t.app))return Promise.reject(_o(t));const s=Wf(t),a=OS(s,e),u=await new WV(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const nP=600*1e3;class iP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!LS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(fs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hw(e))}saveEventToCache(e){this.cachedEventUids.add(Hw(e)),this.lastProcessedEventTime=Date.now()}}function Hw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function sP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LS(t);default:return!1}}async function rP(t,e={}){return Yl(t,"GET","/v1/projects",e)}const aP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oP=/^https?/;async function lP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rP(t);for(const n of e)try{if(cP(n))return}catch{}zs(t,"unauthorized-domain")}function cP(t){const e=my(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!oP.test(n))return!1;if(aP.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const uP=new Hu(3e4,6e4);function Gw(){const t=Os().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hP(t){return new Promise((e,n)=>{function s(){Gw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gw(),n(fs(t,"network-request-failed"))},timeout:uP.get()})}if(Os().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Os().gapi?.load)s();else{const a=pV("iframefcb");return Os()[a]=()=>{gapi.load?s():n(fs(t,"network-request-failed"))},fV(`${mV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Kd=null,e})}let Kd=null;function dP(t){return Kd=Kd||hP(t),Kd}const fP=new Hu(5e3,15e3),mP="__/auth/iframe",pP="emulator/auth/iframe",gP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vP(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_0(e,pP):`https://${t.config.authDomain}/${mP}`,s={apiKey:e.apiKey,appName:t.name,v:Io},a=yP.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${qu(s).slice(1)}`}async function bP(t){const e=await dP(t),n=Os().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:vP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gP,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=fs(t,"network-request-failed"),d=Os().setTimeout(()=>{l(u)},fP.get());function m(){Os().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(u)})}))}const _P={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xP=500,wP=600,TP="_blank",EP="http://localhost";class $w{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SP(t,e,n,s=xP,a=wP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={..._P,width:s.toString(),height:a.toString(),top:l,left:u},p=Bn().toLowerCase();n&&(d=vS(p)?TP:n),gS(p)&&(e=e||EP,m.scrollbars="yes");const y=Object.entries(m).reduce((w,[C,V])=>`${w}${C}=${V},`,"");if(rV(p)&&d!=="_self")return AP(e||"",d),new $w(null);const b=window.open(e||"",d,y);Pe(b,t,"popup-blocked");try{b.focus()}catch{}return new $w(b)}function AP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const CP="__/auth/handler",RP="emulator/auth/handler",IP=encodeURIComponent("fac");async function Kw(t,e,n,s,a,l){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Io,eventId:a};if(e instanceof S0){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",AD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))u[y]=b}if(e instanceof Gu){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await t._getAppCheckToken(),p=m?`#${IP}=${encodeURIComponent(m)}`:"";return`${NP(t)}?${qu(d).slice(1)}${p}`}function NP({config:t}){return t.emulator?_0(t,RP):`https://${t.authDomain}/${CP}`}const kg="webStorageSupport";class kP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kS,this._completeRedirectFn=tP,this._overrideRedirectResult=ZV}async _openPopup(e,n,s,a){Er(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Kw(e,n,s,my(),a);return SP(e,l,A0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await Kw(e,n,s,my(),a);return VV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Er(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await bP(e),s=new iP(e);return n.register("authEvent",a=>(Pe(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kg,{type:kg},a=>{const l=a?.[0]?.[kg];l!==void 0&&n(!!l),zs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TS()||yS()||T0()}}const DP=kP;var Yw="@firebase/auth",Qw="1.12.0";class MP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function VP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PP(t){To(new Ta("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=s.options;Pe(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ES(t)},p=new hV(s,a,l,m);return yV(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),To(new Ta("auth-internal",e=>{const n=Wf(e.getProvider("auth").getImmediate());return(s=>new MP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(Yw,Qw,VP(t)),Ps(Yw,Qw,"esm2020")}const OP=300,jP=nS("authIdTokenMaxAge")||OP;let Ww=null;const LP=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>jP)return;const a=n?.token;Ww!==a&&(Ww=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function UP(t=y0()){const e=Qf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gV(t,{popupRedirectResolver:DP,persistence:[qV,kV,kS]}),s=nS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=LP(l.toString());AV(n,u,()=>u(n.currentUser)),SV(n,d=>u(d))}}const a=JE("auth");return a&&vV(n,`http://${a}`),n}function zP(){return document.getElementsByTagName("head")?.[0]??document}dV({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=fs("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",zP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PP("Browser");var Xw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _a,US;(function(){var t;function e(k,S){function M(){}M.prototype=S.prototype,k.F=S.prototype,k.prototype=new M,k.prototype.constructor=k,k.D=function(z,B,P){for(var D=Array(arguments.length-2),be=2;be<arguments.length;be++)D[be-2]=arguments[be];return S.prototype[B].apply(z,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,S,M){M||(M=0);const z=Array(16);if(typeof S=="string")for(var B=0;B<16;++B)z[B]=S.charCodeAt(M++)|S.charCodeAt(M++)<<8|S.charCodeAt(M++)<<16|S.charCodeAt(M++)<<24;else for(B=0;B<16;++B)z[B]=S[M++]|S[M++]<<8|S[M++]<<16|S[M++]<<24;S=k.g[0],M=k.g[1],B=k.g[2];let P=k.g[3],D;D=S+(P^M&(B^P))+z[0]+3614090360&4294967295,S=M+(D<<7&4294967295|D>>>25),D=P+(B^S&(M^B))+z[1]+3905402710&4294967295,P=S+(D<<12&4294967295|D>>>20),D=B+(M^P&(S^M))+z[2]+606105819&4294967295,B=P+(D<<17&4294967295|D>>>15),D=M+(S^B&(P^S))+z[3]+3250441966&4294967295,M=B+(D<<22&4294967295|D>>>10),D=S+(P^M&(B^P))+z[4]+4118548399&4294967295,S=M+(D<<7&4294967295|D>>>25),D=P+(B^S&(M^B))+z[5]+1200080426&4294967295,P=S+(D<<12&4294967295|D>>>20),D=B+(M^P&(S^M))+z[6]+2821735955&4294967295,B=P+(D<<17&4294967295|D>>>15),D=M+(S^B&(P^S))+z[7]+4249261313&4294967295,M=B+(D<<22&4294967295|D>>>10),D=S+(P^M&(B^P))+z[8]+1770035416&4294967295,S=M+(D<<7&4294967295|D>>>25),D=P+(B^S&(M^B))+z[9]+2336552879&4294967295,P=S+(D<<12&4294967295|D>>>20),D=B+(M^P&(S^M))+z[10]+4294925233&4294967295,B=P+(D<<17&4294967295|D>>>15),D=M+(S^B&(P^S))+z[11]+2304563134&4294967295,M=B+(D<<22&4294967295|D>>>10),D=S+(P^M&(B^P))+z[12]+1804603682&4294967295,S=M+(D<<7&4294967295|D>>>25),D=P+(B^S&(M^B))+z[13]+4254626195&4294967295,P=S+(D<<12&4294967295|D>>>20),D=B+(M^P&(S^M))+z[14]+2792965006&4294967295,B=P+(D<<17&4294967295|D>>>15),D=M+(S^B&(P^S))+z[15]+1236535329&4294967295,M=B+(D<<22&4294967295|D>>>10),D=S+(B^P&(M^B))+z[1]+4129170786&4294967295,S=M+(D<<5&4294967295|D>>>27),D=P+(M^B&(S^M))+z[6]+3225465664&4294967295,P=S+(D<<9&4294967295|D>>>23),D=B+(S^M&(P^S))+z[11]+643717713&4294967295,B=P+(D<<14&4294967295|D>>>18),D=M+(P^S&(B^P))+z[0]+3921069994&4294967295,M=B+(D<<20&4294967295|D>>>12),D=S+(B^P&(M^B))+z[5]+3593408605&4294967295,S=M+(D<<5&4294967295|D>>>27),D=P+(M^B&(S^M))+z[10]+38016083&4294967295,P=S+(D<<9&4294967295|D>>>23),D=B+(S^M&(P^S))+z[15]+3634488961&4294967295,B=P+(D<<14&4294967295|D>>>18),D=M+(P^S&(B^P))+z[4]+3889429448&4294967295,M=B+(D<<20&4294967295|D>>>12),D=S+(B^P&(M^B))+z[9]+568446438&4294967295,S=M+(D<<5&4294967295|D>>>27),D=P+(M^B&(S^M))+z[14]+3275163606&4294967295,P=S+(D<<9&4294967295|D>>>23),D=B+(S^M&(P^S))+z[3]+4107603335&4294967295,B=P+(D<<14&4294967295|D>>>18),D=M+(P^S&(B^P))+z[8]+1163531501&4294967295,M=B+(D<<20&4294967295|D>>>12),D=S+(B^P&(M^B))+z[13]+2850285829&4294967295,S=M+(D<<5&4294967295|D>>>27),D=P+(M^B&(S^M))+z[2]+4243563512&4294967295,P=S+(D<<9&4294967295|D>>>23),D=B+(S^M&(P^S))+z[7]+1735328473&4294967295,B=P+(D<<14&4294967295|D>>>18),D=M+(P^S&(B^P))+z[12]+2368359562&4294967295,M=B+(D<<20&4294967295|D>>>12),D=S+(M^B^P)+z[5]+4294588738&4294967295,S=M+(D<<4&4294967295|D>>>28),D=P+(S^M^B)+z[8]+2272392833&4294967295,P=S+(D<<11&4294967295|D>>>21),D=B+(P^S^M)+z[11]+1839030562&4294967295,B=P+(D<<16&4294967295|D>>>16),D=M+(B^P^S)+z[14]+4259657740&4294967295,M=B+(D<<23&4294967295|D>>>9),D=S+(M^B^P)+z[1]+2763975236&4294967295,S=M+(D<<4&4294967295|D>>>28),D=P+(S^M^B)+z[4]+1272893353&4294967295,P=S+(D<<11&4294967295|D>>>21),D=B+(P^S^M)+z[7]+4139469664&4294967295,B=P+(D<<16&4294967295|D>>>16),D=M+(B^P^S)+z[10]+3200236656&4294967295,M=B+(D<<23&4294967295|D>>>9),D=S+(M^B^P)+z[13]+681279174&4294967295,S=M+(D<<4&4294967295|D>>>28),D=P+(S^M^B)+z[0]+3936430074&4294967295,P=S+(D<<11&4294967295|D>>>21),D=B+(P^S^M)+z[3]+3572445317&4294967295,B=P+(D<<16&4294967295|D>>>16),D=M+(B^P^S)+z[6]+76029189&4294967295,M=B+(D<<23&4294967295|D>>>9),D=S+(M^B^P)+z[9]+3654602809&4294967295,S=M+(D<<4&4294967295|D>>>28),D=P+(S^M^B)+z[12]+3873151461&4294967295,P=S+(D<<11&4294967295|D>>>21),D=B+(P^S^M)+z[15]+530742520&4294967295,B=P+(D<<16&4294967295|D>>>16),D=M+(B^P^S)+z[2]+3299628645&4294967295,M=B+(D<<23&4294967295|D>>>9),D=S+(B^(M|~P))+z[0]+4096336452&4294967295,S=M+(D<<6&4294967295|D>>>26),D=P+(M^(S|~B))+z[7]+1126891415&4294967295,P=S+(D<<10&4294967295|D>>>22),D=B+(S^(P|~M))+z[14]+2878612391&4294967295,B=P+(D<<15&4294967295|D>>>17),D=M+(P^(B|~S))+z[5]+4237533241&4294967295,M=B+(D<<21&4294967295|D>>>11),D=S+(B^(M|~P))+z[12]+1700485571&4294967295,S=M+(D<<6&4294967295|D>>>26),D=P+(M^(S|~B))+z[3]+2399980690&4294967295,P=S+(D<<10&4294967295|D>>>22),D=B+(S^(P|~M))+z[10]+4293915773&4294967295,B=P+(D<<15&4294967295|D>>>17),D=M+(P^(B|~S))+z[1]+2240044497&4294967295,M=B+(D<<21&4294967295|D>>>11),D=S+(B^(M|~P))+z[8]+1873313359&4294967295,S=M+(D<<6&4294967295|D>>>26),D=P+(M^(S|~B))+z[15]+4264355552&4294967295,P=S+(D<<10&4294967295|D>>>22),D=B+(S^(P|~M))+z[6]+2734768916&4294967295,B=P+(D<<15&4294967295|D>>>17),D=M+(P^(B|~S))+z[13]+1309151649&4294967295,M=B+(D<<21&4294967295|D>>>11),D=S+(B^(M|~P))+z[4]+4149444226&4294967295,S=M+(D<<6&4294967295|D>>>26),D=P+(M^(S|~B))+z[11]+3174756917&4294967295,P=S+(D<<10&4294967295|D>>>22),D=B+(S^(P|~M))+z[2]+718787259&4294967295,B=P+(D<<15&4294967295|D>>>17),D=M+(P^(B|~S))+z[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(B+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+B&4294967295,k.g[3]=k.g[3]+P&4294967295}s.prototype.v=function(k,S){S===void 0&&(S=k.length);const M=S-this.blockSize,z=this.C;let B=this.h,P=0;for(;P<S;){if(B==0)for(;P<=M;)a(this,k,P),P+=this.blockSize;if(typeof k=="string"){for(;P<S;)if(z[B++]=k.charCodeAt(P++),B==this.blockSize){a(this,z),B=0;break}}else for(;P<S;)if(z[B++]=k[P++],B==this.blockSize){a(this,z),B=0;break}}this.h=B,this.o+=S},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;S=this.o*8;for(var M=k.length-8;M<k.length;++M)k[M]=S&255,S/=256;for(this.v(k),k=Array(16),S=0,M=0;M<4;++M)for(let z=0;z<32;z+=8)k[S++]=this.g[M]>>>z&255;return k};function l(k,S){var M=d;return Object.prototype.hasOwnProperty.call(M,k)?M[k]:M[k]=S(k)}function u(k,S){this.h=S;const M=[];let z=!0;for(let B=k.length-1;B>=0;B--){const P=k[B]|0;z&&P==S||(M[B]=P,z=!1)}this.g=M}var d={};function m(k){return-128<=k&&k<128?l(k,function(S){return new u([S|0],S<0?-1:0)}):new u([k|0],k<0?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return b;if(k<0)return N(p(-k));const S=[];let M=1;for(let z=0;k>=M;z++)S[z]=k/M|0,M*=4294967296;return new u(S,0)}function y(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return N(y(k.substring(1),S));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=p(Math.pow(S,8));let z=b;for(let P=0;P<k.length;P+=8){var B=Math.min(8,k.length-P);const D=parseInt(k.substring(P,P+B),S);B<8?(B=p(Math.pow(S,B)),z=z.j(B).add(p(D))):(z=z.j(M),z=z.add(p(D)))}return z}var b=m(0),w=m(1),C=m(16777216);t=u.prototype,t.m=function(){if(j(this))return-N(this).m();let k=0,S=1;for(let M=0;M<this.g.length;M++){const z=this.i(M);k+=(z>=0?z:4294967296+z)*S,S*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(V(this))return"0";if(j(this))return"-"+N(this).toString(k);const S=p(Math.pow(k,6));var M=this;let z="";for(;;){const B=me(M,S).g;M=H(M,B.j(S));let P=((M.g.length>0?M.g[0]:M.h)>>>0).toString(k);if(M=B,V(M))return P+z;for(;P.length<6;)P="0"+P;z=P+z}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function V(k){if(k.h!=0)return!1;for(let S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function j(k){return k.h==-1}t.l=function(k){return k=H(this,k),j(k)?-1:V(k)?0:1};function N(k){const S=k.g.length,M=[];for(let z=0;z<S;z++)M[z]=~k.g[z];return new u(M,~k.h).add(w)}t.abs=function(){return j(this)?N(this):this},t.add=function(k){const S=Math.max(this.g.length,k.g.length),M=[];let z=0;for(let B=0;B<=S;B++){let P=z+(this.i(B)&65535)+(k.i(B)&65535),D=(P>>>16)+(this.i(B)>>>16)+(k.i(B)>>>16);z=D>>>16,P&=65535,D&=65535,M[B]=D<<16|P}return new u(M,M[M.length-1]&-2147483648?-1:0)};function H(k,S){return k.add(N(S))}t.j=function(k){if(V(this)||V(k))return b;if(j(this))return j(k)?N(this).j(N(k)):N(N(this).j(k));if(j(k))return N(this.j(N(k)));if(this.l(C)<0&&k.l(C)<0)return p(this.m()*k.m());const S=this.g.length+k.g.length,M=[];for(var z=0;z<2*S;z++)M[z]=0;for(z=0;z<this.g.length;z++)for(let B=0;B<k.g.length;B++){const P=this.i(z)>>>16,D=this.i(z)&65535,be=k.i(B)>>>16,xe=k.i(B)&65535;M[2*z+2*B]+=D*xe,W(M,2*z+2*B),M[2*z+2*B+1]+=P*xe,W(M,2*z+2*B+1),M[2*z+2*B+1]+=D*be,W(M,2*z+2*B+1),M[2*z+2*B+2]+=P*be,W(M,2*z+2*B+2)}for(k=0;k<S;k++)M[k]=M[2*k+1]<<16|M[2*k];for(k=S;k<2*S;k++)M[k]=0;return new u(M,0)};function W(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function Y(k,S){this.g=k,this.h=S}function me(k,S){if(V(S))throw Error("division by zero");if(V(k))return new Y(b,b);if(j(k))return S=me(N(k),S),new Y(N(S.g),N(S.h));if(j(S))return S=me(k,N(S)),new Y(N(S.g),S.h);if(k.g.length>30){if(j(k)||j(S))throw Error("slowDivide_ only works with positive integers.");for(var M=w,z=S;z.l(k)<=0;)M=ue(M),z=ue(z);var B=de(M,1),P=de(z,1);for(z=de(z,2),M=de(M,2);!V(z);){var D=P.add(z);D.l(k)<=0&&(B=B.add(M),P=D),z=de(z,1),M=de(M,1)}return S=H(k,B.j(S)),new Y(B,S)}for(B=b;k.l(S)>=0;){for(M=Math.max(1,Math.floor(k.m()/S.m())),z=Math.ceil(Math.log(M)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),P=p(M),D=P.j(S);j(D)||D.l(k)>0;)M-=z,P=p(M),D=P.j(S);V(P)&&(P=w),B=B.add(P),k=H(k,D)}return new Y(B,k)}t.B=function(k){return me(this,k).h},t.and=function(k){const S=Math.max(this.g.length,k.g.length),M=[];for(let z=0;z<S;z++)M[z]=this.i(z)&k.i(z);return new u(M,this.h&k.h)},t.or=function(k){const S=Math.max(this.g.length,k.g.length),M=[];for(let z=0;z<S;z++)M[z]=this.i(z)|k.i(z);return new u(M,this.h|k.h)},t.xor=function(k){const S=Math.max(this.g.length,k.g.length),M=[];for(let z=0;z<S;z++)M[z]=this.i(z)^k.i(z);return new u(M,this.h^k.h)};function ue(k){const S=k.g.length+1,M=[];for(let z=0;z<S;z++)M[z]=k.i(z)<<1|k.i(z-1)>>>31;return new u(M,k.h)}function de(k,S){const M=S>>5;S%=32;const z=k.g.length-M,B=[];for(let P=0;P<z;P++)B[P]=S>0?k.i(P+M)>>>S|k.i(P+M+1)<<32-S:k.i(P+M);return new u(B,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,US=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,_a=u}).apply(typeof Xw<"u"?Xw:typeof self<"u"?self:typeof window<"u"?window:{});var Nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zS,ou,BS,Yd,yy,FS,qS,HS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nd=="object"&&Nd];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var E=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var Z=h[R];if(!(Z in E))break e;E=E[Z]}h=h[h.length-1],R=E[h],_=_(R),_!=R&&_!=null&&e(E,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var E=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&E.push([R,_[R]]);return E}});var l=l||{},u=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,E){return h.call.apply(h.bind,arguments)}function p(h,_,E){return p=m,p.apply(null,arguments)}function y(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function b(h,_){function E(){}E.prototype=_.prototype,h.Z=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(R,Z,se){for(var ye=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)ye[Fe-2]=arguments[Fe];return _.prototype[Z].apply(R,ye)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const _=h.length;if(_>0){const E=Array(_);for(let R=0;R<_;R++)E[R]=h[R];return E}return[]}function V(h,_){for(let R=1;R<arguments.length;R++){const Z=arguments[R];var E=typeof Z;if(E=E!="object"?E:Z?Array.isArray(Z)?"array":E:"null",E=="array"||E=="object"&&typeof Z.length=="number"){E=h.length||0;const se=Z.length||0;h.length=E+se;for(let ye=0;ye<se;ye++)h[E+ye]=Z[ye]}else h.push(Z)}}class j{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(h){u.setTimeout(()=>{throw h},0)}function H(){var h=k;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class W{constructor(){this.h=this.g=null}add(_,E){const R=Y.get();R.set(_,E),this.h?this.h.next=R:this.g=R,this.h=R}}var Y=new j(()=>new me,h=>h.reset());class me{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,de=!1,k=new W,S=()=>{const h=Promise.resolve(void 0);ue=()=>{h.then(M)}};function M(){for(var h;h=H();){try{h.h.call(h.g)}catch(E){N(E)}var _=Y;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}de=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function be(h,_){B.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(be,B),be.prototype.init=function(h,_){const E=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(E=="mouseover"?_=h.fromElement:E=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),J=0;function X(h,_,E,R,Z){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!R,this.ha=Z,this.key=++J,this.da=this.fa=!1}function G(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function K(h,_,E){for(const R in h)_.call(E,h[R],R,h)}function O(h,_){for(const E in h)_.call(void 0,h[E],E,h)}function T(h){const _={};for(const E in h)_[E]=h[E];return _}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(h,_){let E,R;for(let Z=1;Z<arguments.length;Z++){R=arguments[Z];for(E in R)h[E]=R[E];for(let se=0;se<L.length;se++)E=L[se],Object.prototype.hasOwnProperty.call(R,E)&&(h[E]=R[E])}}function ne(h){this.src=h,this.g={},this.h=0}ne.prototype.add=function(h,_,E,R,Z){const se=h.toString();h=this.g[se],h||(h=this.g[se]=[],this.h++);const ye=ge(h,_,R,Z);return ye>-1?(_=h[ye],E||(_.fa=!1)):(_=new X(_,this.src,se,!!R,Z),_.fa=E,h.push(_)),_};function pe(h,_){const E=_.type;if(E in h.g){var R=h.g[E],Z=Array.prototype.indexOf.call(R,_,void 0),se;(se=Z>=0)&&Array.prototype.splice.call(R,Z,1),se&&(G(_),h.g[E].length==0&&(delete h.g[E],h.h--))}}function ge(h,_,E,R){for(let Z=0;Z<h.length;++Z){const se=h[Z];if(!se.da&&se.listener==_&&se.capture==!!E&&se.ha==R)return Z}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),Ae={};function Re(h,_,E,R,Z){if(Array.isArray(_)){for(let se=0;se<_.length;se++)Re(h,_[se],E,R,Z);return null}return E=ln(E),h&&h[xe]?h.J(_,E,d(R)?!!R.capture:!1,Z):Ye(h,_,E,!1,R,Z)}function Ye(h,_,E,R,Z,se){if(!_)throw Error("Invalid event type");const ye=d(Z)?!!Z.capture:!!Z;let Fe=Vt(h);if(Fe||(h[fe]=Fe=new ne(h)),E=Fe.add(_,E,R,ye,se),E.proxy)return E;if(R=ze(),E.proxy=R,R.src=h,R.listener=E,h.addEventListener)P||(Z=ye),Z===void 0&&(Z=!1),h.addEventListener(_.toString(),R,Z);else if(h.attachEvent)h.attachEvent(Ve(_.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ze(){function h(E){return _.call(h.src,h.listener,E)}const _=Mt;return h}function Ge(h,_,E,R,Z){if(Array.isArray(_))for(var se=0;se<_.length;se++)Ge(h,_[se],E,R,Z);else R=d(R)?!!R.capture:!!R,E=ln(E),h&&h[xe]?(h=h.i,se=String(_).toString(),se in h.g&&(_=h.g[se],E=ge(_,E,R,Z),E>-1&&(G(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete h.g[se],h.h--)))):h&&(h=Vt(h))&&(_=h.g[_.toString()],h=-1,_&&(h=ge(_,E,R,Z)),(E=h>-1?_[h]:null)&&xt(E))}function xt(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[xe])pe(_.i,h);else{var E=h.type,R=h.proxy;_.removeEventListener?_.removeEventListener(E,R,h.capture):_.detachEvent?_.detachEvent(Ve(E),R):_.addListener&&_.removeListener&&_.removeListener(R),(E=Vt(_))?(pe(E,h),E.h==0&&(E.src=null,_[fe]=null)):G(h)}}}function Ve(h){return h in Ae?Ae[h]:Ae[h]="on"+h}function Mt(h,_){if(h.da)h=!0;else{_=new be(_,this);const E=h.listener,R=h.ha||h.src;h.fa&&xt(h),h=E.call(R,_)}return h}function Vt(h){return h=h[fe],h instanceof ne?h:null}var Qt="__closure_events_fn_"+(Math.random()*1e9>>>0);function ln(h){return typeof h=="function"?h:(h[Qt]||(h[Qt]=function(_){return h.handleEvent(_)}),h[Qt])}function ot(){z.call(this),this.i=new ne(this),this.M=this,this.G=null}b(ot,z),ot.prototype[xe]=!0,ot.prototype.removeEventListener=function(h,_,E,R){Ge(this,h,_,E,R)};function Be(h,_){var E,R=h.G;if(R)for(E=[];R;R=R.G)E.push(R);if(h=h.M,R=_.type||_,typeof _=="string")_=new B(_,h);else if(_ instanceof B)_.target=_.target||h;else{var Z=_;_=new B(R,h),Q(_,Z)}Z=!0;let se,ye;if(E)for(ye=E.length-1;ye>=0;ye--)se=_.g=E[ye],Z=Vn(se,R,!0,_)&&Z;if(se=_.g=h,Z=Vn(se,R,!0,_)&&Z,Z=Vn(se,R,!1,_)&&Z,E)for(ye=0;ye<E.length;ye++)se=_.g=E[ye],Z=Vn(se,R,!1,_)&&Z}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const E=h.g[_];for(let R=0;R<E.length;R++)G(E[R]);delete h.g[_],h.h--}}this.G=null},ot.prototype.J=function(h,_,E,R){return this.i.add(String(h),_,!1,E,R)},ot.prototype.K=function(h,_,E,R){return this.i.add(String(h),_,!0,E,R)};function Vn(h,_,E,R){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let Z=!0;for(let se=0;se<_.length;++se){const ye=_[se];if(ye&&!ye.da&&ye.capture==E){const Fe=ye.listener,Gt=ye.ha||ye.src;ye.fa&&pe(h.i,ye),Z=Fe.call(Gt,R)!==!1&&Z}}return Z&&!R.defaultPrevented}function Rr(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function Ks(h){h.g=Rr(()=>{h.g=null,h.i&&(h.i=!1,Ks(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class zt extends z{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ks(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(h){z.call(this),this.h=h,this.g={}}b(oi,z);var Ei=[];function ys(h){K(h.g,function(_,E){this.g.hasOwnProperty(E)&&xt(_)},h),h.g={}}oi.prototype.N=function(){oi.Z.N.call(this),ys(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Si=u.JSON.stringify,Ys=u.JSON.parse,xn=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function vs(){}function bs(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function cn(){B.call(this,"d")}b(cn,B);function wn(){B.call(this,"c")}b(wn,B);var Pt={},Do=null;function Ir(){return Do=Do||new ot}Pt.Ia="serverreachability";function Mo(h){B.call(this,Pt.Ia,h)}b(Mo,B);function Tn(h){const _=Ir();Be(_,new Mo(_))}Pt.STAT_EVENT="statevent";function En(h,_){B.call(this,Pt.STAT_EVENT,h),this.stat=_}b(En,B);function vt(h){const _=Ir();Be(_,new En(_,h))}Pt.Ja="timingevent";function pn(h,_){B.call(this,Pt.Ja,h),this.size=_}b(pn,B);function li(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function rc(h,_,E,R,Z,se){h.info(function(){if(h.g)if(se){var ye="",Fe=se.split("&");for(let lt=0;lt<Fe.length;lt++){var Gt=Fe[lt].split("=");if(Gt.length>1){const Nt=Gt[0];Gt=Gt[1];const Mi=Nt.split("_");ye=Mi.length>=2&&Mi[1]=="type"?ye+(Nt+"="+Gt+"&"):ye+(Nt+"=redacted&")}}}else ye=null;else ye=se;return"XMLHTTP REQ ("+R+") [attempt "+Z+"]: "+_+`
`+E+`
`+ye})}function _s(h,_,E,R,Z,se,ye){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Z+"]: "+_+`
`+E+`
`+se+" "+ye})}function wt(h,_,E,R){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+ui(h,E)+(R?" "+R:"")})}function ci(h,_){h.info(function(){return"TIMEOUT: "+_})}qn.prototype.info=function(){};function ui(h,_){if(!h.g)return _;if(!_)return null;try{const se=JSON.parse(_);if(se){for(h=0;h<se.length;h++)if(Array.isArray(se[h])){var E=se[h];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var Z=R[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let ye=1;ye<R.length;ye++)R[ye]=""}}}}return Si(se)}catch{return _}}var Ai={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xi;function xs(){}b(xs,vs),xs.prototype.g=function(){return new XMLHttpRequest},Xi=new xs;function Zi(h){return encodeURIComponent(String(h))}function ja(h){var _=1;h=h.split(":");const E=[];for(;_>0&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function hi(h,_,E,R){this.j=h,this.i=_,this.l=E,this.S=R||1,this.V=new oi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var It={},Bt={};function Ci(h,_,E){h.M=1,h.A=Ua(Zt(_)),h.u=E,h.R=!0,Nr(h,null)}function Nr(h,_){h.F=Date.now(),Ri(h),h.B=Zt(h.A);var E=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Oo(E.i,"t",R),h.C=0,E=h.j.L,h.h=new Xn,h.g=xh(h.j,E?_:null,!h.u),h.P>0&&(h.O=new zt(p(h.Y,h,h.g),h.P)),_=h.V,E=h.g,R=h.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(Ei[0]=Z.toString()),Z=Ei);for(let se=0;se<Z.length;se++){const ye=Re(E,Z[se],R||_.handleEvent,!1,_.h||_);if(!ye)break;_.g[ye.key]=ye}_=h.J?T(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Tn(),rc(h.i,h.v,h.B,h.l,h.S,h.u)}hi.prototype.ba=function(h){h=h.target;const _=this.O;_&&ns(h)==3?_.j():this.Y(h)},hi.prototype.Y=function(h){try{if(h==this.g)e:{const Fe=ns(this.g),Gt=this.g.ya(),lt=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||Cn(this.g)))){this.K||Fe!=4||Gt==7||(Gt==8||lt<=0?Tn(3):Tn(2)),Ji(this);var _=this.g.ca();this.X=_;var E=ac(this);if(this.o=_==200,_s(this.i,this.v,this.B,this.l,this.S,Fe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,Z=this.g;if((R=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(R)){var se=R;break t}}se=null}if(h=se)wt(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,h);else{this.o=!1,this.m=3,vt(12),Sn(this),Hn(this);break e}}if(this.R){h=!0;let Nt;for(;!this.K&&this.C<E.length;)if(Nt=Vo(this,E),Nt==Bt){Fe==4&&(this.m=4,vt(14),h=!1),wt(this.i,this.l,null,"[Incomplete Response]");break}else if(Nt==It){this.m=4,vt(15),wt(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else wt(this.i,this.l,Nt,null),Ii(this,Nt);if(La(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||E.length!=0||this.h.h||(this.m=1,vt(16),h=!1),this.o=this.o&&h,!h)wt(this.i,this.l,E,"[Invalid Chunked Response]"),Sn(this),Hn(this);else if(E.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),gc(ye),ye.P=!0,vt(11))}}else wt(this.i,this.l,E,null),Ii(this,E);Fe==4&&Sn(this),this.o&&!this.K&&(Fe==4?yh(this.j,this):(this.o=!1,Ri(this)))}else Ws(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),Sn(this),Hn(this)}}}catch{}};function ac(h){if(!La(h))return h.g.la();const _=Cn(h.g);if(_==="")return"";let E="";const R=_.length,Z=ns(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Sn(h),Hn(h),"";h.h.i=new u.TextDecoder}for(let se=0;se<R;se++)h.h.h=!0,E+=h.h.i.decode(_[se],{stream:!(Z&&se==R-1)});return _.length=0,h.h.g+=E,h.C=0,h.h.g}function La(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Vo(h,_){var E=h.C,R=_.indexOf(`
`,E);return R==-1?Bt:(E=Number(_.substring(E,R)),isNaN(E)?It:(R+=1,R+E>_.length?Bt:(_=_.slice(R,R+E),h.C=R+E,_)))}hi.prototype.cancel=function(){this.K=!0,Sn(this)};function Ri(h){h.T=Date.now()+h.H,di(h,h.H)}function di(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=li(p(h.aa,h),_)}function Ji(h){h.D&&(u.clearTimeout(h.D),h.D=null)}hi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ci(this.i,this.B),this.M!=2&&(Tn(),vt(17)),Sn(this),this.m=2,Hn(this)):di(this,this.T-h)};function Hn(h){h.j.I==0||h.K||yh(h.j,h)}function Sn(h){Ji(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,ys(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Ii(h,_){try{var E=h.j;if(E.I!=0&&(E.g==h||bt(E.h,h))){if(!h.L&&bt(E.h,h)&&E.I==3){try{var R=E.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Z=R;if(Z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Bo(E),Ur(E);else break e;$a(E),vt(18)}}else E.xa=Z[1],0<E.xa-E.K&&Z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=li(p(E.Va,E),6e3));St(E.h)<=1&&E.ta&&(E.ta=void 0)}else Cs(E,11)}else if((h.L||E.g==h)&&Bo(E),!D(_))for(Z=E.Ba.g.parse(_),_=0;_<Z.length;_++){let lt=Z[_];const Nt=lt[0];if(!(Nt<=E.K))if(E.K=Nt,lt=lt[1],E.I==2)if(lt[0]=="c"){E.M=lt[1],E.ba=lt[2];const Mi=lt[3];Mi!=null&&(E.ka=Mi,E.j.info("VER="+E.ka));const Rs=lt[4];Rs!=null&&(E.za=Rs,E.j.info("SVER="+E.za));const is=lt[5];is!=null&&typeof is=="number"&&is>0&&(R=1.5*is,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const ss=h.g;if(ss){const Ka=ss.g?ss.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ka){var se=R.h;se.g||Ka.indexOf("spdy")==-1&&Ka.indexOf("quic")==-1&&Ka.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Wt(se,se.h),se.h=null))}if(R.G){const Fo=ss.g?ss.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(R.wa=Fo,ht(R.J,R.G,Fo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var ye=h;if(R.na=_h(R,R.L?R.ba:null,R.W),ye.L){An(R.h,ye);var Fe=ye,Gt=R.O;Gt&&(Fe.H=Gt),Fe.D&&(Ji(Fe),Ri(Fe)),R.g=ye}else ph(R);E.i.length>0&&As(E)}else lt[0]!="stop"&&lt[0]!="close"||Cs(E,7);else E.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?Cs(E,7):mc(E):lt[0]!="noop"&&E.l&&E.l.qa(lt),E.A=0)}}Tn(4)}catch{}}var F=class{constructor(h,_){this.g=h,this.map=_}};function Ie(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Et(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function St(h){return h.h?1:h.g?h.g.size:0}function bt(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Wt(h,_){h.g?h.g.add(_):h.h=_}function An(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Ie.prototype.cancel=function(){if(this.i=Xt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Xt(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const E of h.g.values())_=_.concat(E.G);return _}return C(h.i)}var Ni=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kr(h,_){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const R=h[E].indexOf("=");let Z,se=null;R>=0?(Z=h[E].substring(0,R),se=h[E].substring(R+1)):Z=h[E],_(Z,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function fi(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof fi?(this.l=h.l,gn(this,h.j),this.o=h.o,this.g=h.g,Dr(this,h.u),this.h=h.h,oc(this,fh(h.i)),this.m=h.m):h&&(_=String(h).match(Ni))?(this.l=!1,gn(this,_[1]||"",!0),this.o=ws(_[2]||""),this.g=ws(_[3]||"",!0),Dr(this,_[4]),this.h=ws(_[5]||"",!0),oc(this,_[6]||"",!0),this.m=ws(_[7]||"")):(this.l=!1,this.i=new Vr(null,this.l))}fi.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(za(_,Po,!0),":");var E=this.g;return(E||_=="file")&&(h.push("//"),(_=this.o)&&h.push(za(_,Po,!0),"@"),h.push(Zi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(za(E,E.charAt(0)=="/"?lc:uh,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",za(E,hh)),h.join("")},fi.prototype.resolve=function(h){const _=Zt(this);let E=!!h.j;E?gn(_,h.j):E=!!h.o,E?_.o=h.o:E=!!h.g,E?_.g=h.g:E=h.u!=null;var R=h.h;if(E)Dr(_,h.u);else if(E=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Z=_.h.lastIndexOf("/");Z!=-1&&(R=_.h.slice(0,Z+1)+R)}if(Z=R,Z==".."||Z==".")R="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){R=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const se=[];for(let ye=0;ye<Z.length;){const Fe=Z[ye++];Fe=="."?R&&ye==Z.length&&se.push(""):Fe==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),R&&ye==Z.length&&se.push("")):(se.push(Fe),R=!0)}R=se.join("/")}else R=Z}return E?_.h=R:E=h.i.toString()!=="",E?oc(_,fh(h.i)):E=!!h.m,E&&(_.m=h.m),_};function Zt(h){return new fi(h)}function gn(h,_,E){h.j=E?ws(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Dr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function oc(h,_,E){_ instanceof Vr?(h.i=_,jo(h.i,h.l)):(E||(_=za(_,Mr)),h.i=new Vr(_,h.l))}function ht(h,_,E){h.i.set(_,E)}function Ua(h){return ht(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ws(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function za(h,_,E){return typeof h=="string"?(h=encodeURI(h).replace(_,Zn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Zn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Po=/[#\/\?@]/g,uh=/[#\?:]/g,lc=/[#\?]/g,Mr=/[#\?@]/g,hh=/#/g;function Vr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Jn(h){h.g||(h.g=new Map,h.h=0,h.i&&kr(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=Vr.prototype,t.add=function(h,_){Jn(this),this.i=null,h=Pr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this};function dh(h,_){Jn(h),_=Pr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function cc(h,_){return Jn(h),_=Pr(h,_),h.g.has(_)}t.forEach=function(h,_){Jn(this),this.g.forEach(function(E,R){E.forEach(function(Z){h.call(_,Z,R,this)},this)},this)};function uc(h,_){Jn(h);let E=[];if(typeof _=="string")cc(h,_)&&(E=E.concat(h.g.get(Pr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)E=E.concat(h[_]);return E}t.set=function(h,_){return Jn(this),this.i=null,h=Pr(this,h),cc(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=uc(this,h),h.length>0?String(h[0]):_):_};function Oo(h,_,E){dh(h,_),E.length>0&&(h.i=null,h.g.set(Pr(h,_),C(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var E=_[R];const Z=Zi(E);E=uc(this,E);for(let se=0;se<E.length;se++){let ye=Z;E[se]!==""&&(ye+="="+Zi(E[se])),h.push(ye)}}return this.i=h.join("&")};function fh(h){const _=new Vr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Pr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function jo(h,_){_&&!h.j&&(Jn(h),h.i=null,h.g.forEach(function(E,R){const Z=R.toLowerCase();R!=Z&&(dh(this,R),Oo(this,Z,E))},h)),h.j=_}function es(h,_){const E=new qn;if(u.Image){const R=new Image;R.onload=y(ki,E,"TestLoadImage: loaded",!0,_,R),R.onerror=y(ki,E,"TestLoadImage: error",!1,_,R),R.onabort=y(ki,E,"TestLoadImage: abort",!1,_,R),R.ontimeout=y(ki,E,"TestLoadImage: timeout",!1,_,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else _(!1)}function hc(h,_){const E=new qn,R=new AbortController,Z=setTimeout(()=>{R.abort(),ki(E,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:R.signal}).then(se=>{clearTimeout(Z),se.ok?ki(E,"TestPingServer: ok",!0,_):ki(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Z),ki(E,"TestPingServer: error",!1,_)})}function ki(h,_,E,R,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),R(E)}catch{}}function Or(){this.g=new xn}function Ts(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Ts,vs),Ts.prototype.g=function(){return new Ba(this.i,this.h)};function Ba(h,_){ot.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ba,ot),t=Ba.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,ts(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,jr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Lo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Lo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?jr(this):ts(this),this.readyState==3&&Lo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,jr(this))},t.Na=function(h){this.g&&(this.response=h,jr(this))},t.ga=function(){this.g&&jr(this)};function jr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ts(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=_.next();return h.join(`\r
`)};function ts(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Di(h){let _="";return K(h,function(E,R){_+=R,_+=":",_+=E,_+=`\r
`}),_}function Fa(h,_,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Di(E),typeof h=="string"?E!=null&&Zi(E):ht(h,_,E))}function mt(h){ot.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(mt,ot);var Es=/^https?$/i,dc=["POST","PUT"];t=mt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xi.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(se){qa(this,se);return}if(h=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Z in R)E.set(Z,R[Z]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const se of R.keys())E.set(se,R.get(se));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(se=>se.toLowerCase()=="content-type"),Z=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(dc,_,void 0)>=0)||R||Z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ye]of E)this.g.setRequestHeader(se,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(se){qa(this,se)}};function qa(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,fc(h),Qs(h)}function fc(h){h.A||(h.A=!0,Be(h,"complete"),Be(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Be(this,"complete"),Be(this,"abort"),Qs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qs(this,!0)),mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ha(this):this.Xa())},t.Xa=function(){Ha(this)};function Ha(h){if(h.h&&typeof l<"u"){if(h.v&&ns(h)==4)setTimeout(h.Ca.bind(h),0);else if(Be(h,"readystatechange"),ns(h)==4){h.h=!1;try{const se=h.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var R;if(R=se===0){let ye=String(h.D).match(Ni)[1]||null;!ye&&u.self&&u.self.location&&(ye=u.self.location.protocol.slice(0,-1)),R=!Es.test(ye?ye.toLowerCase():"")}E=R}if(E)Be(h,"complete"),Be(h,"success");else{h.o=6;try{var Z=ns(h)>2?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.ca()+"]",fc(h)}}finally{Qs(h)}}}}function Qs(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,_||Be(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ns(h){return h.g?h.g.readyState:0}t.ca=function(){try{return ns(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Ys(_)}};function Cn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ws(h){const _={};h=(h.g&&ns(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(D(h[R]))continue;var E=ja(h[R]);const Z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const se=_[Z]||[];_[Z]=se,se.push(E)}O(_,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function Lr(h){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ss("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ss("baseRetryDelayMs",5e3,h),this.Za=Ss("retryDelaySeedMs",1e4,h),this.Ta=Ss("forwardChannelMaxRetries",2,h),this.va=Ss("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ie(h&&h.concurrentRequestLimit),this.Ba=new Or,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Lr.prototype,t.ka=8,t.I=1,t.connect=function(h,_,E,R){vt(0),this.W=h,this.H=_||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=_h(this,null,this.W),As(this)};function mc(h){if(Uo(h),h.I==3){var _=h.V++,E=Zt(h.J);if(ht(E,"SID",h.M),ht(E,"RID",_),ht(E,"TYPE","terminate"),Ga(h,E),_=new hi(h,h.j,_),_.M=2,_.A=Ua(Zt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=xh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ri(_)}bh(h)}function Ur(h){h.g&&(gc(h),h.g.cancel(),h.g=null)}function Uo(h){Ur(h),h.v&&(u.clearTimeout(h.v),h.v=null),Bo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function As(h){if(!Et(h.h)&&!h.m){h.m=!0;var _=h.Ea;ue||S(),de||(ue(),de=!0),k.add(_,h),h.D=0}}function zo(h,_){return St(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=li(p(h.Ea,h,_),vh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Z=new hi(this,this.j,h);let se=this.o;if(this.U&&(se?(se=T(se),Q(se,this.U)):se=this.U),this.u!==null||this.R||(Z.J=se,se=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=mh(this,Z,_),E=Zt(this.J),ht(E,"RID",h),ht(E,"CVER",22),this.G&&ht(E,"X-HTTP-Session-Id",this.G),Ga(this,E),se&&(this.R?_="headers="+Zi(Di(se))+"&"+_:this.u&&Fa(E,this.u,se)),Wt(this.h,Z),this.Ra&&ht(E,"TYPE","init"),this.S?(ht(E,"$req",_),ht(E,"SID","null"),Z.U=!0,Ci(Z,E,null)):Ci(Z,E,_),this.I=2}}else this.I==3&&(h?pc(this,h):this.i.length==0||Et(this.h)||pc(this))};function pc(h,_){var E;_?E=_.l:E=h.V++;const R=Zt(h.J);ht(R,"SID",h.M),ht(R,"RID",E),ht(R,"AID",h.K),Ga(h,R),h.u&&h.o&&Fa(R,h.u,h.o),E=new hi(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),_&&(h.i=_.G.concat(h.i)),_=mh(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Wt(h.h,E),Ci(E,R,_)}function Ga(h,_){h.H&&K(h.H,function(E,R){ht(_,R,E)}),h.l&&K({},function(E,R){ht(_,R,E)})}function mh(h,_,E){E=Math.min(h.i.length,E);const R=h.l?p(h.l.Ka,h.l,h):null;e:{var Z=h.i;let Fe=-1;for(;;){const Gt=["count="+E];Fe==-1?E>0?(Fe=Z[0].g,Gt.push("ofs="+Fe)):Fe=0:Gt.push("ofs="+Fe);let lt=!0;for(let Nt=0;Nt<E;Nt++){var se=Z[Nt].g;const Mi=Z[Nt].map;if(se-=Fe,se<0)Fe=Math.max(0,Z[Nt].g-100),lt=!1;else try{se="req"+se+"_"||"";try{var ye=Mi instanceof Map?Mi:Object.entries(Mi);for(const[Rs,is]of ye){let ss=is;d(is)&&(ss=Si(is)),Gt.push(se+Rs+"="+encodeURIComponent(ss))}}catch(Rs){throw Gt.push(se+"type="+encodeURIComponent("_badmap")),Rs}}catch{R&&R(Mi)}}if(lt){ye=Gt.join("&");break e}}ye=void 0}return h=h.i.splice(0,E),_.G=h,ye}function ph(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ue||S(),de||(ue(),de=!0),k.add(_,h),h.A=0}}function $a(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=li(p(h.Da,h),vh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,gh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=li(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Ur(this),gh(this))};function gc(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function gh(h){h.g=new hi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Zt(h.na);ht(_,"RID","rpc"),ht(_,"SID",h.M),ht(_,"AID",h.K),ht(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&ht(_,"TO",h.ia),ht(_,"TYPE","xmlhttp"),Ga(h,_),h.u&&h.o&&Fa(_,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Ua(Zt(_)),E.u=null,E.R=!0,Nr(E,h)}t.Va=function(){this.C!=null&&(this.C=null,Ur(this),$a(this),vt(19))};function Bo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function yh(h,_){var E=null;if(h.g==_){Bo(h),gc(h),h.g=null;var R=2}else if(bt(h.h,_))E=_.G,An(h.h,_),R=1;else return;if(h.I!=0){if(_.o)if(R==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var Z=h.D;R=Ir(),Be(R,new pn(R,E)),As(h)}else ph(h);else if(Z=_.m,Z==3||Z==0&&_.X>0||!(R==1&&zo(h,_)||R==2&&$a(h)))switch(E&&E.length>0&&(_=h.h,_.i=_.i.concat(E)),Z){case 1:Cs(h,5);break;case 4:Cs(h,10);break;case 3:Cs(h,6);break;default:Cs(h,2)}}}function vh(h,_){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*_}function Cs(h,_){if(h.j.info("Error code "+_),_==2){var E=p(h.bb,h),R=h.Ua;const Z=!R;R=new fi(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||gn(R,"https"),Ua(R),Z?es(R.toString(),E):hc(R.toString(),E)}else vt(2);h.I=0,h.l&&h.l.pa(_),bh(h),Uo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function bh(h){if(h.I=0,h.ja=[],h.l){const _=Xt(h.h);(_.length!=0||h.i.length!=0)&&(V(h.ja,_),V(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function _h(h,_,E){var R=E instanceof fi?Zt(E):new fi(E);if(R.g!="")_&&(R.g=_+"."+R.g),Dr(R,R.u);else{var Z=u.location;R=Z.protocol,_=_?_+"."+Z.hostname:Z.hostname,Z=+Z.port;const se=new fi(null);R&&gn(se,R),_&&(se.g=_),Z&&Dr(se,Z),E&&(se.h=E),R=se}return E=h.G,_=h.wa,E&&_&&ht(R,E,_),ht(R,"VER",h.ka),Ga(h,R),R}function xh(h,_,E){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new mt(new Ts({ab:E})):new mt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wh(){}t=wh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function zr(){}zr.prototype.g=function(h,_){return new Gn(h,_)};function Gn(h,_){ot.call(this),this.g=new Lr(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!D(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Xs(this)}b(Gn,ot),Gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){mc(this.g)},Gn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Si(h),h=E);_.i.push(new F(_.Ya++,h)),_.I==3&&As(_)},Gn.prototype.N=function(){this.g.l=null,delete this.j,mc(this.g),delete this.g,Gn.Z.N.call(this)};function Th(h){cn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const E in _){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(Th,cn);function Eh(){wn.call(this),this.status=1}b(Eh,wn);function Xs(h){this.g=h}b(Xs,wh),Xs.prototype.ra=function(){Be(this.g,"a")},Xs.prototype.qa=function(h){Be(this.g,new Th(h))},Xs.prototype.pa=function(h){Be(this.g,new Eh)},Xs.prototype.oa=function(){Be(this.g,"b")},zr.prototype.createWebChannel=zr.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,HS=function(){return new zr},qS=function(){return Ir()},FS=Pt,yy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,Yd=Ai,Wi.COMPLETE="complete",BS=Wi,bs.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",ot.prototype.listen=ot.prototype.J,ou=bs,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,zS=mt}).apply(typeof Nd<"u"?Nd:typeof self<"u"?self:typeof window<"u"?window:{});let Ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");let Ql="12.8.0";function BP(t){Ql=t}const So=new p0("@firebase/firestore");function _l(){return So.logLevel}function _e(t,...e){if(So.logLevel<=Je.DEBUG){const n=e.map(R0);So.debug(`Firestore (${Ql}): ${t}`,...n)}}function Sr(t,...e){if(So.logLevel<=Je.ERROR){const n=e.map(R0);So.error(`Firestore (${Ql}): ${t}`,...n)}}function Ao(t,...e){if(So.logLevel<=Je.WARN){const n=e.map(R0);So.warn(`Firestore (${Ql}): ${t}`,...n)}}function R0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Me(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,GS(t,s,n)}function GS(t,e,n){let s=`FIRESTORE (${Ql}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Sr(s),new Error(s)}function ut(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||GS(e,a,s)}function Ue(t,e){return t}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Gs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class br{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class $S{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ln.UNAUTHENTICATED)))}shutdown(){}}class FP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class qP{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new br;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new br,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new br)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ut(typeof s.accessToken=="string",31837,{l:s}),new $S(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Ln(e)}}class HP{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class GP{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new HP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Zw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $P{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const s=l=>{l.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,_e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Zw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Zw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function KP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Jf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=KP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function et(t,e){return t<e?-1:t>e?1:0}function vy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Dg(a)===Dg(l)?et(a,l):Dg(a)?1:-1}return et(t.length,e.length)}const YP=55296,QP=57343;function Dg(t){const e=t.charCodeAt(0);return e>=YP&&e<=QP}function jl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const Jw="__name__";class Ms{constructor(e,n,s){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Me(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ms.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ms?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Ms.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return et(e.length,n.length)}static compareSegments(e,n){const s=Ms.isNumericId(e),a=Ms.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Ms.extractNumericId(e).compare(Ms.extractNumericId(n)):vy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _a.fromString(e.substring(4,e.length-2))}}class Tt extends Ms{construct(e,n,s){return new Tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ve(ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new Tt(n)}static emptyPath(){return new Tt([])}}const WP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends Ms{construct(e,n,s){return new bn(e,n,s)}static isValidIdentifier(e){return WP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jw}static keyField(){return new bn([Jw])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ve(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ve(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ve(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(s+=d,a++):(l(),a++)}if(l(),u)throw new ve(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Tt.fromString(e))}static fromName(e){return new Ne(Tt.fromString(e).popFirst(5))}static empty(){return new Ne(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Tt(e.slice()))}}function YS(t,e,n){if(!n)throw new ve(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QS(t,e,n,s){if(e===!0&&s===!0)throw new ve(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function e1(t){if(!Ne.isDocumentKey(t))throw new ve(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function t1(t){if(Ne.isDocumentKey(t))throw new ve(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function WS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function em(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function Wn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=em(t);throw new ve(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function on(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ku(t,e){if(!WS(t))throw new ve(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ve(ce.INVALID_ARGUMENT,n);return!0}const n1=-62135596800,i1=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*i1);return new Le(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<n1)throw new ve(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i1}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ku(e,Le._jsonSchema))return new Le(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-n1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Le._jsonSchemaVersion="firestore/timestamp/1.0",Le._jsonSchema={type:on("string",Le._jsonSchemaVersion),seconds:on("number"),nanoseconds:on("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Le(0,0))}static max(){return new Oe(new Le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ru=-1;function XP(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(s===1e9?new Le(n+1,0):new Le(n,s));return new Ea(a,Ne.empty(),e)}function ZP(t){return new Ea(t.readTime,t.key,Ru)}class Ea{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ea(Oe.min(),Ne.empty(),Ru)}static max(){return new Ea(Oe.max(),Ne.empty(),Ru)}}function JP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}const e4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class t4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Wl(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==e4)throw t;_e("LocalStore","Unexpectedly lost primary lease")}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,s)=>{n(e)}))}static reject(e){return new he(((n,s)=>{s(e)}))}static waitFor(e){return new he(((n,s)=>{let a=0,l=0,u=!1;e.forEach((d=>{++a,d.next((()=>{++l,u&&l===a&&n()}),(m=>s(m)))})),u=!0,l===a&&n()}))}static or(e){let n=he.resolve(!1);for(const s of e)n=n.next((a=>a?he.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new he(((s,a)=>{const l=e.length,u=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((y=>{u[p]=y,++d,d===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new he(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function n4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xl(t){return t.name==="IndexedDbTransactionError"}class tm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}tm.ce=-1;const I0=-1;function nm(t){return t==null}function yf(t){return t===0&&1/t==-1/0}function i4(t){return typeof t=="number"&&Number.isInteger(t)&&!yf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const XS="";function s4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=s1(e)),e=r4(t.get(n),e);return s1(e)}function r4(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case XS:n+="";break;default:n+=l}}return n}function s1(t){return t+XS+""}function r1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ma(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ut{constructor(e,n){this.comparator=e,this.root=n||Mn.EMPTY}insert(e,n){return new Ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kd(this.root,e,this.comparator,!1)}getReverseIterator(){return new kd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kd(this.root,e,this.comparator,!0)}}class kd{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??Mn.RED,this.left=a??Mn.EMPTY,this.right=l??Mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new Mn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Mn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new Mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fn{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a1(this.data.getIterator())}getIteratorFrom(e){return new a1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new fn(this.comparator);return n.data=e,n}}class a1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wi{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new wi([])}unionWith(e){let n=new fn(bn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class JS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new JS("Invalid base64 string: "+l):l}})(e);return new _n(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const a4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sa(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=a4.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Aa(t){return typeof t=="string"?_n.fromBase64String(t):_n.fromUint8Array(t)}const eA="server_timestamp",tA="__type__",nA="__previous_value__",iA="__local_write_time__";function N0(t){return(t?.mapValue?.fields||{})[tA]?.stringValue===eA}function im(t){const e=t.mapValue.fields[nA];return N0(e)?im(e):e}function Iu(t){const e=Sa(t.mapValue.fields[iA].timestampValue);return new Le(e.seconds,e.nanos)}class o4{constructor(e,n,s,a,l,u,d,m,p,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=b}}const vf="(default)";class Ll{constructor(e,n){this.projectId=e,this.database=n||vf}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===vf}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}function l4(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ve(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(t.options.projectId,e)}const sA="__type__",c4="__max__",Dd={mapValue:{}},rA="__vector__",bf="value";function Ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?N0(t)?4:h4(t)?9007199254740991:u4(t)?10:11:Me(28295,{value:t})}function Bs(t,e){if(t===e)return!0;const n=Ca(t);if(n!==Ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Iu(t).isEqual(Iu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Sa(a.timestampValue),d=Sa(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Aa(a.bytesValue).isEqual(Aa(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Yt(a.geoPointValue.latitude)===Yt(l.geoPointValue.latitude)&&Yt(a.geoPointValue.longitude)===Yt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Yt(a.integerValue)===Yt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Yt(a.doubleValue),d=Yt(l.doubleValue);return u===d?yf(u)===yf(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return jl(t.arrayValue.values||[],e.arrayValue.values||[],Bs);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(r1(u)!==r1(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!Bs(u[m],d[m])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function Nu(t,e){return(t.values||[]).find((n=>Bs(n,e)))!==void 0}function Ul(t,e){if(t===e)return 0;const n=Ca(t),s=Ca(e);if(n!==s)return et(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const d=Yt(l.integerValue||l.doubleValue),m=Yt(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return o1(t.timestampValue,e.timestampValue);case 4:return o1(Iu(t),Iu(e));case 5:return vy(t.stringValue,e.stringValue);case 6:return(function(l,u){const d=Aa(l),m=Aa(u);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const d=l.split("/"),m=u.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=et(d[p],m[p]);if(y!==0)return y}return et(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const d=et(Yt(l.latitude),Yt(u.latitude));return d!==0?d:et(Yt(l.longitude),Yt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return l1(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const d=l.fields||{},m=u.fields||{},p=d[bf]?.arrayValue,y=m[bf]?.arrayValue,b=et(p?.values?.length||0,y?.values?.length||0);return b!==0?b:l1(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Dd.mapValue&&u===Dd.mapValue)return 0;if(l===Dd.mapValue)return 1;if(u===Dd.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=u.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let b=0;b<m.length&&b<y.length;++b){const w=vy(m[b],y[b]);if(w!==0)return w;const C=Ul(d[m[b]],p[y[b]]);if(C!==0)return C}return et(m.length,y.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function o1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=Sa(t),s=Sa(e),a=et(n.seconds,s.seconds);return a!==0?a:et(n.nanos,s.nanos)}function l1(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Ul(n[a],s[a]);if(l)return l}return et(n.length,s.length)}function zl(t){return by(t)}function by(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Sa(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Aa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=by(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${by(n.fields[u])}`;return a+"}"})(t.mapValue):Me(61005,{value:t})}function Qd(t){switch(Ca(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=im(t);return e?16+Qd(e):16;case 5:return 2*t.stringValue.length;case 6:return Aa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Qd(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Ma(s.fields,((l,u)=>{a+=l.length+Qd(u)})),a})(t.mapValue);default:throw Me(13486,{value:t})}}function c1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _y(t){return!!t&&"integerValue"in t}function k0(t){return!!t&&"arrayValue"in t}function u1(t){return!!t&&"nullValue"in t}function h1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wd(t){return!!t&&"mapValue"in t}function u4(t){return(t?.mapValue?.fields||{})[sA]?.stringValue===rA}function mu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ma(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=mu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mu(t.arrayValue.values[n]);return e}return{...t}}function h4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===c4}class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(n)}setAll(e){let n=bn.emptyPath(),s={},a=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}u?s[d.lastSegment()]=mu(u):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Wd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Ma(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new ai(mu(this.value))}}function aA(t){const e=[];return Ma(t.fields,((n,s)=>{const a=new bn([n]);if(Wd(s)){const l=aA(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new wi(e)}class Un{constructor(e,n,s,a,l,u,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Un(e,0,Oe.min(),Oe.min(),Oe.min(),ai.empty(),0)}static newFoundDocument(e,n,s,a){return new Un(e,1,n,Oe.min(),s,a,0)}static newNoDocument(e,n){return new Un(e,2,n,Oe.min(),Oe.min(),ai.empty(),0)}static newUnknownDocument(e,n){return new Un(e,3,n,Oe.min(),Oe.min(),ai.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _f{constructor(e,n){this.position=e,this.inclusive=n}}function d1(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=Ne.comparator(Ne.fromName(u.referenceValue),n.key):s=Ul(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function f1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bs(t.position[n],e.position[n]))return!1;return!0}class xf{constructor(e,n="asc"){this.field=e,this.dir=n}}function d4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class oA{}class an extends oA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new m4(e,n,s):n==="array-contains"?new y4(e,s):n==="in"?new v4(e,s):n==="not-in"?new b4(e,s):n==="array-contains-any"?new _4(e,s):new an(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new p4(e,s):new g4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ul(n,this.value)):n!==null&&Ca(this.value)===Ca(n)&&this.matchesComparison(Ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ps extends oA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ps(e,n)}matches(e){return lA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lA(t){return t.op==="and"}function cA(t){return f4(t)&&lA(t)}function f4(t){for(const e of t.filters)if(e instanceof ps)return!1;return!0}function xy(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+zl(t.value);if(cA(t))return t.filters.map((e=>xy(e))).join(",");{const e=t.filters.map((n=>xy(n))).join(",");return`${t.op}(${e})`}}function uA(t,e){return t instanceof an?(function(s,a){return a instanceof an&&s.op===a.op&&s.field.isEqual(a.field)&&Bs(s.value,a.value)})(t,e):t instanceof ps?(function(s,a){return a instanceof ps&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,d)=>l&&uA(u,a.filters[d])),!0):!1})(t,e):void Me(19439)}function hA(t){return t instanceof an?(function(n){return`${n.field.canonicalString()} ${n.op} ${zl(n.value)}`})(t):t instanceof ps?(function(n){return n.op.toString()+" {"+n.getFilters().map(hA).join(" ,")+"}"})(t):"Filter"}class m4 extends an{constructor(e,n,s){super(e,n,s),this.key=Ne.fromName(s.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class p4 extends an{constructor(e,n){super(e,"in",n),this.keys=dA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class g4 extends an{constructor(e,n){super(e,"not-in",n),this.keys=dA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function dA(t,e){return(e.arrayValue?.values||[]).map((n=>Ne.fromName(n.referenceValue)))}class y4 extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return k0(n)&&Nu(n.arrayValue,this.value)}}class v4 extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nu(this.value.arrayValue,n)}}class b4 extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nu(this.value.arrayValue,n)}}class _4 extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!k0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Nu(this.value.arrayValue,s)))}}class x4{constructor(e,n=null,s=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function m1(t,e=null,n=[],s=[],a=null,l=null,u=null){return new x4(t,e,n,s,a,l,u)}function D0(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>xy(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),nm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>zl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>zl(s))).join(",")),e.Te=n}return e.Te}function M0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!d4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!f1(t.startAt,e.startAt)&&f1(t.endAt,e.endAt)}function wy(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Yu{constructor(e,n=null,s=[],a=[],l=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function w4(t,e,n,s,a,l,u,d){return new Yu(t,e,n,s,a,l,u,d)}function sm(t){return new Yu(t)}function p1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function T4(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function fA(t){return t.collectionGroup!==null}function pu(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new fn(bn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new xf(l,s))})),n.has(bn.keyField().canonicalString())||e.Ie.push(new xf(bn.keyField(),s))}return e.Ie}function js(t){const e=Ue(t);return e.Ee||(e.Ee=E4(e,pu(t))),e.Ee}function E4(t,e){if(t.limitType==="F")return m1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new xf(a.field,l)}));const n=t.endAt?new _f(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new _f(t.startAt.position,t.startAt.inclusive):null;return m1(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Ty(t,e){const n=t.filters.concat([e]);return new Yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ey(t,e,n){return new Yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rm(t,e){return M0(js(t),js(e))&&t.limitType===e.limitType}function mA(t){return`${D0(js(t))}|lt:${t.limitType}`}function xl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>hA(a))).join(", ")}]`),nm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>zl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>zl(a))).join(",")),`Target(${s})`})(js(t))}; limitType=${t.limitType})`}function am(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ne.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of pu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,d,m){const p=d1(u,d,m);return u.inclusive?p<=0:p<0})(s.startAt,pu(s),a)||s.endAt&&!(function(u,d,m){const p=d1(u,d,m);return u.inclusive?p>=0:p>0})(s.endAt,pu(s),a))})(t,e)}function S4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pA(t){return(e,n)=>{let s=!1;for(const a of pu(t)){const l=A4(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function A4(t,e,n){const s=t.field.isKeyField()?Ne.comparator(e.key,n.key):(function(l,u,d){const m=u.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Ul(m,p):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Me(19790,{direction:t.dir})}}class No{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ma(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return ZS(this.inner)}size(){return this.innerSize}}const C4=new Ut(Ne.comparator);function Ar(){return C4}const gA=new Ut(Ne.comparator);function lu(...t){let e=gA;for(const n of t)e=e.insert(n.key,n);return e}function yA(t){let e=gA;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function yo(){return gu()}function vA(){return gu()}function gu(){return new No((t=>t.toString()),((t,e)=>t.isEqual(e)))}const R4=new Ut(Ne.comparator),I4=new fn(Ne.comparator);function tt(...t){let e=I4;for(const n of t)e=e.add(n);return e}const N4=new fn(et);function k4(){return N4}function V0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yf(e)?"-0":e}}function bA(t){return{integerValue:""+t}}function D4(t,e){return i4(e)?bA(e):V0(t,e)}class om{constructor(){this._=void 0}}function M4(t,e,n){return t instanceof wf?(function(a,l){const u={fields:{[tA]:{stringValue:eA},[iA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&N0(l)&&(l=im(l)),l&&(u.fields[nA]=l),{mapValue:u}})(n,e):t instanceof ku?xA(t,e):t instanceof Du?wA(t,e):(function(a,l){const u=_A(a,l),d=g1(u)+g1(a.Ae);return _y(u)&&_y(a.Ae)?bA(d):V0(a.serializer,d)})(t,e)}function V4(t,e,n){return t instanceof ku?xA(t,e):t instanceof Du?wA(t,e):n}function _A(t,e){return t instanceof Tf?(function(s){return _y(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class wf extends om{}class ku extends om{constructor(e){super(),this.elements=e}}function xA(t,e){const n=TA(e);for(const s of t.elements)n.some((a=>Bs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Du extends om{constructor(e){super(),this.elements=e}}function wA(t,e){let n=TA(e);for(const s of t.elements)n=n.filter((a=>!Bs(a,s)));return{arrayValue:{values:n}}}class Tf extends om{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function g1(t){return Yt(t.integerValue||t.doubleValue)}function TA(t){return k0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function P4(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof ku&&a instanceof ku||s instanceof Du&&a instanceof Du?jl(s.elements,a.elements,Bs):s instanceof Tf&&a instanceof Tf?Bs(s.Ae,a.Ae):s instanceof wf&&a instanceof wf})(t.transform,e.transform)}class O4{constructor(e,n){this.version=e,this.transformResults=n}}class $i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lm{}function EA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new P0(t.key,$i.none()):new Qu(t.key,t.data,$i.none());{const n=t.data,s=ai.empty();let a=new fn(bn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Va(t.key,s,new wi(a.toArray()),$i.none())}}function j4(t,e,n){t instanceof Qu?(function(a,l,u){const d=a.value.clone(),m=v1(a.fieldTransforms,l,u.transformResults);d.setAll(m),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Va?(function(a,l,u){if(!Xd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=v1(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(SA(a)),m.setAll(d),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function yu(t,e,n,s){return t instanceof Qu?(function(l,u,d,m){if(!Xd(l.precondition,u))return d;const p=l.value.clone(),y=b1(l.fieldTransforms,m,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Va?(function(l,u,d,m){if(!Xd(l.precondition,u))return d;const p=b1(l.fieldTransforms,m,u),y=u.data;return y.setAll(SA(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,u,d){return Xd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function L4(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=_A(s.transform,a||null);l!=null&&(n===null&&(n=ai.empty()),n.set(s.field,l))}return n||null}function y1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&jl(s,a,((l,u)=>P4(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qu extends lm{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Va extends lm{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function SA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function v1(t,e,n){const s=new Map;ut(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,d=e.data.field(l.field);s.set(l.field,V4(u,d,n[a]))}return s}function b1(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,M4(l,u,e))}return s}class P0 extends lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U4 extends lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class z4{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&j4(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=yu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=yu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=vA();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=n.has(a.key)?null:d;const m=EA(u,d);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Oe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),tt())}isEqual(e){return this.batchId===e.batchId&&jl(this.mutations,e.mutations,((n,s)=>y1(n,s)))&&jl(this.baseMutations,e.baseMutations,((n,s)=>y1(n,s)))}}class O0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){ut(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return R4})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new O0(e,n,s,a)}}class B4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class F4{constructor(e,n){this.count=e,this.unchangedNames=n}}var sn,st;function q4(t){switch(t){case ce.OK:return Me(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function AA(t){if(t===void 0)return Sr("GRPC error has no .code"),ce.UNKNOWN;switch(t){case sn.OK:return ce.OK;case sn.CANCELLED:return ce.CANCELLED;case sn.UNKNOWN:return ce.UNKNOWN;case sn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case sn.INTERNAL:return ce.INTERNAL;case sn.UNAVAILABLE:return ce.UNAVAILABLE;case sn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case sn.NOT_FOUND:return ce.NOT_FOUND;case sn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case sn.ABORTED:return ce.ABORTED;case sn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case sn.DATA_LOSS:return ce.DATA_LOSS;default:return Me(39323,{code:t})}}(st=sn||(sn={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";function H4(){return new TextEncoder}const G4=new _a([4294967295,4294967295],0);function _1(t){const e=H4().encode(t),n=new US;return n.update(e),new Uint8Array(n.digest())}function x1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new _a([n,s],0),new _a([a,l],0)]}class j0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new cu(`Invalid padding: ${n}`);if(s<0)throw new cu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new cu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_a.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(_a.fromNumber(s)));return a.compare(G4)===1&&(a=new _a([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_1(e),[s,a]=x1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new j0(l,a,n);return s.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const n=_1(e),[s,a]=x1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cm{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Wu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new cm(Oe.min(),a,new Ut(et),Ar(),tt())}}class Wu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Wu(s,n,tt(),tt(),tt())}}class Zd{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class CA{constructor(e,n){this.targetId=e,this.Ce=n}}class RA{constructor(e,n,s=_n.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class w1{constructor(){this.ve=0,this.Fe=T1(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),n=tt(),s=tt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Me(38017,{changeType:l})}})),new Wu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=T1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class $4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ar(),this.He=Md(),this.Je=Md(),this.Ze=new Ut(et)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(wy(l))if(s===0){const u=new Ne(l.path);this.et(n,u,Un.newNoDocument(u,Oe.min()))}else ut(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const d=this.ut(e),m=d?this.ct(d,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,d;try{u=Aa(s).toUint8Array()}catch(m){if(m instanceof JS)return Ao("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new j0(u,a,l)}catch(m){return Ao(m instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const d=this.ot(u);if(d){if(l.current&&wy(d.target)){const m=new Ne(d.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,Un.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let s=tt();this.Je.forEach(((l,u)=>{let d=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new cm(e,n,this.Ze,this.je,s);return this.je=Ar(),this.He=Md(),this.Je=Md(),this.Ze=new Ut(et),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new w1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new fn(et),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new fn(et),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new w1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Md(){return new Ut(Ne.comparator)}function T1(){return new Ut(Ne.comparator)}const K4={asc:"ASCENDING",desc:"DESCENDING"},Y4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q4={and:"AND",or:"OR"};class W4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sy(t,e){return t.useProto3Json||nm(e)?e:{value:e}}function Ef(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function X4(t,e){return Ef(t,e.toTimestamp())}function Ls(t){return ut(!!t,49232),Oe.fromTimestamp((function(n){const s=Sa(n);return new Le(s.seconds,s.nanos)})(t))}function L0(t,e){return Ay(t,e).canonicalString()}function Ay(t,e){const n=(function(a){return new Tt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function NA(t){const e=Tt.fromString(t);return ut(PA(e),10190,{key:e.toString()}),e}function Cy(t,e){return L0(t.databaseId,e.path)}function Mg(t,e){const n=NA(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(DA(n))}function kA(t,e){return L0(t.databaseId,e)}function Z4(t){const e=NA(t);return e.length===4?Tt.emptyPath():DA(e)}function Ry(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DA(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function E1(t,e,n){return{name:Cy(t,e),fields:n.value.mapValue.fields}}function J4(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Me(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(ut(y===void 0||typeof y=="string",58123),_n.fromBase64String(y||"")):(ut(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),_n.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(p){const y=p.code===void 0?ce.UNKNOWN:AA(p.code);return new ve(y,p.message||"")})(u);n=new RA(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Mg(t,s.document.name),l=Ls(s.document.updateTime),u=s.document.createTime?Ls(s.document.createTime):Oe.min(),d=new ai({mapValue:{fields:s.document.fields}}),m=Un.newFoundDocument(a,l,u,d),p=s.targetIds||[],y=s.removedTargetIds||[];n=new Zd(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Mg(t,s.document),l=s.readTime?Ls(s.readTime):Oe.min(),u=Un.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Zd([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Mg(t,s.document),l=s.removedTargetIds||[];n=new Zd([],l,a,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new F4(a,l),d=s.targetId;n=new CA(d,u)}}return n}function eO(t,e){let n;if(e instanceof Qu)n={update:E1(t,e.key,e.value)};else if(e instanceof P0)n={delete:Cy(t,e.key)};else if(e instanceof Va)n={update:E1(t,e.key,e.data),updateMask:cO(e.fieldMask)};else{if(!(e instanceof U4))return Me(16599,{dt:e.type});n={verify:Cy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const d=u.transform;if(d instanceof wf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ku)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Du)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Tf)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Me(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:X4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Me(27497)})(t,e.precondition)),n}function tO(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?Ls(a.updateTime):Ls(l);return u.isEqual(Oe.min())&&(u=Ls(l)),new O4(u,a.transformResults||[])})(n,e)))):[]}function nO(t,e){return{documents:[kA(t,e.path)]}}function iO(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=kA(t,a);const l=(function(p){if(p.length!==0)return VA(ps.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(w){return{field:wl(w.field),direction:aO(w.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=Sy(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function sO(t){let e=Z4(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ut(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(b){const w=MA(b);return w instanceof ps&&cA(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((w=>(function(V){return new xf(Tl(V.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(w)))})(n.orderBy));let d=null;n.limit&&(d=(function(b){let w;return w=typeof b=="object"?b.value:b,nm(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(b){const w=!!b.before,C=b.values||[];return new _f(C,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const w=!b.before,C=b.values||[];return new _f(C,w)})(n.endAt)),w4(e,a,u,l,d,"F",m,p)}function rO(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Tl(n.unaryFilter.field);return an.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Tl(n.unaryFilter.field);return an.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Tl(n.unaryFilter.field);return an.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Tl(n.unaryFilter.field);return an.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return an.create(Tl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ps.create(n.compositeFilter.filters.map((s=>MA(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function aO(t){return K4[t]}function oO(t){return Y4[t]}function lO(t){return Q4[t]}function wl(t){return{fieldPath:t.canonicalString()}}function Tl(t){return bn.fromServerFormat(t.fieldPath)}function VA(t){return t instanceof an?(function(n){if(n.op==="=="){if(h1(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NAN"}};if(u1(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(h1(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NOT_NAN"}};if(u1(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wl(n.field),op:oO(n.op),value:n.value}}})(t):t instanceof ps?(function(n){const s=n.getFilters().map((a=>VA(a)));return s.length===1?s[0]:{compositeFilter:{op:lO(n.op),filters:s}}})(t):Me(54877,{filter:t})}function cO(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function PA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function OA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class ga{constructor(e,n,s,a,l=Oe.min(),u=Oe.min(),d=_n.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new ga(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uO{constructor(e){this.yt=e}}function hO(t){const e=sO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ey(e,e.limit,"L"):e}class dO{constructor(){this.Sn=new fO}addToCollectionParentIndex(e,n){return this.Sn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Ea.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Ea.min())}updateCollectionGroup(e,n,s){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class fO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new fn(Tt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new fn(Tt.comparator)).toArray()}}const S1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jA=41943040;class ri{static withCacheSize(e){return new ri(e,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}ri.DEFAULT_COLLECTION_PERCENTILE=10,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ri.DEFAULT=new ri(jA,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ri.DISABLED=new ri(-1,0,0);class Bl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Bl(0)}static ar(){return new Bl(-1)}}const A1="LruGarbageCollector",mO=1048576;function C1([t,e],[n,s]){const a=et(t,n);return a===0?et(e,s):a}class pO{constructor(e){this.Pr=e,this.buffer=new fn(C1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();C1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){_e(A1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xl(n)?_e(A1,"Ignoring IndexedDB error during garbage collection: ",n):await Wl(n)}await this.Ar(3e5)}))}}class yO{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return he.resolve(tm.ce);const s=new pO(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(S1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S1):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,u,d,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,d=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),_l()<=Je.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function vO(t,e){return new yO(t,e)}class bO{constructor(){this.changes=new No((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?he.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _O{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class xO{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&yu(s.mutation,a,wi.empty(),Le.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,tt()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=tt()){const a=yo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=lu();return l.forEach(((d,m)=>{u=u.insert(d,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=yo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,tt())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,s,a){let l=Ar();const u=gu(),d=(function(){return gu()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Va)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),yu(y.mutation,p,y.mutation.getFieldMask(),Le.now())):u.set(p.key,wi.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>d.set(p,new _O(y,u.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=gu();let a=new Ut(((u,d)=>u-d)),l=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||wi.empty();y=d.applyToLocalView(p,y),s.set(m,y);const b=(a.get(d.batchId)||tt()).add(m);a=a.insert(d.batchId,b)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,b=vA();y.forEach((w=>{if(!l.has(w)){const C=EA(n.get(w),s.get(w));C!==null&&b.set(w,C),l=l.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,b))}return he.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return T4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):he.resolve(yo());let d=Ru,m=l;return u.next((p=>he.forEach(p,((y,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(y)?he.resolve():this.remoteDocumentCache.getEntry(e,y).next((w=>{m=m.insert(y,w)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,tt()))).next((y=>({batchId:d,changes:yA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next((s=>{let a=lu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=lu();return this.indexManager.getCollectionParents(e,l).next((d=>he.forEach(d,(m=>{const p=(function(b,w){return new Yu(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((b,w)=>{u=u.insert(b,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((m,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Un.newInvalidDocument(y)))}));let d=lu();return u.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&yu(y.mutation,p,wi.empty(),Le.now()),am(n,p)&&(d=d.insert(m,p))})),d}))}}class wO{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return he.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Ls(a.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:hO(a.bundledQuery),readTime:Ls(a.readTime)}})(n)),he.resolve()}}class TO{constructor(){this.overlays=new Ut(Ne.comparator),this.Lr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const s=yo();return he.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),he.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),he.resolve()}getOverlaysForCollection(e,n,s){const a=yo(),l=n.length+1,u=new Ne(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return he.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Ut(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=yo(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=yo(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=a)););return he.resolve(d)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new B4(n,s));let l=this.Lr.get(n);l===void 0&&(l=tt(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class EO{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}class U0{constructor(){this.kr=new fn(vn.Kr),this.qr=new fn(vn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new vn(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new vn(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Ne(new Tt([])),s=new vn(n,e),a=new vn(n,e+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ne(new Tt([])),s=new vn(n,e),a=new vn(n,e+1);let l=tt();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new vn(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class vn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ne.comparator(e.key,n.key)||et(e.Hr,n.Hr)}static Ur(e,n){return et(e.Hr,n.Hr)||Ne.comparator(e.key,n.key)}}class SO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new fn(vn.Kr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new z4(l,n,s,a);this.mutationQueue.push(u);for(const d of a)this.Jr=this.Jr.add(new vn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,n){return he.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?I0:this.Yn-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new vn(n,0),a=new vn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const d=this.Zr(u.Hr);l.push(d)})),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new fn(et);return n.forEach((a=>{const l=new vn(a,0),u=new vn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(d=>{s=s.add(d.Hr)}))})),he.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Ne.isDocumentKey(l)||(l=l.child(""));const u=new vn(new Ne(l),0);let d=new fn(et);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Hr)),!0)}),u),he.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ut(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return he.forEach(n.mutations,(a=>{const l=new vn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new vn(n,0),a=this.Jr.firstAfterOrEqual(s);return he.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class AO{constructor(e){this.ti=e,this.docs=(function(){return new Ut(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return he.resolve(s?s.document.mutableCopy():Un.newInvalidDocument(n))}getEntries(e,n){let s=Ar();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Un.newInvalidDocument(a))})),he.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Ar();const u=n.path,d=new Ne(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||JP(ZP(y),s)<=0||(a.has(y.key)||am(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Me(9500)}ni(e,n){return he.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new CO(this)}getSize(e){return he.resolve(this.size)}}class CO extends bO{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),he.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class RO{constructor(e){this.persistence=e,this.ri=new No((n=>D0(n)),M0),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.ii=0,this.si=new U0,this.targetCount=0,this.oi=Bl._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),he.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Bl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.lr(n),he.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((u,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),he.waitFor(l).next((()=>a))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return he.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),he.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),he.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return he.resolve(s)}containsKey(e,n){return he.resolve(this.si.containsKey(n))}}class LA{constructor(e,n){this._i={},this.overlays={},this.ai=new tm(0),this.ui=!1,this.ui=!0,this.ci=new EO,this.referenceDelegate=e(this),this.li=new RO(this),this.indexManager=new dO,this.remoteDocumentCache=(function(a){return new AO(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new uO(n),this.Pi=new wO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new SO(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){_e("MemoryPersistence","Starting transaction:",e);const a=new IO(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return he.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class IO extends t4{constructor(e){super(),this.currentSequenceNumber=e}}class z0{constructor(e){this.persistence=e,this.Ri=new U0,this.Ai=null}static Vi(e){return new z0(e)}get di(){if(this.Ai)return this.Ai;throw Me(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),he.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.di,(s=>{const a=Ne.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Oe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Sf{constructor(e,n){this.persistence=e,this.fi=new No((s=>s4(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=vO(this,n)}static Vi(e,n){return new Sf(e,n)}Ti(){}Ii(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return he.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?he.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((d=>{d||(s++,l.removeEntry(u,Oe.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),he.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),he.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qd(e.data.value)),n}wr(e,n,s){return he.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return he.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class B0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=tt(),a=tt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new B0(e,n.fromCache,s,a)}}class NO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kO{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return _D()?8:n4(Bn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new NO;return this.ys(e,n,u).next((d=>{if(l.result=d,this.As)return this.ws(e,n,u,d.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(_l()<=Je.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",xl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),he.resolve()):(_l()<=Je.DEBUG&&_e("QueryEngine","Query:",xl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(_l()<=Je.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",xl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,js(n))):he.resolve())}gs(e,n){if(p1(n))return he.resolve(null);let s=js(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Ey(n,null,"F"),s=js(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=tt(...l);return this.fs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.bs(n,d);return this.Ss(n,p,u,m.readTime)?this.gs(e,Ey(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,s,a){return p1(n)||a.isEqual(Oe.min())?he.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,s,a)?he.resolve(null):(_l()<=Je.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),xl(n)),this.Ds(e,u,n,XP(a,Ru)).next((d=>d)))}))}bs(e,n){let s=new fn(pA(e));return n.forEach(((a,l)=>{am(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return _l()<=Je.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",xl(n)),this.fs.getDocumentsMatchingQuery(e,n,Ea.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const F0="LocalStore",DO=3e8;class MO{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Ut(et),this.Fs=new No((l=>D0(l)),M0),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xO(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function VO(t,e,n,s){return new MO(t,e,n,s)}async function UA(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],d=[];let m=tt();for(const p of a){u.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:d})))}))}))}function PO(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,y){const b=p.batch,w=b.keys();let C=he.resolve();return w.forEach((V=>{C=C.next((()=>y.getEntry(m,V))).next((j=>{const N=p.docVersions.get(V);ut(N!==null,48541),j.version.compareTo(N)<0&&(b.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),y.addEntry(j)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(m,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=tt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function zA(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function OO(t,e){const n=Ue(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];e.targetChanges.forEach(((y,b)=>{const w=a.get(b);if(!w)return;d.push(n.li.removeMatchingKeys(l,y.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,b))));let C=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken(_n.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(b,C),(function(j,N,H){return j.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=DO?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(w,C,y)&&d.push(n.li.updateTargetData(l,C))}));let m=Ar(),p=tt();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(jO(l,u,e.documentUpdates).next((y=>{m=y.Bs,p=y.Ls}))),!s.isEqual(Oe.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return he.waitFor(d).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function jO(t,e,n){let s=tt(),a=tt();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=Ar();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Oe.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):_e(F0,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function LO(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=I0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function UO(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,he.resolve(a)):n.li.allocateTargetId(s).next((u=>(a=new ga(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Iy(t,e,n){const s=Ue(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Xl(u))throw u;_e(F0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function R1(t,e,n){const s=Ue(t);let a=Oe.min(),l=tt();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,y){const b=Ue(m),w=b.Fs.get(y);return w!==void 0?he.resolve(b.vs.get(w)):b.li.getTargetData(p,y)})(s,u,js(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,d.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,n?a:Oe.min(),n?l:tt()))).next((d=>(zO(s,S4(e),d),{documents:d,ks:l})))))}function zO(t,e,n){let s=t.Ms.get(e)||Oe.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class I1{constructor(){this.activeTargetIds=k4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BO{constructor(){this.vo=new I1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new I1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class FO{Mo(e){}shutdown(){}}const N1="ConnectivityMonitor";class k1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){_e(N1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){_e(N1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vd=null;function Ny(){return Vd===null?Vd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vd++,"0x"+Vd.toString(16)}const Vg="RestConnection",qO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class HO{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===vf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const u=Ny(),d=this.Qo(e,n.toUriEncodedString());_e(Vg,`Sending RPC '${e}' ${u}:`,d,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(d),y=Ro(p);return this.zo(e,d,m,s,y).then((b=>(_e(Vg,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Ao(Vg,`RPC '${e}' ${u} failed with error: `,b,"url: ",d,"request:",s),b}))}jo(e,n,s,a,l,u){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ql})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=qO[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class GO{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const On="WebChannelConnection",nu=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Ml extends HO{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ml.c_){const e=qS();nu(e,FS.STAT_EVENT,(n=>{n.stat===yy.PROXY?_e(On,"STAT_EVENT: detected buffering proxy"):n.stat===yy.NOPROXY&&_e(On,"STAT_EVENT: detected no buffering proxy")})),Ml.c_=!0}}zo(e,n,s,a,l){const u=Ny();return new Promise(((d,m)=>{const p=new zS;p.setWithCredentials(!0),p.listenOnce(BS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Yd.NO_ERROR:const b=p.getResponseJson();_e(On,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),d(b);break;case Yd.TIMEOUT:_e(On,`RPC '${e}' ${u} timed out`),m(new ve(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Yd.HTTP_ERROR:const w=p.getStatus();if(_e(On,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const V=C?.error;if(V&&V.status&&V.message){const j=(function(H){const W=H.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(W)>=0?W:ce.UNKNOWN})(V.status);m(new ve(j,V.message))}else m(new ve(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ve(ce.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{_e(On,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);_e(On,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=Ny(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const p=l.join("");_e(On,`Creating RPC '${e}' stream ${a}: ${p}`,d);const y=u.createWebChannel(p,d);this.I_(y);let b=!1,w=!1;const C=new GO({Ho:V=>{w?_e(On,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(b||(_e(On,`Opening RPC '${e}' stream ${a} transport.`),y.open(),b=!0),_e(On,`RPC '${e}' stream ${a} sending:`,V),y.send(V))},Jo:()=>y.close()});return nu(y,ou.EventType.OPEN,(()=>{w||(_e(On,`RPC '${e}' stream ${a} transport opened.`),C.i_())})),nu(y,ou.EventType.CLOSE,(()=>{w||(w=!0,_e(On,`RPC '${e}' stream ${a} transport closed`),C.o_(),this.E_(y))})),nu(y,ou.EventType.ERROR,(V=>{w||(w=!0,Ao(On,`RPC '${e}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),C.o_(new ve(ce.UNAVAILABLE,"The operation could not be completed")))})),nu(y,ou.EventType.MESSAGE,(V=>{if(!w){const j=V.data[0];ut(!!j,16349);const N=j,H=N?.error||N[0]?.error;if(H){_e(On,`RPC '${e}' stream ${a} received error:`,H);const W=H.status;let Y=(function(de){const k=sn[de];if(k!==void 0)return AA(k)})(W),me=H.message;Y===void 0&&(Y=ce.INTERNAL,me="Unknown error status: "+W+" with message "+H.message),w=!0,C.o_(new ve(Y,me)),y.close()}else _e(On,`RPC '${e}' stream ${a} received:`,j),C.__(j)}})),Ml.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return HS()}}function $O(t){return new Ml(t)}function Pg(){return typeof document<"u"?document:null}function um(t){return new W4(t,!0)}Ml.c_=!1;class BA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&_e("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const D1="PersistentStream";class FA{constructor(e,n,s,a,l,u,d,m){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ve(ce.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(D1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(_e(D1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KO extends FA{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=J4(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Oe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?Ls(u.readTime):Oe.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Ry(this.serializer),n.addTarget=(function(l,u){let d;const m=u.target;if(d=wy(m)?{documents:nO(l,m)}:{query:iO(l,m).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=IA(l,u.resumeToken);const p=Sy(l,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Oe.min())>0){d.readTime=Ef(l,u.snapshotVersion.toTimestamp());const p=Sy(l,u.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const s=rO(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Ry(this.serializer),n.removeTarget=e,this.K_(n)}}class YO extends FA{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tO(e.writeResults,e.commitTime),s=Ls(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Ry(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>eO(this.serializer,s)))};this.K_(n)}}class QO{}class WO extends QO{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ve(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,Ay(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ce.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.jo(e,Ay(n,s),a,u,d,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(ce.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function XO(t,e,n,s){return new WO(t,e,n,s)}class ZO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Sr(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Co="RemoteStore";class JO{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{ko(this)&&(_e(Co,"Restarting streams for network reachability change."),await(async function(m){const p=Ue(m);p.Ea.add(4),await Xu(p),p.Va.set("Unknown"),p.Ea.delete(4),await hm(p)})(this))}))})),this.Va=new ZO(s,a)}}async function hm(t){if(ko(t))for(const e of t.Ra)await e(!0)}async function Xu(t){for(const e of t.Ra)await e(!1)}function qA(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$0(n)?G0(n):Zl(n).O_()&&H0(n,e))}function q0(t,e){const n=Ue(t),s=Zl(n);n.Ia.delete(e),s.O_()&&HA(n,e),n.Ia.size===0&&(s.O_()?s.L_():ko(n)&&n.Va.set("Unknown"))}function H0(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zl(t).Z_(e)}function HA(t,e){t.da.$e(e),Zl(t).X_(e)}function G0(t){t.da=new $4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Zl(t).start(),t.Va.ua()}function $0(t){return ko(t)&&!Zl(t).x_()&&t.Ia.size>0}function ko(t){return Ue(t).Ea.size===0}function GA(t){t.da=void 0}async function e5(t){t.Va.set("Online")}async function t5(t){t.Ia.forEach(((e,n)=>{H0(t,e)}))}async function n5(t,e){GA(t),$0(t)?(t.Va.ha(e),G0(t)):t.Va.set("Unknown")}async function i5(t,e,n){if(t.Va.set("Online"),e instanceof RA&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.da.removeTarget(d))})(t,e)}catch(s){_e(Co,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Af(t,s)}else if(e instanceof Zd?t.da.Xe(e):e instanceof CA?t.da.st(e):t.da.tt(e),!n.isEqual(Oe.min()))try{const s=await zA(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const d=l.da.Tt(u);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,u))}})),d.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(_n.EMPTY_BYTE_STRING,y.snapshotVersion)),HA(l,m);const b=new ga(y.target,m,p,y.sequenceNumber);H0(l,b)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){_e(Co,"Failed to raise snapshot:",s),await Af(t,s)}}async function Af(t,e,n){if(!Xl(e))throw e;t.Ea.add(1),await Xu(t),t.Va.set("Offline"),n||(n=()=>zA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(Co,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await hm(t)}))}function $A(t,e){return e().catch((n=>Af(t,n,e)))}async function dm(t){const e=Ue(t),n=Ra(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:I0;for(;s5(e);)try{const a=await LO(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,r5(e,a)}catch(a){await Af(e,a)}KA(e)&&YA(e)}function s5(t){return ko(t)&&t.Ta.length<10}function r5(t,e){t.Ta.push(e);const n=Ra(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function KA(t){return ko(t)&&!Ra(t).x_()&&t.Ta.length>0}function YA(t){Ra(t).start()}async function a5(t){Ra(t).ra()}async function o5(t){const e=Ra(t);for(const n of t.Ta)e.ea(n.mutations)}async function l5(t,e,n){const s=t.Ta.shift(),a=O0.from(s,e,n);await $A(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await dm(t)}async function c5(t,e){e&&Ra(t).Y_&&await(async function(s,a){if((function(u){return q4(u)&&u!==ce.ABORTED})(a.code)){const l=s.Ta.shift();Ra(s).B_(),await $A(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await dm(s)}})(t,e),KA(t)&&YA(t)}async function M1(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),_e(Co,"RemoteStore received new credentials");const s=ko(n);n.Ea.add(3),await Xu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hm(n)}async function u5(t,e){const n=Ue(t);e?(n.Ea.delete(2),await hm(n)):e||(n.Ea.add(2),await Xu(n),n.Va.set("Unknown"))}function Zl(t){return t.ma||(t.ma=(function(n,s,a){const l=Ue(n);return l.sa(),new KO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:e5.bind(null,t),Yo:t5.bind(null,t),t_:n5.bind(null,t),J_:i5.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),$0(t)?G0(t):t.Va.set("Unknown")):(await t.ma.stop(),GA(t))}))),t.ma}function Ra(t){return t.fa||(t.fa=(function(n,s,a){const l=Ue(n);return l.sa(),new YO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:a5.bind(null,t),t_:c5.bind(null,t),ta:o5.bind(null,t),na:l5.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await dm(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(Co,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class K0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,d=new K0(e,n,u,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Y0(t,e){if(Sr("AsyncQueue",`${e}: ${t}`),Xl(t))return new ve(ce.UNAVAILABLE,`${e}: ${t}`);throw t}class Vl{static emptySet(e){return new Vl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ne.comparator(n.key,s.key):(n,s)=>Ne.comparator(n.key,s.key),this.keyedMap=lu(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Vl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class V1{constructor(){this.ga=new Ut(Ne.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Fl{constructor(e,n,s,a,l,u,d,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new Fl(e,n,Vl.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class h5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class d5{constructor(){this.queries=P1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ue(n),l=a.queries;a.queries=P1(),l.forEach(((u,d)=>{for(const m of d.ba)m.onError(s)}))})(this,new ve(ce.ABORTED,"Firestore shutting down"))}}function P1(){return new No((t=>mA(t)),rm)}async function Q0(t,e){const n=Ue(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new h5,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const d=Y0(u,`Initialization of query '${xl(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&X0(n)}async function W0(t,e){const n=Ue(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function f5(t,e){const n=Ue(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const d of u.ba)d.Fa(a)&&(s=!0);u.wa=a}}s&&X0(n)}function m5(t,e,n){const s=Ue(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function X0(t){t.Ca.forEach((e=>{e.next()}))}var ky,O1;(O1=ky||(ky={})).Ma="default",O1.Cache="cache";class Z0{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Fl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ky.Cache}}class QA{constructor(e){this.key=e}}class WA{constructor(e){this.key=e}}class p5{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=tt(),this.mutatedKeys=tt(),this.eu=pA(e),this.tu=new Vl(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new V1,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,b)=>{const w=a.get(y),C=am(this.query,b)?b:null,V=!!w&&this.mutatedKeys.has(w.key),j=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let N=!1;w&&C?w.data.isEqual(C.data)?V!==j&&(s.track({type:3,doc:C}),N=!0):this.su(w,C)||(s.track({type:2,doc:C}),N=!0,(m&&this.eu(C,m)>0||p&&this.eu(C,p)<0)&&(d=!0)):!w&&C?(s.track({type:0,doc:C}),N=!0):w&&!C&&(s.track({type:1,doc:w}),N=!0,(m||p)&&(d=!0)),N&&(C?(u=u.add(C),l=j?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Ss:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,b)=>(function(C,V){const j=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:N})}};return j(C)-j(V)})(y.type,b.type)||this.eu(y.doc,b.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,u.length!==0||p?{snapshot:new Fl(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new V1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=tt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new WA(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new QA(s))})),n}cu(e){this.Za=e.ks,this.Ya=tt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Fl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const J0="SyncEngine";class g5{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class y5{constructor(e){this.key=e,this.hu=!1}}class v5{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new No((d=>mA(d)),rm),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ut(Ne.comparator),this.Au=new Map,this.Vu=new U0,this.du={},this.mu=new Map,this.fu=Bl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function b5(t,e,n=!0){const s=n2(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await XA(s,e,n,!0),a}async function _5(t,e){const n=n2(t);await XA(n,e,!0,!1)}async function XA(t,e,n,s){const a=await UO(t.localStore,js(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await x5(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&qA(t.remoteStore,a),d}async function x5(t,e,n,s,a){t.pu=(b,w,C)=>(async function(j,N,H,W){let Y=N.view.ru(H);Y.Ss&&(Y=await R1(j.localStore,N.query,!1).then((({documents:k})=>N.view.ru(k,Y))));const me=W&&W.targetChanges.get(N.targetId),ue=W&&W.targetMismatches.get(N.targetId)!=null,de=N.view.applyChanges(Y,j.isPrimaryClient,me,ue);return L1(j,N.targetId,de.au),de.snapshot})(t,b,w,C);const l=await R1(t.localStore,e,!0),u=new p5(e,l.ks),d=u.ru(l.documents),m=Wu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=u.applyChanges(d,t.isPrimaryClient,m);L1(t,n,p.au);const y=new g5(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function w5(t,e,n){const s=Ue(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!rm(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Iy(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&q0(s.remoteStore,a.targetId),Dy(s,a.targetId)})).catch(Wl)):(Dy(s,a.targetId),await Iy(s.localStore,a.targetId,!0))}async function T5(t,e){const n=Ue(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),q0(n.remoteStore,s.targetId))}async function E5(t,e,n){const s=k5(t);try{const a=await(function(u,d){const m=Ue(u),p=Le.now(),y=d.reduce(((C,V)=>C.add(V.key)),tt());let b,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let V=Ar(),j=tt();return m.xs.getEntries(C,y).next((N=>{V=N,V.forEach(((H,W)=>{W.isValidDocument()||(j=j.add(H))}))})).next((()=>m.localDocuments.getOverlayedDocuments(C,V))).next((N=>{b=N;const H=[];for(const W of d){const Y=L4(W,b.get(W.key).overlayedDocument);Y!=null&&H.push(new Va(W.key,Y,aA(Y.value.mapValue),$i.exists(!0)))}return m.mutationQueue.addMutationBatch(C,p,H,d)})).next((N=>{w=N;const H=N.applyToLocalDocumentSet(b,j);return m.documentOverlayCache.saveOverlays(C,N.batchId,H)}))})).then((()=>({batchId:w.batchId,changes:yA(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,d,m){let p=u.du[u.currentUser.toKey()];p||(p=new Ut(et)),p=p.insert(d,m),u.du[u.currentUser.toKey()]=p})(s,a.batchId,n),await Zu(s,a.changes),await dm(s.remoteStore)}catch(a){const l=Y0(a,"Failed to persist write");n.reject(l)}}async function ZA(t,e){const n=Ue(t);try{const s=await OO(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(ut(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?ut(u.hu,14607):a.removedDocuments.size>0&&(ut(u.hu,42227),u.hu=!1))})),await Zu(n,s,e)}catch(s){await Wl(s)}}function j1(t,e,n){const s=Ue(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const m=Ue(u);m.onlineState=d;let p=!1;m.queries.forEach(((y,b)=>{for(const w of b.ba)w.va(d)&&(p=!0)})),p&&X0(m)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function S5(t,e,n){const s=Ue(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new Ut(Ne.comparator);u=u.insert(l,Un.newNoDocument(l,Oe.min()));const d=tt().add(l),m=new cm(Oe.min(),new Map,new Ut(et),u,d);await ZA(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(e),ev(s)}else await Iy(s.localStore,e,!1).then((()=>Dy(s,e,n))).catch(Wl)}async function A5(t,e){const n=Ue(t),s=e.batch.batchId;try{const a=await PO(n.localStore,e);e2(n,s,null),JA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Zu(n,a)}catch(a){await Wl(a)}}async function C5(t,e,n){const s=Ue(t);try{const a=await(function(u,d){const m=Ue(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next((b=>(ut(b!==null,37113),y=b.keys(),m.mutationQueue.removeMutationBatch(p,b)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);e2(s,e,n),JA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Zu(s,a)}catch(a){await Wl(a)}}function JA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function e2(t,e,n){const s=Ue(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function Dy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||t2(t,s)}))}function t2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(q0(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),ev(t))}function L1(t,e,n){for(const s of n)s instanceof QA?(t.Vu.addReference(s.key,e),R5(t,s)):s instanceof WA?(_e(J0,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||t2(t,s.key)):Me(19791,{wu:s})}function R5(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(_e(J0,"New document in limbo: "+n),t.Eu.add(s),ev(t))}function ev(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ne(Tt.fromString(e)),s=t.fu.next();t.Au.set(s,new y5(n)),t.Ru=t.Ru.insert(n,s),qA(t.remoteStore,new ga(js(sm(n.path)),s,"TargetPurposeLimboResolution",tm.ce))}}async function Zu(t,e,n){const s=Ue(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{u.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=B0.Es(m.targetId,p);l.push(y)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(m,p){const y=Ue(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>he.forEach(p,(w=>he.forEach(w.Ts,(C=>y.persistence.referenceDelegate.addReference(b,w.targetId,C))).next((()=>he.forEach(w.Is,(C=>y.persistence.referenceDelegate.removeReference(b,w.targetId,C)))))))))}catch(b){if(!Xl(b))throw b;_e(F0,"Failed to update sequence numbers: "+b)}for(const b of p){const w=b.targetId;if(!b.fromCache){const C=y.vs.get(w),V=C.snapshotVersion,j=C.withLastLimboFreeSnapshotVersion(V);y.vs=y.vs.insert(w,j)}}})(s.localStore,l))}async function I5(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){_e(J0,"User change. New user:",e.toKey());const s=await UA(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ve(ce.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Zu(n,s.Ns)}}function N5(t,e){const n=Ue(t),s=n.Au.get(e);if(s&&s.hu)return tt().add(s.key);{let a=tt();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const d=n.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function n2(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S5.bind(null,e),e.Pu.J_=f5.bind(null,e.eventManager),e.Pu.yu=m5.bind(null,e.eventManager),e}function k5(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C5.bind(null,e),e}class Cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=um(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return VO(this.persistence,new kO,e.initialUser,this.serializer)}Cu(e){return new LA(z0.Vi,this.serializer)}Du(e){return new BO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cf.provider={build:()=>new Cf};class D5 extends Cf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof Sf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ri.withCacheSize(this.cacheSizeBytes):ri.DEFAULT;return new LA((s=>Sf.Vi(s,n)),this.serializer)}}class My{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>j1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=I5.bind(null,this.syncEngine),await u5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new d5})()}createDatastore(e){const n=um(e.databaseInfo.databaseId),s=$O(e.databaseInfo);return XO(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,d){return new JO(s,a,l,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>j1(this.syncEngine,n,0)),(function(){return k1.v()?new k1:new FO})())}createSyncEngine(e,n){return(function(a,l,u,d,m,p,y){const b=new v5(a,l,u,d,m,p);return y&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ue(n);_e(Co,"RemoteStore shutting down."),s.Ea.add(5),await Xu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}My.provider={build:()=>new My};class tv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ia="FirestoreClient";class M5{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=Ln.UNAUTHENTICATED,this.clientId=Jf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{_e(Ia,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(_e(Ia,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Y0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Og(t,e){t.asyncQueue.verifyOperationInProgress(),_e(Ia,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await UA(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function U1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await V5(t);_e(Ia,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>M1(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>M1(e.remoteStore,a))),t._onlineComponents=e}async function V5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(Ia,"Using user provided OfflineComponentProvider");try{await Og(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Ao("Error using user provided cache. Falling back to memory cache: "+n),await Og(t,new Cf)}}else _e(Ia,"Using default OfflineComponentProvider"),await Og(t,new D5(void 0));return t._offlineComponents}async function i2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(Ia,"Using user provided OnlineComponentProvider"),await U1(t,t._uninitializedComponentsProvider._online)):(_e(Ia,"Using default OnlineComponentProvider"),await U1(t,new My))),t._onlineComponents}function P5(t){return i2(t).then((e=>e.syncEngine))}async function Rf(t){const e=await i2(t),n=e.eventManager;return n.onListen=b5.bind(null,e.syncEngine),n.onUnlisten=w5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=T5.bind(null,e.syncEngine),n}function O5(t,e,n,s){const a=new tv(s),l=new Z0(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>Q0(await Rf(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>W0(await Rf(t),l)))}}function j5(t,e,n={}){const s=new br;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,p){const y=new tv({next:w=>{y.Nu(),u.enqueueAndForget((()=>W0(l,b)));const C=w.docs.has(d);!C&&w.fromCache?p.reject(new ve(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&m&&m.source==="server"?p.reject(new ve(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new Z0(sm(d.path),y,{includeMetadataChanges:!0,Ka:!0});return Q0(l,b)})(await Rf(t),t.asyncQueue,e,n,s))),s.promise}function L5(t,e,n={}){const s=new br;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,p){const y=new tv({next:w=>{y.Nu(),u.enqueueAndForget((()=>W0(l,b))),w.fromCache&&m.source==="server"?p.reject(new ve(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new Z0(d,y,{includeMetadataChanges:!0,Ka:!0});return Q0(l,b)})(await Rf(t),t.asyncQueue,e,n,s))),s.promise}function U5(t,e){const n=new br;return t.asyncQueue.enqueueAndForget((async()=>E5(await P5(t),e,n))),n.promise}function s2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const z5="ComponentProvider",z1=new Map;function B5(t,e,n,s,a){return new o4(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,s2(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const r2="firestore.googleapis.com",B1=!0;class F1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=r2,this.ssl=B1}else this.host=e.host,this.ssl=e.ssl??B1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mO)throw new ve(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s2(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fm{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new KS;switch(s.type){case"firstParty":return new GP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ve(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=z1.get(n);s&&(_e(z5,"Removing Datastore"),z1.delete(n),s.terminate())})(this),Promise.resolve()}}function a2(t,e,n,s={}){t=Wn(t,fm);const a=Ro(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(f0(`https://${d}`),m0("Firestore",!0)),l.host!==r2&&l.host!==d&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!wo(m,u)&&(t._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=Ln.MOCK_USER;else{p=iS(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ve(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Ln(b)}t._authCredentials=new FP(new $S(p,y))}}class Pa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Pa(this.firestore,e,this._query)}}class Lt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ku(n,Lt._jsonSchema))return new Lt(e,s||null,new Ne(Tt.fromString(n.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:on("string",Lt._jsonSchemaVersion),referencePath:on("string")};class _r extends Pa{constructor(e,n,s){super(e,n,sm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new Ne(e))}withConverter(e){return new _r(this.firestore,e,this._path)}}function El(t,e,...n){if(t=mn(t),YS("collection","path",e),t instanceof fm){const s=Tt.fromString(e,...n);return t1(s),new _r(t,null,s)}{if(!(t instanceof Lt||t instanceof _r))throw new ve(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Tt.fromString(e,...n));return t1(s),new _r(t.firestore,null,s)}}function hs(t,e,...n){if(t=mn(t),arguments.length===1&&(e=Jf.newId()),YS("doc","path",e),t instanceof fm){const s=Tt.fromString(e,...n);return e1(s),new Lt(t,null,new Ne(s))}{if(!(t instanceof Lt||t instanceof _r))throw new ve(ce.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Tt.fromString(e,...n));return e1(s),new Lt(t.firestore,t instanceof _r?t.converter:null,new Ne(s))}}const q1="AsyncQueue";class H1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BA(this,"async_queue_retry"),this._c=()=>{const s=Pg();s&&_e(q1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Pg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Pg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new br;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Xl(e))throw e;_e(q1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Sr("INTERNAL UNHANDLED ERROR: ",G1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=K0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Me(47125,{Pc:G1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function G1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Fs extends fm{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new H1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H1(e),this._firestoreClient=void 0,await e}}}function o2(t,e){const n=typeof t=="object"?t:y0(),s=typeof t=="string"?t:vf,a=Qf(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=eS("firestore");l&&a2(a,...l)}return a}function Ju(t){if(t._terminated)throw new ve(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||F5(t),t._firestoreClient}function F5(t){const e=t._freezeSettings(),n=B5(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new M5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class xi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xi(_n.fromBase64String(e))}catch(n){throw new ve(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xi(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ku(e,xi._jsonSchema))return xi.fromBase64String(e.bytes)}}xi._jsonSchemaVersion="firestore/bytes/1.0",xi._jsonSchema={type:on("string",xi._jsonSchemaVersion),bytes:on("string")};class mm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pm{constructor(e){this._methodName=e}}class ms{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ms._jsonSchemaVersion}}static fromJSON(e){if(Ku(e,ms._jsonSchema))return new ms(e.latitude,e.longitude)}}ms._jsonSchemaVersion="firestore/geoPoint/1.0",ms._jsonSchema={type:on("string",ms._jsonSchemaVersion),latitude:on("number"),longitude:on("number")};class Ki{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ku(e,Ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ki(e.vectorValues);throw new ve(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ki._jsonSchemaVersion="firestore/vectorValue/1.0",Ki._jsonSchema={type:on("string",Ki._jsonSchemaVersion),vectorValues:on("object")};const q5=/^__.*__$/;class H5{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Va(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qu(e,this.data,n,this.fieldTransforms)}}class l2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Va(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function c2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{dataSource:t})}}class nv{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new nv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return If(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(c2(this.dataSource)&&q5.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class G5{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||um(e)}createContext(e,n,s,a=!1){return new nv({dataSource:e,methodName:n,targetDoc:s,path:bn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gm(t){const e=t._freezeSettings(),n=um(t._databaseId);return new G5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function u2(t,e,n,s,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);iv("Data must be an object, but it was:",u,s);const d=h2(s,u);let m,p;if(l.merge)m=new wi(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const b of l.mergeFields){const w=ql(e,b,n);if(!u.contains(w))throw new ve(ce.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);m2(y,w)||y.push(w)}m=new wi(y),p=u.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,p=u.fieldTransforms;return new H5(new ai(d),m,p)}class eh extends pm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eh}}function $5(t,e,n,s){const a=t.createContext(1,e,n);iv("Data must be an object, but it was:",a,s);const l=[],u=ai.empty();Ma(s,((m,p)=>{const y=f2(e,m,n);p=mn(p);const b=a.childContextForFieldPath(y);if(p instanceof eh)l.push(y);else{const w=th(p,b);w!=null&&(l.push(y),u.set(y,w))}}));const d=new wi(l);return new l2(u,d,a.fieldTransforms)}function K5(t,e,n,s,a,l){const u=t.createContext(1,e,n),d=[ql(e,s,n)],m=[a];if(l.length%2!=0)throw new ve(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(ql(e,l[w])),m.push(l[w+1]);const p=[],y=ai.empty();for(let w=d.length-1;w>=0;--w)if(!m2(p,d[w])){const C=d[w];let V=m[w];V=mn(V);const j=u.childContextForFieldPath(C);if(V instanceof eh)p.push(C);else{const N=th(V,j);N!=null&&(p.push(C),y.set(C,N))}}const b=new wi(p);return new l2(y,b,u.fieldTransforms)}function Y5(t,e,n,s=!1){return th(n,t.createContext(s?4:3,e))}function th(t,e){if(d2(t=mn(t)))return iv("Unsupported field value:",e,t),h2(t,e);if(t instanceof pm)return(function(s,a){if(!c2(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const d of s){let m=th(d,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=mn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return D4(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Le.fromDate(s);return{timestampValue:Ef(a.serializer,l)}}if(s instanceof Le){const l=new Le(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ef(a.serializer,l)}}if(s instanceof ms)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xi)return{bytesValue:IA(a.serializer,s._byteString)};if(s instanceof Lt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:L0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Ki)return(function(u,d){const m=u instanceof Ki?u.toArray():u;return{mapValue:{fields:{[sA]:{stringValue:rA},[bf]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return V0(d.serializer,y)}))}}}}}})(s,a);if(OA(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${em(s)}`)})(t,e)}function h2(t,e){const n={};return ZS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ma(t,((s,a)=>{const l=th(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function d2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Le||t instanceof ms||t instanceof xi||t instanceof Lt||t instanceof pm||t instanceof Ki||OA(t))}function iv(t,e,n){if(!d2(n)||!WS(n)){const s=em(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function ql(t,e,n){if((e=mn(e))instanceof mm)return e._internalPath;if(typeof e=="string")return f2(t,e);throw If("Field path arguments must be of type string or ",t,!1,void 0,n)}const Q5=new RegExp("[~\\*/\\[\\]]");function f2(t,e,n){if(e.search(Q5)>=0)throw If(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mm(...e.split("."))._internalPath}catch{throw If(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function If(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new ve(ce.INVALID_ARGUMENT,d+t+m)}function m2(t,e){return t.some((n=>n.isEqual(e)))}class p2{convertValue(e,n="none"){switch(Ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ma(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[bf].arrayValue?.values?.map((s=>Yt(s.doubleValue)));return new Ki(n)}convertGeoPoint(e){return new ms(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=im(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Iu(e));default:return null}}convertTimestamp(e){const n=Sa(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Tt.fromString(e);ut(PA(s),9688,{name:e});const a=new Ll(s.get(1),s.get(3)),l=new Ne(s.popFirst(5));return a.isEqual(n)||Sr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class sv extends p2{constructor(e){super(),this.firestore=e}convertBytes(e){return new xi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function Nf(){return new eh("deleteField")}const $1="@firebase/firestore",K1="4.10.0";function Y1(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class g2{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new W5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ql("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class W5 extends g2{data(){return super.data()}}function y2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rv{}class v2 extends rv{}function kf(t,e,...n){let s=[];e instanceof rv&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((m=>m instanceof ym)).length,d=l.filter((m=>m instanceof nh)).length;if(u>1||u>0&&d>0)throw new ve(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class nh extends v2{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new nh(e,n,s)}_apply(e){const n=this._parse(e);return b2(e._query,n),new Pa(e.firestore,e.converter,Ty(e._query,n))}_parse(e){const n=gm(e.firestore);return(function(l,u,d,m,p,y,b){let w;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ve(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){W1(b,y);const V=[];for(const j of b)V.push(Q1(m,l,j));w={arrayValue:{values:V}}}else w=Q1(m,l,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||W1(b,y),w=Y5(d,u,b,y==="in"||y==="not-in");return an.create(p,y,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Df(t,e,n){const s=e,a=ql("where",t);return nh._create(a,s,n)}class ym extends rv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ym(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ps.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const d=l.getFlattenedFilters();for(const m of d)b2(u,m),u=Ty(u,m)})(e._query,n),new Pa(e.firestore,e.converter,Ty(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Q1(t,e,n){if(typeof(n=mn(n))=="string"){if(n==="")throw new ve(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fA(e)&&n.indexOf("/")!==-1)throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Tt.fromString(n));if(!Ne.isDocumentKey(s))throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return c1(t,new Ne(s))}if(n instanceof Lt)return c1(t,n._key);throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${em(n)}.`)}function W1(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function b2(t,e){const n=(function(a,l){for(const u of a)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function _2(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Sl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xa extends g2{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ql("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=xa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",xa._jsonSchema={type:on("string",xa._jsonSchemaVersion),bundleSource:on("string","DocumentSnapshot"),bundleName:on("string"),bundle:on("string")};class vu extends xa{data(e={}){return super.data(e)}}class wa{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Sl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new vu(this._firestore,this._userDataWriter,s.key,s,new Sl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const m=new vu(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Sl(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new vu(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Sl(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:X5(d.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function X5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}wa._jsonSchemaVersion="firestore/querySnapshot/1.0",wa._jsonSchema={type:on("string",wa._jsonSchemaVersion),bundleSource:on("string","QuerySnapshot"),bundleName:on("string"),bundle:on("string")};function ih(t){t=Wn(t,Lt);const e=Wn(t.firestore,Fs),n=Ju(e);return j5(n,t._key).then((s=>E2(e,t,s)))}function bu(t){t=Wn(t,Pa);const e=Wn(t.firestore,Fs),n=Ju(e),s=new sv(e);return y2(t._query),L5(n,t._query).then((a=>new wa(e,s,t,a)))}function Mf(t,e,n){t=Wn(t,Lt);const s=Wn(t.firestore,Fs),a=_2(t.converter,e,n),l=gm(s);return sh(s,[u2(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,$i.none())])}function jn(t,e,n,...s){t=Wn(t,Lt);const a=Wn(t.firestore,Fs),l=gm(a);let u;return u=typeof(e=mn(e))=="string"||e instanceof mm?K5(l,"updateDoc",t._key,e,n,s):$5(l,"updateDoc",t._key,e),sh(a,[u.toMutation(t._key,$i.exists(!0))])}function x2(t){return sh(Wn(t.firestore,Fs),[new P0(t._key,$i.none())])}function w2(t,e){const n=Wn(t.firestore,Fs),s=hs(t),a=_2(t.converter,e),l=gm(t.firestore);return sh(n,[u2(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,$i.exists(!1))]).then((()=>s))}function T2(t,...e){t=mn(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Y1(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Y1(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let l,u,d;if(t instanceof Lt)u=Wn(t.firestore,Fs),d=sm(t._key.path),l={next:p=>{e[s]&&e[s](E2(u,t,p))},error:e[s+1],complete:e[s+2]};else{const p=Wn(t,Pa);u=Wn(p.firestore,Fs),d=p._query;const y=new sv(u);l={next:b=>{e[s]&&e[s](new wa(u,y,p,b))},error:e[s+1],complete:e[s+2]},y2(t._query)}const m=Ju(u);return O5(m,d,a,l)}function sh(t,e){const n=Ju(t);return U5(n,e)}function E2(t,e,n){const s=n.docs.get(e._key),a=new sv(t);return new xa(t,a,e._key,s,new Sl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){BP(Io),To(new Ta("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),d=new Fs(new qP(s.getProvider("auth-internal")),new $P(u,s.getProvider("app-check-internal")),l4(u,a),u);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Ps($1,K1,e),Ps($1,K1,"esm2020")})();const Z5=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:p2,Bytes:xi,CollectionReference:_r,DocumentReference:Lt,DocumentSnapshot:xa,FieldPath:mm,FieldValue:pm,Firestore:Fs,FirestoreError:ve,GeoPoint:ms,Query:Pa,QueryCompositeFilterConstraint:ym,QueryConstraint:v2,QueryDocumentSnapshot:vu,QueryFieldFilterConstraint:nh,QuerySnapshot:wa,SnapshotMetadata:Sl,Timestamp:Le,VectorValue:Ki,_AutoId:Jf,_ByteString:_n,_DatabaseId:Ll,_DocumentKey:Ne,_EmptyAuthCredentialsProvider:KS,_FieldPath:bn,_cast:Wn,_logWarn:Ao,_validateIsNotUsedTogether:QS,addDoc:w2,collection:El,connectFirestoreEmulator:a2,deleteDoc:x2,deleteField:Nf,doc:hs,ensureFirestoreConfigured:Ju,executeWrite:sh,getDoc:ih,getDocs:bu,getFirestore:o2,onSnapshot:T2,query:kf,setDoc:Mf,updateDoc:jn,where:Df},Symbol.toStringTag,{value:"Module"}));const S2="firebasestorage.googleapis.com",J5="storageBucket",ej=120*1e3,tj=600*1e3;class $s extends Gs{constructor(e,n,s=0){super(jg(e),`Firebase Storage: ${n} (${jg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$s.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qs||(qs={}));function jg(t){return"storage/"+t}function nj(){const t="An unknown error occurred, please check the error payload for server response.";return new $s(qs.UNKNOWN,t)}function ij(){return new $s(qs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sj(){return new $s(qs.CANCELED,"User canceled the upload/download.")}function rj(t){return new $s(qs.INVALID_URL,"Invalid URL '"+t+"'.")}function aj(t){return new $s(qs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function X1(t){return new $s(qs.INVALID_ARGUMENT,t)}function A2(){return new $s(qs.APP_DELETED,"The Firebase app was deleted.")}function oj(t){return new $s(qs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ds{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ds.makeFromUrl(e,n)}catch{return new ds(e,"")}if(s.path==="")return s;throw aj(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(me){me.path.charAt(me.path.length-1)==="/"&&(me.path_=me.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function p(me){me.path_=decodeURIComponent(me.path)}const y="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",C=new RegExp(`^https?://${b}/${y}/b/${a}/o${w}`,"i"),V={bucket:1,path:3},j=n===S2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",H=new RegExp(`^https?://${j}/${a}/${N}`,"i"),Y=[{regex:d,indices:m,postModify:l},{regex:C,indices:V,postModify:p},{regex:H,indices:{bucket:1,path:2},postModify:p}];for(let me=0;me<Y.length;me++){const ue=Y[me],de=ue.regex.exec(e);if(de){const k=de[ue.indices.bucket];let S=de[ue.indices.path];S||(S=""),s=new ds(k,S),ue.postModify(s);break}}if(s==null)throw rj(e);return s}}class lj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function cj(t,e,n){let s=1,a=null,l=null,u=!1,d=0;function m(){return d===2}let p=!1;function y(...N){p||(p=!0,e.apply(null,N))}function b(N){a=setTimeout(()=>{a=null,t(C,m())},N)}function w(){l&&clearTimeout(l)}function C(N,...H){if(p){w();return}if(N){w(),y.call(null,N,...H);return}if(m()||u){w(),y.call(null,N,...H);return}s<64&&(s*=2);let Y;d===1?(d=2,Y=0):Y=(s+Math.random())*1e3,b(Y)}let V=!1;function j(N){V||(V=!0,w(),!p&&(a!==null?(N||(d=2),clearTimeout(a),b(0)):N||(d=1)))}return b(0),l=setTimeout(()=>{u=!0,j(!0)},n),j}function uj(t){t(!1)}function hj(t){return t!==void 0}function Z1(t,e,n,s){if(s<e)throw X1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw X1(`Invalid value for '${t}'. Expected ${n} or less.`)}function dj(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Vf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Vf||(Vf={}));function fj(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class mj{constructor(e,n,s,a,l,u,d,m,p,y,b,w=!0,C=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,j)=>{this.resolve_=V,this.reject_=j,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Pd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=d=>{const m=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const d=l.getErrorCode()===Vf.NO_ERROR,m=l.getStatus();if(!d||fj(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Vf.ABORT;s(!1,new Pd(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new Pd(p,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());hj(m)?l(m):l()}catch(m){u(m)}else if(d!==null){const m=nj();m.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,m)):u(m)}else if(a.canceled){const m=this.appDelete_?A2():sj();u(m)}else{const m=ij();u(m)}};this.canceled_?n(!1,new Pd(!1,null,!0)):this.backoffId_=cj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Pd{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function pj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function gj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function bj(t,e,n,s,a,l,u=!0,d=!1){const m=dj(t.urlParams),p=t.url+m,y=Object.assign({},t.headers);return yj(y,e),pj(y,n),gj(y,l),vj(y,s),new mj(p,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,d)}function _j(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Pf{constructor(e,n){this._service=e,n instanceof ds?this._location=n:this._location=ds.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Pf(e,n)}get root(){const e=new ds(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xj(this._location.path)}get storage(){return this._service}get parent(){const e=_j(this._location.path);if(e===null)return null;const n=new ds(this._location.bucket,e);return new Pf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw oj(e)}}function J1(t,e){const n=e?.[J5];return n==null?null:ds.makeFromBucketSpec(n,t)}function wj(t,e,n,s={}){t.host=`${e}:${n}`;const a=Ro(e);a&&(f0(`https://${t.host}/b`),m0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:iS(l,t.app.options.projectId))}class Tj{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=S2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ej,this._maxUploadRetryTime=tj,this._requests=new Set,a!=null?this._bucket=ds.makeFromBucketSpec(a,this._host):this._bucket=J1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ds.makeFromBucketSpec(this._url,e):this._bucket=J1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Z1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Z1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pf(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new lj(A2());{const u=bj(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const eT="@firebase/storage",tT="0.14.0";const C2="storage";function Ej(t=y0(),e){t=mn(t);const s=Qf(t,C2).getImmediate({identifier:e}),a=eS("storage");return a&&Sj(s,...a),s}function Sj(t,e,n,s={}){wj(t,e,n,s)}function Aj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Tj(n,s,a,e,Io)}function Cj(){To(new Ta(C2,Aj,"PUBLIC").setMultipleInstances(!0)),Ps(eT,tT,""),Ps(eT,tT,"esm2020")}Cj();const Rj={apiKey:"AIzaSyC7IaK8e0JimVT2DeKQovTDLPyufibEu_4",authDomain:"sunsar-bingo.firebaseapp.com",projectId:"sunsar-bingo",storageBucket:"sunsar-bingo.firebasestorage.app",messagingSenderId:"256131852935",appId:"1:256131852935:web:fe514c1e6758e5af252622"},vm=aS(Rj),Jd=UP(vm),R2=new pr,Kn=o2(vm);Ej(vm);const Ij=Object.freeze(Object.defineProperty({__proto__:null,app:vm,auth:Jd,db:Kn,googleProvider:R2},Symbol.toStringTag,{value:"Module"})),I2=I.createContext(void 0),Nj=({children:t})=>{const[e,n]=I.useState(null),[s,a]=I.useState(!0),[l,u]=I.useState(null);I.useEffect(()=>{const p=CV(Jd,async y=>{if(y){const b={uid:y.uid,email:y.email,displayName:y.displayName,photoURL:y.photoURL};n(b),u(null);try{const{doc:w,setDoc:C,Timestamp:V}=await ly(async()=>{const{doc:N,setDoc:H,Timestamp:W}=await Promise.resolve().then(()=>Z5);return{doc:N,setDoc:H,Timestamp:W}},[]),{db:j}=await ly(async()=>{const{db:N}=await Promise.resolve().then(()=>Ij);return{db:N}},void 0);await C(w(j,"users",y.uid),{...b,lastSeen:V.now()},{merge:!0})}catch(w){console.error("Error syncing user profile:",w)}}else n(null);a(!1)});return()=>p()},[]);const d=async()=>{u(null);try{await YV(Jd,R2)}catch(p){u(p.message||"Failed to sign in")}},m=async()=>{await RV(Jd)};return v.jsx(I2.Provider,{value:{user:e,loading:s,signIn:d,logout:m,error:l},children:t})},Jl=()=>{const t=I.useContext(I2);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},av=I.createContext({});function ov(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const N2=typeof window<"u",k2=N2?I.useLayoutEffect:I.useEffect,bm=I.createContext(null);function lv(t,e){t.indexOf(e)===-1&&t.push(e)}function cv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Hs=(t,e,n)=>n>e?e:n<t?t:n;let uv=()=>{};const Cr={},D2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function M2(t){return typeof t=="object"&&t!==null}const V2=t=>/^0[^.\s]+$/u.test(t);function hv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Yi=t=>t,kj=(t,e)=>n=>e(t(n)),rh=(...t)=>t.reduce(kj),Mu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class dv{constructor(){this.subscriptions=[]}add(e){return lv(this.subscriptions,e),()=>cv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xr=t=>t*1e3,Gi=t=>t/1e3;function P2(t,e){return e?t*(1e3/e):0}const O2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Dj=1e-7,Mj=12;function Vj(t,e,n,s,a){let l,u,d=0;do u=e+(n-e)/2,l=O2(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>Dj&&++d<Mj);return u}function ah(t,e,n,s){if(t===e&&n===s)return Yi;const a=l=>Vj(l,0,1,t,n);return l=>l===0||l===1?l:O2(a(l),e,s)}const j2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,L2=t=>e=>1-t(1-e),U2=ah(.33,1.53,.69,.99),fv=L2(U2),z2=j2(fv),B2=t=>(t*=2)<1?.5*fv(t):.5*(2-Math.pow(2,-10*(t-1))),mv=t=>1-Math.sin(Math.acos(t)),F2=L2(mv),q2=j2(mv),Pj=ah(.42,0,1,1),Oj=ah(0,0,.58,1),H2=ah(.42,0,.58,1),jj=t=>Array.isArray(t)&&typeof t[0]!="number",G2=t=>Array.isArray(t)&&typeof t[0]=="number",Lj={linear:Yi,easeIn:Pj,easeInOut:H2,easeOut:Oj,circIn:mv,circInOut:q2,circOut:F2,backIn:fv,backInOut:z2,backOut:U2,anticipate:B2},Uj=t=>typeof t=="string",nT=t=>{if(G2(t)){uv(t.length===4);const[e,n,s,a]=t;return ah(e,n,s,a)}else if(Uj(t))return Lj[t];return t},Od=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function zj(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(p.schedule(y),t()),y(d)}const p={schedule:(y,b=!1,w=!1)=>{const V=w&&a?n:s;return b&&u.add(y),V.has(y)||V.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const Bj=40;function $2(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Od.reduce((Y,me)=>(Y[me]=zj(l),Y),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:y,update:b,preRender:w,render:C,postRender:V}=u,j=()=>{const Y=Cr.useManualTiming?a.timestamp:performance.now();n=!1,Cr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(Y-a.timestamp,Bj),1)),a.timestamp=Y,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),y.process(a),b.process(a),w.process(a),C.process(a),V.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(j))},N=()=>{n=!0,s=!0,a.isProcessing||t(j)};return{schedule:Od.reduce((Y,me)=>{const ue=u[me];return Y[me]=(de,k=!1,S=!1)=>(n||N(),ue.schedule(de,k,S)),Y},{}),cancel:Y=>{for(let me=0;me<Od.length;me++)u[Od[me]].cancel(Y)},state:a,steps:u}}const{schedule:Rt,cancel:Na,state:Dn,steps:Lg}=$2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yi,!0);let ef;function Fj(){ef=void 0}const Yn={now:()=>(ef===void 0&&Yn.set(Dn.isProcessing||Cr.useManualTiming?Dn.timestamp:performance.now()),ef),set:t=>{ef=t,queueMicrotask(Fj)}},K2=t=>e=>typeof e=="string"&&e.startsWith(t),Y2=K2("--"),qj=K2("var(--"),pv=t=>qj(t)?Hj.test(t.split("/*")[0].trim()):!1,Hj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function iT(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const ec={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Vu={...ec,transform:t=>Hs(0,1,t)},jd={...ec,default:1},_u=t=>Math.round(t*1e5)/1e5,gv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Gj(t){return t==null}const $j=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,yv=(t,e)=>n=>!!(typeof n=="string"&&$j.test(n)&&n.startsWith(t)||e&&!Gj(n)&&Object.prototype.hasOwnProperty.call(n,e)),Q2=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,d]=s.match(gv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},Kj=t=>Hs(0,255,t),Ug={...ec,transform:t=>Math.round(Kj(t))},vo={test:yv("rgb","red"),parse:Q2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Ug.transform(t)+", "+Ug.transform(e)+", "+Ug.transform(n)+", "+_u(Vu.transform(s))+")"};function Yj(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Vy={test:yv("#"),parse:Yj,transform:vo.transform},oh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),da=oh("deg"),Us=oh("%"),we=oh("px"),Qj=oh("vh"),Wj=oh("vw"),sT={...Us,parse:t=>Us.parse(t)/100,transform:t=>Us.transform(t*100)},Al={test:yv("hsl","hue"),parse:Q2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Us.transform(_u(e))+", "+Us.transform(_u(n))+", "+_u(Vu.transform(s))+")"},rn={test:t=>vo.test(t)||Vy.test(t)||Al.test(t),parse:t=>vo.test(t)?vo.parse(t):Al.test(t)?Al.parse(t):Vy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vo.transform(t):Al.transform(t),getAnimatableNone:t=>{const e=rn.parse(t);return e.alpha=0,rn.transform(e)}},Xj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Zj(t){return isNaN(t)&&typeof t=="string"&&(t.match(gv)?.length||0)+(t.match(Xj)?.length||0)>0}const W2="number",X2="color",Jj="var",e3="var(",rT="${}",t3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(t3,m=>(rn.test(m)?(s.color.push(l),a.push(X2),n.push(rn.parse(m))):m.startsWith(e3)?(s.var.push(l),a.push(Jj),n.push(m)):(s.number.push(l),a.push(W2),n.push(parseFloat(m))),++l,rT)).split(rT);return{values:n,split:d,indexes:s,types:a}}function Z2(t){return Pu(t).values}function J2(t){const{split:e,types:n}=Pu(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const d=n[u];d===W2?l+=_u(a[u]):d===X2?l+=rn.transform(a[u]):l+=a[u]}return l}}const n3=t=>typeof t=="number"?0:rn.test(t)?rn.getAnimatableNone(t):t;function i3(t){const e=Z2(t);return J2(t)(e.map(n3))}const ka={test:Zj,parse:Z2,createTransformer:J2,getAnimatableNone:i3};function zg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function s3({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=zg(m,d,t+1/3),l=zg(m,d,t),u=zg(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function Of(t,e){return n=>n>0?e:t}const jt=(t,e,n)=>t+(e-t)*n,Bg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},r3=[Vy,vo,Al],a3=t=>r3.find(e=>e.test(t));function aT(t){const e=a3(t);if(!e)return!1;let n=e.parse(t);return e===Al&&(n=s3(n)),n}const oT=(t,e)=>{const n=aT(t),s=aT(e);if(!n||!s)return Of(t,e);const a={...n};return l=>(a.red=Bg(n.red,s.red,l),a.green=Bg(n.green,s.green,l),a.blue=Bg(n.blue,s.blue,l),a.alpha=jt(n.alpha,s.alpha,l),vo.transform(a))},Py=new Set(["none","hidden"]);function o3(t,e){return Py.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function l3(t,e){return n=>jt(t,e,n)}function vv(t){return typeof t=="number"?l3:typeof t=="string"?pv(t)?Of:rn.test(t)?oT:h3:Array.isArray(t)?eC:typeof t=="object"?rn.test(t)?oT:c3:Of}function eC(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>vv(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function c3(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=vv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function u3(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],d=t.values[u]??0;n[a]=d,s[l]++}return n}const h3=(t,e)=>{const n=ka.createTransformer(e),s=Pu(t),a=Pu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Py.has(t)&&!a.values.length||Py.has(e)&&!s.values.length?o3(t,e):rh(eC(u3(s,a),a.values),n):Of(t,e)};function tC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?jt(t,e,n):vv(t)(t,e)}const d3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Rt.update(e,n),stop:()=>Na(e),now:()=>Dn.isProcessing?Dn.timestamp:Yn.now()}},nC=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},jf=2e4;function bv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<jf;)e+=n,s=t.next(e);return e>=jf?1/0:e}function f3(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(bv(s),jf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Gi(a)}}const m3=5;function iC(t,e,n){const s=Math.max(e-m3,0);return P2(n-t(s),e-s)}const Ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fg=.001;function p3({duration:t=Ht.duration,bounce:e=Ht.bounce,velocity:n=Ht.velocity,mass:s=Ht.mass}){let a,l,u=1-e;u=Hs(Ht.minDamping,Ht.maxDamping,u),t=Hs(Ht.minDuration,Ht.maxDuration,Gi(t)),u<1?(a=p=>{const y=p*u,b=y*t,w=y-n,C=Oy(p,u),V=Math.exp(-b);return Fg-w/C*V},l=p=>{const b=p*u*t,w=b*n+n,C=Math.pow(u,2)*Math.pow(p,2)*t,V=Math.exp(-b),j=Oy(Math.pow(p,2),u);return(-a(p)+Fg>0?-1:1)*((w-C)*V)/j}):(a=p=>{const y=Math.exp(-p*t),b=(p-n)*t+1;return-Fg+y*b},l=p=>{const y=Math.exp(-p*t),b=(n-p)*(t*t);return y*b});const d=5/t,m=y3(a,l,d);if(t=xr(t),isNaN(m))return{stiffness:Ht.stiffness,damping:Ht.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const g3=12;function y3(t,e,n){let s=n;for(let a=1;a<g3;a++)s=s-t(s)/e(s);return s}function Oy(t,e){return t*Math.sqrt(1-e*e)}const v3=["duration","bounce"],b3=["stiffness","damping","mass"];function lT(t,e){return e.some(n=>t[n]!==void 0)}function _3(t){let e={velocity:Ht.velocity,stiffness:Ht.stiffness,damping:Ht.damping,mass:Ht.mass,isResolvedFromDuration:!1,...t};if(!lT(t,b3)&&lT(t,v3))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Hs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ht.mass,stiffness:a,damping:l}}else{const n=p3(t);e={...e,...n,mass:Ht.mass},e.isResolvedFromDuration=!0}return e}function Lf(t=Ht.visualDuration,e=Ht.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:b,velocity:w,isResolvedFromDuration:C}=_3({...n,velocity:-Gi(n.velocity||0)}),V=w||0,j=p/(2*Math.sqrt(m*y)),N=u-l,H=Gi(Math.sqrt(m/y)),W=Math.abs(N)<5;s||(s=W?Ht.restSpeed.granular:Ht.restSpeed.default),a||(a=W?Ht.restDelta.granular:Ht.restDelta.default);let Y;if(j<1){const ue=Oy(H,j);Y=de=>{const k=Math.exp(-j*H*de);return u-k*((V+j*H*N)/ue*Math.sin(ue*de)+N*Math.cos(ue*de))}}else if(j===1)Y=ue=>u-Math.exp(-H*ue)*(N+(V+H*N)*ue);else{const ue=H*Math.sqrt(j*j-1);Y=de=>{const k=Math.exp(-j*H*de),S=Math.min(ue*de,300);return u-k*((V+j*H*N)*Math.sinh(S)+ue*N*Math.cosh(S))/ue}}const me={calculatedDuration:C&&b||null,next:ue=>{const de=Y(ue);if(C)d.done=ue>=b;else{let k=ue===0?V:0;j<1&&(k=ue===0?xr(V):iC(Y,ue,de));const S=Math.abs(k)<=s,M=Math.abs(u-de)<=a;d.done=S&&M}return d.value=d.done?u:de,d},toString:()=>{const ue=Math.min(bv(me),jf),de=nC(k=>me.next(ue*k).value,ue,30);return ue+"ms "+de},toTransition:()=>{}};return me}Lf.applyToOptions=t=>{const e=f3(t,100,Lf);return t.ease=e.ease,t.duration=xr(e.duration),t.type="keyframes",t};function jy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:m,restDelta:p=.5,restSpeed:y}){const b=t[0],w={done:!1,value:b},C=S=>d!==void 0&&S<d||m!==void 0&&S>m,V=S=>d===void 0?m:m===void 0||Math.abs(d-S)<Math.abs(m-S)?d:m;let j=n*e;const N=b+j,H=u===void 0?N:u(N);H!==N&&(j=H-b);const W=S=>-j*Math.exp(-S/s),Y=S=>H+W(S),me=S=>{const M=W(S),z=Y(S);w.done=Math.abs(M)<=p,w.value=w.done?H:z};let ue,de;const k=S=>{C(w.value)&&(ue=S,de=Lf({keyframes:[w.value,V(w.value)],velocity:iC(Y,S,w.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return k(0),{calculatedDuration:null,next:S=>{let M=!1;return!de&&ue===void 0&&(M=!0,me(S),k(S)),ue!==void 0&&S>=ue?de.next(S-ue):(!M&&me(S),w)}}}function x3(t,e,n){const s=[],a=n||Cr.mix||tC,l=t.length-1;for(let u=0;u<l;u++){let d=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||Yi:e;d=rh(m,d)}s.push(d)}return s}function w3(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(uv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=x3(e,s,a),m=d.length,p=y=>{if(u&&y<t[0])return e[0];let b=0;if(m>1)for(;b<t.length-2&&!(y<t[b+1]);b++);const w=Mu(t[b],t[b+1],y);return d[b](w)};return n?y=>p(Hs(t[0],t[l-1],y)):p}function T3(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Mu(0,e,s);t.push(jt(n,1,a))}}function E3(t){const e=[0];return T3(e,t.length-1),e}function S3(t,e){return t.map(n=>n*e)}function A3(t,e){return t.map(()=>e||H2).splice(0,t.length-1)}function xu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=jj(s)?s.map(nT):nT(s),l={done:!1,value:e[0]},u=S3(n&&n.length===e.length?n:E3(e),t),d=w3(u,e,{ease:Array.isArray(a)?a:A3(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const C3=t=>t!==null;function _v(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(C3),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const R3={decay:jy,inertia:jy,tween:xu,keyframes:xu,spring:Lf};function sC(t){typeof t.type=="string"&&(t.type=R3[t.type])}class xv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const I3=t=>t/100;class wv extends xv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Yn.now()&&this.tick(Yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;sC(e);const{type:n=xu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const m=n||xu;m!==xu&&typeof d[0]!="number"&&(this.mixKeyframes=rh(I3,tC(d[0],d[1])),d=[0,100]);const p=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=bv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:b,repeatType:w,repeatDelay:C,type:V,onUpdate:j,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const H=this.currentTime-p*(this.playbackSpeed>=0?1:-1),W=this.playbackSpeed>=0?H<0:H>a;this.currentTime=Math.max(H,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Y=this.currentTime,me=s;if(b){const S=Math.min(this.currentTime,a)/d;let M=Math.floor(S),z=S%1;!z&&S>=1&&(z=1),z===1&&M--,M=Math.min(M,b+1),M%2&&(w==="reverse"?(z=1-z,C&&(z-=C/d)):w==="mirror"&&(me=u)),Y=Hs(0,1,z)*d}const ue=W?{done:!1,value:y[0]}:me.next(Y);l&&(ue.value=l(ue.value));let{done:de}=ue;!W&&m!==null&&(de=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&de);return k&&V!==jy&&(ue.value=_v(y,this.options,N,this.speed)),j&&j(ue.value),k&&this.finish(),ue}then(e,n){return this.finished.then(e,n)}get duration(){return Gi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Gi(e)}get time(){return Gi(this.currentTime)}set time(e){e=xr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Yn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Gi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=d3,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function N3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const bo=t=>t*180/Math.PI,Ly=t=>{const e=bo(Math.atan2(t[1],t[0]));return Uy(e)},k3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ly,rotateZ:Ly,skewX:t=>bo(Math.atan(t[1])),skewY:t=>bo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Uy=t=>(t=t%360,t<0&&(t+=360),t),cT=Ly,uT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),hT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),D3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uT,scaleY:hT,scale:t=>(uT(t)+hT(t))/2,rotateX:t=>Uy(bo(Math.atan2(t[6],t[5]))),rotateY:t=>Uy(bo(Math.atan2(-t[2],t[0]))),rotateZ:cT,rotate:cT,skewX:t=>bo(Math.atan(t[4])),skewY:t=>bo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function zy(t){return t.includes("scale")?1:0}function By(t,e){if(!t||t==="none")return zy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=D3,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=k3,a=d}if(!a)return zy(e);const l=s[e],u=a[1].split(",").map(V3);return typeof l=="function"?l(u):u[l]}const M3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return By(n,e)};function V3(t){return parseFloat(t.trim())}const tc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nc=new Set(tc),dT=t=>t===ec||t===we,P3=new Set(["x","y","z"]),O3=tc.filter(t=>!P3.has(t));function j3(t){const e=[];return O3.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const ya={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>By(e,"x"),y:(t,{transform:e})=>By(e,"y")};ya.translateX=ya.x;ya.translateY=ya.y;const xo=new Set;let Fy=!1,qy=!1,Hy=!1;function rC(){if(qy){const t=Array.from(xo).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=j3(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}qy=!1,Fy=!1,xo.forEach(t=>t.complete(Hy)),xo.clear()}function aC(){xo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(qy=!0)})}function L3(){Hy=!0,aC(),rC(),Hy=!1}class Tv{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(xo.add(this),Fy||(Fy=!0,Rt.read(aC),Rt.resolveKeyframes(rC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}N3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),xo.delete(this)}cancel(){this.state==="scheduled"&&(xo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const U3=t=>t.startsWith("--");function z3(t,e,n){U3(e)?t.style.setProperty(e,n):t.style[e]=n}const B3=hv(()=>window.ScrollTimeline!==void 0),F3={};function q3(t,e){const n=hv(t);return()=>F3[e]??n()}const oC=q3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),uu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,fT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uu([0,.65,.55,1]),circOut:uu([.55,0,1,.45]),backIn:uu([.31,.01,.66,-.59]),backOut:uu([.33,1.53,.69,.99])};function lC(t,e){if(t)return typeof t=="function"?oC()?nC(t,e):"ease-out":G2(t)?uu(t):Array.isArray(t)?t.map(n=>lC(n,e)||fT.easeOut):fT[t]}function H3(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const b=lC(d,a);Array.isArray(b)&&(y.easing=b);const w={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(y,w)}function cC(t){return typeof t=="function"&&"applyToOptions"in t}function G3({type:t,...e}){return cC(t)&&oC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class $3 extends xv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,uv(typeof e.type!="string");const p=G3(e);this.animation=H3(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=_v(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):z3(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Gi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Gi(e)}get time(){return Gi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=xr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&B3()?(this.animation.timeline=e,Yi):n(this)}}const uC={anticipate:B2,backInOut:z2,circInOut:q2};function K3(t){return t in uC}function Y3(t){typeof t.ease=="string"&&K3(t.ease)&&(t.ease=uC[t.ease])}const qg=10;class Q3 extends $3{constructor(e){Y3(e),sC(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new wv({...u,autoplay:!1}),m=Math.max(qg,Yn.now()-this.startTime),p=Hs(0,qg,m-qg);n.setWithVelocity(d.sample(Math.max(0,m-p)).value,d.sample(m).value,p),d.stop()}}const mT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ka.test(t)||t==="0")&&!t.startsWith("url("));function W3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function X3(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=mT(a,e),d=mT(l,e);return!u||!d?!1:W3(t)||(n==="spring"||cC(n))&&s}function Gy(t){t.duration=0,t.type="keyframes"}const Z3=new Set(["opacity","clipPath","filter","transform"]),J3=hv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function eL(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return J3()&&n&&Z3.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const tL=40;class nL extends xv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:m,motionValue:p,element:y,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Yn.now();const w={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:y,...b},C=y?.KeyframeResolver||Tv;this.keyframeResolver=new C(d,(V,j,N)=>this.onKeyframesResolved(V,j,w,!N),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=Yn.now(),X3(e,l,u,d)||((Cr.instantAnimations||!m)&&y?.(_v(e,s,n)),e[0]=e[e.length-1],Gy(s),s.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>tL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},C=!p&&eL(w)?new Q3({...w,element:w.motionValue.owner.current}):new wv(w);C.finished.then(()=>this.notifyFinished()).catch(Yi),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),L3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const iL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function sL(t){const e=iL.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function hC(t,e,n=1){const[s,a]=sL(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return D2(u)?parseFloat(u):u}return pv(a)?hC(a,e,n+1):a}function Ev(t,e){return t?.[e]??t?.default??t}const rL={type:"spring",stiffness:500,damping:25,restSpeed:10},aL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),oL={type:"keyframes",duration:.8},lL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cL=(t,{keyframes:e})=>e.length>2?oL:nc.has(t)?t.startsWith("scale")?aL(e[1]):rL:lL;function uL({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const hL=t=>t!==null;function dL(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(hL),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function dC(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,d=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:d-l*s}const Sv=(t,e,n,s={},a,l)=>u=>{const d=Ev(s,t)||{},m=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-xr(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};uL(d)||Object.assign(y,cL(t,y)),y.duration&&(y.duration=xr(y.duration)),y.repeatDelay&&(y.repeatDelay=xr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let b=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Gy(y),y.delay===0&&(b=!0)),(Cr.instantAnimations||Cr.skipAnimations)&&(b=!0,Gy(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,b&&!l&&e.get()!==void 0){const w=dL(y.keyframes,d);if(w!==void 0){Rt.update(()=>{y.onUpdate(w),y.onComplete()});return}}return d.isSync?new wv(y):new nL(y)},fC=new Set(["width","height","top","left","right","bottom",...tc]),pT=30,fL=t=>!isNaN(parseFloat(t));class mL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Yn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new dv);const s=this.events[e].add(n);return e==="change"?()=>{s(),Rt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pT);return P2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hl(t,e){return new mL(t,e)}function gT(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Av(t,e,n,s){if(typeof e=="function"){const[a,l]=gT(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=gT(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Pl(t,e,n){const s=t.getProps();return Av(s,e,n!==void 0?n:s.custom,t)}const $y=t=>Array.isArray(t);function pL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Hl(n))}function gL(t){return $y(t)?t[t.length-1]||0:t}function yL(t,e){const n=Pl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const d=gL(l[u]);pL(t,u,d)}}const zn=t=>!!(t&&t.getVelocity);function vL(t){return!!(zn(t)&&t.add)}function Ky(t,e){const n=t.getValue("willChange");if(vL(n))return n.add(e);if(!n&&Cr.WillChange){const s=new Cr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Cv(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const bL="framerAppearId",mC="data-"+Cv(bL);function pC(t){return t.props[mC]}function _L({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function gC(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in d){const b=t.getValue(y,t.latestValues[y]??null),w=d[y];if(w===void 0||p&&_L(p,y))continue;const C={delay:n,...Ev(l||{},y)},V=b.get();if(V!==void 0&&!b.isAnimating&&!Array.isArray(w)&&w===V&&!C.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const H=pC(t);if(H){const W=window.MotionHandoffAnimation(H,y,Rt);W!==null&&(C.startTime=W,j=!0)}}Ky(t,y),b.start(Sv(y,b,w,t.shouldReduceMotion&&fC.has(y)?{type:!1}:C,t,j));const N=b.animation;N&&m.push(N)}return u&&Promise.all(m).then(()=>{Rt.update(()=>{u&&yL(t,u)})}),m}function Yy(t,e,n={}){const s=Pl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(gC(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:b}=a;return xL(t,e,m,p,y,b,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function xL(t,e,n=0,s=0,a=0,l=1,u){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(Yy(m,e,{...u,delay:n+(typeof s=="function"?0:s)+dC(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function wL(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Yy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Yy(t,e,n);else{const a=typeof e=="function"?Pl(t,e,n.custom):e;s=Promise.all(gC(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const TL={test:t=>t==="auto",parse:t=>t},yC=t=>e=>e.test(t),vC=[ec,we,Us,da,Wj,Qj,TL],yT=t=>vC.find(yC(t));function EL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||V2(t):!0}const SL=new Set(["brightness","contrast","saturate","opacity"]);function AL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(gv)||[];if(!s)return t;const a=n.replace(s,"");let l=SL.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const CL=/\b([a-z-]*)\(.*?\)/gu,Qy={...ka,getAnimatableNone:t=>{const e=t.match(CL);return e?e.map(AL).join(" "):t}},vT={...ec,transform:Math.round},RL={rotate:da,rotateX:da,rotateY:da,rotateZ:da,scale:jd,scaleX:jd,scaleY:jd,scaleZ:jd,skew:da,skewX:da,skewY:da,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Vu,originX:sT,originY:sT,originZ:we},Rv={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,inset:we,insetBlock:we,insetBlockStart:we,insetBlockEnd:we,insetInline:we,insetInlineStart:we,insetInlineEnd:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,paddingBlock:we,paddingBlockStart:we,paddingBlockEnd:we,paddingInline:we,paddingInlineStart:we,paddingInlineEnd:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,marginBlock:we,marginBlockStart:we,marginBlockEnd:we,marginInline:we,marginInlineStart:we,marginInlineEnd:we,backgroundPositionX:we,backgroundPositionY:we,...RL,zIndex:vT,fillOpacity:Vu,strokeOpacity:Vu,numOctaves:vT},IL={...Rv,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:Qy,WebkitFilter:Qy},bC=t=>IL[t];function _C(t,e){let n=bC(t);return n!==Qy&&(n=ka),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const NL=new Set(["auto","none","0"]);function kL(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!NL.has(l)&&Pu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=_C(n,a)}class DL extends Tv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let b=e[y];if(typeof b=="string"&&(b=b.trim(),pv(b))){const w=hC(b,n.current);w!==void 0&&(e[y]=w),y===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!fC.has(s)||e.length!==2)return;const[a,l]=e,u=yT(a),d=yT(l),m=iT(a),p=iT(l);if(m!==p&&ya[s]){this.needsMeasurement=!0;return}if(u!==d)if(dT(u)&&dT(d))for(let y=0;y<e.length;y++){const b=e[y];typeof b=="string"&&(e[y]=parseFloat(b))}else ya[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||EL(e[a]))&&s.push(a);s.length&&kL(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ya[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=ya[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function ML(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const xC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function wC(t){return M2(t)&&"offsetHeight"in t}const{schedule:Iv}=$2(queueMicrotask,!1),cs={x:!1,y:!1};function TC(){return cs.x||cs.y}function VL(t){return t==="x"||t==="y"?cs[t]?null:(cs[t]=!0,()=>{cs[t]=!1}):cs.x||cs.y?null:(cs.x=cs.y=!0,()=>{cs.x=cs.y=!1})}function EC(t,e){const n=ML(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function bT(t){return!(t.pointerType==="touch"||TC())}function PL(t,e,n={}){const[s,a,l]=EC(t,n),u=d=>{if(!bT(d))return;const{target:m}=d,p=e(m,d);if(typeof p!="function"||!m)return;const y=b=>{bT(b)&&(p(b),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",u,a)}),l}const SC=(t,e)=>e?t===e?!0:SC(t,e.parentElement):!1,Nv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,OL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function AC(t){return OL.has(t.tagName)||t.isContentEditable===!0}const tf=new WeakSet;function _T(t){return e=>{e.key==="Enter"&&t(e)}}function Hg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jL=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=_T(()=>{if(tf.has(n))return;Hg(n,"down");const a=_T(()=>{Hg(n,"up")}),l=()=>Hg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function xT(t){return Nv(t)&&!TC()}function LL(t,e,n={}){const[s,a,l]=EC(t,n),u=d=>{const m=d.currentTarget;if(!xT(d))return;tf.add(m);const p=e(m,d),y=(C,V)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",w),tf.has(m)&&tf.delete(m),xT(C)&&typeof p=="function"&&p(C,{success:V})},b=C=>{y(C,m===window||m===document||n.useGlobalTarget||SC(m,C.target))},w=C=>{y(C,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",w,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),wC(d)&&(d.addEventListener("focus",p=>jL(p,a)),!AC(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function CC(t){return M2(t)&&"ownerSVGElement"in t}function UL(t){return CC(t)&&t.tagName==="svg"}const zL=[...vC,rn,ka],BL=t=>zL.find(yC(t)),wT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cl=()=>({x:wT(),y:wT()}),TT=()=>({min:0,max:0}),dn=()=>({x:TT(),y:TT()}),Wy={current:null},RC={current:!1},FL=typeof window<"u";function qL(){if(RC.current=!0,!!FL)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Wy.current=t.matches;t.addEventListener("change",e),e()}else Wy.current=!1}const HL=new WeakMap;function _m(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ou(t){return typeof t=="string"||Array.isArray(t)}const kv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dv=["initial",...kv];function xm(t){return _m(t.animate)||Dv.some(e=>Ou(t[e]))}function IC(t){return!!(xm(t)||t.variants)}function GL(t,e,n){for(const s in e){const a=e[s],l=n[s];if(zn(a))t.addValue(s,a);else if(zn(l))t.addValue(s,Hl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,Hl(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const ET=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Uf={};function NC(t){Uf=t}function $L(){return Uf}class KL{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Tv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Yn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Rt.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=xm(n),this.isVariantNode=IC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in b){const C=b[w];m[w]!==void 0&&zn(C)&&C.set(m[w])}}mount(e){this.current=e,HL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(RC.current||qL(),this.shouldReduceMotion=Wy.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Na(this.notifyUpdate),Na(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=nc.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Rt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Uf){const n=Uf[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ET.length;s++){const a=ET[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=GL(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Hl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(D2(s)||V2(s))?s=parseFloat(s):!BL(s)&&ka.test(n)&&(s=_C(e,n)),this.setBaseTarget(e,zn(s)?s.get():s)),zn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Av(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!zn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new dv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Iv.render(this.render)}}class Oa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class kC extends KL{constructor(){super(...arguments),this.KeyframeResolver=DL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function DC({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function YL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function QL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Gg(t){return t===void 0||t===1}function Xy({scale:t,scaleX:e,scaleY:n}){return!Gg(t)||!Gg(e)||!Gg(n)}function po(t){return Xy(t)||MC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function MC(t){return ST(t.x)||ST(t.y)}function ST(t){return t&&t!=="0%"}function zf(t,e,n){const s=t-n,a=e*s;return n+a}function AT(t,e,n,s,a){return a!==void 0&&(t=zf(t,a,s)),zf(t,n,s)+e}function Zy(t,e=0,n=1,s,a){t.min=AT(t.min,e,n,s,a),t.max=AT(t.max,e,n,s,a)}function VC(t,{x:e,y:n}){Zy(t.x,e.translate,e.scale,e.originPoint),Zy(t.y,n.translate,n.scale,n.originPoint)}const CT=.999999999999,RT=1.0000000000001;function WL(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=n[d],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Il(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,VC(t,u)),s&&po(l.latestValues)&&Il(t,l.latestValues))}e.x<RT&&e.x>CT&&(e.x=1),e.y<RT&&e.y>CT&&(e.y=1)}function Rl(t,e){t.min=t.min+e,t.max=t.max+e}function IT(t,e,n,s,a=.5){const l=jt(t.min,t.max,a);Zy(t,e,n,l,s)}function Il(t,e){IT(t.x,e.x,e.scaleX,e.scale,e.originX),IT(t.y,e.y,e.scaleY,e.scale,e.originY)}function PC(t,e){return DC(QL(t.getBoundingClientRect(),e))}function XL(t,e,n){const s=PC(t,n),{scroll:a}=e;return a&&(Rl(s.x,a.offset.x),Rl(s.y,a.offset.y)),s}const ZL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JL=tc.length;function e6(t,e,n){let s="",a=!0;for(let l=0;l<JL;l++){const u=tc[l],d=t[u];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(u.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const p=xC(d,Rv[u]);if(!m){a=!1;const y=ZL[u]||u;s+=`${y}(${p}) `}n&&(e[u]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Mv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,d=!1;for(const m in e){const p=e[m];if(nc.has(m)){u=!0;continue}else if(Y2(m)){a[m]=p;continue}else{const y=xC(p,Rv[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(e.transform||(u||n?s.transform=e6(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}function OC(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function NT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const iu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=NT(t,e.target.x),s=NT(t,e.target.y);return`${n}% ${s}%`}},t6={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=ka.parse(t);if(a.length>5)return s;const l=ka.createTransformer(t),u=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=d,a[1+u]/=m;const p=jt(d,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},Jy={borderRadius:{...iu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:iu,borderTopRightRadius:iu,borderBottomLeftRadius:iu,borderBottomRightRadius:iu,boxShadow:t6};function jC(t,{layout:e,layoutId:n}){return nc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Jy[t]||t==="opacity")}function Vv(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const u in s)(zn(s[u])||a&&zn(a[u])||jC(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function n6(t){return window.getComputedStyle(t)}class i6 extends kC{constructor(){super(...arguments),this.type="html",this.renderInstance=OC}readValueFromInstance(e,n){if(nc.has(n))return this.projection?.isProjecting?zy(n):M3(e,n);{const s=n6(e),a=(Y2(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return PC(e,n)}build(e,n,s){Mv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Vv(e,n,s)}}const s6={offset:"stroke-dashoffset",array:"stroke-dasharray"},r6={offset:"strokeDashoffset",array:"strokeDasharray"};function a6(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?s6:r6;t[l.offset]=we.transform(-s);const u=we.transform(e),d=we.transform(n);t[l.array]=`${u} ${d}`}const o6=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function LC(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},m,p,y){if(Mv(t,d,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:w}=t;b.transform&&(w.transform=b.transform,delete b.transform),(w.transform||b.transformOrigin)&&(w.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete b.transformBox);for(const C of o6)b[C]!==void 0&&(w[C]=b[C],delete b[C]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&a6(b,a,l,u,!1)}const UC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),zC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function l6(t,e,n,s){OC(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(UC.has(a)?a:Cv(a),e.attrs[a])}function BC(t,e,n){const s=Vv(t,e,n);for(const a in t)if(zn(t[a])||zn(e[a])){const l=tc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class c6 extends kC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(nc.has(n)){const s=bC(n);return s&&s.default||0}return n=UC.has(n)?n:Cv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return BC(e,n,s)}build(e,n,s){LC(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){l6(e,n,s,a)}mount(e){this.isSVGTag=zC(e.tagName),super.mount(e)}}const u6=Dv.length;function FC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?FC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<u6;n++){const s=Dv[n],a=t.props[s];(Ou(a)||a===!1)&&(e[s]=a)}return e}function qC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const h6=[...kv].reverse(),d6=kv.length;function f6(t){return e=>Promise.all(e.map(({animation:n,options:s})=>wL(t,n,s)))}function m6(t){let e=f6(t),n=kT(),s=!0;const a=m=>(p,y)=>{const b=Pl(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:w,transitionEnd:C,...V}=b;p={...p,...V,...C}}return p};function l(m){e=m(t)}function u(m){const{props:p}=t,y=FC(t.parent)||{},b=[],w=new Set;let C={},V=1/0;for(let N=0;N<d6;N++){const H=h6[N],W=n[H],Y=p[H]!==void 0?p[H]:y[H],me=Ou(Y),ue=H===m?W.isActive:null;ue===!1&&(V=N);let de=Y===y[H]&&Y!==p[H]&&me;if(de&&s&&t.manuallyAnimateOnMount&&(de=!1),W.protectedKeys={...C},!W.isActive&&ue===null||!Y&&!W.prevProp||_m(Y)||typeof Y=="boolean")continue;const k=p6(W.prevProp,Y);let S=k||H===m&&W.isActive&&!de&&me||N>V&&me,M=!1;const z=Array.isArray(Y)?Y:[Y];let B=z.reduce(a(H),{});ue===!1&&(B={});const{prevResolvedValues:P={}}=W,D={...P,...B},be=X=>{S=!0,w.has(X)&&(M=!0,w.delete(X)),W.needsAnimating[X]=!0;const G=t.getValue(X);G&&(G.liveStyle=!1)};for(const X in D){const G=B[X],K=P[X];if(C.hasOwnProperty(X))continue;let O=!1;$y(G)&&$y(K)?O=!qC(G,K):O=G!==K,O?G!=null?be(X):w.add(X):G!==void 0&&w.has(X)?be(X):W.protectedKeys[X]=!0}W.prevProp=Y,W.prevResolvedValues=B,W.isActive&&(C={...C,...B}),s&&t.blockInitialAnimation&&(S=!1);const xe=de&&k;S&&(!xe||M)&&b.push(...z.map(X=>{const G={type:H};if(typeof X=="string"&&s&&!xe&&t.manuallyAnimateOnMount&&t.parent){const{parent:K}=t,O=Pl(K,X);if(K.enteringChildren&&O){const{delayChildren:T}=O.transition||{};G.delay=dC(K.enteringChildren,t,T)}}return{animation:X,options:G}}))}if(w.size){const N={};if(typeof p.initial!="boolean"){const H=Pl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);H&&H.transition&&(N.transition=H.transition)}w.forEach(H=>{const W=t.getBaseTarget(H),Y=t.getValue(H);Y&&(Y.liveStyle=!0),N[H]=W??null}),b.push({animation:N})}let j=!!b.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(j=!1),s=!1,j?e(b):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(m,p)),n[m].isActive=p;const y=u(m);for(const b in n)n[b].protectedKeys={};return y}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=kT()}}}function p6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qC(e,t):!1}function co(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kT(){return{animate:co(!0),whileInView:co(),whileHover:co(),whileTap:co(),whileDrag:co(),whileFocus:co(),exit:co()}}const HC=1e-4,g6=1-HC,y6=1+HC,GC=.01,v6=0-GC,b6=0+GC;function Qn(t){return t.max-t.min}function _6(t,e,n){return Math.abs(t-e)<=n}function DT(t,e,n,s=.5){t.origin=s,t.originPoint=jt(e.min,e.max,t.origin),t.scale=Qn(n)/Qn(e),t.translate=jt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=g6&&t.scale<=y6||isNaN(t.scale))&&(t.scale=1),(t.translate>=v6&&t.translate<=b6||isNaN(t.translate))&&(t.translate=0)}function wu(t,e,n,s){DT(t.x,e.x,n.x,s?s.originX:void 0),DT(t.y,e.y,n.y,s?s.originY:void 0)}function MT(t,e,n){t.min=n.min+e.min,t.max=t.min+Qn(e)}function x6(t,e,n){MT(t.x,e.x,n.x),MT(t.y,e.y,n.y)}function VT(t,e,n){t.min=e.min-n.min,t.max=t.min+Qn(e)}function Bf(t,e,n){VT(t.x,e.x,n.x),VT(t.y,e.y,n.y)}function PT(t,e,n,s,a){return t-=e,t=zf(t,1/n,s),a!==void 0&&(t=zf(t,1/a,s)),t}function w6(t,e=0,n=1,s=.5,a,l=t,u=t){if(Us.test(e)&&(e=parseFloat(e),e=jt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=jt(l.min,l.max,s);t===l&&(d-=e),t.min=PT(t.min,e,n,d,a),t.max=PT(t.max,e,n,d,a)}function OT(t,e,[n,s,a],l,u){w6(t,e[n],e[s],e[a],e.scale,l,u)}const T6=["x","scaleX","originX"],E6=["y","scaleY","originY"];function jT(t,e,n,s){OT(t.x,e,T6,n?n.x:void 0,s?s.x:void 0),OT(t.y,e,E6,n?n.y:void 0,s?s.y:void 0)}function LT(t,e){t.min=e.min,t.max=e.max}function ls(t,e){LT(t.x,e.x),LT(t.y,e.y)}function UT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function zT(t){return t.translate===0&&t.scale===1}function $C(t){return zT(t.x)&&zT(t.y)}function BT(t,e){return t.min===e.min&&t.max===e.max}function S6(t,e){return BT(t.x,e.x)&&BT(t.y,e.y)}function FT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function KC(t,e){return FT(t.x,e.x)&&FT(t.y,e.y)}function qT(t){return Qn(t.x)/Qn(t.y)}function HT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Fi(t){return[t("x"),t("y")]}function A6(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:b,rotateY:w,skewX:C,skewY:V}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),b&&(s+=`rotateX(${b}deg) `),w&&(s+=`rotateY(${w}deg) `),C&&(s+=`skewX(${C}deg) `),V&&(s+=`skewY(${V}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const YC=["TopLeft","TopRight","BottomLeft","BottomRight"],C6=YC.length,GT=t=>typeof t=="string"?parseFloat(t):t,$T=t=>typeof t=="number"||we.test(t);function R6(t,e,n,s,a,l){a?(t.opacity=jt(0,n.opacity??1,I6(s)),t.opacityExit=jt(e.opacity??1,0,N6(s))):l&&(t.opacity=jt(e.opacity??1,n.opacity??1,s));for(let u=0;u<C6;u++){const d=`border${YC[u]}Radius`;let m=KT(e,d),p=KT(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||$T(m)===$T(p)?(t[d]=Math.max(jt(GT(m),GT(p),s),0),(Us.test(p)||Us.test(m))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=jt(e.rotate||0,n.rotate||0,s))}function KT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const I6=QC(0,.5,F2),N6=QC(.5,.95,Yi);function QC(t,e,n){return s=>s<t?0:s>e?1:n(Mu(t,e,s))}function k6(t,e){const n=Yn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Na(s),t(l-e))};return Rt.setup(s,!0),()=>Na(s)}function ju(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function nf(t){return zn(t)?t.get():t}function D6(t,e,n){const s=zn(t)?t:Hl(t);return s.start(Sv("",s,e,n)),s.animation}const M6=(t,e)=>t.depth-e.depth;class V6{constructor(){this.children=[],this.isDirty=!1}add(e){lv(this.children,e),this.isDirty=!0}remove(e){cv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(M6),this.isDirty=!1,this.children.forEach(e)}}class P6{constructor(){this.members=[]}add(e){lv(this.members,e),e.scheduleRender()}remove(e){if(cv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const sf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},$g=["","X","Y","Z"],O6=1e3;let j6=0;function Kg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function WC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=pC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Rt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&WC(s)}function XC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},d=e?.()){this.id=j6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(z6),this.nodes.forEach(H6),this.nodes.forEach(G6),this.nodes.forEach(B6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new V6)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new dv),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const m=this.eventHandlers.get(u);m&&m.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=CC(u)&&!UL(u),this.instance=u;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let y,b=0;const w=()=>this.root.updateBlockedByResize=!1;Rt.read(()=>{b=window.innerWidth}),t(u,()=>{const C=window.innerWidth;C!==b&&(b=C,this.root.updateBlockedByResize=!0,y&&y(),y=k6(w,250),sf.hasAnimatedSinceResize&&(sf.hasAnimatedSinceResize=!1,this.nodes.forEach(WT)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:b,hasRelativeLayoutChanged:w,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||p.getDefaultTransition()||W6,{onLayoutAnimationStart:j,onLayoutAnimationComplete:N}=p.getProps(),H=!this.targetLayout||!KC(this.targetLayout,C),W=!b&&w;if(this.options.layoutRoot||this.resumeFrom||W||b&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...Ev(V,"layout"),onPlay:j,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(y,W)}else b||WT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Na(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($6),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const b=this.path[y];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(YT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(QT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(q6),this.nodes.forEach(L6),this.nodes.forEach(U6)):this.nodes.forEach(QT),this.clearAllSnapshots();const d=Yn.now();Dn.delta=Hs(0,1e3/60,d-Dn.timestamp),Dn.timestamp=d,Dn.isProcessing=!0,Lg.update.process(Dn),Lg.preRender.process(Dn),Lg.render.process(Dn),Dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Iv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(F6),this.sharedNodes.forEach(K6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Qn(this.snapshot.measuredBox.x)&&!Qn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!$C(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||po(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return u&&(m=this.removeTransform(m)),X6(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return dn();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Z6))){const{scroll:p}=this.root;p&&(Rl(d.x,p.offset.x),Rl(d.y,p.offset.y))}return d}removeElementScroll(u){const d=dn();if(ls(d,u),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:b}=p;p!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&ls(d,u),Rl(d.x,y.offset.x),Rl(d.y,y.offset.y))}return d}applyTransform(u,d=!1){const m=dn();ls(m,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Il(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),po(y.latestValues)&&Il(m,y.latestValues)}return po(this.latestValues)&&Il(m,this.latestValues),m}removeTransform(u){const d=dn();ls(d,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!po(p.latestValues))continue;Xy(p.latestValues)&&p.updateSnapshot();const y=dn(),b=p.measurePageBox();ls(y,b),jT(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return po(this.latestValues)&&jT(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:b}=this.options;if(!this.layout||!(y||b))return;this.resolvedRelativeTargetAt=Dn.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=dn(),this.targetWithTransforms=dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),x6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ls(this.target,this.layout.layoutBox),VC(this.target,this.targetDelta)):ls(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Xy(this.parent.latestValues)||MC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),Bf(this.relativeTargetOrigin,d,m),ls(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Dn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;ls(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,w=this.treeScale.y;WL(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=dn());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(UT(this.prevProjectionDelta.x,this.projectionDelta.x),UT(this.prevProjectionDelta.y,this.projectionDelta.y)),wu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==w||!HT(this.projectionDelta.x,this.prevProjectionDelta.x)||!HT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Cl(),this.projectionDelta=Cl(),this.projectionDeltaWithTransform=Cl()}setAnimationOrigin(u,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},b=Cl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=dn(),C=m?m.source:void 0,V=this.layout?this.layout.source:void 0,j=C!==V,N=this.getStack(),H=!N||N.members.length<=1,W=!!(j&&!H&&this.options.crossfade===!0&&!this.path.some(Q6));this.animationProgress=0;let Y;this.mixTargetDelta=me=>{const ue=me/1e3;XT(b.x,u.x,ue),XT(b.y,u.y,ue),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bf(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Y6(this.relativeTarget,this.relativeTargetOrigin,w,ue),Y&&S6(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=dn()),ls(Y,this.relativeTarget)),j&&(this.animationValues=y,R6(y,p,this.latestValues,ue,W,H)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ue},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Na(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rt.update(()=>{sf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hl(0)),this.currentAnimation=D6(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(O6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=u;if(!(!d||!m||!p)){if(this!==u&&this.layout&&p&&ZC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||dn();const b=Qn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+b;const w=Qn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+w}ls(d,m),Il(d,y),wu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new P6),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&Kg("z",u,p,this.animationValues);for(let y=0;y<$g.length;y++)Kg(`rotate${$g[y]}`,u,p,this.animationValues),Kg(`skew${$g[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=nf(d?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=nf(d?.pointerEvents)||""),this.hasProjected&&!po(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=A6(this.projectionDeltaWithTransform,this.treeScale,y);m&&(b=m(y,b)),u.transform=b;const{x:w,y:C}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${C.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const V in Jy){if(y[V]===void 0)continue;const{correct:j,applyTo:N,isCSSVariable:H}=Jy[V],W=b==="none"?y[V]:j(y[V],p);if(N){const Y=N.length;for(let me=0;me<Y;me++)u[N[me]]=W}else H?this.options.visualElement.renderState.vars[V]=W:u[V]=W}this.options.layoutId&&(u.pointerEvents=p===this?nf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(YT),this.root.sharedNodes.clear()}}}function L6(t){t.updateLayout()}function U6(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Fi(y=>{const b=l?e.measuredBox[y]:e.layoutBox[y],w=Qn(b);b.min=n[y].min,b.max=b.min+w}):ZC(a,e.layoutBox,n)&&Fi(y=>{const b=l?e.measuredBox[y]:e.layoutBox[y],w=Qn(n[y]);b.max=b.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+w)});const u=Cl();wu(u,n,e.layoutBox);const d=Cl();l?wu(d,t.applyTransform(s,!0),e.measuredBox):wu(d,n,e.layoutBox);const m=!$C(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:w}=y;if(b&&w){const C=dn();Bf(C,e.layoutBox,b.layoutBox);const V=dn();Bf(V,n,w.layoutBox),KC(C,V)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=V,t.relativeTargetOrigin=C,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function z6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function B6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function F6(t){t.clearSnapshot()}function YT(t){t.clearMeasurements()}function QT(t){t.isLayoutDirty=!1}function q6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function WT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function H6(t){t.resolveTargetDelta()}function G6(t){t.calcProjection()}function $6(t){t.resetSkewAndRotation()}function K6(t){t.removeLeadSnapshot()}function XT(t,e,n){t.translate=jt(e.translate,0,n),t.scale=jt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ZT(t,e,n,s){t.min=jt(e.min,n.min,s),t.max=jt(e.max,n.max,s)}function Y6(t,e,n,s){ZT(t.x,e.x,n.x,s),ZT(t.y,e.y,n.y,s)}function Q6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const W6={duration:.45,ease:[.4,0,.1,1]},JT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),eE=JT("applewebkit/")&&!JT("chrome/")?Math.round:Yi;function tE(t){t.min=eE(t.min),t.max=eE(t.max)}function X6(t){tE(t.x),tE(t.y)}function ZC(t,e,n){return t==="position"||t==="preserve-aspect"&&!_6(qT(e),qT(n),.2)}function Z6(t){return t!==t.root&&t.scroll?.wasRoot}const J6=XC({attachResizeListener:(t,e)=>ju(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yg={current:void 0},JC=XC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yg.current){const t=new J6({});t.mount(window),t.setOptions({layoutScroll:!0}),Yg.current=t}return Yg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Pv=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function nE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function eU(...t){return e=>{let n=!1;const s=t.map(a=>{const l=nE(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():nE(t[a],null)}}}}function tU(...t){return I.useCallback(eU(...t),t)}class nU extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=wC(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function iU({children:t,isPresent:e,anchorX:n,root:s}){const a=I.useId(),l=I.useRef(null),u=I.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=I.useContext(Pv),m=t.props?.ref??t?.ref,p=tU(l,m);return I.useInsertionEffect(()=>{const{width:y,height:b,top:w,left:C,right:V}=u.current;if(e||!l.current||!y||!b)return;const j=n==="left"?`left: ${C}`:`right: ${V}`;l.current.dataset.motionPopId=a;const N=document.createElement("style");d&&(N.nonce=d);const H=s??document.head;return H.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${b}px !important;
            ${j}px !important;
            top: ${w}px !important;
          }
        `),()=>{H.contains(N)&&H.removeChild(N)}},[e]),v.jsx(nU,{isPresent:e,childRef:l,sizeRef:u,children:I.cloneElement(t,{ref:p})})}const sU=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:d,root:m})=>{const p=ov(rU),y=I.useId();let b=!0,w=I.useMemo(()=>(b=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:C=>{p.set(C,!0);for(const V of p.values())if(!V)return;s&&s()},register:C=>(p.set(C,!1),()=>p.delete(C))}),[n,p,s]);return l&&b&&(w={...w}),I.useMemo(()=>{p.forEach((C,V)=>p.set(V,!1))},[n]),I.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),u==="popLayout"&&(t=v.jsx(iU,{isPresent:n,anchorX:d,root:m,children:t})),v.jsx(bm.Provider,{value:w,children:t})};function rU(){return new Map}function eR(t=!0){const e=I.useContext(bm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=I.useId();I.useEffect(()=>{if(t)return a(l)},[t]);const u=I.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Ld=t=>t.key||"";function iE(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const qi=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",root:m})=>{const[p,y]=eR(u),b=I.useMemo(()=>iE(t),[t]),w=u&&!p?[]:b.map(Ld),C=I.useRef(!0),V=I.useRef(b),j=ov(()=>new Map),N=I.useRef(new Set),[H,W]=I.useState(b),[Y,me]=I.useState(b);k2(()=>{C.current=!1,V.current=b;for(let k=0;k<Y.length;k++){const S=Ld(Y[k]);w.includes(S)?(j.delete(S),N.current.delete(S)):j.get(S)!==!0&&j.set(S,!1)}},[Y,w.length,w.join("-")]);const ue=[];if(b!==H){let k=[...b];for(let S=0;S<Y.length;S++){const M=Y[S],z=Ld(M);w.includes(z)||(k.splice(S,0,M),ue.push(M))}return l==="wait"&&ue.length&&(k=ue),me(iE(k)),W(b),null}const{forceRender:de}=I.useContext(av);return v.jsx(v.Fragment,{children:Y.map(k=>{const S=Ld(k),M=u&&!p?!1:b===Y||w.includes(S),z=()=>{if(N.current.has(S))return;if(N.current.add(S),j.has(S))j.set(S,!0);else return;let B=!0;j.forEach(P=>{P||(B=!1)}),B&&(de?.(),me(V.current),u&&y?.(),s&&s())};return v.jsx(sU,{isPresent:M,initial:!C.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:M?void 0:z,anchorX:d,children:k},S)})})},tR=I.createContext({strict:!1}),sE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let rE=!1;function aU(){if(rE)return;const t={};for(const e in sE)t[e]={isEnabled:n=>sE[e].some(s=>!!n[s])};NC(t),rE=!0}function nR(){return aU(),$L()}function oU(t){const e=nR();for(const n in t)e[n]={...e[n],...t[n]};NC(e)}const lU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ff(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||lU.has(t)}let iR=t=>!Ff(t);function cU(t){typeof t=="function"&&(iR=e=>e.startsWith("on")?!Ff(e):t(e))}try{cU(require("@emotion/is-prop-valid").default)}catch{}function uU(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(iR(a)||n===!0&&Ff(a)||!e&&!Ff(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const wm=I.createContext({});function hU(t,e){if(xm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Ou(n)?n:void 0,animate:Ou(s)?s:void 0}}return t.inherit!==!1?e:{}}function dU(t){const{initial:e,animate:n}=hU(t,I.useContext(wm));return I.useMemo(()=>({initial:e,animate:n}),[aE(e),aE(n)])}function aE(t){return Array.isArray(t)?t.join(" "):t}const Ov=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sR(t,e,n){for(const s in e)!zn(e[s])&&!jC(s,n)&&(t[s]=e[s])}function fU({transformTemplate:t},e){return I.useMemo(()=>{const n=Ov();return Mv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function mU(t,e){const n=t.style||{},s={};return sR(s,n,t),Object.assign(s,fU(t,e)),s}function pU(t,e){const n={},s=mU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const rR=()=>({...Ov(),attrs:{}});function gU(t,e,n,s){const a=I.useMemo(()=>{const l=rR();return LC(l,e,zC(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};sR(l,t.style,t),a.style={...l,...a.style}}return a}const yU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jv(t){return typeof t!="string"||t.includes("-")?!1:!!(yU.indexOf(t)>-1||/[A-Z]/u.test(t))}function vU(t,e,n,{latestValues:s},a,l=!1,u){const m=(u??jv(t)?gU:pU)(e,s,a,t),p=uU(e,typeof t=="string",l),y=t!==I.Fragment?{...p,...m,ref:n}:{},{children:b}=e,w=I.useMemo(()=>zn(b)?b.get():b,[b]);return I.createElement(t,{...y,children:w})}function bU({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:_U(n,s,a,t),renderState:e()}}function _U(t,e,n,s){const a={},l=s(t,{});for(const w in l)a[w]=nf(l[w]);let{initial:u,animate:d}=t;const m=xm(t),p=IC(t);e&&p&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const b=y?d:u;if(b&&typeof b!="boolean"&&!_m(b)){const w=Array.isArray(b)?b:[b];for(let C=0;C<w.length;C++){const V=Av(t,w[C]);if(V){const{transitionEnd:j,transition:N,...H}=V;for(const W in H){let Y=H[W];if(Array.isArray(Y)){const me=y?Y.length-1:0;Y=Y[me]}Y!==null&&(a[W]=Y)}for(const W in j)a[W]=j[W]}}}return a}const aR=t=>(e,n)=>{const s=I.useContext(wm),a=I.useContext(bm),l=()=>bU(t,e,s,a);return n?l():ov(l)},xU=aR({scrapeMotionValuesFromProps:Vv,createRenderState:Ov}),wU=aR({scrapeMotionValuesFromProps:BC,createRenderState:rR}),TU=Symbol.for("motionComponentSymbol");function EU(t,e,n){const s=I.useRef(n);I.useInsertionEffect(()=>{s.current=n});const a=I.useRef(null);return I.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const d=u(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const oR=I.createContext({});function hu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function SU(t,e,n,s,a,l){const{visualElement:u}=I.useContext(wm),d=I.useContext(tR),m=I.useContext(bm),p=I.useContext(Pv).reducedMotion,y=I.useRef(null);s=s||d.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p,isSVG:l}));const b=y.current,w=I.useContext(oR);b&&!b.projection&&a&&(b.type==="html"||b.type==="svg")&&AU(y.current,n,a,w);const C=I.useRef(!1);I.useInsertionEffect(()=>{b&&C.current&&b.update(n,m)});const V=n[mC],j=I.useRef(!!V&&!window.MotionHandoffIsComplete?.(V)&&window.MotionHasOptimisedAnimation?.(V));return k2(()=>{b&&(C.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),j.current&&b.animationState&&b.animationState.animateChanges())}),I.useEffect(()=>{b&&(!j.current&&b.animationState&&b.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(V)}),j.current=!1),b.enteringChildren=void 0)}),b}function AU(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:lR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&hu(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function lR(t){if(t)return t.options.allowProjection!==!1?t.projection:lR(t.parent)}function Qg(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&oU(s);const l=n?n==="svg":jv(t),u=l?wU:xU;function d(p,y){let b;const w={...I.useContext(Pv),...p,layoutId:CU(p)},{isStatic:C}=w,V=dU(p),j=u(p,C);if(!C&&N2){RU();const N=IU(w);b=N.MeasureLayout,V.visualElement=SU(t,j,w,a,N.ProjectionNode,l)}return v.jsxs(wm.Provider,{value:V,children:[b&&V.visualElement?v.jsx(b,{visualElement:V.visualElement,...w}):null,vU(t,p,EU(j,V.visualElement,y),j,C,e,l)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=I.forwardRef(d);return m[TU]=t,m}function CU({layoutId:t}){const e=I.useContext(av).id;return e&&t!==void 0?e+"-"+t:t}function RU(t,e){I.useContext(tR).strict}function IU(t){const e=nR(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function NU(t,e){if(typeof Proxy>"u")return Qg;const n=new Map,s=(l,u)=>Qg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,Qg(u,void 0,t,e)),n.get(u))})}const kU=(t,e)=>e.isSVG??jv(t)?new c6(e):new i6(e,{allowProjection:t!==I.Fragment});class DU extends Oa{constructor(e){super(e),e.animationState||(e.animationState=m6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();_m(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let MU=0;class VU extends Oa{constructor(){super(...arguments),this.id=MU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const PU={animation:{Feature:DU},exit:{Feature:VU}};function lh(t){return{point:{x:t.pageX,y:t.pageY}}}const OU=t=>e=>Nv(e)&&t(e,lh(e));function Tu(t,e,n,s){return ju(t,e,OU(n),s)}const cR=({current:t})=>t?t.ownerDocument.defaultView:null,oE=(t,e)=>Math.abs(t-e);function jU(t,e){const n=oE(t.x,e.x),s=oE(t.y,e.y);return Math.sqrt(n**2+s**2)}const lE=new Set(["auto","scroll"]);class uR{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=C=>{this.handleScroll(C.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Xg(this.lastMoveEventInfo,this.history),V=this.startEvent!==null,j=jU(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!V&&!j)return;const{point:N}=C,{timestamp:H}=Dn;this.history.push({...N,timestamp:H});const{onStart:W,onMove:Y}=this.handlers;V||(W&&W(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,C)},this.handlePointerMove=(C,V)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=Wg(V,this.transformPagePoint),Rt.update(this.updatePoint,!0)},this.handlePointerUp=(C,V)=>{this.end();const{onEnd:j,onSessionEnd:N,resumeAnimation:H}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&H&&H(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const W=Xg(C.type==="pointercancel"?this.lastMoveEventInfo:Wg(V,this.transformPagePoint),this.history);this.startEvent&&j&&j(C,W),N&&N(C,W)},!Nv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const m=lh(e),p=Wg(m,this.transformPagePoint),{point:y}=p,{timestamp:b}=Dn;this.history=[{...y,timestamp:b}];const{onSessionStart:w}=n;w&&w(e,Xg(p,this.history)),this.removeListeners=rh(Tu(this.contextWindow,"pointermove",this.handlePointerMove),Tu(this.contextWindow,"pointerup",this.handlePointerUp),Tu(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(lE.has(s.overflowX)||lE.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),Rt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Na(this.updatePoint)}}function Wg(t,e){return e?{point:e(t.point)}:t}function cE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xg({point:t},e){return{point:t,delta:cE(t,hR(e)),offset:cE(t,LU(e)),velocity:UU(e,.1)}}function LU(t){return t[0]}function hR(t){return t[t.length-1]}function UU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=hR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>xr(e)));)n--;if(!s)return{x:0,y:0};const l=Gi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function zU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?jt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?jt(n,t,s.max):Math.min(t,n)),t}function uE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BU(t,{top:e,left:n,bottom:s,right:a}){return{x:uE(t.x,n,a),y:uE(t.y,e,s)}}function hE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function FU(t,e){return{x:hE(t.x,e.x),y:hE(t.y,e.y)}}function qU(t,e){let n=.5;const s=Qn(t),a=Qn(e);return a>s?n=Mu(e.min,e.max-s,t.min):s>a&&(n=Mu(t.min,t.max-a,e.min)),Hs(0,1,n)}function HU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const e0=.35;function GU(t=e0){return t===!1?t=0:t===!0&&(t=e0),{x:dE(t,"left","right"),y:dE(t,"top","bottom")}}function dE(t,e,n){return{min:fE(t,e),max:fE(t,n)}}function fE(t,e){return typeof t=="number"?t:t[e]||0}const $U=new WeakMap;class KU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n?(this.stopAnimation(),this.snapToCursor(lh(b).point)):this.pauseAnimation()},u=(b,w)=>{this.stopAnimation();const{drag:C,dragPropagation:V,onDragStart:j}=this.getProps();if(C&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=VL(C),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fi(H=>{let W=this.getAxisMotionValue(H).get()||0;if(Us.test(W)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const me=Y.layout.layoutBox[H];me&&(W=Qn(me)*(parseFloat(W)/100))}}this.originPoint[H]=W}),j&&Rt.postRender(()=>j(b,w)),Ky(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},d=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w;const{dragPropagation:C,dragDirectionLock:V,onDirectionLock:j,onDrag:N}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:H}=w;if(V&&this.currentDirection===null){this.currentDirection=YU(H),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",w.point,H),this.updateAxis("y",w.point,H),this.visualElement.render(),N&&N(b,w)},m=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w,this.stop(b,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Fi(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new uR(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:cR(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&Rt.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Ud(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=zU(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&hu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=BU(s.layoutBox,e):this.constraints=!1,this.elastic=GU(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Fi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=HU(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!hu(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=XL(s,a.root,this.visualElement.getTransformPagePoint());let u=FU(a.layout.layoutBox,l);if(n){const d=n(YL(u));this.hasMutatedConstraints=!!d,d&&(u=DC(d))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=Fi(y=>{if(!Ud(y,n,this.currentDirection))return;let b=m&&m[y]||{};u&&(b={min:0,max:0});const w=a?200:1e6,C=a?40:1e7,V={type:"inertia",velocity:s?e[y]:0,bounceStiffness:w,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(y,V)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Ky(this.visualElement,e),s.start(Sv(e,s,0,n,this.visualElement,!1))}stopAnimation(){Fi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Fi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Fi(n=>{const{drag:s}=this.getProps();if(!Ud(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-jt(u,d,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!hu(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Fi(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const m=d.get();a[u]=qU({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Fi(u=>{if(!Ud(u,e,null))return;const d=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];d.set(jt(m,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;$U.set(this.visualElement,this);const e=this.visualElement.current,n=Tu(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&!AC(m.target)&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();hu(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Rt.read(s);const u=ju(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Fi(y=>{const b=this.getAxisMotionValue(y);b&&(this.originPoint[y]+=m[y].translate,b.set(b.get()+m[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=e0,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function Ud(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function YU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class QU extends Oa{constructor(e){super(e),this.removeGroupControls=Yi,this.removeListeners=Yi,this.controls=new KU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const mE=t=>(e,n)=>{t&&Rt.postRender(()=>t(e,n))};class WU extends Oa{constructor(){super(...arguments),this.removePointerDownListener=Yi}onPointerDown(e){this.session=new uR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:mE(e),onStart:mE(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&Rt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Tu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Zg=!1;class XU extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Zg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),sf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Zg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Rt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Iv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Zg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function dR(t){const[e,n]=eR(),s=I.useContext(av);return v.jsx(XU,{...t,layoutGroup:s,switchLayoutGroup:I.useContext(oR),isPresent:e,safeToRemove:n})}const ZU={pan:{Feature:WU},drag:{Feature:QU,ProjectionNode:JC,MeasureLayout:dR}};function pE(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Rt.postRender(()=>l(e,lh(e)))}class JU extends Oa{mount(){const{current:e}=this.node;e&&(this.unmount=PL(e,(n,s)=>(pE(this.node,s,"Start"),a=>pE(this.node,a,"End"))))}unmount(){}}class e9 extends Oa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rh(ju(this.node.current,"focus",()=>this.onFocus()),ju(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Rt.postRender(()=>l(e,lh(e)))}class t9 extends Oa{mount(){const{current:e}=this.node;e&&(this.unmount=LL(e,(n,s)=>(gE(this.node,s,"Start"),(a,{success:l})=>gE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const t0=new WeakMap,Jg=new WeakMap,n9=t=>{const e=t0.get(t.target);e&&e(t)},i9=t=>{t.forEach(n9)};function s9({root:t,...e}){const n=t||document;Jg.has(n)||Jg.set(n,{});const s=Jg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(i9,{root:t,...e})),s[a]}function r9(t,e,n){const s=s9(e);return t0.set(t,n),s.observe(t),()=>{t0.delete(t),s.unobserve(t)}}const a9={some:0,all:1};class o9 extends Oa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:a9[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:b}=this.node.getProps(),w=p?y:b;w&&w(m)};return r9(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(l9(e,n))&&this.startObserver()}unmount(){}}function l9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const c9={inView:{Feature:o9},tap:{Feature:t9},focus:{Feature:e9},hover:{Feature:JU}},u9={layout:{ProjectionNode:JC,MeasureLayout:dR}},h9={...PU,...c9,...ZU,...u9},Ke=NU(h9,kU);const d9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),yE=t=>{const e=f9(t);return e.charAt(0).toUpperCase()+e.slice(1)},fR=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),m9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var p9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const g9=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...d},m)=>I.createElement("svg",{ref:m,...p9,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:fR("lucide",a),...!l&&!m9(d)&&{"aria-hidden":"true"},...d},[...u.map(([p,y])=>I.createElement(p,y)),...Array.isArray(l)?l:[l]]));const nt=(t,e)=>{const n=I.forwardRef(({className:s,...a},l)=>I.createElement(g9,{ref:l,iconNode:e,className:fR(`lucide-${d9(yE(t))}`,`lucide-${t}`,s),...a}));return n.displayName=yE(t),n};const y9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],v9=nt("arrow-left",y9);const b9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],vE=nt("award",b9);const _9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],qf=nt("book-open",_9);const x9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Hf=nt("calendar",x9);const w9=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ey=nt("camera",w9);const T9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],mr=nt("check",T9);const E9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],mR=nt("chevron-left",E9);const S9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],pR=nt("chevron-right",S9);const A9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bE=nt("circle-alert",A9);const C9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],R9=nt("circle-check-big",C9);const I9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],gR=nt("circle-question-mark",I9);const N9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],k9=nt("clock",N9);const D9=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],yR=nt("layout-grid",D9);const M9=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],V9=nt("lock",M9);const P9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],vR=nt("log-out",P9);const O9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],j9=nt("mail",O9);const L9=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],U9=nt("moon",L9);const z9=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],_E=nt("palette",z9);const B9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ty=nt("pen",B9);const F9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],q9=nt("pencil",F9);const H9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Lu=nt("plus",H9);const G9=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],$9=nt("printer",G9);const K9=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],xE=nt("rocket",K9);const Y9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bR=nt("settings",Y9);const Q9=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],rf=nt("share-2",Q9);const W9=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],X9=nt("sparkles",W9);const Z9=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],J9=nt("square-check-big",Z9);const ez=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],tz=nt("sun",ez);const nz=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],af=nt("trash-2",nz);const iz=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],sz=nt("trophy",iz);const rz=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],az=nt("type",rz);const oz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],lz=nt("user-plus",oz);const cz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],uz=nt("user",cz);const hz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dz=nt("users",hz);const fz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vs=nt("x",fz);const mz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],wE=nt("zap",mz),_R=I.createContext(null),xR=()=>{const t=I.useContext(_R);if(!t)throw new Error("useDialog must be used within a DialogProvider");return t},pz=({children:t})=>{const[e,n]=I.useState({isOpen:!1,type:"alert",options:{message:""},resolve:null}),[s,a]=I.useState(""),[l,u]=I.useState("editor"),d=I.useCallback((V,j)=>new Promise(N=>{a(j.inputDefaultValue||""),u("editor"),n({isOpen:!0,type:V,options:j,resolve:N})}),[]),m=I.useCallback(V=>{e.resolve&&e.resolve(V),n(j=>({...j,isOpen:!1,resolve:null}))},[e.resolve]),p=I.useCallback((V,j)=>d("alert",{message:V,title:"Notice",confirmText:"OK",type:"info",...j}),[d]),y=I.useCallback((V,j)=>d("confirm",{message:V,title:"Confirm",confirmText:"Yes",cancelText:"Cancel",type:"warning",...j}),[d]),b=I.useCallback((V,j)=>d("prompt",{message:V,title:"Input",confirmText:"OK",cancelText:"Cancel",inputPlaceholder:"",...j}),[d]),w=I.useCallback((V,j)=>d("share",{message:V,title:"Share Board",confirmText:"Send Invite",cancelText:"Cancel",showRoleSelector:!0,inputPlaceholder:"Enter email address",...j}),[d]),C=()=>{switch(e.options.type){case"success":return v.jsx(R9,{className:"w-8 h-8 text-green-400"});case"warning":return v.jsx(bE,{className:"w-8 h-8 text-amber-400"});case"error":return v.jsx(bE,{className:"w-8 h-8 text-red-400"});default:return v.jsx(gR,{className:"w-8 h-8 text-accent-primary"})}};return v.jsxs(_R.Provider,{value:{alert:p,confirm:y,prompt:b,sharePrompt:w},children:[t,v.jsx(qi,{children:e.isOpen&&v.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{e.type==="alert"?m(void 0):e.type==="confirm"?m(!1):m(null)},children:v.jsxs(Ke.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:V=>V.stopPropagation(),children:[v.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="share"?v.jsx(j9,{className:"w-6 h-6 text-accent-primary"}):C(),v.jsx("h3",{className:"text-lg font-bold text-white",children:e.options.title})]}),v.jsx("button",{onClick:()=>{e.type==="alert"?m(void 0):e.type==="confirm"?m(!1):m(null)},className:"p-1 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:v.jsx(Vs,{size:20})})]}),v.jsxs("div",{className:"p-6",children:[v.jsx("p",{className:"text-slate-300 mb-4 whitespace-pre-wrap",children:e.options.message}),(e.type==="prompt"||e.type==="share")&&v.jsx("input",{type:e.type==="share"?"email":"text",autoFocus:!0,value:s,onChange:V=>a(V.target.value),placeholder:e.options.inputPlaceholder,className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors mb-4",onKeyDown:V=>{V.key==="Enter"&&s.trim()&&(e.type==="share"?m({email:s.trim(),role:l}):m(s.trim()))}}),e.type==="share"&&e.options.showRoleSelector&&v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"text-sm font-medium text-slate-400 mb-2 block",children:"Access Level"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>u("viewer"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="viewer"?"bg-accent-primary/20 text-accent-primary border border-accent-primary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Viewer"}),v.jsx("button",{onClick:()=>u("editor"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Editor"})]}),v.jsx("p",{className:"text-xs text-slate-500 mt-2",children:l==="viewer"?"Can view the board but not make changes":"Can view and edit the board"})]})]}),v.jsxs("div",{className:"flex gap-3 p-4 pt-0",children:[e.type!=="alert"&&v.jsx("button",{onClick:()=>{e.type==="confirm"?m(!1):m(null)},className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:e.options.cancelText}),v.jsx("button",{onClick:()=>{e.type==="alert"?m(void 0):e.type==="confirm"?m(!0):e.type==="share"?s.trim()&&m({email:s.trim(),role:l}):m(s.trim()||null)},disabled:(e.type==="prompt"||e.type==="share")&&!s.trim(),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.options.confirmText})]})]})})})]})};function wR(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=wR(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function gz(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=wR(t))&&(s&&(s+=" "),s+=e);return s}const yz=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},vz=(t,e)=>({classGroupId:t,validator:e}),TR=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Gf="-",TE=[],bz="arbitrary..",_z=t=>{const e=wz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return xz(u);const d=u.split(Gf),m=d[0]===""&&d.length>1?1:0;return ER(d,m,e)},getConflictingClassGroupIds:(u,d)=>{if(d){const m=s[u],p=n[u];return m?p?yz(p,m):m:p||TE}return n[u]||TE}}},ER=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=ER(t,e+1,l);if(p)return p}const u=n.validators;if(u===null)return;const d=e===0?t.join(Gf):t.slice(e).join(Gf),m=u.length;for(let p=0;p<m;p++){const y=u[p];if(y.validator(d))return y.classGroupId}},xz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?bz+s:void 0})(),wz=t=>{const{theme:e,classGroups:n}=t;return Tz(n,e)},Tz=(t,e)=>{const n=TR();for(const s in t){const a=t[s];Lv(a,n,s,e)}return n},Lv=(t,e,n,s)=>{const a=t.length;for(let l=0;l<a;l++){const u=t[l];Ez(u,e,n,s)}},Ez=(t,e,n,s)=>{if(typeof t=="string"){Sz(t,e,n);return}if(typeof t=="function"){Az(t,e,n,s);return}Cz(t,e,n,s)},Sz=(t,e,n)=>{const s=t===""?e:SR(e,t);s.classGroupId=n},Az=(t,e,n,s)=>{if(Rz(t)){Lv(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(vz(n,t))},Cz=(t,e,n,s)=>{const a=Object.entries(t),l=a.length;for(let u=0;u<l;u++){const[d,m]=a[u];Lv(m,SR(e,d),n,s)}},SR=(t,e)=>{let n=t;const s=e.split(Gf),a=s.length;for(let l=0;l<a;l++){const u=s[l];let d=n.nextPart.get(u);d||(d=TR(),n.nextPart.set(u,d)),n=d}return n},Rz=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Iz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const a=(l,u)=>{n[l]=u,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(l){let u=n[l];if(u!==void 0)return u;if((u=s[l])!==void 0)return a(l,u),u},set(l,u){l in n?n[l]=u:a(l,u)}}},n0="!",EE=":",Nz=[],SE=(t,e,n,s,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:a}),kz=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const l=[];let u=0,d=0,m=0,p;const y=a.length;for(let j=0;j<y;j++){const N=a[j];if(u===0&&d===0){if(N===EE){l.push(a.slice(m,j)),m=j+1;continue}if(N==="/"){p=j;continue}}N==="["?u++:N==="]"?u--:N==="("?d++:N===")"&&d--}const b=l.length===0?a:a.slice(m);let w=b,C=!1;b.endsWith(n0)?(w=b.slice(0,-1),C=!0):b.startsWith(n0)&&(w=b.slice(1),C=!0);const V=p&&p>m?p-m:void 0;return SE(l,C,w,V)};if(e){const a=e+EE,l=s;s=u=>u.startsWith(a)?l(u.slice(a.length)):SE(Nz,!1,u,void 0,!0)}if(n){const a=s;s=l=>n({className:l,parseClassName:a})}return s},Dz=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let a=[];for(let l=0;l<n.length;l++){const u=n[l],d=u[0]==="[",m=e.has(u);d||m?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(u)):a.push(u)}return a.length>0&&(a.sort(),s.push(...a)),s}},Mz=t=>({cache:Iz(t.cacheSize),parseClassName:kz(t),sortModifiers:Dz(t),..._z(t)}),Vz=/\s+/,Pz=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],d=t.trim().split(Vz);let m="";for(let p=d.length-1;p>=0;p-=1){const y=d[p],{isExternal:b,modifiers:w,hasImportantModifier:C,baseClassName:V,maybePostfixModifierPosition:j}=n(y);if(b){m=y+(m.length>0?" "+m:m);continue}let N=!!j,H=s(N?V.substring(0,j):V);if(!H){if(!N){m=y+(m.length>0?" "+m:m);continue}if(H=s(V),!H){m=y+(m.length>0?" "+m:m);continue}N=!1}const W=w.length===0?"":w.length===1?w[0]:l(w).join(":"),Y=C?W+n0:W,me=Y+H;if(u.indexOf(me)>-1)continue;u.push(me);const ue=a(H,N);for(let de=0;de<ue.length;++de){const k=ue[de];u.push(Y+k)}m=y+(m.length>0?" "+m:m)}return m},Oz=(...t)=>{let e=0,n,s,a="";for(;e<t.length;)(n=t[e++])&&(s=AR(n))&&(a&&(a+=" "),a+=s);return a},AR=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=AR(t[s]))&&(n&&(n+=" "),n+=e);return n},jz=(t,...e)=>{let n,s,a,l;const u=m=>{const p=e.reduce((y,b)=>b(y),t());return n=Mz(p),s=n.cache.get,a=n.cache.set,l=d,d(m)},d=m=>{const p=s(m);if(p)return p;const y=Pz(m,n);return a(m,y),y};return l=u,(...m)=>l(Oz(...m))},Lz=[],hn=t=>{const e=n=>n[t]||Lz;return e.isThemeGetter=!0,e},CR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,RR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Uz=/^\d+\/\d+$/,zz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Bz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Fz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,qz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Hz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bl=t=>Uz.test(t),$e=t=>!!t&&!Number.isNaN(Number(t)),ua=t=>!!t&&Number.isInteger(Number(t)),ny=t=>t.endsWith("%")&&$e(t.slice(0,-1)),fr=t=>zz.test(t),Gz=()=>!0,$z=t=>Bz.test(t)&&!Fz.test(t),IR=()=>!1,Kz=t=>qz.test(t),Yz=t=>Hz.test(t),Qz=t=>!Ee(t)&&!Se(t),Wz=t=>ic(t,DR,IR),Ee=t=>CR.test(t),uo=t=>ic(t,MR,$z),iy=t=>ic(t,tB,$e),AE=t=>ic(t,NR,IR),Xz=t=>ic(t,kR,Yz),zd=t=>ic(t,VR,Kz),Se=t=>RR.test(t),su=t=>sc(t,MR),Zz=t=>sc(t,nB),CE=t=>sc(t,NR),Jz=t=>sc(t,DR),eB=t=>sc(t,kR),Bd=t=>sc(t,VR,!0),ic=(t,e,n)=>{const s=CR.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},sc=(t,e,n=!1)=>{const s=RR.exec(t);return s?s[1]?e(s[1]):n:!1},NR=t=>t==="position"||t==="percentage",kR=t=>t==="image"||t==="url",DR=t=>t==="length"||t==="size"||t==="bg-size",MR=t=>t==="length",tB=t=>t==="number",nB=t=>t==="family-name",VR=t=>t==="shadow",iB=()=>{const t=hn("color"),e=hn("font"),n=hn("text"),s=hn("font-weight"),a=hn("tracking"),l=hn("leading"),u=hn("breakpoint"),d=hn("container"),m=hn("spacing"),p=hn("radius"),y=hn("shadow"),b=hn("inset-shadow"),w=hn("text-shadow"),C=hn("drop-shadow"),V=hn("blur"),j=hn("perspective"),N=hn("aspect"),H=hn("ease"),W=hn("animate"),Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],me=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ue=()=>[...me(),Se,Ee],de=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],S=()=>[Se,Ee,m],M=()=>[bl,"full","auto",...S()],z=()=>[ua,"none","subgrid",Se,Ee],B=()=>["auto",{span:["full",ua,Se,Ee]},ua,Se,Ee],P=()=>[ua,"auto",Se,Ee],D=()=>["auto","min","max","fr",Se,Ee],be=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],xe=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...S()],X=()=>[bl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],G=()=>[t,Se,Ee],K=()=>[...me(),CE,AE,{position:[Se,Ee]}],O=()=>["no-repeat",{repeat:["","x","y","space","round"]}],T=()=>["auto","cover","contain",Jz,Wz,{size:[Se,Ee]}],L=()=>[ny,su,uo],Q=()=>["","none","full",p,Se,Ee],ne=()=>["",$e,su,uo],pe=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],fe=()=>[$e,ny,CE,AE],Ae=()=>["","none",V,Se,Ee],Re=()=>["none",$e,Se,Ee],Ye=()=>["none",$e,Se,Ee],ze=()=>[$e,Se,Ee],Ge=()=>[bl,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[fr],breakpoint:[fr],color:[Gz],container:[fr],"drop-shadow":[fr],ease:["in","out","in-out"],font:[Qz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[fr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[fr],shadow:[fr],spacing:["px",$e],text:[fr],"text-shadow":[fr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",bl,Ee,Se,N]}],container:["container"],columns:[{columns:[$e,Ee,Se,d]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ue()}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[ua,"auto",Se,Ee]}],basis:[{basis:[bl,"full","auto",d,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,bl,"auto","initial","none",Ee]}],grow:[{grow:["",$e,Se,Ee]}],shrink:[{shrink:["",$e,Se,Ee]}],order:[{order:[ua,"first","last","none",Se,Ee]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...be(),"normal"]}],"justify-items":[{"justify-items":[...xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...xe()]}],"align-content":[{content:["normal",...be()]}],"align-items":[{items:[...xe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...xe(),{baseline:["","last"]}]}],"place-content":[{"place-content":be()}],"place-items":[{"place-items":[...xe(),"baseline"]}],"place-self":[{"place-self":["auto",...xe()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[d,"screen",...X()]}],"min-w":[{"min-w":[d,"screen","none",...X()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",n,su,uo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Se,iy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ny,Ee]}],"font-family":[{font:[Zz,Ee,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Se,Ee]}],"line-clamp":[{"line-clamp":[$e,"none",Se,iy]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",Se,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",Se,uo]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[$e,"auto",Se,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:O()}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ua,Se,Ee],radial:["",Se,Ee],conic:[ua,Se,Ee]},eB,Xz]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pe(),"hidden","none"]}],"divide-style":[{divide:[...pe(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,Se,Ee]}],"outline-w":[{outline:["",$e,su,uo]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",y,Bd,zd]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",b,Bd,zd]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[$e,uo]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",w,Bd,zd]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[$e,Se,Ee]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":fe()}],"mask-image-linear-to-pos":[{"mask-linear-to":fe()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":fe()}],"mask-image-t-to-pos":[{"mask-t-to":fe()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":fe()}],"mask-image-r-to-pos":[{"mask-r-to":fe()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":fe()}],"mask-image-b-to-pos":[{"mask-b-to":fe()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":fe()}],"mask-image-l-to-pos":[{"mask-l-to":fe()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":fe()}],"mask-image-x-to-pos":[{"mask-x-to":fe()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":fe()}],"mask-image-y-to-pos":[{"mask-y-to":fe()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Se,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":fe()}],"mask-image-radial-to-pos":[{"mask-radial-to":fe()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":me()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":fe()}],"mask-image-conic-to-pos":[{"mask-conic-to":fe()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:O()}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,Ee]}],filter:[{filter:["","none",Se,Ee]}],blur:[{blur:Ae()}],brightness:[{brightness:[$e,Se,Ee]}],contrast:[{contrast:[$e,Se,Ee]}],"drop-shadow":[{"drop-shadow":["","none",C,Bd,zd]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",$e,Se,Ee]}],"hue-rotate":[{"hue-rotate":[$e,Se,Ee]}],invert:[{invert:["",$e,Se,Ee]}],saturate:[{saturate:[$e,Se,Ee]}],sepia:[{sepia:["",$e,Se,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,Ee]}],"backdrop-blur":[{"backdrop-blur":Ae()}],"backdrop-brightness":[{"backdrop-brightness":[$e,Se,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[$e,Se,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,Se,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,Se,Ee]}],"backdrop-invert":[{"backdrop-invert":["",$e,Se,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[$e,Se,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[$e,Se,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,Se,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",Se,Ee]}],ease:[{ease:["linear","initial",H,Se,Ee]}],delay:[{delay:[$e,Se,Ee]}],animate:[{animate:["none",W,Se,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Se,Ee]}],"perspective-origin":[{"perspective-origin":ue()}],rotate:[{rotate:Re()}],"rotate-x":[{"rotate-x":Re()}],"rotate-y":[{"rotate-y":Re()}],"rotate-z":[{"rotate-z":Re()}],scale:[{scale:Ye()}],"scale-x":[{"scale-x":Ye()}],"scale-y":[{"scale-y":Ye()}],"scale-z":[{"scale-z":Ye()}],"scale-3d":["scale-3d"],skew:[{skew:ze()}],"skew-x":[{"skew-x":ze()}],"skew-y":[{"skew-y":ze()}],transform:[{transform:[Se,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:ue()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ge()}],"translate-x":[{"translate-x":Ge()}],"translate-y":[{"translate-y":Ge()}],"translate-z":[{"translate-z":Ge()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,Ee]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[$e,su,uo,iy]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},sB=jz(iB);function Ot(...t){return sB(gz(t))}const rB=()=>{const{isSettingsOpen:t,closeSettings:e,settings:n,updateSettings:s}=ch(),a=of.useRef(n);if(of.useEffect(()=>{t&&(a.current=n)},[t]),!t)return null;const l=()=>{s(a.current,!1),e()},u=()=>{s(n,!0),e()},d=[{id:"dawn",name:"Dawn",color:"bg-[#0f111a] from-violet-500/20 to-pink-500/20"},{id:"cosmic",name:"Cosmic",color:"bg-[#0f172a] from-violet-600/20 to-pink-600/20"},{id:"midnight",name:"Midnight",color:"bg-[#020617] from-sky-500/20 to-indigo-500/20"},{id:"forest",name:"Forest",color:"bg-[#052e16] from-green-500/20 to-emerald-500/20"},{id:"ocean",name:"Ocean",color:"bg-[#083344] from-cyan-500/20 to-teal-500/20"},{id:"sunset",name:"Sunset",color:"bg-[#2a0a0a] from-orange-500/20 to-rose-500/20"}],m=[{id:"outfit",name:"Modern",family:"font-[Outfit]"},{id:"inter",name:"Clean",family:"font-[Inter]"},{id:"playfair",name:"Elegant",family:'font-["Playfair_Display"]'},{id:"mono",name:"Tech",family:'font-["Fira_Code"]'}];return v.jsx(qi,{children:t&&v.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 font-sans",children:[v.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:l}),v.jsxs(Ke.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-lg bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col",children:[v.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[v.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[v.jsx(_E,{className:"w-5 h-5 text-accent-primary"}),"Customization"]}),v.jsx("button",{onClick:l,className:"text-slate-400 hover:text-white transition-colors",children:v.jsx(Vs,{className:"w-6 h-6"})})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[v.jsxs("section",{children:[v.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[v.jsx(_E,{className:"w-4 h-4"})," Theme"]}),v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:d.map(p=>v.jsxs("button",{onClick:()=>s({theme:p.id},!1),className:Ot("relative group overflow-hidden rounded-xl border transition-all duration-300",n.theme===p.id?"border-accent-primary ring-2 ring-accent-primary/50":"border-white/10 hover:border-white/30"),children:[v.jsx("div",{className:Ot("h-16 w-full bg-gradient-to-br",p.color)}),v.jsx("div",{className:"p-3 bg-slate-800/50",children:v.jsx("span",{className:Ot("text-sm font-medium",n.theme===p.id?"text-white":"text-slate-400"),children:p.name})}),n.theme===p.id&&v.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-accent-primary rounded-full flex items-center justify-center shadow-lg",children:v.jsx(mr,{className:"w-3 h-3 text-white"})})]},p.id))})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[v.jsx(az,{className:"w-4 h-4"})," Typography"]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:m.map(p=>v.jsxs("button",{onClick:()=>s({font:p.id},!1),className:Ot("flex items-center justify-between p-4 rounded-xl border transition-all duration-200 text-left",n.font===p.id?"bg-white/10 border-accent-primary text-white":"bg-white/5 border-white/5 hover:bg-white/10 text-slate-300"),children:[v.jsxs("div",{children:[v.jsx("span",{className:Ot("text-lg block mb-0.5",p.family),children:"Aa"}),v.jsx("span",{className:"text-xs text-slate-400",children:p.name})]}),n.font===p.id&&v.jsx(mr,{className:"w-5 h-5 text-accent-primary"})]},p.id))}),v.jsx("div",{className:"mt-4 p-4 rounded-xl bg-black/20 border border-white/5",children:v.jsx("p",{className:Ot("text-sm text-slate-300 leading-relaxed",n.font==="outfit"&&"font-[Outfit]",n.font==="inter"&&"font-[Inter]",n.font==="playfair"&&'font-["Playfair_Display"]',n.font==="mono"&&'font-["Fira_Code"]'),children:"The quick brown fox jumps over the lazy dog. 1234567890."})})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[v.jsx(wE,{className:"w-4 h-4"})," Experience"]}),v.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 mb-3",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:Ot("p-2 rounded-lg",n.enableAnimation?"bg-accent-primary/20 text-accent-primary":"bg-slate-700 text-slate-400"),children:v.jsx(wE,{size:20})}),v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-white",children:"Live Backgrounds"}),v.jsx("div",{className:"text-xs text-slate-400",children:"Dynamic particles and ambient effects"})]})]}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:n.enableAnimation,onChange:p=>s({enableAnimation:p.target.checked},!1),className:"sr-only peer"}),v.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-accent-primary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary"})]})]}),v.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:Ot("p-2 rounded-lg",n.enableSound?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-slate-400"),children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),v.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),v.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]})}),v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-white",children:"Sound Effects"}),v.jsx("div",{className:"text-xs text-slate-400",children:"Satisfying clicks and celebrations"})]})]}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:p=>s({enableSound:p.target.checked},!1),className:"sr-only peer"}),v.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]})]})]}),v.jsxs("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3 sticky bottom-0 bg-slate-900 z-10 shrink-0",children:[v.jsx("button",{onClick:l,className:"px-4 py-2 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),v.jsx("button",{onClick:u,className:"px-6 py-2 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all active:scale-95",children:"Save Changes"})]})]})]})})},sy={theme:"dawn",font:"outfit",enableAnimation:!0,enableSound:!0},PR=I.createContext(null),ch=()=>{const t=I.useContext(PR);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},aB=({children:t})=>{const{user:e}=Jl(),[n,s]=I.useState(sy),[a,l]=I.useState(!1);I.useEffect(()=>{(async()=>{if(!e){s(sy);return}try{const y=hs(Kn,"users",e.uid),b=await ih(y);b.exists()&&b.data().settings&&s({...sy,...b.data().settings})}catch(y){console.error("Error loading settings:",y)}})()},[e]),I.useEffect(()=>{const p=document.body;p.classList.remove("theme-midnight","theme-forest","theme-ocean","theme-sunset"),n.theme!=="dawn"&&p.classList.add(`theme-${n.theme}`),p.classList.remove("font-inter","font-playfair","font-mono","font-comic"),n.font!=="outfit"&&p.classList.add(`font-${n.font}`),n.enableAnimation?p.classList.remove("reduce-motion"):p.classList.add("reduce-motion")},[n]);const u=async(p,y=!0)=>{const b={...n,...p};if(s(b),e&&y)try{await Mf(hs(Kn,"users",e.uid),{settings:b},{merge:!0})}catch(w){console.error("Error saving settings:",w)}},d=()=>l(!0),m=()=>l(!1);return v.jsxs(PR.Provider,{value:{settings:n,updateSettings:u,isSettingsOpen:a,openSettings:d,closeSettings:m},children:[t,v.jsx(rB,{})]})},oB=()=>{const{signIn:t,error:e}=Jl();return v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center",children:[v.jsx("div",{className:"background-animation"}),v.jsxs("div",{className:"glass-panel p-8 max-w-md w-full flex flex-col items-center gap-6 animate-fade-in",children:[v.jsxs("div",{className:"flex flex-col items-center gap-2 mb-2",children:[v.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-24 w-auto object-contain drop-shadow-[0_0_15px_rgba(251,191,36,0.3)]"}),v.jsx("div",{className:"rounded-full bg-accent-primary/20 p-2 hidden",children:v.jsx(X9,{className:"w-6 h-6 text-accent-gold animate-pulse"})})]}),v.jsx("h1",{className:"text-4xl font-heading font-bold text-gradient sr-only",children:"SunSar Bingo"}),v.jsxs("p",{className:"text-slate-300 font-light text-lg",children:["Track your goals, share with friends,",v.jsx("br",{}),"and make 2026 your best year yet."]}),e&&v.jsx("div",{className:"bg-red-500/20 text-red-200 px-4 py-2 rounded-lg text-sm border border-red-500/30",children:e}),v.jsx("button",{onClick:t,className:"group relative px-6 py-3 bg-white text-bg-dark font-bold rounded-full transition-all hover:scale-105 hover:shadow-[0_0_20px_rgba(255,255,255,0.3)]",children:v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"G",className:"w-5 h-5"}),"Sign in / Sign up with Google"]})}),v.jsxs("div",{className:"mt-8 text-sm text-slate-400",children:["New here? ",v.jsx(d0,{to:"/help",className:"text-accent-primary hover:text-accent-secondary transition-colors font-medium",children:"See how it works "})]})]}),v.jsx("footer",{className:"absolute bottom-4 text-slate-500 text-xs",children:" 2026 SunSar Bingo  Free & Open Source"})]})};var Uv={};(function t(e,n,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),u=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=(function(){if(!e.OffscreenCanvas)return!1;try{var O=new OffscreenCanvas(1,1),T=O.getContext("2d");T.fillRect(0,0,1,1);var L=O.transferToImageBitmap();T.createPattern(L,"no-repeat")}catch{return!1}return!0})();function m(){}function p(O){var T=n.exports.Promise,L=T!==void 0?T:e.Promise;return typeof L=="function"?new L(O):(O(m,m),null)}var y=(function(O,T){return{transform:function(L){if(O)return L;if(T.has(L))return T.get(L);var Q=new OffscreenCanvas(L.width,L.height),ne=Q.getContext("2d");return ne.drawImage(L,0,0),T.set(L,Q),Q},clear:function(){T.clear()}}})(d,new Map),b=(function(){var O=Math.floor(16.666666666666668),T,L,Q={},ne=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(pe){var ge=Math.random();return Q[ge]=requestAnimationFrame(function fe(Ae){ne===Ae||ne+O-1<Ae?(ne=Ae,delete Q[ge],pe()):Q[ge]=requestAnimationFrame(fe)}),ge},L=function(pe){Q[pe]&&cancelAnimationFrame(Q[pe])}):(T=function(pe){return setTimeout(pe,O)},L=function(pe){return clearTimeout(pe)}),{frame:T,cancel:L}})(),w=(function(){var O,T,L={};function Q(ne){function pe(ge,fe){ne.postMessage({options:ge||{},callback:fe})}ne.init=function(fe){var Ae=fe.transferControlToOffscreen();ne.postMessage({canvas:Ae},[Ae])},ne.fire=function(fe,Ae,Re){if(T)return pe(fe,null),T;var Ye=Math.random().toString(36).slice(2);return T=p(function(ze){function Ge(xt){xt.data.callback===Ye&&(delete L[Ye],ne.removeEventListener("message",Ge),T=null,y.clear(),Re(),ze())}ne.addEventListener("message",Ge),pe(fe,Ye),L[Ye]=Ge.bind(null,{data:{callback:Ye}})}),T},ne.reset=function(){ne.postMessage({reset:!0});for(var fe in L)L[fe](),delete L[fe]}}return function(){if(O)return O;if(!s&&l){var ne=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{O=new Worker(URL.createObjectURL(new Blob([ne])))}catch(pe){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",pe),null}Q(O)}return O}})(),C={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function V(O,T){return T?T(O):O}function j(O){return O!=null}function N(O,T,L){return V(O&&j(O[T])?O[T]:C[T],L)}function H(O){return O<0?0:Math.floor(O)}function W(O,T){return Math.floor(Math.random()*(T-O))+O}function Y(O){return parseInt(O,16)}function me(O){return O.map(ue)}function ue(O){var T=String(O).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:Y(T.substring(0,2)),g:Y(T.substring(2,4)),b:Y(T.substring(4,6))}}function de(O){var T=N(O,"origin",Object);return T.x=N(T,"x",Number),T.y=N(T,"y",Number),T}function k(O){O.width=document.documentElement.clientWidth,O.height=document.documentElement.clientHeight}function S(O){var T=O.getBoundingClientRect();O.width=T.width,O.height=T.height}function M(O){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=O,T}function z(O,T,L,Q,ne,pe,ge,fe,Ae){O.save(),O.translate(T,L),O.rotate(pe),O.scale(Q,ne),O.arc(0,0,1,ge,fe,Ae),O.restore()}function B(O){var T=O.angle*(Math.PI/180),L=O.spread*(Math.PI/180);return{x:O.x,y:O.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:O.startVelocity*.5+Math.random()*O.startVelocity,angle2D:-T+(.5*L-Math.random()*L),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:O.color,shape:O.shape,tick:0,totalTicks:O.ticks,decay:O.decay,drift:O.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:O.gravity*3,ovalScalar:.6,scalar:O.scalar,flat:O.flat}}function P(O,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var L=T.tick++/T.totalTicks,Q=T.x+T.random*T.tiltCos,ne=T.y+T.random*T.tiltSin,pe=T.wobbleX+T.random*T.tiltCos,ge=T.wobbleY+T.random*T.tiltSin;if(O.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-L)+")",O.beginPath(),u&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))O.fill(X(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(pe-Q)*.1,Math.abs(ge-ne)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var fe=Math.PI/10*T.wobble,Ae=Math.abs(pe-Q)*.1,Re=Math.abs(ge-ne)*.1,Ye=T.shape.bitmap.width*T.scalar,ze=T.shape.bitmap.height*T.scalar,Ge=new DOMMatrix([Math.cos(fe)*Ae,Math.sin(fe)*Ae,-Math.sin(fe)*Re,Math.cos(fe)*Re,T.x,T.y]);Ge.multiplySelf(new DOMMatrix(T.shape.matrix));var xt=O.createPattern(y.transform(T.shape.bitmap),"no-repeat");xt.setTransform(Ge),O.globalAlpha=1-L,O.fillStyle=xt,O.fillRect(T.x-Ye/2,T.y-ze/2,Ye,ze),O.globalAlpha=1}else if(T.shape==="circle")O.ellipse?O.ellipse(T.x,T.y,Math.abs(pe-Q)*T.ovalScalar,Math.abs(ge-ne)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):z(O,T.x,T.y,Math.abs(pe-Q)*T.ovalScalar,Math.abs(ge-ne)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var Ve=Math.PI/2*3,Mt=4*T.scalar,Vt=8*T.scalar,Qt=T.x,ln=T.y,ot=5,Be=Math.PI/ot;ot--;)Qt=T.x+Math.cos(Ve)*Vt,ln=T.y+Math.sin(Ve)*Vt,O.lineTo(Qt,ln),Ve+=Be,Qt=T.x+Math.cos(Ve)*Mt,ln=T.y+Math.sin(Ve)*Mt,O.lineTo(Qt,ln),Ve+=Be;else O.moveTo(Math.floor(T.x),Math.floor(T.y)),O.lineTo(Math.floor(T.wobbleX),Math.floor(ne)),O.lineTo(Math.floor(pe),Math.floor(ge)),O.lineTo(Math.floor(Q),Math.floor(T.wobbleY));return O.closePath(),O.fill(),T.tick<T.totalTicks}function D(O,T,L,Q,ne){var pe=T.slice(),ge=O.getContext("2d"),fe,Ae,Re=p(function(Ye){function ze(){fe=Ae=null,ge.clearRect(0,0,Q.width,Q.height),y.clear(),ne(),Ye()}function Ge(){s&&!(Q.width===a.width&&Q.height===a.height)&&(Q.width=O.width=a.width,Q.height=O.height=a.height),!Q.width&&!Q.height&&(L(O),Q.width=O.width,Q.height=O.height),ge.clearRect(0,0,Q.width,Q.height),pe=pe.filter(function(xt){return P(ge,xt)}),pe.length?fe=b.frame(Ge):ze()}fe=b.frame(Ge),Ae=ze});return{addFettis:function(Ye){return pe=pe.concat(Ye),Re},canvas:O,promise:Re,reset:function(){fe&&b.cancel(fe),Ae&&Ae()}}}function be(O,T){var L=!O,Q=!!N(T||{},"resize"),ne=!1,pe=N(T,"disableForReducedMotion",Boolean),ge=l&&!!N(T||{},"useWorker"),fe=ge?w():null,Ae=L?k:S,Re=O&&fe?!!O.__confetti_initialized:!1,Ye=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ze;function Ge(Ve,Mt,Vt){for(var Qt=N(Ve,"particleCount",H),ln=N(Ve,"angle",Number),ot=N(Ve,"spread",Number),Be=N(Ve,"startVelocity",Number),Vn=N(Ve,"decay",Number),Rr=N(Ve,"gravity",Number),Ks=N(Ve,"drift",Number),zt=N(Ve,"colors",me),oi=N(Ve,"ticks",Number),Ei=N(Ve,"shapes"),ys=N(Ve,"scalar"),Si=!!N(Ve,"flat"),Ys=de(Ve),xn=Qt,vs=[],bs=O.width*Ys.x,Fn=O.height*Ys.y;xn--;)vs.push(B({x:bs,y:Fn,angle:ln,spread:ot,startVelocity:Be,color:zt[xn%zt.length],shape:Ei[W(0,Ei.length)],ticks:oi,decay:Vn,gravity:Rr,drift:Ks,scalar:ys,flat:Si}));return ze?ze.addFettis(vs):(ze=D(O,vs,Ae,Mt,Vt),ze.promise)}function xt(Ve){var Mt=pe||N(Ve,"disableForReducedMotion",Boolean),Vt=N(Ve,"zIndex",Number);if(Mt&&Ye)return p(function(Be){Be()});L&&ze?O=ze.canvas:L&&!O&&(O=M(Vt),document.body.appendChild(O)),Q&&!Re&&Ae(O);var Qt={width:O.width,height:O.height};fe&&!Re&&fe.init(O),Re=!0,fe&&(O.__confetti_initialized=!0);function ln(){if(fe){var Be={getBoundingClientRect:function(){if(!L)return O.getBoundingClientRect()}};Ae(Be),fe.postMessage({resize:{width:Be.width,height:Be.height}});return}Qt.width=Qt.height=null}function ot(){ze=null,Q&&(ne=!1,e.removeEventListener("resize",ln)),L&&O&&(document.body.contains(O)&&document.body.removeChild(O),O=null,Re=!1)}return Q&&!ne&&(ne=!0,e.addEventListener("resize",ln,!1)),fe?fe.fire(Ve,Qt,ot):Ge(Ve,Qt,ot)}return xt.reset=function(){fe&&fe.reset(),ze&&ze.reset()},xt}var xe;function J(){return xe||(xe=be(null,{useWorker:!0,resize:!0})),xe}function X(O,T,L,Q,ne,pe,ge){var fe=new Path2D(O),Ae=new Path2D;Ae.addPath(fe,new DOMMatrix(T));var Re=new Path2D;return Re.addPath(Ae,new DOMMatrix([Math.cos(ge)*ne,Math.sin(ge)*ne,-Math.sin(ge)*pe,Math.cos(ge)*pe,L,Q])),Re}function G(O){if(!u)throw new Error("path confetti are not supported in this browser");var T,L;typeof O=="string"?T=O:(T=O.path,L=O.matrix);var Q=new Path2D(T),ne=document.createElement("canvas"),pe=ne.getContext("2d");if(!L){for(var ge=1e3,fe=ge,Ae=ge,Re=0,Ye=0,ze,Ge,xt=0;xt<ge;xt+=2)for(var Ve=0;Ve<ge;Ve+=2)pe.isPointInPath(Q,xt,Ve,"nonzero")&&(fe=Math.min(fe,xt),Ae=Math.min(Ae,Ve),Re=Math.max(Re,xt),Ye=Math.max(Ye,Ve));ze=Re-fe,Ge=Ye-Ae;var Mt=10,Vt=Math.min(Mt/ze,Mt/Ge);L=[Vt,0,0,Vt,-Math.round(ze/2+fe)*Vt,-Math.round(Ge/2+Ae)*Vt]}return{type:"path",path:T,matrix:L}}function K(O){var T,L=1,Q="#000000",ne='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof O=="string"?T=O:(T=O.text,L="scalar"in O?O.scalar:L,ne="fontFamily"in O?O.fontFamily:ne,Q="color"in O?O.color:Q);var pe=10*L,ge=""+pe+"px "+ne,fe=new OffscreenCanvas(pe,pe),Ae=fe.getContext("2d");Ae.font=ge;var Re=Ae.measureText(T),Ye=Math.ceil(Re.actualBoundingBoxRight+Re.actualBoundingBoxLeft),ze=Math.ceil(Re.actualBoundingBoxAscent+Re.actualBoundingBoxDescent),Ge=2,xt=Re.actualBoundingBoxLeft+Ge,Ve=Re.actualBoundingBoxAscent+Ge;Ye+=Ge+Ge,ze+=Ge+Ge,fe=new OffscreenCanvas(Ye,ze),Ae=fe.getContext("2d"),Ae.font=ge,Ae.fillStyle=Q,Ae.fillText(T,xt,Ve);var Mt=1/L;return{type:"bitmap",bitmap:fe.transferToImageBitmap(),matrix:[Mt,0,0,Mt,-Ye*Mt/2,-ze*Mt/2]}}n.exports=function(){return J().apply(this,arguments)},n.exports.reset=function(){J().reset()},n.exports.create=be,n.exports.shapeFromPath=G,n.exports.shapeFromText=K})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Uv,!1);const i0=Uv.exports;Uv.exports.create;const ru=(t=1)=>{const e=200*t,n={origin:{y:.7}};function s(a,l){i0(Object.assign({},n,l,{particleCount:Math.floor(e*a)}))}s(.25,{spread:26,startVelocity:55}),s(.2,{spread:60}),s(.35,{spread:100,decay:.91,scalar:.8}),s(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),s(.1,{spread:120,startVelocity:45})},RE={cloudName:"dia6ped7h",uploadPreset:"bingo_proofs"},IE=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",RE.uploadPreset),e.append("folder","bingo-proofs");const n=await fetch(`https://api.cloudinary.com/v1_1/${RE.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok){const a=await n.json();throw console.error("Cloudinary upload error:",a),new Error(a.error?.message||"Failed to upload image")}return(await n.json()).secure_url},lB="2026",ry=5,cB=["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"],uB=t=>{const{user:e}=Jl(),[n,s]=I.useState([]),[a,l]=I.useState({}),[u,d]=I.useState(!0),[m,p]=I.useState(!1),[y,b]=I.useState(!1),[w,C]=I.useState(""),[V,j]=I.useState(ry),N=I.useMemo(()=>t?hs(Kn,"boards",t):hs(Kn,"years",lB),[t]),H=(X,G)=>{if(!X.length)return;const K=[];for(let T=0;T<G;T++)K.push(X.slice(T*G,(T+1)*G));let O=!1;for(let T=0;T<G;T++)if(K[T]&&K[T].every(L=>L.isCompleted)){O=!0;break}if(!O){for(let T=0;T<G;T++)if(K.map(L=>L[T]).every(L=>L&&L.isCompleted)){O=!0;break}}!O&&K.map((T,L)=>T[L]).every(T=>T&&T.isCompleted)&&(O=!0),!O&&K.map((T,L)=>T[G-1-L]).every(T=>T&&T.isCompleted)&&(O=!0),O&&!m?(p(!0),ru(2)):O||p(!1)},W=async(X=ry)=>{const G=X*X,K=X%2===1?Math.floor(G/2):-1,O=[...cB].sort(()=>.5-Math.random()),T=[];let L=0;for(let Q=0;Q<G;Q++)Q===K&&X%2===1?T.push({id:Q,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(T.push({id:Q,text:O[L%O.length]||`Goal ${Q+1}`,isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),L++);await Mf(N,{year:2026,gridSize:X,items:T,isLocked:!1,createdAt:Le.now(),lastUpdated:Le.now(),...e?{ownerId:e.uid,members:{[e.uid]:"owner"}}:{}},{merge:!0})};I.useEffect(()=>{if(!e)return;d(!0);const X=T2(N,G=>{if(G.exists()){const K=G.data(),O=K.gridSize||ry;j(O),s(K.items||[]),l(K.members||{}),b(K.isLocked||!1),C(K.title||""),H(K.items||[],O)}else W();d(!1)},G=>{console.error("Error fetching bingo board:",G),d(!1)});return()=>X()},[N,e]);const Y=async X=>{if(!n.length)return;const G=n.map(L=>({...L})),K=G[X];if(K.isFreeSpace)return;const O=K.targetCount||1,T=K.currentCount||0;if(K.isCompleted){const L=Math.max(0,T-1);K.currentCount=L,K.isCompleted=L>=O,L===0&&(K.completedBy=null,K.completedAt=null)}else{const L=Math.min(O,T+1);K.currentCount=L,K.isCompleted=L>=O,K.completedBy=e?.displayName||e?.email||"Unknown",K.completedAt=Le.now(),ru(.5)}s(G),H(G,V);try{await jn(N,{items:G,lastUpdated:Le.now()})}catch(L){console.error("Error updating bingo board:",L)}},me=async X=>{if(!n.length)return;const G=n.map(Q=>({...Q})),K=G[X];if(K.isFreeSpace)return;const O=K.currentCount||0;if(O<=0)return;const T=K.targetCount||1,L=O-1;K.currentCount=L,K.isCompleted=L>=T,L===0&&(K.completedBy=null,K.completedAt=null),s(G),H(G,V);try{await jn(N,{items:G,lastUpdated:Le.now()})}catch(Q){console.error("Error decrementing progress:",Q)}},ue=async(X,G)=>{if(!(!n.length||!e))try{const K=await IE(G),O=n.map(ge=>({...ge})),T=O[X];if(T.isFreeSpace)return;const L=T.targetCount||1,Q=T.currentCount||0,ne=Math.min(L,Q+1);T.currentCount=ne,T.isCompleted=ne>=L,T.completedBy=e?.displayName||e?.email||"Unknown",T.completedAt=Le.now();const pe=T.proofPhotos||[];T.proofPhotos=[...pe,K],s(O),H(O,V),ru(1),await jn(N,{items:O,lastUpdated:Le.now()})}catch(K){throw console.error("Error completing with photo:",K),K}},de=async(X,G)=>{if(!n.length||!e)return;const K=n[X];!K.isCompleted&&(K.currentCount||0)<(K.targetCount||1);const O=K.proofPhotos||[];if(O.length>=5)throw new Error("Maximum 5 photos allowed per tile");try{const T=await IE(G),L=n.map(Q=>({...Q}));return L[X].proofPhotos=[...O,T],s(L),ru(.3),await jn(N,{items:L,lastUpdated:Le.now()}),T}catch(T){throw console.error("Error adding photo:",T),T}},k=async(X,G)=>{if(!n.length)return;const K=n.map(L=>({...L})),O=K[X];if(!O.proofPhotos)return;const T=[...O.proofPhotos];T.splice(G,1),O.proofPhotos=T,s(K);try{await jn(N,{items:K,lastUpdated:Le.now()})}catch(L){console.error("Error deleting photo:",L)}},S=async(X,G)=>{if(e)try{const K=n.map(Q=>({...Q})),O=K[X],T={emoji:G,by:e.uid,byName:e.displayName||e.email?.split("@")[0]||"Friend",timestamp:Date.now()},L=O.reactions||[];O.reactions=[...L,T],s(K),await jn(N,{items:K,lastUpdated:Le.now()}),ru(.2)}catch(K){console.error("Error adding reaction:",K)}},M=async(X,G)=>{const K=n.map(O=>({...O}));G.text!==void 0&&(K[X].text=G.text),G.style!==void 0&&(K[X].style=G.style),s(K);try{await jn(N,{items:K,lastUpdated:Le.now()})}catch(O){console.error("Error updating item:",O)}},z=async(X=!0)=>{const G=[...n];let K=G;if(X){const T=V*V,L=V%2===1?Math.floor(T/2):-1;if(L!==-1){const Q=G[L],ne=[...G.slice(0,L),...G.slice(L+1)];for(let pe=ne.length-1;pe>0;pe--){const ge=Math.floor(Math.random()*(pe+1));[ne[pe],ne[ge]]=[ne[ge],ne[pe]]}K=[...ne.slice(0,L),Q,...ne.slice(L)]}else{K=[...G];for(let Q=K.length-1;Q>0;Q--){const ne=Math.floor(Math.random()*(Q+1));[K[Q],K[ne]]=[K[ne],K[Q]]}}s(K)}b(!0);const O={isLocked:!0,lastUpdated:Le.now()};X&&(O.items=K,O.itemsBackup=G),await Mf(N,O,{merge:!0})},B=async()=>{try{const X=await ih(N);if(X.exists()){const G=X.data();G.itemsBackup?await jn(N,{items:G.itemsBackup,itemsBackup:Nf(),isLocked:!1,lastUpdated:Le.now()}):await jn(N,{isLocked:!1,lastUpdated:Le.now()})}}catch(X){console.error("Error unlocking board:",X)}},P=I.useMemo(()=>{const X=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],[0,6,12,18,24],[4,8,12,16,20]],G=new Set(n.map((K,O)=>K.isCompleted?O:-1));return X.reduce((K,O)=>O.every(T=>G.has(T))?K+1:K,0)},[n]);return{items:n,members:a,loading:u,toggleItem:Y,updateItem:M,hasWon:m,bingoCount:P,isLocked:y,unlockBoard:B,jumbleAndLock:z,saveBoard:async X=>{s(X);try{await jn(N,{items:X,lastUpdated:Le.now()})}catch(G){console.error("Error saving board:",G)}},completeWithPhoto:ue,addPhotoToTile:de,deletePhoto:k,addReaction:S,decrementProgress:me,inviteUser:async(X,G="editor")=>{try{const K=kf(El(Kn,"users"),Df("email","==",X)),O=await bu(K);if(O.empty)return{success:!1,type:"not_found",message:"User not found"};const T=O.docs[0],L=T.id;return await jn(N,{[`members.${L}`]:G}),{success:!0,type:"success",message:`Added ${T.data().displayName||X} as ${G}!`}}catch(K){return console.error("Error inviting user:",K),{success:!1,type:"error",message:"Failed to invite user"}}},removeMember:async X=>{try{return await jn(N,{[`members.${X}`]:Nf()}),{success:!0}}catch(G){return console.error("Error removing member:",G),{success:!1,error:G}}},title:w,gridSize:V,updateTitle:async X=>{try{await jn(N,{title:X,lastUpdated:Le.now()}),C(X)}catch(G){console.error("Error updating title:",G)}}}};let Eu=null;const au=()=>(Eu||(Eu=new(window.AudioContext||window.webkitAudioContext)),Eu),hB=()=>{const{settings:t}=ch(),e=t.enableSound??!0,n=I.useRef(0);I.useEffect(()=>{const y=()=>{Eu?.state==="suspended"&&Eu.resume()};return document.addEventListener("click",y,{once:!0}),document.addEventListener("touchstart",y,{once:!0}),()=>{document.removeEventListener("click",y),document.removeEventListener("touchstart",y)}},[]);const s=I.useCallback(()=>{const y=Date.now();return y-n.current<50?!1:(n.current=y,!0)},[]),a=I.useCallback(()=>{if(!(!e||!s()))try{const y=au(),b=y.createOscillator(),w=y.createGain();b.connect(w),w.connect(y.destination),b.frequency.setValueAtTime(800,y.currentTime),b.frequency.exponentialRampToValueAtTime(400,y.currentTime+.1),b.type="sine",w.gain.setValueAtTime(.15,y.currentTime),w.gain.exponentialRampToValueAtTime(.001,y.currentTime+.1),b.start(y.currentTime),b.stop(y.currentTime+.1)}catch(y){console.warn("Audio playback failed:",y)}},[e,s]),l=I.useCallback(()=>{if(!(!e||!s()))try{const y=au();[523.25,659.25,783.99].forEach((w,C)=>{const V=y.createOscillator(),j=y.createGain();V.connect(j),j.connect(y.destination),V.frequency.setValueAtTime(w,y.currentTime),V.type="sine";const N=y.currentTime+C*.08;j.gain.setValueAtTime(0,N),j.gain.linearRampToValueAtTime(.12,N+.02),j.gain.exponentialRampToValueAtTime(.001,N+.3),V.start(N),V.stop(N+.3)})}catch(y){console.warn("Audio playback failed:",y)}},[e,s]),u=I.useCallback(()=>{if(e)try{const y=au();[{freq:523.25,time:0},{freq:659.25,time:.1},{freq:783.99,time:.2},{freq:1046.5,time:.35},{freq:1318.51,time:.5}].forEach(({freq:V,time:j})=>{const N=y.createOscillator(),H=y.createGain();N.connect(H),H.connect(y.destination),N.frequency.setValueAtTime(V,y.currentTime+j),N.type="sine",H.gain.setValueAtTime(0,y.currentTime+j),H.gain.linearRampToValueAtTime(.2,y.currentTime+j+.02),H.gain.exponentialRampToValueAtTime(.001,y.currentTime+j+.5),N.start(y.currentTime+j),N.stop(y.currentTime+j+.5)});const w=y.createOscillator(),C=y.createGain();w.connect(C),C.connect(y.destination),w.type="sine",w.frequency.setValueAtTime(2e3,y.currentTime+.6),w.frequency.exponentialRampToValueAtTime(4e3,y.currentTime+1.2),C.gain.setValueAtTime(0,y.currentTime+.6),C.gain.linearRampToValueAtTime(.05,y.currentTime+.7),C.gain.exponentialRampToValueAtTime(.001,y.currentTime+1.2),w.start(y.currentTime+.6),w.stop(y.currentTime+1.2)}catch(y){console.warn("Audio playback failed:",y)}},[e]),d=I.useRef(null),m=I.useCallback(()=>{if(!(!e||!s()))try{const y=au();if(!d.current){const V=y.sampleRate*.15,j=y.createBuffer(1,V,y.sampleRate),N=j.getChannelData(0);for(let H=0;H<V;H++)N[H]=(Math.random()*2-1)*(1-H/V);d.current=j}const b=y.createBufferSource(),w=y.createBiquadFilter(),C=y.createGain();b.buffer=d.current,w.type="lowpass",w.frequency.setValueAtTime(2e3,y.currentTime),w.frequency.exponentialRampToValueAtTime(500,y.currentTime+.15),b.connect(w),w.connect(C),C.connect(y.destination),C.gain.setValueAtTime(.08,y.currentTime),C.gain.exponentialRampToValueAtTime(.001,y.currentTime+.15),b.start(y.currentTime)}catch(y){console.warn("Audio playback failed:",y)}},[e,s]),p=I.useCallback(()=>{if(!(!e||!s()))try{const y=au(),b=y.createOscillator(),w=y.createGain();b.connect(w),w.connect(y.destination),b.frequency.setValueAtTime(200,y.currentTime),b.frequency.linearRampToValueAtTime(150,y.currentTime+.2),b.type="sine",w.gain.setValueAtTime(.15,y.currentTime),w.gain.exponentialRampToValueAtTime(.001,y.currentTime+.2),b.start(y.currentTime),b.stop(y.currentTime+.2)}catch(y){console.warn("Audio playback failed:",y)}},[e,s]);return{playClick:a,playSuccess:l,playBingo:u,playWhoosh:m,playError:p}},dB=({items:t,isOpen:e,onClose:n})=>{const[s,a]=I.useState(null),l=I.useMemo(()=>t.map((m,p)=>({...m,originalIndex:p})).filter(m=>m.proofPhotos&&m.proofPhotos.length>0).sort((m,p)=>{const y=m.completedAt?.toDate?.()||new Date(0);return(p.completedAt?.toDate?.()||new Date(0)).getTime()-y.getTime()}),[t]),u=I.useMemo(()=>{const m={};return l.forEach(p=>{const b=(p.completedAt?.toDate?.()||new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"});m[b]||(m[b]=[]),m[b].push(p)}),m},[l]),d=m=>m?(m.toDate?m.toDate():new Date(m)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e?v.jsx(qi,{children:v.jsxs(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-bg-dark overflow-y-auto",children:[v.jsx("div",{className:"sticky top-0 z-10 bg-bg-dark/95 backdrop-blur-md border-b border-white/10",children:v.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(qf,{className:"w-6 h-6 text-accent-gold"}),v.jsx("h1",{className:"text-xl font-bold text-white",children:"2026 Memories"}),v.jsxs("span",{className:"text-sm text-slate-400",children:["(",l.length," moments)"]})]}),v.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-white transition-colors rounded-full hover:bg-white/10",children:v.jsx(Vs,{size:24})})]})}),v.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:l.length===0?v.jsxs("div",{className:"text-center py-20",children:[v.jsx(qf,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),v.jsx("h2",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No memories yet"}),v.jsx("p",{className:"text-slate-500",children:"Complete tasks and add photos to build your 2026 album!"})]}):Object.entries(u).map(([m,p])=>v.jsxs("div",{className:"mb-8",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx(Hf,{className:"w-4 h-4 text-accent-primary"}),v.jsx("h2",{className:"text-lg font-semibold text-accent-primary",children:m}),v.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent-primary/30 to-transparent"})]}),v.jsx("div",{className:"space-y-6",children:p.map((y,b)=>v.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.1},className:"bg-bg-card/80 rounded-2xl border border-white/10 overflow-hidden shadow-xl",children:[v.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer",onClick:()=>a({memoryIdx:l.indexOf(y),photoIdx:0}),children:[v.jsx("img",{src:y.proofPhotos[0],alt:y.text,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),y.proofPhotos.length>1&&v.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-full text-white text-xs font-medium",children:["+",y.proofPhotos.length-1," more"]})]}),y.proofPhotos.length>1&&v.jsx("div",{className:"flex gap-1 p-2 bg-black/30 overflow-x-auto",children:y.proofPhotos.map((w,C)=>v.jsx("button",{onClick:()=>a({memoryIdx:l.indexOf(y),photoIdx:C}),className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 border-2 border-transparent hover:border-accent-primary transition-all",children:v.jsx("img",{src:w,alt:"",className:"w-full h-full object-cover"})},C))}),v.jsxs("div",{className:"p-4",children:[v.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[v.jsx("span",{className:"text-accent-gold",children:y.isCompleted?"":""}),y.text]}),v.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(uz,{size:14}),y.isCompleted?y.completedBy:"In Progress"]}),y.isCompleted&&v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(Hf,{size:14}),d(y.completedAt)]})]})]})]},y.id))})]},m))}),v.jsx(qi,{children:s!==null&&l[s.memoryIdx]&&v.jsxs(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>a(null),children:[v.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white",children:v.jsx(Vs,{size:32})}),(()=>{const m=l[s.memoryIdx],p=m.proofPhotos||[],y=s.photoIdx;return v.jsxs("div",{className:"relative max-w-4xl w-full",onClick:b=>b.stopPropagation(),children:[v.jsx("img",{src:p[y],alt:"",className:"w-full max-h-[80vh] object-contain rounded-lg"}),p.length>1&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>a({...s,photoIdx:y>0?y-1:p.length-1}),className:"absolute left-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:v.jsx(mR,{size:28})}),v.jsx("button",{onClick:()=>a({...s,photoIdx:y<p.length-1?y+1:0}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:v.jsx(pR,{size:28})})]}),v.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[v.jsx("p",{className:"text-white font-semibold",children:m.text}),v.jsxs("p",{className:"text-slate-300 text-sm",children:[y+1," / ",p.length,"  ",d(m.completedAt)]})]})]})})()]})})]})}):null},fB=({items:t})=>{const[e,n]=I.useState([]),s=I.useRef({}),a=I.useRef(!1);I.useEffect(()=>{if(!a.current){t.forEach(u=>{s.current[u.id]=u.reactions?.length||0}),a.current=!0;return}t.forEach(u=>{const d=u.reactions?.length||0,m=s.current[u.id]||0;d>m&&u.reactions.slice(m).forEach(y=>{l(y)}),s.current[u.id]=d})},[t]);const l=u=>{const d=Math.random().toString(36).substring(7),m=Math.random()*80+10;n(p=>[...p,{...u,id:d,x:m}]),setTimeout(()=>{n(p=>p.filter(y=>y.id!==d))},4e3)};return v.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] overflow-hidden",children:v.jsx(qi,{children:e.map(u=>v.jsxs(Ke.div,{initial:{y:"110vh",opacity:0,x:`${u.x}vw`,scale:.5,rotate:0},animate:{y:"-10vh",opacity:[0,1,1,0],scale:[.5,1.5,1.2],rotate:[0,-10,10,0]},transition:{duration:4,ease:"easeOut"},className:"absolute top-0 flex flex-col items-center",children:[v.jsx("span",{className:"text-6xl drop-shadow-2xl filter",children:u.emoji}),u.byName&&v.jsx("div",{className:"text-sm font-bold text-white/90 text-center mt-2 bg-black/40 px-3 py-1 rounded-full backdrop-blur-md border border-white/10 shadow-lg",children:u.byName})]},u.id))})})},NE=()=>{const{boardId:t,yearId:e}=rk(),n=zu(),s=e?void 0:t,{items:a,members:l,loading:u,toggleItem:d,hasWon:m,bingoCount:p,isLocked:y,unlockBoard:b,jumbleAndLock:w,saveBoard:C,completeWithPhoto:V,addPhotoToTile:j,addReaction:N,deletePhoto:H,decrementProgress:W,inviteUser:Y,removeMember:me,title:ue,gridSize:de,updateTitle:k}=uB(s),{logout:S,user:M}=Jl(),z=xR(),{openSettings:B,settings:P,updateSettings:D}=ch(),{playClick:be,playSuccess:xe,playBingo:J,playWhoosh:X}=hB(),[G,K]=I.useState(!1),[O,T]=I.useState(!1),[L,Q]=I.useState(""),[ne,pe]=I.useState([]),[ge,fe]=I.useState(!1),[Ae,Re]=I.useState(!1),[Ye,ze]=I.useState(!1),[Ge,xt]=I.useState(!1),[Ve,Mt]=I.useState([]),[Vt,Qt]=I.useState(null),[ln,ot]=I.useState(""),[Be,Vn]=I.useState({}),[Rr,Ks]=I.useState(1),[zt,oi]=I.useState(""),[Ei,ys]=I.useState("complete"),[Si,Ys]=I.useState(!1),[xn,vs]=I.useState(0),[bs,Fn]=I.useState(null),[cn,wn]=I.useState(!1);I.useEffect(()=>{!localStorage.getItem("hasSeenWalkthrough")&&!u&&a.length>0&&Ys(!0)},[u,a]),I.useEffect(()=>{(async()=>{if(Ae&&l){const Ie=[];for(const[Et,St]of Object.entries(l))if(St!=="owner")try{const bt=await ih(hs(Kn,"users",Et));if(bt.exists()){const Wt=bt.data();Ie.push({id:Et,name:Wt.displayName||"Unknown",email:Wt.email||"No email",role:St})}}catch(bt){console.error("Error fetching user:",bt)}Mt(Ie)}})()},[Ae,l]);const Pt=async(F,Ie)=>{await z.confirm(`Are you sure you want to remove ${Ie} from this board?`,{title:"Remove Member",type:"error",confirmText:"Remove"})&&((await me(F)).success?(Mt(bt=>bt.filter(Wt=>Wt.id!==F)),await z.alert(`${Ie} has been removed.`,{type:"success"})):await z.alert("Failed to remove member.",{type:"error"}))},Do=async()=>{const F=await z.sharePrompt("Enter their email address to invite them to this board.",{title:"Invite User"});if(F){const Ie=await Y(F.email,F.role);if(Ie.type==="success")await z.alert(Ie.message,{title:"Success!",type:"success"});else if(Ie.type==="not_found"){if(await z.confirm(`"${F.email}" hasn't signed up yet.

Would you like to send them an email invitation to join SunSar Bingo?`,{title:"User Not Found",confirmText:"Send Invite Email",type:"info"}))try{const{sendInviteEmail:St,openMailtoFallback:bt}=await ly(async()=>{const{sendInviteEmail:An,openMailtoFallback:Xt}=await import("./emailService-CK0XW-Qj.js");return{sendInviteEmail:An,openMailtoFallback:Xt}},[]);(await St({recipientEmail:F.email,senderName:M?.displayName||M?.email||"A friend"})).success?await z.alert(`Invitation sent to ${F.email}! They'll receive an email with instructions to join.`,{title:"Invitation Sent!",type:"success"}):(bt(F.email,M?.displayName||"A friend"),await z.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"}))}catch{const bt=encodeURIComponent("Join me on SunSar Bingo!"),Wt=encodeURIComponent(`Hey! Come join me on SunSar Bingo to track our 2026 goals together.

Sign up here: ${window.location.origin}`);window.open(`mailto:${F.email}?subject=${bt}&body=${Wt}`),await z.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"})}}else await z.alert(Ie.message,{title:"Error",type:"error"})}},Ir=()=>{xn<2?vs(F=>F+1):(Ys(!1),localStorage.setItem("hasSeenWalkthrough","true"))},[Mo,Tn]=I.useState(!1),[En,vt]=I.useState(null),[pn,li]=I.useState(!1),qn=I.useRef(null),[rc,_s]=I.useState(!1),[wt,ci]=I.useState(null),[ui,Ai]=I.useState(null),[Wi,Xi]=I.useState(0),xs=I.useRef(null),[Zi,ja]=I.useState(!1),[hi,Xn]=I.useState(()=>localStorage.getItem("celebrationDismissed")==="true"),[It,Bt]=I.useState(0);I.useEffect(()=>{It===5&&(b(),Bt(0),i0({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#ec4899","#ffffff"]}));let F;return It>0&&(F=setTimeout(()=>Bt(0),1e3)),()=>clearTimeout(F)},[It,b]);const Ci=()=>{y&&Bt(F=>F+1)},Nr=()=>{be(),w(Ge),i0({particleCount:150,spread:60,origin:{y:.7},colors:["#22c55e","#ffffff"]}),xe(),ze(!1),K(!1)},ac=()=>{Xn(!0),localStorage.setItem("celebrationDismissed","true")};of.useEffect(()=>{!u&&!m&&(Xn(!1),localStorage.removeItem("celebrationDismissed"))},[m,u]);const La=I.useRef(m);of.useEffect(()=>{m&&!La.current&&!u&&J(),La.current=m},[m,u,J]);const Vo=F=>{const Ie=G?ne:a;if(Qt(F),ot(Ie[F].text),Vn(Ie[F].style||{color:"#ffffff",fontSize:"base",bold:!1,italic:!1}),Ks(Ie[F].targetCount||1),Ie[F].dueDate){const Et=Ie[F].dueDate,St=typeof Et.toDate=="function"?Et.toDate():new Date(Et),bt=St.getFullYear(),Wt=String(St.getMonth()+1).padStart(2,"0"),An=String(St.getDate()).padStart(2,"0");oi(`${bt}-${Wt}-${An}`)}else oi("");fe(!0)},Ri=()=>{if(Vt===null)return;let F;zt&&(F=new Date(zt+"T12:00:00"));const Ie=[...ne];Ie[Vt]={...Ie[Vt],text:ln,style:Be,targetCount:Rr,dueDate:F},pe(Ie),fe(!1),Qt(null)},di=G?ne:a;if(I.useEffect(()=>{ui!==null&&di?.[ui]&&ci(di[ui])},[di,ui]),u)return v.jsx("div",{className:"flex h-screen items-center justify-center text-accent-primary animate-pulse",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),v.jsx("p",{children:"Loading Board..."})]})});const Hn=a.filter(F=>F.isCompleted).length/25*100,Sn=F=>{if(!F)return"-";const Ie=F.toDate?F.toDate():new Date(F);return Ie.toLocaleDateString()+" "+Ie.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},Ii=F=>{const Ie=di[F];Fn({index:F,wasCompleted:Ie.isCompleted}),Ie.isCompleted?be():xe(),d(F),wn(!0),setTimeout(()=>wn(!1),3e3)};return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 pb-24 relative overflow-x-hidden no-print",children:[v.jsx("input",{type:"file",accept:"image/*",ref:xs,className:"hidden",onChange:async F=>{const Ie=F.target.files?.[0];if(Ie&&ui!==null){try{await j(ui,Ie)}catch(Et){console.error(Et),alert("Failed to add photo")}F.target.value=""}}}),v.jsx(fB,{items:a}),v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsxs("header",{className:"flex justify-between items-center mb-8 py-2",children:[v.jsx(Ke.img,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},src:"/logo.png",alt:"SunSar Bingo",className:"h-10 sm:h-12 w-auto object-contain cursor-pointer active:scale-95 transition-transform",onClick:Ci}),v.jsxs("div",{className:"flex-1 mx-4 min-w-0",children:[O?v.jsx("input",{type:"text",value:L,onChange:F=>Q(F.target.value),onBlur:()=>{L.trim()&&k(L.trim()),T(!1)},onKeyDown:F=>{F.key==="Enter"?(L.trim()&&k(L.trim()),T(!1)):F.key==="Escape"&&T(!1)},autoFocus:!0,className:"bg-transparent border-b-2 border-accent-primary text-white text-lg sm:text-xl font-bold outline-none w-full max-w-[200px]"}):v.jsxs("button",{onClick:()=>{Q(ue||"My Bingo"),T(!0)},className:"text-white text-lg sm:text-xl font-bold truncate max-w-[200px] hover:text-accent-primary transition-colors flex items-center gap-1 group",title:"Click to edit board name",children:[v.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent truncate",children:ue||"My Bingo"}),v.jsx(ty,{size:14,className:"opacity-0 group-hover:opacity-70 transition-opacity flex-shrink-0"})]}),v.jsxs("p",{className:"text-slate-500 text-xs mt-0.5",children:[de,"",de,"  ",a.filter(F=>F.isCompleted&&!F.isFreeSpace).length,"/",a.filter(F=>!F.isFreeSpace).length]})]}),v.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[v.jsx("button",{onClick:()=>ja(!0),className:"p-2.5 text-slate-400 hover:text-accent-gold hover:bg-white/5 rounded-full transition-colors",title:"View Memories",children:v.jsx(qf,{size:20})}),v.jsx("button",{onClick:()=>n("/dashboard"),className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Dashboard",children:v.jsx(yR,{size:20})}),v.jsx("button",{onClick:()=>Re(!0),className:"p-2.5 text-slate-400 hover:text-accent-primary hover:bg-white/5 rounded-full transition-colors",title:"Share Board",children:v.jsx(rf,{size:20})}),v.jsx("button",{onClick:()=>{const F=["dawn","midnight","forest","ocean","sunset"],Et=(F.indexOf(P.theme)+1)%F.length;D({theme:F[Et]})},className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:`Theme: ${P.theme} (click to change)`,children:P.theme==="dawn"?v.jsx(tz,{size:20}):v.jsx(U9,{size:20})}),v.jsx("button",{onClick:B,className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Settings",children:v.jsx(bR,{size:20})}),v.jsx("div",{className:"w-px h-6 bg-white/10 mx-1 hidden sm:block"}),v.jsx(Ke.div,{initial:{scale:0},animate:{scale:1},className:"relative cursor-pointer group",children:v.jsx("img",{src:M?.photoURL||"",alt:"User",className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full border-2 border-white/10 group-hover:border-accent-primary transition-colors object-cover shrink-0"})}),v.jsx("button",{onClick:S,className:"p-2.5 text-slate-400 hover:text-red-400 hover:bg-white/5 rounded-full transition-colors",title:"Logout",children:v.jsx(vR,{size:20})})]})]}),v.jsx("div",{className:"flex justify-center mb-6",children:v.jsx("div",{className:"w-full max-w-[520px] aspect-square relative",children:v.jsx("div",{className:Ot("grid gap-1.5 sm:gap-2 w-full h-full",de===3&&"grid-cols-3 grid-rows-3",de===4&&"grid-cols-4 grid-rows-4",de===5&&"grid-cols-5 grid-rows-5",de===6&&"grid-cols-6 grid-rows-6"),style:{perspective:"1000px"},children:di.map((F,Ie)=>v.jsxs(Ke.div,{title:F.isCompleted?`Completed by ${F.completedBy||"Someone"} on ${Sn(F.completedAt)}`:void 0,layout:!0,initial:{opacity:0,scale:.8,rotateX:-90},animate:{opacity:1,scale:1,rotateX:0},transition:{type:"spring",stiffness:260,damping:20,delay:Ie*.03},whileHover:{scale:1.05,zIndex:10,boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.3), 0 8px 10px -6px rgb(0 0 0 / 0.3)"},whileTap:{scale:.9,rotateX:15},onClick:()=>{G||F.isFreeSpace||(F.isCompleted?F.proofPhotos&&F.proofPhotos.length>0?(ci(F),Ai(Ie),Xi(0),_s(!0)):Ii(Ie):(X(),vt(Ie),Tn(!0)))},className:Ot("bingo-tile relative flex items-center justify-center p-1 cursor-pointer select-none overflow-hidden",de===3&&"text-sm sm:text-base",de===4&&"text-xs sm:text-sm",de===5&&"text-[11px] sm:text-sm",de===6&&"text-[9px] sm:text-xs","font-medium leading-tight select-none",F.isCompleted?"completed text-white scale-[1.02] font-semibold":"text-slate-300",F.isFreeSpace&&"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold shadow-[0_0_15px_rgba(245,158,11,0.2)]",G&&"border-dashed border-slate-500 opacity-80"),children:[v.jsx("div",{className:"w-full h-full flex items-center justify-center text-center relative z-10",children:v.jsx("div",{className:"w-full h-full flex items-center justify-center p-1",onClick:Et=>{G&&(Et.stopPropagation(),Vo(Ie))},children:v.jsx("span",{className:Ot("leading-tight break-words w-full",F.isFreeSpace?"text-lg font-bold text-accent-gold":"font-semibold line-clamp-3 sm:line-clamp-4",F.isCompleted&&!F.isFreeSpace&&"text-white"),style:!F.isFreeSpace&&!F.isCompleted?{color:F.style?.color||"#cbd5e1",fontWeight:F.style?.bold?"bold":"600",fontStyle:F.style?.italic?"italic":"normal",fontSize:F.style?.fontSize==="sm"?"12px":F.style?.fontSize==="lg"?"18px":F.style?.fontSize==="xl"?"22px":void 0}:void 0,children:F.text})})}),F.proofPhotos&&F.proofPhotos.length>0&&v.jsx("div",{className:"absolute top-1 right-1 z-20 text-white drop-shadow-[0_1px_2px_rgba(0,0,0,0.8)]",title:"Has photos",children:v.jsx(ey,{size:de>=5?10:14,className:"opacity-90"})}),F.dueDate&&!F.isCompleted&&!y&&v.jsxs("div",{className:Ot("flex items-center gap-1 mt-1 text-[10px] font-medium absolute bottom-1 right-1 px-1 rounded bg-black/40 backdrop-blur-sm",(F.dueDate.toDate?F.dueDate.toDate():new Date(F.dueDate))<new Date?"text-red-400":"text-slate-400"),children:[v.jsx(k9,{size:8}),v.jsx("span",{children:(F.dueDate.toDate?F.dueDate.toDate():new Date(F.dueDate)).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),F.isCompleted&&!F.isFreeSpace&&!G&&v.jsxs(v.Fragment,{children:[v.jsx(Ke.div,{initial:{scale:0},animate:{scale:1},className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-20",children:v.jsx(mr,{className:"w-12 h-12 text-white"})}),v.jsx("div",{className:"absolute top-0.5 right-0.5 w-1.5 h-1.5 bg-accent-primary rounded-full shadow-[0_0_5px_rgba(139,92,246,0.8)]"}),F.proofPhotos&&F.proofPhotos.length>0&&v.jsxs("div",{className:"absolute bottom-0.5 left-0.5 p-0.5 bg-accent-gold/80 rounded-sm flex items-center gap-0.5",children:[v.jsx(ey,{className:"w-2.5 h-2.5 text-black"}),F.proofPhotos.length>1&&v.jsx("span",{className:"text-[8px] font-bold text-black",children:F.proofPhotos.length})]})]}),!F.isFreeSpace&&!G&&(F.targetCount||1)>1&&v.jsxs("div",{className:Ot("absolute bottom-0.5 right-0.5 px-1 py-0.5 rounded text-[8px] font-bold",F.isCompleted?"bg-green-500/80 text-white":(F.currentCount||0)>0?"bg-amber-500/80 text-white":"bg-slate-600/80 text-slate-300"),children:[F.currentCount||0,"/",F.targetCount]})]},F.id))})})}),v.jsx("div",{className:"flex justify-center",children:v.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[520px] glass-panel p-4 flex flex-col gap-4",children:[v.jsxs("div",{className:"w-full",children:[v.jsxs("div",{className:"flex justify-between text-xs text-slate-300 mb-1.5 px-1",children:[v.jsx("span",{className:"font-semibold",children:"Progress"}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("span",{className:"font-mono text-accent-gold font-bold",children:[p,"/",de*2+2," Bingos"]}),v.jsxs("span",{className:"font-mono text-accent-primary",children:[Math.round(Hn),"%"]})]})]}),v.jsx("div",{className:"h-3 bg-bg-dark/50 rounded-full overflow-hidden border border-white/5",children:v.jsx(Ke.div,{className:"h-full bg-gradient-to-r from-accent-primary to-accent-secondary relative",initial:{width:0},animate:{width:`${Hn}%`},transition:{duration:1,ease:"easeOut"},children:v.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[1px] bg-white/50 shadow-[0_0_10px_white]"})})})]}),v.jsx("div",{className:"flex justify-center gap-2",children:G?v.jsx(v.Fragment,{children:v.jsxs("div",{className:"flex gap-2 w-full",children:[v.jsx("button",{onClick:()=>K(!1),className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10 transition-all",children:"Cancel"}),v.jsxs("button",{onClick:()=>{C(ne),K(!1)},className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 transition-all flex items-center justify-center gap-2",children:[v.jsx(mr,{size:16}),"Save Changes"]})]})}):v.jsxs("div",{className:"flex gap-2 justify-center w-full flex-wrap",children:[!y&&v.jsxs(v.Fragment,{children:[v.jsxs("button",{onClick:()=>{pe([...a]),K(!0)},className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[v.jsx(ty,{size:12}),"Edit Board"]}),v.jsxs("button",{onClick:()=>{be(),ze(!0)},className:"flex-1 py-2 px-4 text-xs font-bold text-white bg-gradient-to-r from-accent-primary to-accent-secondary hover:shadow-lg hover:shadow-accent-primary/20 transition-all rounded-lg flex items-center justify-center gap-2 min-w-[120px]",children:[v.jsx(xE,{size:14}),"Go Live "]})]}),v.jsxs("button",{onClick:()=>window.print(),className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[v.jsx($9,{size:12}),"Print Status"]})]})})]})}),v.jsx(qi,{children:m&&!hi&&v.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:v.jsxs(Ke.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center max-w-sm w-full relative overflow-hidden border-accent-gold/30",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent-gold/10 to-transparent pointer-events-none"}),v.jsx(Ke.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"inline-block",children:v.jsx(vE,{className:"w-20 h-20 text-accent-gold mx-auto mb-4 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),v.jsx("h2",{className:"text-4xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-accent-gold via-white to-accent-secondary mb-2",children:"BINGO!"}),v.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"2026 is off to an amazing start!"}),v.jsx("button",{onClick:ac,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-[0_0_20px_rgba(139,92,246,0.4)] transition-all transform hover:scale-105",children:"Keep Playing"})]})})}),v.jsx(qi,{children:ge&&v.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:()=>fe(!1),children:v.jsxs(Ke.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-gold/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl relative overflow-hidden",onClick:F=>F.stopPropagation(),children:[v.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Edit Tile"}),v.jsx("div",{className:"mb-4 flex justify-center",children:v.jsx("div",{className:"w-32 h-32 rounded-lg bg-bg-card/80 border border-white/10 flex items-center justify-center p-2 text-center overflow-hidden",children:v.jsx("span",{className:Ot("font-hand font-semibold leading-tight break-words"),style:{color:Be.color||"#ffffff",fontWeight:Be.bold?"bold":"600",fontStyle:Be.italic?"italic":"normal",fontSize:Be.fontSize==="sm"?"12px":Be.fontSize==="lg"?"18px":Be.fontSize==="xl"?"22px":"16px"},children:ln||"Preview Text"})})}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Content"}),v.jsx("textarea",{className:"w-full bg-black/20 text-white rounded-lg p-3 border border-white/10 focus:border-accent-primary outline-none min-h-[80px]",value:ln,onChange:F=>ot(F.target.value),placeholder:"Enter bingo task..."})]}),v.jsxs("div",{className:"mb-6 space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Color"}),v.jsx("div",{className:"flex gap-2 flex-wrap",children:["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#ec4899","#a855f7"].map(F=>v.jsx("button",{className:Ot("w-6 h-6 rounded-full border border-white/10 transition-transform active:scale-90",Be.color===F&&"ring-2 ring-white scale-110"),style:{backgroundColor:F},onClick:()=>Vn(Ie=>({...Ie,color:F}))},F))})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),v.jsx("div",{className:"flex bg-black/20 rounded-lg p-1",children:["sm","base","lg","xl"].map(F=>v.jsx("button",{onClick:()=>Vn(Ie=>({...Ie,fontSize:F})),className:Ot("flex-1 py-1 text-[10px] font-bold rounded transition-colors uppercase",(Be.fontSize||"base")===F?"bg-accent-primary text-white":"text-slate-400 hover:text-white"),children:F==="base"?"M":F},F))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Style"}),v.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-lg p-1",children:[v.jsx("button",{onClick:()=>Vn(F=>({...F,bold:!F.bold})),className:Ot("w-8 h-full rounded flex items-center justify-center font-bold transition-colors",Be.bold?"bg-white text-black":"text-slate-400 hover:text-white"),children:"B"}),v.jsx("button",{onClick:()=>Vn(F=>({...F,italic:!F.italic})),className:Ot("w-8 h-full rounded flex items-center justify-center italic transition-colors font-serif",Be.italic?"bg-white text-black":"text-slate-400 hover:text-white"),children:"I"})]})]})]})]}),v.jsxs("div",{className:"space-y-4 mb-6 pt-4 border-t border-white/10",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Repeat Goal"}),v.jsx("input",{type:"number",min:"1",max:"100",value:Rr,onChange:F=>Ks(parseInt(F.target.value)||1),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors"}),v.jsx("p",{className:"text-xs text-slate-500",children:"How many times should this be completed?"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Due Date (Optional)"}),v.jsx("input",{type:"date",value:zt,onChange:F=>oi(F.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors [color-scheme:dark]"})]})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>fe(!1),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),v.jsx("button",{onClick:Ri,className:"flex-1 py-3 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl font-bold text-white shadow-lg hover:shadow-violet-500/25 active:scale-95 transition-all",children:"Ok"})]})]})})}),v.jsx(qi,{children:Mo&&En!==null&&v.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{Tn(!1),vt(null)},children:v.jsx(Ke.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-primary/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl max-h-[90vh] overflow-y-auto no-scrollbar",onClick:F=>F.stopPropagation(),children:(()=>{const F=di[En],Ie=F?.targetCount||1,Et=F?.currentCount||0,St=Ie>1,bt=Et>0;return v.jsxs(v.Fragment,{children:[v.jsx("h3",{className:"text-xl font-bold text-white mb-2 text-center",children:F.isCompleted?"Tile Details":bt?"Add Progress":"Complete Task"}),v.jsxs("p",{className:"text-slate-300 text-sm text-center mb-4 line-clamp-3 italic",children:["",F?.text,""]}),St&&v.jsx("div",{className:"text-center mb-4",children:v.jsxs("span",{className:Ot("inline-block px-3 py-1 rounded-full text-sm font-bold",bt?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"),children:["Progress: ",Et," / ",Ie]})}),F.proofPhotos&&F.proofPhotos.length>0&&v.jsxs("div",{className:"mb-6 bg-black/20 p-3 rounded-xl border border-white/5",children:[v.jsx("label",{className:"text-xs text-slate-400 mb-2 block font-semibold uppercase tracking-wider",children:"Attached Photos"}),v.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:F.proofPhotos.map((Wt,An)=>v.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0 group rounded-lg overflow-hidden border border-white/10 touch-none select-none",onContextMenu:Xt=>Xt.preventDefault(),onTouchStart:Xt=>{const Ni=Xt.currentTarget,kr=setTimeout(()=>{navigator.vibrate&&navigator.vibrate(50),window.confirm("Delete this photo?")&&H(En,An)},800);Ni.dataset.timer=String(kr)},onTouchEnd:Xt=>{const Ni=Number(Xt.currentTarget.dataset.timer);Ni&&clearTimeout(Ni),Xt.currentTarget.dataset.timer=""},onTouchMove:Xt=>{const Ni=Number(Xt.currentTarget.dataset.timer);Ni&&clearTimeout(Ni),Xt.currentTarget.dataset.timer=""},children:[v.jsx("img",{src:Wt,alt:"",className:"w-full h-full object-cover pointer-events-none"}),v.jsx("button",{onClick:async Xt=>{Xt.stopPropagation(),window.confirm("Delete this photo?")&&await H(En,An)},className:"absolute top-1 right-1 bg-red-500/90 p-1.5 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 shadow-md",children:v.jsx(af,{size:12})})]},An))})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx("input",{type:"file",accept:"image/*",ref:qn,className:"hidden",onChange:async Wt=>{const An=Wt.target.files?.[0];if(An&&En!==null){li(!0);try{Ei==="complete"?await V(En,An):await j(En,An),Tn(!1),vt(null)}catch{alert("Failed to upload photo.")}finally{li(!1),Wt.target.value=""}}}}),v.jsxs("button",{onClick:()=>{ys("add"),setTimeout(()=>qn.current?.click(),0)},disabled:pn,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-blue-500/25 active:scale-95 transition-all disabled:opacity-50",children:[v.jsx(ey,{size:20}),pn&&Ei==="add"?"Uploading...":"Add Photo (Keep Status)"]}),!F.isCompleted&&v.jsxs("button",{onClick:()=>{ys("complete"),setTimeout(()=>qn.current?.click(),0)},disabled:pn,className:"w-full py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-amber-500/25 active:scale-95 transition-all disabled:opacity-50",children:[v.jsx(mr,{size:20}),pn&&Ei==="complete"?"Uploading...":St?"Add Photo & +1":"Add Photo & Complete"]}),v.jsxs("button",{onClick:()=>{d(En),Tn(!1),vt(null)},disabled:pn,className:Ot("w-full py-3 px-4 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-all disabled:opacity-50",F.isCompleted?"bg-slate-700 hover:bg-slate-600":"bg-gradient-to-r from-green-600 to-emerald-600 hover:shadow-green-500/25"),children:[F.isCompleted?v.jsx(Vs,{size:20}):v.jsx(mr,{size:20}),F.isCompleted?"Mark Incomplete":St?`Mark +1 (${Et+1}/${Ie})`:"Mark Complete"]}),bt&&!F.isCompleted&&v.jsxs("button",{onClick:()=>{W(En),Tn(!1),vt(null)},disabled:pn,className:"w-full py-2 rounded-xl font-semibold text-red-400 hover:bg-red-500/10 transition-colors disabled:opacity-50",children:["Remove Progress (",Et-1,"/",Ie,")"]}),v.jsx("button",{onClick:()=>{Tn(!1),vt(null)},disabled:pn,className:"w-full py-3 rounded-xl font-semibold bg-white/5 text-slate-400 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"})]})]})})()})})}),v.jsx(qi,{children:rc&&wt&&wt.proofPhotos&&wt.proofPhotos.length>0&&v.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{_s(!1),ci(null),Ai(null)},children:v.jsxs(Ke.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-lg w-full",onClick:F=>F.stopPropagation(),children:[v.jsx("button",{onClick:()=>{_s(!1),ci(null),Ai(null)},className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors z-10",children:v.jsx(Vs,{size:28})}),v.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[v.jsxs("div",{className:"relative bg-black",children:[v.jsx("img",{src:wt.proofPhotos[Wi],alt:`Proof photo ${Wi+1}`,className:"w-full h-auto max-h-[50vh] object-contain"}),wt.proofPhotos.length>1&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>Xi(F=>F>0?F-1:wt.proofPhotos.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:v.jsx(mR,{size:24})}),v.jsx("button",{onClick:()=>Xi(F=>F<wt.proofPhotos.length-1?F+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:v.jsx(pR,{size:24})})]}),v.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/60 rounded-full text-white text-xs font-medium",children:[Wi+1," / ",wt.proofPhotos.length]})]}),wt.proofPhotos.length>1&&v.jsx("div",{className:"flex gap-1 p-2 bg-bg-dark/80 overflow-x-auto",children:wt.proofPhotos.map((F,Ie)=>v.jsx("button",{onClick:()=>Xi(Ie),className:Ot("w-12 h-12 rounded-md overflow-hidden border-2 flex-shrink-0 transition-all",Wi===Ie?"border-accent-primary":"border-transparent opacity-60 hover:opacity-100"),children:v.jsx("img",{src:F,alt:"",className:"w-full h-full object-cover"})},Ie))}),v.jsxs("div",{className:"p-4 bg-bg-dark/95",children:[v.jsx("p",{className:"text-white font-semibold mb-1",children:wt.text}),v.jsxs("p",{className:"text-slate-400 text-xs mb-4",children:["Completed by ",wt.completedBy,"  ",Sn(wt.completedAt)]}),v.jsx("div",{className:"flex gap-2 justify-center pb-1",children:["","","","","",""].map(F=>v.jsx("button",{onClick:()=>{ui!==null&&(N(ui,F),be())},className:"text-2xl hover:scale-125 transition-transform p-2 rounded-full hover:bg-white/10 active:scale-95",title:"React",children:F},F))})]})]}),v.jsxs("div",{className:"mt-4 flex gap-3 justify-center",children:[v.jsxs("button",{onClick:async()=>{window.confirm("Delete this photo?")&&(await H(ui,Wi),wt?.proofPhotos?.length===1?_s(!1):Xi(0))},className:"flex-1 py-3 bg-red-500/10 text-red-400 rounded-xl font-semibold hover:bg-red-500/20 flex items-center justify-center gap-2",children:[v.jsx(af,{size:20}),"Delete Photo"]}),v.jsxs("button",{onClick:()=>xs.current?.click(),className:"flex-1 py-3 bg-white/10 text-white rounded-xl font-semibold hover:bg-white/20 flex items-center justify-center gap-2",children:[v.jsx(Lu,{size:20}),"Add Photo"]})]}),v.jsx("button",{onClick:()=>{const F=a.findIndex(Ie=>Ie.id===wt.id);F!==-1&&d(F),_s(!1),ci(null),Ai(null)},className:"mt-2 w-full py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Mark as In Progress"})]})})}),v.jsx(qi,{children:cn&&bs&&v.jsxs(Ke.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-slate-900 border border-white/20 text-white px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4",children:[v.jsxs("span",{children:["Marked as ",bs.wasCompleted?"incomplete":"complete"]}),v.jsx("button",{onClick:()=>{d(bs.index),wn(!1)},className:"font-bold text-accent-primary hover:text-white transition-colors",children:"Undo"}),v.jsx("button",{onClick:()=>wn(!1),className:"text-slate-400 hover:text-white",children:v.jsx(Vs,{size:16})})]})}),v.jsx(qi,{children:Si&&v.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:v.jsxs(Ke.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-slate-900 border border-white/20 rounded-3xl p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 pointer-events-none",children:v.jsx(vE,{className:"w-32 h-32 text-accent-gold rotate-12"})}),v.jsxs("div",{className:"relative z-10 text-center",children:[v.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Welcome! "}),v.jsxs("p",{className:"text-slate-400 mb-8 h-12",children:[xn===0&&"Tap any tile to mark it as complete.",xn===1&&"Start 'Edit Mode' to add your own tasks.",xn===2&&"Invite friends to play together!"]}),v.jsx("div",{className:"flex justify-center mb-8",children:v.jsx("div",{className:"w-32 h-32 bg-black/40 rounded-2xl border border-white/10 flex items-center justify-center relative",children:v.jsxs(qi,{mode:"wait",children:[xn===0&&v.jsxs(Ke.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center",children:[v.jsx("div",{className:"w-16 h-16 bg-accent-primary/20 rounded-lg border border-accent-primary flex items-center justify-center",children:v.jsx(mr,{className:"w-8 h-8 text-white"})}),v.jsx(Ke.div,{animate:{scale:[1,1.2,1],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5},className:"absolute w-20 h-20 rounded-full border-2 border-white/50"})]},"step0"),xn===1&&v.jsx(Ke.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:v.jsx(ty,{className:"w-12 h-12 text-blue-400"})},"step1"),xn===2&&v.jsx(Ke.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:v.jsx(rf,{className:"w-12 h-12 text-green-400"})},"step2")]})})}),v.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[0,1,2].map(F=>v.jsx("div",{className:Ot("w-2 h-2 rounded-full transition-colors",F===xn?"bg-white":"bg-white/20")},F))}),v.jsx("button",{onClick:Ir,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-slate-200 transition-colors",children:xn===2?"Let's Play!":"Next"})]})]})})})]}),v.jsxs("div",{className:"only-print hidden",children:[v.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-black pb-2",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("img",{src:"/logo.png",className:"h-12 w-auto",alt:"Logo"}),v.jsx("h1",{className:"text-2xl font-bold",children:ue||"2026 Edition"})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("p",{className:"text-xs uppercase tracking-widest mb-0.5",children:["Status Report (",de,"",de,")"]}),v.jsxs("p",{className:"text-xl font-bold",children:[p," / ",de*2+2," Bingos"]})]})]}),v.jsx("div",{className:`grid gap-0 border-2 border-black ${de===3?"grid-cols-3":de===4?"grid-cols-4":de===5?"grid-cols-5":"grid-cols-6"}`,children:a.map(F=>v.jsxs("div",{className:"aspect-square border border-black p-1.5 flex flex-col justify-between relative overflow-hidden min-h-[80px]",children:[v.jsx("div",{className:`font-bold leading-tight z-10 ${de>=5?"text-[10px]":"text-[11px]"}`,children:F.text}),F.isCompleted&&!F.isFreeSpace&&v.jsxs("div",{className:"mt-0.5 relative z-10",children:[v.jsx("div",{className:"text-[7px] uppercase font-bold text-slate-700",children:"Completed by:"}),v.jsx("div",{className:"text-[9px] font-mono font-bold leading-none",children:F.completedBy||"User"}),v.jsx("div",{className:"text-[7px] text-slate-600 mt-0.5",children:Sn(F.completedAt)})]}),F.isCompleted&&v.jsx("div",{className:"absolute bottom-1 right-1 text-3xl font-bold text-slate-200 opacity-60 pointer-events-none z-0",children:""}),F.isFreeSpace&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-xl rotate-[-45deg] opacity-20",children:"FREE"})]},F.id))}),v.jsxs("div",{className:"mt-4 text-[9px] text-center border-t border-black pt-2 flex justify-between text-slate-500",children:[v.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),v.jsx("span",{children:"bingo.mysunsar.com"})]})]}),v.jsx(dB,{items:a,isOpen:Zi,onClose:()=>ja(!1)}),Ae&&v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>Re(!1)}),v.jsxs("div",{className:"relative w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[v.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[v.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[v.jsx(rf,{className:"w-5 h-5 text-accent-primary"}),"Shared With"]}),v.jsx("button",{onClick:()=>Re(!1),className:"text-slate-400 hover:text-white",children:v.jsx(Vs,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"p-6",children:[Ve.length===0?v.jsx("div",{className:"text-center text-slate-400 py-8",children:v.jsx("p",{children:"This board hasn't been shared yet."})}):v.jsx("div",{className:"space-y-4 mb-6",children:Ve.map(F=>v.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-3 rounded-xl border border-white/5",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:F.name.charAt(0)}),v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-semibold text-white",children:F.name}),v.jsxs("div",{className:"text-xs text-slate-400",children:[F.email,"  ",F.role]})]})]}),v.jsx("button",{onClick:()=>Pt(F.id,F.name),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove User",children:v.jsx(af,{size:16})})]},F.id))}),v.jsxs("button",{onClick:Do,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all flex items-center justify-center gap-2",children:[v.jsx(Lu,{size:18}),"Invite New User"]})]})]})]}),Ye&&v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>ze(!1)}),v.jsxs("div",{className:"relative w-full max-w-sm bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[v.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center bg-gradient-to-r from-accent-primary/10 to-accent-secondary/10",children:[v.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[v.jsx(xE,{className:"w-5 h-5 text-accent-primary"}),"Ready to Go Live?"]}),v.jsx("button",{onClick:()=>ze(!1),className:"text-slate-400 hover:text-white",children:v.jsx(Vs,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"p-6",children:[v.jsxs("p",{className:"text-slate-300 mb-6 leading-relaxed",children:["Going live will ",v.jsx("strong",{children:"lock the board"})," for play mode. You won't be able to edit items easily anymore."]}),v.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mb-6 cursor-pointer hover:bg-white/10 transition-colors",onClick:()=>xt(!Ge),children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:`mt-1 w-5 h-5 rounded border flex items-center justify-center transition-colors ${Ge?"bg-accent-primary border-accent-primary":"border-slate-500"}`,children:Ge&&v.jsx(mr,{size:14,className:"text-white"})}),v.jsxs("div",{children:[v.jsx("div",{className:"font-semibold text-white",children:"Shuffle Items?"}),v.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Randomize the grid arrangement one last time before locking."})]})]})}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>ze(!1),className:"flex-1 py-3 bg-slate-800 text-slate-300 font-bold rounded-xl hover:bg-slate-700 transition-colors",children:"Cancel"}),v.jsxs("button",{onClick:Nr,className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary text-white font-bold rounded-xl hover:shadow-lg hover:shadow-accent-primary/20 transition-all flex items-center justify-center gap-2",children:[v.jsx(V9,{size:16}),"Lock & Play"]})]})]})]})]})]})})},ho=({className:t,...e})=>v.jsx("div",{className:Ot("skeleton-glass",t),...e}),mB=()=>{const{user:t,logout:e}=Jl(),n=xR(),{openSettings:s}=ch(),a=zu(),[l,u]=I.useState([]),[d,m]=I.useState(!0),[p,y]=I.useState(!1),[b,w]=I.useState(null),[C,V]=I.useState(5),[j,N]=I.useState(null),[H,W]=I.useState(""),Y=(P,D)=>{P.preventDefault(),P.stopPropagation(),N(D.id),W(D.title)},me=async P=>{if(P.preventDefault(),P.stopPropagation(),!!j){try{await jn(hs(Kn,"boards",j),{title:H}),u(D=>D.map(be=>be.id===j?{...be,title:H}:be))}catch(D){console.error("Error updating title:",D)}N(null)}},ue=P=>{P.preventDefault(),P.stopPropagation(),N(null)},de=P=>{P.key==="Enter"?me(P):P.key==="Escape"?(P.stopPropagation(),N(null)):P.stopPropagation()},k=[{size:3,label:"33",description:"Quick (9 tiles)",icon:""},{size:4,label:"44",description:"Compact (16 tiles)",icon:""},{size:5,label:"55",description:"Classic (25 tiles)",icon:""},{size:6,label:"66",description:"Extended (36 tiles)",icon:""}],S={blank:{name:"Blank Canvas ",items:[]},default:{name:"2026 Goals ",items:["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"]},fitness:{name:"Fitness Challenge ",items:["Run a 5k","Do 50 pushups in a row","Try a yoga class","Drink 3L water for a week","No sugar for 7 days","Go for a hike","Meal prep for a week","Climb a bouldering wall","Try Pilates","Walk 15k steps in a day","Do a spin class","Bike 20km","FREE SPACE","Touch your toes","Hold a plank for 2 min","Try CrossFit","Go swimming","Meditate for 10 mins x 7","Try a new sport","Sleep 8 hours x 5 days","Do 100 squats","Run a 10k","Go to the gym 4x in a week","Stretch daily for a week","Join a run club"]},couples:{name:"Couple Goals ",items:["Date night (no phones)","Cook a meal together","Weekend getaway","Watch a whole series","Breakfast in bed","Go for a long walk","Plan a future trip","Give each other massages","Recreate first date","Take a dance class","Stargazing date","Write love letters","FREE SPACE","Visit a winery/brewery","Do a puzzle together","Double date","Sunset picnic","Bake something sweet","Volunteer together","Learn a couple's skill","Game night","Make a photo album","Try a new restaurant","Surprise gift","Kiss in the rain"]},personal:{name:"Personal Growth ",items:["Read 1 book/month","Learn a new language","Start a journal","Digital detox (24h)","Meditate daily (1 week)","Drink 2L water daily","Wake up at 6am (1 week)","Declutter a room","Learn to invest","Take a solo trip","Volunteer","Compliment a stranger","FREE SPACE","No social media (weekend)","Learn an instrument","Cook a new cuisine","Write a gratitude list","Take a cold shower","Listen to a podcast","Fix sleep schedule","Walk 10k steps","Call an old friend","Create a vision board","Save 10% income","Take a course"]},knitting:{name:"Knitting Goals ",items:["Finish a WIP","Cast on a sweater","Learn brioche","Knit socks","Stash bust project","Try colorwork","Knit a hat","Use luxury yarn","Fix a mistake","Knit a gift","Block a project","Organize needles","FREE SPACE","Try a new fiber","Knit in public","Attend a knit night","Learn magic loop","Design a pattern","Teach someone to knit","Finish a blanket","Knit a shawl","Try cables","Buy souvenir yarn","Weave in ends immediately","Knit a gauge swatch"]},weaving:{name:"Weaving Goals ",items:["Warp the loom","Weave a rug","Try a new structure","Sample a pattern","Use handspun yarn","Finish a scarf","Hemstitching","Fix a broken warp","Weave a towel","Try tapestry","Mix fibers","Organize yarn stash","FREE SPACE","Weave a placemat","Attend a workshop","Try doublewidth","Weave transparency","Calculate warp correctly","Finish raw edges","Weave with rags","Try tablet weaving","Rigid heddle project","Floor loom project","Visit a mill","Share a project online"]},spinning:{name:"Spinning Goals ",items:["Spin 100g fiber","Ply a yarn","Try a new breed","Spin lace weight","Spin art yarn","Comb fleece","Card a batt","Spin on a drop spindle","Clean the wheel","Spin distinct colors","Skein and wash","Fractal spin","FREE SPACE","Spin silk","Spin cotton","Navajo ply","Spin for a project","Participate in Tour de Fleece","Sample a blend","Teach spinning","Spin consistent grist","Dye fiber","Blend colors on hackle","Spin exotic fiber","Fill a bobbin"]},painting:{name:"Painting Goals ",items:["Paint a landscape","Try watercolors","Paint a portrait","Mix a new color","Paint en plein air","Visit a gallery","Finish a sketchbook","Try oils","Paint a still life","Use a palette knife","Paint an animal","Try abstract","FREE SPACE","Clean brushes properly","Paint on canvas","Paint on wood","Follow a tutorial","Paint a sky","Try gouache","Varnish a painting","Frame a piece","Paint daily for a week","Recreate a master","Paint a self-portrait","Host a paint night"]},corporate:{name:"Corporate Bingo ",items:['"Circle back"',`"Let's take this offline"`,"Meeting that could be an email",'"Synergy"','"Low hanging fruit"','"Touch base"',"Someone forgets to mute","Screen share fails",'"Can you see my screen?"',"Awkward silence",'"Bandwidth"','"Deep dive"',"FREE SPACE","Pet interrupts video call","Echo on the line",'"Per my last email"','"Drill down"','"Out of pocket"','"Hard stop"','"Boil the ocean"',"Reply All disaster",'"Move the needle"','"Blue sky thinking"','"Paradigm shift"','"Quick win"']},travel:{name:"Travel Bucket List ",items:["Visit a new continent","Go on a solo trip","See the Northern Lights","Swim in an ocean","Road trip across 3 states","Fly First Class","Visit a National Park","Eat street food","Stay in a hostel","Learn 'Hello' in 5 languages","Visit a Wonder of the World","Go on a cruise","FREE SPACE","Make a travel vlog","Sleep under the stars","Visit a castle","Ride a train","See a volcano","Go scuba diving","Watch a sunrise on a mountain","Visit a winery","Ride a camel/elephant","Go skiing/snowboarding","Visit a tropical island","Send a postcard"]}};I.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching boards for user:",t.uid,t.email);const D=new Map;try{const K=kf(El(Kn,"boards"),Df(`members.${t.uid}`,"in",["owner","editor","viewer"])),O=await bu(K);console.log("Boards with membership found:",O.docs.length),O.docs.forEach(T=>{const L=T.data(),Q=L.members?.[t.uid],ne=L.members||{},pe=Object.values(ne).filter(ge=>ge!=="owner").length;D.set(T.id,{id:T.id,...L,sharedCount:pe,myRole:Q,members:ne})})}catch(K){console.error("Error querying boards by membership:",K)}try{const K=kf(El(Kn,"years"),Df("ownerId","==",t.uid)),O=await bu(K);console.log("Legacy boards (years collection) found:",O.docs.length),O.docs.forEach(T=>{const L=T.data();D.set(`legacy_${T.id}`,{id:T.id,title:L.title||"2026 Bingo",createdAt:L.createdAt,isLocked:L.isLocked,ownerId:L.ownerId,myRole:"owner",members:{}})})}catch(K){console.log("Years collection query failed:",K)}try{const K=await bu(El(Kn,"years"));console.log("All years docs:",K.docs.length),K.docs.forEach(O=>{const T=O.data();if(T.ownerId===t.uid||T.members?.[t.uid]){const L=`legacy_years_${O.id}`;D.has(L)||D.set(L,{id:O.id,title:T.title||`${O.id} Bingo`,createdAt:T.createdAt,isLocked:T.isLocked,ownerId:T.ownerId,myRole:T.ownerId===t.uid?"owner":T.members?.[t.uid]||"viewer",members:T.members||{}})}})}catch(K){console.log("Direct years fetch failed:",K)}const be=Array.from(D.values()),xe=new Set;be.forEach(K=>{K.myRole!=="owner"&&(K.ownerId&&K.ownerId!==t.uid&&xe.add(K.ownerId),K.members&&Object.entries(K.members).forEach(([O,T])=>{T==="owner"&&O!==t.uid&&xe.add(O)}))});const J=Array.from(xe),X={};for(const K of J)try{const O=await ih(hs(Kn,"users",K));if(O.exists()){const T=O.data();X[K]=T.displayName||T.email||"Unknown"}}catch{console.log("Could not fetch owner info for:",K)}const G=be.map(K=>{let O=K.ownerId;if(K.members){const T=Object.keys(K.members).find(L=>K.members[L]==="owner"&&L!==t.uid);T&&(O=T)}return K.myRole!=="owner"&&O&&X[O]?{...K,ownerName:X[O]}:K});console.log("Total boards to display:",G.length,G.map(K=>K.title)),u(G)}catch(D){console.error("Error fetching boards:",D)}finally{m(!1)}})()},[t]);const M=async P=>{if(!t)return;const D=S[P],be=C,xe=be*be,J=be%2===1?Math.floor(xe/2):-1,X=be%2===1?xe-1:xe,G=await n.prompt("What would you like to call this board?",{title:"Board Title",inputDefaultValue:D.name,confirmText:"Create"});if(G)try{const K=D.items.filter(ne=>ne.trim().toUpperCase()!=="FREE SPACE"&&ne!=="FREE SPACE"),O=[...K].sort(()=>.5-Math.random());for(;O.length<X;)O.push(K[O.length%K.length]||`Goal ${O.length+1}`);const T=[];let L=0;for(let ne=0;ne<xe;ne++)ne===J&&be%2===1?T.push({id:ne,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(T.push({id:ne,text:O[L],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),L++);const Q=await w2(El(Kn,"boards"),{title:G,gridSize:be,ownerId:t.uid,members:{[t.uid]:"owner"},items:T,createdAt:Le.now(),isLocked:!1,lastUpdated:Le.now()});a(`/board/${Q.id}`)}catch(K){console.error("Error creating board:",K),await n.alert("Failed to create board. Please try again.",{title:"Error",type:"error"})}finally{y(!1),w(null),V(5)}};if(d)return v.jsx("div",{className:"min-h-screen bg-transparent p-6 relative",children:v.jsxs("div",{className:"max-w-6xl mx-auto",children:[v.jsxs("header",{className:"flex justify-between items-center mb-12 py-2",children:[v.jsx(ho,{className:"h-10 w-32 md:w-40"}),v.jsxs("div",{className:"flex gap-2 items-center",children:[v.jsx(ho,{className:"w-10 h-10 rounded-full"}),v.jsx(ho,{className:"w-10 h-10 rounded-full"}),v.jsx(ho,{className:"w-20 h-10 rounded-xl"})]})]}),v.jsxs("div",{className:"mb-10",children:[v.jsx(ho,{className:"h-12 w-64 mb-3 rounded-lg"}),v.jsx(ho,{className:"h-6 w-48 rounded-md"})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((P,D)=>v.jsx(ho,{className:"h-48 rounded-2xl"},D))})]})});const z=async(P,D,be)=>{if(P.stopPropagation(),await n.confirm(`This will permanently delete "${be}" and all its data.

This action cannot be undone.`,{title:"Delete Board?",confirmText:"Delete",type:"error"}))try{await x2(hs(Kn,"boards",D)),u(J=>J.filter(X=>X.id!==D)),await n.alert("Board deleted successfully.",{title:"Deleted",type:"success"})}catch(J){console.error("Error deleting board:",J),await n.alert("Failed to delete board. Please try again.",{title:"Error",type:"error"})}},B=async(P,D,be)=>{if(P.stopPropagation(),!t)return;if(await n.confirm(`You will no longer have access to "${be}".

You can ask the owner to re-share it if needed.`,{title:"Leave Board?",confirmText:"Leave",type:"warning"}))try{await jn(hs(Kn,"boards",D),{[`members.${t.uid}`]:Nf()}),u(J=>J.filter(X=>X.id!==D)),await n.alert("You have left the board.",{title:"Left Board",type:"success"})}catch(J){console.error("Error leaving board:",J),await n.alert("Failed to leave board. Please try again.",{title:"Error",type:"error"})}};return v.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 relative",children:[v.jsxs("div",{className:"max-w-6xl mx-auto",children:[v.jsxs("header",{className:"flex justify-between items-center mb-12 py-2",children:[v.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-10 sm:h-12 w-auto object-contain cursor-pointer active:scale-95 transition-transform"}),v.jsxs("div",{className:"flex gap-2 items-center",children:[v.jsx("button",{onClick:()=>a("/help"),className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Help Guide",children:v.jsx(gR,{size:20})}),v.jsx("button",{onClick:s,className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Settings",children:v.jsx(bR,{size:20})}),v.jsx("button",{onClick:e,className:"bg-white/5 hover:bg-white/10 px-4 py-2 rounded-xl text-sm font-semibold transition-colors border border-white/10 hover:border-white/20",children:"Logout"})]})]}),v.jsxs("div",{className:"mb-10",children:[v.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:["My ",v.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent italic",children:"Boards"})]}),v.jsxs("p",{className:"text-slate-400 mt-2 text-base sm:text-lg",children:["Welcome back, ",v.jsx("span",{className:"text-accent-primary font-medium",children:t?.displayName?.split(" ")[0]||"Bingo Player"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[v.jsxs("button",{onClick:()=>y(!0),className:"create-card group relative flex flex-col items-center justify-center h-48 rounded-2xl transition-all cursor-pointer shadow-2xl",children:[v.jsx("div",{className:"relative z-10 w-14 h-14 rounded-full bg-gradient-to-br from-accent-primary to-accent-secondary flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-[0_0_20px_rgba(139,92,246,0.5)]",children:v.jsx(Lu,{className:"w-7 h-7 text-white"})}),v.jsx("span",{className:"relative z-10 font-bold text-lg text-white group-hover:text-white transition-colors tracking-wide",children:"Create New Board"})]}),l.filter(P=>P.myRole==="owner").map(P=>{const be=P.id==="2026"||!P.ownerId?`/board/legacy/${P.id}`:`/board/${P.id}`;return v.jsxs("div",{onClick:xe=>{xe.preventDefault(),console.log("Navigating to board:",be),a(be)},className:"dashboard-card group relative h-48 rounded-2xl p-6 flex flex-col justify-between cursor-pointer overflow-hidden active:scale-[0.99]",children:[v.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:v.jsx("button",{onClick:xe=>z(xe,P.id,P.title),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Delete Board",children:v.jsx(af,{size:18})})}),v.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"h-7 mb-2",children:!!P.sharedCount&&P.sharedCount>0&&v.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:[v.jsx(dz,{size:10}),"Shared with ",P.sharedCount]})}),j===P.id?v.jsxs("div",{className:"flex items-center gap-2 mb-1.5 z-30 relative",onClick:xe=>xe.stopPropagation(),children:[v.jsx("input",{type:"text",value:H,onChange:xe=>W(xe.target.value),onKeyDown:de,onClick:xe=>xe.stopPropagation(),autoFocus:!0,className:"bg-black/50 text-white font-bold text-xl rounded px-2 py-0.5 border border-accent-primary outline-none min-w-0 flex-1 w-full"}),v.jsx("button",{onClick:me,className:"p-1 text-green-400 hover:bg-green-400/20 rounded-full transition-colors",children:v.jsx(mr,{size:18})}),v.jsx("button",{onClick:ue,className:"p-1 text-red-400 hover:bg-red-400/20 rounded-full transition-colors",children:v.jsx(Vs,{size:18})})]}):v.jsxs("div",{className:"flex items-start gap-2 pr-8 mb-1.5",children:[v.jsx("h3",{className:"text-xl font-bold text-white line-clamp-2 group-hover:text-accent-primary transition-colors",children:P.title}),v.jsx("button",{onClick:xe=>Y(xe,P),className:"opacity-0 group-hover:opacity-100 text-slate-400 hover:text-white p-1.5 rounded-full hover:bg-white/10 transition-all z-20",title:"Rename Board",children:v.jsx(q9,{size:14})})]}),v.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[v.jsx(Hf,{className:"w-3.5 h-3.5"}),P.createdAt?.toDate?P.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),v.jsx("div",{className:"mt-4",children:v.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-primary/10 text-accent-primary border border-accent-primary/20 group-hover:bg-accent-primary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},P.id)})]}),l.filter(P=>P.myRole!=="owner").length>0&&v.jsxs(v.Fragment,{children:[v.jsxs("h2",{className:"text-xl font-bold text-white mt-10 mb-6 flex items-center gap-2",children:[v.jsx("span",{className:"bg-gradient-to-r from-accent-secondary to-pink-500 bg-clip-text text-transparent",children:"Shared With Me"}),v.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",l.filter(P=>P.myRole!=="owner").length,")"]})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.filter(P=>P.myRole!=="owner").map(P=>{const be=P.id==="2026"||!P.ownerId?`/board/legacy/${P.id}`:`/board/${P.id}`;return v.jsxs("div",{onClick:xe=>{xe.preventDefault(),console.log("Navigating to shared board:",be),a(be)},className:"dashboard-card group relative h-48 rounded-2xl p-6 flex flex-col justify-between cursor-pointer overflow-hidden active:scale-[0.99]",children:[v.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity pointer-events-none",children:v.jsx(yR,{className:"w-24 h-24"})}),v.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:v.jsx("button",{onClick:xe=>B(xe,P.id,P.title),className:"p-2 text-slate-500 hover:text-amber-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Leave Board",children:v.jsx(vR,{size:18})})}),v.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"h-7 mb-2",children:v.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${P.myRole==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:P.myRole==="editor"?" Editor":" Viewer"})}),v.jsx("h3",{className:"text-xl font-bold text-white mb-1 line-clamp-1 pr-8",children:P.title}),P.ownerName&&v.jsxs("div",{className:"text-xs text-slate-500 mb-1.5",children:["Shared by ",v.jsx("span",{className:"text-slate-400",children:P.ownerName})]}),v.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[v.jsx(Hf,{className:"w-3.5 h-3.5"}),P.createdAt?.toDate?P.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),v.jsx("div",{className:"mt-4",children:v.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-secondary/10 text-accent-secondary border border-accent-secondary/20 group-hover:bg-accent-secondary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},P.id)})})]})]}),p&&v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{b?w(null):y(!1)}}),v.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[v.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center shrink-0",children:[v.jsx("h2",{className:"text-xl font-bold text-white",children:b?S[b].name:"Choose a Template"}),v.jsx("button",{onClick:()=>{b?w(null):y(!1)},className:"text-slate-400 hover:text-white",children:v.jsx(Lu,{className:"w-6 h-6 rotate-45"})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:b?v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Grid Size"}),v.jsx("div",{className:"grid grid-cols-4 gap-2",children:k.map(({size:P,label:D,icon:be})=>v.jsxs("button",{onClick:()=>V(P),className:`p-3 rounded-xl border text-center transition-all ${C===P?"bg-accent-primary/20 border-accent-primary text-white":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10 hover:text-white"}`,children:[v.jsx("span",{className:"text-lg block",children:be}),v.jsx("span",{className:"font-bold text-sm",children:D}),v.jsxs("span",{className:"text-[10px] block opacity-70",children:[P*P," tiles"]})]},P))})]}),v.jsx("div",{className:"flex justify-center",children:v.jsx("div",{className:`aspect-square w-full max-w-[380px] grid gap-1.5 p-3 bg-slate-950/50 rounded-xl border border-white/10 ${C===3?"grid-cols-3":C===4?"grid-cols-4":C===5?"grid-cols-5":"grid-cols-6"}`,children:(()=>{const P=C*C,D=C%2===1?Math.floor(P/2):-1,be=S[b].items.filter(xe=>xe.trim().toUpperCase()!=="FREE SPACE");return Array.from({length:P},(xe,J)=>{const X=J===D&&C%2===1,G=J<D||D===-1?J:J-1,K=X?"FREE":be[G%be.length]||`Goal ${J+1}`;return v.jsx("div",{className:`
                                                                relative rounded-lg flex items-center justify-center p-1 text-center select-none overflow-hidden 
                                                                ${C<=4?"text-[9px] sm:text-[11px]":"text-[7px] sm:text-[9px]"}
                                                                leading-tight font-medium border shadow-sm
                                                                ${X?"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold":"bg-white/5 border-white/10 text-slate-300"}
                                                            `,children:v.jsx("span",{className:"line-clamp-2",children:K})},J)})})()})}),v.jsxs("div",{className:"flex gap-3 pt-4",children:[v.jsx("button",{onClick:()=>w(null),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Back"}),v.jsxs("button",{onClick:()=>M(b),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all",children:["Create ",C,"",C," Board"]})]})]}):v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(S).map(([P,D])=>v.jsxs("button",{onClick:()=>w(P),className:"flex flex-col items-start p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent-primary/50 transition-all text-left group",children:[v.jsx("h3",{className:"font-bold text-white group-hover:text-accent-primary transition-colors",children:D.name}),v.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click to preview"})]},P))})})]})]})]})},pB=()=>{const{settings:t}=ch(),e=I.useRef(null),n=I.useRef(null),s=I.useRef([]),a=I.useMemo(()=>{switch(t.theme){case"midnight":return{type:"stars",particleCount:150,baseColor:"rgba(100, 150, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #0a1628 0%, #020617 50%, #000 100%)",shootingStars:!0};case"cosmic":return{type:"stars",particleCount:200,baseColor:"rgba(139, 92, 246, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1e1b4b 0%, #0f172a 40%, #020617 100%)",shootingStars:!0};case"forest":return{type:"leaves",particleCount:40,baseColor:"rgba(100, 200, 120, ",bgGradient:"radial-gradient(ellipse at 30% 80%, #0a3d1a 0%, #052e16 50%, #021a09 100%)",shootingStars:!1};case"ocean":return{type:"bubbles",particleCount:60,baseColor:"rgba(100, 220, 255, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #0c4a5e 0%, #083344 50%, #041825 100%)",shootingStars:!1};case"sunset":return{type:"embers",particleCount:50,baseColor:"rgba(255, 150, 80, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #4a1a00 0%, #2a0a0a 50%, #1a0505 100%)",shootingStars:!1};default:return{type:"aurora",particleCount:80,baseColor:"rgba(180, 120, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1a1040 0%, #0f111a 50%, #0a0b10 100%)",shootingStars:!1}}},[t.theme]);return I.useEffect(()=>{const l=e.current;if(!l)return;const u=()=>{const m=[];for(let p=0;p<a.particleCount;p++)m.push(gB(l.width,l.height,a.type));s.current=m},d=()=>{l.width=window.innerWidth,l.height=window.innerHeight,u()};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[a]),I.useEffect(()=>{if(t.enableAnimation===!1)return;const l=e.current;if(!l)return;const u=l.getContext("2d");if(!u)return;let d=0,m=null;const p=()=>{u.clearRect(0,0,l.width,l.height),s.current.forEach(y=>{yB(y,l.width,l.height,a.type),vB(u,y,a)}),a.shootingStars&&(d++,d>300&&Math.random()<.01&&(m={x:Math.random()*l.width,y:Math.random()*l.height*.5,length:80+Math.random()*40,speed:15+Math.random()*10,opacity:1},d=0),m&&(u.beginPath(),u.strokeStyle=`rgba(255, 255, 255, ${m.opacity})`,u.lineWidth=2,u.moveTo(m.x,m.y),u.lineTo(m.x-m.length,m.y-m.length*.3),u.stroke(),m.x+=m.speed,m.y+=m.speed*.3,m.opacity-=.02,m.opacity<=0&&(m=null))),n.current=requestAnimationFrame(p)};return p(),()=>{n.current&&cancelAnimationFrame(n.current)}},[t.enableAnimation,a]),v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 z-[-2] transition-all duration-1000",style:{background:a.bgGradient}}),v.jsx("canvas",{ref:e,className:"fixed inset-0 z-[-1] pointer-events-none",style:{opacity:t.enableAnimation===!1?0:.8}}),v.jsxs("div",{className:"fixed inset-0 z-[-1] pointer-events-none overflow-hidden",children:[v.jsx("div",{className:`absolute w-[600px] h-[600px] rounded-full blur-[120px] animate-float-slow ${t.theme==="midnight"?"bg-blue-500/10":t.theme==="cosmic"?"bg-violet-600/20":t.theme==="forest"?"bg-green-500/10":t.theme==="ocean"?"bg-cyan-500/10":t.theme==="sunset"?"bg-orange-500/10":"bg-purple-500/10"}`,style:{top:"-15%",left:"-10%"}}),v.jsx("div",{className:`absolute w-[500px] h-[500px] rounded-full blur-[100px] animate-float-slower ${t.theme==="midnight"?"bg-indigo-500/10":t.theme==="cosmic"?"bg-pink-600/20":t.theme==="forest"?"bg-emerald-500/10":t.theme==="ocean"?"bg-teal-500/10":t.theme==="sunset"?"bg-rose-500/10":"bg-pink-500/10"}`,style:{bottom:"-10%",right:"-5%"}})]})]})};function gB(t,e,n){const s={x:Math.random()*t,y:Math.random()*e,opacity:Math.random()*.5+.2};switch(n){case"stars":return{...s,size:Math.random()*2+.5,speedX:0,speedY:0,opacity:Math.random()*.8+.2};case"leaves":return{...s,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.8+.3,hue:Math.random()*40+80};case"bubbles":return{...s,size:Math.random()*8+2,speedX:Math.random()*.3-.15,speedY:-(Math.random()*.8+.3)};case"embers":return{...s,size:Math.random()*3+1,speedX:Math.random()*.4-.2,speedY:-(Math.random()*1+.5),hue:Math.random()*30+15};default:return{...s,size:Math.random()*4+1,speedX:Math.random()*.3-.15,speedY:Math.random()*.2-.1,hue:Math.random()*60+240}}}function yB(t,e,n,s){t.x+=t.speedX,t.y+=t.speedY,s==="stars"&&(t.opacity+=(Math.random()-.5)*.05,t.opacity=Math.max(.1,Math.min(1,t.opacity))),t.x<0&&(t.x=e),t.x>e&&(t.x=0),t.y<0&&(t.y=n),t.y>n&&(t.y=0)}function vB(t,e,n){switch(t.beginPath(),n.type){case"stars":t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill(),e.opacity>.7&&(t.beginPath(),t.fillStyle=`rgba(200, 220, 255, ${e.opacity*.3})`,t.arc(e.x,e.y,e.size*3,0,Math.PI*2),t.fill());break;case"leaves":t.fillStyle=`hsla(${e.hue}, 60%, 50%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.5,e.x*.01,0,Math.PI*2),t.fill();break;case"bubbles":t.strokeStyle=n.baseColor+`${e.opacity})`,t.lineWidth=1,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.stroke(),t.beginPath(),t.fillStyle=`rgba(255, 255, 255, ${e.opacity*.5})`,t.arc(e.x-e.size*.3,e.y-e.size*.3,e.size*.2,0,Math.PI*2),t.fill();break;case"embers":const s=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size);s.addColorStop(0,`hsla(${e.hue}, 100%, 70%, ${e.opacity})`),s.addColorStop(1,`hsla(${e.hue}, 100%, 50%, 0)`),t.fillStyle=s,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill();break;default:const a=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size*2);a.addColorStop(0,`hsla(${e.hue}, 80%, 60%, ${e.opacity})`),a.addColorStop(1,`hsla(${e.hue}, 80%, 60%, 0)`),t.fillStyle=a,t.arc(e.x,e.y,e.size*2,0,Math.PI*2),t.fill();break}}const fo=({number:t,title:e,text:n,imageSrc:s})=>v.jsxs("div",{className:"relative pl-8 border-l border-white/10 pb-8 last:pb-0 last:border-l-0",children:[v.jsx("div",{className:"absolute -left-4 top-0 w-8 h-8 rounded-full bg-slate-900 border border-accent-primary text-accent-primary font-bold flex items-center justify-center text-sm shadow-[0_0_10px_rgba(139,92,246,0.2)]",children:t}),v.jsxs("div",{className:"mb-2",children:[v.jsx("h4",{className:"text-lg font-bold text-white",children:e}),v.jsx("p",{className:"text-slate-400 text-sm mt-1",children:n})]}),s&&v.jsxs(Ke.div,{whileHover:{scale:1.02},className:"mt-4 rounded-xl overflow-hidden border border-white/10 shadow-2xl bg-black/40 group relative",children:[v.jsx("img",{src:s,alt:e,className:"w-full h-auto object-cover opacity-80 group-hover:opacity-100 transition-opacity duration-500"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]})]}),bB=()=>{const t=zu();return v.jsx("div",{className:"min-h-screen bg-transparent text-white p-6 relative overflow-x-hidden pb-32",children:v.jsxs("div",{className:"max-w-5xl mx-auto",children:[v.jsxs(Ke.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t("/dashboard"),className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors mb-8 group",children:[v.jsx(v9,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back to App"]}),v.jsxs("div",{className:"text-center mb-16",children:[v.jsx(Ke.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-accent-primary to-accent-secondary mb-6 shadow-2xl shadow-accent-primary/20",children:v.jsx(qf,{size:40,className:"text-white"})}),v.jsxs(Ke.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl sm:text-5xl font-extrabold mb-4",children:["How to Play ",v.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:"Bingo"})]}),v.jsx(Ke.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-xl text-slate-400 max-w-2xl mx-auto",children:"A step-by-step guide to turning your 2026 goals into a social game."})]}),v.jsxs("div",{className:"grid gap-12",children:[v.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[v.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[v.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl text-blue-400",children:v.jsx(Lu,{size:32})}),v.jsx("h2",{className:"text-3xl font-bold",children:"1. Creating a Board"})]}),v.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 backdrop-blur-sm",children:[v.jsx(fo,{number:1,title:"Start from Dashboard",text:"Click the 'Create Board' button on your dashboard. You can choose to start fresh or use a template (like 'Self Care' or 'Travel').",imageSrc:"/assets/help/dashboard.png"}),v.jsx(fo,{number:2,title:"Customize Setup",text:"Give your board a name (e.g., '2026 Goals') and choose a Grid Size. 3x3 is great for quick games, while 5x5 is the classic challenge."}),v.jsx(fo,{number:3,title:"Fill Your Tiles",text:"The most fun part! Fill in each tile with a specific goal. You can drag to reorder or click 'Shuffle' to mix them up.",imageSrc:"/assets/help/grid.png"}),v.jsx(fo,{number:4,title:"Lock & Play",text:"When you're happy, click 'Go Live'. This locks the grid structure so you can start marking progress."})]})]}),v.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[v.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[v.jsx("div",{className:"p-3 bg-green-500/20 rounded-xl text-green-400",children:v.jsx(J9,{size:32})}),v.jsx("h2",{className:"text-3xl font-bold",children:"2. Playing & Tracking"})]}),v.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 backdrop-blur-sm",children:[v.jsx(fo,{number:1,title:"Tap to Interact",text:"Tap any tile on your board. If it's a '1-time' goal, you can complete it instantly. For multi-count goals (e.g., 'Read 5 Books'), you can add progress."}),v.jsx(fo,{number:2,title:"Add Photo Proof",text:"Don't just say you did itprove it! Upload photos directly to the tile. This is great for memories later.",imageSrc:"/assets/help/modal.png"}),v.jsx(fo,{number:3,title:"Win with Bingo!",text:"Complete a full row, column, or diagonal to get a BINGO! Watch out for the confetti celebration."})]})]}),v.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[v.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[v.jsx("div",{className:"p-3 bg-purple-500/20 rounded-xl text-purple-400",children:v.jsx(lz,{size:32})}),v.jsx("h2",{className:"text-3xl font-bold",children:"3. Playing with Friends"})]}),v.jsx("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 backdrop-blur-sm",children:v.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[v.jsx(rf,{size:20,className:"text-accent-secondary"}),"Shared Boards"]}),v.jsxs("p",{className:"text-slate-400 mb-4",children:["Invite friends to the ",v.jsx("strong",{children:"same board"}),". You all share the same grid but complete tiles individually (or together!)."]}),v.jsxs("ul",{className:"space-y-3",children:[v.jsxs("li",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2"}),v.jsx("span",{className:"text-sm text-slate-300",children:'Great for couples (e.g., "Our 2026 Bucket List")'})]}),v.jsxs("li",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2"}),v.jsx("span",{className:"text-sm text-slate-300",children:"Perfect for team challenges"})]})]})]}),v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[v.jsx(sz,{size:20,className:"text-accent-gold"}),"Competition Mode"]}),v.jsxs("p",{className:"text-slate-400 mb-4",children:["When playing on a shared board, the tile shows ",v.jsx("strong",{children:"who completed it first"}),"."]}),v.jsx("div",{className:"bg-black/40 rounded-xl p-4 border border-white/5",children:v.jsxs("div",{className:"text-center",children:[v.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Tile Status"}),v.jsx("div",{className:"mt-2 font-bold text-white",children:'"Run a Marathon"'}),v.jsx("div",{className:"text-xs text-accent-primary mt-1",children:"Completed by You"})]})})]})]})})]})]}),v.jsx("div",{className:"mt-16 text-center",children:v.jsx("button",{onClick:()=>t("/dashboard"),className:"px-8 py-4 bg-white text-bg-dark font-bold rounded-2xl text-lg hover:scale-105 transition-transform shadow-xl shadow-white/10",children:"Let's Get Started"})})]})})},_B=()=>{const{user:t,loading:e}=Jl();return e?v.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-bg-dark text-slate-500",children:"Initializing..."}):v.jsxs(v.Fragment,{children:[v.jsx(pB,{}),v.jsx(eD,{}),v.jsx(Hk,{children:v.jsxs(_k,{children:[v.jsx(ha,{path:"/login",element:t?v.jsx(vl,{to:"/dashboard",replace:!0}):v.jsx(oB,{})}),v.jsx(ha,{path:"/help",element:v.jsx(bB,{})}),v.jsx(ha,{path:"/dashboard",element:t?v.jsx(mB,{}):v.jsx(vl,{to:"/login",replace:!0})}),v.jsx(ha,{path:"/board/legacy/:yearId",element:t?v.jsx(NE,{}):v.jsx(vl,{to:"/login",replace:!0})}),v.jsx(ha,{path:"/board/:boardId",element:t?v.jsx(NE,{}):v.jsx(vl,{to:"/login",replace:!0})}),v.jsx(ha,{path:"/",element:v.jsx(vl,{to:t?"/dashboard":"/login",replace:!0})}),v.jsx(ha,{path:"*",element:v.jsx(vl,{to:t?"/dashboard":"/login",replace:!0})})]})})]})};function xB(){return v.jsx(Nj,{children:v.jsx(aB,{children:v.jsx(pz,{children:v.jsx(_B,{})})})})}console.log("Main.tsx full run");const kE=document.getElementById("root");kE?wN.createRoot(kE).render(v.jsx(I.StrictMode,{children:v.jsx(xB,{})})):console.error("Root not found");export{Ta as C,Gs as F,Qf as _,mn as a,eS as b,To as c,Hi as d,vm as e,y0 as g,Ro as i,f0 as p,Ps as r,m0 as u};
