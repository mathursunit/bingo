(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function ZI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rg={exports:{}},qc={};var $T;function JI(){if($T)return qc;$T=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return qc.Fragment=e,qc.jsx=n,qc.jsxs=n,qc}var YT;function eD(){return YT||(YT=1,rg.exports=JI()),rg.exports}var E=eD(),ag={exports:{}},Le={};var QT;function tD(){if(QT)return Le;QT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function R(x){return x===null||typeof x!="object"?null:(x=T&&x[T]||x["@@iterator"],typeof x=="function"?x:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,D={};function z(x,K,ee){this.props=x,this.context=K,this.refs=D,this.updater=ee||L}z.prototype.isReactComponent={},z.prototype.setState=function(x,K){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,K,"setState")},z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function q(){}q.prototype=z.prototype;function H(x,K,ee){this.props=x,this.context=K,this.refs=D,this.updater=ee||L}var oe=H.prototype=new q;oe.constructor=H,j(oe,z.prototype),oe.isPureReactComponent=!0;var ne=Array.isArray;function de(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function k(x,K,ee){var se=ee.ref;return{$$typeof:t,type:x,key:K,ref:se!==void 0?se:null,props:ee}}function V(x,K){return k(x.type,K,x.props)}function M(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function P(x){var K={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ee){return K[ee]})}var N=/\/+/g;function ye(x,K){return typeof x=="object"&&x!==null&&x.key!=null?P(""+x.key):K.toString(36)}function Se(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(de,de):(x.status="pending",x.then(function(K){x.status==="pending"&&(x.status="fulfilled",x.value=K)},function(K){x.status==="pending"&&(x.status="rejected",x.reason=K)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Z(x,K,ee,se,me){var pe=typeof x;(pe==="undefined"||pe==="boolean")&&(x=null);var fe=!1;if(x===null)fe=!0;else switch(pe){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(x.$$typeof){case t:case e:fe=!0;break;case y:return fe=x._init,Z(fe(x._payload),K,ee,se,me)}}if(fe)return me=me(x),fe=se===""?"."+ye(x,0):se,ne(me)?(ee="",fe!=null&&(ee=fe.replace(N,"$&/")+"/"),Z(me,K,ee,"",function(He){return He})):me!=null&&(M(me)&&(me=V(me,ee+(me.key==null||x&&x.key===me.key?"":(""+me.key).replace(N,"$&/")+"/")+fe)),K.push(me)),1;fe=0;var _e=se===""?".":se+":";if(ne(x))for(var Ce=0;Ce<x.length;Ce++)se=x[Ce],pe=_e+ye(se,Ce),fe+=Z(se,K,ee,pe,me);else if(Ce=R(x),typeof Ce=="function")for(x=Ce.call(x),Ce=0;!(se=x.next()).done;)se=se.value,pe=_e+ye(se,Ce++),fe+=Z(se,K,ee,pe,me);else if(pe==="object"){if(typeof x.then=="function")return Z(Se(x),K,ee,se,me);throw K=String(x),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return fe}function he(x,K,ee){if(x==null)return x;var se=[],me=0;return Z(x,se,"","",function(pe){return K.call(ee,pe,me++)}),se}function re(x){if(x._status===-1){var K=x._result;K=K(),K.then(function(ee){(x._status===0||x._status===-1)&&(x._status=1,x._result=ee)},function(ee){(x._status===0||x._status===-1)&&(x._status=2,x._result=ee)}),x._status===-1&&(x._status=0,x._result=K)}if(x._status===1)return x._result.default;throw x._result}var Ne=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},F={map:he,forEach:function(x,K,ee){he(x,function(){K.apply(this,arguments)},ee)},count:function(x){var K=0;return he(x,function(){K++}),K},toArray:function(x){return he(x,function(K){return K})||[]},only:function(x){if(!M(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Le.Activity=v,Le.Children=F,Le.Component=z,Le.Fragment=n,Le.Profiler=a,Le.PureComponent=H,Le.StrictMode=s,Le.Suspense=m,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Le.__COMPILER_RUNTIME={__proto__:null,c:function(x){return I.H.useMemoCache(x)}},Le.cache=function(x){return function(){return x.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(x,K,ee){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var se=j({},x.props),me=x.key;if(K!=null)for(pe in K.key!==void 0&&(me=""+K.key),K)!S.call(K,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&K.ref===void 0||(se[pe]=K[pe]);var pe=arguments.length-2;if(pe===1)se.children=ee;else if(1<pe){for(var fe=Array(pe),_e=0;_e<pe;_e++)fe[_e]=arguments[_e+2];se.children=fe}return k(x.type,me,se)},Le.createContext=function(x){return x={$$typeof:u,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:l,_context:x},x},Le.createElement=function(x,K,ee){var se,me={},pe=null;if(K!=null)for(se in K.key!==void 0&&(pe=""+K.key),K)S.call(K,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(me[se]=K[se]);var fe=arguments.length-2;if(fe===1)me.children=ee;else if(1<fe){for(var _e=Array(fe),Ce=0;Ce<fe;Ce++)_e[Ce]=arguments[Ce+2];me.children=_e}if(x&&x.defaultProps)for(se in fe=x.defaultProps,fe)me[se]===void 0&&(me[se]=fe[se]);return k(x,pe,me)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(x){return{$$typeof:d,render:x}},Le.isValidElement=M,Le.lazy=function(x){return{$$typeof:y,_payload:{_status:-1,_result:x},_init:re}},Le.memo=function(x,K){return{$$typeof:p,type:x,compare:K===void 0?null:K}},Le.startTransition=function(x){var K=I.T,ee={};I.T=ee;try{var se=x(),me=I.S;me!==null&&me(ee,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(de,Ne)}catch(pe){Ne(pe)}finally{K!==null&&ee.types!==null&&(K.types=ee.types),I.T=K}},Le.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Le.use=function(x){return I.H.use(x)},Le.useActionState=function(x,K,ee){return I.H.useActionState(x,K,ee)},Le.useCallback=function(x,K){return I.H.useCallback(x,K)},Le.useContext=function(x){return I.H.useContext(x)},Le.useDebugValue=function(){},Le.useDeferredValue=function(x,K){return I.H.useDeferredValue(x,K)},Le.useEffect=function(x,K){return I.H.useEffect(x,K)},Le.useEffectEvent=function(x){return I.H.useEffectEvent(x)},Le.useId=function(){return I.H.useId()},Le.useImperativeHandle=function(x,K,ee){return I.H.useImperativeHandle(x,K,ee)},Le.useInsertionEffect=function(x,K){return I.H.useInsertionEffect(x,K)},Le.useLayoutEffect=function(x,K){return I.H.useLayoutEffect(x,K)},Le.useMemo=function(x,K){return I.H.useMemo(x,K)},Le.useOptimistic=function(x,K){return I.H.useOptimistic(x,K)},Le.useReducer=function(x,K,ee){return I.H.useReducer(x,K,ee)},Le.useRef=function(x){return I.H.useRef(x)},Le.useState=function(x){return I.H.useState(x)},Le.useSyncExternalStore=function(x,K,ee){return I.H.useSyncExternalStore(x,K,ee)},Le.useTransition=function(){return I.H.useTransition()},Le.version="19.2.3",Le}var XT;function Ky(){return XT||(XT=1,ag.exports=tD()),ag.exports}var O=Ky();const nD=ZI(O);var og={exports:{}},Gc={},lg={exports:{}},cg={};var WT;function iD(){return WT||(WT=1,(function(t){function e(Z,he){var re=Z.length;Z.push(he);e:for(;0<re;){var Ne=re-1>>>1,F=Z[Ne];if(0<a(F,he))Z[Ne]=he,Z[re]=F,re=Ne;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var he=Z[0],re=Z.pop();if(re!==he){Z[0]=re;e:for(var Ne=0,F=Z.length,x=F>>>1;Ne<x;){var K=2*(Ne+1)-1,ee=Z[K],se=K+1,me=Z[se];if(0>a(ee,re))se<F&&0>a(me,ee)?(Z[Ne]=me,Z[se]=re,Ne=se):(Z[Ne]=ee,Z[K]=re,Ne=K);else if(se<F&&0>a(me,re))Z[Ne]=me,Z[se]=re,Ne=se;else break e}}return he}function a(Z,he){var re=Z.sortIndex-he.sortIndex;return re!==0?re:Z.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var m=[],p=[],y=1,v=null,T=3,R=!1,L=!1,j=!1,D=!1,z=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function oe(Z){for(var he=n(p);he!==null;){if(he.callback===null)s(p);else if(he.startTime<=Z)s(p),he.sortIndex=he.expirationTime,e(m,he);else break;he=n(p)}}function ne(Z){if(j=!1,oe(Z),!L)if(n(m)!==null)L=!0,de||(de=!0,P());else{var he=n(p);he!==null&&Se(ne,he.startTime-Z)}}var de=!1,I=-1,S=5,k=-1;function V(){return D?!0:!(t.unstable_now()-k<S)}function M(){if(D=!1,de){var Z=t.unstable_now();k=Z;var he=!0;try{e:{L=!1,j&&(j=!1,q(I),I=-1),R=!0;var re=T;try{t:{for(oe(Z),v=n(m);v!==null&&!(v.expirationTime>Z&&V());){var Ne=v.callback;if(typeof Ne=="function"){v.callback=null,T=v.priorityLevel;var F=Ne(v.expirationTime<=Z);if(Z=t.unstable_now(),typeof F=="function"){v.callback=F,oe(Z),he=!0;break t}v===n(m)&&s(m),oe(Z)}else s(m);v=n(m)}if(v!==null)he=!0;else{var x=n(p);x!==null&&Se(ne,x.startTime-Z),he=!1}}break e}finally{v=null,T=re,R=!1}he=void 0}}finally{he?P():de=!1}}}var P;if(typeof H=="function")P=function(){H(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ye=N.port2;N.port1.onmessage=M,P=function(){ye.postMessage(null)}}else P=function(){z(M,0)};function Se(Z,he){I=z(function(){Z(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(Z){switch(T){case 1:case 2:case 3:var he=3;break;default:he=T}var re=T;T=he;try{return Z()}finally{T=re}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(Z,he){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var re=T;T=Z;try{return he()}finally{T=re}},t.unstable_scheduleCallback=function(Z,he,re){var Ne=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ne+re:Ne):re=Ne,Z){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=re+F,Z={id:y++,callback:he,priorityLevel:Z,startTime:re,expirationTime:F,sortIndex:-1},re>Ne?(Z.sortIndex=re,e(p,Z),n(m)===null&&Z===n(p)&&(j?(q(I),I=-1):j=!0,Se(ne,re-Ne))):(Z.sortIndex=F,e(m,Z),L||R||(L=!0,de||(de=!0,P()))),Z},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(Z){var he=T;return function(){var re=T;T=he;try{return Z.apply(this,arguments)}finally{T=re}}}})(cg)),cg}var ZT;function sD(){return ZT||(ZT=1,lg.exports=iD()),lg.exports}var ug={exports:{}},In={};var JT;function rD(){if(JT)return In;JT=1;var t=Ky();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return In.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,In.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},In.flushSync=function(m){var p=u.T,y=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=p,s.p=y,s.d.f()}},In.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},In.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},In.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:R}):y==="script"&&s.d.X(m,{crossOrigin:v,integrity:T,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},In.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},In.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},In.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},In.requestFormReset=function(m){s.d.r(m)},In.unstable_batchedUpdates=function(m,p){return m(p)},In.useFormState=function(m,p,y){return u.H.useFormState(m,p,y)},In.useFormStatus=function(){return u.H.useHostTransitionStatus()},In.version="19.2.3",In}var ew;function aD(){if(ew)return ug.exports;ew=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ug.exports=rD(),ug.exports}var tw;function oD(){if(tw)return Gc;tw=1;var t=sD(),e=Ky(),n=aD();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return m(f),i;if(g===c)return m(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=f,c=g;else{for(var b=!1,A=f.child;A;){if(A===o){b=!0,o=f,c=g;break}if(A===c){b=!0,c=f,o=g;break}A=A.sibling}if(!b){for(A=g.child;A;){if(A===o){b=!0,o=g,c=f;break}if(A===c){b=!0,c=g,o=f;break}A=A.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function ye(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case z:return"Profiler";case D:return"StrictMode";case ne:return"Suspense";case de:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case L:return"Portal";case H:return i.displayName||"Context";case q:return(i._context.displayName||"Context")+".Consumer";case oe:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:ye(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return ye(i(r))}catch{}}return null}var Se=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ne=[],F=-1;function x(i){return{current:i}}function K(i){0>F||(i.current=Ne[F],Ne[F]=null,F--)}function ee(i,r){F++,Ne[F]=i.current,i.current=r}var se=x(null),me=x(null),pe=x(null),fe=x(null);function _e(i,r){switch(ee(pe,r),ee(me,i),ee(se,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?gT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=gT(r),i=yT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}K(se),ee(se,i)}function Ce(){K(se),K(me),K(pe)}function He(i){i.memoizedState!==null&&ee(fe,i);var r=se.current,o=yT(r,i.type);r!==o&&(ee(me,i),ee(se,o))}function Ge(i){me.current===i&&(K(se),K(me)),fe.current===i&&(K(fe),zc._currentValue=re)}var Qe,ct;function Pe(i){if(Qe===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Qe=r&&r[1]||"",ct=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+i+ct}var Pt=!1;function Ft(i,r){if(!i||Pt)return"";Pt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var W=te}Reflect.construct(i,[],le)}else{try{le.call()}catch(te){W=te}i.call(le.prototype)}}else{try{throw Error()}catch(te){W=te}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&W&&typeof te.stack=="string")return[te.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],A=g[1];if(b&&A){var U=b.split(`
`),X=A.split(`
`);for(f=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;f<X.length&&!X[f].includes("DetermineComponentFrameRoot");)f++;if(c===U.length||f===X.length)for(c=U.length-1,f=X.length-1;1<=c&&0<=f&&U[c]!==X[f];)f--;for(;1<=c&&0<=f;c--,f--)if(U[c]!==X[f]){if(c!==1||f!==1)do if(c--,f--,0>f||U[c]!==X[f]){var ie=`
`+U[c].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=c&&0<=f);break}}}finally{Pt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Pe(o):""}function an(i,r){switch(i.tag){case 26:case 27:case 5:return Pe(i.type);case 16:return Pe("Lazy");case 13:return i.child!==r&&r!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return Ft(i.type,!1);case 11:return Ft(i.type.render,!1);case 1:return Ft(i.type,!0);case 31:return Pe("Activity");default:return""}}function Ot(i){try{var r="",o=null;do r+=an(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var tt=Object.prototype.hasOwnProperty,Ke=t.unstable_scheduleCallback,An=t.unstable_cancelCallback,vr=t.unstable_shouldYield,Os=t.unstable_requestPaint,$t=t.unstable_now,zn=t.unstable_getCurrentPriorityLevel,dt=t.unstable_ImmediatePriority,ti=t.unstable_UserBlockingPriority,ni=t.unstable_NormalPriority,Bi=t.unstable_LowPriority,gi=t.unstable_IdlePriority,Bn=t.log,Ls=t.unstable_setDisableYieldValue,Cn=null,Lt=null;function Fn(i){if(typeof Bn=="function"&&Ls(i),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(Cn,i)}catch{}}var Ct=Math.clz32?Math.clz32:_r,vo=Math.log,js=Math.LN2;function _r(i){return i>>>=0,i===0?32:31-(vo(i)/js|0)|0}var Hn=256,Us=262144,jt=4194304;function yi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function vi(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var f=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?f=yi(c):(b&=A,b!==0?f=yi(b):o||(o=A&~i,o!==0&&(f=yi(o))))):(A=c&~g,A!==0?f=yi(A):b!==0?f=yi(b):o||(o=c&~i,o!==0&&(f=yi(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function ii(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Qu(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sa(){var i=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),i}function qn(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Fi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Kl(i,r,o,c,f,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,U=i.expirationTimes,X=i.hiddenUpdates;for(o=b&~o;0<o;){var ie=31-Ct(o),le=1<<ie;A[ie]=0,U[ie]=-1;var W=X[ie];if(W!==null)for(X[ie]=null,ie=0;ie<W.length;ie++){var te=W[ie];te!==null&&(te.lane&=-536870913)}o&=~le}c!==0&&Y(i,c,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~r))}function Y(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Ct(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Ie(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Ct(o),f=1<<c;f&r|i[c]&r&&(i[c]|=r),o&=~f}}function wt(i,r){var o=r&-r;return o=(o&42)!==0?1:Et(o),(o&(i.suspendedLanes|r))!==0?0:o}function Et(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function bt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Rn(){var i=he.p;return i!==0?i:(i=window.event,i===void 0?32:zT(i.type))}function fn(i,r){var o=he.p;try{return he.p=i,r()}finally{he.p=o}}var Gn=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Gn,dn="__reactProps$"+Gn,rs="__reactContainer$"+Gn,_o="__reactEvents$"+Gn,hm="__reactListeners$"+Gn,Xu="__reactHandles$"+Gn,Wu="__reactResources$"+Gn,as="__reactMarker$"+Gn;function bo(i){delete i[Yt],delete i[dn],delete i[_o],delete i[hm],delete i[Xu]}function os(i){var r=i[Yt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[rs]||o[Yt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=xT(i);i!==null;){if(o=i[Yt])return o;i=xT(i)}return r}i=o,o=i.parentNode}return null}function _i(i){if(i=i[Yt]||i[rs]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function si(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ls(i){var r=i[Wu];return r||(r=i[Wu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Qt(i){i[as]=!0}var $l=new Set,Yl={};function cs(i,r){us(i,r),us(i+"Capture",r)}function us(i,r){for(Yl[i]=r,i=0;i<r.length;i++)$l.add(r[i])}var Ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xl={},Wl={};function Zu(i){return tt.call(Wl,i)?!0:tt.call(Xl,i)?!1:Ql.test(i)?Wl[i]=!0:(Xl[i]=!0,!1)}function To(i,r,o){if(Zu(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function ri(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Xt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function mn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function br(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Zl(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function ut(i){if(!i._valueTracker){var r=br(i)?"checked":"value";i._valueTracker=Zl(i,r,""+i[r])}}function Aa(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=br(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function hs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ca=/[\n"\\]/g;function Kn(i){return i.replace(Ca,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function wo(i,r,o,c,f,g,b,A){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+mn(r)):i.value!==""+mn(r)&&(i.value=""+mn(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Jl(i,b,mn(r)):o!=null?Jl(i,b,mn(o)):c!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+mn(A):i.removeAttribute("name")}function Ju(i,r,o,c,f,g,b,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){ut(i);return}o=o!=null?""+mn(o):"",r=r!=null?""+mn(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),ut(i)}function Jl(i,r,o){r==="number"&&hs(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Tr(i,r,o,c){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&c&&(i[o].defaultSelected=!0)}else{for(o=""+mn(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,c&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function eh(i,r,o){if(r!=null&&(r=""+mn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+mn(o):""}function wr(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Se(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=mn(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),ut(i)}function $n(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var th=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ec(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||th.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function tc(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&o[f]!==c&&ec(i,f,c)}else for(var g in r)r.hasOwnProperty(g)&&ec(i,g,r[g])}function Eo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Er=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xo(i){return Er.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Hi(){}var nc=null;function bi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xr=null,fs=null;function Ra(i){var r=_i(i);if(r&&(i=r.stateNode)){var o=i[dn]||null;e:switch(i=r.stateNode,r.type){case"input":if(wo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Kn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var f=c[dn]||null;if(!f)throw Error(s(90));wo(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&Aa(c)}break e;case"textarea":eh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Tr(i,!!o.multiple,r,!1)}}}var So=!1;function Sr(i,r,o){if(So)return i(r,o);So=!0;try{var c=i(r);return c}finally{if(So=!1,(xr!==null||fs!==null)&&(Qh(),xr&&(r=xr,i=fs,fs=xr=null,Ra(r),i)))for(r=0;r<i.length;r++)Ra(i[r])}}function qi(i,r){var o=i.stateNode;if(o===null)return null;var c=o[dn]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ia=!1;if(Ti)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{Ia=!1}var ds=null,ic=null,Da=null;function sc(){if(Da)return Da;var i,r=ic,o=r.length,c,f="value"in ds?ds.value:ds.textContent,g=f.length;for(i=0;i<o&&r[i]===f[i];i++);var b=o-i;for(c=1;c<=b&&r[o-c]===f[g-c];c++);return Da=f.slice(i,1<c?1-c:void 0)}function Na(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function zs(){return!0}function Gi(){return!1}function _n(i){function r(o,c,f,g,b){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?zs:Gi,this.isPropagationStopped=Gi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=zs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=zs)},persist:function(){},isPersistent:zs}),r}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ms=_n(Bs),Ar=v({},Bs,{view:0,detail:0}),rc=_n(Ar),Cr,Ao,ps,Co=v({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ps&&(ps&&i.type==="mousemove"?(Cr=i.screenX-ps.screenX,Ao=i.screenY-ps.screenY):Ao=Cr=0,ps=i),Cr)},movementY:function(i){return"movementY"in i?i.movementY:Ao}}),ac=_n(Co),ka=v({},Co,{dataTransfer:0}),ih=_n(ka),sh=v({},Ar,{relatedTarget:0}),Ma=_n(sh),oc=v({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),rh=_n(oc),Ro=v({},Bs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ah=_n(Ro),oh=v({},Bs,{data:0}),gs=_n(oh),lh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=uh[i])?!!r[i]:!1}function Rr(){return hh}var Pn=v({},Ar,{key:function(i){if(i.key){var r=lh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Na(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ch[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rr,charCode:function(i){return i.type==="keypress"?Na(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Na(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),fh=_n(Pn),dh=v({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fs=_n(dh),h=v({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rr}),_=_n(h),w=v({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=_n(w),$=v({},Co,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),J=_n($),ge=v({},Bs,{newState:0,oldState:0}),Ue=_n(ge),Ht=[9,13,27,32],at=Ti&&"CompositionEvent"in window,Rt=null;Ti&&"documentMode"in document&&(Rt=document.documentMode);var wi=Ti&&"TextEvent"in window&&!Rt,ys=Ti&&(!at||Rt&&8<Rt&&11>=Rt),Ki=" ",$i=!1;function Va(i,r){switch(i){case"keyup":return Ht.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Io(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Do=!1;function w2(i,r){switch(i){case"compositionend":return Io(r);case"keypress":return r.which!==32?null:($i=!0,Ki);case"textInput":return i=r.data,i===Ki&&$i?null:i;default:return null}}function E2(i,r){if(Do)return i==="compositionend"||!at&&Va(i,r)?(i=sc(),Da=ic=ds=null,Do=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ys&&r.locale!=="ko"?null:r.data;default:return null}}var x2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!x2[i.type]:r==="textarea"}function R0(i,r,o,c){xr?fs?fs.push(c):fs=[c]:xr=c,r=nf(r,"onChange"),0<r.length&&(o=new ms("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var lc=null,cc=null;function S2(i){uT(i,0)}function mh(i){var r=si(i);if(Aa(r))return i}function I0(i,r){if(i==="change")return r}var D0=!1;if(Ti){var fm;if(Ti){var dm="oninput"in document;if(!dm){var N0=document.createElement("div");N0.setAttribute("oninput","return;"),dm=typeof N0.oninput=="function"}fm=dm}else fm=!1;D0=fm&&(!document.documentMode||9<document.documentMode)}function k0(){lc&&(lc.detachEvent("onpropertychange",M0),cc=lc=null)}function M0(i){if(i.propertyName==="value"&&mh(cc)){var r=[];R0(r,cc,i,bi(i)),Sr(S2,r)}}function A2(i,r,o){i==="focusin"?(k0(),lc=r,cc=o,lc.attachEvent("onpropertychange",M0)):i==="focusout"&&k0()}function C2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return mh(cc)}function R2(i,r){if(i==="click")return mh(r)}function I2(i,r){if(i==="input"||i==="change")return mh(r)}function D2(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var ai=typeof Object.is=="function"?Object.is:D2;function uc(i,r){if(ai(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!tt.call(r,f)||!ai(i[f],r[f]))return!1}return!0}function V0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function P0(i,r){var o=V0(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=V0(o)}}function O0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?O0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function L0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=hs(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=hs(i.document)}return r}function mm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var N2=Ti&&"documentMode"in document&&11>=document.documentMode,No=null,pm=null,hc=null,gm=!1;function j0(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;gm||No==null||No!==hs(c)||(c=No,"selectionStart"in c&&mm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),hc&&uc(hc,c)||(hc=c,c=nf(pm,"onSelect"),0<c.length&&(r=new ms("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=No)))}function Pa(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var ko={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},ym={},U0={};Ti&&(U0=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function Oa(i){if(ym[i])return ym[i];if(!ko[i])return i;var r=ko[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in U0)return ym[i]=r[o];return i}var z0=Oa("animationend"),B0=Oa("animationiteration"),F0=Oa("animationstart"),k2=Oa("transitionrun"),M2=Oa("transitionstart"),V2=Oa("transitioncancel"),H0=Oa("transitionend"),q0=new Map,vm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vm.push("scrollEnd");function Yi(i,r){q0.set(i,r),cs(r,[i])}var ph=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ei=[],Mo=0,_m=0;function gh(){for(var i=Mo,r=_m=Mo=0;r<i;){var o=Ei[r];Ei[r++]=null;var c=Ei[r];Ei[r++]=null;var f=Ei[r];Ei[r++]=null;var g=Ei[r];if(Ei[r++]=null,c!==null&&f!==null){var b=c.pending;b===null?f.next=f:(f.next=b.next,b.next=f),c.pending=f}g!==0&&G0(o,f,g)}}function yh(i,r,o,c){Ei[Mo++]=i,Ei[Mo++]=r,Ei[Mo++]=o,Ei[Mo++]=c,_m|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function bm(i,r,o,c){return yh(i,r,o,c),vh(i)}function La(i,r){return yh(i,null,null,r),vh(i)}function G0(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&r!==null&&(f=31-Ct(o),i=g.hiddenUpdates,c=i[f],c===null?i[f]=[r]:c.push(r),r.lane=o|536870912),g):null}function vh(i){if(50<Mc)throw Mc=0,Ip=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Vo={};function P2(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(i,r,o,c){return new P2(i,r,o,c)}function Tm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Hs(i,r){var o=i.alternate;return o===null?(o=oi(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function K0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function _h(i,r,o,c,f,g){var b=0;if(c=i,typeof i=="function")Tm(i)&&(b=1);else if(typeof i=="string")b=zI(i,o,se.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case k:return i=oi(31,o,r,f),i.elementType=k,i.lanes=g,i;case j:return ja(o.children,f,g,r);case D:b=8,f|=24;break;case z:return i=oi(12,o,r,f|2),i.elementType=z,i.lanes=g,i;case ne:return i=oi(13,o,r,f),i.elementType=ne,i.lanes=g,i;case de:return i=oi(19,o,r,f),i.elementType=de,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:b=10;break e;case q:b=9;break e;case oe:b=11;break e;case I:b=14;break e;case S:b=16,c=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=oi(b,o,r,f),r.elementType=i,r.type=c,r.lanes=g,r}function ja(i,r,o,c){return i=oi(7,i,c,r),i.lanes=o,i}function wm(i,r,o){return i=oi(6,i,null,r),i.lanes=o,i}function $0(i){var r=oi(18,null,null,0);return r.stateNode=i,r}function Em(i,r,o){return r=oi(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Y0=new WeakMap;function xi(i,r){if(typeof i=="object"&&i!==null){var o=Y0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Ot(r)},Y0.set(i,r),r)}return{value:i,source:r,stack:Ot(r)}}var Po=[],Oo=0,bh=null,fc=0,Si=[],Ai=0,Ir=null,vs=1,_s="";function qs(i,r){Po[Oo++]=fc,Po[Oo++]=bh,bh=i,fc=r}function Q0(i,r,o){Si[Ai++]=vs,Si[Ai++]=_s,Si[Ai++]=Ir,Ir=i;var c=vs;i=_s;var f=32-Ct(c)-1;c&=~(1<<f),o+=1;var g=32-Ct(r)+f;if(30<g){var b=f-f%5;g=(c&(1<<b)-1).toString(32),c>>=b,f-=b,vs=1<<32-Ct(r)+f|o<<f|c,_s=g+i}else vs=1<<g|o<<f|c,_s=i}function xm(i){i.return!==null&&(qs(i,1),Q0(i,1,0))}function Sm(i){for(;i===bh;)bh=Po[--Oo],Po[Oo]=null,fc=Po[--Oo],Po[Oo]=null;for(;i===Ir;)Ir=Si[--Ai],Si[Ai]=null,_s=Si[--Ai],Si[Ai]=null,vs=Si[--Ai],Si[Ai]=null}function X0(i,r){Si[Ai++]=vs,Si[Ai++]=_s,Si[Ai++]=Ir,vs=r.id,_s=r.overflow,Ir=i}var bn=null,xt=null,nt=!1,Dr=null,Ci=!1,Am=Error(s(519));function Nr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dc(xi(r,i)),Am}function W0(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Yt]=i,r[dn]=c,o){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(o=0;o<Pc.length;o++)Ye(Pc[o],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":Ye("invalid",r),Ju(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ye("invalid",r);break;case"textarea":Ye("invalid",r),wr(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||mT(r.textContent,o)?(c.popover!=null&&(Ye("beforetoggle",r),Ye("toggle",r)),c.onScroll!=null&&Ye("scroll",r),c.onScrollEnd!=null&&Ye("scrollend",r),c.onClick!=null&&(r.onclick=Hi),r=!0):r=!1,r||Nr(i,!0)}function Z0(i){for(bn=i.return;bn;)switch(bn.tag){case 5:case 31:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:bn=bn.return}}function Lo(i){if(i!==bn)return!1;if(!nt)return Z0(i),nt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||qp(i.type,i.memoizedProps)),o=!o),o&&xt&&Nr(i),Z0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));xt=ET(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));xt=ET(i)}else r===27?(r=xt,Gr(i.type)?(i=Qp,Qp=null,xt=i):xt=r):xt=bn?Ii(i.stateNode.nextSibling):null;return!0}function Ua(){xt=bn=null,nt=!1}function Cm(){var i=Dr;return i!==null&&(Wn===null?Wn=i:Wn.push.apply(Wn,i),Dr=null),i}function dc(i){Dr===null?Dr=[i]:Dr.push(i)}var Rm=x(null),za=null,Gs=null;function kr(i,r,o){ee(Rm,r._currentValue),r._currentValue=o}function Ks(i){i._currentValue=Rm.current,K(Rm)}function Im(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function Dm(i,r,o,c){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var b=f.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=f;for(var U=0;U<r.length;U++)if(A.context===r[U]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Im(g.return,o,i),c||(b=null);break e}g=A.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Im(b,o,i),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===i){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function jo(i,r,o,c){i=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var A=f.type;ai(f.pendingProps.value,b.value)||(i!==null?i.push(A):i=[A])}}else if(f===fe.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(zc):i=[zc])}f=f.return}i!==null&&Dm(r,i,o,c),r.flags|=262144}function Th(i){for(i=i.firstContext;i!==null;){if(!ai(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ba(i){za=i,Gs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Tn(i){return J0(za,i)}function wh(i,r){return za===null&&Ba(i),J0(i,r)}function J0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Gs===null){if(i===null)throw Error(s(308));Gs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Gs=Gs.next=r;return o}var O2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},L2=t.unstable_scheduleCallback,j2=t.unstable_NormalPriority,Wt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nm(){return{controller:new O2,data:new Map,refCount:0}}function mc(i){i.refCount--,i.refCount===0&&L2(j2,function(){i.controller.abort()})}var pc=null,km=0,Uo=0,zo=null;function U2(i,r){if(pc===null){var o=pc=[];km=0,Uo=Pp(),zo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return km++,r.then(e_,e_),r}function e_(){if(--km===0&&pc!==null){zo!==null&&(zo.status="fulfilled");var i=pc;pc=null,Uo=0,zo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function z2(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var t_=Z.S;Z.S=function(i,r){jb=$t(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&U2(i,r),t_!==null&&t_(i,r)};var Fa=x(null);function Mm(){var i=Fa.current;return i!==null?i:_t.pooledCache}function Eh(i,r){r===null?ee(Fa,Fa.current):ee(Fa,r.pool)}function n_(){var i=Mm();return i===null?null:{parent:Wt._currentValue,pool:i}}var Bo=Error(s(460)),Vm=Error(s(474)),xh=Error(s(542)),Sh={then:function(){}};function i_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function s_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Hi,Hi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,a_(i),i;default:if(typeof r.status=="string")r.then(Hi,Hi);else{if(i=_t,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,a_(i),i}throw qa=r,Bo}}function Ha(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(qa=o,Bo):o}}var qa=null;function r_(){if(qa===null)throw Error(s(459));var i=qa;return qa=null,i}function a_(i){if(i===Bo||i===xh)throw Error(s(483))}var Fo=null,gc=0;function Ah(i){var r=gc;return gc+=1,Fo===null&&(Fo=[]),s_(Fo,i,r)}function yc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ch(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function o_(i){function r(G,B){if(i){var Q=G.deletions;Q===null?(G.deletions=[B],G.flags|=16):Q.push(B)}}function o(G,B){if(!i)return null;for(;B!==null;)r(G,B),B=B.sibling;return null}function c(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function f(G,B){return G=Hs(G,B),G.index=0,G.sibling=null,G}function g(G,B,Q){return G.index=Q,i?(Q=G.alternate,Q!==null?(Q=Q.index,Q<B?(G.flags|=67108866,B):Q):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function b(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function A(G,B,Q,ae){return B===null||B.tag!==6?(B=wm(Q,G.mode,ae),B.return=G,B):(B=f(B,Q),B.return=G,B)}function U(G,B,Q,ae){var De=Q.type;return De===j?ie(G,B,Q.props.children,ae,Q.key):B!==null&&(B.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===S&&Ha(De)===B.type)?(B=f(B,Q.props),yc(B,Q),B.return=G,B):(B=_h(Q.type,Q.key,Q.props,null,G.mode,ae),yc(B,Q),B.return=G,B)}function X(G,B,Q,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=Em(Q,G.mode,ae),B.return=G,B):(B=f(B,Q.children||[]),B.return=G,B)}function ie(G,B,Q,ae,De){return B===null||B.tag!==7?(B=ja(Q,G.mode,ae,De),B.return=G,B):(B=f(B,Q),B.return=G,B)}function le(G,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=wm(""+B,G.mode,Q),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case R:return Q=_h(B.type,B.key,B.props,null,G.mode,Q),yc(Q,B),Q.return=G,Q;case L:return B=Em(B,G.mode,Q),B.return=G,B;case S:return B=Ha(B),le(G,B,Q)}if(Se(B)||P(B))return B=ja(B,G.mode,Q,null),B.return=G,B;if(typeof B.then=="function")return le(G,Ah(B),Q);if(B.$$typeof===H)return le(G,wh(G,B),Q);Ch(G,B)}return null}function W(G,B,Q,ae){var De=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return De!==null?null:A(G,B,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case R:return Q.key===De?U(G,B,Q,ae):null;case L:return Q.key===De?X(G,B,Q,ae):null;case S:return Q=Ha(Q),W(G,B,Q,ae)}if(Se(Q)||P(Q))return De!==null?null:ie(G,B,Q,ae,null);if(typeof Q.then=="function")return W(G,B,Ah(Q),ae);if(Q.$$typeof===H)return W(G,B,wh(G,Q),ae);Ch(G,Q)}return null}function te(G,B,Q,ae,De){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return G=G.get(Q)||null,A(B,G,""+ae,De);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case R:return G=G.get(ae.key===null?Q:ae.key)||null,U(B,G,ae,De);case L:return G=G.get(ae.key===null?Q:ae.key)||null,X(B,G,ae,De);case S:return ae=Ha(ae),te(G,B,Q,ae,De)}if(Se(ae)||P(ae))return G=G.get(Q)||null,ie(B,G,ae,De,null);if(typeof ae.then=="function")return te(G,B,Q,Ah(ae),De);if(ae.$$typeof===H)return te(G,B,Q,wh(B,ae),De);Ch(B,ae)}return null}function we(G,B,Q,ae){for(var De=null,st=null,Ae=B,Be=B=0,We=null;Ae!==null&&Be<Q.length;Be++){Ae.index>Be?(We=Ae,Ae=null):We=Ae.sibling;var rt=W(G,Ae,Q[Be],ae);if(rt===null){Ae===null&&(Ae=We);break}i&&Ae&&rt.alternate===null&&r(G,Ae),B=g(rt,B,Be),st===null?De=rt:st.sibling=rt,st=rt,Ae=We}if(Be===Q.length)return o(G,Ae),nt&&qs(G,Be),De;if(Ae===null){for(;Be<Q.length;Be++)Ae=le(G,Q[Be],ae),Ae!==null&&(B=g(Ae,B,Be),st===null?De=Ae:st.sibling=Ae,st=Ae);return nt&&qs(G,Be),De}for(Ae=c(Ae);Be<Q.length;Be++)We=te(Ae,G,Be,Q[Be],ae),We!==null&&(i&&We.alternate!==null&&Ae.delete(We.key===null?Be:We.key),B=g(We,B,Be),st===null?De=We:st.sibling=We,st=We);return i&&Ae.forEach(function(Xr){return r(G,Xr)}),nt&&qs(G,Be),De}function ke(G,B,Q,ae){if(Q==null)throw Error(s(151));for(var De=null,st=null,Ae=B,Be=B=0,We=null,rt=Q.next();Ae!==null&&!rt.done;Be++,rt=Q.next()){Ae.index>Be?(We=Ae,Ae=null):We=Ae.sibling;var Xr=W(G,Ae,rt.value,ae);if(Xr===null){Ae===null&&(Ae=We);break}i&&Ae&&Xr.alternate===null&&r(G,Ae),B=g(Xr,B,Be),st===null?De=Xr:st.sibling=Xr,st=Xr,Ae=We}if(rt.done)return o(G,Ae),nt&&qs(G,Be),De;if(Ae===null){for(;!rt.done;Be++,rt=Q.next())rt=le(G,rt.value,ae),rt!==null&&(B=g(rt,B,Be),st===null?De=rt:st.sibling=rt,st=rt);return nt&&qs(G,Be),De}for(Ae=c(Ae);!rt.done;Be++,rt=Q.next())rt=te(Ae,G,Be,rt.value,ae),rt!==null&&(i&&rt.alternate!==null&&Ae.delete(rt.key===null?Be:rt.key),B=g(rt,B,Be),st===null?De=rt:st.sibling=rt,st=rt);return i&&Ae.forEach(function(WI){return r(G,WI)}),nt&&qs(G,Be),De}function yt(G,B,Q,ae){if(typeof Q=="object"&&Q!==null&&Q.type===j&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case R:e:{for(var De=Q.key;B!==null;){if(B.key===De){if(De=Q.type,De===j){if(B.tag===7){o(G,B.sibling),ae=f(B,Q.props.children),ae.return=G,G=ae;break e}}else if(B.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===S&&Ha(De)===B.type){o(G,B.sibling),ae=f(B,Q.props),yc(ae,Q),ae.return=G,G=ae;break e}o(G,B);break}else r(G,B);B=B.sibling}Q.type===j?(ae=ja(Q.props.children,G.mode,ae,Q.key),ae.return=G,G=ae):(ae=_h(Q.type,Q.key,Q.props,null,G.mode,ae),yc(ae,Q),ae.return=G,G=ae)}return b(G);case L:e:{for(De=Q.key;B!==null;){if(B.key===De)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){o(G,B.sibling),ae=f(B,Q.children||[]),ae.return=G,G=ae;break e}else{o(G,B);break}else r(G,B);B=B.sibling}ae=Em(Q,G.mode,ae),ae.return=G,G=ae}return b(G);case S:return Q=Ha(Q),yt(G,B,Q,ae)}if(Se(Q))return we(G,B,Q,ae);if(P(Q)){if(De=P(Q),typeof De!="function")throw Error(s(150));return Q=De.call(Q),ke(G,B,Q,ae)}if(typeof Q.then=="function")return yt(G,B,Ah(Q),ae);if(Q.$$typeof===H)return yt(G,B,wh(G,Q),ae);Ch(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,B!==null&&B.tag===6?(o(G,B.sibling),ae=f(B,Q),ae.return=G,G=ae):(o(G,B),ae=wm(Q,G.mode,ae),ae.return=G,G=ae),b(G)):o(G,B)}return function(G,B,Q,ae){try{gc=0;var De=yt(G,B,Q,ae);return Fo=null,De}catch(Ae){if(Ae===Bo||Ae===xh)throw Ae;var st=oi(29,Ae,null,G.mode);return st.lanes=ae,st.return=G,st}}}var Ga=o_(!0),l_=o_(!1),Mr=!1;function Pm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Om(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Vr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Pr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(ot&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=vh(i),G0(i,null,o),r}return yh(i,c,r,o),vh(i)}function vc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Ie(i,o)}}function Lm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var jm=!1;function _c(){if(jm){var i=zo;if(i!==null)throw i}}function bc(i,r,o,c){jm=!1;var f=i.updateQueue;Mr=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var U=A,X=U.next;U.next=null,b===null?g=X:b.next=X,b=U;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==b&&(A===null?ie.firstBaseUpdate=X:A.next=X,ie.lastBaseUpdate=U))}if(g!==null){var le=f.baseState;b=0,ie=X=U=null,A=g;do{var W=A.lane&-536870913,te=W!==A.lane;if(te?(Xe&W)===W:(c&W)===W){W!==0&&W===Uo&&(jm=!0),ie!==null&&(ie=ie.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var we=i,ke=A;W=r;var yt=o;switch(ke.tag){case 1:if(we=ke.payload,typeof we=="function"){le=we.call(yt,le,W);break e}le=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ke.payload,W=typeof we=="function"?we.call(yt,le,W):we,W==null)break e;le=v({},le,W);break e;case 2:Mr=!0}}W=A.callback,W!==null&&(i.flags|=64,te&&(i.flags|=8192),te=f.callbacks,te===null?f.callbacks=[W]:te.push(W))}else te={lane:W,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(X=ie=te,U=le):ie=ie.next=te,b|=W;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;te=A,A=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);ie===null&&(U=le),f.baseState=U,f.firstBaseUpdate=X,f.lastBaseUpdate=ie,g===null&&(f.shared.lanes=0),zr|=b,i.lanes=b,i.memoizedState=le}}function c_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function u_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)c_(o[i],r)}var Ho=x(null),Rh=x(0);function h_(i,r){i=tr,ee(Rh,i),ee(Ho,r),tr=i|r.baseLanes}function Um(){ee(Rh,tr),ee(Ho,Ho.current)}function zm(){tr=Rh.current,K(Ho),K(Rh)}var li=x(null),Ri=null;function Or(i){var r=i.alternate;ee(qt,qt.current&1),ee(li,i),Ri===null&&(r===null||Ho.current!==null||r.memoizedState!==null)&&(Ri=i)}function Bm(i){ee(qt,qt.current),ee(li,i),Ri===null&&(Ri=i)}function f_(i){i.tag===22?(ee(qt,qt.current),ee(li,i),Ri===null&&(Ri=i)):Lr()}function Lr(){ee(qt,qt.current),ee(li,li.current)}function ci(i){K(li),Ri===i&&(Ri=null),K(qt)}var qt=x(0);function Ih(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||$p(o)||Yp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var $s=0,ze=null,pt=null,Zt=null,Dh=!1,qo=!1,Ka=!1,Nh=0,Tc=0,Go=null,B2=0;function Ut(){throw Error(s(321))}function Fm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!ai(i[o],r[o]))return!1;return!0}function Hm(i,r,o,c,f,g){return $s=g,ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=i===null||i.memoizedState===null?Q_:sp,Ka=!1,g=o(c,f),Ka=!1,qo&&(g=m_(r,o,c,f)),d_(i),g}function d_(i){Z.H=xc;var r=pt!==null&&pt.next!==null;if($s=0,Zt=pt=ze=null,Dh=!1,Tc=0,Go=null,r)throw Error(s(300));i===null||Jt||(i=i.dependencies,i!==null&&Th(i)&&(Jt=!0))}function m_(i,r,o,c){ze=i;var f=0;do{if(qo&&(Go=null),Tc=0,qo=!1,25<=f)throw Error(s(301));if(f+=1,Zt=pt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=X_,g=r(o,c)}while(qo);return g}function F2(){var i=Z.H,r=i.useState()[0];return r=typeof r.then=="function"?wc(r):r,i=i.useState()[0],(pt!==null?pt.memoizedState:null)!==i&&(ze.flags|=1024),r}function qm(){var i=Nh!==0;return Nh=0,i}function Gm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Km(i){if(Dh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Dh=!1}$s=0,Zt=pt=ze=null,qo=!1,Tc=Nh=0,Go=null}function On(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?ze.memoizedState=Zt=i:Zt=Zt.next=i,Zt}function Gt(){if(pt===null){var i=ze.alternate;i=i!==null?i.memoizedState:null}else i=pt.next;var r=Zt===null?ze.memoizedState:Zt.next;if(r!==null)Zt=r,pt=i;else{if(i===null)throw ze.alternate===null?Error(s(467)):Error(s(310));pt=i,i={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Zt===null?ze.memoizedState=Zt=i:Zt=Zt.next=i}return Zt}function kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wc(i){var r=Tc;return Tc+=1,Go===null&&(Go=[]),i=s_(Go,i,r),r=ze,(Zt===null?r.memoizedState:Zt.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?Q_:sp),i}function Mh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return wc(i);if(i.$$typeof===H)return Tn(i)}throw Error(s(438,String(i)))}function $m(i){var r=null,o=ze.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=kh(),ze.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=V;return r.index++,o}function Ys(i,r){return typeof r=="function"?r(i):r}function Vh(i){var r=Gt();return Ym(r,pt,i)}function Ym(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var f=i.baseQueue,g=c.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}r.baseQueue=f=g,c.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{r=f.next;var A=b=null,U=null,X=r,ie=!1;do{var le=X.lane&-536870913;if(le!==X.lane?(Xe&le)===le:($s&le)===le){var W=X.revertLane;if(W===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),le===Uo&&(ie=!0);else if(($s&W)===W){X=X.next,W===Uo&&(ie=!0);continue}else le={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(A=U=le,b=g):U=U.next=le,ze.lanes|=W,zr|=W;le=X.action,Ka&&o(g,le),g=X.hasEagerState?X.eagerState:o(g,le)}else W={lane:le,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(A=U=W,b=g):U=U.next=W,ze.lanes|=le,zr|=le;X=X.next}while(X!==null&&X!==r);if(U===null?b=g:U.next=A,!ai(g,i.memoizedState)&&(Jt=!0,ie&&(o=zo,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=U,c.lastRenderedState=g}return f===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Qm(i){var r=Gt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do g=i(g,b.action),b=b.next;while(b!==f);ai(g,r.memoizedState)||(Jt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function p_(i,r,o){var c=ze,f=Gt(),g=nt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!ai((pt||f).memoizedState,o);if(b&&(f.memoizedState=o,Jt=!0),f=f.queue,Zm(v_.bind(null,c,f,i),[i]),f.getSnapshot!==r||b||Zt!==null&&Zt.memoizedState.tag&1){if(c.flags|=2048,Ko(9,{destroy:void 0},y_.bind(null,c,f,o,r),null),_t===null)throw Error(s(349));g||($s&127)!==0||g_(c,r,o)}return o}function g_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=ze.updateQueue,r===null?(r=kh(),ze.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function y_(i,r,o,c){r.value=o,r.getSnapshot=c,__(r)&&b_(i)}function v_(i,r,o){return o(function(){__(r)&&b_(i)})}function __(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!ai(i,o)}catch{return!0}}function b_(i){var r=La(i,2);r!==null&&Zn(r,i,2)}function Xm(i){var r=On();if(typeof i=="function"){var o=i;if(i=o(),Ka){Fn(!0);try{o()}finally{Fn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:i},r}function T_(i,r,o,c){return i.baseState=o,Ym(i,pt,typeof c=="function"?c:Ys)}function H2(i,r,o,c,f){if(Lh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};Z.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,w_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function w_(i,r){var o=r.action,c=r.payload,f=i.state;if(r.isTransition){var g=Z.T,b={};Z.T=b;try{var A=o(f,c),U=Z.S;U!==null&&U(b,A),E_(i,r,A)}catch(X){Wm(i,r,X)}finally{g!==null&&b.types!==null&&(g.types=b.types),Z.T=g}}else try{g=o(f,c),E_(i,r,g)}catch(X){Wm(i,r,X)}}function E_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){x_(i,r,c)},function(c){return Wm(i,r,c)}):x_(i,r,o)}function x_(i,r,o){r.status="fulfilled",r.value=o,S_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,w_(i,o)))}function Wm(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,S_(r),r=r.next;while(r!==c)}i.action=null}function S_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function A_(i,r){return r}function C_(i,r){if(nt){var o=_t.formState;if(o!==null){e:{var c=ze;if(nt){if(xt){t:{for(var f=xt,g=Ci;f.nodeType!==8;){if(!g){f=null;break t}if(f=Ii(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){xt=Ii(f.nextSibling),c=f.data==="F!";break e}}Nr(c)}c=!1}c&&(r=o[0])}}return o=On(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A_,lastRenderedState:r},o.queue=c,o=K_.bind(null,ze,c),c.dispatch=o,c=Xm(!1),g=ip.bind(null,ze,!1,c.queue),c=On(),f={state:r,dispatch:null,action:i,pending:null},c.queue=f,o=H2.bind(null,ze,f,g,o),f.dispatch=o,c.memoizedState=i,[r,o,!1]}function R_(i){var r=Gt();return I_(r,pt,i)}function I_(i,r,o){if(r=Ym(i,r,A_)[0],i=Vh(Ys)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=wc(r)}catch(b){throw b===Bo?xh:b}else c=r;r=Gt();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(ze.flags|=2048,Ko(9,{destroy:void 0},q2.bind(null,f,o),null)),[c,g,i]}function q2(i,r){i.action=r}function D_(i){var r=Gt(),o=pt;if(o!==null)return I_(r,o,i);Gt(),r=r.memoizedState,o=Gt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Ko(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=ze.updateQueue,r===null&&(r=kh(),ze.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function N_(){return Gt().memoizedState}function Ph(i,r,o,c){var f=On();ze.flags|=i,f.memoizedState=Ko(1|r,{destroy:void 0},o,c===void 0?null:c)}function Oh(i,r,o,c){var f=Gt();c=c===void 0?null:c;var g=f.memoizedState.inst;pt!==null&&c!==null&&Fm(c,pt.memoizedState.deps)?f.memoizedState=Ko(r,g,o,c):(ze.flags|=i,f.memoizedState=Ko(1|r,g,o,c))}function k_(i,r){Ph(8390656,8,i,r)}function Zm(i,r){Oh(2048,8,i,r)}function G2(i){ze.flags|=4;var r=ze.updateQueue;if(r===null)r=kh(),ze.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function M_(i){var r=Gt().memoizedState;return G2({ref:r,nextImpl:i}),function(){if((ot&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function V_(i,r){return Oh(4,2,i,r)}function P_(i,r){return Oh(4,4,i,r)}function O_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function L_(i,r,o){o=o!=null?o.concat([i]):null,Oh(4,4,O_.bind(null,r,i),o)}function Jm(){}function j_(i,r){var o=Gt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Fm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function U_(i,r){var o=Gt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Fm(r,c[1]))return c[0];if(c=i(),Ka){Fn(!0);try{i()}finally{Fn(!1)}}return o.memoizedState=[c,r],c}function ep(i,r,o){return o===void 0||($s&1073741824)!==0&&(Xe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=zb(),ze.lanes|=i,zr|=i,o)}function z_(i,r,o,c){return ai(o,r)?o:Ho.current!==null?(i=ep(i,o,c),ai(i,r)||(Jt=!0),i):($s&42)===0||($s&1073741824)!==0&&(Xe&261930)===0?(Jt=!0,i.memoizedState=o):(i=zb(),ze.lanes|=i,zr|=i,r)}function B_(i,r,o,c,f){var g=he.p;he.p=g!==0&&8>g?g:8;var b=Z.T,A={};Z.T=A,ip(i,!1,r,o);try{var U=f(),X=Z.S;if(X!==null&&X(A,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ie=z2(U,c);Ec(i,r,ie,fi(i))}else Ec(i,r,c,fi(i))}catch(le){Ec(i,r,{then:function(){},status:"rejected",reason:le},fi())}finally{he.p=g,b!==null&&A.types!==null&&(b.types=A.types),Z.T=b}}function K2(){}function tp(i,r,o,c){if(i.tag!==5)throw Error(s(476));var f=F_(i).queue;B_(i,f,r,re,o===null?K2:function(){return H_(i),o(c)})}function F_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:re},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function H_(i){var r=F_(i);r.next===null&&(r=i.alternate.memoizedState),Ec(i,r.next.queue,{},fi())}function np(){return Tn(zc)}function q_(){return Gt().memoizedState}function G_(){return Gt().memoizedState}function $2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=fi();i=Vr(o);var c=Pr(r,i,o);c!==null&&(Zn(c,r,o),vc(c,r,o)),r={cache:Nm()},i.payload=r;return}r=r.return}}function Y2(i,r,o){var c=fi();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lh(i)?$_(r,o):(o=bm(i,r,o,c),o!==null&&(Zn(o,i,c),Y_(o,r,c)))}function K_(i,r,o){var c=fi();Ec(i,r,o,c)}function Ec(i,r,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Lh(i))$_(r,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,A=g(b,o);if(f.hasEagerState=!0,f.eagerState=A,ai(A,b))return yh(i,r,f,0),_t===null&&gh(),!1}catch{}if(o=bm(i,r,f,c),o!==null)return Zn(o,i,c),Y_(o,r,c),!0}return!1}function ip(i,r,o,c){if(c={lane:2,revertLane:Pp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Lh(i)){if(r)throw Error(s(479))}else r=bm(i,o,c,2),r!==null&&Zn(r,i,2)}function Lh(i){var r=i.alternate;return i===ze||r!==null&&r===ze}function $_(i,r){qo=Dh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Y_(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Ie(i,o)}}var xc={readContext:Tn,use:Mh,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut};xc.useEffectEvent=Ut;var Q_={readContext:Tn,use:Mh,useCallback:function(i,r){return On().memoizedState=[i,r===void 0?null:r],i},useContext:Tn,useEffect:k_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Ph(4194308,4,O_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Ph(4194308,4,i,r)},useInsertionEffect:function(i,r){Ph(4,2,i,r)},useMemo:function(i,r){var o=On();r=r===void 0?null:r;var c=i();if(Ka){Fn(!0);try{i()}finally{Fn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=On();if(o!==void 0){var f=o(r);if(Ka){Fn(!0);try{o(r)}finally{Fn(!1)}}}else f=r;return c.memoizedState=c.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},c.queue=i,i=i.dispatch=Y2.bind(null,ze,i),[c.memoizedState,i]},useRef:function(i){var r=On();return i={current:i},r.memoizedState=i},useState:function(i){i=Xm(i);var r=i.queue,o=K_.bind(null,ze,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Jm,useDeferredValue:function(i,r){var o=On();return ep(o,i,r)},useTransition:function(){var i=Xm(!1);return i=B_.bind(null,ze,i.queue,!0,!1),On().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=ze,f=On();if(nt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),_t===null)throw Error(s(349));(Xe&127)!==0||g_(c,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,k_(v_.bind(null,c,g,i),[i]),c.flags|=2048,Ko(9,{destroy:void 0},y_.bind(null,c,g,o,r),null),o},useId:function(){var i=On(),r=_t.identifierPrefix;if(nt){var o=_s,c=vs;o=(c&~(1<<32-Ct(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Nh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=B2++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:np,useFormState:C_,useActionState:C_,useOptimistic:function(i){var r=On();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=ip.bind(null,ze,!0,o),o.dispatch=r,[i,r]},useMemoCache:$m,useCacheRefresh:function(){return On().memoizedState=$2.bind(null,ze)},useEffectEvent:function(i){var r=On(),o={impl:i};return r.memoizedState=o,function(){if((ot&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},sp={readContext:Tn,use:Mh,useCallback:j_,useContext:Tn,useEffect:Zm,useImperativeHandle:L_,useInsertionEffect:V_,useLayoutEffect:P_,useMemo:U_,useReducer:Vh,useRef:N_,useState:function(){return Vh(Ys)},useDebugValue:Jm,useDeferredValue:function(i,r){var o=Gt();return z_(o,pt.memoizedState,i,r)},useTransition:function(){var i=Vh(Ys)[0],r=Gt().memoizedState;return[typeof i=="boolean"?i:wc(i),r]},useSyncExternalStore:p_,useId:q_,useHostTransitionStatus:np,useFormState:R_,useActionState:R_,useOptimistic:function(i,r){var o=Gt();return T_(o,pt,i,r)},useMemoCache:$m,useCacheRefresh:G_};sp.useEffectEvent=M_;var X_={readContext:Tn,use:Mh,useCallback:j_,useContext:Tn,useEffect:Zm,useImperativeHandle:L_,useInsertionEffect:V_,useLayoutEffect:P_,useMemo:U_,useReducer:Qm,useRef:N_,useState:function(){return Qm(Ys)},useDebugValue:Jm,useDeferredValue:function(i,r){var o=Gt();return pt===null?ep(o,i,r):z_(o,pt.memoizedState,i,r)},useTransition:function(){var i=Qm(Ys)[0],r=Gt().memoizedState;return[typeof i=="boolean"?i:wc(i),r]},useSyncExternalStore:p_,useId:q_,useHostTransitionStatus:np,useFormState:D_,useActionState:D_,useOptimistic:function(i,r){var o=Gt();return pt!==null?T_(o,pt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:$m,useCacheRefresh:G_};X_.useEffectEvent=M_;function rp(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var ap={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=fi(),f=Vr(c);f.payload=r,o!=null&&(f.callback=o),r=Pr(i,f,c),r!==null&&(Zn(r,i,c),vc(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=fi(),f=Vr(c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Pr(i,f,c),r!==null&&(Zn(r,i,c),vc(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=fi(),c=Vr(o);c.tag=2,r!=null&&(c.callback=r),r=Pr(i,c,o),r!==null&&(Zn(r,i,o),vc(r,i,o))}};function W_(i,r,o,c,f,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,b):r.prototype&&r.prototype.isPureReactComponent?!uc(o,c)||!uc(f,g):!0}function Z_(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&ap.enqueueReplaceState(r,r.state,null)}function $a(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function J_(i){ph(i)}function eb(i){console.error(i)}function tb(i){ph(i)}function jh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function nb(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function op(i,r,o){return o=Vr(o),o.tag=3,o.payload={element:null},o.callback=function(){jh(i,r)},o}function ib(i){return i=Vr(i),i.tag=3,i}function sb(i,r,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=c.value;i.payload=function(){return f(g)},i.callback=function(){nb(r,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){nb(r,o,c),typeof f!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function Q2(i,r,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&jo(r,o,f,!0),o=li.current,o!==null){switch(o.tag){case 31:case 13:return Ri===null?Xh():o.alternate===null&&zt===0&&(zt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===Sh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),kp(i,c,f)),!1;case 22:return o.flags|=65536,c===Sh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),kp(i,c,f)),!1}throw Error(s(435,o.tag))}return kp(i,c,f),Xh(),!1}if(nt)return r=li.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==Am&&(i=Error(s(422),{cause:c}),dc(xi(i,o)))):(c!==Am&&(r=Error(s(423),{cause:c}),dc(xi(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,c=xi(c,o),f=op(i.stateNode,c,f),Lm(i,f),zt!==4&&(zt=2)),!1;var g=Error(s(520),{cause:c});if(g=xi(g,o),kc===null?kc=[g]:kc.push(g),zt!==4&&(zt=2),r===null)return!0;c=xi(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=op(o.stateNode,c,i),Lm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Br===null||!Br.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=ib(f),sb(f,i,o,c),Lm(o,f),!1}o=o.return}while(o!==null);return!1}var lp=Error(s(461)),Jt=!1;function wn(i,r,o,c){r.child=i===null?l_(r,null,o,c):Ga(r,i.child,o,c)}function rb(i,r,o,c,f){o=o.render;var g=r.ref;if("ref"in c){var b={};for(var A in c)A!=="ref"&&(b[A]=c[A])}else b=c;return Ba(r),c=Hm(i,r,o,b,g,f),A=qm(),i!==null&&!Jt?(Gm(i,r,f),Qs(i,r,f)):(nt&&A&&xm(r),r.flags|=1,wn(i,r,c,f),r.child)}function ab(i,r,o,c,f){if(i===null){var g=o.type;return typeof g=="function"&&!Tm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,ob(i,r,g,c,f)):(i=_h(o.type,null,c,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!gp(i,f)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:uc,o(b,c)&&i.ref===r.ref)return Qs(i,r,f)}return r.flags|=1,i=Hs(g,c),i.ref=r.ref,i.return=r,r.child=i}function ob(i,r,o,c,f){if(i!==null){var g=i.memoizedProps;if(uc(g,c)&&i.ref===r.ref)if(Jt=!1,r.pendingProps=c=g,gp(i,f))(i.flags&131072)!==0&&(Jt=!0);else return r.lanes=i.lanes,Qs(i,r,f)}return cp(i,r,o,c,f)}function lb(i,r,o,c){var f=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~g}else c=0,r.child=null;return cb(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Eh(r,g!==null?g.cachePool:null),g!==null?h_(r,g):Um(),f_(r);else return c=r.lanes=536870912,cb(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Eh(r,g.cachePool),h_(r,g),Lr(),r.memoizedState=null):(i!==null&&Eh(r,null),Um(),Lr());return wn(i,r,f,o),r.child}function Sc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function cb(i,r,o,c,f){var g=Mm();return g=g===null?null:{parent:Wt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Eh(r,null),Um(),f_(r),i!==null&&jo(i,r,c,!0),r.childLanes=f,null}function Uh(i,r){return r=Bh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function ub(i,r,o){return Ga(r,i.child,null,o),i=Uh(r,r.pendingProps),i.flags|=2,ci(r),r.memoizedState=null,i}function X2(i,r,o){var c=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(nt){if(c.mode==="hidden")return i=Uh(r,c),r.lanes=536870912,Sc(null,i);if(Bm(r),(i=xt)?(i=wT(i,Ci),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ir!==null?{id:vs,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},o=$0(i),o.return=r,r.child=o,bn=r,xt=null)):i=null,i===null)throw Nr(r);return r.lanes=536870912,null}return Uh(r,c)}var g=i.memoizedState;if(g!==null){var b=g.dehydrated;if(Bm(r),f)if(r.flags&256)r.flags&=-257,r=ub(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Jt||jo(i,r,o,!1),f=(o&i.childLanes)!==0,Jt||f){if(c=_t,c!==null&&(b=wt(c,o),b!==0&&b!==g.retryLane))throw g.retryLane=b,La(i,b),Zn(c,i,b),lp;Xh(),r=ub(i,r,o)}else i=g.treeContext,xt=Ii(b.nextSibling),bn=r,nt=!0,Dr=null,Ci=!1,i!==null&&X0(r,i),r=Uh(r,c),r.flags|=4096;return r}return i=Hs(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function zh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function cp(i,r,o,c,f){return Ba(r),o=Hm(i,r,o,c,void 0,f),c=qm(),i!==null&&!Jt?(Gm(i,r,f),Qs(i,r,f)):(nt&&c&&xm(r),r.flags|=1,wn(i,r,o,f),r.child)}function hb(i,r,o,c,f,g){return Ba(r),r.updateQueue=null,o=m_(r,c,o,f),d_(i),c=qm(),i!==null&&!Jt?(Gm(i,r,g),Qs(i,r,g)):(nt&&c&&xm(r),r.flags|=1,wn(i,r,o,g),r.child)}function fb(i,r,o,c,f){if(Ba(r),r.stateNode===null){var g=Vo,b=o.contextType;typeof b=="object"&&b!==null&&(g=Tn(b)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ap,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},Pm(r),b=o.contextType,g.context=typeof b=="object"&&b!==null?Tn(b):Vo,g.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(rp(r,o,b,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&ap.enqueueReplaceState(g,g.state,null),bc(r,c,g,f),_c(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var A=r.memoizedProps,U=$a(o,A);g.props=U;var X=g.context,ie=o.contextType;b=Vo,typeof ie=="object"&&ie!==null&&(b=Tn(ie));var le=o.getDerivedStateFromProps;ie=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ie||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||X!==b)&&Z_(r,g,c,b),Mr=!1;var W=r.memoizedState;g.state=W,bc(r,c,g,f),_c(),X=r.memoizedState,A||W!==X||Mr?(typeof le=="function"&&(rp(r,o,le,c),X=r.memoizedState),(U=Mr||W_(r,o,U,c,W,X,b))?(ie||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=X),g.props=c,g.state=X,g.context=b,c=U):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Om(i,r),b=r.memoizedProps,ie=$a(o,b),g.props=ie,le=r.pendingProps,W=g.context,X=o.contextType,U=Vo,typeof X=="object"&&X!==null&&(U=Tn(X)),A=o.getDerivedStateFromProps,(X=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==le||W!==U)&&Z_(r,g,c,U),Mr=!1,W=r.memoizedState,g.state=W,bc(r,c,g,f),_c();var te=r.memoizedState;b!==le||W!==te||Mr||i!==null&&i.dependencies!==null&&Th(i.dependencies)?(typeof A=="function"&&(rp(r,o,A,c),te=r.memoizedState),(ie=Mr||W_(r,o,ie,c,W,te,U)||i!==null&&i.dependencies!==null&&Th(i.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,te,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,te,U)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=te),g.props=c,g.state=te,g.context=U,c=ie):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,zh(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=Ga(r,i.child,null,f),r.child=Ga(r,null,o,f)):wn(i,r,o,f),r.memoizedState=g.state,i=r.child):i=Qs(i,r,f),i}function db(i,r,o,c){return Ua(),r.flags|=256,wn(i,r,o,c),r.child}var up={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hp(i){return{baseLanes:i,cachePool:n_()}}function fp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=hi),i}function mb(i,r,o){var c=r.pendingProps,f=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(qt.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(nt){if(f?Or(r):Lr(),(i=xt)?(i=wT(i,Ci),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ir!==null?{id:vs,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},o=$0(i),o.return=r,r.child=o,bn=r,xt=null)):i=null,i===null)throw Nr(r);return Yp(i)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,f?(Lr(),f=r.mode,A=Bh({mode:"hidden",children:A},f),c=ja(c,f,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=hp(o),c.childLanes=fp(i,b,o),r.memoizedState=up,Sc(null,c)):(Or(r),dp(r,A))}var U=i.memoizedState;if(U!==null&&(A=U.dehydrated,A!==null)){if(g)r.flags&256?(Or(r),r.flags&=-257,r=mp(i,r,o)):r.memoizedState!==null?(Lr(),r.child=i.child,r.flags|=128,r=null):(Lr(),A=c.fallback,f=r.mode,c=Bh({mode:"visible",children:c.children},f),A=ja(A,f,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,Ga(r,i.child,null,o),c=r.child,c.memoizedState=hp(o),c.childLanes=fp(i,b,o),r.memoizedState=up,r=Sc(null,c));else if(Or(r),Yp(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var X=b.dgst;b=X,c=Error(s(419)),c.stack="",c.digest=b,dc({value:c,source:null,stack:null}),r=mp(i,r,o)}else if(Jt||jo(i,r,o,!1),b=(o&i.childLanes)!==0,Jt||b){if(b=_t,b!==null&&(c=wt(b,o),c!==0&&c!==U.retryLane))throw U.retryLane=c,La(i,c),Zn(b,i,c),lp;$p(A)||Xh(),r=mp(i,r,o)}else $p(A)?(r.flags|=192,r.child=i.child,r=null):(i=U.treeContext,xt=Ii(A.nextSibling),bn=r,nt=!0,Dr=null,Ci=!1,i!==null&&X0(r,i),r=dp(r,c.children),r.flags|=4096);return r}return f?(Lr(),A=c.fallback,f=r.mode,U=i.child,X=U.sibling,c=Hs(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,X!==null?A=Hs(X,A):(A=ja(A,f,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,Sc(null,c),c=r.child,A=i.child.memoizedState,A===null?A=hp(o):(f=A.cachePool,f!==null?(U=Wt._currentValue,f=f.parent!==U?{parent:U,pool:U}:f):f=n_(),A={baseLanes:A.baseLanes|o,cachePool:f}),c.memoizedState=A,c.childLanes=fp(i,b,o),r.memoizedState=up,Sc(i.child,c)):(Or(r),o=i.child,i=o.sibling,o=Hs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function dp(i,r){return r=Bh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Bh(i,r){return i=oi(22,i,null,r),i.lanes=0,i}function mp(i,r,o){return Ga(r,i.child,null,o),i=dp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function pb(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),Im(i.return,r,o)}function pp(i,r,o,c,f,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:g}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=f,b.treeForkCount=g)}function gb(i,r,o){var c=r.pendingProps,f=c.revealOrder,g=c.tail;c=c.children;var b=qt.current,A=(b&2)!==0;if(A?(b=b&1|2,r.flags|=128):b&=1,ee(qt,b),wn(i,r,c,o),c=nt?fc:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&pb(i,o,r);else if(i.tag===19)pb(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&Ih(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),pp(r,!1,f,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Ih(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}pp(r,!0,o,null,g,c);break;case"together":pp(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Qs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),zr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(jo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Hs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Hs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function gp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Th(i)))}function W2(i,r,o){switch(r.tag){case 3:_e(r,r.stateNode.containerInfo),kr(r,Wt,i.memoizedState.cache),Ua();break;case 27:case 5:He(r);break;case 4:_e(r,r.stateNode.containerInfo);break;case 10:kr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Bm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Or(r),r.flags|=128,null):(o&r.child.childLanes)!==0?mb(i,r,o):(Or(r),i=Qs(i,r,o),i!==null?i.sibling:null);Or(r);break;case 19:var f=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(jo(i,r,o,!1),c=(o&r.childLanes)!==0),f){if(c)return gb(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ee(qt,qt.current),c)break;return null;case 22:return r.lanes=0,lb(i,r,o,r.pendingProps);case 24:kr(r,Wt,i.memoizedState.cache)}return Qs(i,r,o)}function yb(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Jt=!0;else{if(!gp(i,o)&&(r.flags&128)===0)return Jt=!1,W2(i,r,o);Jt=(i.flags&131072)!==0}else Jt=!1,nt&&(r.flags&1048576)!==0&&Q0(r,fc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Ha(r.elementType),r.type=i,typeof i=="function")Tm(i)?(c=$a(i,c),r.tag=1,r=fb(null,r,i,c,o)):(r.tag=0,r=cp(null,r,i,c,o));else{if(i!=null){var f=i.$$typeof;if(f===oe){r.tag=11,r=rb(null,r,i,c,o);break e}else if(f===I){r.tag=14,r=ab(null,r,i,c,o);break e}}throw r=ye(i)||i,Error(s(306,r,""))}}return r;case 0:return cp(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,f=$a(c,r.pendingProps),fb(i,r,c,f,o);case 3:e:{if(_e(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;f=g.element,Om(i,r),bc(r,c,null,o);var b=r.memoizedState;if(c=b.cache,kr(r,Wt,c),c!==g.cache&&Dm(r,[Wt],o,!0),_c(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=db(i,r,c,o);break e}else if(c!==f){f=xi(Error(s(424)),r),dc(f),r=db(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,xt=Ii(i.firstChild),bn=r,nt=!0,Dr=null,Ci=!0,o=l_(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ua(),c===f){r=Qs(i,r,o);break e}wn(i,r,c,o)}r=r.child}return r;case 26:return zh(i,r),i===null?(o=RT(r.type,null,r.pendingProps,null))?r.memoizedState=o:nt||(o=r.type,i=r.pendingProps,c=sf(pe.current).createElement(o),c[Yt]=r,c[dn]=i,En(c,o,i),Qt(c),r.stateNode=c):r.memoizedState=RT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return He(r),i===null&&nt&&(c=r.stateNode=ST(r.type,r.pendingProps,pe.current),bn=r,Ci=!0,f=xt,Gr(r.type)?(Qp=f,xt=Ii(c.firstChild)):xt=f),wn(i,r,r.pendingProps.children,o),zh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&nt&&((f=c=xt)&&(c=CI(c,r.type,r.pendingProps,Ci),c!==null?(r.stateNode=c,bn=r,xt=Ii(c.firstChild),Ci=!1,f=!0):f=!1),f||Nr(r)),He(r),f=r.type,g=r.pendingProps,b=i!==null?i.memoizedProps:null,c=g.children,qp(f,g)?c=null:b!==null&&qp(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=Hm(i,r,F2,null,null,o),zc._currentValue=f),zh(i,r),wn(i,r,c,o),r.child;case 6:return i===null&&nt&&((i=o=xt)&&(o=RI(o,r.pendingProps,Ci),o!==null?(r.stateNode=o,bn=r,xt=null,i=!0):i=!1),i||Nr(r)),null;case 13:return mb(i,r,o);case 4:return _e(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Ga(r,null,c,o):wn(i,r,c,o),r.child;case 11:return rb(i,r,r.type,r.pendingProps,o);case 7:return wn(i,r,r.pendingProps,o),r.child;case 8:return wn(i,r,r.pendingProps.children,o),r.child;case 12:return wn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,kr(r,r.type,c.value),wn(i,r,c.children,o),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,Ba(r),f=Tn(f),c=c(f),r.flags|=1,wn(i,r,c,o),r.child;case 14:return ab(i,r,r.type,r.pendingProps,o);case 15:return ob(i,r,r.type,r.pendingProps,o);case 19:return gb(i,r,o);case 31:return X2(i,r,o);case 22:return lb(i,r,o,r.pendingProps);case 24:return Ba(r),c=Tn(Wt),i===null?(f=Mm(),f===null&&(f=_t,g=Nm(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:c,cache:f},Pm(r),kr(r,Wt,f)):((i.lanes&o)!==0&&(Om(i,r),bc(r,null,null,o),_c()),f=i.memoizedState,g=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),kr(r,Wt,c)):(c=g.cache,kr(r,Wt,c),c!==f.cache&&Dm(r,[Wt],o,!0))),wn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Xs(i){i.flags|=4}function yp(i,r,o,c,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(qb())i.flags|=8192;else throw qa=Sh,Vm}else i.flags&=-16777217}function vb(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!MT(r))if(qb())i.flags|=8192;else throw qa=Sh,Vm}function Fh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Sa():536870912,i.lanes|=r,Xo|=r)}function Ac(i,r){if(!nt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function St(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function Z2(i,r,o){var c=r.pendingProps;switch(Sm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(r),null;case 1:return St(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Ks(Wt),Ce(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Lo(r)?Xs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Cm())),St(r),null;case 26:var f=r.type,g=r.memoizedState;return i===null?(Xs(r),g!==null?(St(r),vb(r,g)):(St(r),yp(r,f,null,c,o))):g?g!==i.memoizedState?(Xs(r),St(r),vb(r,g)):(St(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Xs(r),St(r),yp(r,f,i,c,o)),null;case 27:if(Ge(r),o=pe.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Xs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return St(r),null}i=se.current,Lo(r)?W0(r):(i=ST(f,c,o),r.stateNode=i,Xs(r))}return St(r),null;case 5:if(Ge(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Xs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return St(r),null}if(g=se.current,Lo(r))W0(r);else{var b=sf(pe.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?b.createElement(f,{is:c.is}):b.createElement(f)}}g[Yt]=r,g[dn]=c;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=g;e:switch(En(g,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Xs(r)}}return St(r),yp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Xs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=pe.current,Lo(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,f=bn,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}i[Yt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||mT(i.nodeValue,o)),i||Nr(r,!0)}else i=sf(i).createTextNode(c),i[Yt]=r,r.stateNode=i}return St(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=Lo(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Yt]=r}else Ua(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;St(r),i=!1}else o=Cm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(ci(r),r):(ci(r),null);if((r.flags&128)!==0)throw Error(s(558))}return St(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Lo(r),c!==null&&c.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Yt]=r}else Ua(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;St(r),f=!1}else f=Cm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(ci(r),r):(ci(r),null)}return ci(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Fh(r,r.updateQueue),St(r),null);case 4:return Ce(),i===null&&Up(r.stateNode.containerInfo),St(r),null;case 10:return Ks(r.type),St(r),null;case 19:if(K(qt),c=r.memoizedState,c===null)return St(r),null;if(f=(r.flags&128)!==0,g=c.rendering,g===null)if(f)Ac(c,!1);else{if(zt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Ih(i),g!==null){for(r.flags|=128,Ac(c,!1),i=g.updateQueue,r.updateQueue=i,Fh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)K0(o,i),o=o.sibling;return ee(qt,qt.current&1|2),nt&&qs(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&$t()>$h&&(r.flags|=128,f=!0,Ac(c,!1),r.lanes=4194304)}else{if(!f)if(i=Ih(g),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,Fh(r,i),Ac(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!nt)return St(r),null}else 2*$t()-c.renderingStartTime>$h&&o!==536870912&&(r.flags|=128,f=!0,Ac(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=$t(),i.sibling=null,o=qt.current,ee(qt,f?o&1|2:o&1),nt&&qs(r,c.treeForkCount),i):(St(r),null);case 22:case 23:return ci(r),zm(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(St(r),r.subtreeFlags&6&&(r.flags|=8192)):St(r),o=r.updateQueue,o!==null&&Fh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&K(Fa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ks(Wt),St(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function J2(i,r){switch(Sm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ks(Wt),Ce(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ge(r),null;case 31:if(r.memoizedState!==null){if(ci(r),r.alternate===null)throw Error(s(340));Ua()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(ci(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ua()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return K(qt),null;case 4:return Ce(),null;case 10:return Ks(r.type),null;case 22:case 23:return ci(r),zm(),i!==null&&K(Fa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ks(Wt),null;case 25:return null;default:return null}}function _b(i,r){switch(Sm(r),r.tag){case 3:Ks(Wt),Ce();break;case 26:case 27:case 5:Ge(r);break;case 4:Ce();break;case 31:r.memoizedState!==null&&ci(r);break;case 13:ci(r);break;case 19:K(qt);break;case 10:Ks(r.type);break;case 22:case 23:ci(r),zm(),i!==null&&K(Fa);break;case 24:Ks(Wt)}}function Cc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&i)===i){c=void 0;var g=o.create,b=o.inst;c=g(),b.destroy=c}o=o.next}while(o!==f)}}catch(A){ft(r,r.return,A)}}function jr(i,r,o){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var g=f.next;c=g;do{if((c.tag&i)===i){var b=c.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,f=r;var U=o,X=A;try{X()}catch(ie){ft(f,U,ie)}}}c=c.next}while(c!==g)}}catch(ie){ft(r,r.return,ie)}}function bb(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{u_(r,o)}catch(c){ft(i,i.return,c)}}}function Tb(i,r,o){o.props=$a(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){ft(i,r,c)}}function Rc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(f){ft(i,r,f)}}function bs(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){ft(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ft(i,r,f)}else o.current=null}function wb(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){ft(i,i.return,f)}}function vp(i,r,o){try{var c=i.stateNode;TI(c,i.type,o,r),c[dn]=r}catch(f){ft(i,i.return,f)}}function Eb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Gr(i.type)||i.tag===4}function _p(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Eb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Gr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function bp(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Hi));else if(c!==4&&(c===27&&Gr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(bp(i,r,o),i=i.sibling;i!==null;)bp(i,r,o),i=i.sibling}function Hh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Gr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Hh(i,r,o),i=i.sibling;i!==null;)Hh(i,r,o),i=i.sibling}function xb(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);En(r,c,o),r[Yt]=i,r[dn]=o}catch(g){ft(i,i.return,g)}}var Ws=!1,en=!1,Tp=!1,Sb=typeof WeakSet=="function"?WeakSet:Set,pn=null;function eI(i,r){if(i=i.containerInfo,Fp=hf,i=L0(i),mm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,A=-1,U=-1,X=0,ie=0,le=i,W=null;t:for(;;){for(var te;le!==o||f!==0&&le.nodeType!==3||(A=b+f),le!==g||c!==0&&le.nodeType!==3||(U=b+c),le.nodeType===3&&(b+=le.nodeValue.length),(te=le.firstChild)!==null;)W=le,le=te;for(;;){if(le===i)break t;if(W===o&&++X===f&&(A=b),W===g&&++ie===c&&(U=b),(te=le.nextSibling)!==null)break;le=W,W=le.parentNode}le=te}o=A===-1||U===-1?null:{start:A,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Hp={focusedElem:i,selectionRange:o},hf=!1,pn=r;pn!==null;)if(r=pn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,pn=i;else for(;pn!==null;){switch(r=pn,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var we=$a(o.type,f);i=c.getSnapshotBeforeUpdate(we,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(ke){ft(o,o.return,ke)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Kp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Kp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,pn=i;break}pn=r.return}}function Ab(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Js(i,o),c&4&&Cc(5,o);break;case 1:if(Js(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){ft(o,o.return,b)}else{var f=$a(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){ft(o,o.return,b)}}c&64&&bb(o),c&512&&Rc(o,o.return);break;case 3:if(Js(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{u_(i,r)}catch(b){ft(o,o.return,b)}}break;case 27:r===null&&c&4&&xb(o);case 26:case 5:Js(i,o),r===null&&c&4&&wb(o),c&512&&Rc(o,o.return);break;case 12:Js(i,o);break;case 31:Js(i,o),c&4&&Ib(i,o);break;case 13:Js(i,o),c&4&&Db(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=cI.bind(null,o),II(i,o))));break;case 22:if(c=o.memoizedState!==null||Ws,!c){r=r!==null&&r.memoizedState!==null||en,f=Ws;var g=en;Ws=c,(en=r)&&!g?er(i,o,(o.subtreeFlags&8772)!==0):Js(i,o),Ws=f,en=g}break;case 30:break;default:Js(i,o)}}function Cb(i){var r=i.alternate;r!==null&&(i.alternate=null,Cb(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&bo(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var It=null,Yn=!1;function Zs(i,r,o){for(o=o.child;o!==null;)Rb(i,r,o),o=o.sibling}function Rb(i,r,o){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Cn,o)}catch{}switch(o.tag){case 26:en||bs(o,r),Zs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:en||bs(o,r);var c=It,f=Yn;Gr(o.type)&&(It=o.stateNode,Yn=!1),Zs(i,r,o),Lc(o.stateNode),It=c,Yn=f;break;case 5:en||bs(o,r);case 6:if(c=It,f=Yn,It=null,Zs(i,r,o),It=c,Yn=f,It!==null)if(Yn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(o.stateNode)}catch(g){ft(o,r,g)}else try{It.removeChild(o.stateNode)}catch(g){ft(o,r,g)}break;case 18:It!==null&&(Yn?(i=It,bT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),sl(i)):bT(It,o.stateNode));break;case 4:c=It,f=Yn,It=o.stateNode.containerInfo,Yn=!0,Zs(i,r,o),It=c,Yn=f;break;case 0:case 11:case 14:case 15:jr(2,o,r),en||jr(4,o,r),Zs(i,r,o);break;case 1:en||(bs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Tb(o,r,c)),Zs(i,r,o);break;case 21:Zs(i,r,o);break;case 22:en=(c=en)||o.memoizedState!==null,Zs(i,r,o),en=c;break;default:Zs(i,r,o)}}function Ib(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{sl(i)}catch(o){ft(r,r.return,o)}}}function Db(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{sl(i)}catch(o){ft(r,r.return,o)}}function tI(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Sb),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Sb),r;default:throw Error(s(435,i.tag))}}function qh(i,r){var o=tI(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var f=uI.bind(null,i,c);c.then(f,f)}})}function Qn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],g=i,b=r,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(Gr(A.type)){It=A.stateNode,Yn=!1;break e}break;case 5:It=A.stateNode,Yn=!1;break e;case 3:case 4:It=A.stateNode.containerInfo,Yn=!0;break e}A=A.return}if(It===null)throw Error(s(160));Rb(g,b,f),It=null,Yn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Nb(r,i),r=r.sibling}var Qi=null;function Nb(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Qn(r,i),Xn(i),c&4&&(jr(3,i,i.return),Cc(3,i),jr(5,i,i.return));break;case 1:Qn(r,i),Xn(i),c&512&&(en||o===null||bs(o,o.return)),c&64&&Ws&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=Qi;if(Qn(r,i),Xn(i),c&512&&(en||o===null||bs(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":g=f.getElementsByTagName("title")[0],(!g||g[as]||g[Yt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(c),f.head.insertBefore(g,f.querySelector("head > title"))),En(g,c,o),g[Yt]=i,Qt(g),c=g;break e;case"link":var b=NT("link","href",f).get(c+(o.href||""));if(b){for(var A=0;A<b.length;A++)if(g=b[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(A,1);break t}}g=f.createElement(c),En(g,c,o),f.head.appendChild(g);break;case"meta":if(b=NT("meta","content",f).get(c+(o.content||""))){for(A=0;A<b.length;A++)if(g=b[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(A,1);break t}}g=f.createElement(c),En(g,c,o),f.head.appendChild(g);break;default:throw Error(s(468,c))}g[Yt]=i,Qt(g),c=g}i.stateNode=c}else kT(f,i.type,i.stateNode);else i.stateNode=DT(f,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?kT(f,i.type,i.stateNode):DT(f,c,i.memoizedProps)):c===null&&i.stateNode!==null&&vp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Qn(r,i),Xn(i),c&512&&(en||o===null||bs(o,o.return)),o!==null&&c&4&&vp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Qn(r,i),Xn(i),c&512&&(en||o===null||bs(o,o.return)),i.flags&32){f=i.stateNode;try{$n(f,"")}catch(we){ft(i,i.return,we)}}c&4&&i.stateNode!=null&&(f=i.memoizedProps,vp(i,f,o!==null?o.memoizedProps:f)),c&1024&&(Tp=!0);break;case 6:if(Qn(r,i),Xn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(we){ft(i,i.return,we)}}break;case 3:if(of=null,f=Qi,Qi=rf(r.containerInfo),Qn(r,i),Qi=f,Xn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{sl(r.containerInfo)}catch(we){ft(i,i.return,we)}Tp&&(Tp=!1,kb(i));break;case 4:c=Qi,Qi=rf(i.stateNode.containerInfo),Qn(r,i),Xn(i),Qi=c;break;case 12:Qn(r,i),Xn(i);break;case 31:Qn(r,i),Xn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,qh(i,c)));break;case 13:Qn(r,i),Xn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Kh=$t()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,qh(i,c)));break;case 22:f=i.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,X=Ws,ie=en;if(Ws=X||f,en=ie||U,Qn(r,i),en=ie,Ws=X,Xn(i),c&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||U||Ws||en||Ya(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){U=o=r;try{if(g=U.stateNode,f)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=U.stateNode;var le=U.memoizedProps.style,W=le!=null&&le.hasOwnProperty("display")?le.display:null;A.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(we){ft(U,U.return,we)}}}else if(r.tag===6){if(o===null){U=r;try{U.stateNode.nodeValue=f?"":U.memoizedProps}catch(we){ft(U,U.return,we)}}}else if(r.tag===18){if(o===null){U=r;try{var te=U.stateNode;f?TT(te,!0):TT(U.stateNode,!1)}catch(we){ft(U,U.return,we)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,qh(i,o))));break;case 19:Qn(r,i),Xn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,qh(i,c)));break;case 30:break;case 21:break;default:Qn(r,i),Xn(i)}}function Xn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(Eb(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=_p(i);Hh(i,g,f);break;case 5:var b=o.stateNode;o.flags&32&&($n(b,""),o.flags&=-33);var A=_p(i);Hh(i,A,b);break;case 3:case 4:var U=o.stateNode.containerInfo,X=_p(i);bp(i,X,U);break;default:throw Error(s(161))}}catch(ie){ft(i,i.return,ie)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function kb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;kb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Js(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ab(i,r.alternate,r),r=r.sibling}function Ya(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:jr(4,r,r.return),Ya(r);break;case 1:bs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Tb(r,r.return,o),Ya(r);break;case 27:Lc(r.stateNode);case 26:case 5:bs(r,r.return),Ya(r);break;case 22:r.memoizedState===null&&Ya(r);break;case 30:Ya(r);break;default:Ya(r)}i=i.sibling}}function er(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=i,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:er(f,g,o),Cc(4,g);break;case 1:if(er(f,g,o),c=g,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(X){ft(c,c.return,X)}if(c=g,f=c.updateQueue,f!==null){var A=c.stateNode;try{var U=f.shared.hiddenCallbacks;if(U!==null)for(f.shared.hiddenCallbacks=null,f=0;f<U.length;f++)c_(U[f],A)}catch(X){ft(c,c.return,X)}}o&&b&64&&bb(g),Rc(g,g.return);break;case 27:xb(g);case 26:case 5:er(f,g,o),o&&c===null&&b&4&&wb(g),Rc(g,g.return);break;case 12:er(f,g,o);break;case 31:er(f,g,o),o&&b&4&&Ib(f,g);break;case 13:er(f,g,o),o&&b&4&&Db(f,g);break;case 22:g.memoizedState===null&&er(f,g,o),Rc(g,g.return);break;case 30:break;default:er(f,g,o)}r=r.sibling}}function wp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&mc(o))}function Ep(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&mc(i))}function Xi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Mb(i,r,o,c),r=r.sibling}function Mb(i,r,o,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Xi(i,r,o,c),f&2048&&Cc(9,r);break;case 1:Xi(i,r,o,c);break;case 3:Xi(i,r,o,c),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&mc(i)));break;case 12:if(f&2048){Xi(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,b=g.id,A=g.onPostCommit;typeof A=="function"&&A(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(U){ft(r,r.return,U)}}else Xi(i,r,o,c);break;case 31:Xi(i,r,o,c);break;case 13:Xi(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?Xi(i,r,o,c):Ic(i,r):g._visibility&2?Xi(i,r,o,c):(g._visibility|=2,$o(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),f&2048&&wp(b,r);break;case 24:Xi(i,r,o,c),f&2048&&Ep(r.alternate,r);break;default:Xi(i,r,o,c)}}function $o(i,r,o,c,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,b=r,A=o,U=c,X=b.flags;switch(b.tag){case 0:case 11:case 15:$o(g,b,A,U,f),Cc(8,b);break;case 23:break;case 22:var ie=b.stateNode;b.memoizedState!==null?ie._visibility&2?$o(g,b,A,U,f):Ic(g,b):(ie._visibility|=2,$o(g,b,A,U,f)),f&&X&2048&&wp(b.alternate,b);break;case 24:$o(g,b,A,U,f),f&&X&2048&&Ep(b.alternate,b);break;default:$o(g,b,A,U,f)}r=r.sibling}}function Ic(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,f=c.flags;switch(c.tag){case 22:Ic(o,c),f&2048&&wp(c.alternate,c);break;case 24:Ic(o,c),f&2048&&Ep(c.alternate,c);break;default:Ic(o,c)}r=r.sibling}}var Dc=8192;function Yo(i,r,o){if(i.subtreeFlags&Dc)for(i=i.child;i!==null;)Vb(i,r,o),i=i.sibling}function Vb(i,r,o){switch(i.tag){case 26:Yo(i,r,o),i.flags&Dc&&i.memoizedState!==null&&BI(o,Qi,i.memoizedState,i.memoizedProps);break;case 5:Yo(i,r,o);break;case 3:case 4:var c=Qi;Qi=rf(i.stateNode.containerInfo),Yo(i,r,o),Qi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Dc,Dc=16777216,Yo(i,r,o),Dc=c):Yo(i,r,o));break;default:Yo(i,r,o)}}function Pb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Nc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];pn=c,Lb(c,i)}Pb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ob(i),i=i.sibling}function Ob(i){switch(i.tag){case 0:case 11:case 15:Nc(i),i.flags&2048&&jr(9,i,i.return);break;case 3:Nc(i);break;case 12:Nc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Gh(i)):Nc(i);break;default:Nc(i)}}function Gh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];pn=c,Lb(c,i)}Pb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:jr(8,r,r.return),Gh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Gh(r));break;default:Gh(r)}i=i.sibling}}function Lb(i,r){for(;pn!==null;){var o=pn;switch(o.tag){case 0:case 11:case 15:jr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:mc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,pn=c;else e:for(o=i;pn!==null;){c=pn;var f=c.sibling,g=c.return;if(Cb(c),c===o){pn=null;break e}if(f!==null){f.return=g,pn=f;break e}pn=g}}}var nI={getCacheForType:function(i){var r=Tn(Wt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Tn(Wt).controller.signal}},iI=typeof WeakMap=="function"?WeakMap:Map,ot=0,_t=null,$e=null,Xe=0,ht=0,ui=null,Ur=!1,Qo=!1,xp=!1,tr=0,zt=0,zr=0,Qa=0,Sp=0,hi=0,Xo=0,kc=null,Wn=null,Ap=!1,Kh=0,jb=0,$h=1/0,Yh=null,Br=null,on=0,Fr=null,Wo=null,nr=0,Cp=0,Rp=null,Ub=null,Mc=0,Ip=null;function fi(){return(ot&2)!==0&&Xe!==0?Xe&-Xe:Z.T!==null?Pp():Rn()}function zb(){if(hi===0)if((Xe&536870912)===0||nt){var i=Us;Us<<=1,(Us&3932160)===0&&(Us=262144),hi=i}else hi=536870912;return i=li.current,i!==null&&(i.flags|=32),hi}function Zn(i,r,o){(i===_t&&(ht===2||ht===9)||i.cancelPendingCommit!==null)&&(Zo(i,0),Hr(i,Xe,hi,!1)),Fi(i,o),((ot&2)===0||i!==_t)&&(i===_t&&((ot&2)===0&&(Qa|=o),zt===4&&Hr(i,Xe,hi,!1)),Ts(i))}function Bb(i,r,o){if((ot&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ii(i,r),f=c?aI(i,r):Np(i,r,!0),g=c;do{if(f===0){Qo&&!c&&Hr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!sI(o)){f=Np(i,r,!1),g=!1;continue}if(f===2){if(g=r,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var A=i;f=kc;var U=A.current.memoizedState.isDehydrated;if(U&&(Zo(A,b).flags|=256),b=Np(A,b,!1),b!==2){if(xp&&!U){A.errorRecoveryDisabledLanes|=g,Qa|=g,f=4;break e}g=Wn,Wn=f,g!==null&&(Wn===null?Wn=g:Wn.push.apply(Wn,g))}f=b}if(g=!1,f!==2)continue}}if(f===1){Zo(i,0),Hr(i,r,0,!0);break}e:{switch(c=i,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Hr(c,r,hi,!Ur);break e;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Kh+300-$t(),10<f)){if(Hr(c,r,hi,!Ur),vi(c,0,!0)!==0)break e;nr=r,c.timeoutHandle=vT(Fb.bind(null,c,o,Wn,Yh,Ap,r,hi,Qa,Xo,Ur,g,"Throttled",-0,0),f);break e}Fb(c,o,Wn,Yh,Ap,r,hi,Qa,Xo,Ur,g,null,-0,0)}}break}while(!0);Ts(i)}function Fb(i,r,o,c,f,g,b,A,U,X,ie,le,W,te){if(i.timeoutHandle=-1,le=r.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hi},Vb(r,g,le);var we=(g&62914560)===g?Kh-$t():(g&4194048)===g?jb-$t():0;if(we=FI(le,we),we!==null){nr=g,i.cancelPendingCommit=we(Xb.bind(null,i,r,g,o,c,f,b,A,U,ie,le,null,W,te)),Hr(i,g,b,!X);return}}Xb(i,r,g,o,c,f,b,A,U)}function sI(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],g=f.getSnapshot;f=f.value;try{if(!ai(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Hr(i,r,o,c){r&=~Sp,r&=~Qa,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var f=r;0<f;){var g=31-Ct(f),b=1<<g;c[g]=-1,f&=~b}o!==0&&Y(i,o,r)}function Qh(){return(ot&6)===0?(Vc(0),!1):!0}function Dp(){if($e!==null){if(ht===0)var i=$e.return;else i=$e,Gs=za=null,Km(i),Fo=null,gc=0,i=$e;for(;i!==null;)_b(i.alternate,i),i=i.return;$e=null}}function Zo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,xI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),nr=0,Dp(),_t=i,$e=o=Hs(i.current,null),Xe=r,ht=0,ui=null,Ur=!1,Qo=ii(i,r),xp=!1,Xo=hi=Sp=Qa=zr=zt=0,Wn=kc=null,Ap=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var f=31-Ct(c),g=1<<f;r|=i[f],c&=~g}return tr=r,gh(),o}function Hb(i,r){ze=null,Z.H=xc,r===Bo||r===xh?(r=r_(),ht=3):r===Vm?(r=r_(),ht=4):ht=r===lp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ui=r,$e===null&&(zt=1,jh(i,xi(r,i.current)))}function qb(){var i=li.current;return i===null?!0:(Xe&4194048)===Xe?Ri===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?i===Ri:!1}function Gb(){var i=Z.H;return Z.H=xc,i===null?xc:i}function Kb(){var i=Z.A;return Z.A=nI,i}function Xh(){zt=4,Ur||(Xe&4194048)!==Xe&&li.current!==null||(Qo=!0),(zr&134217727)===0&&(Qa&134217727)===0||_t===null||Hr(_t,Xe,hi,!1)}function Np(i,r,o){var c=ot;ot|=2;var f=Gb(),g=Kb();(_t!==i||Xe!==r)&&(Yh=null,Zo(i,r)),r=!1;var b=zt;e:do try{if(ht!==0&&$e!==null){var A=$e,U=ui;switch(ht){case 8:Dp(),b=6;break e;case 3:case 2:case 9:case 6:li.current===null&&(r=!0);var X=ht;if(ht=0,ui=null,Jo(i,A,U,X),o&&Qo){b=0;break e}break;default:X=ht,ht=0,ui=null,Jo(i,A,U,X)}}rI(),b=zt;break}catch(ie){Hb(i,ie)}while(!0);return r&&i.shellSuspendCounter++,Gs=za=null,ot=c,Z.H=f,Z.A=g,$e===null&&(_t=null,Xe=0,gh()),b}function rI(){for(;$e!==null;)$b($e)}function aI(i,r){var o=ot;ot|=2;var c=Gb(),f=Kb();_t!==i||Xe!==r?(Yh=null,$h=$t()+500,Zo(i,r)):Qo=ii(i,r);e:do try{if(ht!==0&&$e!==null){r=$e;var g=ui;t:switch(ht){case 1:ht=0,ui=null,Jo(i,r,g,1);break;case 2:case 9:if(i_(g)){ht=0,ui=null,Yb(r);break}r=function(){ht!==2&&ht!==9||_t!==i||(ht=7),Ts(i)},g.then(r,r);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:i_(g)?(ht=0,ui=null,Yb(r)):(ht=0,ui=null,Jo(i,r,g,7));break;case 5:var b=null;switch($e.tag){case 26:b=$e.memoizedState;case 5:case 27:var A=$e;if(b?MT(b):A.stateNode.complete){ht=0,ui=null;var U=A.sibling;if(U!==null)$e=U;else{var X=A.return;X!==null?($e=X,Wh(X)):$e=null}break t}}ht=0,ui=null,Jo(i,r,g,5);break;case 6:ht=0,ui=null,Jo(i,r,g,6);break;case 8:Dp(),zt=6;break e;default:throw Error(s(462))}}oI();break}catch(ie){Hb(i,ie)}while(!0);return Gs=za=null,Z.H=c,Z.A=f,ot=o,$e!==null?0:(_t=null,Xe=0,gh(),zt)}function oI(){for(;$e!==null&&!vr();)$b($e)}function $b(i){var r=yb(i.alternate,i,tr);i.memoizedProps=i.pendingProps,r===null?Wh(i):$e=r}function Yb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=hb(o,r,r.pendingProps,r.type,void 0,Xe);break;case 11:r=hb(o,r,r.pendingProps,r.type.render,r.ref,Xe);break;case 5:Km(r);default:_b(o,r),r=$e=K0(r,tr),r=yb(o,r,tr)}i.memoizedProps=i.pendingProps,r===null?Wh(i):$e=r}function Jo(i,r,o,c){Gs=za=null,Km(r),Fo=null,gc=0;var f=r.return;try{if(Q2(i,f,r,o,Xe)){zt=1,jh(i,xi(o,i.current)),$e=null;return}}catch(g){if(f!==null)throw $e=f,g;zt=1,jh(i,xi(o,i.current)),$e=null;return}r.flags&32768?(nt||c===1?i=!0:Qo||(Xe&536870912)!==0?i=!1:(Ur=i=!0,(c===2||c===9||c===3||c===6)&&(c=li.current,c!==null&&c.tag===13&&(c.flags|=16384))),Qb(r,i)):Wh(r)}function Wh(i){var r=i;do{if((r.flags&32768)!==0){Qb(r,Ur);return}i=r.return;var o=Z2(r.alternate,r,tr);if(o!==null){$e=o;return}if(r=r.sibling,r!==null){$e=r;return}$e=r=i}while(r!==null);zt===0&&(zt=5)}function Qb(i,r){do{var o=J2(i.alternate,i);if(o!==null){o.flags&=32767,$e=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){$e=i;return}$e=i=o}while(i!==null);zt=6,$e=null}function Xb(i,r,o,c,f,g,b,A,U){i.cancelPendingCommit=null;do Zh();while(on!==0);if((ot&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=_m,Kl(i,o,g,b,A,U),i===_t&&($e=_t=null,Xe=0),Wo=r,Fr=i,nr=o,Cp=g,Rp=f,Ub=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,hI(ni,function(){return tT(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,f=he.p,he.p=2,b=ot,ot|=4;try{eI(i,r,o)}finally{ot=b,he.p=f,Z.T=c}}on=1,Wb(),Zb(),Jb()}}function Wb(){if(on===1){on=0;var i=Fr,r=Wo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var c=he.p;he.p=2;var f=ot;ot|=4;try{Nb(r,i);var g=Hp,b=L0(i.containerInfo),A=g.focusedElem,U=g.selectionRange;if(b!==A&&A&&A.ownerDocument&&O0(A.ownerDocument.documentElement,A)){if(U!==null&&mm(A)){var X=U.start,ie=U.end;if(ie===void 0&&(ie=X),"selectionStart"in A)A.selectionStart=X,A.selectionEnd=Math.min(ie,A.value.length);else{var le=A.ownerDocument||document,W=le&&le.defaultView||window;if(W.getSelection){var te=W.getSelection(),we=A.textContent.length,ke=Math.min(U.start,we),yt=U.end===void 0?ke:Math.min(U.end,we);!te.extend&&ke>yt&&(b=yt,yt=ke,ke=b);var G=P0(A,ke),B=P0(A,yt);if(G&&B&&(te.rangeCount!==1||te.anchorNode!==G.node||te.anchorOffset!==G.offset||te.focusNode!==B.node||te.focusOffset!==B.offset)){var Q=le.createRange();Q.setStart(G.node,G.offset),te.removeAllRanges(),ke>yt?(te.addRange(Q),te.extend(B.node,B.offset)):(Q.setEnd(B.node,B.offset),te.addRange(Q))}}}}for(le=[],te=A;te=te.parentNode;)te.nodeType===1&&le.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<le.length;A++){var ae=le[A];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}hf=!!Fp,Hp=Fp=null}finally{ot=f,he.p=c,Z.T=o}}i.current=r,on=2}}function Zb(){if(on===2){on=0;var i=Fr,r=Wo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var c=he.p;he.p=2;var f=ot;ot|=4;try{Ab(i,r.alternate,r)}finally{ot=f,he.p=c,Z.T=o}}on=3}}function Jb(){if(on===4||on===3){on=0,Os();var i=Fr,r=Wo,o=nr,c=Ub;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?on=5:(on=0,Wo=Fr=null,eT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Br=null),bt(o),r=r.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Cn,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=Z.T,f=he.p,he.p=2,Z.T=null;try{for(var g=i.onRecoverableError,b=0;b<c.length;b++){var A=c[b];g(A.value,{componentStack:A.stack})}}finally{Z.T=r,he.p=f}}(nr&3)!==0&&Zh(),Ts(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===Ip?Mc++:(Mc=0,Ip=i):Mc=0,Vc(0)}}function eT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,mc(r)))}function Zh(){return Wb(),Zb(),Jb(),tT()}function tT(){if(on!==5)return!1;var i=Fr,r=Cp;Cp=0;var o=bt(nr),c=Z.T,f=he.p;try{he.p=32>o?32:o,Z.T=null,o=Rp,Rp=null;var g=Fr,b=nr;if(on=0,Wo=Fr=null,nr=0,(ot&6)!==0)throw Error(s(331));var A=ot;if(ot|=4,Ob(g.current),Mb(g,g.current,b,o),ot=A,Vc(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Cn,g)}catch{}return!0}finally{he.p=f,Z.T=c,eT(i,r)}}function nT(i,r,o){r=xi(o,r),r=op(i.stateNode,r,2),i=Pr(i,r,2),i!==null&&(Fi(i,2),Ts(i))}function ft(i,r,o){if(i.tag===3)nT(i,i,o);else for(;r!==null;){if(r.tag===3){nT(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Br===null||!Br.has(c))){i=xi(o,i),o=ib(2),c=Pr(r,o,2),c!==null&&(sb(o,c,r,i),Fi(c,2),Ts(c));break}}r=r.return}}function kp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new iI;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(xp=!0,f.add(o),i=lI.bind(null,i,r,o),r.then(i,i))}function lI(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,_t===i&&(Xe&o)===o&&(zt===4||zt===3&&(Xe&62914560)===Xe&&300>$t()-Kh?(ot&2)===0&&Zo(i,0):Sp|=o,Xo===Xe&&(Xo=0)),Ts(i)}function iT(i,r){r===0&&(r=Sa()),i=La(i,r),i!==null&&(Fi(i,r),Ts(i))}function cI(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),iT(i,o)}function uI(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),iT(i,o)}function hI(i,r){return Ke(i,r)}var Jh=null,el=null,Mp=!1,ef=!1,Vp=!1,qr=0;function Ts(i){i!==el&&i.next===null&&(el===null?Jh=el=i:el=el.next=i),ef=!0,Mp||(Mp=!0,dI())}function Vc(i,r){if(!Vp&&ef){Vp=!0;do for(var o=!1,c=Jh;c!==null;){if(i!==0){var f=c.pendingLanes;if(f===0)var g=0;else{var b=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-Ct(42|i)+1)-1,g&=f&~(b&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,oT(c,g))}else g=Xe,g=vi(c,c===_t?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ii(c,g)||(o=!0,oT(c,g));c=c.next}while(o);Vp=!1}}function fI(){sT()}function sT(){ef=Mp=!1;var i=0;qr!==0&&EI()&&(i=qr);for(var r=$t(),o=null,c=Jh;c!==null;){var f=c.next,g=rT(c,r);g===0?(c.next=null,o===null?Jh=f:o.next=f,f===null&&(el=o)):(o=c,(i!==0||(g&3)!==0)&&(ef=!0)),c=f}on!==0&&on!==5||Vc(i),qr!==0&&(qr=0)}function rT(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-Ct(g),A=1<<b,U=f[b];U===-1?((A&o)===0||(A&c)!==0)&&(f[b]=Qu(A,r)):U<=r&&(i.expiredLanes|=A),g&=~A}if(r=_t,o=Xe,o=vi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(ht===2||ht===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&An(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ii(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&An(c),bt(o)){case 2:case 8:o=ti;break;case 32:o=ni;break;case 268435456:o=gi;break;default:o=ni}return c=aT.bind(null,i),o=Ke(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&An(c),i.callbackPriority=2,i.callbackNode=null,2}function aT(i,r){if(on!==0&&on!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Zh()&&i.callbackNode!==o)return null;var c=Xe;return c=vi(i,i===_t?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Bb(i,c,r),rT(i,$t()),i.callbackNode!=null&&i.callbackNode===o?aT.bind(null,i):null)}function oT(i,r){if(Zh())return null;Bb(i,r,!0)}function dI(){SI(function(){(ot&6)!==0?Ke(dt,fI):sT()})}function Pp(){if(qr===0){var i=Uo;i===0&&(i=Hn,Hn<<=1,(Hn&261888)===0&&(Hn=256)),qr=i}return qr}function lT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:xo(""+i)}function cT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function mI(i,r,o,c,f){if(r==="submit"&&o&&o.stateNode===f){var g=lT((f[dn]||null).action),b=c.submitter;b&&(r=(r=b[dn]||null)?lT(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var A=new ms("action","action",null,c,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(qr!==0){var U=b?cT(f,b):new FormData(f);tp(o,{pending:!0,data:U,method:f.method,action:g},null,U)}}else typeof g=="function"&&(A.preventDefault(),U=b?cT(f,b):new FormData(f),tp(o,{pending:!0,data:U,method:f.method,action:g},g,U))},currentTarget:f}]})}}for(var Op=0;Op<vm.length;Op++){var Lp=vm[Op],pI=Lp.toLowerCase(),gI=Lp[0].toUpperCase()+Lp.slice(1);Yi(pI,"on"+gI)}Yi(z0,"onAnimationEnd"),Yi(B0,"onAnimationIteration"),Yi(F0,"onAnimationStart"),Yi("dblclick","onDoubleClick"),Yi("focusin","onFocus"),Yi("focusout","onBlur"),Yi(k2,"onTransitionRun"),Yi(M2,"onTransitionStart"),Yi(V2,"onTransitionCancel"),Yi(H0,"onTransitionEnd"),us("onMouseEnter",["mouseout","mouseover"]),us("onMouseLeave",["mouseout","mouseover"]),us("onPointerEnter",["pointerout","pointerover"]),us("onPointerLeave",["pointerout","pointerover"]),cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pc));function uT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],f=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var b=c.length-1;0<=b;b--){var A=c[b],U=A.instance,X=A.currentTarget;if(A=A.listener,U!==g&&f.isPropagationStopped())break e;g=A,f.currentTarget=X;try{g(f)}catch(ie){ph(ie)}f.currentTarget=null,g=U}else for(b=0;b<c.length;b++){if(A=c[b],U=A.instance,X=A.currentTarget,A=A.listener,U!==g&&f.isPropagationStopped())break e;g=A,f.currentTarget=X;try{g(f)}catch(ie){ph(ie)}f.currentTarget=null,g=U}}}}function Ye(i,r){var o=r[_o];o===void 0&&(o=r[_o]=new Set);var c=i+"__bubble";o.has(c)||(hT(r,i,2,!1),o.add(c))}function jp(i,r,o){var c=0;r&&(c|=4),hT(o,i,c,r)}var tf="_reactListening"+Math.random().toString(36).slice(2);function Up(i){if(!i[tf]){i[tf]=!0,$l.forEach(function(o){o!=="selectionchange"&&(yI.has(o)||jp(o,!1,i),jp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[tf]||(r[tf]=!0,jp("selectionchange",!1,r))}}function hT(i,r,o,c){switch(zT(r)){case 2:var f=GI;break;case 8:f=KI;break;default:f=eg}o=f.bind(null,r,o,i),f=void 0,!Ia||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function zp(i,r,o,c,f){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var A=c.stateNode.containerInfo;if(A===f)break;if(b===4)for(b=c.return;b!==null;){var U=b.tag;if((U===3||U===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;A!==null;){if(b=os(A),b===null)return;if(U=b.tag,U===5||U===6||U===26||U===27){c=g=b;continue e}A=A.parentNode}}c=c.return}Sr(function(){var X=g,ie=bi(o),le=[];e:{var W=q0.get(i);if(W!==void 0){var te=ms,we=i;switch(i){case"keypress":if(Na(o)===0)break e;case"keydown":case"keyup":te=fh;break;case"focusin":we="focus",te=Ma;break;case"focusout":we="blur",te=Ma;break;case"beforeblur":case"afterblur":te=Ma;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=_;break;case z0:case B0:case F0:te=rh;break;case H0:te=C;break;case"scroll":case"scrollend":te=rc;break;case"wheel":te=J;break;case"copy":case"cut":case"paste":te=ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Fs;break;case"toggle":case"beforetoggle":te=Ue}var ke=(r&4)!==0,yt=!ke&&(i==="scroll"||i==="scrollend"),G=ke?W!==null?W+"Capture":null:W;ke=[];for(var B=X,Q;B!==null;){var ae=B;if(Q=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Q===null||G===null||(ae=qi(B,G),ae!=null&&ke.push(Oc(B,ae,Q))),yt)break;B=B.return}0<ke.length&&(W=new te(W,we,null,o,ie),le.push({event:W,listeners:ke}))}}if((r&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",W&&o!==nc&&(we=o.relatedTarget||o.fromElement)&&(os(we)||we[rs]))break e;if((te||W)&&(W=ie.window===ie?ie:(W=ie.ownerDocument)?W.defaultView||W.parentWindow:window,te?(we=o.relatedTarget||o.toElement,te=X,we=we?os(we):null,we!==null&&(yt=l(we),ke=we.tag,we!==yt||ke!==5&&ke!==27&&ke!==6)&&(we=null)):(te=null,we=X),te!==we)){if(ke=ac,ae="onMouseLeave",G="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(ke=Fs,ae="onPointerLeave",G="onPointerEnter",B="pointer"),yt=te==null?W:si(te),Q=we==null?W:si(we),W=new ke(ae,B+"leave",te,o,ie),W.target=yt,W.relatedTarget=Q,ae=null,os(ie)===X&&(ke=new ke(G,B+"enter",we,o,ie),ke.target=Q,ke.relatedTarget=yt,ae=ke),yt=ae,te&&we)t:{for(ke=vI,G=te,B=we,Q=0,ae=G;ae;ae=ke(ae))Q++;ae=0;for(var De=B;De;De=ke(De))ae++;for(;0<Q-ae;)G=ke(G),Q--;for(;0<ae-Q;)B=ke(B),ae--;for(;Q--;){if(G===B||B!==null&&G===B.alternate){ke=G;break t}G=ke(G),B=ke(B)}ke=null}else ke=null;te!==null&&fT(le,W,te,ke,!1),we!==null&&yt!==null&&fT(le,yt,we,ke,!0)}}e:{if(W=X?si(X):window,te=W.nodeName&&W.nodeName.toLowerCase(),te==="select"||te==="input"&&W.type==="file")var st=I0;else if(C0(W))if(D0)st=I2;else{st=C2;var Ae=A2}else te=W.nodeName,!te||te.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&Eo(X.elementType)&&(st=I0):st=R2;if(st&&(st=st(i,X))){R0(le,st,o,ie);break e}Ae&&Ae(i,W,X),i==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&Jl(W,"number",W.value)}switch(Ae=X?si(X):window,i){case"focusin":(C0(Ae)||Ae.contentEditable==="true")&&(No=Ae,pm=X,hc=null);break;case"focusout":hc=pm=No=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,j0(le,o,ie);break;case"selectionchange":if(N2)break;case"keydown":case"keyup":j0(le,o,ie)}var Be;if(at)e:{switch(i){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Do?Va(i,o)&&(We="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(We="onCompositionStart");We&&(ys&&o.locale!=="ko"&&(Do||We!=="onCompositionStart"?We==="onCompositionEnd"&&Do&&(Be=sc()):(ds=ie,ic="value"in ds?ds.value:ds.textContent,Do=!0)),Ae=nf(X,We),0<Ae.length&&(We=new gs(We,i,null,o,ie),le.push({event:We,listeners:Ae}),Be?We.data=Be:(Be=Io(o),Be!==null&&(We.data=Be)))),(Be=wi?w2(i,o):E2(i,o))&&(We=nf(X,"onBeforeInput"),0<We.length&&(Ae=new gs("onBeforeInput","beforeinput",null,o,ie),le.push({event:Ae,listeners:We}),Ae.data=Be)),mI(le,i,X,o,ie)}uT(le,r)})}function Oc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function nf(i,r){for(var o=r+"Capture",c=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=qi(i,o),f!=null&&c.unshift(Oc(i,f,g)),f=qi(i,r),f!=null&&c.push(Oc(i,f,g))),i.tag===3)return c;i=i.return}return[]}function vI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function fT(i,r,o,c,f){for(var g=r._reactName,b=[];o!==null&&o!==c;){var A=o,U=A.alternate,X=A.stateNode;if(A=A.tag,U!==null&&U===c)break;A!==5&&A!==26&&A!==27||X===null||(U=X,f?(X=qi(o,g),X!=null&&b.unshift(Oc(o,X,U))):f||(X=qi(o,g),X!=null&&b.push(Oc(o,X,U)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var _I=/\r\n?/g,bI=/\u0000|\uFFFD/g;function dT(i){return(typeof i=="string"?i:""+i).replace(_I,`
`).replace(bI,"")}function mT(i,r){return r=dT(r),dT(i)===r}function gt(i,r,o,c,f,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||$n(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&$n(i,""+c);break;case"className":ri(i,"class",c);break;case"tabIndex":ri(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ri(i,o,c);break;case"style":tc(i,c,g);break;case"data":if(r!=="object"){ri(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=xo(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&gt(i,r,"name",f.name,f,null),gt(i,r,"formEncType",f.formEncType,f,null),gt(i,r,"formMethod",f.formMethod,f,null),gt(i,r,"formTarget",f.formTarget,f,null)):(gt(i,r,"encType",f.encType,f,null),gt(i,r,"method",f.method,f,null),gt(i,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=xo(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Hi);break;case"onScroll":c!=null&&Ye("scroll",i);break;case"onScrollEnd":c!=null&&Ye("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=xo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ye("beforetoggle",i),Ye("toggle",i),To(i,"popover",c);break;case"xlinkActuate":Xt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Xt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Xt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Xt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Xt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Xt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":To(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=nh.get(o)||o,To(i,o,c))}}function Bp(i,r,o,c,f,g){switch(o){case"style":tc(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?$n(i,c):(typeof c=="number"||typeof c=="bigint")&&$n(i,""+c);break;case"onScroll":c!=null&&Ye("scroll",i);break;case"onScrollEnd":c!=null&&Ye("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=i[dn]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,f),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,f);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):To(i,o,c)}}}function En(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",i),Ye("load",i);var c=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:gt(i,r,g,b,o,null)}}f&&gt(i,r,"srcSet",o.srcSet,o,null),c&&gt(i,r,"src",o.src,o,null);return;case"input":Ye("invalid",i);var A=g=b=f=null,U=null,X=null;for(c in o)if(o.hasOwnProperty(c)){var ie=o[c];if(ie!=null)switch(c){case"name":f=ie;break;case"type":b=ie;break;case"checked":U=ie;break;case"defaultChecked":X=ie;break;case"value":g=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:gt(i,r,c,ie,o,null)}}Ju(i,g,A,U,X,b,f,!1);return;case"select":Ye("invalid",i),c=b=g=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":g=A;break;case"defaultValue":b=A;break;case"multiple":c=A;default:gt(i,r,f,A,o,null)}r=g,o=b,i.multiple=!!c,r!=null?Tr(i,!!c,r,!1):o!=null&&Tr(i,!!c,o,!0);return;case"textarea":Ye("invalid",i),g=f=c=null;for(b in o)if(o.hasOwnProperty(b)&&(A=o[b],A!=null))switch(b){case"value":c=A;break;case"defaultValue":f=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:gt(i,r,b,A,o,null)}wr(i,c,f,g);return;case"option":for(U in o)o.hasOwnProperty(U)&&(c=o[U],c!=null)&&(U==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":gt(i,r,U,c,o,null));return;case"dialog":Ye("beforetoggle",i),Ye("toggle",i),Ye("cancel",i),Ye("close",i);break;case"iframe":case"object":Ye("load",i);break;case"video":case"audio":for(c=0;c<Pc.length;c++)Ye(Pc[c],i);break;case"image":Ye("error",i),Ye("load",i);break;case"details":Ye("toggle",i);break;case"embed":case"source":case"link":Ye("error",i),Ye("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(c=o[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:gt(i,r,X,c,o,null)}return;default:if(Eo(r)){for(ie in o)o.hasOwnProperty(ie)&&(c=o[ie],c!==void 0&&Bp(i,r,ie,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&gt(i,r,A,c,o,null))}function TI(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,b=null,A=null,U=null,X=null,ie=null;for(te in o){var le=o[te];if(o.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":U=le;default:c.hasOwnProperty(te)||gt(i,r,te,null,c,le)}}for(var W in c){var te=c[W];if(le=o[W],c.hasOwnProperty(W)&&(te!=null||le!=null))switch(W){case"type":g=te;break;case"name":f=te;break;case"checked":X=te;break;case"defaultChecked":ie=te;break;case"value":b=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:te!==le&&gt(i,r,W,te,c,le)}}wo(i,b,A,U,X,ie,g,f);return;case"select":te=b=A=W=null;for(g in o)if(U=o[g],o.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":te=U;default:c.hasOwnProperty(g)||gt(i,r,g,null,c,U)}for(f in c)if(g=c[f],U=o[f],c.hasOwnProperty(f)&&(g!=null||U!=null))switch(f){case"value":W=g;break;case"defaultValue":A=g;break;case"multiple":b=g;default:g!==U&&gt(i,r,f,g,c,U)}r=A,o=b,c=te,W!=null?Tr(i,!!o,W,!1):!!c!=!!o&&(r!=null?Tr(i,!!o,r,!0):Tr(i,!!o,o?[]:"",!1));return;case"textarea":te=W=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:gt(i,r,A,null,c,f)}for(b in c)if(f=c[b],g=o[b],c.hasOwnProperty(b)&&(f!=null||g!=null))switch(b){case"value":W=f;break;case"defaultValue":te=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&gt(i,r,b,f,c,g)}eh(i,W,te);return;case"option":for(var we in o)W=o[we],o.hasOwnProperty(we)&&W!=null&&!c.hasOwnProperty(we)&&(we==="selected"?i.selected=!1:gt(i,r,we,null,c,W));for(U in c)W=c[U],te=o[U],c.hasOwnProperty(U)&&W!==te&&(W!=null||te!=null)&&(U==="selected"?i.selected=W&&typeof W!="function"&&typeof W!="symbol":gt(i,r,U,W,c,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in o)W=o[ke],o.hasOwnProperty(ke)&&W!=null&&!c.hasOwnProperty(ke)&&gt(i,r,ke,null,c,W);for(X in c)if(W=c[X],te=o[X],c.hasOwnProperty(X)&&W!==te&&(W!=null||te!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:gt(i,r,X,W,c,te)}return;default:if(Eo(r)){for(var yt in o)W=o[yt],o.hasOwnProperty(yt)&&W!==void 0&&!c.hasOwnProperty(yt)&&Bp(i,r,yt,void 0,c,W);for(ie in c)W=c[ie],te=o[ie],!c.hasOwnProperty(ie)||W===te||W===void 0&&te===void 0||Bp(i,r,ie,W,c,te);return}}for(var G in o)W=o[G],o.hasOwnProperty(G)&&W!=null&&!c.hasOwnProperty(G)&&gt(i,r,G,null,c,W);for(le in c)W=c[le],te=o[le],!c.hasOwnProperty(le)||W===te||W==null&&te==null||gt(i,r,le,W,c,te)}function pT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],g=f.transferSize,b=f.initiatorType,A=f.duration;if(g&&A&&pT(b)){for(b=0,A=f.responseEnd,c+=1;c<o.length;c++){var U=o[c],X=U.startTime;if(X>A)break;var ie=U.transferSize,le=U.initiatorType;ie&&pT(le)&&(U=U.responseEnd,b+=ie*(U<A?1:(A-X)/(U-X)))}if(--c,r+=8*(g+b)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Fp=null,Hp=null;function sf(i){return i.nodeType===9?i:i.ownerDocument}function gT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function qp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Gp=null;function EI(){var i=window.event;return i&&i.type==="popstate"?i===Gp?!1:(Gp=i,!0):(Gp=null,!1)}var vT=typeof setTimeout=="function"?setTimeout:void 0,xI=typeof clearTimeout=="function"?clearTimeout:void 0,_T=typeof Promise=="function"?Promise:void 0,SI=typeof queueMicrotask=="function"?queueMicrotask:typeof _T<"u"?function(i){return _T.resolve(null).then(i).catch(AI)}:vT;function AI(i){setTimeout(function(){throw i})}function Gr(i){return i==="head"}function bT(i,r){var o=r,c=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(f),sl(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Lc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Lc(o);for(var g=o.firstChild;g;){var b=g.nextSibling,A=g.nodeName;g[as]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=b}}else o==="body"&&Lc(i.ownerDocument.body);o=f}while(o);sl(r)}function TT(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Kp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Kp(o),bo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function CI(i,r,o,c){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[as])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Ii(i.nextSibling),i===null)break}return null}function RI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ii(i.nextSibling),i===null))return null;return i}function wT(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Ii(i.nextSibling),i===null))return null;return i}function $p(i){return i.data==="$?"||i.data==="$~"}function Yp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function II(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Ii(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Qp=null;function ET(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Ii(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function xT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function ST(i,r,o){switch(r=sf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Lc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);bo(i)}var Di=new Map,AT=new Set;function rf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ir=he.d;he.d={f:DI,r:NI,D:kI,C:MI,L:VI,m:PI,X:LI,S:OI,M:jI};function DI(){var i=ir.f(),r=Qh();return i||r}function NI(i){var r=_i(i);r!==null&&r.tag===5&&r.type==="form"?H_(r):ir.r(i)}var tl=typeof document>"u"?null:document;function CT(i,r,o){var c=tl;if(c&&typeof r=="string"&&r){var f=Kn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),AT.has(f)||(AT.add(f),i={rel:i,crossOrigin:o,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),En(r,"link",i),Qt(r),c.head.appendChild(r)))}}function kI(i){ir.D(i),CT("dns-prefetch",i,null)}function MI(i,r){ir.C(i,r),CT("preconnect",i,r)}function VI(i,r,o){ir.L(i,r,o);var c=tl;if(c&&i&&r){var f='link[rel="preload"][as="'+Kn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Kn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Kn(o.imageSizes)+'"]')):f+='[href="'+Kn(i)+'"]';var g=f;switch(r){case"style":g=nl(i);break;case"script":g=il(i)}Di.has(g)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Di.set(g,i),c.querySelector(f)!==null||r==="style"&&c.querySelector(jc(g))||r==="script"&&c.querySelector(Uc(g))||(r=c.createElement("link"),En(r,"link",i),Qt(r),c.head.appendChild(r)))}}function PI(i,r){ir.m(i,r);var o=tl;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Kn(c)+'"][href="'+Kn(i)+'"]',g=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=il(i)}if(!Di.has(g)&&(i=v({rel:"modulepreload",href:i},r),Di.set(g,i),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Uc(g)))return}c=o.createElement("link"),En(c,"link",i),Qt(c),o.head.appendChild(c)}}}function OI(i,r,o){ir.S(i,r,o);var c=tl;if(c&&i){var f=ls(c).hoistableStyles,g=nl(i);r=r||"default";var b=f.get(g);if(!b){var A={loading:0,preload:null};if(b=c.querySelector(jc(g)))A.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Di.get(g))&&Xp(i,o);var U=b=c.createElement("link");Qt(U),En(U,"link",i),U._p=new Promise(function(X,ie){U.onload=X,U.onerror=ie}),U.addEventListener("load",function(){A.loading|=1}),U.addEventListener("error",function(){A.loading|=2}),A.loading|=4,af(b,r,c)}b={type:"stylesheet",instance:b,count:1,state:A},f.set(g,b)}}}function LI(i,r){ir.X(i,r);var o=tl;if(o&&i){var c=ls(o).hoistableScripts,f=il(i),g=c.get(f);g||(g=o.querySelector(Uc(f)),g||(i=v({src:i,async:!0},r),(r=Di.get(f))&&Wp(i,r),g=o.createElement("script"),Qt(g),En(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function jI(i,r){ir.M(i,r);var o=tl;if(o&&i){var c=ls(o).hoistableScripts,f=il(i),g=c.get(f);g||(g=o.querySelector(Uc(f)),g||(i=v({src:i,async:!0,type:"module"},r),(r=Di.get(f))&&Wp(i,r),g=o.createElement("script"),Qt(g),En(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function RT(i,r,o,c){var f=(f=pe.current)?rf(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=nl(o.href),o=ls(f).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=nl(o.href);var g=ls(f).hoistableStyles,b=g.get(i);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=f.querySelector(jc(i)))&&!g._p&&(b.instance=g,b.state.loading=5),Di.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Di.set(i,o),g||UI(f,i,o,b.state))),r&&c===null)throw Error(s(528,""));return b}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=il(o),o=ls(f).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function nl(i){return'href="'+Kn(i)+'"'}function jc(i){return'link[rel="stylesheet"]['+i+"]"}function IT(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function UI(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),En(r,"link",o),Qt(r),i.head.appendChild(r))}function il(i){return'[src="'+Kn(i)+'"]'}function Uc(i){return"script[async]"+i}function DT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Kn(o.href)+'"]');if(c)return r.instance=c,Qt(c),c;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Qt(c),En(c,"style",f),af(c,o.precedence,i),r.instance=c;case"stylesheet":f=nl(o.href);var g=i.querySelector(jc(f));if(g)return r.state.loading|=4,r.instance=g,Qt(g),g;c=IT(o),(f=Di.get(f))&&Xp(c,f),g=(i.ownerDocument||i).createElement("link"),Qt(g);var b=g;return b._p=new Promise(function(A,U){b.onload=A,b.onerror=U}),En(g,"link",c),r.state.loading|=4,af(g,o.precedence,i),r.instance=g;case"script":return g=il(o.src),(f=i.querySelector(Uc(g)))?(r.instance=f,Qt(f),f):(c=o,(f=Di.get(g))&&(c=v({},o),Wp(c,f)),i=i.ownerDocument||i,f=i.createElement("script"),Qt(f),En(f,"link",c),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,af(c,o.precedence,i));return r.instance}function af(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,g=f,b=0;b<c.length;b++){var A=c[b];if(A.dataset.precedence===r)g=A;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Xp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Wp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var of=null;function NT(i,r,o){if(of===null){var c=new Map,f=of=new Map;f.set(o,c)}else f=of,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[as]||g[Yt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=i+b;var A=c.get(b);A?A.push(g):c.set(b,[g])}}return c}function kT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function zI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function MT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function BI(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=nl(c.href),g=r.querySelector(jc(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=lf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Qt(g);return}g=r.ownerDocument||r,c=IT(c),(f=Di.get(f))&&Xp(c,f),g=g.createElement("link"),Qt(g);var b=g;b._p=new Promise(function(A,U){b.onload=A,b.onerror=U}),En(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=lf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Zp=0;function FI(i,r){return i.stylesheets&&i.count===0&&uf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&uf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Zp===0&&(Zp=62500*wI());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&uf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Zp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function lf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var cf=null;function uf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,cf=new Map,r.forEach(HI,i),cf=null,lf.call(i))}function HI(i,r){if(!(r.state.loading&4)){var o=cf.get(i);if(o)var c=o.get(null);else{o=new Map,cf.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var b=f[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}f=r.instance,b=f.getAttribute("data-precedence"),g=o.get(b)||c,g===c&&o.set(null,f),o.set(b,f),this.count++,c=lf.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var zc={$$typeof:H,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function qI(i,r,o,c,f,g,b,A,U){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function VT(i,r,o,c,f,g,b,A,U,X,ie,le){return i=new qI(i,r,o,b,U,X,ie,le,A),r=1,g===!0&&(r|=24),g=oi(3,null,null,r),i.current=g,g.stateNode=i,r=Nm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},Pm(g),i}function PT(i){return i?(i=Vo,i):Vo}function OT(i,r,o,c,f,g){f=PT(f),c.context===null?c.context=f:c.pendingContext=f,c=Vr(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Pr(i,c,r),o!==null&&(Zn(o,i,r),vc(o,i,r))}function LT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Jp(i,r){LT(i,r),(i=i.alternate)&&LT(i,r)}function jT(i){if(i.tag===13||i.tag===31){var r=La(i,67108864);r!==null&&Zn(r,i,67108864),Jp(i,67108864)}}function UT(i){if(i.tag===13||i.tag===31){var r=fi();r=Et(r);var o=La(i,r);o!==null&&Zn(o,i,r),Jp(i,r)}}var hf=!0;function GI(i,r,o,c){var f=Z.T;Z.T=null;var g=he.p;try{he.p=2,eg(i,r,o,c)}finally{he.p=g,Z.T=f}}function KI(i,r,o,c){var f=Z.T;Z.T=null;var g=he.p;try{he.p=8,eg(i,r,o,c)}finally{he.p=g,Z.T=f}}function eg(i,r,o,c){if(hf){var f=tg(c);if(f===null)zp(i,r,c,ff,o),BT(i,c);else if(YI(f,i,r,o,c))c.stopPropagation();else if(BT(i,c),r&4&&-1<$I.indexOf(i)){for(;f!==null;){var g=_i(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=yi(g.pendingLanes);if(b!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var U=1<<31-Ct(b);A.entanglements[1]|=U,b&=~U}Ts(g),(ot&6)===0&&($h=$t()+500,Vc(0))}}break;case 31:case 13:A=La(g,2),A!==null&&Zn(A,g,2),Qh(),Jp(g,2)}if(g=tg(c),g===null&&zp(i,r,c,ff,o),g===f)break;f=g}f!==null&&c.stopPropagation()}else zp(i,r,c,null,o)}}function tg(i){return i=bi(i),ng(i)}var ff=null;function ng(i){if(ff=null,i=os(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return ff=i,null}function zT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zn()){case dt:return 2;case ti:return 8;case ni:case Bi:return 32;case gi:return 268435456;default:return 32}default:return 32}}var ig=!1,Kr=null,$r=null,Yr=null,Bc=new Map,Fc=new Map,Qr=[],$I="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BT(i,r){switch(i){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Bc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fc.delete(r.pointerId)}}function Hc(i,r,o,c,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},r!==null&&(r=_i(r),r!==null&&jT(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function YI(i,r,o,c,f){switch(r){case"focusin":return Kr=Hc(Kr,i,r,o,c,f),!0;case"dragenter":return $r=Hc($r,i,r,o,c,f),!0;case"mouseover":return Yr=Hc(Yr,i,r,o,c,f),!0;case"pointerover":var g=f.pointerId;return Bc.set(g,Hc(Bc.get(g)||null,i,r,o,c,f)),!0;case"gotpointercapture":return g=f.pointerId,Fc.set(g,Hc(Fc.get(g)||null,i,r,o,c,f)),!0}return!1}function FT(i){var r=os(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,fn(i.priority,function(){UT(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,fn(i.priority,function(){UT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function df(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=tg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);nc=c,o.target.dispatchEvent(c),nc=null}else return r=_i(o),r!==null&&jT(r),i.blockedOn=o,!1;r.shift()}return!0}function HT(i,r,o){df(i)&&o.delete(r)}function QI(){ig=!1,Kr!==null&&df(Kr)&&(Kr=null),$r!==null&&df($r)&&($r=null),Yr!==null&&df(Yr)&&(Yr=null),Bc.forEach(HT),Fc.forEach(HT)}function mf(i,r){i.blockedOn===r&&(i.blockedOn=null,ig||(ig=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,QI)))}var pf=null;function qT(i){pf!==i&&(pf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){pf===i&&(pf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],f=i[r+2];if(typeof c!="function"){if(ng(c||o)===null)continue;break}var g=_i(o);g!==null&&(i.splice(r,3),r-=3,tp(g,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function sl(i){function r(U){return mf(U,i)}Kr!==null&&mf(Kr,i),$r!==null&&mf($r,i),Yr!==null&&mf(Yr,i),Bc.forEach(r),Fc.forEach(r);for(var o=0;o<Qr.length;o++){var c=Qr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Qr.length&&(o=Qr[0],o.blockedOn===null);)FT(o),o.blockedOn===null&&Qr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],g=o[c+1],b=f[dn]||null;if(typeof g=="function")b||qT(o);else if(b){var A=null;if(g&&g.hasAttribute("formAction")){if(f=g,b=g[dn]||null)A=b.formAction;else if(ng(f)!==null)continue}else A=b.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),qT(o)}}}function GT(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function sg(i){this._internalRoot=i}gf.prototype.render=sg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=fi();OT(o,c,i,r,null,null)},gf.prototype.unmount=sg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;OT(i.current,2,null,i,null,null),Qh(),r[rs]=null}};function gf(i){this._internalRoot=i}gf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Rn();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Qr.length&&r!==0&&r<Qr[o].priority;o++);Qr.splice(o,0,i),o===0&&FT(i)}};var KT=e.version;if(KT!=="19.2.3")throw Error(s(527,KT,"19.2.3"));he.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var XI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yf.isDisabled&&yf.supportsFiber)try{Cn=yf.inject(XI),Lt=yf}catch{}}return Gc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",f=J_,g=eb,b=tb;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=VT(i,1,!1,null,null,o,c,null,f,g,b,GT),i[rs]=r.current,Up(i),new sg(r)},Gc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,f="",g=J_,b=eb,A=tb,U=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),r=VT(i,1,!0,r,o??null,c,f,U,g,b,A,GT),r.context=PT(null),o=r.current,c=fi(),c=Et(c),f=Vr(c),f.callback=null,Pr(o,f,c),o=c,r.current.lanes=o,Fi(r,o),Ts(r),i[rs]=r.current,Up(i),new gf(r)},Gc.version="19.2.3",Gc}var nw;function lD(){if(nw)return og.exports;nw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),og.exports=oD(),og.exports}var cD=lD();var iw="popstate";function uD(t={}){function e(s,a){let{pathname:l,search:u,hash:d}=s.location;return Kg("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:du(a)}return fD(e,n,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hD(){return Math.random().toString(36).substring(2,10)}function sw(t,e){return{usr:t.state,key:t.key,idx:e}}function Kg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ml(e):e,state:n,key:e&&e.key||s||hD()}}function du({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ml(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function fD(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,d="POP",m=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function v(){d="POP";let D=y(),z=D==null?null:D-p;p=D,m&&m({action:d,location:j.location,delta:z})}function T(D,z){d="PUSH";let q=Kg(j.location,D,z);p=y()+1;let H=sw(q,p),oe=j.createHref(q);try{u.pushState(H,"",oe)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;a.location.assign(oe)}l&&m&&m({action:d,location:j.location,delta:1})}function R(D,z){d="REPLACE";let q=Kg(j.location,D,z);p=y();let H=sw(q,p),oe=j.createHref(q);u.replaceState(H,"",oe),l&&m&&m({action:d,location:j.location,delta:0})}function L(D){return dD(D)}let j={get action(){return d},get location(){return t(a,u)},listen(D){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(iw,v),m=D,()=>{a.removeEventListener(iw,v),m=null}},createHref(D){return e(a,D)},createURL:L,encodeLocation(D){let z=L(D);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:T,replace:R,go(D){return u.go(D)}};return j}function dD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:du(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function _x(t,e,n="/"){return mD(t,e,n,!1)}function mD(t,e,n,s){let a=typeof e=="string"?Ml(e):e,l=fr(a.pathname||"/",n);if(l==null)return null;let u=bx(t);pD(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let p=AD(l);d=xD(u[m],p,s)}return d}function bx(t,e=[],n=[],s="",a=!1){let l=(u,d,m=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;Dt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=lr([s,y.relativePath]),T=n.concat(y);u.children&&u.children.length>0&&(Dt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),bx(u.children,e,T,v,m)),!(u.path==null&&!u.index)&&e.push({path:v,score:wD(v,u.index),routesMeta:T})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let m of Tx(u.path))l(u,d,!0,m)}),e}function Tx(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=Tx(s.join("/")),d=[];return d.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...u),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function pD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ED(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var gD=/^:[\w-]+$/,yD=3,vD=2,_D=1,bD=10,TD=-2,rw=t=>t==="*";function wD(t,e){let n=t.split("/"),s=n.length;return n.some(rw)&&(s+=TD),e&&(s+=vD),n.filter(a=>!rw(a)).reduce((a,l)=>a+(gD.test(l)?yD:l===""?_D:bD),s)}function ED(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function xD(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=Qf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),T=m.route;if(!v&&p&&n&&!s[s.length-1].route.index&&(v=Qf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:lr([l,v.pathname]),pathnameBase:DD(lr([l,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(l=lr([l,v.pathnameBase]))}return u}function Qf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=SD(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:v},T)=>{if(y==="*"){let L=d[T]||"";u=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const R=d[T];return v&&!R?p[y]=void 0:p[y]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function SD(t,e=!1,n=!0){zi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function AD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var wx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CD=t=>wx.test(t);function RD(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Ml(t):t,l;if(n)if(CD(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),zi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=aw(n.substring(1),"/"):l=aw(n,e)}else l=e;return{pathname:l,search:ND(s),hash:kD(a)}}function aw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function hg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ID(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $y(t){let e=ID(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Yy(t,e,n,s=!1){let a;typeof t=="string"?a=Ml(t):(a={...t},Dt(!a.pathname||!a.pathname.includes("?"),hg("?","pathname","search",a)),Dt(!a.pathname||!a.pathname.includes("#"),hg("#","pathname","hash",a)),Dt(!a.search||!a.search.includes("#"),hg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=n;else{let v=e.length-1;if(!s&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),v-=1;a.pathname=T.join("/")}d=v>=0?e[v]:"/"}let m=RD(a,d),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var lr=t=>t.join("/").replace(/\/\/+/g,"/"),DD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ND=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,MD=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function VD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function PD(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ex=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xx(t,e){let n=t;if(typeof n!="string"||!wx.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(Ex)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=fr(u.pathname,e);u.origin===l.origin&&d!=null?n=d+u.search+u.hash:a=!0}catch{zi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Sx=["POST","PUT","PATCH","DELETE"];new Set(Sx);var OD=["GET",...Sx];new Set(OD);var Vl=O.createContext(null);Vl.displayName="DataRouter";var kd=O.createContext(null);kd.displayName="DataRouterState";var LD=O.createContext(!1),Ax=O.createContext({isTransitioning:!1});Ax.displayName="ViewTransition";var jD=O.createContext(new Map);jD.displayName="Fetchers";var UD=O.createContext(null);UD.displayName="Await";var pi=O.createContext(null);pi.displayName="Navigation";var Au=O.createContext(null);Au.displayName="Location";var ss=O.createContext({outlet:null,matches:[],isDataRoute:!1});ss.displayName="Route";var Qy=O.createContext(null);Qy.displayName="RouteError";var Cx="REACT_ROUTER_ERROR",zD="REDIRECT",BD="ROUTE_ERROR_RESPONSE";function FD(t){if(t.startsWith(`${Cx}:${zD}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function HD(t){if(t.startsWith(`${Cx}:${BD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new MD(e.status,e.statusText,e.data)}catch{}}function qD(t,{relative:e}={}){Dt(Pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=O.useContext(pi),{hash:a,pathname:l,search:u}=Cu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:lr([n,l])),s.createHref({pathname:d,search:u,hash:a})}function Pl(){return O.useContext(Au)!=null}function ba(){return Dt(Pl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Au).location}var Rx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ix(t){O.useContext(pi).static||O.useLayoutEffect(t)}function Md(){let{isDataRoute:t}=O.useContext(ss);return t?sN():GD()}function GD(){Dt(Pl(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(Vl),{basename:e,navigator:n}=O.useContext(pi),{matches:s}=O.useContext(ss),{pathname:a}=ba(),l=JSON.stringify($y(s)),u=O.useRef(!1);return Ix(()=>{u.current=!0}),O.useCallback((m,p={})=>{if(zi(u.current,Rx),!u.current)return;if(typeof m=="number"){n.go(m);return}let y=Yy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:lr([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}O.createContext(null);function KD(){let{matches:t}=O.useContext(ss),e=t[t.length-1];return e?e.params:{}}function Cu(t,{relative:e}={}){let{matches:n}=O.useContext(ss),{pathname:s}=ba(),a=JSON.stringify($y(n));return O.useMemo(()=>Yy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function $D(t,e){return Dx(t,e)}function Dx(t,e,n,s,a){Dt(Pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(pi),{matches:u}=O.useContext(ss),d=u[u.length-1],m=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",v=d&&d.route;{let q=v&&v.path||"";kx(p,!v||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let T=ba(),R;if(e){let q=typeof e=="string"?Ml(e):e;Dt(y==="/"||q.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${q.pathname}" was given in the \`location\` prop.`),R=q}else R=T;let L=R.pathname||"/",j=L;if(y!=="/"){let q=y.replace(/^\//,"").split("/");j="/"+L.replace(/^\//,"").split("/").slice(q.length).join("/")}let D=_x(t,{pathname:j});zi(v||D!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),zi(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=ZD(D&&D.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:lr([y,l.encodeLocation?l.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:lr([y,l.encodeLocation?l.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),u,n,s,a);return e&&z?O.createElement(Au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},z):z}function YD(){let t=iN(),e=VD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:a},n):null,u)}var QD=O.createElement(YD,null),Nx=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=HD(t.digest);n&&(t=n)}let e=t!==void 0?O.createElement(ss.Provider,{value:this.props.routeContext},O.createElement(Qy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?O.createElement(XD,{error:t},e):e}};Nx.contextType=LD;var fg=new WeakMap;function XD({children:t,error:e}){let{basename:n}=O.useContext(pi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=FD(e.digest);if(s){let a=fg.get(e);if(a)throw a;let l=xx(s.location,n);if(Ex&&!fg.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw fg.set(e,u),u}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function WD({routeContext:t,match:e,children:n}){let s=O.useContext(Vl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(ss.Provider,{value:t},n)}function ZD(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Dt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=y),v.route.id){let{loaderData:T,errors:R}=n,L=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!R||R[v.route.id]===void 0);if(v.route.lazy||L){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(y,v)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:PD(n.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,T)=>{let R,L=!1,j=null,D=null;n&&(R=u&&v.route.id?u[v.route.id]:void 0,j=v.route.errorElement||QD,d&&(m<0&&T===0?(kx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,D=null):m===T&&(L=!0,D=v.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,T+1)),q=()=>{let H;return R?H=j:L?H=D:v.route.Component?H=O.createElement(v.route.Component,null):v.route.element?H=v.route.element:H=y,O.createElement(WD,{match:v,routeContext:{outlet:y,matches:z,isDataRoute:n!=null},children:H})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?O.createElement(Nx,{location:n.location,revalidation:n.revalidation,component:j,error:R,children:q(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:p}):q()},null)}function Xy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JD(t){let e=O.useContext(Vl);return Dt(e,Xy(t)),e}function eN(t){let e=O.useContext(kd);return Dt(e,Xy(t)),e}function tN(t){let e=O.useContext(ss);return Dt(e,Xy(t)),e}function Wy(t){let e=tN(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function nN(){return Wy("useRouteId")}function iN(){let t=O.useContext(Qy),e=eN("useRouteError"),n=Wy("useRouteError");return t!==void 0?t:e.errors?.[n]}function sN(){let{router:t}=JD("useNavigate"),e=Wy("useNavigate"),n=O.useRef(!1);return Ix(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{zi(n.current,Rx),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var ow={};function kx(t,e,n){!e&&!ow[t]&&(ow[t]=!0,zi(!1,n))}O.memo(rN);function rN({routes:t,future:e,state:n,onError:s}){return Dx(t,void 0,n,s,e)}function lw({to:t,replace:e,state:n,relative:s}){Dt(Pl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(pi);zi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(ss),{pathname:u}=ba(),d=Md(),m=Yy(t,$y(l),u,s==="path"),p=JSON.stringify(m);return O.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:s})},[d,p,s,e,n]),null}function al(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aN({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){Dt(!Pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),m=O.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[d,a,l,u]);typeof n=="string"&&(n=Ml(n));let{pathname:p="/",search:y="",hash:v="",state:T=null,key:R="default"}=n,L=O.useMemo(()=>{let j=fr(p,d);return j==null?null:{location:{pathname:j,search:y,hash:v,state:T,key:R},navigationType:s}},[d,p,y,v,T,R,s]);return zi(L!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:O.createElement(pi.Provider,{value:m},O.createElement(Au.Provider,{children:e,value:L}))}function oN({children:t,location:e}){return $D($g(t),e)}function $g(t,e=[]){let n=[];return O.Children.forEach(t,(s,a)=>{if(!O.isValidElement(s))return;let l=[...e,a];if(s.type===O.Fragment){n.push.apply(n,$g(s.props.children,l));return}Dt(s.type===al,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=$g(s.props.children,l)),n.push(u)}),n}var Mf="get",Vf="application/x-www-form-urlencoded";function Vd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function lN(t){return Vd(t)&&t.tagName.toLowerCase()==="button"}function cN(t){return Vd(t)&&t.tagName.toLowerCase()==="form"}function uN(t){return Vd(t)&&t.tagName.toLowerCase()==="input"}function hN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fN(t,e){return t.button===0&&(!e||e==="_self")&&!hN(t)}var vf=null;function dN(){if(vf===null)try{new FormData(document.createElement("form"),0),vf=!1}catch{vf=!0}return vf}var mN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dg(t){return t!=null&&!mN.has(t)?(zi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vf}"`),null):t}function pN(t,e){let n,s,a,l,u;if(cN(t)){let d=t.getAttribute("action");s=d?fr(d,e):null,n=t.getAttribute("method")||Mf,a=dg(t.getAttribute("enctype"))||Vf,l=new FormData(t)}else if(lN(t)||uN(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?fr(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Mf,a=dg(t.getAttribute("formenctype"))||dg(d.getAttribute("enctype"))||Vf,l=new FormData(d,t),!dN()){let{name:p,type:y,value:v}=t;if(y==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,v)}}else{if(Vd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mf,s=null,a=Vf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gN(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&fr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function yN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _N(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await yN(l,n);return u.links?u.links():[]}return[]}));return EN(s.flat(1).filter(vN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function cw(t,e,n,s,a,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>u(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(u(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function bN(t,e,{includeHydrateFallback:n}={}){return TN(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function TN(t){return[...new Set(t)]}function wN(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function EN(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(wN(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function Mx(){let t=O.useContext(Vl);return Zy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function xN(){let t=O.useContext(kd);return Zy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Jy=O.createContext(void 0);Jy.displayName="FrameworkContext";function Vx(){let t=O.useContext(Jy);return Zy(t,"You must render this element inside a <HydratedRouter> element"),t}function SN(t,e){let n=O.useContext(Jy),[s,a]=O.useState(!1),[l,u]=O.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,T=O.useRef(null);O.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let j=z=>{z.forEach(q=>{u(q.isIntersecting)})},D=new IntersectionObserver(j,{threshold:.5});return T.current&&D.observe(T.current),()=>{D.disconnect()}}},[t]),O.useEffect(()=>{if(s){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[s]);let R=()=>{a(!0)},L=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Kc(d,R),onBlur:Kc(m,L),onMouseEnter:Kc(p,R),onMouseLeave:Kc(y,L),onTouchStart:Kc(v,R)}]:[!1,T,{}]}function Kc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function AN({page:t,...e}){let{router:n}=Mx(),s=O.useMemo(()=>_x(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?O.createElement(RN,{page:t,matches:s,...e}):null}function CN(t){let{manifest:e,routeModules:n}=Vx(),[s,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return _N(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function RN({page:t,matches:e,...n}){let s=ba(),{future:a,manifest:l,routeModules:u}=Vx(),{basename:d}=Mx(),{loaderData:m,matches:p}=xN(),y=O.useMemo(()=>cw(t,e,p,l,s,"data"),[t,e,p,l,s]),v=O.useMemo(()=>cw(t,e,p,l,s,"assets"),[t,e,p,l,s]),T=O.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let j=new Set,D=!1;if(e.forEach(q=>{let H=l.routes[q.route.id];!H||!H.hasLoader||(!y.some(oe=>oe.route.id===q.route.id)&&q.route.id in m&&u[q.route.id]?.shouldRevalidate||H.hasClientLoader?D=!0:j.add(q.route.id))}),j.size===0)return[];let z=gN(t,d,a.unstable_trailingSlashAwareDataRequests,"data");return D&&j.size>0&&z.searchParams.set("_routes",e.filter(q=>j.has(q.route.id)).map(q=>q.route.id).join(",")),[z.pathname+z.search]},[d,a.unstable_trailingSlashAwareDataRequests,m,s,l,y,e,t,u]),R=O.useMemo(()=>bN(v,l),[v,l]),L=CN(v);return O.createElement(O.Fragment,null,T.map(j=>O.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),R.map(j=>O.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),L.map(({key:j,link:D})=>O.createElement("link",{key:j,nonce:n.nonce,...D})))}function IN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var DN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DN&&(window.__reactRouterVersion="7.12.0")}catch{}function NN({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=O.useRef();a.current==null&&(a.current=uD({window:s,v5Compat:!0}));let l=a.current,[u,d]=O.useState({action:l.action,location:l.location}),m=O.useCallback(p=>{n===!1?d(p):O.startTransition(()=>d(p))},[n]);return O.useLayoutEffect(()=>l.listen(m),[l,m]),O.createElement(aN,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var Px=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ox=O.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:d,target:m,to:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:T,...R},L){let{basename:j,unstable_useTransitions:D}=O.useContext(pi),z=typeof p=="string"&&Px.test(p),q=xx(p,j);p=q.to;let H=qD(p,{relative:a}),[oe,ne,de]=SN(s,R),I=PN(p,{replace:u,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:T,unstable_useTransitions:D});function S(V){e&&e(V),V.defaultPrevented||I(V)}let k=O.createElement("a",{...R,...de,href:q.absoluteURL||H,onClick:q.isExternal||l?e:S,ref:IN(L,ne),target:m,"data-discover":!z&&n==="render"?"true":void 0});return oe&&!z?O.createElement(O.Fragment,null,k,O.createElement(AN,{page:H})):k});Ox.displayName="Link";var kN=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:d,children:m,...p},y){let v=Cu(u,{relative:p.relative}),T=ba(),R=O.useContext(kd),{navigator:L,basename:j}=O.useContext(pi),D=R!=null&&zN(v)&&d===!0,z=L.encodeLocation?L.encodeLocation(v).pathname:v.pathname,q=T.pathname,H=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(q=q.toLowerCase(),H=H?H.toLowerCase():null,z=z.toLowerCase()),H&&j&&(H=fr(H,j)||H);const oe=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let ne=q===z||!a&&q.startsWith(z)&&q.charAt(oe)==="/",de=H!=null&&(H===z||!a&&H.startsWith(z)&&H.charAt(z.length)==="/"),I={isActive:ne,isPending:de,isTransitioning:D},S=ne?e:void 0,k;typeof s=="function"?k=s(I):k=[s,ne?"active":null,de?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(I):l;return O.createElement(Ox,{...p,"aria-current":S,className:k,ref:y,style:V,to:u,viewTransition:d},typeof m=="function"?m(I):m)});kN.displayName="NavLink";var MN=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=Mf,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:T,...R},L)=>{let{unstable_useTransitions:j}=O.useContext(pi),D=jN(),z=UN(d,{relative:p}),q=u.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&Px.test(d),oe=ne=>{if(m&&m(ne),ne.defaultPrevented)return;ne.preventDefault();let de=ne.nativeEvent.submitter,I=de?.getAttribute("formmethod")||u,S=()=>D(de||ne.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:T});j&&n!==!1?O.startTransition(()=>S()):S()};return O.createElement("form",{ref:L,method:q,action:z,onSubmit:s?m:oe,...R,"data-discover":!H&&t==="render"?"true":void 0})});MN.displayName="Form";function VN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lx(t){let e=O.useContext(Vl);return Dt(e,VN(t)),e}function PN(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let p=Md(),y=ba(),v=Cu(t,{relative:l});return O.useCallback(T=>{if(fN(T,e)){T.preventDefault();let R=n!==void 0?n:du(y)===du(v),L=()=>p(t,{replace:R,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d});m?O.startTransition(()=>L()):L()}},[y,p,v,n,s,e,t,a,l,u,d,m])}var ON=0,LN=()=>`__${String(++ON)}__`;function jN(){let{router:t}=Lx("useSubmit"),{basename:e}=O.useContext(pi),n=nN(),s=t.fetch,a=t.navigate;return O.useCallback(async(l,u={})=>{let{action:d,method:m,encType:p,formData:y,body:v}=pN(l,e);if(u.navigate===!1){let T=u.fetcherKey||LN();await s(T,n,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||m,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||m,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function UN(t,{relative:e}={}){let{basename:n}=O.useContext(pi),s=O.useContext(ss);Dt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Cu(t||".",{relative:e})},u=ba();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(v=>v).forEach(v=>d.append("index",v));let y=d.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:lr([n,l.pathname])),du(l)}function zN(t,{relative:e}={}){let n=O.useContext(Ax);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Lx("useViewTransitionState"),a=Cu(t,{relative:e});if(!n.isTransitioning)return!1;let l=fr(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=fr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Qf(a.pathname,u)!=null||Qf(a.pathname,l)!=null}const BN="modulepreload",FN=function(t){return"/"+t},uw={},Yg=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let m=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");a=m(n.map(p=>{if(p=FN(p),p in uw)return;uw[p]=!0;const y=p.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const T=document.createElement("link");if(T.rel=y?"stylesheet":BN,y||(T.as="script"),T.crossOrigin="",T.href=p,d&&T.setAttribute("nonce",d),document.head.appendChild(T),y)return new Promise((R,L)=>{T.addEventListener("load",R),T.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return a.then(u=>{for(const d of u||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},HN=()=>{};var hw={};const jx=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},qN=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Ux={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,d=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,v=(l&3)<<4|d>>4;let T=(d&15)<<2|p>>6,R=p&63;m||(R=64,u||(T=64)),s.push(n[y],n[v],n[T],n[R])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||v==null)throw new GN;const T=l<<2|d>>4;if(s.push(T),p!==64){const R=d<<4&240|p>>2;if(s.push(R),v!==64){const L=p<<6&192|v;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KN=function(t){const e=jx(t);return Ux.encodeByteArray(e,!0)},Xf=function(t){return KN(t).replace(/\./g,"")},zx=function(t){try{return Ux.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $N(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const YN=()=>$N().__FIREBASE_DEFAULTS__,QN=()=>{if(typeof process>"u"||typeof hw>"u")return;const t=hw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zx(t[1]);return e&&JSON.parse(e)},Pd=()=>{try{return HN()||YN()||QN()||XN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Bx=t=>Pd()?.emulatorHosts?.[t],Fx=t=>{const e=Bx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Hx=()=>Pd()?.config,qx=t=>Pd()?.[`_${t}`];class WN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function mo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ev(t){return(await fetch(t,{credentials:"include"})).ok}function Gx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Xf(JSON.stringify(n)),Xf(JSON.stringify(u)),""].join(".")}const tu={};function ZN(){const t={prod:[],emulator:[]};for(const e of Object.keys(tu))tu[e]?t.emulator.push(e):t.prod.push(e);return t}function JN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let fw=!1;function tv(t,e){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||tu[t]===e||tu[t]||fw)return;tu[t]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=ZN().prod.length>0;function u(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,R){T.setAttribute("width","24"),T.setAttribute("id",R),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{fw=!0,u()},T}function y(T,R){T.setAttribute("id",R),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=JN(s),R=n("text"),L=document.getElementById(R)||document.createElement("span"),j=n("learnmore"),D=document.getElementById(j)||document.createElement("a"),z=n("preprendIcon"),q=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const H=T.element;d(H),y(D,j);const oe=p();m(q,z),H.append(q,L,D,oe),document.body.appendChild(H)}l?(L.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ek(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function tk(){const t=Pd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ik(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rk(){const t=Vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ak(){return!tk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ok(){try{return typeof indexedDB=="object"}catch{return!1}}function lk(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const ck="FirebaseError";class Vs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ck,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?uk(l,s):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Vs(a,d,s)}}function uk(t,e){return t.replace(hk,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const hk=/\{\$([^}]+)}/g;function fk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(dw(l)&&dw(u)){if(!oo(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function dw(t){return t!==null&&typeof t=="object"}function Iu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function dk(t,e){const n=new mk(t,e);return n.subscribe.bind(n)}class mk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");pk(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=mg),a.error===void 0&&(a.error=mg),a.complete===void 0&&(a.complete=mg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mg(){}function hn(t){return t&&t._delegate?t._delegate:t}class ha{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ja="[DEFAULT]";class gk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new WN;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vk(e))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ja){return this.instances.has(e)}getOptions(e=Ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yk(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ja){return this.component?this.component.multipleInstances?e:Ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yk(t){return t===Ja?void 0:t}function vk(t){return t.instantiationMode==="EAGER"}class _k{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const bk={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},Tk=Ze.INFO,wk={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},Ek=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=wk[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nv{constructor(e){this.name=e,this._logLevel=Tk,this._logHandler=Ek,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const xk=(t,e)=>e.some(n=>t instanceof n);let mw,pw;function Sk(){return mw||(mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ak(){return pw||(pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kx=new WeakMap,Qg=new WeakMap,$x=new WeakMap,pg=new WeakMap,iv=new WeakMap;function Ck(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(ra(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Kx.set(n,t)}).catch(()=>{}),iv.set(e,t),e}function Rk(t){if(Qg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Qg.set(t,e)}let Xg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$x.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ra(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ik(t){Xg=t(Xg)}function Dk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(gg(this),e,...n);return $x.set(s,e.sort?e.sort():[e]),ra(s)}:Ak().includes(t)?function(...e){return t.apply(gg(this),e),ra(Kx.get(this))}:function(...e){return ra(t.apply(gg(this),e))}}function Nk(t){return typeof t=="function"?Dk(t):(t instanceof IDBTransaction&&Rk(t),xk(t,Sk())?new Proxy(t,Xg):t)}function ra(t){if(t instanceof IDBRequest)return Ck(t);if(pg.has(t))return pg.get(t);const e=Nk(t);return e!==t&&(pg.set(t,e),iv.set(e,t)),e}const gg=t=>iv.get(t);function kk(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),d=ra(u);return s&&u.addEventListener("upgradeneeded",m=>{s(ra(u.result),m.oldVersion,m.newVersion,ra(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const Mk=["get","getKey","getAll","getAllKeys","count"],Vk=["put","add","delete","clear"],yg=new Map;function gw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yg.get(e))return yg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=Vk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Mk.includes(n)))return;const l=async function(u,...d){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return yg.set(e,l),l}Ik(t=>({...t,get:(e,n,s)=>gw(e,n)||t.get(e,n,s),has:(e,n)=>!!gw(e,n)||t.has(e,n)}));class Pk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ok(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Ok(t){return t.getComponent()?.type==="VERSION"}const Wg="@firebase/app",yw="0.14.7";const dr=new nv("@firebase/app"),Lk="@firebase/app-compat",jk="@firebase/analytics-compat",Uk="@firebase/analytics",zk="@firebase/app-check-compat",Bk="@firebase/app-check",Fk="@firebase/auth",Hk="@firebase/auth-compat",qk="@firebase/database",Gk="@firebase/data-connect",Kk="@firebase/database-compat",$k="@firebase/functions",Yk="@firebase/functions-compat",Qk="@firebase/installations",Xk="@firebase/installations-compat",Wk="@firebase/messaging",Zk="@firebase/messaging-compat",Jk="@firebase/performance",eM="@firebase/performance-compat",tM="@firebase/remote-config",nM="@firebase/remote-config-compat",iM="@firebase/storage",sM="@firebase/storage-compat",rM="@firebase/firestore",aM="@firebase/ai",oM="@firebase/firestore-compat",lM="firebase",cM="12.8.0";const Zg="[DEFAULT]",uM={[Wg]:"fire-core",[Lk]:"fire-core-compat",[Uk]:"fire-analytics",[jk]:"fire-analytics-compat",[Bk]:"fire-app-check",[zk]:"fire-app-check-compat",[Fk]:"fire-auth",[Hk]:"fire-auth-compat",[qk]:"fire-rtdb",[Gk]:"fire-data-connect",[Kk]:"fire-rtdb-compat",[$k]:"fire-fn",[Yk]:"fire-fn-compat",[Qk]:"fire-iid",[Xk]:"fire-iid-compat",[Wk]:"fire-fcm",[Zk]:"fire-fcm-compat",[Jk]:"fire-perf",[eM]:"fire-perf-compat",[tM]:"fire-rc",[nM]:"fire-rc-compat",[iM]:"fire-gcs",[sM]:"fire-gcs-compat",[rM]:"fire-fst",[oM]:"fire-fst-compat",[aM]:"fire-vertex","fire-js":"fire-js",[lM]:"fire-js-all"};const Wf=new Map,hM=new Map,Jg=new Map;function vw(t,e){try{t.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lo(t){const e=t.name;if(Jg.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;Jg.set(e,t);for(const n of Wf.values())vw(n,t);for(const n of hM.values())vw(n,t);return!0}function Od(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pi(t){return t==null?!1:t.settings!==void 0}const fM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new Ru("app","Firebase",fM);class dM{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}const po=cM;function Yx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Zg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw aa.create("bad-app-name",{appName:String(a)});if(n||(n=Hx()),!n)throw aa.create("no-options");const l=Wf.get(a);if(l){if(oo(n,l.options)&&oo(s,l.config))return l;throw aa.create("duplicate-app",{appName:a})}const u=new _k(a);for(const m of Jg.values())u.addComponent(m);const d=new dM(n,s,u);return Wf.set(a,d),d}function sv(t=Zg){const e=Wf.get(t);if(!e&&t===Zg&&Hx())return Yx();if(!e)throw aa.create("no-app",{appName:t});return e}function xs(t,e,n){let s=uM[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(u.join(" "));return}lo(new ha(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const mM="firebase-heartbeat-database",pM=1,mu="firebase-heartbeat-store";let vg=null;function Qx(){return vg||(vg=kk(mM,pM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw aa.create("idb-open",{originalErrorMessage:t.message})})),vg}async function gM(t){try{const n=(await Qx()).transaction(mu),s=await n.objectStore(mu).get(Xx(t));return await n.done,s}catch(e){if(e instanceof Vs)dr.warn(e.message);else{const n=aa.create("idb-get",{originalErrorMessage:e?.message});dr.warn(n.message)}}}async function _w(t,e){try{const s=(await Qx()).transaction(mu,"readwrite");await s.objectStore(mu).put(e,Xx(t)),await s.done}catch(n){if(n instanceof Vs)dr.warn(n.message);else{const s=aa.create("idb-set",{originalErrorMessage:n?.message});dr.warn(s.message)}}}function Xx(t){return`${t.name}!${t.options.appId}`}const yM=1024,vM=30;class _M{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>vM){const a=wM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=bw(),{heartbeatsToSend:n,unsentEntries:s}=bM(this._heartbeatsCache.heartbeats),a=Xf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return dr.warn(e),""}}}function bw(){return new Date().toISOString().substring(0,10)}function bM(t,e=yM){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Tw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Tw(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class TM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ok()?lk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _w(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _w(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Tw(t){return Xf(JSON.stringify({version:2,heartbeats:t})).length}function wM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function EM(t){lo(new ha("platform-logger",e=>new Pk(e),"PRIVATE")),lo(new ha("heartbeat",e=>new _M(e),"PRIVATE")),xs(Wg,yw,t),xs(Wg,yw,"esm2020"),xs("fire-js","")}EM("");var xM="firebase",SM="12.8.0";xs(xM,SM,"app");function Wx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AM=Wx,Zx=new Ru("auth","Firebase",Wx());const Zf=new nv("@firebase/auth");function CM(t,...e){Zf.logLevel<=Ze.WARN&&Zf.warn(`Auth (${po}): ${t}`,...e)}function Pf(t,...e){Zf.logLevel<=Ze.ERROR&&Zf.error(`Auth (${po}): ${t}`,...e)}function Is(t,...e){throw av(t,...e)}function ts(t,...e){return av(t,...e)}function rv(t,e,n){const s={...AM(),[e]:n};return new Ru("auth","Firebase",s).create(e,{appName:t.name})}function ro(t){return rv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RM(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Is(t,"argument-error"),rv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function av(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return Zx.create(t,...e)}function Ve(t,e,...n){if(!t)throw av(e,...n)}function ar(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pf(e),new Error(e)}function mr(t,e){t||ar(e)}function ey(){return typeof self<"u"&&self.location?.href||""}function IM(){return ww()==="http:"||ww()==="https:"}function ww(){return typeof self<"u"&&self.location?.protocol||null}function DM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IM()||ik()||"connection"in navigator)?navigator.onLine:!0}function NM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Du{constructor(e,n){this.shortDelay=e,this.longDelay=n,mr(n>e,"Short delay should be less than long delay!"),this.isMobile=ek()||sk()}get(){return DM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ov(t,e){mr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Jx{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const MM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VM=new Du(3e4,6e4);function lv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ol(t,e,n,s,a={}){return eS(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const d=Iu({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return nk()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&mo(t.emulatorConfig.host)&&(p.credentials="include"),Jx.fetch()(await tS(t,t.config.apiHost,n,d),p)})}async function eS(t,e,n){t._canInitEmulator=!1;const s={...kM,...e};try{const a=new OM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw _f(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw _f(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw _f(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw _f(t,"user-disabled",u);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw rv(t,y,p);Is(t,y)}}catch(a){if(a instanceof Vs)throw a;Is(t,"network-request-failed",{message:String(a)})}}async function PM(t,e,n,s,a={}){const l=await Ol(t,e,n,s,a);return"mfaPendingCredential"in l&&Is(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function tS(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?ov(t.config,a):`${t.config.apiScheme}://${a}`;return MM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class OM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ts(this.auth,"network-request-failed")),VM.get())})}}function _f(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=ts(t,e,s);return a.customData._tokenResponse=n,a}async function LM(t,e){return Ol(t,"POST","/v1/accounts:delete",e)}async function Jf(t,e){return Ol(t,"POST","/v1/accounts:lookup",e)}function nu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jM(t,e=!1){const n=hn(t),s=await n.getIdToken(e),a=cv(s);Ve(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:nu(_g(a.auth_time)),issuedAtTime:nu(_g(a.iat)),expirationTime:nu(_g(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function _g(t){return Number(t)*1e3}function cv(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Pf("JWT malformed, contained fewer than 3 sections"),null;try{const a=zx(n);return a?JSON.parse(a):(Pf("Failed to decode base64 JWT payload"),null)}catch(a){return Pf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Ew(t){const e=cv(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function pu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Vs&&UM(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function UM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class zM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ty{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ed(t){const e=t.auth,n=await t.getIdToken(),s=await pu(t,Jf(e,{idToken:n}));Ve(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?nS(a.providerUserInfo):[],u=FM(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,p=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new ty(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function BM(t){const e=hn(t);await ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FM(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function nS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function HM(t,e){const n=await eS(t,{},async()=>{const s=Iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await tS(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return t.emulatorConfig&&mo(t.emulatorConfig.host)&&(m.credentials="include"),Jx.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qM(t,e){return Ol(t,"POST","/v2/accounts:revokeToken",lv(t,e))}class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ew(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=Ew(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await HM(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new yl;return s&&(Ve(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Ve(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ve(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return ar("not implemented")}}function Wr(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ji{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new zM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ty(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await pu(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jM(this,e)}reload(){return BM(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ji({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ed(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pi(this.auth.app))return Promise.reject(ro(this.auth));const e=await this.getIdToken();return await pu(this,LM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:T,isAnonymous:R,providerData:L,stsTokenManager:j}=n;Ve(v&&j,e,"internal-error");const D=yl.fromJSON(this.name,j);Ve(typeof v=="string",e,"internal-error"),Wr(s,e.name),Wr(a,e.name),Ve(typeof T=="boolean",e,"internal-error"),Ve(typeof R=="boolean",e,"internal-error"),Wr(l,e.name),Wr(u,e.name),Wr(d,e.name),Wr(m,e.name),Wr(p,e.name),Wr(y,e.name);const z=new Ji({uid:v,auth:e,email:a,emailVerified:T,displayName:s,isAnonymous:R,photoURL:u,phoneNumber:l,tenantId:d,stsTokenManager:D,createdAt:p,lastLoginAt:y});return L&&Array.isArray(L)&&(z.providerData=L.map(q=>({...q}))),m&&(z._redirectEventId=m),z}static async _fromIdTokenResponse(e,n,s=!1){const a=new yl;a.updateFromServerResponse(n);const l=new Ji({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await ed(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Ve(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?nS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,d=new yl;d.updateFromIdToken(s);const m=new Ji({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ty(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const xw=new Map;function or(t){mr(t instanceof Function,"Expected a class definition");let e=xw.get(t);return e?(mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xw.set(t,e),e)}class iS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iS.type="NONE";const Sw=iS;function Of(t,e,n){return`firebase:${t}:${e}:${n}`}class vl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Of(this.userKey,a.apiKey,l),this.fullPersistenceKey=Of("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Jf(this.auth,{idToken:e}).catch(()=>{});return n?Ji._fromGetAccountInfoResponse(this.auth,n,e):null}return Ji._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new vl(or(Sw),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||or(Sw);const u=Of(s,e.config.apiKey,e.name);let d=null;for(const p of n)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const T=await Jf(e,{idToken:y}).catch(()=>{});if(!T)break;v=await Ji._fromGetAccountInfoResponse(e,T,y)}else v=Ji._fromJSON(e,y);p!==l&&(d=v),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new vl(l,e,s):(l=m[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new vl(l,e,s))}}function Aw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cS(e))return"Blackberry";if(uS(e))return"Webos";if(rS(e))return"Safari";if((e.includes("chrome/")||aS(e))&&!e.includes("edge/"))return"Chrome";if(lS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function sS(t=Vn()){return/firefox\//i.test(t)}function rS(t=Vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aS(t=Vn()){return/crios\//i.test(t)}function oS(t=Vn()){return/iemobile/i.test(t)}function lS(t=Vn()){return/android/i.test(t)}function cS(t=Vn()){return/blackberry/i.test(t)}function uS(t=Vn()){return/webos/i.test(t)}function uv(t=Vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GM(t=Vn()){return uv(t)&&!!window.navigator?.standalone}function KM(){return rk()&&document.documentMode===10}function hS(t=Vn()){return uv(t)||lS(t)||uS(t)||cS(t)||/windows phone/i.test(t)||oS(t)}function fS(t,e=[]){let n;switch(t){case"Browser":n=Aw(Vn());break;case"Worker":n=`${Aw(Vn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${s}`}class $M{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,d)=>{try{const m=e(l);u(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function YM(t,e={}){return Ol(t,"GET","/v2/passwordPolicy",lv(t,e))}const QM=6;class XM{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??QM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class WM{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cw(this),this.idTokenSubscription=new Cw(this),this.beforeStateQueue=new $M(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=or(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jf(this,{idToken:e}),s=await Ji._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ed(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pi(this.app))return Promise.reject(ro(this));const n=e?hn(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pi(this.app)?Promise.reject(ro(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pi(this.app)?Promise.reject(ro(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YM(this),n=new XM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await qM(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&or(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await vl.create(this,[or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&CM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ld(t){return hn(t)}class Cw{constructor(e){this.auth=e,this.observer=null,this.addObserver=dk(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZM(t){hv=t}function JM(t){return hv.loadJS(t)}function eV(){return hv.gapiScript}function tV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function nV(t,e){const n=Od(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(oo(l,e??{}))return a;Is(a,"already-initialized")}return n.initialize({options:e})}function iV(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(or);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function sV(t,e,n){const s=Ld(t);Ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=dS(e),{host:u,port:d}=rV(e),m=d===null?"":`:${d}`,p={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ve(oo(p,s.config.emulator)&&oo(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,mo(u)?(ev(`${l}//${u}${m}`),tv("Auth",!0)):aV()}function dS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rV(t){const e=dS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Rw(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:Rw(u)}}}function Rw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class mS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ar("not implemented")}_getIdTokenResponse(e){return ar("not implemented")}_linkToIdToken(e,n){return ar("not implemented")}_getReauthenticationResolver(e){return ar("not implemented")}}async function _l(t,e){return PM(t,"POST","/v1/accounts:signInWithIdp",lv(t,e))}const oV="http://localhost";class co extends mS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Is("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new co(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return _l(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_l(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_l(e,n)}buildRequest(){const e={requestUri:oV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Iu(n)}return e}}class fv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Nu extends fv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ea extends Nu{constructor(){super("facebook.com")}static credential(e){return co._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.FACEBOOK_SIGN_IN_METHOD="facebook.com";ea.PROVIDER_ID="facebook.com";class rr extends Nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return co._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return rr.credential(n,s)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class ta extends Nu{constructor(){super("github.com")}static credential(e){return co._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ta.credential(e.oauthAccessToken)}catch{return null}}}ta.GITHUB_SIGN_IN_METHOD="github.com";ta.PROVIDER_ID="github.com";class na extends Nu{constructor(){super("twitter.com")}static credential(e,n){return co._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return na.credential(n,s)}catch{return null}}}na.TWITTER_SIGN_IN_METHOD="twitter.com";na.PROVIDER_ID="twitter.com";class xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ji._fromIdTokenResponse(e,s,a),u=Iw(s);return new xl({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=Iw(s);return new xl({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function Iw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class td extends Vs{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,td.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new td(e,n,s,a)}}function pS(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?td._fromErrorAndOperation(t,l,e,s):l})}async function lV(t,e,n=!1){const s=await pu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xl._forOperation(t,"link",s)}async function cV(t,e,n=!1){const{auth:s}=t;if(Pi(s.app))return Promise.reject(ro(s));const a="reauthenticate";try{const l=await pu(t,pS(s,a,e,t),n);Ve(l.idToken,s,"internal-error");const u=cv(l.idToken);Ve(u,s,"internal-error");const{sub:d}=u;return Ve(t.uid===d,s,"user-mismatch"),xl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Is(s,"user-mismatch"),l}}async function uV(t,e,n=!1){if(Pi(t.app))return Promise.reject(ro(t));const s="signIn",a=await pS(t,s,e),l=await xl._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}function hV(t,e,n,s){return hn(t).onIdTokenChanged(e,n,s)}function fV(t,e,n){return hn(t).beforeAuthStateChanged(e,n)}function dV(t,e,n,s){return hn(t).onAuthStateChanged(e,n,s)}function mV(t){return hn(t).signOut()}const nd="__sak";class gS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nd,"1"),this.storage.removeItem(nd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const pV=1e3,gV=10;class yS extends gS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);KM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,gV):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},pV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yS.type="LOCAL";const yV=yS;class vS extends gS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vS.type="SESSION";const _S=vS;function vV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new jd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(u).map(async p=>p(n.origin,l)),m=await vV(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jd.receivers=[];function dv(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class _V{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,m)=>{const p=dv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(v){const T=v;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Ss(){return window}function bV(t){Ss().location.href=t}function bS(){return typeof Ss().WorkerGlobalScope<"u"&&typeof Ss().importScripts=="function"}async function TV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wV(){return navigator?.serviceWorker?.controller||null}function EV(){return bS()?self:null}const TS="firebaseLocalStorageDb",xV=1,id="firebaseLocalStorage",wS="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ud(t,e){return t.transaction([id],e?"readwrite":"readonly").objectStore(id)}function SV(){const t=indexedDB.deleteDatabase(TS);return new ku(t).toPromise()}function ny(){const t=indexedDB.open(TS,xV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(id,{keyPath:wS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(id)?e(s):(s.close(),await SV(),e(await ny()))})})}async function Dw(t,e,n){const s=Ud(t,!0).put({[wS]:e,value:n});return new ku(s).toPromise()}async function AV(t,e){const n=Ud(t,!1).get(e),s=await new ku(n).toPromise();return s===void 0?null:s.value}function Nw(t,e){const n=Ud(t,!0).delete(e);return new ku(n).toPromise()}const CV=800,RV=3;class ES{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ny(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>RV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jd._getInstance(EV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await TV(),!this.activeServiceWorker)return;this.sender=new _V(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ny();return await Dw(e,nd,"1"),await Nw(e,nd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Dw(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>AV(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Nw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Ud(a,!1).getAll();return new ku(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ES.type="LOCAL";const IV=ES;new Du(3e4,6e4);function xS(t,e){return e?or(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class mv extends mS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _l(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _l(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _l(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DV(t){return uV(t.auth,new mv(t),t.bypassAuthState)}function NV(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),cV(n,new mv(t),t.bypassAuthState)}async function kV(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),lV(n,new mv(t),t.bypassAuthState)}class SS{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DV;case"linkViaPopup":case"linkViaRedirect":return kV;case"reauthViaPopup":case"reauthViaRedirect":return NV;default:Is(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const MV=new Du(2e3,1e4);async function VV(t,e,n){if(Pi(t.app))return Promise.reject(ts(t,"operation-not-supported-in-this-environment"));const s=Ld(t);RM(t,e,fv);const a=xS(s,n);return new to(s,"signInViaPopup",e,a).executeNotNull()}class to extends SS{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=dv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MV.get())};e()}}to.currentPopupAction=null;const PV="pendingRedirect",Lf=new Map;class OV extends SS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Lf.get(this.auth._key());if(!e){try{const s=await LV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Lf.set(this.auth._key(),e)}return this.bypassAuthState||Lf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LV(t,e){const n=zV(e),s=UV(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function jV(t,e){Lf.set(t._key(),e)}function UV(t){return or(t._redirectPersistence)}function zV(t){return Of(PV,t.config.apiKey,t.name)}async function BV(t,e,n=!1){if(Pi(t.app))return Promise.reject(ro(t));const s=Ld(t),a=xS(s,e),u=await new OV(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const FV=600*1e3;class HV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!AS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ts(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FV&&this.cachedEventUids.clear(),this.cachedEventUids.has(kw(e))}saveEventToCache(e){this.cachedEventUids.add(kw(e)),this.lastProcessedEventTime=Date.now()}}function kw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function qV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AS(t);default:return!1}}async function GV(t,e={}){return Ol(t,"GET","/v1/projects",e)}const KV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$V=/^https?/;async function YV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GV(t);for(const n of e)try{if(QV(n))return}catch{}Is(t,"unauthorized-domain")}function QV(t){const e=ey(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!$V.test(n))return!1;if(KV.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const XV=new Du(3e4,6e4);function Mw(){const t=Ss().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WV(t){return new Promise((e,n)=>{function s(){Mw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mw(),n(ts(t,"network-request-failed"))},timeout:XV.get()})}if(Ss().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ss().gapi?.load)s();else{const a=tV("iframefcb");return Ss()[a]=()=>{gapi.load?s():n(ts(t,"network-request-failed"))},JM(`${eV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw jf=null,e})}let jf=null;function ZV(t){return jf=jf||WV(t),jf}const JV=new Du(5e3,15e3),eP="__/auth/iframe",tP="emulator/auth/iframe",nP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sP(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ov(e,tP):`https://${t.config.authDomain}/${eP}`,s={apiKey:e.apiKey,appName:t.name,v:po},a=iP.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Iu(s).slice(1)}`}async function rP(t){const e=await ZV(t),n=Ss().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:sP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nP,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=ts(t,"network-request-failed"),d=Ss().setTimeout(()=>{l(u)},JV.get());function m(){Ss().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(u)})}))}const aP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oP=500,lP=600,cP="_blank",uP="http://localhost";class Vw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hP(t,e,n,s=oP,a=lP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...aP,width:s.toString(),height:a.toString(),top:l,left:u},p=Vn().toLowerCase();n&&(d=aS(p)?cP:n),sS(p)&&(e=e||uP,m.scrollbars="yes");const y=Object.entries(m).reduce((T,[R,L])=>`${T}${R}=${L},`,"");if(GM(p)&&d!=="_self")return fP(e||"",d),new Vw(null);const v=window.open(e||"",d,y);Ve(v,t,"popup-blocked");try{v.focus()}catch{}return new Vw(v)}function fP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const dP="__/auth/handler",mP="emulator/auth/handler",pP=encodeURIComponent("fac");async function Pw(t,e,n,s,a,l){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:po,eventId:a};if(e instanceof fv){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",fk(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof Nu){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await t._getAppCheckToken(),p=m?`#${pP}=${encodeURIComponent(m)}`:"";return`${gP(t)}?${Iu(d).slice(1)}${p}`}function gP({config:t}){return t.emulator?ov(t,mP):`https://${t.authDomain}/${dP}`}const bg="webStorageSupport";class yP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_S,this._completeRedirectFn=BV,this._overrideRedirectResult=jV}async _openPopup(e,n,s,a){mr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Pw(e,n,s,ey(),a);return hP(e,l,dv())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await Pw(e,n,s,ey(),a);return bV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(mr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await rP(e),s=new HV(e);return n.register("authEvent",a=>(Ve(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bg,{type:bg},a=>{const l=a?.[0]?.[bg];l!==void 0&&n(!!l),Is(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hS()||rS()||uv()}}const vP=yP;var Ow="@firebase/auth",Lw="1.12.0";class _P{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TP(t){lo(new ha("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=s.options;Ve(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fS(t)},p=new WM(s,a,l,m);return iV(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),lo(new ha("auth-internal",e=>{const n=Ld(e.getProvider("auth").getImmediate());return(s=>new _P(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xs(Ow,Lw,bP(t)),xs(Ow,Lw,"esm2020")}const wP=300,EP=qx("authIdTokenMaxAge")||wP;let jw=null;const xP=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>EP)return;const a=n?.token;jw!==a&&(jw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function SP(t=sv()){const e=Od(t,"auth");if(e.isInitialized())return e.getImmediate();const n=nV(t,{popupRedirectResolver:vP,persistence:[IV,yV,_S]}),s=qx("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=xP(l.toString());fV(n,u,()=>u(n.currentUser)),hV(n,d=>u(d))}}const a=Bx("auth");return a&&sV(n,`http://${a}`),n}function AP(){return document.getElementsByTagName("head")?.[0]??document}ZM({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=ts("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",AP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TP("Browser");var Uw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var oa,CS;(function(){var t;function e(I,S){function k(){}k.prototype=S.prototype,I.F=S.prototype,I.prototype=new k,I.prototype.constructor=I,I.D=function(V,M,P){for(var N=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)N[ye-2]=arguments[ye];return S.prototype[M].apply(V,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,S,k){k||(k=0);const V=Array(16);if(typeof S=="string")for(var M=0;M<16;++M)V[M]=S.charCodeAt(k++)|S.charCodeAt(k++)<<8|S.charCodeAt(k++)<<16|S.charCodeAt(k++)<<24;else for(M=0;M<16;++M)V[M]=S[k++]|S[k++]<<8|S[k++]<<16|S[k++]<<24;S=I.g[0],k=I.g[1],M=I.g[2];let P=I.g[3],N;N=S+(P^k&(M^P))+V[0]+3614090360&4294967295,S=k+(N<<7&4294967295|N>>>25),N=P+(M^S&(k^M))+V[1]+3905402710&4294967295,P=S+(N<<12&4294967295|N>>>20),N=M+(k^P&(S^k))+V[2]+606105819&4294967295,M=P+(N<<17&4294967295|N>>>15),N=k+(S^M&(P^S))+V[3]+3250441966&4294967295,k=M+(N<<22&4294967295|N>>>10),N=S+(P^k&(M^P))+V[4]+4118548399&4294967295,S=k+(N<<7&4294967295|N>>>25),N=P+(M^S&(k^M))+V[5]+1200080426&4294967295,P=S+(N<<12&4294967295|N>>>20),N=M+(k^P&(S^k))+V[6]+2821735955&4294967295,M=P+(N<<17&4294967295|N>>>15),N=k+(S^M&(P^S))+V[7]+4249261313&4294967295,k=M+(N<<22&4294967295|N>>>10),N=S+(P^k&(M^P))+V[8]+1770035416&4294967295,S=k+(N<<7&4294967295|N>>>25),N=P+(M^S&(k^M))+V[9]+2336552879&4294967295,P=S+(N<<12&4294967295|N>>>20),N=M+(k^P&(S^k))+V[10]+4294925233&4294967295,M=P+(N<<17&4294967295|N>>>15),N=k+(S^M&(P^S))+V[11]+2304563134&4294967295,k=M+(N<<22&4294967295|N>>>10),N=S+(P^k&(M^P))+V[12]+1804603682&4294967295,S=k+(N<<7&4294967295|N>>>25),N=P+(M^S&(k^M))+V[13]+4254626195&4294967295,P=S+(N<<12&4294967295|N>>>20),N=M+(k^P&(S^k))+V[14]+2792965006&4294967295,M=P+(N<<17&4294967295|N>>>15),N=k+(S^M&(P^S))+V[15]+1236535329&4294967295,k=M+(N<<22&4294967295|N>>>10),N=S+(M^P&(k^M))+V[1]+4129170786&4294967295,S=k+(N<<5&4294967295|N>>>27),N=P+(k^M&(S^k))+V[6]+3225465664&4294967295,P=S+(N<<9&4294967295|N>>>23),N=M+(S^k&(P^S))+V[11]+643717713&4294967295,M=P+(N<<14&4294967295|N>>>18),N=k+(P^S&(M^P))+V[0]+3921069994&4294967295,k=M+(N<<20&4294967295|N>>>12),N=S+(M^P&(k^M))+V[5]+3593408605&4294967295,S=k+(N<<5&4294967295|N>>>27),N=P+(k^M&(S^k))+V[10]+38016083&4294967295,P=S+(N<<9&4294967295|N>>>23),N=M+(S^k&(P^S))+V[15]+3634488961&4294967295,M=P+(N<<14&4294967295|N>>>18),N=k+(P^S&(M^P))+V[4]+3889429448&4294967295,k=M+(N<<20&4294967295|N>>>12),N=S+(M^P&(k^M))+V[9]+568446438&4294967295,S=k+(N<<5&4294967295|N>>>27),N=P+(k^M&(S^k))+V[14]+3275163606&4294967295,P=S+(N<<9&4294967295|N>>>23),N=M+(S^k&(P^S))+V[3]+4107603335&4294967295,M=P+(N<<14&4294967295|N>>>18),N=k+(P^S&(M^P))+V[8]+1163531501&4294967295,k=M+(N<<20&4294967295|N>>>12),N=S+(M^P&(k^M))+V[13]+2850285829&4294967295,S=k+(N<<5&4294967295|N>>>27),N=P+(k^M&(S^k))+V[2]+4243563512&4294967295,P=S+(N<<9&4294967295|N>>>23),N=M+(S^k&(P^S))+V[7]+1735328473&4294967295,M=P+(N<<14&4294967295|N>>>18),N=k+(P^S&(M^P))+V[12]+2368359562&4294967295,k=M+(N<<20&4294967295|N>>>12),N=S+(k^M^P)+V[5]+4294588738&4294967295,S=k+(N<<4&4294967295|N>>>28),N=P+(S^k^M)+V[8]+2272392833&4294967295,P=S+(N<<11&4294967295|N>>>21),N=M+(P^S^k)+V[11]+1839030562&4294967295,M=P+(N<<16&4294967295|N>>>16),N=k+(M^P^S)+V[14]+4259657740&4294967295,k=M+(N<<23&4294967295|N>>>9),N=S+(k^M^P)+V[1]+2763975236&4294967295,S=k+(N<<4&4294967295|N>>>28),N=P+(S^k^M)+V[4]+1272893353&4294967295,P=S+(N<<11&4294967295|N>>>21),N=M+(P^S^k)+V[7]+4139469664&4294967295,M=P+(N<<16&4294967295|N>>>16),N=k+(M^P^S)+V[10]+3200236656&4294967295,k=M+(N<<23&4294967295|N>>>9),N=S+(k^M^P)+V[13]+681279174&4294967295,S=k+(N<<4&4294967295|N>>>28),N=P+(S^k^M)+V[0]+3936430074&4294967295,P=S+(N<<11&4294967295|N>>>21),N=M+(P^S^k)+V[3]+3572445317&4294967295,M=P+(N<<16&4294967295|N>>>16),N=k+(M^P^S)+V[6]+76029189&4294967295,k=M+(N<<23&4294967295|N>>>9),N=S+(k^M^P)+V[9]+3654602809&4294967295,S=k+(N<<4&4294967295|N>>>28),N=P+(S^k^M)+V[12]+3873151461&4294967295,P=S+(N<<11&4294967295|N>>>21),N=M+(P^S^k)+V[15]+530742520&4294967295,M=P+(N<<16&4294967295|N>>>16),N=k+(M^P^S)+V[2]+3299628645&4294967295,k=M+(N<<23&4294967295|N>>>9),N=S+(M^(k|~P))+V[0]+4096336452&4294967295,S=k+(N<<6&4294967295|N>>>26),N=P+(k^(S|~M))+V[7]+1126891415&4294967295,P=S+(N<<10&4294967295|N>>>22),N=M+(S^(P|~k))+V[14]+2878612391&4294967295,M=P+(N<<15&4294967295|N>>>17),N=k+(P^(M|~S))+V[5]+4237533241&4294967295,k=M+(N<<21&4294967295|N>>>11),N=S+(M^(k|~P))+V[12]+1700485571&4294967295,S=k+(N<<6&4294967295|N>>>26),N=P+(k^(S|~M))+V[3]+2399980690&4294967295,P=S+(N<<10&4294967295|N>>>22),N=M+(S^(P|~k))+V[10]+4293915773&4294967295,M=P+(N<<15&4294967295|N>>>17),N=k+(P^(M|~S))+V[1]+2240044497&4294967295,k=M+(N<<21&4294967295|N>>>11),N=S+(M^(k|~P))+V[8]+1873313359&4294967295,S=k+(N<<6&4294967295|N>>>26),N=P+(k^(S|~M))+V[15]+4264355552&4294967295,P=S+(N<<10&4294967295|N>>>22),N=M+(S^(P|~k))+V[6]+2734768916&4294967295,M=P+(N<<15&4294967295|N>>>17),N=k+(P^(M|~S))+V[13]+1309151649&4294967295,k=M+(N<<21&4294967295|N>>>11),N=S+(M^(k|~P))+V[4]+4149444226&4294967295,S=k+(N<<6&4294967295|N>>>26),N=P+(k^(S|~M))+V[11]+3174756917&4294967295,P=S+(N<<10&4294967295|N>>>22),N=M+(S^(P|~k))+V[2]+718787259&4294967295,M=P+(N<<15&4294967295|N>>>17),N=k+(P^(M|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+P&4294967295}s.prototype.v=function(I,S){S===void 0&&(S=I.length);const k=S-this.blockSize,V=this.C;let M=this.h,P=0;for(;P<S;){if(M==0)for(;P<=k;)a(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<S;)if(V[M++]=I.charCodeAt(P++),M==this.blockSize){a(this,V),M=0;break}}else for(;P<S;)if(V[M++]=I[P++],M==this.blockSize){a(this,V),M=0;break}}this.h=M,this.o+=S},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var k=I.length-8;k<I.length;++k)I[k]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,k=0;k<4;++k)for(let V=0;V<32;V+=8)I[S++]=this.g[k]>>>V&255;return I};function l(I,S){var k=d;return Object.prototype.hasOwnProperty.call(k,I)?k[I]:k[I]=S(I)}function u(I,S){this.h=S;const k=[];let V=!0;for(let M=I.length-1;M>=0;M--){const P=I[M]|0;V&&P==S||(k[M]=P,V=!1)}this.g=k}var d={};function m(I){return-128<=I&&I<128?l(I,function(S){return new u([S|0],S<0?-1:0)}):new u([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return D(p(-I));const S=[];let k=1;for(let V=0;I>=k;V++)S[V]=I/k|0,k*=4294967296;return new u(S,0)}function y(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return D(y(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=p(Math.pow(S,8));let V=v;for(let P=0;P<I.length;P+=8){var M=Math.min(8,I.length-P);const N=parseInt(I.substring(P,P+M),S);M<8?(M=p(Math.pow(S,M)),V=V.j(M).add(p(N))):(V=V.j(k),V=V.add(p(N)))}return V}var v=m(0),T=m(1),R=m(16777216);t=u.prototype,t.m=function(){if(j(this))return-D(this).m();let I=0,S=1;for(let k=0;k<this.g.length;k++){const V=this.i(k);I+=(V>=0?V:4294967296+V)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(L(this))return"0";if(j(this))return"-"+D(this).toString(I);const S=p(Math.pow(I,6));var k=this;let V="";for(;;){const M=oe(k,S).g;k=z(k,M.j(S));let P=((k.g.length>0?k.g[0]:k.h)>>>0).toString(I);if(k=M,L(k))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function L(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function j(I){return I.h==-1}t.l=function(I){return I=z(this,I),j(I)?-1:L(I)?0:1};function D(I){const S=I.g.length,k=[];for(let V=0;V<S;V++)k[V]=~I.g[V];return new u(k,~I.h).add(T)}t.abs=function(){return j(this)?D(this):this},t.add=function(I){const S=Math.max(this.g.length,I.g.length),k=[];let V=0;for(let M=0;M<=S;M++){let P=V+(this.i(M)&65535)+(I.i(M)&65535),N=(P>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);V=N>>>16,P&=65535,N&=65535,k[M]=N<<16|P}return new u(k,k[k.length-1]&-2147483648?-1:0)};function z(I,S){return I.add(D(S))}t.j=function(I){if(L(this)||L(I))return v;if(j(this))return j(I)?D(this).j(D(I)):D(D(this).j(I));if(j(I))return D(this.j(D(I)));if(this.l(R)<0&&I.l(R)<0)return p(this.m()*I.m());const S=this.g.length+I.g.length,k=[];for(var V=0;V<2*S;V++)k[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<I.g.length;M++){const P=this.i(V)>>>16,N=this.i(V)&65535,ye=I.i(M)>>>16,Se=I.i(M)&65535;k[2*V+2*M]+=N*Se,q(k,2*V+2*M),k[2*V+2*M+1]+=P*Se,q(k,2*V+2*M+1),k[2*V+2*M+1]+=N*ye,q(k,2*V+2*M+1),k[2*V+2*M+2]+=P*ye,q(k,2*V+2*M+2)}for(I=0;I<S;I++)k[I]=k[2*I+1]<<16|k[2*I];for(I=S;I<2*S;I++)k[I]=0;return new u(k,0)};function q(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function H(I,S){this.g=I,this.h=S}function oe(I,S){if(L(S))throw Error("division by zero");if(L(I))return new H(v,v);if(j(I))return S=oe(D(I),S),new H(D(S.g),D(S.h));if(j(S))return S=oe(I,D(S)),new H(D(S.g),S.h);if(I.g.length>30){if(j(I)||j(S))throw Error("slowDivide_ only works with positive integers.");for(var k=T,V=S;V.l(I)<=0;)k=ne(k),V=ne(V);var M=de(k,1),P=de(V,1);for(V=de(V,2),k=de(k,2);!L(V);){var N=P.add(V);N.l(I)<=0&&(M=M.add(k),P=N),V=de(V,1),k=de(k,1)}return S=z(I,M.j(S)),new H(M,S)}for(M=v;I.l(S)>=0;){for(k=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(k)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=p(k),N=P.j(S);j(N)||N.l(I)>0;)k-=V,P=p(k),N=P.j(S);L(P)&&(P=T),M=M.add(P),I=z(I,N)}return new H(M,I)}t.B=function(I){return oe(this,I).h},t.and=function(I){const S=Math.max(this.g.length,I.g.length),k=[];for(let V=0;V<S;V++)k[V]=this.i(V)&I.i(V);return new u(k,this.h&I.h)},t.or=function(I){const S=Math.max(this.g.length,I.g.length),k=[];for(let V=0;V<S;V++)k[V]=this.i(V)|I.i(V);return new u(k,this.h|I.h)},t.xor=function(I){const S=Math.max(this.g.length,I.g.length),k=[];for(let V=0;V<S;V++)k[V]=this.i(V)^I.i(V);return new u(k,this.h^I.h)};function ne(I){const S=I.g.length+1,k=[];for(let V=0;V<S;V++)k[V]=I.i(V)<<1|I.i(V-1)>>>31;return new u(k,I.h)}function de(I,S){const k=S>>5;S%=32;const V=I.g.length-k,M=[];for(let P=0;P<V;P++)M[P]=S>0?I.i(P+k)>>>S|I.i(P+k+1)<<32-S:I.i(P+k);return new u(M,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,CS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,oa=u}).apply(typeof Uw<"u"?Uw:typeof self<"u"?self:typeof window<"u"?window:{});var bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var RS,Xc,IS,Uf,iy,DS,NS,kS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof bf=="object"&&bf];for(var _=0;_<h.length;++_){var w=h[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var w=s;h=h.split(".");for(var C=0;C<h.length-1;C++){var $=h[C];if(!($ in w))break e;w=w[$]}h=h[h.length-1],C=w[h],_=_(C),_!=C&&_!=null&&e(w,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var w=[],C;for(C in _)Object.prototype.hasOwnProperty.call(_,C)&&w.push([C,_[C]]);return w}});var l=l||{},u=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,w){return h.call.apply(h.bind,arguments)}function p(h,_,w){return p=m,p.apply(null,arguments)}function y(h,_){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function v(h,_){function w(){}w.prototype=_.prototype,h.Z=_.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(C,$,J){for(var ge=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ge[Ue-2]=arguments[Ue];return _.prototype[$].apply(C,ge)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const _=h.length;if(_>0){const w=Array(_);for(let C=0;C<_;C++)w[C]=h[C];return w}return[]}function L(h,_){for(let C=1;C<arguments.length;C++){const $=arguments[C];var w=typeof $;if(w=w!="object"?w:$?Array.isArray($)?"array":w:"null",w=="array"||w=="object"&&typeof $.length=="number"){w=h.length||0;const J=$.length||0;h.length=w+J;for(let ge=0;ge<J;ge++)h[w+ge]=$[ge]}else h.push($)}}class j{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function D(h){u.setTimeout(()=>{throw h},0)}function z(){var h=I;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class q{constructor(){this.h=this.g=null}add(_,w){const C=H.get();C.set(_,w),this.h?this.h.next=C:this.g=C,this.h=C}}var H=new j(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,de=!1,I=new q,S=()=>{const h=Promise.resolve(void 0);ne=()=>{h.then(k)}};function k(){for(var h;h=z();){try{h.h.call(h.g)}catch(w){D(w)}var _=H;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}de=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};u.addEventListener("test",w,_),u.removeEventListener("test",w,_)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function ye(h,_){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}v(ye,M),ye.prototype.init=function(h,_){const w=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(w=="mouseover"?_=h.fromElement:w=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Se="closure_listenable_"+(Math.random()*1e6|0),Z=0;function he(h,_,w,C,$){this.listener=h,this.proxy=null,this.src=_,this.type=w,this.capture=!!C,this.ha=$,this.key=++Z,this.da=this.fa=!1}function re(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ne(h,_,w){for(const C in h)_.call(w,h[C],C,h)}function F(h,_){for(const w in h)_.call(void 0,h[w],w,h)}function x(h){const _={};for(const w in h)_[w]=h[w];return _}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(h,_){let w,C;for(let $=1;$<arguments.length;$++){C=arguments[$];for(w in C)h[w]=C[w];for(let J=0;J<K.length;J++)w=K[J],Object.prototype.hasOwnProperty.call(C,w)&&(h[w]=C[w])}}function se(h){this.src=h,this.g={},this.h=0}se.prototype.add=function(h,_,w,C,$){const J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);const ge=pe(h,_,C,$);return ge>-1?(_=h[ge],w||(_.fa=!1)):(_=new he(_,this.src,J,!!C,$),_.fa=w,h.push(_)),_};function me(h,_){const w=_.type;if(w in h.g){var C=h.g[w],$=Array.prototype.indexOf.call(C,_,void 0),J;(J=$>=0)&&Array.prototype.splice.call(C,$,1),J&&(re(_),h.g[w].length==0&&(delete h.g[w],h.h--))}}function pe(h,_,w,C){for(let $=0;$<h.length;++$){const J=h[$];if(!J.da&&J.listener==_&&J.capture==!!w&&J.ha==C)return $}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),_e={};function Ce(h,_,w,C,$){if(Array.isArray(_)){for(let J=0;J<_.length;J++)Ce(h,_[J],w,C,$);return null}return w=Ot(w),h&&h[Se]?h.J(_,w,d(C)?!!C.capture:!1,$):He(h,_,w,!1,C,$)}function He(h,_,w,C,$,J){if(!_)throw Error("Invalid event type");const ge=d($)?!!$.capture:!!$;let Ue=Ft(h);if(Ue||(h[fe]=Ue=new se(h)),w=Ue.add(_,w,C,ge,J),w.proxy)return w;if(C=Ge(),w.proxy=C,C.src=h,C.listener=w,h.addEventListener)P||($=ge),$===void 0&&($=!1),h.addEventListener(_.toString(),C,$);else if(h.attachEvent)h.attachEvent(Pe(_.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ge(){function h(w){return _.call(h.src,h.listener,w)}const _=Pt;return h}function Qe(h,_,w,C,$){if(Array.isArray(_))for(var J=0;J<_.length;J++)Qe(h,_[J],w,C,$);else C=d(C)?!!C.capture:!!C,w=Ot(w),h&&h[Se]?(h=h.i,J=String(_).toString(),J in h.g&&(_=h.g[J],w=pe(_,w,C,$),w>-1&&(re(_[w]),Array.prototype.splice.call(_,w,1),_.length==0&&(delete h.g[J],h.h--)))):h&&(h=Ft(h))&&(_=h.g[_.toString()],h=-1,_&&(h=pe(_,w,C,$)),(w=h>-1?_[h]:null)&&ct(w))}function ct(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Se])me(_.i,h);else{var w=h.type,C=h.proxy;_.removeEventListener?_.removeEventListener(w,C,h.capture):_.detachEvent?_.detachEvent(Pe(w),C):_.addListener&&_.removeListener&&_.removeListener(C),(w=Ft(_))?(me(w,h),w.h==0&&(w.src=null,_[fe]=null)):re(h)}}}function Pe(h){return h in _e?_e[h]:_e[h]="on"+h}function Pt(h,_){if(h.da)h=!0;else{_=new ye(_,this);const w=h.listener,C=h.ha||h.src;h.fa&&ct(h),h=w.call(C,_)}return h}function Ft(h){return h=h[fe],h instanceof se?h:null}var an="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ot(h){return typeof h=="function"?h:(h[an]||(h[an]=function(_){return h.handleEvent(_)}),h[an])}function tt(){V.call(this),this.i=new se(this),this.M=this,this.G=null}v(tt,V),tt.prototype[Se]=!0,tt.prototype.removeEventListener=function(h,_,w,C){Qe(this,h,_,w,C)};function Ke(h,_){var w,C=h.G;if(C)for(w=[];C;C=C.G)w.push(C);if(h=h.M,C=_.type||_,typeof _=="string")_=new M(_,h);else if(_ instanceof M)_.target=_.target||h;else{var $=_;_=new M(C,h),ee(_,$)}$=!0;let J,ge;if(w)for(ge=w.length-1;ge>=0;ge--)J=_.g=w[ge],$=An(J,C,!0,_)&&$;if(J=_.g=h,$=An(J,C,!0,_)&&$,$=An(J,C,!1,_)&&$,w)for(ge=0;ge<w.length;ge++)J=_.g=w[ge],$=An(J,C,!1,_)&&$}tt.prototype.N=function(){if(tt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const w=h.g[_];for(let C=0;C<w.length;C++)re(w[C]);delete h.g[_],h.h--}}this.G=null},tt.prototype.J=function(h,_,w,C){return this.i.add(String(h),_,!1,w,C)},tt.prototype.K=function(h,_,w,C){return this.i.add(String(h),_,!0,w,C)};function An(h,_,w,C){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let $=!0;for(let J=0;J<_.length;++J){const ge=_[J];if(ge&&!ge.da&&ge.capture==w){const Ue=ge.listener,Ht=ge.ha||ge.src;ge.fa&&me(h.i,ge),$=Ue.call(Ht,C)!==!1&&$}}return $&&!C.defaultPrevented}function vr(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function Os(h){h.g=vr(()=>{h.g=null,h.i&&(h.i=!1,Os(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class $t extends V{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Os(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zn(h){V.call(this),this.h=h,this.g={}}v(zn,V);var dt=[];function ti(h){Ne(h.g,function(_,w){this.g.hasOwnProperty(w)&&ct(_)},h),h.g={}}zn.prototype.N=function(){zn.Z.N.call(this),ti(this)},zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ni=u.JSON.stringify,Bi=u.JSON.parse,gi=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Bn(){}function Ls(){}var Cn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Lt(){M.call(this,"d")}v(Lt,M);function Fn(){M.call(this,"c")}v(Fn,M);var Ct={},vo=null;function js(){return vo=vo||new tt}Ct.Ia="serverreachability";function _r(h){M.call(this,Ct.Ia,h)}v(_r,M);function Hn(h){const _=js();Ke(_,new _r(_))}Ct.STAT_EVENT="statevent";function Us(h,_){M.call(this,Ct.STAT_EVENT,h),this.stat=_}v(Us,M);function jt(h){const _=js();Ke(_,new Us(_,h))}Ct.Ja="timingevent";function yi(h,_){M.call(this,Ct.Ja,h),this.size=_}v(yi,M);function vi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function Qu(h,_,w,C,$,J){h.info(function(){if(h.g)if(J){var ge="",Ue=J.split("&");for(let at=0;at<Ue.length;at++){var Ht=Ue[at].split("=");if(Ht.length>1){const Rt=Ht[0];Ht=Ht[1];const wi=Rt.split("_");ge=wi.length>=2&&wi[1]=="type"?ge+(Rt+"="+Ht+"&"):ge+(Rt+"=redacted&")}}}else ge=null;else ge=J;return"XMLHTTP REQ ("+C+") [attempt "+$+"]: "+_+`
`+w+`
`+ge})}function Sa(h,_,w,C,$,J,ge){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+$+"]: "+_+`
`+w+`
`+J+" "+ge})}function qn(h,_,w,C){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Kl(h,w)+(C?" "+C:"")})}function Fi(h,_){h.info(function(){return"TIMEOUT: "+_})}ii.prototype.info=function(){};function Kl(h,_){if(!h.g)return _;if(!_)return null;try{const J=JSON.parse(_);if(J){for(h=0;h<J.length;h++)if(Array.isArray(J[h])){var w=J[h];if(!(w.length<2)){var C=w[1];if(Array.isArray(C)&&!(C.length<1)){var $=C[0];if($!="noop"&&$!="stop"&&$!="close")for(let ge=1;ge<C.length;ge++)C[ge]=""}}}}return ni(J)}catch{return _}}var Y={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ie={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wt;function Et(){}v(Et,Bn),Et.prototype.g=function(){return new XMLHttpRequest},wt=new Et;function bt(h){return encodeURIComponent(String(h))}function Rn(h){var _=1;h=h.split(":");const w=[];for(;_>0&&h.length;)w.push(h.shift()),_--;return h.length&&w.push(h.join(":")),w}function fn(h,_,w,C){this.j=h,this.i=_,this.l=w,this.S=C||1,this.V=new zn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Yt={},dn={};function rs(h,_,w){h.M=1,h.A=Aa(Xt(_)),h.u=w,h.R=!0,_o(h,null)}function _o(h,_){h.F=Date.now(),as(h),h.B=Xt(h.A);var w=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),Eo(w.i,"t",C),h.C=0,w=h.j.L,h.h=new Gn,h.g=uh(h.j,w?_:null,!h.u),h.P>0&&(h.O=new $t(p(h.Y,h,h.g),h.P)),_=h.V,w=h.g,C=h.ba;var $="readystatechange";Array.isArray($)||($&&(dt[0]=$.toString()),$=dt);for(let J=0;J<$.length;J++){const ge=Ce(w,$[J],C||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=h.J?x(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Hn(),Qu(h.i,h.v,h.B,h.l,h.S,h.u)}fn.prototype.ba=function(h){h=h.target;const _=this.O;_&&Gi(h)==3?_.j():this.Y(h)},fn.prototype.Y=function(h){try{if(h==this.g)e:{const Ue=Gi(this.g),Ht=this.g.ya(),at=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||_n(this.g)))){this.K||Ue!=4||Ht==7||(Ht==8||at<=0?Hn(3):Hn(2)),os(this);var _=this.g.ca();this.X=_;var w=hm(this);if(this.o=_==200,Sa(this.i,this.v,this.B,this.l,this.S,Ue,_),this.o){if(this.U&&!this.L){t:{if(this.g){var C,$=this.g;if((C=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(C)){var J=C;break t}}J=null}if(h=J)qn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ls(this,h);else{this.o=!1,this.m=3,jt(12),si(this),_i(this);break e}}if(this.R){h=!0;let Rt;for(;!this.K&&this.C<w.length;)if(Rt=Wu(this,w),Rt==dn){Ue==4&&(this.m=4,jt(14),h=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==Yt){this.m=4,jt(15),qn(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else qn(this.i,this.l,Rt,null),ls(this,Rt);if(Xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||w.length!=0||this.h.h||(this.m=1,jt(16),h=!1),this.o=this.o&&h,!h)qn(this.i,this.l,w,"[Invalid Chunked Response]"),si(this),_i(this);else if(w.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),oc(ge),ge.P=!0,jt(11))}}else qn(this.i,this.l,w,null),ls(this,w);Ue==4&&si(this),this.o&&!this.K&&(Ue==4?ah(this.j,this):(this.o=!1,as(this)))}else Bs(this.g),_==400&&w.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),si(this),_i(this)}}}catch{}};function hm(h){if(!Xu(h))return h.g.la();const _=_n(h.g);if(_==="")return"";let w="";const C=_.length,$=Gi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return si(h),_i(h),"";h.h.i=new u.TextDecoder}for(let J=0;J<C;J++)h.h.h=!0,w+=h.h.i.decode(_[J],{stream:!($&&J==C-1)});return _.length=0,h.h.g+=w,h.C=0,h.h.g}function Xu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Wu(h,_){var w=h.C,C=_.indexOf(`
`,w);return C==-1?dn:(w=Number(_.substring(w,C)),isNaN(w)?Yt:(C+=1,C+w>_.length?dn:(_=_.slice(C,C+w),h.C=C+w,_)))}fn.prototype.cancel=function(){this.K=!0,si(this)};function as(h){h.T=Date.now()+h.H,bo(h,h.H)}function bo(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=vi(p(h.aa,h),_)}function os(h){h.D&&(u.clearTimeout(h.D),h.D=null)}fn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Fi(this.i,this.B),this.M!=2&&(Hn(),jt(17)),si(this),this.m=2,_i(this)):bo(this,this.T-h)};function _i(h){h.j.I==0||h.K||ah(h.j,h)}function si(h){os(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,ti(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function ls(h,_){try{var w=h.j;if(w.I!=0&&(w.g==h||us(w.h,h))){if(!h.L&&us(w.h,h)&&w.I==3){try{var C=w.Ba.g.parse(_)}catch{C=null}if(Array.isArray(C)&&C.length==3){var $=C;if($[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)Ro(w),Cr(w);else break e;Ma(w),jt(18)}}else w.xa=$[1],0<w.xa-w.K&&$[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=vi(p(w.Va,w),6e3));cs(w.h)<=1&&w.ta&&(w.ta=void 0)}else gs(w,11)}else if((h.L||w.g==h)&&Ro(w),!N(_))for($=w.Ba.g.parse(_),_=0;_<$.length;_++){let at=$[_];const Rt=at[0];if(!(Rt<=w.K))if(w.K=Rt,at=at[1],w.I==2)if(at[0]=="c"){w.M=at[1],w.ba=at[2];const wi=at[3];wi!=null&&(w.ka=wi,w.j.info("VER="+w.ka));const ys=at[4];ys!=null&&(w.za=ys,w.j.info("SVER="+w.za));const Ki=at[5];Ki!=null&&typeof Ki=="number"&&Ki>0&&(C=1.5*Ki,w.O=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const $i=h.g;if($i){const Va=$i.g?$i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Va){var J=C.h;J.g||Va.indexOf("spdy")==-1&&Va.indexOf("quic")==-1&&Va.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ql(J,J.h),J.h=null))}if(C.G){const Io=$i.g?$i.g.getResponseHeader("X-HTTP-Session-Id"):null;Io&&(C.wa=Io,ut(C.J,C.G,Io))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),C=w;var ge=h;if(C.na=ch(C,C.L?C.ba:null,C.W),ge.L){Xl(C.h,ge);var Ue=ge,Ht=C.O;Ht&&(Ue.H=Ht),Ue.D&&(os(Ue),as(Ue)),C.g=ge}else sh(C);w.i.length>0&&ps(w)}else at[0]!="stop"&&at[0]!="close"||gs(w,7);else w.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?gs(w,7):rc(w):at[0]!="noop"&&w.l&&w.l.qa(at),w.A=0)}}Hn(4)}catch{}}var Qt=class{constructor(h,_){this.g=h,this.map=_}};function $l(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function cs(h){return h.h?1:h.g?h.g.size:0}function us(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Ql(h,_){h.g?h.g.add(_):h.h=_}function Xl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}$l.prototype.cancel=function(){if(this.i=Wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Wl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const w of h.g.values())_=_.concat(w.G);return _}return R(h.i)}var Zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function To(h,_){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const C=h[w].indexOf("=");let $,J=null;C>=0?($=h[w].substring(0,C),J=h[w].substring(C+1)):$=h[w],_($,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function ri(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof ri?(this.l=h.l,mn(this,h.j),this.o=h.o,this.g=h.g,br(this,h.u),this.h=h.h,Zl(this,nh(h.i)),this.m=h.m):h&&(_=String(h).match(Zu))?(this.l=!1,mn(this,_[1]||"",!0),this.o=hs(_[2]||""),this.g=hs(_[3]||"",!0),br(this,_[4]),this.h=hs(_[5]||"",!0),Zl(this,_[6]||"",!0),this.m=hs(_[7]||"")):(this.l=!1,this.i=new wr(null,this.l))}ri.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Ca(_,wo,!0),":");var w=this.g;return(w||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Ca(_,wo,!0),"@"),h.push(bt(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(Ca(w,w.charAt(0)=="/"?Jl:Ju,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",Ca(w,eh)),h.join("")},ri.prototype.resolve=function(h){const _=Xt(this);let w=!!h.j;w?mn(_,h.j):w=!!h.o,w?_.o=h.o:w=!!h.g,w?_.g=h.g:w=h.u!=null;var C=h.h;if(w)br(_,h.u);else if(w=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var $=_.h.lastIndexOf("/");$!=-1&&(C=_.h.slice(0,$+1)+C)}if($=C,$==".."||$==".")C="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){C=$.lastIndexOf("/",0)==0,$=$.split("/");const J=[];for(let ge=0;ge<$.length;){const Ue=$[ge++];Ue=="."?C&&ge==$.length&&J.push(""):Ue==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),C&&ge==$.length&&J.push("")):(J.push(Ue),C=!0)}C=J.join("/")}else C=$}return w?_.h=C:w=h.i.toString()!=="",w?Zl(_,nh(h.i)):w=!!h.m,w&&(_.m=h.m),_};function Xt(h){return new ri(h)}function mn(h,_,w){h.j=w?hs(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function br(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Zl(h,_,w){_ instanceof wr?(h.i=_,xo(h.i,h.l)):(w||(_=Ca(_,Tr)),h.i=new wr(_,h.l))}function ut(h,_,w){h.i.set(_,w)}function Aa(h){return ut(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function hs(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ca(h,_,w){return typeof h=="string"?(h=encodeURI(h).replace(_,Kn),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Kn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var wo=/[#\/\?@]/g,Ju=/[#\?:]/g,Jl=/[#\?]/g,Tr=/[#\?@]/g,eh=/#/g;function wr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function $n(h){h.g||(h.g=new Map,h.h=0,h.i&&To(h.i,function(_,w){h.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}t=wr.prototype,t.add=function(h,_){$n(this),this.i=null,h=Er(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(_),this.h+=1,this};function th(h,_){$n(h),_=Er(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function ec(h,_){return $n(h),_=Er(h,_),h.g.has(_)}t.forEach=function(h,_){$n(this),this.g.forEach(function(w,C){w.forEach(function($){h.call(_,$,C,this)},this)},this)};function tc(h,_){$n(h);let w=[];if(typeof _=="string")ec(h,_)&&(w=w.concat(h.g.get(Er(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)w=w.concat(h[_]);return w}t.set=function(h,_){return $n(this),this.i=null,h=Er(this,h),ec(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=tc(this,h),h.length>0?String(h[0]):_):_};function Eo(h,_,w){th(h,_),w.length>0&&(h.i=null,h.g.set(Er(h,_),R(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let C=0;C<_.length;C++){var w=_[C];const $=bt(w);w=tc(this,w);for(let J=0;J<w.length;J++){let ge=$;w[J]!==""&&(ge+="="+bt(w[J])),h.push(ge)}}return this.i=h.join("&")};function nh(h){const _=new wr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Er(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function xo(h,_){_&&!h.j&&($n(h),h.i=null,h.g.forEach(function(w,C){const $=C.toLowerCase();C!=$&&(th(this,C),Eo(this,$,w))},h)),h.j=_}function Hi(h,_){const w=new ii;if(u.Image){const C=new Image;C.onload=y(bi,w,"TestLoadImage: loaded",!0,_,C),C.onerror=y(bi,w,"TestLoadImage: error",!1,_,C),C.onabort=y(bi,w,"TestLoadImage: abort",!1,_,C),C.ontimeout=y(bi,w,"TestLoadImage: timeout",!1,_,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else _(!1)}function nc(h,_){const w=new ii,C=new AbortController,$=setTimeout(()=>{C.abort(),bi(w,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:C.signal}).then(J=>{clearTimeout($),J.ok?bi(w,"TestPingServer: ok",!0,_):bi(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),bi(w,"TestPingServer: error",!1,_)})}function bi(h,_,w,C,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),C(w)}catch{}}function xr(){this.g=new gi}function fs(h){this.i=h.Sb||null,this.h=h.ab||!1}v(fs,Bn),fs.prototype.g=function(){return new Ra(this.i,this.h)};function Ra(h,_){tt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Ra,tt),t=Ra.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,qi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;So(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function So(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Sr(this):qi(this),this.readyState==3&&So(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Sr(this))},t.Na=function(h){this.g&&(this.response=h,Sr(this))},t.ga=function(){this.g&&Sr(this)};function Sr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,qi(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=_.next();return h.join(`\r
`)};function qi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ti(h){let _="";return Ne(h,function(w,C){_+=C,_+=":",_+=w,_+=`\r
`}),_}function Ia(h,_,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=Ti(w),typeof h=="string"?w!=null&&bt(w):ut(h,_,w))}function mt(h){tt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(mt,tt);var ds=/^https?$/i,ic=["POST","PUT"];t=mt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wt.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(J){Da(this,J);return}if(h=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var $ in C)w.set($,C[$]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const J of C.keys())w.set(J,C.get(J));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(J=>J.toLowerCase()=="content-type"),$=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(ic,_,void 0)>=0)||C||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ge]of w)this.g.setRequestHeader(J,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(J){Da(this,J)}};function Da(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,sc(h),zs(h)}function sc(h){h.A||(h.A=!0,Ke(h,"complete"),Ke(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ke(this,"complete"),Ke(this,"abort"),zs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zs(this,!0)),mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Na(this):this.Xa())},t.Xa=function(){Na(this)};function Na(h){if(h.h&&typeof l<"u"){if(h.v&&Gi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ke(h,"readystatechange"),Gi(h)==4){h.h=!1;try{const J=h.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var C;if(C=J===0){let ge=String(h.D).match(Zu)[1]||null;!ge&&u.self&&u.self.location&&(ge=u.self.location.protocol.slice(0,-1)),C=!ds.test(ge?ge.toLowerCase():"")}w=C}if(w)Ke(h,"complete"),Ke(h,"success");else{h.o=6;try{var $=Gi(h)>2?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.ca()+"]",sc(h)}}finally{zs(h)}}}}function zs(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,_||Ke(h,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Gi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Gi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Bi(_)}};function _n(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Bs(h){const _={};h=(h.g&&Gi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(N(h[C]))continue;var w=Rn(h[C]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const J=_[$]||[];_[$]=J,J.push(w)}F(_,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(h,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||_}function Ar(h){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ms("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ms("baseRetryDelayMs",5e3,h),this.Za=ms("retryDelaySeedMs",1e4,h),this.Ta=ms("forwardChannelMaxRetries",2,h),this.va=ms("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new $l(h&&h.concurrentRequestLimit),this.Ba=new xr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ar.prototype,t.ka=8,t.I=1,t.connect=function(h,_,w,C){jt(0),this.W=h,this.H=_||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.J=ch(this,null,this.W),ps(this)};function rc(h){if(Ao(h),h.I==3){var _=h.V++,w=Xt(h.J);if(ut(w,"SID",h.M),ut(w,"RID",_),ut(w,"TYPE","terminate"),ka(h,w),_=new fn(h,h.j,_),_.M=2,_.A=Aa(Xt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=_.A,w=!0),w||(_.g=uh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),as(_)}lh(h)}function Cr(h){h.g&&(oc(h),h.g.cancel(),h.g=null)}function Ao(h){Cr(h),h.v&&(u.clearTimeout(h.v),h.v=null),Ro(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function ps(h){if(!Yl(h.h)&&!h.m){h.m=!0;var _=h.Ea;ne||S(),de||(ne(),de=!0),I.add(_,h),h.D=0}}function Co(h,_){return cs(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=vi(p(h.Ea,h,_),oh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const $=new fn(this,this.j,h);let J=this.o;if(this.U&&(J?(J=x(J),ee(J,this.U)):J=this.U),this.u!==null||this.R||($.J=J,J=null),this.S)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(_+=C,_>4096){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=ih(this,$,_),w=Xt(this.J),ut(w,"RID",h),ut(w,"CVER",22),this.G&&ut(w,"X-HTTP-Session-Id",this.G),ka(this,w),J&&(this.R?_="headers="+bt(Ti(J))+"&"+_:this.u&&Ia(w,this.u,J)),Ql(this.h,$),this.Ra&&ut(w,"TYPE","init"),this.S?(ut(w,"$req",_),ut(w,"SID","null"),$.U=!0,rs($,w,null)):rs($,w,_),this.I=2}}else this.I==3&&(h?ac(this,h):this.i.length==0||Yl(this.h)||ac(this))};function ac(h,_){var w;_?w=_.l:w=h.V++;const C=Xt(h.J);ut(C,"SID",h.M),ut(C,"RID",w),ut(C,"AID",h.K),ka(h,C),h.u&&h.o&&Ia(C,h.u,h.o),w=new fn(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),_&&(h.i=_.G.concat(h.i)),_=ih(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ql(h.h,w),rs(w,C,_)}function ka(h,_){h.H&&Ne(h.H,function(w,C){ut(_,C,w)}),h.l&&Ne({},function(w,C){ut(_,C,w)})}function ih(h,_,w){w=Math.min(h.i.length,w);const C=h.l?p(h.l.Ka,h.l,h):null;e:{var $=h.i;let Ue=-1;for(;;){const Ht=["count="+w];Ue==-1?w>0?(Ue=$[0].g,Ht.push("ofs="+Ue)):Ue=0:Ht.push("ofs="+Ue);let at=!0;for(let Rt=0;Rt<w;Rt++){var J=$[Rt].g;const wi=$[Rt].map;if(J-=Ue,J<0)Ue=Math.max(0,$[Rt].g-100),at=!1;else try{J="req"+J+"_"||"";try{var ge=wi instanceof Map?wi:Object.entries(wi);for(const[ys,Ki]of ge){let $i=Ki;d(Ki)&&($i=ni(Ki)),Ht.push(J+ys+"="+encodeURIComponent($i))}}catch(ys){throw Ht.push(J+"type="+encodeURIComponent("_badmap")),ys}}catch{C&&C(wi)}}if(at){ge=Ht.join("&");break e}}ge=void 0}return h=h.i.splice(0,w),_.G=h,ge}function sh(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ne||S(),de||(ne(),de=!0),I.add(_,h),h.A=0}}function Ma(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=vi(p(h.Da,h),oh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,rh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=vi(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),Cr(this),rh(this))};function oc(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function rh(h){h.g=new fn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Xt(h.na);ut(_,"RID","rpc"),ut(_,"SID",h.M),ut(_,"AID",h.K),ut(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&ut(_,"TO",h.ia),ut(_,"TYPE","xmlhttp"),ka(h,_),h.u&&h.o&&Ia(_,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=Aa(Xt(_)),w.u=null,w.R=!0,_o(w,h)}t.Va=function(){this.C!=null&&(this.C=null,Cr(this),Ma(this),jt(19))};function Ro(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function ah(h,_){var w=null;if(h.g==_){Ro(h),oc(h),h.g=null;var C=2}else if(us(h.h,_))w=_.G,Xl(h.h,_),C=1;else return;if(h.I!=0){if(_.o)if(C==1){w=_.u?_.u.length:0,_=Date.now()-_.F;var $=h.D;C=js(),Ke(C,new yi(C,w)),ps(h)}else sh(h);else if($=_.m,$==3||$==0&&_.X>0||!(C==1&&Co(h,_)||C==2&&Ma(h)))switch(w&&w.length>0&&(_=h.h,_.i=_.i.concat(w)),$){case 1:gs(h,5);break;case 4:gs(h,10);break;case 3:gs(h,6);break;default:gs(h,2)}}}function oh(h,_){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*_}function gs(h,_){if(h.j.info("Error code "+_),_==2){var w=p(h.bb,h),C=h.Ua;const $=!C;C=new ri(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||mn(C,"https"),Aa(C),$?Hi(C.toString(),w):nc(C.toString(),w)}else jt(2);h.I=0,h.l&&h.l.pa(_),lh(h),Ao(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function lh(h){if(h.I=0,h.ja=[],h.l){const _=Wl(h.h);(_.length!=0||h.i.length!=0)&&(L(h.ja,_),L(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function ch(h,_,w){var C=w instanceof ri?Xt(w):new ri(w);if(C.g!="")_&&(C.g=_+"."+C.g),br(C,C.u);else{var $=u.location;C=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;const J=new ri(null);C&&mn(J,C),_&&(J.g=_),$&&br(J,$),w&&(J.h=w),C=J}return w=h.G,_=h.wa,w&&_&&ut(C,w,_),ut(C,"VER",h.ka),ka(h,C),C}function uh(h,_,w){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new mt(new fs({ab:w})):new mt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hh(){}t=hh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Rr(){}Rr.prototype.g=function(h,_){return new Pn(h,_)};function Pn(h,_){tt.call(this),this.g=new Ar(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!N(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Fs(this)}v(Pn,tt),Pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){rc(this.g)},Pn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=ni(h),h=w);_.i.push(new Qt(_.Ya++,h)),_.I==3&&ps(_)},Pn.prototype.N=function(){this.g.l=null,delete this.j,rc(this.g),delete this.g,Pn.Z.N.call(this)};function fh(h){Lt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const w in _){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}v(fh,Lt);function dh(){Fn.call(this),this.status=1}v(dh,Fn);function Fs(h){this.g=h}v(Fs,hh),Fs.prototype.ra=function(){Ke(this.g,"a")},Fs.prototype.qa=function(h){Ke(this.g,new fh(h))},Fs.prototype.pa=function(h){Ke(this.g,new dh)},Fs.prototype.oa=function(){Ke(this.g,"b")},Rr.prototype.createWebChannel=Rr.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,kS=function(){return new Rr},NS=function(){return js()},DS=Ct,iy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Y.NO_ERROR=0,Y.TIMEOUT=8,Y.HTTP_ERROR=6,Uf=Y,Ie.COMPLETE="complete",IS=Ie,Ls.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",tt.prototype.listen=tt.prototype.J,Xc=Ls,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,RS=mt}).apply(typeof bf<"u"?bf:typeof self<"u"?self:typeof window<"u"?window:{});let Nn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");let Ll="12.8.0";function CP(t){Ll=t}const uo=new nv("@firebase/firestore");function ol(){return uo.logLevel}function be(t,...e){if(uo.logLevel<=Ze.DEBUG){const n=e.map(pv);uo.debug(`Firestore (${Ll}): ${t}`,...n)}}function pr(t,...e){if(uo.logLevel<=Ze.ERROR){const n=e.map(pv);uo.error(`Firestore (${Ll}): ${t}`,...n)}}function ho(t,...e){if(uo.logLevel<=Ze.WARN){const n=e.map(pv);uo.warn(`Firestore (${Ll}): ${t}`,...n)}}function pv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Me(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,MS(t,s,n)}function MS(t,e,n){let s=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw pr(s),new Error(s)}function lt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||MS(e,a,s)}function je(t,e){return t}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Vs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class VS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Nn.UNAUTHENTICATED)))}shutdown(){}}class RP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class IP{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new cr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new cr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(lt(typeof s.accessToken=="string",31837,{l:s}),new VS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class DP{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class NP{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new DP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0,3512);const s=l=>{l.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,be("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new zw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function MP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class zd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=MP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Je(t,e){return t<e?-1:t>e?1:0}function sy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Tg(a)===Tg(l)?Je(a,l):Tg(a)?1:-1}return Je(t.length,e.length)}const VP=55296,PP=57343;function Tg(t){const e=t.charCodeAt(0);return e>=VP&&e<=PP}function Sl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const Bw="__name__";class ws{constructor(e,n,s){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Me(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ws.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ws?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=ws.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Je(e.length,n.length)}static compareSegments(e,n){const s=ws.isNumericId(e),a=ws.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?ws.extractNumericId(e).compare(ws.extractNumericId(n)):sy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oa.fromString(e.substring(4,e.length-2))}}class Tt extends ws{construct(e,n,s){return new Tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ve(ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new Tt(n)}static emptyPath(){return new Tt([])}}const OP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends ws{construct(e,n,s){return new yn(e,n,s)}static isValidIdentifier(e){return OP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bw}static keyField(){return new yn([Bw])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ve(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ve(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ve(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(s+=d,a++):(l(),a++)}if(l(),u)throw new ve(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(n)}static emptyPath(){return new yn([])}}class Re{constructor(e){this.path=e}static fromPath(e){return new Re(Tt.fromString(e))}static fromName(e){return new Re(Tt.fromString(e).popFirst(5))}static empty(){return new Re(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new Tt(e.slice()))}}function OS(t,e,n){if(!n)throw new ve(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LS(t,e,n,s){if(e===!0&&s===!0)throw new ve(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Fw(t){if(!Re.isDocumentKey(t))throw new ve(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hw(t){if(Re.isDocumentKey(t))throw new ve(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Bd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function Un(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bd(t);throw new ve(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Mu(t,e){if(!jS(t))throw new ve(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ve(ce.INVALID_ARGUMENT,n);return!0}const qw=-62135596800,Gw=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Gw);return new Fe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qw)throw new ve(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gw}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mu(e,Fe._jsonSchema))return new Fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:rn("string",Fe._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Fe(0,0))}static max(){return new Oe(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gu=-1;function LP(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(s===1e9?new Fe(n+1,0):new Fe(n,s));return new fa(a,Re.empty(),e)}function jP(t){return new fa(t.readTime,t.key,gu)}class fa{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new fa(Oe.min(),Re.empty(),gu)}static max(){return new fa(Oe.max(),Re.empty(),gu)}}function UP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}const zP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function jl(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==zP)throw t;be("LocalStore","Unexpectedly lost primary lease")}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.reject(n)}static resolve(e){return new ue(((n,s)=>{n(e)}))}static reject(e){return new ue(((n,s)=>{s(e)}))}static waitFor(e){return new ue(((n,s)=>{let a=0,l=0,u=!1;e.forEach((d=>{++a,d.next((()=>{++l,u&&l===a&&n()}),(m=>s(m)))})),u=!0,l===a&&n()}))}static or(e){let n=ue.resolve(!1);for(const s of e)n=n.next((a=>a?ue.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ue(((s,a)=>{const l=e.length,u=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((y=>{u[p]=y,++d,d===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new ue(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function FP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ul(t){return t.name==="IndexedDbTransactionError"}class Fd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fd.ce=-1;const gv=-1;function Hd(t){return t==null}function sd(t){return t===0&&1/t==-1/0}function HP(t){return typeof t=="number"&&Number.isInteger(t)&&!sd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const US="";function qP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Kw(e)),e=GP(t.get(n),e);return Kw(e)}function GP(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case US:n+="";break;default:n+=l}}return n}function Kw(t){return t+US+""}function $w(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ta(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Vt{constructor(e,n){this.comparator=e,this.root=n||Sn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tf(this.root,e,this.comparator,!0)}}class Tf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??Sn.RED,this.left=a??Sn.EMPTY,this.right=l??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new Sn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Sn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new Sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class un{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yw(this.data.getIterator())}getIteratorFrom(e){return new Yw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class Yw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class mi{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new mi([])}unionWith(e){let n=new un(yn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class BS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new BS("Invalid base64 string: "+l):l}})(e);return new vn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const KP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(t){if(lt(!!t,39018),typeof t=="string"){let e=0;const n=KP.exec(t);if(lt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Kt(t.seconds),nanos:Kt(t.nanos)}}function Kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ma(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}const FS="server_timestamp",HS="__type__",qS="__previous_value__",GS="__local_write_time__";function yv(t){return(t?.mapValue?.fields||{})[HS]?.stringValue===FS}function qd(t){const e=t.mapValue.fields[qS];return yv(e)?qd(e):e}function yu(t){const e=da(t.mapValue.fields[GS].timestampValue);return new Fe(e.seconds,e.nanos)}class $P{constructor(e,n,s,a,l,u,d,m,p,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=v}}const rd="(default)";class Al{constructor(e,n){this.projectId=e,this.database=n||rd}static empty(){return new Al("","")}get isDefaultDatabase(){return this.database===rd}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}function YP(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ve(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(t.options.projectId,e)}const KS="__type__",QP="__max__",wf={mapValue:{}},$S="__vector__",ad="value";function pa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yv(t)?4:WP(t)?9007199254740991:XP(t)?10:11:Me(28295,{value:t})}function Ds(t,e){if(t===e)return!0;const n=pa(t);if(n!==pa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yu(t).isEqual(yu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=da(a.timestampValue),d=da(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ma(a.bytesValue).isEqual(ma(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Kt(a.geoPointValue.latitude)===Kt(l.geoPointValue.latitude)&&Kt(a.geoPointValue.longitude)===Kt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Kt(a.integerValue)===Kt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Kt(a.doubleValue),d=Kt(l.doubleValue);return u===d?sd(u)===sd(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return Sl(t.arrayValue.values||[],e.arrayValue.values||[],Ds);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if($w(u)!==$w(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!Ds(u[m],d[m])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function vu(t,e){return(t.values||[]).find((n=>Ds(n,e)))!==void 0}function Cl(t,e){if(t===e)return 0;const n=pa(t),s=pa(e);if(n!==s)return Je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const d=Kt(l.integerValue||l.doubleValue),m=Kt(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return Qw(t.timestampValue,e.timestampValue);case 4:return Qw(yu(t),yu(e));case 5:return sy(t.stringValue,e.stringValue);case 6:return(function(l,u){const d=ma(l),m=ma(u);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const d=l.split("/"),m=u.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=Je(d[p],m[p]);if(y!==0)return y}return Je(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const d=Je(Kt(l.latitude),Kt(u.latitude));return d!==0?d:Je(Kt(l.longitude),Kt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Xw(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const d=l.fields||{},m=u.fields||{},p=d[ad]?.arrayValue,y=m[ad]?.arrayValue,v=Je(p?.values?.length||0,y?.values?.length||0);return v!==0?v:Xw(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===wf.mapValue&&u===wf.mapValue)return 0;if(l===wf.mapValue)return 1;if(u===wf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=u.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let v=0;v<m.length&&v<y.length;++v){const T=sy(m[v],y[v]);if(T!==0)return T;const R=Cl(d[m[v]],p[y[v]]);if(R!==0)return R}return Je(m.length,y.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function Qw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=da(t),s=da(e),a=Je(n.seconds,s.seconds);return a!==0?a:Je(n.nanos,s.nanos)}function Xw(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Cl(n[a],s[a]);if(l)return l}return Je(n.length,s.length)}function Rl(t){return ry(t)}function ry(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=da(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ma(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Re.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=ry(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${ry(n.fields[u])}`;return a+"}"})(t.mapValue):Me(61005,{value:t})}function zf(t){switch(pa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qd(t);return e?16+zf(e):16;case 5:return 2*t.stringValue.length;case 6:return ma(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+zf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Ta(s.fields,((l,u)=>{a+=l.length+zf(u)})),a})(t.mapValue);default:throw Me(13486,{value:t})}}function Ww(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ay(t){return!!t&&"integerValue"in t}function vv(t){return!!t&&"arrayValue"in t}function Zw(t){return!!t&&"nullValue"in t}function Jw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bf(t){return!!t&&"mapValue"in t}function XP(t){return(t?.mapValue?.fields||{})[KS]?.stringValue===$S}function iu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ta(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=iu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=iu(t.arrayValue.values[n]);return e}return{...t}}function WP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===QP}class ei{constructor(e){this.value=e}static empty(){return new ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Bf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(n)}setAll(e){let n=yn.emptyPath(),s={},a=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}u?s[d.lastSegment()]=iu(u):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Bf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ds(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Bf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Ta(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new ei(iu(this.value))}}function YS(t){const e=[];return Ta(t.fields,((n,s)=>{const a=new yn([n]);if(Bf(s)){const l=YS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new mi(e)}class kn{constructor(e,n,s,a,l,u,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new kn(e,0,Oe.min(),Oe.min(),Oe.min(),ei.empty(),0)}static newFoundDocument(e,n,s,a){return new kn(e,1,n,Oe.min(),s,a,0)}static newNoDocument(e,n){return new kn(e,2,n,Oe.min(),Oe.min(),ei.empty(),0)}static newUnknownDocument(e,n){return new kn(e,3,n,Oe.min(),Oe.min(),ei.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class od{constructor(e,n){this.position=e,this.inclusive=n}}function eE(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=Re.comparator(Re.fromName(u.referenceValue),n.key):s=Cl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function tE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ds(t.position[n],e.position[n]))return!1;return!0}class ld{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class QS{}class sn extends QS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new eO(e,n,s):n==="array-contains"?new iO(e,s):n==="in"?new sO(e,s):n==="not-in"?new rO(e,s):n==="array-contains-any"?new aO(e,s):new sn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new tO(e,s):new nO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Cl(n,this.value)):n!==null&&pa(this.value)===pa(n)&&this.matchesComparison(Cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class is extends QS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new is(e,n)}matches(e){return XS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XS(t){return t.op==="and"}function WS(t){return JP(t)&&XS(t)}function JP(t){for(const e of t.filters)if(e instanceof is)return!1;return!0}function oy(t){if(t instanceof sn)return t.field.canonicalString()+t.op.toString()+Rl(t.value);if(WS(t))return t.filters.map((e=>oy(e))).join(",");{const e=t.filters.map((n=>oy(n))).join(",");return`${t.op}(${e})`}}function ZS(t,e){return t instanceof sn?(function(s,a){return a instanceof sn&&s.op===a.op&&s.field.isEqual(a.field)&&Ds(s.value,a.value)})(t,e):t instanceof is?(function(s,a){return a instanceof is&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,d)=>l&&ZS(u,a.filters[d])),!0):!1})(t,e):void Me(19439)}function JS(t){return t instanceof sn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Rl(n.value)}`})(t):t instanceof is?(function(n){return n.op.toString()+" {"+n.getFilters().map(JS).join(" ,")+"}"})(t):"Filter"}class eO extends sn{constructor(e,n,s){super(e,n,s),this.key=Re.fromName(s.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class tO extends sn{constructor(e,n){super(e,"in",n),this.keys=eA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class nO extends sn{constructor(e,n){super(e,"not-in",n),this.keys=eA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function eA(t,e){return(e.arrayValue?.values||[]).map((n=>Re.fromName(n.referenceValue)))}class iO extends sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vv(n)&&vu(n.arrayValue,this.value)}}class sO extends sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vu(this.value.arrayValue,n)}}class rO extends sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vu(this.value.arrayValue,n)}}class aO extends sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>vu(this.value.arrayValue,s)))}}class oO{constructor(e,n=null,s=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function nE(t,e=null,n=[],s=[],a=null,l=null,u=null){return new oO(t,e,n,s,a,l,u)}function _v(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>oy(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Hd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Rl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Rl(s))).join(",")),e.Te=n}return e.Te}function bv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ZP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tE(t.startAt,e.startAt)&&tE(t.endAt,e.endAt)}function ly(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Vu{constructor(e,n=null,s=[],a=[],l=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function lO(t,e,n,s,a,l,u,d){return new Vu(t,e,n,s,a,l,u,d)}function Gd(t){return new Vu(t)}function iE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cO(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function tA(t){return t.collectionGroup!==null}function su(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new un(yn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new ld(l,s))})),n.has(yn.keyField().canonicalString())||e.Ie.push(new ld(yn.keyField(),s))}return e.Ie}function As(t){const e=je(t);return e.Ee||(e.Ee=uO(e,su(t))),e.Ee}function uO(t,e){if(t.limitType==="F")return nE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new ld(a.field,l)}));const n=t.endAt?new od(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new od(t.startAt.position,t.startAt.inclusive):null;return nE(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function cy(t,e){const n=t.filters.concat([e]);return new Vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function uy(t,e,n){return new Vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kd(t,e){return bv(As(t),As(e))&&t.limitType===e.limitType}function nA(t){return`${_v(As(t))}|lt:${t.limitType}`}function ll(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>JS(a))).join(", ")}]`),Hd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Rl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Rl(a))).join(",")),`Target(${s})`})(As(t))}; limitType=${t.limitType})`}function $d(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Re.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of su(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,d,m){const p=eE(u,d,m);return u.inclusive?p<=0:p<0})(s.startAt,su(s),a)||s.endAt&&!(function(u,d,m){const p=eE(u,d,m);return u.inclusive?p>=0:p>0})(s.endAt,su(s),a))})(t,e)}function hO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iA(t){return(e,n)=>{let s=!1;for(const a of su(t)){const l=fO(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function fO(t,e,n){const s=t.field.isKeyField()?Re.comparator(e.key,n.key):(function(l,u,d){const m=u.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Cl(m,p):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Me(19790,{direction:t.dir})}}class go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return zS(this.inner)}size(){return this.innerSize}}const dO=new Vt(Re.comparator);function gr(){return dO}const sA=new Vt(Re.comparator);function Wc(...t){let e=sA;for(const n of t)e=e.insert(n.key,n);return e}function rA(t){let e=sA;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function no(){return ru()}function aA(){return ru()}function ru(){return new go((t=>t.toString()),((t,e)=>t.isEqual(e)))}const mO=new Vt(Re.comparator),pO=new un(Re.comparator);function et(...t){let e=pO;for(const n of t)e=e.add(n);return e}const gO=new un(Je);function yO(){return gO}function Tv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function oA(t){return{integerValue:""+t}}function vO(t,e){return HP(e)?oA(e):Tv(t,e)}class Yd{constructor(){this._=void 0}}function _O(t,e,n){return t instanceof cd?(function(a,l){const u={fields:{[HS]:{stringValue:FS},[GS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&yv(l)&&(l=qd(l)),l&&(u.fields[qS]=l),{mapValue:u}})(n,e):t instanceof _u?cA(t,e):t instanceof bu?uA(t,e):(function(a,l){const u=lA(a,l),d=sE(u)+sE(a.Ae);return ay(u)&&ay(a.Ae)?oA(d):Tv(a.serializer,d)})(t,e)}function bO(t,e,n){return t instanceof _u?cA(t,e):t instanceof bu?uA(t,e):n}function lA(t,e){return t instanceof ud?(function(s){return ay(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class cd extends Yd{}class _u extends Yd{constructor(e){super(),this.elements=e}}function cA(t,e){const n=hA(e);for(const s of t.elements)n.some((a=>Ds(a,s)))||n.push(s);return{arrayValue:{values:n}}}class bu extends Yd{constructor(e){super(),this.elements=e}}function uA(t,e){let n=hA(e);for(const s of t.elements)n=n.filter((a=>!Ds(a,s)));return{arrayValue:{values:n}}}class ud extends Yd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function sE(t){return Kt(t.integerValue||t.doubleValue)}function hA(t){return vv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function TO(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof _u&&a instanceof _u||s instanceof bu&&a instanceof bu?Sl(s.elements,a.elements,Ds):s instanceof ud&&a instanceof ud?Ds(s.Ae,a.Ae):s instanceof cd&&a instanceof cd})(t.transform,e.transform)}class wO{constructor(e,n){this.version=e,this.transformResults=n}}class Li{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ff(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qd{}function fA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wv(t.key,Li.none()):new Pu(t.key,t.data,Li.none());{const n=t.data,s=ei.empty();let a=new un(yn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new wa(t.key,s,new mi(a.toArray()),Li.none())}}function EO(t,e,n){t instanceof Pu?(function(a,l,u){const d=a.value.clone(),m=aE(a.fieldTransforms,l,u.transformResults);d.setAll(m),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof wa?(function(a,l,u){if(!Ff(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=aE(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(dA(a)),m.setAll(d),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function au(t,e,n,s){return t instanceof Pu?(function(l,u,d,m){if(!Ff(l.precondition,u))return d;const p=l.value.clone(),y=oE(l.fieldTransforms,m,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof wa?(function(l,u,d,m){if(!Ff(l.precondition,u))return d;const p=oE(l.fieldTransforms,m,u),y=u.data;return y.setAll(dA(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,s):(function(l,u,d){return Ff(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function xO(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=lA(s.transform,a||null);l!=null&&(n===null&&(n=ei.empty()),n.set(s.field,l))}return n||null}function rE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Sl(s,a,((l,u)=>TO(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pu extends Qd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class wa extends Qd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function dA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function aE(t,e,n){const s=new Map;lt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,d=e.data.field(l.field);s.set(l.field,bO(u,d,n[a]))}return s}function oE(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,_O(l,u,e))}return s}class wv extends Qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SO extends Qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class AO{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&EO(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=au(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=au(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=aA();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=n.has(a.key)?null:d;const m=fA(u,d);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Oe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),et())}isEqual(e){return this.batchId===e.batchId&&Sl(this.mutations,e.mutations,((n,s)=>rE(n,s)))&&Sl(this.baseMutations,e.baseMutations,((n,s)=>rE(n,s)))}}class Ev{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){lt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return mO})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new Ev(e,n,s,a)}}class CO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class RO{constructor(e,n){this.count=e,this.unchangedNames=n}}var tn,it;function IO(t){switch(t){case ce.OK:return Me(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function mA(t){if(t===void 0)return pr("GRPC error has no .code"),ce.UNKNOWN;switch(t){case tn.OK:return ce.OK;case tn.CANCELLED:return ce.CANCELLED;case tn.UNKNOWN:return ce.UNKNOWN;case tn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case tn.INTERNAL:return ce.INTERNAL;case tn.UNAVAILABLE:return ce.UNAVAILABLE;case tn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case tn.NOT_FOUND:return ce.NOT_FOUND;case tn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case tn.ABORTED:return ce.ABORTED;case tn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case tn.DATA_LOSS:return ce.DATA_LOSS;default:return Me(39323,{code:t})}}(it=tn||(tn={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";function DO(){return new TextEncoder}const NO=new oa([4294967295,4294967295],0);function lE(t){const e=DO().encode(t),n=new CS;return n.update(e),new Uint8Array(n.digest())}function cE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new oa([n,s],0),new oa([a,l],0)]}class xv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Zc(`Invalid padding: ${n}`);if(s<0)throw new Zc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Zc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Zc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=oa.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(oa.fromNumber(s)));return a.compare(NO)===1&&(a=new oa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=lE(e),[s,a]=cE(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new xv(l,a,n);return s.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const n=lE(e),[s,a]=cE(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Zc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Xd(Oe.min(),a,new Vt(Je),gr(),et())}}class Ou{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ou(s,n,et(),et(),et())}}class Hf{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class pA{constructor(e,n){this.targetId=e,this.Ce=n}}class gA{constructor(e,n,s=vn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class uE{constructor(){this.ve=0,this.Fe=hE(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),n=et(),s=et();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Me(38017,{changeType:l})}})),new Ou(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=hE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class kO{constructor(e){this.Ge=e,this.ze=new Map,this.je=gr(),this.He=Ef(),this.Je=Ef(),this.Ze=new Vt(Je)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(ly(l))if(s===0){const u=new Re(l.path);this.et(n,u,kn.newNoDocument(u,Oe.min()))}else lt(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const d=this.ut(e),m=d?this.ct(d,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,d;try{u=ma(s).toUint8Array()}catch(m){if(m instanceof BS)return ho("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new xv(u,a,l)}catch(m){return ho(m instanceof Zc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const d=this.ot(u);if(d){if(l.current&&ly(d.target)){const m=new Re(d.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,kn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let s=et();this.Je.forEach(((l,u)=>{let d=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Xd(e,n,this.Ze,this.je,s);return this.je=gr(),this.He=Ef(),this.Je=Ef(),this.Ze=new Vt(Je),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new uE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new un(Je),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new un(Je),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ef(){return new Vt(Re.comparator)}function hE(){return new Vt(Re.comparator)}const MO={asc:"ASCENDING",desc:"DESCENDING"},VO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PO={and:"AND",or:"OR"};class OO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hy(t,e){return t.useProto3Json||Hd(e)?e:{value:e}}function hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LO(t,e){return hd(t,e.toTimestamp())}function Cs(t){return lt(!!t,49232),Oe.fromTimestamp((function(n){const s=da(n);return new Fe(s.seconds,s.nanos)})(t))}function Sv(t,e){return fy(t,e).canonicalString()}function fy(t,e){const n=(function(a){return new Tt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function vA(t){const e=Tt.fromString(t);return lt(EA(e),10190,{key:e.toString()}),e}function dy(t,e){return Sv(t.databaseId,e.path)}function wg(t,e){const n=vA(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(bA(n))}function _A(t,e){return Sv(t.databaseId,e)}function jO(t){const e=vA(t);return e.length===4?Tt.emptyPath():bA(e)}function my(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bA(t){return lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function fE(t,e,n){return{name:dy(t,e),fields:n.value.mapValue.fields}}function UO(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Me(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(lt(y===void 0||typeof y=="string",58123),vn.fromBase64String(y||"")):(lt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),vn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(p){const y=p.code===void 0?ce.UNKNOWN:mA(p.code);return new ve(y,p.message||"")})(u);n=new gA(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=wg(t,s.document.name),l=Cs(s.document.updateTime),u=s.document.createTime?Cs(s.document.createTime):Oe.min(),d=new ei({mapValue:{fields:s.document.fields}}),m=kn.newFoundDocument(a,l,u,d),p=s.targetIds||[],y=s.removedTargetIds||[];n=new Hf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=wg(t,s.document),l=s.readTime?Cs(s.readTime):Oe.min(),u=kn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Hf([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=wg(t,s.document),l=s.removedTargetIds||[];n=new Hf([],l,a,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new RO(a,l),d=s.targetId;n=new pA(d,u)}}return n}function zO(t,e){let n;if(e instanceof Pu)n={update:fE(t,e.key,e.value)};else if(e instanceof wv)n={delete:dy(t,e.key)};else if(e instanceof wa)n={update:fE(t,e.key,e.data),updateMask:QO(e.fieldMask)};else{if(!(e instanceof SO))return Me(16599,{dt:e.type});n={verify:dy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const d=u.transform;if(d instanceof cd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof _u)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof bu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ud)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Me(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:LO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Me(27497)})(t,e.precondition)),n}function BO(t,e){return t&&t.length>0?(lt(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?Cs(a.updateTime):Cs(l);return u.isEqual(Oe.min())&&(u=Cs(l)),new wO(u,a.transformResults||[])})(n,e)))):[]}function FO(t,e){return{documents:[_A(t,e.path)]}}function HO(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=_A(t,a);const l=(function(p){if(p.length!==0)return wA(is.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(T){return{field:cl(T.field),direction:KO(T.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=hy(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function qO(t){let e=jO(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){lt(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const T=TA(v);return T instanceof is&&WS(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((T=>(function(L){return new ld(ul(L.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(T)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let T;return T=typeof v=="object"?v.value:v,Hd(T)?null:T})(n.limit));let m=null;n.startAt&&(m=(function(v){const T=!!v.before,R=v.values||[];return new od(R,T)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const T=!v.before,R=v.values||[];return new od(R,T)})(n.endAt)),lO(e,a,u,l,d,"F",m,p)}function GO(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ul(n.unaryFilter.field);return sn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=ul(n.unaryFilter.field);return sn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ul(n.unaryFilter.field);return sn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ul(n.unaryFilter.field);return sn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return sn.create(ul(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return is.create(n.compositeFilter.filters.map((s=>TA(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function KO(t){return MO[t]}function $O(t){return VO[t]}function YO(t){return PO[t]}function cl(t){return{fieldPath:t.canonicalString()}}function ul(t){return yn.fromServerFormat(t.fieldPath)}function wA(t){return t instanceof sn?(function(n){if(n.op==="=="){if(Jw(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NAN"}};if(Zw(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jw(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NOT_NAN"}};if(Zw(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(n.field),op:$O(n.op),value:n.value}}})(t):t instanceof is?(function(n){const s=n.getFilters().map((a=>wA(a)));return s.length===1?s[0]:{compositeFilter:{op:YO(n.op),filters:s}}})(t):Me(54877,{filter:t})}function QO(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function EA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function xA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class ia{constructor(e,n,s,a,l=Oe.min(),u=Oe.min(),d=vn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class XO{constructor(e){this.yt=e}}function WO(t){const e=qO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?uy(e,e.limit,"L"):e}class ZO{constructor(){this.Sn=new JO}addToCollectionParentIndex(e,n){return this.Sn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(fa.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(fa.min())}updateCollectionGroup(e,n,s){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class JO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new un(Tt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new un(Tt.comparator)).toArray()}}const dE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SA=41943040;class Jn{static withCacheSize(e){return new Jn(e,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Jn.DEFAULT_COLLECTION_PERCENTILE=10,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jn.DEFAULT=new Jn(SA,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jn.DISABLED=new Jn(-1,0,0);class Il{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Il(0)}static ar(){return new Il(-1)}}const mE="LruGarbageCollector",e4=1048576;function pE([t,e],[n,s]){const a=Je(t,n);return a===0?Je(e,s):a}class t4{constructor(e){this.Pr=e,this.buffer=new un(pE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();pE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class n4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){be(mE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ul(n)?be(mE,"Ignoring IndexedDB error during garbage collection: ",n):await jl(n)}await this.Ar(3e5)}))}}class i4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(Fd.ce);const s=new t4(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(dE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,u,d,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(s=v,d=Date.now(),this.removeTargets(e,s,n)))).next((v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(p=Date.now(),ol()<=Ze.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${v} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function s4(t,e){return new i4(t,e)}class r4{constructor(){this.changes=new go((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ue.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class a4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class o4{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&au(s.mutation,a,mi.empty(),Fe.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,et()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=et()){const a=no();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=Wc();return l.forEach(((d,m)=>{u=u.insert(d,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=no();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,et())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,s,a){let l=gr();const u=ru(),d=(function(){return ru()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof wa)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),au(y.mutation,p,y.mutation.getFieldMask(),Fe.now())):u.set(p.key,mi.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>d.set(p,new a4(y,u.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=ru();let a=new Vt(((u,d)=>u-d)),l=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||mi.empty();y=d.applyToLocalView(p,y),s.set(m,y);const v=(a.get(d.batchId)||et()).add(m);a=a.insert(d.batchId,v)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,v=aA();y.forEach((T=>{if(!l.has(T)){const R=fA(n.get(T),s.get(T));R!==null&&v.set(T,R),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ue.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return cO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ue.resolve(no());let d=gu,m=l;return u.next((p=>ue.forEach(p,((y,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(y)?ue.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{m=m.insert(y,T)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,et()))).next((y=>({batchId:d,changes:rA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((s=>{let a=Wc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=Wc();return this.indexManager.getCollectionParents(e,l).next((d=>ue.forEach(d,(m=>{const p=(function(v,T){return new Vu(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((v,T)=>{u=u.insert(v,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((m,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,kn.newInvalidDocument(y)))}));let d=Wc();return u.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&au(y.mutation,p,mi.empty(),Fe.now()),$d(n,p)&&(d=d.insert(m,p))})),d}))}}class l4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ue.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Cs(a.createTime)}})(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:WO(a.bundledQuery),readTime:Cs(a.readTime)}})(n)),ue.resolve()}}class c4{constructor(){this.overlays=new Vt(Re.comparator),this.Lr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const s=no();return ue.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),ue.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),ue.resolve()}getOverlaysForCollection(e,n,s){const a=no(),l=n.length+1,u=new Re(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Vt(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=no(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=no(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=a)););return ue.resolve(d)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new CO(n,s));let l=this.Lr.get(n);l===void 0&&(l=et(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class u4{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}class Av{constructor(){this.kr=new un(gn.Kr),this.qr=new un(gn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new gn(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new gn(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Re(new Tt([])),s=new gn(n,e),a=new gn(n,e+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Re(new Tt([])),s=new gn(n,e),a=new gn(n,e+1);let l=et();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new gn(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class gn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Re.comparator(e.key,n.key)||Je(e.Hr,n.Hr)}static Ur(e,n){return Je(e.Hr,n.Hr)||Re.comparator(e.key,n.key)}}class h4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new un(gn.Kr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new AO(l,n,s,a);this.mutationQueue.push(u);for(const d of a)this.Jr=this.Jr.add(new gn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,n){return ue.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?gv:this.Yn-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new gn(n,0),a=new gn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const d=this.Zr(u.Hr);l.push(d)})),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new un(Je);return n.forEach((a=>{const l=new gn(a,0),u=new gn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(d=>{s=s.add(d.Hr)}))})),ue.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Re.isDocumentKey(l)||(l=l.child(""));const u=new gn(new Re(l),0);let d=new un(Je);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Hr)),!0)}),u),ue.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){lt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ue.forEach(n.mutations,(a=>{const l=new gn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new gn(n,0),a=this.Jr.firstAfterOrEqual(s);return ue.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class f4{constructor(e){this.ti=e,this.docs=(function(){return new Vt(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ue.resolve(s?s.document.mutableCopy():kn.newInvalidDocument(n))}getEntries(e,n){let s=gr();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():kn.newInvalidDocument(a))})),ue.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=gr();const u=n.path,d=new Re(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||UP(jP(y),s)<=0||(a.has(y.key)||$d(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Me(9500)}ni(e,n){return ue.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new d4(this)}getSize(e){return ue.resolve(this.size)}}class d4 extends r4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),ue.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class m4{constructor(e){this.persistence=e,this.ri=new go((n=>_v(n)),bv),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.ii=0,this.si=new Av,this.targetCount=0,this.oi=Il._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ue.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Il(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.lr(n),ue.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((u,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ue.waitFor(l).next((()=>a))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ue.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ue.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ue.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ue.resolve(s)}containsKey(e,n){return ue.resolve(this.si.containsKey(n))}}class AA{constructor(e,n){this._i={},this.overlays={},this.ai=new Fd(0),this.ui=!1,this.ui=!0,this.ci=new u4,this.referenceDelegate=e(this),this.li=new m4(this),this.indexManager=new ZO,this.remoteDocumentCache=(function(a){return new f4(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new XO(n),this.Pi=new l4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new c4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new h4(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){be("MemoryPersistence","Starting transaction:",e);const a=new p4(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return ue.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class p4 extends BP{constructor(e){super(),this.currentSequenceNumber=e}}class Cv{constructor(e){this.persistence=e,this.Ri=new Av,this.Ai=null}static Vi(e){return new Cv(e)}get di(){if(this.Ai)return this.Ai;throw Me(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ue.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.di,(s=>{const a=Re.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Oe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ue.or([()=>ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class fd{constructor(e,n){this.persistence=e,this.fi=new go((s=>qP(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=s4(this,n)}static Vi(e,n){return new fd(e,n)}Ti(){}Ii(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ue.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?ue.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((d=>{d||(s++,l.removeEntry(u,Oe.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ue.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zf(e.data.value)),n}wr(e,n,s){return ue.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return ue.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Rv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=et(),a=et();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Rv(e,n.fromCache,s,a)}}class g4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class y4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return ak()?8:FP(Vn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new g4;return this.ys(e,n,u).next((d=>{if(l.result=d,this.As)return this.ws(e,n,u,d.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(ol()<=Ze.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",ll(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ue.resolve()):(ol()<=Ze.DEBUG&&be("QueryEngine","Query:",ll(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(ol()<=Ze.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",ll(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,As(n))):ue.resolve())}gs(e,n){if(iE(n))return ue.resolve(null);let s=As(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=uy(n,null,"F"),s=As(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=et(...l);return this.fs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.bs(n,d);return this.Ss(n,p,u,m.readTime)?this.gs(e,uy(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,s,a){return iE(n)||a.isEqual(Oe.min())?ue.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,s,a)?ue.resolve(null):(ol()<=Ze.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ll(n)),this.Ds(e,u,n,LP(a,gu)).next((d=>d)))}))}bs(e,n){let s=new un(iA(e));return n.forEach(((a,l)=>{$d(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return ol()<=Ze.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",ll(n)),this.fs.getDocumentsMatchingQuery(e,n,fa.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Iv="LocalStore",v4=3e8;class _4{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Vt(Je),this.Fs=new go((l=>_v(l)),bv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new o4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function b4(t,e,n,s){return new _4(t,e,n,s)}async function CA(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],d=[];let m=et();for(const p of a){u.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:d})))}))}))}function T4(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,y){const v=p.batch,T=v.keys();let R=ue.resolve();return T.forEach((L=>{R=R.next((()=>y.getEntry(m,L))).next((j=>{const D=p.docVersions.get(L);lt(D!==null,48541),j.version.compareTo(D)<0&&(v.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),y.addEntry(j)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(m,v)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=et();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function RA(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function w4(t,e){const n=je(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];e.targetChanges.forEach(((y,v)=>{const T=a.get(v);if(!T)return;d.push(n.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,v))));let R=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?R=R.withResumeToken(vn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),a=a.insert(v,R),(function(j,D,z){return j.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=v4?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(T,R,y)&&d.push(n.li.updateTargetData(l,R))}));let m=gr(),p=et();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(E4(l,u,e.documentUpdates).next((y=>{m=y.Bs,p=y.Ls}))),!s.isEqual(Oe.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((v=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return ue.waitFor(d).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function E4(t,e,n){let s=et(),a=et();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=gr();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Oe.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):be(Iv,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function x4(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=gv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function S4(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,ue.resolve(a)):n.li.allocateTargetId(s).next((u=>(a=new ia(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function py(t,e,n){const s=je(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Ul(u))throw u;be(Iv,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function gE(t,e,n){const s=je(t);let a=Oe.min(),l=et();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,y){const v=je(m),T=v.Fs.get(y);return T!==void 0?ue.resolve(v.vs.get(T)):v.li.getTargetData(p,y)})(s,u,As(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,d.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,n?a:Oe.min(),n?l:et()))).next((d=>(A4(s,hO(e),d),{documents:d,ks:l})))))}function A4(t,e,n){let s=t.Ms.get(e)||Oe.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class yE{constructor(){this.activeTargetIds=yO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C4{constructor(){this.vo=new yE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new yE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class R4{Mo(e){}shutdown(){}}const vE="ConnectivityMonitor";class _E{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){be(vE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){be(vE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xf=null;function gy(){return xf===null?xf=(function(){return 268435456+Math.round(2147483648*Math.random())})():xf++,"0x"+xf.toString(16)}const Eg="RestConnection",I4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class D4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===rd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const u=gy(),d=this.Qo(e,n.toUriEncodedString());be(Eg,`Sending RPC '${e}' ${u}:`,d,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(d),y=mo(p);return this.zo(e,d,m,s,y).then((v=>(be(Eg,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw ho(Eg,`RPC '${e}' ${u} failed with error: `,v,"url: ",d,"request:",s),v}))}jo(e,n,s,a,l,u){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ll})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=I4[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class N4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Dn="WebChannelConnection",$c=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class bl extends D4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!bl.c_){const e=NS();$c(e,DS.STAT_EVENT,(n=>{n.stat===iy.PROXY?be(Dn,"STAT_EVENT: detected buffering proxy"):n.stat===iy.NOPROXY&&be(Dn,"STAT_EVENT: detected no buffering proxy")})),bl.c_=!0}}zo(e,n,s,a,l){const u=gy();return new Promise(((d,m)=>{const p=new RS;p.setWithCredentials(!0),p.listenOnce(IS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Uf.NO_ERROR:const v=p.getResponseJson();be(Dn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),d(v);break;case Uf.TIMEOUT:be(Dn,`RPC '${e}' ${u} timed out`),m(new ve(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Uf.HTTP_ERROR:const T=p.getStatus();if(be(Dn,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const L=R?.error;if(L&&L.status&&L.message){const j=(function(z){const q=z.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(q)>=0?q:ce.UNKNOWN})(L.status);m(new ve(j,L.message))}else m(new ve(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ve(ce.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{be(Dn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);be(Dn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=gy(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const p=l.join("");be(Dn,`Creating RPC '${e}' stream ${a}: ${p}`,d);const y=u.createWebChannel(p,d);this.I_(y);let v=!1,T=!1;const R=new N4({Ho:L=>{T?be(Dn,`Not sending because RPC '${e}' stream ${a} is closed:`,L):(v||(be(Dn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),v=!0),be(Dn,`RPC '${e}' stream ${a} sending:`,L),y.send(L))},Jo:()=>y.close()});return $c(y,Xc.EventType.OPEN,(()=>{T||(be(Dn,`RPC '${e}' stream ${a} transport opened.`),R.i_())})),$c(y,Xc.EventType.CLOSE,(()=>{T||(T=!0,be(Dn,`RPC '${e}' stream ${a} transport closed`),R.o_(),this.E_(y))})),$c(y,Xc.EventType.ERROR,(L=>{T||(T=!0,ho(Dn,`RPC '${e}' stream ${a} transport errored. Name:`,L.name,"Message:",L.message),R.o_(new ve(ce.UNAVAILABLE,"The operation could not be completed")))})),$c(y,Xc.EventType.MESSAGE,(L=>{if(!T){const j=L.data[0];lt(!!j,16349);const D=j,z=D?.error||D[0]?.error;if(z){be(Dn,`RPC '${e}' stream ${a} received error:`,z);const q=z.status;let H=(function(de){const I=tn[de];if(I!==void 0)return mA(I)})(q),oe=z.message;H===void 0&&(H=ce.INTERNAL,oe="Unknown error status: "+q+" with message "+z.message),T=!0,R.o_(new ve(H,oe)),y.close()}else be(Dn,`RPC '${e}' stream ${a} received:`,j),R.__(j)}})),bl.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return kS()}}function k4(t){return new bl(t)}function xg(){return typeof document<"u"?document:null}function Wd(t){return new OO(t,!0)}bl.c_=!1;class IA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&be("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const bE="PersistentStream";class DA{constructor(e,n,s,a,l,u,d,m){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ve(ce.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return be(bE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(be(bE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class M4 extends DA{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=UO(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Oe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?Cs(u.readTime):Oe.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=my(this.serializer),n.addTarget=(function(l,u){let d;const m=u.target;if(d=ly(m)?{documents:FO(l,m)}:{query:HO(l,m).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=yA(l,u.resumeToken);const p=hy(l,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Oe.min())>0){d.readTime=hd(l,u.snapshotVersion.toTimestamp());const p=hy(l,u.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const s=GO(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=my(this.serializer),n.removeTarget=e,this.K_(n)}}class V4 extends DA{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=BO(e.writeResults,e.commitTime),s=Cs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=my(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>zO(this.serializer,s)))};this.K_(n)}}class P4{}class O4 extends P4{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ve(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,fy(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ce.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.jo(e,fy(n,s),a,u,d,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(ce.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function L4(t,e,n,s){return new O4(t,e,n,s)}class j4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pr(n),this.aa=!1):be("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const fo="RemoteStore";class U4{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{yo(this)&&(be(fo,"Restarting streams for network reachability change."),await(async function(m){const p=je(m);p.Ea.add(4),await Lu(p),p.Va.set("Unknown"),p.Ea.delete(4),await Zd(p)})(this))}))})),this.Va=new j4(s,a)}}async function Zd(t){if(yo(t))for(const e of t.Ra)await e(!0)}async function Lu(t){for(const e of t.Ra)await e(!1)}function NA(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Mv(n)?kv(n):zl(n).O_()&&Nv(n,e))}function Dv(t,e){const n=je(t),s=zl(n);n.Ia.delete(e),s.O_()&&kA(n,e),n.Ia.size===0&&(s.O_()?s.L_():yo(n)&&n.Va.set("Unknown"))}function Nv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zl(t).Z_(e)}function kA(t,e){t.da.$e(e),zl(t).X_(e)}function kv(t){t.da=new kO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),zl(t).start(),t.Va.ua()}function Mv(t){return yo(t)&&!zl(t).x_()&&t.Ia.size>0}function yo(t){return je(t).Ea.size===0}function MA(t){t.da=void 0}async function z4(t){t.Va.set("Online")}async function B4(t){t.Ia.forEach(((e,n)=>{Nv(t,e)}))}async function F4(t,e){MA(t),Mv(t)?(t.Va.ha(e),kv(t)):t.Va.set("Unknown")}async function H4(t,e,n){if(t.Va.set("Online"),e instanceof gA&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.da.removeTarget(d))})(t,e)}catch(s){be(fo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await dd(t,s)}else if(e instanceof Hf?t.da.Xe(e):e instanceof pA?t.da.st(e):t.da.tt(e),!n.isEqual(Oe.min()))try{const s=await RA(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const d=l.da.Tt(u);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,u))}})),d.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(vn.EMPTY_BYTE_STRING,y.snapshotVersion)),kA(l,m);const v=new ia(y.target,m,p,y.sequenceNumber);Nv(l,v)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){be(fo,"Failed to raise snapshot:",s),await dd(t,s)}}async function dd(t,e,n){if(!Ul(e))throw e;t.Ea.add(1),await Lu(t),t.Va.set("Offline"),n||(n=()=>RA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{be(fo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Zd(t)}))}function VA(t,e){return e().catch((n=>dd(t,n,e)))}async function Jd(t){const e=je(t),n=ga(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gv;for(;q4(e);)try{const a=await x4(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,G4(e,a)}catch(a){await dd(e,a)}PA(e)&&OA(e)}function q4(t){return yo(t)&&t.Ta.length<10}function G4(t,e){t.Ta.push(e);const n=ga(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function PA(t){return yo(t)&&!ga(t).x_()&&t.Ta.length>0}function OA(t){ga(t).start()}async function K4(t){ga(t).ra()}async function $4(t){const e=ga(t);for(const n of t.Ta)e.ea(n.mutations)}async function Y4(t,e,n){const s=t.Ta.shift(),a=Ev.from(s,e,n);await VA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Jd(t)}async function Q4(t,e){e&&ga(t).Y_&&await(async function(s,a){if((function(u){return IO(u)&&u!==ce.ABORTED})(a.code)){const l=s.Ta.shift();ga(s).B_(),await VA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Jd(s)}})(t,e),PA(t)&&OA(t)}async function TE(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),be(fo,"RemoteStore received new credentials");const s=yo(n);n.Ea.add(3),await Lu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zd(n)}async function X4(t,e){const n=je(t);e?(n.Ea.delete(2),await Zd(n)):e||(n.Ea.add(2),await Lu(n),n.Va.set("Unknown"))}function zl(t){return t.ma||(t.ma=(function(n,s,a){const l=je(n);return l.sa(),new M4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:z4.bind(null,t),Yo:B4.bind(null,t),t_:F4.bind(null,t),J_:H4.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Mv(t)?kv(t):t.Va.set("Unknown")):(await t.ma.stop(),MA(t))}))),t.ma}function ga(t){return t.fa||(t.fa=(function(n,s,a){const l=je(n);return l.sa(),new V4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:K4.bind(null,t),t_:Q4.bind(null,t),ta:$4.bind(null,t),na:Y4.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Jd(t)):(await t.fa.stop(),t.Ta.length>0&&(be(fo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Vv{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,d=new Vv(e,n,u,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pv(t,e){if(pr("AsyncQueue",`${e}: ${t}`),Ul(t))return new ve(ce.UNAVAILABLE,`${e}: ${t}`);throw t}class Tl{static emptySet(e){return new Tl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Re.comparator(n.key,s.key):(n,s)=>Re.comparator(n.key,s.key),this.keyedMap=Wc(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Tl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class wE{constructor(){this.ga=new Vt(Re.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Dl{constructor(e,n,s,a,l,u,d,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new Dl(e,n,Tl.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class W4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Z4{constructor(){this.queries=EE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=je(n),l=a.queries;a.queries=EE(),l.forEach(((u,d)=>{for(const m of d.ba)m.onError(s)}))})(this,new ve(ce.ABORTED,"Firestore shutting down"))}}function EE(){return new go((t=>nA(t)),Kd)}async function Ov(t,e){const n=je(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new W4,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const d=Pv(u,`Initialization of query '${ll(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&jv(n)}async function Lv(t,e){const n=je(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function J4(t,e){const n=je(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const d of u.ba)d.Fa(a)&&(s=!0);u.wa=a}}s&&jv(n)}function eL(t,e,n){const s=je(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function jv(t){t.Ca.forEach((e=>{e.next()}))}var yy,xE;(xE=yy||(yy={})).Ma="default",xE.Cache="cache";class Uv{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Dl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yy.Cache}}class LA{constructor(e){this.key=e}}class jA{constructor(e){this.key=e}}class tL{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=et(),this.mutatedKeys=et(),this.eu=iA(e),this.tu=new Tl(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new wE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const T=a.get(y),R=$d(this.query,v)?v:null,L=!!T&&this.mutatedKeys.has(T.key),j=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let D=!1;T&&R?T.data.isEqual(R.data)?L!==j&&(s.track({type:3,doc:R}),D=!0):this.su(T,R)||(s.track({type:2,doc:R}),D=!0,(m&&this.eu(R,m)>0||p&&this.eu(R,p)<0)&&(d=!0)):!T&&R?(s.track({type:0,doc:R}),D=!0):T&&!R&&(s.track({type:1,doc:T}),D=!0,(m||p)&&(d=!0)),D&&(R?(u=u.add(R),l=j?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Ss:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(R,L){const j=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:D})}};return j(R)-j(L)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,u.length!==0||p?{snapshot:new Dl(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=et(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new jA(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new LA(s))})),n}cu(e){this.Za=e.ks,this.Ya=et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const zv="SyncEngine";class nL{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class iL{constructor(e){this.key=e,this.hu=!1}}class sL{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new go((d=>nA(d)),Kd),this.Iu=new Map,this.Eu=new Set,this.Ru=new Vt(Re.comparator),this.Au=new Map,this.Vu=new Av,this.du={},this.mu=new Map,this.fu=Il.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rL(t,e,n=!0){const s=qA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await UA(s,e,n,!0),a}async function aL(t,e){const n=qA(t);await UA(n,e,!0,!1)}async function UA(t,e,n,s){const a=await S4(t.localStore,As(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await oL(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&NA(t.remoteStore,a),d}async function oL(t,e,n,s,a){t.pu=(v,T,R)=>(async function(j,D,z,q){let H=D.view.ru(z);H.Ss&&(H=await gE(j.localStore,D.query,!1).then((({documents:I})=>D.view.ru(I,H))));const oe=q&&q.targetChanges.get(D.targetId),ne=q&&q.targetMismatches.get(D.targetId)!=null,de=D.view.applyChanges(H,j.isPrimaryClient,oe,ne);return AE(j,D.targetId,de.au),de.snapshot})(t,v,T,R);const l=await gE(t.localStore,e,!0),u=new tL(e,l.ks),d=u.ru(l.documents),m=Ou.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=u.applyChanges(d,t.isPrimaryClient,m);AE(t,n,p.au);const y=new nL(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function lL(t,e,n){const s=je(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Kd(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await py(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Dv(s.remoteStore,a.targetId),vy(s,a.targetId)})).catch(jl)):(vy(s,a.targetId),await py(s.localStore,a.targetId,!0))}async function cL(t,e){const n=je(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Dv(n.remoteStore,s.targetId))}async function uL(t,e,n){const s=yL(t);try{const a=await(function(u,d){const m=je(u),p=Fe.now(),y=d.reduce(((R,L)=>R.add(L.key)),et());let v,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let L=gr(),j=et();return m.xs.getEntries(R,y).next((D=>{L=D,L.forEach(((z,q)=>{q.isValidDocument()||(j=j.add(z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,L))).next((D=>{v=D;const z=[];for(const q of d){const H=xO(q,v.get(q.key).overlayedDocument);H!=null&&z.push(new wa(q.key,H,YS(H.value.mapValue),Li.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,z,d)})).next((D=>{T=D;const z=D.applyToLocalDocumentSet(v,j);return m.documentOverlayCache.saveOverlays(R,D.batchId,z)}))})).then((()=>({batchId:T.batchId,changes:rA(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,d,m){let p=u.du[u.currentUser.toKey()];p||(p=new Vt(Je)),p=p.insert(d,m),u.du[u.currentUser.toKey()]=p})(s,a.batchId,n),await ju(s,a.changes),await Jd(s.remoteStore)}catch(a){const l=Pv(a,"Failed to persist write");n.reject(l)}}async function zA(t,e){const n=je(t);try{const s=await w4(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(lt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?lt(u.hu,14607):a.removedDocuments.size>0&&(lt(u.hu,42227),u.hu=!1))})),await ju(n,s,e)}catch(s){await jl(s)}}function SE(t,e,n){const s=je(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const m=je(u);m.onlineState=d;let p=!1;m.queries.forEach(((y,v)=>{for(const T of v.ba)T.va(d)&&(p=!0)})),p&&jv(m)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hL(t,e,n){const s=je(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new Vt(Re.comparator);u=u.insert(l,kn.newNoDocument(l,Oe.min()));const d=et().add(l),m=new Xd(Oe.min(),new Map,new Vt(Je),u,d);await zA(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(e),Bv(s)}else await py(s.localStore,e,!1).then((()=>vy(s,e,n))).catch(jl)}async function fL(t,e){const n=je(t),s=e.batch.batchId;try{const a=await T4(n.localStore,e);FA(n,s,null),BA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ju(n,a)}catch(a){await jl(a)}}async function dL(t,e,n){const s=je(t);try{const a=await(function(u,d){const m=je(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next((v=>(lt(v!==null,37113),y=v.keys(),m.mutationQueue.removeMutationBatch(p,v)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);FA(s,e,n),BA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ju(s,a)}catch(a){await jl(a)}}function BA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function FA(t,e,n){const s=je(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function vy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||HA(t,s)}))}function HA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Dv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Bv(t))}function AE(t,e,n){for(const s of n)s instanceof LA?(t.Vu.addReference(s.key,e),mL(t,s)):s instanceof jA?(be(zv,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||HA(t,s.key)):Me(19791,{wu:s})}function mL(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(be(zv,"New document in limbo: "+n),t.Eu.add(s),Bv(t))}function Bv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Re(Tt.fromString(e)),s=t.fu.next();t.Au.set(s,new iL(n)),t.Ru=t.Ru.insert(n,s),NA(t.remoteStore,new ia(As(Gd(n.path)),s,"TargetPurposeLimboResolution",Fd.ce))}}async function ju(t,e,n){const s=je(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{u.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Rv.Es(m.targetId,p);l.push(y)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(m,p){const y=je(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ue.forEach(p,(T=>ue.forEach(T.Ts,(R=>y.persistence.referenceDelegate.addReference(v,T.targetId,R))).next((()=>ue.forEach(T.Is,(R=>y.persistence.referenceDelegate.removeReference(v,T.targetId,R)))))))))}catch(v){if(!Ul(v))throw v;be(Iv,"Failed to update sequence numbers: "+v)}for(const v of p){const T=v.targetId;if(!v.fromCache){const R=y.vs.get(T),L=R.snapshotVersion,j=R.withLastLimboFreeSnapshotVersion(L);y.vs=y.vs.insert(T,j)}}})(s.localStore,l))}async function pL(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){be(zv,"User change. New user:",e.toKey());const s=await CA(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ve(ce.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ju(n,s.Ns)}}function gL(t,e){const n=je(t),s=n.Au.get(e);if(s&&s.hu)return et().add(s.key);{let a=et();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const d=n.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function qA(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hL.bind(null,e),e.Pu.J_=J4.bind(null,e.eventManager),e.Pu.yu=eL.bind(null,e.eventManager),e}function yL(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dL.bind(null,e),e}class md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return b4(this.persistence,new y4,e.initialUser,this.serializer)}Cu(e){return new AA(Cv.Vi,this.serializer)}Du(e){return new C4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}md.provider={build:()=>new md};class vL extends md{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){lt(this.persistence.referenceDelegate instanceof fd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new n4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Jn.withCacheSize(this.cacheSizeBytes):Jn.DEFAULT;return new AA((s=>fd.Vi(s,n)),this.serializer)}}class _y{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>SE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pL.bind(null,this.syncEngine),await X4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Z4})()}createDatastore(e){const n=Wd(e.databaseInfo.databaseId),s=k4(e.databaseInfo);return L4(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,d){return new U4(s,a,l,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>SE(this.syncEngine,n,0)),(function(){return _E.v()?new _E:new R4})())}createSyncEngine(e,n){return(function(a,l,u,d,m,p,y){const v=new sL(a,l,u,d,m,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=je(n);be(fo,"RemoteStore shutting down."),s.Ea.add(5),await Lu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_y.provider={build:()=>new _y};class Fv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ya="FirestoreClient";class _L{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=Nn.UNAUTHENTICATED,this.clientId=zd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{be(ya,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(be(ya,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Pv(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Sg(t,e){t.asyncQueue.verifyOperationInProgress(),be(ya,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await CA(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function CE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bL(t);be(ya,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>TE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>TE(e.remoteStore,a))),t._onlineComponents=e}async function bL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be(ya,"Using user provided OfflineComponentProvider");try{await Sg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await Sg(t,new md)}}else be(ya,"Using default OfflineComponentProvider"),await Sg(t,new vL(void 0));return t._offlineComponents}async function GA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be(ya,"Using user provided OnlineComponentProvider"),await CE(t,t._uninitializedComponentsProvider._online)):(be(ya,"Using default OnlineComponentProvider"),await CE(t,new _y))),t._onlineComponents}function TL(t){return GA(t).then((e=>e.syncEngine))}async function pd(t){const e=await GA(t),n=e.eventManager;return n.onListen=rL.bind(null,e.syncEngine),n.onUnlisten=lL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cL.bind(null,e.syncEngine),n}function wL(t,e,n,s){const a=new Fv(s),l=new Uv(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>Ov(await pd(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>Lv(await pd(t),l)))}}function EL(t,e,n={}){const s=new cr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,p){const y=new Fv({next:T=>{y.Nu(),u.enqueueAndForget((()=>Lv(l,v)));const R=T.docs.has(d);!R&&T.fromCache?p.reject(new ve(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&m&&m.source==="server"?p.reject(new ve(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new Uv(Gd(d.path),y,{includeMetadataChanges:!0,Ka:!0});return Ov(l,v)})(await pd(t),t.asyncQueue,e,n,s))),s.promise}function xL(t,e,n={}){const s=new cr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,p){const y=new Fv({next:T=>{y.Nu(),u.enqueueAndForget((()=>Lv(l,v))),T.fromCache&&m.source==="server"?p.reject(new ve(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new Uv(d,y,{includeMetadataChanges:!0,Ka:!0});return Ov(l,v)})(await pd(t),t.asyncQueue,e,n,s))),s.promise}function SL(t,e){const n=new cr;return t.asyncQueue.enqueueAndForget((async()=>uL(await TL(t),e,n))),n.promise}function KA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const AL="ComponentProvider",RE=new Map;function CL(t,e,n,s,a){return new $P(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,KA(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const $A="firestore.googleapis.com",IE=!0;class DE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$A,this.ssl=IE}else this.host=e.host,this.ssl=e.ssl??IE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<e4)throw new ve(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class em{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new PS;switch(s.type){case"firstParty":return new NP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ve(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=RE.get(n);s&&(be(AL,"Removing Datastore"),RE.delete(n),s.terminate())})(this),Promise.resolve()}}function YA(t,e,n,s={}){t=Un(t,em);const a=mo(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(ev(`https://${d}`),tv("Firestore",!0)),l.host!==$A&&l.host!==d&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!oo(m,u)&&(t._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=Nn.MOCK_USER;else{p=Gx(s.mockUserToken,t._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ve(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Nn(v)}t._authCredentials=new RP(new VS(p,y))}}class Ea{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ea(this.firestore,e,this._query)}}class Mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Mu(n,Mt._jsonSchema))return new Mt(e,s||null,new Re(Tt.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:rn("string",Mt._jsonSchemaVersion),referencePath:rn("string")};class ur extends Ea{constructor(e,n,s){super(e,n,Gd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new Re(e))}withConverter(e){return new ur(this.firestore,e,this._path)}}function hl(t,e,...n){if(t=hn(t),OS("collection","path",e),t instanceof em){const s=Tt.fromString(e,...n);return Hw(s),new ur(t,null,s)}{if(!(t instanceof Mt||t instanceof ur))throw new ve(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Tt.fromString(e,...n));return Hw(s),new ur(t.firestore,null,s)}}function la(t,e,...n){if(t=hn(t),arguments.length===1&&(e=zd.newId()),OS("doc","path",e),t instanceof em){const s=Tt.fromString(e,...n);return Fw(s),new Mt(t,null,new Re(s))}{if(!(t instanceof Mt||t instanceof ur))throw new ve(ce.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Tt.fromString(e,...n));return Fw(s),new Mt(t.firestore,t instanceof ur?t.converter:null,new Re(s))}}const NE="AsyncQueue";class kE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IA(this,"async_queue_retry"),this._c=()=>{const s=xg();s&&be(NE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=xg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new cr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ul(e))throw e;be(NE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,pr("INTERNAL UNHANDLED ERROR: ",ME(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Vv.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Me(47125,{Pc:ME(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ME(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ns extends em{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new kE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kE(e),this._firestoreClient=void 0,await e}}}function QA(t,e){const n=typeof t=="object"?t:sv(),s=typeof t=="string"?t:rd,a=Od(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=Fx("firestore");l&&YA(a,...l)}return a}function Uu(t){if(t._terminated)throw new ve(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||RL(t),t._firestoreClient}function RL(t){const e=t._freezeSettings(),n=CL(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new _L(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new di(vn.fromBase64String(e))}catch(n){throw new ve(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new di(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:di._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mu(e,di._jsonSchema))return di.fromBase64String(e.bytes)}}di._jsonSchemaVersion="firestore/bytes/1.0",di._jsonSchema={type:rn("string",di._jsonSchemaVersion),bytes:rn("string")};class tm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nm{constructor(e){this._methodName=e}}class ns{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ns._jsonSchemaVersion}}static fromJSON(e){if(Mu(e,ns._jsonSchema))return new ns(e.latitude,e.longitude)}}ns._jsonSchemaVersion="firestore/geoPoint/1.0",ns._jsonSchema={type:rn("string",ns._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};class ji{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mu(e,ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ji(e.vectorValues);throw new ve(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:rn("string",ji._jsonSchemaVersion),vectorValues:rn("object")};const IL=/^__.*__$/;class DL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}class XA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new wa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{dataSource:t})}}class Hv{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Hv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return gd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(WA(this.dataSource)&&IL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class NL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Wd(e)}createContext(e,n,s,a=!1){return new Hv({dataSource:e,methodName:n,targetDoc:s,path:yn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function im(t){const e=t._freezeSettings(),n=Wd(t._databaseId);return new NL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZA(t,e,n,s,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);qv("Data must be an object, but it was:",u,s);const d=JA(s,u);let m,p;if(l.merge)m=new mi(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const T=Nl(e,v,n);if(!u.contains(T))throw new ve(ce.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);nC(y,T)||y.push(T)}m=new mi(y),p=u.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,p=u.fieldTransforms;return new DL(new ei(d),m,p)}class zu extends nm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zu}}function kL(t,e,n,s){const a=t.createContext(1,e,n);qv("Data must be an object, but it was:",a,s);const l=[],u=ei.empty();Ta(s,((m,p)=>{const y=tC(e,m,n);p=hn(p);const v=a.childContextForFieldPath(y);if(p instanceof zu)l.push(y);else{const T=Bu(p,v);T!=null&&(l.push(y),u.set(y,T))}}));const d=new mi(l);return new XA(u,d,a.fieldTransforms)}function ML(t,e,n,s,a,l){const u=t.createContext(1,e,n),d=[Nl(e,s,n)],m=[a];if(l.length%2!=0)throw new ve(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(Nl(e,l[T])),m.push(l[T+1]);const p=[],y=ei.empty();for(let T=d.length-1;T>=0;--T)if(!nC(p,d[T])){const R=d[T];let L=m[T];L=hn(L);const j=u.childContextForFieldPath(R);if(L instanceof zu)p.push(R);else{const D=Bu(L,j);D!=null&&(p.push(R),y.set(R,D))}}const v=new mi(p);return new XA(y,v,u.fieldTransforms)}function VL(t,e,n,s=!1){return Bu(n,t.createContext(s?4:3,e))}function Bu(t,e){if(eC(t=hn(t)))return qv("Unsupported field value:",e,t),JA(t,e);if(t instanceof nm)return(function(s,a){if(!WA(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const d of s){let m=Bu(d,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=hn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return vO(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Fe.fromDate(s);return{timestampValue:hd(a.serializer,l)}}if(s instanceof Fe){const l=new Fe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hd(a.serializer,l)}}if(s instanceof ns)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof di)return{bytesValue:yA(a.serializer,s._byteString)};if(s instanceof Mt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Sv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ji)return(function(u,d){const m=u instanceof ji?u.toArray():u;return{mapValue:{fields:{[KS]:{stringValue:$S},[ad]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return Tv(d.serializer,y)}))}}}}}})(s,a);if(xA(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Bd(s)}`)})(t,e)}function JA(t,e){const n={};return zS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(t,((s,a)=>{const l=Bu(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function eC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof ns||t instanceof di||t instanceof Mt||t instanceof nm||t instanceof ji||xA(t))}function qv(t,e,n){if(!eC(n)||!jS(n)){const s=Bd(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function Nl(t,e,n){if((e=hn(e))instanceof tm)return e._internalPath;if(typeof e=="string")return tC(t,e);throw gd("Field path arguments must be of type string or ",t,!1,void 0,n)}const PL=new RegExp("[~\\*/\\[\\]]");function tC(t,e,n){if(e.search(PL)>=0)throw gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tm(...e.split("."))._internalPath}catch{throw gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gd(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new ve(ce.INVALID_ARGUMENT,d+t+m)}function nC(t,e){return t.some((n=>n.isEqual(e)))}class iC{convertValue(e,n="none"){switch(pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ta(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[ad].arrayValue?.values?.map((s=>Kt(s.doubleValue)));return new ji(n)}convertGeoPoint(e){return new ns(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=qd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const n=da(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Tt.fromString(e);lt(EA(s),9688,{name:e});const a=new Al(s.get(1),s.get(3)),l=new Re(s.popFirst(5));return a.isEqual(n)||pr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Gv extends iC{constructor(e){super(),this.firestore=e}convertBytes(e){return new di(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function yd(){return new zu("deleteField")}const VE="@firebase/firestore",PE="4.10.0";function OE(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class sC{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Nl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OL extends sC{data(){return super.data()}}function rC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kv{}class aC extends Kv{}function vd(t,e,...n){let s=[];e instanceof Kv&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((m=>m instanceof sm)).length,d=l.filter((m=>m instanceof Fu)).length;if(u>1||u>0&&d>0)throw new ve(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Fu extends aC{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Fu(e,n,s)}_apply(e){const n=this._parse(e);return oC(e._query,n),new Ea(e.firestore,e.converter,cy(e._query,n))}_parse(e){const n=im(e.firestore);return(function(l,u,d,m,p,y,v){let T;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ve(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){jE(v,y);const L=[];for(const j of v)L.push(LE(m,l,j));T={arrayValue:{values:L}}}else T=LE(m,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||jE(v,y),T=VL(d,u,v,y==="in"||y==="not-in");return sn.create(p,y,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _d(t,e,n){const s=e,a=Nl("where",t);return Fu._create(a,s,n)}class sm extends Kv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sm(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:is.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const d=l.getFlattenedFilters();for(const m of d)oC(u,m),u=cy(u,m)})(e._query,n),new Ea(e.firestore,e.converter,cy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function LE(t,e,n){if(typeof(n=hn(n))=="string"){if(n==="")throw new ve(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tA(e)&&n.indexOf("/")!==-1)throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Tt.fromString(n));if(!Re.isDocumentKey(s))throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ww(t,new Re(s))}if(n instanceof Mt)return Ww(t,n._key);throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bd(n)}.`)}function jE(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oC(t,e){const n=(function(a,l){for(const u of a)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function lC(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class fl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends sC{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Nl("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:rn("string",ca._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class ou extends ca{data(e={}){return super.data(e)}}class ua{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new fl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ou(this._firestore,this._userDataWriter,s.key,s,new fl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const m=new ou(a._firestore,a._userDataWriter,d.doc.key,d.doc,new fl(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new ou(a._firestore,a._userDataWriter,d.doc.key,d.doc,new fl(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:LL(d.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ua._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}ua._jsonSchemaVersion="firestore/querySnapshot/1.0",ua._jsonSchema={type:rn("string",ua._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};function rm(t){t=Un(t,Mt);const e=Un(t.firestore,Ns),n=Uu(e);return EL(n,t._key).then((s=>fC(e,t,s)))}function lu(t){t=Un(t,Ea);const e=Un(t.firestore,Ns),n=Uu(e),s=new Gv(e);return rC(t._query),xL(n,t._query).then((a=>new ua(e,s,t,a)))}function by(t,e,n){t=Un(t,Mt);const s=Un(t.firestore,Ns),a=lC(t.converter,e,n),l=im(s);return Hu(s,[ZA(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Li.none())])}function ki(t,e,n,...s){t=Un(t,Mt);const a=Un(t.firestore,Ns),l=im(a);let u;return u=typeof(e=hn(e))=="string"||e instanceof tm?ML(l,"updateDoc",t._key,e,n,s):kL(l,"updateDoc",t._key,e),Hu(a,[u.toMutation(t._key,Li.exists(!0))])}function cC(t){return Hu(Un(t.firestore,Ns),[new wv(t._key,Li.none())])}function uC(t,e){const n=Un(t.firestore,Ns),s=la(t),a=lC(t.converter,e),l=im(t.firestore);return Hu(n,[ZA(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Li.exists(!1))]).then((()=>s))}function hC(t,...e){t=hn(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||OE(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(OE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let l,u,d;if(t instanceof Mt)u=Un(t.firestore,Ns),d=Gd(t._key.path),l={next:p=>{e[s]&&e[s](fC(u,t,p))},error:e[s+1],complete:e[s+2]};else{const p=Un(t,Ea);u=Un(p.firestore,Ns),d=p._query;const y=new Gv(u);l={next:v=>{e[s]&&e[s](new ua(u,y,p,v))},error:e[s+1],complete:e[s+2]},rC(t._query)}const m=Uu(u);return wL(m,d,a,l)}function Hu(t,e){const n=Uu(t);return SL(n,e)}function fC(t,e,n){const s=n.docs.get(e._key),a=new Gv(t);return new ca(t,a,e._key,s,new fl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){CP(po),lo(new ha("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),d=new Ns(new IP(s.getProvider("auth-internal")),new kP(u,s.getProvider("app-check-internal")),YP(u,a),u);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),xs(VE,PE,e),xs(VE,PE,"esm2020")})();const jL=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:iC,Bytes:di,CollectionReference:ur,DocumentReference:Mt,DocumentSnapshot:ca,FieldPath:tm,FieldValue:nm,Firestore:Ns,FirestoreError:ve,GeoPoint:ns,Query:Ea,QueryCompositeFilterConstraint:sm,QueryConstraint:aC,QueryDocumentSnapshot:ou,QueryFieldFilterConstraint:Fu,QuerySnapshot:ua,SnapshotMetadata:fl,Timestamp:Fe,VectorValue:ji,_AutoId:zd,_ByteString:vn,_DatabaseId:Al,_DocumentKey:Re,_EmptyAuthCredentialsProvider:PS,_FieldPath:yn,_cast:Un,_logWarn:ho,_validateIsNotUsedTogether:LS,addDoc:uC,collection:hl,connectFirestoreEmulator:YA,deleteDoc:cC,deleteField:yd,doc:la,ensureFirestoreConfigured:Uu,executeWrite:Hu,getDoc:rm,getDocs:lu,getFirestore:QA,onSnapshot:hC,query:vd,setDoc:by,updateDoc:ki,where:_d},Symbol.toStringTag,{value:"Module"}));const dC="firebasestorage.googleapis.com",UL="storageBucket",zL=120*1e3,BL=600*1e3;class Ps extends Vs{constructor(e,n,s=0){super(Ag(e),`Firebase Storage: ${n} (${Ag(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ps.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ag(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ks;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ks||(ks={}));function Ag(t){return"storage/"+t}function FL(){const t="An unknown error occurred, please check the error payload for server response.";return new Ps(ks.UNKNOWN,t)}function HL(){return new Ps(ks.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qL(){return new Ps(ks.CANCELED,"User canceled the upload/download.")}function GL(t){return new Ps(ks.INVALID_URL,"Invalid URL '"+t+"'.")}function KL(t){return new Ps(ks.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function UE(t){return new Ps(ks.INVALID_ARGUMENT,t)}function mC(){return new Ps(ks.APP_DELETED,"The Firebase app was deleted.")}function $L(t){return new Ps(ks.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class es{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=es.makeFromUrl(e,n)}catch{return new es(e,"")}if(s.path==="")return s;throw KL(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function p(oe){oe.path_=decodeURIComponent(oe.path)}const y="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",R=new RegExp(`^https?://${v}/${y}/b/${a}/o${T}`,"i"),L={bucket:1,path:3},j=n===dC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",z=new RegExp(`^https?://${j}/${a}/${D}`,"i"),H=[{regex:d,indices:m,postModify:l},{regex:R,indices:L,postModify:p},{regex:z,indices:{bucket:1,path:2},postModify:p}];for(let oe=0;oe<H.length;oe++){const ne=H[oe],de=ne.regex.exec(e);if(de){const I=de[ne.indices.bucket];let S=de[ne.indices.path];S||(S=""),s=new es(I,S),ne.postModify(s);break}}if(s==null)throw GL(e);return s}}class YL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function QL(t,e,n){let s=1,a=null,l=null,u=!1,d=0;function m(){return d===2}let p=!1;function y(...D){p||(p=!0,e.apply(null,D))}function v(D){a=setTimeout(()=>{a=null,t(R,m())},D)}function T(){l&&clearTimeout(l)}function R(D,...z){if(p){T();return}if(D){T(),y.call(null,D,...z);return}if(m()||u){T(),y.call(null,D,...z);return}s<64&&(s*=2);let H;d===1?(d=2,H=0):H=(s+Math.random())*1e3,v(H)}let L=!1;function j(D){L||(L=!0,T(),!p&&(a!==null?(D||(d=2),clearTimeout(a),v(0)):D||(d=1)))}return v(0),l=setTimeout(()=>{u=!0,j(!0)},n),j}function XL(t){t(!1)}function WL(t){return t!==void 0}function zE(t,e,n,s){if(s<e)throw UE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw UE(`Invalid value for '${t}'. Expected ${n} or less.`)}function ZL(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var bd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(bd||(bd={}));function JL(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class e3{constructor(e,n,s,a,l,u,d,m,p,y,v,T=!0,R=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=v,this.retry=T,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,j)=>{this.resolve_=L,this.reject_=j,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Sf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=d=>{const m=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const d=l.getErrorCode()===bd.NO_ERROR,m=l.getStatus();if(!d||JL(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===bd.ABORT;s(!1,new Sf(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new Sf(p,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());WL(m)?l(m):l()}catch(m){u(m)}else if(d!==null){const m=FL();m.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,m)):u(m)}else if(a.canceled){const m=this.appDelete_?mC():qL();u(m)}else{const m=HL();u(m)}};this.canceled_?n(!1,new Sf(!1,null,!0)):this.backoffId_=QL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&XL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function t3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function n3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function i3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function s3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function r3(t,e,n,s,a,l,u=!0,d=!1){const m=ZL(t.urlParams),p=t.url+m,y=Object.assign({},t.headers);return i3(y,e),t3(y,n),n3(y,l),s3(y,s),new e3(p,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,d)}function a3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function o3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Td{constructor(e,n){this._service=e,n instanceof es?this._location=n:this._location=es.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Td(e,n)}get root(){const e=new es(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return o3(this._location.path)}get storage(){return this._service}get parent(){const e=a3(this._location.path);if(e===null)return null;const n=new es(this._location.bucket,e);return new Td(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $L(e)}}function BE(t,e){const n=e?.[UL];return n==null?null:es.makeFromBucketSpec(n,t)}function l3(t,e,n,s={}){t.host=`${e}:${n}`;const a=mo(e);a&&(ev(`https://${t.host}/b`),tv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:Gx(l,t.app.options.projectId))}class c3{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=dC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zL,this._maxUploadRetryTime=BL,this._requests=new Set,a!=null?this._bucket=es.makeFromBucketSpec(a,this._host):this._bucket=BE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=es.makeFromBucketSpec(this._url,e):this._bucket=BE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Td(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new YL(mC());{const u=r3(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const FE="@firebase/storage",HE="0.14.0";const pC="storage";function u3(t=sv(),e){t=hn(t);const s=Od(t,pC).getImmediate({identifier:e}),a=Fx("storage");return a&&h3(s,...a),s}function h3(t,e,n,s={}){l3(t,e,n,s)}function f3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new c3(n,s,a,e,po)}function d3(){lo(new ha(pC,f3,"PUBLIC").setMultipleInstances(!0)),xs(FE,HE,""),xs(FE,HE,"esm2020")}d3();const m3={apiKey:"AIzaSyC7IaK8e0JimVT2DeKQovTDLPyufibEu_4",authDomain:"sunsar-bingo.firebaseapp.com",projectId:"sunsar-bingo",storageBucket:"sunsar-bingo.firebasestorage.app",messagingSenderId:"256131852935",appId:"1:256131852935:web:fe514c1e6758e5af252622"},am=Yx(m3),qf=SP(am),gC=new rr,Vi=QA(am);u3(am);const p3=Object.freeze(Object.defineProperty({__proto__:null,app:am,auth:qf,db:Vi,googleProvider:gC},Symbol.toStringTag,{value:"Module"})),yC=O.createContext(void 0),g3=({children:t})=>{const[e,n]=O.useState(null),[s,a]=O.useState(!0),[l,u]=O.useState(null);O.useEffect(()=>{const p=dV(qf,async y=>{if(y){const v={uid:y.uid,email:y.email,displayName:y.displayName,photoURL:y.photoURL};n(v),u(null);try{const{doc:T,setDoc:R,Timestamp:L}=await Yg(async()=>{const{doc:D,setDoc:z,Timestamp:q}=await Promise.resolve().then(()=>jL);return{doc:D,setDoc:z,Timestamp:q}},[]),{db:j}=await Yg(async()=>{const{db:D}=await Promise.resolve().then(()=>p3);return{db:D}},void 0);await R(T(j,"users",y.uid),{...v,lastSeen:L.now()},{merge:!0})}catch(T){console.error("Error syncing user profile:",T)}}else n(null);a(!1)});return()=>p()},[]);const d=async()=>{u(null);try{await VV(qf,gC)}catch(p){u(p.message||"Failed to sign in")}},m=async()=>{await mV(qf)};return E.jsx(yC.Provider,{value:{user:e,loading:s,signIn:d,logout:m,error:l},children:t})},qu=()=>{const t=O.useContext(yC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},$v=O.createContext({});function Yv(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const vC=typeof window<"u",_C=vC?O.useLayoutEffect:O.useEffect,om=O.createContext(null);function Qv(t,e){t.indexOf(e)===-1&&t.push(e)}function Xv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ms=(t,e,n)=>n>e?e:n<t?t:n;let Wv=()=>{};const yr={},bC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function TC(t){return typeof t=="object"&&t!==null}const wC=t=>/^0[^.\s]+$/u.test(t);function Zv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ui=t=>t,y3=(t,e)=>n=>e(t(n)),Gu=(...t)=>t.reduce(y3),Tu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Jv{constructor(){this.subscriptions=[]}add(e){return Qv(this.subscriptions,e),()=>Xv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hr=t=>t*1e3,Oi=t=>t/1e3;function EC(t,e){return e?t*(1e3/e):0}const xC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,v3=1e-7,_3=12;function b3(t,e,n,s,a){let l,u,d=0;do u=e+(n-e)/2,l=xC(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>v3&&++d<_3);return u}function Ku(t,e,n,s){if(t===e&&n===s)return Ui;const a=l=>b3(l,0,1,t,n);return l=>l===0||l===1?l:xC(a(l),e,s)}const SC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,AC=t=>e=>1-t(1-e),CC=Ku(.33,1.53,.69,.99),e0=AC(CC),RC=SC(e0),IC=t=>(t*=2)<1?.5*e0(t):.5*(2-Math.pow(2,-10*(t-1))),t0=t=>1-Math.sin(Math.acos(t)),DC=AC(t0),NC=SC(t0),T3=Ku(.42,0,1,1),w3=Ku(0,0,.58,1),kC=Ku(.42,0,.58,1),E3=t=>Array.isArray(t)&&typeof t[0]!="number",MC=t=>Array.isArray(t)&&typeof t[0]=="number",x3={linear:Ui,easeIn:T3,easeInOut:kC,easeOut:w3,circIn:t0,circInOut:NC,circOut:DC,backIn:e0,backInOut:RC,backOut:CC,anticipate:IC},S3=t=>typeof t=="string",qE=t=>{if(MC(t)){Wv(t.length===4);const[e,n,s,a]=t;return Ku(e,n,s,a)}else if(S3(t))return x3[t];return t},Af=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function A3(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(p.schedule(y),t()),y(d)}const p={schedule:(y,v=!1,T=!1)=>{const L=T&&a?n:s;return v&&u.add(y),L.has(y)||L.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const C3=40;function VC(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Af.reduce((H,oe)=>(H[oe]=A3(l),H),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:y,update:v,preRender:T,render:R,postRender:L}=u,j=()=>{const H=yr.useManualTiming?a.timestamp:performance.now();n=!1,yr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(H-a.timestamp,C3),1)),a.timestamp=H,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),y.process(a),v.process(a),T.process(a),R.process(a),L.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(j))},D=()=>{n=!0,s=!0,a.isProcessing||t(j)};return{schedule:Af.reduce((H,oe)=>{const ne=u[oe];return H[oe]=(de,I=!1,S=!1)=>(n||D(),ne.schedule(de,I,S)),H},{}),cancel:H=>{for(let oe=0;oe<Af.length;oe++)u[Af[oe]].cancel(H)},state:a,steps:u}}const{schedule:At,cancel:va,state:xn,steps:Cg}=VC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ui,!0);let Gf;function R3(){Gf=void 0}const Ln={now:()=>(Gf===void 0&&Ln.set(xn.isProcessing||yr.useManualTiming?xn.timestamp:performance.now()),Gf),set:t=>{Gf=t,queueMicrotask(R3)}},PC=t=>e=>typeof e=="string"&&e.startsWith(t),OC=PC("--"),I3=PC("var(--"),n0=t=>I3(t)?D3.test(t.split("/*")[0].trim()):!1,D3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function GE(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Bl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wu={...Bl,transform:t=>Ms(0,1,t)},Cf={...Bl,default:1},cu=t=>Math.round(t*1e5)/1e5,i0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function N3(t){return t==null}const k3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,s0=(t,e)=>n=>!!(typeof n=="string"&&k3.test(n)&&n.startsWith(t)||e&&!N3(n)&&Object.prototype.hasOwnProperty.call(n,e)),LC=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,d]=s.match(i0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},M3=t=>Ms(0,255,t),Rg={...Bl,transform:t=>Math.round(M3(t))},io={test:s0("rgb","red"),parse:LC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Rg.transform(t)+", "+Rg.transform(e)+", "+Rg.transform(n)+", "+cu(wu.transform(s))+")"};function V3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Ty={test:s0("#"),parse:V3,transform:io.transform},$u=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Jr=$u("deg"),Rs=$u("%"),Te=$u("px"),P3=$u("vh"),O3=$u("vw"),KE={...Rs,parse:t=>Rs.parse(t)/100,transform:t=>Rs.transform(t*100)},dl={test:s0("hsl","hue"),parse:LC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Rs.transform(cu(e))+", "+Rs.transform(cu(n))+", "+cu(wu.transform(s))+")"},nn={test:t=>io.test(t)||Ty.test(t)||dl.test(t),parse:t=>io.test(t)?io.parse(t):dl.test(t)?dl.parse(t):Ty.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?io.transform(t):dl.transform(t),getAnimatableNone:t=>{const e=nn.parse(t);return e.alpha=0,nn.transform(e)}},L3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function j3(t){return isNaN(t)&&typeof t=="string"&&(t.match(i0)?.length||0)+(t.match(L3)?.length||0)>0}const jC="number",UC="color",U3="var",z3="var(",$E="${}",B3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Eu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(B3,m=>(nn.test(m)?(s.color.push(l),a.push(UC),n.push(nn.parse(m))):m.startsWith(z3)?(s.var.push(l),a.push(U3),n.push(m)):(s.number.push(l),a.push(jC),n.push(parseFloat(m))),++l,$E)).split($E);return{values:n,split:d,indexes:s,types:a}}function zC(t){return Eu(t).values}function BC(t){const{split:e,types:n}=Eu(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const d=n[u];d===jC?l+=cu(a[u]):d===UC?l+=nn.transform(a[u]):l+=a[u]}return l}}const F3=t=>typeof t=="number"?0:nn.test(t)?nn.getAnimatableNone(t):t;function H3(t){const e=zC(t);return BC(t)(e.map(F3))}const _a={test:j3,parse:zC,createTransformer:BC,getAnimatableNone:H3};function Ig(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function q3({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=Ig(m,d,t+1/3),l=Ig(m,d,t),u=Ig(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function wd(t,e){return n=>n>0?e:t}const kt=(t,e,n)=>t+(e-t)*n,Dg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},G3=[Ty,io,dl],K3=t=>G3.find(e=>e.test(t));function YE(t){const e=K3(t);if(!e)return!1;let n=e.parse(t);return e===dl&&(n=q3(n)),n}const QE=(t,e)=>{const n=YE(t),s=YE(e);if(!n||!s)return wd(t,e);const a={...n};return l=>(a.red=Dg(n.red,s.red,l),a.green=Dg(n.green,s.green,l),a.blue=Dg(n.blue,s.blue,l),a.alpha=kt(n.alpha,s.alpha,l),io.transform(a))},wy=new Set(["none","hidden"]);function $3(t,e){return wy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Y3(t,e){return n=>kt(t,e,n)}function r0(t){return typeof t=="number"?Y3:typeof t=="string"?n0(t)?wd:nn.test(t)?QE:W3:Array.isArray(t)?FC:typeof t=="object"?nn.test(t)?QE:Q3:wd}function FC(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>r0(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function Q3(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=r0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function X3(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],d=t.values[u]??0;n[a]=d,s[l]++}return n}const W3=(t,e)=>{const n=_a.createTransformer(e),s=Eu(t),a=Eu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?wy.has(t)&&!a.values.length||wy.has(e)&&!s.values.length?$3(t,e):Gu(FC(X3(s,a),a.values),n):wd(t,e)};function HC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?kt(t,e,n):r0(t)(t,e)}const Z3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>At.update(e,n),stop:()=>va(e),now:()=>xn.isProcessing?xn.timestamp:Ln.now()}},qC=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Ed=2e4;function a0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Ed;)e+=n,s=t.next(e);return e>=Ed?1/0:e}function J3(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(a0(s),Ed);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Oi(a)}}const e5=5;function GC(t,e,n){const s=Math.max(e-e5,0);return EC(n-t(s),e-s)}const Bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ng=.001;function t5({duration:t=Bt.duration,bounce:e=Bt.bounce,velocity:n=Bt.velocity,mass:s=Bt.mass}){let a,l,u=1-e;u=Ms(Bt.minDamping,Bt.maxDamping,u),t=Ms(Bt.minDuration,Bt.maxDuration,Oi(t)),u<1?(a=p=>{const y=p*u,v=y*t,T=y-n,R=Ey(p,u),L=Math.exp(-v);return Ng-T/R*L},l=p=>{const v=p*u*t,T=v*n+n,R=Math.pow(u,2)*Math.pow(p,2)*t,L=Math.exp(-v),j=Ey(Math.pow(p,2),u);return(-a(p)+Ng>0?-1:1)*((T-R)*L)/j}):(a=p=>{const y=Math.exp(-p*t),v=(p-n)*t+1;return-Ng+y*v},l=p=>{const y=Math.exp(-p*t),v=(n-p)*(t*t);return y*v});const d=5/t,m=i5(a,l,d);if(t=hr(t),isNaN(m))return{stiffness:Bt.stiffness,damping:Bt.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const n5=12;function i5(t,e,n){let s=n;for(let a=1;a<n5;a++)s=s-t(s)/e(s);return s}function Ey(t,e){return t*Math.sqrt(1-e*e)}const s5=["duration","bounce"],r5=["stiffness","damping","mass"];function XE(t,e){return e.some(n=>t[n]!==void 0)}function a5(t){let e={velocity:Bt.velocity,stiffness:Bt.stiffness,damping:Bt.damping,mass:Bt.mass,isResolvedFromDuration:!1,...t};if(!XE(t,r5)&&XE(t,s5))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ms(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Bt.mass,stiffness:a,damping:l}}else{const n=t5(t);e={...e,...n,mass:Bt.mass},e.isResolvedFromDuration=!0}return e}function xd(t=Bt.visualDuration,e=Bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:v,velocity:T,isResolvedFromDuration:R}=a5({...n,velocity:-Oi(n.velocity||0)}),L=T||0,j=p/(2*Math.sqrt(m*y)),D=u-l,z=Oi(Math.sqrt(m/y)),q=Math.abs(D)<5;s||(s=q?Bt.restSpeed.granular:Bt.restSpeed.default),a||(a=q?Bt.restDelta.granular:Bt.restDelta.default);let H;if(j<1){const ne=Ey(z,j);H=de=>{const I=Math.exp(-j*z*de);return u-I*((L+j*z*D)/ne*Math.sin(ne*de)+D*Math.cos(ne*de))}}else if(j===1)H=ne=>u-Math.exp(-z*ne)*(D+(L+z*D)*ne);else{const ne=z*Math.sqrt(j*j-1);H=de=>{const I=Math.exp(-j*z*de),S=Math.min(ne*de,300);return u-I*((L+j*z*D)*Math.sinh(S)+ne*D*Math.cosh(S))/ne}}const oe={calculatedDuration:R&&v||null,next:ne=>{const de=H(ne);if(R)d.done=ne>=v;else{let I=ne===0?L:0;j<1&&(I=ne===0?hr(L):GC(H,ne,de));const S=Math.abs(I)<=s,k=Math.abs(u-de)<=a;d.done=S&&k}return d.value=d.done?u:de,d},toString:()=>{const ne=Math.min(a0(oe),Ed),de=qC(I=>oe.next(ne*I).value,ne,30);return ne+"ms "+de},toTransition:()=>{}};return oe}xd.applyToOptions=t=>{const e=J3(t,100,xd);return t.ease=e.ease,t.duration=hr(e.duration),t.type="keyframes",t};function xy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:m,restDelta:p=.5,restSpeed:y}){const v=t[0],T={done:!1,value:v},R=S=>d!==void 0&&S<d||m!==void 0&&S>m,L=S=>d===void 0?m:m===void 0||Math.abs(d-S)<Math.abs(m-S)?d:m;let j=n*e;const D=v+j,z=u===void 0?D:u(D);z!==D&&(j=z-v);const q=S=>-j*Math.exp(-S/s),H=S=>z+q(S),oe=S=>{const k=q(S),V=H(S);T.done=Math.abs(k)<=p,T.value=T.done?z:V};let ne,de;const I=S=>{R(T.value)&&(ne=S,de=xd({keyframes:[T.value,L(T.value)],velocity:GC(H,S,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return I(0),{calculatedDuration:null,next:S=>{let k=!1;return!de&&ne===void 0&&(k=!0,oe(S),I(S)),ne!==void 0&&S>=ne?de.next(S-ne):(!k&&oe(S),T)}}}function o5(t,e,n){const s=[],a=n||yr.mix||HC,l=t.length-1;for(let u=0;u<l;u++){let d=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||Ui:e;d=Gu(m,d)}s.push(d)}return s}function l5(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Wv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=o5(e,s,a),m=d.length,p=y=>{if(u&&y<t[0])return e[0];let v=0;if(m>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const T=Tu(t[v],t[v+1],y);return d[v](T)};return n?y=>p(Ms(t[0],t[l-1],y)):p}function c5(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Tu(0,e,s);t.push(kt(n,1,a))}}function u5(t){const e=[0];return c5(e,t.length-1),e}function h5(t,e){return t.map(n=>n*e)}function f5(t,e){return t.map(()=>e||kC).splice(0,t.length-1)}function uu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=E3(s)?s.map(qE):qE(s),l={done:!1,value:e[0]},u=h5(n&&n.length===e.length?n:u5(e),t),d=l5(u,e,{ease:Array.isArray(a)?a:f5(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const d5=t=>t!==null;function o0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(d5),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const m5={decay:xy,inertia:xy,tween:uu,keyframes:uu,spring:xd};function KC(t){typeof t.type=="string"&&(t.type=m5[t.type])}class l0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const p5=t=>t/100;class c0 extends l0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ln.now()&&this.tick(Ln.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;KC(e);const{type:n=uu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const m=n||uu;m!==uu&&typeof d[0]!="number"&&(this.mixKeyframes=Gu(p5,HC(d[0],d[1])),d=[0,100]);const p=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=a0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:T,repeatDelay:R,type:L,onUpdate:j,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-p*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?z<0:z>a;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,oe=s;if(v){const S=Math.min(this.currentTime,a)/d;let k=Math.floor(S),V=S%1;!V&&S>=1&&(V=1),V===1&&k--,k=Math.min(k,v+1),k%2&&(T==="reverse"?(V=1-V,R&&(V-=R/d)):T==="mirror"&&(oe=u)),H=Ms(0,1,V)*d}const ne=q?{done:!1,value:y[0]}:oe.next(H);l&&(ne.value=l(ne.value));let{done:de}=ne;!q&&m!==null&&(de=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&de);return I&&L!==xy&&(ne.value=o0(y,this.options,D,this.speed)),j&&j(ne.value),I&&this.finish(),ne}then(e,n){return this.finished.then(e,n)}get duration(){return Oi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Oi(e)}get time(){return Oi(this.currentTime)}set time(e){e=hr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ln.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Oi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Z3,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ln.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function g5(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const so=t=>t*180/Math.PI,Sy=t=>{const e=so(Math.atan2(t[1],t[0]));return Ay(e)},y5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Sy,rotateZ:Sy,skewX:t=>so(Math.atan(t[1])),skewY:t=>so(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ay=t=>(t=t%360,t<0&&(t+=360),t),WE=Sy,ZE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),JE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),v5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ZE,scaleY:JE,scale:t=>(ZE(t)+JE(t))/2,rotateX:t=>Ay(so(Math.atan2(t[6],t[5]))),rotateY:t=>Ay(so(Math.atan2(-t[2],t[0]))),rotateZ:WE,rotate:WE,skewX:t=>so(Math.atan(t[4])),skewY:t=>so(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Cy(t){return t.includes("scale")?1:0}function Ry(t,e){if(!t||t==="none")return Cy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=v5,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=y5,a=d}if(!a)return Cy(e);const l=s[e],u=a[1].split(",").map(b5);return typeof l=="function"?l(u):u[l]}const _5=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ry(n,e)};function b5(t){return parseFloat(t.trim())}const Fl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hl=new Set(Fl),e1=t=>t===Bl||t===Te,T5=new Set(["x","y","z"]),w5=Fl.filter(t=>!T5.has(t));function E5(t){const e=[];return w5.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const sa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ry(e,"x"),y:(t,{transform:e})=>Ry(e,"y")};sa.translateX=sa.x;sa.translateY=sa.y;const ao=new Set;let Iy=!1,Dy=!1,Ny=!1;function $C(){if(Dy){const t=Array.from(ao).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=E5(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Dy=!1,Iy=!1,ao.forEach(t=>t.complete(Ny)),ao.clear()}function YC(){ao.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Dy=!0)})}function x5(){Ny=!0,YC(),$C(),Ny=!1}class u0{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(ao.add(this),Iy||(Iy=!0,At.read(YC),At.resolveKeyframes($C))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}g5(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ao.delete(this)}cancel(){this.state==="scheduled"&&(ao.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const S5=t=>t.startsWith("--");function A5(t,e,n){S5(e)?t.style.setProperty(e,n):t.style[e]=n}const C5=Zv(()=>window.ScrollTimeline!==void 0),R5={};function I5(t,e){const n=Zv(t);return()=>R5[e]??n()}const QC=I5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,t1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jc([0,.65,.55,1]),circOut:Jc([.55,0,1,.45]),backIn:Jc([.31,.01,.66,-.59]),backOut:Jc([.33,1.53,.69,.99])};function XC(t,e){if(t)return typeof t=="function"?QC()?qC(t,e):"ease-out":MC(t)?Jc(t):Array.isArray(t)?t.map(n=>XC(n,e)||t1.easeOut):t1[t]}function D5(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const v=XC(d,a);Array.isArray(v)&&(y.easing=v);const T={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),t.animate(y,T)}function WC(t){return typeof t=="function"&&"applyToOptions"in t}function N5({type:t,...e}){return WC(t)&&QC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class k5 extends l0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Wv(typeof e.type!="string");const p=N5(e);this.animation=D5(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=o0(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):A5(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Oi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Oi(e)}get time(){return Oi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=hr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&C5()?(this.animation.timeline=e,Ui):n(this)}}const ZC={anticipate:IC,backInOut:RC,circInOut:NC};function M5(t){return t in ZC}function V5(t){typeof t.ease=="string"&&M5(t.ease)&&(t.ease=ZC[t.ease])}const kg=10;class P5 extends k5{constructor(e){V5(e),KC(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new c0({...u,autoplay:!1}),m=Math.max(kg,Ln.now()-this.startTime),p=Ms(0,kg,m-kg);n.setWithVelocity(d.sample(Math.max(0,m-p)).value,d.sample(m).value,p),d.stop()}}const n1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_a.test(t)||t==="0")&&!t.startsWith("url("));function O5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function L5(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=n1(a,e),d=n1(l,e);return!u||!d?!1:O5(t)||(n==="spring"||WC(n))&&s}function ky(t){t.duration=0,t.type="keyframes"}const j5=new Set(["opacity","clipPath","filter","transform"]),U5=Zv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function z5(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return U5()&&n&&j5.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const B5=40;class F5 extends l0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:m,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ln.now();const T={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:y,...v},R=y?.KeyframeResolver||u0;this.keyframeResolver=new R(d,(L,j,D)=>this.onKeyframesResolved(L,j,T,!D),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=Ln.now(),L5(e,l,u,d)||((yr.instantAnimations||!m)&&y?.(o0(e,s,n)),e[0]=e[e.length-1],ky(s),s.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>B5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},R=!p&&z5(T)?new P5({...T,element:T.motionValue.owner.current}):new c0(T);R.finished.then(()=>this.notifyFinished()).catch(Ui),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),x5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const H5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function q5(t){const e=H5.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function JC(t,e,n=1){const[s,a]=q5(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return bC(u)?parseFloat(u):u}return n0(a)?JC(a,e,n+1):a}function h0(t,e){return t?.[e]??t?.default??t}const G5={type:"spring",stiffness:500,damping:25,restSpeed:10},K5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),$5={type:"keyframes",duration:.8},Y5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Q5=(t,{keyframes:e})=>e.length>2?$5:Hl.has(t)?t.startsWith("scale")?K5(e[1]):G5:Y5;function X5({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const W5=t=>t!==null;function Z5(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(W5),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function eR(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,d=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:d-l*s}const f0=(t,e,n,s={},a,l)=>u=>{const d=h0(s,t)||{},m=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-hr(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};X5(d)||Object.assign(y,Q5(t,y)),y.duration&&(y.duration=hr(y.duration)),y.repeatDelay&&(y.repeatDelay=hr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(ky(y),y.delay===0&&(v=!0)),(yr.instantAnimations||yr.skipAnimations)&&(v=!0,ky(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,v&&!l&&e.get()!==void 0){const T=Z5(y.keyframes,d);if(T!==void 0){At.update(()=>{y.onUpdate(T),y.onComplete()});return}}return d.isSync?new c0(y):new F5(y)},tR=new Set(["width","height","top","left","right","bottom",...Fl]),i1=30,J5=t=>!isNaN(parseFloat(t));class e6{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Ln.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ln.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=J5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Jv);const s=this.events[e].add(n);return e==="change"?()=>{s(),At.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ln.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>i1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,i1);return EC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function kl(t,e){return new e6(t,e)}function s1(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function d0(t,e,n,s){if(typeof e=="function"){const[a,l]=s1(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=s1(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function wl(t,e,n){const s=t.getProps();return d0(s,e,n!==void 0?n:s.custom,t)}const My=t=>Array.isArray(t);function t6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,kl(n))}function n6(t){return My(t)?t[t.length-1]||0:t}function i6(t,e){const n=wl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const d=n6(l[u]);t6(t,u,d)}}const Mn=t=>!!(t&&t.getVelocity);function s6(t){return!!(Mn(t)&&t.add)}function Vy(t,e){const n=t.getValue("willChange");if(s6(n))return n.add(e);if(!n&&yr.WillChange){const s=new yr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function m0(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const r6="framerAppearId",nR="data-"+m0(r6);function iR(t){return t.props[nR]}function a6({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function sR(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in d){const v=t.getValue(y,t.latestValues[y]??null),T=d[y];if(T===void 0||p&&a6(p,y))continue;const R={delay:n,...h0(l||{},y)},L=v.get();if(L!==void 0&&!v.isAnimating&&!Array.isArray(T)&&T===L&&!R.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const z=iR(t);if(z){const q=window.MotionHandoffAnimation(z,y,At);q!==null&&(R.startTime=q,j=!0)}}Vy(t,y),v.start(f0(y,v,T,t.shouldReduceMotion&&tR.has(y)?{type:!1}:R,t,j));const D=v.animation;D&&m.push(D)}return u&&Promise.all(m).then(()=>{At.update(()=>{u&&i6(t,u)})}),m}function Py(t,e,n={}){const s=wl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(sR(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return o6(t,e,m,p,y,v,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function o6(t,e,n=0,s=0,a=0,l=1,u){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(Py(m,e,{...u,delay:n+(typeof s=="function"?0:s)+eR(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function l6(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Py(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Py(t,e,n);else{const a=typeof e=="function"?wl(t,e,n.custom):e;s=Promise.all(sR(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const c6={test:t=>t==="auto",parse:t=>t},rR=t=>e=>e.test(t),aR=[Bl,Te,Rs,Jr,O3,P3,c6],r1=t=>aR.find(rR(t));function u6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||wC(t):!0}const h6=new Set(["brightness","contrast","saturate","opacity"]);function f6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(i0)||[];if(!s)return t;const a=n.replace(s,"");let l=h6.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const d6=/\b([a-z-]*)\(.*?\)/gu,Oy={..._a,getAnimatableNone:t=>{const e=t.match(d6);return e?e.map(f6).join(" "):t}},a1={...Bl,transform:Math.round},m6={rotate:Jr,rotateX:Jr,rotateY:Jr,rotateZ:Jr,scale:Cf,scaleX:Cf,scaleY:Cf,scaleZ:Cf,skew:Jr,skewX:Jr,skewY:Jr,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:wu,originX:KE,originY:KE,originZ:Te},p0={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,inset:Te,insetBlock:Te,insetBlockStart:Te,insetBlockEnd:Te,insetInline:Te,insetInlineStart:Te,insetInlineEnd:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,paddingBlock:Te,paddingBlockStart:Te,paddingBlockEnd:Te,paddingInline:Te,paddingInlineStart:Te,paddingInlineEnd:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,marginBlock:Te,marginBlockStart:Te,marginBlockEnd:Te,marginInline:Te,marginInlineStart:Te,marginInlineEnd:Te,backgroundPositionX:Te,backgroundPositionY:Te,...m6,zIndex:a1,fillOpacity:wu,strokeOpacity:wu,numOctaves:a1},p6={...p0,color:nn,backgroundColor:nn,outlineColor:nn,fill:nn,stroke:nn,borderColor:nn,borderTopColor:nn,borderRightColor:nn,borderBottomColor:nn,borderLeftColor:nn,filter:Oy,WebkitFilter:Oy},oR=t=>p6[t];function lR(t,e){let n=oR(t);return n!==Oy&&(n=_a),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const g6=new Set(["auto","none","0"]);function y6(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!g6.has(l)&&Eu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=lR(n,a)}class v6 extends u0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),n0(v))){const T=JC(v,n.current);T!==void 0&&(e[y]=T),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!tR.has(s)||e.length!==2)return;const[a,l]=e,u=r1(a),d=r1(l),m=GE(a),p=GE(l);if(m!==p&&sa[s]){this.needsMeasurement=!0;return}if(u!==d)if(e1(u)&&e1(d))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else sa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||u6(e[a]))&&s.push(a);s.length&&y6(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=sa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function _6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const cR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function uR(t){return TC(t)&&"offsetHeight"in t}const{schedule:g0}=VC(queueMicrotask,!1),Zi={x:!1,y:!1};function hR(){return Zi.x||Zi.y}function b6(t){return t==="x"||t==="y"?Zi[t]?null:(Zi[t]=!0,()=>{Zi[t]=!1}):Zi.x||Zi.y?null:(Zi.x=Zi.y=!0,()=>{Zi.x=Zi.y=!1})}function fR(t,e){const n=_6(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function o1(t){return!(t.pointerType==="touch"||hR())}function T6(t,e,n={}){const[s,a,l]=fR(t,n),u=d=>{if(!o1(d))return;const{target:m}=d,p=e(m,d);if(typeof p!="function"||!m)return;const y=v=>{o1(v)&&(p(v),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",u,a)}),l}const dR=(t,e)=>e?t===e?!0:dR(t,e.parentElement):!1,y0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,w6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mR(t){return w6.has(t.tagName)||t.isContentEditable===!0}const Kf=new WeakSet;function l1(t){return e=>{e.key==="Enter"&&t(e)}}function Mg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const E6=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=l1(()=>{if(Kf.has(n))return;Mg(n,"down");const a=l1(()=>{Mg(n,"up")}),l=()=>Mg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function c1(t){return y0(t)&&!hR()}function x6(t,e,n={}){const[s,a,l]=fR(t,n),u=d=>{const m=d.currentTarget;if(!c1(d))return;Kf.add(m);const p=e(m,d),y=(R,L)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",T),Kf.has(m)&&Kf.delete(m),c1(R)&&typeof p=="function"&&p(R,{success:L})},v=R=>{y(R,m===window||m===document||n.useGlobalTarget||dR(m,R.target))},T=R=>{y(R,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",T,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),uR(d)&&(d.addEventListener("focus",p=>E6(p,a)),!mR(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function pR(t){return TC(t)&&"ownerSVGElement"in t}function S6(t){return pR(t)&&t.tagName==="svg"}const A6=[...aR,nn,_a],C6=t=>A6.find(rR(t)),u1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ml=()=>({x:u1(),y:u1()}),h1=()=>({min:0,max:0}),cn=()=>({x:h1(),y:h1()}),Ly={current:null},gR={current:!1},R6=typeof window<"u";function I6(){if(gR.current=!0,!!R6)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ly.current=t.matches;t.addEventListener("change",e),e()}else Ly.current=!1}const D6=new WeakMap;function lm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function xu(t){return typeof t=="string"||Array.isArray(t)}const v0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_0=["initial",...v0];function cm(t){return lm(t.animate)||_0.some(e=>xu(t[e]))}function yR(t){return!!(cm(t)||t.variants)}function N6(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Mn(a))t.addValue(s,a);else if(Mn(l))t.addValue(s,kl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,kl(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const f1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Sd={};function vR(t){Sd=t}function k6(){return Sd}class M6{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=u0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Ln.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,At.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=cm(n),this.isVariantNode=yR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in v){const R=v[T];m[T]!==void 0&&Mn(R)&&R.set(m[T])}}mount(e){this.current=e,D6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(gR.current||I6(),this.shouldReduceMotion=Ly.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),va(this.notifyUpdate),va(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Hl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&At.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sd){const n=Sd[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):cn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<f1.length;s++){const a=f1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=N6(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=kl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(bC(s)||wC(s))?s=parseFloat(s):!C6(s)&&_a.test(n)&&(s=lR(e,n)),this.setBaseTarget(e,Mn(s)?s.get():s)),Mn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=d0(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Mn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Jv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){g0.render(this.render)}}class xa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class _R extends M6{constructor(){super(...arguments),this.KeyframeResolver=v6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function bR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function V6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function P6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Vg(t){return t===void 0||t===1}function jy({scale:t,scaleX:e,scaleY:n}){return!Vg(t)||!Vg(e)||!Vg(n)}function eo(t){return jy(t)||TR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function TR(t){return d1(t.x)||d1(t.y)}function d1(t){return t&&t!=="0%"}function Ad(t,e,n){const s=t-n,a=e*s;return n+a}function m1(t,e,n,s,a){return a!==void 0&&(t=Ad(t,a,s)),Ad(t,n,s)+e}function Uy(t,e=0,n=1,s,a){t.min=m1(t.min,e,n,s,a),t.max=m1(t.max,e,n,s,a)}function wR(t,{x:e,y:n}){Uy(t.x,e.translate,e.scale,e.originPoint),Uy(t.y,n.translate,n.scale,n.originPoint)}const p1=.999999999999,g1=1.0000000000001;function O6(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=n[d],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&gl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,wR(t,u)),s&&eo(l.latestValues)&&gl(t,l.latestValues))}e.x<g1&&e.x>p1&&(e.x=1),e.y<g1&&e.y>p1&&(e.y=1)}function pl(t,e){t.min=t.min+e,t.max=t.max+e}function y1(t,e,n,s,a=.5){const l=kt(t.min,t.max,a);Uy(t,e,n,l,s)}function gl(t,e){y1(t.x,e.x,e.scaleX,e.scale,e.originX),y1(t.y,e.y,e.scaleY,e.scale,e.originY)}function ER(t,e){return bR(P6(t.getBoundingClientRect(),e))}function L6(t,e,n){const s=ER(t,n),{scroll:a}=e;return a&&(pl(s.x,a.offset.x),pl(s.y,a.offset.y)),s}const j6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},U6=Fl.length;function z6(t,e,n){let s="",a=!0;for(let l=0;l<U6;l++){const u=Fl[l],d=t[u];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(u.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const p=cR(d,p0[u]);if(!m){a=!1;const y=j6[u]||u;s+=`${y}(${p}) `}n&&(e[u]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function b0(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,d=!1;for(const m in e){const p=e[m];if(Hl.has(m)){u=!0;continue}else if(OC(m)){a[m]=p;continue}else{const y=cR(p,p0[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(e.transform||(u||n?s.transform=z6(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}function xR(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function v1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Yc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=v1(t,e.target.x),s=v1(t,e.target.y);return`${n}% ${s}%`}},B6={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=_a.parse(t);if(a.length>5)return s;const l=_a.createTransformer(t),u=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=d,a[1+u]/=m;const p=kt(d,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},zy={borderRadius:{...Yc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yc,borderTopRightRadius:Yc,borderBottomLeftRadius:Yc,borderBottomRightRadius:Yc,boxShadow:B6};function SR(t,{layout:e,layoutId:n}){return Hl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!zy[t]||t==="opacity")}function T0(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const u in s)(Mn(s[u])||a&&Mn(a[u])||SR(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function F6(t){return window.getComputedStyle(t)}class H6 extends _R{constructor(){super(...arguments),this.type="html",this.renderInstance=xR}readValueFromInstance(e,n){if(Hl.has(n))return this.projection?.isProjecting?Cy(n):_5(e,n);{const s=F6(e),a=(OC(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ER(e,n)}build(e,n,s){b0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return T0(e,n,s)}}const q6={offset:"stroke-dashoffset",array:"stroke-dasharray"},G6={offset:"strokeDashoffset",array:"strokeDasharray"};function K6(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?q6:G6;t[l.offset]=Te.transform(-s);const u=Te.transform(e),d=Te.transform(n);t[l.array]=`${u} ${d}`}const $6=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function AR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},m,p,y){if(b0(t,d,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:T}=t;v.transform&&(T.transform=v.transform,delete v.transform),(T.transform||v.transformOrigin)&&(T.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),T.transform&&(T.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const R of $6)v[R]!==void 0&&(T[R]=v[R],delete v[R]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&K6(v,a,l,u,!1)}const CR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),RR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Y6(t,e,n,s){xR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(CR.has(a)?a:m0(a),e.attrs[a])}function IR(t,e,n){const s=T0(t,e,n);for(const a in t)if(Mn(t[a])||Mn(e[a])){const l=Fl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class Q6 extends _R{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=cn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Hl.has(n)){const s=oR(n);return s&&s.default||0}return n=CR.has(n)?n:m0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return IR(e,n,s)}build(e,n,s){AR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){Y6(e,n,s,a)}mount(e){this.isSVGTag=RR(e.tagName),super.mount(e)}}const X6=_0.length;function DR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?DR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<X6;n++){const s=_0[n],a=t.props[s];(xu(a)||a===!1)&&(e[s]=a)}return e}function NR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const W6=[...v0].reverse(),Z6=v0.length;function J6(t){return e=>Promise.all(e.map(({animation:n,options:s})=>l6(t,n,s)))}function ej(t){let e=J6(t),n=_1(),s=!0;const a=m=>(p,y)=>{const v=wl(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:T,transitionEnd:R,...L}=v;p={...p,...L,...R}}return p};function l(m){e=m(t)}function u(m){const{props:p}=t,y=DR(t.parent)||{},v=[],T=new Set;let R={},L=1/0;for(let D=0;D<Z6;D++){const z=W6[D],q=n[z],H=p[z]!==void 0?p[z]:y[z],oe=xu(H),ne=z===m?q.isActive:null;ne===!1&&(L=D);let de=H===y[z]&&H!==p[z]&&oe;if(de&&s&&t.manuallyAnimateOnMount&&(de=!1),q.protectedKeys={...R},!q.isActive&&ne===null||!H&&!q.prevProp||lm(H)||typeof H=="boolean")continue;const I=tj(q.prevProp,H);let S=I||z===m&&q.isActive&&!de&&oe||D>L&&oe,k=!1;const V=Array.isArray(H)?H:[H];let M=V.reduce(a(z),{});ne===!1&&(M={});const{prevResolvedValues:P={}}=q,N={...P,...M},ye=he=>{S=!0,T.has(he)&&(k=!0,T.delete(he)),q.needsAnimating[he]=!0;const re=t.getValue(he);re&&(re.liveStyle=!1)};for(const he in N){const re=M[he],Ne=P[he];if(R.hasOwnProperty(he))continue;let F=!1;My(re)&&My(Ne)?F=!NR(re,Ne):F=re!==Ne,F?re!=null?ye(he):T.add(he):re!==void 0&&T.has(he)?ye(he):q.protectedKeys[he]=!0}q.prevProp=H,q.prevResolvedValues=M,q.isActive&&(R={...R,...M}),s&&t.blockInitialAnimation&&(S=!1);const Se=de&&I;S&&(!Se||k)&&v.push(...V.map(he=>{const re={type:z};if(typeof he=="string"&&s&&!Se&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ne}=t,F=wl(Ne,he);if(Ne.enteringChildren&&F){const{delayChildren:x}=F.transition||{};re.delay=eR(Ne.enteringChildren,t,x)}}return{animation:he,options:re}}))}if(T.size){const D={};if(typeof p.initial!="boolean"){const z=wl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);z&&z.transition&&(D.transition=z.transition)}T.forEach(z=>{const q=t.getBaseTarget(z),H=t.getValue(z);H&&(H.liveStyle=!0),D[z]=q??null}),v.push({animation:D})}let j=!!v.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(j=!1),s=!1,j?e(v):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(m,p)),n[m].isActive=p;const y=u(m);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=_1()}}}function tj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!NR(e,t):!1}function Xa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _1(){return{animate:Xa(!0),whileInView:Xa(),whileHover:Xa(),whileTap:Xa(),whileDrag:Xa(),whileFocus:Xa(),exit:Xa()}}const kR=1e-4,nj=1-kR,ij=1+kR,MR=.01,sj=0-MR,rj=0+MR;function jn(t){return t.max-t.min}function aj(t,e,n){return Math.abs(t-e)<=n}function b1(t,e,n,s=.5){t.origin=s,t.originPoint=kt(e.min,e.max,t.origin),t.scale=jn(n)/jn(e),t.translate=kt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=nj&&t.scale<=ij||isNaN(t.scale))&&(t.scale=1),(t.translate>=sj&&t.translate<=rj||isNaN(t.translate))&&(t.translate=0)}function hu(t,e,n,s){b1(t.x,e.x,n.x,s?s.originX:void 0),b1(t.y,e.y,n.y,s?s.originY:void 0)}function T1(t,e,n){t.min=n.min+e.min,t.max=t.min+jn(e)}function oj(t,e,n){T1(t.x,e.x,n.x),T1(t.y,e.y,n.y)}function w1(t,e,n){t.min=e.min-n.min,t.max=t.min+jn(e)}function Cd(t,e,n){w1(t.x,e.x,n.x),w1(t.y,e.y,n.y)}function E1(t,e,n,s,a){return t-=e,t=Ad(t,1/n,s),a!==void 0&&(t=Ad(t,1/a,s)),t}function lj(t,e=0,n=1,s=.5,a,l=t,u=t){if(Rs.test(e)&&(e=parseFloat(e),e=kt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=kt(l.min,l.max,s);t===l&&(d-=e),t.min=E1(t.min,e,n,d,a),t.max=E1(t.max,e,n,d,a)}function x1(t,e,[n,s,a],l,u){lj(t,e[n],e[s],e[a],e.scale,l,u)}const cj=["x","scaleX","originX"],uj=["y","scaleY","originY"];function S1(t,e,n,s){x1(t.x,e,cj,n?n.x:void 0,s?s.x:void 0),x1(t.y,e,uj,n?n.y:void 0,s?s.y:void 0)}function A1(t,e){t.min=e.min,t.max=e.max}function Wi(t,e){A1(t.x,e.x),A1(t.y,e.y)}function C1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function R1(t){return t.translate===0&&t.scale===1}function VR(t){return R1(t.x)&&R1(t.y)}function I1(t,e){return t.min===e.min&&t.max===e.max}function hj(t,e){return I1(t.x,e.x)&&I1(t.y,e.y)}function D1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function PR(t,e){return D1(t.x,e.x)&&D1(t.y,e.y)}function N1(t){return jn(t.x)/jn(t.y)}function k1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Mi(t){return[t("x"),t("y")]}function fj(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:T,skewX:R,skewY:L}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),T&&(s+=`rotateY(${T}deg) `),R&&(s+=`skewX(${R}deg) `),L&&(s+=`skewY(${L}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const OR=["TopLeft","TopRight","BottomLeft","BottomRight"],dj=OR.length,M1=t=>typeof t=="string"?parseFloat(t):t,V1=t=>typeof t=="number"||Te.test(t);function mj(t,e,n,s,a,l){a?(t.opacity=kt(0,n.opacity??1,pj(s)),t.opacityExit=kt(e.opacity??1,0,gj(s))):l&&(t.opacity=kt(e.opacity??1,n.opacity??1,s));for(let u=0;u<dj;u++){const d=`border${OR[u]}Radius`;let m=P1(e,d),p=P1(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||V1(m)===V1(p)?(t[d]=Math.max(kt(M1(m),M1(p),s),0),(Rs.test(p)||Rs.test(m))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=kt(e.rotate||0,n.rotate||0,s))}function P1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pj=LR(0,.5,DC),gj=LR(.5,.95,Ui);function LR(t,e,n){return s=>s<t?0:s>e?1:n(Tu(t,e,s))}function yj(t,e){const n=Ln.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(va(s),t(l-e))};return At.setup(s,!0),()=>va(s)}function Su(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function $f(t){return Mn(t)?t.get():t}function vj(t,e,n){const s=Mn(t)?t:kl(t);return s.start(f0("",s,e,n)),s.animation}const _j=(t,e)=>t.depth-e.depth;class bj{constructor(){this.children=[],this.isDirty=!1}add(e){Qv(this.children,e),this.isDirty=!0}remove(e){Xv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_j),this.isDirty=!1,this.children.forEach(e)}}class Tj{constructor(){this.members=[]}add(e){Qv(this.members,e),e.scheduleRender()}remove(e){if(Xv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Yf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Pg=["","X","Y","Z"],wj=1e3;let Ej=0;function Og(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function jR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=iR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",At,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&jR(s)}function UR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},d=e?.()){this.id=Ej++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Aj),this.nodes.forEach(Dj),this.nodes.forEach(Nj),this.nodes.forEach(Cj)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new bj)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Jv),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const m=this.eventHandlers.get(u);m&&m.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=pR(u)&&!S6(u),this.instance=u;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let y,v=0;const T=()=>this.root.updateBlockedByResize=!1;At.read(()=>{v=window.innerWidth}),t(u,()=>{const R=window.innerWidth;R!==v&&(v=R,this.root.updateBlockedByResize=!0,y&&y(),y=yj(T,250),Yf.hasAnimatedSinceResize&&(Yf.hasAnimatedSinceResize=!1,this.nodes.forEach(j1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:T,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||p.getDefaultTransition()||Oj,{onLayoutAnimationStart:j,onLayoutAnimationComplete:D}=p.getProps(),z=!this.targetLayout||!PR(this.targetLayout,R),q=!v&&T;if(this.options.layoutRoot||this.resumeFrom||q||v&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...h0(L,"layout"),onPlay:j,onComplete:D};(p.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(y,q)}else v||j1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),va(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kj),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(O1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(L1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ij),this.nodes.forEach(xj),this.nodes.forEach(Sj)):this.nodes.forEach(L1),this.clearAllSnapshots();const d=Ln.now();xn.delta=Ms(0,1e3/60,d-xn.timestamp),xn.timestamp=d,xn.isProcessing=!0,Cg.update.process(xn),Cg.preRender.process(xn),Cg.render.process(xn),xn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,g0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Rj),this.sharedNodes.forEach(Mj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,At.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){At.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!jn(this.snapshot.measuredBox.x)&&!jn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=cn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!VR(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||eo(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return u&&(m=this.removeTransform(m)),Lj(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return cn();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(jj))){const{scroll:p}=this.root;p&&(pl(d.x,p.offset.x),pl(d.y,p.offset.y))}return d}removeElementScroll(u){const d=cn();if(Wi(d,u),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Wi(d,u),pl(d.x,y.offset.x),pl(d.y,y.offset.y))}return d}applyTransform(u,d=!1){const m=cn();Wi(m,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&gl(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),eo(y.latestValues)&&gl(m,y.latestValues)}return eo(this.latestValues)&&gl(m,this.latestValues),m}removeTransform(u){const d=cn();Wi(d,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!eo(p.latestValues))continue;jy(p.latestValues)&&p.updateSnapshot();const y=cn(),v=p.measurePageBox();Wi(y,v),S1(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return eo(this.latestValues)&&S1(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=xn.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=cn(),this.targetWithTransforms=cn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wi(this.target,this.layout.layoutBox),wR(this.target,this.targetDelta)):Wi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||jy(this.parent.latestValues)||TR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cn(),this.relativeTargetOrigin=cn(),Cd(this.relativeTargetOrigin,d,m),Wi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===xn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Wi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,T=this.treeScale.y;O6(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=cn());const{target:R}=u;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(C1(this.prevProjectionDelta.x,this.projectionDelta.x),C1(this.prevProjectionDelta.y,this.projectionDelta.y)),hu(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==T||!k1(this.projectionDelta.x,this.prevProjectionDelta.x)||!k1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ml(),this.projectionDelta=ml(),this.projectionDeltaWithTransform=ml()}setAnimationOrigin(u,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},v=ml();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=cn(),R=m?m.source:void 0,L=this.layout?this.layout.source:void 0,j=R!==L,D=this.getStack(),z=!D||D.members.length<=1,q=!!(j&&!z&&this.options.crossfade===!0&&!this.path.some(Pj));this.animationProgress=0;let H;this.mixTargetDelta=oe=>{const ne=oe/1e3;U1(v.x,u.x,ne),U1(v.y,u.y,ne),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cd(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Vj(this.relativeTarget,this.relativeTargetOrigin,T,ne),H&&hj(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=cn()),Wi(H,this.relativeTarget)),j&&(this.animationValues=y,mj(y,p,this.latestValues,ne,q,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(va(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=At.update(()=>{Yf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=kl(0)),this.currentAnimation=vj(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=u;if(!(!d||!m||!p)){if(this!==u&&this.layout&&p&&zR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||cn();const v=jn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+v;const T=jn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+T}Wi(d,m),gl(d,y),hu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Tj),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&Og("z",u,p,this.animationValues);for(let y=0;y<Pg.length;y++)Og(`rotate${Pg[y]}`,u,p,this.animationValues),Og(`skew${Pg[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=$f(d?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=$f(d?.pointerEvents)||""),this.hasProjected&&!eo(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=fj(this.projectionDeltaWithTransform,this.treeScale,y);m&&(v=m(y,v)),u.transform=v;const{x:T,y:R}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${R.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const L in zy){if(y[L]===void 0)continue;const{correct:j,applyTo:D,isCSSVariable:z}=zy[L],q=v==="none"?y[L]:j(y[L],p);if(D){const H=D.length;for(let oe=0;oe<H;oe++)u[D[oe]]=q}else z?this.options.visualElement.renderState.vars[L]=q:u[L]=q}this.options.layoutId&&(u.pointerEvents=p===this?$f(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(O1),this.root.sharedNodes.clear()}}}function xj(t){t.updateLayout()}function Sj(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Mi(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],T=jn(v);v.min=n[y].min,v.max=v.min+T}):zR(a,e.layoutBox,n)&&Mi(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],T=jn(n[y]);v.max=v.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+T)});const u=ml();hu(u,n,e.layoutBox);const d=ml();l?hu(d,t.applyTransform(s,!0),e.measuredBox):hu(d,n,e.layoutBox);const m=!VR(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:T}=y;if(v&&T){const R=cn();Cd(R,e.layoutBox,v.layoutBox);const L=cn();Cd(L,n,T.layoutBox),PR(R,L)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=L,t.relativeTargetOrigin=R,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Aj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Cj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Rj(t){t.clearSnapshot()}function O1(t){t.clearMeasurements()}function L1(t){t.isLayoutDirty=!1}function Ij(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function j1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Dj(t){t.resolveTargetDelta()}function Nj(t){t.calcProjection()}function kj(t){t.resetSkewAndRotation()}function Mj(t){t.removeLeadSnapshot()}function U1(t,e,n){t.translate=kt(e.translate,0,n),t.scale=kt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function z1(t,e,n,s){t.min=kt(e.min,n.min,s),t.max=kt(e.max,n.max,s)}function Vj(t,e,n,s){z1(t.x,e.x,n.x,s),z1(t.y,e.y,n.y,s)}function Pj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Oj={duration:.45,ease:[.4,0,.1,1]},B1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),F1=B1("applewebkit/")&&!B1("chrome/")?Math.round:Ui;function H1(t){t.min=F1(t.min),t.max=F1(t.max)}function Lj(t){H1(t.x),H1(t.y)}function zR(t,e,n){return t==="position"||t==="preserve-aspect"&&!aj(N1(e),N1(n),.2)}function jj(t){return t!==t.root&&t.scroll?.wasRoot}const Uj=UR({attachResizeListener:(t,e)=>Su(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Lg={current:void 0},BR=UR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Lg.current){const t=new Uj({});t.mount(window),t.setOptions({layoutScroll:!0}),Lg.current=t}return Lg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),w0=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function q1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zj(...t){return e=>{let n=!1;const s=t.map(a=>{const l=q1(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():q1(t[a],null)}}}}function Bj(...t){return O.useCallback(zj(...t),t)}class Fj extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=uR(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Hj({children:t,isPresent:e,anchorX:n,root:s}){const a=O.useId(),l=O.useRef(null),u=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=O.useContext(w0),m=t.props?.ref??t?.ref,p=Bj(l,m);return O.useInsertionEffect(()=>{const{width:y,height:v,top:T,left:R,right:L}=u.current;if(e||!l.current||!y||!v)return;const j=n==="left"?`left: ${R}`:`right: ${L}`;l.current.dataset.motionPopId=a;const D=document.createElement("style");d&&(D.nonce=d);const z=s??document.head;return z.appendChild(D),D.sheet&&D.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${v}px !important;
            ${j}px !important;
            top: ${T}px !important;
          }
        `),()=>{z.contains(D)&&z.removeChild(D)}},[e]),E.jsx(Fj,{isPresent:e,childRef:l,sizeRef:u,children:O.cloneElement(t,{ref:p})})}const qj=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:d,root:m})=>{const p=Yv(Gj),y=O.useId();let v=!0,T=O.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:R=>{p.set(R,!0);for(const L of p.values())if(!L)return;s&&s()},register:R=>(p.set(R,!1),()=>p.delete(R))}),[n,p,s]);return l&&v&&(T={...T}),O.useMemo(()=>{p.forEach((R,L)=>p.set(L,!1))},[n]),O.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),u==="popLayout"&&(t=E.jsx(Hj,{isPresent:n,anchorX:d,root:m,children:t})),E.jsx(om.Provider,{value:T,children:t})};function Gj(){return new Map}function FR(t=!0){const e=O.useContext(om);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=O.useId();O.useEffect(()=>{if(t)return a(l)},[t]);const u=O.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Rf=t=>t.key||"";function G1(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const Es=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",root:m})=>{const[p,y]=FR(u),v=O.useMemo(()=>G1(t),[t]),T=u&&!p?[]:v.map(Rf),R=O.useRef(!0),L=O.useRef(v),j=Yv(()=>new Map),D=O.useRef(new Set),[z,q]=O.useState(v),[H,oe]=O.useState(v);_C(()=>{R.current=!1,L.current=v;for(let I=0;I<H.length;I++){const S=Rf(H[I]);T.includes(S)?(j.delete(S),D.current.delete(S)):j.get(S)!==!0&&j.set(S,!1)}},[H,T.length,T.join("-")]);const ne=[];if(v!==z){let I=[...v];for(let S=0;S<H.length;S++){const k=H[S],V=Rf(k);T.includes(V)||(I.splice(S,0,k),ne.push(k))}return l==="wait"&&ne.length&&(I=ne),oe(G1(I)),q(v),null}const{forceRender:de}=O.useContext($v);return E.jsx(E.Fragment,{children:H.map(I=>{const S=Rf(I),k=u&&!p?!1:v===H||T.includes(S),V=()=>{if(D.current.has(S))return;if(D.current.add(S),j.has(S))j.set(S,!0);else return;let M=!0;j.forEach(P=>{P||(M=!1)}),M&&(de?.(),oe(L.current),u&&y?.(),s&&s())};return E.jsx(qj,{isPresent:k,initial:!R.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:k?void 0:V,anchorX:d,children:I},S)})})},HR=O.createContext({strict:!1}),K1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let $1=!1;function Kj(){if($1)return;const t={};for(const e in K1)t[e]={isEnabled:n=>K1[e].some(s=>!!n[s])};vR(t),$1=!0}function qR(){return Kj(),k6()}function $j(t){const e=qR();for(const n in t)e[n]={...e[n],...t[n]};vR(e)}const Yj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Yj.has(t)}let GR=t=>!Rd(t);function Qj(t){typeof t=="function"&&(GR=e=>e.startsWith("on")?!Rd(e):t(e))}try{Qj(require("@emotion/is-prop-valid").default)}catch{}function Xj(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(GR(a)||n===!0&&Rd(a)||!e&&!Rd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const um=O.createContext({});function Wj(t,e){if(cm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||xu(n)?n:void 0,animate:xu(s)?s:void 0}}return t.inherit!==!1?e:{}}function Zj(t){const{initial:e,animate:n}=Wj(t,O.useContext(um));return O.useMemo(()=>({initial:e,animate:n}),[Y1(e),Y1(n)])}function Y1(t){return Array.isArray(t)?t.join(" "):t}const E0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function KR(t,e,n){for(const s in e)!Mn(e[s])&&!SR(s,n)&&(t[s]=e[s])}function Jj({transformTemplate:t},e){return O.useMemo(()=>{const n=E0();return b0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function eU(t,e){const n=t.style||{},s={};return KR(s,n,t),Object.assign(s,Jj(t,e)),s}function tU(t,e){const n={},s=eU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const $R=()=>({...E0(),attrs:{}});function nU(t,e,n,s){const a=O.useMemo(()=>{const l=$R();return AR(l,e,RR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};KR(l,t.style,t),a.style={...l,...a.style}}return a}const iU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function x0(t){return typeof t!="string"||t.includes("-")?!1:!!(iU.indexOf(t)>-1||/[A-Z]/u.test(t))}function sU(t,e,n,{latestValues:s},a,l=!1,u){const m=(u??x0(t)?nU:tU)(e,s,a,t),p=Xj(e,typeof t=="string",l),y=t!==O.Fragment?{...p,...m,ref:n}:{},{children:v}=e,T=O.useMemo(()=>Mn(v)?v.get():v,[v]);return O.createElement(t,{...y,children:T})}function rU({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:aU(n,s,a,t),renderState:e()}}function aU(t,e,n,s){const a={},l=s(t,{});for(const T in l)a[T]=$f(l[T]);let{initial:u,animate:d}=t;const m=cm(t),p=yR(t);e&&p&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?d:u;if(v&&typeof v!="boolean"&&!lm(v)){const T=Array.isArray(v)?v:[v];for(let R=0;R<T.length;R++){const L=d0(t,T[R]);if(L){const{transitionEnd:j,transition:D,...z}=L;for(const q in z){let H=z[q];if(Array.isArray(H)){const oe=y?H.length-1:0;H=H[oe]}H!==null&&(a[q]=H)}for(const q in j)a[q]=j[q]}}}return a}const YR=t=>(e,n)=>{const s=O.useContext(um),a=O.useContext(om),l=()=>rU(t,e,s,a);return n?l():Yv(l)},oU=YR({scrapeMotionValuesFromProps:T0,createRenderState:E0}),lU=YR({scrapeMotionValuesFromProps:IR,createRenderState:$R}),cU=Symbol.for("motionComponentSymbol");function uU(t,e,n){const s=O.useRef(n);O.useInsertionEffect(()=>{s.current=n});const a=O.useRef(null);return O.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const d=u(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const QR=O.createContext({});function eu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function hU(t,e,n,s,a,l){const{visualElement:u}=O.useContext(um),d=O.useContext(HR),m=O.useContext(om),p=O.useContext(w0).reducedMotion,y=O.useRef(null);s=s||d.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p,isSVG:l}));const v=y.current,T=O.useContext(QR);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&fU(y.current,n,a,T);const R=O.useRef(!1);O.useInsertionEffect(()=>{v&&R.current&&v.update(n,m)});const L=n[nR],j=O.useRef(!!L&&!window.MotionHandoffIsComplete?.(L)&&window.MotionHasOptimisedAnimation?.(L));return _C(()=>{v&&(R.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),j.current&&v.animationState&&v.animationState.animateChanges())}),O.useEffect(()=>{v&&(!j.current&&v.animationState&&v.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(L)}),j.current=!1),v.enteringChildren=void 0)}),v}function fU(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:XR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&eu(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function XR(t){if(t)return t.options.allowProjection!==!1?t.projection:XR(t.parent)}function jg(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&$j(s);const l=n?n==="svg":x0(t),u=l?lU:oU;function d(p,y){let v;const T={...O.useContext(w0),...p,layoutId:dU(p)},{isStatic:R}=T,L=Zj(p),j=u(p,R);if(!R&&vC){mU();const D=pU(T);v=D.MeasureLayout,L.visualElement=hU(t,j,T,a,D.ProjectionNode,l)}return E.jsxs(um.Provider,{value:L,children:[v&&L.visualElement?E.jsx(v,{visualElement:L.visualElement,...T}):null,sU(t,p,uU(j,L.visualElement,y),j,R,e,l)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=O.forwardRef(d);return m[cU]=t,m}function dU({layoutId:t}){const e=O.useContext($v).id;return e&&t!==void 0?e+"-"+t:t}function mU(t,e){O.useContext(HR).strict}function pU(t){const e=qR(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function gU(t,e){if(typeof Proxy>"u")return jg;const n=new Map,s=(l,u)=>jg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,jg(u,void 0,t,e)),n.get(u))})}const yU=(t,e)=>e.isSVG??x0(t)?new Q6(e):new H6(e,{allowProjection:t!==O.Fragment});class vU extends xa{constructor(e){super(e),e.animationState||(e.animationState=ej(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();lm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let _U=0;class bU extends xa{constructor(){super(...arguments),this.id=_U++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const TU={animation:{Feature:vU},exit:{Feature:bU}};function Yu(t){return{point:{x:t.pageX,y:t.pageY}}}const wU=t=>e=>y0(e)&&t(e,Yu(e));function fu(t,e,n,s){return Su(t,e,wU(n),s)}const WR=({current:t})=>t?t.ownerDocument.defaultView:null,Q1=(t,e)=>Math.abs(t-e);function EU(t,e){const n=Q1(t.x,e.x),s=Q1(t.y,e.y);return Math.sqrt(n**2+s**2)}const X1=new Set(["auto","scroll"]);class ZR{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=R=>{this.handleScroll(R.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=zg(this.lastMoveEventInfo,this.history),L=this.startEvent!==null,j=EU(R.offset,{x:0,y:0})>=this.distanceThreshold;if(!L&&!j)return;const{point:D}=R,{timestamp:z}=xn;this.history.push({...D,timestamp:z});const{onStart:q,onMove:H}=this.handlers;L||(q&&q(this.lastMoveEvent,R),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,R)},this.handlePointerMove=(R,L)=>{this.lastMoveEvent=R,this.lastMoveEventInfo=Ug(L,this.transformPagePoint),At.update(this.updatePoint,!0)},this.handlePointerUp=(R,L)=>{this.end();const{onEnd:j,onSessionEnd:D,resumeAnimation:z}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=zg(R.type==="pointercancel"?this.lastMoveEventInfo:Ug(L,this.transformPagePoint),this.history);this.startEvent&&j&&j(R,q),D&&D(R,q)},!y0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const m=Yu(e),p=Ug(m,this.transformPagePoint),{point:y}=p,{timestamp:v}=xn;this.history=[{...y,timestamp:v}];const{onSessionStart:T}=n;T&&T(e,zg(p,this.history)),this.removeListeners=Gu(fu(this.contextWindow,"pointermove",this.handlePointerMove),fu(this.contextWindow,"pointerup",this.handlePointerUp),fu(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(X1.has(s.overflowX)||X1.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),At.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),va(this.updatePoint)}}function Ug(t,e){return e?{point:e(t.point)}:t}function W1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zg({point:t},e){return{point:t,delta:W1(t,JR(e)),offset:W1(t,xU(e)),velocity:SU(e,.1)}}function xU(t){return t[0]}function JR(t){return t[t.length-1]}function SU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=JR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>hr(e)));)n--;if(!s)return{x:0,y:0};const l=Oi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function AU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?kt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?kt(n,t,s.max):Math.min(t,n)),t}function Z1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function CU(t,{top:e,left:n,bottom:s,right:a}){return{x:Z1(t.x,n,a),y:Z1(t.y,e,s)}}function J1(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function RU(t,e){return{x:J1(t.x,e.x),y:J1(t.y,e.y)}}function IU(t,e){let n=.5;const s=jn(t),a=jn(e);return a>s?n=Tu(e.min,e.max-s,t.min):s>a&&(n=Tu(t.min,t.max-a,e.min)),Ms(0,1,n)}function DU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const By=.35;function NU(t=By){return t===!1?t=0:t===!0&&(t=By),{x:ex(t,"left","right"),y:ex(t,"top","bottom")}}function ex(t,e,n){return{min:tx(t,e),max:tx(t,n)}}function tx(t,e){return typeof t=="number"?t:t[e]||0}const kU=new WeakMap;class MU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=cn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(Yu(v).point)):this.pauseAnimation()},u=(v,T)=>{this.stopAnimation();const{drag:R,dragPropagation:L,onDragStart:j}=this.getProps();if(R&&!L&&(this.openDragLock&&this.openDragLock(),this.openDragLock=b6(R),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mi(z=>{let q=this.getAxisMotionValue(z).get()||0;if(Rs.test(q)){const{projection:H}=this.visualElement;if(H&&H.layout){const oe=H.layout.layoutBox[z];oe&&(q=jn(oe)*(parseFloat(q)/100))}}this.originPoint[z]=q}),j&&At.postRender(()=>j(v,T)),Vy(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},d=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T;const{dragPropagation:R,dragDirectionLock:L,onDirectionLock:j,onDrag:D}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:z}=T;if(L&&this.currentDirection===null){this.currentDirection=VU(z),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",T.point,z),this.updateAxis("y",T.point,z),this.visualElement.render(),D&&D(v,T)},m=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T,this.stop(v,T),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Mi(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new ZR(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:WR(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&At.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!If(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=AU(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&eu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=CU(s.layoutBox,e):this.constraints=!1,this.elastic=NU(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Mi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=DU(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!eu(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=L6(s,a.root,this.visualElement.getTransformPagePoint());let u=RU(a.layout.layoutBox,l);if(n){const d=n(V6(u));this.hasMutatedConstraints=!!d,d&&(u=bR(d))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=Mi(y=>{if(!If(y,n,this.currentDirection))return;let v=m&&m[y]||{};u&&(v={min:0,max:0});const T=a?200:1e6,R=a?40:1e7,L={type:"inertia",velocity:s?e[y]:0,bounceStiffness:T,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,L)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Vy(this.visualElement,e),s.start(f0(e,s,0,n,this.visualElement,!1))}stopAnimation(){Mi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Mi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Mi(n=>{const{drag:s}=this.getProps();if(!If(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-kt(u,d,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!eu(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Mi(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const m=d.get();a[u]=IU({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Mi(u=>{if(!If(u,e,null))return;const d=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];d.set(kt(m,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;kU.set(this.visualElement,this);const e=this.visualElement.current,n=fu(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&!mR(m.target)&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();eu(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),At.read(s);const u=Su(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Mi(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=m[y].translate,v.set(v.get()+m[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=By,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function If(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function VU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class PU extends xa{constructor(e){super(e),this.removeGroupControls=Ui,this.removeListeners=Ui,this.controls=new MU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ui}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const nx=t=>(e,n)=>{t&&At.postRender(()=>t(e,n))};class OU extends xa{constructor(){super(...arguments),this.removePointerDownListener=Ui}onPointerDown(e){this.session=new ZR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:nx(e),onStart:nx(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&At.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=fu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Bg=!1;class LU extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Bg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Yf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Bg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||At.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),g0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Bg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function e2(t){const[e,n]=FR(),s=O.useContext($v);return E.jsx(LU,{...t,layoutGroup:s,switchLayoutGroup:O.useContext(QR),isPresent:e,safeToRemove:n})}const jU={pan:{Feature:OU},drag:{Feature:PU,ProjectionNode:BR,MeasureLayout:e2}};function ix(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&At.postRender(()=>l(e,Yu(e)))}class UU extends xa{mount(){const{current:e}=this.node;e&&(this.unmount=T6(e,(n,s)=>(ix(this.node,s,"Start"),a=>ix(this.node,a,"End"))))}unmount(){}}class zU extends xa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gu(Su(this.node.current,"focus",()=>this.onFocus()),Su(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sx(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&At.postRender(()=>l(e,Yu(e)))}class BU extends xa{mount(){const{current:e}=this.node;e&&(this.unmount=x6(e,(n,s)=>(sx(this.node,s,"Start"),(a,{success:l})=>sx(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fy=new WeakMap,Fg=new WeakMap,FU=t=>{const e=Fy.get(t.target);e&&e(t)},HU=t=>{t.forEach(FU)};function qU({root:t,...e}){const n=t||document;Fg.has(n)||Fg.set(n,{});const s=Fg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(HU,{root:t,...e})),s[a]}function GU(t,e,n){const s=qU(e);return Fy.set(t,n),s.observe(t),()=>{Fy.delete(t),s.unobserve(t)}}const KU={some:0,all:1};class $U extends xa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:KU[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),T=p?y:v;T&&T(m)};return GU(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(YU(e,n))&&this.startObserver()}unmount(){}}function YU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const QU={inView:{Feature:$U},tap:{Feature:BU},focus:{Feature:zU},hover:{Feature:UU}},XU={layout:{ProjectionNode:BR,MeasureLayout:e2}},WU={...TU,...QU,...jU,...XU},vt=gU(WU,yU);const ZU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JU=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),rx=t=>{const e=JU(t);return e.charAt(0).toUpperCase()+e.slice(1)},t2=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),e9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var t9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const n9=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...d},m)=>O.createElement("svg",{ref:m,...t9,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:t2("lucide",a),...!l&&!e9(d)&&{"aria-hidden":"true"},...d},[...u.map(([p,y])=>O.createElement(p,y)),...Array.isArray(l)?l:[l]]));const Nt=(t,e)=>{const n=O.forwardRef(({className:s,...a},l)=>O.createElement(n9,{ref:l,iconNode:e,className:t2(`lucide-${ZU(rx(t))}`,`lucide-${t}`,s),...a}));return n.displayName=rx(t),n};const i9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ax=Nt("award",i9);const s9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Hy=Nt("book-open",s9);const r9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Id=Nt("calendar",r9);const a9=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ox=Nt("camera",a9);const o9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Df=Nt("check",o9);const l9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],n2=Nt("chevron-left",l9);const c9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],i2=Nt("chevron-right",c9);const u9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],lx=Nt("circle-alert",u9);const h9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],f9=Nt("circle-check-big",h9);const d9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],m9=Nt("circle-question-mark",d9);const p9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],g9=Nt("clock",p9);const y9=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],qy=Nt("layout-grid",y9);const v9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],s2=Nt("log-out",v9);const _9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],b9=Nt("mail",_9);const T9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],cx=Nt("pen",T9);const w9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Dd=Nt("plus",w9);const E9=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],x9=Nt("printer",E9);const S9=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Hg=Nt("share-2",S9);const A9=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],C9=Nt("shuffle",A9);const R9=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],I9=Nt("sparkles",R9);const D9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],r2=Nt("trash-2",D9);const N9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],k9=Nt("user",N9);const M9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],V9=Nt("users",M9);const P9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],El=Nt("x",P9),a2=O.createContext(null),o2=()=>{const t=O.useContext(a2);if(!t)throw new Error("useDialog must be used within a DialogProvider");return t},O9=({children:t})=>{const[e,n]=O.useState({isOpen:!1,type:"alert",options:{message:""},resolve:null}),[s,a]=O.useState(""),[l,u]=O.useState("editor"),d=O.useCallback((L,j)=>new Promise(D=>{a(j.inputDefaultValue||""),u("editor"),n({isOpen:!0,type:L,options:j,resolve:D})}),[]),m=O.useCallback(L=>{e.resolve&&e.resolve(L),n(j=>({...j,isOpen:!1,resolve:null}))},[e.resolve]),p=O.useCallback((L,j)=>d("alert",{message:L,title:"Notice",confirmText:"OK",type:"info",...j}),[d]),y=O.useCallback((L,j)=>d("confirm",{message:L,title:"Confirm",confirmText:"Yes",cancelText:"Cancel",type:"warning",...j}),[d]),v=O.useCallback((L,j)=>d("prompt",{message:L,title:"Input",confirmText:"OK",cancelText:"Cancel",inputPlaceholder:"",...j}),[d]),T=O.useCallback((L,j)=>d("share",{message:L,title:"Share Board",confirmText:"Send Invite",cancelText:"Cancel",showRoleSelector:!0,inputPlaceholder:"Enter email address",...j}),[d]),R=()=>{switch(e.options.type){case"success":return E.jsx(f9,{className:"w-8 h-8 text-green-400"});case"warning":return E.jsx(lx,{className:"w-8 h-8 text-amber-400"});case"error":return E.jsx(lx,{className:"w-8 h-8 text-red-400"});default:return E.jsx(m9,{className:"w-8 h-8 text-accent-primary"})}};return E.jsxs(a2.Provider,{value:{alert:p,confirm:y,prompt:v,sharePrompt:T},children:[t,E.jsx(Es,{children:e.isOpen&&E.jsx(vt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{e.type==="alert"?m(void 0):e.type==="confirm"?m(!1):m(null)},children:E.jsxs(vt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:L=>L.stopPropagation(),children:[E.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="share"?E.jsx(b9,{className:"w-6 h-6 text-accent-primary"}):R(),E.jsx("h3",{className:"text-lg font-bold text-white",children:e.options.title})]}),E.jsx("button",{onClick:()=>{e.type==="alert"?m(void 0):e.type==="confirm"?m(!1):m(null)},className:"p-1 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:E.jsx(El,{size:20})})]}),E.jsxs("div",{className:"p-6",children:[E.jsx("p",{className:"text-slate-300 mb-4 whitespace-pre-wrap",children:e.options.message}),(e.type==="prompt"||e.type==="share")&&E.jsx("input",{type:e.type==="share"?"email":"text",autoFocus:!0,value:s,onChange:L=>a(L.target.value),placeholder:e.options.inputPlaceholder,className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors mb-4",onKeyDown:L=>{L.key==="Enter"&&s.trim()&&(e.type==="share"?m({email:s.trim(),role:l}):m(s.trim()))}}),e.type==="share"&&e.options.showRoleSelector&&E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"text-sm font-medium text-slate-400 mb-2 block",children:"Access Level"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>u("viewer"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="viewer"?"bg-accent-primary/20 text-accent-primary border border-accent-primary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Viewer"}),E.jsx("button",{onClick:()=>u("editor"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Editor"})]}),E.jsx("p",{className:"text-xs text-slate-500 mt-2",children:l==="viewer"?"Can view the board but not make changes":"Can view and edit the board"})]})]}),E.jsxs("div",{className:"flex gap-3 p-4 pt-0",children:[e.type!=="alert"&&E.jsx("button",{onClick:()=>{e.type==="confirm"?m(!1):m(null)},className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:e.options.cancelText}),E.jsx("button",{onClick:()=>{e.type==="alert"?m(void 0):e.type==="confirm"?m(!0):e.type==="share"?s.trim()&&m({email:s.trim(),role:l}):m(s.trim()||null)},disabled:(e.type==="prompt"||e.type==="share")&&!s.trim(),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.options.confirmText})]})]})})})]})},L9=()=>{const{signIn:t,error:e}=qu();return E.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center",children:[E.jsx("div",{className:"background-animation"}),E.jsxs("div",{className:"glass-panel p-8 max-w-md w-full flex flex-col items-center gap-6 animate-fade-in",children:[E.jsxs("div",{className:"flex flex-col items-center gap-2 mb-2",children:[E.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-24 w-auto object-contain drop-shadow-[0_0_15px_rgba(251,191,36,0.3)]"}),E.jsx("div",{className:"rounded-full bg-accent-primary/20 p-2 hidden",children:E.jsx(I9,{className:"w-6 h-6 text-accent-gold animate-pulse"})})]}),E.jsx("h1",{className:"text-4xl font-heading font-bold text-gradient sr-only",children:"SunSar Bingo"}),E.jsxs("p",{className:"text-slate-300 font-light text-lg",children:["Track your goals, share with friends,",E.jsx("br",{}),"and make 2026 your best year yet."]}),e&&E.jsx("div",{className:"bg-red-500/20 text-red-200 px-4 py-2 rounded-lg text-sm border border-red-500/30",children:e}),E.jsx("button",{onClick:t,className:"group relative px-6 py-3 bg-white text-bg-dark font-bold rounded-full transition-all hover:scale-105 hover:shadow-[0_0_20px_rgba(255,255,255,0.3)]",children:E.jsxs("span",{className:"flex items-center gap-2",children:[E.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"G",className:"w-5 h-5"}),"Sign in / Sign up with Google"]})})]}),E.jsx("footer",{className:"absolute bottom-4 text-slate-500 text-xs",children:" 2026 SunSar Bingo  Free & Open Source"})]})};var S0={};(function t(e,n,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),u=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=(function(){if(!e.OffscreenCanvas)return!1;try{var F=new OffscreenCanvas(1,1),x=F.getContext("2d");x.fillRect(0,0,1,1);var K=F.transferToImageBitmap();x.createPattern(K,"no-repeat")}catch{return!1}return!0})();function m(){}function p(F){var x=n.exports.Promise,K=x!==void 0?x:e.Promise;return typeof K=="function"?new K(F):(F(m,m),null)}var y=(function(F,x){return{transform:function(K){if(F)return K;if(x.has(K))return x.get(K);var ee=new OffscreenCanvas(K.width,K.height),se=ee.getContext("2d");return se.drawImage(K,0,0),x.set(K,ee),ee},clear:function(){x.clear()}}})(d,new Map),v=(function(){var F=Math.floor(16.666666666666668),x,K,ee={},se=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(x=function(me){var pe=Math.random();return ee[pe]=requestAnimationFrame(function fe(_e){se===_e||se+F-1<_e?(se=_e,delete ee[pe],me()):ee[pe]=requestAnimationFrame(fe)}),pe},K=function(me){ee[me]&&cancelAnimationFrame(ee[me])}):(x=function(me){return setTimeout(me,F)},K=function(me){return clearTimeout(me)}),{frame:x,cancel:K}})(),T=(function(){var F,x,K={};function ee(se){function me(pe,fe){se.postMessage({options:pe||{},callback:fe})}se.init=function(fe){var _e=fe.transferControlToOffscreen();se.postMessage({canvas:_e},[_e])},se.fire=function(fe,_e,Ce){if(x)return me(fe,null),x;var He=Math.random().toString(36).slice(2);return x=p(function(Ge){function Qe(ct){ct.data.callback===He&&(delete K[He],se.removeEventListener("message",Qe),x=null,y.clear(),Ce(),Ge())}se.addEventListener("message",Qe),me(fe,He),K[He]=Qe.bind(null,{data:{callback:He}})}),x},se.reset=function(){se.postMessage({reset:!0});for(var fe in K)K[fe](),delete K[fe]}}return function(){if(F)return F;if(!s&&l){var se=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{F=new Worker(URL.createObjectURL(new Blob([se])))}catch(me){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",me),null}ee(F)}return F}})(),R={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function L(F,x){return x?x(F):F}function j(F){return F!=null}function D(F,x,K){return L(F&&j(F[x])?F[x]:R[x],K)}function z(F){return F<0?0:Math.floor(F)}function q(F,x){return Math.floor(Math.random()*(x-F))+F}function H(F){return parseInt(F,16)}function oe(F){return F.map(ne)}function ne(F){var x=String(F).replace(/[^0-9a-f]/gi,"");return x.length<6&&(x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2]),{r:H(x.substring(0,2)),g:H(x.substring(2,4)),b:H(x.substring(4,6))}}function de(F){var x=D(F,"origin",Object);return x.x=D(x,"x",Number),x.y=D(x,"y",Number),x}function I(F){F.width=document.documentElement.clientWidth,F.height=document.documentElement.clientHeight}function S(F){var x=F.getBoundingClientRect();F.width=x.width,F.height=x.height}function k(F){var x=document.createElement("canvas");return x.style.position="fixed",x.style.top="0px",x.style.left="0px",x.style.pointerEvents="none",x.style.zIndex=F,x}function V(F,x,K,ee,se,me,pe,fe,_e){F.save(),F.translate(x,K),F.rotate(me),F.scale(ee,se),F.arc(0,0,1,pe,fe,_e),F.restore()}function M(F){var x=F.angle*(Math.PI/180),K=F.spread*(Math.PI/180);return{x:F.x,y:F.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:F.startVelocity*.5+Math.random()*F.startVelocity,angle2D:-x+(.5*K-Math.random()*K),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:F.color,shape:F.shape,tick:0,totalTicks:F.ticks,decay:F.decay,drift:F.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:F.gravity*3,ovalScalar:.6,scalar:F.scalar,flat:F.flat}}function P(F,x){x.x+=Math.cos(x.angle2D)*x.velocity+x.drift,x.y+=Math.sin(x.angle2D)*x.velocity+x.gravity,x.velocity*=x.decay,x.flat?(x.wobble=0,x.wobbleX=x.x+10*x.scalar,x.wobbleY=x.y+10*x.scalar,x.tiltSin=0,x.tiltCos=0,x.random=1):(x.wobble+=x.wobbleSpeed,x.wobbleX=x.x+10*x.scalar*Math.cos(x.wobble),x.wobbleY=x.y+10*x.scalar*Math.sin(x.wobble),x.tiltAngle+=.1,x.tiltSin=Math.sin(x.tiltAngle),x.tiltCos=Math.cos(x.tiltAngle),x.random=Math.random()+2);var K=x.tick++/x.totalTicks,ee=x.x+x.random*x.tiltCos,se=x.y+x.random*x.tiltSin,me=x.wobbleX+x.random*x.tiltCos,pe=x.wobbleY+x.random*x.tiltSin;if(F.fillStyle="rgba("+x.color.r+", "+x.color.g+", "+x.color.b+", "+(1-K)+")",F.beginPath(),u&&x.shape.type==="path"&&typeof x.shape.path=="string"&&Array.isArray(x.shape.matrix))F.fill(he(x.shape.path,x.shape.matrix,x.x,x.y,Math.abs(me-ee)*.1,Math.abs(pe-se)*.1,Math.PI/10*x.wobble));else if(x.shape.type==="bitmap"){var fe=Math.PI/10*x.wobble,_e=Math.abs(me-ee)*.1,Ce=Math.abs(pe-se)*.1,He=x.shape.bitmap.width*x.scalar,Ge=x.shape.bitmap.height*x.scalar,Qe=new DOMMatrix([Math.cos(fe)*_e,Math.sin(fe)*_e,-Math.sin(fe)*Ce,Math.cos(fe)*Ce,x.x,x.y]);Qe.multiplySelf(new DOMMatrix(x.shape.matrix));var ct=F.createPattern(y.transform(x.shape.bitmap),"no-repeat");ct.setTransform(Qe),F.globalAlpha=1-K,F.fillStyle=ct,F.fillRect(x.x-He/2,x.y-Ge/2,He,Ge),F.globalAlpha=1}else if(x.shape==="circle")F.ellipse?F.ellipse(x.x,x.y,Math.abs(me-ee)*x.ovalScalar,Math.abs(pe-se)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI):V(F,x.x,x.y,Math.abs(me-ee)*x.ovalScalar,Math.abs(pe-se)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI);else if(x.shape==="star")for(var Pe=Math.PI/2*3,Pt=4*x.scalar,Ft=8*x.scalar,an=x.x,Ot=x.y,tt=5,Ke=Math.PI/tt;tt--;)an=x.x+Math.cos(Pe)*Ft,Ot=x.y+Math.sin(Pe)*Ft,F.lineTo(an,Ot),Pe+=Ke,an=x.x+Math.cos(Pe)*Pt,Ot=x.y+Math.sin(Pe)*Pt,F.lineTo(an,Ot),Pe+=Ke;else F.moveTo(Math.floor(x.x),Math.floor(x.y)),F.lineTo(Math.floor(x.wobbleX),Math.floor(se)),F.lineTo(Math.floor(me),Math.floor(pe)),F.lineTo(Math.floor(ee),Math.floor(x.wobbleY));return F.closePath(),F.fill(),x.tick<x.totalTicks}function N(F,x,K,ee,se){var me=x.slice(),pe=F.getContext("2d"),fe,_e,Ce=p(function(He){function Ge(){fe=_e=null,pe.clearRect(0,0,ee.width,ee.height),y.clear(),se(),He()}function Qe(){s&&!(ee.width===a.width&&ee.height===a.height)&&(ee.width=F.width=a.width,ee.height=F.height=a.height),!ee.width&&!ee.height&&(K(F),ee.width=F.width,ee.height=F.height),pe.clearRect(0,0,ee.width,ee.height),me=me.filter(function(ct){return P(pe,ct)}),me.length?fe=v.frame(Qe):Ge()}fe=v.frame(Qe),_e=Ge});return{addFettis:function(He){return me=me.concat(He),Ce},canvas:F,promise:Ce,reset:function(){fe&&v.cancel(fe),_e&&_e()}}}function ye(F,x){var K=!F,ee=!!D(x||{},"resize"),se=!1,me=D(x,"disableForReducedMotion",Boolean),pe=l&&!!D(x||{},"useWorker"),fe=pe?T():null,_e=K?I:S,Ce=F&&fe?!!F.__confetti_initialized:!1,He=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ge;function Qe(Pe,Pt,Ft){for(var an=D(Pe,"particleCount",z),Ot=D(Pe,"angle",Number),tt=D(Pe,"spread",Number),Ke=D(Pe,"startVelocity",Number),An=D(Pe,"decay",Number),vr=D(Pe,"gravity",Number),Os=D(Pe,"drift",Number),$t=D(Pe,"colors",oe),zn=D(Pe,"ticks",Number),dt=D(Pe,"shapes"),ti=D(Pe,"scalar"),ni=!!D(Pe,"flat"),Bi=de(Pe),gi=an,Bn=[],Ls=F.width*Bi.x,Cn=F.height*Bi.y;gi--;)Bn.push(M({x:Ls,y:Cn,angle:Ot,spread:tt,startVelocity:Ke,color:$t[gi%$t.length],shape:dt[q(0,dt.length)],ticks:zn,decay:An,gravity:vr,drift:Os,scalar:ti,flat:ni}));return Ge?Ge.addFettis(Bn):(Ge=N(F,Bn,_e,Pt,Ft),Ge.promise)}function ct(Pe){var Pt=me||D(Pe,"disableForReducedMotion",Boolean),Ft=D(Pe,"zIndex",Number);if(Pt&&He)return p(function(Ke){Ke()});K&&Ge?F=Ge.canvas:K&&!F&&(F=k(Ft),document.body.appendChild(F)),ee&&!Ce&&_e(F);var an={width:F.width,height:F.height};fe&&!Ce&&fe.init(F),Ce=!0,fe&&(F.__confetti_initialized=!0);function Ot(){if(fe){var Ke={getBoundingClientRect:function(){if(!K)return F.getBoundingClientRect()}};_e(Ke),fe.postMessage({resize:{width:Ke.width,height:Ke.height}});return}an.width=an.height=null}function tt(){Ge=null,ee&&(se=!1,e.removeEventListener("resize",Ot)),K&&F&&(document.body.contains(F)&&document.body.removeChild(F),F=null,Ce=!1)}return ee&&!se&&(se=!0,e.addEventListener("resize",Ot,!1)),fe?fe.fire(Pe,an,tt):Qe(Pe,an,tt)}return ct.reset=function(){fe&&fe.reset(),Ge&&Ge.reset()},ct}var Se;function Z(){return Se||(Se=ye(null,{useWorker:!0,resize:!0})),Se}function he(F,x,K,ee,se,me,pe){var fe=new Path2D(F),_e=new Path2D;_e.addPath(fe,new DOMMatrix(x));var Ce=new Path2D;return Ce.addPath(_e,new DOMMatrix([Math.cos(pe)*se,Math.sin(pe)*se,-Math.sin(pe)*me,Math.cos(pe)*me,K,ee])),Ce}function re(F){if(!u)throw new Error("path confetti are not supported in this browser");var x,K;typeof F=="string"?x=F:(x=F.path,K=F.matrix);var ee=new Path2D(x),se=document.createElement("canvas"),me=se.getContext("2d");if(!K){for(var pe=1e3,fe=pe,_e=pe,Ce=0,He=0,Ge,Qe,ct=0;ct<pe;ct+=2)for(var Pe=0;Pe<pe;Pe+=2)me.isPointInPath(ee,ct,Pe,"nonzero")&&(fe=Math.min(fe,ct),_e=Math.min(_e,Pe),Ce=Math.max(Ce,ct),He=Math.max(He,Pe));Ge=Ce-fe,Qe=He-_e;var Pt=10,Ft=Math.min(Pt/Ge,Pt/Qe);K=[Ft,0,0,Ft,-Math.round(Ge/2+fe)*Ft,-Math.round(Qe/2+_e)*Ft]}return{type:"path",path:x,matrix:K}}function Ne(F){var x,K=1,ee="#000000",se='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof F=="string"?x=F:(x=F.text,K="scalar"in F?F.scalar:K,se="fontFamily"in F?F.fontFamily:se,ee="color"in F?F.color:ee);var me=10*K,pe=""+me+"px "+se,fe=new OffscreenCanvas(me,me),_e=fe.getContext("2d");_e.font=pe;var Ce=_e.measureText(x),He=Math.ceil(Ce.actualBoundingBoxRight+Ce.actualBoundingBoxLeft),Ge=Math.ceil(Ce.actualBoundingBoxAscent+Ce.actualBoundingBoxDescent),Qe=2,ct=Ce.actualBoundingBoxLeft+Qe,Pe=Ce.actualBoundingBoxAscent+Qe;He+=Qe+Qe,Ge+=Qe+Qe,fe=new OffscreenCanvas(He,Ge),_e=fe.getContext("2d"),_e.font=pe,_e.fillStyle=ee,_e.fillText(x,ct,Pe);var Pt=1/K;return{type:"bitmap",bitmap:fe.transferToImageBitmap(),matrix:[Pt,0,0,Pt,-He*Pt/2,-Ge*Pt/2]}}n.exports=function(){return Z().apply(this,arguments)},n.exports.reset=function(){Z().reset()},n.exports.create=ye,n.exports.shapeFromPath=re,n.exports.shapeFromText=Ne})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),S0,!1);const l2=S0.exports;S0.exports.create;const Wa=(t=1)=>{const e=200*t,n={origin:{y:.7}};function s(a,l){l2(Object.assign({},n,l,{particleCount:Math.floor(e*a)}))}s(.25,{spread:26,startVelocity:55}),s(.2,{spread:60}),s(.35,{spread:100,decay:.91,scalar:.8}),s(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),s(.1,{spread:120,startVelocity:45})},ux={cloudName:"dia6ped7h",uploadPreset:"bingo_proofs"},hx=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",ux.uploadPreset),e.append("folder","bingo-proofs");const n=await fetch(`https://api.cloudinary.com/v1_1/${ux.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok){const a=await n.json();throw console.error("Cloudinary upload error:",a),new Error(a.error?.message||"Failed to upload image")}return(await n.json()).secure_url},j9="2026",U9=25,z9=["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"],B9=t=>{const{user:e}=qu(),[n,s]=O.useState([]),[a,l]=O.useState({}),[u,d]=O.useState(!0),[m,p]=O.useState(!1),[y,v]=O.useState(!1),T=O.useMemo(()=>t?la(Vi,"boards",t):la(Vi,"years",j9),[t]),R=V=>{if(!V.length)return;const M=5,P=[];for(let N=0;N<M;N++)P.push(V.slice(N*M,(N+1)*M));for(let N=0;N<M;N++)if(P[N].every(ye=>ye.isCompleted)){m||(p(!0),Wa(2));return}for(let N=0;N<M;N++)if(P.map(ye=>ye[N]).every(ye=>ye.isCompleted)){m||(p(!0),Wa(2));return}if(P.map((N,ye)=>N[ye]).every(N=>N.isCompleted)){m||(p(!0),Wa(2));return}if(P.map((N,ye)=>N[M-1-ye]).every(N=>N.isCompleted)){m||(p(!0),Wa(2));return}p(!1)},L=async()=>{const V=[...z9].sort(()=>.5-Math.random()),M=[];let P=0;for(let N=0;N<U9;N++)N===12?M.push({id:N,text:"2026 ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(M.push({id:N,text:V[P],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),P++);await by(T,{year:2026,items:M,isLocked:!1,createdAt:Fe.now(),lastUpdated:Fe.now(),...e?{ownerId:e.uid,members:{[e.uid]:"owner"}}:{}},{merge:!0})};O.useEffect(()=>{if(!e)return;d(!0);const V=hC(T,M=>{if(M.exists()){const P=M.data();s(P.items||[]),l(P.members||{}),v(P.isLocked||!1),R(P.items||[])}else L();d(!1)},M=>{console.error("Error fetching bingo board:",M),d(!1)});return()=>V()},[T,e]);const j=async V=>{if(!n.length)return;const M=n.map(Se=>({...Se})),P=M[V];if(P.isFreeSpace)return;const N=P.targetCount||1,ye=P.currentCount||0;if(P.isCompleted){const Se=Math.max(0,ye-1);P.currentCount=Se,P.isCompleted=Se>=N,Se===0&&(P.completedBy=null,P.completedAt=null,P.proofPhotos=[])}else{const Se=Math.min(N,ye+1);P.currentCount=Se,P.isCompleted=Se>=N,P.completedBy=e?.displayName||e?.email||"Unknown",P.completedAt=Fe.now(),Wa(.5)}s(M),R(M);try{await ki(T,{items:M,lastUpdated:Fe.now()})}catch(Se){console.error("Error updating bingo board:",Se)}},D=async V=>{if(!n.length)return;const M=n.map(Z=>({...Z})),P=M[V];if(P.isFreeSpace)return;const N=P.currentCount||0;if(N<=0)return;const ye=P.targetCount||1,Se=N-1;P.currentCount=Se,P.isCompleted=Se>=ye,Se===0&&(P.completedBy=null,P.completedAt=null,P.proofPhotos=[]),s(M),R(M);try{await ki(T,{items:M,lastUpdated:Fe.now()})}catch(Z){console.error("Error decrementing progress:",Z)}},z=async(V,M)=>{if(!(!n.length||!e))try{const P=await hx(M),N=n.map(Ne=>({...Ne})),ye=N[V];if(ye.isFreeSpace)return;const Se=ye.targetCount||1,Z=ye.currentCount||0,he=Math.min(Se,Z+1);ye.currentCount=he,ye.isCompleted=he>=Se,ye.completedBy=e?.displayName||e?.email||"Unknown",ye.completedAt=Fe.now();const re=ye.proofPhotos||[];ye.proofPhotos=[...re,P],s(N),R(N),Wa(1),await ki(T,{items:N,lastUpdated:Fe.now()})}catch(P){throw console.error("Error completing with photo:",P),P}},q=async(V,M)=>{if(!n.length||!e)return;const P=n[V];!P.isCompleted&&(P.currentCount||0)<(P.targetCount||1);const N=P.proofPhotos||[];if(N.length>=5)throw new Error("Maximum 5 photos allowed per tile");try{const ye=await hx(M),Se=n.map(Z=>({...Z}));return Se[V].proofPhotos=[...N,ye],s(Se),Wa(.3),await ki(T,{items:Se,lastUpdated:Fe.now()}),ye}catch(ye){throw console.error("Error adding photo:",ye),ye}},H=async(V,M)=>{const P=n.map(N=>({...N}));M.text!==void 0&&(P[V].text=M.text),M.style!==void 0&&(P[V].style=M.style),s(P);try{await ki(T,{items:P,lastUpdated:Fe.now()})}catch(N){console.error("Error updating item:",N)}},oe=async()=>{const V=[...n],M=V[12],P=[...V.slice(0,12),...V.slice(13)];for(let ye=P.length-1;ye>0;ye--){const Se=Math.floor(Math.random()*(ye+1));[P[ye],P[Se]]=[P[Se],P[ye]]}const N=[...P.slice(0,12),M,...P.slice(12)];s(N),v(!0),await by(T,{isLocked:!0,items:N,itemsBackup:V,lastUpdated:Fe.now()},{merge:!0})},ne=async()=>{try{const V=await rm(T);if(V.exists()){const M=V.data();M.itemsBackup?await ki(T,{items:M.itemsBackup,itemsBackup:yd(),isLocked:!1,lastUpdated:Fe.now()}):await ki(T,{isLocked:!1,lastUpdated:Fe.now()})}}catch(V){console.error("Error unlocking board:",V)}},de=O.useMemo(()=>{const V=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],[0,6,12,18,24],[4,8,12,16,20]],M=new Set(n.map((P,N)=>P.isCompleted?N:-1));return V.reduce((P,N)=>N.every(ye=>M.has(ye))?P+1:P,0)},[n]);return{items:n,members:a,loading:u,toggleItem:j,updateItem:H,hasWon:m,bingoCount:de,isLocked:y,unlockBoard:ne,jumbleAndLock:oe,saveBoard:async V=>{s(V);try{await ki(T,{items:V,lastUpdated:Fe.now()})}catch(M){console.error("Error saving board:",M)}},completeWithPhoto:z,addPhotoToTile:q,decrementProgress:D,inviteUser:async(V,M="editor")=>{try{const P=vd(hl(Vi,"users"),_d("email","==",V)),N=await lu(P);if(N.empty)return{success:!1,type:"not_found",message:"User not found"};const ye=N.docs[0],Se=ye.id;return await ki(T,{[`members.${Se}`]:M}),{success:!0,type:"success",message:`Added ${ye.data().displayName||V} as ${M}!`}}catch(P){return console.error("Error inviting user:",P),{success:!1,type:"error",message:"Failed to invite user"}}},removeMember:async V=>{try{return await ki(T,{[`members.${V}`]:yd()}),{success:!0}}catch(M){return console.error("Error removing member:",M),{success:!1,error:M}}}}};function c2(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=c2(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function F9(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=c2(t))&&(s&&(s+=" "),s+=e);return s}const H9=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},q9=(t,e)=>({classGroupId:t,validator:e}),u2=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Nd="-",fx=[],G9="arbitrary..",K9=t=>{const e=Y9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return $9(u);const d=u.split(Nd),m=d[0]===""&&d.length>1?1:0;return h2(d,m,e)},getConflictingClassGroupIds:(u,d)=>{if(d){const m=s[u],p=n[u];return m?p?H9(p,m):m:p||fx}return n[u]||fx}}},h2=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=h2(t,e+1,l);if(p)return p}const u=n.validators;if(u===null)return;const d=e===0?t.join(Nd):t.slice(e).join(Nd),m=u.length;for(let p=0;p<m;p++){const y=u[p];if(y.validator(d))return y.classGroupId}},$9=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?G9+s:void 0})(),Y9=t=>{const{theme:e,classGroups:n}=t;return Q9(n,e)},Q9=(t,e)=>{const n=u2();for(const s in t){const a=t[s];A0(a,n,s,e)}return n},A0=(t,e,n,s)=>{const a=t.length;for(let l=0;l<a;l++){const u=t[l];X9(u,e,n,s)}},X9=(t,e,n,s)=>{if(typeof t=="string"){W9(t,e,n);return}if(typeof t=="function"){Z9(t,e,n,s);return}J9(t,e,n,s)},W9=(t,e,n)=>{const s=t===""?e:f2(e,t);s.classGroupId=n},Z9=(t,e,n,s)=>{if(ez(t)){A0(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(q9(n,t))},J9=(t,e,n,s)=>{const a=Object.entries(t),l=a.length;for(let u=0;u<l;u++){const[d,m]=a[u];A0(m,f2(e,d),n,s)}},f2=(t,e)=>{let n=t;const s=e.split(Nd),a=s.length;for(let l=0;l<a;l++){const u=s[l];let d=n.nextPart.get(u);d||(d=u2(),n.nextPart.set(u,d)),n=d}return n},ez=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,tz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const a=(l,u)=>{n[l]=u,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(l){let u=n[l];if(u!==void 0)return u;if((u=s[l])!==void 0)return a(l,u),u},set(l,u){l in n?n[l]=u:a(l,u)}}},Gy="!",dx=":",nz=[],mx=(t,e,n,s,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:a}),iz=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const l=[];let u=0,d=0,m=0,p;const y=a.length;for(let j=0;j<y;j++){const D=a[j];if(u===0&&d===0){if(D===dx){l.push(a.slice(m,j)),m=j+1;continue}if(D==="/"){p=j;continue}}D==="["?u++:D==="]"?u--:D==="("?d++:D===")"&&d--}const v=l.length===0?a:a.slice(m);let T=v,R=!1;v.endsWith(Gy)?(T=v.slice(0,-1),R=!0):v.startsWith(Gy)&&(T=v.slice(1),R=!0);const L=p&&p>m?p-m:void 0;return mx(l,R,T,L)};if(e){const a=e+dx,l=s;s=u=>u.startsWith(a)?l(u.slice(a.length)):mx(nz,!1,u,void 0,!0)}if(n){const a=s;s=l=>n({className:l,parseClassName:a})}return s},sz=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let a=[];for(let l=0;l<n.length;l++){const u=n[l],d=u[0]==="[",m=e.has(u);d||m?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(u)):a.push(u)}return a.length>0&&(a.sort(),s.push(...a)),s}},rz=t=>({cache:tz(t.cacheSize),parseClassName:iz(t),sortModifiers:sz(t),...K9(t)}),az=/\s+/,oz=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],d=t.trim().split(az);let m="";for(let p=d.length-1;p>=0;p-=1){const y=d[p],{isExternal:v,modifiers:T,hasImportantModifier:R,baseClassName:L,maybePostfixModifierPosition:j}=n(y);if(v){m=y+(m.length>0?" "+m:m);continue}let D=!!j,z=s(D?L.substring(0,j):L);if(!z){if(!D){m=y+(m.length>0?" "+m:m);continue}if(z=s(L),!z){m=y+(m.length>0?" "+m:m);continue}D=!1}const q=T.length===0?"":T.length===1?T[0]:l(T).join(":"),H=R?q+Gy:q,oe=H+z;if(u.indexOf(oe)>-1)continue;u.push(oe);const ne=a(z,D);for(let de=0;de<ne.length;++de){const I=ne[de];u.push(H+I)}m=y+(m.length>0?" "+m:m)}return m},lz=(...t)=>{let e=0,n,s,a="";for(;e<t.length;)(n=t[e++])&&(s=d2(n))&&(a&&(a+=" "),a+=s);return a},d2=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=d2(t[s]))&&(n&&(n+=" "),n+=e);return n},cz=(t,...e)=>{let n,s,a,l;const u=m=>{const p=e.reduce((y,v)=>v(y),t());return n=rz(p),s=n.cache.get,a=n.cache.set,l=d,d(m)},d=m=>{const p=s(m);if(p)return p;const y=oz(m,n);return a(m,y),y};return l=u,(...m)=>l(lz(...m))},uz=[],ln=t=>{const e=n=>n[t]||uz;return e.isThemeGetter=!0,e},m2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,p2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,hz=/^\d+\/\d+$/,fz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,pz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rl=t=>hz.test(t),qe=t=>!!t&&!Number.isNaN(Number(t)),Zr=t=>!!t&&Number.isInteger(Number(t)),qg=t=>t.endsWith("%")&&qe(t.slice(0,-1)),sr=t=>fz.test(t),yz=()=>!0,vz=t=>dz.test(t)&&!mz.test(t),g2=()=>!1,_z=t=>pz.test(t),bz=t=>gz.test(t),Tz=t=>!Ee(t)&&!xe(t),wz=t=>ql(t,_2,g2),Ee=t=>m2.test(t),Za=t=>ql(t,b2,vz),Gg=t=>ql(t,Cz,qe),px=t=>ql(t,y2,g2),Ez=t=>ql(t,v2,bz),Nf=t=>ql(t,T2,_z),xe=t=>p2.test(t),Qc=t=>Gl(t,b2),xz=t=>Gl(t,Rz),gx=t=>Gl(t,y2),Sz=t=>Gl(t,_2),Az=t=>Gl(t,v2),kf=t=>Gl(t,T2,!0),ql=(t,e,n)=>{const s=m2.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Gl=(t,e,n=!1)=>{const s=p2.exec(t);return s?s[1]?e(s[1]):n:!1},y2=t=>t==="position"||t==="percentage",v2=t=>t==="image"||t==="url",_2=t=>t==="length"||t==="size"||t==="bg-size",b2=t=>t==="length",Cz=t=>t==="number",Rz=t=>t==="family-name",T2=t=>t==="shadow",Iz=()=>{const t=ln("color"),e=ln("font"),n=ln("text"),s=ln("font-weight"),a=ln("tracking"),l=ln("leading"),u=ln("breakpoint"),d=ln("container"),m=ln("spacing"),p=ln("radius"),y=ln("shadow"),v=ln("inset-shadow"),T=ln("text-shadow"),R=ln("drop-shadow"),L=ln("blur"),j=ln("perspective"),D=ln("aspect"),z=ln("ease"),q=ln("animate"),H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ne=()=>[...oe(),xe,Ee],de=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],S=()=>[xe,Ee,m],k=()=>[rl,"full","auto",...S()],V=()=>[Zr,"none","subgrid",xe,Ee],M=()=>["auto",{span:["full",Zr,xe,Ee]},Zr,xe,Ee],P=()=>[Zr,"auto",xe,Ee],N=()=>["auto","min","max","fr",xe,Ee],ye=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Se=()=>["start","end","center","stretch","center-safe","end-safe"],Z=()=>["auto",...S()],he=()=>[rl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],re=()=>[t,xe,Ee],Ne=()=>[...oe(),gx,px,{position:[xe,Ee]}],F=()=>["no-repeat",{repeat:["","x","y","space","round"]}],x=()=>["auto","cover","contain",Sz,wz,{size:[xe,Ee]}],K=()=>[qg,Qc,Za],ee=()=>["","none","full",p,xe,Ee],se=()=>["",qe,Qc,Za],me=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],fe=()=>[qe,qg,gx,px],_e=()=>["","none",L,xe,Ee],Ce=()=>["none",qe,xe,Ee],He=()=>["none",qe,xe,Ee],Ge=()=>[qe,xe,Ee],Qe=()=>[rl,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[sr],breakpoint:[sr],color:[yz],container:[sr],"drop-shadow":[sr],ease:["in","out","in-out"],font:[Tz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[sr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[sr],shadow:[sr],spacing:["px",qe],text:[sr],"text-shadow":[sr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",rl,Ee,xe,D]}],container:["container"],columns:[{columns:[qe,Ee,xe,d]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ne()}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Zr,"auto",xe,Ee]}],basis:[{basis:[rl,"full","auto",d,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qe,rl,"auto","initial","none",Ee]}],grow:[{grow:["",qe,xe,Ee]}],shrink:[{shrink:["",qe,xe,Ee]}],order:[{order:[Zr,"first","last","none",xe,Ee]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...ye(),"normal"]}],"justify-items":[{"justify-items":[...Se(),"normal"]}],"justify-self":[{"justify-self":["auto",...Se()]}],"align-content":[{content:["normal",...ye()]}],"align-items":[{items:[...Se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Se(),{baseline:["","last"]}]}],"place-content":[{"place-content":ye()}],"place-items":[{"place-items":[...Se(),"baseline"]}],"place-self":[{"place-self":["auto",...Se()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:Z()}],mx:[{mx:Z()}],my:[{my:Z()}],ms:[{ms:Z()}],me:[{me:Z()}],mt:[{mt:Z()}],mr:[{mr:Z()}],mb:[{mb:Z()}],ml:[{ml:Z()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:he()}],w:[{w:[d,"screen",...he()]}],"min-w":[{"min-w":[d,"screen","none",...he()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...he()]}],h:[{h:["screen","lh",...he()]}],"min-h":[{"min-h":["screen","lh","none",...he()]}],"max-h":[{"max-h":["screen","lh",...he()]}],"font-size":[{text:["base",n,Qc,Za]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,xe,Gg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",qg,Ee]}],"font-family":[{font:[xz,Ee,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,xe,Ee]}],"line-clamp":[{"line-clamp":[qe,"none",xe,Gg]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",xe,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xe,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:re()}],"text-color":[{text:re()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:[qe,"from-font","auto",xe,Za]}],"text-decoration-color":[{decoration:re()}],"underline-offset":[{"underline-offset":[qe,"auto",xe,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ne()}],"bg-repeat":[{bg:F()}],"bg-size":[{bg:x()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Zr,xe,Ee],radial:["",xe,Ee],conic:[Zr,xe,Ee]},Az,Ez]}],"bg-color":[{bg:re()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:re()}],"gradient-via":[{via:re()}],"gradient-to":[{to:re()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...me(),"hidden","none"]}],"divide-style":[{divide:[...me(),"hidden","none"]}],"border-color":[{border:re()}],"border-color-x":[{"border-x":re()}],"border-color-y":[{"border-y":re()}],"border-color-s":[{"border-s":re()}],"border-color-e":[{"border-e":re()}],"border-color-t":[{"border-t":re()}],"border-color-r":[{"border-r":re()}],"border-color-b":[{"border-b":re()}],"border-color-l":[{"border-l":re()}],"divide-color":[{divide:re()}],"outline-style":[{outline:[...me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qe,xe,Ee]}],"outline-w":[{outline:["",qe,Qc,Za]}],"outline-color":[{outline:re()}],shadow:[{shadow:["","none",y,kf,Nf]}],"shadow-color":[{shadow:re()}],"inset-shadow":[{"inset-shadow":["none",v,kf,Nf]}],"inset-shadow-color":[{"inset-shadow":re()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:re()}],"ring-offset-w":[{"ring-offset":[qe,Za]}],"ring-offset-color":[{"ring-offset":re()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":re()}],"text-shadow":[{"text-shadow":["none",T,kf,Nf]}],"text-shadow-color":[{"text-shadow":re()}],opacity:[{opacity:[qe,xe,Ee]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":fe()}],"mask-image-linear-to-pos":[{"mask-linear-to":fe()}],"mask-image-linear-from-color":[{"mask-linear-from":re()}],"mask-image-linear-to-color":[{"mask-linear-to":re()}],"mask-image-t-from-pos":[{"mask-t-from":fe()}],"mask-image-t-to-pos":[{"mask-t-to":fe()}],"mask-image-t-from-color":[{"mask-t-from":re()}],"mask-image-t-to-color":[{"mask-t-to":re()}],"mask-image-r-from-pos":[{"mask-r-from":fe()}],"mask-image-r-to-pos":[{"mask-r-to":fe()}],"mask-image-r-from-color":[{"mask-r-from":re()}],"mask-image-r-to-color":[{"mask-r-to":re()}],"mask-image-b-from-pos":[{"mask-b-from":fe()}],"mask-image-b-to-pos":[{"mask-b-to":fe()}],"mask-image-b-from-color":[{"mask-b-from":re()}],"mask-image-b-to-color":[{"mask-b-to":re()}],"mask-image-l-from-pos":[{"mask-l-from":fe()}],"mask-image-l-to-pos":[{"mask-l-to":fe()}],"mask-image-l-from-color":[{"mask-l-from":re()}],"mask-image-l-to-color":[{"mask-l-to":re()}],"mask-image-x-from-pos":[{"mask-x-from":fe()}],"mask-image-x-to-pos":[{"mask-x-to":fe()}],"mask-image-x-from-color":[{"mask-x-from":re()}],"mask-image-x-to-color":[{"mask-x-to":re()}],"mask-image-y-from-pos":[{"mask-y-from":fe()}],"mask-image-y-to-pos":[{"mask-y-to":fe()}],"mask-image-y-from-color":[{"mask-y-from":re()}],"mask-image-y-to-color":[{"mask-y-to":re()}],"mask-image-radial":[{"mask-radial":[xe,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":fe()}],"mask-image-radial-to-pos":[{"mask-radial-to":fe()}],"mask-image-radial-from-color":[{"mask-radial-from":re()}],"mask-image-radial-to-color":[{"mask-radial-to":re()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":oe()}],"mask-image-conic-pos":[{"mask-conic":[qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":fe()}],"mask-image-conic-to-pos":[{"mask-conic-to":fe()}],"mask-image-conic-from-color":[{"mask-conic-from":re()}],"mask-image-conic-to-color":[{"mask-conic-to":re()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ne()}],"mask-repeat":[{mask:F()}],"mask-size":[{mask:x()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xe,Ee]}],filter:[{filter:["","none",xe,Ee]}],blur:[{blur:_e()}],brightness:[{brightness:[qe,xe,Ee]}],contrast:[{contrast:[qe,xe,Ee]}],"drop-shadow":[{"drop-shadow":["","none",R,kf,Nf]}],"drop-shadow-color":[{"drop-shadow":re()}],grayscale:[{grayscale:["",qe,xe,Ee]}],"hue-rotate":[{"hue-rotate":[qe,xe,Ee]}],invert:[{invert:["",qe,xe,Ee]}],saturate:[{saturate:[qe,xe,Ee]}],sepia:[{sepia:["",qe,xe,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",xe,Ee]}],"backdrop-blur":[{"backdrop-blur":_e()}],"backdrop-brightness":[{"backdrop-brightness":[qe,xe,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[qe,xe,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qe,xe,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qe,xe,Ee]}],"backdrop-invert":[{"backdrop-invert":["",qe,xe,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[qe,xe,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[qe,xe,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",qe,xe,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xe,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qe,"initial",xe,Ee]}],ease:[{ease:["linear","initial",z,xe,Ee]}],delay:[{delay:[qe,xe,Ee]}],animate:[{animate:["none",q,xe,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,xe,Ee]}],"perspective-origin":[{"perspective-origin":ne()}],rotate:[{rotate:Ce()}],"rotate-x":[{"rotate-x":Ce()}],"rotate-y":[{"rotate-y":Ce()}],"rotate-z":[{"rotate-z":Ce()}],scale:[{scale:He()}],"scale-x":[{"scale-x":He()}],"scale-y":[{"scale-y":He()}],"scale-z":[{"scale-z":He()}],"scale-3d":["scale-3d"],skew:[{skew:Ge()}],"skew-x":[{"skew-x":Ge()}],"skew-y":[{"skew-y":Ge()}],transform:[{transform:[xe,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:ne()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Qe()}],"translate-x":[{"translate-x":Qe()}],"translate-y":[{"translate-y":Qe()}],"translate-z":[{"translate-z":Qe()}],"translate-none":["translate-none"],accent:[{accent:re()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:re()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe,Ee]}],fill:[{fill:["none",...re()]}],"stroke-w":[{stroke:[qe,Qc,Za,Gg]}],stroke:[{stroke:["none",...re()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Dz=cz(Iz);function Ni(...t){return Dz(F9(t))}const Nz=({items:t,isOpen:e,onClose:n})=>{const[s,a]=O.useState(null),l=O.useMemo(()=>t.map((m,p)=>({...m,originalIndex:p})).filter(m=>m.isCompleted&&m.proofPhotos&&m.proofPhotos.length>0).sort((m,p)=>{const y=m.completedAt?.toDate?.()||new Date(0);return(p.completedAt?.toDate?.()||new Date(0)).getTime()-y.getTime()}),[t]),u=O.useMemo(()=>{const m={};return l.forEach(p=>{const v=(p.completedAt?.toDate?.()||new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"});m[v]||(m[v]=[]),m[v].push(p)}),m},[l]),d=m=>m?(m.toDate?m.toDate():new Date(m)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e?E.jsx(Es,{children:E.jsxs(vt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-bg-dark overflow-y-auto",children:[E.jsx("div",{className:"sticky top-0 z-10 bg-bg-dark/95 backdrop-blur-md border-b border-white/10",children:E.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(Hy,{className:"w-6 h-6 text-accent-gold"}),E.jsx("h1",{className:"text-xl font-bold text-white",children:"2026 Memories"}),E.jsxs("span",{className:"text-sm text-slate-400",children:["(",l.length," moments)"]})]}),E.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-white transition-colors rounded-full hover:bg-white/10",children:E.jsx(El,{size:24})})]})}),E.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:l.length===0?E.jsxs("div",{className:"text-center py-20",children:[E.jsx(Hy,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),E.jsx("h2",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No memories yet"}),E.jsx("p",{className:"text-slate-500",children:"Complete tasks and add photos to build your 2026 album!"})]}):Object.entries(u).map(([m,p])=>E.jsxs("div",{className:"mb-8",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[E.jsx(Id,{className:"w-4 h-4 text-accent-primary"}),E.jsx("h2",{className:"text-lg font-semibold text-accent-primary",children:m}),E.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent-primary/30 to-transparent"})]}),E.jsx("div",{className:"space-y-6",children:p.map((y,v)=>E.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"bg-bg-card/80 rounded-2xl border border-white/10 overflow-hidden shadow-xl",children:[E.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer",onClick:()=>a({memoryIdx:l.indexOf(y),photoIdx:0}),children:[E.jsx("img",{src:y.proofPhotos[0],alt:y.text,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),y.proofPhotos.length>1&&E.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-full text-white text-xs font-medium",children:["+",y.proofPhotos.length-1," more"]})]}),y.proofPhotos.length>1&&E.jsx("div",{className:"flex gap-1 p-2 bg-black/30 overflow-x-auto",children:y.proofPhotos.map((T,R)=>E.jsx("button",{onClick:()=>a({memoryIdx:l.indexOf(y),photoIdx:R}),className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 border-2 border-transparent hover:border-accent-primary transition-all",children:E.jsx("img",{src:T,alt:"",className:"w-full h-full object-cover"})},R))}),E.jsxs("div",{className:"p-4",children:[E.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[E.jsx("span",{className:"text-accent-gold",children:""}),y.text]}),E.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(k9,{size:14}),y.completedBy]}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(Id,{size:14}),d(y.completedAt)]})]})]})]},y.id))})]},m))}),E.jsx(Es,{children:s!==null&&l[s.memoryIdx]&&E.jsxs(vt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>a(null),children:[E.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white",children:E.jsx(El,{size:32})}),(()=>{const m=l[s.memoryIdx],p=m.proofPhotos||[],y=s.photoIdx;return E.jsxs("div",{className:"relative max-w-4xl w-full",onClick:v=>v.stopPropagation(),children:[E.jsx("img",{src:p[y],alt:"",className:"w-full max-h-[80vh] object-contain rounded-lg"}),p.length>1&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:()=>a({...s,photoIdx:y>0?y-1:p.length-1}),className:"absolute left-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:E.jsx(n2,{size:28})}),E.jsx("button",{onClick:()=>a({...s,photoIdx:y<p.length-1?y+1:0}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:E.jsx(i2,{size:28})})]}),E.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[E.jsx("p",{className:"text-white font-semibold",children:m.text}),E.jsxs("p",{className:"text-slate-300 text-sm",children:[y+1," / ",p.length,"  ",d(m.completedAt)]})]})]})})()]})})]})}):null},yx=()=>{const{boardId:t,yearId:e}=KD(),n=Md(),s=e?void 0:t,{items:a,members:l,loading:u,toggleItem:d,hasWon:m,bingoCount:p,isLocked:y,unlockBoard:v,jumbleAndLock:T,saveBoard:R,completeWithPhoto:L,addPhotoToTile:j,decrementProgress:D,inviteUser:z,removeMember:q}=B9(s),{logout:H,user:oe}=qu(),ne=o2(),[de,I]=O.useState(!1),[S,k]=O.useState([]),[V,M]=O.useState(!1),[P,N]=O.useState(!1),[ye,Se]=O.useState([]),[Z,he]=O.useState(null),[re,Ne]=O.useState(""),[F,x]=O.useState({}),[K,ee]=O.useState(1),[se,me]=O.useState(""),[pe,fe]=O.useState(!1),[_e,Ce]=O.useState(0),[He,Ge]=O.useState(null),[Qe,ct]=O.useState(!1);O.useEffect(()=>{!localStorage.getItem("hasSeenWalkthrough")&&!u&&a.length>0&&fe(!0)},[u,a]),O.useEffect(()=>{(async()=>{if(P&&l){const Ie=[];for(const[wt,Et]of Object.entries(l))if(Et!=="owner")try{const bt=await rm(la(Vi,"users",wt));if(bt.exists()){const Rn=bt.data();Ie.push({id:wt,name:Rn.displayName||"Unknown",email:Rn.email||"No email",role:Et})}}catch(bt){console.error("Error fetching user:",bt)}Se(Ie)}})()},[P,l]);const Pe=async(Y,Ie)=>{await ne.confirm(`Are you sure you want to remove ${Ie} from this board?`,{title:"Remove Member",type:"error",confirmText:"Remove"})&&((await q(Y)).success?(Se(bt=>bt.filter(Rn=>Rn.id!==Y)),await ne.alert(`${Ie} has been removed.`,{type:"success"})):await ne.alert("Failed to remove member.",{type:"error"}))},Pt=async()=>{const Y=await ne.sharePrompt("Enter their email address to invite them to this board.",{title:"Invite User"});if(Y){const Ie=await z(Y.email,Y.role);if(Ie.type==="success")await ne.alert(Ie.message,{title:"Success!",type:"success"});else if(Ie.type==="not_found"){if(await ne.confirm(`"${Y.email}" hasn't signed up yet.

Would you like to send them an email invitation to join SunSar Bingo?`,{title:"User Not Found",confirmText:"Send Invite Email",type:"info"}))try{const{sendInviteEmail:Et,openMailtoFallback:bt}=await Yg(async()=>{const{sendInviteEmail:fn,openMailtoFallback:Gn}=await import("./emailService-DHalokIG.js");return{sendInviteEmail:fn,openMailtoFallback:Gn}},[]);(await Et({recipientEmail:Y.email,senderName:oe?.displayName||oe?.email||"A friend"})).success?await ne.alert(`Invitation sent to ${Y.email}! They'll receive an email with instructions to join.`,{title:"Invitation Sent!",type:"success"}):(bt(Y.email,oe?.displayName||"A friend"),await ne.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"}))}catch{const bt=encodeURIComponent("Join me on SunSar Bingo!"),Rn=encodeURIComponent(`Hey! Come join me on SunSar Bingo to track our 2026 goals together.

Sign up here: ${window.location.origin}`);window.open(`mailto:${Y.email}?subject=${bt}&body=${Rn}`),await ne.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"})}}else await ne.alert(Ie.message,{title:"Error",type:"error"})}},Ft=()=>{_e<2?Ce(Y=>Y+1):(fe(!1),localStorage.setItem("hasSeenWalkthrough","true"))},[an,Ot]=O.useState(!1),[tt,Ke]=O.useState(null),[An,vr]=O.useState(!1),Os=O.useRef(null),[$t,zn]=O.useState(!1),[dt,ti]=O.useState(null),[ni,Bi]=O.useState(null),[gi,Bn]=O.useState(0),[Ls,Cn]=O.useState(!1),Lt=O.useRef(null),[Fn,Ct]=O.useState(!1),[vo,js]=O.useState(()=>localStorage.getItem("celebrationDismissed")==="true"),[_r,Hn]=O.useState(0);O.useEffect(()=>{_r===5&&(v(),Hn(0),l2({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#ec4899","#ffffff"]}));let Y;return _r>0&&(Y=setTimeout(()=>Hn(0),1e3)),()=>clearTimeout(Y)},[_r,v]);const Us=()=>{y&&Hn(Y=>Y+1)},jt=async()=>{await ne.confirm(`This will randomly shuffle all tiles (except the center) and LOCK the board.

(Tap the logo 5 times to Undo/Unlock).`,{title:"Jumble & Finalize Board?",confirmText:"Finalize",type:"warning"})&&(T(),I(!1))},yi=()=>{js(!0),localStorage.setItem("celebrationDismissed","true")};nD.useEffect(()=>{!u&&!m&&(js(!1),localStorage.removeItem("celebrationDismissed"))},[m,u]);const vi=Y=>{const Ie=de?S:a;if(he(Y),Ne(Ie[Y].text),x(Ie[Y].style||{color:"#ffffff",fontSize:"base",bold:!1,italic:!1}),ee(Ie[Y].targetCount||1),Ie[Y].dueDate){const wt=Ie[Y].dueDate,Et=typeof wt.toDate=="function"?wt.toDate():new Date(wt),bt=Et.getFullYear(),Rn=String(Et.getMonth()+1).padStart(2,"0"),fn=String(Et.getDate()).padStart(2,"0");me(`${bt}-${Rn}-${fn}`)}else me("");M(!0)},ii=()=>{if(Z===null)return;let Y;se&&(Y=new Date(se+"T12:00:00"));const Ie=[...S];Ie[Z]={...Ie[Z],text:re,style:F,targetCount:K,dueDate:Y},k(Ie),M(!1),he(null)};if(u)return E.jsxs("div",{className:"flex h-screen items-center justify-center text-accent-primary animate-pulse",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),E.jsx("p",{children:"Loading Board..."})]}),P&&E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[E.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>N(!1)}),E.jsxs("div",{className:"relative w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[E.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[E.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[E.jsx(Hg,{className:"w-5 h-5 text-accent-primary"}),"Shared With"]}),E.jsx("button",{onClick:()=>N(!1),className:"text-slate-400 hover:text-white",children:E.jsx(El,{className:"w-5 h-5"})})]}),E.jsxs("div",{className:"p-6",children:[ye.length===0?E.jsx("div",{className:"text-center text-slate-400 py-8",children:E.jsx("p",{children:"This board hasn't been shared yet."})}):E.jsx("div",{className:"space-y-4 mb-6",children:ye.map(Y=>E.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-3 rounded-xl border border-white/5",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:Y.name.charAt(0)}),E.jsxs("div",{children:[E.jsx("div",{className:"text-sm font-semibold text-white",children:Y.name}),E.jsxs("div",{className:"text-xs text-slate-400",children:[Y.email,"  ",Y.role]})]})]}),E.jsx("button",{onClick:()=>Pe(Y.id,Y.name),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove User",children:E.jsx(r2,{size:16})})]},Y.id))}),E.jsxs("button",{onClick:Pt,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all flex items-center justify-center gap-2",children:[E.jsx(Dd,{size:18}),"Invite New User"]})]})]})]})]});const Sa=a.filter(Y=>Y.isCompleted).length/25*100,qn=Y=>{if(!Y)return"-";const Ie=Y.toDate?Y.toDate():new Date(Y);return Ie.toLocaleDateString()+" "+Ie.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},Fi=de?S:a,Kl=Y=>{const Ie=Fi[Y];Ge({index:Y,wasCompleted:Ie.isCompleted}),d(Y),ct(!0),setTimeout(()=>ct(!1),3e3)};return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"min-h-screen flex flex-col items-center p-3 pb-24 relative overflow-x-hidden no-print",children:[E.jsx("div",{className:"background-animation"}),E.jsxs("header",{className:"w-full max-w-[500px] flex justify-between items-center mb-4 pt-2 px-2",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(vt.img,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},src:"/logo.png",alt:"SunSar Bingo",className:"h-14 sm:h-16 w-auto object-contain cursor-pointer active:scale-95 transition-transform",onClick:Us}),E.jsx(vt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-[9px] font-bold text-accent-gold uppercase tracking-wider bg-accent-gold/10 px-2 py-0.5 rounded-full border border-accent-gold/20",children:"2026"})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("button",{onClick:()=>Ct(!0),className:"text-slate-400 hover:text-accent-gold transition-colors p-2 hover:bg-white/5 rounded-full",title:"View Memories",children:E.jsx(Hy,{size:20})}),E.jsx("button",{onClick:()=>n("/dashboard"),className:"text-slate-400 hover:text-white transition-colors p-2 hover:bg-white/5 rounded-full",title:"Dashboard",children:E.jsx(qy,{size:20})}),E.jsx("button",{onClick:()=>N(!0),className:"text-slate-400 hover:text-accent-primary transition-colors p-2 hover:bg-white/5 rounded-full",title:"Share Board",children:E.jsx(Hg,{size:20})}),E.jsxs(vt.div,{initial:{scale:0},animate:{scale:1},className:"relative cursor-pointer group",children:[E.jsx("img",{src:oe?.photoURL||"",alt:"User",className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full border-2 border-glass-border group-hover:border-accent-primary transition-colors"}),E.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-bg-dark"})]}),E.jsx("button",{onClick:H,className:"text-slate-400 hover:text-red-400 transition-colors p-2 hover:bg-white/5 rounded-full",title:"Logout",children:E.jsx(s2,{size:20})})]})]}),E.jsx("div",{className:"w-full max-w-[500px] aspect-square relative mb-6",children:E.jsx("div",{className:"grid grid-cols-5 gap-1.5 sm:gap-2 w-full h-full",children:Fi.map((Y,Ie)=>E.jsxs(vt.div,{title:Y.isCompleted?`Completed by ${Y.completedBy||"Someone"} on ${qn(Y.completedAt)}`:void 0,layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:Ie*.02},whileTap:{scale:.95},onClick:()=>{de||Y.isFreeSpace||(Y.isCompleted?Y.proofPhotos&&Y.proofPhotos.length>0?(ti(Y),Bi(Ie),Bn(0),zn(!0)):Kl(Ie):(Ke(Ie),Ot(!0)))},className:Ni("relative rounded-lg flex items-center justify-center p-1 cursor-pointer select-none border backdrop-blur-sm overflow-hidden","font-hand text-[11px] sm:text-sm font-medium leading-tight select-none",Y.isCompleted?"text-white scale-110 font-semibold":"text-slate-300","bg-bg-card/90 border-white/20 shadow-md hover:border-white/40 hover:bg-bg-card/95 transition-all duration-200",Y.isCompleted&&!Y.isFreeSpace&&"bg-gradient-to-br from-accent-primary/30 to-accent-secondary/30 border-accent-primary/50 shadow-[0_0_15px_rgba(139,92,246,0.15)]",Y.isFreeSpace&&"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50",de&&"border-dashed border-slate-500"),children:[E.jsx("div",{className:"w-full h-full flex items-center justify-center text-center relative z-10",children:E.jsx("div",{className:"w-full h-full flex items-center justify-center p-1",onClick:wt=>{de&&(wt.stopPropagation(),vi(Ie))},children:E.jsx("span",{className:Ni("leading-tight break-words w-full",Y.isFreeSpace?"text-lg font-bold text-accent-gold":"font-hand font-semibold line-clamp-3 sm:line-clamp-4",Y.isCompleted&&!Y.isFreeSpace&&"text-white"),style:!Y.isFreeSpace&&!Y.isCompleted?{color:Y.style?.color||"#cbd5e1",fontWeight:Y.style?.bold?"bold":"600",fontStyle:Y.style?.italic?"italic":"normal",fontSize:Y.style?.fontSize==="sm"?"12px":Y.style?.fontSize==="lg"?"18px":Y.style?.fontSize==="xl"?"22px":void 0}:void 0,children:Y.text})})}),Y.dueDate&&!Y.isCompleted&&!y&&E.jsxs("div",{className:Ni("flex items-center gap-1 mt-1 text-[10px] font-medium absolute bottom-1 right-1 px-1 rounded bg-black/40 backdrop-blur-sm",(Y.dueDate.toDate?Y.dueDate.toDate():new Date(Y.dueDate))<new Date?"text-red-400":"text-slate-400"),children:[E.jsx(g9,{size:8}),E.jsx("span",{children:(Y.dueDate.toDate?Y.dueDate.toDate():new Date(Y.dueDate)).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),Y.isCompleted&&!Y.isFreeSpace&&!de&&E.jsxs(E.Fragment,{children:[E.jsx(vt.div,{initial:{scale:0},animate:{scale:1},className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-20",children:E.jsx(Df,{className:"w-12 h-12 text-white"})}),E.jsx("div",{className:"absolute top-0.5 right-0.5 w-1.5 h-1.5 bg-accent-primary rounded-full shadow-[0_0_5px_rgba(139,92,246,0.8)]"}),Y.proofPhotos&&Y.proofPhotos.length>0&&E.jsxs("div",{className:"absolute bottom-0.5 left-0.5 p-0.5 bg-accent-gold/80 rounded-sm flex items-center gap-0.5",children:[E.jsx(ox,{className:"w-2.5 h-2.5 text-black"}),Y.proofPhotos.length>1&&E.jsx("span",{className:"text-[8px] font-bold text-black",children:Y.proofPhotos.length})]})]}),!Y.isFreeSpace&&!de&&(Y.targetCount||1)>1&&E.jsxs("div",{className:Ni("absolute bottom-0.5 right-0.5 px-1 py-0.5 rounded text-[8px] font-bold",Y.isCompleted?"bg-green-500/80 text-white":(Y.currentCount||0)>0?"bg-amber-500/80 text-white":"bg-slate-600/80 text-slate-300"),children:[Y.currentCount||0,"/",Y.targetCount]})]},Y.id))})}),E.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[500px] glass-panel p-4 flex flex-col gap-4",children:[E.jsxs("div",{className:"w-full",children:[E.jsxs("div",{className:"flex justify-between text-xs text-slate-300 mb-1.5 px-1",children:[E.jsx("span",{className:"font-semibold",children:"Progress"}),E.jsxs("div",{className:"flex gap-3",children:[E.jsxs("span",{className:"font-mono text-accent-gold font-bold",children:[p,"/12 Bingos"]}),E.jsxs("span",{className:"font-mono text-accent-primary",children:[Math.round(Sa),"%"]})]})]}),E.jsx("div",{className:"h-3 bg-bg-dark/50 rounded-full overflow-hidden border border-white/5",children:E.jsx(vt.div,{className:"h-full bg-gradient-to-r from-accent-primary to-accent-secondary relative",initial:{width:0},animate:{width:`${Sa}%`},transition:{duration:1,ease:"easeOut"},children:E.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[1px] bg-white/50 shadow-[0_0_10px_white]"})})})]}),E.jsx("div",{className:"flex justify-center gap-2",children:de?E.jsx(E.Fragment,{children:E.jsxs("div",{className:"flex gap-2 w-full",children:[E.jsx("button",{onClick:()=>I(!1),className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10 transition-all",children:"Cancel"}),E.jsxs("button",{onClick:()=>{R(S),I(!1)},className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 transition-all flex items-center justify-center gap-2",children:[E.jsx(Df,{size:16}),"Save Changes"]})]})}):E.jsxs("div",{className:"flex gap-2 justify-center w-full flex-wrap",children:[!y&&E.jsxs(E.Fragment,{children:[E.jsxs("button",{onClick:()=>{k([...a]),I(!0)},className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[E.jsx(cx,{size:12}),"Edit Board"]}),E.jsxs("button",{onClick:jt,className:"flex-1 py-2 px-4 text-xs font-medium text-red-400 hover:text-red-300 transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[E.jsx(C9,{size:12}),"Jumble & Finalize"]})]}),E.jsxs("button",{onClick:()=>window.print(),className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[E.jsx(x9,{size:12}),"Print Status"]})]})})]}),E.jsx(Es,{children:m&&!vo&&E.jsx(vt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:E.jsxs(vt.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center max-w-sm w-full relative overflow-hidden border-accent-gold/30",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent-gold/10 to-transparent pointer-events-none"}),E.jsx(vt.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"inline-block",children:E.jsx(ax,{className:"w-20 h-20 text-accent-gold mx-auto mb-4 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),E.jsx("h2",{className:"text-4xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-accent-gold via-white to-accent-secondary mb-2",children:"BINGO!"}),E.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"2026 is off to an amazing start!"}),E.jsx("button",{onClick:yi,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-[0_0_20px_rgba(139,92,246,0.4)] transition-all transform hover:scale-105",children:"Keep Playing"})]})})}),E.jsx(Es,{children:V&&E.jsx(vt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:()=>M(!1),children:E.jsxs(vt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-gold/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl relative overflow-hidden",onClick:Y=>Y.stopPropagation(),children:[E.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Edit Tile"}),E.jsx("div",{className:"mb-4 flex justify-center",children:E.jsx("div",{className:"w-32 h-32 rounded-lg bg-bg-card/80 border border-white/10 flex items-center justify-center p-2 text-center overflow-hidden",children:E.jsx("span",{className:Ni("font-hand font-semibold leading-tight break-words"),style:{color:F.color||"#ffffff",fontWeight:F.bold?"bold":"600",fontStyle:F.italic?"italic":"normal",fontSize:F.fontSize==="sm"?"12px":F.fontSize==="lg"?"18px":F.fontSize==="xl"?"22px":"16px"},children:re||"Preview Text"})})}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Content"}),E.jsx("textarea",{className:"w-full bg-black/20 text-white rounded-lg p-3 border border-white/10 focus:border-accent-primary outline-none min-h-[80px]",value:re,onChange:Y=>Ne(Y.target.value),placeholder:"Enter bingo task..."})]}),E.jsxs("div",{className:"mb-6 space-y-3",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Color"}),E.jsx("div",{className:"flex gap-2 flex-wrap",children:["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#ec4899","#a855f7"].map(Y=>E.jsx("button",{className:Ni("w-6 h-6 rounded-full border border-white/10 transition-transform active:scale-90",F.color===Y&&"ring-2 ring-white scale-110"),style:{backgroundColor:Y},onClick:()=>x(Ie=>({...Ie,color:Y}))},Y))})]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),E.jsx("div",{className:"flex bg-black/20 rounded-lg p-1",children:["sm","base","lg","xl"].map(Y=>E.jsx("button",{onClick:()=>x(Ie=>({...Ie,fontSize:Y})),className:Ni("flex-1 py-1 text-[10px] font-bold rounded transition-colors uppercase",(F.fontSize||"base")===Y?"bg-accent-primary text-white":"text-slate-400 hover:text-white"),children:Y==="base"?"M":Y},Y))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Style"}),E.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-lg p-1",children:[E.jsx("button",{onClick:()=>x(Y=>({...Y,bold:!Y.bold})),className:Ni("w-8 h-full rounded flex items-center justify-center font-bold transition-colors",F.bold?"bg-white text-black":"text-slate-400 hover:text-white"),children:"B"}),E.jsx("button",{onClick:()=>x(Y=>({...Y,italic:!Y.italic})),className:Ni("w-8 h-full rounded flex items-center justify-center italic transition-colors font-serif",F.italic?"bg-white text-black":"text-slate-400 hover:text-white"),children:"I"})]})]})]})]}),E.jsxs("div",{className:"space-y-4 mb-6 pt-4 border-t border-white/10",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Target Count"}),E.jsx("input",{type:"number",min:"1",max:"100",value:K,onChange:Y=>ee(parseInt(Y.target.value)||1),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors"}),E.jsx("p",{className:"text-xs text-slate-500",children:"How many times to complete this?"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Due Date (Optional)"}),E.jsx("input",{type:"date",value:se,onChange:Y=>me(Y.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors [color-scheme:dark]"})]})]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>M(!1),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),E.jsx("button",{onClick:ii,className:"flex-1 py-3 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl font-bold text-white shadow-lg hover:shadow-violet-500/25 active:scale-95 transition-all",children:"Ok"})]})]})})}),E.jsx(Es,{children:an&&tt!==null&&E.jsx(vt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{Ot(!1),Ke(null)},children:E.jsx(vt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-primary/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl",onClick:Y=>Y.stopPropagation(),children:(()=>{const Y=Fi[tt],Ie=Y?.targetCount||1,wt=Y?.currentCount||0,Et=Ie>1,bt=wt>0;return E.jsxs(E.Fragment,{children:[E.jsx("h3",{className:"text-xl font-bold text-white mb-2 text-center",children:bt?"Add Progress":"Complete Task"}),E.jsxs("p",{className:"text-slate-300 text-sm text-center mb-2 line-clamp-2",children:["",Y?.text,""]}),Et&&E.jsx("div",{className:"text-center mb-4",children:E.jsxs("span",{className:Ni("inline-block px-3 py-1 rounded-full text-sm font-bold",bt?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"),children:["Progress: ",wt," / ",Ie]})}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:Os,className:"hidden",onChange:async Rn=>{const fn=Rn.target.files?.[0];if(fn&&tt!==null){vr(!0);try{await L(tt,fn),Ot(!1),Ke(null)}catch{alert("Failed to upload photo. Please try again.")}finally{vr(!1)}}}}),E.jsxs("button",{onClick:()=>Os.current?.click(),disabled:An,className:"w-full py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-amber-500/25 active:scale-95 transition-all disabled:opacity-50",children:[E.jsx(ox,{size:20}),An?"Uploading...":Et?"Add Photo & +1":"Add Photo & Complete"]}),E.jsxs("button",{onClick:()=>{d(tt),Ot(!1),Ke(null)},disabled:An,className:"w-full py-3 px-4 bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-green-500/25 active:scale-95 transition-all disabled:opacity-50",children:[E.jsx(Df,{size:20}),Et?`Mark +1 (${wt+1}/${Ie})`:"Mark Complete"]}),bt&&E.jsxs("button",{onClick:()=>{D(tt),Ot(!1),Ke(null)},disabled:An,className:"w-full py-2 rounded-xl font-semibold text-red-400 hover:bg-red-500/10 transition-colors disabled:opacity-50",children:["Remove Progress (",wt-1,"/",Ie,")"]}),E.jsx("button",{onClick:()=>{Ot(!1),Ke(null)},disabled:An,className:"w-full py-3 rounded-xl font-semibold bg-white/5 text-slate-400 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"})]})]})})()})})}),E.jsx(Es,{children:$t&&dt&&dt.proofPhotos&&dt.proofPhotos.length>0&&E.jsx(vt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{zn(!1),ti(null),Bi(null)},children:E.jsxs(vt.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-lg w-full",onClick:Y=>Y.stopPropagation(),children:[E.jsx("button",{onClick:()=>{zn(!1),ti(null),Bi(null)},className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors z-10",children:E.jsx(El,{size:28})}),E.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[E.jsxs("div",{className:"relative bg-black",children:[E.jsx("img",{src:dt.proofPhotos[gi],alt:`Proof photo ${gi+1}`,className:"w-full h-auto max-h-[50vh] object-contain"}),dt.proofPhotos.length>1&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:()=>Bn(Y=>Y>0?Y-1:dt.proofPhotos.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:E.jsx(n2,{size:24})}),E.jsx("button",{onClick:()=>Bn(Y=>Y<dt.proofPhotos.length-1?Y+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:E.jsx(i2,{size:24})})]}),E.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/60 rounded-full text-white text-xs font-medium",children:[gi+1," / ",dt.proofPhotos.length]})]}),dt.proofPhotos.length>1&&E.jsx("div",{className:"flex gap-1 p-2 bg-bg-dark/80 overflow-x-auto",children:dt.proofPhotos.map((Y,Ie)=>E.jsx("button",{onClick:()=>Bn(Ie),className:Ni("w-12 h-12 rounded-md overflow-hidden border-2 flex-shrink-0 transition-all",gi===Ie?"border-accent-primary":"border-transparent opacity-60 hover:opacity-100"),children:E.jsx("img",{src:Y,alt:"",className:"w-full h-full object-cover"})},Ie))}),E.jsxs("div",{className:"p-4 bg-bg-dark/95",children:[E.jsx("p",{className:"text-white font-semibold mb-1",children:dt.text}),E.jsxs("p",{className:"text-slate-400 text-xs",children:["Completed by ",dt.completedBy,"  ",qn(dt.completedAt)]})]})]}),E.jsx("div",{className:"mt-4 flex gap-2",children:dt.proofPhotos.length<5&&E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:Lt,className:"hidden",onChange:async Y=>{const Ie=Y.target.files?.[0];if(Ie&&ni!==null&&dt){Cn(!0);try{const wt=await j(ni,Ie);if(wt){const Et=[...dt.proofPhotos||[],wt];ti({...dt,proofPhotos:Et}),Bn(Et.length-1)}}catch{alert("Failed to add photo. Max 5 photos allowed.")}finally{Cn(!1),Lt.current&&(Lt.current.value="")}}}}),E.jsxs("button",{onClick:()=>Lt.current?.click(),disabled:Ls,className:"flex-1 py-2 px-4 bg-accent-gold/20 text-accent-gold rounded-xl font-medium flex items-center justify-center gap-2 hover:bg-accent-gold/30 transition-colors disabled:opacity-50",children:[E.jsx(Dd,{size:18}),Ls?"Adding...":`Add Photo (${dt.proofPhotos.length}/5)`]})]})}),E.jsx("button",{onClick:()=>{const Y=a.findIndex(Ie=>Ie.id===dt.id);Y!==-1&&d(Y),zn(!1),ti(null),Bi(null)},className:"mt-2 w-full py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Mark as In Progress"})]})})}),E.jsx(Es,{children:Qe&&He&&E.jsxs(vt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-slate-900 border border-white/20 text-white px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4",children:[E.jsxs("span",{children:["Marked as ",He.wasCompleted?"incomplete":"complete"]}),E.jsx("button",{onClick:()=>{d(He.index),ct(!1)},className:"font-bold text-accent-primary hover:text-white transition-colors",children:"Undo"}),E.jsx("button",{onClick:()=>ct(!1),className:"text-slate-400 hover:text-white",children:E.jsx(El,{size:16})})]})}),E.jsx(Es,{children:pe&&E.jsx(vt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:E.jsxs(vt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-slate-900 border border-white/20 rounded-3xl p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 pointer-events-none",children:E.jsx(ax,{className:"w-32 h-32 text-accent-gold rotate-12"})}),E.jsxs("div",{className:"relative z-10 text-center",children:[E.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Welcome! "}),E.jsxs("p",{className:"text-slate-400 mb-8 h-12",children:[_e===0&&"Tap any tile to mark it as complete.",_e===1&&"Start 'Edit Mode' to add your own tasks.",_e===2&&"Invite friends to play together!"]}),E.jsx("div",{className:"flex justify-center mb-8",children:E.jsx("div",{className:"w-32 h-32 bg-black/40 rounded-2xl border border-white/10 flex items-center justify-center relative",children:E.jsxs(Es,{mode:"wait",children:[_e===0&&E.jsxs(vt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center",children:[E.jsx("div",{className:"w-16 h-16 bg-accent-primary/20 rounded-lg border border-accent-primary flex items-center justify-center",children:E.jsx(Df,{className:"w-8 h-8 text-white"})}),E.jsx(vt.div,{animate:{scale:[1,1.2,1],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5},className:"absolute w-20 h-20 rounded-full border-2 border-white/50"})]},"step0"),_e===1&&E.jsx(vt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:E.jsx(cx,{className:"w-12 h-12 text-blue-400"})},"step1"),_e===2&&E.jsx(vt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:E.jsx(Hg,{className:"w-12 h-12 text-green-400"})},"step2")]})})}),E.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[0,1,2].map(Y=>E.jsx("div",{className:Ni("w-2 h-2 rounded-full transition-colors",Y===_e?"bg-white":"bg-white/20")},Y))}),E.jsx("button",{onClick:Ft,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-slate-200 transition-colors",children:_e===2?"Let's Play!":"Next"})]})]})})})]}),E.jsxs("div",{className:"only-print hidden",children:[E.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-black pb-2",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("img",{src:"/logo.png",className:"h-12 w-auto",alt:"Logo"}),E.jsx("h1",{className:"text-2xl font-bold",children:"2026 Edition"})]}),E.jsxs("div",{className:"text-right",children:[E.jsx("p",{className:"text-xs uppercase tracking-widest mb-0.5",children:"Status Report"}),E.jsxs("p",{className:"text-xl font-bold",children:[p," / 12 Bingos"]})]})]}),E.jsx("div",{className:"grid grid-cols-5 gap-0 border-2 border-black",children:a.slice(0,25).map(Y=>E.jsxs("div",{className:"aspect-square border border-black p-1.5 flex flex-col justify-between relative overflow-hidden min-h-[100px]",children:[E.jsx("div",{className:"text-[11px] font-bold leading-tight z-10",children:Y.text}),Y.isCompleted&&!Y.isFreeSpace&&E.jsxs("div",{className:"mt-0.5 relative z-10",children:[E.jsx("div",{className:"text-[7px] uppercase font-bold text-slate-700",children:"Completed by:"}),E.jsx("div",{className:"text-[9px] font-mono font-bold leading-none",children:Y.completedBy||"User"}),E.jsx("div",{className:"text-[7px] text-slate-600 mt-0.5",children:qn(Y.completedAt)})]}),Y.isCompleted&&E.jsx("div",{className:"absolute bottom-1 right-1 text-3xl font-bold text-slate-200 opacity-60 pointer-events-none z-0",children:""}),Y.isFreeSpace&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-xl rotate-[-45deg] opacity-20",children:"FREE"})]},Y.id))}),E.jsxs("div",{className:"mt-4 text-[9px] text-center border-t border-black pt-2 flex justify-between text-slate-500",children:[E.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),E.jsx("span",{children:"bingo.mysunsar.com"})]})]}),E.jsx(Nz,{items:a,isOpen:Fn,onClose:()=>Ct(!1)})]})},kz=()=>{const{user:t,logout:e}=qu(),n=o2(),s=Md(),[a,l]=O.useState([]),[u,d]=O.useState(!0),[m,p]=O.useState(!1),[y,v]=O.useState(null),T={default:{name:"2026 Goals ",items:["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"]},fitness:{name:"Fitness Challenge ",items:["Run a 5k","Do 50 pushups in a row","Try a yoga class","Drink 3L water for a week","No sugar for 7 days","Go for a hike","Meal prep for a week","Climb a bouldering wall","Try Pilates","Walk 15k steps in a day","Do a spin class","Bike 20km","FREE SPACE","Touch your toes","Hold a plank for 2 min","Try CrossFit","Go swimming","Meditate for 10 mins x 7","Try a new sport","Sleep 8 hours x 5 days","Do 100 squats","Run a 10k","Go to the gym 4x in a week","Stretch daily for a week","Join a run club"]},couples:{name:"Couple Goals ",items:["Date night (no phones)","Cook a meal together","Weekend getaway","Watch a whole series","Breakfast in bed","Go for a long walk","Plan a future trip","Give each other massages","Recreate first date","Take a dance class","Stargazing date","Write love letters","FREE SPACE","Visit a winery/brewery","Do a puzzle together","Double date","Sunset picnic","Bake something sweet","Volunteer together","Learn a couple's skill","Game night","Make a photo album","Try a new restaurant","Surprise gift","Kiss in the rain"]},personal:{name:"Personal Growth ",items:["Read 1 book/month","Learn a new language","Start a journal","Digital detox (24h)","Meditate daily (1 week)","Drink 2L water daily","Wake up at 6am (1 week)","Declutter a room","Learn to invest","Take a solo trip","Volunteer","Compliment a stranger","FREE SPACE","No social media (weekend)","Learn an instrument","Cook a new cuisine","Write a gratitude list","Take a cold shower","Listen to a podcast","Fix sleep schedule","Walk 10k steps","Call an old friend","Create a vision board","Save 10% income","Take a course"]},knitting:{name:"Knitting Goals ",items:["Finish a WIP","Cast on a sweater","Learn brioche","Knit socks","Stash bust project","Try colorwork","Knit a hat","Use luxury yarn","Fix a mistake","Knit a gift","Block a project","Organize needles","FREE SPACE","Try a new fiber","Knit in public","Attend a knit night","Learn magic loop","Design a pattern","Teach someone to knit","Finish a blanket","Knit a shawl","Try cables","Buy souvenir yarn","Weave in ends immediately","Knit a gauge swatch"]},weaving:{name:"Weaving Goals ",items:["Warp the loom","Weave a rug","Try a new structure","Sample a pattern","Use handspun yarn","Finish a scarf","Hemstitching","Fix a broken warp","Weave a towel","Try tapestry","Mix fibers","Organize yarn stash","FREE SPACE","Weave a placemat","Attend a workshop","Try doublewidth","Weave transparency","Calculate warp correctly","Finish raw edges","Weave with rags","Try tablet weaving","Rigid heddle project","Floor loom project","Visit a mill","Share a project online"]},spinning:{name:"Spinning Goals ",items:["Spin 100g fiber","Ply a yarn","Try a new breed","Spin lace weight","Spin art yarn","Comb fleece","Card a batt","Spin on a drop spindle","Clean the wheel","Spin distinct colors","Skein and wash","Fractal spin","FREE SPACE","Spin silk","Spin cotton","Navajo ply","Spin for a project","Participate in Tour de Fleece","Sample a blend","Teach spinning","Spin consistent grist","Dye fiber","Blend colors on hackle","Spin exotic fiber","Fill a bobbin"]},painting:{name:"Painting Goals ",items:["Paint a landscape","Try watercolors","Paint a portrait","Mix a new color","Paint en plein air","Visit a gallery","Finish a sketchbook","Try oils","Paint a still life","Use a palette knife","Paint an animal","Try abstract","FREE SPACE","Clean brushes properly","Paint on canvas","Paint on wood","Follow a tutorial","Paint a sky","Try gouache","Varnish a painting","Frame a piece","Paint daily for a week","Recreate a master","Paint a self-portrait","Host a paint night"]},corporate:{name:"Corporate Bingo ",items:['"Circle back"',`"Let's take this offline"`,"Meeting that could be an email",'"Synergy"','"Low hanging fruit"','"Touch base"',"Someone forgets to mute","Screen share fails",'"Can you see my screen?"',"Awkward silence",'"Bandwidth"','"Deep dive"',"FREE SPACE","Pet interrupts video call","Echo on the line",'"Per my last email"','"Drill down"','"Out of pocket"','"Hard stop"','"Boil the ocean"',"Reply All disaster",'"Move the needle"','"Blue sky thinking"','"Paradigm shift"','"Quick win"']},travel:{name:"Travel Bucket List ",items:["Visit a new continent","Go on a solo trip","See the Northern Lights","Swim in an ocean","Road trip across 3 states","Fly First Class","Visit a National Park","Eat street food","Stay in a hostel","Learn 'Hello' in 5 languages","Visit a Wonder of the World","Go on a cruise","FREE SPACE","Make a travel vlog","Sleep under the stars","Visit a castle","Ride a train","See a volcano","Go scuba diving","Watch a sunrise on a mountain","Visit a winery","Ride a camel/elephant","Go skiing/snowboarding","Visit a tropical island","Send a postcard"]}};O.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching boards for user:",t.uid,t.email);const z=new Map;try{const I=vd(hl(Vi,"boards"),_d(`members.${t.uid}`,"in",["owner","editor","viewer"])),S=await lu(I);console.log("Boards with membership found:",S.docs.length),S.docs.forEach(k=>{const V=k.data(),M=V.members?.[t.uid],P=V.members||{},N=Object.values(P).filter(ye=>ye!=="owner").length;z.set(k.id,{id:k.id,...V,sharedCount:N,myRole:M})})}catch(I){console.error("Error querying boards by membership:",I)}try{const I=vd(hl(Vi,"years"),_d("ownerId","==",t.uid)),S=await lu(I);console.log("Legacy boards (years collection) found:",S.docs.length),S.docs.forEach(k=>{const V=k.data();z.set(`legacy_${k.id}`,{id:k.id,title:V.title||"2026 Bingo",createdAt:V.createdAt,isLocked:V.isLocked,ownerId:V.ownerId,myRole:"owner"})})}catch(I){console.log("Years collection query failed:",I)}try{const I=await lu(hl(Vi,"years"));console.log("All years docs:",I.docs.length),I.docs.forEach(S=>{const k=S.data();if(k.ownerId===t.uid||k.members?.[t.uid]){const V=`legacy_years_${S.id}`;z.has(V)||z.set(V,{id:S.id,title:k.title||`${S.id} Bingo`,createdAt:k.createdAt,isLocked:k.isLocked,ownerId:k.ownerId,myRole:k.ownerId===t.uid?"owner":k.members?.[t.uid]||"viewer"})}})}catch(I){console.log("Direct years fetch failed:",I)}const q=Array.from(z.values()),H=q.filter(I=>I.myRole!=="owner"&&I.ownerId),oe=[...new Set(H.map(I=>I.ownerId))],ne={};for(const I of oe)try{const S=await rm(la(Vi,"users",I));if(S.exists()){const k=S.data();ne[I]=k.displayName||k.email||"Unknown"}}catch{console.log("Could not fetch owner info for:",I)}const de=q.map(I=>I.myRole!=="owner"&&I.ownerId&&ne[I.ownerId]?{...I,ownerName:ne[I.ownerId]}:I);console.log("Total boards to display:",de.length,de.map(I=>I.title)),l(de)}catch(z){console.error("Error fetching boards:",z)}finally{d(!1)}})()},[t]);const R=async D=>{if(!t)return;const z=T[D],q=await n.prompt("What would you like to call this board?",{title:"Board Title",inputDefaultValue:z.name,confirmText:"Create"});if(q)try{const oe=[...z.items.filter(S=>S.trim().toUpperCase()!=="FREE SPACE"&&S!=="FREE SPACE")].sort(()=>.5-Math.random());for(;oe.length<24;)oe.push("Bonus Task ");const ne=[];let de=0;for(let S=0;S<25;S++)S===12?ne.push({id:S,text:"FREE SPACE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(ne.push({id:S,text:oe[de],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),de++);const I=await uC(hl(Vi,"boards"),{title:q,ownerId:t.uid,members:{[t.uid]:"owner"},items:ne,createdAt:Fe.now(),isLocked:!1,lastUpdated:Fe.now()});s(`/board/${I.id}`)}catch(H){console.error("Error creating board:",H),await n.alert("Failed to create board. Please try again.",{title:"Error",type:"error"})}finally{p(!1)}};if(u)return E.jsx("div",{className:"min-h-screen bg-bg-dark flex items-center justify-center text-white",children:"Loading Dashboard..."});const L=async(D,z,q)=>{if(D.stopPropagation(),await n.confirm(`This will permanently delete "${q}" and all its data.

This action cannot be undone.`,{title:"Delete Board?",confirmText:"Delete",type:"error"}))try{await cC(la(Vi,"boards",z)),l(oe=>oe.filter(ne=>ne.id!==z)),await n.alert("Board deleted successfully.",{title:"Deleted",type:"success"})}catch(oe){console.error("Error deleting board:",oe),await n.alert("Failed to delete board. Please try again.",{title:"Error",type:"error"})}},j=async(D,z,q)=>{if(D.stopPropagation(),!t)return;if(await n.confirm(`You will no longer have access to "${q}".

You can ask the owner to re-share it if needed.`,{title:"Leave Board?",confirmText:"Leave",type:"warning"}))try{await ki(la(Vi,"boards",z),{[`members.${t.uid}`]:yd()}),l(oe=>oe.filter(ne=>ne.id!==z)),await n.alert("You have left the board.",{title:"Left Board",type:"success"})}catch(oe){console.error("Error leaving board:",oe),await n.alert("Failed to leave board. Please try again.",{title:"Error",type:"error"})}};return E.jsxs("div",{className:"min-h-screen bg-bg-dark text-white p-6 relative",children:[E.jsxs("div",{className:"max-w-4xl mx-auto",children:[E.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-10 gap-4",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-14 w-auto object-contain cursor-pointer active:scale-95 transition-transform"}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:"My Boards"}),E.jsxs("p",{className:"text-slate-400 mt-1 text-sm",children:["Welcome back, ",t?.displayName||"Bingo Player"]})]})]}),E.jsx("div",{className:"flex gap-4",children:E.jsx("button",{onClick:e,className:"bg-white/5 hover:bg-white/10 px-4 py-2 rounded-lg text-sm font-semibold transition-colors",children:"Logout"})})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[E.jsxs("button",{onClick:()=>p(!0),className:"group relative flex flex-col items-center justify-center h-48 rounded-2xl border-2 border-dashed border-slate-700 bg-white/5 hover:bg-white/10 hover:border-accent-primary transition-all cursor-pointer",children:[E.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-primary/20 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:E.jsx(Dd,{className:"w-6 h-6 text-accent-primary"})}),E.jsx("span",{className:"font-semibold text-slate-300 group-hover:text-white",children:"Create New Board"})]}),a.filter(D=>D.myRole==="owner").map(D=>{const q=D.id==="2026"||!D.ownerId?`/board/legacy/${D.id}`:`/board/${D.id}`;return E.jsxs("div",{onClick:()=>s(q),className:"group relative h-48 rounded-2xl bg-gradient-to-br from-slate-800 to-slate-900 border border-white/10 hover:border-accent-primary/50 p-6 flex flex-col justify-between cursor-pointer transition-all hover:translate-y-[-4px] hover:shadow-xl overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:E.jsx(qy,{className:"w-24 h-24"})}),E.jsx("button",{onClick:H=>L(H,D.id,D.title),className:"absolute top-4 right-4 p-2 text-slate-500 hover:text-red-400 hover:bg-white/10 rounded-full transition-all opacity-0 group-hover:opacity-100 z-10",title:"Delete Board",children:E.jsx(r2,{size:18})}),D.sharedCount&&D.sharedCount>0&&E.jsx("div",{className:"absolute top-4 left-4 z-10",children:E.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-medium bg-green-500/20 text-green-400 border border-green-500/30",children:[E.jsx(V9,{size:10}),"Shared with ",D.sharedCount]})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-bold text-white mb-2 line-clamp-1",children:D.title}),E.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[E.jsx(Id,{className:"w-3 h-3"}),D.createdAt?.toDate?D.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),E.jsx("div",{className:"mt-auto",children:E.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium bg-accent-primary/20 text-accent-primary border border-accent-primary/20 group-hover:bg-accent-primary group-hover:text-white transition-colors",children:"Open Board"})})]},D.id)})]}),a.filter(D=>D.myRole!=="owner").length>0&&E.jsxs(E.Fragment,{children:[E.jsxs("h2",{className:"text-xl font-bold text-white mt-10 mb-6 flex items-center gap-2",children:[E.jsx("span",{className:"bg-gradient-to-r from-accent-secondary to-pink-500 bg-clip-text text-transparent",children:"Shared With Me"}),E.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",a.filter(D=>D.myRole!=="owner").length,")"]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.filter(D=>D.myRole!=="owner").map(D=>{const q=D.id==="2026"||!D.ownerId?`/board/legacy/${D.id}`:`/board/${D.id}`;return E.jsxs("div",{onClick:()=>s(q),className:"group relative h-48 rounded-2xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-white/10 hover:border-accent-secondary/50 p-6 flex flex-col justify-between cursor-pointer transition-all hover:translate-y-[-4px] hover:shadow-xl overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:E.jsx(qy,{className:"w-24 h-24"})}),E.jsx("button",{onClick:H=>j(H,D.id,D.title),className:"absolute top-4 right-4 p-2 text-slate-500 hover:text-amber-400 hover:bg-white/10 rounded-full transition-all opacity-0 group-hover:opacity-100 z-10",title:"Leave Board",children:E.jsx(s2,{size:18})}),E.jsx("div",{className:"absolute top-4 left-4 z-10",children:E.jsx("span",{className:`inline-block px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide ${D.myRole==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:D.myRole==="editor"?" Editor":" Viewer"})}),E.jsxs("div",{className:"mt-6",children:[E.jsx("h3",{className:"text-xl font-bold text-white mb-1 line-clamp-1",children:D.title}),D.ownerName&&E.jsxs("div",{className:"text-xs text-slate-500 mb-1",children:["Shared by ",E.jsx("span",{className:"text-slate-400",children:D.ownerName})]}),E.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[E.jsx(Id,{className:"w-3 h-3"}),D.createdAt?.toDate?D.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),E.jsx("div",{className:"mt-auto",children:E.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/20 group-hover:bg-accent-secondary group-hover:text-white transition-colors",children:"Open Board"})})]},D.id)})})]})]}),m&&E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[E.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{y?v(null):p(!1)}}),E.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[E.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center shrink-0",children:[E.jsx("h2",{className:"text-xl font-bold text-white",children:y?T[y].name:"Choose a Template"}),E.jsx("button",{onClick:()=>{y?v(null):p(!1)},className:"text-slate-400 hover:text-white",children:E.jsx(Dd,{className:"w-6 h-6 rotate-45"})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:y?E.jsxs("div",{className:"space-y-6",children:[E.jsx("div",{className:"flex justify-center mb-6",children:E.jsx("div",{className:"aspect-square w-full max-w-[420px] grid grid-cols-5 gap-2 p-3 bg-slate-950/50 rounded-xl border border-white/10",children:T[y].items.slice(0,25).map((D,z)=>{const q=z===12,H=D.trim().toUpperCase()==="FREE SPACE"||q;return E.jsx("div",{className:`
                                                            relative rounded-lg flex items-center justify-center p-1 text-center select-none overflow-hidden 
                                                            text-[8px] sm:text-[10px] leading-tight font-medium border shadow-sm
                                                            ${H?"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold":"bg-white/5 border-white/10 text-slate-300"}
                                                        `,children:H?"FREE":D},z)})})}),E.jsxs("div",{className:"flex gap-3 pt-4",children:[E.jsx("button",{onClick:()=>v(null),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Back"}),E.jsx("button",{onClick:()=>R(y),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all",children:"Create Board"})]})]}):E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(T).map(([D,z])=>E.jsxs("button",{onClick:()=>v(D),className:"flex flex-col items-start p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent-primary/50 transition-all text-left group",children:[E.jsx("h3",{className:"font-bold text-white group-hover:text-accent-primary transition-colors",children:z.name}),E.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click to preview"})]},D))})})]})]})]})},Mz=()=>{const{user:t,loading:e}=qu();return e?E.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-bg-dark text-slate-500",children:"Initializing..."}):t?E.jsx(NN,{children:E.jsxs(oN,{children:[E.jsx(al,{path:"/",element:E.jsx(lw,{to:"/dashboard",replace:!0})}),E.jsx(al,{path:"/dashboard",element:E.jsx(kz,{})}),E.jsx(al,{path:"/board/legacy/:yearId",element:E.jsx(yx,{})}),E.jsx(al,{path:"/board/:boardId",element:E.jsx(yx,{})}),E.jsx(al,{path:"*",element:E.jsx(lw,{to:"/dashboard",replace:!0})})]})}):E.jsx(L9,{})};function Vz(){return E.jsx(g3,{children:E.jsx(O9,{children:E.jsx(Mz,{})})})}console.log("Main.tsx full run");const vx=document.getElementById("root");vx?cD.createRoot(vx).render(E.jsx(O.StrictMode,{children:E.jsx(Vz,{})})):console.error("Root not found");export{ha as C,Vs as F,Od as _,hn as a,Fx as b,lo as c,Pi as d,am as e,sv as g,mo as i,ev as p,xs as r,tv as u};
