(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function ik(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iy={exports:{}},fu={};var o1;function rk(){if(o1)return fu;o1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:l}}return fu.Fragment=e,fu.jsx=n,fu.jsxs=n,fu}var l1;function sk(){return l1||(l1=1,iy.exports=rk()),iy.exports}var b=sk(),ry={exports:{}},Fe={};var c1;function ak(){if(c1)return Fe;c1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.iterator;function C(T){return T===null||typeof T!="object"?null:(T=_&&T[_]||T["@@iterator"],typeof T=="function"?T:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,I={};function z(T,U,W){this.props=T,this.context=U,this.refs=I,this.updater=W||M}z.prototype.isReactComponent={},z.prototype.setState=function(T,U){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,U,"setState")},z.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function $(){}$.prototype=z.prototype;function G(T,U,W){this.props=T,this.context=U,this.refs=I,this.updater=W||M}var ae=G.prototype=new $;ae.constructor=G,O(ae,z.prototype),ae.isPureReactComponent=!0;var te=Array.isArray;function le(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function P(T,U,W){var re=W.ref;return{$$typeof:t,type:T,key:U,ref:re!==void 0?re:null,props:W}}function D(T,U){return P(T.type,U,T.props)}function j(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function B(T){var U={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(W){return U[W]})}var V=/\/+/g;function xe(T,U){return typeof T=="object"&&T!==null&&T.key!=null?B(""+T.key):U.toString(36)}function ke(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(le,le):(T.status="pending",T.then(function(U){T.status==="pending"&&(T.status="fulfilled",T.value=U)},function(U){T.status==="pending"&&(T.status="rejected",T.reason=U)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function Z(T,U,W,re,pe){var ge=typeof T;(ge==="undefined"||ge==="boolean")&&(T=null);var fe=!1;if(T===null)fe=!0;else switch(ge){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(T.$$typeof){case t:case e:fe=!0;break;case g:return fe=T._init,Z(fe(T._payload),U,W,re,pe)}}if(fe)return pe=pe(T),fe=re===""?"."+xe(T,0):re,te(pe)?(W="",fe!=null&&(W=fe.replace(V,"$&/")+"/"),Z(pe,U,W,"",function(Ee){return Ee})):pe!=null&&(j(pe)&&(pe=D(pe,W+(pe.key==null||T&&T.key===pe.key?"":(""+pe.key).replace(V,"$&/")+"/")+fe)),U.push(pe)),1;fe=0;var ve=re===""?".":re+":";if(te(T))for(var _e=0;_e<T.length;_e++)re=T[_e],ge=ve+xe(re,_e),fe+=Z(re,U,W,ge,pe);else if(_e=C(T),typeof _e=="function")for(T=_e.call(T),_e=0;!(re=T.next()).done;)re=re.value,ge=ve+xe(re,_e++),fe+=Z(re,U,W,ge,pe);else if(ge==="object"){if(typeof T.then=="function")return Z(ke(T),U,W,re,pe);throw U=String(T),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return fe}function q(T,U,W){if(T==null)return T;var re=[],pe=0;return Z(T,re,"","",function(ge){return U.call(W,ge,pe++)}),re}function H(T){if(T._status===-1){var U=T._result;U=U(),U.then(function(W){(T._status===0||T._status===-1)&&(T._status=1,T._result=W)},function(W){(T._status===0||T._status===-1)&&(T._status=2,T._result=W)}),T._status===-1&&(T._status=0,T._result=U)}if(T._status===1)return T._result.default;throw T._result}var X=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},L={map:q,forEach:function(T,U,W){q(T,function(){U.apply(this,arguments)},W)},count:function(T){var U=0;return q(T,function(){U++}),U},toArray:function(T){return q(T,function(U){return U})||[]},only:function(T){if(!j(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return Fe.Activity=v,Fe.Children=L,Fe.Component=z,Fe.Fragment=n,Fe.Profiler=a,Fe.PureComponent=G,Fe.StrictMode=r,Fe.Suspense=d,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(T){return N.H.useMemoCache(T)}},Fe.cache=function(T){return function(){return T.apply(null,arguments)}},Fe.cacheSignal=function(){return null},Fe.cloneElement=function(T,U,W){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var re=O({},T.props),pe=T.key;if(U!=null)for(ge in U.key!==void 0&&(pe=""+U.key),U)!A.call(U,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&U.ref===void 0||(re[ge]=U[ge]);var ge=arguments.length-2;if(ge===1)re.children=W;else if(1<ge){for(var fe=Array(ge),ve=0;ve<ge;ve++)fe[ve]=arguments[ve+2];re.children=fe}return P(T.type,pe,re)},Fe.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:l,_context:T},T},Fe.createElement=function(T,U,W){var re,pe={},ge=null;if(U!=null)for(re in U.key!==void 0&&(ge=""+U.key),U)A.call(U,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(pe[re]=U[re]);var fe=arguments.length-2;if(fe===1)pe.children=W;else if(1<fe){for(var ve=Array(fe),_e=0;_e<fe;_e++)ve[_e]=arguments[_e+2];pe.children=ve}if(T&&T.defaultProps)for(re in fe=T.defaultProps,fe)pe[re]===void 0&&(pe[re]=fe[re]);return P(T,ge,pe)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(T){return{$$typeof:h,render:T}},Fe.isValidElement=j,Fe.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:H}},Fe.memo=function(T,U){return{$$typeof:m,type:T,compare:U===void 0?null:U}},Fe.startTransition=function(T){var U=N.T,W={};N.T=W;try{var re=T(),pe=N.S;pe!==null&&pe(W,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(le,X)}catch(ge){X(ge)}finally{U!==null&&W.types!==null&&(U.types=W.types),N.T=U}},Fe.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Fe.use=function(T){return N.H.use(T)},Fe.useActionState=function(T,U,W){return N.H.useActionState(T,U,W)},Fe.useCallback=function(T,U){return N.H.useCallback(T,U)},Fe.useContext=function(T){return N.H.useContext(T)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(T,U){return N.H.useDeferredValue(T,U)},Fe.useEffect=function(T,U){return N.H.useEffect(T,U)},Fe.useEffectEvent=function(T){return N.H.useEffectEvent(T)},Fe.useId=function(){return N.H.useId()},Fe.useImperativeHandle=function(T,U,W){return N.H.useImperativeHandle(T,U,W)},Fe.useInsertionEffect=function(T,U){return N.H.useInsertionEffect(T,U)},Fe.useLayoutEffect=function(T,U){return N.H.useLayoutEffect(T,U)},Fe.useMemo=function(T,U){return N.H.useMemo(T,U)},Fe.useOptimistic=function(T,U){return N.H.useOptimistic(T,U)},Fe.useReducer=function(T,U,W){return N.H.useReducer(T,U,W)},Fe.useRef=function(T){return N.H.useRef(T)},Fe.useState=function(T){return N.H.useState(T)},Fe.useSyncExternalStore=function(T,U,W){return N.H.useSyncExternalStore(T,U,W)},Fe.useTransition=function(){return N.H.useTransition()},Fe.version="19.2.3",Fe}var u1;function Wv(){return u1||(u1=1,ry.exports=ak()),ry.exports}var S=Wv();const St=ik(S);var sy={exports:{}},mu={},ay={exports:{}},oy={};var h1;function ok(){return h1||(h1=1,(function(t){function e(Z,q){var H=Z.length;Z.push(q);e:for(;0<H;){var X=H-1>>>1,L=Z[X];if(0<a(L,q))Z[X]=q,Z[H]=L,H=X;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var q=Z[0],H=Z.pop();if(H!==q){Z[0]=H;e:for(var X=0,L=Z.length,T=L>>>1;X<T;){var U=2*(X+1)-1,W=Z[U],re=U+1,pe=Z[re];if(0>a(W,H))re<L&&0>a(pe,W)?(Z[X]=pe,Z[re]=H,X=re):(Z[X]=W,Z[U]=H,X=U);else if(re<L&&0>a(pe,H))Z[X]=pe,Z[re]=H,X=re;else break e}}return q}function a(Z,q){var H=Z.sortIndex-q.sortIndex;return H!==0?H:Z.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],m=[],g=1,v=null,_=3,C=!1,M=!1,O=!1,I=!1,z=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function ae(Z){for(var q=n(m);q!==null;){if(q.callback===null)r(m);else if(q.startTime<=Z)r(m),q.sortIndex=q.expirationTime,e(d,q);else break;q=n(m)}}function te(Z){if(O=!1,ae(Z),!M)if(n(d)!==null)M=!0,le||(le=!0,B());else{var q=n(m);q!==null&&ke(te,q.startTime-Z)}}var le=!1,N=-1,A=5,P=-1;function D(){return I?!0:!(t.unstable_now()-P<A)}function j(){if(I=!1,le){var Z=t.unstable_now();P=Z;var q=!0;try{e:{M=!1,O&&(O=!1,$(N),N=-1),C=!0;var H=_;try{t:{for(ae(Z),v=n(d);v!==null&&!(v.expirationTime>Z&&D());){var X=v.callback;if(typeof X=="function"){v.callback=null,_=v.priorityLevel;var L=X(v.expirationTime<=Z);if(Z=t.unstable_now(),typeof L=="function"){v.callback=L,ae(Z),q=!0;break t}v===n(d)&&r(d),ae(Z)}else r(d);v=n(d)}if(v!==null)q=!0;else{var T=n(m);T!==null&&ke(te,T.startTime-Z),q=!1}}break e}finally{v=null,_=H,C=!1}q=void 0}}finally{q?B():le=!1}}}var B;if(typeof G=="function")B=function(){G(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,xe=V.port2;V.port1.onmessage=j,B=function(){xe.postMessage(null)}}else B=function(){z(j,0)};function ke(Z,q){N=z(function(){Z(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(Z){switch(_){case 1:case 2:case 3:var q=3;break;default:q=_}var H=_;_=q;try{return Z()}finally{_=H}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(Z,q){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var H=_;_=Z;try{return q()}finally{_=H}},t.unstable_scheduleCallback=function(Z,q,H){var X=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?X+H:X):H=X,Z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=H+L,Z={id:g++,callback:q,priorityLevel:Z,startTime:H,expirationTime:L,sortIndex:-1},H>X?(Z.sortIndex=H,e(m,Z),n(d)===null&&Z===n(m)&&(O?($(N),N=-1):O=!0,ke(te,H-X))):(Z.sortIndex=L,e(d,Z),M||C||(M=!0,le||(le=!0,B()))),Z},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Z){var q=_;return function(){var H=_;_=q;try{return Z.apply(this,arguments)}finally{_=H}}}})(oy)),oy}var d1;function lk(){return d1||(d1=1,ay.exports=ok()),ay.exports}var ly={exports:{}},ii={};var f1;function ck(){if(f1)return ii;f1=1;var t=Wv();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ii.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ii.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,g)},ii.flushSync=function(d){var m=c.T,g=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=m,r.p=g,r.d.f()}},ii.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},ii.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},ii.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:C}):g==="script"&&r.d.X(d,{crossOrigin:v,integrity:_,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ii.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},ii.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin);r.d.L(d,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ii.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=h(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},ii.requestFormReset=function(d){r.d.r(d)},ii.unstable_batchedUpdates=function(d,m){return d(m)},ii.useFormState=function(d,m,g){return c.H.useFormState(d,m,g)},ii.useFormStatus=function(){return c.H.useHostTransitionStatus()},ii.version="19.2.3",ii}var m1;function YS(){if(m1)return ly.exports;m1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ly.exports=ck(),ly.exports}var p1;function uk(){if(p1)return mu;p1=1;var t=lk(),e=Wv(),n=YS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return d(p),i;if(y===u)return d(p),s;y=y.sibling}throw Error(r(188))}if(o.return!==u.return)o=p,u=y;else{for(var w=!1,R=p.child;R;){if(R===o){w=!0,o=p,u=y;break}if(R===u){w=!0,u=p,o=y;break}R=R.sibling}if(!w){for(R=y.child;R;){if(R===o){w=!0,o=y,u=p;break}if(R===u){w=!0,u=y,o=p;break}R=R.sibling}if(!w)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),G=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function xe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case z:return"Profiler";case I:return"StrictMode";case te:return"Suspense";case le:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case G:return i.displayName||"Context";case $:return(i._context.displayName||"Context")+".Consumer";case ae:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:xe(i.type)||"Memo";case A:s=i._payload,i=i._init;try{return xe(i(s))}catch{}}return null}var ke=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},X=[],L=-1;function T(i){return{current:i}}function U(i){0>L||(i.current=X[L],X[L]=null,L--)}function W(i,s){L++,X[L]=i.current,i.current=s}var re=T(null),pe=T(null),ge=T(null),fe=T(null);function ve(i,s){switch(W(ge,s),W(pe,i),W(re,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Nw(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Nw(s),i=Dw(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}U(re),W(re,i)}function _e(){U(re),U(pe),U(ge)}function Ee(i){i.memoizedState!==null&&W(fe,i);var s=re.current,o=Dw(s,i.type);s!==o&&(W(pe,i),W(re,o))}function Le(i){pe.current===i&&(U(re),U(pe)),fe.current===i&&(U(fe),cu._currentValue=H)}var Ve,ct;function Ne(i){if(Ve===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ve=s&&s[1]||"",ct=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+i+ct}var vt=!1;function mt(i,s){if(!i||vt)return"";vt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(oe){var ie=oe}Reflect.construct(i,[],he)}else{try{he.call()}catch(oe){ie=oe}i.call(he.prototype)}}else{try{throw Error()}catch(oe){ie=oe}(he=i())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(oe){if(oe&&ie&&typeof oe.stack=="string")return[oe.stack,ie.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),w=y[0],R=y[1];if(w&&R){var F=w.split(`
`),ee=R.split(`
`);for(p=u=0;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;for(;p<ee.length&&!ee[p].includes("DetermineComponentFrameRoot");)p++;if(u===F.length||p===ee.length)for(u=F.length-1,p=ee.length-1;1<=u&&0<=p&&F[u]!==ee[p];)p--;for(;1<=u&&0<=p;u--,p--)if(F[u]!==ee[p]){if(u!==1||p!==1)do if(u--,p--,0>p||F[u]!==ee[p]){var ce=`
`+F[u].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=u&&0<=p);break}}}finally{vt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ne(o):""}function qt(i,s){switch(i.tag){case 26:case 27:case 5:return Ne(i.type);case 16:return Ne("Lazy");case 13:return i.child!==s&&s!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return mt(i.type,!1);case 11:return mt(i.type.render,!1);case 1:return mt(i.type,!0);case 31:return Ne("Activity");default:return""}}function Xt(i){try{var s="",o=null;do s+=qt(i,o),o=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Je=Object.prototype.hasOwnProperty,Oe=t.unstable_scheduleCallback,sn=t.unstable_cancelCallback,Di=t.unstable_shouldYield,Gi=t.unstable_requestPaint,Pt=t.unstable_now,ui=t.unstable_getCurrentPriorityLevel,Sn=t.unstable_ImmediatePriority,$n=t.unstable_UserBlockingPriority,an=t.unstable_NormalPriority,hi=t.unstable_LowPriority,$i=t.unstable_IdlePriority,fn=t.log,An=t.unstable_setDisableYieldValue,Kn=null,Ht=null;function jn(i){if(typeof fn=="function"&&An(i),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Kn,i)}catch{}}var kt=Math.clz32?Math.clz32:Fs,fr=Math.log,mr=Math.LN2;function Fs(i){return i>>>=0,i===0?32:31-(fr(i)/mr|0)|0}var xi=256,pr=262144,Be=4194304;function ot(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function pt(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var p=0,y=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var R=u&134217727;return R!==0?(u=R&~y,u!==0?p=ot(u):(w&=R,w!==0?p=ot(w):o||(o=R&~i,o!==0&&(p=ot(o))))):(R=u&~y,R!==0?p=ot(R):w!==0?p=ot(w):o||(o=u&~i,o!==0&&(p=ot(o)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:p}function At(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Cn(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wt(){var i=Be;return Be<<=1,(Be&62914560)===0&&(Be=4194304),i}function Gt(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function mn(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Xe(i,s,o,u,p,y){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var R=i.entanglements,F=i.expirationTimes,ee=i.hiddenUpdates;for(o=w&~o;0<o;){var ce=31-kt(o),he=1<<ce;R[ce]=0,F[ce]=-1;var ie=ee[ce];if(ie!==null)for(ee[ce]=null,ce=0;ce<ie.length;ce++){var oe=ie[ce];oe!==null&&(oe.lane&=-536870913)}o&=~he}u!==0&&Qt(i,u,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(w&~s))}function Qt(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-kt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Mt(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-kt(o),p=1<<u;p&s|i[u]&s&&(i[u]|=s),o&=~p}}function pn(i,s){var o=s&-s;return o=(o&42)!==0?1:Rn(o),(o&(i.suspendedLanes|s))!==0?0:o}function Rn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function on(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ti(){var i=q.p;return i!==0?i:(i=window.event,i===void 0?32:e1(i.type))}function In(i,s){var o=q.p;try{return q.p=i,s()}finally{q.p=o}}var Ln=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Ln,ln="__reactProps$"+Ln,_i="__reactContainer$"+Ln,as="__reactEvents$"+Ln,xc="__reactListeners$"+Ln,Go="__reactHandles$"+Ln,Wa="__reactResources$"+Ln,Ki="__reactMarker$"+Ln;function qs(i){delete i[Jt],delete i[ln],delete i[as],delete i[xc],delete i[Go]}function Un(i){var s=i[Jt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[_i]||o[Jt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=Lw(i);i!==null;){if(o=i[Jt])return o;i=Lw(i)}return s}i=o,o=i.parentNode}return null}function ki(i){if(i=i[Jt]||i[_i]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function ni(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Mi(i){var s=i[Wa];return s||(s=i[Wa]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Zt(i){i[Ki]=!0}var ne=new Set,Se={};function bt(i,s){_t(i,s),_t(i+"Capture",s)}function _t(i,s){for(Se[i]=s,i=0;i<s.length;i++)ne.add(s[i])}var Ut=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),en={},Nn={};function di(i){return Je.call(Nn,i)?!0:Je.call(en,i)?!1:Ut.test(i)?Nn[i]=!0:(en[i]=!0,!1)}function $o(i,s,o){if(di(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Oi(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function gn(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function zn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Hs(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _c(i,s,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){o=""+w,y.call(this,w)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function wt(i){if(!i._valueTracker){var s=Hs(i)?"checked":"value";i._valueTracker=_c(i,s,""+i[s])}}function Qa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Hs(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Vr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ja=/[\n"\\]/g;function wi(i){return i.replace(Ja,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ko(i,s,o,u,p,y,w,R){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),s!=null?w==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+zn(s)):i.value!==""+zn(s)&&(i.value=""+zn(s)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),s!=null?wc(i,w,zn(s)):o!=null?wc(i,w,zn(o)):u!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+zn(R):i.removeAttribute("name")}function Mh(i,s,o,u,p,y,w,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){wt(i);return}o=o!=null?""+zn(o):"",s=s!=null?""+zn(s):o,R||s===i.value||(i.value=s),i.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=R?i.checked:!!u,i.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),wt(i)}function wc(i,s,o){s==="number"&&Vr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Gs(i,s,o,u){if(i=i.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=s.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&u&&(i[o].defaultSelected=!0)}else{for(o=""+zn(o),s=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function Oh(i,s,o){if(s!=null&&(s=""+zn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+zn(o):""}function $s(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(ke(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=zn(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),wt(i)}function Ti(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Ph=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tc(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Ph.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Ec(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&o[p]!==u&&Tc(i,p,u)}else for(var y in s)s.hasOwnProperty(y)&&Tc(i,y,s[y])}function Yo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xo(i){return Ks.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function gr(){}var Sc=null;function Yi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ys=null,jr=null;function Za(i){var s=ki(i);if(s&&(i=s.stateNode)){var o=i[ln]||null;e:switch(i=s.stateNode,s.type){case"input":if(Ko(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+wi(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var p=u[ln]||null;if(!p)throw Error(r(90));Ko(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&Qa(u)}break e;case"textarea":Oh(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Gs(i,!!o.multiple,s,!1)}}}var Wo=!1;function Xs(i,s,o){if(Wo)return i(s,o);Wo=!0;try{var u=i(s);return u}finally{if(Wo=!1,(Ys!==null||jr!==null)&&(Id(),Ys&&(s=Ys,i=jr,jr=Ys=null,Za(s),i)))for(s=0;s<i.length;s++)Za(i[s])}}function yr(i,s){var o=i.stateNode;if(o===null)return null;var u=o[ln]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eo=!1;if(Xi)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){eo=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch{eo=!1}var Lr=null,Ac=null,to=null;function Cc(){if(to)return to;var i,s=Ac,o=s.length,u,p="value"in Lr?Lr.value:Lr.textContent,y=p.length;for(i=0;i<o&&s[i]===p[i];i++);var w=o-i;for(u=1;u<=w&&s[o-u]===p[y-u];u++);return to=p.slice(i,1<u?1-u:void 0)}function no(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function os(){return!0}function vr(){return!1}function Yn(i){function s(o,u,p,y,w){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(o=i[R],this[R]=o?o(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?os:vr,this.isPropagationStopped=vr,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),s}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ur=Yn(ls),Ws=v({},ls,{view:0,detail:0}),Rc=Yn(Ws),Qs,Qo,zr,Jo=v({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==zr&&(zr&&i.type==="mousemove"?(Qs=i.screenX-zr.screenX,Qo=i.screenY-zr.screenY):Qo=Qs=0,zr=i),Qs)},movementY:function(i){return"movementY"in i?i.movementY:Qo}}),Ic=Yn(Jo),io=v({},Jo,{dataTransfer:0}),jh=Yn(io),Lh=v({},Ws,{relatedTarget:0}),ro=Yn(Lh),Nc=v({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Uh=Yn(Nc),Zo=v({},ls,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),zh=Yn(Zo),Bh=v({},ls,{data:0}),Br=Yn(Bh),Fh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Hh[i])?!!s[i]:!1}function Js(){return Gh}var fi=v({},Ws,{key:function(i){if(i.key){var s=Fh[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=no(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?qh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(i){return i.type==="keypress"?no(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?no(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),$h=Yn(fi),Kh=v({},Jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cs=Yn(Kh),f=v({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),x=Yn(f),E=v({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=Yn(E),Q=v({},Jo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),se=Yn(Q),ye=v({},ls,{newState:0,oldState:0}),Ge=Yn(ye),cn=[9,13,27,32],gt=Xi&&"CompositionEvent"in window,zt=null;Xi&&"documentMode"in document&&(zt=document.documentMode);var Wi=Xi&&"TextEvent"in window&&!zt,Fr=Xi&&(!gt||zt&&8<zt&&11>=zt),br=" ",xr=!1;function so(i,s){switch(i){case"keyup":return cn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function el(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var tl=!1;function CN(i,s){switch(i){case"compositionend":return el(s);case"keypress":return s.which!==32?null:(xr=!0,br);case"textInput":return i=s.data,i===br&&xr?null:i;default:return null}}function RN(i,s){if(tl)return i==="compositionend"||!gt&&so(i,s)?(i=Cc(),to=Ac=Lr=null,tl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Fr&&s.locale!=="ko"?null:s.data;default:return null}}var IN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bb(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!IN[i.type]:s==="textarea"}function Fb(i,s,o,u){Ys?jr?jr.push(u):jr=[u]:Ys=u,s=Vd(s,"onChange"),0<s.length&&(o=new Ur("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Dc=null,kc=null;function NN(i){Ew(i,0)}function Yh(i){var s=ni(i);if(Qa(s))return i}function qb(i,s){if(i==="change")return s}var Hb=!1;if(Xi){var up;if(Xi){var hp="oninput"in document;if(!hp){var Gb=document.createElement("div");Gb.setAttribute("oninput","return;"),hp=typeof Gb.oninput=="function"}up=hp}else up=!1;Hb=up&&(!document.documentMode||9<document.documentMode)}function $b(){Dc&&(Dc.detachEvent("onpropertychange",Kb),kc=Dc=null)}function Kb(i){if(i.propertyName==="value"&&Yh(kc)){var s=[];Fb(s,kc,i,Yi(i)),Xs(NN,s)}}function DN(i,s,o){i==="focusin"?($b(),Dc=s,kc=o,Dc.attachEvent("onpropertychange",Kb)):i==="focusout"&&$b()}function kN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Yh(kc)}function MN(i,s){if(i==="click")return Yh(s)}function ON(i,s){if(i==="input"||i==="change")return Yh(s)}function PN(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Pi=typeof Object.is=="function"?Object.is:PN;function Mc(i,s){if(Pi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!Je.call(s,p)||!Pi(i[p],s[p]))return!1}return!0}function Yb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Xb(i,s){var o=Yb(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Yb(o)}}function Wb(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Wb(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Qb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Vr(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Vr(i.document)}return s}function dp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var VN=Xi&&"documentMode"in document&&11>=document.documentMode,nl=null,fp=null,Oc=null,mp=!1;function Jb(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;mp||nl==null||nl!==Vr(u)||(u=nl,"selectionStart"in u&&dp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Oc&&Mc(Oc,u)||(Oc=u,u=Vd(fp,"onSelect"),0<u.length&&(s=new Ur("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=nl)))}function ao(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var il={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionrun:ao("Transition","TransitionRun"),transitionstart:ao("Transition","TransitionStart"),transitioncancel:ao("Transition","TransitionCancel"),transitionend:ao("Transition","TransitionEnd")},pp={},Zb={};Xi&&(Zb=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function oo(i){if(pp[i])return pp[i];if(!il[i])return i;var s=il[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Zb)return pp[i]=s[o];return i}var ex=oo("animationend"),tx=oo("animationiteration"),nx=oo("animationstart"),jN=oo("transitionrun"),LN=oo("transitionstart"),UN=oo("transitioncancel"),ix=oo("transitionend"),rx=new Map,gp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gp.push("scrollEnd");function _r(i,s){rx.set(i,s),bt(s,[i])}var Xh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Qi=[],rl=0,yp=0;function Wh(){for(var i=rl,s=yp=rl=0;s<i;){var o=Qi[s];Qi[s++]=null;var u=Qi[s];Qi[s++]=null;var p=Qi[s];Qi[s++]=null;var y=Qi[s];if(Qi[s++]=null,u!==null&&p!==null){var w=u.pending;w===null?p.next=p:(p.next=w.next,w.next=p),u.pending=p}y!==0&&sx(o,p,y)}}function Qh(i,s,o,u){Qi[rl++]=i,Qi[rl++]=s,Qi[rl++]=o,Qi[rl++]=u,yp|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function vp(i,s,o,u){return Qh(i,s,o,u),Jh(i)}function lo(i,s){return Qh(i,null,null,s),Jh(i)}function sx(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var p=!1,y=i.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&s!==null&&(p=31-kt(o),i=y.hiddenUpdates,u=i[p],u===null?i[p]=[s]:u.push(s),s.lane=o|536870912),y):null}function Jh(i){if(50<nu)throw nu=0,Cg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var sl={};function zN(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(i,s,o,u){return new zN(i,s,o,u)}function bp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function us(i,s){var o=i.alternate;return o===null?(o=Vi(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function ax(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Zh(i,s,o,u,p,y){var w=0;if(u=i,typeof i=="function")bp(i)&&(w=1);else if(typeof i=="string")w=GD(i,o,re.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=Vi(31,o,s,p),i.elementType=P,i.lanes=y,i;case O:return co(o.children,p,y,s);case I:w=8,p|=24;break;case z:return i=Vi(12,o,s,p|2),i.elementType=z,i.lanes=y,i;case te:return i=Vi(13,o,s,p),i.elementType=te,i.lanes=y,i;case le:return i=Vi(19,o,s,p),i.elementType=le,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case G:w=10;break e;case $:w=9;break e;case ae:w=11;break e;case N:w=14;break e;case A:w=16,u=null;break e}w=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Vi(w,o,s,p),s.elementType=i,s.type=u,s.lanes=y,s}function co(i,s,o,u){return i=Vi(7,i,u,s),i.lanes=o,i}function xp(i,s,o){return i=Vi(6,i,null,s),i.lanes=o,i}function ox(i){var s=Vi(18,null,null,0);return s.stateNode=i,s}function _p(i,s,o){return s=Vi(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var lx=new WeakMap;function Ji(i,s){if(typeof i=="object"&&i!==null){var o=lx.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Xt(s)},lx.set(i,s),s)}return{value:i,source:s,stack:Xt(s)}}var al=[],ol=0,ed=null,Pc=0,Zi=[],er=0,Zs=null,qr=1,Hr="";function hs(i,s){al[ol++]=Pc,al[ol++]=ed,ed=i,Pc=s}function cx(i,s,o){Zi[er++]=qr,Zi[er++]=Hr,Zi[er++]=Zs,Zs=i;var u=qr;i=Hr;var p=32-kt(u)-1;u&=~(1<<p),o+=1;var y=32-kt(s)+p;if(30<y){var w=p-p%5;y=(u&(1<<w)-1).toString(32),u>>=w,p-=w,qr=1<<32-kt(s)+p|o<<p|u,Hr=y+i}else qr=1<<y|o<<p|u,Hr=i}function wp(i){i.return!==null&&(hs(i,1),cx(i,1,0))}function Tp(i){for(;i===ed;)ed=al[--ol],al[ol]=null,Pc=al[--ol],al[ol]=null;for(;i===Zs;)Zs=Zi[--er],Zi[er]=null,Hr=Zi[--er],Zi[er]=null,qr=Zi[--er],Zi[er]=null}function ux(i,s){Zi[er++]=qr,Zi[er++]=Hr,Zi[er++]=Zs,qr=s.id,Hr=s.overflow,Zs=i}var Xn=null,Vt=null,rt=!1,ea=null,tr=!1,Ep=Error(r(519));function ta(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vc(Ji(s,i)),Ep}function hx(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Jt]=i,s[ln]=u,o){case"dialog":Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":case"embed":Qe("load",s);break;case"video":case"audio":for(o=0;o<ru.length;o++)Qe(ru[o],s);break;case"source":Qe("error",s);break;case"img":case"image":case"link":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"input":Qe("invalid",s),Mh(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Qe("invalid",s);break;case"textarea":Qe("invalid",s),$s(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Rw(s.textContent,o)?(u.popover!=null&&(Qe("beforetoggle",s),Qe("toggle",s)),u.onScroll!=null&&Qe("scroll",s),u.onScrollEnd!=null&&Qe("scrollend",s),u.onClick!=null&&(s.onclick=gr),s=!0):s=!1,s||ta(i,!0)}function dx(i){for(Xn=i.return;Xn;)switch(Xn.tag){case 5:case 31:case 13:tr=!1;return;case 27:case 3:tr=!0;return;default:Xn=Xn.return}}function ll(i){if(i!==Xn)return!1;if(!rt)return dx(i),rt=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Fg(i.type,i.memoizedProps)),o=!o),o&&Vt&&ta(i),dx(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Vt=jw(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Vt=jw(i)}else s===27?(s=Vt,pa(i.type)?(i=Kg,Kg=null,Vt=i):Vt=s):Vt=Xn?ir(i.stateNode.nextSibling):null;return!0}function uo(){Vt=Xn=null,rt=!1}function Sp(){var i=ea;return i!==null&&(Ci===null?Ci=i:Ci.push.apply(Ci,i),ea=null),i}function Vc(i){ea===null?ea=[i]:ea.push(i)}var Ap=T(null),ho=null,ds=null;function na(i,s,o){W(Ap,s._currentValue),s._currentValue=o}function fs(i){i._currentValue=Ap.current,U(Ap)}function Cp(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Rp(i,s,o,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var w=p.child;y=y.firstContext;e:for(;y!==null;){var R=y;y=p;for(var F=0;F<s.length;F++)if(R.context===s[F]){y.lanes|=o,R=y.alternate,R!==null&&(R.lanes|=o),Cp(y.return,o,i),u||(w=null);break e}y=R.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(r(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),Cp(w,o,i),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===i){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function cl(i,s,o,u){i=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var R=p.type;Pi(p.pendingProps.value,w.value)||(i!==null?i.push(R):i=[R])}}else if(p===fe.current){if(w=p.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(cu):i=[cu])}p=p.return}i!==null&&Rp(s,i,o,u),s.flags|=262144}function td(i){for(i=i.firstContext;i!==null;){if(!Pi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function fo(i){ho=i,ds=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Wn(i){return fx(ho,i)}function nd(i,s){return ho===null&&fo(i),fx(i,s)}function fx(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ds===null){if(i===null)throw Error(r(308));ds=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ds=ds.next=s;return o}var BN=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},FN=t.unstable_scheduleCallback,qN=t.unstable_NormalPriority,yn={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ip(){return{controller:new BN,data:new Map,refCount:0}}function jc(i){i.refCount--,i.refCount===0&&FN(qN,function(){i.controller.abort()})}var Lc=null,Np=0,ul=0,hl=null;function HN(i,s){if(Lc===null){var o=Lc=[];Np=0,ul=Mg(),hl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Np++,s.then(mx,mx),s}function mx(){if(--Np===0&&Lc!==null){hl!==null&&(hl.status="fulfilled");var i=Lc;Lc=null,ul=0,hl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function GN(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var px=Z.S;Z.S=function(i,s){J_=Pt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&HN(i,s),px!==null&&px(i,s)};var mo=T(null);function Dp(){var i=mo.current;return i!==null?i:Dt.pooledCache}function id(i,s){s===null?W(mo,mo.current):W(mo,s.pool)}function gx(){var i=Dp();return i===null?null:{parent:yn._currentValue,pool:i}}var dl=Error(r(460)),kp=Error(r(474)),rd=Error(r(542)),sd={then:function(){}};function yx(i){return i=i.status,i==="fulfilled"||i==="rejected"}function vx(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(gr,gr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,xx(i),i;default:if(typeof s.status=="string")s.then(gr,gr);else{if(i=Dt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,xx(i),i}throw go=s,dl}}function po(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(go=o,dl):o}}var go=null;function bx(){if(go===null)throw Error(r(459));var i=go;return go=null,i}function xx(i){if(i===dl||i===rd)throw Error(r(483))}var fl=null,Uc=0;function ad(i){var s=Uc;return Uc+=1,fl===null&&(fl=[]),vx(fl,i,s)}function zc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function od(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function _x(i){function s(Y,K){if(i){var J=Y.deletions;J===null?(Y.deletions=[K],Y.flags|=16):J.push(K)}}function o(Y,K){if(!i)return null;for(;K!==null;)s(Y,K),K=K.sibling;return null}function u(Y){for(var K=new Map;Y!==null;)Y.key!==null?K.set(Y.key,Y):K.set(Y.index,Y),Y=Y.sibling;return K}function p(Y,K){return Y=us(Y,K),Y.index=0,Y.sibling=null,Y}function y(Y,K,J){return Y.index=J,i?(J=Y.alternate,J!==null?(J=J.index,J<K?(Y.flags|=67108866,K):J):(Y.flags|=67108866,K)):(Y.flags|=1048576,K)}function w(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function R(Y,K,J,ue){return K===null||K.tag!==6?(K=xp(J,Y.mode,ue),K.return=Y,K):(K=p(K,J),K.return=Y,K)}function F(Y,K,J,ue){var Me=J.type;return Me===O?ce(Y,K,J.props.children,ue,J.key):K!==null&&(K.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===A&&po(Me)===K.type)?(K=p(K,J.props),zc(K,J),K.return=Y,K):(K=Zh(J.type,J.key,J.props,null,Y.mode,ue),zc(K,J),K.return=Y,K)}function ee(Y,K,J,ue){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=_p(J,Y.mode,ue),K.return=Y,K):(K=p(K,J.children||[]),K.return=Y,K)}function ce(Y,K,J,ue,Me){return K===null||K.tag!==7?(K=co(J,Y.mode,ue,Me),K.return=Y,K):(K=p(K,J),K.return=Y,K)}function he(Y,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=xp(""+K,Y.mode,J),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case C:return J=Zh(K.type,K.key,K.props,null,Y.mode,J),zc(J,K),J.return=Y,J;case M:return K=_p(K,Y.mode,J),K.return=Y,K;case A:return K=po(K),he(Y,K,J)}if(ke(K)||B(K))return K=co(K,Y.mode,J,null),K.return=Y,K;if(typeof K.then=="function")return he(Y,ad(K),J);if(K.$$typeof===G)return he(Y,nd(Y,K),J);od(Y,K)}return null}function ie(Y,K,J,ue){var Me=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Me!==null?null:R(Y,K,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return J.key===Me?F(Y,K,J,ue):null;case M:return J.key===Me?ee(Y,K,J,ue):null;case A:return J=po(J),ie(Y,K,J,ue)}if(ke(J)||B(J))return Me!==null?null:ce(Y,K,J,ue,null);if(typeof J.then=="function")return ie(Y,K,ad(J),ue);if(J.$$typeof===G)return ie(Y,K,nd(Y,J),ue);od(Y,J)}return null}function oe(Y,K,J,ue,Me){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Y=Y.get(J)||null,R(K,Y,""+ue,Me);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case C:return Y=Y.get(ue.key===null?J:ue.key)||null,F(K,Y,ue,Me);case M:return Y=Y.get(ue.key===null?J:ue.key)||null,ee(K,Y,ue,Me);case A:return ue=po(ue),oe(Y,K,J,ue,Me)}if(ke(ue)||B(ue))return Y=Y.get(J)||null,ce(K,Y,ue,Me,null);if(typeof ue.then=="function")return oe(Y,K,J,ad(ue),Me);if(ue.$$typeof===G)return oe(Y,K,J,nd(K,ue),Me);od(K,ue)}return null}function Ae(Y,K,J,ue){for(var Me=null,ht=null,Ie=K,Ke=K=0,et=null;Ie!==null&&Ke<J.length;Ke++){Ie.index>Ke?(et=Ie,Ie=null):et=Ie.sibling;var dt=ie(Y,Ie,J[Ke],ue);if(dt===null){Ie===null&&(Ie=et);break}i&&Ie&&dt.alternate===null&&s(Y,Ie),K=y(dt,K,Ke),ht===null?Me=dt:ht.sibling=dt,ht=dt,Ie=et}if(Ke===J.length)return o(Y,Ie),rt&&hs(Y,Ke),Me;if(Ie===null){for(;Ke<J.length;Ke++)Ie=he(Y,J[Ke],ue),Ie!==null&&(K=y(Ie,K,Ke),ht===null?Me=Ie:ht.sibling=Ie,ht=Ie);return rt&&hs(Y,Ke),Me}for(Ie=u(Ie);Ke<J.length;Ke++)et=oe(Ie,Y,Ke,J[Ke],ue),et!==null&&(i&&et.alternate!==null&&Ie.delete(et.key===null?Ke:et.key),K=y(et,K,Ke),ht===null?Me=et:ht.sibling=et,ht=et);return i&&Ie.forEach(function(xa){return s(Y,xa)}),rt&&hs(Y,Ke),Me}function Pe(Y,K,J,ue){if(J==null)throw Error(r(151));for(var Me=null,ht=null,Ie=K,Ke=K=0,et=null,dt=J.next();Ie!==null&&!dt.done;Ke++,dt=J.next()){Ie.index>Ke?(et=Ie,Ie=null):et=Ie.sibling;var xa=ie(Y,Ie,dt.value,ue);if(xa===null){Ie===null&&(Ie=et);break}i&&Ie&&xa.alternate===null&&s(Y,Ie),K=y(xa,K,Ke),ht===null?Me=xa:ht.sibling=xa,ht=xa,Ie=et}if(dt.done)return o(Y,Ie),rt&&hs(Y,Ke),Me;if(Ie===null){for(;!dt.done;Ke++,dt=J.next())dt=he(Y,dt.value,ue),dt!==null&&(K=y(dt,K,Ke),ht===null?Me=dt:ht.sibling=dt,ht=dt);return rt&&hs(Y,Ke),Me}for(Ie=u(Ie);!dt.done;Ke++,dt=J.next())dt=oe(Ie,Y,Ke,dt.value,ue),dt!==null&&(i&&dt.alternate!==null&&Ie.delete(dt.key===null?Ke:dt.key),K=y(dt,K,Ke),ht===null?Me=dt:ht.sibling=dt,ht=dt);return i&&Ie.forEach(function(nk){return s(Y,nk)}),rt&&hs(Y,Ke),Me}function Nt(Y,K,J,ue){if(typeof J=="object"&&J!==null&&J.type===O&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case C:e:{for(var Me=J.key;K!==null;){if(K.key===Me){if(Me=J.type,Me===O){if(K.tag===7){o(Y,K.sibling),ue=p(K,J.props.children),ue.return=Y,Y=ue;break e}}else if(K.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===A&&po(Me)===K.type){o(Y,K.sibling),ue=p(K,J.props),zc(ue,J),ue.return=Y,Y=ue;break e}o(Y,K);break}else s(Y,K);K=K.sibling}J.type===O?(ue=co(J.props.children,Y.mode,ue,J.key),ue.return=Y,Y=ue):(ue=Zh(J.type,J.key,J.props,null,Y.mode,ue),zc(ue,J),ue.return=Y,Y=ue)}return w(Y);case M:e:{for(Me=J.key;K!==null;){if(K.key===Me)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){o(Y,K.sibling),ue=p(K,J.children||[]),ue.return=Y,Y=ue;break e}else{o(Y,K);break}else s(Y,K);K=K.sibling}ue=_p(J,Y.mode,ue),ue.return=Y,Y=ue}return w(Y);case A:return J=po(J),Nt(Y,K,J,ue)}if(ke(J))return Ae(Y,K,J,ue);if(B(J)){if(Me=B(J),typeof Me!="function")throw Error(r(150));return J=Me.call(J),Pe(Y,K,J,ue)}if(typeof J.then=="function")return Nt(Y,K,ad(J),ue);if(J.$$typeof===G)return Nt(Y,K,nd(Y,J),ue);od(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(o(Y,K.sibling),ue=p(K,J),ue.return=Y,Y=ue):(o(Y,K),ue=xp(J,Y.mode,ue),ue.return=Y,Y=ue),w(Y)):o(Y,K)}return function(Y,K,J,ue){try{Uc=0;var Me=Nt(Y,K,J,ue);return fl=null,Me}catch(Ie){if(Ie===dl||Ie===rd)throw Ie;var ht=Vi(29,Ie,null,Y.mode);return ht.lanes=ue,ht.return=Y,ht}}}var yo=_x(!0),wx=_x(!1),ia=!1;function Mp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Op(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ra(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function sa(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(yt&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=Jh(i),sx(i,null,o),s}return Qh(i,u,s,o),Jh(i)}function Bc(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Mt(i,o)}}function Pp(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?p=y=s:y=y.next=s}else p=y=s;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Vp=!1;function Fc(){if(Vp){var i=hl;if(i!==null)throw i}}function qc(i,s,o,u){Vp=!1;var p=i.updateQueue;ia=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var F=R,ee=F.next;F.next=null,w===null?y=ee:w.next=ee,w=F;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,R=ce.lastBaseUpdate,R!==w&&(R===null?ce.firstBaseUpdate=ee:R.next=ee,ce.lastBaseUpdate=F))}if(y!==null){var he=p.baseState;w=0,ce=ee=F=null,R=y;do{var ie=R.lane&-536870913,oe=ie!==R.lane;if(oe?(Ze&ie)===ie:(u&ie)===ie){ie!==0&&ie===ul&&(Vp=!0),ce!==null&&(ce=ce.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ae=i,Pe=R;ie=s;var Nt=o;switch(Pe.tag){case 1:if(Ae=Pe.payload,typeof Ae=="function"){he=Ae.call(Nt,he,ie);break e}he=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Pe.payload,ie=typeof Ae=="function"?Ae.call(Nt,he,ie):Ae,ie==null)break e;he=v({},he,ie);break e;case 2:ia=!0}}ie=R.callback,ie!==null&&(i.flags|=64,oe&&(i.flags|=8192),oe=p.callbacks,oe===null?p.callbacks=[ie]:oe.push(ie))}else oe={lane:ie,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ce===null?(ee=ce=oe,F=he):ce=ce.next=oe,w|=ie;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;oe=R,R=oe.next,oe.next=null,p.lastBaseUpdate=oe,p.shared.pending=null}}while(!0);ce===null&&(F=he),p.baseState=F,p.firstBaseUpdate=ee,p.lastBaseUpdate=ce,y===null&&(p.shared.lanes=0),ua|=w,i.lanes=w,i.memoizedState=he}}function Tx(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Ex(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Tx(o[i],s)}var ml=T(null),ld=T(0);function Sx(i,s){i=ws,W(ld,i),W(ml,s),ws=i|s.baseLanes}function jp(){W(ld,ws),W(ml,ml.current)}function Lp(){ws=ld.current,U(ml),U(ld)}var ji=T(null),nr=null;function aa(i){var s=i.alternate;W(un,un.current&1),W(ji,i),nr===null&&(s===null||ml.current!==null||s.memoizedState!==null)&&(nr=i)}function Up(i){W(un,un.current),W(ji,i),nr===null&&(nr=i)}function Ax(i){i.tag===22?(W(un,un.current),W(ji,i),nr===null&&(nr=i)):oa()}function oa(){W(un,un.current),W(ji,ji.current)}function Li(i){U(ji),nr===i&&(nr=null),U(un)}var un=T(0);function cd(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Gg(o)||$g(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ms=0,$e=null,Rt=null,vn=null,ud=!1,pl=!1,vo=!1,hd=0,Hc=0,gl=null,$N=0;function tn(){throw Error(r(321))}function zp(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Pi(i[o],s[o]))return!1;return!0}function Bp(i,s,o,u,p,y){return ms=y,$e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=i===null||i.memoizedState===null?c_:ng,vo=!1,y=o(u,p),vo=!1,pl&&(y=Rx(s,o,u,p)),Cx(i),y}function Cx(i){Z.H=Kc;var s=Rt!==null&&Rt.next!==null;if(ms=0,vn=Rt=$e=null,ud=!1,Hc=0,gl=null,s)throw Error(r(300));i===null||bn||(i=i.dependencies,i!==null&&td(i)&&(bn=!0))}function Rx(i,s,o,u){$e=i;var p=0;do{if(pl&&(gl=null),Hc=0,pl=!1,25<=p)throw Error(r(301));if(p+=1,vn=Rt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Z.H=u_,y=s(o,u)}while(pl);return y}function KN(){var i=Z.H,s=i.useState()[0];return s=typeof s.then=="function"?Gc(s):s,i=i.useState()[0],(Rt!==null?Rt.memoizedState:null)!==i&&($e.flags|=1024),s}function Fp(){var i=hd!==0;return hd=0,i}function qp(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Hp(i){if(ud){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ud=!1}ms=0,vn=Rt=$e=null,pl=!1,Hc=hd=0,gl=null}function mi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?$e.memoizedState=vn=i:vn=vn.next=i,vn}function hn(){if(Rt===null){var i=$e.alternate;i=i!==null?i.memoizedState:null}else i=Rt.next;var s=vn===null?$e.memoizedState:vn.next;if(s!==null)vn=s,Rt=i;else{if(i===null)throw $e.alternate===null?Error(r(467)):Error(r(310));Rt=i,i={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},vn===null?$e.memoizedState=vn=i:vn=vn.next=i}return vn}function dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gc(i){var s=Hc;return Hc+=1,gl===null&&(gl=[]),i=vx(gl,i,s),s=$e,(vn===null?s.memoizedState:vn.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?c_:ng),i}function fd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Gc(i);if(i.$$typeof===G)return Wn(i)}throw Error(r(438,String(i)))}function Gp(i){var s=null,o=$e.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=$e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=dd(),$e.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=D;return s.index++,o}function ps(i,s){return typeof s=="function"?s(i):s}function md(i){var s=hn();return $p(s,Rt,i)}function $p(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var p=i.baseQueue,y=u.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}s.baseQueue=p=y,u.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{s=p.next;var R=w=null,F=null,ee=s,ce=!1;do{var he=ee.lane&-536870913;if(he!==ee.lane?(Ze&he)===he:(ms&he)===he){var ie=ee.revertLane;if(ie===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),he===ul&&(ce=!0);else if((ms&ie)===ie){ee=ee.next,ie===ul&&(ce=!0);continue}else he={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?(R=F=he,w=y):F=F.next=he,$e.lanes|=ie,ua|=ie;he=ee.action,vo&&o(y,he),y=ee.hasEagerState?ee.eagerState:o(y,he)}else ie={lane:he,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?(R=F=ie,w=y):F=F.next=ie,$e.lanes|=he,ua|=he;ee=ee.next}while(ee!==null&&ee!==s);if(F===null?w=y:F.next=R,!Pi(y,i.memoizedState)&&(bn=!0,ce&&(o=hl,o!==null)))throw o;i.memoizedState=y,i.baseState=w,i.baseQueue=F,u.lastRenderedState=y}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Kp(i){var s=hn(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,p=o.pending,y=s.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do y=i(y,w.action),w=w.next;while(w!==p);Pi(y,s.memoizedState)||(bn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,u]}function Ix(i,s,o){var u=$e,p=hn(),y=rt;if(y){if(o===void 0)throw Error(r(407));o=o()}else o=s();var w=!Pi((Rt||p).memoizedState,o);if(w&&(p.memoizedState=o,bn=!0),p=p.queue,Wp(kx.bind(null,u,p,i),[i]),p.getSnapshot!==s||w||vn!==null&&vn.memoizedState.tag&1){if(u.flags|=2048,yl(9,{destroy:void 0},Dx.bind(null,u,p,o,s),null),Dt===null)throw Error(r(349));y||(ms&127)!==0||Nx(u,s,o)}return o}function Nx(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=$e.updateQueue,s===null?(s=dd(),$e.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function Dx(i,s,o,u){s.value=o,s.getSnapshot=u,Mx(s)&&Ox(i)}function kx(i,s,o){return o(function(){Mx(s)&&Ox(i)})}function Mx(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Pi(i,o)}catch{return!0}}function Ox(i){var s=lo(i,2);s!==null&&Ri(s,i,2)}function Yp(i){var s=mi();if(typeof i=="function"){var o=i;if(i=o(),vo){jn(!0);try{o()}finally{jn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:i},s}function Px(i,s,o,u){return i.baseState=o,$p(i,Rt,typeof u=="function"?u:ps)}function YN(i,s,o,u,p){if(yd(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};Z.T!==null?o(!0):y.isTransition=!1,u(y),o=s.pending,o===null?(y.next=s.pending=y,Vx(s,y)):(y.next=o.next,s.pending=o.next=y)}}function Vx(i,s){var o=s.action,u=s.payload,p=i.state;if(s.isTransition){var y=Z.T,w={};Z.T=w;try{var R=o(p,u),F=Z.S;F!==null&&F(w,R),jx(i,s,R)}catch(ee){Xp(i,s,ee)}finally{y!==null&&w.types!==null&&(y.types=w.types),Z.T=y}}else try{y=o(p,u),jx(i,s,y)}catch(ee){Xp(i,s,ee)}}function jx(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Lx(i,s,u)},function(u){return Xp(i,s,u)}):Lx(i,s,o)}function Lx(i,s,o){s.status="fulfilled",s.value=o,Ux(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,Vx(i,o)))}function Xp(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Ux(s),s=s.next;while(s!==u)}i.action=null}function Ux(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function zx(i,s){return s}function Bx(i,s){if(rt){var o=Dt.formState;if(o!==null){e:{var u=$e;if(rt){if(Vt){t:{for(var p=Vt,y=tr;p.nodeType!==8;){if(!y){p=null;break t}if(p=ir(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Vt=ir(p.nextSibling),u=p.data==="F!";break e}}ta(u)}u=!1}u&&(s=o[0])}}return o=mi(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zx,lastRenderedState:s},o.queue=u,o=a_.bind(null,$e,u),u.dispatch=o,u=Yp(!1),y=tg.bind(null,$e,!1,u.queue),u=mi(),p={state:s,dispatch:null,action:i,pending:null},u.queue=p,o=YN.bind(null,$e,p,y,o),p.dispatch=o,u.memoizedState=i,[s,o,!1]}function Fx(i){var s=hn();return qx(s,Rt,i)}function qx(i,s,o){if(s=$p(i,s,zx)[0],i=md(ps)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Gc(s)}catch(w){throw w===dl?rd:w}else u=s;s=hn();var p=s.queue,y=p.dispatch;return o!==s.memoizedState&&($e.flags|=2048,yl(9,{destroy:void 0},XN.bind(null,p,o),null)),[u,y,i]}function XN(i,s){i.action=s}function Hx(i){var s=hn(),o=Rt;if(o!==null)return qx(s,o,i);hn(),s=s.memoizedState,o=hn();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function yl(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=$e.updateQueue,s===null&&(s=dd(),$e.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function Gx(){return hn().memoizedState}function pd(i,s,o,u){var p=mi();$e.flags|=i,p.memoizedState=yl(1|s,{destroy:void 0},o,u===void 0?null:u)}function gd(i,s,o,u){var p=hn();u=u===void 0?null:u;var y=p.memoizedState.inst;Rt!==null&&u!==null&&zp(u,Rt.memoizedState.deps)?p.memoizedState=yl(s,y,o,u):($e.flags|=i,p.memoizedState=yl(1|s,y,o,u))}function $x(i,s){pd(8390656,8,i,s)}function Wp(i,s){gd(2048,8,i,s)}function WN(i){$e.flags|=4;var s=$e.updateQueue;if(s===null)s=dd(),$e.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function Kx(i){var s=hn().memoizedState;return WN({ref:s,nextImpl:i}),function(){if((yt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Yx(i,s){return gd(4,2,i,s)}function Xx(i,s){return gd(4,4,i,s)}function Wx(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Qx(i,s,o){o=o!=null?o.concat([i]):null,gd(4,4,Wx.bind(null,s,i),o)}function Qp(){}function Jx(i,s){var o=hn();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&zp(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function Zx(i,s){var o=hn();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&zp(s,u[1]))return u[0];if(u=i(),vo){jn(!0);try{i()}finally{jn(!1)}}return o.memoizedState=[u,s],u}function Jp(i,s,o){return o===void 0||(ms&1073741824)!==0&&(Ze&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=ew(),$e.lanes|=i,ua|=i,o)}function e_(i,s,o,u){return Pi(o,s)?o:ml.current!==null?(i=Jp(i,o,u),Pi(i,s)||(bn=!0),i):(ms&42)===0||(ms&1073741824)!==0&&(Ze&261930)===0?(bn=!0,i.memoizedState=o):(i=ew(),$e.lanes|=i,ua|=i,s)}function t_(i,s,o,u,p){var y=q.p;q.p=y!==0&&8>y?y:8;var w=Z.T,R={};Z.T=R,tg(i,!1,s,o);try{var F=p(),ee=Z.S;if(ee!==null&&ee(R,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ce=GN(F,u);$c(i,s,ce,Bi(i))}else $c(i,s,u,Bi(i))}catch(he){$c(i,s,{then:function(){},status:"rejected",reason:he},Bi())}finally{q.p=y,w!==null&&R.types!==null&&(w.types=R.types),Z.T=w}}function QN(){}function Zp(i,s,o,u){if(i.tag!==5)throw Error(r(476));var p=n_(i).queue;t_(i,p,s,H,o===null?QN:function(){return i_(i),o(u)})}function n_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:H},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function i_(i){var s=n_(i);s.next===null&&(s=i.alternate.memoizedState),$c(i,s.next.queue,{},Bi())}function eg(){return Wn(cu)}function r_(){return hn().memoizedState}function s_(){return hn().memoizedState}function JN(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Bi();i=ra(o);var u=sa(s,i,o);u!==null&&(Ri(u,s,o),Bc(u,s,o)),s={cache:Ip()},i.payload=s;return}s=s.return}}function ZN(i,s,o){var u=Bi();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},yd(i)?o_(s,o):(o=vp(i,s,o,u),o!==null&&(Ri(o,i,u),l_(o,s,u)))}function a_(i,s,o){var u=Bi();$c(i,s,o,u)}function $c(i,s,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(yd(i))o_(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,R=y(w,o);if(p.hasEagerState=!0,p.eagerState=R,Pi(R,w))return Qh(i,s,p,0),Dt===null&&Wh(),!1}catch{}if(o=vp(i,s,p,u),o!==null)return Ri(o,i,u),l_(o,s,u),!0}return!1}function tg(i,s,o,u){if(u={lane:2,revertLane:Mg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},yd(i)){if(s)throw Error(r(479))}else s=vp(i,o,u,2),s!==null&&Ri(s,i,2)}function yd(i){var s=i.alternate;return i===$e||s!==null&&s===$e}function o_(i,s){pl=ud=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function l_(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Mt(i,o)}}var Kc={readContext:Wn,use:fd,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn};Kc.useEffectEvent=tn;var c_={readContext:Wn,use:fd,useCallback:function(i,s){return mi().memoizedState=[i,s===void 0?null:s],i},useContext:Wn,useEffect:$x,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,pd(4194308,4,Wx.bind(null,s,i),o)},useLayoutEffect:function(i,s){return pd(4194308,4,i,s)},useInsertionEffect:function(i,s){pd(4,2,i,s)},useMemo:function(i,s){var o=mi();s=s===void 0?null:s;var u=i();if(vo){jn(!0);try{i()}finally{jn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=mi();if(o!==void 0){var p=o(s);if(vo){jn(!0);try{o(s)}finally{jn(!1)}}}else p=s;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=ZN.bind(null,$e,i),[u.memoizedState,i]},useRef:function(i){var s=mi();return i={current:i},s.memoizedState=i},useState:function(i){i=Yp(i);var s=i.queue,o=a_.bind(null,$e,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Qp,useDeferredValue:function(i,s){var o=mi();return Jp(o,i,s)},useTransition:function(){var i=Yp(!1);return i=t_.bind(null,$e,i.queue,!0,!1),mi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=$e,p=mi();if(rt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Dt===null)throw Error(r(349));(Ze&127)!==0||Nx(u,s,o)}p.memoizedState=o;var y={value:o,getSnapshot:s};return p.queue=y,$x(kx.bind(null,u,y,i),[i]),u.flags|=2048,yl(9,{destroy:void 0},Dx.bind(null,u,y,o,s),null),o},useId:function(){var i=mi(),s=Dt.identifierPrefix;if(rt){var o=Hr,u=qr;o=(u&~(1<<32-kt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=hd++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=$N++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:eg,useFormState:Bx,useActionState:Bx,useOptimistic:function(i){var s=mi();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=tg.bind(null,$e,!0,o),o.dispatch=s,[i,s]},useMemoCache:Gp,useCacheRefresh:function(){return mi().memoizedState=JN.bind(null,$e)},useEffectEvent:function(i){var s=mi(),o={impl:i};return s.memoizedState=o,function(){if((yt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},ng={readContext:Wn,use:fd,useCallback:Jx,useContext:Wn,useEffect:Wp,useImperativeHandle:Qx,useInsertionEffect:Yx,useLayoutEffect:Xx,useMemo:Zx,useReducer:md,useRef:Gx,useState:function(){return md(ps)},useDebugValue:Qp,useDeferredValue:function(i,s){var o=hn();return e_(o,Rt.memoizedState,i,s)},useTransition:function(){var i=md(ps)[0],s=hn().memoizedState;return[typeof i=="boolean"?i:Gc(i),s]},useSyncExternalStore:Ix,useId:r_,useHostTransitionStatus:eg,useFormState:Fx,useActionState:Fx,useOptimistic:function(i,s){var o=hn();return Px(o,Rt,i,s)},useMemoCache:Gp,useCacheRefresh:s_};ng.useEffectEvent=Kx;var u_={readContext:Wn,use:fd,useCallback:Jx,useContext:Wn,useEffect:Wp,useImperativeHandle:Qx,useInsertionEffect:Yx,useLayoutEffect:Xx,useMemo:Zx,useReducer:Kp,useRef:Gx,useState:function(){return Kp(ps)},useDebugValue:Qp,useDeferredValue:function(i,s){var o=hn();return Rt===null?Jp(o,i,s):e_(o,Rt.memoizedState,i,s)},useTransition:function(){var i=Kp(ps)[0],s=hn().memoizedState;return[typeof i=="boolean"?i:Gc(i),s]},useSyncExternalStore:Ix,useId:r_,useHostTransitionStatus:eg,useFormState:Hx,useActionState:Hx,useOptimistic:function(i,s){var o=hn();return Rt!==null?Px(o,Rt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Gp,useCacheRefresh:s_};u_.useEffectEvent=Kx;function ig(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var rg={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Bi(),p=ra(u);p.payload=s,o!=null&&(p.callback=o),s=sa(i,p,u),s!==null&&(Ri(s,i,u),Bc(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Bi(),p=ra(u);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=sa(i,p,u),s!==null&&(Ri(s,i,u),Bc(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Bi(),u=ra(o);u.tag=2,s!=null&&(u.callback=s),s=sa(i,u,o),s!==null&&(Ri(s,i,o),Bc(s,i,o))}};function h_(i,s,o,u,p,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,w):s.prototype&&s.prototype.isPureReactComponent?!Mc(o,u)||!Mc(p,y):!0}function d_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&rg.enqueueReplaceState(s,s.state,null)}function bo(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=v({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}function f_(i){Xh(i)}function m_(i){console.error(i)}function p_(i){Xh(i)}function vd(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function g_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function sg(i,s,o){return o=ra(o),o.tag=3,o.payload={element:null},o.callback=function(){vd(i,s)},o}function y_(i){return i=ra(i),i.tag=3,i}function v_(i,s,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;i.payload=function(){return p(y)},i.callback=function(){g_(s,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){g_(s,o,u),typeof p!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function eD(i,s,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&cl(s,o,p,!0),o=ji.current,o!==null){switch(o.tag){case 31:case 13:return nr===null?Nd():o.alternate===null&&nn===0&&(nn=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===sd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Ng(i,u,p)),!1;case 22:return o.flags|=65536,u===sd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Ng(i,u,p)),!1}throw Error(r(435,o.tag))}return Ng(i,u,p),Nd(),!1}if(rt)return s=ji.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==Ep&&(i=Error(r(422),{cause:u}),Vc(Ji(i,o)))):(u!==Ep&&(s=Error(r(423),{cause:u}),Vc(Ji(s,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=Ji(u,o),p=sg(i.stateNode,u,p),Pp(i,p),nn!==4&&(nn=2)),!1;var y=Error(r(520),{cause:u});if(y=Ji(y,o),tu===null?tu=[y]:tu.push(y),nn!==4&&(nn=2),s===null)return!0;u=Ji(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=sg(o.stateNode,u,i),Pp(o,i),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ha===null||!ha.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=y_(p),v_(p,i,o,u),Pp(o,p),!1}o=o.return}while(o!==null);return!1}var ag=Error(r(461)),bn=!1;function Qn(i,s,o,u){s.child=i===null?wx(s,null,o,u):yo(s,i.child,o,u)}function b_(i,s,o,u,p){o=o.render;var y=s.ref;if("ref"in u){var w={};for(var R in u)R!=="ref"&&(w[R]=u[R])}else w=u;return fo(s),u=Bp(i,s,o,w,y,p),R=Fp(),i!==null&&!bn?(qp(i,s,p),gs(i,s,p)):(rt&&R&&wp(s),s.flags|=1,Qn(i,s,u,p),s.child)}function x_(i,s,o,u,p){if(i===null){var y=o.type;return typeof y=="function"&&!bp(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,__(i,s,y,u,p)):(i=Zh(o.type,null,u,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!mg(i,p)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:Mc,o(w,u)&&i.ref===s.ref)return gs(i,s,p)}return s.flags|=1,i=us(y,u),i.ref=s.ref,i.return=s,s.child=i}function __(i,s,o,u,p){if(i!==null){var y=i.memoizedProps;if(Mc(y,u)&&i.ref===s.ref)if(bn=!1,s.pendingProps=u=y,mg(i,p))(i.flags&131072)!==0&&(bn=!0);else return s.lanes=i.lanes,gs(i,s,p)}return og(i,s,o,u,p)}function w_(i,s,o,u){var p=u.children,y=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,i!==null){for(u=s.child=i.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,s.child=null;return T_(i,s,y,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&id(s,y!==null?y.cachePool:null),y!==null?Sx(s,y):jp(),Ax(s);else return u=s.lanes=536870912,T_(i,s,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(id(s,y.cachePool),Sx(s,y),oa(),s.memoizedState=null):(i!==null&&id(s,null),jp(),oa());return Qn(i,s,p,o),s.child}function Yc(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function T_(i,s,o,u,p){var y=Dp();return y=y===null?null:{parent:yn._currentValue,pool:y},s.memoizedState={baseLanes:o,cachePool:y},i!==null&&id(s,null),jp(),Ax(s),i!==null&&cl(i,s,u,!0),s.childLanes=p,null}function bd(i,s){return s=_d({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function E_(i,s,o){return yo(s,i.child,null,o),i=bd(s,s.pendingProps),i.flags|=2,Li(s),s.memoizedState=null,i}function tD(i,s,o){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(rt){if(u.mode==="hidden")return i=bd(s,u),s.lanes=536870912,Yc(null,i);if(Up(s),(i=Vt)?(i=Vw(i,tr),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Zs!==null?{id:qr,overflow:Hr}:null,retryLane:536870912,hydrationErrors:null},o=ox(i),o.return=s,s.child=o,Xn=s,Vt=null)):i=null,i===null)throw ta(s);return s.lanes=536870912,null}return bd(s,u)}var y=i.memoizedState;if(y!==null){var w=y.dehydrated;if(Up(s),p)if(s.flags&256)s.flags&=-257,s=E_(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(bn||cl(i,s,o,!1),p=(o&i.childLanes)!==0,bn||p){if(u=Dt,u!==null&&(w=pn(u,o),w!==0&&w!==y.retryLane))throw y.retryLane=w,lo(i,w),Ri(u,i,w),ag;Nd(),s=E_(i,s,o)}else i=y.treeContext,Vt=ir(w.nextSibling),Xn=s,rt=!0,ea=null,tr=!1,i!==null&&ux(s,i),s=bd(s,u),s.flags|=4096;return s}return i=us(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function xd(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function og(i,s,o,u,p){return fo(s),o=Bp(i,s,o,u,void 0,p),u=Fp(),i!==null&&!bn?(qp(i,s,p),gs(i,s,p)):(rt&&u&&wp(s),s.flags|=1,Qn(i,s,o,p),s.child)}function S_(i,s,o,u,p,y){return fo(s),s.updateQueue=null,o=Rx(s,u,o,p),Cx(i),u=Fp(),i!==null&&!bn?(qp(i,s,y),gs(i,s,y)):(rt&&u&&wp(s),s.flags|=1,Qn(i,s,o,y),s.child)}function A_(i,s,o,u,p){if(fo(s),s.stateNode===null){var y=sl,w=o.contextType;typeof w=="object"&&w!==null&&(y=Wn(w)),y=new o(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=rg,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},Mp(s),w=o.contextType,y.context=typeof w=="object"&&w!==null?Wn(w):sl,y.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(ig(s,o,w,u),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&rg.enqueueReplaceState(y,y.state,null),qc(s,u,y,p),Fc(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){y=s.stateNode;var R=s.memoizedProps,F=bo(o,R);y.props=F;var ee=y.context,ce=o.contextType;w=sl,typeof ce=="object"&&ce!==null&&(w=Wn(ce));var he=o.getDerivedStateFromProps;ce=typeof he=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||ee!==w)&&d_(s,y,u,w),ia=!1;var ie=s.memoizedState;y.state=ie,qc(s,u,y,p),Fc(),ee=s.memoizedState,R||ie!==ee||ia?(typeof he=="function"&&(ig(s,o,he,u),ee=s.memoizedState),(F=ia||h_(s,o,F,u,ie,ee,w))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=ee),y.props=u,y.state=ee,y.context=w,u=F):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,Op(i,s),w=s.memoizedProps,ce=bo(o,w),y.props=ce,he=s.pendingProps,ie=y.context,ee=o.contextType,F=sl,typeof ee=="object"&&ee!==null&&(F=Wn(ee)),R=o.getDerivedStateFromProps,(ee=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==he||ie!==F)&&d_(s,y,u,F),ia=!1,ie=s.memoizedState,y.state=ie,qc(s,u,y,p),Fc();var oe=s.memoizedState;w!==he||ie!==oe||ia||i!==null&&i.dependencies!==null&&td(i.dependencies)?(typeof R=="function"&&(ig(s,o,R,u),oe=s.memoizedState),(ce=ia||h_(s,o,ce,u,ie,oe,F)||i!==null&&i.dependencies!==null&&td(i.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,oe,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,oe,F)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&ie===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&ie===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=oe),y.props=u,y.state=oe,y.context=F,u=ce):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&ie===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&ie===i.memoizedState||(s.flags|=1024),u=!1)}return y=u,xd(i,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&u?(s.child=yo(s,i.child,null,p),s.child=yo(s,null,o,p)):Qn(i,s,o,p),s.memoizedState=y.state,i=s.child):i=gs(i,s,p),i}function C_(i,s,o,u){return uo(),s.flags|=256,Qn(i,s,o,u),s.child}var lg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cg(i){return{baseLanes:i,cachePool:gx()}}function ug(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=zi),i}function R_(i,s,o){var u=s.pendingProps,p=!1,y=(s.flags&128)!==0,w;if((w=y)||(w=i!==null&&i.memoizedState===null?!1:(un.current&2)!==0),w&&(p=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,i===null){if(rt){if(p?aa(s):oa(),(i=Vt)?(i=Vw(i,tr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Zs!==null?{id:qr,overflow:Hr}:null,retryLane:536870912,hydrationErrors:null},o=ox(i),o.return=s,s.child=o,Xn=s,Vt=null)):i=null,i===null)throw ta(s);return $g(i)?s.lanes=32:s.lanes=536870912,null}var R=u.children;return u=u.fallback,p?(oa(),p=s.mode,R=_d({mode:"hidden",children:R},p),u=co(u,p,o,null),R.return=s,u.return=s,R.sibling=u,s.child=R,u=s.child,u.memoizedState=cg(o),u.childLanes=ug(i,w,o),s.memoizedState=lg,Yc(null,u)):(aa(s),hg(s,R))}var F=i.memoizedState;if(F!==null&&(R=F.dehydrated,R!==null)){if(y)s.flags&256?(aa(s),s.flags&=-257,s=dg(i,s,o)):s.memoizedState!==null?(oa(),s.child=i.child,s.flags|=128,s=null):(oa(),R=u.fallback,p=s.mode,u=_d({mode:"visible",children:u.children},p),R=co(R,p,o,null),R.flags|=2,u.return=s,R.return=s,u.sibling=R,s.child=u,yo(s,i.child,null,o),u=s.child,u.memoizedState=cg(o),u.childLanes=ug(i,w,o),s.memoizedState=lg,s=Yc(null,u));else if(aa(s),$g(R)){if(w=R.nextSibling&&R.nextSibling.dataset,w)var ee=w.dgst;w=ee,u=Error(r(419)),u.stack="",u.digest=w,Vc({value:u,source:null,stack:null}),s=dg(i,s,o)}else if(bn||cl(i,s,o,!1),w=(o&i.childLanes)!==0,bn||w){if(w=Dt,w!==null&&(u=pn(w,o),u!==0&&u!==F.retryLane))throw F.retryLane=u,lo(i,u),Ri(w,i,u),ag;Gg(R)||Nd(),s=dg(i,s,o)}else Gg(R)?(s.flags|=192,s.child=i.child,s=null):(i=F.treeContext,Vt=ir(R.nextSibling),Xn=s,rt=!0,ea=null,tr=!1,i!==null&&ux(s,i),s=hg(s,u.children),s.flags|=4096);return s}return p?(oa(),R=u.fallback,p=s.mode,F=i.child,ee=F.sibling,u=us(F,{mode:"hidden",children:u.children}),u.subtreeFlags=F.subtreeFlags&65011712,ee!==null?R=us(ee,R):(R=co(R,p,o,null),R.flags|=2),R.return=s,u.return=s,u.sibling=R,s.child=u,Yc(null,u),u=s.child,R=i.child.memoizedState,R===null?R=cg(o):(p=R.cachePool,p!==null?(F=yn._currentValue,p=p.parent!==F?{parent:F,pool:F}:p):p=gx(),R={baseLanes:R.baseLanes|o,cachePool:p}),u.memoizedState=R,u.childLanes=ug(i,w,o),s.memoizedState=lg,Yc(i.child,u)):(aa(s),o=i.child,i=o.sibling,o=us(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(w=s.deletions,w===null?(s.deletions=[i],s.flags|=16):w.push(i)),s.child=o,s.memoizedState=null,o)}function hg(i,s){return s=_d({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function _d(i,s){return i=Vi(22,i,null,s),i.lanes=0,i}function dg(i,s,o){return yo(s,i.child,null,o),i=hg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function I_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Cp(i.return,s,o)}function fg(i,s,o,u,p,y){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:y}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=o,w.tailMode=p,w.treeForkCount=y)}function N_(i,s,o){var u=s.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var w=un.current,R=(w&2)!==0;if(R?(w=w&1|2,s.flags|=128):w&=1,W(un,w),Qn(i,s,u,o),u=rt?Pc:0,!R&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&I_(i,o,s);else if(i.tag===19)I_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(o=s.child,p=null;o!==null;)i=o.alternate,i!==null&&cd(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),fg(s,!1,p,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&cd(i)===null){s.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}fg(s,!0,o,null,y,u);break;case"together":fg(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function gs(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),ua|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(cl(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=us(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=us(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function mg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&td(i)))}function nD(i,s,o){switch(s.tag){case 3:ve(s,s.stateNode.containerInfo),na(s,yn,i.memoizedState.cache),uo();break;case 27:case 5:Ee(s);break;case 4:ve(s,s.stateNode.containerInfo);break;case 10:na(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Up(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(aa(s),s.flags|=128,null):(o&s.child.childLanes)!==0?R_(i,s,o):(aa(s),i=gs(i,s,o),i!==null?i.sibling:null);aa(s);break;case 19:var p=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(cl(i,s,o,!1),u=(o&s.childLanes)!==0),p){if(u)return N_(i,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),W(un,un.current),u)break;return null;case 22:return s.lanes=0,w_(i,s,o,s.pendingProps);case 24:na(s,yn,i.memoizedState.cache)}return gs(i,s,o)}function D_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)bn=!0;else{if(!mg(i,o)&&(s.flags&128)===0)return bn=!1,nD(i,s,o);bn=(i.flags&131072)!==0}else bn=!1,rt&&(s.flags&1048576)!==0&&cx(s,Pc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=po(s.elementType),s.type=i,typeof i=="function")bp(i)?(u=bo(i,u),s.tag=1,s=A_(null,s,i,u,o)):(s.tag=0,s=og(null,s,i,u,o));else{if(i!=null){var p=i.$$typeof;if(p===ae){s.tag=11,s=b_(null,s,i,u,o);break e}else if(p===N){s.tag=14,s=x_(null,s,i,u,o);break e}}throw s=xe(i)||i,Error(r(306,s,""))}}return s;case 0:return og(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,p=bo(u,s.pendingProps),A_(i,s,u,p,o);case 3:e:{if(ve(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var y=s.memoizedState;p=y.element,Op(i,s),qc(s,u,null,o);var w=s.memoizedState;if(u=w.cache,na(s,yn,u),u!==y.cache&&Rp(s,[yn],o,!0),Fc(),u=w.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=C_(i,s,u,o);break e}else if(u!==p){p=Ji(Error(r(424)),s),Vc(p),s=C_(i,s,u,o);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Vt=ir(i.firstChild),Xn=s,rt=!0,ea=null,tr=!0,o=wx(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(uo(),u===p){s=gs(i,s,o);break e}Qn(i,s,u,o)}s=s.child}return s;case 26:return xd(i,s),i===null?(o=Fw(s.type,null,s.pendingProps,null))?s.memoizedState=o:rt||(o=s.type,i=s.pendingProps,u=jd(ge.current).createElement(o),u[Jt]=s,u[ln]=i,Jn(u,o,i),Zt(u),s.stateNode=u):s.memoizedState=Fw(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ee(s),i===null&&rt&&(u=s.stateNode=Uw(s.type,s.pendingProps,ge.current),Xn=s,tr=!0,p=Vt,pa(s.type)?(Kg=p,Vt=ir(u.firstChild)):Vt=p),Qn(i,s,s.pendingProps.children,o),xd(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&rt&&((p=u=Vt)&&(u=kD(u,s.type,s.pendingProps,tr),u!==null?(s.stateNode=u,Xn=s,Vt=ir(u.firstChild),tr=!1,p=!0):p=!1),p||ta(s)),Ee(s),p=s.type,y=s.pendingProps,w=i!==null?i.memoizedProps:null,u=y.children,Fg(p,y)?u=null:w!==null&&Fg(p,w)&&(s.flags|=32),s.memoizedState!==null&&(p=Bp(i,s,KN,null,null,o),cu._currentValue=p),xd(i,s),Qn(i,s,u,o),s.child;case 6:return i===null&&rt&&((i=o=Vt)&&(o=MD(o,s.pendingProps,tr),o!==null?(s.stateNode=o,Xn=s,Vt=null,i=!0):i=!1),i||ta(s)),null;case 13:return R_(i,s,o);case 4:return ve(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=yo(s,null,u,o):Qn(i,s,u,o),s.child;case 11:return b_(i,s,s.type,s.pendingProps,o);case 7:return Qn(i,s,s.pendingProps,o),s.child;case 8:return Qn(i,s,s.pendingProps.children,o),s.child;case 12:return Qn(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,na(s,s.type,u.value),Qn(i,s,u.children,o),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,fo(s),p=Wn(p),u=u(p),s.flags|=1,Qn(i,s,u,o),s.child;case 14:return x_(i,s,s.type,s.pendingProps,o);case 15:return __(i,s,s.type,s.pendingProps,o);case 19:return N_(i,s,o);case 31:return tD(i,s,o);case 22:return w_(i,s,o,s.pendingProps);case 24:return fo(s),u=Wn(yn),i===null?(p=Dp(),p===null&&(p=Dt,y=Ip(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),s.memoizedState={parent:u,cache:p},Mp(s),na(s,yn,p)):((i.lanes&o)!==0&&(Op(i,s),qc(s,null,null,o),Fc()),p=i.memoizedState,y=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),na(s,yn,u)):(u=y.cache,na(s,yn,u),u!==p.cache&&Rp(s,[yn],o,!0))),Qn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ys(i){i.flags|=4}function pg(i,s,o,u,p){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(rw())i.flags|=8192;else throw go=sd,kp}else i.flags&=-16777217}function k_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Kw(s))if(rw())i.flags|=8192;else throw go=sd,kp}function wd(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Wt():536870912,i.lanes|=s,_l|=s)}function Xc(i,s){if(!rt)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function jt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function iD(i,s,o){var u=s.pendingProps;switch(Tp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(s),null;case 1:return jt(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),fs(yn),_e(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(ll(s)?ys(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Sp())),jt(s),null;case 26:var p=s.type,y=s.memoizedState;return i===null?(ys(s),y!==null?(jt(s),k_(s,y)):(jt(s),pg(s,p,null,u,o))):y?y!==i.memoizedState?(ys(s),jt(s),k_(s,y)):(jt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&ys(s),jt(s),pg(s,p,i,u,o)),null;case 27:if(Le(s),o=ge.current,p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&ys(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return jt(s),null}i=re.current,ll(s)?hx(s):(i=Uw(p,u,o),s.stateNode=i,ys(s))}return jt(s),null;case 5:if(Le(s),p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&ys(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return jt(s),null}if(y=re.current,ll(s))hx(s);else{var w=jd(ge.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?w.createElement(p,{is:u.is}):w.createElement(p)}}y[Jt]=s,y[ln]=u;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=y;e:switch(Jn(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ys(s)}}return jt(s),pg(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&ys(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=ge.current,ll(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,p=Xn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[Jt]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Rw(i.nodeValue,o)),i||ta(s,!0)}else i=jd(i).createTextNode(u),i[Jt]=s,s.stateNode=i}return jt(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(u=ll(s),o!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Jt]=s}else uo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;jt(s),i=!1}else o=Sp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(Li(s),s):(Li(s),null);if((s.flags&128)!==0)throw Error(r(558))}return jt(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=ll(s),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Jt]=s}else uo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;jt(s),p=!1}else p=Sp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Li(s),s):(Li(s),null)}return Li(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),wd(s,s.updateQueue),jt(s),null);case 4:return _e(),i===null&&jg(s.stateNode.containerInfo),jt(s),null;case 10:return fs(s.type),jt(s),null;case 19:if(U(un),u=s.memoizedState,u===null)return jt(s),null;if(p=(s.flags&128)!==0,y=u.rendering,y===null)if(p)Xc(u,!1);else{if(nn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=cd(i),y!==null){for(s.flags|=128,Xc(u,!1),i=y.updateQueue,s.updateQueue=i,wd(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)ax(o,i),o=o.sibling;return W(un,un.current&1|2),rt&&hs(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&Pt()>Cd&&(s.flags|=128,p=!0,Xc(u,!1),s.lanes=4194304)}else{if(!p)if(i=cd(y),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,s.updateQueue=i,wd(s,i),Xc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!rt)return jt(s),null}else 2*Pt()-u.renderingStartTime>Cd&&o!==536870912&&(s.flags|=128,p=!0,Xc(u,!1),s.lanes=4194304);u.isBackwards?(y.sibling=s.child,s.child=y):(i=u.last,i!==null?i.sibling=y:s.child=y,u.last=y)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Pt(),i.sibling=null,o=un.current,W(un,p?o&1|2:o&1),rt&&hs(s,u.treeForkCount),i):(jt(s),null);case 22:case 23:return Li(s),Lp(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(jt(s),s.subtreeFlags&6&&(s.flags|=8192)):jt(s),o=s.updateQueue,o!==null&&wd(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&U(mo),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),fs(yn),jt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function rD(i,s){switch(Tp(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return fs(yn),_e(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Le(s),null;case 31:if(s.memoizedState!==null){if(Li(s),s.alternate===null)throw Error(r(340));uo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Li(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));uo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return U(un),null;case 4:return _e(),null;case 10:return fs(s.type),null;case 22:case 23:return Li(s),Lp(),i!==null&&U(mo),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return fs(yn),null;case 25:return null;default:return null}}function M_(i,s){switch(Tp(s),s.tag){case 3:fs(yn),_e();break;case 26:case 27:case 5:Le(s);break;case 4:_e();break;case 31:s.memoizedState!==null&&Li(s);break;case 13:Li(s);break;case 19:U(un);break;case 10:fs(s.type);break;case 22:case 23:Li(s),Lp(),i!==null&&U(mo);break;case 24:fs(yn)}}function Wc(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&i)===i){u=void 0;var y=o.create,w=o.inst;u=y(),w.destroy=u}o=o.next}while(o!==p)}}catch(R){Et(s,s.return,R)}}function la(i,s,o){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&i)===i){var w=u.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,p=s;var F=o,ee=R;try{ee()}catch(ce){Et(p,F,ce)}}}u=u.next}while(u!==y)}}catch(ce){Et(s,s.return,ce)}}function O_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Ex(s,o)}catch(u){Et(i,i.return,u)}}}function P_(i,s,o){o.props=bo(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Et(i,s,u)}}function Qc(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(p){Et(i,s,p)}}function Gr(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){Et(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Et(i,s,p)}else o.current=null}function V_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){Et(i,i.return,p)}}function gg(i,s,o){try{var u=i.stateNode;AD(u,i.type,o,s),u[ln]=s}catch(p){Et(i,i.return,p)}}function j_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&pa(i.type)||i.tag===4}function yg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||j_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&pa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function vg(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=gr));else if(u!==4&&(u===27&&pa(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(vg(i,s,o),i=i.sibling;i!==null;)vg(i,s,o),i=i.sibling}function Td(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&pa(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Td(i,s,o),i=i.sibling;i!==null;)Td(i,s,o),i=i.sibling}function L_(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Jn(s,u,o),s[Jt]=i,s[ln]=o}catch(y){Et(i,i.return,y)}}var vs=!1,xn=!1,bg=!1,U_=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function sD(i,s){if(i=i.containerInfo,zg=Hd,i=Qb(i),dp(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var w=0,R=-1,F=-1,ee=0,ce=0,he=i,ie=null;t:for(;;){for(var oe;he!==o||p!==0&&he.nodeType!==3||(R=w+p),he!==y||u!==0&&he.nodeType!==3||(F=w+u),he.nodeType===3&&(w+=he.nodeValue.length),(oe=he.firstChild)!==null;)ie=he,he=oe;for(;;){if(he===i)break t;if(ie===o&&++ee===p&&(R=w),ie===y&&++ce===u&&(F=w),(oe=he.nextSibling)!==null)break;he=ie,ie=he.parentNode}he=oe}o=R===-1||F===-1?null:{start:R,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(Bg={focusedElem:i,selectionRange:o},Hd=!1,Bn=s;Bn!==null;)if(s=Bn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Bn=i;else for(;Bn!==null;){switch(s=Bn,y=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)p=i[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=s,p=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var Ae=bo(o.type,p);i=u.getSnapshotBeforeUpdate(Ae,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(Pe){Et(o,o.return,Pe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Hg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Hg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Bn=i;break}Bn=s.return}}function z_(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:xs(i,o),u&4&&Wc(5,o);break;case 1:if(xs(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(w){Et(o,o.return,w)}else{var p=bo(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(w){Et(o,o.return,w)}}u&64&&O_(o),u&512&&Qc(o,o.return);break;case 3:if(xs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Ex(i,s)}catch(w){Et(o,o.return,w)}}break;case 27:s===null&&u&4&&L_(o);case 26:case 5:xs(i,o),s===null&&u&4&&V_(o),u&512&&Qc(o,o.return);break;case 12:xs(i,o);break;case 31:xs(i,o),u&4&&q_(i,o);break;case 13:xs(i,o),u&4&&H_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=mD.bind(null,o),OD(i,o))));break;case 22:if(u=o.memoizedState!==null||vs,!u){s=s!==null&&s.memoizedState!==null||xn,p=vs;var y=xn;vs=u,(xn=s)&&!y?_s(i,o,(o.subtreeFlags&8772)!==0):xs(i,o),vs=p,xn=y}break;case 30:break;default:xs(i,o)}}function B_(i){var s=i.alternate;s!==null&&(i.alternate=null,B_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&qs(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Bt=null,Ei=!1;function bs(i,s,o){for(o=o.child;o!==null;)F_(i,s,o),o=o.sibling}function F_(i,s,o){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Kn,o)}catch{}switch(o.tag){case 26:xn||Gr(o,s),bs(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:xn||Gr(o,s);var u=Bt,p=Ei;pa(o.type)&&(Bt=o.stateNode,Ei=!1),bs(i,s,o),au(o.stateNode),Bt=u,Ei=p;break;case 5:xn||Gr(o,s);case 6:if(u=Bt,p=Ei,Bt=null,bs(i,s,o),Bt=u,Ei=p,Bt!==null)if(Ei)try{(Bt.nodeType===9?Bt.body:Bt.nodeName==="HTML"?Bt.ownerDocument.body:Bt).removeChild(o.stateNode)}catch(y){Et(o,s,y)}else try{Bt.removeChild(o.stateNode)}catch(y){Et(o,s,y)}break;case 18:Bt!==null&&(Ei?(i=Bt,Ow(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Il(i)):Ow(Bt,o.stateNode));break;case 4:u=Bt,p=Ei,Bt=o.stateNode.containerInfo,Ei=!0,bs(i,s,o),Bt=u,Ei=p;break;case 0:case 11:case 14:case 15:la(2,o,s),xn||la(4,o,s),bs(i,s,o);break;case 1:xn||(Gr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&P_(o,s,u)),bs(i,s,o);break;case 21:bs(i,s,o);break;case 22:xn=(u=xn)||o.memoizedState!==null,bs(i,s,o),xn=u;break;default:bs(i,s,o)}}function q_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Il(i)}catch(o){Et(s,s.return,o)}}}function H_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Il(i)}catch(o){Et(s,s.return,o)}}function aD(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new U_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new U_),s;default:throw Error(r(435,i.tag))}}function Ed(i,s){var o=aD(i);s.forEach(function(u){if(!o.has(u)){o.add(u);var p=pD.bind(null,i,u);u.then(p,p)}})}function Si(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],y=i,w=s,R=w;e:for(;R!==null;){switch(R.tag){case 27:if(pa(R.type)){Bt=R.stateNode,Ei=!1;break e}break;case 5:Bt=R.stateNode,Ei=!1;break e;case 3:case 4:Bt=R.stateNode.containerInfo,Ei=!0;break e}R=R.return}if(Bt===null)throw Error(r(160));F_(y,w,p),Bt=null,Ei=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)G_(s,i),s=s.sibling}var wr=null;function G_(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Si(s,i),Ai(i),u&4&&(la(3,i,i.return),Wc(3,i),la(5,i,i.return));break;case 1:Si(s,i),Ai(i),u&512&&(xn||o===null||Gr(o,o.return)),u&64&&vs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=wr;if(Si(s,i),Ai(i),u&512&&(xn||o===null||Gr(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Ki]||y[Jt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),Jn(y,u,o),y[Jt]=i,Zt(y),u=y;break e;case"link":var w=Gw("link","href",p).get(u+(o.href||""));if(w){for(var R=0;R<w.length;R++)if(y=w[R],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(R,1);break t}}y=p.createElement(u),Jn(y,u,o),p.head.appendChild(y);break;case"meta":if(w=Gw("meta","content",p).get(u+(o.content||""))){for(R=0;R<w.length;R++)if(y=w[R],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(R,1);break t}}y=p.createElement(u),Jn(y,u,o),p.head.appendChild(y);break;default:throw Error(r(468,u))}y[Jt]=i,Zt(y),u=y}i.stateNode=u}else $w(p,i.type,i.stateNode);else i.stateNode=Hw(p,u,i.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?$w(p,i.type,i.stateNode):Hw(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&gg(i,i.memoizedProps,o.memoizedProps)}break;case 27:Si(s,i),Ai(i),u&512&&(xn||o===null||Gr(o,o.return)),o!==null&&u&4&&gg(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Si(s,i),Ai(i),u&512&&(xn||o===null||Gr(o,o.return)),i.flags&32){p=i.stateNode;try{Ti(p,"")}catch(Ae){Et(i,i.return,Ae)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,gg(i,p,o!==null?o.memoizedProps:p)),u&1024&&(bg=!0);break;case 6:if(Si(s,i),Ai(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Ae){Et(i,i.return,Ae)}}break;case 3:if(zd=null,p=wr,wr=Ld(s.containerInfo),Si(s,i),wr=p,Ai(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Il(s.containerInfo)}catch(Ae){Et(i,i.return,Ae)}bg&&(bg=!1,$_(i));break;case 4:u=wr,wr=Ld(i.stateNode.containerInfo),Si(s,i),Ai(i),wr=u;break;case 12:Si(s,i),Ai(i);break;case 31:Si(s,i),Ai(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ed(i,u)));break;case 13:Si(s,i),Ai(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ad=Pt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ed(i,u)));break;case 22:p=i.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,ee=vs,ce=xn;if(vs=ee||p,xn=ce||F,Si(s,i),xn=ce,vs=ee,Ai(i),u&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||F||vs||xn||xo(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){F=o=s;try{if(y=F.stateNode,p)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{R=F.stateNode;var he=F.memoizedProps.style,ie=he!=null&&he.hasOwnProperty("display")?he.display:null;R.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Ae){Et(F,F.return,Ae)}}}else if(s.tag===6){if(o===null){F=s;try{F.stateNode.nodeValue=p?"":F.memoizedProps}catch(Ae){Et(F,F.return,Ae)}}}else if(s.tag===18){if(o===null){F=s;try{var oe=F.stateNode;p?Pw(oe,!0):Pw(F.stateNode,!1)}catch(Ae){Et(F,F.return,Ae)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Ed(i,o))));break;case 19:Si(s,i),Ai(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ed(i,u)));break;case 30:break;case 21:break;default:Si(s,i),Ai(i)}}function Ai(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(j_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,y=yg(i);Td(i,y,p);break;case 5:var w=o.stateNode;o.flags&32&&(Ti(w,""),o.flags&=-33);var R=yg(i);Td(i,R,w);break;case 3:case 4:var F=o.stateNode.containerInfo,ee=yg(i);vg(i,ee,F);break;default:throw Error(r(161))}}catch(ce){Et(i,i.return,ce)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function $_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;$_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function xs(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)z_(i,s.alternate,s),s=s.sibling}function xo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:la(4,s,s.return),xo(s);break;case 1:Gr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&P_(s,s.return,o),xo(s);break;case 27:au(s.stateNode);case 26:case 5:Gr(s,s.return),xo(s);break;case 22:s.memoizedState===null&&xo(s);break;case 30:xo(s);break;default:xo(s)}i=i.sibling}}function _s(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=i,y=s,w=y.flags;switch(y.tag){case 0:case 11:case 15:_s(p,y,o),Wc(4,y);break;case 1:if(_s(p,y,o),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ee){Et(u,u.return,ee)}if(u=y,p=u.updateQueue,p!==null){var R=u.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)Tx(F[p],R)}catch(ee){Et(u,u.return,ee)}}o&&w&64&&O_(y),Qc(y,y.return);break;case 27:L_(y);case 26:case 5:_s(p,y,o),o&&u===null&&w&4&&V_(y),Qc(y,y.return);break;case 12:_s(p,y,o);break;case 31:_s(p,y,o),o&&w&4&&q_(p,y);break;case 13:_s(p,y,o),o&&w&4&&H_(p,y);break;case 22:y.memoizedState===null&&_s(p,y,o),Qc(y,y.return);break;case 30:break;default:_s(p,y,o)}s=s.sibling}}function xg(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&jc(o))}function _g(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&jc(i))}function Tr(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)K_(i,s,o,u),s=s.sibling}function K_(i,s,o,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Tr(i,s,o,u),p&2048&&Wc(9,s);break;case 1:Tr(i,s,o,u);break;case 3:Tr(i,s,o,u),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&jc(i)));break;case 12:if(p&2048){Tr(i,s,o,u),i=s.stateNode;try{var y=s.memoizedProps,w=y.id,R=y.onPostCommit;typeof R=="function"&&R(w,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){Et(s,s.return,F)}}else Tr(i,s,o,u);break;case 31:Tr(i,s,o,u);break;case 13:Tr(i,s,o,u);break;case 23:break;case 22:y=s.stateNode,w=s.alternate,s.memoizedState!==null?y._visibility&2?Tr(i,s,o,u):Jc(i,s):y._visibility&2?Tr(i,s,o,u):(y._visibility|=2,vl(i,s,o,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&xg(w,s);break;case 24:Tr(i,s,o,u),p&2048&&_g(s.alternate,s);break;default:Tr(i,s,o,u)}}function vl(i,s,o,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=i,w=s,R=o,F=u,ee=w.flags;switch(w.tag){case 0:case 11:case 15:vl(y,w,R,F,p),Wc(8,w);break;case 23:break;case 22:var ce=w.stateNode;w.memoizedState!==null?ce._visibility&2?vl(y,w,R,F,p):Jc(y,w):(ce._visibility|=2,vl(y,w,R,F,p)),p&&ee&2048&&xg(w.alternate,w);break;case 24:vl(y,w,R,F,p),p&&ee&2048&&_g(w.alternate,w);break;default:vl(y,w,R,F,p)}s=s.sibling}}function Jc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,p=u.flags;switch(u.tag){case 22:Jc(o,u),p&2048&&xg(u.alternate,u);break;case 24:Jc(o,u),p&2048&&_g(u.alternate,u);break;default:Jc(o,u)}s=s.sibling}}var Zc=8192;function bl(i,s,o){if(i.subtreeFlags&Zc)for(i=i.child;i!==null;)Y_(i,s,o),i=i.sibling}function Y_(i,s,o){switch(i.tag){case 26:bl(i,s,o),i.flags&Zc&&i.memoizedState!==null&&$D(o,wr,i.memoizedState,i.memoizedProps);break;case 5:bl(i,s,o);break;case 3:case 4:var u=wr;wr=Ld(i.stateNode.containerInfo),bl(i,s,o),wr=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Zc,Zc=16777216,bl(i,s,o),Zc=u):bl(i,s,o));break;default:bl(i,s,o)}}function X_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function eu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Bn=u,Q_(u,i)}X_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)W_(i),i=i.sibling}function W_(i){switch(i.tag){case 0:case 11:case 15:eu(i),i.flags&2048&&la(9,i,i.return);break;case 3:eu(i);break;case 12:eu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Sd(i)):eu(i);break;default:eu(i)}}function Sd(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Bn=u,Q_(u,i)}X_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:la(8,s,s.return),Sd(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Sd(s));break;default:Sd(s)}i=i.sibling}}function Q_(i,s){for(;Bn!==null;){var o=Bn;switch(o.tag){case 0:case 11:case 15:la(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:jc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Bn=u;else e:for(o=i;Bn!==null;){u=Bn;var p=u.sibling,y=u.return;if(B_(u),u===o){Bn=null;break e}if(p!==null){p.return=y,Bn=p;break e}Bn=y}}}var oD={getCacheForType:function(i){var s=Wn(yn),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return Wn(yn).controller.signal}},lD=typeof WeakMap=="function"?WeakMap:Map,yt=0,Dt=null,We=null,Ze=0,Tt=0,Ui=null,ca=!1,xl=!1,wg=!1,ws=0,nn=0,ua=0,_o=0,Tg=0,zi=0,_l=0,tu=null,Ci=null,Eg=!1,Ad=0,J_=0,Cd=1/0,Rd=null,ha=null,Dn=0,da=null,wl=null,Ts=0,Sg=0,Ag=null,Z_=null,nu=0,Cg=null;function Bi(){return(yt&2)!==0&&Ze!==0?Ze&-Ze:Z.T!==null?Mg():ti()}function ew(){if(zi===0)if((Ze&536870912)===0||rt){var i=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),zi=i}else zi=536870912;return i=ji.current,i!==null&&(i.flags|=32),zi}function Ri(i,s,o){(i===Dt&&(Tt===2||Tt===9)||i.cancelPendingCommit!==null)&&(Tl(i,0),fa(i,Ze,zi,!1)),mn(i,o),((yt&2)===0||i!==Dt)&&(i===Dt&&((yt&2)===0&&(_o|=o),nn===4&&fa(i,Ze,zi,!1)),$r(i))}function tw(i,s,o){if((yt&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&i.expiredLanes)===0||At(i,s),p=u?hD(i,s):Ig(i,s,!0),y=u;do{if(p===0){xl&&!u&&fa(i,s,0,!1);break}else{if(o=i.current.alternate,y&&!cD(o)){p=Ig(i,s,!1),y=!1;continue}if(p===2){if(y=s,i.errorRecoveryDisabledLanes&y)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var R=i;p=tu;var F=R.current.memoizedState.isDehydrated;if(F&&(Tl(R,w).flags|=256),w=Ig(R,w,!1),w!==2){if(wg&&!F){R.errorRecoveryDisabledLanes|=y,_o|=y,p=4;break e}y=Ci,Ci=p,y!==null&&(Ci===null?Ci=y:Ci.push.apply(Ci,y))}p=w}if(y=!1,p!==2)continue}}if(p===1){Tl(i,0),fa(i,s,0,!0);break}e:{switch(u=i,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:fa(u,s,zi,!ca);break e;case 2:Ci=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Ad+300-Pt(),10<p)){if(fa(u,s,zi,!ca),pt(u,0,!0)!==0)break e;Ts=s,u.timeoutHandle=kw(nw.bind(null,u,o,Ci,Rd,Eg,s,zi,_o,_l,ca,y,"Throttled",-0,0),p);break e}nw(u,o,Ci,Rd,Eg,s,zi,_o,_l,ca,y,null,-0,0)}}break}while(!0);$r(i)}function nw(i,s,o,u,p,y,w,R,F,ee,ce,he,ie,oe){if(i.timeoutHandle=-1,he=s.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gr},Y_(s,y,he);var Ae=(y&62914560)===y?Ad-Pt():(y&4194048)===y?J_-Pt():0;if(Ae=KD(he,Ae),Ae!==null){Ts=y,i.cancelPendingCommit=Ae(uw.bind(null,i,s,y,o,u,p,w,R,F,ce,he,null,ie,oe)),fa(i,y,w,!ee);return}}uw(i,s,y,o,u,p,w,R,F)}function cD(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],y=p.getSnapshot;p=p.value;try{if(!Pi(y(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fa(i,s,o,u){s&=~Tg,s&=~_o,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var p=s;0<p;){var y=31-kt(p),w=1<<y;u[y]=-1,p&=~w}o!==0&&Qt(i,o,s)}function Id(){return(yt&6)===0?(iu(0),!1):!0}function Rg(){if(We!==null){if(Tt===0)var i=We.return;else i=We,ds=ho=null,Hp(i),fl=null,Uc=0,i=We;for(;i!==null;)M_(i.alternate,i),i=i.return;We=null}}function Tl(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,ID(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Ts=0,Rg(),Dt=i,We=o=us(i.current,null),Ze=s,Tt=0,Ui=null,ca=!1,xl=At(i,s),wg=!1,_l=zi=Tg=_o=ua=nn=0,Ci=tu=null,Eg=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var p=31-kt(u),y=1<<p;s|=i[p],u&=~y}return ws=s,Wh(),o}function iw(i,s){$e=null,Z.H=Kc,s===dl||s===rd?(s=bx(),Tt=3):s===kp?(s=bx(),Tt=4):Tt=s===ag?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ui=s,We===null&&(nn=1,vd(i,Ji(s,i.current)))}function rw(){var i=ji.current;return i===null?!0:(Ze&4194048)===Ze?nr===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?i===nr:!1}function sw(){var i=Z.H;return Z.H=Kc,i===null?Kc:i}function aw(){var i=Z.A;return Z.A=oD,i}function Nd(){nn=4,ca||(Ze&4194048)!==Ze&&ji.current!==null||(xl=!0),(ua&134217727)===0&&(_o&134217727)===0||Dt===null||fa(Dt,Ze,zi,!1)}function Ig(i,s,o){var u=yt;yt|=2;var p=sw(),y=aw();(Dt!==i||Ze!==s)&&(Rd=null,Tl(i,s)),s=!1;var w=nn;e:do try{if(Tt!==0&&We!==null){var R=We,F=Ui;switch(Tt){case 8:Rg(),w=6;break e;case 3:case 2:case 9:case 6:ji.current===null&&(s=!0);var ee=Tt;if(Tt=0,Ui=null,El(i,R,F,ee),o&&xl){w=0;break e}break;default:ee=Tt,Tt=0,Ui=null,El(i,R,F,ee)}}uD(),w=nn;break}catch(ce){iw(i,ce)}while(!0);return s&&i.shellSuspendCounter++,ds=ho=null,yt=u,Z.H=p,Z.A=y,We===null&&(Dt=null,Ze=0,Wh()),w}function uD(){for(;We!==null;)ow(We)}function hD(i,s){var o=yt;yt|=2;var u=sw(),p=aw();Dt!==i||Ze!==s?(Rd=null,Cd=Pt()+500,Tl(i,s)):xl=At(i,s);e:do try{if(Tt!==0&&We!==null){s=We;var y=Ui;t:switch(Tt){case 1:Tt=0,Ui=null,El(i,s,y,1);break;case 2:case 9:if(yx(y)){Tt=0,Ui=null,lw(s);break}s=function(){Tt!==2&&Tt!==9||Dt!==i||(Tt=7),$r(i)},y.then(s,s);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:yx(y)?(Tt=0,Ui=null,lw(s)):(Tt=0,Ui=null,El(i,s,y,7));break;case 5:var w=null;switch(We.tag){case 26:w=We.memoizedState;case 5:case 27:var R=We;if(w?Kw(w):R.stateNode.complete){Tt=0,Ui=null;var F=R.sibling;if(F!==null)We=F;else{var ee=R.return;ee!==null?(We=ee,Dd(ee)):We=null}break t}}Tt=0,Ui=null,El(i,s,y,5);break;case 6:Tt=0,Ui=null,El(i,s,y,6);break;case 8:Rg(),nn=6;break e;default:throw Error(r(462))}}dD();break}catch(ce){iw(i,ce)}while(!0);return ds=ho=null,Z.H=u,Z.A=p,yt=o,We!==null?0:(Dt=null,Ze=0,Wh(),nn)}function dD(){for(;We!==null&&!Di();)ow(We)}function ow(i){var s=D_(i.alternate,i,ws);i.memoizedProps=i.pendingProps,s===null?Dd(i):We=s}function lw(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=S_(o,s,s.pendingProps,s.type,void 0,Ze);break;case 11:s=S_(o,s,s.pendingProps,s.type.render,s.ref,Ze);break;case 5:Hp(s);default:M_(o,s),s=We=ax(s,ws),s=D_(o,s,ws)}i.memoizedProps=i.pendingProps,s===null?Dd(i):We=s}function El(i,s,o,u){ds=ho=null,Hp(s),fl=null,Uc=0;var p=s.return;try{if(eD(i,p,s,o,Ze)){nn=1,vd(i,Ji(o,i.current)),We=null;return}}catch(y){if(p!==null)throw We=p,y;nn=1,vd(i,Ji(o,i.current)),We=null;return}s.flags&32768?(rt||u===1?i=!0:xl||(Ze&536870912)!==0?i=!1:(ca=i=!0,(u===2||u===9||u===3||u===6)&&(u=ji.current,u!==null&&u.tag===13&&(u.flags|=16384))),cw(s,i)):Dd(s)}function Dd(i){var s=i;do{if((s.flags&32768)!==0){cw(s,ca);return}i=s.return;var o=iD(s.alternate,s,ws);if(o!==null){We=o;return}if(s=s.sibling,s!==null){We=s;return}We=s=i}while(s!==null);nn===0&&(nn=5)}function cw(i,s){do{var o=rD(i.alternate,i);if(o!==null){o.flags&=32767,We=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){We=i;return}We=i=o}while(i!==null);nn=6,We=null}function uw(i,s,o,u,p,y,w,R,F){i.cancelPendingCommit=null;do kd();while(Dn!==0);if((yt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=yp,Xe(i,o,y,w,R,F),i===Dt&&(We=Dt=null,Ze=0),wl=s,da=i,Ts=o,Sg=y,Ag=p,Z_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,gD(an,function(){return pw(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,p=q.p,q.p=2,w=yt,yt|=4;try{sD(i,s,o)}finally{yt=w,q.p=p,Z.T=u}}Dn=1,hw(),dw(),fw()}}function hw(){if(Dn===1){Dn=0;var i=da,s=wl,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=q.p;q.p=2;var p=yt;yt|=4;try{G_(s,i);var y=Bg,w=Qb(i.containerInfo),R=y.focusedElem,F=y.selectionRange;if(w!==R&&R&&R.ownerDocument&&Wb(R.ownerDocument.documentElement,R)){if(F!==null&&dp(R)){var ee=F.start,ce=F.end;if(ce===void 0&&(ce=ee),"selectionStart"in R)R.selectionStart=ee,R.selectionEnd=Math.min(ce,R.value.length);else{var he=R.ownerDocument||document,ie=he&&he.defaultView||window;if(ie.getSelection){var oe=ie.getSelection(),Ae=R.textContent.length,Pe=Math.min(F.start,Ae),Nt=F.end===void 0?Pe:Math.min(F.end,Ae);!oe.extend&&Pe>Nt&&(w=Nt,Nt=Pe,Pe=w);var Y=Xb(R,Pe),K=Xb(R,Nt);if(Y&&K&&(oe.rangeCount!==1||oe.anchorNode!==Y.node||oe.anchorOffset!==Y.offset||oe.focusNode!==K.node||oe.focusOffset!==K.offset)){var J=he.createRange();J.setStart(Y.node,Y.offset),oe.removeAllRanges(),Pe>Nt?(oe.addRange(J),oe.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),oe.addRange(J))}}}}for(he=[],oe=R;oe=oe.parentNode;)oe.nodeType===1&&he.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<he.length;R++){var ue=he[R];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Hd=!!zg,Bg=zg=null}finally{yt=p,q.p=u,Z.T=o}}i.current=s,Dn=2}}function dw(){if(Dn===2){Dn=0;var i=da,s=wl,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=q.p;q.p=2;var p=yt;yt|=4;try{z_(i,s.alternate,s)}finally{yt=p,q.p=u,Z.T=o}}Dn=3}}function fw(){if(Dn===4||Dn===3){Dn=0,Gi();var i=da,s=wl,o=Ts,u=Z_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Dn=5:(Dn=0,wl=da=null,mw(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(ha=null),on(o),s=s.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Kn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Z.T,p=q.p,q.p=2,Z.T=null;try{for(var y=i.onRecoverableError,w=0;w<u.length;w++){var R=u[w];y(R.value,{componentStack:R.stack})}}finally{Z.T=s,q.p=p}}(Ts&3)!==0&&kd(),$r(i),p=i.pendingLanes,(o&261930)!==0&&(p&42)!==0?i===Cg?nu++:(nu=0,Cg=i):nu=0,iu(0)}}function mw(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,jc(s)))}function kd(){return hw(),dw(),fw(),pw()}function pw(){if(Dn!==5)return!1;var i=da,s=Sg;Sg=0;var o=on(Ts),u=Z.T,p=q.p;try{q.p=32>o?32:o,Z.T=null,o=Ag,Ag=null;var y=da,w=Ts;if(Dn=0,wl=da=null,Ts=0,(yt&6)!==0)throw Error(r(331));var R=yt;if(yt|=4,W_(y.current),K_(y,y.current,w,o),yt=R,iu(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Kn,y)}catch{}return!0}finally{q.p=p,Z.T=u,mw(i,s)}}function gw(i,s,o){s=Ji(o,s),s=sg(i.stateNode,s,2),i=sa(i,s,2),i!==null&&(mn(i,2),$r(i))}function Et(i,s,o){if(i.tag===3)gw(i,i,o);else for(;s!==null;){if(s.tag===3){gw(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ha===null||!ha.has(u))){i=Ji(o,i),o=y_(2),u=sa(s,o,2),u!==null&&(v_(o,u,s,i),mn(u,2),$r(u));break}}s=s.return}}function Ng(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new lD;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(o)||(wg=!0,p.add(o),i=fD.bind(null,i,s,o),s.then(i,i))}function fD(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Dt===i&&(Ze&o)===o&&(nn===4||nn===3&&(Ze&62914560)===Ze&&300>Pt()-Ad?(yt&2)===0&&Tl(i,0):Tg|=o,_l===Ze&&(_l=0)),$r(i)}function yw(i,s){s===0&&(s=Wt()),i=lo(i,s),i!==null&&(mn(i,s),$r(i))}function mD(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),yw(i,o)}function pD(i,s){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),yw(i,o)}function gD(i,s){return Oe(i,s)}var Md=null,Sl=null,Dg=!1,Od=!1,kg=!1,ma=0;function $r(i){i!==Sl&&i.next===null&&(Sl===null?Md=Sl=i:Sl=Sl.next=i),Od=!0,Dg||(Dg=!0,vD())}function iu(i,s){if(!kg&&Od){kg=!0;do for(var o=!1,u=Md;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var w=u.suspendedLanes,R=u.pingedLanes;y=(1<<31-kt(42|i)+1)-1,y&=p&~(w&~R),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,_w(u,y))}else y=Ze,y=pt(u,u===Dt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||At(u,y)||(o=!0,_w(u,y));u=u.next}while(o);kg=!1}}function yD(){vw()}function vw(){Od=Dg=!1;var i=0;ma!==0&&RD()&&(i=ma);for(var s=Pt(),o=null,u=Md;u!==null;){var p=u.next,y=bw(u,s);y===0?(u.next=null,o===null?Md=p:o.next=p,p===null&&(Sl=o)):(o=u,(i!==0||(y&3)!==0)&&(Od=!0)),u=p}Dn!==0&&Dn!==5||iu(i),ma!==0&&(ma=0)}function bw(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var w=31-kt(y),R=1<<w,F=p[w];F===-1?((R&o)===0||(R&u)!==0)&&(p[w]=Cn(R,s)):F<=s&&(i.expiredLanes|=R),y&=~R}if(s=Dt,o=Ze,o=pt(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Tt===2||Tt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&sn(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||At(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&sn(u),on(o)){case 2:case 8:o=$n;break;case 32:o=an;break;case 268435456:o=$i;break;default:o=an}return u=xw.bind(null,i),o=Oe(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&sn(u),i.callbackPriority=2,i.callbackNode=null,2}function xw(i,s){if(Dn!==0&&Dn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(kd()&&i.callbackNode!==o)return null;var u=Ze;return u=pt(i,i===Dt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(tw(i,u,s),bw(i,Pt()),i.callbackNode!=null&&i.callbackNode===o?xw.bind(null,i):null)}function _w(i,s){if(kd())return null;tw(i,s,!0)}function vD(){ND(function(){(yt&6)!==0?Oe(Sn,yD):vw()})}function Mg(){if(ma===0){var i=ul;i===0&&(i=xi,xi<<=1,(xi&261888)===0&&(xi=256)),ma=i}return ma}function ww(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Xo(""+i)}function Tw(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function bD(i,s,o,u,p){if(s==="submit"&&o&&o.stateNode===p){var y=ww((p[ln]||null).action),w=u.submitter;w&&(s=(s=w[ln]||null)?ww(s.formAction):w.getAttribute("formAction"),s!==null&&(y=s,w=null));var R=new Ur("action","action",null,u,p);i.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ma!==0){var F=w?Tw(p,w):new FormData(p);Zp(o,{pending:!0,data:F,method:p.method,action:y},null,F)}}else typeof y=="function"&&(R.preventDefault(),F=w?Tw(p,w):new FormData(p),Zp(o,{pending:!0,data:F,method:p.method,action:y},y,F))},currentTarget:p}]})}}for(var Og=0;Og<gp.length;Og++){var Pg=gp[Og],xD=Pg.toLowerCase(),_D=Pg[0].toUpperCase()+Pg.slice(1);_r(xD,"on"+_D)}_r(ex,"onAnimationEnd"),_r(tx,"onAnimationIteration"),_r(nx,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(jN,"onTransitionRun"),_r(LN,"onTransitionStart"),_r(UN,"onTransitionCancel"),_r(ix,"onTransitionEnd"),_t("onMouseEnter",["mouseout","mouseover"]),_t("onMouseLeave",["mouseout","mouseover"]),_t("onPointerEnter",["pointerout","pointerover"]),_t("onPointerLeave",["pointerout","pointerover"]),bt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bt("onBeforeInput",["compositionend","keypress","textInput","paste"]),bt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ru));function Ew(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],p=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var w=u.length-1;0<=w;w--){var R=u[w],F=R.instance,ee=R.currentTarget;if(R=R.listener,F!==y&&p.isPropagationStopped())break e;y=R,p.currentTarget=ee;try{y(p)}catch(ce){Xh(ce)}p.currentTarget=null,y=F}else for(w=0;w<u.length;w++){if(R=u[w],F=R.instance,ee=R.currentTarget,R=R.listener,F!==y&&p.isPropagationStopped())break e;y=R,p.currentTarget=ee;try{y(p)}catch(ce){Xh(ce)}p.currentTarget=null,y=F}}}}function Qe(i,s){var o=s[as];o===void 0&&(o=s[as]=new Set);var u=i+"__bubble";o.has(u)||(Sw(s,i,2,!1),o.add(u))}function Vg(i,s,o){var u=0;s&&(u|=4),Sw(o,i,u,s)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function jg(i){if(!i[Pd]){i[Pd]=!0,ne.forEach(function(o){o!=="selectionchange"&&(wD.has(o)||Vg(o,!1,i),Vg(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Pd]||(s[Pd]=!0,Vg("selectionchange",!1,s))}}function Sw(i,s,o,u){switch(e1(s)){case 2:var p=WD;break;case 8:p=QD;break;default:p=Jg}o=p.bind(null,s,o,i),p=void 0,!eo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(s,o,{capture:!0,passive:p}):i.addEventListener(s,o,!0):p!==void 0?i.addEventListener(s,o,{passive:p}):i.addEventListener(s,o,!1)}function Lg(i,s,o,u,p){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var R=u.stateNode.containerInfo;if(R===p)break;if(w===4)for(w=u.return;w!==null;){var F=w.tag;if((F===3||F===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;R!==null;){if(w=Un(R),w===null)return;if(F=w.tag,F===5||F===6||F===26||F===27){u=y=w;continue e}R=R.parentNode}}u=u.return}Xs(function(){var ee=y,ce=Yi(o),he=[];e:{var ie=rx.get(i);if(ie!==void 0){var oe=Ur,Ae=i;switch(i){case"keypress":if(no(o)===0)break e;case"keydown":case"keyup":oe=$h;break;case"focusin":Ae="focus",oe=ro;break;case"focusout":Ae="blur",oe=ro;break;case"beforeblur":case"afterblur":oe=ro;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=x;break;case ex:case tx:case nx:oe=Uh;break;case ix:oe=k;break;case"scroll":case"scrollend":oe=Rc;break;case"wheel":oe=se;break;case"copy":case"cut":case"paste":oe=zh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=cs;break;case"toggle":case"beforetoggle":oe=Ge}var Pe=(s&4)!==0,Nt=!Pe&&(i==="scroll"||i==="scrollend"),Y=Pe?ie!==null?ie+"Capture":null:ie;Pe=[];for(var K=ee,J;K!==null;){var ue=K;if(J=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||J===null||Y===null||(ue=yr(K,Y),ue!=null&&Pe.push(su(K,ue,J))),Nt)break;K=K.return}0<Pe.length&&(ie=new oe(ie,Ae,null,o,ce),he.push({event:ie,listeners:Pe}))}}if((s&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",oe=i==="mouseout"||i==="pointerout",ie&&o!==Sc&&(Ae=o.relatedTarget||o.fromElement)&&(Un(Ae)||Ae[_i]))break e;if((oe||ie)&&(ie=ce.window===ce?ce:(ie=ce.ownerDocument)?ie.defaultView||ie.parentWindow:window,oe?(Ae=o.relatedTarget||o.toElement,oe=ee,Ae=Ae?Un(Ae):null,Ae!==null&&(Nt=l(Ae),Pe=Ae.tag,Ae!==Nt||Pe!==5&&Pe!==27&&Pe!==6)&&(Ae=null)):(oe=null,Ae=ee),oe!==Ae)){if(Pe=Ic,ue="onMouseLeave",Y="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Pe=cs,ue="onPointerLeave",Y="onPointerEnter",K="pointer"),Nt=oe==null?ie:ni(oe),J=Ae==null?ie:ni(Ae),ie=new Pe(ue,K+"leave",oe,o,ce),ie.target=Nt,ie.relatedTarget=J,ue=null,Un(ce)===ee&&(Pe=new Pe(Y,K+"enter",Ae,o,ce),Pe.target=J,Pe.relatedTarget=Nt,ue=Pe),Nt=ue,oe&&Ae)t:{for(Pe=TD,Y=oe,K=Ae,J=0,ue=Y;ue;ue=Pe(ue))J++;ue=0;for(var Me=K;Me;Me=Pe(Me))ue++;for(;0<J-ue;)Y=Pe(Y),J--;for(;0<ue-J;)K=Pe(K),ue--;for(;J--;){if(Y===K||K!==null&&Y===K.alternate){Pe=Y;break t}Y=Pe(Y),K=Pe(K)}Pe=null}else Pe=null;oe!==null&&Aw(he,ie,oe,Pe,!1),Ae!==null&&Nt!==null&&Aw(he,Nt,Ae,Pe,!0)}}e:{if(ie=ee?ni(ee):window,oe=ie.nodeName&&ie.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ie.type==="file")var ht=qb;else if(Bb(ie))if(Hb)ht=ON;else{ht=kN;var Ie=DN}else oe=ie.nodeName,!oe||oe.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ee&&Yo(ee.elementType)&&(ht=qb):ht=MN;if(ht&&(ht=ht(i,ee))){Fb(he,ht,o,ce);break e}Ie&&Ie(i,ie,ee),i==="focusout"&&ee&&ie.type==="number"&&ee.memoizedProps.value!=null&&wc(ie,"number",ie.value)}switch(Ie=ee?ni(ee):window,i){case"focusin":(Bb(Ie)||Ie.contentEditable==="true")&&(nl=Ie,fp=ee,Oc=null);break;case"focusout":Oc=fp=nl=null;break;case"mousedown":mp=!0;break;case"contextmenu":case"mouseup":case"dragend":mp=!1,Jb(he,o,ce);break;case"selectionchange":if(VN)break;case"keydown":case"keyup":Jb(he,o,ce)}var Ke;if(gt)e:{switch(i){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else tl?so(i,o)&&(et="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(et="onCompositionStart");et&&(Fr&&o.locale!=="ko"&&(tl||et!=="onCompositionStart"?et==="onCompositionEnd"&&tl&&(Ke=Cc()):(Lr=ce,Ac="value"in Lr?Lr.value:Lr.textContent,tl=!0)),Ie=Vd(ee,et),0<Ie.length&&(et=new Br(et,i,null,o,ce),he.push({event:et,listeners:Ie}),Ke?et.data=Ke:(Ke=el(o),Ke!==null&&(et.data=Ke)))),(Ke=Wi?CN(i,o):RN(i,o))&&(et=Vd(ee,"onBeforeInput"),0<et.length&&(Ie=new Br("onBeforeInput","beforeinput",null,o,ce),he.push({event:Ie,listeners:et}),Ie.data=Ke)),bD(he,i,ee,o,ce)}Ew(he,s)})}function su(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Vd(i,s){for(var o=s+"Capture",u=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=yr(i,o),p!=null&&u.unshift(su(i,p,y)),p=yr(i,s),p!=null&&u.push(su(i,p,y))),i.tag===3)return u;i=i.return}return[]}function TD(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Aw(i,s,o,u,p){for(var y=s._reactName,w=[];o!==null&&o!==u;){var R=o,F=R.alternate,ee=R.stateNode;if(R=R.tag,F!==null&&F===u)break;R!==5&&R!==26&&R!==27||ee===null||(F=ee,p?(ee=yr(o,y),ee!=null&&w.unshift(su(o,ee,F))):p||(ee=yr(o,y),ee!=null&&w.push(su(o,ee,F)))),o=o.return}w.length!==0&&i.push({event:s,listeners:w})}var ED=/\r\n?/g,SD=/\u0000|\uFFFD/g;function Cw(i){return(typeof i=="string"?i:""+i).replace(ED,`
`).replace(SD,"")}function Rw(i,s){return s=Cw(s),Cw(i)===s}function It(i,s,o,u,p,y){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Ti(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Ti(i,""+u);break;case"className":Oi(i,"class",u);break;case"tabIndex":Oi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Oi(i,o,u);break;case"style":Ec(i,u,y);break;case"data":if(s!=="object"){Oi(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Xo(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&It(i,s,"name",p.name,p,null),It(i,s,"formEncType",p.formEncType,p,null),It(i,s,"formMethod",p.formMethod,p,null),It(i,s,"formTarget",p.formTarget,p,null)):(It(i,s,"encType",p.encType,p,null),It(i,s,"method",p.method,p,null),It(i,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Xo(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=gr);break;case"onScroll":u!=null&&Qe("scroll",i);break;case"onScrollEnd":u!=null&&Qe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Xo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Qe("beforetoggle",i),Qe("toggle",i),$o(i,"popover",u);break;case"xlinkActuate":gn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":gn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":gn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":gn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":gn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":gn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":gn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":gn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":gn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":$o(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Vh.get(o)||o,$o(i,o,u))}}function Ug(i,s,o,u,p,y){switch(o){case"style":Ec(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Ti(i,u):(typeof u=="number"||typeof u=="bigint")&&Ti(i,""+u);break;case"onScroll":u!=null&&Qe("scroll",i);break;case"onScrollEnd":u!=null&&Qe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=gr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Se.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),y=i[ln]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(s,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,p);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):$o(i,o,u)}}}function Jn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",i),Qe("load",i);var u=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:It(i,s,y,w,o,null)}}p&&It(i,s,"srcSet",o.srcSet,o,null),u&&It(i,s,"src",o.src,o,null);return;case"input":Qe("invalid",i);var R=y=w=p=null,F=null,ee=null;for(u in o)if(o.hasOwnProperty(u)){var ce=o[u];if(ce!=null)switch(u){case"name":p=ce;break;case"type":w=ce;break;case"checked":F=ce;break;case"defaultChecked":ee=ce;break;case"value":y=ce;break;case"defaultValue":R=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:It(i,s,u,ce,o,null)}}Mh(i,y,R,F,ee,w,p,!1);return;case"select":Qe("invalid",i),u=w=y=null;for(p in o)if(o.hasOwnProperty(p)&&(R=o[p],R!=null))switch(p){case"value":y=R;break;case"defaultValue":w=R;break;case"multiple":u=R;default:It(i,s,p,R,o,null)}s=y,o=w,i.multiple=!!u,s!=null?Gs(i,!!u,s,!1):o!=null&&Gs(i,!!u,o,!0);return;case"textarea":Qe("invalid",i),y=p=u=null;for(w in o)if(o.hasOwnProperty(w)&&(R=o[w],R!=null))switch(w){case"value":u=R;break;case"defaultValue":p=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:It(i,s,w,R,o,null)}$s(i,u,p,y);return;case"option":for(F in o)o.hasOwnProperty(F)&&(u=o[F],u!=null)&&(F==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":It(i,s,F,u,o,null));return;case"dialog":Qe("beforetoggle",i),Qe("toggle",i),Qe("cancel",i),Qe("close",i);break;case"iframe":case"object":Qe("load",i);break;case"video":case"audio":for(u=0;u<ru.length;u++)Qe(ru[u],i);break;case"image":Qe("error",i),Qe("load",i);break;case"details":Qe("toggle",i);break;case"embed":case"source":case"link":Qe("error",i),Qe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(u=o[ee],u!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:It(i,s,ee,u,o,null)}return;default:if(Yo(s)){for(ce in o)o.hasOwnProperty(ce)&&(u=o[ce],u!==void 0&&Ug(i,s,ce,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&It(i,s,R,u,o,null))}function AD(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,w=null,R=null,F=null,ee=null,ce=null;for(oe in o){var he=o[oe];if(o.hasOwnProperty(oe)&&he!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":F=he;default:u.hasOwnProperty(oe)||It(i,s,oe,null,u,he)}}for(var ie in u){var oe=u[ie];if(he=o[ie],u.hasOwnProperty(ie)&&(oe!=null||he!=null))switch(ie){case"type":y=oe;break;case"name":p=oe;break;case"checked":ee=oe;break;case"defaultChecked":ce=oe;break;case"value":w=oe;break;case"defaultValue":R=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:oe!==he&&It(i,s,ie,oe,u,he)}}Ko(i,w,R,F,ee,ce,y,p);return;case"select":oe=w=R=ie=null;for(y in o)if(F=o[y],o.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":oe=F;default:u.hasOwnProperty(y)||It(i,s,y,null,u,F)}for(p in u)if(y=u[p],F=o[p],u.hasOwnProperty(p)&&(y!=null||F!=null))switch(p){case"value":ie=y;break;case"defaultValue":R=y;break;case"multiple":w=y;default:y!==F&&It(i,s,p,y,u,F)}s=R,o=w,u=oe,ie!=null?Gs(i,!!o,ie,!1):!!u!=!!o&&(s!=null?Gs(i,!!o,s,!0):Gs(i,!!o,o?[]:"",!1));return;case"textarea":oe=ie=null;for(R in o)if(p=o[R],o.hasOwnProperty(R)&&p!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:It(i,s,R,null,u,p)}for(w in u)if(p=u[w],y=o[w],u.hasOwnProperty(w)&&(p!=null||y!=null))switch(w){case"value":ie=p;break;case"defaultValue":oe=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&It(i,s,w,p,u,y)}Oh(i,ie,oe);return;case"option":for(var Ae in o)ie=o[Ae],o.hasOwnProperty(Ae)&&ie!=null&&!u.hasOwnProperty(Ae)&&(Ae==="selected"?i.selected=!1:It(i,s,Ae,null,u,ie));for(F in u)ie=u[F],oe=o[F],u.hasOwnProperty(F)&&ie!==oe&&(ie!=null||oe!=null)&&(F==="selected"?i.selected=ie&&typeof ie!="function"&&typeof ie!="symbol":It(i,s,F,ie,u,oe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in o)ie=o[Pe],o.hasOwnProperty(Pe)&&ie!=null&&!u.hasOwnProperty(Pe)&&It(i,s,Pe,null,u,ie);for(ee in u)if(ie=u[ee],oe=o[ee],u.hasOwnProperty(ee)&&ie!==oe&&(ie!=null||oe!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:It(i,s,ee,ie,u,oe)}return;default:if(Yo(s)){for(var Nt in o)ie=o[Nt],o.hasOwnProperty(Nt)&&ie!==void 0&&!u.hasOwnProperty(Nt)&&Ug(i,s,Nt,void 0,u,ie);for(ce in u)ie=u[ce],oe=o[ce],!u.hasOwnProperty(ce)||ie===oe||ie===void 0&&oe===void 0||Ug(i,s,ce,ie,u,oe);return}}for(var Y in o)ie=o[Y],o.hasOwnProperty(Y)&&ie!=null&&!u.hasOwnProperty(Y)&&It(i,s,Y,null,u,ie);for(he in u)ie=u[he],oe=o[he],!u.hasOwnProperty(he)||ie===oe||ie==null&&oe==null||It(i,s,he,ie,u,oe)}function Iw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CD(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],y=p.transferSize,w=p.initiatorType,R=p.duration;if(y&&R&&Iw(w)){for(w=0,R=p.responseEnd,u+=1;u<o.length;u++){var F=o[u],ee=F.startTime;if(ee>R)break;var ce=F.transferSize,he=F.initiatorType;ce&&Iw(he)&&(F=F.responseEnd,w+=ce*(F<R?1:(R-ee)/(F-ee)))}if(--u,s+=8*(y+w)/(p.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var zg=null,Bg=null;function jd(i){return i.nodeType===9?i:i.ownerDocument}function Nw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dw(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Fg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qg=null;function RD(){var i=window.event;return i&&i.type==="popstate"?i===qg?!1:(qg=i,!0):(qg=null,!1)}var kw=typeof setTimeout=="function"?setTimeout:void 0,ID=typeof clearTimeout=="function"?clearTimeout:void 0,Mw=typeof Promise=="function"?Promise:void 0,ND=typeof queueMicrotask=="function"?queueMicrotask:typeof Mw<"u"?function(i){return Mw.resolve(null).then(i).catch(DD)}:kw;function DD(i){setTimeout(function(){throw i})}function pa(i){return i==="head"}function Ow(i,s){var o=s,u=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(p),Il(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")au(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,au(o);for(var y=o.firstChild;y;){var w=y.nextSibling,R=y.nodeName;y[Ki]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=w}}else o==="body"&&au(i.ownerDocument.body);o=p}while(o);Il(s)}function Pw(i,s){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Hg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Hg(o),qs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function kD(i,s,o,u){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ki])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=ir(i.nextSibling),i===null)break}return null}function MD(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ir(i.nextSibling),i===null))return null;return i}function Vw(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=ir(i.nextSibling),i===null))return null;return i}function Gg(i){return i.data==="$?"||i.data==="$~"}function $g(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function OD(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ir(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Kg=null;function jw(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return ir(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function Lw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function Uw(i,s,o){switch(s=jd(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function au(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);qs(i)}var rr=new Map,zw=new Set;function Ld(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Es=q.d;q.d={f:PD,r:VD,D:jD,C:LD,L:UD,m:zD,X:FD,S:BD,M:qD};function PD(){var i=Es.f(),s=Id();return i||s}function VD(i){var s=ki(i);s!==null&&s.tag===5&&s.type==="form"?i_(s):Es.r(i)}var Al=typeof document>"u"?null:document;function Bw(i,s,o){var u=Al;if(u&&typeof s=="string"&&s){var p=wi(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),zw.has(p)||(zw.add(p),i={rel:i,crossOrigin:o,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),Jn(s,"link",i),Zt(s),u.head.appendChild(s)))}}function jD(i){Es.D(i),Bw("dns-prefetch",i,null)}function LD(i,s){Es.C(i,s),Bw("preconnect",i,s)}function UD(i,s,o){Es.L(i,s,o);var u=Al;if(u&&i&&s){var p='link[rel="preload"][as="'+wi(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+wi(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+wi(o.imageSizes)+'"]')):p+='[href="'+wi(i)+'"]';var y=p;switch(s){case"style":y=Cl(i);break;case"script":y=Rl(i)}rr.has(y)||(i=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),rr.set(y,i),u.querySelector(p)!==null||s==="style"&&u.querySelector(ou(y))||s==="script"&&u.querySelector(lu(y))||(s=u.createElement("link"),Jn(s,"link",i),Zt(s),u.head.appendChild(s)))}}function zD(i,s){Es.m(i,s);var o=Al;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+wi(u)+'"][href="'+wi(i)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Rl(i)}if(!rr.has(y)&&(i=v({rel:"modulepreload",href:i},s),rr.set(y,i),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(lu(y)))return}u=o.createElement("link"),Jn(u,"link",i),Zt(u),o.head.appendChild(u)}}}function BD(i,s,o){Es.S(i,s,o);var u=Al;if(u&&i){var p=Mi(u).hoistableStyles,y=Cl(i);s=s||"default";var w=p.get(y);if(!w){var R={loading:0,preload:null};if(w=u.querySelector(ou(y)))R.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},o),(o=rr.get(y))&&Yg(i,o);var F=w=u.createElement("link");Zt(F),Jn(F,"link",i),F._p=new Promise(function(ee,ce){F.onload=ee,F.onerror=ce}),F.addEventListener("load",function(){R.loading|=1}),F.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Ud(w,s,u)}w={type:"stylesheet",instance:w,count:1,state:R},p.set(y,w)}}}function FD(i,s){Es.X(i,s);var o=Al;if(o&&i){var u=Mi(o).hoistableScripts,p=Rl(i),y=u.get(p);y||(y=o.querySelector(lu(p)),y||(i=v({src:i,async:!0},s),(s=rr.get(p))&&Xg(i,s),y=o.createElement("script"),Zt(y),Jn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function qD(i,s){Es.M(i,s);var o=Al;if(o&&i){var u=Mi(o).hoistableScripts,p=Rl(i),y=u.get(p);y||(y=o.querySelector(lu(p)),y||(i=v({src:i,async:!0,type:"module"},s),(s=rr.get(p))&&Xg(i,s),y=o.createElement("script"),Zt(y),Jn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function Fw(i,s,o,u){var p=(p=ge.current)?Ld(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Cl(o.href),o=Mi(p).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Cl(o.href);var y=Mi(p).hoistableStyles,w=y.get(i);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,w),(y=p.querySelector(ou(i)))&&!y._p&&(w.instance=y,w.state.loading=5),rr.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},rr.set(i,o),y||HD(p,i,o,w.state))),s&&u===null)throw Error(r(528,""));return w}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Rl(o),o=Mi(p).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Cl(i){return'href="'+wi(i)+'"'}function ou(i){return'link[rel="stylesheet"]['+i+"]"}function qw(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function HD(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Jn(s,"link",o),Zt(s),i.head.appendChild(s))}function Rl(i){return'[src="'+wi(i)+'"]'}function lu(i){return"script[async]"+i}function Hw(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+wi(o.href)+'"]');if(u)return s.instance=u,Zt(u),u;var p=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Zt(u),Jn(u,"style",p),Ud(u,o.precedence,i),s.instance=u;case"stylesheet":p=Cl(o.href);var y=i.querySelector(ou(p));if(y)return s.state.loading|=4,s.instance=y,Zt(y),y;u=qw(o),(p=rr.get(p))&&Yg(u,p),y=(i.ownerDocument||i).createElement("link"),Zt(y);var w=y;return w._p=new Promise(function(R,F){w.onload=R,w.onerror=F}),Jn(y,"link",u),s.state.loading|=4,Ud(y,o.precedence,i),s.instance=y;case"script":return y=Rl(o.src),(p=i.querySelector(lu(y)))?(s.instance=p,Zt(p),p):(u=o,(p=rr.get(y))&&(u=v({},o),Xg(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),Zt(p),Jn(p,"link",u),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Ud(u,o.precedence,i));return s.instance}function Ud(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,w=0;w<u.length;w++){var R=u[w];if(R.dataset.precedence===s)y=R;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Yg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Xg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var zd=null;function Gw(i,s,o){if(zd===null){var u=new Map,p=zd=new Map;p.set(o,u)}else p=zd,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var y=o[p];if(!(y[Ki]||y[Jt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(s)||"";w=i+w;var R=u.get(w);R?R.push(y):u.set(w,[y])}}return u}function $w(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function GD(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Kw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function $D(i,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Cl(u.href),y=s.querySelector(ou(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Bd.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=y,Zt(y);return}y=s.ownerDocument||s,u=qw(u),(p=rr.get(p))&&Yg(u,p),y=y.createElement("link"),Zt(y);var w=y;w._p=new Promise(function(R,F){w.onload=R,w.onerror=F}),Jn(y,"link",u),o.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Bd.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var Wg=0;function KD(i,s){return i.stylesheets&&i.count===0&&qd(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&qd(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+s);0<i.imgBytes&&Wg===0&&(Wg=62500*CD());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&qd(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Wg?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function Bd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Fd=null;function qd(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Fd=new Map,s.forEach(YD,i),Fd=null,Bd.call(i))}function YD(i,s){if(!(s.state.loading&4)){var o=Fd.get(i);if(o)var u=o.get(null);else{o=new Map,Fd.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var w=p[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}p=s.instance,w=p.getAttribute("data-precedence"),y=o.get(w)||u,y===u&&o.set(null,p),o.set(w,p),this.count++,u=Bd.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var cu={$$typeof:G,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function XD(i,s,o,u,p,y,w,R,F){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.hiddenUpdates=Gt(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function Yw(i,s,o,u,p,y,w,R,F,ee,ce,he){return i=new XD(i,s,o,w,F,ee,ce,he,R),s=1,y===!0&&(s|=24),y=Vi(3,null,null,s),i.current=y,y.stateNode=i,s=Ip(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:s},Mp(y),i}function Xw(i){return i?(i=sl,i):sl}function Ww(i,s,o,u,p,y){p=Xw(p),u.context===null?u.context=p:u.pendingContext=p,u=ra(s),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=sa(i,u,s),o!==null&&(Ri(o,i,s),Bc(o,i,s))}function Qw(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Qg(i,s){Qw(i,s),(i=i.alternate)&&Qw(i,s)}function Jw(i){if(i.tag===13||i.tag===31){var s=lo(i,67108864);s!==null&&Ri(s,i,67108864),Qg(i,67108864)}}function Zw(i){if(i.tag===13||i.tag===31){var s=Bi();s=Rn(s);var o=lo(i,s);o!==null&&Ri(o,i,s),Qg(i,s)}}var Hd=!0;function WD(i,s,o,u){var p=Z.T;Z.T=null;var y=q.p;try{q.p=2,Jg(i,s,o,u)}finally{q.p=y,Z.T=p}}function QD(i,s,o,u){var p=Z.T;Z.T=null;var y=q.p;try{q.p=8,Jg(i,s,o,u)}finally{q.p=y,Z.T=p}}function Jg(i,s,o,u){if(Hd){var p=Zg(u);if(p===null)Lg(i,s,u,Gd,o),t1(i,u);else if(ZD(p,i,s,o,u))u.stopPropagation();else if(t1(i,u),s&4&&-1<JD.indexOf(i)){for(;p!==null;){var y=ki(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=ot(y.pendingLanes);if(w!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var F=1<<31-kt(w);R.entanglements[1]|=F,w&=~F}$r(y),(yt&6)===0&&(Cd=Pt()+500,iu(0))}}break;case 31:case 13:R=lo(y,2),R!==null&&Ri(R,y,2),Id(),Qg(y,2)}if(y=Zg(u),y===null&&Lg(i,s,u,Gd,o),y===p)break;p=y}p!==null&&u.stopPropagation()}else Lg(i,s,u,null,o)}}function Zg(i){return i=Yi(i),ey(i)}var Gd=null;function ey(i){if(Gd=null,i=Un(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=h(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Gd=i,null}function e1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ui()){case Sn:return 2;case $n:return 8;case an:case hi:return 32;case $i:return 268435456;default:return 32}default:return 32}}var ty=!1,ga=null,ya=null,va=null,uu=new Map,hu=new Map,ba=[],JD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t1(i,s){switch(i){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":uu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(s.pointerId)}}function du(i,s,o,u,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},s!==null&&(s=ki(s),s!==null&&Jw(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function ZD(i,s,o,u,p){switch(s){case"focusin":return ga=du(ga,i,s,o,u,p),!0;case"dragenter":return ya=du(ya,i,s,o,u,p),!0;case"mouseover":return va=du(va,i,s,o,u,p),!0;case"pointerover":var y=p.pointerId;return uu.set(y,du(uu.get(y)||null,i,s,o,u,p)),!0;case"gotpointercapture":return y=p.pointerId,hu.set(y,du(hu.get(y)||null,i,s,o,u,p)),!0}return!1}function n1(i){var s=Un(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,In(i.priority,function(){Zw(o)});return}}else if(s===31){if(s=h(o),s!==null){i.blockedOn=s,In(i.priority,function(){Zw(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function $d(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Zg(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Sc=u,o.target.dispatchEvent(u),Sc=null}else return s=ki(o),s!==null&&Jw(s),i.blockedOn=o,!1;s.shift()}return!0}function i1(i,s,o){$d(i)&&o.delete(s)}function ek(){ty=!1,ga!==null&&$d(ga)&&(ga=null),ya!==null&&$d(ya)&&(ya=null),va!==null&&$d(va)&&(va=null),uu.forEach(i1),hu.forEach(i1)}function Kd(i,s){i.blockedOn===s&&(i.blockedOn=null,ty||(ty=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ek)))}var Yd=null;function r1(i){Yd!==i&&(Yd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yd===i&&(Yd=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],p=i[s+2];if(typeof u!="function"){if(ey(u||o)===null)continue;break}var y=ki(o);y!==null&&(i.splice(s,3),s-=3,Zp(y,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function Il(i){function s(F){return Kd(F,i)}ga!==null&&Kd(ga,i),ya!==null&&Kd(ya,i),va!==null&&Kd(va,i),uu.forEach(s),hu.forEach(s);for(var o=0;o<ba.length;o++){var u=ba[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ba.length&&(o=ba[0],o.blockedOn===null);)n1(o),o.blockedOn===null&&ba.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],y=o[u+1],w=p[ln]||null;if(typeof y=="function")w||r1(o);else if(w){var R=null;if(y&&y.hasAttribute("formAction")){if(p=y,w=y[ln]||null)R=w.formAction;else if(ey(p)!==null)continue}else R=w.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),r1(o)}}}function s1(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function ny(i){this._internalRoot=i}Xd.prototype.render=ny.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Bi();Ww(o,u,i,s,null,null)},Xd.prototype.unmount=ny.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Ww(i.current,2,null,i,null,null),Id(),s[_i]=null}};function Xd(i){this._internalRoot=i}Xd.prototype.unstable_scheduleHydration=function(i){if(i){var s=ti();i={blockedOn:null,target:i,priority:s};for(var o=0;o<ba.length&&s!==0&&s<ba[o].priority;o++);ba.splice(o,0,i),o===0&&n1(i)}};var a1=e.version;if(a1!=="19.2.3")throw Error(r(527,a1,"19.2.3"));q.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var tk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{Kn=Wd.inject(tk),Ht=Wd}catch{}}return mu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",p=f_,y=m_,w=p_;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=Yw(i,1,!1,null,null,o,u,null,p,y,w,s1),i[_i]=s.current,jg(i),new ny(s)},mu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,p="",y=f_,w=m_,R=p_,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.formState!==void 0&&(F=o.formState)),s=Yw(i,1,!0,s,o??null,u,p,F,y,w,R,s1),s.context=Xw(null),o=s.current,u=Bi(),u=Rn(u),p=ra(u),p.callback=null,sa(o,p,u),o=u,s.current.lanes=o,mn(s,o),$r(s),i[_i]=s.current,jg(i),new Xd(s)},mu.version="19.2.3",mu}var g1;function hk(){if(g1)return sy.exports;g1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sy.exports=uk(),sy.exports}var dk=hk();var y1="popstate";function fk(t={}){function e(r,a){let{pathname:l,search:c,hash:h}=r.location;return Xy("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:qu(a)}return pk(e,n,null,t)}function Ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mk(){return Math.random().toString(36).substring(2,10)}function v1(t,e){return{usr:t.state,key:t.key,idx:e}}function Xy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?rc(e):e,state:n,key:e&&e.key||r||mk()}}function qu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function rc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function pk(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,h="POP",d=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function v(){h="POP";let I=g(),z=I==null?null:I-m;m=I,d&&d({action:h,location:O.location,delta:z})}function _(I,z){h="PUSH";let $=Xy(O.location,I,z);m=g()+1;let G=v1($,m),ae=O.createHref($);try{c.pushState(G,"",ae)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;a.location.assign(ae)}l&&d&&d({action:h,location:O.location,delta:1})}function C(I,z){h="REPLACE";let $=Xy(O.location,I,z);m=g();let G=v1($,m),ae=O.createHref($);c.replaceState(G,"",ae),l&&d&&d({action:h,location:O.location,delta:0})}function M(I){return gk(I)}let O={get action(){return h},get location(){return t(a,c)},listen(I){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(y1,v),d=I,()=>{a.removeEventListener(y1,v),d=null}},createHref(I){return e(a,I)},createURL:M,encodeLocation(I){let z=M(I);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:_,replace:C,go(I){return c.go(I)}};return O}function gk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ft(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:qu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function XS(t,e,n="/"){return yk(t,e,n,!1)}function yk(t,e,n,r){let a=typeof e=="string"?rc(e):e,l=Ps(a.pathname||"/",n);if(l==null)return null;let c=WS(t);vk(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let m=Ik(l);h=Ck(c[d],m,r)}return h}function WS(t,e=[],n=[],r="",a=!1){let l=(c,h,d=a,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&d)return;Ft(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=Ns([r,g.relativePath]),_=n.concat(g);c.children&&c.children.length>0&&(Ft(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),WS(c.children,e,_,v,d)),!(c.path==null&&!c.index)&&e.push({path:v,score:Sk(v,c.index),routesMeta:_})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let d of QS(c.path))l(c,h,!0,d)}),e}function QS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=QS(r.join("/")),h=[];return h.push(...c.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function vk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ak(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var bk=/^:[\w-]+$/,xk=3,_k=2,wk=1,Tk=10,Ek=-2,b1=t=>t==="*";function Sk(t,e){let n=t.split("/"),r=n.length;return n.some(b1)&&(r+=Ek),e&&(r+=_k),n.filter(a=>!b1(a)).reduce((a,l)=>a+(bk.test(l)?xk:l===""?wk:Tk),r)}function Ak(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function Ck(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",c=[];for(let h=0;h<r.length;++h){let d=r[h],m=h===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",v=Pf({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),_=d.route;if(!v&&m&&n&&!r[r.length-1].route.index&&(v=Pf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Ns([l,v.pathname]),pathnameBase:Mk(Ns([l,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(l=Ns([l,v.pathnameBase]))}return c}function Pf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Rk(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:v},_)=>{if(g==="*"){let M=h[_]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const C=h[_];return v&&!C?m[g]=void 0:m[g]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function Rk(t,e=!1,n=!0){dr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function Ik(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ps(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var JS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nk=t=>JS.test(t);function Dk(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?rc(t):t,l;if(n)if(Nk(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),dr(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=x1(n.substring(1),"/"):l=x1(n,e)}else l=e;return{pathname:l,search:Ok(r),hash:Pk(a)}}function x1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function cy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qv(t){let e=kk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Jv(t,e,n,r=!1){let a;typeof t=="string"?a=rc(t):(a={...t},Ft(!a.pathname||!a.pathname.includes("?"),cy("?","pathname","search",a)),Ft(!a.pathname||!a.pathname.includes("#"),cy("#","pathname","hash",a)),Ft(!a.search||!a.search.includes("#"),cy("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),v-=1;a.pathname=_.join("/")}h=v>=0?e[v]:"/"}let d=Dk(a,h),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var Ns=t=>t.join("/").replace(/\/\/+/g,"/"),Mk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ok=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Pk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Vk=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function jk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Lk(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ZS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function eA(t,e){let n=t;if(typeof n!="string"||!JS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(ZS)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Ps(c.pathname,e);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{dr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tA=["POST","PUT","PATCH","DELETE"];new Set(tA);var Uk=["GET",...tA];new Set(Uk);var sc=S.createContext(null);sc.displayName="DataRouter";var Sm=S.createContext(null);Sm.displayName="DataRouterState";var zk=S.createContext(!1),nA=S.createContext({isTransitioning:!1});nA.displayName="ViewTransition";var Bk=S.createContext(new Map);Bk.displayName="Fetchers";var Fk=S.createContext(null);Fk.displayName="Await";var Hi=S.createContext(null);Hi.displayName="Navigation";var ah=S.createContext(null);ah.displayName="Location";var Pr=S.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var Zv=S.createContext(null);Zv.displayName="RouteError";var iA="REACT_ROUTER_ERROR",qk="REDIRECT",Hk="ROUTE_ERROR_RESPONSE";function Gk(t){if(t.startsWith(`${iA}:${qk}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function $k(t){if(t.startsWith(`${iA}:${Hk}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Vk(e.status,e.statusText,e.data)}catch{}}function Kk(t,{relative:e}={}){Ft(ac(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Hi),{hash:a,pathname:l,search:c}=oh(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Ns([n,l])),r.createHref({pathname:h,search:c,hash:a})}function ac(){return S.useContext(ah)!=null}function Bs(){return Ft(ac(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(ah).location}var rA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sA(t){S.useContext(Hi).static||S.useLayoutEffect(t)}function Am(){let{isDataRoute:t}=S.useContext(Pr);return t?oM():Yk()}function Yk(){Ft(ac(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(sc),{basename:e,navigator:n}=S.useContext(Hi),{matches:r}=S.useContext(Pr),{pathname:a}=Bs(),l=JSON.stringify(Qv(r)),c=S.useRef(!1);return sA(()=>{c.current=!0}),S.useCallback((d,m={})=>{if(dr(c.current,rA),!c.current)return;if(typeof d=="number"){n.go(d);return}let g=Jv(d,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ns([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,a,t])}S.createContext(null);function Xk(){let{matches:t}=S.useContext(Pr),e=t[t.length-1];return e?e.params:{}}function oh(t,{relative:e}={}){let{matches:n}=S.useContext(Pr),{pathname:r}=Bs(),a=JSON.stringify(Qv(n));return S.useMemo(()=>Jv(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function Wk(t,e){return aA(t,e)}function aA(t,e,n,r,a){Ft(ac(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext(Hi),{matches:c}=S.useContext(Pr),h=c[c.length-1],d=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let $=v&&v.path||"";lA(m,!v||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let _=Bs(),C;if(e){let $=typeof e=="string"?rc(e):e;Ft(g==="/"||$.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${$.pathname}" was given in the \`location\` prop.`),C=$}else C=_;let M=C.pathname||"/",O=M;if(g!=="/"){let $=g.replace(/^\//,"").split("/");O="/"+M.replace(/^\//,"").split("/").slice($.length).join("/")}let I=XS(t,{pathname:O});dr(v||I!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),dr(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=tM(I&&I.map($=>Object.assign({},$,{params:Object.assign({},d,$.params),pathname:Ns([g,l.encodeLocation?l.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?g:Ns([g,l.encodeLocation?l.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),c,n,r,a);return e&&z?S.createElement(ah.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},z):z}function Qk(){let t=aM(),e=jk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:a},n):null,c)}var Jk=S.createElement(Qk,null),oA=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=$k(t.digest);n&&(t=n)}let e=t!==void 0?S.createElement(Pr.Provider,{value:this.props.routeContext},S.createElement(Zv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?S.createElement(Zk,{error:t},e):e}};oA.contextType=zk;var uy=new WeakMap;function Zk({children:t,error:e}){let{basename:n}=S.useContext(Hi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Gk(e.digest);if(r){let a=uy.get(e);if(a)throw a;let l=eA(r.location,n);if(ZS&&!uy.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw uy.set(e,c),c}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function eM({routeContext:t,match:e,children:n}){let r=S.useContext(sc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Pr.Provider,{value:t},n)}function tM(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let g=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Ft(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,d=-1;if(n)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=g),v.route.id){let{loaderData:_,errors:C}=n,M=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!C||C[v.route.id]===void 0);if(v.route.lazy||M){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let m=n&&r?(g,v)=>{r(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Lk(n.matches),errorInfo:v})}:void 0;return l.reduceRight((g,v,_)=>{let C,M=!1,O=null,I=null;n&&(C=c&&v.route.id?c[v.route.id]:void 0,O=v.route.errorElement||Jk,h&&(d<0&&_===0?(lA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,I=null):d===_&&(M=!0,I=v.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,_+1)),$=()=>{let G;return C?G=O:M?G=I:v.route.Component?G=S.createElement(v.route.Component,null):v.route.element?G=v.route.element:G=g,S.createElement(eM,{match:v,routeContext:{outlet:g,matches:z,isDataRoute:n!=null},children:G})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?S.createElement(oA,{location:n.location,revalidation:n.revalidation,component:O,error:C,children:$(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:m}):$()},null)}function e0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nM(t){let e=S.useContext(sc);return Ft(e,e0(t)),e}function iM(t){let e=S.useContext(Sm);return Ft(e,e0(t)),e}function rM(t){let e=S.useContext(Pr);return Ft(e,e0(t)),e}function t0(t){let e=rM(t),n=e.matches[e.matches.length-1];return Ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function sM(){return t0("useRouteId")}function aM(){let t=S.useContext(Zv),e=iM("useRouteError"),n=t0("useRouteError");return t!==void 0?t:e.errors?.[n]}function oM(){let{router:t}=nM("useNavigate"),e=t0("useNavigate"),n=S.useRef(!1);return sA(()=>{n.current=!0}),S.useCallback(async(a,l={})=>{dr(n.current,rA),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var _1={};function lA(t,e,n){!e&&!_1[t]&&(_1[t]=!0,dr(!1,n))}S.memo(lM);function lM({routes:t,future:e,state:n,onError:r}){return aA(t,void 0,n,r,e)}function Nl({to:t,replace:e,state:n,relative:r}){Ft(ac(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=S.useContext(Hi);dr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(Pr),{pathname:c}=Bs(),h=Am(),d=Jv(t,Qv(l),c,r==="path"),m=JSON.stringify(d);return S.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:r})},[h,m,r,e,n]),null}function Ta(t){Ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Ft(!ac(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=rc(n));let{pathname:m="/",search:g="",hash:v="",state:_=null,key:C="default"}=n,M=S.useMemo(()=>{let O=Ps(m,h);return O==null?null:{location:{pathname:O,search:g,hash:v,state:_,key:C},navigationType:r}},[h,m,g,v,_,C,r]);return dr(M!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:S.createElement(Hi.Provider,{value:d},S.createElement(ah.Provider,{children:e,value:M}))}function uM({children:t,location:e}){return Wk(Wy(t),e)}function Wy(t,e=[]){let n=[];return S.Children.forEach(t,(r,a)=>{if(!S.isValidElement(r))return;let l=[...e,a];if(r.type===S.Fragment){n.push.apply(n,Wy(r.props.children,l));return}Ft(r.type===Ta,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Wy(r.props.children,l)),n.push(c)}),n}var pf="get",gf="application/x-www-form-urlencoded";function Cm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function hM(t){return Cm(t)&&t.tagName.toLowerCase()==="button"}function dM(t){return Cm(t)&&t.tagName.toLowerCase()==="form"}function fM(t){return Cm(t)&&t.tagName.toLowerCase()==="input"}function mM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pM(t,e){return t.button===0&&(!e||e==="_self")&&!mM(t)}var Qd=null;function gM(){if(Qd===null)try{new FormData(document.createElement("form"),0),Qd=!1}catch{Qd=!0}return Qd}var yM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hy(t){return t!=null&&!yM.has(t)?(dr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gf}"`),null):t}function vM(t,e){let n,r,a,l,c;if(dM(t)){let h=t.getAttribute("action");r=h?Ps(h,e):null,n=t.getAttribute("method")||pf,a=hy(t.getAttribute("enctype"))||gf,l=new FormData(t)}else if(hM(t)||fM(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Ps(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||pf,a=hy(t.getAttribute("formenctype"))||hy(h.getAttribute("enctype"))||gf,l=new FormData(h,t),!gM()){let{name:m,type:g,value:v}=t;if(g==="image"){let _=m?`${m}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else m&&l.append(m,v)}}else{if(Cm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pf,r=null,a=gf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function n0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bM(t,e,n,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&Ps(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function xM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _M(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wM(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await xM(l,n);return c.links?c.links():[]}return[]}));return AM(r.flat(1).filter(_M).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function w1(t,e,n,r,a,l){let c=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,m)=>c(d,m)||h(d,m)):l==="data"?e.filter((d,m)=>{let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function TM(t,e,{includeHydrateFallback:n}={}){return EM(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function EM(t){return[...new Set(t)]}function SM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function AM(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(SM(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function cA(){let t=S.useContext(sc);return n0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function CM(){let t=S.useContext(Sm);return n0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var i0=S.createContext(void 0);i0.displayName="FrameworkContext";function uA(){let t=S.useContext(i0);return n0(t,"You must render this element inside a <HydratedRouter> element"),t}function RM(t,e){let n=S.useContext(i0),[r,a]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=e,_=S.useRef(null);S.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let O=z=>{z.forEach($=>{c($.isIntersecting)})},I=new IntersectionObserver(O,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[t]),S.useEffect(()=>{if(r){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[r]);let C=()=>{a(!0)},M=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:pu(h,C),onBlur:pu(d,M),onMouseEnter:pu(m,C),onMouseLeave:pu(g,M),onTouchStart:pu(v,C)}]:[!1,_,{}]}function pu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function IM({page:t,...e}){let{router:n}=cA(),r=S.useMemo(()=>XS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(DM,{page:t,matches:r,...e}):null}function NM(t){let{manifest:e,routeModules:n}=uA(),[r,a]=S.useState([]);return S.useEffect(()=>{let l=!1;return wM(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),r}function DM({page:t,matches:e,...n}){let r=Bs(),{future:a,manifest:l,routeModules:c}=uA(),{basename:h}=cA(),{loaderData:d,matches:m}=CM(),g=S.useMemo(()=>w1(t,e,m,l,r,"data"),[t,e,m,l,r]),v=S.useMemo(()=>w1(t,e,m,l,r,"assets"),[t,e,m,l,r]),_=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let O=new Set,I=!1;if(e.forEach($=>{let G=l.routes[$.route.id];!G||!G.hasLoader||(!g.some(ae=>ae.route.id===$.route.id)&&$.route.id in d&&c[$.route.id]?.shouldRevalidate||G.hasClientLoader?I=!0:O.add($.route.id))}),O.size===0)return[];let z=bM(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return I&&O.size>0&&z.searchParams.set("_routes",e.filter($=>O.has($.route.id)).map($=>$.route.id).join(",")),[z.pathname+z.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,r,l,g,e,t,c]),C=S.useMemo(()=>TM(v,l),[v,l]),M=NM(v);return S.createElement(S.Fragment,null,_.map(O=>S.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),C.map(O=>S.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),M.map(({key:O,link:I})=>S.createElement("link",{key:O,nonce:n.nonce,...I})))}function kM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var MM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MM&&(window.__reactRouterVersion="7.12.0")}catch{}function OM({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=S.useRef();a.current==null&&(a.current=fk({window:r,v5Compat:!0}));let l=a.current,[c,h]=S.useState({action:l.action,location:l.location}),d=S.useCallback(m=>{n===!1?h(m):S.startTransition(()=>h(m))},[n]);return S.useLayoutEffect(()=>l.listen(d),[l,d]),S.createElement(cM,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var hA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r0=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:h,target:d,to:m,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:_,...C},M){let{basename:O,unstable_useTransitions:I}=S.useContext(Hi),z=typeof m=="string"&&hA.test(m),$=eA(m,O);m=$.to;let G=Kk(m,{relative:a}),[ae,te,le]=RM(r,C),N=jM(m,{replace:c,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:_,unstable_useTransitions:I});function A(D){e&&e(D),D.defaultPrevented||N(D)}let P=S.createElement("a",{...C,...le,href:$.absoluteURL||G,onClick:$.isExternal||l?e:A,ref:kM(M,te),target:d,"data-discover":!z&&n==="render"?"true":void 0});return ae&&!z?S.createElement(S.Fragment,null,P,S.createElement(IM,{page:G})):P});r0.displayName="Link";var dA=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:h,children:d,...m},g){let v=oh(c,{relative:m.relative}),_=Bs(),C=S.useContext(Sm),{navigator:M,basename:O}=S.useContext(Hi),I=C!=null&&FM(v)&&h===!0,z=M.encodeLocation?M.encodeLocation(v).pathname:v.pathname,$=_.pathname,G=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||($=$.toLowerCase(),G=G?G.toLowerCase():null,z=z.toLowerCase()),G&&O&&(G=Ps(G,O)||G);const ae=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let te=$===z||!a&&$.startsWith(z)&&$.charAt(ae)==="/",le=G!=null&&(G===z||!a&&G.startsWith(z)&&G.charAt(z.length)==="/"),N={isActive:te,isPending:le,isTransitioning:I},A=te?e:void 0,P;typeof r=="function"?P=r(N):P=[r,te?"active":null,le?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(N):l;return S.createElement(r0,{...m,"aria-current":A,className:P,ref:g,style:D,to:c,viewTransition:h},typeof d=="function"?d(N):d)});dA.displayName="NavLink";var PM=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:c=pf,action:h,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:_,...C},M)=>{let{unstable_useTransitions:O}=S.useContext(Hi),I=zM(),z=BM(h,{relative:m}),$=c.toLowerCase()==="get"?"get":"post",G=typeof h=="string"&&hA.test(h),ae=te=>{if(d&&d(te),te.defaultPrevented)return;te.preventDefault();let le=te.nativeEvent.submitter,N=le?.getAttribute("formmethod")||c,A=()=>I(le||te.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:a,state:l,relative:m,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:_});O&&n!==!1?S.startTransition(()=>A()):A()};return S.createElement("form",{ref:M,method:$,action:z,onSubmit:r?d:ae,...C,"data-discover":!G&&t==="render"?"true":void 0})});PM.displayName="Form";function VM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fA(t){let e=S.useContext(sc);return Ft(e,VM(t)),e}function jM(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let m=Am(),g=Bs(),v=oh(t,{relative:l});return S.useCallback(_=>{if(pM(_,e)){_.preventDefault();let C=n!==void 0?n:qu(g)===qu(v),M=()=>m(t,{replace:C,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});d?S.startTransition(()=>M()):M()}},[g,m,v,n,r,e,t,a,l,c,h,d])}var LM=0,UM=()=>`__${String(++LM)}__`;function zM(){let{router:t}=fA("useSubmit"),{basename:e}=S.useContext(Hi),n=sM(),r=t.fetch,a=t.navigate;return S.useCallback(async(l,c={})=>{let{action:h,method:d,encType:m,formData:g,body:v}=vM(l,e);if(c.navigate===!1){let _=c.fetcherKey||UM();await r(_,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||d,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||d,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,e,n])}function BM(t,{relative:e}={}){let{basename:n}=S.useContext(Hi),r=S.useContext(Pr);Ft(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...oh(t||".",{relative:e})},c=Bs();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ns([n,l.pathname])),qu(l)}function FM(t,{relative:e}={}){let n=S.useContext(nA);Ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=fA("useViewTransitionState"),a=oh(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ps(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Ps(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Pf(a.pathname,c)!=null||Pf(a.pathname,l)!=null}var _u=YS();const qM=()=>b.jsx("div",{className:"noise-overlay"}),HM="modulepreload",GM=function(t){return"/"+t},T1={},Qy=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let d=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");a=d(n.map(m=>{if(m=GM(m),m in T1)return;T1[m]=!0;const g=m.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":HM,g||(_.as="script"),_.crossOrigin="",_.href=m,h&&_.setAttribute("nonce",h),document.head.appendChild(_),g)return new Promise((C,M)=>{_.addEventListener("load",C),_.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},$M=()=>{};var E1={};const mA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},KM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},pA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,g=l>>2,v=(l&3)<<4|h>>4;let _=(h&15)<<2|m>>6,C=m&63;d||(C=64,c||(_=64)),r.push(n[g],n[v],n[_],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||m==null||v==null)throw new YM;const _=l<<2|h>>4;if(r.push(_),m!==64){const C=h<<4&240|m>>2;if(r.push(C),v!==64){const M=m<<6&192|v;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XM=function(t){const e=mA(t);return pA.encodeByteArray(e,!0)},Vf=function(t){return XM(t).replace(/\./g,"")},gA=function(t){try{return pA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function WM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const QM=()=>WM().__FIREBASE_DEFAULTS__,JM=()=>{if(typeof process>"u"||typeof E1>"u")return;const t=E1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gA(t[1]);return e&&JSON.parse(e)},Rm=()=>{try{return $M()||QM()||JM()||ZM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yA=t=>Rm()?.emulatorHosts?.[t],vA=t=>{const e=yA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bA=()=>Rm()?.config,xA=t=>Rm()?.[`_${t}`];class eO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function zo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function s0(t){return(await fetch(t,{credentials:"include"})).ok}function _A(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Vf(JSON.stringify(n)),Vf(JSON.stringify(c)),""].join(".")}const Cu={};function tO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cu))Cu[e]?t.emulator.push(e):t.prod.push(e);return t}function nO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let S1=!1;function a0(t,e){if(typeof window>"u"||typeof document>"u"||!zo(window.location.host)||Cu[t]===e||Cu[t]||S1)return;Cu[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",l=tO().prod.length>0;function c(){const _=document.getElementById(r);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function d(_,C){_.setAttribute("width","24"),_.setAttribute("id",C),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function m(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{S1=!0,c()},_}function g(_,C){_.setAttribute("id",C),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=nO(r),C=n("text"),M=document.getElementById(C)||document.createElement("span"),O=n("learnmore"),I=document.getElementById(O)||document.createElement("a"),z=n("preprendIcon"),$=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const G=_.element;h(G),g(I,O);const ae=m();d($,z),G.append($,M,I,ae),document.body.appendChild(G)}l?(M.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function ci(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ci())}function rO(){const t=Rm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lO(){const t=ci();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cO(){return!rO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uO(){try{return typeof indexedDB=="object"}catch{return!1}}function hO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const dO="FirebaseError";class rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dO,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lh.prototype.create)}}class lh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?fO(l,r):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new rs(a,h,r)}}function fO(t,e){return t.replace(mO,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const mO=/\{\$([^}]+)}/g;function pO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Oo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],c=e[a];if(A1(l)&&A1(c)){if(!Oo(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function A1(t){return t!==null&&typeof t=="object"}function ch(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gO(t,e){const n=new yO(t,e);return n.subscribe.bind(n)}class yO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vO(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=dy),a.error===void 0&&(a.error=dy),a.complete===void 0&&(a.complete=dy);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dy(){}function Vn(t){return t&&t._delegate?t._delegate:t}class Va{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ao="[DEFAULT]";class bO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_O(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xO(t){return t===Ao?void 0:t}function _O(t){return t.instantiationMode==="EAGER"}class wO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const TO={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},EO=tt.INFO,SO={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},AO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=SO[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class o0{constructor(e){this.name=e,this._logLevel=EO,this._logHandler=AO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const CO=(t,e)=>e.some(n=>t instanceof n);let C1,R1;function RO(){return C1||(C1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IO(){return R1||(R1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wA=new WeakMap,Jy=new WeakMap,TA=new WeakMap,fy=new WeakMap,l0=new WeakMap;function NO(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Da(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&wA.set(n,t)}).catch(()=>{}),l0.set(e,t),e}function DO(t){if(Jy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Jy.set(t,e)}let Zy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Da(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kO(t){Zy=t(Zy)}function MO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(my(this),e,...n);return TA.set(r,e.sort?e.sort():[e]),Da(r)}:IO().includes(t)?function(...e){return t.apply(my(this),e),Da(wA.get(this))}:function(...e){return Da(t.apply(my(this),e))}}function OO(t){return typeof t=="function"?MO(t):(t instanceof IDBTransaction&&DO(t),CO(t,RO())?new Proxy(t,Zy):t)}function Da(t){if(t instanceof IDBRequest)return NO(t);if(fy.has(t))return fy.get(t);const e=OO(t);return e!==t&&(fy.set(t,e),l0.set(e,t)),e}const my=t=>l0.get(t);function PO(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=Da(c);return r&&c.addEventListener("upgradeneeded",d=>{r(Da(c.result),d.oldVersion,d.newVersion,Da(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const VO=["get","getKey","getAll","getAllKeys","count"],jO=["put","add","delete","clear"],py=new Map;function I1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(py.get(e))return py.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=jO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||VO.includes(n)))return;const l=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return py.set(e,l),l}kO(t=>({...t,get:(e,n,r)=>I1(e,n)||t.get(e,n,r),has:(e,n)=>!!I1(e,n)||t.has(e,n)}));class LO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UO(t){return t.getComponent()?.type==="VERSION"}const ev="@firebase/app",N1="0.14.7";const Vs=new o0("@firebase/app"),zO="@firebase/app-compat",BO="@firebase/analytics-compat",FO="@firebase/analytics",qO="@firebase/app-check-compat",HO="@firebase/app-check",GO="@firebase/auth",$O="@firebase/auth-compat",KO="@firebase/database",YO="@firebase/data-connect",XO="@firebase/database-compat",WO="@firebase/functions",QO="@firebase/functions-compat",JO="@firebase/installations",ZO="@firebase/installations-compat",eP="@firebase/messaging",tP="@firebase/messaging-compat",nP="@firebase/performance",iP="@firebase/performance-compat",rP="@firebase/remote-config",sP="@firebase/remote-config-compat",aP="@firebase/storage",oP="@firebase/storage-compat",lP="@firebase/firestore",cP="@firebase/ai",uP="@firebase/firestore-compat",hP="firebase",dP="12.8.0";const tv="[DEFAULT]",fP={[ev]:"fire-core",[zO]:"fire-core-compat",[FO]:"fire-analytics",[BO]:"fire-analytics-compat",[HO]:"fire-app-check",[qO]:"fire-app-check-compat",[GO]:"fire-auth",[$O]:"fire-auth-compat",[KO]:"fire-rtdb",[YO]:"fire-data-connect",[XO]:"fire-rtdb-compat",[WO]:"fire-fn",[QO]:"fire-fn-compat",[JO]:"fire-iid",[ZO]:"fire-iid-compat",[eP]:"fire-fcm",[tP]:"fire-fcm-compat",[nP]:"fire-perf",[iP]:"fire-perf-compat",[rP]:"fire-rc",[sP]:"fire-rc-compat",[aP]:"fire-gcs",[oP]:"fire-gcs-compat",[lP]:"fire-fst",[uP]:"fire-fst-compat",[cP]:"fire-vertex","fire-js":"fire-js",[hP]:"fire-js-all"};const jf=new Map,mP=new Map,nv=new Map;function D1(t,e){try{t.container.addComponent(e)}catch(n){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Po(t){const e=t.name;if(nv.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;nv.set(e,t);for(const n of jf.values())D1(n,t);for(const n of mP.values())D1(n,t);return!0}function Im(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function or(t){return t==null?!1:t.settings!==void 0}const pP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ka=new lh("app","Firebase",pP);class gP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ka.create("app-deleted",{appName:this._name})}}const Bo=dP;function EA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:tv,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw ka.create("bad-app-name",{appName:String(a)});if(n||(n=bA()),!n)throw ka.create("no-options");const l=jf.get(a);if(l){if(Oo(n,l.options)&&Oo(r,l.config))return l;throw ka.create("duplicate-app",{appName:a})}const c=new wO(a);for(const d of nv.values())c.addComponent(d);const h=new gP(n,r,c);return jf.set(a,h),h}function c0(t=tv){const e=jf.get(t);if(!e&&t===tv&&bA())return EA();if(!e)throw ka.create("no-app",{appName:t});return e}function Yr(t,e,n){let r=fP[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(c.join(" "));return}Po(new Va(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const yP="firebase-heartbeat-database",vP=1,Hu="firebase-heartbeat-store";let gy=null;function SA(){return gy||(gy=PO(yP,vP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ka.create("idb-open",{originalErrorMessage:t.message})})),gy}async function bP(t){try{const n=(await SA()).transaction(Hu),r=await n.objectStore(Hu).get(AA(t));return await n.done,r}catch(e){if(e instanceof rs)Vs.warn(e.message);else{const n=ka.create("idb-get",{originalErrorMessage:e?.message});Vs.warn(n.message)}}}async function k1(t,e){try{const r=(await SA()).transaction(Hu,"readwrite");await r.objectStore(Hu).put(e,AA(t)),await r.done}catch(n){if(n instanceof rs)Vs.warn(n.message);else{const r=ka.create("idb-set",{originalErrorMessage:n?.message});Vs.warn(r.message)}}}function AA(t){return`${t.name}!${t.options.appId}`}const xP=1024,_P=30;class wP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=M1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>_P){const a=SP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=M1(),{heartbeatsToSend:n,unsentEntries:r}=TP(this._heartbeatsCache.heartbeats),a=Vf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Vs.warn(e),""}}}function M1(){return new Date().toISOString().substring(0,10)}function TP(t,e=xP){const n=[];let r=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),O1(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),O1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class EP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uO()?hO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return k1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return k1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function O1(t){return Vf(JSON.stringify({version:2,heartbeats:t})).length}function SP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function AP(t){Po(new Va("platform-logger",e=>new LO(e),"PRIVATE")),Po(new Va("heartbeat",e=>new wP(e),"PRIVATE")),Yr(ev,N1,t),Yr(ev,N1,"esm2020"),Yr("fire-js","")}AP("");var CP="firebase",RP="12.8.0";Yr(CP,RP,"app");function CA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IP=CA,RA=new lh("auth","Firebase",CA());const Lf=new o0("@firebase/auth");function NP(t,...e){Lf.logLevel<=tt.WARN&&Lf.warn(`Auth (${Bo}): ${t}`,...e)}function yf(t,...e){Lf.logLevel<=tt.ERROR&&Lf.error(`Auth (${Bo}): ${t}`,...e)}function Zr(t,...e){throw h0(t,...e)}function Nr(t,...e){return h0(t,...e)}function u0(t,e,n){const r={...IP(),[e]:n};return new lh("auth","Firebase",r).create(e,{appName:t.name})}function ko(t){return u0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DP(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Zr(t,"argument-error"),u0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function h0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RA.create(t,...e)}function Ue(t,e,...n){if(!t)throw h0(e,...n)}function Rs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yf(e),new Error(e)}function js(t,e){t||Rs(e)}function iv(){return typeof self<"u"&&self.location?.href||""}function kP(){return P1()==="http:"||P1()==="https:"}function P1(){return typeof self<"u"&&self.location?.protocol||null}function MP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kP()||aO()||"connection"in navigator)?navigator.onLine:!0}function OP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class uh{constructor(e,n){this.shortDelay=e,this.longDelay=n,js(n>e,"Short delay should be less than long delay!"),this.isMobile=iO()||oO()}get(){return MP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function d0(t,e){js(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class IA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const PP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const VP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jP=new uh(3e4,6e4);function f0(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function oc(t,e,n,r,a={}){return NA(t,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const h=ch({key:t.config.apiKey,...c}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:d,...l};return sO()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&zo(t.emulatorConfig.host)&&(m.credentials="include"),IA.fetch()(await DA(t,t.config.apiHost,n,h),m)})}async function NA(t,e,n){t._canInitEmulator=!1;const r={...PP,...e};try{const a=new UP(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Jd(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jd(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Jd(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw Jd(t,"user-disabled",c);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw u0(t,g,m);Zr(t,g)}}catch(a){if(a instanceof rs)throw a;Zr(t,"network-request-failed",{message:String(a)})}}async function LP(t,e,n,r,a={}){const l=await oc(t,e,n,r,a);return"mfaPendingCredential"in l&&Zr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function DA(t,e,n,r){const a=`${e}${n}?${r}`,l=t,c=l.config.emulator?d0(t.config,a):`${t.config.apiScheme}://${a}`;return VP.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class UP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nr(this.auth,"network-request-failed")),jP.get())})}}function Jd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Nr(t,e,r);return a.customData._tokenResponse=n,a}async function zP(t,e){return oc(t,"POST","/v1/accounts:delete",e)}async function Uf(t,e){return oc(t,"POST","/v1/accounts:lookup",e)}function Ru(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BP(t,e=!1){const n=Vn(t),r=await n.getIdToken(e),a=m0(r);Ue(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:Ru(yy(a.auth_time)),issuedAtTime:Ru(yy(a.iat)),expirationTime:Ru(yy(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function yy(t){return Number(t)*1e3}function m0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yf("JWT malformed, contained fewer than 3 sections"),null;try{const a=gA(n);return a?JSON.parse(a):(yf("Failed to decode base64 JWT payload"),null)}catch(a){return yf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function V1(t){const e=m0(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Gu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rs&&FP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function FP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class qP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ru(this.lastLoginAt),this.creationTime=Ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function zf(t){const e=t.auth,n=await t.getIdToken(),r=await Gu(t,Uf(e,{idToken:n}));Ue(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?kA(a.providerUserInfo):[],c=GP(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!c?.length,m=h?d:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new rv(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function HP(t){const e=Vn(t);await zf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GP(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function kA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function $P(t,e){const n=await NA(t,{},async()=>{const r=ch({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await DA(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&zo(t.emulatorConfig.host)&&(d.credentials="include"),IA.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KP(t,e){return oc(t,"POST","/v2/accounts:revokeToken",f0(t,e))}class Fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const n=V1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await $P(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new Fl;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Ue(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ue(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fl,this.toJSON())}_performRefresh(){return Rs("not implemented")}}function _a(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cr{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new qP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new rv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Gu(this,this.stsTokenManager.getToken(this.auth,e));return Ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BP(this,e)}reload(){return HP(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(ko(this.auth));const e=await this.getIdToken();return await Gu(this,zP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,m=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:_,isAnonymous:C,providerData:M,stsTokenManager:O}=n;Ue(v&&O,e,"internal-error");const I=Fl.fromJSON(this.name,O);Ue(typeof v=="string",e,"internal-error"),_a(r,e.name),_a(a,e.name),Ue(typeof _=="boolean",e,"internal-error"),Ue(typeof C=="boolean",e,"internal-error"),_a(l,e.name),_a(c,e.name),_a(h,e.name),_a(d,e.name),_a(m,e.name),_a(g,e.name);const z=new Cr({uid:v,auth:e,email:a,emailVerified:_,displayName:r,isAnonymous:C,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:I,createdAt:m,lastLoginAt:g});return M&&Array.isArray(M)&&(z.providerData=M.map($=>({...$}))),d&&(z._redirectEventId=d),z}static async _fromIdTokenResponse(e,n,r=!1){const a=new Fl;a.updateFromServerResponse(n);const l=new Cr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await zf(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ue(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?kA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new Fl;h.updateFromIdToken(r);const d=new Cr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new rv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,m),d}}const j1=new Map;function Is(t){js(t instanceof Function,"Expected a class definition");let e=j1.get(t);return e?(js(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,j1.set(t,e),e)}class MA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MA.type="NONE";const L1=MA;function vf(t,e,n){return`firebase:${t}:${e}:${n}`}class ql{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=vf(this.userKey,a.apiKey,l),this.fullPersistenceKey=vf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Uf(this.auth,{idToken:e}).catch(()=>{});return n?Cr._fromGetAccountInfoResponse(this.auth,n,e):null}return Cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ql(Is(L1),e,r);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Is(L1);const c=vf(r,e.config.apiKey,e.name);let h=null;for(const m of n)try{const g=await m._get(c);if(g){let v;if(typeof g=="string"){const _=await Uf(e,{idToken:g}).catch(()=>{});if(!_)break;v=await Cr._fromGetAccountInfoResponse(e,_,g)}else v=Cr._fromJSON(e,g);m!==l&&(h=v),l=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new ql(l,e,r):(l=d[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new ql(l,e,r))}}function U1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UA(e))return"Blackberry";if(zA(e))return"Webos";if(PA(e))return"Safari";if((e.includes("chrome/")||VA(e))&&!e.includes("edge/"))return"Chrome";if(LA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function OA(t=ci()){return/firefox\//i.test(t)}function PA(t=ci()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VA(t=ci()){return/crios\//i.test(t)}function jA(t=ci()){return/iemobile/i.test(t)}function LA(t=ci()){return/android/i.test(t)}function UA(t=ci()){return/blackberry/i.test(t)}function zA(t=ci()){return/webos/i.test(t)}function p0(t=ci()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function YP(t=ci()){return p0(t)&&!!window.navigator?.standalone}function XP(){return lO()&&document.documentMode===10}function BA(t=ci()){return p0(t)||LA(t)||zA(t)||UA(t)||/windows phone/i.test(t)||jA(t)}function FA(t,e=[]){let n;switch(t){case"Browser":n=U1(ci());break;case"Worker":n=`${U1(ci())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bo}/${r}`}class WP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((c,h)=>{try{const d=e(l);c(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function QP(t,e={}){return oc(t,"GET","/v2/passwordPolicy",f0(t,e))}const JP=6;class ZP{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??JP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class eV{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z1(this),this.idTokenSubscription=new z1(this),this.beforeStateQueue=new WP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Is(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ql.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Uf(this,{idToken:e}),r=await Cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(or(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(ko(this));const n=e?Vn(e):null;return n&&Ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(ko(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(ko(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QP(this),n=new ZP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KP(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Is(e)||this._popupRedirectResolver;Ue(n,this,"argument-error"),this.redirectPersistenceManager=await ql.create(this,[Is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&NP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Nm(t){return Vn(t)}class z1{constructor(e){this.auth=e,this.observer=null,this.addObserver=gO(n=>this.observer=n)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let g0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tV(t){g0=t}function nV(t){return g0.loadJS(t)}function iV(){return g0.gapiScript}function rV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function sV(t,e){const n=Im(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Oo(l,e??{}))return a;Zr(a,"already-initialized")}return n.initialize({options:e})}function aV(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Is);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function oV(t,e,n){const r=Nm(t);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=qA(e),{host:c,port:h}=lV(e),d=h===null?"":`:${h}`,m={url:`${l}//${c}${d}/`},g=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(Oo(m,r.config.emulator)&&Oo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,zo(c)?(s0(`${l}//${c}${d}`),a0("Auth",!0)):cV()}function qA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lV(t){const e=qA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:B1(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:B1(c)}}}function B1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class HA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rs("not implemented")}_getIdTokenResponse(e){return Rs("not implemented")}_linkToIdToken(e,n){return Rs("not implemented")}_getReauthenticationResolver(e){return Rs("not implemented")}}async function Hl(t,e){return LP(t,"POST","/v1/accounts:signInWithIdp",f0(t,e))}const uV="http://localhost";class Vo extends HA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const c=new Vo(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Hl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Hl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hl(e,n)}buildRequest(){const e={requestUri:uV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ch(n)}return e}}class y0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hh extends y0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Aa extends hh{constructor(){super("facebook.com")}static credential(e){return Vo._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Aa.credential(e.oauthAccessToken)}catch{return null}}}Aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Aa.PROVIDER_ID="facebook.com";class As extends hh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vo._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return As.credential(n,r)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";class Ca extends hh{constructor(){super("github.com")}static credential(e){return Vo._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.GITHUB_SIGN_IN_METHOD="github.com";Ca.PROVIDER_ID="github.com";class Ra extends hh{constructor(){super("twitter.com")}static credential(e,n){return Vo._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ra.credential(n,r)}catch{return null}}}Ra.TWITTER_SIGN_IN_METHOD="twitter.com";Ra.PROVIDER_ID="twitter.com";class Xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await Cr._fromIdTokenResponse(e,r,a),c=F1(r);return new Xl({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=F1(r);return new Xl({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function F1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Bf extends rs{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Bf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Bf(e,n,r,a)}}function GA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Bf._fromErrorAndOperation(t,l,e,r):l})}async function hV(t,e,n=!1){const r=await Gu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xl._forOperation(t,"link",r)}async function dV(t,e,n=!1){const{auth:r}=t;if(or(r.app))return Promise.reject(ko(r));const a="reauthenticate";try{const l=await Gu(t,GA(r,a,e,t),n);Ue(l.idToken,r,"internal-error");const c=m0(l.idToken);Ue(c,r,"internal-error");const{sub:h}=c;return Ue(t.uid===h,r,"user-mismatch"),Xl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Zr(r,"user-mismatch"),l}}async function fV(t,e,n=!1){if(or(t.app))return Promise.reject(ko(t));const r="signIn",a=await GA(t,r,e),l=await Xl._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}function mV(t,e,n,r){return Vn(t).onIdTokenChanged(e,n,r)}function pV(t,e,n){return Vn(t).beforeAuthStateChanged(e,n)}function gV(t,e,n,r){return Vn(t).onAuthStateChanged(e,n,r)}function yV(t){return Vn(t).signOut()}const Ff="__sak";class $A{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ff,"1"),this.storage.removeItem(Ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const vV=1e3,bV=10;class KA extends $A{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);XP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,bV):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KA.type="LOCAL";const xV=KA;class YA extends $A{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YA.type="SESSION";const XA=YA;function _V(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Dm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Dm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(c).map(async m=>m(n.origin,l)),d=await _V(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dm.receivers=[];function v0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class wV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,d)=>{const m=v0("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(v){const _=v;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(_.data.response);break;default:clearTimeout(g),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Xr(){return window}function TV(t){Xr().location.href=t}function WA(){return typeof Xr().WorkerGlobalScope<"u"&&typeof Xr().importScripts=="function"}async function EV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SV(){return navigator?.serviceWorker?.controller||null}function AV(){return WA()?self:null}const QA="firebaseLocalStorageDb",CV=1,qf="firebaseLocalStorage",JA="fbase_key";class dh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function km(t,e){return t.transaction([qf],e?"readwrite":"readonly").objectStore(qf)}function RV(){const t=indexedDB.deleteDatabase(QA);return new dh(t).toPromise()}function sv(){const t=indexedDB.open(QA,CV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qf,{keyPath:JA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qf)?e(r):(r.close(),await RV(),e(await sv()))})})}async function q1(t,e,n){const r=km(t,!0).put({[JA]:e,value:n});return new dh(r).toPromise()}async function IV(t,e){const n=km(t,!1).get(e),r=await new dh(n).toPromise();return r===void 0?null:r.value}function H1(t,e){const n=km(t,!0).delete(e);return new dh(n).toPromise()}const NV=800,DV=3;class ZA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>DV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dm._getInstance(AV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await EV(),!this.activeServiceWorker)return;this.sender=new wV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sv();return await q1(e,Ff,"1"),await H1(e,Ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>q1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>IV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>H1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=km(a,!1).getAll();return new dh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZA.type="LOCAL";const kV=ZA;new uh(3e4,6e4);function eC(t,e){return e?Is(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class b0 extends HA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MV(t){return fV(t.auth,new b0(t),t.bypassAuthState)}function OV(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),dV(n,new b0(t),t.bypassAuthState)}async function PV(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),hV(n,new b0(t),t.bypassAuthState)}class tC{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MV;case"linkViaPopup":case"linkViaRedirect":return PV;case"reauthViaPopup":case"reauthViaRedirect":return OV;default:Zr(this.auth,"internal-error")}}resolve(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const VV=new uh(2e3,1e4);async function jV(t,e,n){if(or(t.app))return Promise.reject(Nr(t,"operation-not-supported-in-this-environment"));const r=Nm(t);DP(t,e,y0);const a=eC(r,n);return new Ro(r,"signInViaPopup",e,a).executeNotNull()}class Ro extends tC{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Ro.currentPopupAction&&Ro.currentPopupAction.cancel(),Ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const e=v0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VV.get())};e()}}Ro.currentPopupAction=null;const LV="pendingRedirect",bf=new Map;class UV extends tC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bf.get(this.auth._key());if(!e){try{const r=await zV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bf.set(this.auth._key(),e)}return this.bypassAuthState||bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zV(t,e){const n=qV(e),r=FV(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function BV(t,e){bf.set(t._key(),e)}function FV(t){return Is(t._redirectPersistence)}function qV(t){return vf(LV,t.config.apiKey,t.name)}async function HV(t,e,n=!1){if(or(t.app))return Promise.reject(ko(t));const r=Nm(t),a=eC(r,e),c=await new UV(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const GV=600*1e3;class $V{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!nC(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Nr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GV&&this.cachedEventUids.clear(),this.cachedEventUids.has(G1(e))}saveEventToCache(e){this.cachedEventUids.add(G1(e)),this.lastProcessedEventTime=Date.now()}}function G1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function KV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nC(t);default:return!1}}async function YV(t,e={}){return oc(t,"GET","/v1/projects",e)}const XV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WV=/^https?/;async function QV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await YV(t);for(const n of e)try{if(JV(n))return}catch{}Zr(t,"unauthorized-domain")}function JV(t){const e=iv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!WV.test(n))return!1;if(XV.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const ZV=new uh(3e4,6e4);function $1(){const t=Xr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function e4(t){return new Promise((e,n)=>{function r(){$1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$1(),n(Nr(t,"network-request-failed"))},timeout:ZV.get()})}if(Xr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Xr().gapi?.load)r();else{const a=rV("iframefcb");return Xr()[a]=()=>{gapi.load?r():n(Nr(t,"network-request-failed"))},nV(`${iV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw xf=null,e})}let xf=null;function t4(t){return xf=xf||e4(t),xf}const n4=new uh(5e3,15e3),i4="__/auth/iframe",r4="emulator/auth/iframe",s4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o4(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?d0(e,r4):`https://${t.config.authDomain}/${i4}`,r={apiKey:e.apiKey,appName:t.name,v:Bo},a=a4.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${ch(r).slice(1)}`}async function l4(t){const e=await t4(t),n=Xr().gapi;return Ue(n,t,"internal-error"),e.open({where:document.body,url:o4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s4,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Nr(t,"network-request-failed"),h=Xr().setTimeout(()=>{l(c)},n4.get());function d(){Xr().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{l(c)})}))}const c4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u4=500,h4=600,d4="_blank",f4="http://localhost";class K1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m4(t,e,n,r=u4,a=h4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...c4,width:r.toString(),height:a.toString(),top:l,left:c},m=ci().toLowerCase();n&&(h=VA(m)?d4:n),OA(m)&&(e=e||f4,d.scrollbars="yes");const g=Object.entries(d).reduce((_,[C,M])=>`${_}${C}=${M},`,"");if(YP(m)&&h!=="_self")return p4(e||"",h),new K1(null);const v=window.open(e||"",h,g);Ue(v,t,"popup-blocked");try{v.focus()}catch{}return new K1(v)}function p4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const g4="__/auth/handler",y4="emulator/auth/handler",v4=encodeURIComponent("fac");async function Y1(t,e,n,r,a,l){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bo,eventId:a};if(e instanceof y0){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",pO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))c[g]=v}if(e instanceof hh){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),m=d?`#${v4}=${encodeURIComponent(d)}`:"";return`${b4(t)}?${ch(h).slice(1)}${m}`}function b4({config:t}){return t.emulator?d0(t,y4):`https://${t.authDomain}/${g4}`}const vy="webStorageSupport";class x4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XA,this._completeRedirectFn=HV,this._overrideRedirectResult=BV}async _openPopup(e,n,r,a){js(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Y1(e,n,r,iv(),a);return m4(e,l,v0())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await Y1(e,n,r,iv(),a);return TV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(js(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await l4(e),r=new $V(e);return n.register("authEvent",a=>(Ue(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vy,{type:vy},a=>{const l=a?.[0]?.[vy];l!==void 0&&n(!!l),Zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BA()||PA()||p0()}}const _4=x4;var X1="@firebase/auth",W1="1.12.0";class w4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function T4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E4(t){Po(new Va("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Ue(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FA(t)},m=new eV(r,a,l,d);return aV(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Po(new Va("auth-internal",e=>{const n=Nm(e.getProvider("auth").getImmediate());return(r=>new w4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(X1,W1,T4(t)),Yr(X1,W1,"esm2020")}const S4=300,A4=xA("authIdTokenMaxAge")||S4;let Q1=null;const C4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>A4)return;const a=n?.token;Q1!==a&&(Q1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function R4(t=c0()){const e=Im(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sV(t,{popupRedirectResolver:_4,persistence:[kV,xV,XA]}),r=xA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=C4(l.toString());pV(n,c,()=>c(n.currentUser)),mV(n,h=>c(h))}}const a=yA("auth");return a&&oV(n,`http://${a}`),n}function I4(){return document.getElementsByTagName("head")?.[0]??document}tV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=Nr("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",I4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E4("Browser");var J1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ma,iC;(function(){var t;function e(N,A){function P(){}P.prototype=A.prototype,N.F=A.prototype,N.prototype=new P,N.prototype.constructor=N,N.D=function(D,j,B){for(var V=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)V[xe-2]=arguments[xe];return A.prototype[j].apply(D,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,A,P){P||(P=0);const D=Array(16);if(typeof A=="string")for(var j=0;j<16;++j)D[j]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(j=0;j<16;++j)D[j]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=N.g[0],P=N.g[1],j=N.g[2];let B=N.g[3],V;V=A+(B^P&(j^B))+D[0]+3614090360&4294967295,A=P+(V<<7&4294967295|V>>>25),V=B+(j^A&(P^j))+D[1]+3905402710&4294967295,B=A+(V<<12&4294967295|V>>>20),V=j+(P^B&(A^P))+D[2]+606105819&4294967295,j=B+(V<<17&4294967295|V>>>15),V=P+(A^j&(B^A))+D[3]+3250441966&4294967295,P=j+(V<<22&4294967295|V>>>10),V=A+(B^P&(j^B))+D[4]+4118548399&4294967295,A=P+(V<<7&4294967295|V>>>25),V=B+(j^A&(P^j))+D[5]+1200080426&4294967295,B=A+(V<<12&4294967295|V>>>20),V=j+(P^B&(A^P))+D[6]+2821735955&4294967295,j=B+(V<<17&4294967295|V>>>15),V=P+(A^j&(B^A))+D[7]+4249261313&4294967295,P=j+(V<<22&4294967295|V>>>10),V=A+(B^P&(j^B))+D[8]+1770035416&4294967295,A=P+(V<<7&4294967295|V>>>25),V=B+(j^A&(P^j))+D[9]+2336552879&4294967295,B=A+(V<<12&4294967295|V>>>20),V=j+(P^B&(A^P))+D[10]+4294925233&4294967295,j=B+(V<<17&4294967295|V>>>15),V=P+(A^j&(B^A))+D[11]+2304563134&4294967295,P=j+(V<<22&4294967295|V>>>10),V=A+(B^P&(j^B))+D[12]+1804603682&4294967295,A=P+(V<<7&4294967295|V>>>25),V=B+(j^A&(P^j))+D[13]+4254626195&4294967295,B=A+(V<<12&4294967295|V>>>20),V=j+(P^B&(A^P))+D[14]+2792965006&4294967295,j=B+(V<<17&4294967295|V>>>15),V=P+(A^j&(B^A))+D[15]+1236535329&4294967295,P=j+(V<<22&4294967295|V>>>10),V=A+(j^B&(P^j))+D[1]+4129170786&4294967295,A=P+(V<<5&4294967295|V>>>27),V=B+(P^j&(A^P))+D[6]+3225465664&4294967295,B=A+(V<<9&4294967295|V>>>23),V=j+(A^P&(B^A))+D[11]+643717713&4294967295,j=B+(V<<14&4294967295|V>>>18),V=P+(B^A&(j^B))+D[0]+3921069994&4294967295,P=j+(V<<20&4294967295|V>>>12),V=A+(j^B&(P^j))+D[5]+3593408605&4294967295,A=P+(V<<5&4294967295|V>>>27),V=B+(P^j&(A^P))+D[10]+38016083&4294967295,B=A+(V<<9&4294967295|V>>>23),V=j+(A^P&(B^A))+D[15]+3634488961&4294967295,j=B+(V<<14&4294967295|V>>>18),V=P+(B^A&(j^B))+D[4]+3889429448&4294967295,P=j+(V<<20&4294967295|V>>>12),V=A+(j^B&(P^j))+D[9]+568446438&4294967295,A=P+(V<<5&4294967295|V>>>27),V=B+(P^j&(A^P))+D[14]+3275163606&4294967295,B=A+(V<<9&4294967295|V>>>23),V=j+(A^P&(B^A))+D[3]+4107603335&4294967295,j=B+(V<<14&4294967295|V>>>18),V=P+(B^A&(j^B))+D[8]+1163531501&4294967295,P=j+(V<<20&4294967295|V>>>12),V=A+(j^B&(P^j))+D[13]+2850285829&4294967295,A=P+(V<<5&4294967295|V>>>27),V=B+(P^j&(A^P))+D[2]+4243563512&4294967295,B=A+(V<<9&4294967295|V>>>23),V=j+(A^P&(B^A))+D[7]+1735328473&4294967295,j=B+(V<<14&4294967295|V>>>18),V=P+(B^A&(j^B))+D[12]+2368359562&4294967295,P=j+(V<<20&4294967295|V>>>12),V=A+(P^j^B)+D[5]+4294588738&4294967295,A=P+(V<<4&4294967295|V>>>28),V=B+(A^P^j)+D[8]+2272392833&4294967295,B=A+(V<<11&4294967295|V>>>21),V=j+(B^A^P)+D[11]+1839030562&4294967295,j=B+(V<<16&4294967295|V>>>16),V=P+(j^B^A)+D[14]+4259657740&4294967295,P=j+(V<<23&4294967295|V>>>9),V=A+(P^j^B)+D[1]+2763975236&4294967295,A=P+(V<<4&4294967295|V>>>28),V=B+(A^P^j)+D[4]+1272893353&4294967295,B=A+(V<<11&4294967295|V>>>21),V=j+(B^A^P)+D[7]+4139469664&4294967295,j=B+(V<<16&4294967295|V>>>16),V=P+(j^B^A)+D[10]+3200236656&4294967295,P=j+(V<<23&4294967295|V>>>9),V=A+(P^j^B)+D[13]+681279174&4294967295,A=P+(V<<4&4294967295|V>>>28),V=B+(A^P^j)+D[0]+3936430074&4294967295,B=A+(V<<11&4294967295|V>>>21),V=j+(B^A^P)+D[3]+3572445317&4294967295,j=B+(V<<16&4294967295|V>>>16),V=P+(j^B^A)+D[6]+76029189&4294967295,P=j+(V<<23&4294967295|V>>>9),V=A+(P^j^B)+D[9]+3654602809&4294967295,A=P+(V<<4&4294967295|V>>>28),V=B+(A^P^j)+D[12]+3873151461&4294967295,B=A+(V<<11&4294967295|V>>>21),V=j+(B^A^P)+D[15]+530742520&4294967295,j=B+(V<<16&4294967295|V>>>16),V=P+(j^B^A)+D[2]+3299628645&4294967295,P=j+(V<<23&4294967295|V>>>9),V=A+(j^(P|~B))+D[0]+4096336452&4294967295,A=P+(V<<6&4294967295|V>>>26),V=B+(P^(A|~j))+D[7]+1126891415&4294967295,B=A+(V<<10&4294967295|V>>>22),V=j+(A^(B|~P))+D[14]+2878612391&4294967295,j=B+(V<<15&4294967295|V>>>17),V=P+(B^(j|~A))+D[5]+4237533241&4294967295,P=j+(V<<21&4294967295|V>>>11),V=A+(j^(P|~B))+D[12]+1700485571&4294967295,A=P+(V<<6&4294967295|V>>>26),V=B+(P^(A|~j))+D[3]+2399980690&4294967295,B=A+(V<<10&4294967295|V>>>22),V=j+(A^(B|~P))+D[10]+4293915773&4294967295,j=B+(V<<15&4294967295|V>>>17),V=P+(B^(j|~A))+D[1]+2240044497&4294967295,P=j+(V<<21&4294967295|V>>>11),V=A+(j^(P|~B))+D[8]+1873313359&4294967295,A=P+(V<<6&4294967295|V>>>26),V=B+(P^(A|~j))+D[15]+4264355552&4294967295,B=A+(V<<10&4294967295|V>>>22),V=j+(A^(B|~P))+D[6]+2734768916&4294967295,j=B+(V<<15&4294967295|V>>>17),V=P+(B^(j|~A))+D[13]+1309151649&4294967295,P=j+(V<<21&4294967295|V>>>11),V=A+(j^(P|~B))+D[4]+4149444226&4294967295,A=P+(V<<6&4294967295|V>>>26),V=B+(P^(A|~j))+D[11]+3174756917&4294967295,B=A+(V<<10&4294967295|V>>>22),V=j+(A^(B|~P))+D[2]+718787259&4294967295,j=B+(V<<15&4294967295|V>>>17),V=P+(B^(j|~A))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(j+(V<<21&4294967295|V>>>11))&4294967295,N.g[2]=N.g[2]+j&4294967295,N.g[3]=N.g[3]+B&4294967295}r.prototype.v=function(N,A){A===void 0&&(A=N.length);const P=A-this.blockSize,D=this.C;let j=this.h,B=0;for(;B<A;){if(j==0)for(;B<=P;)a(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<A;)if(D[j++]=N.charCodeAt(B++),j==this.blockSize){a(this,D),j=0;break}}else for(;B<A;)if(D[j++]=N[B++],j==this.blockSize){a(this,D),j=0;break}}this.h=j,this.o+=A},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var P=N.length-8;P<N.length;++P)N[P]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,P=0;P<4;++P)for(let D=0;D<32;D+=8)N[A++]=this.g[P]>>>D&255;return N};function l(N,A){var P=h;return Object.prototype.hasOwnProperty.call(P,N)?P[N]:P[N]=A(N)}function c(N,A){this.h=A;const P=[];let D=!0;for(let j=N.length-1;j>=0;j--){const B=N[j]|0;D&&B==A||(P[j]=B,D=!1)}this.g=P}var h={};function d(N){return-128<=N&&N<128?l(N,function(A){return new c([A|0],A<0?-1:0)}):new c([N|0],N<0?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return v;if(N<0)return I(m(-N));const A=[];let P=1;for(let D=0;N>=P;D++)A[D]=N/P|0,P*=4294967296;return new c(A,0)}function g(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return I(g(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=m(Math.pow(A,8));let D=v;for(let B=0;B<N.length;B+=8){var j=Math.min(8,N.length-B);const V=parseInt(N.substring(B,B+j),A);j<8?(j=m(Math.pow(A,j)),D=D.j(j).add(m(V))):(D=D.j(P),D=D.add(m(V)))}return D}var v=d(0),_=d(1),C=d(16777216);t=c.prototype,t.m=function(){if(O(this))return-I(this).m();let N=0,A=1;for(let P=0;P<this.g.length;P++){const D=this.i(P);N+=(D>=0?D:4294967296+D)*A,A*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(M(this))return"0";if(O(this))return"-"+I(this).toString(N);const A=m(Math.pow(N,6));var P=this;let D="";for(;;){const j=ae(P,A).g;P=z(P,j.j(A));let B=((P.g.length>0?P.g[0]:P.h)>>>0).toString(N);if(P=j,M(P))return B+D;for(;B.length<6;)B="0"+B;D=B+D}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function M(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function O(N){return N.h==-1}t.l=function(N){return N=z(this,N),O(N)?-1:M(N)?0:1};function I(N){const A=N.g.length,P=[];for(let D=0;D<A;D++)P[D]=~N.g[D];return new c(P,~N.h).add(_)}t.abs=function(){return O(this)?I(this):this},t.add=function(N){const A=Math.max(this.g.length,N.g.length),P=[];let D=0;for(let j=0;j<=A;j++){let B=D+(this.i(j)&65535)+(N.i(j)&65535),V=(B>>>16)+(this.i(j)>>>16)+(N.i(j)>>>16);D=V>>>16,B&=65535,V&=65535,P[j]=V<<16|B}return new c(P,P[P.length-1]&-2147483648?-1:0)};function z(N,A){return N.add(I(A))}t.j=function(N){if(M(this)||M(N))return v;if(O(this))return O(N)?I(this).j(I(N)):I(I(this).j(N));if(O(N))return I(this.j(I(N)));if(this.l(C)<0&&N.l(C)<0)return m(this.m()*N.m());const A=this.g.length+N.g.length,P=[];for(var D=0;D<2*A;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(let j=0;j<N.g.length;j++){const B=this.i(D)>>>16,V=this.i(D)&65535,xe=N.i(j)>>>16,ke=N.i(j)&65535;P[2*D+2*j]+=V*ke,$(P,2*D+2*j),P[2*D+2*j+1]+=B*ke,$(P,2*D+2*j+1),P[2*D+2*j+1]+=V*xe,$(P,2*D+2*j+1),P[2*D+2*j+2]+=B*xe,$(P,2*D+2*j+2)}for(N=0;N<A;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=A;N<2*A;N++)P[N]=0;return new c(P,0)};function $(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function G(N,A){this.g=N,this.h=A}function ae(N,A){if(M(A))throw Error("division by zero");if(M(N))return new G(v,v);if(O(N))return A=ae(I(N),A),new G(I(A.g),I(A.h));if(O(A))return A=ae(N,I(A)),new G(I(A.g),A.h);if(N.g.length>30){if(O(N)||O(A))throw Error("slowDivide_ only works with positive integers.");for(var P=_,D=A;D.l(N)<=0;)P=te(P),D=te(D);var j=le(P,1),B=le(D,1);for(D=le(D,2),P=le(P,2);!M(D);){var V=B.add(D);V.l(N)<=0&&(j=j.add(P),B=V),D=le(D,1),P=le(P,1)}return A=z(N,j.j(A)),new G(j,A)}for(j=v;N.l(A)>=0;){for(P=Math.max(1,Math.floor(N.m()/A.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),B=m(P),V=B.j(A);O(V)||V.l(N)>0;)P-=D,B=m(P),V=B.j(A);M(B)&&(B=_),j=j.add(B),N=z(N,V)}return new G(j,N)}t.B=function(N){return ae(this,N).h},t.and=function(N){const A=Math.max(this.g.length,N.g.length),P=[];for(let D=0;D<A;D++)P[D]=this.i(D)&N.i(D);return new c(P,this.h&N.h)},t.or=function(N){const A=Math.max(this.g.length,N.g.length),P=[];for(let D=0;D<A;D++)P[D]=this.i(D)|N.i(D);return new c(P,this.h|N.h)},t.xor=function(N){const A=Math.max(this.g.length,N.g.length),P=[];for(let D=0;D<A;D++)P[D]=this.i(D)^N.i(D);return new c(P,this.h^N.h)};function te(N){const A=N.g.length+1,P=[];for(let D=0;D<A;D++)P[D]=N.i(D)<<1|N.i(D-1)>>>31;return new c(P,N.h)}function le(N,A){const P=A>>5;A%=32;const D=N.g.length-P,j=[];for(let B=0;B<D;B++)j[B]=A>0?N.i(B+P)>>>A|N.i(B+P+1)<<32-A:N.i(B+P);return new c(j,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,iC=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,Ma=c}).apply(typeof J1<"u"?J1:typeof self<"u"?self:typeof window<"u"?window:{});var Zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rC,wu,sC,_f,av,aC,oC,lC;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zd=="object"&&Zd];for(var x=0;x<f.length;++x){var E=f[x];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function a(f,x){if(x)e:{var E=r;f=f.split(".");for(var k=0;k<f.length-1;k++){var Q=f[k];if(!(Q in E))break e;E=E[Q]}f=f[f.length-1],k=E[f],x=x(k),x!=k&&x!=null&&e(E,f,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(x){var E=[],k;for(k in x)Object.prototype.hasOwnProperty.call(x,k)&&E.push([k,x[k]]);return E}});var l=l||{},c=this||self;function h(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function d(f,x,E){return f.call.apply(f.bind,arguments)}function m(f,x,E){return m=d,m.apply(null,arguments)}function g(f,x){var E=Array.prototype.slice.call(arguments,1);return function(){var k=E.slice();return k.push.apply(k,arguments),f.apply(this,k)}}function v(f,x){function E(){}E.prototype=x.prototype,f.Z=x.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(k,Q,se){for(var ye=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ye[Ge-2]=arguments[Ge];return x.prototype[Q].apply(k,ye)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function C(f){const x=f.length;if(x>0){const E=Array(x);for(let k=0;k<x;k++)E[k]=f[k];return E}return[]}function M(f,x){for(let k=1;k<arguments.length;k++){const Q=arguments[k];var E=typeof Q;if(E=E!="object"?E:Q?Array.isArray(Q)?"array":E:"null",E=="array"||E=="object"&&typeof Q.length=="number"){E=f.length||0;const se=Q.length||0;f.length=E+se;for(let ye=0;ye<se;ye++)f[E+ye]=Q[ye]}else f.push(Q)}}class O{constructor(x,E){this.i=x,this.j=E,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function I(f){c.setTimeout(()=>{throw f},0)}function z(){var f=N;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class ${constructor(){this.h=this.g=null}add(x,E){const k=G.get();k.set(x,E),this.h?this.h.next=k:this.g=k,this.h=k}}var G=new O(()=>new ae,f=>f.reset());class ae{constructor(){this.next=this.g=this.h=null}set(x,E){this.h=x,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let te,le=!1,N=new $,A=()=>{const f=Promise.resolve(void 0);te=()=>{f.then(P)}};function P(){for(var f;f=z();){try{f.h.call(f.g)}catch(E){I(E)}var x=G;x.j(f),x.h<100&&(x.h++,f.next=x.g,x.g=f)}le=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,x),c.removeEventListener("test",E,x)}catch{}return f})();function V(f){return/^[\s\xa0]*$/.test(f)}function xe(f,x){j.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,x)}v(xe,j),xe.prototype.init=function(f,x){const E=this.type=f.type,k=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget,x||(E=="mouseover"?x=f.fromElement:E=="mouseout"&&(x=f.toElement)),this.relatedTarget=x,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ke="closure_listenable_"+(Math.random()*1e6|0),Z=0;function q(f,x,E,k,Q){this.listener=f,this.proxy=null,this.src=x,this.type=E,this.capture=!!k,this.ha=Q,this.key=++Z,this.da=this.fa=!1}function H(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function X(f,x,E){for(const k in f)x.call(E,f[k],k,f)}function L(f,x){for(const E in f)x.call(void 0,f[E],E,f)}function T(f){const x={};for(const E in f)x[E]=f[E];return x}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(f,x){let E,k;for(let Q=1;Q<arguments.length;Q++){k=arguments[Q];for(E in k)f[E]=k[E];for(let se=0;se<U.length;se++)E=U[se],Object.prototype.hasOwnProperty.call(k,E)&&(f[E]=k[E])}}function re(f){this.src=f,this.g={},this.h=0}re.prototype.add=function(f,x,E,k,Q){const se=f.toString();f=this.g[se],f||(f=this.g[se]=[],this.h++);const ye=ge(f,x,k,Q);return ye>-1?(x=f[ye],E||(x.fa=!1)):(x=new q(x,this.src,se,!!k,Q),x.fa=E,f.push(x)),x};function pe(f,x){const E=x.type;if(E in f.g){var k=f.g[E],Q=Array.prototype.indexOf.call(k,x,void 0),se;(se=Q>=0)&&Array.prototype.splice.call(k,Q,1),se&&(H(x),f.g[E].length==0&&(delete f.g[E],f.h--))}}function ge(f,x,E,k){for(let Q=0;Q<f.length;++Q){const se=f[Q];if(!se.da&&se.listener==x&&se.capture==!!E&&se.ha==k)return Q}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),ve={};function _e(f,x,E,k,Q){if(Array.isArray(x)){for(let se=0;se<x.length;se++)_e(f,x[se],E,k,Q);return null}return E=Xt(E),f&&f[ke]?f.J(x,E,h(k)?!!k.capture:!1,Q):Ee(f,x,E,!1,k,Q)}function Ee(f,x,E,k,Q,se){if(!x)throw Error("Invalid event type");const ye=h(Q)?!!Q.capture:!!Q;let Ge=mt(f);if(Ge||(f[fe]=Ge=new re(f)),E=Ge.add(x,E,k,ye,se),E.proxy)return E;if(k=Le(),E.proxy=k,k.src=f,k.listener=E,f.addEventListener)B||(Q=ye),Q===void 0&&(Q=!1),f.addEventListener(x.toString(),k,Q);else if(f.attachEvent)f.attachEvent(Ne(x.toString()),k);else if(f.addListener&&f.removeListener)f.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Le(){function f(E){return x.call(f.src,f.listener,E)}const x=vt;return f}function Ve(f,x,E,k,Q){if(Array.isArray(x))for(var se=0;se<x.length;se++)Ve(f,x[se],E,k,Q);else k=h(k)?!!k.capture:!!k,E=Xt(E),f&&f[ke]?(f=f.i,se=String(x).toString(),se in f.g&&(x=f.g[se],E=ge(x,E,k,Q),E>-1&&(H(x[E]),Array.prototype.splice.call(x,E,1),x.length==0&&(delete f.g[se],f.h--)))):f&&(f=mt(f))&&(x=f.g[x.toString()],f=-1,x&&(f=ge(x,E,k,Q)),(E=f>-1?x[f]:null)&&ct(E))}function ct(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[ke])pe(x.i,f);else{var E=f.type,k=f.proxy;x.removeEventListener?x.removeEventListener(E,k,f.capture):x.detachEvent?x.detachEvent(Ne(E),k):x.addListener&&x.removeListener&&x.removeListener(k),(E=mt(x))?(pe(E,f),E.h==0&&(E.src=null,x[fe]=null)):H(f)}}}function Ne(f){return f in ve?ve[f]:ve[f]="on"+f}function vt(f,x){if(f.da)f=!0;else{x=new xe(x,this);const E=f.listener,k=f.ha||f.src;f.fa&&ct(f),f=E.call(k,x)}return f}function mt(f){return f=f[fe],f instanceof re?f:null}var qt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xt(f){return typeof f=="function"?f:(f[qt]||(f[qt]=function(x){return f.handleEvent(x)}),f[qt])}function Je(){D.call(this),this.i=new re(this),this.M=this,this.G=null}v(Je,D),Je.prototype[ke]=!0,Je.prototype.removeEventListener=function(f,x,E,k){Ve(this,f,x,E,k)};function Oe(f,x){var E,k=f.G;if(k)for(E=[];k;k=k.G)E.push(k);if(f=f.M,k=x.type||x,typeof x=="string")x=new j(x,f);else if(x instanceof j)x.target=x.target||f;else{var Q=x;x=new j(k,f),W(x,Q)}Q=!0;let se,ye;if(E)for(ye=E.length-1;ye>=0;ye--)se=x.g=E[ye],Q=sn(se,k,!0,x)&&Q;if(se=x.g=f,Q=sn(se,k,!0,x)&&Q,Q=sn(se,k,!1,x)&&Q,E)for(ye=0;ye<E.length;ye++)se=x.g=E[ye],Q=sn(se,k,!1,x)&&Q}Je.prototype.N=function(){if(Je.Z.N.call(this),this.i){var f=this.i;for(const x in f.g){const E=f.g[x];for(let k=0;k<E.length;k++)H(E[k]);delete f.g[x],f.h--}}this.G=null},Je.prototype.J=function(f,x,E,k){return this.i.add(String(f),x,!1,E,k)},Je.prototype.K=function(f,x,E,k){return this.i.add(String(f),x,!0,E,k)};function sn(f,x,E,k){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();let Q=!0;for(let se=0;se<x.length;++se){const ye=x[se];if(ye&&!ye.da&&ye.capture==E){const Ge=ye.listener,cn=ye.ha||ye.src;ye.fa&&pe(f.i,ye),Q=Ge.call(cn,k)!==!1&&Q}}return Q&&!k.defaultPrevented}function Di(f,x){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(f,x||0)}function Gi(f){f.g=Di(()=>{f.g=null,f.i&&(f.i=!1,Gi(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class Pt extends D{constructor(x,E){super(),this.m=x,this.l=E,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Gi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ui(f){D.call(this),this.h=f,this.g={}}v(ui,D);var Sn=[];function $n(f){X(f.g,function(x,E){this.g.hasOwnProperty(E)&&ct(x)},f),f.g={}}ui.prototype.N=function(){ui.Z.N.call(this),$n(this)},ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var an=c.JSON.stringify,hi=c.JSON.parse,$i=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function fn(){}function An(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){j.call(this,"d")}v(Ht,j);function jn(){j.call(this,"c")}v(jn,j);var kt={},fr=null;function mr(){return fr=fr||new Je}kt.Ia="serverreachability";function Fs(f){j.call(this,kt.Ia,f)}v(Fs,j);function xi(f){const x=mr();Oe(x,new Fs(x))}kt.STAT_EVENT="statevent";function pr(f,x){j.call(this,kt.STAT_EVENT,f),this.stat=x}v(pr,j);function Be(f){const x=mr();Oe(x,new pr(x,f))}kt.Ja="timingevent";function ot(f,x){j.call(this,kt.Ja,f),this.size=x}v(ot,j);function pt(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},x)}function At(){this.g=!0}At.prototype.ua=function(){this.g=!1};function Cn(f,x,E,k,Q,se){f.info(function(){if(f.g)if(se){var ye="",Ge=se.split("&");for(let gt=0;gt<Ge.length;gt++){var cn=Ge[gt].split("=");if(cn.length>1){const zt=cn[0];cn=cn[1];const Wi=zt.split("_");ye=Wi.length>=2&&Wi[1]=="type"?ye+(zt+"="+cn+"&"):ye+(zt+"=redacted&")}}}else ye=null;else ye=se;return"XMLHTTP REQ ("+k+") [attempt "+Q+"]: "+x+`
`+E+`
`+ye})}function Wt(f,x,E,k,Q,se,ye){f.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Q+"]: "+x+`
`+E+`
`+se+" "+ye})}function Gt(f,x,E,k){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+Xe(f,E)+(k?" "+k:"")})}function mn(f,x){f.info(function(){return"TIMEOUT: "+x})}At.prototype.info=function(){};function Xe(f,x){if(!f.g)return x;if(!x)return null;try{const se=JSON.parse(x);if(se){for(f=0;f<se.length;f++)if(Array.isArray(se[f])){var E=se[f];if(!(E.length<2)){var k=E[1];if(Array.isArray(k)&&!(k.length<1)){var Q=k[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ye=1;ye<k.length;ye++)k[ye]=""}}}}return an(se)}catch{return x}}var Qt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pn;function Rn(){}v(Rn,fn),Rn.prototype.g=function(){return new XMLHttpRequest},pn=new Rn;function on(f){return encodeURIComponent(String(f))}function ti(f){var x=1;f=f.split(":");const E=[];for(;x>0&&f.length;)E.push(f.shift()),x--;return f.length&&E.push(f.join(":")),E}function In(f,x,E,k){this.j=f,this.i=x,this.l=E,this.S=k||1,this.V=new ui(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ln}function Ln(){this.i=null,this.g="",this.h=!1}var Jt={},ln={};function _i(f,x,E){f.M=1,f.A=Qa(gn(x)),f.u=E,f.R=!0,as(f,null)}function as(f,x){f.F=Date.now(),Ki(f),f.B=gn(f.A);var E=f.B,k=f.S;Array.isArray(k)||(k=[String(k)]),Yo(E.i,"t",k),f.C=0,E=f.j.L,f.h=new Ln,f.g=Hh(f.j,E?x:null,!f.u),f.P>0&&(f.O=new Pt(m(f.Y,f,f.g),f.P)),x=f.V,E=f.g,k=f.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Sn[0]=Q.toString()),Q=Sn);for(let se=0;se<Q.length;se++){const ye=_e(E,Q[se],k||x.handleEvent,!1,x.h||x);if(!ye)break;x.g[ye.key]=ye}x=f.J?T(f.J):{},f.u?(f.v||(f.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,x)):(f.v="GET",f.g.ea(f.B,f.v,null,x)),xi(),Cn(f.i,f.v,f.B,f.l,f.S,f.u)}In.prototype.ba=function(f){f=f.target;const x=this.O;x&&vr(f)==3?x.j():this.Y(f)},In.prototype.Y=function(f){try{if(f==this.g)e:{const Ge=vr(this.g),cn=this.g.ya(),gt=this.g.ca();if(!(Ge<3)&&(Ge!=3||this.g&&(this.h.h||this.g.la()||Yn(this.g)))){this.K||Ge!=4||cn==7||(cn==8||gt<=0?xi(3):xi(2)),Un(this);var x=this.g.ca();this.X=x;var E=xc(this);if(this.o=x==200,Wt(this.i,this.v,this.B,this.l,this.S,Ge,x),this.o){if(this.U&&!this.L){t:{if(this.g){var k,Q=this.g;if((k=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(k)){var se=k;break t}}se=null}if(f=se)Gt(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mi(this,f);else{this.o=!1,this.m=3,Be(12),ni(this),ki(this);break e}}if(this.R){f=!0;let zt;for(;!this.K&&this.C<E.length;)if(zt=Wa(this,E),zt==ln){Ge==4&&(this.m=4,Be(14),f=!1),Gt(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Jt){this.m=4,Be(15),Gt(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Gt(this.i,this.l,zt,null),Mi(this,zt);if(Go(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||E.length!=0||this.h.h||(this.m=1,Be(16),f=!1),this.o=this.o&&f,!f)Gt(this.i,this.l,E,"[Invalid Chunked Response]"),ni(this),ki(this);else if(E.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Nc(ye),ye.P=!0,Be(11))}}else Gt(this.i,this.l,E,null),Mi(this,E);Ge==4&&ni(this),this.o&&!this.K&&(Ge==4?zh(this.j,this):(this.o=!1,Ki(this)))}else ls(this.g),x==400&&E.indexOf("Unknown SID")>0?(this.m=3,Be(12)):(this.m=0,Be(13)),ni(this),ki(this)}}}catch{}};function xc(f){if(!Go(f))return f.g.la();const x=Yn(f.g);if(x==="")return"";let E="";const k=x.length,Q=vr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return ni(f),ki(f),"";f.h.i=new c.TextDecoder}for(let se=0;se<k;se++)f.h.h=!0,E+=f.h.i.decode(x[se],{stream:!(Q&&se==k-1)});return x.length=0,f.h.g+=E,f.C=0,f.h.g}function Go(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Wa(f,x){var E=f.C,k=x.indexOf(`
`,E);return k==-1?ln:(E=Number(x.substring(E,k)),isNaN(E)?Jt:(k+=1,k+E>x.length?ln:(x=x.slice(k,k+E),f.C=k+E,x)))}In.prototype.cancel=function(){this.K=!0,ni(this)};function Ki(f){f.T=Date.now()+f.H,qs(f,f.H)}function qs(f,x){if(f.D!=null)throw Error("WatchDog timer not null");f.D=pt(m(f.aa,f),x)}function Un(f){f.D&&(c.clearTimeout(f.D),f.D=null)}In.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(mn(this.i,this.B),this.M!=2&&(xi(),Be(17)),ni(this),this.m=2,ki(this)):qs(this,this.T-f)};function ki(f){f.j.I==0||f.K||zh(f.j,f)}function ni(f){Un(f);var x=f.O;x&&typeof x.dispose=="function"&&x.dispose(),f.O=null,$n(f.V),f.g&&(x=f.g,f.g=null,x.abort(),x.dispose())}function Mi(f,x){try{var E=f.j;if(E.I!=0&&(E.g==f||_t(E.h,f))){if(!f.L&&_t(E.h,f)&&E.I==3){try{var k=E.Ba.g.parse(x)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Q=k;if(Q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)Zo(E),Qs(E);else break e;ro(E),Be(18)}}else E.xa=Q[1],0<E.xa-E.K&&Q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=pt(m(E.Va,E),6e3));bt(E.h)<=1&&E.ta&&(E.ta=void 0)}else Br(E,11)}else if((f.L||E.g==f)&&Zo(E),!V(x))for(Q=E.Ba.g.parse(x),x=0;x<Q.length;x++){let gt=Q[x];const zt=gt[0];if(!(zt<=E.K))if(E.K=zt,gt=gt[1],E.I==2)if(gt[0]=="c"){E.M=gt[1],E.ba=gt[2];const Wi=gt[3];Wi!=null&&(E.ka=Wi,E.j.info("VER="+E.ka));const Fr=gt[4];Fr!=null&&(E.za=Fr,E.j.info("SVER="+E.za));const br=gt[5];br!=null&&typeof br=="number"&&br>0&&(k=1.5*br,E.O=k,E.j.info("backChannelRequestTimeoutMs_="+k)),k=E;const xr=f.g;if(xr){const so=xr.g?xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(so){var se=k.h;se.g||so.indexOf("spdy")==-1&&so.indexOf("quic")==-1&&so.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Ut(se,se.h),se.h=null))}if(k.G){const el=xr.g?xr.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(k.wa=el,wt(k.J,k.G,el))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),k=E;var ye=f;if(k.na=qh(k,k.L?k.ba:null,k.W),ye.L){en(k.h,ye);var Ge=ye,cn=k.O;cn&&(Ge.H=cn),Ge.D&&(Un(Ge),Ki(Ge)),k.g=ye}else Lh(k);E.i.length>0&&zr(E)}else gt[0]!="stop"&&gt[0]!="close"||Br(E,7);else E.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?Br(E,7):Rc(E):gt[0]!="noop"&&E.l&&E.l.qa(gt),E.A=0)}}xi(4)}catch{}}var Zt=class{constructor(f,x){this.g=f,this.map=x}};function ne(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Se(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function bt(f){return f.h?1:f.g?f.g.size:0}function _t(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function Ut(f,x){f.g?f.g.add(x):f.h=x}function en(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}ne.prototype.cancel=function(){if(this.i=Nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Nn(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const E of f.g.values())x=x.concat(E.G);return x}return C(f.i)}var di=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $o(f,x){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const k=f[E].indexOf("=");let Q,se=null;k>=0?(Q=f[E].substring(0,k),se=f[E].substring(k+1)):Q=f[E],x(Q,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function Oi(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;f instanceof Oi?(this.l=f.l,zn(this,f.j),this.o=f.o,this.g=f.g,Hs(this,f.u),this.h=f.h,_c(this,Vh(f.i)),this.m=f.m):f&&(x=String(f).match(di))?(this.l=!1,zn(this,x[1]||"",!0),this.o=Vr(x[2]||""),this.g=Vr(x[3]||"",!0),Hs(this,x[4]),this.h=Vr(x[5]||"",!0),_c(this,x[6]||"",!0),this.m=Vr(x[7]||"")):(this.l=!1,this.i=new $s(null,this.l))}Oi.prototype.toString=function(){const f=[];var x=this.j;x&&f.push(Ja(x,Ko,!0),":");var E=this.g;return(E||x=="file")&&(f.push("//"),(x=this.o)&&f.push(Ja(x,Ko,!0),"@"),f.push(on(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Ja(E,E.charAt(0)=="/"?wc:Mh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Ja(E,Oh)),f.join("")},Oi.prototype.resolve=function(f){const x=gn(this);let E=!!f.j;E?zn(x,f.j):E=!!f.o,E?x.o=f.o:E=!!f.g,E?x.g=f.g:E=f.u!=null;var k=f.h;if(E)Hs(x,f.u);else if(E=!!f.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var Q=x.h.lastIndexOf("/");Q!=-1&&(k=x.h.slice(0,Q+1)+k)}if(Q=k,Q==".."||Q==".")k="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){k=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const se=[];for(let ye=0;ye<Q.length;){const Ge=Q[ye++];Ge=="."?k&&ye==Q.length&&se.push(""):Ge==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),k&&ye==Q.length&&se.push("")):(se.push(Ge),k=!0)}k=se.join("/")}else k=Q}return E?x.h=k:E=f.i.toString()!=="",E?_c(x,Vh(f.i)):E=!!f.m,E&&(x.m=f.m),x};function gn(f){return new Oi(f)}function zn(f,x,E){f.j=E?Vr(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function Hs(f,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);f.u=x}else f.u=null}function _c(f,x,E){x instanceof $s?(f.i=x,Xo(f.i,f.l)):(E||(x=Ja(x,Gs)),f.i=new $s(x,f.l))}function wt(f,x,E){f.i.set(x,E)}function Qa(f){return wt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Vr(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ja(f,x,E){return typeof f=="string"?(f=encodeURI(f).replace(x,wi),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function wi(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ko=/[#\/\?@]/g,Mh=/[#\?:]/g,wc=/[#\?]/g,Gs=/[#\?@]/g,Oh=/#/g;function $s(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function Ti(f){f.g||(f.g=new Map,f.h=0,f.i&&$o(f.i,function(x,E){f.add(decodeURIComponent(x.replace(/\+/g," ")),E)}))}t=$s.prototype,t.add=function(f,x){Ti(this),this.i=null,f=Ks(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(x),this.h+=1,this};function Ph(f,x){Ti(f),x=Ks(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function Tc(f,x){return Ti(f),x=Ks(f,x),f.g.has(x)}t.forEach=function(f,x){Ti(this),this.g.forEach(function(E,k){E.forEach(function(Q){f.call(x,Q,k,this)},this)},this)};function Ec(f,x){Ti(f);let E=[];if(typeof x=="string")Tc(f,x)&&(E=E.concat(f.g.get(Ks(f,x))));else for(f=Array.from(f.g.values()),x=0;x<f.length;x++)E=E.concat(f[x]);return E}t.set=function(f,x){return Ti(this),this.i=null,f=Ks(this,f),Tc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},t.get=function(f,x){return f?(f=Ec(this,f),f.length>0?String(f[0]):x):x};function Yo(f,x,E){Ph(f,x),E.length>0&&(f.i=null,f.g.set(Ks(f,x),C(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(let k=0;k<x.length;k++){var E=x[k];const Q=on(E);E=Ec(this,E);for(let se=0;se<E.length;se++){let ye=Q;E[se]!==""&&(ye+="="+on(E[se])),f.push(ye)}}return this.i=f.join("&")};function Vh(f){const x=new $s;return x.i=f.i,f.g&&(x.g=new Map(f.g),x.h=f.h),x}function Ks(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function Xo(f,x){x&&!f.j&&(Ti(f),f.i=null,f.g.forEach(function(E,k){const Q=k.toLowerCase();k!=Q&&(Ph(this,k),Yo(this,Q,E))},f)),f.j=x}function gr(f,x){const E=new At;if(c.Image){const k=new Image;k.onload=g(Yi,E,"TestLoadImage: loaded",!0,x,k),k.onerror=g(Yi,E,"TestLoadImage: error",!1,x,k),k.onabort=g(Yi,E,"TestLoadImage: abort",!1,x,k),k.ontimeout=g(Yi,E,"TestLoadImage: timeout",!1,x,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=f}else x(!1)}function Sc(f,x){const E=new At,k=new AbortController,Q=setTimeout(()=>{k.abort(),Yi(E,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:k.signal}).then(se=>{clearTimeout(Q),se.ok?Yi(E,"TestPingServer: ok",!0,x):Yi(E,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Q),Yi(E,"TestPingServer: error",!1,x)})}function Yi(f,x,E,k,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),k(E)}catch{}}function Ys(){this.g=new $i}function jr(f){this.i=f.Sb||null,this.h=f.ab||!1}v(jr,fn),jr.prototype.g=function(){return new Za(this.i,this.h)};function Za(f,x){Je.call(this),this.H=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Za,Je),t=Za.prototype,t.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=x,this.readyState=1,yr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(x.body=f),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?Xs(this):yr(this),this.readyState==3&&Wo(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Xs(this))},t.Na=function(f){this.g&&(this.response=f,Xs(this))},t.ga=function(){this.g&&Xs(this)};function Xs(f){f.readyState=4,f.l=null,f.j=null,f.B=null,yr(f)}t.setRequestHeader=function(f,x){this.A.append(f,x)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var E=x.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=x.next();return f.join(`\r
`)};function yr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Za.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Xi(f){let x="";return X(f,function(E,k){x+=k,x+=":",x+=E,x+=`\r
`}),x}function eo(f,x,E){e:{for(k in E){var k=!1;break e}k=!0}k||(E=Xi(E),typeof f=="string"?E!=null&&on(E):wt(f,x,E))}function Ct(f){Je.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Ct,Je);var Lr=/^https?$/i,Ac=["POST","PUT"];t=Ct.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,x,E,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pn.g(),this.g.onreadystatechange=_(m(this.Ca,this));try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(se){to(this,se);return}if(f=E||"",E=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Q in k)E.set(Q,k[Q]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const se of k.keys())E.set(se,k.get(se));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(E.keys()).find(se=>se.toLowerCase()=="content-type"),Q=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Ac,x,void 0)>=0)||k||Q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ye]of E)this.g.setRequestHeader(se,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(se){to(this,se)}};function to(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.o=5,Cc(f),os(f)}function Cc(f){f.A||(f.A=!0,Oe(f,"complete"),Oe(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Oe(this,"complete"),Oe(this,"abort"),os(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),Ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?no(this):this.Xa())},t.Xa=function(){no(this)};function no(f){if(f.h&&typeof l<"u"){if(f.v&&vr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Oe(f,"readystatechange"),vr(f)==4){f.h=!1;try{const se=f.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var E;if(!(E=x)){var k;if(k=se===0){let ye=String(f.D).match(di)[1]||null;!ye&&c.self&&c.self.location&&(ye=c.self.location.protocol.slice(0,-1)),k=!Lr.test(ye?ye.toLowerCase():"")}E=k}if(E)Oe(f,"complete"),Oe(f,"success");else{f.o=6;try{var Q=vr(f)>2?f.g.statusText:""}catch{Q=""}f.l=Q+" ["+f.ca()+"]",Cc(f)}}finally{os(f)}}}}function os(f,x){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,x||Oe(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function vr(f){return f.g?f.g.readyState:0}t.ca=function(){try{return vr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),hi(x)}};function Yn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(f){const x={};f=(f.g&&vr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<f.length;k++){if(V(f[k]))continue;var E=ti(f[k]);const Q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const se=x[Q]||[];x[Q]=se,se.push(E)}L(x,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ur(f,x,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||x}function Ws(f){this.za=0,this.i=[],this.j=new At,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ur("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ur("baseRetryDelayMs",5e3,f),this.Za=Ur("retryDelaySeedMs",1e4,f),this.Ta=Ur("forwardChannelMaxRetries",2,f),this.va=Ur("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new ne(f&&f.concurrentRequestLimit),this.Ba=new Ys,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ws.prototype,t.ka=8,t.I=1,t.connect=function(f,x,E,k){Be(0),this.W=f,this.H=x||{},E&&k!==void 0&&(this.H.OSID=E,this.H.OAID=k),this.F=this.X,this.J=qh(this,null,this.W),zr(this)};function Rc(f){if(Qo(f),f.I==3){var x=f.V++,E=gn(f.J);if(wt(E,"SID",f.M),wt(E,"RID",x),wt(E,"TYPE","terminate"),io(f,E),x=new In(f,f.j,x),x.M=2,x.A=Qa(gn(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=x.A,E=!0),E||(x.g=Hh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Ki(x)}Fh(f)}function Qs(f){f.g&&(Nc(f),f.g.cancel(),f.g=null)}function Qo(f){Qs(f),f.v&&(c.clearTimeout(f.v),f.v=null),Zo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function zr(f){if(!Se(f.h)&&!f.m){f.m=!0;var x=f.Ea;te||A(),le||(te(),le=!0),N.add(x,f),f.D=0}}function Jo(f,x){return bt(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=x.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=pt(m(f.Ea,f,x),Bh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Q=new In(this,this.j,f);let se=this.o;if(this.U&&(se?(se=T(se),W(se,this.U)):se=this.U),this.u!==null||this.R||(Q.J=se,se=null),this.S)e:{for(var x=0,E=0;E<this.i.length;E++){t:{var k=this.i[E];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(x+=k,x>4096){x=E;break e}if(x===4096||E===this.i.length-1){x=E+1;break e}}x=1e3}else x=1e3;x=jh(this,Q,x),E=gn(this.J),wt(E,"RID",f),wt(E,"CVER",22),this.G&&wt(E,"X-HTTP-Session-Id",this.G),io(this,E),se&&(this.R?x="headers="+on(Xi(se))+"&"+x:this.u&&eo(E,this.u,se)),Ut(this.h,Q),this.Ra&&wt(E,"TYPE","init"),this.S?(wt(E,"$req",x),wt(E,"SID","null"),Q.U=!0,_i(Q,E,null)):_i(Q,E,x),this.I=2}}else this.I==3&&(f?Ic(this,f):this.i.length==0||Se(this.h)||Ic(this))};function Ic(f,x){var E;x?E=x.l:E=f.V++;const k=gn(f.J);wt(k,"SID",f.M),wt(k,"RID",E),wt(k,"AID",f.K),io(f,k),f.u&&f.o&&eo(k,f.u,f.o),E=new In(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),x&&(f.i=x.G.concat(f.i)),x=jh(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Ut(f.h,E),_i(E,k,x)}function io(f,x){f.H&&X(f.H,function(E,k){wt(x,k,E)}),f.l&&X({},function(E,k){wt(x,k,E)})}function jh(f,x,E){E=Math.min(f.i.length,E);const k=f.l?m(f.l.Ka,f.l,f):null;e:{var Q=f.i;let Ge=-1;for(;;){const cn=["count="+E];Ge==-1?E>0?(Ge=Q[0].g,cn.push("ofs="+Ge)):Ge=0:cn.push("ofs="+Ge);let gt=!0;for(let zt=0;zt<E;zt++){var se=Q[zt].g;const Wi=Q[zt].map;if(se-=Ge,se<0)Ge=Math.max(0,Q[zt].g-100),gt=!1;else try{se="req"+se+"_"||"";try{var ye=Wi instanceof Map?Wi:Object.entries(Wi);for(const[Fr,br]of ye){let xr=br;h(br)&&(xr=an(br)),cn.push(se+Fr+"="+encodeURIComponent(xr))}}catch(Fr){throw cn.push(se+"type="+encodeURIComponent("_badmap")),Fr}}catch{k&&k(Wi)}}if(gt){ye=cn.join("&");break e}}ye=void 0}return f=f.i.splice(0,E),x.G=f,ye}function Lh(f){if(!f.g&&!f.v){f.Y=1;var x=f.Da;te||A(),le||(te(),le=!0),N.add(x,f),f.A=0}}function ro(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=pt(m(f.Da,f),Bh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Uh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=pt(m(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Be(10),Qs(this),Uh(this))};function Nc(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Uh(f){f.g=new In(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var x=gn(f.na);wt(x,"RID","rpc"),wt(x,"SID",f.M),wt(x,"AID",f.K),wt(x,"CI",f.F?"0":"1"),!f.F&&f.ia&&wt(x,"TO",f.ia),wt(x,"TYPE","xmlhttp"),io(f,x),f.u&&f.o&&eo(x,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=Qa(gn(x)),E.u=null,E.R=!0,as(E,f)}t.Va=function(){this.C!=null&&(this.C=null,Qs(this),ro(this),Be(19))};function Zo(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function zh(f,x){var E=null;if(f.g==x){Zo(f),Nc(f),f.g=null;var k=2}else if(_t(f.h,x))E=x.G,en(f.h,x),k=1;else return;if(f.I!=0){if(x.o)if(k==1){E=x.u?x.u.length:0,x=Date.now()-x.F;var Q=f.D;k=mr(),Oe(k,new ot(k,E)),zr(f)}else Lh(f);else if(Q=x.m,Q==3||Q==0&&x.X>0||!(k==1&&Jo(f,x)||k==2&&ro(f)))switch(E&&E.length>0&&(x=f.h,x.i=x.i.concat(E)),Q){case 1:Br(f,5);break;case 4:Br(f,10);break;case 3:Br(f,6);break;default:Br(f,2)}}}function Bh(f,x){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*x}function Br(f,x){if(f.j.info("Error code "+x),x==2){var E=m(f.bb,f),k=f.Ua;const Q=!k;k=new Oi(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||zn(k,"https"),Qa(k),Q?gr(k.toString(),E):Sc(k.toString(),E)}else Be(2);f.I=0,f.l&&f.l.pa(x),Fh(f),Qo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Be(2)):(this.j.info("Failed to ping google.com"),Be(1))};function Fh(f){if(f.I=0,f.ja=[],f.l){const x=Nn(f.h);(x.length!=0||f.i.length!=0)&&(M(f.ja,x),M(f.ja,f.i),f.h.i.length=0,C(f.i),f.i.length=0),f.l.oa()}}function qh(f,x,E){var k=E instanceof Oi?gn(E):new Oi(E);if(k.g!="")x&&(k.g=x+"."+k.g),Hs(k,k.u);else{var Q=c.location;k=Q.protocol,x=x?x+"."+Q.hostname:Q.hostname,Q=+Q.port;const se=new Oi(null);k&&zn(se,k),x&&(se.g=x),Q&&Hs(se,Q),E&&(se.h=E),k=se}return E=f.G,x=f.wa,E&&x&&wt(k,E,x),wt(k,"VER",f.ka),io(f,k),k}function Hh(f,x,E){if(x&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Aa&&!f.ma?new Ct(new jr({ab:E})):new Ct(f.ma),x.Fa(f.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gh(){}t=Gh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Js(){}Js.prototype.g=function(f,x){return new fi(f,x)};function fi(f,x){Je.call(this),this.g=new Ws(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(f?f["X-WebChannel-Client-Profile"]=x.sa:f={"X-WebChannel-Client-Profile":x.sa}),this.g.U=f,(f=x&&x.Qb)&&!V(f)&&(this.g.u=f),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!V(x)&&(this.g.G=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new cs(this)}v(fi,Je),fi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fi.prototype.close=function(){Rc(this.g)},fi.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=an(f),f=E);x.i.push(new Zt(x.Ya++,f)),x.I==3&&zr(x)},fi.prototype.N=function(){this.g.l=null,delete this.j,Rc(this.g),delete this.g,fi.Z.N.call(this)};function $h(f){Ht.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const E in x){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}v($h,Ht);function Kh(){jn.call(this),this.status=1}v(Kh,jn);function cs(f){this.g=f}v(cs,Gh),cs.prototype.ra=function(){Oe(this.g,"a")},cs.prototype.qa=function(f){Oe(this.g,new $h(f))},cs.prototype.pa=function(f){Oe(this.g,new Kh)},cs.prototype.oa=function(){Oe(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,fi.prototype.send=fi.prototype.o,fi.prototype.open=fi.prototype.m,fi.prototype.close=fi.prototype.close,lC=function(){return new Js},oC=function(){return mr()},aC=kt,av={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qt.NO_ERROR=0,Qt.TIMEOUT=8,Qt.HTTP_ERROR=6,_f=Qt,Mt.COMPLETE="complete",sC=Mt,An.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Je.prototype.listen=Je.prototype.J,wu=An,Ct.prototype.listenOnce=Ct.prototype.K,Ct.prototype.getLastError=Ct.prototype.Ha,Ct.prototype.getLastErrorCode=Ct.prototype.ya,Ct.prototype.getStatus=Ct.prototype.ca,Ct.prototype.getResponseJson=Ct.prototype.La,Ct.prototype.getResponseText=Ct.prototype.la,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Fa,rC=Ct}).apply(typeof Zd<"u"?Zd:typeof self<"u"?self:typeof window<"u"?window:{});let ai=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");let lc="12.8.0";function N4(t){lc=t}const jo=new o0("@firebase/firestore");function kl(){return jo.logLevel}function we(t,...e){if(jo.logLevel<=tt.DEBUG){const n=e.map(x0);jo.debug(`Firestore (${lc}): ${t}`,...n)}}function Ls(t,...e){if(jo.logLevel<=tt.ERROR){const n=e.map(x0);jo.error(`Firestore (${lc}): ${t}`,...n)}}function Lo(t,...e){if(jo.logLevel<=tt.WARN){const n=e.map(x0);jo.warn(`Firestore (${lc}): ${t}`,...n)}}function x0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function je(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,cC(t,r,n)}function cC(t,e,n){let r=`FIRESTORE (${lc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ls(r),new Error(r)}function xt(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||cC(e,a,r)}function He(t,e){return t}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ds{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class uC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ai.UNAUTHENTICATED)))}shutdown(){}}class D4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class k4{constructor(e){this.t=e,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xt(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let l=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ds,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ds)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt(typeof r.accessToken=="string",31837,{l:r}),new uC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string",2055,{h:e}),new ai(e)}}class M4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ai.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class O4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new M4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ai.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Z1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xt(this.o===void 0,3512);const r=l=>{l.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,we("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Z1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Z1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function V4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Mm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=V4(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function ov(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),l=e.charAt(r);if(a!==l)return by(a)===by(l)?nt(a,l):by(a)?1:-1}return nt(t.length,e.length)}const j4=55296,L4=57343;function by(t){const e=t.charCodeAt(0);return e>=j4&&e<=L4}function Wl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}const eT="__name__";class Kr{constructor(e,n,r){n===void 0?n=0:n>e.length&&je(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&je(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=Kr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return nt(e.length,n.length)}static compareSegments(e,n){const r=Kr.isNumericId(e),a=Kr.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Kr.extractNumericId(e).compare(Kr.extractNumericId(n)):ov(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ma.fromString(e.substring(4,e.length-2))}}class Ot extends Kr{construct(e,n,r){return new Ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Ot(n)}static emptyPath(){return new Ot([])}}const U4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends Kr{construct(e,n,r){return new Hn(e,n,r)}static isValidIdentifier(e){return U4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eT}static keyField(){return new Hn([eT])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new be(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new be(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new be(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(r+=h,a++):(l(),a++)}if(l(),c)throw new be(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(n)}static emptyPath(){return new Hn([])}}class De{constructor(e){this.path=e}static fromPath(e){return new De(Ot.fromString(e))}static fromName(e){return new De(Ot.fromString(e).popFirst(5))}static empty(){return new De(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Ot(e.slice()))}}function dC(t,e,n){if(!n)throw new be(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fC(t,e,n,r){if(e===!0&&r===!0)throw new be(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tT(t){if(!De.isDocumentKey(t))throw new be(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nT(t){if(De.isDocumentKey(t))throw new be(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Om(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function vi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Om(t);throw new be(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function En(t,e){const n={typeString:t};return e&&(n.value=e),n}function fh(t,e){if(!mC(t))throw new be(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new be(de.INVALID_ARGUMENT,n);return!0}const iT=-62135596800,rT=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*rT);return new qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<iT)throw new be(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rT}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fh(e,qe._jsonSchema))return new qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:En("string",qe._jsonSchemaVersion),seconds:En("number"),nanoseconds:En("number")};class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new qe(0,0))}static max(){return new ze(new qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $u=-1;function z4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=ze.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new ja(a,De.empty(),e)}function B4(t){return new ja(t.readTime,t.key,$u)}class ja{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ja(ze.min(),De.empty(),$u)}static max(){return new ja(ze.max(),De.empty(),$u)}}function F4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}const q4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function cc(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==q4)throw t;we("LocalStore","Unexpectedly lost primary lease")}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):me.reject(n)}static resolve(e){return new me(((n,r)=>{n(e)}))}static reject(e){return new me(((n,r)=>{r(e)}))}static waitFor(e){return new me(((n,r)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(d=>r(d)))})),c=!0,l===a&&n()}))}static or(e){let n=me.resolve(!1);for(const r of e)n=n.next((a=>a?me.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(e,n){return new me(((r,a)=>{const l=e.length,c=new Array(l);let h=0;for(let d=0;d<l;d++){const m=d;n(e[m]).next((g=>{c[m]=g,++h,h===l&&r(c)}),(g=>a(g)))}}))}static doWhile(e,n){return new me(((r,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):r()};l()}))}}function G4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uc(t){return t.name==="IndexedDbTransactionError"}class Pm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pm.ce=-1;const _0=-1;function Vm(t){return t==null}function Hf(t){return t===0&&1/t==-1/0}function $4(t){return typeof t=="number"&&Number.isInteger(t)&&!Hf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const pC="";function K4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sT(e)),e=Y4(t.get(n),e);return sT(e)}function Y4(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case pC:n+="";break;default:n+=l}}return n}function sT(t){return t+pC+""}function aT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $a(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Yt{constructor(e,n){this.comparator=e,this.root=n||ei.EMPTY}insert(e,n){return new Yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ei.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ei.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ef(this.root,e,this.comparator,!0)}}class ef{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ei{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??ei.RED,this.left=a??ei.EMPTY,this.right=l??ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new ei(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ei.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return ei.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}ei.EMPTY=null,ei.RED=!0,ei.BLACK=!1;ei.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new ei(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pn{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oT(this.data.getIterator())}getIteratorFrom(e){return new oT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pn(this.comparator);return n.data=e,n}}class oT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qi{constructor(e){this.fields=e,e.sort(Hn.comparator)}static empty(){return new qi([])}unionWith(e){let n=new Pn(Hn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class yC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new yC("Invalid base64 string: "+l):l}})(e);return new Gn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gn.EMPTY_BYTE_STRING=new Gn("");const X4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function La(t){if(xt(!!t,39018),typeof t=="string"){let e=0;const n=X4.exec(t);if(xt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dn(t.seconds),nanos:dn(t.nanos)}}function dn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ua(t){return typeof t=="string"?Gn.fromBase64String(t):Gn.fromUint8Array(t)}const vC="server_timestamp",bC="__type__",xC="__previous_value__",_C="__local_write_time__";function w0(t){return(t?.mapValue?.fields||{})[bC]?.stringValue===vC}function jm(t){const e=t.mapValue.fields[xC];return w0(e)?jm(e):e}function Ku(t){const e=La(t.mapValue.fields[_C].timestampValue);return new qe(e.seconds,e.nanos)}class W4{constructor(e,n,r,a,l,c,h,d,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=g,this.apiKey=v}}const Gf="(default)";class Ql{constructor(e,n){this.projectId=e,this.database=n||Gf}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===Gf}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}function Q4(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new be(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(t.options.projectId,e)}const wC="__type__",J4="__max__",tf={mapValue:{}},TC="__vector__",$f="value";function za(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?w0(t)?4:e5(t)?9007199254740991:Z4(t)?10:11:je(28295,{value:t})}function es(t,e){if(t===e)return!0;const n=za(t);if(n!==za(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ku(t).isEqual(Ku(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=La(a.timestampValue),h=La(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Ua(a.bytesValue).isEqual(Ua(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return dn(a.geoPointValue.latitude)===dn(l.geoPointValue.latitude)&&dn(a.geoPointValue.longitude)===dn(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return dn(a.integerValue)===dn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=dn(a.doubleValue),h=dn(l.doubleValue);return c===h?Hf(c)===Hf(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return Wl(t.arrayValue.values||[],e.arrayValue.values||[],es);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(aT(c)!==aT(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!es(c[d],h[d])))return!1;return!0})(t,e);default:return je(52216,{left:t})}}function Yu(t,e){return(t.values||[]).find((n=>es(n,e)))!==void 0}function Jl(t,e){if(t===e)return 0;const n=za(t),r=za(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=dn(l.integerValue||l.doubleValue),d=dn(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return lT(t.timestampValue,e.timestampValue);case 4:return lT(Ku(t),Ku(e));case 5:return ov(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=Ua(l),d=Ua(c);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),d=c.split("/");for(let m=0;m<h.length&&m<d.length;m++){const g=nt(h[m],d[m]);if(g!==0)return g}return nt(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=nt(dn(l.latitude),dn(c.latitude));return h!==0?h:nt(dn(l.longitude),dn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return cT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},d=c.fields||{},m=h[$f]?.arrayValue,g=d[$f]?.arrayValue,v=nt(m?.values?.length||0,g?.values?.length||0);return v!==0?v:cT(m,g)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===tf.mapValue&&c===tf.mapValue)return 0;if(l===tf.mapValue)return 1;if(c===tf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),m=c.fields||{},g=Object.keys(m);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const _=ov(d[v],g[v]);if(_!==0)return _;const C=Jl(h[d[v]],m[g[v]]);if(C!==0)return C}return nt(d.length,g.length)})(t.mapValue,e.mapValue);default:throw je(23264,{he:n})}}function lT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=La(t),r=La(e),a=nt(n.seconds,r.seconds);return a!==0?a:nt(n.nanos,r.nanos)}function cT(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Jl(n[a],r[a]);if(l)return l}return nt(n.length,r.length)}function Zl(t){return lv(t)}function lv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=La(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ua(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return De.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=lv(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${lv(n.fields[c])}`;return a+"}"})(t.mapValue):je(61005,{value:t})}function wf(t){switch(za(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jm(t);return e?16+wf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ua(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+wf(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return $a(r.fields,((l,c)=>{a+=l.length+wf(c)})),a})(t.mapValue);default:throw je(13486,{value:t})}}function uT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cv(t){return!!t&&"integerValue"in t}function T0(t){return!!t&&"arrayValue"in t}function hT(t){return!!t&&"nullValue"in t}function dT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tf(t){return!!t&&"mapValue"in t}function Z4(t){return(t?.mapValue?.fields||{})[wC]?.stringValue===TC}function Iu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $a(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Iu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Iu(t.arrayValue.values[n]);return e}return{...t}}function e5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===J4}class Ni{constructor(e){this.value=e}static empty(){return new Ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Iu(n)}setAll(e){let n=Hn.emptyPath(),r={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}c?r[h.lastSegment()]=Iu(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());Tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Tf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){$a(n,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Ni(Iu(this.value))}}function EC(t){const e=[];return $a(t.fields,((n,r)=>{const a=new Hn([n]);if(Tf(r)){const l=EC(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new qi(e)}class oi{constructor(e,n,r,a,l,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new oi(e,0,ze.min(),ze.min(),ze.min(),Ni.empty(),0)}static newFoundDocument(e,n,r,a){return new oi(e,1,n,ze.min(),r,a,0)}static newNoDocument(e,n){return new oi(e,2,n,ze.min(),ze.min(),Ni.empty(),0)}static newUnknownDocument(e,n){return new oi(e,3,n,ze.min(),ze.min(),Ni.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof oi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kf{constructor(e,n){this.position=e,this.inclusive=n}}function fT(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?r=De.comparator(De.fromName(c.referenceValue),n.key):r=Jl(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function mT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!es(t.position[n],e.position[n]))return!1;return!0}class Yf{constructor(e,n="asc"){this.field=e,this.dir=n}}function t5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class SC{}class Tn extends SC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new i5(e,n,r):n==="array-contains"?new a5(e,r):n==="in"?new o5(e,r):n==="not-in"?new l5(e,r):n==="array-contains-any"?new c5(e,r):new Tn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new r5(e,r):new s5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jl(n,this.value)):n!==null&&za(this.value)===za(n)&&this.matchesComparison(Jl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends SC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new kr(e,n)}matches(e){return AC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AC(t){return t.op==="and"}function CC(t){return n5(t)&&AC(t)}function n5(t){for(const e of t.filters)if(e instanceof kr)return!1;return!0}function uv(t){if(t instanceof Tn)return t.field.canonicalString()+t.op.toString()+Zl(t.value);if(CC(t))return t.filters.map((e=>uv(e))).join(",");{const e=t.filters.map((n=>uv(n))).join(",");return`${t.op}(${e})`}}function RC(t,e){return t instanceof Tn?(function(r,a){return a instanceof Tn&&r.op===a.op&&r.field.isEqual(a.field)&&es(r.value,a.value)})(t,e):t instanceof kr?(function(r,a){return a instanceof kr&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,h)=>l&&RC(c,a.filters[h])),!0):!1})(t,e):void je(19439)}function IC(t){return t instanceof Tn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Zl(n.value)}`})(t):t instanceof kr?(function(n){return n.op.toString()+" {"+n.getFilters().map(IC).join(" ,")+"}"})(t):"Filter"}class i5 extends Tn{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class r5 extends Tn{constructor(e,n){super(e,"in",n),this.keys=NC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class s5 extends Tn{constructor(e,n){super(e,"not-in",n),this.keys=NC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function NC(t,e){return(e.arrayValue?.values||[]).map((n=>De.fromName(n.referenceValue)))}class a5 extends Tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return T0(n)&&Yu(n.arrayValue,this.value)}}class o5 extends Tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yu(this.value.arrayValue,n)}}class l5 extends Tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yu(this.value.arrayValue,n)}}class c5 extends Tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!T0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Yu(this.value.arrayValue,r)))}}class u5{constructor(e,n=null,r=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function pT(t,e=null,n=[],r=[],a=null,l=null,c=null){return new u5(t,e,n,r,a,l,c)}function E0(t){const e=He(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>uv(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Vm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Zl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Zl(r))).join(",")),e.Te=n}return e.Te}function S0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!t5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mT(t.startAt,e.startAt)&&mT(t.endAt,e.endAt)}function hv(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class mh{constructor(e,n=null,r=[],a=[],l=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function h5(t,e,n,r,a,l,c,h){return new mh(t,e,n,r,a,l,c,h)}function Lm(t){return new mh(t)}function gT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function d5(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function DC(t){return t.collectionGroup!==null}function Nu(t){const e=He(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Pn(Hn.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Yf(l,r))})),n.has(Hn.keyField().canonicalString())||e.Ie.push(new Yf(Hn.keyField(),r))}return e.Ie}function Wr(t){const e=He(t);return e.Ee||(e.Ee=f5(e,Nu(t))),e.Ee}function f5(t,e){if(t.limitType==="F")return pT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Yf(a.field,l)}));const n=t.endAt?new Kf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Kf(t.startAt.position,t.startAt.inclusive):null;return pT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dv(t,e){const n=t.filters.concat([e]);return new mh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fv(t,e,n){return new mh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Um(t,e){return S0(Wr(t),Wr(e))&&t.limitType===e.limitType}function kC(t){return`${E0(Wr(t))}|lt:${t.limitType}`}function Ml(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>IC(a))).join(", ")}]`),Vm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Zl(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Zl(a))).join(",")),`Target(${r})`})(Wr(t))}; limitType=${t.limitType})`}function zm(t,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):De.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,a){for(const l of Nu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,h,d){const m=fT(c,h,d);return c.inclusive?m<=0:m<0})(r.startAt,Nu(r),a)||r.endAt&&!(function(c,h,d){const m=fT(c,h,d);return c.inclusive?m>=0:m>0})(r.endAt,Nu(r),a))})(t,e)}function m5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MC(t){return(e,n)=>{let r=!1;for(const a of Nu(t)){const l=p5(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function p5(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):(function(l,c,h){const d=c.data.field(l),m=h.data.field(l);return d!==null&&m!==null?Jl(d,m):je(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return je(19790,{direction:t.dir})}}class Fo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){$a(this.inner,((n,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return gC(this.inner)}size(){return this.innerSize}}const g5=new Yt(De.comparator);function Us(){return g5}const OC=new Yt(De.comparator);function Tu(...t){let e=OC;for(const n of t)e=e.insert(n.key,n);return e}function PC(t){let e=OC;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Io(){return Du()}function VC(){return Du()}function Du(){return new Fo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const y5=new Yt(De.comparator),v5=new Pn(De.comparator);function it(...t){let e=v5;for(const n of t)e=e.add(n);return e}const b5=new Pn(nt);function x5(){return b5}function A0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hf(e)?"-0":e}}function jC(t){return{integerValue:""+t}}function _5(t,e){return $4(e)?jC(e):A0(t,e)}class Bm{constructor(){this._=void 0}}function w5(t,e,n){return t instanceof Xf?(function(a,l){const c={fields:{[bC]:{stringValue:vC},[_C]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&w0(l)&&(l=jm(l)),l&&(c.fields[xC]=l),{mapValue:c}})(n,e):t instanceof Xu?UC(t,e):t instanceof Wu?zC(t,e):(function(a,l){const c=LC(a,l),h=yT(c)+yT(a.Ae);return cv(c)&&cv(a.Ae)?jC(h):A0(a.serializer,h)})(t,e)}function T5(t,e,n){return t instanceof Xu?UC(t,e):t instanceof Wu?zC(t,e):n}function LC(t,e){return t instanceof Wf?(function(r){return cv(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Xf extends Bm{}class Xu extends Bm{constructor(e){super(),this.elements=e}}function UC(t,e){const n=BC(e);for(const r of t.elements)n.some((a=>es(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Wu extends Bm{constructor(e){super(),this.elements=e}}function zC(t,e){let n=BC(e);for(const r of t.elements)n=n.filter((a=>!es(a,r)));return{arrayValue:{values:n}}}class Wf extends Bm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function yT(t){return dn(t.integerValue||t.doubleValue)}function BC(t){return T0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function E5(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Xu&&a instanceof Xu||r instanceof Wu&&a instanceof Wu?Wl(r.elements,a.elements,es):r instanceof Wf&&a instanceof Wf?es(r.Ae,a.Ae):r instanceof Xf&&a instanceof Xf})(t.transform,e.transform)}class S5{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ef(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fm{}function FC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new C0(t.key,cr.none()):new ph(t.key,t.data,cr.none());{const n=t.data,r=Ni.empty();let a=new Pn(Hn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Ka(t.key,r,new qi(a.toArray()),cr.none())}}function A5(t,e,n){t instanceof ph?(function(a,l,c){const h=a.value.clone(),d=bT(a.fieldTransforms,l,c.transformResults);h.setAll(d),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Ka?(function(a,l,c){if(!Ef(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=bT(a.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(qC(a)),d.setAll(h),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function ku(t,e,n,r){return t instanceof ph?(function(l,c,h,d){if(!Ef(l.precondition,c))return h;const m=l.value.clone(),g=xT(l.fieldTransforms,d,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ka?(function(l,c,h,d){if(!Ef(l.precondition,c))return h;const m=xT(l.fieldTransforms,d,c),g=c.data;return g.setAll(qC(l)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(l,c,h){return Ef(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function C5(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=LC(r.transform,a||null);l!=null&&(n===null&&(n=Ni.empty()),n.set(r.field,l))}return n||null}function vT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Wl(r,a,((l,c)=>E5(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ph extends Fm{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ka extends Fm{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function qC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function bT(t,e,n){const r=new Map;xt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);r.set(l.field,T5(c,h,n[a]))}return r}function xT(t,e,n){const r=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);r.set(a.field,w5(l,c,e))}return r}class C0 extends Fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R5 extends Fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class I5{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&A5(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ku(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ku(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VC();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const d=FC(c,h);d!==null&&r.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(ze.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),it())}isEqual(e){return this.batchId===e.batchId&&Wl(this.mutations,e.mutations,((n,r)=>vT(n,r)))&&Wl(this.baseMutations,e.baseMutations,((n,r)=>vT(n,r)))}}class R0{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){xt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return y5})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new R0(e,n,r,a)}}class N5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class D5{constructor(e,n){this.count=e,this.unchangedNames=n}}var _n,lt;function k5(t){switch(t){case de.OK:return je(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return je(15467,{code:t})}}function HC(t){if(t===void 0)return Ls("GRPC error has no .code"),de.UNKNOWN;switch(t){case _n.OK:return de.OK;case _n.CANCELLED:return de.CANCELLED;case _n.UNKNOWN:return de.UNKNOWN;case _n.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case _n.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case _n.INTERNAL:return de.INTERNAL;case _n.UNAVAILABLE:return de.UNAVAILABLE;case _n.UNAUTHENTICATED:return de.UNAUTHENTICATED;case _n.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case _n.NOT_FOUND:return de.NOT_FOUND;case _n.ALREADY_EXISTS:return de.ALREADY_EXISTS;case _n.PERMISSION_DENIED:return de.PERMISSION_DENIED;case _n.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case _n.ABORTED:return de.ABORTED;case _n.OUT_OF_RANGE:return de.OUT_OF_RANGE;case _n.UNIMPLEMENTED:return de.UNIMPLEMENTED;case _n.DATA_LOSS:return de.DATA_LOSS;default:return je(39323,{code:t})}}(lt=_n||(_n={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";function M5(){return new TextEncoder}const O5=new Ma([4294967295,4294967295],0);function _T(t){const e=M5().encode(t),n=new iC;return n.update(e),new Uint8Array(n.digest())}function wT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ma([n,r],0),new Ma([a,l],0)]}class I0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Eu(`Invalid padding: ${n}`);if(r<0)throw new Eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Eu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ma.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Ma.fromNumber(r)));return a.compare(O5)===1&&(a=new Ma([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_T(e),[r,a]=wT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new I0(l,a,n);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=_T(e),[r,a]=wT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qm{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,gh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qm(ze.min(),a,new Yt(nt),Us(),it())}}class gh{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gh(r,n,it(),it(),it())}}class Sf{constructor(e,n,r,a){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=a}}class GC{constructor(e,n){this.targetId=e,this.Ce=n}}class $C{constructor(e,n,r=Gn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class TT{constructor(){this.ve=0,this.Fe=ET(),this.Me=Gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=it(),n=it(),r=it();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:je(38017,{changeType:l})}})),new gh(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=ET()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,xt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class P5{constructor(e){this.Ge=e,this.ze=new Map,this.je=Us(),this.He=nf(),this.Je=nf(),this.Ze=new Yt(nt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:je(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(hv(l))if(r===0){const c=new De(l.path);this.et(n,c,oi.newNoDocument(c,ze.min()))}else xt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=Ua(r).toUint8Array()}catch(d){if(d instanceof yC)return Lo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new I0(c,a,l)}catch(d){return Lo(d instanceof Eu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&hv(h.target)){const d=new De(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,oi.newNoDocument(d,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let r=it();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new qm(e,n,this.Ze,this.je,r);return this.je=Us(),this.He=nf(),this.Je=nf(),this.Ze=new Yt(nt),a}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new TT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Pn(nt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Pn(nt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new TT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nf(){return new Yt(De.comparator)}function ET(){return new Yt(De.comparator)}const V5={asc:"ASCENDING",desc:"DESCENDING"},j5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L5={and:"AND",or:"OR"};class U5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mv(t,e){return t.useProto3Json||Vm(e)?e:{value:e}}function Qf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function z5(t,e){return Qf(t,e.toTimestamp())}function Qr(t){return xt(!!t,49232),ze.fromTimestamp((function(n){const r=La(n);return new qe(r.seconds,r.nanos)})(t))}function N0(t,e){return pv(t,e).canonicalString()}function pv(t,e){const n=(function(a){return new Ot(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function YC(t){const e=Ot.fromString(t);return xt(ZC(e),10190,{key:e.toString()}),e}function gv(t,e){return N0(t.databaseId,e.path)}function xy(t,e){const n=YC(e);if(n.get(1)!==t.databaseId.projectId)throw new be(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(WC(n))}function XC(t,e){return N0(t.databaseId,e)}function B5(t){const e=YC(t);return e.length===4?Ot.emptyPath():WC(e)}function yv(t){return new Ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WC(t){return xt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ST(t,e,n){return{name:gv(t,e),fields:n.value.mapValue.fields}}function F5(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:je(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,g){return m.useProto3Json?(xt(g===void 0||typeof g=="string",58123),Gn.fromBase64String(g||"")):(xt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Gn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const g=m.code===void 0?de.UNKNOWN:HC(m.code);return new be(g,m.message||"")})(c);n=new $C(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=xy(t,r.document.name),l=Qr(r.document.updateTime),c=r.document.createTime?Qr(r.document.createTime):ze.min(),h=new Ni({mapValue:{fields:r.document.fields}}),d=oi.newFoundDocument(a,l,c,h),m=r.targetIds||[],g=r.removedTargetIds||[];n=new Sf(m,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=xy(t,r.document),l=r.readTime?Qr(r.readTime):ze.min(),c=oi.newNoDocument(a,l),h=r.removedTargetIds||[];n=new Sf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=xy(t,r.document),l=r.removedTargetIds||[];n=new Sf([],l,a,null)}else{if(!("filter"in e))return je(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new D5(a,l),h=r.targetId;n=new GC(h,c)}}return n}function q5(t,e){let n;if(e instanceof ph)n={update:ST(t,e.key,e.value)};else if(e instanceof C0)n={delete:gv(t,e.key)};else if(e instanceof Ka)n={update:ST(t,e.key,e.data),updateMask:J5(e.fieldMask)};else{if(!(e instanceof R5))return je(16599,{dt:e.type});n={verify:gv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const h=c.transform;if(h instanceof Xf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Wf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw je(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:z5(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:je(27497)})(t,e.precondition)),n}function H5(t,e){return t&&t.length>0?(xt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?Qr(a.updateTime):Qr(l);return c.isEqual(ze.min())&&(c=Qr(l)),new S5(c,a.transformResults||[])})(n,e)))):[]}function G5(t,e){return{documents:[XC(t,e.path)]}}function $5(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XC(t,a);const l=(function(m){if(m.length!==0)return JC(kr.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((g=>(function(_){return{field:Ol(_.field),direction:X5(_.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=mv(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function K5(t){let e=B5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){xt(r===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(v){const _=QC(v);return _ instanceof kr&&CC(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((_=>(function(M){return new Yf(Pl(M.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(_)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let _;return _=typeof v=="object"?v.value:v,Vm(_)?null:_})(n.limit));let d=null;n.startAt&&(d=(function(v){const _=!!v.before,C=v.values||[];return new Kf(C,_)})(n.startAt));let m=null;return n.endAt&&(m=(function(v){const _=!v.before,C=v.values||[];return new Kf(C,_)})(n.endAt)),h5(e,a,c,l,h,"F",d,m)}function Y5(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pl(n.unaryFilter.field);return Tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Pl(n.unaryFilter.field);return Tn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Pl(n.unaryFilter.field);return Tn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Pl(n.unaryFilter.field);return Tn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Tn.create(Pl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return kr.create(n.compositeFilter.filters.map((r=>QC(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return je(1026)}})(n.compositeFilter.op))})(t):je(30097,{filter:t})}function X5(t){return V5[t]}function W5(t){return j5[t]}function Q5(t){return L5[t]}function Ol(t){return{fieldPath:t.canonicalString()}}function Pl(t){return Hn.fromServerFormat(t.fieldPath)}function JC(t){return t instanceof Tn?(function(n){if(n.op==="=="){if(dT(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NAN"}};if(hT(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dT(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NOT_NAN"}};if(hT(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ol(n.field),op:W5(n.op),value:n.value}}})(t):t instanceof kr?(function(n){const r=n.getFilters().map((a=>JC(a)));return r.length===1?r[0]:{compositeFilter:{op:Q5(n.op),filters:r}}})(t):je(54877,{filter:t})}function J5(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ZC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function eR(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Ia{constructor(e,n,r,a,l=ze.min(),c=ze.min(),h=Gn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Z5{constructor(e){this.yt=e}}function ej(t){const e=K5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fv(e,e.limit,"L"):e}class tj{constructor(){this.Sn=new nj}addToCollectionParentIndex(e,n){return this.Sn.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(ja.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(ja.min())}updateCollectionGroup(e,n,r){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class nj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Pn(Ot.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Pn(Ot.comparator)).toArray()}}const AT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tR=41943040;class Ii{static withCacheSize(e){return new Ii(e,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Ii.DEFAULT_COLLECTION_PERCENTILE=10,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ii.DEFAULT=new Ii(tR,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ii.DISABLED=new Ii(-1,0,0);class ec{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ec(0)}static ar(){return new ec(-1)}}const CT="LruGarbageCollector",ij=1048576;function RT([t,e],[n,r]){const a=nt(t,n);return a===0?nt(e,r):a}class rj{constructor(e){this.Pr=e,this.buffer=new Pn(RT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();RT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){we(CT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uc(n)?we(CT,"Ignoring IndexedDB error during garbage collection: ",n):await cc(n)}await this.Ar(3e5)}))}}class aj{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return me.resolve(Pm.ce);const r=new rj(n);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(AT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,a,l,c,h,d,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(r=v,h=Date.now(),this.removeTargets(e,r,n)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(m=Date.now(),kl()<=tt.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(m-d)+`ms
Total Duration: ${m-g}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function oj(t,e){return new aj(t,e)}class lj{constructor(){this.changes=new Fo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,oi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?me.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class uj{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&ku(r.mutation,a,qi.empty(),qe.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,it()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=it()){const a=Io();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((l=>{let c=Tu();return l.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Io();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,it())))}populateOverlays(e,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,r,a){let l=Us();const c=Du(),h=(function(){return Du()})();return n.forEach(((d,m)=>{const g=r.get(m.key);a.has(m.key)&&(g===void 0||g.mutation instanceof Ka)?l=l.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),ku(g.mutation,m,g.mutation.getFieldMask(),qe.now())):c.set(m.key,qi.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((m,g)=>c.set(m,g))),n.forEach(((m,g)=>h.set(m,new cj(g,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Du();let a=new Yt(((c,h)=>c-h)),l=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let g=r.get(d)||qi.empty();g=h.applyToLocalView(m,g),r.set(d,g);const v=(a.get(h.batchId)||it()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,g=d.value,v=VC();g.forEach((_=>{if(!l.has(_)){const C=FC(n.get(_),r.get(_));C!==null&&v.set(_,C),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,v))}return me.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return d5(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):me.resolve(Io());let h=$u,d=l;return c.next((m=>me.forEach(m,((g,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(g)?me.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{d=d.insert(g,_)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,d,m,it()))).next((g=>({batchId:h,changes:PC(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next((r=>{let a=Tu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let c=Tu();return this.indexManager.getCollectionParents(e,l).next((h=>me.forEach(h,(d=>{const m=(function(v,_){return new mh(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next((g=>{g.forEach(((v,_)=>{c=c.insert(v,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a)))).next((c=>{l.forEach(((d,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,oi.newInvalidDocument(g)))}));let h=Tu();return c.forEach(((d,m)=>{const g=l.get(d);g!==void 0&&ku(g.mutation,m,qi.empty(),qe.now()),zm(n,m)&&(h=h.insert(d,m))})),h}))}}class hj{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return me.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Qr(a.createTime)}})(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:ej(a.bundledQuery),readTime:Qr(a.readTime)}})(n)),me.resolve()}}class dj{constructor(){this.overlays=new Yt(De.comparator),this.Lr=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Io();return me.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,l)=>{this.bt(e,n,l)})),me.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),me.resolve()}getOverlaysForCollection(e,n,r){const a=Io(),l=n.length+1,c=new De(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>r&&a.set(d.getKey(),d)}return me.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new Yt(((m,g)=>m-g));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let g=l.get(m.largestBatchId);g===null&&(g=Io(),l=l.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const h=Io(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,g)=>h.set(m,g))),!(h.size()>=a)););return me.resolve(h)}bt(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new N5(n,r));let l=this.Lr.get(n);l===void 0&&(l=it(),this.Lr.set(n,l)),this.Lr.set(n,l.add(r.key))}}class fj{constructor(){this.sessionToken=Gn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}class D0{constructor(){this.kr=new Pn(Fn.Kr),this.qr=new Pn(Fn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Fn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Fn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new De(new Ot([])),r=new Fn(n,e),a=new Fn(n,e+1),l=[];return this.qr.forEachInRange([r,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new De(new Ot([])),r=new Fn(n,e),a=new Fn(n,e+1);let l=it();return this.qr.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Fn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return De.comparator(e.key,n.key)||nt(e.Hr,n.Hr)}static Ur(e,n){return nt(e.Hr,n.Hr)||De.comparator(e.key,n.key)}}class mj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Pn(Fn.Kr)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new I5(l,n,r,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new Fn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return me.resolve(c)}lookupMutationBatch(e,n){return me.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.Xr(r),l=a<0?0:a;return me.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?_0:this.Yn-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fn(n,0),a=new Fn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pn(nt);return n.forEach((a=>{const l=new Fn(a,0),c=new Fn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{r=r.add(h.Hr)}))})),me.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;De.isDocumentKey(l)||(l=l.child(""));const c=new Fn(new De(l),0);let h=new Pn(nt);return this.Jr.forEachWhile((d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Hr)),!0)}),c),me.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){xt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return me.forEach(n.mutations,(a=>{const l=new Fn(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Fn(n,0),a=this.Jr.firstAfterOrEqual(r);return me.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class pj{constructor(e){this.ti=e,this.docs=(function(){return new Yt(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return me.resolve(r?r.document.mutableCopy():oi.newInvalidDocument(n))}getEntries(e,n){let r=Us();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():oi.newInvalidDocument(a))})),me.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=Us();const c=n.path,h=new De(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:g}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||F4(B4(g),r)<=0||(a.has(g.key)||zm(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return me.resolve(l)}getAllFromCollectionGroup(e,n,r,a){je(9500)}ni(e,n){return me.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new gj(this)}getSize(e){return me.resolve(this.size)}}class gj extends lj{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),me.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class yj{constructor(e){this.persistence=e,this.ri=new Fo((n=>E0(n)),S0),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.ii=0,this.si=new D0,this.targetCount=0,this.oi=ec._r()}forEachTarget(e,n){return this.ri.forEach(((r,a)=>n(a))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),me.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ec(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.lr(n),me.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),me.waitFor(l).next((()=>a))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return me.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),me.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),me.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),me.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return me.resolve(r)}containsKey(e,n){return me.resolve(this.si.containsKey(n))}}class nR{constructor(e,n){this._i={},this.overlays={},this.ai=new Pm(0),this.ui=!1,this.ui=!0,this.ci=new fj,this.referenceDelegate=e(this),this.li=new yj(this),this.indexManager=new tj,this.remoteDocumentCache=(function(a){return new pj(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new Z5(n),this.Pi=new hj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new mj(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const a=new vj(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return me.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class vj extends H4{constructor(e){super(),this.currentSequenceNumber=e}}class k0{constructor(e){this.persistence=e,this.Ri=new D0,this.Ai=null}static Vi(e){return new k0(e)}get di(){if(this.Ai)return this.Ai;throw je(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),me.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),me.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.di,(r=>{const a=De.fromPath(r);return this.mi(e,a).next((l=>{l||n.removeEntry(a,ze.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return me.or([()=>me.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Jf{constructor(e,n){this.persistence=e,this.fi=new Fo((r=>K4(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=oj(this,n)}static Vi(e,n){return new Jf(e,n)}Ti(){}Ii(e){return me.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return me.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((l=>l?me.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((h=>{h||(r++,l.removeEntry(c,ze.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),me.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),me.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),me.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wf(e.data.value)),n}wr(e,n,r){return me.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return me.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class M0{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=a}static Es(e,n){let r=it(),a=it();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new M0(e,n.fromCache,r,a)}}class bj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return cO()?8:G4(ci())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new bj;return this.ys(e,n,c).next((h=>{if(l.result=h,this.As)return this.ws(e,n,c,h.size)}))})).next((()=>l.result))}ws(e,n,r,a){return r.documentReadCount<this.Vs?(kl()<=tt.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Ml(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),me.resolve()):(kl()<=tt.DEBUG&&we("QueryEngine","Query:",Ml(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(kl()<=tt.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Ml(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(n))):me.resolve())}gs(e,n){if(gT(n))return me.resolve(null);let r=Wr(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=fv(n,null,"F"),r=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=it(...l);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const m=this.bs(n,h);return this.Ss(n,m,c,d.readTime)?this.gs(e,fv(n,null,"F")):this.Ds(e,m,n,d)}))))})))))}ps(e,n,r,a){return gT(n)||a.isEqual(ze.min())?me.resolve(null):this.fs.getDocuments(e,r).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,r,a)?me.resolve(null):(kl()<=tt.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ml(n)),this.Ds(e,c,n,z4(a,$u)).next((h=>h)))}))}bs(e,n){let r=new Pn(MC(e));return n.forEach(((a,l)=>{zm(e,l)&&(r=r.add(l))})),r}Ss(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,r){return kl()<=tt.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Ml(n)),this.fs.getDocumentsMatchingQuery(e,n,ja.min(),r)}Ds(e,n,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const O0="LocalStore",_j=3e8;class wj{constructor(e,n,r,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Yt(nt),this.Fs=new Fo((l=>E0(l)),S0),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uj(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Tj(t,e,n,r){return new wj(t,e,n,r)}async function iR(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],h=[];let d=it();for(const m of a){c.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}for(const m of l){h.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function Ej(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,g){const v=m.batch,_=v.keys();let C=me.resolve();return _.forEach((M=>{C=C.next((()=>g.getEntry(d,M))).next((O=>{const I=m.docVersions.get(M);xt(I!==null,48541),O.version.compareTo(I)<0&&(v.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),g.addEntry(O)))}))})),C.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=it();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function rR(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function Sj(t,e){const n=He(t),r=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((g,v)=>{const _=a.get(v);if(!_)return;h.push(n.li.removeMatchingKeys(l,g.removedDocuments,v).next((()=>n.li.addMatchingKeys(l,g.addedDocuments,v))));let C=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?C=C.withResumeToken(Gn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):g.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(g.resumeToken,r)),a=a.insert(v,C),(function(O,I,z){return O.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=_j?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(_,C,g)&&h.push(n.li.updateTargetData(l,C))}));let d=Us(),m=it();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),h.push(Aj(l,c,e.documentUpdates).next((g=>{d=g.Bs,m=g.Ls}))),!r.isEqual(ze.min())){const g=n.li.getLastRemoteSnapshotVersion(l).next((v=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(g)}return me.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,m))).next((()=>d))})).then((l=>(n.vs=a,l)))}function Aj(t,e,n){let r=it(),a=it();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let c=Us();return n.forEach(((h,d)=>{const m=l.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(ze.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):we(O0,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{Bs:c,Ls:a}}))}function Cj(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=_0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Rj(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.li.getTargetData(r,e).next((l=>l?(a=l,me.resolve(a)):n.li.allocateTargetId(r).next((c=>(a=new Ia(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function vv(t,e,n){const r=He(t),a=r.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!uc(c))throw c;we(O0,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function IT(t,e,n){const r=He(t);let a=ze.min(),l=it();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,m,g){const v=He(d),_=v.Fs.get(g);return _!==void 0?me.resolve(v.vs.get(_)):v.li.getTargetData(m,g)})(r,c,Wr(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,h.targetId).next((d=>{l=d}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,n?a:ze.min(),n?l:it()))).next((h=>(Ij(r,m5(e),h),{documents:h,ks:l})))))}function Ij(t,e,n){let r=t.Ms.get(e)||ze.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.Ms.set(e,r)}class NT{constructor(){this.activeTargetIds=x5()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nj{constructor(){this.vo=new NT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new NT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Dj{Mo(e){}shutdown(){}}const DT="ConnectivityMonitor";class kT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){we(DT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){we(DT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rf=null;function bv(){return rf===null?rf=(function(){return 268435456+Math.round(2147483648*Math.random())})():rf++,"0x"+rf.toString(16)}const _y="RestConnection",kj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Mj{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===Gf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,n,r,a,l){const c=bv(),h=this.Qo(e,n.toUriEncodedString());we(_y,`Sending RPC '${e}' ${c}:`,h,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,l);const{host:m}=new URL(h),g=zo(m);return this.zo(e,h,d,r,g).then((v=>(we(_y,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw Lo(_y,`RPC '${e}' ${c} failed with error: `,v,"url: ",h,"request:",r),v}))}jo(e,n,r,a,l,c){return this.Wo(e,n,r,a,l)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const r=kj[e];let a=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class Oj{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const ri="WebChannelConnection",gu=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Gl extends Mj{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Gl.c_){const e=oC();gu(e,aC.STAT_EVENT,(n=>{n.stat===av.PROXY?we(ri,"STAT_EVENT: detected buffering proxy"):n.stat===av.NOPROXY&&we(ri,"STAT_EVENT: detected no buffering proxy")})),Gl.c_=!0}}zo(e,n,r,a,l){const c=bv();return new Promise(((h,d)=>{const m=new rC;m.setWithCredentials(!0),m.listenOnce(sC.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case _f.NO_ERROR:const v=m.getResponseJson();we(ri,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),h(v);break;case _f.TIMEOUT:we(ri,`RPC '${e}' ${c} timed out`),d(new be(de.DEADLINE_EXCEEDED,"Request time out"));break;case _f.HTTP_ERROR:const _=m.getStatus();if(we(ri,`RPC '${e}' ${c} failed with status:`,_,"response text:",m.getResponseText()),_>0){let C=m.getResponseJson();Array.isArray(C)&&(C=C[0]);const M=C?.error;if(M&&M.status&&M.message){const O=(function(z){const $=z.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf($)>=0?$:de.UNKNOWN})(M.status);d(new be(O,M.message))}else d(new be(de.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new be(de.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{we(ri,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);we(ri,`RPC '${e}' ${c} sending request:`,a),m.send(n,"POST",g,r,15)}))}T_(e,n,r){const a=bv(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=l.join("");we(ri,`Creating RPC '${e}' stream ${a}: ${m}`,h);const g=c.createWebChannel(m,h);this.I_(g);let v=!1,_=!1;const C=new Oj({Ho:M=>{_?we(ri,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(v||(we(ri,`Opening RPC '${e}' stream ${a} transport.`),g.open(),v=!0),we(ri,`RPC '${e}' stream ${a} sending:`,M),g.send(M))},Jo:()=>g.close()});return gu(g,wu.EventType.OPEN,(()=>{_||(we(ri,`RPC '${e}' stream ${a} transport opened.`),C.i_())})),gu(g,wu.EventType.CLOSE,(()=>{_||(_=!0,we(ri,`RPC '${e}' stream ${a} transport closed`),C.o_(),this.E_(g))})),gu(g,wu.EventType.ERROR,(M=>{_||(_=!0,Lo(ri,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),C.o_(new be(de.UNAVAILABLE,"The operation could not be completed")))})),gu(g,wu.EventType.MESSAGE,(M=>{if(!_){const O=M.data[0];xt(!!O,16349);const I=O,z=I?.error||I[0]?.error;if(z){we(ri,`RPC '${e}' stream ${a} received error:`,z);const $=z.status;let G=(function(le){const N=_n[le];if(N!==void 0)return HC(N)})($),ae=z.message;G===void 0&&(G=de.INTERNAL,ae="Unknown error status: "+$+" with message "+z.message),_=!0,C.o_(new be(G,ae)),g.close()}else we(ri,`RPC '${e}' stream ${a} received:`,O),C.__(O)}})),Gl.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return lC()}}function Pj(t){return new Gl(t)}function wy(){return typeof document<"u"?document:null}function Hm(t){return new U5(t,!0)}Gl.c_=!1;class sR{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&we("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const MT="PersistentStream";class aR{constructor(e,n,r,a,l,c,h,d){this.Ci=e,this.b_=r,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Ls(n.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new be(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(MT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(we(MT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Vj extends aR{constructor(e,n,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=F5(this.serializer,e),r=(function(l){if(!("targetChange"in l))return ze.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?Qr(c.readTime):ze.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=yv(this.serializer),n.addTarget=(function(l,c){let h;const d=c.target;if(h=hv(d)?{documents:G5(l,d)}:{query:$5(l,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=KC(l,c.resumeToken);const m=mv(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(ze.min())>0){h.readTime=Qf(l,c.snapshotVersion.toTimestamp());const m=mv(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const r=Y5(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=yv(this.serializer),n.removeTarget=e,this.K_(n)}}class jj extends aR{constructor(e,n,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=H5(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=yv(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>q5(this.serializer,r)))};this.K_(n)}}class Lj{}class Uj extends Lj{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new be(de.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,pv(n,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(de.UNKNOWN,l.toString())}))}jo(e,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,pv(n,r),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new be(de.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function zj(t,e,n,r){return new Uj(t,e,n,r)}class Bj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ls(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Uo="RemoteStore";class Fj{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{qo(this)&&(we(Uo,"Restarting streams for network reachability change."),await(async function(d){const m=He(d);m.Ea.add(4),await yh(m),m.Va.set("Unknown"),m.Ea.delete(4),await Gm(m)})(this))}))})),this.Va=new Bj(r,a)}}async function Gm(t){if(qo(t))for(const e of t.Ra)await e(!0)}async function yh(t){for(const e of t.Ra)await e(!1)}function oR(t,e){const n=He(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),L0(n)?j0(n):hc(n).O_()&&V0(n,e))}function P0(t,e){const n=He(t),r=hc(n);n.Ia.delete(e),r.O_()&&lR(n,e),n.Ia.size===0&&(r.O_()?r.L_():qo(n)&&n.Va.set("Unknown"))}function V0(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hc(t).Z_(e)}function lR(t,e){t.da.$e(e),hc(t).X_(e)}function j0(t){t.da=new P5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),hc(t).start(),t.Va.ua()}function L0(t){return qo(t)&&!hc(t).x_()&&t.Ia.size>0}function qo(t){return He(t).Ea.size===0}function cR(t){t.da=void 0}async function qj(t){t.Va.set("Online")}async function Hj(t){t.Ia.forEach(((e,n)=>{V0(t,e)}))}async function Gj(t,e){cR(t),L0(t)?(t.Va.ha(e),j0(t)):t.Va.set("Unknown")}async function $j(t,e,n){if(t.Va.set("Online"),e instanceof $C&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(r){we(Uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zf(t,r)}else if(e instanceof Sf?t.da.Xe(e):e instanceof GC?t.da.st(e):t.da.tt(e),!n.isEqual(ze.min()))try{const r=await rR(t.localStore);n.compareTo(r)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const g=l.Ia.get(m);g&&l.Ia.set(m,g.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,m)=>{const g=l.Ia.get(d);if(!g)return;l.Ia.set(d,g.withResumeToken(Gn.EMPTY_BYTE_STRING,g.snapshotVersion)),lR(l,d);const v=new Ia(g.target,d,m,g.sequenceNumber);V0(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){we(Uo,"Failed to raise snapshot:",r),await Zf(t,r)}}async function Zf(t,e,n){if(!uc(e))throw e;t.Ea.add(1),await yh(t),t.Va.set("Offline"),n||(n=()=>rR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(Uo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Gm(t)}))}function uR(t,e){return e().catch((n=>Zf(t,n,e)))}async function $m(t){const e=He(t),n=Ba(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_0;for(;Kj(e);)try{const a=await Cj(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,Yj(e,a)}catch(a){await Zf(e,a)}hR(e)&&dR(e)}function Kj(t){return qo(t)&&t.Ta.length<10}function Yj(t,e){t.Ta.push(e);const n=Ba(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function hR(t){return qo(t)&&!Ba(t).x_()&&t.Ta.length>0}function dR(t){Ba(t).start()}async function Xj(t){Ba(t).ra()}async function Wj(t){const e=Ba(t);for(const n of t.Ta)e.ea(n.mutations)}async function Qj(t,e,n){const r=t.Ta.shift(),a=R0.from(r,e,n);await uR(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await $m(t)}async function Jj(t,e){e&&Ba(t).Y_&&await(async function(r,a){if((function(c){return k5(c)&&c!==de.ABORTED})(a.code)){const l=r.Ta.shift();Ba(r).B_(),await uR(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await $m(r)}})(t,e),hR(t)&&dR(t)}async function OT(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),we(Uo,"RemoteStore received new credentials");const r=qo(n);n.Ea.add(3),await yh(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gm(n)}async function Zj(t,e){const n=He(t);e?(n.Ea.delete(2),await Gm(n)):e||(n.Ea.add(2),await yh(n),n.Va.set("Unknown"))}function hc(t){return t.ma||(t.ma=(function(n,r,a){const l=He(n);return l.sa(),new Vj(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:qj.bind(null,t),Yo:Hj.bind(null,t),t_:Gj.bind(null,t),J_:$j.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),L0(t)?j0(t):t.Va.set("Unknown")):(await t.ma.stop(),cR(t))}))),t.ma}function Ba(t){return t.fa||(t.fa=(function(n,r,a){const l=He(n);return l.sa(),new jj(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Xj.bind(null,t),t_:Jj.bind(null,t),ta:Wj.bind(null,t),na:Qj.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await $m(t)):(await t.fa.stop(),t.Ta.length>0&&(we(Uo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class U0{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const c=Date.now()+r,h=new U0(e,n,c,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function z0(t,e){if(Ls("AsyncQueue",`${e}: ${t}`),uc(t))return new be(de.UNAVAILABLE,`${e}: ${t}`);throw t}class $l{static emptySet(e){return new $l(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=Tu(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $l)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $l;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class PT{constructor(){this.ga=new Yt(De.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):je(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class tc{constructor(e,n,r,a,l,c,h,d,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new tc(e,n,$l.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class e3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class t3{constructor(){this.queries=VT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=He(n),l=a.queries;a.queries=VT(),l.forEach(((c,h)=>{for(const d of h.ba)d.onError(r)}))})(this,new be(de.ABORTED,"Firestore shutting down"))}}function VT(){return new Fo((t=>kC(t)),Um)}async function B0(t,e){const n=He(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(r=2):(l=new e3,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=z0(c,`Initialization of query '${Ml(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&q0(n)}async function F0(t,e){const n=He(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function n3(t,e){const n=He(t);let r=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(r=!0);c.wa=a}}r&&q0(n)}function i3(t,e,n){const r=He(t),a=r.queries.get(e);if(a)for(const l of a.ba)l.onError(n);r.queries.delete(e)}function q0(t){t.Ca.forEach((e=>{e.next()}))}var xv,jT;(jT=xv||(xv={})).Ma="default",jT.Cache="cache";class H0{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new tc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xv.Cache}}class fR{constructor(e){this.key=e}}class mR{constructor(e){this.key=e}}class r3{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=it(),this.mutatedKeys=it(),this.eu=MC(e),this.tu=new $l(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new PT,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,v)=>{const _=a.get(g),C=zm(this.query,v)?v:null,M=!!_&&this.mutatedKeys.has(_.key),O=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let I=!1;_&&C?_.data.isEqual(C.data)?M!==O&&(r.track({type:3,doc:C}),I=!0):this.su(_,C)||(r.track({type:2,doc:C}),I=!0,(d&&this.eu(C,d)>0||m&&this.eu(C,m)<0)&&(h=!0)):!_&&C?(r.track({type:0,doc:C}),I=!0):_&&!C&&(r.track({type:1,doc:_}),I=!0,(d||m)&&(h=!0)),I&&(C?(c=c.add(C),l=O?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{tu:c,iu:r,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,v)=>(function(C,M){const O=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Vt:I})}};return O(C)-O(M)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Xa;return this.Xa=d,c.length!==0||m?{snapshot:new tc(this.query,e.tu,l,c,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new PT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=it(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new mR(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new fR(r))})),n}cu(e){this.Za=e.ks,this.Ya=it();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return tc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const G0="SyncEngine";class s3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class a3{constructor(e){this.key=e,this.hu=!1}}class o3{constructor(e,n,r,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Fo((h=>kC(h)),Um),this.Iu=new Map,this.Eu=new Set,this.Ru=new Yt(De.comparator),this.Au=new Map,this.Vu=new D0,this.du={},this.mu=new Map,this.fu=ec.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function l3(t,e,n=!0){const r=xR(t);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await pR(r,e,n,!0),a}async function c3(t,e){const n=xR(t);await pR(n,e,!0,!1)}async function pR(t,e,n,r){const a=await Rj(t.localStore,Wr(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return r&&(h=await u3(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&oR(t.remoteStore,a),h}async function u3(t,e,n,r,a){t.pu=(v,_,C)=>(async function(O,I,z,$){let G=I.view.ru(z);G.Ss&&(G=await IT(O.localStore,I.query,!1).then((({documents:N})=>I.view.ru(N,G))));const ae=$&&$.targetChanges.get(I.targetId),te=$&&$.targetMismatches.get(I.targetId)!=null,le=I.view.applyChanges(G,O.isPrimaryClient,ae,te);return UT(O,I.targetId,le.au),le.snapshot})(t,v,_,C);const l=await IT(t.localStore,e,!0),c=new r3(e,l.ks),h=c.ru(l.documents),d=gh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),m=c.applyChanges(h,t.isPrimaryClient,d);UT(t,n,m.au);const g=new s3(e,n,c);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function h3(t,e,n){const r=He(t),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!Um(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await vv(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&P0(r.remoteStore,a.targetId),_v(r,a.targetId)})).catch(cc)):(_v(r,a.targetId),await vv(r.localStore,a.targetId,!0))}async function d3(t,e){const n=He(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),P0(n.remoteStore,r.targetId))}async function f3(t,e,n){const r=x3(t);try{const a=await(function(c,h){const d=He(c),m=qe.now(),g=h.reduce(((C,M)=>C.add(M.key)),it());let v,_;return d.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let M=Us(),O=it();return d.xs.getEntries(C,g).next((I=>{M=I,M.forEach(((z,$)=>{$.isValidDocument()||(O=O.add(z))}))})).next((()=>d.localDocuments.getOverlayedDocuments(C,M))).next((I=>{v=I;const z=[];for(const $ of h){const G=C5($,v.get($.key).overlayedDocument);G!=null&&z.push(new Ka($.key,G,EC(G.value.mapValue),cr.exists(!0)))}return d.mutationQueue.addMutationBatch(C,m,z,h)})).next((I=>{_=I;const z=I.applyToLocalDocumentSet(v,O);return d.documentOverlayCache.saveOverlays(C,I.batchId,z)}))})).then((()=>({batchId:_.batchId,changes:PC(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let m=c.du[c.currentUser.toKey()];m||(m=new Yt(nt)),m=m.insert(h,d),c.du[c.currentUser.toKey()]=m})(r,a.batchId,n),await vh(r,a.changes),await $m(r.remoteStore)}catch(a){const l=z0(a,"Failed to persist write");n.reject(l)}}async function gR(t,e){const n=He(t);try{const r=await Sj(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(xt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?xt(c.hu,14607):a.removedDocuments.size>0&&(xt(c.hu,42227),c.hu=!1))})),await vh(n,r,e)}catch(r){await cc(r)}}function LT(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=He(c);d.onlineState=h;let m=!1;d.queries.forEach(((g,v)=>{for(const _ of v.ba)_.va(h)&&(m=!0)})),m&&q0(d)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function m3(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new Yt(De.comparator);c=c.insert(l,oi.newNoDocument(l,ze.min()));const h=it().add(l),d=new qm(ze.min(),new Map,new Yt(nt),c,h);await gR(r,d),r.Ru=r.Ru.remove(l),r.Au.delete(e),$0(r)}else await vv(r.localStore,e,!1).then((()=>_v(r,e,n))).catch(cc)}async function p3(t,e){const n=He(t),r=e.batch.batchId;try{const a=await Ej(n.localStore,e);vR(n,r,null),yR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vh(n,a)}catch(a){await cc(a)}}async function g3(t,e,n){const r=He(t);try{const a=await(function(c,h){const d=He(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return d.mutationQueue.lookupMutationBatch(m,h).next((v=>(xt(v!==null,37113),g=v.keys(),d.mutationQueue.removeMutationBatch(m,v)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>d.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);vR(r,e,n),yR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vh(r,a)}catch(a){await cc(a)}}function yR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function vR(t,e,n){const r=He(t);let a=r.du[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function _v(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||bR(t,r)}))}function bR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(P0(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),$0(t))}function UT(t,e,n){for(const r of n)r instanceof fR?(t.Vu.addReference(r.key,e),y3(t,r)):r instanceof mR?(we(G0,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||bR(t,r.key)):je(19791,{wu:r})}function y3(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(we(G0,"New document in limbo: "+n),t.Eu.add(r),$0(t))}function $0(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new De(Ot.fromString(e)),r=t.fu.next();t.Au.set(r,new a3(n)),t.Ru=t.Ru.insert(n,r),oR(t.remoteStore,new Ia(Wr(Lm(n.path)),r,"TargetPurposeLimboResolution",Pm.ce))}}async function vh(t,e,n){const r=He(t),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{c.push(r.pu(d,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const g=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(m){a.push(m);const g=M0.Es(d.targetId,m);l.push(g)}})))})),await Promise.all(c),r.Pu.J_(a),await(async function(d,m){const g=He(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>me.forEach(m,(_=>me.forEach(_.Ts,(C=>g.persistence.referenceDelegate.addReference(v,_.targetId,C))).next((()=>me.forEach(_.Is,(C=>g.persistence.referenceDelegate.removeReference(v,_.targetId,C)))))))))}catch(v){if(!uc(v))throw v;we(O0,"Failed to update sequence numbers: "+v)}for(const v of m){const _=v.targetId;if(!v.fromCache){const C=g.vs.get(_),M=C.snapshotVersion,O=C.withLastLimboFreeSnapshotVersion(M);g.vs=g.vs.insert(_,O)}}})(r.localStore,l))}async function v3(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){we(G0,"User change. New user:",e.toKey());const r=await iR(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new be(de.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vh(n,r.Ns)}}function b3(t,e){const n=He(t),r=n.Au.get(e);if(r&&r.hu)return it().add(r.key);{let a=it();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function xR(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m3.bind(null,e),e.Pu.J_=n3.bind(null,e.eventManager),e.Pu.yu=i3.bind(null,e.eventManager),e}function x3(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g3.bind(null,e),e}class em{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Tj(this.persistence,new xj,e.initialUser,this.serializer)}Cu(e){return new nR(k0.Vi,this.serializer)}Du(e){return new Nj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}em.provider={build:()=>new em};class _3 extends em{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xt(this.persistence.referenceDelegate instanceof Jf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ii.withCacheSize(this.cacheSizeBytes):Ii.DEFAULT;return new nR((r=>Jf.Vi(r,n)),this.serializer)}}class wv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>LT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=v3.bind(null,this.syncEngine),await Zj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new t3})()}createDatastore(e){const n=Hm(e.databaseInfo.databaseId),r=Pj(e.databaseInfo);return zj(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,l,c,h){return new Fj(r,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>LT(this.syncEngine,n,0)),(function(){return kT.v()?new kT:new Dj})())}createSyncEngine(e,n){return(function(a,l,c,h,d,m,g){const v=new o3(a,l,c,h,d,m);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=He(n);we(Uo,"RemoteStore shutting down."),r.Ea.add(5),await yh(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wv.provider={build:()=>new wv};class K0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Fa="FirestoreClient";class w3{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=a,this.user=ai.UNAUTHENTICATED,this.clientId=Mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{we(Fa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(we(Fa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=z0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ty(t,e){t.asyncQueue.verifyOperationInProgress(),we(Fa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await iR(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function zT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await T3(t);we(Fa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>OT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>OT(e.remoteStore,a))),t._onlineComponents=e}async function T3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(Fa,"Using user provided OfflineComponentProvider");try{await Ty(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Lo("Error using user provided cache. Falling back to memory cache: "+n),await Ty(t,new em)}}else we(Fa,"Using default OfflineComponentProvider"),await Ty(t,new _3(void 0));return t._offlineComponents}async function _R(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(Fa,"Using user provided OnlineComponentProvider"),await zT(t,t._uninitializedComponentsProvider._online)):(we(Fa,"Using default OnlineComponentProvider"),await zT(t,new wv))),t._onlineComponents}function E3(t){return _R(t).then((e=>e.syncEngine))}async function tm(t){const e=await _R(t),n=e.eventManager;return n.onListen=l3.bind(null,e.syncEngine),n.onUnlisten=h3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=c3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=d3.bind(null,e.syncEngine),n}function S3(t,e,n,r){const a=new K0(r),l=new H0(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>B0(await tm(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>F0(await tm(t),l)))}}function A3(t,e,n={}){const r=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,m){const g=new K0({next:_=>{g.Nu(),c.enqueueAndForget((()=>F0(l,v)));const C=_.docs.has(h);!C&&_.fromCache?m.reject(new be(de.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&_.fromCache&&d&&d.source==="server"?m.reject(new be(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:_=>m.reject(_)}),v=new H0(Lm(h.path),g,{includeMetadataChanges:!0,Ka:!0});return B0(l,v)})(await tm(t),t.asyncQueue,e,n,r))),r.promise}function C3(t,e,n={}){const r=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,m){const g=new K0({next:_=>{g.Nu(),c.enqueueAndForget((()=>F0(l,v))),_.fromCache&&d.source==="server"?m.reject(new be(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:_=>m.reject(_)}),v=new H0(h,g,{includeMetadataChanges:!0,Ka:!0});return B0(l,v)})(await tm(t),t.asyncQueue,e,n,r))),r.promise}function R3(t,e){const n=new Ds;return t.asyncQueue.enqueueAndForget((async()=>f3(await E3(t),e,n))),n.promise}function wR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const I3="ComponentProvider",BT=new Map;function N3(t,e,n,r,a){return new W4(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,wR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const TR="firestore.googleapis.com",FT=!0;class qT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TR,this.ssl=FT}else this.host=e.host,this.ssl=e.ssl??FT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ij)throw new be(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Km{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new hC;switch(r.type){case"firstParty":return new O4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=BT.get(n);r&&(we(I3,"Removing Datastore"),BT.delete(n),r.terminate())})(this),Promise.resolve()}}function ER(t,e,n,r={}){t=vi(t,Km);const a=zo(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(s0(`https://${h}`),a0("Firestore",!0)),l.host!==TR&&l.host!==h&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:r};if(!Oo(d,c)&&(t._setSettings(d),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=ai.MOCK_USER;else{m=_A(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new be(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ai(v)}t._authCredentials=new D4(new uC(m,g))}}class Ya{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ya(this.firestore,e,this._query)}}class Kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(fh(n,Kt._jsonSchema))return new Kt(e,r||null,new De(Ot.fromString(n.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:En("string",Kt._jsonSchemaVersion),referencePath:En("string")};class ks extends Ya{constructor(e,n,r){super(e,n,Lm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new De(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function Vl(t,e,...n){if(t=Vn(t),dC("collection","path",e),t instanceof Km){const r=Ot.fromString(e,...n);return nT(r),new ks(t,null,r)}{if(!(t instanceof Kt||t instanceof ks))throw new be(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return nT(r),new ks(t.firestore,null,r)}}function Rr(t,e,...n){if(t=Vn(t),arguments.length===1&&(e=Mm.newId()),dC("doc","path",e),t instanceof Km){const r=Ot.fromString(e,...n);return tT(r),new Kt(t,null,new De(r))}{if(!(t instanceof Kt||t instanceof ks))throw new be(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return tT(r),new Kt(t.firestore,t instanceof ks?t.converter:null,new De(r))}}const HT="AsyncQueue";class GT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sR(this,"async_queue_retry"),this._c=()=>{const r=wy();r&&we(HT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=wy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=wy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!uc(e))throw e;we(HT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ls("INTERNAL UNHANDLED ERROR: ",$T(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=U0.createAndSchedule(this,e,n,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&je(47125,{Pc:$T(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function $T(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ts extends Km{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new GT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new GT(e),this._firestoreClient=void 0,await e}}}function SR(t,e){const n=typeof t=="object"?t:c0(),r=typeof t=="string"?t:Gf,a=Im(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=vA("firestore");l&&ER(a,...l)}return a}function bh(t){if(t._terminated)throw new be(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||D3(t),t._firestoreClient}function D3(t){const e=t._freezeSettings(),n=N3(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new w3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fi(Gn.fromBase64String(e))}catch(n){throw new be(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fi(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fh(e,Fi._jsonSchema))return Fi.fromBase64String(e.bytes)}}Fi._jsonSchemaVersion="firestore/bytes/1.0",Fi._jsonSchema={type:En("string",Fi._jsonSchemaVersion),bytes:En("string")};class Ym{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xm{constructor(e){this._methodName=e}}class Dr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dr._jsonSchemaVersion}}static fromJSON(e){if(fh(e,Dr._jsonSchema))return new Dr(e.latitude,e.longitude)}}Dr._jsonSchemaVersion="firestore/geoPoint/1.0",Dr._jsonSchema={type:En("string",Dr._jsonSchemaVersion),latitude:En("number"),longitude:En("number")};class ur{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fh(e,ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ur(e.vectorValues);throw new be(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ur._jsonSchemaVersion="firestore/vectorValue/1.0",ur._jsonSchema={type:En("string",ur._jsonSchemaVersion),vectorValues:En("object")};const k3=/^__.*__$/;class M3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ka(e,this.data,this.fieldMask,n,this.fieldTransforms):new ph(e,this.data,n,this.fieldTransforms)}}class AR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ka(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{dataSource:t})}}class Y0{constructor(e,n,r,a,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Y0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return nm(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(CR(this.dataSource)&&k3.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class O3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hm(e)}createContext(e,n,r,a=!1){return new Y0({dataSource:e,methodName:n,targetDoc:r,path:Hn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wm(t){const e=t._freezeSettings(),n=Hm(t._databaseId);return new O3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RR(t,e,n,r,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);X0("Data must be an object, but it was:",c,r);const h=IR(r,c);let d,m;if(l.merge)d=new qi(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const v of l.mergeFields){const _=nc(e,v,n);if(!c.contains(_))throw new be(de.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);kR(g,_)||g.push(_)}d=new qi(g),m=c.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,m=c.fieldTransforms;return new M3(new Ni(h),d,m)}class xh extends Xm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xh}}function P3(t,e,n,r){const a=t.createContext(1,e,n);X0("Data must be an object, but it was:",a,r);const l=[],c=Ni.empty();$a(r,((d,m)=>{const g=DR(e,d,n);m=Vn(m);const v=a.childContextForFieldPath(g);if(m instanceof xh)l.push(g);else{const _=_h(m,v);_!=null&&(l.push(g),c.set(g,_))}}));const h=new qi(l);return new AR(c,h,a.fieldTransforms)}function V3(t,e,n,r,a,l){const c=t.createContext(1,e,n),h=[nc(e,r,n)],d=[a];if(l.length%2!=0)throw new be(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)h.push(nc(e,l[_])),d.push(l[_+1]);const m=[],g=Ni.empty();for(let _=h.length-1;_>=0;--_)if(!kR(m,h[_])){const C=h[_];let M=d[_];M=Vn(M);const O=c.childContextForFieldPath(C);if(M instanceof xh)m.push(C);else{const I=_h(M,O);I!=null&&(m.push(C),g.set(C,I))}}const v=new qi(m);return new AR(g,v,c.fieldTransforms)}function j3(t,e,n,r=!1){return _h(n,t.createContext(r?4:3,e))}function _h(t,e){if(NR(t=Vn(t)))return X0("Unsupported field value:",e,t),IR(t,e);if(t instanceof Xm)return(function(r,a){if(!CR(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const h of r){let d=_h(h,a.childContextForArray(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}})(t,e)}return(function(r,a){if((r=Vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _5(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=qe.fromDate(r);return{timestampValue:Qf(a.serializer,l)}}if(r instanceof qe){const l=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qf(a.serializer,l)}}if(r instanceof Dr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fi)return{bytesValue:KC(a.serializer,r._byteString)};if(r instanceof Kt){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:N0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof ur)return(function(c,h){const d=c instanceof ur?c.toArray():c;return{mapValue:{fields:{[wC]:{stringValue:TC},[$f]:{arrayValue:{values:d.map((g=>{if(typeof g!="number")throw h.createError("VectorValues must only contain numeric values.");return A0(h.serializer,g)}))}}}}}})(r,a);if(eR(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Om(r)}`)})(t,e)}function IR(t,e){const n={};return gC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$a(t,((r,a)=>{const l=_h(a,e.childContextForField(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function NR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof Dr||t instanceof Fi||t instanceof Kt||t instanceof Xm||t instanceof ur||eR(t))}function X0(t,e,n){if(!NR(n)||!mC(n)){const r=Om(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function nc(t,e,n){if((e=Vn(e))instanceof Ym)return e._internalPath;if(typeof e=="string")return DR(t,e);throw nm("Field path arguments must be of type string or ",t,!1,void 0,n)}const L3=new RegExp("[~\\*/\\[\\]]");function DR(t,e,n){if(e.search(L3)>=0)throw nm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ym(...e.split("."))._internalPath}catch{throw nm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nm(t,e,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${r}`),c&&(d+=` in document ${a}`),d+=")"),new be(de.INVALID_ARGUMENT,h+t+d)}function kR(t,e){return t.some((n=>n.isEqual(e)))}class MR{convertValue(e,n="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $a(e,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(e){const n=e.fields?.[$f].arrayValue?.values?.map((r=>dn(r.doubleValue)));return new ur(n)}convertGeoPoint(e){return new Dr(dn(e.latitude),dn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ku(e));default:return null}}convertTimestamp(e){const n=La(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ot.fromString(e);xt(ZC(r),9688,{name:e});const a=new Ql(r.get(1),r.get(3)),l=new De(r.popFirst(5));return a.isEqual(n)||Ls(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class W0 extends MR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function im(){return new xh("deleteField")}const KT="@firebase/firestore",YT="4.10.0";function XT(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class OR{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(nc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class U3 extends OR{data(){return super.data()}}function PR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q0{}class VR extends Q0{}function rm(t,e,...n){let r=[];e instanceof Q0&&r.push(e),r=r.concat(n),(function(l){const c=l.filter((d=>d instanceof Qm)).length,h=l.filter((d=>d instanceof wh)).length;if(c>1||c>0&&h>0)throw new be(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class wh extends VR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new wh(e,n,r)}_apply(e){const n=this._parse(e);return jR(e._query,n),new Ya(e.firestore,e.converter,dv(e._query,n))}_parse(e){const n=Wm(e.firestore);return(function(l,c,h,d,m,g,v){let _;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new be(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){QT(v,g);const M=[];for(const O of v)M.push(WT(d,l,O));_={arrayValue:{values:M}}}else _=WT(d,l,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||QT(v,g),_=j3(h,c,v,g==="in"||g==="not-in");return Tn.create(m,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sm(t,e,n){const r=e,a=nc("where",t);return wh._create(a,r,n)}class Qm extends Q0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qm(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:kr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const d of h)jR(c,d),c=dv(c,d)})(e._query,n),new Ya(e.firestore,e.converter,dv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function WT(t,e,n){if(typeof(n=Vn(n))=="string"){if(n==="")throw new be(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DC(e)&&n.indexOf("/")!==-1)throw new be(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ot.fromString(n));if(!De.isDocumentKey(r))throw new be(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uT(t,new De(r))}if(n instanceof Kt)return uT(t,n._key);throw new be(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Om(n)}.`)}function QT(t,e){if(!Array.isArray(t)||t.length===0)throw new be(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jR(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new be(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function LR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oa extends OR{constructor(e,n,r,a,l,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Oa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oa._jsonSchema={type:En("string",Oa._jsonSchemaVersion),bundleSource:En("string","DocumentSnapshot"),bundleName:En("string"),bundle:En("string")};class Mu extends Oa{data(e={}){return super.data(e)}}class Pa{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new jl(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Mu(this._firestore,this._userDataWriter,r.key,r,new jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new Mu(a._firestore,a._userDataWriter,h.doc.key,h.doc,new jl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Mu(a._firestore,a._userDataWriter,h.doc.key,h.doc,new jl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),g=c.indexOf(h.doc.key)),{type:z3(h.type),doc:d,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function z3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}Pa._jsonSchemaVersion="firestore/querySnapshot/1.0",Pa._jsonSchema={type:En("string",Pa._jsonSchemaVersion),bundleSource:En("string","QuerySnapshot"),bundleName:En("string"),bundle:En("string")};function Th(t){t=vi(t,Kt);const e=vi(t.firestore,ts),n=bh(e);return A3(n,t._key).then((r=>FR(e,t,r)))}function Ou(t){t=vi(t,Ya);const e=vi(t.firestore,ts),n=bh(e),r=new W0(e);return PR(t._query),C3(n,t._query).then((a=>new Pa(e,r,t,a)))}function am(t,e,n){t=vi(t,Kt);const r=vi(t.firestore,ts),a=LR(t.converter,e,n),l=Wm(r);return Eh(r,[RR(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,cr.none())])}function si(t,e,n,...r){t=vi(t,Kt);const a=vi(t.firestore,ts),l=Wm(a);let c;return c=typeof(e=Vn(e))=="string"||e instanceof Ym?V3(l,"updateDoc",t._key,e,n,r):P3(l,"updateDoc",t._key,e),Eh(a,[c.toMutation(t._key,cr.exists(!0))])}function UR(t){return Eh(vi(t.firestore,ts),[new C0(t._key,cr.none())])}function zR(t,e){const n=vi(t.firestore,ts),r=Rr(t),a=LR(t.converter,e),l=Wm(t.firestore);return Eh(n,[RR(l,"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,cr.exists(!1))]).then((()=>r))}function BR(t,...e){t=Vn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||XT(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(XT(e[r])){const m=e[r];e[r]=m.next?.bind(m),e[r+1]=m.error?.bind(m),e[r+2]=m.complete?.bind(m)}let l,c,h;if(t instanceof Kt)c=vi(t.firestore,ts),h=Lm(t._key.path),l={next:m=>{e[r]&&e[r](FR(c,t,m))},error:e[r+1],complete:e[r+2]};else{const m=vi(t,Ya);c=vi(m.firestore,ts),h=m._query;const g=new W0(c);l={next:v=>{e[r]&&e[r](new Pa(c,g,m,v))},error:e[r+1],complete:e[r+2]},PR(t._query)}const d=bh(c);return S3(d,h,a,l)}function Eh(t,e){const n=bh(t);return R3(n,e)}function FR(t,e,n){const r=n.docs.get(e._key),a=new W0(t);return new Oa(t,a,e._key,r,new jl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){N4(Bo),Po(new Va("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),h=new ts(new k4(r.getProvider("auth-internal")),new P4(c,r.getProvider("app-check-internal")),Q4(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Yr(KT,YT,e),Yr(KT,YT,"esm2020")})();const B3=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:MR,Bytes:Fi,CollectionReference:ks,DocumentReference:Kt,DocumentSnapshot:Oa,FieldPath:Ym,FieldValue:Xm,Firestore:ts,FirestoreError:be,GeoPoint:Dr,Query:Ya,QueryCompositeFilterConstraint:Qm,QueryConstraint:VR,QueryDocumentSnapshot:Mu,QueryFieldFilterConstraint:wh,QuerySnapshot:Pa,SnapshotMetadata:jl,Timestamp:qe,VectorValue:ur,_AutoId:Mm,_ByteString:Gn,_DatabaseId:Ql,_DocumentKey:De,_EmptyAuthCredentialsProvider:hC,_FieldPath:Hn,_cast:vi,_logWarn:Lo,_validateIsNotUsedTogether:fC,addDoc:zR,collection:Vl,connectFirestoreEmulator:ER,deleteDoc:UR,deleteField:im,doc:Rr,ensureFirestoreConfigured:bh,executeWrite:Eh,getDoc:Th,getDocs:Ou,getFirestore:SR,onSnapshot:BR,query:rm,setDoc:am,updateDoc:si,where:sm},Symbol.toStringTag,{value:"Module"}));const qR="firebasestorage.googleapis.com",F3="storageBucket",q3=120*1e3,H3=600*1e3;class ss extends rs{constructor(e,n,r=0){super(Ey(e),`Firebase Storage: ${n} (${Ey(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ss.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ey(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ns;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ns||(ns={}));function Ey(t){return"storage/"+t}function G3(){const t="An unknown error occurred, please check the error payload for server response.";return new ss(ns.UNKNOWN,t)}function $3(){return new ss(ns.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function K3(){return new ss(ns.CANCELED,"User canceled the upload/download.")}function Y3(t){return new ss(ns.INVALID_URL,"Invalid URL '"+t+"'.")}function X3(t){return new ss(ns.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function JT(t){return new ss(ns.INVALID_ARGUMENT,t)}function HR(){return new ss(ns.APP_DELETED,"The Firebase app was deleted.")}function W3(t){return new ss(ns.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ir{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ir.makeFromUrl(e,n)}catch{return new Ir(e,"")}if(r.path==="")return r;throw X3(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),d={bucket:1,path:3};function m(ae){ae.path_=decodeURIComponent(ae.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",C=new RegExp(`^https?://${v}/${g}/b/${a}/o${_}`,"i"),M={bucket:1,path:3},O=n===qR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",z=new RegExp(`^https?://${O}/${a}/${I}`,"i"),G=[{regex:h,indices:d,postModify:l},{regex:C,indices:M,postModify:m},{regex:z,indices:{bucket:1,path:2},postModify:m}];for(let ae=0;ae<G.length;ae++){const te=G[ae],le=te.regex.exec(e);if(le){const N=le[te.indices.bucket];let A=le[te.indices.path];A||(A=""),r=new Ir(N,A),te.postModify(r);break}}if(r==null)throw Y3(e);return r}}class Q3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function J3(t,e,n){let r=1,a=null,l=null,c=!1,h=0;function d(){return h===2}let m=!1;function g(...I){m||(m=!0,e.apply(null,I))}function v(I){a=setTimeout(()=>{a=null,t(C,d())},I)}function _(){l&&clearTimeout(l)}function C(I,...z){if(m){_();return}if(I){_(),g.call(null,I,...z);return}if(d()||c){_(),g.call(null,I,...z);return}r<64&&(r*=2);let G;h===1?(h=2,G=0):G=(r+Math.random())*1e3,v(G)}let M=!1;function O(I){M||(M=!0,_(),!m&&(a!==null?(I||(h=2),clearTimeout(a),v(0)):I||(h=1)))}return v(0),l=setTimeout(()=>{c=!0,O(!0)},n),O}function Z3(t){t(!1)}function eL(t){return t!==void 0}function ZT(t,e,n,r){if(r<e)throw JT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw JT(`Invalid value for '${t}'. Expected ${n} or less.`)}function tL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var om;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(om||(om={}));function nL(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class iL{constructor(e,n,r,a,l,c,h,d,m,g,v,_=!0,C=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=v,this.retry=_,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,O)=>{this.resolve_=M,this.reject_=O,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new sf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===om.NO_ERROR,d=l.getStatus();if(!h||nL(d,this.additionalRetryCodes_)&&this.retry){const g=l.getErrorCode()===om.ABORT;r(!1,new sf(!1,null,g));return}const m=this.successCodes_.indexOf(d)!==-1;r(!0,new sf(m,l))})},n=(r,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());eL(d)?l(d):l()}catch(d){c(d)}else if(h!==null){const d=G3();d.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,d)):c(d)}else if(a.canceled){const d=this.appDelete_?HR():K3();c(d)}else{const d=$3();c(d)}};this.canceled_?n(!1,new sf(!1,null,!0)):this.backoffId_=J3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Z3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function rL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function sL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function aL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function oL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function lL(t,e,n,r,a,l,c=!0,h=!1){const d=tL(t.urlParams),m=t.url+d,g=Object.assign({},t.headers);return aL(g,e),rL(g,n),sL(g,l),oL(g,r),new iL(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,h)}function cL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function uL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class lm{constructor(e,n){this._service=e,n instanceof Ir?this._location=n:this._location=Ir.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new lm(e,n)}get root(){const e=new Ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uL(this._location.path)}get storage(){return this._service}get parent(){const e=cL(this._location.path);if(e===null)return null;const n=new Ir(this._location.bucket,e);return new lm(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw W3(e)}}function eE(t,e){const n=e?.[F3];return n==null?null:Ir.makeFromBucketSpec(n,t)}function hL(t,e,n,r={}){t.host=`${e}:${n}`;const a=zo(e);a&&(s0(`https://${t.host}/b`),a0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(t._overrideAuthToken=typeof l=="string"?l:_A(l,t.app.options.projectId))}class dL{constructor(e,n,r,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=qR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=q3,this._maxUploadRetryTime=H3,this._requests=new Set,a!=null?this._bucket=Ir.makeFromBucketSpec(a,this._host):this._bucket=eE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ir.makeFromBucketSpec(this._url,e):this._bucket=eE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ZT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ZT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lm(this,e)}_makeRequest(e,n,r,a,l=!0){if(this._deleted)return new Q3(HR());{const c=lL(e,this._appId,r,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const tE="@firebase/storage",nE="0.14.0";const GR="storage";function fL(t=c0(),e){t=Vn(t);const r=Im(t,GR).getImmediate({identifier:e}),a=vA("storage");return a&&mL(r,...a),r}function mL(t,e,n,r={}){hL(t,e,n,r)}function pL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new dL(n,r,a,e,Bo)}function gL(){Po(new Va(GR,pL,"PUBLIC").setMultipleInstances(!0)),Yr(tE,nE,""),Yr(tE,nE,"esm2020")}gL();const yL={apiKey:"AIzaSyC7IaK8e0JimVT2DeKQovTDLPyufibEu_4",authDomain:"sunsar-bingo.firebaseapp.com",projectId:"sunsar-bingo",storageBucket:"sunsar-bingo.firebasestorage.app",messagingSenderId:"256131852935",appId:"1:256131852935:web:fe514c1e6758e5af252622"},Jm=EA(yL),Af=R4(Jm),$R=new As,pi=SR(Jm);fL(Jm);const vL=Object.freeze(Object.defineProperty({__proto__:null,app:Jm,auth:Af,db:pi,googleProvider:$R},Symbol.toStringTag,{value:"Module"})),KR=S.createContext(void 0),bL=({children:t})=>{const[e,n]=S.useState(null),[r,a]=S.useState(!0),[l,c]=S.useState(null);S.useEffect(()=>{const m=gV(Af,async g=>{if(g){const v={uid:g.uid,email:g.email,displayName:g.displayName,photoURL:g.photoURL};n(v),c(null);try{const{doc:_,setDoc:C,Timestamp:M}=await Qy(async()=>{const{doc:I,setDoc:z,Timestamp:$}=await Promise.resolve().then(()=>B3);return{doc:I,setDoc:z,Timestamp:$}},[]),{db:O}=await Qy(async()=>{const{db:I}=await Promise.resolve().then(()=>vL);return{db:I}},void 0);await C(_(O,"users",g.uid),{...v,lastSeen:M.now()},{merge:!0})}catch(_){console.error("Error syncing user profile:",_)}}else n(null);a(!1)});return()=>m()},[]);const h=async()=>{c(null);try{await jV(Af,$R)}catch(m){c(m.message||"Failed to sign in")}},d=async()=>{await yV(Af)};return b.jsx(KR.Provider,{value:{user:e,loading:r,signIn:h,logout:d,error:l},children:t})},Ho=()=>{const t=S.useContext(KR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},J0=S.createContext({});function Z0(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const YR=typeof window<"u",XR=YR?S.useLayoutEffect:S.useEffect,Zm=S.createContext(null);function eb(t,e){t.indexOf(e)===-1&&t.push(e)}function tb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const is=(t,e,n)=>n>e?e:n<t?t:n;let nb=()=>{};const zs={},WR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function QR(t){return typeof t=="object"&&t!==null}const JR=t=>/^0[^.\s]+$/u.test(t);function ib(t){let e;return()=>(e===void 0&&(e=t()),e)}const hr=t=>t,xL=(t,e)=>n=>e(t(n)),Sh=(...t)=>t.reduce(xL),Qu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class rb{constructor(){this.subscriptions=[]}add(e){return eb(this.subscriptions,e),()=>tb(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ms=t=>t*1e3,lr=t=>t/1e3;function ZR(t,e){return e?t*(1e3/e):0}const e2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,_L=1e-7,wL=12;function TL(t,e,n,r,a){let l,c,h=0;do c=e+(n-e)/2,l=e2(c,r,a)-t,l>0?n=c:e=c;while(Math.abs(l)>_L&&++h<wL);return c}function Ah(t,e,n,r){if(t===e&&n===r)return hr;const a=l=>TL(l,0,1,t,n);return l=>l===0||l===1?l:e2(a(l),e,r)}const t2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,n2=t=>e=>1-t(1-e),i2=Ah(.33,1.53,.69,.99),sb=n2(i2),r2=t2(sb),s2=t=>(t*=2)<1?.5*sb(t):.5*(2-Math.pow(2,-10*(t-1))),ab=t=>1-Math.sin(Math.acos(t)),a2=n2(ab),o2=t2(ab),EL=Ah(.42,0,1,1),SL=Ah(0,0,.58,1),l2=Ah(.42,0,.58,1),AL=t=>Array.isArray(t)&&typeof t[0]!="number",c2=t=>Array.isArray(t)&&typeof t[0]=="number",CL={linear:hr,easeIn:EL,easeInOut:l2,easeOut:SL,circIn:ab,circInOut:o2,circOut:a2,backIn:sb,backInOut:r2,backOut:i2,anticipate:s2},RL=t=>typeof t=="string",iE=t=>{if(c2(t)){nb(t.length===4);const[e,n,r,a]=t;return Ah(e,n,r,a)}else if(RL(t))return CL[t];return t},af=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function IL(t,e){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(g){c.has(g)&&(m.schedule(g),t()),g(h)}const m={schedule:(g,v=!1,_=!1)=>{const M=_&&a?n:r;return v&&c.add(g),M.has(g)||M.add(g),g},cancel:g=>{r.delete(g),c.delete(g)},process:g=>{if(h=g,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,m.process(g))}};return m}const NL=40;function u2(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=af.reduce((G,ae)=>(G[ae]=IL(l),G),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:g,update:v,preRender:_,render:C,postRender:M}=c,O=()=>{const G=zs.useManualTiming?a.timestamp:performance.now();n=!1,zs.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(G-a.timestamp,NL),1)),a.timestamp=G,a.isProcessing=!0,h.process(a),d.process(a),m.process(a),g.process(a),v.process(a),_.process(a),C.process(a),M.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(O))},I=()=>{n=!0,r=!0,a.isProcessing||t(O)};return{schedule:af.reduce((G,ae)=>{const te=c[ae];return G[ae]=(le,N=!1,A=!1)=>(n||I(),te.schedule(le,N,A)),G},{}),cancel:G=>{for(let ae=0;ae<af.length;ae++)c[af[ae]].cancel(G)},state:a,steps:c}}const{schedule:Lt,cancel:qa,state:Zn,steps:Sy}=u2(typeof requestAnimationFrame<"u"?requestAnimationFrame:hr,!0);let Cf;function DL(){Cf=void 0}const gi={now:()=>(Cf===void 0&&gi.set(Zn.isProcessing||zs.useManualTiming?Zn.timestamp:performance.now()),Cf),set:t=>{Cf=t,queueMicrotask(DL)}},h2=t=>e=>typeof e=="string"&&e.startsWith(t),d2=h2("--"),kL=h2("var(--"),ob=t=>kL(t)?ML.test(t.split("/*")[0].trim()):!1,ML=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function rE(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const dc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ju={...dc,transform:t=>is(0,1,t)},of={...dc,default:1},Pu=t=>Math.round(t*1e5)/1e5,lb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function OL(t){return t==null}const PL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cb=(t,e)=>n=>!!(typeof n=="string"&&PL.test(n)&&n.startsWith(t)||e&&!OL(n)&&Object.prototype.hasOwnProperty.call(n,e)),f2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,h]=r.match(lb);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},VL=t=>is(0,255,t),Ay={...dc,transform:t=>Math.round(VL(t))},No={test:cb("rgb","red"),parse:f2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ay.transform(t)+", "+Ay.transform(e)+", "+Ay.transform(n)+", "+Pu(Ju.transform(r))+")"};function jL(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Tv={test:cb("#"),parse:jL,transform:No.transform},Ch=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ea=Ch("deg"),Jr=Ch("%"),Te=Ch("px"),LL=Ch("vh"),UL=Ch("vw"),sE={...Jr,parse:t=>Jr.parse(t)/100,transform:t=>Jr.transform(t*100)},Ll={test:cb("hsl","hue"),parse:f2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Jr.transform(Pu(e))+", "+Jr.transform(Pu(n))+", "+Pu(Ju.transform(r))+")"},wn={test:t=>No.test(t)||Tv.test(t)||Ll.test(t),parse:t=>No.test(t)?No.parse(t):Ll.test(t)?Ll.parse(t):Tv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?No.transform(t):Ll.transform(t),getAnimatableNone:t=>{const e=wn.parse(t);return e.alpha=0,wn.transform(e)}},zL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function BL(t){return isNaN(t)&&typeof t=="string"&&(t.match(lb)?.length||0)+(t.match(zL)?.length||0)>0}const m2="number",p2="color",FL="var",qL="var(",aE="${}",HL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(HL,d=>(wn.test(d)?(r.color.push(l),a.push(p2),n.push(wn.parse(d))):d.startsWith(qL)?(r.var.push(l),a.push(FL),n.push(d)):(r.number.push(l),a.push(m2),n.push(parseFloat(d))),++l,aE)).split(aE);return{values:n,split:h,indexes:r,types:a}}function g2(t){return Zu(t).values}function y2(t){const{split:e,types:n}=Zu(t),r=e.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===m2?l+=Pu(a[c]):h===p2?l+=wn.transform(a[c]):l+=a[c]}return l}}const GL=t=>typeof t=="number"?0:wn.test(t)?wn.getAnimatableNone(t):t;function $L(t){const e=g2(t);return y2(t)(e.map(GL))}const Ha={test:BL,parse:g2,createTransformer:y2,getAnimatableNone:$L};function Cy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function KL({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=Cy(d,h,t+1/3),l=Cy(d,h,t),c=Cy(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function cm(t,e){return n=>n>0?e:t}const $t=(t,e,n)=>t+(e-t)*n,Ry=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},YL=[Tv,No,Ll],XL=t=>YL.find(e=>e.test(t));function oE(t){const e=XL(t);if(!e)return!1;let n=e.parse(t);return e===Ll&&(n=KL(n)),n}const lE=(t,e)=>{const n=oE(t),r=oE(e);if(!n||!r)return cm(t,e);const a={...n};return l=>(a.red=Ry(n.red,r.red,l),a.green=Ry(n.green,r.green,l),a.blue=Ry(n.blue,r.blue,l),a.alpha=$t(n.alpha,r.alpha,l),No.transform(a))},Ev=new Set(["none","hidden"]);function WL(t,e){return Ev.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function QL(t,e){return n=>$t(t,e,n)}function ub(t){return typeof t=="number"?QL:typeof t=="string"?ob(t)?cm:wn.test(t)?lE:e6:Array.isArray(t)?v2:typeof t=="object"?wn.test(t)?lE:JL:cm}function v2(t,e){const n=[...t],r=n.length,a=t.map((l,c)=>ub(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function JL(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=ub(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function ZL(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][r[l]],h=t.values[c]??0;n[a]=h,r[l]++}return n}const e6=(t,e)=>{const n=Ha.createTransformer(e),r=Zu(t),a=Zu(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Ev.has(t)&&!a.values.length||Ev.has(e)&&!r.values.length?WL(t,e):Sh(v2(ZL(r,a),a.values),n):cm(t,e)};function b2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?$t(t,e,n):ub(t)(t,e)}const t6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Lt.update(e,n),stop:()=>qa(e),now:()=>Zn.isProcessing?Zn.timestamp:gi.now()}},x2=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},um=2e4;function hb(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<um;)e+=n,r=t.next(e);return e>=um?1/0:e}function n6(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(hb(r),um);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:lr(a)}}const i6=5;function _2(t,e,n){const r=Math.max(e-i6,0);return ZR(n-t(r),e-r)}const rn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Iy=.001;function r6({duration:t=rn.duration,bounce:e=rn.bounce,velocity:n=rn.velocity,mass:r=rn.mass}){let a,l,c=1-e;c=is(rn.minDamping,rn.maxDamping,c),t=is(rn.minDuration,rn.maxDuration,lr(t)),c<1?(a=m=>{const g=m*c,v=g*t,_=g-n,C=Sv(m,c),M=Math.exp(-v);return Iy-_/C*M},l=m=>{const v=m*c*t,_=v*n+n,C=Math.pow(c,2)*Math.pow(m,2)*t,M=Math.exp(-v),O=Sv(Math.pow(m,2),c);return(-a(m)+Iy>0?-1:1)*((_-C)*M)/O}):(a=m=>{const g=Math.exp(-m*t),v=(m-n)*t+1;return-Iy+g*v},l=m=>{const g=Math.exp(-m*t),v=(n-m)*(t*t);return g*v});const h=5/t,d=a6(a,l,h);if(t=Ms(t),isNaN(d))return{stiffness:rn.stiffness,damping:rn.damping,duration:t};{const m=Math.pow(d,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:t}}}const s6=12;function a6(t,e,n){let r=n;for(let a=1;a<s6;a++)r=r-t(r)/e(r);return r}function Sv(t,e){return t*Math.sqrt(1-e*e)}const o6=["duration","bounce"],l6=["stiffness","damping","mass"];function cE(t,e){return e.some(n=>t[n]!==void 0)}function c6(t){let e={velocity:rn.velocity,stiffness:rn.stiffness,damping:rn.damping,mass:rn.mass,isResolvedFromDuration:!1,...t};if(!cE(t,l6)&&cE(t,o6))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*is(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:rn.mass,stiffness:a,damping:l}}else{const n=r6(t);e={...e,...n,mass:rn.mass},e.isResolvedFromDuration=!0}return e}function hm(t=rn.visualDuration,e=rn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:m,mass:g,duration:v,velocity:_,isResolvedFromDuration:C}=c6({...n,velocity:-lr(n.velocity||0)}),M=_||0,O=m/(2*Math.sqrt(d*g)),I=c-l,z=lr(Math.sqrt(d/g)),$=Math.abs(I)<5;r||(r=$?rn.restSpeed.granular:rn.restSpeed.default),a||(a=$?rn.restDelta.granular:rn.restDelta.default);let G;if(O<1){const te=Sv(z,O);G=le=>{const N=Math.exp(-O*z*le);return c-N*((M+O*z*I)/te*Math.sin(te*le)+I*Math.cos(te*le))}}else if(O===1)G=te=>c-Math.exp(-z*te)*(I+(M+z*I)*te);else{const te=z*Math.sqrt(O*O-1);G=le=>{const N=Math.exp(-O*z*le),A=Math.min(te*le,300);return c-N*((M+O*z*I)*Math.sinh(A)+te*I*Math.cosh(A))/te}}const ae={calculatedDuration:C&&v||null,next:te=>{const le=G(te);if(C)h.done=te>=v;else{let N=te===0?M:0;O<1&&(N=te===0?Ms(M):_2(G,te,le));const A=Math.abs(N)<=r,P=Math.abs(c-le)<=a;h.done=A&&P}return h.value=h.done?c:le,h},toString:()=>{const te=Math.min(hb(ae),um),le=x2(N=>ae.next(te*N).value,te,30);return te+"ms "+le},toTransition:()=>{}};return ae}hm.applyToOptions=t=>{const e=n6(t,100,hm);return t.ease=e.ease,t.duration=Ms(e.duration),t.type="keyframes",t};function Av({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:d,restDelta:m=.5,restSpeed:g}){const v=t[0],_={done:!1,value:v},C=A=>h!==void 0&&A<h||d!==void 0&&A>d,M=A=>h===void 0?d:d===void 0||Math.abs(h-A)<Math.abs(d-A)?h:d;let O=n*e;const I=v+O,z=c===void 0?I:c(I);z!==I&&(O=z-v);const $=A=>-O*Math.exp(-A/r),G=A=>z+$(A),ae=A=>{const P=$(A),D=G(A);_.done=Math.abs(P)<=m,_.value=_.done?z:D};let te,le;const N=A=>{C(_.value)&&(te=A,le=hm({keyframes:[_.value,M(_.value)],velocity:_2(G,A,_.value),damping:a,stiffness:l,restDelta:m,restSpeed:g}))};return N(0),{calculatedDuration:null,next:A=>{let P=!1;return!le&&te===void 0&&(P=!0,ae(A),N(A)),te!==void 0&&A>=te?le.next(A-te):(!P&&ae(A),_)}}}function u6(t,e,n){const r=[],a=n||zs.mix||b2,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||hr:e;h=Sh(d,h)}r.push(h)}return r}function h6(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(nb(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=u6(e,r,a),d=h.length,m=g=>{if(c&&g<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const _=Qu(t[v],t[v+1],g);return h[v](_)};return n?g=>m(is(t[0],t[l-1],g)):m}function d6(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=Qu(0,e,r);t.push($t(n,1,a))}}function f6(t){const e=[0];return d6(e,t.length-1),e}function m6(t,e){return t.map(n=>n*e)}function p6(t,e){return t.map(()=>e||l2).splice(0,t.length-1)}function Vu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=AL(r)?r.map(iE):iE(r),l={done:!1,value:e[0]},c=m6(n&&n.length===e.length?n:f6(e),t),h=h6(c,e,{ease:Array.isArray(a)?a:p6(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const g6=t=>t!==null;function db(t,{repeat:e,repeatType:n="loop"},r,a=1){const l=t.filter(g6),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||r===void 0?l[h]:r}const y6={decay:Av,inertia:Av,tween:Vu,keyframes:Vu,spring:hm};function w2(t){typeof t.type=="string"&&(t.type=y6[t.type])}class fb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const v6=t=>t/100;class mb extends fb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==gi.now()&&this.tick(gi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;w2(e);const{type:n=Vu,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const d=n||Vu;d!==Vu&&typeof h[0]!="number"&&(this.mixKeyframes=Sh(v6,b2(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=hb(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:v,repeatType:_,repeatDelay:C,type:M,onUpdate:O,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-m*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?z<0:z>a;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let G=this.currentTime,ae=r;if(v){const A=Math.min(this.currentTime,a)/h;let P=Math.floor(A),D=A%1;!D&&A>=1&&(D=1),D===1&&P--,P=Math.min(P,v+1),P%2&&(_==="reverse"?(D=1-D,C&&(D-=C/h)):_==="mirror"&&(ae=c)),G=is(0,1,D)*h}const te=$?{done:!1,value:g[0]}:ae.next(G);l&&(te.value=l(te.value));let{done:le}=te;!$&&d!==null&&(le=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return N&&M!==Av&&(te.value=db(g,this.options,I,this.speed)),O&&O(te.value),N&&this.finish(),te}then(e,n){return this.finished.then(e,n)}get duration(){return lr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+lr(e)}get time(){return lr(this.currentTime)}set time(e){e=Ms(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(gi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=lr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=t6,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(gi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function b6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Do=t=>t*180/Math.PI,Cv=t=>{const e=Do(Math.atan2(t[1],t[0]));return Rv(e)},x6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Cv,rotateZ:Cv,skewX:t=>Do(Math.atan(t[1])),skewY:t=>Do(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Rv=t=>(t=t%360,t<0&&(t+=360),t),uE=Cv,hE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),dE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),_6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hE,scaleY:dE,scale:t=>(hE(t)+dE(t))/2,rotateX:t=>Rv(Do(Math.atan2(t[6],t[5]))),rotateY:t=>Rv(Do(Math.atan2(-t[2],t[0]))),rotateZ:uE,rotate:uE,skewX:t=>Do(Math.atan(t[4])),skewY:t=>Do(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Iv(t){return t.includes("scale")?1:0}function Nv(t,e){if(!t||t==="none")return Iv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=_6,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=x6,a=h}if(!a)return Iv(e);const l=r[e],c=a[1].split(",").map(T6);return typeof l=="function"?l(c):c[l]}const w6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Nv(n,e)};function T6(t){return parseFloat(t.trim())}const fc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mc=new Set(fc),fE=t=>t===dc||t===Te,E6=new Set(["x","y","z"]),S6=fc.filter(t=>!E6.has(t));function A6(t){const e=[];return S6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Na={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Nv(e,"x"),y:(t,{transform:e})=>Nv(e,"y")};Na.translateX=Na.x;Na.translateY=Na.y;const Mo=new Set;let Dv=!1,kv=!1,Mv=!1;function T2(){if(kv){const t=Array.from(Mo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=A6(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{r.getValue(l)?.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}kv=!1,Dv=!1,Mo.forEach(t=>t.complete(Mv)),Mo.clear()}function E2(){Mo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(kv=!0)})}function C6(){Mv=!0,E2(),T2(),Mv=!1}class pb{constructor(e,n,r,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Mo.add(this),Dv||(Dv=!0,Lt.read(E2),Lt.resolveKeyframes(T2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}b6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Mo.delete(this)}cancel(){this.state==="scheduled"&&(Mo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const R6=t=>t.startsWith("--");function I6(t,e,n){R6(e)?t.style.setProperty(e,n):t.style[e]=n}const N6=ib(()=>window.ScrollTimeline!==void 0),D6={};function k6(t,e){const n=ib(t);return()=>D6[e]??n()}const S2=k6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Su=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,mE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Su([0,.65,.55,1]),circOut:Su([.55,0,1,.45]),backIn:Su([.31,.01,.66,-.59]),backOut:Su([.33,1.53,.69,.99])};function A2(t,e){if(t)return typeof t=="function"?S2()?x2(t,e):"ease-out":c2(t)?Su(t):Array.isArray(t)?t.map(n=>A2(n,e)||mE.easeOut):mE[t]}function M6(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:d}={},m=void 0){const g={[e]:n};d&&(g.offset=d);const v=A2(h,a);Array.isArray(v)&&(g.easing=v);const _={delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(_.pseudoElement=m),t.animate(g,_)}function C2(t){return typeof t=="function"&&"applyToOptions"in t}function O6({type:t,...e}){return C2(t)&&S2()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class P6 extends fb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,nb(typeof e.type!="string");const m=O6(e);this.animation=M6(n,r,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=db(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):I6(n,r,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return lr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+lr(e)}get time(){return lr(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ms(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&N6()?(this.animation.timeline=e,hr):n(this)}}const R2={anticipate:s2,backInOut:r2,circInOut:o2};function V6(t){return t in R2}function j6(t){typeof t.ease=="string"&&V6(t.ease)&&(t.ease=R2[t.ease])}const Ny=10;class L6 extends P6{constructor(e){j6(e),w2(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new mb({...c,autoplay:!1}),d=Math.max(Ny,gi.now()-this.startTime),m=is(0,Ny,d-Ny);n.setWithVelocity(h.sample(Math.max(0,d-m)).value,h.sample(d).value,m),h.stop()}}const pE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ha.test(t)||t==="0")&&!t.startsWith("url("));function U6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function z6(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=pE(a,e),h=pE(l,e);return!c||!h?!1:U6(t)||(n==="spring"||C2(n))&&r}function Ov(t){t.duration=0,t.type="keyframes"}const B6=new Set(["opacity","clipPath","filter","transform"]),F6=ib(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function q6(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return F6()&&n&&B6.has(n)&&(n!=="transform"||!m)&&!d&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}const H6=40;class G6 extends fb{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:d,motionValue:m,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=gi.now();const _={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,name:d,motionValue:m,element:g,...v},C=g?.KeyframeResolver||pb;this.keyframeResolver=new C(h,(M,O,I)=>this.onKeyframesResolved(M,O,_,!I),d,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:d,isHandoff:m,onUpdate:g}=r;this.resolvedAt=gi.now(),z6(e,l,c,h)||((zs.instantAnimations||!d)&&g?.(db(e,r,n)),e[0]=e[e.length-1],Ov(r),r.repeat=0);const _={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>H6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},C=!m&&q6(_)?new L6({..._,element:_.motionValue.owner.current}):new mb(_);C.finished.then(()=>this.notifyFinished()).catch(hr),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),C6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const $6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function K6(t){const e=$6.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function I2(t,e,n=1){const[r,a]=K6(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return WR(c)?parseFloat(c):c}return ob(a)?I2(a,e,n+1):a}function gb(t,e){return t?.[e]??t?.default??t}const Y6={type:"spring",stiffness:500,damping:25,restSpeed:10},X6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),W6={type:"keyframes",duration:.8},Q6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},J6=(t,{keyframes:e})=>e.length>2?W6:mc.has(t)?t.startsWith("scale")?X6(e[1]):Y6:Q6;function Z6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:d,elapsed:m,...g}){return!!Object.keys(g).length}const eU=t=>t!==null;function tU(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(eU),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function N2(t,e,n,r=0,a=1){const l=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),c=t.size,h=(c-1)*r;return typeof n=="function"?n(l,c):a===1?l*r:h-l*r}const yb=(t,e,n,r={},a,l)=>c=>{const h=gb(r,t)||{},d=h.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Ms(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};Z6(h)||Object.assign(g,J6(t,g)),g.duration&&(g.duration=Ms(g.duration)),g.repeatDelay&&(g.repeatDelay=Ms(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Ov(g),g.delay===0&&(v=!0)),(zs.instantAnimations||zs.skipAnimations)&&(v=!0,Ov(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const _=tU(g.keyframes,h);if(_!==void 0){Lt.update(()=>{g.onUpdate(_),g.onComplete()});return}}return h.isSync?new mb(g):new G6(g)},D2=new Set(["width","height","top","left","right","bottom",...fc]),gE=30,nU=t=>!isNaN(parseFloat(t));class iU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=gi.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=gi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new rb);const r=this.events[e].add(n);return e==="change"?()=>{r(),Lt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=gi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>gE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,gE);return ZR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ic(t,e){return new iU(t,e)}function yE(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function vb(t,e,n,r){if(typeof e=="function"){const[a,l]=yE(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=yE(r);e=e(n!==void 0?n:t.custom,a,l)}return e}function Kl(t,e,n){const r=t.getProps();return vb(r,e,n!==void 0?n:r.custom,t)}const Pv=t=>Array.isArray(t);function rU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ic(n))}function sU(t){return Pv(t)?t[t.length-1]||0:t}function aU(t,e){const n=Kl(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const h=sU(l[c]);rU(t,c,h)}}const li=t=>!!(t&&t.getVelocity);function oU(t){return!!(li(t)&&t.add)}function Vv(t,e){const n=t.getValue("willChange");if(oU(n))return n.add(e);if(!n&&zs.WillChange){const r=new zs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function bb(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const lU="framerAppearId",k2="data-"+bb(lU);function M2(t){return t.props[k2]}function cU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function O2(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(l=r);const d=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const g in h){const v=t.getValue(g,t.latestValues[g]??null),_=h[g];if(_===void 0||m&&cU(m,g))continue;const C={delay:n,...gb(l||{},g)},M=v.get();if(M!==void 0&&!v.isAnimating&&!Array.isArray(_)&&_===M&&!C.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const z=M2(t);if(z){const $=window.MotionHandoffAnimation(z,g,Lt);$!==null&&(C.startTime=$,O=!0)}}Vv(t,g),v.start(yb(g,v,_,t.shouldReduceMotion&&D2.has(g)?{type:!1}:C,t,O));const I=v.animation;I&&d.push(I)}return c&&Promise.all(d).then(()=>{Lt.update(()=>{c&&aU(t,c)})}),d}function jv(t,e,n={}){const r=Kl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(O2(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=a;return uU(t,e,d,m,g,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,m]=h==="beforeChildren"?[l,c]:[c,l];return d().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function uU(t,e,n=0,r=0,a=0,l=1,c){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(jv(d,e,{...c,delay:n+(typeof r=="function"?0:r)+N2(t.variantChildren,d,r,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function hU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>jv(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=jv(t,e,n);else{const a=typeof e=="function"?Kl(t,e,n.custom):e;r=Promise.all(O2(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const dU={test:t=>t==="auto",parse:t=>t},P2=t=>e=>e.test(t),V2=[dc,Te,Jr,Ea,UL,LL,dU],vE=t=>V2.find(P2(t));function fU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||JR(t):!0}const mU=new Set(["brightness","contrast","saturate","opacity"]);function pU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(lb)||[];if(!r)return t;const a=n.replace(r,"");let l=mU.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const gU=/\b([a-z-]*)\(.*?\)/gu,Lv={...Ha,getAnimatableNone:t=>{const e=t.match(gU);return e?e.map(pU).join(" "):t}},bE={...dc,transform:Math.round},yU={rotate:Ea,rotateX:Ea,rotateY:Ea,rotateZ:Ea,scale:of,scaleX:of,scaleY:of,scaleZ:of,skew:Ea,skewX:Ea,skewY:Ea,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Ju,originX:sE,originY:sE,originZ:Te},xb={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,inset:Te,insetBlock:Te,insetBlockStart:Te,insetBlockEnd:Te,insetInline:Te,insetInlineStart:Te,insetInlineEnd:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,paddingBlock:Te,paddingBlockStart:Te,paddingBlockEnd:Te,paddingInline:Te,paddingInlineStart:Te,paddingInlineEnd:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,marginBlock:Te,marginBlockStart:Te,marginBlockEnd:Te,marginInline:Te,marginInlineStart:Te,marginInlineEnd:Te,backgroundPositionX:Te,backgroundPositionY:Te,...yU,zIndex:bE,fillOpacity:Ju,strokeOpacity:Ju,numOctaves:bE},vU={...xb,color:wn,backgroundColor:wn,outlineColor:wn,fill:wn,stroke:wn,borderColor:wn,borderTopColor:wn,borderRightColor:wn,borderBottomColor:wn,borderLeftColor:wn,filter:Lv,WebkitFilter:Lv},j2=t=>vU[t];function L2(t,e){let n=j2(t);return n!==Lv&&(n=Ha),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const bU=new Set(["auto","none","0"]);function xU(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!bU.has(l)&&Zu(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=L2(n,a)}class _U extends pb{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let v=e[g];if(typeof v=="string"&&(v=v.trim(),ob(v))){const _=I2(v,n.current);_!==void 0&&(e[g]=_),g===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!D2.has(r)||e.length!==2)return;const[a,l]=e,c=vE(a),h=vE(l),d=rE(a),m=rE(l);if(d!==m&&Na[r]){this.needsMeasurement=!0;return}if(c!==h)if(fE(c)&&fE(h))for(let g=0;g<e.length;g++){const v=e[g];typeof v=="string"&&(e[g]=parseFloat(v))}else Na[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||fU(e[a]))&&r.push(a);r.length&&xU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Na[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=Na[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function wU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=n?.[t]??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const U2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function z2(t){return QR(t)&&"offsetHeight"in t}const{schedule:_b}=u2(queueMicrotask,!1),Sr={x:!1,y:!1};function B2(){return Sr.x||Sr.y}function TU(t){return t==="x"||t==="y"?Sr[t]?null:(Sr[t]=!0,()=>{Sr[t]=!1}):Sr.x||Sr.y?null:(Sr.x=Sr.y=!0,()=>{Sr.x=Sr.y=!1})}function F2(t,e){const n=wU(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function xE(t){return!(t.pointerType==="touch"||B2())}function EU(t,e,n={}){const[r,a,l]=F2(t,n),c=h=>{if(!xE(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const g=v=>{xE(v)&&(m(v),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,a)};return r.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const q2=(t,e)=>e?t===e?!0:q2(t,e.parentElement):!1,wb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,SU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function H2(t){return SU.has(t.tagName)||t.isContentEditable===!0}const Rf=new WeakSet;function _E(t){return e=>{e.key==="Enter"&&t(e)}}function Dy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const AU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=_E(()=>{if(Rf.has(n))return;Dy(n,"down");const a=_E(()=>{Dy(n,"up")}),l=()=>Dy(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function wE(t){return wb(t)&&!B2()}function CU(t,e,n={}){const[r,a,l]=F2(t,n),c=h=>{const d=h.currentTarget;if(!wE(h))return;Rf.add(d);const m=e(d,h),g=(C,M)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),Rf.has(d)&&Rf.delete(d),wE(C)&&typeof m=="function"&&m(C,{success:M})},v=C=>{g(C,d===window||d===document||n.useGlobalTarget||q2(d,C.target))},_=C=>{g(C,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",_,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),z2(h)&&(h.addEventListener("focus",m=>AU(m,a)),!H2(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function G2(t){return QR(t)&&"ownerSVGElement"in t}function RU(t){return G2(t)&&t.tagName==="svg"}const IU=[...V2,wn,Ha],NU=t=>IU.find(P2(t)),TE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ul=()=>({x:TE(),y:TE()}),EE=()=>({min:0,max:0}),Mn=()=>({x:EE(),y:EE()}),Uv={current:null},$2={current:!1},DU=typeof window<"u";function kU(){if($2.current=!0,!!DU)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Uv.current=t.matches;t.addEventListener("change",e),e()}else Uv.current=!1}const MU=new WeakMap;function ep(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function eh(t){return typeof t=="string"||Array.isArray(t)}const Tb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Eb=["initial",...Tb];function tp(t){return ep(t.animate)||Eb.some(e=>eh(t[e]))}function K2(t){return!!(tp(t)||t.variants)}function OU(t,e,n){for(const r in e){const a=e[r],l=n[r];if(li(a))t.addValue(r,a);else if(li(l))t.addValue(r,ic(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(r);t.addValue(r,ic(c!==void 0?c:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const SE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let dm={};function Y2(t){dm=t}function PU(){return dm}class VU{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=gi.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Lt.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=tp(n),this.isVariantNode=K2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in v){const C=v[_];d[_]!==void 0&&li(C)&&C.set(d[_])}}mount(e){this.current=e,MU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:($2.current||kU(),this.shouldReduceMotion=Uv.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qa(this.notifyUpdate),qa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=mc.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Lt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in dm){const n=dm[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<SE.length;r++){const a=SE[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=OU(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ic(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(WR(r)||JR(r))?r=parseFloat(r):!NU(r)&&Ha.test(n)&&(r=L2(e,n)),this.setBaseTarget(e,li(r)?r.get():r)),li(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=vb(this.props,n,this.presenceContext?.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!li(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new rb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){_b.render(this.render)}}class Xa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class X2 extends VU{constructor(){super(...arguments),this.KeyframeResolver=_U}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;li(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function W2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function jU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function LU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ky(t){return t===void 0||t===1}function zv({scale:t,scaleX:e,scaleY:n}){return!ky(t)||!ky(e)||!ky(n)}function Co(t){return zv(t)||Q2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Q2(t){return AE(t.x)||AE(t.y)}function AE(t){return t&&t!=="0%"}function fm(t,e,n){const r=t-n,a=e*r;return n+a}function CE(t,e,n,r,a){return a!==void 0&&(t=fm(t,a,r)),fm(t,n,r)+e}function Bv(t,e=0,n=1,r,a){t.min=CE(t.min,e,n,r,a),t.max=CE(t.max,e,n,r,a)}function J2(t,{x:e,y:n}){Bv(t.x,e.translate,e.scale,e.originPoint),Bv(t.y,n.translate,n.scale,n.originPoint)}const RE=.999999999999,IE=1.0000000000001;function UU(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Bl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,J2(t,c)),r&&Co(l.latestValues)&&Bl(t,l.latestValues))}e.x<IE&&e.x>RE&&(e.x=1),e.y<IE&&e.y>RE&&(e.y=1)}function zl(t,e){t.min=t.min+e,t.max=t.max+e}function NE(t,e,n,r,a=.5){const l=$t(t.min,t.max,a);Bv(t,e,n,l,r)}function Bl(t,e){NE(t.x,e.x,e.scaleX,e.scale,e.originX),NE(t.y,e.y,e.scaleY,e.scale,e.originY)}function Z2(t,e){return W2(LU(t.getBoundingClientRect(),e))}function zU(t,e,n){const r=Z2(t,n),{scroll:a}=e;return a&&(zl(r.x,a.offset.x),zl(r.y,a.offset.y)),r}const BU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FU=fc.length;function qU(t,e,n){let r="",a=!0;for(let l=0;l<FU;l++){const c=fc[l],h=t[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const m=U2(h,xb[c]);if(!d){a=!1;const g=BU[c]||c;r+=`${g}(${m}) `}n&&(e[c]=m)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function Sb(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const d in e){const m=e[d];if(mc.has(d)){c=!0;continue}else if(d2(d)){a[d]=m;continue}else{const g=U2(m,xb[d]);d.startsWith("origin")?(h=!0,l[d]=g):r[d]=g}}if(e.transform||(c||n?r.transform=qU(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:g=0}=l;r.transformOrigin=`${d} ${m} ${g}`}}function eI(t,{style:e,vars:n},r,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,r);for(c in n)l.setProperty(c,n[c])}function DE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const yu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=DE(t,e.target.x),r=DE(t,e.target.y);return`${n}% ${r}%`}},HU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=Ha.parse(t);if(a.length>5)return r;const l=Ha.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=d;const m=$t(h,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}},Fv={borderRadius:{...yu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yu,borderTopRightRadius:yu,borderBottomLeftRadius:yu,borderBottomRightRadius:yu,boxShadow:HU};function tI(t,{layout:e,layoutId:n}){return mc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Fv[t]||t==="opacity")}function Ab(t,e,n){const r=t.style,a=e?.style,l={};if(!r)return l;for(const c in r)(li(r[c])||a&&li(a[c])||tI(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=r[c]);return l}function GU(t){return window.getComputedStyle(t)}class $U extends X2{constructor(){super(...arguments),this.type="html",this.renderInstance=eI}readValueFromInstance(e,n){if(mc.has(n))return this.projection?.isProjecting?Iv(n):w6(e,n);{const r=GU(e),a=(d2(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Z2(e,n)}build(e,n,r){Sb(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Ab(e,n,r)}}const KU={offset:"stroke-dashoffset",array:"stroke-dasharray"},YU={offset:"strokeDashoffset",array:"strokeDasharray"};function XU(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?KU:YU;t[l.offset]=Te.transform(-r);const c=Te.transform(e),h=Te.transform(n);t[l.array]=`${c} ${h}`}const WU=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function nI(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},d,m,g){if(Sb(t,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:_}=t;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=g?.transformBox??"fill-box",delete v.transformBox);for(const C of WU)v[C]!==void 0&&(_[C]=v[C],delete v[C]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),a!==void 0&&XU(v,a,l,c,!1)}const iI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),rI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function QU(t,e,n,r){eI(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(iI.has(a)?a:bb(a),e.attrs[a])}function sI(t,e,n){const r=Ab(t,e,n);for(const a in t)if(li(t[a])||li(e[a])){const l=fc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}class JU extends X2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Mn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(mc.has(n)){const r=j2(n);return r&&r.default||0}return n=iI.has(n)?n:bb(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return sI(e,n,r)}build(e,n,r){nI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){QU(e,n,r,a)}mount(e){this.isSVGTag=rI(e.tagName),super.mount(e)}}const ZU=Eb.length;function aI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?aI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ZU;n++){const r=Eb[n],a=t.props[r];(eh(a)||a===!1)&&(e[r]=a)}return e}function oI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const e9=[...Tb].reverse(),t9=Tb.length;function n9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>hU(t,n,r)))}function i9(t){let e=n9(t),n=kE(),r=!0;const a=d=>(m,g)=>{const v=Kl(t,g,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:_,transitionEnd:C,...M}=v;m={...m,...M,...C}}return m};function l(d){e=d(t)}function c(d){const{props:m}=t,g=aI(t.parent)||{},v=[],_=new Set;let C={},M=1/0;for(let I=0;I<t9;I++){const z=e9[I],$=n[z],G=m[z]!==void 0?m[z]:g[z],ae=eh(G),te=z===d?$.isActive:null;te===!1&&(M=I);let le=G===g[z]&&G!==m[z]&&ae;if(le&&r&&t.manuallyAnimateOnMount&&(le=!1),$.protectedKeys={...C},!$.isActive&&te===null||!G&&!$.prevProp||ep(G)||typeof G=="boolean")continue;const N=r9($.prevProp,G);let A=N||z===d&&$.isActive&&!le&&ae||I>M&&ae,P=!1;const D=Array.isArray(G)?G:[G];let j=D.reduce(a(z),{});te===!1&&(j={});const{prevResolvedValues:B={}}=$,V={...B,...j},xe=q=>{A=!0,_.has(q)&&(P=!0,_.delete(q)),$.needsAnimating[q]=!0;const H=t.getValue(q);H&&(H.liveStyle=!1)};for(const q in V){const H=j[q],X=B[q];if(C.hasOwnProperty(q))continue;let L=!1;Pv(H)&&Pv(X)?L=!oI(H,X):L=H!==X,L?H!=null?xe(q):_.add(q):H!==void 0&&_.has(q)?xe(q):$.protectedKeys[q]=!0}$.prevProp=G,$.prevResolvedValues=j,$.isActive&&(C={...C,...j}),r&&t.blockInitialAnimation&&(A=!1);const ke=le&&N;A&&(!ke||P)&&v.push(...D.map(q=>{const H={type:z};if(typeof q=="string"&&r&&!ke&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,L=Kl(X,q);if(X.enteringChildren&&L){const{delayChildren:T}=L.transition||{};H.delay=N2(X.enteringChildren,t,T)}}return{animation:q,options:H}}))}if(_.size){const I={};if(typeof m.initial!="boolean"){const z=Kl(t,Array.isArray(m.initial)?m.initial[0]:m.initial);z&&z.transition&&(I.transition=z.transition)}_.forEach(z=>{const $=t.getBaseTarget(z),G=t.getValue(z);G&&(G.liveStyle=!0),I[z]=$??null}),v.push({animation:I})}let O=!!v.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(O=!1),r=!1,O?e(v):Promise.resolve()}function h(d,m){if(n[d].isActive===m)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,m)),n[d].isActive=m;const g=c(d);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=kE()}}}function r9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!oI(e,t):!1}function wo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kE(){return{animate:wo(!0),whileInView:wo(),whileHover:wo(),whileTap:wo(),whileDrag:wo(),whileFocus:wo(),exit:wo()}}const lI=1e-4,s9=1-lI,a9=1+lI,cI=.01,o9=0-cI,l9=0+cI;function yi(t){return t.max-t.min}function c9(t,e,n){return Math.abs(t-e)<=n}function ME(t,e,n,r=.5){t.origin=r,t.originPoint=$t(e.min,e.max,t.origin),t.scale=yi(n)/yi(e),t.translate=$t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=s9&&t.scale<=a9||isNaN(t.scale))&&(t.scale=1),(t.translate>=o9&&t.translate<=l9||isNaN(t.translate))&&(t.translate=0)}function ju(t,e,n,r){ME(t.x,e.x,n.x,r?r.originX:void 0),ME(t.y,e.y,n.y,r?r.originY:void 0)}function OE(t,e,n){t.min=n.min+e.min,t.max=t.min+yi(e)}function u9(t,e,n){OE(t.x,e.x,n.x),OE(t.y,e.y,n.y)}function PE(t,e,n){t.min=e.min-n.min,t.max=t.min+yi(e)}function mm(t,e,n){PE(t.x,e.x,n.x),PE(t.y,e.y,n.y)}function VE(t,e,n,r,a){return t-=e,t=fm(t,1/n,r),a!==void 0&&(t=fm(t,1/a,r)),t}function h9(t,e=0,n=1,r=.5,a,l=t,c=t){if(Jr.test(e)&&(e=parseFloat(e),e=$t(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=$t(l.min,l.max,r);t===l&&(h-=e),t.min=VE(t.min,e,n,h,a),t.max=VE(t.max,e,n,h,a)}function jE(t,e,[n,r,a],l,c){h9(t,e[n],e[r],e[a],e.scale,l,c)}const d9=["x","scaleX","originX"],f9=["y","scaleY","originY"];function LE(t,e,n,r){jE(t.x,e,d9,n?n.x:void 0,r?r.x:void 0),jE(t.y,e,f9,n?n.y:void 0,r?r.y:void 0)}function UE(t,e){t.min=e.min,t.max=e.max}function Er(t,e){UE(t.x,e.x),UE(t.y,e.y)}function zE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function BE(t){return t.translate===0&&t.scale===1}function uI(t){return BE(t.x)&&BE(t.y)}function FE(t,e){return t.min===e.min&&t.max===e.max}function m9(t,e){return FE(t.x,e.x)&&FE(t.y,e.y)}function qE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function hI(t,e){return qE(t.x,e.x)&&qE(t.y,e.y)}function HE(t){return yi(t.x)/yi(t.y)}function GE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function sr(t){return[t("x"),t("y")]}function p9(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:v,rotateY:_,skewX:C,skewY:M}=n;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),_&&(r+=`rotateY(${_}deg) `),C&&(r+=`skewX(${C}deg) `),M&&(r+=`skewY(${M}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const dI=["TopLeft","TopRight","BottomLeft","BottomRight"],g9=dI.length,$E=t=>typeof t=="string"?parseFloat(t):t,KE=t=>typeof t=="number"||Te.test(t);function y9(t,e,n,r,a,l){a?(t.opacity=$t(0,n.opacity??1,v9(r)),t.opacityExit=$t(e.opacity??1,0,b9(r))):l&&(t.opacity=$t(e.opacity??1,n.opacity??1,r));for(let c=0;c<g9;c++){const h=`border${dI[c]}Radius`;let d=YE(e,h),m=YE(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||KE(d)===KE(m)?(t[h]=Math.max($t($E(d),$E(m),r),0),(Jr.test(m)||Jr.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=$t(e.rotate||0,n.rotate||0,r))}function YE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const v9=fI(0,.5,a2),b9=fI(.5,.95,hr);function fI(t,e,n){return r=>r<t?0:r>e?1:n(Qu(t,e,r))}function x9(t,e){const n=gi.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(qa(r),t(l-e))};return Lt.setup(r,!0),()=>qa(r)}function th(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function If(t){return li(t)?t.get():t}function _9(t,e,n){const r=li(t)?t:ic(t);return r.start(yb("",r,e,n)),r.animation}const w9=(t,e)=>t.depth-e.depth;class T9{constructor(){this.children=[],this.isDirty=!1}add(e){eb(this.children,e),this.isDirty=!0}remove(e){tb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(w9),this.isDirty=!1,this.children.forEach(e)}}class E9{constructor(){this.members=[]}add(e){eb(this.members,e),e.scheduleRender()}remove(e){if(tb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Nf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},My=["","X","Y","Z"],S9=1e3;let A9=0;function Oy(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function mI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=M2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Lt,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&mI(r)}function pI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=A9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(I9),this.nodes.forEach(M9),this.nodes.forEach(O9),this.nodes.forEach(N9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new T9)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new rb),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=G2(c)&&!RU(c),this.instance=c;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let g,v=0;const _=()=>this.root.updateBlockedByResize=!1;Lt.read(()=>{v=window.innerWidth}),t(c,()=>{const C=window.innerWidth;C!==v&&(v=C,this.root.updateBlockedByResize=!0,g&&g(),g=x9(_,250),Nf.hasAnimatedSinceResize&&(Nf.hasAnimatedSinceResize=!1,this.nodes.forEach(QE)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||m.getDefaultTransition()||U9,{onLayoutAnimationStart:O,onLayoutAnimationComplete:I}=m.getProps(),z=!this.targetLayout||!hI(this.targetLayout,C),$=!v&&_;if(this.options.layoutRoot||this.resumeFrom||$||v&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const G={...gb(M,"layout"),onPlay:O,onComplete:I};(m.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G),this.setAnimationOrigin(g,$)}else v||QE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(P9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(WE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(k9),this.nodes.forEach(C9),this.nodes.forEach(R9)):this.nodes.forEach(WE),this.clearAllSnapshots();const h=gi.now();Zn.delta=is(0,1e3/60,h-Zn.timestamp),Zn.timestamp=h,Zn.isProcessing=!0,Sy.update.process(Zn),Sy.preRender.process(Zn),Sy.render.process(Zn),Zn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_b.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(D9),this.sharedNodes.forEach(V9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yi(this.snapshot.measuredBox.x)&&!yi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Mn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!uI(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||Co(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),z9(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Mn();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(B9))){const{scroll:m}=this.root;m&&(zl(h.x,m.offset.x),zl(h.y,m.offset.y))}return h}removeElementScroll(c){const h=Mn();if(Er(h,c),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:g,options:v}=m;m!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Er(h,c),zl(h.x,g.offset.x),zl(h.y,g.offset.y))}return h}applyTransform(c,h=!1){const d=Mn();Er(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Bl(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Co(g.latestValues)&&Bl(d,g.latestValues)}return Co(this.latestValues)&&Bl(d,this.latestValues),d}removeTransform(c){const h=Mn();Er(h,c);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Co(m.latestValues))continue;zv(m.latestValues)&&m.updateSnapshot();const g=Mn(),v=m.measurePageBox();Er(g,v),LE(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Co(this.latestValues)&&LE(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=Zn.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Mn(),this.targetWithTransforms=Mn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),u9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Er(this.target,this.layout.layoutBox),J2(this.target,this.targetDelta)):Er(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||zv(this.parent.latestValues)||Q2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,d){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mn(),this.relativeTargetOrigin=Mn(),mm(this.relativeTargetOrigin,h,d),Er(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Zn.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Er(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;UU(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Mn());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zE(this.prevProjectionDelta.x,this.projectionDelta.x),zE(this.prevProjectionDelta.y,this.projectionDelta.y)),ju(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!GE(this.projectionDelta.x,this.prevProjectionDelta.x)||!GE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ul(),this.projectionDelta=Ul(),this.projectionDeltaWithTransform=Ul()}setAnimationOrigin(c,h=!1){const d=this.snapshot,m=d?d.latestValues:{},g={...this.latestValues},v=Ul();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=Mn(),C=d?d.source:void 0,M=this.layout?this.layout.source:void 0,O=C!==M,I=this.getStack(),z=!I||I.members.length<=1,$=!!(O&&!z&&this.options.crossfade===!0&&!this.path.some(L9));this.animationProgress=0;let G;this.mixTargetDelta=ae=>{const te=ae/1e3;JE(v.x,c.x,te),JE(v.y,c.y,te),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mm(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j9(this.relativeTarget,this.relativeTargetOrigin,_,te),G&&m9(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=Mn()),Er(G,this.relativeTarget)),O&&(this.animationValues=g,y9(g,m,this.latestValues,te,$,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(qa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Lt.update(()=>{Nf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ic(0)),this.currentAnimation=_9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(S9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:g}=c;if(!(!h||!d||!m)){if(this!==c&&this.layout&&m&&gI(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Mn();const v=yi(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+v;const _=yi(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+_}Er(h,d),Bl(h,g),ju(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new E9),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&Oy("z",c,m,this.animationValues);for(let g=0;g<My.length;g++)Oy(`rotate${My[g]}`,c,m,this.animationValues),Oy(`skew${My[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=If(h?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=If(h?.pointerEvents)||""),this.hasProjected&&!Co(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=p9(this.projectionDeltaWithTransform,this.treeScale,g);d&&(v=d(g,v)),c.transform=v;const{x:_,y:C}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${C.origin*100}% 0`,m.animationValues?c.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const M in Fv){if(g[M]===void 0)continue;const{correct:O,applyTo:I,isCSSVariable:z}=Fv[M],$=v==="none"?g[M]:O(g[M],m);if(I){const G=I.length;for(let ae=0;ae<G;ae++)c[I[ae]]=$}else z?this.options.visualElement.renderState.vars[M]=$:c[M]=$}this.options.layoutId&&(c.pointerEvents=m===this?If(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(XE),this.root.sharedNodes.clear()}}}function C9(t){t.updateLayout()}function R9(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?sr(g=>{const v=l?e.measuredBox[g]:e.layoutBox[g],_=yi(v);v.min=n[g].min,v.max=v.min+_}):gI(a,e.layoutBox,n)&&sr(g=>{const v=l?e.measuredBox[g]:e.layoutBox[g],_=yi(n[g]);v.max=v.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+_)});const c=Ul();ju(c,n,e.layoutBox);const h=Ul();l?ju(h,t.applyTransform(r,!0),e.measuredBox):ju(h,n,e.layoutBox);const d=!uI(c);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:_}=g;if(v&&_){const C=Mn();mm(C,e.layoutBox,v.layoutBox);const M=Mn();mm(M,n,_.layoutBox),hI(C,M)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=C,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function I9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function N9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function D9(t){t.clearSnapshot()}function XE(t){t.clearMeasurements()}function WE(t){t.isLayoutDirty=!1}function k9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function QE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function M9(t){t.resolveTargetDelta()}function O9(t){t.calcProjection()}function P9(t){t.resetSkewAndRotation()}function V9(t){t.removeLeadSnapshot()}function JE(t,e,n){t.translate=$t(e.translate,0,n),t.scale=$t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ZE(t,e,n,r){t.min=$t(e.min,n.min,r),t.max=$t(e.max,n.max,r)}function j9(t,e,n,r){ZE(t.x,e.x,n.x,r),ZE(t.y,e.y,n.y,r)}function L9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const U9={duration:.45,ease:[.4,0,.1,1]},eS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),tS=eS("applewebkit/")&&!eS("chrome/")?Math.round:hr;function nS(t){t.min=tS(t.min),t.max=tS(t.max)}function z9(t){nS(t.x),nS(t.y)}function gI(t,e,n){return t==="position"||t==="preserve-aspect"&&!c9(HE(e),HE(n),.2)}function B9(t){return t!==t.root&&t.scroll?.wasRoot}const F9=pI({attachResizeListener:(t,e)=>th(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Py={current:void 0},yI=pI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Py.current){const t=new F9({});t.mount(window),t.setOptions({layoutScroll:!0}),Py.current=t}return Py.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Cb=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function iS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function q9(...t){return e=>{let n=!1;const r=t.map(a=>{const l=iS(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():iS(t[a],null)}}}}function H9(...t){return S.useCallback(q9(...t),t)}class G9 extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=z2(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $9({children:t,isPresent:e,anchorX:n,root:r}){const a=S.useId(),l=S.useRef(null),c=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=S.useContext(Cb),d=t.props?.ref??t?.ref,m=H9(l,d);return S.useInsertionEffect(()=>{const{width:g,height:v,top:_,left:C,right:M}=c.current;if(e||!l.current||!g||!v)return;const O=n==="left"?`left: ${C}`:`right: ${M}`;l.current.dataset.motionPopId=a;const I=document.createElement("style");h&&(I.nonce=h);const z=r??document.head;return z.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${O}px !important;
            top: ${_}px !important;
          }
        `),()=>{z.contains(I)&&z.removeChild(I)}},[e]),b.jsx(G9,{isPresent:e,childRef:l,sizeRef:c,children:S.cloneElement(t,{ref:m})})}const K9=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,root:d})=>{const m=Z0(Y9),g=S.useId();let v=!0,_=S.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:C=>{m.set(C,!0);for(const M of m.values())if(!M)return;r&&r()},register:C=>(m.set(C,!1),()=>m.delete(C))}),[n,m,r]);return l&&v&&(_={..._}),S.useMemo(()=>{m.forEach((C,M)=>m.set(M,!1))},[n]),S.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),c==="popLayout"&&(t=b.jsx($9,{isPresent:n,anchorX:h,root:d,children:t})),b.jsx(Zm.Provider,{value:_,children:t})};function Y9(){return new Map}function vI(t=!0){const e=S.useContext(Zm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=S.useId();S.useEffect(()=>{if(t)return a(l)},[t]);const c=S.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const lf=t=>t.key||"";function rS(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const Ar=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",root:d})=>{const[m,g]=vI(c),v=S.useMemo(()=>rS(t),[t]),_=c&&!m?[]:v.map(lf),C=S.useRef(!0),M=S.useRef(v),O=Z0(()=>new Map),I=S.useRef(new Set),[z,$]=S.useState(v),[G,ae]=S.useState(v);XR(()=>{C.current=!1,M.current=v;for(let N=0;N<G.length;N++){const A=lf(G[N]);_.includes(A)?(O.delete(A),I.current.delete(A)):O.get(A)!==!0&&O.set(A,!1)}},[G,_.length,_.join("-")]);const te=[];if(v!==z){let N=[...v];for(let A=0;A<G.length;A++){const P=G[A],D=lf(P);_.includes(D)||(N.splice(A,0,P),te.push(P))}return l==="wait"&&te.length&&(N=te),ae(rS(N)),$(v),null}const{forceRender:le}=S.useContext(J0);return b.jsx(b.Fragment,{children:G.map(N=>{const A=lf(N),P=c&&!m?!1:v===G||_.includes(A),D=()=>{if(I.current.has(A))return;if(I.current.add(A),O.has(A))O.set(A,!0);else return;let j=!0;O.forEach(B=>{B||(j=!1)}),j&&(le?.(),ae(M.current),c&&g?.(),r&&r())};return b.jsx(K9,{isPresent:P,initial:!C.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:P?void 0:D,anchorX:h,children:N},A)})})},bI=S.createContext({strict:!1}),sS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let aS=!1;function X9(){if(aS)return;const t={};for(const e in sS)t[e]={isEnabled:n=>sS[e].some(r=>!!n[r])};Y2(t),aS=!0}function xI(){return X9(),PU()}function W9(t){const e=xI();for(const n in t)e[n]={...e[n],...t[n]};Y2(e)}const Q9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Q9.has(t)}let _I=t=>!pm(t);function J9(t){typeof t=="function"&&(_I=e=>e.startsWith("on")?!pm(e):t(e))}try{J9(require("@emotion/is-prop-valid").default)}catch{}function Z9(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(_I(a)||n===!0&&pm(a)||!e&&!pm(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const np=S.createContext({});function ez(t,e){if(tp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||eh(n)?n:void 0,animate:eh(r)?r:void 0}}return t.inherit!==!1?e:{}}function tz(t){const{initial:e,animate:n}=ez(t,S.useContext(np));return S.useMemo(()=>({initial:e,animate:n}),[oS(e),oS(n)])}function oS(t){return Array.isArray(t)?t.join(" "):t}const Rb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wI(t,e,n){for(const r in e)!li(e[r])&&!tI(r,n)&&(t[r]=e[r])}function nz({transformTemplate:t},e){return S.useMemo(()=>{const n=Rb();return Sb(n,e,t),Object.assign({},n.vars,n.style)},[e])}function iz(t,e){const n=t.style||{},r={};return wI(r,n,t),Object.assign(r,nz(t,e)),r}function rz(t,e){const n={},r=iz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const TI=()=>({...Rb(),attrs:{}});function sz(t,e,n,r){const a=S.useMemo(()=>{const l=TI();return nI(l,e,rI(r),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};wI(l,t.style,t),a.style={...l,...a.style}}return a}const az=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ib(t){return typeof t!="string"||t.includes("-")?!1:!!(az.indexOf(t)>-1||/[A-Z]/u.test(t))}function oz(t,e,n,{latestValues:r},a,l=!1,c){const d=(c??Ib(t)?sz:rz)(e,r,a,t),m=Z9(e,typeof t=="string",l),g=t!==S.Fragment?{...m,...d,ref:n}:{},{children:v}=e,_=S.useMemo(()=>li(v)?v.get():v,[v]);return S.createElement(t,{...g,children:_})}function lz({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:cz(n,r,a,t),renderState:e()}}function cz(t,e,n,r){const a={},l=r(t,{});for(const _ in l)a[_]=If(l[_]);let{initial:c,animate:h}=t;const d=tp(t),m=K2(t);e&&m&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const v=g?h:c;if(v&&typeof v!="boolean"&&!ep(v)){const _=Array.isArray(v)?v:[v];for(let C=0;C<_.length;C++){const M=vb(t,_[C]);if(M){const{transitionEnd:O,transition:I,...z}=M;for(const $ in z){let G=z[$];if(Array.isArray(G)){const ae=g?G.length-1:0;G=G[ae]}G!==null&&(a[$]=G)}for(const $ in O)a[$]=O[$]}}}return a}const EI=t=>(e,n)=>{const r=S.useContext(np),a=S.useContext(Zm),l=()=>lz(t,e,r,a);return n?l():Z0(l)},uz=EI({scrapeMotionValuesFromProps:Ab,createRenderState:Rb}),hz=EI({scrapeMotionValuesFromProps:sI,createRenderState:TI}),dz=Symbol.for("motionComponentSymbol");function fz(t,e,n){const r=S.useRef(n);S.useInsertionEffect(()=>{r.current=n});const a=S.useRef(null);return S.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=r.current;if(typeof c=="function")if(l){const h=c(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const SI=S.createContext({});function Au(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function mz(t,e,n,r,a,l){const{visualElement:c}=S.useContext(np),h=S.useContext(bI),d=S.useContext(Zm),m=S.useContext(Cb).reducedMotion,g=S.useRef(null);r=r||h.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:c,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m,isSVG:l}));const v=g.current,_=S.useContext(SI);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&pz(g.current,n,a,_);const C=S.useRef(!1);S.useInsertionEffect(()=>{v&&C.current&&v.update(n,d)});const M=n[k2],O=S.useRef(!!M&&!window.MotionHandoffIsComplete?.(M)&&window.MotionHasOptimisedAnimation?.(M));return XR(()=>{v&&(C.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),O.current&&v.animationState&&v.animationState.animateChanges())}),S.useEffect(()=>{v&&(!O.current&&v.animationState&&v.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(M)}),O.current=!1),v.enteringChildren=void 0)}),v}function pz(t,e,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:AI(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&Au(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:m})}function AI(t){if(t)return t.options.allowProjection!==!1?t.projection:AI(t.parent)}function Vy(t,{forwardMotionProps:e=!1,type:n}={},r,a){r&&W9(r);const l=n?n==="svg":Ib(t),c=l?hz:uz;function h(m,g){let v;const _={...S.useContext(Cb),...m,layoutId:gz(m)},{isStatic:C}=_,M=tz(m),O=c(m,C);if(!C&&YR){yz();const I=vz(_);v=I.MeasureLayout,M.visualElement=mz(t,O,_,a,I.ProjectionNode,l)}return b.jsxs(np.Provider,{value:M,children:[v&&M.visualElement?b.jsx(v,{visualElement:M.visualElement,..._}):null,oz(t,m,fz(O,M.visualElement,g),O,C,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=S.forwardRef(h);return d[dz]=t,d}function gz({layoutId:t}){const e=S.useContext(J0).id;return e&&t!==void 0?e+"-"+t:t}function yz(t,e){S.useContext(bI).strict}function vz(t){const e=xI(),{drag:n,layout:r}=e;if(!n&&!r)return{};const a={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function bz(t,e){if(typeof Proxy>"u")return Vy;const n=new Map,r=(l,c)=>Vy(l,c,t,e),a=(l,c)=>r(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?r:(n.has(c)||n.set(c,Vy(c,void 0,t,e)),n.get(c))})}const xz=(t,e)=>e.isSVG??Ib(t)?new JU(e):new $U(e,{allowProjection:t!==S.Fragment});class _z extends Xa{constructor(e){super(e),e.animationState||(e.animationState=i9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ep(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let wz=0;class Tz extends Xa{constructor(){super(...arguments),this.id=wz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Ez={animation:{Feature:_z},exit:{Feature:Tz}};function Rh(t){return{point:{x:t.pageX,y:t.pageY}}}const Sz=t=>e=>wb(e)&&t(e,Rh(e));function Lu(t,e,n,r){return th(t,e,Sz(n),r)}const CI=({current:t})=>t?t.ownerDocument.defaultView:null,lS=(t,e)=>Math.abs(t-e);function Az(t,e){const n=lS(t.x,e.x),r=lS(t.y,e.y);return Math.sqrt(n**2+r**2)}const cS=new Set(["auto","scroll"]);class RI{constructor(e,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=C=>{this.handleScroll(C.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Ly(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,O=Az(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!O)return;const{point:I}=C,{timestamp:z}=Zn;this.history.push({...I,timestamp:z});const{onStart:$,onMove:G}=this.handlers;M||($&&$(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),G&&G(this.lastMoveEvent,C)},this.handlePointerMove=(C,M)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=jy(M,this.transformPagePoint),Lt.update(this.updatePoint,!0)},this.handlePointerUp=(C,M)=>{this.end();const{onEnd:O,onSessionEnd:I,resumeAnimation:z}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=Ly(C.type==="pointercancel"?this.lastMoveEventInfo:jy(M,this.transformPagePoint),this.history);this.startEvent&&O&&O(C,$),I&&I(C,$)},!wb(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=a||window;const d=Rh(e),m=jy(d,this.transformPagePoint),{point:g}=m,{timestamp:v}=Zn;this.history=[{...g,timestamp:v}];const{onSessionStart:_}=n;_&&_(e,Ly(m,this.history)),this.removeListeners=Sh(Lu(this.contextWindow,"pointermove",this.handlePointerMove),Lu(this.contextWindow,"pointerup",this.handlePointerUp),Lu(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(cS.has(r.overflowX)||cS.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,a=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),Lt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),qa(this.updatePoint)}}function jy(t,e){return e?{point:e(t.point)}:t}function uS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ly({point:t},e){return{point:t,delta:uS(t,II(e)),offset:uS(t,Cz(e)),velocity:Rz(e,.1)}}function Cz(t){return t[0]}function II(t){return t[t.length-1]}function Rz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=II(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>Ms(e)));)n--;if(!r)return{x:0,y:0};const l=lr(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Iz(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?$t(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?$t(n,t,r.max):Math.min(t,n)),t}function hS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Nz(t,{top:e,left:n,bottom:r,right:a}){return{x:hS(t.x,n,a),y:hS(t.y,e,r)}}function dS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Dz(t,e){return{x:dS(t.x,e.x),y:dS(t.y,e.y)}}function kz(t,e){let n=.5;const r=yi(t),a=yi(e);return a>r?n=Qu(e.min,e.max-r,t.min):r>a&&(n=Qu(t.min,t.max-a,e.min)),is(0,1,n)}function Mz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const qv=.35;function Oz(t=qv){return t===!1?t=0:t===!0&&(t=qv),{x:fS(t,"left","right"),y:fS(t,"top","bottom")}}function fS(t,e,n){return{min:mS(t,e),max:mS(t,n)}}function mS(t,e){return typeof t=="number"?t:t[e]||0}const Pz=new WeakMap;class Vz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(Rh(v).point)):this.pauseAnimation()},c=(v,_)=>{this.stopAnimation();const{drag:C,dragPropagation:M,onDragStart:O}=this.getProps();if(C&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=TU(C),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sr(z=>{let $=this.getAxisMotionValue(z).get()||0;if(Jr.test($)){const{projection:G}=this.visualElement;if(G&&G.layout){const ae=G.layout.layoutBox[z];ae&&($=yi(ae)*(parseFloat($)/100))}}this.originPoint[z]=$}),O&&Lt.postRender(()=>O(v,_)),Vv(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},h=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_;const{dragPropagation:C,dragDirectionLock:M,onDirectionLock:O,onDrag:I}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:z}=_;if(M&&this.currentDirection===null){this.currentDirection=jz(z),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",_.point,z),this.updateAxis("y",_.point,z),this.visualElement.render(),I&&I(v,_)},d=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_,this.stop(v,_),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>sr(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new RI(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:CI(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!r)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Lt.postRender(()=>h(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!cf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=Iz(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Au(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Nz(r.layoutBox,e):this.constraints=!1,this.elastic=Oz(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&sr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Mz(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Au(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=zU(r,a.root,this.visualElement.getTransformPagePoint());let c=Dz(a.layout.layoutBox,l);if(n){const h=n(jU(c));this.hasMutatedConstraints=!!h,h&&(c=W2(h))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=sr(g=>{if(!cf(g,n,this.currentDirection))return;let v=d&&d[g]||{};c&&(v={min:0,max:0});const _=a?200:1e6,C=a?40:1e7,M={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,M)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Vv(this.visualElement,e),r.start(yb(e,r,0,n,this.visualElement,!1))}stopAnimation(){sr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){sr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){sr(n=>{const{drag:r}=this.getProps();if(!cf(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n],d=l.get()||0;l.set(e[n]-$t(c,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Au(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};sr(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();a[c]=kz({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),sr(c=>{if(!cf(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:m}=this.constraints[c];h.set($t(d,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;Pz.set(this.visualElement,this);const e=this.visualElement.current,n=Lu(e,"pointerdown",d=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&!H2(d.target)&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Au(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Lt.read(r);const c=th(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(sr(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=d[g].translate,v.set(v.get()+d[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=qv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function cf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function jz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Lz extends Xa{constructor(e){super(e),this.removeGroupControls=hr,this.removeListeners=hr,this.controls=new Vz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hr}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const pS=t=>(e,n)=>{t&&Lt.postRender(()=>t(e,n))};class Uz extends Xa{constructor(){super(...arguments),this.removePointerDownListener=hr}onPointerDown(e){this.session=new RI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:pS(e),onStart:pS(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&Lt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Lu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Uy=!1;class zz extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),Uy&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Nf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,Uy=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Lt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_b.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;Uy=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function NI(t){const[e,n]=vI(),r=S.useContext(J0);return b.jsx(zz,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(SI),isPresent:e,safeToRemove:n})}const Bz={pan:{Feature:Uz},drag:{Feature:Lz,ProjectionNode:yI,MeasureLayout:NI}};function gS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&Lt.postRender(()=>l(e,Rh(e)))}class Fz extends Xa{mount(){const{current:e}=this.node;e&&(this.unmount=EU(e,(n,r)=>(gS(this.node,r,"Start"),a=>gS(this.node,a,"End"))))}unmount(){}}class qz extends Xa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sh(th(this.node.current,"focus",()=>this.onFocus()),th(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&Lt.postRender(()=>l(e,Rh(e)))}class Hz extends Xa{mount(){const{current:e}=this.node;e&&(this.unmount=CU(e,(n,r)=>(yS(this.node,r,"Start"),(a,{success:l})=>yS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Hv=new WeakMap,zy=new WeakMap,Gz=t=>{const e=Hv.get(t.target);e&&e(t)},$z=t=>{t.forEach(Gz)};function Kz({root:t,...e}){const n=t||document;zy.has(n)||zy.set(n,{});const r=zy.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver($z,{root:t,...e})),r[a]}function Yz(t,e,n){const r=Kz(e);return Hv.set(t,n),r.observe(t),()=>{Hv.delete(t),r.unobserve(t)}}const Xz={some:0,all:1};class Wz extends Xa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Xz[a]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=m?g:v;_&&_(d)};return Yz(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Qz(e,n))&&this.startObserver()}unmount(){}}function Qz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Jz={inView:{Feature:Wz},tap:{Feature:Hz},focus:{Feature:qz},hover:{Feature:Fz}},Zz={layout:{ProjectionNode:yI,MeasureLayout:NI}},eB={...Ez,...Jz,...Bz,...Zz},ut=bz(eB,xz);const tB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),vS=t=>{const e=nB(t);return e.charAt(0).toUpperCase()+e.slice(1)},DI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),iB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var rB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sB=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...h},d)=>S.createElement("svg",{ref:d,...rB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:DI("lucide",a),...!l&&!iB(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,g])=>S.createElement(m,g)),...Array.isArray(l)?l:[l]]));const at=(t,e)=>{const n=S.forwardRef(({className:r,...a},l)=>S.createElement(sB,{ref:l,iconNode:e,className:DI(`lucide-${tB(vS(t))}`,`lucide-${t}`,r),...a}));return n.displayName=vS(t),n};const aB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],oB=at("arrow-left",aB);const lB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],cB=at("arrow-right",lB);const uB=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],bS=at("award",uB);const hB=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],gm=at("book-open",hB);const dB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ym=at("calendar",dB);const fB=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],kI=at("camera",fB);const mB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Cs=at("check",mB);const pB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],MI=at("chevron-left",pB);const gB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],OI=at("chevron-right",gB);const yB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xS=at("circle-alert",yB);const vB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bB=at("circle-check-big",vB);const xB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],PI=at("circle-question-mark",xB);const _B=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wB=at("clock",_B);const TB=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],VI=at("layout-grid",TB);const EB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jI=at("log-out",EB);const SB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],AB=at("mail",SB);const CB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],RB=at("menu",CB);const IB=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],_S=at("palette",IB);const NB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Df=at("pen",NB);const DB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],kB=at("pencil",DB);const MB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nh=at("plus",MB);const OB=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],PB=at("printer",OB);const VB=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],wS=at("rocket",VB);const jB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LB=at("settings",jB);const UB=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],kf=at("share-2",UB);const zB=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],BB=at("sparkles",zB);const FB=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qB=at("square-check-big",FB);const HB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Mf=at("trash-2",HB);const GB=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],$B=at("trophy",GB);const KB=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],YB=at("type",KB);const XB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],WB=at("user-plus",XB);const QB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],LI=at("user",QB);const JB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ZB=at("users",JB);const e8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Os=at("x",e8);const t8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],TS=at("zap",t8),UI=S.createContext(null),zI=()=>{const t=S.useContext(UI);if(!t)throw new Error("useDialog must be used within a DialogProvider");return t},n8=({children:t})=>{const[e,n]=S.useState({isOpen:!1,type:"alert",options:{message:""},resolve:null}),[r,a]=S.useState(""),[l,c]=S.useState("editor"),h=S.useCallback((M,O)=>new Promise(I=>{a(O.inputDefaultValue||""),c("editor"),n({isOpen:!0,type:M,options:O,resolve:I})}),[]),d=S.useCallback(M=>{e.resolve&&e.resolve(M),n(O=>({...O,isOpen:!1,resolve:null}))},[e.resolve]),m=S.useCallback((M,O)=>h("alert",{message:M,title:"Notice",confirmText:"OK",type:"info",...O}),[h]),g=S.useCallback((M,O)=>h("confirm",{message:M,title:"Confirm",confirmText:"Yes",cancelText:"Cancel",type:"warning",...O}),[h]),v=S.useCallback((M,O)=>h("prompt",{message:M,title:"Input",confirmText:"OK",cancelText:"Cancel",inputPlaceholder:"",...O}),[h]),_=S.useCallback((M,O)=>h("share",{message:M,title:"Share Board",confirmText:"Send Invite",cancelText:"Cancel",showRoleSelector:!0,inputPlaceholder:"Enter email address",...O}),[h]),C=()=>{switch(e.options.type){case"success":return b.jsx(bB,{className:"w-8 h-8 text-green-400"});case"warning":return b.jsx(xS,{className:"w-8 h-8 text-amber-400"});case"error":return b.jsx(xS,{className:"w-8 h-8 text-red-400"});default:return b.jsx(PI,{className:"w-8 h-8 text-accent-primary"})}};return b.jsxs(UI.Provider,{value:{alert:m,confirm:g,prompt:v,sharePrompt:_},children:[t,b.jsx(Ar,{children:e.isOpen&&b.jsx(ut.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!1):d(null)},children:b.jsxs(ut.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:M=>M.stopPropagation(),children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="share"?b.jsx(AB,{className:"w-6 h-6 text-accent-primary"}):C(),b.jsx("h3",{className:"text-lg font-bold text-white",children:e.options.title})]}),b.jsx("button",{onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!1):d(null)},className:"p-1 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:b.jsx(Os,{size:20})})]}),b.jsxs("div",{className:"p-6",children:[b.jsx("p",{className:"text-slate-300 mb-4 whitespace-pre-wrap",children:e.options.message}),(e.type==="prompt"||e.type==="share")&&b.jsx("input",{type:e.type==="share"?"email":"text",autoFocus:!0,value:r,onChange:M=>a(M.target.value),placeholder:e.options.inputPlaceholder,className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors mb-4",onKeyDown:M=>{M.key==="Enter"&&r.trim()&&(e.type==="share"?d({email:r.trim(),role:l}):d(r.trim()))}}),e.type==="share"&&e.options.showRoleSelector&&b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"text-sm font-medium text-slate-400 mb-2 block",children:"Access Level"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>c("viewer"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="viewer"?"bg-accent-primary/20 text-accent-primary border border-accent-primary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Viewer"}),b.jsx("button",{onClick:()=>c("editor"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Editor"})]}),b.jsx("p",{className:"text-xs text-slate-500 mt-2",children:l==="viewer"?"Can view the board but not make changes":"Can view and edit the board"})]})]}),b.jsxs("div",{className:"flex gap-3 p-4 pt-0",children:[e.type!=="alert"&&b.jsx("button",{onClick:()=>{e.type==="confirm"?d(!1):d(null)},className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:e.options.cancelText}),b.jsx("button",{onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!0):e.type==="share"?r.trim()&&d({email:r.trim(),role:l}):d(r.trim()||null)},disabled:(e.type==="prompt"||e.type==="share")&&!r.trim(),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.options.confirmText})]})]})})})]})};function BI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=BI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function i8(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=BI(t))&&(r&&(r+=" "),r+=e);return r}const r8=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},s8=(t,e)=>({classGroupId:t,validator:e}),FI=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),vm="-",ES=[],a8="arbitrary..",o8=t=>{const e=c8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return l8(c);const h=c.split(vm),d=h[0]===""&&h.length>1?1:0;return qI(h,d,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const d=r[c],m=n[c];return d?m?r8(m,d):d:m||ES}return n[c]||ES}}},qI=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const m=qI(t,e+1,l);if(m)return m}const c=n.validators;if(c===null)return;const h=e===0?t.join(vm):t.slice(e).join(vm),d=c.length;for(let m=0;m<d;m++){const g=c[m];if(g.validator(h))return g.classGroupId}},l8=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?a8+r:void 0})(),c8=t=>{const{theme:e,classGroups:n}=t;return u8(n,e)},u8=(t,e)=>{const n=FI();for(const r in t){const a=t[r];Nb(a,n,r,e)}return n},Nb=(t,e,n,r)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];h8(c,e,n,r)}},h8=(t,e,n,r)=>{if(typeof t=="string"){d8(t,e,n);return}if(typeof t=="function"){f8(t,e,n,r);return}m8(t,e,n,r)},d8=(t,e,n)=>{const r=t===""?e:HI(e,t);r.classGroupId=n},f8=(t,e,n,r)=>{if(p8(t)){Nb(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(s8(n,t))},m8=(t,e,n,r)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[h,d]=a[c];Nb(d,HI(e,h),n,r)}},HI=(t,e)=>{let n=t;const r=e.split(vm),a=r.length;for(let l=0;l<a;l++){const c=r[l];let h=n.nextPart.get(c);h||(h=FI(),n.nextPart.set(c,h)),n=h}return n},p8=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,g8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=r[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},Gv="!",SS=":",y8=[],AS=(t,e,n,r,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),v8=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const l=[];let c=0,h=0,d=0,m;const g=a.length;for(let O=0;O<g;O++){const I=a[O];if(c===0&&h===0){if(I===SS){l.push(a.slice(d,O)),d=O+1;continue}if(I==="/"){m=O;continue}}I==="["?c++:I==="]"?c--:I==="("?h++:I===")"&&h--}const v=l.length===0?a:a.slice(d);let _=v,C=!1;v.endsWith(Gv)?(_=v.slice(0,-1),C=!0):v.startsWith(Gv)&&(_=v.slice(1),C=!0);const M=m&&m>d?m-d:void 0;return AS(l,C,_,M)};if(e){const a=e+SS,l=r;r=c=>c.startsWith(a)?l(c.slice(a.length)):AS(y8,!1,c,void 0,!0)}if(n){const a=r;r=l=>n({className:l,parseClassName:a})}return r},b8=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],h=c[0]==="[",d=e.has(c);h||d?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(c)):a.push(c)}return a.length>0&&(a.sort(),r.push(...a)),r}},x8=t=>({cache:g8(t.cacheSize),parseClassName:v8(t),sortModifiers:b8(t),...o8(t)}),_8=/\s+/,w8=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],h=t.trim().split(_8);let d="";for(let m=h.length-1;m>=0;m-=1){const g=h[m],{isExternal:v,modifiers:_,hasImportantModifier:C,baseClassName:M,maybePostfixModifierPosition:O}=n(g);if(v){d=g+(d.length>0?" "+d:d);continue}let I=!!O,z=r(I?M.substring(0,O):M);if(!z){if(!I){d=g+(d.length>0?" "+d:d);continue}if(z=r(M),!z){d=g+(d.length>0?" "+d:d);continue}I=!1}const $=_.length===0?"":_.length===1?_[0]:l(_).join(":"),G=C?$+Gv:$,ae=G+z;if(c.indexOf(ae)>-1)continue;c.push(ae);const te=a(z,I);for(let le=0;le<te.length;++le){const N=te[le];c.push(G+N)}d=g+(d.length>0?" "+d:d)}return d},T8=(...t)=>{let e=0,n,r,a="";for(;e<t.length;)(n=t[e++])&&(r=GI(n))&&(a&&(a+=" "),a+=r);return a},GI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=GI(t[r]))&&(n&&(n+=" "),n+=e);return n},E8=(t,...e)=>{let n,r,a,l;const c=d=>{const m=e.reduce((g,v)=>v(g),t());return n=x8(m),r=n.cache.get,a=n.cache.set,l=h,h(d)},h=d=>{const m=r(d);if(m)return m;const g=w8(d,n);return a(d,g),g};return l=c,(...d)=>l(T8(...d))},S8=[],kn=t=>{const e=n=>n[t]||S8;return e.isThemeGetter=!0,e},$I=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,KI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,A8=/^\d+\/\d+$/,C8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,R8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,I8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,N8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,D8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dl=t=>A8.test(t),Ye=t=>!!t&&!Number.isNaN(Number(t)),wa=t=>!!t&&Number.isInteger(Number(t)),By=t=>t.endsWith("%")&&Ye(t.slice(0,-1)),Ss=t=>C8.test(t),k8=()=>!0,M8=t=>R8.test(t)&&!I8.test(t),YI=()=>!1,O8=t=>N8.test(t),P8=t=>D8.test(t),V8=t=>!Ce(t)&&!Re(t),j8=t=>pc(t,QI,YI),Ce=t=>$I.test(t),To=t=>pc(t,JI,M8),Fy=t=>pc(t,F8,Ye),CS=t=>pc(t,XI,YI),L8=t=>pc(t,WI,P8),uf=t=>pc(t,ZI,O8),Re=t=>KI.test(t),vu=t=>gc(t,JI),U8=t=>gc(t,q8),RS=t=>gc(t,XI),z8=t=>gc(t,QI),B8=t=>gc(t,WI),hf=t=>gc(t,ZI,!0),pc=(t,e,n)=>{const r=$I.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},gc=(t,e,n=!1)=>{const r=KI.exec(t);return r?r[1]?e(r[1]):n:!1},XI=t=>t==="position"||t==="percentage",WI=t=>t==="image"||t==="url",QI=t=>t==="length"||t==="size"||t==="bg-size",JI=t=>t==="length",F8=t=>t==="number",q8=t=>t==="family-name",ZI=t=>t==="shadow",H8=()=>{const t=kn("color"),e=kn("font"),n=kn("text"),r=kn("font-weight"),a=kn("tracking"),l=kn("leading"),c=kn("breakpoint"),h=kn("container"),d=kn("spacing"),m=kn("radius"),g=kn("shadow"),v=kn("inset-shadow"),_=kn("text-shadow"),C=kn("drop-shadow"),M=kn("blur"),O=kn("perspective"),I=kn("aspect"),z=kn("ease"),$=kn("animate"),G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],te=()=>[...ae(),Re,Ce],le=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],A=()=>[Re,Ce,d],P=()=>[Dl,"full","auto",...A()],D=()=>[wa,"none","subgrid",Re,Ce],j=()=>["auto",{span:["full",wa,Re,Ce]},wa,Re,Ce],B=()=>[wa,"auto",Re,Ce],V=()=>["auto","min","max","fr",Re,Ce],xe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ke=()=>["start","end","center","stretch","center-safe","end-safe"],Z=()=>["auto",...A()],q=()=>[Dl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],H=()=>[t,Re,Ce],X=()=>[...ae(),RS,CS,{position:[Re,Ce]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],T=()=>["auto","cover","contain",z8,j8,{size:[Re,Ce]}],U=()=>[By,vu,To],W=()=>["","none","full",m,Re,Ce],re=()=>["",Ye,vu,To],pe=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],fe=()=>[Ye,By,RS,CS],ve=()=>["","none",M,Re,Ce],_e=()=>["none",Ye,Re,Ce],Ee=()=>["none",Ye,Re,Ce],Le=()=>[Ye,Re,Ce],Ve=()=>[Dl,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ss],breakpoint:[Ss],color:[k8],container:[Ss],"drop-shadow":[Ss],ease:["in","out","in-out"],font:[V8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ss],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ss],shadow:[Ss],spacing:["px",Ye],text:[Ss],"text-shadow":[Ss],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Dl,Ce,Re,I]}],container:["container"],columns:[{columns:[Ye,Ce,Re,h]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:te()}],overflow:[{overflow:le()}],"overflow-x":[{"overflow-x":le()}],"overflow-y":[{"overflow-y":le()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[wa,"auto",Re,Ce]}],basis:[{basis:[Dl,"full","auto",h,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ye,Dl,"auto","initial","none",Ce]}],grow:[{grow:["",Ye,Re,Ce]}],shrink:[{shrink:["",Ye,Re,Ce]}],order:[{order:[wa,"first","last","none",Re,Ce]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...xe(),"normal"]}],"justify-items":[{"justify-items":[...ke(),"normal"]}],"justify-self":[{"justify-self":["auto",...ke()]}],"align-content":[{content:["normal",...xe()]}],"align-items":[{items:[...ke(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ke(),{baseline:["","last"]}]}],"place-content":[{"place-content":xe()}],"place-items":[{"place-items":[...ke(),"baseline"]}],"place-self":[{"place-self":["auto",...ke()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:Z()}],mx:[{mx:Z()}],my:[{my:Z()}],ms:[{ms:Z()}],me:[{me:Z()}],mt:[{mt:Z()}],mr:[{mr:Z()}],mb:[{mb:Z()}],ml:[{ml:Z()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[h,"screen",...q()]}],"min-w":[{"min-w":[h,"screen","none",...q()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,vu,To]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Re,Fy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",By,Ce]}],"font-family":[{font:[U8,Ce,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Re,Ce]}],"line-clamp":[{"line-clamp":[Ye,"none",Re,Fy]}],leading:[{leading:[l,...A()]}],"list-image":[{"list-image":["none",Re,Ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Re,Ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ye,"from-font","auto",Re,To]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Ye,"auto",Re,Ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re,Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re,Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wa,Re,Ce],radial:["",Re,Ce],conic:[wa,Re,Ce]},B8,L8]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pe(),"hidden","none"]}],"divide-style":[{divide:[...pe(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ye,Re,Ce]}],"outline-w":[{outline:["",Ye,vu,To]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",g,hf,uf]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",v,hf,uf]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Ye,To]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",_,hf,uf]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Ye,Re,Ce]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ye]}],"mask-image-linear-from-pos":[{"mask-linear-from":fe()}],"mask-image-linear-to-pos":[{"mask-linear-to":fe()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":fe()}],"mask-image-t-to-pos":[{"mask-t-to":fe()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":fe()}],"mask-image-r-to-pos":[{"mask-r-to":fe()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":fe()}],"mask-image-b-to-pos":[{"mask-b-to":fe()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":fe()}],"mask-image-l-to-pos":[{"mask-l-to":fe()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":fe()}],"mask-image-x-to-pos":[{"mask-x-to":fe()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":fe()}],"mask-image-y-to-pos":[{"mask-y-to":fe()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Re,Ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":fe()}],"mask-image-radial-to-pos":[{"mask-radial-to":fe()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ae()}],"mask-image-conic-pos":[{"mask-conic":[Ye]}],"mask-image-conic-from-pos":[{"mask-conic-from":fe()}],"mask-image-conic-to-pos":[{"mask-conic-to":fe()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Re,Ce]}],filter:[{filter:["","none",Re,Ce]}],blur:[{blur:ve()}],brightness:[{brightness:[Ye,Re,Ce]}],contrast:[{contrast:[Ye,Re,Ce]}],"drop-shadow":[{"drop-shadow":["","none",C,hf,uf]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Ye,Re,Ce]}],"hue-rotate":[{"hue-rotate":[Ye,Re,Ce]}],invert:[{invert:["",Ye,Re,Ce]}],saturate:[{saturate:[Ye,Re,Ce]}],sepia:[{sepia:["",Ye,Re,Ce]}],"backdrop-filter":[{"backdrop-filter":["","none",Re,Ce]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[Ye,Re,Ce]}],"backdrop-contrast":[{"backdrop-contrast":[Ye,Re,Ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ye,Re,Ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ye,Re,Ce]}],"backdrop-invert":[{"backdrop-invert":["",Ye,Re,Ce]}],"backdrop-opacity":[{"backdrop-opacity":[Ye,Re,Ce]}],"backdrop-saturate":[{"backdrop-saturate":[Ye,Re,Ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Ye,Re,Ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Re,Ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ye,"initial",Re,Ce]}],ease:[{ease:["linear","initial",z,Re,Ce]}],delay:[{delay:[Ye,Re,Ce]}],animate:[{animate:["none",$,Re,Ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[O,Re,Ce]}],"perspective-origin":[{"perspective-origin":te()}],rotate:[{rotate:_e()}],"rotate-x":[{"rotate-x":_e()}],"rotate-y":[{"rotate-y":_e()}],"rotate-z":[{"rotate-z":_e()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:Le()}],"skew-x":[{"skew-x":Le()}],"skew-y":[{"skew-y":Le()}],transform:[{transform:[Re,Ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:te()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re,Ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re,Ce]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Ye,vu,To,Fy]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},G8=E8(H8);function ft(...t){return G8(i8(t))}const $8=()=>{const{isSettingsOpen:t,closeSettings:e,settings:n,updateSettings:r}=ip(),a=St.useRef(n);if(St.useEffect(()=>{t&&(a.current=n)},[t]),!t)return null;const l=()=>{r(a.current,!1),e()},c=()=>{r(n,!0),e()},h=[{id:"dawn",name:"Dawn",color:"bg-[#0f111a] from-violet-500/20 to-pink-500/20"},{id:"cosmic",name:"Cosmic",color:"bg-[#0f172a] from-violet-600/20 to-pink-600/20"},{id:"midnight",name:"Midnight",color:"bg-[#020617] from-sky-500/20 to-indigo-500/20"},{id:"forest",name:"Forest",color:"bg-[#052e16] from-green-500/20 to-emerald-500/20"},{id:"ocean",name:"Ocean",color:"bg-[#083344] from-cyan-500/20 to-teal-500/20"},{id:"sunset",name:"Sunset",color:"bg-[#2a0a0a] from-orange-500/20 to-rose-500/20"}],d=[{id:"outfit",name:"Modern",family:"font-[Outfit]"},{id:"inter",name:"Clean",family:"font-[Inter]"},{id:"playfair",name:"Elegant",family:'font-["Playfair_Display"]'},{id:"mono",name:"Tech",family:'font-["Fira_Code"]'}];return b.jsx(Ar,{children:t&&b.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 font-sans",children:[b.jsx(ut.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:l}),b.jsxs(ut.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-lg bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[b.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[b.jsx(_S,{className:"w-5 h-5 text-accent-primary"}),"Customization"]}),b.jsx("button",{onClick:l,className:"text-slate-400 hover:text-white transition-colors",children:b.jsx(Os,{className:"w-6 h-6"})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(_S,{className:"w-4 h-4"})," Theme"]}),b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:h.map(m=>b.jsxs("button",{onClick:()=>r({theme:m.id},!1),className:ft("relative group overflow-hidden rounded-xl border transition-all duration-300",n.theme===m.id?"border-accent-primary ring-2 ring-accent-primary/50":"border-white/10 hover:border-white/30"),children:[b.jsx("div",{className:ft("h-16 w-full bg-gradient-to-br",m.color)}),b.jsx("div",{className:"p-3 bg-slate-800/50",children:b.jsx("span",{className:ft("text-sm font-medium",n.theme===m.id?"text-white":"text-slate-400"),children:m.name})}),n.theme===m.id&&b.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-accent-primary rounded-full flex items-center justify-center shadow-lg",children:b.jsx(Cs,{className:"w-3 h-3 text-white"})})]},m.id))})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(YB,{className:"w-4 h-4"})," Typography"]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:d.map(m=>b.jsxs("button",{onClick:()=>r({font:m.id},!1),className:ft("flex items-center justify-between p-4 rounded-xl border transition-all duration-200 text-left",n.font===m.id?"bg-white/10 border-accent-primary text-white":"bg-white/5 border-white/5 hover:bg-white/10 text-slate-300"),children:[b.jsxs("div",{children:[b.jsx("span",{className:ft("text-lg block mb-0.5",m.family),children:"Aa"}),b.jsx("span",{className:"text-xs text-slate-400",children:m.name})]}),n.font===m.id&&b.jsx(Cs,{className:"w-5 h-5 text-accent-primary"})]},m.id))}),b.jsx("div",{className:"mt-4 p-4 rounded-xl bg-black/20 border border-white/5",children:b.jsx("p",{className:ft("text-sm text-slate-300 leading-relaxed",n.font==="outfit"&&"font-[Outfit]",n.font==="inter"&&"font-[Inter]",n.font==="playfair"&&'font-["Playfair_Display"]',n.font==="mono"&&'font-["Fira_Code"]'),children:"The quick brown fox jumps over the lazy dog. 1234567890."})})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(TS,{className:"w-4 h-4"})," Experience"]}),b.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 mb-3",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:ft("p-2 rounded-lg",n.enableAnimation?"bg-accent-primary/20 text-accent-primary":"bg-slate-700 text-slate-400"),children:b.jsx(TS,{size:20})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium text-white",children:"Live Backgrounds"}),b.jsx("div",{className:"text-xs text-slate-400",children:"Dynamic particles and ambient effects"})]})]}),b.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:n.enableAnimation,onChange:m=>r({enableAnimation:m.target.checked},!1),className:"sr-only peer"}),b.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-accent-primary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary"})]})]}),b.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:ft("p-2 rounded-lg",n.enableSound?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-slate-400"),children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),b.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),b.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium text-white",children:"Sound Effects"}),b.jsx("div",{className:"text-xs text-slate-400",children:"Satisfying clicks and celebrations"})]})]}),b.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:m=>r({enableSound:m.target.checked},!1),className:"sr-only peer"}),b.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]})]})]}),b.jsxs("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3 sticky bottom-0 bg-slate-900 z-10 shrink-0",children:[b.jsx("button",{onClick:l,className:"px-4 py-2 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:c,className:"px-6 py-2 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all active:scale-95",children:"Save Changes"})]})]})]})})},df={theme:"dawn",font:"outfit",enableAnimation:!0,enableSound:!0},eN=S.createContext(null),ip=()=>{const t=S.useContext(eN);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},K8=({children:t})=>{const{user:e}=Ho(),[n,r]=S.useState(()=>{try{const m=localStorage.getItem("bingo_settings");return m?{...df,...JSON.parse(m)}:df}catch(m){return console.error("Error parsing local settings",m),df}}),[a,l]=S.useState(!1);S.useEffect(()=>{(async()=>{if(e)try{const g=Rr(pi,"users",e.uid),v=await Th(g);if(v.exists()&&v.data().settings){const _={...df,...v.data().settings};r(_),localStorage.setItem("bingo_settings",JSON.stringify(_))}}catch(g){console.error("Error loading settings:",g)}})()},[e]),S.useEffect(()=>{const m=document.body;m.classList.remove("theme-midnight","theme-forest","theme-ocean","theme-sunset"),n.theme!=="dawn"&&m.classList.add(`theme-${n.theme}`),m.classList.remove("font-inter","font-playfair","font-mono","font-comic"),n.font!=="outfit"&&m.classList.add(`font-${n.font}`),n.enableAnimation?m.classList.remove("reduce-motion"):m.classList.add("reduce-motion")},[n]);const c=async(m,g=!0)=>{const v={...n,...m};r(v);try{localStorage.setItem("bingo_settings",JSON.stringify(v))}catch(_){console.error("Failed to save settings locally",_)}if(e&&g)try{await am(Rr(pi,"users",e.uid),{settings:v},{merge:!0})}catch(_){console.error("Error saving settings to DB:",_)}},h=()=>l(!0),d=()=>l(!1);return b.jsxs(eN.Provider,{value:{settings:n,updateSettings:c,isSettingsOpen:a,openSettings:h,closeSettings:d},children:[t,b.jsx($8,{})]})},Y8=()=>{const{signIn:t,error:e}=Ho();return b.jsxs("div",{className:"relative flex flex-col items-center justify-center min-h-screen p-4 text-center overflow-hidden bg-bg-dark text-slate-100 font-sans",children:[b.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none",children:b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-bg-dark via-transparent to-transparent opacity-80"})}),b.jsxs("div",{className:"relative z-10 w-full max-w-[400px] animate-fade-in-up",children:[b.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[b.jsxs("div",{className:"relative w-20 h-20 mb-4 bg-gradient-to-br from-indigo-500/20 to-purple-500/20 rounded-2xl flex items-center justify-center border border-white/10 shadow-xl shadow-indigo-500/10 backdrop-blur-sm",children:[b.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-12 h-12 object-contain drop-shadow-lg"}),b.jsx("div",{className:"absolute -top-2 -right-2",children:b.jsx(BB,{className:"w-6 h-6 text-accent-gold animate-bounce-gentle"})})]}),b.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white mb-2",children:"SunSar Bingo"}),b.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"The social way to achieve your 2026 goals."})]}),b.jsx("div",{className:"bg-bg-card/50 backdrop-blur-md border border-[var(--theme-border)] rounded-2xl p-6 sm:p-8 shadow-2xl",children:b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"text-left space-y-2",children:[b.jsx("h2",{className:"text-xl font-semibold text-white",children:"Welcome back"}),b.jsx("p",{className:"text-sm text-slate-400",children:"Sign in to continue to your bingo boards."})]}),e&&b.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-200 px-4 py-3 rounded-xl text-sm flex items-start text-left",children:[b.jsx("span",{className:"mr-2",children:""}),e]}),b.jsxs("button",{onClick:t,className:"group relative w-full flex items-center justify-center gap-3 px-4 py-3 bg-white text-slate-900 font-bold rounded-xl hover:bg-slate-200 transition-all duration-200 shadow-lg hover:tracking-wide active:scale-[0.98]",children:[b.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"G",className:"w-5 h-5"}),b.jsx("span",{children:"Continue with Google"}),b.jsx(cB,{className:"w-4 h-4 text-slate-400 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),b.jsxs("div",{className:"relative my-6",children:[b.jsx("div",{className:"absolute inset-0 flex items-center",children:b.jsx("span",{className:"w-full border-t border-white/10"})}),b.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:b.jsx("span",{className:"bg-bg-card px-2 text-slate-500",children:"New to SunSar?"})})]}),b.jsx(r0,{to:"/help",className:"block w-full py-3 px-4 rounded-xl border border-white/10 text-slate-300 font-medium hover:bg-white/5 hover:text-white transition-colors text-sm",children:"Check out how it works"})]})}),b.jsx("div",{className:"mt-8 text-center",children:b.jsxs("p",{className:"text-xs text-slate-500",children:[" 2026 SunSar Bingo  ",b.jsx("a",{href:"#",className:"hover:text-slate-400 underline decoration-slate-700",children:"Privacy"}),"  ",b.jsx("a",{href:"#",className:"hover:text-slate-400 underline decoration-slate-700",children:"Terms"})]})})]})]})};var Db={};(function t(e,n,r,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",h=(function(){if(!e.OffscreenCanvas)return!1;try{var L=new OffscreenCanvas(1,1),T=L.getContext("2d");T.fillRect(0,0,1,1);var U=L.transferToImageBitmap();T.createPattern(U,"no-repeat")}catch{return!1}return!0})();function d(){}function m(L){var T=n.exports.Promise,U=T!==void 0?T:e.Promise;return typeof U=="function"?new U(L):(L(d,d),null)}var g=(function(L,T){return{transform:function(U){if(L)return U;if(T.has(U))return T.get(U);var W=new OffscreenCanvas(U.width,U.height),re=W.getContext("2d");return re.drawImage(U,0,0),T.set(U,W),W},clear:function(){T.clear()}}})(h,new Map),v=(function(){var L=Math.floor(16.666666666666668),T,U,W={},re=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(pe){var ge=Math.random();return W[ge]=requestAnimationFrame(function fe(ve){re===ve||re+L-1<ve?(re=ve,delete W[ge],pe()):W[ge]=requestAnimationFrame(fe)}),ge},U=function(pe){W[pe]&&cancelAnimationFrame(W[pe])}):(T=function(pe){return setTimeout(pe,L)},U=function(pe){return clearTimeout(pe)}),{frame:T,cancel:U}})(),_=(function(){var L,T,U={};function W(re){function pe(ge,fe){re.postMessage({options:ge||{},callback:fe})}re.init=function(fe){var ve=fe.transferControlToOffscreen();re.postMessage({canvas:ve},[ve])},re.fire=function(fe,ve,_e){if(T)return pe(fe,null),T;var Ee=Math.random().toString(36).slice(2);return T=m(function(Le){function Ve(ct){ct.data.callback===Ee&&(delete U[Ee],re.removeEventListener("message",Ve),T=null,g.clear(),_e(),Le())}re.addEventListener("message",Ve),pe(fe,Ee),U[Ee]=Ve.bind(null,{data:{callback:Ee}})}),T},re.reset=function(){re.postMessage({reset:!0});for(var fe in U)U[fe](),delete U[fe]}}return function(){if(L)return L;if(!r&&l){var re=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{L=new Worker(URL.createObjectURL(new Blob([re])))}catch(pe){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",pe),null}W(L)}return L}})(),C={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function M(L,T){return T?T(L):L}function O(L){return L!=null}function I(L,T,U){return M(L&&O(L[T])?L[T]:C[T],U)}function z(L){return L<0?0:Math.floor(L)}function $(L,T){return Math.floor(Math.random()*(T-L))+L}function G(L){return parseInt(L,16)}function ae(L){return L.map(te)}function te(L){var T=String(L).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:G(T.substring(0,2)),g:G(T.substring(2,4)),b:G(T.substring(4,6))}}function le(L){var T=I(L,"origin",Object);return T.x=I(T,"x",Number),T.y=I(T,"y",Number),T}function N(L){L.width=document.documentElement.clientWidth,L.height=document.documentElement.clientHeight}function A(L){var T=L.getBoundingClientRect();L.width=T.width,L.height=T.height}function P(L){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=L,T}function D(L,T,U,W,re,pe,ge,fe,ve){L.save(),L.translate(T,U),L.rotate(pe),L.scale(W,re),L.arc(0,0,1,ge,fe,ve),L.restore()}function j(L){var T=L.angle*(Math.PI/180),U=L.spread*(Math.PI/180);return{x:L.x,y:L.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:L.startVelocity*.5+Math.random()*L.startVelocity,angle2D:-T+(.5*U-Math.random()*U),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:L.color,shape:L.shape,tick:0,totalTicks:L.ticks,decay:L.decay,drift:L.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:L.gravity*3,ovalScalar:.6,scalar:L.scalar,flat:L.flat}}function B(L,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var U=T.tick++/T.totalTicks,W=T.x+T.random*T.tiltCos,re=T.y+T.random*T.tiltSin,pe=T.wobbleX+T.random*T.tiltCos,ge=T.wobbleY+T.random*T.tiltSin;if(L.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-U)+")",L.beginPath(),c&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))L.fill(q(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(pe-W)*.1,Math.abs(ge-re)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var fe=Math.PI/10*T.wobble,ve=Math.abs(pe-W)*.1,_e=Math.abs(ge-re)*.1,Ee=T.shape.bitmap.width*T.scalar,Le=T.shape.bitmap.height*T.scalar,Ve=new DOMMatrix([Math.cos(fe)*ve,Math.sin(fe)*ve,-Math.sin(fe)*_e,Math.cos(fe)*_e,T.x,T.y]);Ve.multiplySelf(new DOMMatrix(T.shape.matrix));var ct=L.createPattern(g.transform(T.shape.bitmap),"no-repeat");ct.setTransform(Ve),L.globalAlpha=1-U,L.fillStyle=ct,L.fillRect(T.x-Ee/2,T.y-Le/2,Ee,Le),L.globalAlpha=1}else if(T.shape==="circle")L.ellipse?L.ellipse(T.x,T.y,Math.abs(pe-W)*T.ovalScalar,Math.abs(ge-re)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):D(L,T.x,T.y,Math.abs(pe-W)*T.ovalScalar,Math.abs(ge-re)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var Ne=Math.PI/2*3,vt=4*T.scalar,mt=8*T.scalar,qt=T.x,Xt=T.y,Je=5,Oe=Math.PI/Je;Je--;)qt=T.x+Math.cos(Ne)*mt,Xt=T.y+Math.sin(Ne)*mt,L.lineTo(qt,Xt),Ne+=Oe,qt=T.x+Math.cos(Ne)*vt,Xt=T.y+Math.sin(Ne)*vt,L.lineTo(qt,Xt),Ne+=Oe;else L.moveTo(Math.floor(T.x),Math.floor(T.y)),L.lineTo(Math.floor(T.wobbleX),Math.floor(re)),L.lineTo(Math.floor(pe),Math.floor(ge)),L.lineTo(Math.floor(W),Math.floor(T.wobbleY));return L.closePath(),L.fill(),T.tick<T.totalTicks}function V(L,T,U,W,re){var pe=T.slice(),ge=L.getContext("2d"),fe,ve,_e=m(function(Ee){function Le(){fe=ve=null,ge.clearRect(0,0,W.width,W.height),g.clear(),re(),Ee()}function Ve(){r&&!(W.width===a.width&&W.height===a.height)&&(W.width=L.width=a.width,W.height=L.height=a.height),!W.width&&!W.height&&(U(L),W.width=L.width,W.height=L.height),ge.clearRect(0,0,W.width,W.height),pe=pe.filter(function(ct){return B(ge,ct)}),pe.length?fe=v.frame(Ve):Le()}fe=v.frame(Ve),ve=Le});return{addFettis:function(Ee){return pe=pe.concat(Ee),_e},canvas:L,promise:_e,reset:function(){fe&&v.cancel(fe),ve&&ve()}}}function xe(L,T){var U=!L,W=!!I(T||{},"resize"),re=!1,pe=I(T,"disableForReducedMotion",Boolean),ge=l&&!!I(T||{},"useWorker"),fe=ge?_():null,ve=U?N:A,_e=L&&fe?!!L.__confetti_initialized:!1,Ee=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Le;function Ve(Ne,vt,mt){for(var qt=I(Ne,"particleCount",z),Xt=I(Ne,"angle",Number),Je=I(Ne,"spread",Number),Oe=I(Ne,"startVelocity",Number),sn=I(Ne,"decay",Number),Di=I(Ne,"gravity",Number),Gi=I(Ne,"drift",Number),Pt=I(Ne,"colors",ae),ui=I(Ne,"ticks",Number),Sn=I(Ne,"shapes"),$n=I(Ne,"scalar"),an=!!I(Ne,"flat"),hi=le(Ne),$i=qt,fn=[],An=L.width*hi.x,Kn=L.height*hi.y;$i--;)fn.push(j({x:An,y:Kn,angle:Xt,spread:Je,startVelocity:Oe,color:Pt[$i%Pt.length],shape:Sn[$(0,Sn.length)],ticks:ui,decay:sn,gravity:Di,drift:Gi,scalar:$n,flat:an}));return Le?Le.addFettis(fn):(Le=V(L,fn,ve,vt,mt),Le.promise)}function ct(Ne){var vt=pe||I(Ne,"disableForReducedMotion",Boolean),mt=I(Ne,"zIndex",Number);if(vt&&Ee)return m(function(Oe){Oe()});U&&Le?L=Le.canvas:U&&!L&&(L=P(mt),document.body.appendChild(L)),W&&!_e&&ve(L);var qt={width:L.width,height:L.height};fe&&!_e&&fe.init(L),_e=!0,fe&&(L.__confetti_initialized=!0);function Xt(){if(fe){var Oe={getBoundingClientRect:function(){if(!U)return L.getBoundingClientRect()}};ve(Oe),fe.postMessage({resize:{width:Oe.width,height:Oe.height}});return}qt.width=qt.height=null}function Je(){Le=null,W&&(re=!1,e.removeEventListener("resize",Xt)),U&&L&&(document.body.contains(L)&&document.body.removeChild(L),L=null,_e=!1)}return W&&!re&&(re=!0,e.addEventListener("resize",Xt,!1)),fe?fe.fire(Ne,qt,Je):Ve(Ne,qt,Je)}return ct.reset=function(){fe&&fe.reset(),Le&&Le.reset()},ct}var ke;function Z(){return ke||(ke=xe(null,{useWorker:!0,resize:!0})),ke}function q(L,T,U,W,re,pe,ge){var fe=new Path2D(L),ve=new Path2D;ve.addPath(fe,new DOMMatrix(T));var _e=new Path2D;return _e.addPath(ve,new DOMMatrix([Math.cos(ge)*re,Math.sin(ge)*re,-Math.sin(ge)*pe,Math.cos(ge)*pe,U,W])),_e}function H(L){if(!c)throw new Error("path confetti are not supported in this browser");var T,U;typeof L=="string"?T=L:(T=L.path,U=L.matrix);var W=new Path2D(T),re=document.createElement("canvas"),pe=re.getContext("2d");if(!U){for(var ge=1e3,fe=ge,ve=ge,_e=0,Ee=0,Le,Ve,ct=0;ct<ge;ct+=2)for(var Ne=0;Ne<ge;Ne+=2)pe.isPointInPath(W,ct,Ne,"nonzero")&&(fe=Math.min(fe,ct),ve=Math.min(ve,Ne),_e=Math.max(_e,ct),Ee=Math.max(Ee,Ne));Le=_e-fe,Ve=Ee-ve;var vt=10,mt=Math.min(vt/Le,vt/Ve);U=[mt,0,0,mt,-Math.round(Le/2+fe)*mt,-Math.round(Ve/2+ve)*mt]}return{type:"path",path:T,matrix:U}}function X(L){var T,U=1,W="#000000",re='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof L=="string"?T=L:(T=L.text,U="scalar"in L?L.scalar:U,re="fontFamily"in L?L.fontFamily:re,W="color"in L?L.color:W);var pe=10*U,ge=""+pe+"px "+re,fe=new OffscreenCanvas(pe,pe),ve=fe.getContext("2d");ve.font=ge;var _e=ve.measureText(T),Ee=Math.ceil(_e.actualBoundingBoxRight+_e.actualBoundingBoxLeft),Le=Math.ceil(_e.actualBoundingBoxAscent+_e.actualBoundingBoxDescent),Ve=2,ct=_e.actualBoundingBoxLeft+Ve,Ne=_e.actualBoundingBoxAscent+Ve;Ee+=Ve+Ve,Le+=Ve+Ve,fe=new OffscreenCanvas(Ee,Le),ve=fe.getContext("2d"),ve.font=ge,ve.fillStyle=W,ve.fillText(T,ct,Ne);var vt=1/U;return{type:"bitmap",bitmap:fe.transferToImageBitmap(),matrix:[vt,0,0,vt,-Ee*vt/2,-Le*vt/2]}}n.exports=function(){return Z().apply(this,arguments)},n.exports.reset=function(){Z().reset()},n.exports.create=xe,n.exports.shapeFromPath=H,n.exports.shapeFromText=X})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Db,!1);const $v=Db.exports;Db.exports.create;const bu=(t=1)=>{const e=200*t,n={origin:{y:.7}};function r(a,l){$v(Object.assign({},n,l,{particleCount:Math.floor(e*a)}))}r(.25,{spread:26,startVelocity:55}),r(.2,{spread:60}),r(.35,{spread:100,decay:.91,scalar:.8}),r(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),r(.1,{spread:120,startVelocity:45})},IS={cloudName:"dia6ped7h",uploadPreset:"bingo_proofs"},NS=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",IS.uploadPreset),e.append("folder","bingo-proofs");const n=await fetch(`https://api.cloudinary.com/v1_1/${IS.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok){const a=await n.json();throw console.error("Cloudinary upload error:",a),new Error(a.error?.message||"Failed to upload image")}return(await n.json()).secure_url},X8="2026",qy=5,W8=["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"],Q8=t=>{const{user:e}=Ho(),[n,r]=S.useState([]),[a,l]=S.useState({}),[c,h]=S.useState(!0),[d,m]=S.useState(!1),[g,v]=S.useState(!1),[_,C]=S.useState(""),[M,O]=S.useState(qy),I=S.useMemo(()=>t?Rr(pi,"boards",t):Rr(pi,"years",X8),[t]),z=(q,H)=>{if(!q.length)return;const X=[];for(let T=0;T<H;T++)X.push(q.slice(T*H,(T+1)*H));let L=!1;for(let T=0;T<H;T++)if(X[T]&&X[T].every(U=>U.isCompleted||U.isFreeSpace)){L=!0;break}if(!L){for(let T=0;T<H;T++)if(X.map(U=>U[T]).every(U=>U&&(U.isCompleted||U.isFreeSpace))){L=!0;break}}!L&&X.map((T,U)=>T[U]).every(T=>T&&(T.isCompleted||T.isFreeSpace))&&(L=!0),!L&&X.map((T,U)=>T[H-1-U]).every(T=>T&&(T.isCompleted||T.isFreeSpace))&&(L=!0),L&&!d?(m(!0),bu(2)):L||m(!1)},$=async(q=qy)=>{const H=q*q,X=q%2===1?Math.floor(H/2):-1,L=[...W8].sort(()=>.5-Math.random()),T=[];let U=0;for(let W=0;W<H;W++)W===X&&q%2===1?T.push({id:W,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(T.push({id:W,text:L[U%L.length]||`Goal ${W+1}`,isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),U++);await am(I,{year:2026,gridSize:q,items:T,isLocked:!1,createdAt:qe.now(),lastUpdated:qe.now(),...e?{ownerId:e.uid,members:{[e.uid]:"owner"}}:{}},{merge:!0})};S.useEffect(()=>{if(!e)return;h(!0);const q=BR(I,H=>{if(H.exists()){const X=H.data(),L=X.gridSize||qy;O(L),r(X.items||[]),l(X.members||{}),v(X.isLocked||!1),C(X.title||""),z(X.items||[],L)}else $();h(!1)},H=>{console.error("Error fetching bingo board:",H),h(!1)});return()=>q()},[I,e]);const G=async q=>{if(!n.length)return;const H=n.map(U=>({...U})),X=H[q];if(X.isFreeSpace)return;const L=X.targetCount||1,T=X.currentCount||0;if(X.isCompleted){const U=Math.max(0,T-1);X.currentCount=U,X.isCompleted=U>=L,U===0&&(X.completedBy=null,X.completedAt=null)}else{const U=Math.min(L,T+1);X.currentCount=U,X.isCompleted=U>=L,X.completedBy=e?.displayName||e?.email||"Unknown",X.completedAt=qe.now(),bu(.5)}r(H),z(H,M);try{await si(I,{items:H,lastUpdated:qe.now()})}catch(U){console.error("Error updating bingo board:",U)}},ae=async q=>{if(!n.length)return;const H=n.map(W=>({...W})),X=H[q];if(X.isFreeSpace)return;const L=X.currentCount||0;if(L<=0)return;const T=X.targetCount||1,U=L-1;X.currentCount=U,X.isCompleted=U>=T,U===0&&(X.completedBy=null,X.completedAt=null),r(H),z(H,M);try{await si(I,{items:H,lastUpdated:qe.now()})}catch(W){console.error("Error decrementing progress:",W)}},te=async(q,H)=>{if(!(!n.length||!e))try{const X=await NS(H),L=n.map(ge=>({...ge})),T=L[q];if(T.isFreeSpace)return;const U=T.targetCount||1,W=T.currentCount||0,re=Math.min(U,W+1);T.currentCount=re,T.isCompleted=re>=U,T.completedBy=e?.displayName||e?.email||"Unknown",T.completedAt=qe.now();const pe=T.proofPhotos||[];T.proofPhotos=[...pe,X],r(L),z(L,M),bu(1),await si(I,{items:L,lastUpdated:qe.now()})}catch(X){throw console.error("Error completing with photo:",X),X}},le=async(q,H)=>{if(!n.length||!e)return;const X=n[q];!X.isCompleted&&(X.currentCount||0)<(X.targetCount||1);const L=X.proofPhotos||[];if(L.length>=5)throw new Error("Maximum 5 photos allowed per tile");try{const T=await NS(H),U=n.map(W=>({...W}));return U[q].proofPhotos=[...L,T],r(U),bu(.3),await si(I,{items:U,lastUpdated:qe.now()}),T}catch(T){throw console.error("Error adding photo:",T),T}},N=async(q,H)=>{if(!n.length)return;const X=n.map(U=>({...U})),L=X[q];if(!L.proofPhotos)return;const T=[...L.proofPhotos];T.splice(H,1),L.proofPhotos=T,r(X);try{await si(I,{items:X,lastUpdated:qe.now()})}catch(U){console.error("Error deleting photo:",U)}},A=async(q,H)=>{if(e)try{const X=n.map(W=>({...W})),L=X[q],T={emoji:H,by:e.uid,byName:e.displayName||e.email?.split("@")[0]||"Friend",timestamp:Date.now()},U=L.reactions||[];L.reactions=[...U,T],r(X),await si(I,{items:X,lastUpdated:qe.now()}),bu(.2)}catch(X){console.error("Error adding reaction:",X)}},P=async(q,H)=>{const X=n.map(L=>({...L}));H.text!==void 0&&(X[q].text=H.text),H.style!==void 0&&(X[q].style=H.style),r(X);try{await si(I,{items:X,lastUpdated:qe.now()})}catch(L){console.error("Error updating item:",L)}},D=async(q=!0)=>{const H=[...n];let X=H;if(q){const T=M*M,U=M%2===1?Math.floor(T/2):-1;if(U!==-1){const W=H[U],re=[...H.slice(0,U),...H.slice(U+1)];for(let pe=re.length-1;pe>0;pe--){const ge=Math.floor(Math.random()*(pe+1));[re[pe],re[ge]]=[re[ge],re[pe]]}X=[...re.slice(0,U),W,...re.slice(U)]}else{X=[...H];for(let W=X.length-1;W>0;W--){const re=Math.floor(Math.random()*(W+1));[X[W],X[re]]=[X[re],X[W]]}}r(X)}v(!0);const L={isLocked:!0,lastUpdated:qe.now()};q&&(L.items=X,L.itemsBackup=H),await am(I,L,{merge:!0})},j=async()=>{try{const q=await Th(I);if(q.exists()){const H=q.data();H.itemsBackup?await si(I,{items:H.itemsBackup,itemsBackup:im(),isLocked:!1,lastUpdated:qe.now()}):await si(I,{isLocked:!1,lastUpdated:qe.now()})}}catch(q){console.error("Error unlocking board:",q)}},B=S.useMemo(()=>{const q=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],[0,6,12,18,24],[4,8,12,16,20]],H=new Set(n.map((X,L)=>X.isCompleted||X.isFreeSpace?L:-1));return q.reduce((X,L)=>L.every(T=>H.has(T))?X+1:X,0)},[n]);return{items:n,members:a,loading:c,toggleItem:G,updateItem:P,hasWon:d,bingoCount:B,isLocked:g,unlockBoard:j,jumbleAndLock:D,saveBoard:async q=>{r(q);try{await si(I,{items:q,lastUpdated:qe.now()})}catch(H){console.error("Error saving board:",H)}},completeWithPhoto:te,addPhotoToTile:le,deletePhoto:N,addReaction:A,decrementProgress:ae,inviteUser:async(q,H="editor")=>{try{const X=rm(Vl(pi,"users"),sm("email","==",q)),L=await Ou(X);if(L.empty)return{success:!1,type:"not_found",message:"User not found"};const T=L.docs[0],U=T.id;return await si(I,{[`members.${U}`]:H}),{success:!0,type:"success",message:`Added ${T.data().displayName||q} as ${H}!`}}catch(X){return console.error("Error inviting user:",X),{success:!1,type:"error",message:"Failed to invite user"}}},removeMember:async q=>{try{return await si(I,{[`members.${q}`]:im()}),{success:!0}}catch(H){return console.error("Error removing member:",H),{success:!1,error:H}}},title:_,gridSize:M,updateTitle:async q=>{try{await si(I,{title:q,lastUpdated:qe.now()}),C(q)}catch(H){console.error("Error updating title:",H)}}}};let Uu=null;const xu=()=>(Uu||(Uu=new(window.AudioContext||window.webkitAudioContext)),Uu),J8=()=>{const{settings:t}=ip(),e=t.enableSound??!0,n=S.useRef(0);S.useEffect(()=>{const g=()=>{Uu?.state==="suspended"&&Uu.resume()};return document.addEventListener("click",g,{once:!0}),document.addEventListener("touchstart",g,{once:!0}),()=>{document.removeEventListener("click",g),document.removeEventListener("touchstart",g)}},[]);const r=S.useCallback(()=>{const g=Date.now();return g-n.current<50?!1:(n.current=g,!0)},[]),a=S.useCallback(()=>{if(!(!e||!r()))try{const g=xu(),v=g.createOscillator(),_=g.createGain();v.connect(_),_.connect(g.destination),v.frequency.setValueAtTime(800,g.currentTime),v.frequency.exponentialRampToValueAtTime(400,g.currentTime+.1),v.type="sine",_.gain.setValueAtTime(.15,g.currentTime),_.gain.exponentialRampToValueAtTime(.001,g.currentTime+.1),v.start(g.currentTime),v.stop(g.currentTime+.1)}catch(g){console.warn("Audio playback failed:",g)}},[e,r]),l=S.useCallback(()=>{if(!(!e||!r()))try{const g=xu();[523.25,659.25,783.99].forEach((_,C)=>{const M=g.createOscillator(),O=g.createGain();M.connect(O),O.connect(g.destination),M.frequency.setValueAtTime(_,g.currentTime),M.type="sine";const I=g.currentTime+C*.08;O.gain.setValueAtTime(0,I),O.gain.linearRampToValueAtTime(.12,I+.02),O.gain.exponentialRampToValueAtTime(.001,I+.3),M.start(I),M.stop(I+.3)})}catch(g){console.warn("Audio playback failed:",g)}},[e,r]),c=S.useCallback(()=>{if(e)try{const g=xu();[{freq:523.25,time:0},{freq:659.25,time:.1},{freq:783.99,time:.2},{freq:1046.5,time:.35},{freq:1318.51,time:.5}].forEach(({freq:M,time:O})=>{const I=g.createOscillator(),z=g.createGain();I.connect(z),z.connect(g.destination),I.frequency.setValueAtTime(M,g.currentTime+O),I.type="sine",z.gain.setValueAtTime(0,g.currentTime+O),z.gain.linearRampToValueAtTime(.2,g.currentTime+O+.02),z.gain.exponentialRampToValueAtTime(.001,g.currentTime+O+.5),I.start(g.currentTime+O),I.stop(g.currentTime+O+.5)});const _=g.createOscillator(),C=g.createGain();_.connect(C),C.connect(g.destination),_.type="sine",_.frequency.setValueAtTime(2e3,g.currentTime+.6),_.frequency.exponentialRampToValueAtTime(4e3,g.currentTime+1.2),C.gain.setValueAtTime(0,g.currentTime+.6),C.gain.linearRampToValueAtTime(.05,g.currentTime+.7),C.gain.exponentialRampToValueAtTime(.001,g.currentTime+1.2),_.start(g.currentTime+.6),_.stop(g.currentTime+1.2)}catch(g){console.warn("Audio playback failed:",g)}},[e]),h=S.useRef(null),d=S.useCallback(()=>{if(!(!e||!r()))try{const g=xu();if(!h.current){const M=g.sampleRate*.15,O=g.createBuffer(1,M,g.sampleRate),I=O.getChannelData(0);for(let z=0;z<M;z++)I[z]=(Math.random()*2-1)*(1-z/M);h.current=O}const v=g.createBufferSource(),_=g.createBiquadFilter(),C=g.createGain();v.buffer=h.current,_.type="lowpass",_.frequency.setValueAtTime(2e3,g.currentTime),_.frequency.exponentialRampToValueAtTime(500,g.currentTime+.15),v.connect(_),_.connect(C),C.connect(g.destination),C.gain.setValueAtTime(.08,g.currentTime),C.gain.exponentialRampToValueAtTime(.001,g.currentTime+.15),v.start(g.currentTime)}catch(g){console.warn("Audio playback failed:",g)}},[e,r]),m=S.useCallback(()=>{if(!(!e||!r()))try{const g=xu(),v=g.createOscillator(),_=g.createGain();v.connect(_),_.connect(g.destination),v.frequency.setValueAtTime(200,g.currentTime),v.frequency.linearRampToValueAtTime(150,g.currentTime+.2),v.type="sine",_.gain.setValueAtTime(.15,g.currentTime),_.gain.exponentialRampToValueAtTime(.001,g.currentTime+.2),v.start(g.currentTime),v.stop(g.currentTime+.2)}catch(g){console.warn("Audio playback failed:",g)}},[e,r]);return{playClick:a,playSuccess:l,playBingo:c,playWhoosh:d,playError:m}},Z8=({items:t,isOpen:e,onClose:n})=>{const[r,a]=S.useState(null),l=S.useMemo(()=>t.map((d,m)=>({...d,originalIndex:m})).filter(d=>d.proofPhotos&&d.proofPhotos.length>0).sort((d,m)=>{const g=d.completedAt?.toDate?.()||new Date(0);return(m.completedAt?.toDate?.()||new Date(0)).getTime()-g.getTime()}),[t]),c=S.useMemo(()=>{const d={};return l.forEach(m=>{const v=(m.completedAt?.toDate?.()||new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"});d[v]||(d[v]=[]),d[v].push(m)}),d},[l]),h=d=>d?(d.toDate?d.toDate():new Date(d)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e?b.jsx(Ar,{children:b.jsxs(ut.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-bg-dark overflow-y-auto",children:[b.jsx("div",{className:"sticky top-0 z-10 bg-bg-dark/95 backdrop-blur-md border-b border-white/10",children:b.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(gm,{className:"w-6 h-6 text-accent-gold"}),b.jsx("h1",{className:"text-xl font-bold text-white",children:"2026 Memories"}),b.jsxs("span",{className:"text-sm text-slate-400",children:["(",l.length," moments)"]})]}),b.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-white transition-colors rounded-full hover:bg-white/10",children:b.jsx(Os,{size:24})})]})}),b.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:l.length===0?b.jsxs("div",{className:"text-center py-20",children:[b.jsx(gm,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),b.jsx("h2",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No memories yet"}),b.jsx("p",{className:"text-slate-500",children:"Complete tasks and add photos to build your 2026 album!"})]}):Object.entries(c).map(([d,m])=>b.jsxs("div",{className:"mb-8",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(ym,{className:"w-4 h-4 text-accent-primary"}),b.jsx("h2",{className:"text-lg font-semibold text-accent-primary",children:d}),b.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent-primary/30 to-transparent"})]}),b.jsx("div",{className:"space-y-6",children:m.map((g,v)=>b.jsxs(ut.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"bg-bg-card/80 rounded-2xl border border-white/10 overflow-hidden shadow-xl",children:[b.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer",onClick:()=>a({memoryIdx:l.indexOf(g),photoIdx:0}),children:[b.jsx("img",{src:g.proofPhotos[0],alt:g.text,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),g.proofPhotos.length>1&&b.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-full text-white text-xs font-medium",children:["+",g.proofPhotos.length-1," more"]})]}),g.proofPhotos.length>1&&b.jsx("div",{className:"flex gap-1 p-2 bg-black/30 overflow-x-auto",children:g.proofPhotos.map((_,C)=>b.jsx("button",{onClick:()=>a({memoryIdx:l.indexOf(g),photoIdx:C}),className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 border-2 border-transparent hover:border-accent-primary transition-all",children:b.jsx("img",{src:_,alt:"",className:"w-full h-full object-cover"})},C))}),b.jsxs("div",{className:"p-4",children:[b.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[b.jsx("span",{className:"text-accent-gold",children:g.isCompleted?"":""}),g.text]}),b.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(LI,{size:14}),g.isCompleted?g.completedBy:"In Progress"]}),g.isCompleted&&b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(ym,{size:14}),h(g.completedAt)]})]})]})]},g.id))})]},d))}),b.jsx(Ar,{children:r!==null&&l[r.memoryIdx]&&b.jsxs(ut.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>a(null),children:[b.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white",children:b.jsx(Os,{size:32})}),(()=>{const d=l[r.memoryIdx],m=d.proofPhotos||[],g=r.photoIdx;return b.jsxs("div",{className:"relative max-w-4xl w-full",onClick:v=>v.stopPropagation(),children:[b.jsx("img",{src:m[g],alt:"",className:"w-full max-h-[80vh] object-contain rounded-lg"}),m.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>a({...r,photoIdx:g>0?g-1:m.length-1}),className:"absolute left-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:b.jsx(MI,{size:28})}),b.jsx("button",{onClick:()=>a({...r,photoIdx:g<m.length-1?g+1:0}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:b.jsx(OI,{size:28})})]}),b.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[b.jsx("p",{className:"text-white font-semibold",children:d.text}),b.jsxs("p",{className:"text-slate-300 text-sm",children:[g+1," / ",m.length,"  ",h(d.completedAt)]})]})]})})()]})})]})}):null},eF=({items:t})=>{const[e,n]=S.useState([]),r=S.useRef({}),a=S.useRef(!1);S.useEffect(()=>{if(!a.current){t.forEach(c=>{r.current[c.id]=c.reactions?.length||0}),a.current=!0;return}t.forEach(c=>{const h=c.reactions?.length||0,d=r.current[c.id]||0;h>d&&c.reactions.slice(d).forEach(g=>{l(g)}),r.current[c.id]=h})},[t]);const l=c=>{const h=Math.random().toString(36).substring(7),d=Math.random()*80+10;n(m=>[...m,{...c,id:h,x:d}]),setTimeout(()=>{n(m=>m.filter(g=>g.id!==h))},4e3)};return b.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] overflow-hidden",children:b.jsx(Ar,{children:e.map(c=>b.jsxs(ut.div,{initial:{y:"110vh",opacity:0,x:`${c.x}vw`,scale:.5,rotate:0},animate:{y:"-10vh",opacity:[0,1,1,0],scale:[.5,1.5,1.2],rotate:[0,-10,10,0]},transition:{duration:4,ease:"easeOut"},className:"absolute top-0 flex flex-col items-center",children:[b.jsx("span",{className:"text-6xl drop-shadow-2xl filter",children:c.emoji}),c.byName&&b.jsx("div",{className:"text-sm font-bold text-white/90 text-center mt-2 bg-black/40 px-3 py-1 rounded-full backdrop-blur-md border border-white/10 shadow-lg",children:c.byName})]},c.id))})})};function tF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>r=>{e.forEach(a=>a(r))},e)}const rp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function yc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function kb(t){return"nodeType"in t}function bi(t){var e,n;return t?yc(t)?t:kb(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Mb(t){const{Document:e}=bi(t);return t instanceof e}function Ih(t){return yc(t)?!1:t instanceof bi(t).HTMLElement}function tN(t){return t instanceof bi(t).SVGElement}function vc(t){return t?yc(t)?t.document:kb(t)?Mb(t)?t:Ih(t)||tN(t)?t.ownerDocument:document:document:document}const Mr=rp?S.useLayoutEffect:S.useEffect;function sp(t){const e=S.useRef(t);return Mr(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}function nF(){const t=S.useRef(null),e=S.useCallback((r,a)=>{t.current=setInterval(r,a)},[]),n=S.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function ih(t,e){e===void 0&&(e=[t]);const n=S.useRef(t);return Mr(()=>{n.current!==t&&(n.current=t)},e),n}function Nh(t,e){const n=S.useRef();return S.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function bm(t){const e=sp(t),n=S.useRef(null),r=S.useCallback(a=>{a!==n.current&&e?.(a,n.current),n.current=a},[]);return[n,r]}function xm(t){const e=S.useRef();return S.useEffect(()=>{e.current=t},[t]),e.current}let Hy={};function Dh(t,e){return S.useMemo(()=>{if(e)return e;const n=Hy[t]==null?0:Hy[t]+1;return Hy[t]=n,t+"-"+n},[t,e])}function nN(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((l,c)=>{const h=Object.entries(c);for(const[d,m]of h){const g=l[d];g!=null&&(l[d]=g+t*m)}return l},{...e})}}const Yl=nN(1),rh=nN(-1);function iF(t){return"clientX"in t&&"clientY"in t}function ap(t){if(!t)return!1;const{KeyboardEvent:e}=bi(t.target);return e&&t instanceof e}function rF(t){if(!t)return!1;const{TouchEvent:e}=bi(t.target);return e&&t instanceof e}function _m(t){if(rF(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return iF(t)?{x:t.clientX,y:t.clientY}:null}const Ga=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Ga.Translate.toString(t),Ga.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),DS="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function sF(t){return t.matches(DS)?t:t.querySelector(DS)}const aF={display:"none"};function oF(t){let{id:e,value:n}=t;return St.createElement("div",{id:e,style:aF},n)}function lF(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return St.createElement("div",{id:e,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function cF(){const[t,e]=S.useState("");return{announce:S.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const iN=S.createContext(null);function uF(t){const e=S.useContext(iN);S.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function hF(){const[t]=S.useState(()=>new Set),e=S.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[S.useCallback(r=>{let{type:a,event:l}=r;t.forEach(c=>{var h;return(h=c[a])==null?void 0:h.call(c,l)})},[t]),e]}const dF={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},fF={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function mF(t){let{announcements:e=fF,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=dF}=t;const{announce:l,announcement:c}=cF(),h=Dh("DndLiveRegion"),[d,m]=S.useState(!1);if(S.useEffect(()=>{m(!0)},[]),uF(S.useMemo(()=>({onDragStart(v){let{active:_}=v;l(e.onDragStart({active:_}))},onDragMove(v){let{active:_,over:C}=v;e.onDragMove&&l(e.onDragMove({active:_,over:C}))},onDragOver(v){let{active:_,over:C}=v;l(e.onDragOver({active:_,over:C}))},onDragEnd(v){let{active:_,over:C}=v;l(e.onDragEnd({active:_,over:C}))},onDragCancel(v){let{active:_,over:C}=v;l(e.onDragCancel({active:_,over:C}))}}),[l,e])),!d)return null;const g=St.createElement(St.Fragment,null,St.createElement(oF,{id:r,value:a.draggable}),St.createElement(lF,{id:h,announcement:c}));return n?_u.createPortal(g,n):g}var On;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(On||(On={}));function wm(){}function kS(t,e){return S.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function pF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Or=Object.freeze({x:0,y:0});function rN(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function gF(t,e){const n=_m(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function sN(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function yF(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function MS(t){let{left:e,top:n,height:r,width:a}=t;return[{x:e,y:n},{x:e+a,y:n},{x:e,y:n+r},{x:e+a,y:n+r}]}function aN(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function OS(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const vF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=OS(e,e.left,e.top),l=[];for(const c of r){const{id:h}=c,d=n.get(h);if(d){const m=rN(OS(d),a);l.push({id:h,data:{droppableContainer:c,value:m}})}}return l.sort(sN)},bF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=MS(e),l=[];for(const c of r){const{id:h}=c,d=n.get(h);if(d){const m=MS(d),g=a.reduce((_,C,M)=>_+rN(m[M],C),0),v=Number((g/4).toFixed(4));l.push({id:h,data:{droppableContainer:c,value:v}})}}return l.sort(sN)};function xF(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),l=Math.min(e.top+e.height,t.top+t.height),c=a-r,h=l-n;if(r<a&&n<l){const d=e.width*e.height,m=t.width*t.height,g=c*h,v=g/(d+m-g);return Number(v.toFixed(4))}return 0}const _F=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=[];for(const l of r){const{id:c}=l,h=n.get(c);if(h){const d=xF(h,e);d>0&&a.push({id:c,data:{droppableContainer:l,value:d}})}}return a.sort(yF)};function wF(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function oN(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Or}function TF(t){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];return a.reduce((c,h)=>({...c,top:c.top+t*h.y,bottom:c.bottom+t*h.y,left:c.left+t*h.x,right:c.right+t*h.x}),{...n})}}const EF=TF(1);function lN(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function SF(t,e,n){const r=lN(e);if(!r)return t;const{scaleX:a,scaleY:l,x:c,y:h}=r,d=t.left-c-(1-a)*parseFloat(n),m=t.top-h-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),g=a?t.width/a:t.width,v=l?t.height/l:t.height;return{width:g,height:v,top:m,right:d+g,bottom:m+v,left:d}}const AF={ignoreTransform:!1};function bc(t,e){e===void 0&&(e=AF);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:m,transformOrigin:g}=bi(t).getComputedStyle(t);m&&(n=SF(n,m,g))}const{top:r,left:a,width:l,height:c,bottom:h,right:d}=n;return{top:r,left:a,width:l,height:c,bottom:h,right:d}}function PS(t){return bc(t,{ignoreTransform:!0})}function CF(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function RF(t,e){return e===void 0&&(e=bi(t).getComputedStyle(t)),e.position==="fixed"}function IF(t,e){e===void 0&&(e=bi(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const l=e[a];return typeof l=="string"?n.test(l):!1})}function op(t,e){const n=[];function r(a){if(e!=null&&n.length>=e||!a)return n;if(Mb(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Ih(a)||tN(a)||n.includes(a))return n;const l=bi(t).getComputedStyle(a);return a!==t&&IF(a,l)&&n.push(a),RF(a,l)?n:r(a.parentNode)}return t?r(t):n}function cN(t){const[e]=op(t,1);return e??null}function Gy(t){return!rp||!t?null:yc(t)?t:kb(t)?Mb(t)||t===vc(t).scrollingElement?window:Ih(t)?t:null:null}function uN(t){return yc(t)?t.scrollX:t.scrollLeft}function hN(t){return yc(t)?t.scrollY:t.scrollTop}function Kv(t){return{x:uN(t),y:hN(t)}}var qn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(qn||(qn={}));function dN(t){return!rp||!t?!1:t===document.scrollingElement}function fN(t){const e={x:0,y:0},n=dN(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},a=t.scrollTop<=e.y,l=t.scrollLeft<=e.x,c=t.scrollTop>=r.y,h=t.scrollLeft>=r.x;return{isTop:a,isLeft:l,isBottom:c,isRight:h,maxScroll:r,minScroll:e}}const NF={x:.2,y:.2};function DF(t,e,n,r,a){let{top:l,left:c,right:h,bottom:d}=n;r===void 0&&(r=10),a===void 0&&(a=NF);const{isTop:m,isBottom:g,isLeft:v,isRight:_}=fN(t),C={x:0,y:0},M={x:0,y:0},O={height:e.height*a.y,width:e.width*a.x};return!m&&l<=e.top+O.height?(C.y=qn.Backward,M.y=r*Math.abs((e.top+O.height-l)/O.height)):!g&&d>=e.bottom-O.height&&(C.y=qn.Forward,M.y=r*Math.abs((e.bottom-O.height-d)/O.height)),!_&&h>=e.right-O.width?(C.x=qn.Forward,M.x=r*Math.abs((e.right-O.width-h)/O.width)):!v&&c<=e.left+O.width&&(C.x=qn.Backward,M.x=r*Math.abs((e.left+O.width-c)/O.width)),{direction:C,speed:M}}function kF(t){if(t===document.scrollingElement){const{innerWidth:l,innerHeight:c}=window;return{top:0,left:0,right:l,bottom:c,width:l,height:c}}const{top:e,left:n,right:r,bottom:a}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:a,width:t.clientWidth,height:t.clientHeight}}function mN(t){return t.reduce((e,n)=>Yl(e,Kv(n)),Or)}function MF(t){return t.reduce((e,n)=>e+uN(n),0)}function OF(t){return t.reduce((e,n)=>e+hN(n),0)}function pN(t,e){if(e===void 0&&(e=bc),!t)return;const{top:n,left:r,bottom:a,right:l}=e(t);cN(t)&&(a<=0||l<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const PF=[["x",["left","right"],MF],["y",["top","bottom"],OF]];class Ob{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=op(n),a=mN(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,c,h]of PF)for(const d of c)Object.defineProperty(this,d,{get:()=>{const m=h(r),g=a[l]-m;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class zu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var a;(a=this.target)==null||a.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function VF(t){const{EventTarget:e}=bi(t);return t instanceof e?t:vc(t)}function $y(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var ar;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(ar||(ar={}));function VS(t){t.preventDefault()}function jF(t){t.stopPropagation()}var st;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(st||(st={}));const gN={start:[st.Space,st.Enter],cancel:[st.Esc],end:[st.Space,st.Enter,st.Tab]},LF=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case st.Right:return{...n,x:n.x+25};case st.Left:return{...n,x:n.x-25};case st.Down:return{...n,y:n.y+25};case st.Up:return{...n,y:n.y-25}}};class Pb{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new zu(vc(n)),this.windowListeners=new zu(bi(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ar.Resize,this.handleCancel),this.windowListeners.add(ar.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ar.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&pN(r),n(Or)}handleKeyDown(e){if(ap(e)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:l=gN,coordinateGetter:c=LF,scrollBehavior:h="smooth"}=a,{code:d}=e;if(l.end.includes(d)){this.handleEnd(e);return}if(l.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:m}=r.current,g=m?{x:m.left,y:m.top}:Or;this.referenceCoordinates||(this.referenceCoordinates=g);const v=c(e,{active:n,context:r.current,currentCoordinates:g});if(v){const _=rh(v,g),C={x:0,y:0},{scrollableAncestors:M}=r.current;for(const O of M){const I=e.code,{isTop:z,isRight:$,isLeft:G,isBottom:ae,maxScroll:te,minScroll:le}=fN(O),N=kF(O),A={x:Math.min(I===st.Right?N.right-N.width/2:N.right,Math.max(I===st.Right?N.left:N.left+N.width/2,v.x)),y:Math.min(I===st.Down?N.bottom-N.height/2:N.bottom,Math.max(I===st.Down?N.top:N.top+N.height/2,v.y))},P=I===st.Right&&!$||I===st.Left&&!G,D=I===st.Down&&!ae||I===st.Up&&!z;if(P&&A.x!==v.x){const j=O.scrollLeft+_.x,B=I===st.Right&&j<=te.x||I===st.Left&&j>=le.x;if(B&&!_.y){O.scrollTo({left:j,behavior:h});return}B?C.x=O.scrollLeft-j:C.x=I===st.Right?O.scrollLeft-te.x:O.scrollLeft-le.x,C.x&&O.scrollBy({left:-C.x,behavior:h});break}else if(D&&A.y!==v.y){const j=O.scrollTop+_.y,B=I===st.Down&&j<=te.y||I===st.Up&&j>=le.y;if(B&&!_.x){O.scrollTo({top:j,behavior:h});return}B?C.y=O.scrollTop-j:C.y=I===st.Down?O.scrollTop-te.y:O.scrollTop-le.y,C.y&&O.scrollBy({top:-C.y,behavior:h});break}}this.handleMove(e,Yl(rh(v,this.referenceCoordinates),C))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Pb.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=gN,onActivation:a}=e,{active:l}=n;const{code:c}=t.nativeEvent;if(r.start.includes(c)){const h=l.activatorNode.current;return h&&t.target!==h?!1:(t.preventDefault(),a?.({event:t.nativeEvent}),!0)}return!1}}];function jS(t){return!!(t&&"distance"in t)}function LS(t){return!!(t&&"delay"in t)}class Vb{constructor(e,n,r){var a;r===void 0&&(r=VF(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:l}=e,{target:c}=l;this.props=e,this.events=n,this.document=vc(c),this.documentListeners=new zu(this.document),this.listeners=new zu(r),this.windowListeners=new zu(bi(c)),this.initialCoordinates=(a=_m(l))!=null?a:Or,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ar.Resize,this.handleCancel),this.windowListeners.add(ar.DragStart,VS),this.windowListeners.add(ar.VisibilityChange,this.handleCancel),this.windowListeners.add(ar.ContextMenu,VS),this.documentListeners.add(ar.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(LS(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(jS(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:a}=this.props;a(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(ar.Click,jF,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ar.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:a,props:l}=this,{onMove:c,options:{activationConstraint:h}}=l;if(!a)return;const d=(n=_m(e))!=null?n:Or,m=rh(a,d);if(!r&&h){if(jS(h)){if(h.tolerance!=null&&$y(m,h.tolerance))return this.handleCancel();if($y(m,h.distance))return this.handleStart()}if(LS(h)&&$y(m,h.tolerance))return this.handleCancel();this.handlePending(h,m);return}e.cancelable&&e.preventDefault(),c(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===st.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const UF={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class jb extends Vb{constructor(e){const{event:n}=e,r=vc(n.target);super(e,UF,r)}}jb.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const zF={move:{name:"mousemove"},end:{name:"mouseup"}};var Yv;(function(t){t[t.RightClick=2]="RightClick"})(Yv||(Yv={}));class BF extends Vb{constructor(e){super(e,zF,vc(e.event.target))}}BF.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Yv.RightClick?!1:(r?.({event:n}),!0)}}];const Ky={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class FF extends Vb{constructor(e){super(e,Ky)}static setup(){return window.addEventListener(Ky.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ky.move.name,e)};function e(){}}}FF.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:a}=n;return a.length>1?!1:(r?.({event:n}),!0)}}];var Bu;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Bu||(Bu={}));var Tm;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Tm||(Tm={}));function qF(t){let{acceleration:e,activator:n=Bu.Pointer,canScroll:r,draggingRect:a,enabled:l,interval:c=5,order:h=Tm.TreeOrder,pointerCoordinates:d,scrollableAncestors:m,scrollableAncestorRects:g,delta:v,threshold:_}=t;const C=GF({delta:v,disabled:!l}),[M,O]=nF(),I=S.useRef({x:0,y:0}),z=S.useRef({x:0,y:0}),$=S.useMemo(()=>{switch(n){case Bu.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Bu.DraggableRect:return a}},[n,a,d]),G=S.useRef(null),ae=S.useCallback(()=>{const le=G.current;if(!le)return;const N=I.current.x*z.current.x,A=I.current.y*z.current.y;le.scrollBy(N,A)},[]),te=S.useMemo(()=>h===Tm.TreeOrder?[...m].reverse():m,[h,m]);S.useEffect(()=>{if(!l||!m.length||!$){O();return}for(const le of te){if(r?.(le)===!1)continue;const N=m.indexOf(le),A=g[N];if(!A)continue;const{direction:P,speed:D}=DF(le,A,$,e,_);for(const j of["x","y"])C[j][P[j]]||(D[j]=0,P[j]=0);if(D.x>0||D.y>0){O(),G.current=le,M(ae,c),I.current=D,z.current=P;return}}I.current={x:0,y:0},z.current={x:0,y:0},O()},[e,ae,r,O,l,c,JSON.stringify($),JSON.stringify(C),M,m,te,g,JSON.stringify(_)])}const HF={x:{[qn.Backward]:!1,[qn.Forward]:!1},y:{[qn.Backward]:!1,[qn.Forward]:!1}};function GF(t){let{delta:e,disabled:n}=t;const r=xm(e);return Nh(a=>{if(n||!r||!a)return HF;const l={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[qn.Backward]:a.x[qn.Backward]||l.x===-1,[qn.Forward]:a.x[qn.Forward]||l.x===1},y:{[qn.Backward]:a.y[qn.Backward]||l.y===-1,[qn.Forward]:a.y[qn.Forward]||l.y===1}}},[n,e,r])}function $F(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Nh(a=>{var l;return e==null?null:(l=r??a)!=null?l:null},[r,e])}function KF(t,e){return S.useMemo(()=>t.reduce((n,r)=>{const{sensor:a}=r,l=a.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,r)}));return[...n,...l]},[]),[t,e])}var sh;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(sh||(sh={}));var Xv;(function(t){t.Optimized="optimized"})(Xv||(Xv={}));const US=new Map;function YF(t,e){let{dragging:n,dependencies:r,config:a}=e;const[l,c]=S.useState(null),{frequency:h,measure:d,strategy:m}=a,g=S.useRef(t),v=I(),_=ih(v),C=S.useCallback(function(z){z===void 0&&(z=[]),!_.current&&c($=>$===null?z:$.concat(z.filter(G=>!$.includes(G))))},[_]),M=S.useRef(null),O=Nh(z=>{if(v&&!n)return US;if(!z||z===US||g.current!==t||l!=null){const $=new Map;for(let G of t){if(!G)continue;if(l&&l.length>0&&!l.includes(G.id)&&G.rect.current){$.set(G.id,G.rect.current);continue}const ae=G.node.current,te=ae?new Ob(d(ae),ae):null;G.rect.current=te,te&&$.set(G.id,te)}return $}return z},[t,l,n,v,d]);return S.useEffect(()=>{g.current=t},[t]),S.useEffect(()=>{v||C()},[n,v]),S.useEffect(()=>{l&&l.length>0&&c(null)},[JSON.stringify(l)]),S.useEffect(()=>{v||typeof h!="number"||M.current!==null||(M.current=setTimeout(()=>{C(),M.current=null},h))},[h,v,C,...r]),{droppableRects:O,measureDroppableContainers:C,measuringScheduled:l!=null};function I(){switch(m){case sh.Always:return!1;case sh.BeforeDragging:return n;default:return!n}}}function Lb(t,e){return Nh(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function XF(t,e){return Lb(t,e)}function WF(t){let{callback:e,disabled:n}=t;const r=sp(e),a=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(r)},[r,n]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function lp(t){let{callback:e,disabled:n}=t;const r=sp(e),a=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(r)},[n]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function QF(t){return new Ob(bc(t),t)}function zS(t,e,n){e===void 0&&(e=QF);const[r,a]=S.useState(null);function l(){a(d=>{if(!t)return null;if(t.isConnected===!1){var m;return(m=d??n)!=null?m:null}const g=e(t);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const c=WF({callback(d){if(t)for(const m of d){const{type:g,target:v}=m;if(g==="childList"&&v instanceof HTMLElement&&v.contains(t)){l();break}}}}),h=lp({callback:l});return Mr(()=>{l(),t?(h?.observe(t),c?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),c?.disconnect())},[t]),r}function JF(t){const e=Lb(t);return oN(t,e)}const BS=[];function ZF(t){const e=S.useRef(t),n=Nh(r=>t?r&&r!==BS&&t&&e.current&&t.parentNode===e.current.parentNode?r:op(t):BS,[t]);return S.useEffect(()=>{e.current=t},[t]),n}function e7(t){const[e,n]=S.useState(null),r=S.useRef(t),a=S.useCallback(l=>{const c=Gy(l.target);c&&n(h=>h?(h.set(c,Kv(c)),new Map(h)):null)},[]);return S.useEffect(()=>{const l=r.current;if(t!==l){c(l);const h=t.map(d=>{const m=Gy(d);return m?(m.addEventListener("scroll",a,{passive:!0}),[m,Kv(m)]):null}).filter(d=>d!=null);n(h.length?new Map(h):null),r.current=t}return()=>{c(t),c(l)};function c(h){h.forEach(d=>{const m=Gy(d);m?.removeEventListener("scroll",a)})}},[a,t]),S.useMemo(()=>t.length?e?Array.from(e.values()).reduce((l,c)=>Yl(l,c),Or):mN(t):Or,[t,e])}function FS(t,e){e===void 0&&(e=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},e),S.useEffect(()=>{const r=t!==Or;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?rh(t,n.current):Or}function t7(t){S.useEffect(()=>{if(!rp)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function n7(t,e){return S.useMemo(()=>t.reduce((n,r)=>{let{eventName:a,handler:l}=r;return n[a]=c=>{l(c,e)},n},{}),[t,e])}function yN(t){return S.useMemo(()=>t?CF(t):null,[t])}const qS=[];function i7(t,e){e===void 0&&(e=bc);const[n]=t,r=yN(n?bi(n):null),[a,l]=S.useState(qS);function c(){l(()=>t.length?t.map(d=>dN(d)?r:new Ob(e(d),d)):qS)}const h=lp({callback:c});return Mr(()=>{h?.disconnect(),c(),t.forEach(d=>h?.observe(d))},[t]),a}function vN(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Ih(e)?e:t}function r7(t){let{measure:e}=t;const[n,r]=S.useState(null),a=S.useCallback(m=>{for(const{target:g}of m)if(Ih(g)){r(v=>{const _=e(g);return v?{...v,width:_.width,height:_.height}:_});break}},[e]),l=lp({callback:a}),c=S.useCallback(m=>{const g=vN(m);l?.disconnect(),g&&l?.observe(g),r(g?e(g):null)},[e,l]),[h,d]=bm(c);return S.useMemo(()=>({nodeRef:h,rect:n,setRef:d}),[n,h,d])}const s7=[{sensor:jb,options:{}},{sensor:Pb,options:{}}],a7={current:{}},Of={draggable:{measure:PS},droppable:{measure:PS,strategy:sh.WhileDragging,frequency:Xv.Optimized},dragOverlay:{measure:bc}};class Fu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const o7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Fu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:wm},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Of,measureDroppableContainers:wm,windowRect:null,measuringScheduled:!1},bN={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:wm,draggableNodes:new Map,over:null,measureDroppableContainers:wm},kh=S.createContext(bN),xN=S.createContext(o7);function l7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Fu}}}function c7(t,e){switch(e.type){case On.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case On.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case On.DragEnd:case On.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case On.RegisterDroppable:{const{element:n}=e,{id:r}=n,a=new Fu(t.droppable.containers);return a.set(r,n),{...t,droppable:{...t.droppable,containers:a}}}case On.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=e,l=t.droppable.containers.get(n);if(!l||r!==l.key)return t;const c=new Fu(t.droppable.containers);return c.set(n,{...l,disabled:a}),{...t,droppable:{...t.droppable,containers:c}}}case On.UnregisterDroppable:{const{id:n,key:r}=e,a=t.droppable.containers.get(n);if(!a||r!==a.key)return t;const l=new Fu(t.droppable.containers);return l.delete(n),{...t,droppable:{...t.droppable,containers:l}}}default:return t}}function u7(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:a}=S.useContext(kh),l=xm(r),c=xm(n?.id);return S.useEffect(()=>{if(!e&&!r&&l&&c!=null){if(!ap(l)||document.activeElement===l.target)return;const h=a.get(c);if(!h)return;const{activatorNode:d,node:m}=h;if(!d.current&&!m.current)return;requestAnimationFrame(()=>{for(const g of[d.current,m.current]){if(!g)continue;const v=sF(g);if(v){v.focus();break}}})}},[r,e,a,c,l]),null}function _N(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((a,l)=>l({transform:a,...r}),n):n}function h7(t){return S.useMemo(()=>({draggable:{...Of.draggable,...t?.draggable},droppable:{...Of.droppable,...t?.droppable},dragOverlay:{...Of.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function d7(t){let{activeNode:e,measure:n,initialRect:r,config:a=!0}=t;const l=S.useRef(!1),{x:c,y:h}=typeof a=="boolean"?{x:a,y:a}:a;Mr(()=>{if(!c&&!h||!e){l.current=!1;return}if(l.current||!r)return;const m=e?.node.current;if(!m||m.isConnected===!1)return;const g=n(m),v=oN(g,r);if(c||(v.x=0),h||(v.y=0),l.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const _=cN(m);_&&_.scrollBy({top:v.y,left:v.x})}},[e,c,h,r,n])}const cp=S.createContext({...Or,scaleX:1,scaleY:1});var Sa;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Sa||(Sa={}));const f7=S.memo(function(e){var n,r,a,l;let{id:c,accessibility:h,autoScroll:d=!0,children:m,sensors:g=s7,collisionDetection:v=_F,measuring:_,modifiers:C,...M}=e;const O=S.useReducer(c7,void 0,l7),[I,z]=O,[$,G]=hF(),[ae,te]=S.useState(Sa.Uninitialized),le=ae===Sa.Initialized,{draggable:{active:N,nodes:A,translate:P},droppable:{containers:D}}=I,j=N!=null?A.get(N):null,B=S.useRef({initial:null,translated:null}),V=S.useMemo(()=>{var Be;return N!=null?{id:N,data:(Be=j?.data)!=null?Be:a7,rect:B}:null},[N,j]),xe=S.useRef(null),[ke,Z]=S.useState(null),[q,H]=S.useState(null),X=ih(M,Object.values(M)),L=Dh("DndDescribedBy",c),T=S.useMemo(()=>D.getEnabled(),[D]),U=h7(_),{droppableRects:W,measureDroppableContainers:re,measuringScheduled:pe}=YF(T,{dragging:le,dependencies:[P.x,P.y],config:U.droppable}),ge=$F(A,N),fe=S.useMemo(()=>q?_m(q):null,[q]),ve=pr(),_e=XF(ge,U.draggable.measure);d7({activeNode:N!=null?A.get(N):null,config:ve.layoutShiftCompensation,initialRect:_e,measure:U.draggable.measure});const Ee=zS(ge,U.draggable.measure,_e),Le=zS(ge?ge.parentElement:null),Ve=S.useRef({activatorEvent:null,active:null,activeNode:ge,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ct=D.getNodeFor((n=Ve.current.over)==null?void 0:n.id),Ne=r7({measure:U.dragOverlay.measure}),vt=(r=Ne.nodeRef.current)!=null?r:ge,mt=le?(a=Ne.rect)!=null?a:Ee:null,qt=!!(Ne.nodeRef.current&&Ne.rect),Xt=JF(qt?null:Ee),Je=yN(vt?bi(vt):null),Oe=ZF(le?ct??ge:null),sn=i7(Oe),Di=_N(C,{transform:{x:P.x-Xt.x,y:P.y-Xt.y,scaleX:1,scaleY:1},activatorEvent:q,active:V,activeNodeRect:Ee,containerNodeRect:Le,draggingNodeRect:mt,over:Ve.current.over,overlayNodeRect:Ne.rect,scrollableAncestors:Oe,scrollableAncestorRects:sn,windowRect:Je}),Gi=fe?Yl(fe,P):null,Pt=e7(Oe),ui=FS(Pt),Sn=FS(Pt,[Ee]),$n=Yl(Di,ui),an=mt?EF(mt,Di):null,hi=V&&an?v({active:V,collisionRect:an,droppableRects:W,droppableContainers:T,pointerCoordinates:Gi}):null,$i=aN(hi,"id"),[fn,An]=S.useState(null),Kn=qt?Di:Yl(Di,Sn),Ht=wF(Kn,(l=fn?.rect)!=null?l:null,Ee),jn=S.useRef(null),kt=S.useCallback((Be,ot)=>{let{sensor:pt,options:At}=ot;if(xe.current==null)return;const Cn=A.get(xe.current);if(!Cn)return;const Wt=Be.nativeEvent,Gt=new pt({active:xe.current,activeNode:Cn,event:Wt,options:At,context:Ve,onAbort(Xe){if(!A.get(Xe))return;const{onDragAbort:Mt}=X.current,pn={id:Xe};Mt?.(pn),$({type:"onDragAbort",event:pn})},onPending(Xe,Qt,Mt,pn){if(!A.get(Xe))return;const{onDragPending:on}=X.current,ti={id:Xe,constraint:Qt,initialCoordinates:Mt,offset:pn};on?.(ti),$({type:"onDragPending",event:ti})},onStart(Xe){const Qt=xe.current;if(Qt==null)return;const Mt=A.get(Qt);if(!Mt)return;const{onDragStart:pn}=X.current,Rn={activatorEvent:Wt,active:{id:Qt,data:Mt.data,rect:B}};_u.unstable_batchedUpdates(()=>{pn?.(Rn),te(Sa.Initializing),z({type:On.DragStart,initialCoordinates:Xe,active:Qt}),$({type:"onDragStart",event:Rn}),Z(jn.current),H(Wt)})},onMove(Xe){z({type:On.DragMove,coordinates:Xe})},onEnd:mn(On.DragEnd),onCancel:mn(On.DragCancel)});jn.current=Gt;function mn(Xe){return async function(){const{active:Mt,collisions:pn,over:Rn,scrollAdjustedTranslate:on}=Ve.current;let ti=null;if(Mt&&on){const{cancelDrop:In}=X.current;ti={activatorEvent:Wt,active:Mt,collisions:pn,delta:on,over:Rn},Xe===On.DragEnd&&typeof In=="function"&&await Promise.resolve(In(ti))&&(Xe=On.DragCancel)}xe.current=null,_u.unstable_batchedUpdates(()=>{z({type:Xe}),te(Sa.Uninitialized),An(null),Z(null),H(null),jn.current=null;const In=Xe===On.DragEnd?"onDragEnd":"onDragCancel";if(ti){const Ln=X.current[In];Ln?.(ti),$({type:In,event:ti})}})}}},[A]),fr=S.useCallback((Be,ot)=>(pt,At)=>{const Cn=pt.nativeEvent,Wt=A.get(At);if(xe.current!==null||!Wt||Cn.dndKit||Cn.defaultPrevented)return;const Gt={active:Wt};Be(pt,ot.options,Gt)===!0&&(Cn.dndKit={capturedBy:ot.sensor},xe.current=At,kt(pt,ot))},[A,kt]),mr=KF(g,fr);t7(g),Mr(()=>{Ee&&ae===Sa.Initializing&&te(Sa.Initialized)},[Ee,ae]),S.useEffect(()=>{const{onDragMove:Be}=X.current,{active:ot,activatorEvent:pt,collisions:At,over:Cn}=Ve.current;if(!ot||!pt)return;const Wt={active:ot,activatorEvent:pt,collisions:At,delta:{x:$n.x,y:$n.y},over:Cn};_u.unstable_batchedUpdates(()=>{Be?.(Wt),$({type:"onDragMove",event:Wt})})},[$n.x,$n.y]),S.useEffect(()=>{const{active:Be,activatorEvent:ot,collisions:pt,droppableContainers:At,scrollAdjustedTranslate:Cn}=Ve.current;if(!Be||xe.current==null||!ot||!Cn)return;const{onDragOver:Wt}=X.current,Gt=At.get($i),mn=Gt&&Gt.rect.current?{id:Gt.id,rect:Gt.rect.current,data:Gt.data,disabled:Gt.disabled}:null,Xe={active:Be,activatorEvent:ot,collisions:pt,delta:{x:Cn.x,y:Cn.y},over:mn};_u.unstable_batchedUpdates(()=>{An(mn),Wt?.(Xe),$({type:"onDragOver",event:Xe})})},[$i]),Mr(()=>{Ve.current={activatorEvent:q,active:V,activeNode:ge,collisionRect:an,collisions:hi,droppableRects:W,draggableNodes:A,draggingNode:vt,draggingNodeRect:mt,droppableContainers:D,over:fn,scrollableAncestors:Oe,scrollAdjustedTranslate:$n},B.current={initial:mt,translated:an}},[V,ge,hi,an,A,vt,mt,W,D,fn,Oe,$n]),qF({...ve,delta:P,draggingRect:an,pointerCoordinates:Gi,scrollableAncestors:Oe,scrollableAncestorRects:sn});const Fs=S.useMemo(()=>({active:V,activeNode:ge,activeNodeRect:Ee,activatorEvent:q,collisions:hi,containerNodeRect:Le,dragOverlay:Ne,draggableNodes:A,droppableContainers:D,droppableRects:W,over:fn,measureDroppableContainers:re,scrollableAncestors:Oe,scrollableAncestorRects:sn,measuringConfiguration:U,measuringScheduled:pe,windowRect:Je}),[V,ge,Ee,q,hi,Le,Ne,A,D,W,fn,re,Oe,sn,U,pe,Je]),xi=S.useMemo(()=>({activatorEvent:q,activators:mr,active:V,activeNodeRect:Ee,ariaDescribedById:{draggable:L},dispatch:z,draggableNodes:A,over:fn,measureDroppableContainers:re}),[q,mr,V,Ee,z,L,A,fn,re]);return St.createElement(iN.Provider,{value:G},St.createElement(kh.Provider,{value:xi},St.createElement(xN.Provider,{value:Fs},St.createElement(cp.Provider,{value:Ht},m)),St.createElement(u7,{disabled:h?.restoreFocus===!1})),St.createElement(mF,{...h,hiddenTextDescribedById:L}));function pr(){const Be=ke?.autoScrollEnabled===!1,ot=typeof d=="object"?d.enabled===!1:d===!1,pt=le&&!Be&&!ot;return typeof d=="object"?{...d,enabled:pt}:{enabled:pt}}}),m7=S.createContext(null),HS="button",p7="Draggable";function g7(t){let{id:e,data:n,disabled:r=!1,attributes:a}=t;const l=Dh(p7),{activators:c,activatorEvent:h,active:d,activeNodeRect:m,ariaDescribedById:g,draggableNodes:v,over:_}=S.useContext(kh),{role:C=HS,roleDescription:M="draggable",tabIndex:O=0}=a??{},I=d?.id===e,z=S.useContext(I?cp:m7),[$,G]=bm(),[ae,te]=bm(),le=n7(c,e),N=ih(n);Mr(()=>(v.set(e,{id:e,key:l,node:$,activatorNode:ae,data:N}),()=>{const P=v.get(e);P&&P.key===l&&v.delete(e)}),[v,e]);const A=S.useMemo(()=>({role:C,tabIndex:O,"aria-disabled":r,"aria-pressed":I&&C===HS?!0:void 0,"aria-roledescription":M,"aria-describedby":g.draggable}),[r,C,O,I,M,g.draggable]);return{active:d,activatorEvent:h,activeNodeRect:m,attributes:A,isDragging:I,listeners:r?void 0:le,node:$,over:_,setNodeRef:G,setActivatorNodeRef:te,transform:z}}function wN(){return S.useContext(xN)}const y7="Droppable",v7={timeout:25};function b7(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:a}=t;const l=Dh(y7),{active:c,dispatch:h,over:d,measureDroppableContainers:m}=S.useContext(kh),g=S.useRef({disabled:n}),v=S.useRef(!1),_=S.useRef(null),C=S.useRef(null),{disabled:M,updateMeasurementsFor:O,timeout:I}={...v7,...a},z=ih(O??r),$=S.useCallback(()=>{if(!v.current){v.current=!0;return}C.current!=null&&clearTimeout(C.current),C.current=setTimeout(()=>{m(Array.isArray(z.current)?z.current:[z.current]),C.current=null},I)},[I]),G=lp({callback:$,disabled:M||!c}),ae=S.useCallback((A,P)=>{G&&(P&&(G.unobserve(P),v.current=!1),A&&G.observe(A))},[G]),[te,le]=bm(ae),N=ih(e);return S.useEffect(()=>{!G||!te.current||(G.disconnect(),v.current=!1,G.observe(te.current))},[te,G]),S.useEffect(()=>(h({type:On.RegisterDroppable,element:{id:r,key:l,disabled:n,node:te,rect:_,data:N}}),()=>h({type:On.UnregisterDroppable,key:l,id:r})),[r]),S.useEffect(()=>{n!==g.current.disabled&&(h({type:On.SetDroppableDisabled,id:r,key:l,disabled:n}),g.current.disabled=n)},[r,l,n,h]),{active:c,rect:_,isOver:d?.id===r,node:te,over:d,setNodeRef:le}}function x7(t){let{animation:e,children:n}=t;const[r,a]=S.useState(null),[l,c]=S.useState(null),h=xm(n);return!n&&!r&&h&&a(h),Mr(()=>{if(!l)return;const d=r?.key,m=r?.props.id;if(d==null||m==null){a(null);return}Promise.resolve(e(m,l)).then(()=>{a(null)})},[e,r,l]),St.createElement(St.Fragment,null,n,r?S.cloneElement(r,{ref:c}):null)}const _7={x:0,y:0,scaleX:1,scaleY:1};function w7(t){let{children:e}=t;return St.createElement(kh.Provider,{value:bN},St.createElement(cp.Provider,{value:_7},e))}const T7={position:"fixed",touchAction:"none"},E7=t=>ap(t)?"transform 250ms ease":void 0,S7=S.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:a,children:l,className:c,rect:h,style:d,transform:m,transition:g=E7}=t;if(!h)return null;const v=a?m:{...m,scaleX:1,scaleY:1},_={...T7,width:h.width,height:h.height,top:h.top,left:h.left,transform:Ga.Transform.toString(v),transformOrigin:a&&r?gF(r,h):void 0,transition:typeof g=="function"?g(r):g,...d};return St.createElement(n,{className:c,style:_,ref:e},l)}),A7=t=>e=>{let{active:n,dragOverlay:r}=e;const a={},{styles:l,className:c}=t;if(l!=null&&l.active)for(const[h,d]of Object.entries(l.active))d!==void 0&&(a[h]=n.node.style.getPropertyValue(h),n.node.style.setProperty(h,d));if(l!=null&&l.dragOverlay)for(const[h,d]of Object.entries(l.dragOverlay))d!==void 0&&r.node.style.setProperty(h,d);return c!=null&&c.active&&n.node.classList.add(c.active),c!=null&&c.dragOverlay&&r.node.classList.add(c.dragOverlay),function(){for(const[d,m]of Object.entries(a))n.node.style.setProperty(d,m);c!=null&&c.active&&n.node.classList.remove(c.active)}},C7=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Ga.Transform.toString(e)},{transform:Ga.Transform.toString(n)}]},R7={duration:250,easing:"ease",keyframes:C7,sideEffects:A7({styles:{active:{opacity:"0"}}})};function I7(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:a}=t;return sp((l,c)=>{if(e===null)return;const h=n.get(l);if(!h)return;const d=h.node.current;if(!d)return;const m=vN(c);if(!m)return;const{transform:g}=bi(c).getComputedStyle(c),v=lN(g);if(!v)return;const _=typeof e=="function"?e:N7(e);return pN(d,a.draggable.measure),_({active:{id:l,data:h.data,node:d,rect:a.draggable.measure(d)},draggableNodes:n,dragOverlay:{node:c,rect:a.dragOverlay.measure(m)},droppableContainers:r,measuringConfiguration:a,transform:v})})}function N7(t){const{duration:e,easing:n,sideEffects:r,keyframes:a}={...R7,...t};return l=>{let{active:c,dragOverlay:h,transform:d,...m}=l;if(!e)return;const g={x:h.rect.left-c.rect.left,y:h.rect.top-c.rect.top},v={scaleX:d.scaleX!==1?c.rect.width*d.scaleX/h.rect.width:1,scaleY:d.scaleY!==1?c.rect.height*d.scaleY/h.rect.height:1},_={x:d.x-g.x,y:d.y-g.y,...v},C=a({...m,active:c,dragOverlay:h,transform:{initial:d,final:_}}),[M]=C,O=C[C.length-1];if(JSON.stringify(M)===JSON.stringify(O))return;const I=r?.({active:c,dragOverlay:h,...m}),z=h.node.animate(C,{duration:e,easing:n,fill:"forwards"});return new Promise($=>{z.onfinish=()=>{I?.(),$()}})}}let GS=0;function D7(t){return S.useMemo(()=>{if(t!=null)return GS++,GS},[t])}const k7=St.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:a,transition:l,modifiers:c,wrapperElement:h="div",className:d,zIndex:m=999}=t;const{activatorEvent:g,active:v,activeNodeRect:_,containerNodeRect:C,draggableNodes:M,droppableContainers:O,dragOverlay:I,over:z,measuringConfiguration:$,scrollableAncestors:G,scrollableAncestorRects:ae,windowRect:te}=wN(),le=S.useContext(cp),N=D7(v?.id),A=_N(c,{activatorEvent:g,active:v,activeNodeRect:_,containerNodeRect:C,draggingNodeRect:I.rect,over:z,overlayNodeRect:I.rect,scrollableAncestors:G,scrollableAncestorRects:ae,transform:le,windowRect:te}),P=Lb(_),D=I7({config:r,draggableNodes:M,droppableContainers:O,measuringConfiguration:$}),j=P?I.setRef:void 0;return St.createElement(w7,null,St.createElement(x7,{animation:D},v&&N?St.createElement(S7,{key:N,id:v.id,ref:j,as:h,activatorEvent:g,adjustScale:e,className:d,transition:l,rect:P,style:{zIndex:m,...a},transform:A},n):null))});function Ub(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function M7(t,e){return t.reduce((n,r,a)=>{const l=e.get(r);return l&&(n[a]=l),n},Array(t.length))}function ff(t){return t!==null&&t>=0}function O7(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function P7(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const zb=t=>{let{rects:e,activeIndex:n,overIndex:r,index:a}=t;const l=Ub(e,r,n),c=e[a],h=l[a];return!h||!c?null:{x:h.left-c.left,y:h.top-c.top,scaleX:h.width/c.width,scaleY:h.height/c.height}},TN="Sortable",EN=St.createContext({activeIndex:-1,containerId:TN,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:zb,disabled:{draggable:!1,droppable:!1}});function V7(t){let{children:e,id:n,items:r,strategy:a=zb,disabled:l=!1}=t;const{active:c,dragOverlay:h,droppableRects:d,over:m,measureDroppableContainers:g}=wN(),v=Dh(TN,n),_=h.rect!==null,C=S.useMemo(()=>r.map(le=>typeof le=="object"&&"id"in le?le.id:le),[r]),M=c!=null,O=c?C.indexOf(c.id):-1,I=m?C.indexOf(m.id):-1,z=S.useRef(C),$=!O7(C,z.current),G=I!==-1&&O===-1||$,ae=P7(l);Mr(()=>{$&&M&&g(C)},[$,C,M,g]),S.useEffect(()=>{z.current=C},[C]);const te=S.useMemo(()=>({activeIndex:O,containerId:v,disabled:ae,disableTransforms:G,items:C,overIndex:I,useDragOverlay:_,sortedRects:M7(C,d),strategy:a}),[O,v,ae.draggable,ae.droppable,G,C,I,d,_,a]);return St.createElement(EN.Provider,{value:te},e)}const j7=t=>{let{id:e,items:n,activeIndex:r,overIndex:a}=t;return Ub(n,r,a).indexOf(e)},L7=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:a,items:l,newIndex:c,previousItems:h,previousContainerId:d,transition:m}=t;return!m||!r||h!==l&&a===c?!1:n?!0:c!==a&&e===d},U7={duration:200,easing:"ease"},SN="transform",z7=Ga.Transition.toString({property:SN,duration:0,easing:"linear"}),B7={roleDescription:"sortable"};function F7(t){let{disabled:e,index:n,node:r,rect:a}=t;const[l,c]=S.useState(null),h=S.useRef(n);return Mr(()=>{if(!e&&n!==h.current&&r.current){const d=a.current;if(d){const m=bc(r.current,{ignoreTransform:!0}),g={x:d.left-m.left,y:d.top-m.top,scaleX:d.width/m.width,scaleY:d.height/m.height};(g.x||g.y)&&c(g)}}n!==h.current&&(h.current=n)},[e,n,r,a]),S.useEffect(()=>{l&&c(null)},[l]),l}function q7(t){let{animateLayoutChanges:e=L7,attributes:n,disabled:r,data:a,getNewIndex:l=j7,id:c,strategy:h,resizeObserverConfig:d,transition:m=U7}=t;const{items:g,containerId:v,activeIndex:_,disabled:C,disableTransforms:M,sortedRects:O,overIndex:I,useDragOverlay:z,strategy:$}=S.useContext(EN),G=H7(r,C),ae=g.indexOf(c),te=S.useMemo(()=>({sortable:{containerId:v,index:ae,items:g},...a}),[v,a,ae,g]),le=S.useMemo(()=>g.slice(g.indexOf(c)),[g,c]),{rect:N,node:A,isOver:P,setNodeRef:D}=b7({id:c,data:te,disabled:G.droppable,resizeObserverConfig:{updateMeasurementsFor:le,...d}}),{active:j,activatorEvent:B,activeNodeRect:V,attributes:xe,setNodeRef:ke,listeners:Z,isDragging:q,over:H,setActivatorNodeRef:X,transform:L}=g7({id:c,data:te,attributes:{...B7,...n},disabled:G.draggable}),T=tF(D,ke),U=!!j,W=U&&!M&&ff(_)&&ff(I),re=!z&&q,pe=re&&W?L:null,fe=W?pe??(h??$)({rects:O,activeNodeRect:V,activeIndex:_,overIndex:I,index:ae}):null,ve=ff(_)&&ff(I)?l({id:c,items:g,activeIndex:_,overIndex:I}):ae,_e=j?.id,Ee=S.useRef({activeId:_e,items:g,newIndex:ve,containerId:v}),Le=g!==Ee.current.items,Ve=e({active:j,containerId:v,isDragging:q,isSorting:U,id:c,index:ae,items:g,newIndex:Ee.current.newIndex,previousItems:Ee.current.items,previousContainerId:Ee.current.containerId,transition:m,wasDragging:Ee.current.activeId!=null}),ct=F7({disabled:!Ve,index:ae,node:A,rect:N});return S.useEffect(()=>{U&&Ee.current.newIndex!==ve&&(Ee.current.newIndex=ve),v!==Ee.current.containerId&&(Ee.current.containerId=v),g!==Ee.current.items&&(Ee.current.items=g)},[U,ve,v,g]),S.useEffect(()=>{if(_e===Ee.current.activeId)return;if(_e!=null&&Ee.current.activeId==null){Ee.current.activeId=_e;return}const vt=setTimeout(()=>{Ee.current.activeId=_e},50);return()=>clearTimeout(vt)},[_e]),{active:j,activeIndex:_,attributes:xe,data:te,rect:N,index:ae,newIndex:ve,items:g,isOver:P,isSorting:U,isDragging:q,listeners:Z,node:A,overIndex:I,over:H,setNodeRef:T,setActivatorNodeRef:X,setDroppableNodeRef:D,setDraggableNodeRef:ke,transform:ct??fe,transition:Ne()};function Ne(){if(ct||Le&&Ee.current.newIndex===ae)return z7;if(!(re&&!ap(B)||!m)&&(U||Ve))return Ga.Transition.toString({...m,property:SN})}}function H7(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}function Em(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const G7=[st.Down,st.Right,st.Up,st.Left],$7=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:a,droppableContainers:l,over:c,scrollableAncestors:h}}=e;if(G7.includes(t.code)){if(t.preventDefault(),!n||!r)return;const d=[];l.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const _=a.get(v.id);if(_)switch(t.code){case st.Down:r.top<_.top&&d.push(v);break;case st.Up:r.top>_.top&&d.push(v);break;case st.Left:r.left>_.left&&d.push(v);break;case st.Right:r.left<_.left&&d.push(v);break}});const m=bF({collisionRect:r,droppableRects:a,droppableContainers:d});let g=aN(m,"id");if(g===c?.id&&m.length>1&&(g=m[1].id),g!=null){const v=l.get(n.id),_=l.get(g),C=_?a.get(_.id):null,M=_?.node.current;if(M&&C&&v&&_){const I=op(M).some((le,N)=>h[N]!==le),z=AN(v,_),$=K7(v,_),G=I||!z?{x:0,y:0}:{x:$?r.width-C.width:0,y:$?r.height-C.height:0},ae={x:C.left,y:C.top};return G.x&&G.y?ae:rh(ae,G)}}}};function AN(t,e){return!Em(t)||!Em(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function K7(t,e){return!Em(t)||!Em(e)||!AN(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const Y7=({id:t,children:e,disabled:n,className:r,onClick:a})=>{const{attributes:l,listeners:c,setNodeRef:h,transform:d,transition:m,isDragging:g}=q7({id:t,disabled:n}),v={transform:Ga.Transform.toString(d),transition:m,zIndex:g?50:"auto",position:"relative"};return b.jsx("div",{ref:h,style:v,...l,...c,onClick:a,className:ft("w-full h-full",!n&&"touch-none cursor-grab active:cursor-grabbing",g&&"opacity-0",r),children:b.jsx("div",{className:ft("w-full h-full",g&&"opacity-0"),children:e})})},X7=({item:t,gridSize:e,editMode:n,activeId:r,onClick:a,onEdit:l,isLocked:c})=>{const h="relative w-full h-full flex flex-col items-center justify-center p-2 rounded-xl cursor-pointer select-none overflow-hidden transition-all duration-200 border shadow-sm",d=e>=5?"text-xs sm:text-sm":"text-sm sm:text-base",m={default:"bg-[var(--theme-bg-subtle)] border-[var(--theme-border)] hover:bg-[var(--theme-bg-base)] hover:border-zinc-600 text-slate-300",completed:"bg-emerald-950/20 border-emerald-500/20 text-emerald-200 shadow-[inset_0_0_20px_rgba(16,185,129,0.1)]",freeSpace:"bg-amber-950/20 border-amber-500/20 text-amber-500 shadow-[inset_0_0_20px_rgba(245,158,11,0.1)]",editing:"bg-slate-900 border-dashed border-slate-600 opacity-60 hover:opacity-100 hover:border-slate-400 shadow-none text-slate-500"};let g=m.default;return n?g=m.editing:t.isFreeSpace?g=m.freeSpace:t.isCompleted&&(g=m.completed),b.jsxs(ut.div,{layout:!n&&!r,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:!n&&!r?{scale:1.02,y:-2,zIndex:10,boxShadow:"0 10px 30px -10px rgba(0,0,0,0.5)"}:void 0,whileTap:n?void 0:{scale:.98},onClick:n?l:a,className:ft(h,d,g),children:[b.jsx("div",{className:"z-10 text-center w-full px-1",children:t.isFreeSpace?b.jsxs("div",{className:"flex flex-col items-center gap-1",children:[b.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-amber-600/80",children:"Bonus"}),b.jsx("span",{className:"font-bold text-amber-500 text-sm sm:text-base",children:"FREE"})]}):b.jsx("span",{className:"font-medium leading-snug block line-clamp-4 break-words",style:{color:t.isCompleted&&!n?void 0:t.style?.color,fontWeight:t.style?.bold?"bold":void 0,fontStyle:t.style?.italic?"italic":void 0,fontSize:void 0},children:t.text})}),b.jsx("div",{className:"absolute top-1.5 right-1.5 flex flex-col gap-1 items-end z-20",children:t.proofPhotos&&t.proofPhotos.length>0&&b.jsx("div",{className:"bg-black/40 p-1 rounded-md backdrop-blur-sm",children:b.jsx(kI,{size:10,className:"text-white/90"})})}),t.dueDate&&!t.isCompleted&&!c&&b.jsxs("div",{className:ft("flex items-center gap-1 mt-1 text-[10px] font-medium absolute bottom-1.5 left-2 px-1 rounded bg-black/40 backdrop-blur-sm",(t.dueDate.toDate?t.dueDate.toDate():new Date(t.dueDate))<new Date?"text-red-400":"text-slate-400"),children:[b.jsx(wB,{size:10}),b.jsx("span",{children:(t.dueDate.toDate?t.dueDate.toDate():new Date(t.dueDate)).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),!t.isFreeSpace&&!n&&(t.targetCount||1)>1&&b.jsxs("div",{className:ft("absolute bottom-1.5 right-1.5 px-1.5 py-0.5 rounded text-[10px] font-bold shadow-sm",t.isCompleted?"bg-emerald-500/90 text-white":(t.currentCount||0)>0?"bg-amber-500/90 text-white":"bg-slate-700/90 text-slate-300"),children:[t.currentCount||0,"/",t.targetCount]}),n&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 bg-black/40 transition-opacity z-30",children:b.jsx(Df,{size:20,className:"text-white drop-shadow-md"})}),t.isCompleted&&!t.isFreeSpace&&!n&&b.jsx("div",{className:"absolute -bottom-3 -right-3 opacity-[0.07] rotate-12 transition-opacity",children:b.jsx(Cs,{size:64})}),t.isCompleted&&b.jsx("div",{className:"absolute inset-0 rounded-xl ring-1 ring-inset ring-white/10 pointer-events-none"})]})},mf=({isOpen:t,onClose:e,title:n,children:r,footer:a,size:l="md",className:c,showCloseButton:h=!0})=>{const d={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-4xl"};return b.jsx(Ar,{children:t&&b.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[b.jsx(ut.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),b.jsxs(ut.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{duration:.2},className:ft("relative w-full bg-[var(--theme-bg-subtle)] border border-[var(--theme-border)] rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",d[l],c),onClick:m=>m.stopPropagation(),children:[(n||h)&&b.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-[var(--theme-border)] shrink-0",children:[b.jsx("div",{className:"text-lg sm:text-xl font-bold text-slate-100 truncate pr-4",children:n}),h&&b.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-100 hover:bg-white/10 p-2 rounded-full transition-colors",children:b.jsx(Os,{size:20})})]}),b.jsx("div",{className:"p-4 sm:p-6 overflow-y-auto custom-scrollbar",children:r}),a&&b.jsx("div",{className:"p-4 sm:p-6 border-t border-[var(--theme-border)] bg-[var(--theme-bg-base)]/50 shrink-0 flex justify-end gap-3 rounded-b-2xl",children:a})]})]})})},$S=()=>{const{boardId:t,yearId:e}=Xk(),n=e?void 0:t,{items:r,members:a,loading:l,toggleItem:c,hasWon:h,bingoCount:d,isLocked:m,unlockBoard:g,jumbleAndLock:v,saveBoard:_,completeWithPhoto:C,addPhotoToTile:M,addReaction:O,deletePhoto:I,decrementProgress:z,inviteUser:$,removeMember:G,title:ae,gridSize:te,updateTitle:le}=Q8(n),{user:N}=Ho(),A=zI(),{playClick:P,playSuccess:D,playBingo:j,playWhoosh:B}=J8(),[V,xe]=S.useState(!1),[ke,Z]=S.useState(!1),[q,H]=S.useState(""),[X,L]=S.useState(r),[T,U]=S.useState(null);S.useEffect(()=>{(!T&&!V||V&&X.length===0&&r.length>0)&&L(r)},[r,T,V]);const W=pF(kS(jb,{activationConstraint:{distance:8}}),kS(Pb,{coordinateGetter:$7})),re=ne=>{V&&U(ne.active.id)},pe=ne=>{const{active:Se,over:bt}=ne;U(null),bt&&Se.id!==bt.id&&V&&L(_t=>{const Ut=_t.findIndex(di=>di.id===Se.id),en=_t.findIndex(di=>di.id===bt.id),Nn=Ub(_t,Ut,en);return _(Nn),Nn})},[ge,fe]=S.useState(!1),[ve,_e]=S.useState(!1),[Ee,Le]=S.useState(!1),[Ve,ct]=S.useState(!1),[Ne,vt]=S.useState([]),[mt,qt]=S.useState(null),[Xt,Je]=S.useState(""),[Oe,sn]=S.useState({}),[Di,Gi]=S.useState(1),[Pt,ui]=S.useState(""),[Sn,$n]=S.useState(!1),[an,hi]=S.useState("complete"),[$i,fn]=S.useState(!1),[An,Kn]=S.useState(0),[Ht,jn]=S.useState(null),[kt,fr]=S.useState(!1);S.useEffect(()=>{!localStorage.getItem("hasSeenWalkthrough")&&!l&&r.length>0&&fn(!0)},[l,r]),S.useEffect(()=>{(async()=>{if(ve&&a){const Se=[];for(const[bt,_t]of Object.entries(a))if(_t!=="owner")try{const Ut=await Th(Rr(pi,"users",bt));if(Ut.exists()){const en=Ut.data();Se.push({id:bt,name:en.displayName||"Unknown",email:en.email||"No email",role:_t})}}catch(Ut){console.error("Error fetching user:",Ut)}vt(Se)}})()},[ve,a]);const mr=async(ne,Se)=>{await A.confirm(`Are you sure you want to remove ${Se} from this board?`,{title:"Remove Member",type:"error",confirmText:"Remove"})&&((await G(ne)).success?(vt(Ut=>Ut.filter(en=>en.id!==ne)),await A.alert(`${Se} has been removed.`,{type:"success"})):await A.alert("Failed to remove member.",{type:"error"}))},Fs=async()=>{const ne=await A.sharePrompt("Enter their email address to invite them to this board.",{title:"Invite User"});if(ne){const Se=await $(ne.email,ne.role);if(Se.type==="success")await A.alert(Se.message,{title:"Success!",type:"success"});else if(Se.type==="not_found"){if(await A.confirm(`"${ne.email}" hasn't signed up yet.

Would you like to send them an email invitation to join SunSar Bingo?`,{title:"User Not Found",confirmText:"Send Invite Email",type:"info"}))try{const{sendInviteEmail:_t,openMailtoFallback:Ut}=await Qy(async()=>{const{sendInviteEmail:Nn,openMailtoFallback:di}=await import("./emailService-B_BigDWY.js");return{sendInviteEmail:Nn,openMailtoFallback:di}},[]);(await _t({recipientEmail:ne.email,senderName:N?.displayName||N?.email||"A friend"})).success?await A.alert(`Invitation sent to ${ne.email}! They'll receive an email with instructions to join.`,{title:"Invitation Sent!",type:"success"}):(Ut(ne.email,N?.displayName||"A friend"),await A.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"}))}catch{const Ut=encodeURIComponent("Join me on SunSar Bingo!"),en=encodeURIComponent(`Hey! Come join me on SunSar Bingo to track our 2026 goals together.

Sign up here: ${window.location.origin}`);window.open(`mailto:${ne.email}?subject=${Ut}&body=${en}`),await A.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"})}}else await A.alert(Se.message,{title:"Error",type:"error"})}},xi=()=>{An<2?Kn(ne=>ne+1):(fn(!1),localStorage.setItem("hasSeenWalkthrough","true"))},[pr,Be]=S.useState(!1),[ot,pt]=S.useState(null),[At,Cn]=S.useState(!1),Wt=S.useRef(null),[Gt,mn]=S.useState(!1),[Xe,Qt]=S.useState(null),[Mt,pn]=S.useState(null),[Rn,on]=S.useState(0),ti=S.useRef(null),[In,Ln]=S.useState(!1),[Jt,ln]=S.useState(()=>localStorage.getItem("celebrationDismissed")==="true"),[_i,as]=S.useState(0);S.useEffect(()=>{_i===5&&(g(),as(0),$v({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#ec4899","#ffffff"]}));let ne;return _i>0&&(ne=setTimeout(()=>as(0),1e3)),()=>clearTimeout(ne)},[_i,g]);const xc=()=>{P(),v(Ve),$v({particleCount:150,spread:60,origin:{y:.7},colors:["#22c55e","#ffffff"]}),D(),Le(!1),xe(!1)},Go=()=>{ln(!0),localStorage.setItem("celebrationDismissed","true")};St.useEffect(()=>{!l&&!h&&(ln(!1),localStorage.removeItem("celebrationDismissed"))},[h,l]);const Wa=S.useRef(h);St.useEffect(()=>{h&&!Wa.current&&!l&&j(),Wa.current=h},[h,l,j]);const Ki=ne=>{const Se=X.length>0?X:r;if(qt(ne),Je(Se[ne].text),sn(Se[ne].style||{color:"#ffffff",fontSize:"base",bold:!1,italic:!1}),Gi(Se[ne].targetCount||1),Se[ne].dueDate){const bt=Se[ne].dueDate,_t=typeof bt.toDate=="function"?bt.toDate():new Date(bt),Ut=_t.getFullYear(),en=String(_t.getMonth()+1).padStart(2,"0"),Nn=String(_t.getDate()).padStart(2,"0");ui(`${Ut}-${en}-${Nn}`)}else ui("");$n(!!Se[ne].isFreeSpace),fe(!0)},qs=()=>{if(mt===null)return;let ne;Pt&&(ne=new Date(Pt+"T12:00:00"));const Se=[...X];Se[mt]={...Se[mt],text:Xt,style:Oe,targetCount:Di,dueDate:ne,isFreeSpace:Sn,isCompleted:Se[mt].isCompleted||Sn},L(Se),_(Se),fe(!1),qt(null)},Un=X.length>0?X:r;if(S.useEffect(()=>{Mt!==null&&Un?.[Mt]&&Qt(Un[Mt])},[Un,Mt]),l)return b.jsx("div",{className:"flex h-screen items-center justify-center text-accent-primary animate-pulse",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),b.jsx("p",{children:"Loading Board..."})]})});const ni=r.filter(ne=>ne.isCompleted).length/25*100,Mi=ne=>{if(!ne)return"-";const Se=ne.toDate?ne.toDate():new Date(ne);return Se.toLocaleDateString()+" "+Se.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},Zt=ne=>{const Se=Un[ne];jn({index:ne,wasCompleted:Se.isCompleted}),Se.isCompleted?P():D(),c(ne),fr(!0),setTimeout(()=>fr(!1),3e3)};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 pb-24 relative overflow-x-hidden no-print",children:[b.jsx("input",{type:"file",accept:"image/*",ref:ti,className:"hidden",onChange:async ne=>{const Se=ne.target.files?.[0];if(Se&&Mt!==null){try{await M(Mt,Se)}catch(bt){console.error(bt),alert("Failed to add photo")}ne.target.value=""}}}),b.jsx(eF,{items:r}),b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsxs("header",{className:"flex justify-between items-center mb-8 py-2",children:[b.jsxs("div",{className:"flex-1 mx-4 min-w-0",children:[ke?b.jsx("input",{type:"text",value:q,onChange:ne=>H(ne.target.value),onBlur:()=>{q.trim()&&le(q.trim()),Z(!1)},onKeyDown:ne=>{ne.key==="Enter"?(q.trim()&&le(q.trim()),Z(!1)):ne.key==="Escape"&&Z(!1)},autoFocus:!0,className:"bg-transparent border-b-2 border-accent-primary text-white text-lg sm:text-xl font-bold outline-none w-full max-w-[200px]"}):b.jsxs("button",{onClick:()=>{H(ae||"My Bingo"),Z(!0)},className:"text-white text-lg sm:text-xl font-bold truncate max-w-[200px] hover:text-accent-primary transition-colors flex items-center gap-1 group",title:"Click to edit board name",children:[b.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent truncate",children:ae||"My Bingo"}),b.jsx(Df,{size:14,className:"opacity-0 group-hover:opacity-70 transition-opacity flex-shrink-0"})]}),b.jsxs("p",{className:"text-slate-500 text-xs mt-0.5",children:[te,"",te,"  ",r.filter(ne=>ne.isCompleted&&!ne.isFreeSpace).length,"/",r.filter(ne=>!ne.isFreeSpace).length]})]}),b.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[b.jsx("button",{onClick:()=>Ln(!0),className:"p-2.5 text-slate-400 hover:text-accent-gold hover:bg-white/5 rounded-full transition-colors",title:"View Memories",children:b.jsx(gm,{size:20})}),b.jsx("button",{onClick:()=>_e(!0),className:"p-2.5 text-slate-400 hover:text-accent-primary hover:bg-white/5 rounded-full transition-colors",title:"Share Board",children:b.jsx(kf,{size:20})})]})]}),b.jsxs(f7,{sensors:W,collisionDetection:vF,onDragStart:re,onDragEnd:pe,children:[b.jsx("div",{className:"flex justify-center mb-6",children:b.jsx("div",{className:"w-full max-w-[520px] aspect-square relative",children:b.jsx(V7,{items:Un.map(ne=>ne.id),strategy:zb,children:b.jsx("div",{className:ft("grid gap-1.5 sm:gap-2 w-full h-full",te===3&&"grid-cols-3 grid-rows-3",te===4&&"grid-cols-4 grid-rows-4",te===5&&"grid-cols-5 grid-rows-5",te===6&&"grid-cols-6 grid-rows-6"),style:{perspective:"1000px"},children:Un.map((ne,Se)=>b.jsx(Y7,{id:ne.id,disabled:!V,children:b.jsx(X7,{item:ne,index:Se,gridSize:te,editMode:V,activeId:T,isLocked:m,onEdit:()=>Ki(Se),onClick:()=>{ne.isFreeSpace||(ne.isCompleted?ne.proofPhotos&&ne.proofPhotos.length>0?(Qt(ne),pn(Se),on(0),mn(!0)):Zt(Se):(B(),pt(Se),Be(!0)))}})},ne.id))})})})}),b.jsx(k7,{children:T?b.jsx("div",{className:ft("relative w-full h-full flex flex-col items-center justify-center p-1 sm:p-2 text-center select-none overflow-hidden","bingo-tile bg-white/10 backdrop-blur-md border-2 border-accent-primary shadow-2xl glass-panel"),style:{width:"100px",height:"100px"},children:b.jsx("span",{className:"text-white font-bold text-sm",children:X.find(ne=>ne.id===T)?.text})}):null})]})]}),b.jsx("div",{className:"flex justify-center",children:b.jsxs(ut.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[520px] glass-panel p-4 flex flex-col gap-4",children:[b.jsxs("div",{className:"w-full",children:[b.jsxs("div",{className:"flex justify-between text-xs text-slate-300 mb-1.5 px-1",children:[b.jsx("span",{className:"font-semibold",children:"Progress"}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("span",{className:"font-mono text-accent-gold font-bold",children:[d,"/",te*2+2," Bingos"]}),b.jsxs("span",{className:"font-mono text-accent-primary",children:[Math.round(ni),"%"]})]})]}),b.jsx("div",{className:"h-3 bg-bg-dark/50 rounded-full overflow-hidden border border-white/5",children:b.jsx(ut.div,{className:"h-full bg-gradient-to-r from-accent-primary to-accent-secondary relative",initial:{width:0},animate:{width:`${ni}%`},transition:{duration:1,ease:"easeOut"},children:b.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[1px] bg-white/50 shadow-[0_0_10px_white]"})})})]}),b.jsx("div",{className:"flex justify-center gap-2",children:V?b.jsx(b.Fragment,{children:b.jsxs("div",{className:"flex gap-2 w-full",children:[b.jsx("button",{onClick:()=>xe(!1),className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10 transition-all",children:"Cancel"}),b.jsxs("button",{onClick:()=>{_(X),xe(!1)},className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 transition-all flex items-center justify-center gap-2",children:[b.jsx(Cs,{size:16}),"Save Changes"]})]})}):b.jsxs("div",{className:"flex gap-2 justify-center w-full flex-wrap",children:[!m&&b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>{L([...r]),xe(!0)},className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[b.jsx(Df,{size:12}),"Edit Board"]}),b.jsxs("button",{onClick:()=>{P(),Le(!0)},className:"flex-1 py-2 px-4 text-xs font-bold text-white bg-gradient-to-r from-accent-primary to-accent-secondary hover:shadow-lg hover:shadow-accent-primary/20 transition-all rounded-lg flex items-center justify-center gap-2 min-w-[120px]",children:[b.jsx(wS,{size:14}),"Go Live "]})]}),b.jsxs("button",{onClick:()=>window.print(),className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[b.jsx(PB,{size:12}),"Print Status"]})]})})]})}),b.jsx(Ar,{children:h&&!Jt&&b.jsx(ut.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:b.jsxs(ut.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center max-w-sm w-full relative overflow-hidden border-accent-gold/30",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent-gold/10 to-transparent pointer-events-none"}),b.jsx(ut.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"inline-block",children:b.jsx(bS,{className:"w-20 h-20 text-accent-gold mx-auto mb-4 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),b.jsx("h2",{className:"text-4xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-accent-gold via-white to-accent-secondary mb-2",children:"BINGO!"}),b.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"2026 is off to an amazing start!"}),b.jsx("button",{onClick:Go,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-[0_0_20px_rgba(139,92,246,0.4)] transition-all transform hover:scale-105",children:"Keep Playing"})]})})}),b.jsxs(mf,{isOpen:ge,onClose:()=>fe(!1),title:"Edit Tile",size:"sm",footer:b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>fe(!1),className:"flex-1 py-2.5 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:qs,className:"flex-1 py-2.5 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl font-bold text-white shadow-lg hover:shadow-violet-500/25 active:scale-95 transition-all",children:"Save Changes"})]}),children:[b.jsx("div",{className:"mb-6 flex justify-center",children:b.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-lg bg-bg-card/80 border border-white/10 flex items-center justify-center p-2 text-center overflow-hidden relative",children:b.jsx("span",{className:ft("font-hand font-semibold leading-tight break-words"),style:{color:Oe.color||"#ffffff",fontWeight:Oe.bold?"bold":"600",fontStyle:Oe.italic?"italic":"normal",fontSize:Oe.fontSize==="sm"?"12px":Oe.fontSize==="lg"?"18px":Oe.fontSize==="xl"?"22px":"16px"},children:Xt||"Preview Text"})})}),b.jsxs("div",{className:"mb-6",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-3 bg-white/5 p-3 rounded-xl border border-white/5",children:[b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer flex-1",children:[b.jsx("input",{type:"checkbox",checked:Sn,onChange:ne=>{const Se=ne.target.checked;$n(Se),Se&&Je("FREE!")},className:"w-4 h-4 rounded border-gray-500 bg-black/50 text-accent-primary focus:ring-accent-primary"}),b.jsx("span",{className:ft("text-sm font-bold transition-colors",Sn?"text-accent-primary":"text-slate-300"),children:"Flag as FREE Space "})]}),Sn&&b.jsxs("div",{className:"flex gap-1 bg-black/80 rounded-full p-1 px-1.5 border border-white/20",children:[b.jsx("div",{className:"w-2 h-2 rounded-full bg-red-900/30"}),b.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-900/30"}),b.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_#22c55e]"})]})]}),b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Content"}),b.jsx("textarea",{className:ft("w-full bg-black/20 text-white rounded-lg p-3 border border-white/10 focus:border-accent-primary outline-none min-h-[80px]",Sn&&"opacity-50 cursor-not-allowed"),disabled:Sn,value:Xt,onChange:ne=>Je(ne.target.value),placeholder:"Enter bingo task..."})]}),b.jsxs("div",{className:ft("transition-opacity duration-300",Sn&&"opacity-30 pointer-events-none"),children:[b.jsxs("div",{className:"mb-6 space-y-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Color"}),b.jsx("div",{className:"flex gap-2 flex-wrap",children:["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#ec4899","#a855f7"].map(ne=>b.jsx("button",{className:ft("w-6 h-6 rounded-full border border-white/10 transition-transform active:scale-90",Oe.color===ne&&"ring-2 ring-white scale-110"),style:{backgroundColor:ne},onClick:()=>sn(Se=>({...Se,color:ne}))},ne))})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),b.jsx("div",{className:"flex bg-black/20 rounded-lg p-1",children:["sm","base","lg","xl"].map(ne=>b.jsx("button",{onClick:()=>sn(Se=>({...Se,fontSize:ne})),className:ft("flex-1 py-1 text-[10px] font-bold rounded transition-colors uppercase",(Oe.fontSize||"base")===ne?"bg-accent-primary text-white":"text-slate-400 hover:text-white"),children:ne==="base"?"M":ne},ne))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Style"}),b.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-lg p-1",children:[b.jsx("button",{onClick:()=>sn(ne=>({...ne,bold:!ne.bold})),className:ft("w-8 h-full rounded flex items-center justify-center font-bold transition-colors",Oe.bold?"bg-white text-black":"text-slate-400 hover:text-white"),children:"B"}),b.jsx("button",{onClick:()=>sn(ne=>({...ne,italic:!ne.italic})),className:ft("w-8 h-full rounded flex items-center justify-center italic transition-colors font-serif",Oe.italic?"bg-white text-black":"text-slate-400 hover:text-white"),children:"I"})]})]})]})]}),b.jsxs("div",{className:"space-y-4 pt-4 border-t border-white/10",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Repeat Goal"}),b.jsx("input",{type:"number",min:"1",max:"100",value:Di,onChange:ne=>Gi(parseInt(ne.target.value)||1),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors"}),b.jsx("p",{className:"text-xs text-slate-500",children:"How many times should this be completed?"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Due Date (Optional)"}),b.jsx("input",{type:"date",value:Pt,onChange:ne=>ui(ne.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors [color-scheme:dark]"})]})]})]})]}),(()=>{const ne=ot!==null?Un[ot]:null,Se=ne?.targetCount||1,bt=ne?.currentCount||0,_t=Se>1,Ut=bt>0;return ne?b.jsx(mf,{isOpen:pr&&ot!==null,onClose:()=>{Be(!1),pt(null)},title:ne.isCompleted?"Tile Details":Ut?"Add Progress":"Complete Task",size:"sm",children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("p",{className:"text-slate-300 text-sm text-center mb-4 line-clamp-3 italic",children:["",ne.text,""]}),_t&&b.jsx("div",{className:"text-center mb-4",children:b.jsxs("span",{className:ft("inline-block px-3 py-1 rounded-full text-sm font-bold",Ut?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"),children:["Progress: ",bt," / ",Se]})}),ne.proofPhotos&&ne.proofPhotos.length>0&&b.jsxs("div",{className:"mb-6 bg-black/20 p-3 rounded-xl border border-white/5",children:[b.jsx("label",{className:"text-xs text-slate-400 mb-2 block font-semibold uppercase tracking-wider",children:"Attached Photos"}),b.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:ne.proofPhotos.map((en,Nn)=>b.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0 group rounded-lg overflow-hidden border border-white/10 touch-none select-none",onContextMenu:di=>di.preventDefault(),children:[b.jsx("img",{src:en,alt:"",className:"w-full h-full object-cover pointer-events-none"}),b.jsx("button",{onClick:async di=>{di.stopPropagation(),window.confirm("Delete this photo?")&&await I(ot,Nn)},className:"absolute top-1 right-1 bg-red-500/90 p-1.5 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 shadow-md",children:b.jsx(Mf,{size:12})})]},Nn))})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("input",{type:"file",accept:"image/*",ref:Wt,className:"hidden",onChange:async en=>{const Nn=en.target.files?.[0];if(Nn&&ot!==null){Cn(!0);try{an==="complete"?await C(ot,Nn):await M(ot,Nn),Be(!1),pt(null)}catch{alert("Failed to upload photo.")}finally{Cn(!1),en.target.value=""}}}}),b.jsxs("button",{onClick:()=>{hi("add"),setTimeout(()=>Wt.current?.click(),0)},disabled:At,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-blue-500/25 active:scale-95 transition-all disabled:opacity-50",children:[b.jsx(kI,{size:20}),At&&an==="add"?"Uploading...":"Add Photo (Keep Status)"]}),!ne.isCompleted&&b.jsxs("button",{onClick:()=>{hi("complete"),setTimeout(()=>Wt.current?.click(),0)},disabled:At,className:"w-full py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-amber-500/25 active:scale-95 transition-all disabled:opacity-50",children:[b.jsx(Cs,{size:20}),At&&an==="complete"?"Uploading...":_t?"Add Photo & +1":"Add Photo & Complete"]}),b.jsxs("button",{onClick:()=>{c(ot),Be(!1),pt(null)},disabled:At,className:ft("w-full py-3 px-4 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-all disabled:opacity-50",ne.isCompleted?"bg-slate-700 hover:bg-slate-600":"bg-gradient-to-r from-green-600 to-emerald-600 hover:shadow-green-500/25"),children:[ne.isCompleted?b.jsx(Os,{size:20}):b.jsx(Cs,{size:20}),ne.isCompleted?"Mark Incomplete":_t?`Mark +1 (${bt+1}/${Se})`:"Mark Complete"]}),Ut&&!ne.isCompleted&&b.jsxs("button",{onClick:()=>{z(ot),Be(!1),pt(null)},disabled:At,className:"w-full py-2 rounded-xl font-semibold text-red-400 hover:bg-red-500/10 transition-colors disabled:opacity-50",children:["Remove Progress (",bt-1,"/",Se,")"]}),b.jsx("button",{onClick:()=>{Be(!1),pt(null)},disabled:At,className:"w-full py-3 rounded-xl font-semibold bg-white/5 text-slate-400 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"})]})]})}):null})(),b.jsx(Ar,{children:Gt&&Xe&&Xe.proofPhotos&&Xe.proofPhotos.length>0&&b.jsx(ut.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{mn(!1),Qt(null),pn(null)},children:b.jsxs(ut.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-lg w-full",onClick:ne=>ne.stopPropagation(),children:[b.jsx("button",{onClick:()=>{mn(!1),Qt(null),pn(null)},className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors z-10",children:b.jsx(Os,{size:28})}),b.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[b.jsxs("div",{className:"relative bg-black",children:[b.jsx("img",{src:Xe.proofPhotos[Rn],alt:`Proof photo ${Rn+1}`,className:"w-full h-auto max-h-[50vh] object-contain"}),Xe.proofPhotos.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>on(ne=>ne>0?ne-1:Xe.proofPhotos.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:b.jsx(MI,{size:24})}),b.jsx("button",{onClick:()=>on(ne=>ne<Xe.proofPhotos.length-1?ne+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:b.jsx(OI,{size:24})})]}),b.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/60 rounded-full text-white text-xs font-medium",children:[Rn+1," / ",Xe.proofPhotos.length]})]}),Xe.proofPhotos.length>1&&b.jsx("div",{className:"flex gap-1 p-2 bg-bg-dark/80 overflow-x-auto",children:Xe.proofPhotos.map((ne,Se)=>b.jsx("button",{onClick:()=>on(Se),className:ft("w-12 h-12 rounded-md overflow-hidden border-2 flex-shrink-0 transition-all",Rn===Se?"border-accent-primary":"border-transparent opacity-60 hover:opacity-100"),children:b.jsx("img",{src:ne,alt:"",className:"w-full h-full object-cover"})},Se))}),b.jsxs("div",{className:"p-4 bg-bg-dark/95",children:[b.jsx("p",{className:"text-white font-semibold mb-1",children:Xe.text}),b.jsxs("p",{className:"text-slate-400 text-xs mb-4",children:["Completed by ",Xe.completedBy,"  ",Mi(Xe.completedAt)]}),b.jsx("div",{className:"flex gap-2 justify-center pb-1",children:["","","","","",""].map(ne=>b.jsx("button",{onClick:()=>{Mt!==null&&(O(Mt,ne),P())},className:"text-2xl hover:scale-125 transition-transform p-2 rounded-full hover:bg-white/10 active:scale-95",title:"React",children:ne},ne))})]})]}),b.jsxs("div",{className:"mt-4 flex gap-3 justify-center",children:[b.jsxs("button",{onClick:async()=>{window.confirm("Delete this photo?")&&(await I(Mt,Rn),Xe?.proofPhotos?.length===1?mn(!1):on(0))},className:"flex-1 py-3 bg-red-500/10 text-red-400 rounded-xl font-semibold hover:bg-red-500/20 flex items-center justify-center gap-2",children:[b.jsx(Mf,{size:20}),"Delete Photo"]}),b.jsxs("button",{onClick:()=>ti.current?.click(),className:"flex-1 py-3 bg-white/10 text-white rounded-xl font-semibold hover:bg-white/20 flex items-center justify-center gap-2",children:[b.jsx(nh,{size:20}),"Add Photo"]})]}),b.jsx("button",{onClick:()=>{const ne=r.findIndex(Se=>Se.id===Xe.id);ne!==-1&&c(ne),mn(!1),Qt(null),pn(null)},className:"mt-2 w-full py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Mark as In Progress"})]})})}),b.jsx(Ar,{children:kt&&Ht&&b.jsxs(ut.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-slate-900 border border-white/20 text-white px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4",children:[b.jsxs("span",{children:["Marked as ",Ht.wasCompleted?"incomplete":"complete"]}),b.jsx("button",{onClick:()=>{c(Ht.index),fr(!1)},className:"font-bold text-accent-primary hover:text-white transition-colors",children:"Undo"}),b.jsx("button",{onClick:()=>fr(!1),className:"text-slate-400 hover:text-white",children:b.jsx(Os,{size:16})})]})}),b.jsx(Ar,{children:$i&&b.jsx(ut.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:b.jsxs(ut.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-slate-900 border border-white/20 rounded-3xl p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 pointer-events-none",children:b.jsx(bS,{className:"w-32 h-32 text-accent-gold rotate-12"})}),b.jsxs("div",{className:"relative z-10 text-center",children:[b.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Welcome! "}),b.jsxs("p",{className:"text-slate-400 mb-8 h-12",children:[An===0&&"Tap any tile to mark it as complete.",An===1&&"Start 'Edit Mode' to add your own tasks.",An===2&&"Invite friends to play together!"]}),b.jsx("div",{className:"flex justify-center mb-8",children:b.jsx("div",{className:"w-32 h-32 bg-black/40 rounded-2xl border border-white/10 flex items-center justify-center relative",children:b.jsxs(Ar,{mode:"wait",children:[An===0&&b.jsxs(ut.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center",children:[b.jsx("div",{className:"w-16 h-16 bg-accent-primary/20 rounded-lg border border-accent-primary flex items-center justify-center",children:b.jsx(Cs,{className:"w-8 h-8 text-white"})}),b.jsx(ut.div,{animate:{scale:[1,1.2,1],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5},className:"absolute w-20 h-20 rounded-full border-2 border-white/50"})]},"step0"),An===1&&b.jsx(ut.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:b.jsx(Df,{className:"w-12 h-12 text-blue-400"})},"step1"),An===2&&b.jsx(ut.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:b.jsx(kf,{className:"w-12 h-12 text-green-400"})},"step2")]})})}),b.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[0,1,2].map(ne=>b.jsx("div",{className:ft("w-2 h-2 rounded-full transition-colors",ne===An?"bg-white":"bg-white/20")},ne))}),b.jsx("button",{onClick:xi,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-slate-200 transition-colors",children:An===2?"Let's Play!":"Next"})]})]})})})]}),b.jsxs("div",{className:"only-print hidden",children:[b.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-black pb-2",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:"/logo.png",className:"h-12 w-auto",alt:"Logo"}),b.jsx("h1",{className:"text-2xl font-bold",children:ae||"2026 Edition"})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("p",{className:"text-xs uppercase tracking-widest mb-0.5",children:["Status Report (",te,"",te,")"]}),b.jsxs("p",{className:"text-xl font-bold",children:[d," / ",te*2+2," Bingos"]})]})]}),b.jsx("div",{className:`grid gap-0 border-2 border-black ${te===3?"grid-cols-3":te===4?"grid-cols-4":te===5?"grid-cols-5":"grid-cols-6"}`,children:r.map(ne=>b.jsxs("div",{className:"aspect-square border border-black p-1.5 flex flex-col justify-between relative overflow-hidden min-h-[80px]",children:[b.jsx("div",{className:`font-bold leading-tight z-10 ${te>=5?"text-[10px]":"text-[11px]"}`,children:ne.text}),ne.isCompleted&&!ne.isFreeSpace&&b.jsxs("div",{className:"mt-0.5 relative z-10",children:[b.jsx("div",{className:"text-[7px] uppercase font-bold text-slate-700",children:"Completed by:"}),b.jsx("div",{className:"text-[9px] font-mono font-bold leading-none",children:ne.completedBy||"User"}),b.jsx("div",{className:"text-[7px] text-slate-600 mt-0.5",children:Mi(ne.completedAt)})]}),ne.isCompleted&&b.jsx("div",{className:"absolute bottom-1 right-1 text-3xl font-bold text-slate-200 opacity-60 pointer-events-none z-0",children:""}),ne.isFreeSpace&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-xl rotate-[-45deg] opacity-20",children:"FREE"})]},ne.id))}),b.jsxs("div",{className:"mt-4 text-[9px] text-center border-t border-black pt-2 flex justify-between text-slate-500",children:[b.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),b.jsx("span",{children:"bingo.mysunsar.com"})]})]}),b.jsx(Z8,{items:r,isOpen:In,onClose:()=>Ln(!1)}),b.jsx(mf,{isOpen:ve,onClose:()=>_e(!1),title:b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx(kf,{className:"w-5 h-5 text-accent-primary"}),"Shared With"]}),size:"md",children:b.jsxs("div",{children:[Ne.length===0?b.jsx("div",{className:"text-center text-slate-400 py-8",children:b.jsx("p",{children:"This board hasn't been shared yet."})}):b.jsx("div",{className:"space-y-4 mb-6",children:Ne.map(ne=>b.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-3 rounded-xl border border-white/5",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:ne.name.charAt(0)}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-semibold text-white",children:ne.name}),b.jsxs("div",{className:"text-xs text-slate-400",children:[ne.email,"  ",ne.role]})]})]}),b.jsx("button",{onClick:()=>mr(ne.id,ne.name),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove User",children:b.jsx(Mf,{size:16})})]},ne.id))}),b.jsxs("button",{onClick:Fs,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all flex items-center justify-center gap-2",children:[b.jsx(nh,{size:18}),"Invite New User"]})]})}),b.jsx(mf,{isOpen:Ee,onClose:()=>Le(!1),title:b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx(wS,{className:"w-5 h-5 text-accent-primary"}),"Ready to Go Live?"]}),size:"sm",footer:b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>Le(!1),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Not Yet"}),b.jsx("button",{onClick:xc,className:"flex-1 py-3 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl font-bold text-white shadow-lg hover:shadow-green-500/25 transition-all",children:"Let's Go! "})]}),children:b.jsxs("div",{children:[b.jsxs("p",{className:"text-slate-300 mb-6 leading-relaxed",children:["Going live will ",b.jsx("strong",{children:"lock the board"})," for play mode. You won't be able to edit items easily anymore."]}),b.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mb-6 cursor-pointer hover:bg-white/10 transition-colors",onClick:()=>ct(!Ve),children:b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("div",{className:`mt-1 w-5 h-5 rounded border flex items-center justify-center transition-colors ${Ve?"bg-accent-primary border-accent-primary":"border-slate-500"}`,children:Ve&&b.jsx(Cs,{size:14,className:"text-white"})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-semibold text-white",children:"Shuffle Items?"}),b.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Randomize the grid arrangement one last time before locking."})]})]})})]})})]})},Eo=({className:t,...e})=>b.jsx("div",{className:ft("skeleton-glass",t),...e}),W7=()=>{const{user:t}=Ho(),e=zI(),n=Am(),[r,a]=S.useState([]),[l,c]=S.useState(!0),[h,d]=S.useState(!1),[m,g]=S.useState(null),[v,_]=S.useState(5),[C,M]=S.useState(null),[O,I]=S.useState(""),z=(D,j)=>{D.preventDefault(),D.stopPropagation(),M(j.id),I(j.title)},$=async D=>{if(D.preventDefault(),D.stopPropagation(),!!C){try{await si(Rr(pi,"boards",C),{title:O}),a(j=>j.map(B=>B.id===C?{...B,title:O}:B))}catch(j){console.error("Error updating title:",j)}M(null)}},G=D=>{D.preventDefault(),D.stopPropagation(),M(null)},ae=D=>{D.key==="Enter"?$(D):D.key==="Escape"?(D.stopPropagation(),M(null)):D.stopPropagation()},te=[{size:3,label:"33",description:"Quick (9 tiles)",icon:""},{size:4,label:"44",description:"Compact (16 tiles)",icon:""},{size:5,label:"55",description:"Classic (25 tiles)",icon:""},{size:6,label:"66",description:"Extended (36 tiles)",icon:""}],le={blank:{name:"Blank Canvas ",items:[]},default:{name:"2026 Goals ",items:["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"]},fitness:{name:"Fitness Challenge ",items:["Run a 5k","Do 50 pushups in a row","Try a yoga class","Drink 3L water for a week","No sugar for 7 days","Go for a hike","Meal prep for a week","Climb a bouldering wall","Try Pilates","Walk 15k steps in a day","Do a spin class","Bike 20km","FREE SPACE","Touch your toes","Hold a plank for 2 min","Try CrossFit","Go swimming","Meditate for 10 mins x 7","Try a new sport","Sleep 8 hours x 5 days","Do 100 squats","Run a 10k","Go to the gym 4x in a week","Stretch daily for a week","Join a run club"]},couples:{name:"Couple Goals ",items:["Date night (no phones)","Cook a meal together","Weekend getaway","Watch a whole series","Breakfast in bed","Go for a long walk","Plan a future trip","Give each other massages","Recreate first date","Take a dance class","Stargazing date","Write love letters","FREE SPACE","Visit a winery/brewery","Do a puzzle together","Double date","Sunset picnic","Bake something sweet","Volunteer together","Learn a couple's skill","Game night","Make a photo album","Try a new restaurant","Surprise gift","Kiss in the rain"]},personal:{name:"Personal Growth ",items:["Read 1 book/month","Learn a new language","Start a journal","Digital detox (24h)","Meditate daily (1 week)","Drink 2L water daily","Wake up at 6am (1 week)","Declutter a room","Learn to invest","Take a solo trip","Volunteer","Compliment a stranger","FREE SPACE","No social media (weekend)","Learn an instrument","Cook a new cuisine","Write a gratitude list","Take a cold shower","Listen to a podcast","Fix sleep schedule","Walk 10k steps","Call an old friend","Create a vision board","Save 10% income","Take a course"]},knitting:{name:"Knitting Goals ",items:["Finish a WIP","Cast on a sweater","Learn brioche","Knit socks","Stash bust project","Try colorwork","Knit a hat","Use luxury yarn","Fix a mistake","Knit a gift","Block a project","Organize needles","FREE SPACE","Try a new fiber","Knit in public","Attend a knit night","Learn magic loop","Design a pattern","Teach someone to knit","Finish a blanket","Knit a shawl","Try cables","Buy souvenir yarn","Weave in ends immediately","Knit a gauge swatch"]},weaving:{name:"Weaving Goals ",items:["Warp the loom","Weave a rug","Try a new structure","Sample a pattern","Use handspun yarn","Finish a scarf","Hemstitching","Fix a broken warp","Weave a towel","Try tapestry","Mix fibers","Organize yarn stash","FREE SPACE","Weave a placemat","Attend a workshop","Try doublewidth","Weave transparency","Calculate warp correctly","Finish raw edges","Weave with rags","Try tablet weaving","Rigid heddle project","Floor loom project","Visit a mill","Share a project online"]},spinning:{name:"Spinning Goals ",items:["Spin 100g fiber","Ply a yarn","Try a new breed","Spin lace weight","Spin art yarn","Comb fleece","Card a batt","Spin on a drop spindle","Clean the wheel","Spin distinct colors","Skein and wash","Fractal spin","FREE SPACE","Spin silk","Spin cotton","Navajo ply","Spin for a project","Participate in Tour de Fleece","Sample a blend","Teach spinning","Spin consistent grist","Dye fiber","Blend colors on hackle","Spin exotic fiber","Fill a bobbin"]},painting:{name:"Painting Goals ",items:["Paint a landscape","Try watercolors","Paint a portrait","Mix a new color","Paint en plein air","Visit a gallery","Finish a sketchbook","Try oils","Paint a still life","Use a palette knife","Paint an animal","Try abstract","FREE SPACE","Clean brushes properly","Paint on canvas","Paint on wood","Follow a tutorial","Paint a sky","Try gouache","Varnish a painting","Frame a piece","Paint daily for a week","Recreate a master","Paint a self-portrait","Host a paint night"]},corporate:{name:"Corporate Bingo ",items:['"Circle back"',`"Let's take this offline"`,"Meeting that could be an email",'"Synergy"','"Low hanging fruit"','"Touch base"',"Someone forgets to mute","Screen share fails",'"Can you see my screen?"',"Awkward silence",'"Bandwidth"','"Deep dive"',"FREE SPACE","Pet interrupts video call","Echo on the line",'"Per my last email"','"Drill down"','"Out of pocket"','"Hard stop"','"Boil the ocean"',"Reply All disaster",'"Move the needle"','"Blue sky thinking"','"Paradigm shift"','"Quick win"']},travel:{name:"Travel Bucket List ",items:["Visit a new continent","Go on a solo trip","See the Northern Lights","Swim in an ocean","Road trip across 3 states","Fly First Class","Visit a National Park","Eat street food","Stay in a hostel","Learn 'Hello' in 5 languages","Visit a Wonder of the World","Go on a cruise","FREE SPACE","Make a travel vlog","Sleep under the stars","Visit a castle","Ride a train","See a volcano","Go scuba diving","Watch a sunrise on a mountain","Visit a winery","Ride a camel/elephant","Go skiing/snowboarding","Visit a tropical island","Send a postcard"]}};S.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching boards for user:",t.uid,t.email);const j=new Map;try{const q=rm(Vl(pi,"boards"),sm(`members.${t.uid}`,"in",["owner","editor","viewer"])),H=await Ou(q);console.log("Boards with membership found:",H.docs.length),H.docs.forEach(X=>{const L=X.data(),T=L.members?.[t.uid],U=L.members||{},W=Object.values(U).filter(re=>re!=="owner").length;j.set(X.id,{id:X.id,...L,sharedCount:W,myRole:T,members:U})})}catch(q){console.error("Error querying boards by membership:",q)}try{const q=rm(Vl(pi,"years"),sm("ownerId","==",t.uid)),H=await Ou(q);console.log("Legacy boards (years collection) found:",H.docs.length),H.docs.forEach(X=>{const L=X.data();j.set(`legacy_${X.id}`,{id:X.id,title:L.title||"2026 Bingo",createdAt:L.createdAt,isLocked:L.isLocked,ownerId:L.ownerId,myRole:"owner",members:{}})})}catch(q){console.log("Years collection query failed:",q)}try{const q=await Ou(Vl(pi,"years"));console.log("All years docs:",q.docs.length),q.docs.forEach(H=>{const X=H.data();if(X.ownerId===t.uid||X.members?.[t.uid]){const L=`legacy_years_${H.id}`;j.has(L)||j.set(L,{id:H.id,title:X.title||`${H.id} Bingo`,createdAt:X.createdAt,isLocked:X.isLocked,ownerId:X.ownerId,myRole:X.ownerId===t.uid?"owner":X.members?.[t.uid]||"viewer",members:X.members||{}})}})}catch(q){console.log("Direct years fetch failed:",q)}const B=Array.from(j.values()),V=new Set;B.forEach(q=>{q.myRole!=="owner"&&(q.ownerId&&q.ownerId!==t.uid&&V.add(q.ownerId),q.members&&Object.entries(q.members).forEach(([H,X])=>{X==="owner"&&H!==t.uid&&V.add(H)}))});const xe=Array.from(V),ke={};for(const q of xe)try{const H=await Th(Rr(pi,"users",q));if(H.exists()){const X=H.data();ke[q]=X.displayName||X.email||"Unknown"}}catch{console.log("Could not fetch owner info for:",q)}const Z=B.map(q=>{let H=q.ownerId;if(q.members){const X=Object.keys(q.members).find(L=>q.members[L]==="owner"&&L!==t.uid);X&&(H=X)}return q.myRole!=="owner"&&H&&ke[H]?{...q,ownerName:ke[H]}:q});console.log("Total boards to display:",Z.length,Z.map(q=>q.title)),a(Z)}catch(j){console.error("Error fetching boards:",j)}finally{c(!1)}})()},[t]);const N=async D=>{if(!t)return;const j=le[D],B=v,V=B*B,xe=B%2===1?Math.floor(V/2):-1,ke=B%2===1?V-1:V,Z=await e.prompt("What would you like to call this board?",{title:"Board Title",inputDefaultValue:j.name,confirmText:"Create"});if(Z)try{const q=j.items.filter(U=>U.trim().toUpperCase()!=="FREE SPACE"&&U!=="FREE SPACE"),H=[...q].sort(()=>.5-Math.random());for(;H.length<ke;)H.push(q[H.length%q.length]||`Goal ${H.length+1}`);const X=[];let L=0;for(let U=0;U<V;U++)U===xe&&B%2===1?X.push({id:U,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(X.push({id:U,text:H[L],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),L++);const T=await zR(Vl(pi,"boards"),{title:Z,gridSize:B,ownerId:t.uid,members:{[t.uid]:"owner"},items:X,createdAt:qe.now(),isLocked:!1,lastUpdated:qe.now()});n(`/board/${T.id}`)}catch(q){console.error("Error creating board:",q),await e.alert("Failed to create board. Please try again.",{title:"Error",type:"error"})}finally{d(!1),g(null),_(5)}};if(l)return b.jsx("div",{className:"min-h-screen bg-transparent p-6 relative",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsxs("header",{className:"flex justify-between items-center mb-12 py-2",children:[b.jsx(Eo,{className:"h-10 w-32 md:w-40"}),b.jsxs("div",{className:"flex gap-2 items-center",children:[b.jsx(Eo,{className:"w-10 h-10 rounded-full"}),b.jsx(Eo,{className:"w-10 h-10 rounded-full"}),b.jsx(Eo,{className:"w-20 h-10 rounded-xl"})]})]}),b.jsxs("div",{className:"mb-10",children:[b.jsx(Eo,{className:"h-12 w-64 mb-3 rounded-lg"}),b.jsx(Eo,{className:"h-6 w-48 rounded-md"})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((D,j)=>b.jsx(Eo,{className:"h-48 rounded-2xl"},j))})]})});const A=async(D,j,B)=>{if(D.stopPropagation(),await e.confirm(`This will permanently delete "${B}" and all its data.

This action cannot be undone.`,{title:"Delete Board?",confirmText:"Delete",type:"error"}))try{await UR(Rr(pi,"boards",j)),a(xe=>xe.filter(ke=>ke.id!==j)),await e.alert("Board deleted successfully.",{title:"Deleted",type:"success"})}catch(xe){console.error("Error deleting board:",xe),await e.alert("Failed to delete board. Please try again.",{title:"Error",type:"error"})}},P=async(D,j,B)=>{if(D.stopPropagation(),!t)return;if(await e.confirm(`You will no longer have access to "${B}".

You can ask the owner to re-share it if needed.`,{title:"Leave Board?",confirmText:"Leave",type:"warning"}))try{await si(Rr(pi,"boards",j),{[`members.${t.uid}`]:im()}),a(xe=>xe.filter(ke=>ke.id!==j)),await e.alert("You have left the board.",{title:"Left Board",type:"success"})}catch(xe){console.error("Error leaving board:",xe),await e.alert("Failed to leave board. Please try again.",{title:"Error",type:"error"})}};return b.jsxs("div",{children:[b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsxs("div",{className:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-semibold text-white tracking-tight",children:"My Boards"}),b.jsxs("p",{className:"text-slate-400 mt-1",children:["Welcome back, ",b.jsx("span",{className:"text-white font-medium",children:t?.displayName?.split(" ")[0]||"Bingo Player"})]})]}),b.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-white text-bg-dark font-bold rounded-lg hover:bg-slate-200 transition-colors shadow-lg active:scale-95",children:[b.jsx(nh,{className:"w-5 h-5"}),b.jsx("span",{children:"New Board"})]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.filter(D=>D.myRole==="owner").map(D=>{const B=D.id==="2026"||!D.ownerId?`/board/legacy/${D.id}`:`/board/${D.id}`;return b.jsxs("div",{onClick:V=>{V.preventDefault(),console.log("Navigating to board:",B),n(B)},className:"pro-card group relative h-48 p-6 flex flex-col justify-between cursor-pointer overflow-hidden active:scale-[0.99] hover:bg-zinc-900",children:[b.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:b.jsx("button",{onClick:V=>A(V,D.id,D.title),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Delete Board",children:b.jsx(Mf,{size:18})})}),b.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"h-7 mb-2",children:!!D.sharedCount&&D.sharedCount>0&&b.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:[b.jsx(ZB,{size:10}),"Shared with ",D.sharedCount]})}),C===D.id?b.jsxs("div",{className:"flex items-center gap-2 mb-1.5 z-30 relative",onClick:V=>V.stopPropagation(),children:[b.jsx("input",{type:"text",value:O,onChange:V=>I(V.target.value),onKeyDown:ae,onClick:V=>V.stopPropagation(),autoFocus:!0,className:"bg-black/50 text-white font-bold text-xl rounded px-2 py-0.5 border border-accent-primary outline-none min-w-0 flex-1 w-full"}),b.jsx("button",{onClick:$,className:"p-1 text-green-400 hover:bg-green-400/20 rounded-full transition-colors",children:b.jsx(Cs,{size:18})}),b.jsx("button",{onClick:G,className:"p-1 text-red-400 hover:bg-red-400/20 rounded-full transition-colors",children:b.jsx(Os,{size:18})})]}):b.jsxs("div",{className:"flex items-start gap-2 pr-8 mb-1.5",children:[b.jsx("h3",{className:"text-xl font-bold text-white line-clamp-2 group-hover:text-accent-primary transition-colors",children:D.title}),b.jsx("button",{onClick:V=>z(V,D),className:"opacity-0 group-hover:opacity-100 text-slate-400 hover:text-white p-1.5 rounded-full hover:bg-white/10 transition-all z-20",title:"Rename Board",children:b.jsx(kB,{size:14})})]}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[b.jsx(ym,{className:"w-3.5 h-3.5"}),D.createdAt?.toDate?D.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),b.jsx("div",{className:"mt-4",children:b.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-primary/10 text-accent-primary border border-accent-primary/20 group-hover:bg-accent-primary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},D.id)})}),r.filter(D=>D.myRole!=="owner").length>0&&b.jsxs(b.Fragment,{children:[b.jsxs("h2",{className:"text-xl font-bold text-white mt-10 mb-6 flex items-center gap-2",children:[b.jsx("span",{className:"bg-gradient-to-r from-accent-secondary to-pink-500 bg-clip-text text-transparent",children:"Shared With Me"}),b.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",r.filter(D=>D.myRole!=="owner").length,")"]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.filter(D=>D.myRole!=="owner").map(D=>{const B=D.id==="2026"||!D.ownerId?`/board/legacy/${D.id}`:`/board/${D.id}`;return b.jsxs("div",{onClick:V=>{V.preventDefault(),console.log("Navigating to shared board:",B),n(B)},className:"pro-card group relative h-48 p-6 flex flex-col justify-between cursor-pointer overflow-hidden active:scale-[0.99] hover:bg-zinc-900",children:[b.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity pointer-events-none",children:b.jsx(VI,{className:"w-24 h-24"})}),b.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:b.jsx("button",{onClick:V=>P(V,D.id,D.title),className:"p-2 text-slate-500 hover:text-amber-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Leave Board",children:b.jsx(jI,{size:18})})}),b.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"h-7 mb-2",children:b.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${D.myRole==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:D.myRole==="editor"?" Editor":" Viewer"})}),b.jsx("h3",{className:"text-xl font-bold text-white mb-1 line-clamp-1 pr-8",children:D.title}),D.ownerName&&b.jsxs("div",{className:"text-xs text-slate-500 mb-1.5",children:["Shared by ",b.jsx("span",{className:"text-slate-400",children:D.ownerName})]}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[b.jsx(ym,{className:"w-3.5 h-3.5"}),D.createdAt?.toDate?D.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),b.jsx("div",{className:"mt-4",children:b.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-secondary/10 text-accent-secondary border border-accent-secondary/20 group-hover:bg-accent-secondary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},D.id)})})]})]}),h&&b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{m?g(null):d(!1)}}),b.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center shrink-0",children:[b.jsx("h2",{className:"text-xl font-bold text-white",children:m?le[m].name:"Choose a Template"}),b.jsx("button",{onClick:()=>{m?g(null):d(!1)},className:"text-slate-400 hover:text-white",children:b.jsx(nh,{className:"w-6 h-6 rotate-45"})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:m?b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Grid Size"}),b.jsx("div",{className:"grid grid-cols-4 gap-2",children:te.map(({size:D,label:j,icon:B})=>b.jsxs("button",{onClick:()=>_(D),className:`p-3 rounded-xl border text-center transition-all ${v===D?"bg-accent-primary/20 border-accent-primary text-white":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10 hover:text-white"}`,children:[b.jsx("span",{className:"text-lg block",children:B}),b.jsx("span",{className:"font-bold text-sm",children:j}),b.jsxs("span",{className:"text-[10px] block opacity-70",children:[D*D," tiles"]})]},D))})]}),b.jsx("div",{className:"flex justify-center",children:b.jsx("div",{className:`aspect-square w-full max-w-[380px] grid gap-1.5 p-3 bg-slate-950/50 rounded-xl border border-white/10 ${v===3?"grid-cols-3":v===4?"grid-cols-4":v===5?"grid-cols-5":"grid-cols-6"}`,children:(()=>{const D=v*v,j=v%2===1?Math.floor(D/2):-1,B=le[m].items.filter(V=>V.trim().toUpperCase()!=="FREE SPACE");return Array.from({length:D},(V,xe)=>{const ke=xe===j&&v%2===1,Z=xe<j||j===-1?xe:xe-1,q=ke?"FREE":B[Z%B.length]||`Goal ${xe+1}`;return b.jsx("div",{className:`
                                                                relative rounded-lg flex items-center justify-center p-1 text-center select-none overflow-hidden 
                                                                ${v<=4?"text-[9px] sm:text-[11px]":"text-[7px] sm:text-[9px]"}
                                                                leading-tight font-medium border shadow-sm
                                                                ${ke?"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold":"bg-white/5 border-white/10 text-slate-300"}
                                                            `,children:b.jsx("span",{className:"line-clamp-2",children:q})},xe)})})()})}),b.jsxs("div",{className:"flex gap-3 pt-4",children:[b.jsx("button",{onClick:()=>g(null),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Back"}),b.jsxs("button",{onClick:()=>N(m),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all",children:["Create ",v,"",v," Board"]})]})]}):b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(le).map(([D,j])=>b.jsxs("button",{onClick:()=>g(D),className:"flex flex-col items-start p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent-primary/50 transition-all text-left group",children:[b.jsx("h3",{className:"font-bold text-white group-hover:text-accent-primary transition-colors",children:j.name}),b.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click to preview"})]},D))})})]})]})]})},Q7=()=>{const{settings:t}=ip(),e=S.useRef(null),n=S.useRef(null),r=S.useRef([]),a=S.useMemo(()=>{switch(t.theme){case"midnight":return{type:"stars",particleCount:150,baseColor:"rgba(100, 150, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #0a1628 0%, #020617 50%, #000 100%)",shootingStars:!0};case"cosmic":return{type:"stars",particleCount:200,baseColor:"rgba(139, 92, 246, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1e1b4b 0%, #0f172a 40%, #020617 100%)",shootingStars:!0};case"forest":return{type:"leaves",particleCount:40,baseColor:"rgba(100, 200, 120, ",bgGradient:"radial-gradient(ellipse at 30% 80%, #0a3d1a 0%, #052e16 50%, #021a09 100%)",shootingStars:!1};case"ocean":return{type:"bubbles",particleCount:60,baseColor:"rgba(100, 220, 255, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #0c4a5e 0%, #083344 50%, #041825 100%)",shootingStars:!1};case"sunset":return{type:"embers",particleCount:50,baseColor:"rgba(255, 150, 80, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #4a1a00 0%, #2a0a0a 50%, #1a0505 100%)",shootingStars:!1};default:return{type:"aurora",particleCount:80,baseColor:"rgba(180, 120, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1a1040 0%, #0f111a 50%, #0a0b10 100%)",shootingStars:!1}}},[t.theme]);return S.useEffect(()=>{const l=e.current;if(!l)return;const c=()=>{const d=[];for(let m=0;m<a.particleCount;m++)d.push(J7(l.width,l.height,a.type));r.current=d},h=()=>{l.width=window.innerWidth,l.height=window.innerHeight,c()};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[a]),S.useEffect(()=>{if(t.enableAnimation===!1)return;const l=e.current;if(!l)return;const c=l.getContext("2d");if(!c)return;let h=0,d=null;const m=()=>{c.clearRect(0,0,l.width,l.height),r.current.forEach(g=>{Z7(g,l.width,l.height,a.type),eq(c,g,a)}),a.shootingStars&&(h++,h>300&&Math.random()<.01&&(d={x:Math.random()*l.width,y:Math.random()*l.height*.5,length:80+Math.random()*40,speed:15+Math.random()*10,opacity:1},h=0),d&&(c.beginPath(),c.strokeStyle=`rgba(255, 255, 255, ${d.opacity})`,c.lineWidth=2,c.moveTo(d.x,d.y),c.lineTo(d.x-d.length,d.y-d.length*.3),c.stroke(),d.x+=d.speed,d.y+=d.speed*.3,d.opacity-=.02,d.opacity<=0&&(d=null))),n.current=requestAnimationFrame(m)};return m(),()=>{n.current&&cancelAnimationFrame(n.current)}},[t.enableAnimation,a]),b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-[-2] transition-all duration-1000",style:{background:a.bgGradient}}),b.jsx("canvas",{ref:e,className:"fixed inset-0 z-[-1] pointer-events-none",style:{opacity:t.enableAnimation===!1?0:.8}}),b.jsxs("div",{className:"fixed inset-0 z-[-1] pointer-events-none overflow-hidden",children:[b.jsx("div",{className:`absolute w-[600px] h-[600px] rounded-full blur-[120px] animate-float-slow ${t.theme==="midnight"?"bg-blue-500/10":t.theme==="cosmic"?"bg-violet-600/20":t.theme==="forest"?"bg-green-500/10":t.theme==="ocean"?"bg-cyan-500/10":t.theme==="sunset"?"bg-orange-500/10":"bg-purple-500/10"}`,style:{top:"-15%",left:"-10%"}}),b.jsx("div",{className:`absolute w-[500px] h-[500px] rounded-full blur-[100px] animate-float-slower ${t.theme==="midnight"?"bg-indigo-500/10":t.theme==="cosmic"?"bg-pink-600/20":t.theme==="forest"?"bg-emerald-500/10":t.theme==="ocean"?"bg-teal-500/10":t.theme==="sunset"?"bg-rose-500/10":"bg-pink-500/10"}`,style:{bottom:"-10%",right:"-5%"}})]})]})};function J7(t,e,n){const r={x:Math.random()*t,y:Math.random()*e,opacity:Math.random()*.5+.2};switch(n){case"stars":return{...r,size:Math.random()*2+.5,speedX:0,speedY:0,opacity:Math.random()*.8+.2};case"leaves":return{...r,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.8+.3,hue:Math.random()*40+80};case"bubbles":return{...r,size:Math.random()*8+2,speedX:Math.random()*.3-.15,speedY:-(Math.random()*.8+.3)};case"embers":return{...r,size:Math.random()*3+1,speedX:Math.random()*.4-.2,speedY:-(Math.random()*1+.5),hue:Math.random()*30+15};default:return{...r,size:Math.random()*4+1,speedX:Math.random()*.3-.15,speedY:Math.random()*.2-.1,hue:Math.random()*60+240}}}function Z7(t,e,n,r){t.x+=t.speedX,t.y+=t.speedY,r==="stars"&&(t.opacity+=(Math.random()-.5)*.05,t.opacity=Math.max(.1,Math.min(1,t.opacity))),t.x<0&&(t.x=e),t.x>e&&(t.x=0),t.y<0&&(t.y=n),t.y>n&&(t.y=0)}function eq(t,e,n){switch(t.beginPath(),n.type){case"stars":t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill(),e.opacity>.7&&(t.beginPath(),t.fillStyle=`rgba(200, 220, 255, ${e.opacity*.3})`,t.arc(e.x,e.y,e.size*3,0,Math.PI*2),t.fill());break;case"leaves":t.fillStyle=`hsla(${e.hue}, 60%, 50%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.5,e.x*.01,0,Math.PI*2),t.fill();break;case"bubbles":t.strokeStyle=n.baseColor+`${e.opacity})`,t.lineWidth=1,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.stroke(),t.beginPath(),t.fillStyle=`rgba(255, 255, 255, ${e.opacity*.5})`,t.arc(e.x-e.size*.3,e.y-e.size*.3,e.size*.2,0,Math.PI*2),t.fill();break;case"embers":const r=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size);r.addColorStop(0,`hsla(${e.hue}, 100%, 70%, ${e.opacity})`),r.addColorStop(1,`hsla(${e.hue}, 100%, 50%, 0)`),t.fillStyle=r,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill();break;default:const a=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size*2);a.addColorStop(0,`hsla(${e.hue}, 80%, 60%, ${e.opacity})`),a.addColorStop(1,`hsla(${e.hue}, 80%, 60%, 0)`),t.fillStyle=a,t.arc(e.x,e.y,e.size*2,0,Math.PI*2),t.fill();break}}const So=({number:t,title:e,text:n,imageSrc:r})=>b.jsxs("div",{className:"relative pl-8 border-l border-white/10 pb-8 last:pb-0 last:border-l-0",children:[b.jsx("div",{className:"absolute -left-4 top-0 w-8 h-8 rounded-full bg-slate-900 border border-accent-primary text-accent-primary font-bold flex items-center justify-center text-sm shadow-[0_0_10px_rgba(139,92,246,0.2)]",children:t}),b.jsxs("div",{className:"mb-2",children:[b.jsx("h4",{className:"text-lg font-bold text-white",children:e}),b.jsx("p",{className:"text-slate-400 text-sm mt-1",children:n})]}),r&&b.jsxs(ut.div,{whileHover:{scale:1.02},className:"mt-4 rounded-xl overflow-hidden border border-white/10 shadow-2xl bg-black/40 group relative",children:[b.jsx("img",{src:r,alt:e,className:"w-full h-auto object-cover opacity-80 group-hover:opacity-100 transition-opacity duration-500"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]})]}),tq=()=>{const t=Am();return b.jsx("div",{className:"min-h-screen bg-transparent text-white p-6 relative overflow-x-hidden pb-32",children:b.jsxs("div",{className:"max-w-5xl mx-auto",children:[b.jsxs(ut.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t("/dashboard"),className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors mb-8 group",children:[b.jsx(oB,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back to App"]}),b.jsxs("div",{className:"text-center mb-16",children:[b.jsx(ut.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-accent-primary to-accent-secondary mb-6 shadow-2xl shadow-accent-primary/20",children:b.jsx(gm,{size:40,className:"text-white"})}),b.jsxs(ut.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl sm:text-5xl font-extrabold mb-4",children:["How to Play ",b.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:"Bingo"})]}),b.jsx(ut.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-xl text-slate-400 max-w-2xl mx-auto",children:"A step-by-step guide to turning your 2026 goals into a social game."})]}),b.jsxs("div",{className:"grid gap-12",children:[b.jsxs(ut.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl text-blue-400",children:b.jsx(nh,{size:32})}),b.jsx("h2",{className:"text-3xl font-bold",children:"1. Creating a Board"})]}),b.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 backdrop-blur-sm",children:[b.jsx(So,{number:1,title:"Start from Dashboard",text:"Click the 'Create Board' button on your dashboard. You can choose to start fresh or use a template (like 'Self Care' or 'Travel').",imageSrc:"/assets/help/dashboard.png"}),b.jsx(So,{number:2,title:"Customize Setup",text:"Give your board a name (e.g., '2026 Goals') and choose a Grid Size. 3x3 is great for quick games, while 5x5 is the classic challenge."}),b.jsx(So,{number:3,title:"Fill Your Tiles",text:"The most fun part! Fill in each tile with a specific goal. You can drag to reorder or click 'Shuffle' to mix them up.",imageSrc:"/assets/help/grid.png"}),b.jsx(So,{number:4,title:"Lock & Play",text:"When you're happy, click 'Go Live'. This locks the grid structure so you can start marking progress."})]})]}),b.jsxs(ut.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"p-3 bg-green-500/20 rounded-xl text-green-400",children:b.jsx(qB,{size:32})}),b.jsx("h2",{className:"text-3xl font-bold",children:"2. Playing & Tracking"})]}),b.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 backdrop-blur-sm",children:[b.jsx(So,{number:1,title:"Tap to Interact",text:"Tap any tile on your board. If it's a '1-time' goal, you can complete it instantly. For multi-count goals (e.g., 'Read 5 Books'), you can add progress."}),b.jsx(So,{number:2,title:"Add Photo Proof",text:"Don't just say you did itprove it! Upload photos directly to the tile. This is great for memories later.",imageSrc:"/assets/help/modal.png"}),b.jsx(So,{number:3,title:"Win with Bingo!",text:"Complete a full row, column, or diagonal to get a BINGO! Watch out for the confetti celebration."})]})]}),b.jsxs(ut.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"p-3 bg-purple-500/20 rounded-xl text-purple-400",children:b.jsx(WB,{size:32})}),b.jsx("h2",{className:"text-3xl font-bold",children:"3. Playing with Friends"})]}),b.jsx("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 backdrop-blur-sm",children:b.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[b.jsx(kf,{size:20,className:"text-accent-secondary"}),"Shared Boards"]}),b.jsxs("p",{className:"text-slate-400 mb-4",children:["Invite friends to the ",b.jsx("strong",{children:"same board"}),". You all share the same grid but complete tiles individually (or together!)."]}),b.jsxs("ul",{className:"space-y-3",children:[b.jsxs("li",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2"}),b.jsx("span",{className:"text-sm text-slate-300",children:'Great for couples (e.g., "Our 2026 Bucket List")'})]}),b.jsxs("li",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2"}),b.jsx("span",{className:"text-sm text-slate-300",children:"Perfect for team challenges"})]})]})]}),b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[b.jsx($B,{size:20,className:"text-accent-gold"}),"Competition Mode"]}),b.jsxs("p",{className:"text-slate-400 mb-4",children:["When playing on a shared board, the tile shows ",b.jsx("strong",{children:"who completed it first"}),"."]}),b.jsx("div",{className:"bg-black/40 rounded-xl p-4 border border-white/5",children:b.jsxs("div",{className:"text-center",children:[b.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Tile Status"}),b.jsx("div",{className:"mt-2 font-bold text-white",children:'"Run a Marathon"'}),b.jsx("div",{className:"text-xs text-accent-primary mt-1",children:"Completed by You"})]})})]})]})})]})]}),b.jsx("div",{className:"mt-16 text-center",children:b.jsx("button",{onClick:()=>t("/dashboard"),className:"px-8 py-4 bg-white text-bg-dark font-bold rounded-2xl text-lg hover:scale-105 transition-transform shadow-xl shadow-white/10",children:"Let's Get Started"})})]})})},Yy=({children:t})=>{const{logout:e,user:n}=Ho(),{openSettings:r,settings:a,updateSettings:l}=ip(),[c,h]=St.useState(!1),d=Bs();St.useEffect(()=>{h(!1)},[d.pathname]);const m=[{label:"Dashboard",path:"/dashboard",icon:VI},{label:"Help & Guide",path:"/help",icon:PI}];return b.jsxs("div",{className:"min-h-screen bg-[var(--theme-bg-base)] text-slate-200 flex",children:[c&&b.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm",onClick:()=>h(!1)}),b.jsxs("aside",{className:ft("fixed inset-y-0 left-0 z-50 w-64 bg-[var(--theme-bg-subtle)] border-r border-[var(--theme-border)] transform transition-transform duration-200 lg:translate-x-0 lg:static flex flex-col",c?"translate-x-0":"-translate-x-full"),children:[b.jsx("div",{className:"h-16 flex items-center px-6 border-b border-[var(--theme-border)] shrink-0",children:b.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-8 w-auto"})}),b.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2 px-3",children:"Menu"}),m.map(g=>b.jsxs(dA,{to:g.path,className:({isActive:v})=>ft("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",v?"bg-[var(--theme-accent-primary)]/10 text-[var(--theme-accent-primary)]":"text-slate-400 hover:text-slate-100 hover:bg-white/5"),children:[b.jsx(g.icon,{size:18}),g.label]},g.path)),b.jsxs("button",{onClick:r,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-slate-400 hover:text-slate-100 hover:bg-white/5 transition-colors",children:[b.jsx(LB,{size:18}),"Settings"]}),b.jsxs("div",{className:"px-3 py-3 border-t border-white/5 mt-2",children:[b.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider mb-3",children:"Theme"}),b.jsx("div",{className:"flex justify-between gap-1",children:[{id:"dawn",color:"bg-orange-400"},{id:"midnight",color:"bg-indigo-500"},{id:"forest",color:"bg-emerald-500"},{id:"ocean",color:"bg-cyan-500"},{id:"sunset",color:"bg-rose-500"}].map(g=>b.jsx("button",{onClick:()=>l({theme:g.id}),className:ft("w-6 h-6 rounded-full transition-all duration-300 relative",g.color,a.theme===g.id?"ring-2 ring-white ring-offset-2 ring-offset-[var(--theme-bg-subtle)] scale-110 z-10":"opacity-40 hover:opacity-100 hover:scale-105"),title:g.id},g.id))})]})]}),b.jsxs("div",{className:"p-4 border-t border-[var(--theme-border)] bg-[var(--theme-bg-subtle)] shrink-0",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[n?.photoURL?b.jsx("img",{src:n.photoURL,className:"w-8 h-8 rounded-full bg-slate-800 object-cover",alt:"User"}):b.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center",children:b.jsx(LI,{size:14,className:"text-slate-400"})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-sm font-medium text-white truncate",children:n?.displayName||"User"}),b.jsx("p",{className:"text-xs text-slate-500 truncate",children:n?.email})]})]}),b.jsxs("button",{onClick:e,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:[b.jsx(jI,{size:16}),"Sign Out"]})]})]}),b.jsxs("main",{className:"flex-1 min-w-0 flex flex-col h-screen overflow-hidden bg-[var(--theme-bg-base)]",children:[b.jsxs("header",{className:"h-16 flex items-center justify-between px-4 lg:hidden border-b border-[var(--theme-border)] bg-[var(--theme-bg-subtle)] shrink-0",children:[b.jsx("button",{onClick:()=>h(!0),className:"p-2 text-slate-400",children:b.jsx(RB,{size:24})}),b.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-8 w-auto"}),b.jsx("div",{className:"w-8"})," "]}),b.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 sm:p-6 lg:p-8",children:b.jsx("div",{className:"max-w-7xl mx-auto h-full",children:t})})]})]})},nq=()=>{const{user:t,loading:e}=Ho();return e?b.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-bg-dark text-slate-500",children:"Initializing..."}):b.jsxs(b.Fragment,{children:[b.jsx(Q7,{}),b.jsx(qM,{}),b.jsx(OM,{children:b.jsxs(uM,{children:[b.jsx(Ta,{path:"/login",element:t?b.jsx(Nl,{to:"/dashboard",replace:!0}):b.jsx(Y8,{})}),b.jsx(Ta,{path:"/help",element:b.jsx(tq,{})}),b.jsx(Ta,{path:"/dashboard",element:t?b.jsx(Yy,{children:b.jsx(W7,{})}):b.jsx(Nl,{to:"/login",replace:!0})}),b.jsx(Ta,{path:"/board/legacy/:yearId",element:t?b.jsx(Yy,{children:b.jsx($S,{})}):b.jsx(Nl,{to:"/login",replace:!0})}),b.jsx(Ta,{path:"/board/:boardId",element:t?b.jsx(Yy,{children:b.jsx($S,{})}):b.jsx(Nl,{to:"/login",replace:!0})}),b.jsx(Ta,{path:"/",element:b.jsx(Nl,{to:t?"/dashboard":"/login",replace:!0})}),b.jsx(Ta,{path:"*",element:b.jsx(Nl,{to:t?"/dashboard":"/login",replace:!0})})]})})]})};function iq(){return b.jsx(bL,{children:b.jsx(K8,{children:b.jsx(n8,{children:b.jsx(nq,{})})})})}console.log("Main.tsx full run");const KS=document.getElementById("root");KS?dk.createRoot(KS).render(b.jsx(S.StrictMode,{children:b.jsx(iq,{})})):console.error("Root not found");export{Va as C,rs as F,Im as _,Vn as a,vA as b,Po as c,or as d,Jm as e,c0 as g,zo as i,s0 as p,Yr as r,a0 as u};
