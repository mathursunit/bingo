(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function mN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dg={exports:{}},Qc={};var rx;function pN(){if(rx)return Qc;rx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Qc.Fragment=e,Qc.jsx=n,Qc.jsxs=n,Qc}var ax;function gN(){return ax||(ax=1,dg.exports=pN()),dg.exports}var v=gN(),mg={exports:{}},Le={};var ox;function yN(){if(ox)return Le;ox=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function C(E){return E===null||typeof E!="object"?null:(E=x&&E[x]||E["@@iterator"],typeof E=="function"?E:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function G(E,F,ee){this.props=E,this.context=F,this.refs=N,this.updater=ee||D}G.prototype.isReactComponent={},G.prototype.setState=function(E,F){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,F,"setState")},G.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function Q(){}Q.prototype=G.prototype;function Y(E,F,ee){this.props=E,this.context=F,this.refs=N,this.updater=ee||D}var de=Y.prototype=new Q;de.constructor=Y,j(de,G.prototype),de.isPureReactComponent=!0;var ae=Array.isArray;function ge(){}var k={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function V(E,F,ee){var ie=ee.ref;return{$$typeof:t,type:E,key:F,ref:ie!==void 0?ie:null,props:ee}}function z(E,F){return V(E.type,F,E.props)}function U(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function P(E){var F={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ee){return F[ee]})}var M=/\/+/g;function be(E,F){return typeof E=="object"&&E!==null&&E.key!=null?P(""+E.key):F.toString(36)}function he(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(ge,ge):(E.status="pending",E.then(function(F){E.status==="pending"&&(E.status="fulfilled",E.value=F)},function(F){E.status==="pending"&&(E.status="rejected",E.reason=F)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function B(E,F,ee,ie,pe){var ye=typeof E;(ye==="undefined"||ye==="boolean")&&(E=null);var me=!1;if(E===null)me=!0;else switch(ye){case"bigint":case"string":case"number":me=!0;break;case"object":switch(E.$$typeof){case t:case e:me=!0;break;case y:return me=E._init,B(me(E._payload),F,ee,ie,pe)}}if(me)return pe=pe(E),me=ie===""?"."+be(E,0):ie,ae(pe)?(ee="",me!=null&&(ee=me.replace(M,"$&/")+"/"),B(pe,F,ee,"",function(Ge){return Ge})):pe!=null&&(U(pe)&&(pe=z(pe,ee+(pe.key==null||E&&E.key===pe.key?"":(""+pe.key).replace(M,"$&/")+"/")+me)),F.push(pe)),1;me=0;var Ae=ie===""?".":ie+":";if(ae(E))for(var Re=0;Re<E.length;Re++)ie=E[Re],ye=Ae+be(ie,Re),me+=B(ie,F,ee,ye,pe);else if(Re=C(E),typeof Re=="function")for(E=Re.call(E),Re=0;!(ie=E.next()).done;)ie=ie.value,ye=Ae+be(ie,Re++),me+=B(ie,F,ee,ye,pe);else if(ye==="object"){if(typeof E.then=="function")return B(he(E),F,ee,ie,pe);throw F=String(E),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return me}function H(E,F,ee){if(E==null)return E;var ie=[],pe=0;return B(E,ie,"","",function(ye){return F.call(ee,ye,pe++)}),ie}function K(E){if(E._status===-1){var F=E._result;F=F(),F.then(function(ee){(E._status===0||E._status===-1)&&(E._status=1,E._result=ee)},function(ee){(E._status===0||E._status===-1)&&(E._status=2,E._result=ee)}),E._status===-1&&(E._status=0,E._result=F)}if(E._status===1)return E._result.default;throw E._result}var ne=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},O={map:H,forEach:function(E,F,ee){H(E,function(){F.apply(this,arguments)},ee)},count:function(E){var F=0;return H(E,function(){F++}),F},toArray:function(E){return H(E,function(F){return F})||[]},only:function(E){if(!U(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Le.Activity=b,Le.Children=O,Le.Component=G,Le.Fragment=n,Le.Profiler=a,Le.PureComponent=Y,Le.StrictMode=s,Le.Suspense=p,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Le.__COMPILER_RUNTIME={__proto__:null,c:function(E){return k.H.useMemoCache(E)}},Le.cache=function(E){return function(){return E.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(E,F,ee){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var ie=j({},E.props),pe=E.key;if(F!=null)for(ye in F.key!==void 0&&(pe=""+F.key),F)!S.call(F,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&F.ref===void 0||(ie[ye]=F[ye]);var ye=arguments.length-2;if(ye===1)ie.children=ee;else if(1<ye){for(var me=Array(ye),Ae=0;Ae<ye;Ae++)me[Ae]=arguments[Ae+2];ie.children=me}return V(E.type,pe,ie)},Le.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:l,_context:E},E},Le.createElement=function(E,F,ee){var ie,pe={},ye=null;if(F!=null)for(ie in F.key!==void 0&&(ye=""+F.key),F)S.call(F,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(pe[ie]=F[ie]);var me=arguments.length-2;if(me===1)pe.children=ee;else if(1<me){for(var Ae=Array(me),Re=0;Re<me;Re++)Ae[Re]=arguments[Re+2];pe.children=Ae}if(E&&E.defaultProps)for(ie in me=E.defaultProps,me)pe[ie]===void 0&&(pe[ie]=me[ie]);return V(E,ye,pe)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(E){return{$$typeof:f,render:E}},Le.isValidElement=U,Le.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:K}},Le.memo=function(E,F){return{$$typeof:d,type:E,compare:F===void 0?null:F}},Le.startTransition=function(E){var F=k.T,ee={};k.T=ee;try{var ie=E(),pe=k.S;pe!==null&&pe(ee,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ge,ne)}catch(ye){ne(ye)}finally{F!==null&&ee.types!==null&&(F.types=ee.types),k.T=F}},Le.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Le.use=function(E){return k.H.use(E)},Le.useActionState=function(E,F,ee){return k.H.useActionState(E,F,ee)},Le.useCallback=function(E,F){return k.H.useCallback(E,F)},Le.useContext=function(E){return k.H.useContext(E)},Le.useDebugValue=function(){},Le.useDeferredValue=function(E,F){return k.H.useDeferredValue(E,F)},Le.useEffect=function(E,F){return k.H.useEffect(E,F)},Le.useEffectEvent=function(E){return k.H.useEffectEvent(E)},Le.useId=function(){return k.H.useId()},Le.useImperativeHandle=function(E,F,ee){return k.H.useImperativeHandle(E,F,ee)},Le.useInsertionEffect=function(E,F){return k.H.useInsertionEffect(E,F)},Le.useLayoutEffect=function(E,F){return k.H.useLayoutEffect(E,F)},Le.useMemo=function(E,F){return k.H.useMemo(E,F)},Le.useOptimistic=function(E,F){return k.H.useOptimistic(E,F)},Le.useReducer=function(E,F,ee){return k.H.useReducer(E,F,ee)},Le.useRef=function(E){return k.H.useRef(E)},Le.useState=function(E){return k.H.useState(E)},Le.useSyncExternalStore=function(E,F,ee){return k.H.useSyncExternalStore(E,F,ee)},Le.useTransition=function(){return k.H.useTransition()},Le.version="19.2.3",Le}var lx;function t0(){return lx||(lx=1,mg.exports=yN()),mg.exports}var I=t0();const id=mN(I);var pg={exports:{}},Wc={},gg={exports:{}},yg={};var cx;function vN(){return cx||(cx=1,(function(t){function e(B,H){var K=B.length;B.push(H);e:for(;0<K;){var ne=K-1>>>1,O=B[ne];if(0<a(O,H))B[ne]=H,B[K]=O,K=ne;else break e}}function n(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var H=B[0],K=B.pop();if(K!==H){B[0]=K;e:for(var ne=0,O=B.length,E=O>>>1;ne<E;){var F=2*(ne+1)-1,ee=B[F],ie=F+1,pe=B[ie];if(0>a(ee,K))ie<O&&0>a(pe,ee)?(B[ne]=pe,B[ie]=K,ne=ie):(B[ne]=ee,B[F]=K,ne=F);else if(ie<O&&0>a(pe,K))B[ne]=pe,B[ie]=K,ne=ie;else break e}}return H}function a(B,H){var K=B.sortIndex-H.sortIndex;return K!==0?K:B.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],d=[],y=1,b=null,x=3,C=!1,D=!1,j=!1,N=!1,G=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function de(B){for(var H=n(d);H!==null;){if(H.callback===null)s(d);else if(H.startTime<=B)s(d),H.sortIndex=H.expirationTime,e(p,H);else break;H=n(d)}}function ae(B){if(j=!1,de(B),!D)if(n(p)!==null)D=!0,ge||(ge=!0,P());else{var H=n(d);H!==null&&he(ae,H.startTime-B)}}var ge=!1,k=-1,S=5,V=-1;function z(){return N?!0:!(t.unstable_now()-V<S)}function U(){if(N=!1,ge){var B=t.unstable_now();V=B;var H=!0;try{e:{D=!1,j&&(j=!1,Q(k),k=-1),C=!0;var K=x;try{t:{for(de(B),b=n(p);b!==null&&!(b.expirationTime>B&&z());){var ne=b.callback;if(typeof ne=="function"){b.callback=null,x=b.priorityLevel;var O=ne(b.expirationTime<=B);if(B=t.unstable_now(),typeof O=="function"){b.callback=O,de(B),H=!0;break t}b===n(p)&&s(p),de(B)}else s(p);b=n(p)}if(b!==null)H=!0;else{var E=n(d);E!==null&&he(ae,E.startTime-B),H=!1}}break e}finally{b=null,x=K,C=!1}H=void 0}}finally{H?P():ge=!1}}}var P;if(typeof Y=="function")P=function(){Y(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,be=M.port2;M.port1.onmessage=U,P=function(){be.postMessage(null)}}else P=function(){G(U,0)};function he(B,H){k=G(function(){B(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(B){switch(x){case 1:case 2:case 3:var H=3;break;default:H=x}var K=x;x=H;try{return B()}finally{x=K}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var K=x;x=B;try{return H()}finally{x=K}},t.unstable_scheduleCallback=function(B,H,K){var ne=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,B){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=K+O,B={id:y++,callback:H,priorityLevel:B,startTime:K,expirationTime:O,sortIndex:-1},K>ne?(B.sortIndex=K,e(d,B),n(p)===null&&B===n(d)&&(j?(Q(k),k=-1):j=!0,he(ae,K-ne))):(B.sortIndex=O,e(p,B),D||C||(D=!0,ge||(ge=!0,P()))),B},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(B){var H=x;return function(){var K=x;x=H;try{return B.apply(this,arguments)}finally{x=K}}}})(yg)),yg}var ux;function bN(){return ux||(ux=1,gg.exports=vN()),gg.exports}var vg={exports:{}},Nn={};var hx;function _N(){if(hx)return Nn;hx=1;var t=t0();function e(p){var d="https://react.dev/errors/"+p;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,d,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:p,containerInfo:d,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,d){if(p==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Nn.createPortal=function(p,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return l(p,d,null,y)},Nn.flushSync=function(p){var d=u.T,y=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=d,s.p=y,s.d.f()}},Nn.preconnect=function(p,d){typeof p=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(p,d))},Nn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Nn.preinit=function(p,d){if(typeof p=="string"&&d&&typeof d.as=="string"){var y=d.as,b=f(y,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,C=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?s.d.S(p,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:C}):y==="script"&&s.d.X(p,{crossOrigin:b,integrity:x,fetchPriority:C,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Nn.preinitModule=function(p,d){if(typeof p=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=f(d.as,d.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(p)},Nn.preload=function(p,d){if(typeof p=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,b=f(y,d.crossOrigin);s.d.L(p,y,{crossOrigin:b,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Nn.preloadModule=function(p,d){if(typeof p=="string")if(d){var y=f(d.as,d.crossOrigin);s.d.m(p,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(p)},Nn.requestFormReset=function(p){s.d.r(p)},Nn.unstable_batchedUpdates=function(p,d){return p(d)},Nn.useFormState=function(p,d,y){return u.H.useFormState(p,d,y)},Nn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Nn.version="19.2.3",Nn}var fx;function wN(){if(fx)return vg.exports;fx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vg.exports=_N(),vg.exports}var dx;function xN(){if(dx)return Wc;dx=1;var t=bN(),e=t0(),n=wN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function d(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return p(m),i;if(g===c)return p(m),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=m,c=g;else{for(var w=!1,A=m.child;A;){if(A===o){w=!0,o=m,c=g;break}if(A===c){w=!0,c=m,o=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===o){w=!0,o=g,c=m;break}if(A===c){w=!0,c=g,o=m;break}A=A.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function P(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function be(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case G:return"Profiler";case N:return"StrictMode";case ae:return"Suspense";case ge:return"SuspenseList";case V:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case Y:return i.displayName||"Context";case Q:return(i._context.displayName||"Context")+".Consumer";case de:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return r=i.displayName||null,r!==null?r:be(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return be(i(r))}catch{}}return null}var he=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ne=[],O=-1;function E(i){return{current:i}}function F(i){0>O||(i.current=ne[O],ne[O]=null,O--)}function ee(i,r){O++,ne[O]=i.current,i.current=r}var ie=E(null),pe=E(null),ye=E(null),me=E(null);function Ae(i,r){switch(ee(ye,r),ee(pe,i),ee(ie,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Rw(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Rw(r),i=Iw(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}F(ie),ee(ie,i)}function Re(){F(ie),F(pe),F(ye)}function Ge(i){i.memoizedState!==null&&ee(me,i);var r=ie.current,o=Iw(r,i.type);r!==o&&(ee(pe,i),ee(ie,o))}function $e(i){pe.current===i&&(F(ie),F(pe)),me.current===i&&(F(me),Gc._currentValue=K)}var Oe,ut;function Ve(i){if(Oe===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Oe=r&&r[1]||"",ut=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oe+i+ut}var Mt=!1;function Vt(i,r){if(!i||Mt)return"";Mt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(re){var te=re}Reflect.construct(i,[],ce)}else{try{ce.call()}catch(re){te=re}i.call(ce.prototype)}}else{try{throw Error()}catch(re){te=re}(ce=i())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(re){if(re&&te&&typeof re.stack=="string")return[re.stack,te.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],A=g[1];if(w&&A){var L=w.split(`
`),J=A.split(`
`);for(m=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;if(c===L.length||m===J.length)for(c=L.length-1,m=J.length-1;1<=c&&0<=m&&L[c]!==J[m];)m--;for(;1<=c&&0<=m;c--,m--)if(L[c]!==J[m]){if(c!==1||m!==1)do if(c--,m--,0>m||L[c]!==J[m]){var oe=`
`+L[c].replace(" at new "," at ");return i.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",i.displayName)),oe}while(1<=c&&0<=m);break}}}finally{Mt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ve(o):""}function Ft(i,r){switch(i.tag){case 26:case 27:case 5:return Ve(i.type);case 16:return Ve("Lazy");case 13:return i.child!==r&&r!==null?Ve("Suspense Fallback"):Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 15:return Vt(i.type,!1);case 11:return Vt(i.type.render,!1);case 1:return Vt(i.type,!0);case 31:return Ve("Activity");default:return""}}function wn(i){try{var r="",o=null;do r+=Ft(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ot=Object.prototype.hasOwnProperty,He=t.unstable_scheduleCallback,xi=t.unstable_cancelCallback,Ls=t.unstable_shouldYield,Tr=t.unstable_requestPaint,Wt=t.unstable_now,Gn=t.unstable_getCurrentPriorityLevel,cs=t.unstable_ImmediatePriority,Us=t.unstable_UserBlockingPriority,Ti=t.unstable_NormalPriority,Er=t.unstable_LowPriority,$n=t.unstable_IdlePriority,On=t.log,ri=t.unstable_setDisableYieldValue,un=null,Xt=null;function jn(i){if(typeof On=="function"&&ri(i),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(un,i)}catch{}}var Pt=Math.clz32?Math.clz32:us,zs=Math.log,xt=Math.LN2;function us(i){return i>>>=0,i===0?32:31-(zs(i)/xt|0)|0}var Ln=256,Ei=262144,Et=4194304;function In(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ai(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?m=In(c):(w&=A,w!==0?m=In(w):o||(o=A&~i,o!==0&&(m=In(o))))):(A=c&~g,A!==0?m=In(A):w!==0?m=In(w):o||(o=c&~i,o!==0&&(m=In(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function Kn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Sr(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(){var i=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),i}function oi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Bs(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ao(i,r,o,c,m,g){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,L=i.expirationTimes,J=i.hiddenUpdates;for(o=w&~o;0<o;){var oe=31-Pt(o),ce=1<<oe;A[oe]=0,L[oe]=-1;var te=J[oe];if(te!==null)for(J[oe]=null,oe=0;oe<te.length;oe++){var re=te[oe];re!==null&&(re.lane&=-536870913)}o&=~ce}c!==0&&Hi(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(w&~r))}function Hi(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Pt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Fs(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Pt(o),m=1<<c;m&r|i[c]&r&&(i[c]|=r),o&=~m}}function ka(i,r){var o=r&-r;return o=(o&42)!==0?1:qs(o),(o&(i.suspendedLanes|r))!==0?0:o}function qs(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Gi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Da(){var i=H.p;return i!==0?i:(i=window.event,i===void 0?32:Zw(i.type))}function li(i,r){var o=H.p;try{return H.p=i,r()}finally{H.p=o}}var ci=Math.random().toString(36).slice(2),qt="__reactFiber$"+ci,Ht="__reactProps$"+ci,Yn="__reactContainer$"+ci,hs="__reactEvents$"+ci,Xl="__reactListeners$"+ci,W="__reactHandles$"+ci,Ne="__reactResources$"+ci,ht="__reactMarker$"+ci;function Rt(i){delete i[qt],delete i[Ht],delete i[hs],delete i[Xl],delete i[W]}function _t(i){var r=i[qt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Yn]||o[qt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Ow(i);i!==null;){if(o=i[qt])return o;i=Ow(i)}return r}i=o,o=i.parentNode}return null}function It(i){if(i=i[qt]||i[Yn]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Zt(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ui(i){var r=i[Ne];return r||(r=i[Ne]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Jt(i){i[ht]=!0}var Zl=new Set,Jl={};function fs(i,r){ds(i,r),ds(i+"Capture",r)}function ds(i,r){for(Jl[i]=r,i=0;i<r.length;i++)Zl.add(r[i])}var ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tc={},nc={};function ah(i){return ot.call(nc,i)?!0:ot.call(tc,i)?!1:ec.test(i)?nc[i]=!0:(tc[i]=!0,!1)}function Co(i,r,o){if(ah(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function hi(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function en(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ar(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ic(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function dt(i){if(!i._valueTracker){var r=Ar(i)?"checked":"value";i._valueTracker=ic(i,r,""+i[r])}}function Ma(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Ar(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function ms(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Va=/[\n"\\]/g;function Qn(i){return i.replace(Va,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ro(i,r,o,c,m,g,w,A){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),r!=null?w==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+gn(r)):i.value!==""+gn(r)&&(i.value=""+gn(r)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),r!=null?sc(i,w,gn(r)):o!=null?sc(i,w,gn(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+gn(A):i.removeAttribute("name")}function oh(i,r,o,c,m,g,w,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){dt(i);return}o=o!=null?""+gn(o):"",r=r!=null?""+gn(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),dt(i)}function sc(i,r,o){r==="number"&&ms(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Cr(i,r,o,c){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+gn(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function lh(i,r,o){if(r!=null&&(r=""+gn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+gn(o):""}function Rr(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(he(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=gn(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),dt(i)}function Wn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var ch=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rc(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||ch.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function ac(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&rc(i,m,c)}else for(var g in r)r.hasOwnProperty(g)&&rc(i,g,r[g])}function Io(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ir=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function No(i){return Ir.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function $i(){}var oc=null;function Si(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Nr=null,ps=null;function Pa(i){var r=It(i);if(r&&(i=r.stateNode)){var o=i[Ht]||null;e:switch(i=r.stateNode,r.type){case"input":if(Ro(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Qn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var m=c[Ht]||null;if(!m)throw Error(s(90));Ro(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&Ma(c)}break e;case"textarea":lh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Cr(i,!!o.multiple,r,!1)}}}var ko=!1;function kr(i,r,o){if(ko)return i(r,o);ko=!0;try{var c=i(r);return c}finally{if(ko=!1,(Nr!==null||ps!==null)&&(sf(),Nr&&(r=Nr,i=ps,ps=Nr=null,Pa(r),i)))for(r=0;r<i.length;r++)Pa(i[r])}}function Ki(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Ht]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oa=!1;if(Ai)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){Oa=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{Oa=!1}var gs=null,lc=null,ja=null;function cc(){if(ja)return ja;var i,r=lc,o=r.length,c,m="value"in gs?gs.value:gs.textContent,g=m.length;for(i=0;i<o&&r[i]===m[i];i++);var w=o-i;for(c=1;c<=w&&r[o-c]===m[g-c];c++);return ja=m.slice(i,1<c?1-c:void 0)}function La(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Hs(){return!0}function Yi(){return!1}function xn(i){function r(o,c,m,g,w){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Hs:Yi,this.isPropagationStopped=Yi,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Hs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Hs)},persist:function(){},isPersistent:Hs}),r}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ys=xn(Gs),Dr=b({},Gs,{view:0,detail:0}),uc=xn(Dr),Mr,Do,vs,Mo=b({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==vs&&(vs&&i.type==="mousemove"?(Mr=i.screenX-vs.screenX,Do=i.screenY-vs.screenY):Do=Mr=0,vs=i),Mr)},movementY:function(i){return"movementY"in i?i.movementY:Do}}),hc=xn(Mo),Ua=b({},Mo,{dataTransfer:0}),hh=xn(Ua),fh=b({},Dr,{relatedTarget:0}),za=xn(fh),fc=b({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),dh=xn(fc),Vo=b({},Gs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),mh=xn(Vo),ph=b({},Gs,{data:0}),bs=xn(ph),gh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=vh[i])?!!r[i]:!1}function Vr(){return bh}var Un=b({},Dr,{key:function(i){if(i.key){var r=gh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=La(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?yh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(i){return i.type==="keypress"?La(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?La(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_h=xn(Un),wh=b({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$s=xn(wh),h=b({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),_=xn(h),T=b({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=xn(T),X=b({},Mo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),se=xn(X),ve=b({},Gs,{newState:0,oldState:0}),ze=xn(ve),Gt=[9,13,27,32],lt=Ai&&"CompositionEvent"in window,Nt=null;Ai&&"documentMode"in document&&(Nt=document.documentMode);var Ci=Ai&&"TextEvent"in window&&!Nt,_s=Ai&&(!lt||Nt&&8<Nt&&11>=Nt),Qi=" ",Wi=!1;function Ba(i,r){switch(i){case"keyup":return Gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Po(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Oo=!1;function LR(i,r){switch(i){case"compositionend":return Po(r);case"keypress":return r.which!==32?null:(Wi=!0,Qi);case"textInput":return i=r.data,i===Qi&&Wi?null:i;default:return null}}function UR(i,r){if(Oo)return i==="compositionend"||!lt&&Ba(i,r)?(i=cc(),ja=lc=gs=null,Oo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _s&&r.locale!=="ko"?null:r.data;default:return null}}var zR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!zR[i.type]:r==="textarea"}function zv(i,r,o,c){Nr?ps?ps.push(c):ps=[c]:Nr=c,r=hf(r,"onChange"),0<r.length&&(o=new ys("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var dc=null,mc=null;function BR(i){xw(i,0)}function xh(i){var r=Zt(i);if(Ma(r))return i}function Bv(i,r){if(i==="change")return r}var Fv=!1;if(Ai){var _m;if(Ai){var wm="oninput"in document;if(!wm){var qv=document.createElement("div");qv.setAttribute("oninput","return;"),wm=typeof qv.oninput=="function"}_m=wm}else _m=!1;Fv=_m&&(!document.documentMode||9<document.documentMode)}function Hv(){dc&&(dc.detachEvent("onpropertychange",Gv),mc=dc=null)}function Gv(i){if(i.propertyName==="value"&&xh(mc)){var r=[];zv(r,mc,i,Si(i)),kr(BR,r)}}function FR(i,r,o){i==="focusin"?(Hv(),dc=r,mc=o,dc.attachEvent("onpropertychange",Gv)):i==="focusout"&&Hv()}function qR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return xh(mc)}function HR(i,r){if(i==="click")return xh(r)}function GR(i,r){if(i==="input"||i==="change")return xh(r)}function $R(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var fi=typeof Object.is=="function"?Object.is:$R;function pc(i,r){if(fi(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!ot.call(r,m)||!fi(i[m],r[m]))return!1}return!0}function $v(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Kv(i,r){var o=$v(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=$v(o)}}function Yv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Yv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Qv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ms(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=ms(i.document)}return r}function xm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var KR=Ai&&"documentMode"in document&&11>=document.documentMode,jo=null,Tm=null,gc=null,Em=!1;function Wv(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Em||jo==null||jo!==ms(c)||(c=jo,"selectionStart"in c&&xm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),gc&&pc(gc,c)||(gc=c,c=hf(Tm,"onSelect"),0<c.length&&(r=new ys("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=jo)))}function Fa(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Lo={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},Sm={},Xv={};Ai&&(Xv=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function qa(i){if(Sm[i])return Sm[i];if(!Lo[i])return i;var r=Lo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Xv)return Sm[i]=r[o];return i}var Zv=qa("animationend"),Jv=qa("animationiteration"),eb=qa("animationstart"),YR=qa("transitionrun"),QR=qa("transitionstart"),WR=qa("transitioncancel"),tb=qa("transitionend"),nb=new Map,Am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Am.push("scrollEnd");function Xi(i,r){nb.set(i,r),fs(r,[i])}var Th=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ri=[],Uo=0,Cm=0;function Eh(){for(var i=Uo,r=Cm=Uo=0;r<i;){var o=Ri[r];Ri[r++]=null;var c=Ri[r];Ri[r++]=null;var m=Ri[r];Ri[r++]=null;var g=Ri[r];if(Ri[r++]=null,c!==null&&m!==null){var w=c.pending;w===null?m.next=m:(m.next=w.next,w.next=m),c.pending=m}g!==0&&ib(o,m,g)}}function Sh(i,r,o,c){Ri[Uo++]=i,Ri[Uo++]=r,Ri[Uo++]=o,Ri[Uo++]=c,Cm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Rm(i,r,o,c){return Sh(i,r,o,c),Ah(i)}function Ha(i,r){return Sh(i,null,null,r),Ah(i)}function ib(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&r!==null&&(m=31-Pt(o),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[r]:c.push(r),r.lane=o|536870912),g):null}function Ah(i){if(50<Lc)throw Lc=0,jp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var zo={};function XR(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(i,r,o,c){return new XR(i,r,o,c)}function Im(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ks(i,r){var o=i.alternate;return o===null?(o=di(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function sb(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Ch(i,r,o,c,m,g){var w=0;if(c=i,typeof i=="function")Im(i)&&(w=1);else if(typeof i=="string")w=nN(i,o,ie.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case V:return i=di(31,o,r,m),i.elementType=V,i.lanes=g,i;case j:return Ga(o.children,m,g,r);case N:w=8,m|=24;break;case G:return i=di(12,o,r,m|2),i.elementType=G,i.lanes=g,i;case ae:return i=di(13,o,r,m),i.elementType=ae,i.lanes=g,i;case ge:return i=di(19,o,r,m),i.elementType=ge,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:w=10;break e;case Q:w=9;break e;case de:w=11;break e;case k:w=14;break e;case S:w=16,c=null;break e}w=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=di(w,o,r,m),r.elementType=i,r.type=c,r.lanes=g,r}function Ga(i,r,o,c){return i=di(7,i,c,r),i.lanes=o,i}function Nm(i,r,o){return i=di(6,i,null,r),i.lanes=o,i}function rb(i){var r=di(18,null,null,0);return r.stateNode=i,r}function km(i,r,o){return r=di(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var ab=new WeakMap;function Ii(i,r){if(typeof i=="object"&&i!==null){var o=ab.get(i);return o!==void 0?o:(r={value:i,source:r,stack:wn(r)},ab.set(i,r),r)}return{value:i,source:r,stack:wn(r)}}var Bo=[],Fo=0,Rh=null,yc=0,Ni=[],ki=0,Pr=null,ws=1,xs="";function Ys(i,r){Bo[Fo++]=yc,Bo[Fo++]=Rh,Rh=i,yc=r}function ob(i,r,o){Ni[ki++]=ws,Ni[ki++]=xs,Ni[ki++]=Pr,Pr=i;var c=ws;i=xs;var m=32-Pt(c)-1;c&=~(1<<m),o+=1;var g=32-Pt(r)+m;if(30<g){var w=m-m%5;g=(c&(1<<w)-1).toString(32),c>>=w,m-=w,ws=1<<32-Pt(r)+m|o<<m|c,xs=g+i}else ws=1<<g|o<<m|c,xs=i}function Dm(i){i.return!==null&&(Ys(i,1),ob(i,1,0))}function Mm(i){for(;i===Rh;)Rh=Bo[--Fo],Bo[Fo]=null,yc=Bo[--Fo],Bo[Fo]=null;for(;i===Pr;)Pr=Ni[--ki],Ni[ki]=null,xs=Ni[--ki],Ni[ki]=null,ws=Ni[--ki],Ni[ki]=null}function lb(i,r){Ni[ki++]=ws,Ni[ki++]=xs,Ni[ki++]=Pr,ws=r.id,xs=r.overflow,Pr=i}var Tn=null,St=null,nt=!1,Or=null,Di=!1,Vm=Error(s(519));function jr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vc(Ii(r,i)),Vm}function cb(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[qt]=i,r[Ht]=c,o){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(o=0;o<zc.length;o++)Qe(zc[o],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":Qe("invalid",r),oh(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Qe("invalid",r);break;case"textarea":Qe("invalid",r),Rr(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Aw(r.textContent,o)?(c.popover!=null&&(Qe("beforetoggle",r),Qe("toggle",r)),c.onScroll!=null&&Qe("scroll",r),c.onScrollEnd!=null&&Qe("scrollend",r),c.onClick!=null&&(r.onclick=$i),r=!0):r=!1,r||jr(i,!0)}function ub(i){for(Tn=i.return;Tn;)switch(Tn.tag){case 5:case 31:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:Tn=Tn.return}}function qo(i){if(i!==Tn)return!1;if(!nt)return ub(i),nt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Zp(i.type,i.memoizedProps)),o=!o),o&&St&&jr(i),ub(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));St=Pw(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));St=Pw(i)}else r===27?(r=St,Xr(i.type)?(i=ig,ig=null,St=i):St=r):St=Tn?Vi(i.stateNode.nextSibling):null;return!0}function $a(){St=Tn=null,nt=!1}function Pm(){var i=Or;return i!==null&&(ei===null?ei=i:ei.push.apply(ei,i),Or=null),i}function vc(i){Or===null?Or=[i]:Or.push(i)}var Om=E(null),Ka=null,Qs=null;function Lr(i,r,o){ee(Om,r._currentValue),r._currentValue=o}function Ws(i){i._currentValue=Om.current,F(Om)}function jm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function Lm(i,r,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var w=m.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=m;for(var L=0;L<r.length;L++)if(A.context===r[L]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),jm(g.return,o,i),c||(w=null);break e}g=A.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(s(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),jm(w,o,i),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===i){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function Ho(i,r,o,c){i=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var A=m.type;fi(m.pendingProps.value,w.value)||(i!==null?i.push(A):i=[A])}}else if(m===me.current){if(w=m.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Gc):i=[Gc])}m=m.return}i!==null&&Lm(r,i,o,c),r.flags|=262144}function Ih(i){for(i=i.firstContext;i!==null;){if(!fi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ya(i){Ka=i,Qs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function En(i){return hb(Ka,i)}function Nh(i,r){return Ka===null&&Ya(i),hb(i,r)}function hb(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Qs===null){if(i===null)throw Error(s(308));Qs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Qs=Qs.next=r;return o}var ZR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},JR=t.unstable_scheduleCallback,eI=t.unstable_NormalPriority,tn={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Um(){return{controller:new ZR,data:new Map,refCount:0}}function bc(i){i.refCount--,i.refCount===0&&JR(eI,function(){i.controller.abort()})}var _c=null,zm=0,Go=0,$o=null;function tI(i,r){if(_c===null){var o=_c=[];zm=0,Go=qp(),$o={status:"pending",value:void 0,then:function(c){o.push(c)}}}return zm++,r.then(fb,fb),r}function fb(){if(--zm===0&&_c!==null){$o!==null&&($o.status="fulfilled");var i=_c;_c=null,Go=0,$o=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function nI(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var db=B.S;B.S=function(i,r){W_=Wt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&tI(i,r),db!==null&&db(i,r)};var Qa=E(null);function Bm(){var i=Qa.current;return i!==null?i:wt.pooledCache}function kh(i,r){r===null?ee(Qa,Qa.current):ee(Qa,r.pool)}function mb(){var i=Bm();return i===null?null:{parent:tn._currentValue,pool:i}}var Ko=Error(s(460)),Fm=Error(s(474)),Dh=Error(s(542)),Mh={then:function(){}};function pb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function gb(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then($i,$i),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,vb(i),i;default:if(typeof r.status=="string")r.then($i,$i);else{if(i=wt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,vb(i),i}throw Xa=r,Ko}}function Wa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Xa=o,Ko):o}}var Xa=null;function yb(){if(Xa===null)throw Error(s(459));var i=Xa;return Xa=null,i}function vb(i){if(i===Ko||i===Dh)throw Error(s(483))}var Yo=null,wc=0;function Vh(i){var r=wc;return wc+=1,Yo===null&&(Yo=[]),gb(Yo,i,r)}function xc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ph(i,r){throw r.$$typeof===x?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function bb(i){function r($,q){if(i){var Z=$.deletions;Z===null?($.deletions=[q],$.flags|=16):Z.push(q)}}function o($,q){if(!i)return null;for(;q!==null;)r($,q),q=q.sibling;return null}function c($){for(var q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function m($,q){return $=Ks($,q),$.index=0,$.sibling=null,$}function g($,q,Z){return $.index=Z,i?(Z=$.alternate,Z!==null?(Z=Z.index,Z<q?($.flags|=67108866,q):Z):($.flags|=67108866,q)):($.flags|=1048576,q)}function w($){return i&&$.alternate===null&&($.flags|=67108866),$}function A($,q,Z,le){return q===null||q.tag!==6?(q=Nm(Z,$.mode,le),q.return=$,q):(q=m(q,Z),q.return=$,q)}function L($,q,Z,le){var ke=Z.type;return ke===j?oe($,q,Z.props.children,le,Z.key):q!==null&&(q.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===S&&Wa(ke)===q.type)?(q=m(q,Z.props),xc(q,Z),q.return=$,q):(q=Ch(Z.type,Z.key,Z.props,null,$.mode,le),xc(q,Z),q.return=$,q)}function J($,q,Z,le){return q===null||q.tag!==4||q.stateNode.containerInfo!==Z.containerInfo||q.stateNode.implementation!==Z.implementation?(q=km(Z,$.mode,le),q.return=$,q):(q=m(q,Z.children||[]),q.return=$,q)}function oe($,q,Z,le,ke){return q===null||q.tag!==7?(q=Ga(Z,$.mode,le,ke),q.return=$,q):(q=m(q,Z),q.return=$,q)}function ce($,q,Z){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Nm(""+q,$.mode,Z),q.return=$,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case C:return Z=Ch(q.type,q.key,q.props,null,$.mode,Z),xc(Z,q),Z.return=$,Z;case D:return q=km(q,$.mode,Z),q.return=$,q;case S:return q=Wa(q),ce($,q,Z)}if(he(q)||P(q))return q=Ga(q,$.mode,Z,null),q.return=$,q;if(typeof q.then=="function")return ce($,Vh(q),Z);if(q.$$typeof===Y)return ce($,Nh($,q),Z);Ph($,q)}return null}function te($,q,Z,le){var ke=q!==null?q.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return ke!==null?null:A($,q,""+Z,le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:return Z.key===ke?L($,q,Z,le):null;case D:return Z.key===ke?J($,q,Z,le):null;case S:return Z=Wa(Z),te($,q,Z,le)}if(he(Z)||P(Z))return ke!==null?null:oe($,q,Z,le,null);if(typeof Z.then=="function")return te($,q,Vh(Z),le);if(Z.$$typeof===Y)return te($,q,Nh($,Z),le);Ph($,Z)}return null}function re($,q,Z,le,ke){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return $=$.get(Z)||null,A(q,$,""+le,ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case C:return $=$.get(le.key===null?Z:le.key)||null,L(q,$,le,ke);case D:return $=$.get(le.key===null?Z:le.key)||null,J(q,$,le,ke);case S:return le=Wa(le),re($,q,Z,le,ke)}if(he(le)||P(le))return $=$.get(Z)||null,oe(q,$,le,ke,null);if(typeof le.then=="function")return re($,q,Z,Vh(le),ke);if(le.$$typeof===Y)return re($,q,Z,Nh(q,le),ke);Ph(q,le)}return null}function Te($,q,Z,le){for(var ke=null,rt=null,Ce=q,qe=q=0,Xe=null;Ce!==null&&qe<Z.length;qe++){Ce.index>qe?(Xe=Ce,Ce=null):Xe=Ce.sibling;var at=te($,Ce,Z[qe],le);if(at===null){Ce===null&&(Ce=Xe);break}i&&Ce&&at.alternate===null&&r($,Ce),q=g(at,q,qe),rt===null?ke=at:rt.sibling=at,rt=at,Ce=Xe}if(qe===Z.length)return o($,Ce),nt&&Ys($,qe),ke;if(Ce===null){for(;qe<Z.length;qe++)Ce=ce($,Z[qe],le),Ce!==null&&(q=g(Ce,q,qe),rt===null?ke=Ce:rt.sibling=Ce,rt=Ce);return nt&&Ys($,qe),ke}for(Ce=c(Ce);qe<Z.length;qe++)Xe=re(Ce,$,qe,Z[qe],le),Xe!==null&&(i&&Xe.alternate!==null&&Ce.delete(Xe.key===null?qe:Xe.key),q=g(Xe,q,qe),rt===null?ke=Xe:rt.sibling=Xe,rt=Xe);return i&&Ce.forEach(function(na){return r($,na)}),nt&&Ys($,qe),ke}function De($,q,Z,le){if(Z==null)throw Error(s(151));for(var ke=null,rt=null,Ce=q,qe=q=0,Xe=null,at=Z.next();Ce!==null&&!at.done;qe++,at=Z.next()){Ce.index>qe?(Xe=Ce,Ce=null):Xe=Ce.sibling;var na=te($,Ce,at.value,le);if(na===null){Ce===null&&(Ce=Xe);break}i&&Ce&&na.alternate===null&&r($,Ce),q=g(na,q,qe),rt===null?ke=na:rt.sibling=na,rt=na,Ce=Xe}if(at.done)return o($,Ce),nt&&Ys($,qe),ke;if(Ce===null){for(;!at.done;qe++,at=Z.next())at=ce($,at.value,le),at!==null&&(q=g(at,q,qe),rt===null?ke=at:rt.sibling=at,rt=at);return nt&&Ys($,qe),ke}for(Ce=c(Ce);!at.done;qe++,at=Z.next())at=re(Ce,$,qe,at.value,le),at!==null&&(i&&at.alternate!==null&&Ce.delete(at.key===null?qe:at.key),q=g(at,q,qe),rt===null?ke=at:rt.sibling=at,rt=at);return i&&Ce.forEach(function(dN){return r($,dN)}),nt&&Ys($,qe),ke}function bt($,q,Z,le){if(typeof Z=="object"&&Z!==null&&Z.type===j&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:e:{for(var ke=Z.key;q!==null;){if(q.key===ke){if(ke=Z.type,ke===j){if(q.tag===7){o($,q.sibling),le=m(q,Z.props.children),le.return=$,$=le;break e}}else if(q.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===S&&Wa(ke)===q.type){o($,q.sibling),le=m(q,Z.props),xc(le,Z),le.return=$,$=le;break e}o($,q);break}else r($,q);q=q.sibling}Z.type===j?(le=Ga(Z.props.children,$.mode,le,Z.key),le.return=$,$=le):(le=Ch(Z.type,Z.key,Z.props,null,$.mode,le),xc(le,Z),le.return=$,$=le)}return w($);case D:e:{for(ke=Z.key;q!==null;){if(q.key===ke)if(q.tag===4&&q.stateNode.containerInfo===Z.containerInfo&&q.stateNode.implementation===Z.implementation){o($,q.sibling),le=m(q,Z.children||[]),le.return=$,$=le;break e}else{o($,q);break}else r($,q);q=q.sibling}le=km(Z,$.mode,le),le.return=$,$=le}return w($);case S:return Z=Wa(Z),bt($,q,Z,le)}if(he(Z))return Te($,q,Z,le);if(P(Z)){if(ke=P(Z),typeof ke!="function")throw Error(s(150));return Z=ke.call(Z),De($,q,Z,le)}if(typeof Z.then=="function")return bt($,q,Vh(Z),le);if(Z.$$typeof===Y)return bt($,q,Nh($,Z),le);Ph($,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,q!==null&&q.tag===6?(o($,q.sibling),le=m(q,Z),le.return=$,$=le):(o($,q),le=Nm(Z,$.mode,le),le.return=$,$=le),w($)):o($,q)}return function($,q,Z,le){try{wc=0;var ke=bt($,q,Z,le);return Yo=null,ke}catch(Ce){if(Ce===Ko||Ce===Dh)throw Ce;var rt=di(29,Ce,null,$.mode);return rt.lanes=le,rt.return=$,rt}}}var Za=bb(!0),_b=bb(!1),Ur=!1;function qm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function zr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Br(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(ct&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=Ah(i),ib(i,null,o),r}return Sh(i,c,r,o),Ah(i)}function Tc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Fs(i,o)}}function Gm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var $m=!1;function Ec(){if($m){var i=$o;if(i!==null)throw i}}function Sc(i,r,o,c){$m=!1;var m=i.updateQueue;Ur=!1;var g=m.firstBaseUpdate,w=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var L=A,J=L.next;L.next=null,w===null?g=J:w.next=J,w=L;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,A=oe.lastBaseUpdate,A!==w&&(A===null?oe.firstBaseUpdate=J:A.next=J,oe.lastBaseUpdate=L))}if(g!==null){var ce=m.baseState;w=0,oe=J=L=null,A=g;do{var te=A.lane&-536870913,re=te!==A.lane;if(re?(We&te)===te:(c&te)===te){te!==0&&te===Go&&($m=!0),oe!==null&&(oe=oe.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Te=i,De=A;te=r;var bt=o;switch(De.tag){case 1:if(Te=De.payload,typeof Te=="function"){ce=Te.call(bt,ce,te);break e}ce=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=De.payload,te=typeof Te=="function"?Te.call(bt,ce,te):Te,te==null)break e;ce=b({},ce,te);break e;case 2:Ur=!0}}te=A.callback,te!==null&&(i.flags|=64,re&&(i.flags|=8192),re=m.callbacks,re===null?m.callbacks=[te]:re.push(te))}else re={lane:te,tag:A.tag,payload:A.payload,callback:A.callback,next:null},oe===null?(J=oe=re,L=ce):oe=oe.next=re,w|=te;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;re=A,A=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);oe===null&&(L=ce),m.baseState=L,m.firstBaseUpdate=J,m.lastBaseUpdate=oe,g===null&&(m.shared.lanes=0),$r|=w,i.lanes=w,i.memoizedState=ce}}function wb(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function xb(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)wb(o[i],r)}var Qo=E(null),Oh=E(0);function Tb(i,r){i=rr,ee(Oh,i),ee(Qo,r),rr=i|r.baseLanes}function Km(){ee(Oh,rr),ee(Qo,Qo.current)}function Ym(){rr=Oh.current,F(Qo),F(Oh)}var mi=E(null),Mi=null;function Fr(i){var r=i.alternate;ee($t,$t.current&1),ee(mi,i),Mi===null&&(r===null||Qo.current!==null||r.memoizedState!==null)&&(Mi=i)}function Qm(i){ee($t,$t.current),ee(mi,i),Mi===null&&(Mi=i)}function Eb(i){i.tag===22?(ee($t,$t.current),ee(mi,i),Mi===null&&(Mi=i)):qr()}function qr(){ee($t,$t.current),ee(mi,mi.current)}function pi(i){F(mi),Mi===i&&(Mi=null),F($t)}var $t=E(0);function jh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||tg(o)||ng(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Xs=0,Be=null,yt=null,nn=null,Lh=!1,Wo=!1,Ja=!1,Uh=0,Ac=0,Xo=null,iI=0;function Ut(){throw Error(s(321))}function Wm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!fi(i[o],r[o]))return!1;return!0}function Xm(i,r,o,c,m,g){return Xs=g,Be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,B.H=i===null||i.memoizedState===null?o_:fp,Ja=!1,g=o(c,m),Ja=!1,Wo&&(g=Ab(r,o,c,m)),Sb(i),g}function Sb(i){B.H=Ic;var r=yt!==null&&yt.next!==null;if(Xs=0,nn=yt=Be=null,Lh=!1,Ac=0,Xo=null,r)throw Error(s(300));i===null||sn||(i=i.dependencies,i!==null&&Ih(i)&&(sn=!0))}function Ab(i,r,o,c){Be=i;var m=0;do{if(Wo&&(Xo=null),Ac=0,Wo=!1,25<=m)throw Error(s(301));if(m+=1,nn=yt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}B.H=l_,g=r(o,c)}while(Wo);return g}function sI(){var i=B.H,r=i.useState()[0];return r=typeof r.then=="function"?Cc(r):r,i=i.useState()[0],(yt!==null?yt.memoizedState:null)!==i&&(Be.flags|=1024),r}function Zm(){var i=Uh!==0;return Uh=0,i}function Jm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function ep(i){if(Lh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Lh=!1}Xs=0,nn=yt=Be=null,Wo=!1,Ac=Uh=0,Xo=null}function zn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Be.memoizedState=nn=i:nn=nn.next=i,nn}function Kt(){if(yt===null){var i=Be.alternate;i=i!==null?i.memoizedState:null}else i=yt.next;var r=nn===null?Be.memoizedState:nn.next;if(r!==null)nn=r,yt=i;else{if(i===null)throw Be.alternate===null?Error(s(467)):Error(s(310));yt=i,i={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},nn===null?Be.memoizedState=nn=i:nn=nn.next=i}return nn}function zh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cc(i){var r=Ac;return Ac+=1,Xo===null&&(Xo=[]),i=gb(Xo,i,r),r=Be,(nn===null?r.memoizedState:nn.next)===null&&(r=r.alternate,B.H=r===null||r.memoizedState===null?o_:fp),i}function Bh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Cc(i);if(i.$$typeof===Y)return En(i)}throw Error(s(438,String(i)))}function tp(i){var r=null,o=Be.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=zh(),Be.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=z;return r.index++,o}function Zs(i,r){return typeof r=="function"?r(i):r}function Fh(i){var r=Kt();return np(r,yt,i)}function np(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var w=m.next;m.next=g.next,g.next=w}r.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{r=m.next;var A=w=null,L=null,J=r,oe=!1;do{var ce=J.lane&-536870913;if(ce!==J.lane?(We&ce)===ce:(Xs&ce)===ce){var te=J.revertLane;if(te===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ce===Go&&(oe=!0);else if((Xs&te)===te){J=J.next,te===Go&&(oe=!0);continue}else ce={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},L===null?(A=L=ce,w=g):L=L.next=ce,Be.lanes|=te,$r|=te;ce=J.action,Ja&&o(g,ce),g=J.hasEagerState?J.eagerState:o(g,ce)}else te={lane:ce,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},L===null?(A=L=te,w=g):L=L.next=te,Be.lanes|=ce,$r|=ce;J=J.next}while(J!==null&&J!==r);if(L===null?w=g:L.next=A,!fi(g,i.memoizedState)&&(sn=!0,oe&&(o=$o,o!==null)))throw o;i.memoizedState=g,i.baseState=w,i.baseQueue=L,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function ip(i){var r=Kt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do g=i(g,w.action),w=w.next;while(w!==m);fi(g,r.memoizedState)||(sn=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function Cb(i,r,o){var c=Be,m=Kt(),g=nt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var w=!fi((yt||m).memoizedState,o);if(w&&(m.memoizedState=o,sn=!0),m=m.queue,ap(Nb.bind(null,c,m,i),[i]),m.getSnapshot!==r||w||nn!==null&&nn.memoizedState.tag&1){if(c.flags|=2048,Zo(9,{destroy:void 0},Ib.bind(null,c,m,o,r),null),wt===null)throw Error(s(349));g||(Xs&127)!==0||Rb(c,r,o)}return o}function Rb(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Be.updateQueue,r===null?(r=zh(),Be.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Ib(i,r,o,c){r.value=o,r.getSnapshot=c,kb(r)&&Db(i)}function Nb(i,r,o){return o(function(){kb(r)&&Db(i)})}function kb(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!fi(i,o)}catch{return!0}}function Db(i){var r=Ha(i,2);r!==null&&ti(r,i,2)}function sp(i){var r=zn();if(typeof i=="function"){var o=i;if(i=o(),Ja){jn(!0);try{o()}finally{jn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:i},r}function Mb(i,r,o,c){return i.baseState=o,np(i,yt,typeof c=="function"?c:Zs)}function rI(i,r,o,c,m){if(Gh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};B.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,Vb(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Vb(i,r){var o=r.action,c=r.payload,m=i.state;if(r.isTransition){var g=B.T,w={};B.T=w;try{var A=o(m,c),L=B.S;L!==null&&L(w,A),Pb(i,r,A)}catch(J){rp(i,r,J)}finally{g!==null&&w.types!==null&&(g.types=w.types),B.T=g}}else try{g=o(m,c),Pb(i,r,g)}catch(J){rp(i,r,J)}}function Pb(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Ob(i,r,c)},function(c){return rp(i,r,c)}):Ob(i,r,o)}function Ob(i,r,o){r.status="fulfilled",r.value=o,jb(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Vb(i,o)))}function rp(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,jb(r),r=r.next;while(r!==c)}i.action=null}function jb(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Lb(i,r){return r}function Ub(i,r){if(nt){var o=wt.formState;if(o!==null){e:{var c=Be;if(nt){if(St){t:{for(var m=St,g=Di;m.nodeType!==8;){if(!g){m=null;break t}if(m=Vi(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){St=Vi(m.nextSibling),c=m.data==="F!";break e}}jr(c)}c=!1}c&&(r=o[0])}}return o=zn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lb,lastRenderedState:r},o.queue=c,o=s_.bind(null,Be,c),c.dispatch=o,c=sp(!1),g=hp.bind(null,Be,!1,c.queue),c=zn(),m={state:r,dispatch:null,action:i,pending:null},c.queue=m,o=rI.bind(null,Be,m,g,o),m.dispatch=o,c.memoizedState=i,[r,o,!1]}function zb(i){var r=Kt();return Bb(r,yt,i)}function Bb(i,r,o){if(r=np(i,r,Lb)[0],i=Fh(Zs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Cc(r)}catch(w){throw w===Ko?Dh:w}else c=r;r=Kt();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(Be.flags|=2048,Zo(9,{destroy:void 0},aI.bind(null,m,o),null)),[c,g,i]}function aI(i,r){i.action=r}function Fb(i){var r=Kt(),o=yt;if(o!==null)return Bb(r,o,i);Kt(),r=r.memoizedState,o=Kt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Zo(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Be.updateQueue,r===null&&(r=zh(),Be.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function qb(){return Kt().memoizedState}function qh(i,r,o,c){var m=zn();Be.flags|=i,m.memoizedState=Zo(1|r,{destroy:void 0},o,c===void 0?null:c)}function Hh(i,r,o,c){var m=Kt();c=c===void 0?null:c;var g=m.memoizedState.inst;yt!==null&&c!==null&&Wm(c,yt.memoizedState.deps)?m.memoizedState=Zo(r,g,o,c):(Be.flags|=i,m.memoizedState=Zo(1|r,g,o,c))}function Hb(i,r){qh(8390656,8,i,r)}function ap(i,r){Hh(2048,8,i,r)}function oI(i){Be.flags|=4;var r=Be.updateQueue;if(r===null)r=zh(),Be.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function Gb(i){var r=Kt().memoizedState;return oI({ref:r,nextImpl:i}),function(){if((ct&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function $b(i,r){return Hh(4,2,i,r)}function Kb(i,r){return Hh(4,4,i,r)}function Yb(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Qb(i,r,o){o=o!=null?o.concat([i]):null,Hh(4,4,Yb.bind(null,r,i),o)}function op(){}function Wb(i,r){var o=Kt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Wm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function Xb(i,r){var o=Kt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Wm(r,c[1]))return c[0];if(c=i(),Ja){jn(!0);try{i()}finally{jn(!1)}}return o.memoizedState=[c,r],c}function lp(i,r,o){return o===void 0||(Xs&1073741824)!==0&&(We&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Z_(),Be.lanes|=i,$r|=i,o)}function Zb(i,r,o,c){return fi(o,r)?o:Qo.current!==null?(i=lp(i,o,c),fi(i,r)||(sn=!0),i):(Xs&42)===0||(Xs&1073741824)!==0&&(We&261930)===0?(sn=!0,i.memoizedState=o):(i=Z_(),Be.lanes|=i,$r|=i,r)}function Jb(i,r,o,c,m){var g=H.p;H.p=g!==0&&8>g?g:8;var w=B.T,A={};B.T=A,hp(i,!1,r,o);try{var L=m(),J=B.S;if(J!==null&&J(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var oe=nI(L,c);Rc(i,r,oe,vi(i))}else Rc(i,r,c,vi(i))}catch(ce){Rc(i,r,{then:function(){},status:"rejected",reason:ce},vi())}finally{H.p=g,w!==null&&A.types!==null&&(w.types=A.types),B.T=w}}function lI(){}function cp(i,r,o,c){if(i.tag!==5)throw Error(s(476));var m=e_(i).queue;Jb(i,m,r,K,o===null?lI:function(){return t_(i),o(c)})}function e_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:K},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function t_(i){var r=e_(i);r.next===null&&(r=i.alternate.memoizedState),Rc(i,r.next.queue,{},vi())}function up(){return En(Gc)}function n_(){return Kt().memoizedState}function i_(){return Kt().memoizedState}function cI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=vi();i=zr(o);var c=Br(r,i,o);c!==null&&(ti(c,r,o),Tc(c,r,o)),r={cache:Um()},i.payload=r;return}r=r.return}}function uI(i,r,o){var c=vi();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gh(i)?r_(r,o):(o=Rm(i,r,o,c),o!==null&&(ti(o,i,c),a_(o,r,c)))}function s_(i,r,o){var c=vi();Rc(i,r,o,c)}function Rc(i,r,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Gh(i))r_(r,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var w=r.lastRenderedState,A=g(w,o);if(m.hasEagerState=!0,m.eagerState=A,fi(A,w))return Sh(i,r,m,0),wt===null&&Eh(),!1}catch{}if(o=Rm(i,r,m,c),o!==null)return ti(o,i,c),a_(o,r,c),!0}return!1}function hp(i,r,o,c){if(c={lane:2,revertLane:qp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Gh(i)){if(r)throw Error(s(479))}else r=Rm(i,o,c,2),r!==null&&ti(r,i,2)}function Gh(i){var r=i.alternate;return i===Be||r!==null&&r===Be}function r_(i,r){Wo=Lh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function a_(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Fs(i,o)}}var Ic={readContext:En,use:Bh,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut};Ic.useEffectEvent=Ut;var o_={readContext:En,use:Bh,useCallback:function(i,r){return zn().memoizedState=[i,r===void 0?null:r],i},useContext:En,useEffect:Hb,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,qh(4194308,4,Yb.bind(null,r,i),o)},useLayoutEffect:function(i,r){return qh(4194308,4,i,r)},useInsertionEffect:function(i,r){qh(4,2,i,r)},useMemo:function(i,r){var o=zn();r=r===void 0?null:r;var c=i();if(Ja){jn(!0);try{i()}finally{jn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=zn();if(o!==void 0){var m=o(r);if(Ja){jn(!0);try{o(r)}finally{jn(!1)}}}else m=r;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=uI.bind(null,Be,i),[c.memoizedState,i]},useRef:function(i){var r=zn();return i={current:i},r.memoizedState=i},useState:function(i){i=sp(i);var r=i.queue,o=s_.bind(null,Be,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:op,useDeferredValue:function(i,r){var o=zn();return lp(o,i,r)},useTransition:function(){var i=sp(!1);return i=Jb.bind(null,Be,i.queue,!0,!1),zn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Be,m=zn();if(nt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),wt===null)throw Error(s(349));(We&127)!==0||Rb(c,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,Hb(Nb.bind(null,c,g,i),[i]),c.flags|=2048,Zo(9,{destroy:void 0},Ib.bind(null,c,g,o,r),null),o},useId:function(){var i=zn(),r=wt.identifierPrefix;if(nt){var o=xs,c=ws;o=(c&~(1<<32-Pt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Uh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=iI++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:up,useFormState:Ub,useActionState:Ub,useOptimistic:function(i){var r=zn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=hp.bind(null,Be,!0,o),o.dispatch=r,[i,r]},useMemoCache:tp,useCacheRefresh:function(){return zn().memoizedState=cI.bind(null,Be)},useEffectEvent:function(i){var r=zn(),o={impl:i};return r.memoizedState=o,function(){if((ct&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},fp={readContext:En,use:Bh,useCallback:Wb,useContext:En,useEffect:ap,useImperativeHandle:Qb,useInsertionEffect:$b,useLayoutEffect:Kb,useMemo:Xb,useReducer:Fh,useRef:qb,useState:function(){return Fh(Zs)},useDebugValue:op,useDeferredValue:function(i,r){var o=Kt();return Zb(o,yt.memoizedState,i,r)},useTransition:function(){var i=Fh(Zs)[0],r=Kt().memoizedState;return[typeof i=="boolean"?i:Cc(i),r]},useSyncExternalStore:Cb,useId:n_,useHostTransitionStatus:up,useFormState:zb,useActionState:zb,useOptimistic:function(i,r){var o=Kt();return Mb(o,yt,i,r)},useMemoCache:tp,useCacheRefresh:i_};fp.useEffectEvent=Gb;var l_={readContext:En,use:Bh,useCallback:Wb,useContext:En,useEffect:ap,useImperativeHandle:Qb,useInsertionEffect:$b,useLayoutEffect:Kb,useMemo:Xb,useReducer:ip,useRef:qb,useState:function(){return ip(Zs)},useDebugValue:op,useDeferredValue:function(i,r){var o=Kt();return yt===null?lp(o,i,r):Zb(o,yt.memoizedState,i,r)},useTransition:function(){var i=ip(Zs)[0],r=Kt().memoizedState;return[typeof i=="boolean"?i:Cc(i),r]},useSyncExternalStore:Cb,useId:n_,useHostTransitionStatus:up,useFormState:Fb,useActionState:Fb,useOptimistic:function(i,r){var o=Kt();return yt!==null?Mb(o,yt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:tp,useCacheRefresh:i_};l_.useEffectEvent=Gb;function dp(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:b({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var mp={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=vi(),m=zr(c);m.payload=r,o!=null&&(m.callback=o),r=Br(i,m,c),r!==null&&(ti(r,i,c),Tc(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=vi(),m=zr(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Br(i,m,c),r!==null&&(ti(r,i,c),Tc(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=vi(),c=zr(o);c.tag=2,r!=null&&(c.callback=r),r=Br(i,c,o),r!==null&&(ti(r,i,o),Tc(r,i,o))}};function c_(i,r,o,c,m,g,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,w):r.prototype&&r.prototype.isPureReactComponent?!pc(o,c)||!pc(m,g):!0}function u_(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&mp.enqueueReplaceState(r,r.state,null)}function eo(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=b({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function h_(i){Th(i)}function f_(i){console.error(i)}function d_(i){Th(i)}function $h(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function m_(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function pp(i,r,o){return o=zr(o),o.tag=3,o.payload={element:null},o.callback=function(){$h(i,r)},o}function p_(i){return i=zr(i),i.tag=3,i}function g_(i,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){m_(r,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){m_(r,o,c),typeof m!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function hI(i,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Ho(r,o,m,!0),o=mi.current,o!==null){switch(o.tag){case 31:case 13:return Mi===null?rf():o.alternate===null&&zt===0&&(zt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Mh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),zp(i,c,m)),!1;case 22:return o.flags|=65536,c===Mh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),zp(i,c,m)),!1}throw Error(s(435,o.tag))}return zp(i,c,m),rf(),!1}if(nt)return r=mi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==Vm&&(i=Error(s(422),{cause:c}),vc(Ii(i,o)))):(c!==Vm&&(r=Error(s(423),{cause:c}),vc(Ii(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Ii(c,o),m=pp(i.stateNode,c,m),Gm(i,m),zt!==4&&(zt=2)),!1;var g=Error(s(520),{cause:c});if(g=Ii(g,o),jc===null?jc=[g]:jc.push(g),zt!==4&&(zt=2),r===null)return!0;c=Ii(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=pp(o.stateNode,c,i),Gm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Kr===null||!Kr.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=p_(m),g_(m,i,o,c),Gm(o,m),!1}o=o.return}while(o!==null);return!1}var gp=Error(s(461)),sn=!1;function Sn(i,r,o,c){r.child=i===null?_b(r,null,o,c):Za(r,i.child,o,c)}function y_(i,r,o,c,m){o=o.render;var g=r.ref;if("ref"in c){var w={};for(var A in c)A!=="ref"&&(w[A]=c[A])}else w=c;return Ya(r),c=Xm(i,r,o,w,g,m),A=Zm(),i!==null&&!sn?(Jm(i,r,m),Js(i,r,m)):(nt&&A&&Dm(r),r.flags|=1,Sn(i,r,c,m),r.child)}function v_(i,r,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!Im(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,b_(i,r,g,c,m)):(i=Ch(o.type,null,c,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Ep(i,m)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:pc,o(w,c)&&i.ref===r.ref)return Js(i,r,m)}return r.flags|=1,i=Ks(g,c),i.ref=r.ref,i.return=r,r.child=i}function b_(i,r,o,c,m){if(i!==null){var g=i.memoizedProps;if(pc(g,c)&&i.ref===r.ref)if(sn=!1,r.pendingProps=c=g,Ep(i,m))(i.flags&131072)!==0&&(sn=!0);else return r.lanes=i.lanes,Js(i,r,m)}return yp(i,r,o,c,m)}function __(i,r,o,c){var m=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,r.child=null;return w_(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&kh(r,g!==null?g.cachePool:null),g!==null?Tb(r,g):Km(),Eb(r);else return c=r.lanes=536870912,w_(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(kh(r,g.cachePool),Tb(r,g),qr(),r.memoizedState=null):(i!==null&&kh(r,null),Km(),qr());return Sn(i,r,m,o),r.child}function Nc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function w_(i,r,o,c,m){var g=Bm();return g=g===null?null:{parent:tn._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&kh(r,null),Km(),Eb(r),i!==null&&Ho(i,r,c,!0),r.childLanes=m,null}function Kh(i,r){return r=Qh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function x_(i,r,o){return Za(r,i.child,null,o),i=Kh(r,r.pendingProps),i.flags|=2,pi(r),r.memoizedState=null,i}function fI(i,r,o){var c=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(nt){if(c.mode==="hidden")return i=Kh(r,c),r.lanes=536870912,Nc(null,i);if(Qm(r),(i=St)?(i=Vw(i,Di),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Pr!==null?{id:ws,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},o=rb(i),o.return=r,r.child=o,Tn=r,St=null)):i=null,i===null)throw jr(r);return r.lanes=536870912,null}return Kh(r,c)}var g=i.memoizedState;if(g!==null){var w=g.dehydrated;if(Qm(r),m)if(r.flags&256)r.flags&=-257,r=x_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(sn||Ho(i,r,o,!1),m=(o&i.childLanes)!==0,sn||m){if(c=wt,c!==null&&(w=ka(c,o),w!==0&&w!==g.retryLane))throw g.retryLane=w,Ha(i,w),ti(c,i,w),gp;rf(),r=x_(i,r,o)}else i=g.treeContext,St=Vi(w.nextSibling),Tn=r,nt=!0,Or=null,Di=!1,i!==null&&lb(r,i),r=Kh(r,c),r.flags|=4096;return r}return i=Ks(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Yh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function yp(i,r,o,c,m){return Ya(r),o=Xm(i,r,o,c,void 0,m),c=Zm(),i!==null&&!sn?(Jm(i,r,m),Js(i,r,m)):(nt&&c&&Dm(r),r.flags|=1,Sn(i,r,o,m),r.child)}function T_(i,r,o,c,m,g){return Ya(r),r.updateQueue=null,o=Ab(r,c,o,m),Sb(i),c=Zm(),i!==null&&!sn?(Jm(i,r,g),Js(i,r,g)):(nt&&c&&Dm(r),r.flags|=1,Sn(i,r,o,g),r.child)}function E_(i,r,o,c,m){if(Ya(r),r.stateNode===null){var g=zo,w=o.contextType;typeof w=="object"&&w!==null&&(g=En(w)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=mp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},qm(r),w=o.contextType,g.context=typeof w=="object"&&w!==null?En(w):zo,g.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(dp(r,o,w,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&mp.enqueueReplaceState(g,g.state,null),Sc(r,c,g,m),Ec(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var A=r.memoizedProps,L=eo(o,A);g.props=L;var J=g.context,oe=o.contextType;w=zo,typeof oe=="object"&&oe!==null&&(w=En(oe));var ce=o.getDerivedStateFromProps;oe=typeof ce=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,oe||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||J!==w)&&u_(r,g,c,w),Ur=!1;var te=r.memoizedState;g.state=te,Sc(r,c,g,m),Ec(),J=r.memoizedState,A||te!==J||Ur?(typeof ce=="function"&&(dp(r,o,ce,c),J=r.memoizedState),(L=Ur||c_(r,o,L,c,te,J,w))?(oe||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=J),g.props=c,g.state=J,g.context=w,c=L):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Hm(i,r),w=r.memoizedProps,oe=eo(o,w),g.props=oe,ce=r.pendingProps,te=g.context,J=o.contextType,L=zo,typeof J=="object"&&J!==null&&(L=En(J)),A=o.getDerivedStateFromProps,(J=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==ce||te!==L)&&u_(r,g,c,L),Ur=!1,te=r.memoizedState,g.state=te,Sc(r,c,g,m),Ec();var re=r.memoizedState;w!==ce||te!==re||Ur||i!==null&&i.dependencies!==null&&Ih(i.dependencies)?(typeof A=="function"&&(dp(r,o,A,c),re=r.memoizedState),(oe=Ur||c_(r,o,oe,c,te,re,L)||i!==null&&i.dependencies!==null&&Ih(i.dependencies))?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,re,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,re,L)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&te===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&te===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=re),g.props=c,g.state=re,g.context=L,c=oe):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&te===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&te===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,Yh(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=Za(r,i.child,null,m),r.child=Za(r,null,o,m)):Sn(i,r,o,m),r.memoizedState=g.state,i=r.child):i=Js(i,r,m),i}function S_(i,r,o,c){return $a(),r.flags|=256,Sn(i,r,o,c),r.child}var vp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bp(i){return{baseLanes:i,cachePool:mb()}}function _p(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=yi),i}function A_(i,r,o){var c=r.pendingProps,m=!1,g=(r.flags&128)!==0,w;if((w=g)||(w=i!==null&&i.memoizedState===null?!1:($t.current&2)!==0),w&&(m=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,i===null){if(nt){if(m?Fr(r):qr(),(i=St)?(i=Vw(i,Di),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Pr!==null?{id:ws,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},o=rb(i),o.return=r,r.child=o,Tn=r,St=null)):i=null,i===null)throw jr(r);return ng(i)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,m?(qr(),m=r.mode,A=Qh({mode:"hidden",children:A},m),c=Ga(c,m,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=bp(o),c.childLanes=_p(i,w,o),r.memoizedState=vp,Nc(null,c)):(Fr(r),wp(r,A))}var L=i.memoizedState;if(L!==null&&(A=L.dehydrated,A!==null)){if(g)r.flags&256?(Fr(r),r.flags&=-257,r=xp(i,r,o)):r.memoizedState!==null?(qr(),r.child=i.child,r.flags|=128,r=null):(qr(),A=c.fallback,m=r.mode,c=Qh({mode:"visible",children:c.children},m),A=Ga(A,m,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,Za(r,i.child,null,o),c=r.child,c.memoizedState=bp(o),c.childLanes=_p(i,w,o),r.memoizedState=vp,r=Nc(null,c));else if(Fr(r),ng(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var J=w.dgst;w=J,c=Error(s(419)),c.stack="",c.digest=w,vc({value:c,source:null,stack:null}),r=xp(i,r,o)}else if(sn||Ho(i,r,o,!1),w=(o&i.childLanes)!==0,sn||w){if(w=wt,w!==null&&(c=ka(w,o),c!==0&&c!==L.retryLane))throw L.retryLane=c,Ha(i,c),ti(w,i,c),gp;tg(A)||rf(),r=xp(i,r,o)}else tg(A)?(r.flags|=192,r.child=i.child,r=null):(i=L.treeContext,St=Vi(A.nextSibling),Tn=r,nt=!0,Or=null,Di=!1,i!==null&&lb(r,i),r=wp(r,c.children),r.flags|=4096);return r}return m?(qr(),A=c.fallback,m=r.mode,L=i.child,J=L.sibling,c=Ks(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,J!==null?A=Ks(J,A):(A=Ga(A,m,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,Nc(null,c),c=r.child,A=i.child.memoizedState,A===null?A=bp(o):(m=A.cachePool,m!==null?(L=tn._currentValue,m=m.parent!==L?{parent:L,pool:L}:m):m=mb(),A={baseLanes:A.baseLanes|o,cachePool:m}),c.memoizedState=A,c.childLanes=_p(i,w,o),r.memoizedState=vp,Nc(i.child,c)):(Fr(r),o=i.child,i=o.sibling,o=Ks(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(w=r.deletions,w===null?(r.deletions=[i],r.flags|=16):w.push(i)),r.child=o,r.memoizedState=null,o)}function wp(i,r){return r=Qh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Qh(i,r){return i=di(22,i,null,r),i.lanes=0,i}function xp(i,r,o){return Za(r,i.child,null,o),i=wp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function C_(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),jm(i.return,r,o)}function Tp(i,r,o,c,m,g){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=o,w.tailMode=m,w.treeForkCount=g)}function R_(i,r,o){var c=r.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var w=$t.current,A=(w&2)!==0;if(A?(w=w&1|2,r.flags|=128):w&=1,ee($t,w),Sn(i,r,c,o),c=nt?yc:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&C_(i,o,r);else if(i.tag===19)C_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&jh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),Tp(r,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&jh(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Tp(r,!0,o,null,g,c);break;case"together":Tp(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Js(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),$r|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Ho(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Ks(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Ks(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Ep(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Ih(i)))}function dI(i,r,o){switch(r.tag){case 3:Ae(r,r.stateNode.containerInfo),Lr(r,tn,i.memoizedState.cache),$a();break;case 27:case 5:Ge(r);break;case 4:Ae(r,r.stateNode.containerInfo);break;case 10:Lr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Qm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Fr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?A_(i,r,o):(Fr(r),i=Js(i,r,o),i!==null?i.sibling:null);Fr(r);break;case 19:var m=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Ho(i,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return R_(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ee($t,$t.current),c)break;return null;case 22:return r.lanes=0,__(i,r,o,r.pendingProps);case 24:Lr(r,tn,i.memoizedState.cache)}return Js(i,r,o)}function I_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)sn=!0;else{if(!Ep(i,o)&&(r.flags&128)===0)return sn=!1,dI(i,r,o);sn=(i.flags&131072)!==0}else sn=!1,nt&&(r.flags&1048576)!==0&&ob(r,yc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Wa(r.elementType),r.type=i,typeof i=="function")Im(i)?(c=eo(i,c),r.tag=1,r=E_(null,r,i,c,o)):(r.tag=0,r=yp(null,r,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===de){r.tag=11,r=y_(null,r,i,c,o);break e}else if(m===k){r.tag=14,r=v_(null,r,i,c,o);break e}}throw r=be(i)||i,Error(s(306,r,""))}}return r;case 0:return yp(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=eo(c,r.pendingProps),E_(i,r,c,m,o);case 3:e:{if(Ae(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;m=g.element,Hm(i,r),Sc(r,c,null,o);var w=r.memoizedState;if(c=w.cache,Lr(r,tn,c),c!==g.cache&&Lm(r,[tn],o,!0),Ec(),c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=S_(i,r,c,o);break e}else if(c!==m){m=Ii(Error(s(424)),r),vc(m),r=S_(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,St=Vi(i.firstChild),Tn=r,nt=!0,Or=null,Di=!0,o=_b(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if($a(),c===m){r=Js(i,r,o);break e}Sn(i,r,c,o)}r=r.child}return r;case 26:return Yh(i,r),i===null?(o=zw(r.type,null,r.pendingProps,null))?r.memoizedState=o:nt||(o=r.type,i=r.pendingProps,c=ff(ye.current).createElement(o),c[qt]=r,c[Ht]=i,An(c,o,i),Jt(c),r.stateNode=c):r.memoizedState=zw(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ge(r),i===null&&nt&&(c=r.stateNode=jw(r.type,r.pendingProps,ye.current),Tn=r,Di=!0,m=St,Xr(r.type)?(ig=m,St=Vi(c.firstChild)):St=m),Sn(i,r,r.pendingProps.children,o),Yh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&nt&&((m=c=St)&&(c=qI(c,r.type,r.pendingProps,Di),c!==null?(r.stateNode=c,Tn=r,St=Vi(c.firstChild),Di=!1,m=!0):m=!1),m||jr(r)),Ge(r),m=r.type,g=r.pendingProps,w=i!==null?i.memoizedProps:null,c=g.children,Zp(m,g)?c=null:w!==null&&Zp(m,w)&&(r.flags|=32),r.memoizedState!==null&&(m=Xm(i,r,sI,null,null,o),Gc._currentValue=m),Yh(i,r),Sn(i,r,c,o),r.child;case 6:return i===null&&nt&&((i=o=St)&&(o=HI(o,r.pendingProps,Di),o!==null?(r.stateNode=o,Tn=r,St=null,i=!0):i=!1),i||jr(r)),null;case 13:return A_(i,r,o);case 4:return Ae(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Za(r,null,c,o):Sn(i,r,c,o),r.child;case 11:return y_(i,r,r.type,r.pendingProps,o);case 7:return Sn(i,r,r.pendingProps,o),r.child;case 8:return Sn(i,r,r.pendingProps.children,o),r.child;case 12:return Sn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Lr(r,r.type,c.value),Sn(i,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,Ya(r),m=En(m),c=c(m),r.flags|=1,Sn(i,r,c,o),r.child;case 14:return v_(i,r,r.type,r.pendingProps,o);case 15:return b_(i,r,r.type,r.pendingProps,o);case 19:return R_(i,r,o);case 31:return fI(i,r,o);case 22:return __(i,r,o,r.pendingProps);case 24:return Ya(r),c=En(tn),i===null?(m=Bm(),m===null&&(m=wt,g=Um(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:c,cache:m},qm(r),Lr(r,tn,m)):((i.lanes&o)!==0&&(Hm(i,r),Sc(r,null,null,o),Ec()),m=i.memoizedState,g=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Lr(r,tn,c)):(c=g.cache,Lr(r,tn,c),c!==m.cache&&Lm(r,[tn],o,!0))),Sn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function er(i){i.flags|=4}function Sp(i,r,o,c,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(nw())i.flags|=8192;else throw Xa=Mh,Fm}else i.flags&=-16777217}function N_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Gw(r))if(nw())i.flags|=8192;else throw Xa=Mh,Fm}function Wh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?So():536870912,i.lanes|=r,nl|=r)}function kc(i,r){if(!nt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function At(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function mI(i,r,o){var c=r.pendingProps;switch(Mm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(r),null;case 1:return At(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Ws(tn),Re(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(qo(r)?er(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Pm())),At(r),null;case 26:var m=r.type,g=r.memoizedState;return i===null?(er(r),g!==null?(At(r),N_(r,g)):(At(r),Sp(r,m,null,c,o))):g?g!==i.memoizedState?(er(r),At(r),N_(r,g)):(At(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&er(r),At(r),Sp(r,m,i,c,o)),null;case 27:if($e(r),o=ye.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&er(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return At(r),null}i=ie.current,qo(r)?cb(r):(i=jw(m,c,o),r.stateNode=i,er(r))}return At(r),null;case 5:if($e(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&er(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return At(r),null}if(g=ie.current,qo(r))cb(r);else{var w=ff(ye.current);switch(g){case 1:g=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=w.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?w.createElement(m,{is:c.is}):w.createElement(m)}}g[qt]=r,g[Ht]=c;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)g.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=g;e:switch(An(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&er(r)}}return At(r),Sp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&er(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=ye.current,qo(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,m=Tn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[qt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Aw(i.nodeValue,o)),i||jr(r,!0)}else i=ff(i).createTextNode(c),i[qt]=r,r.stateNode=i}return At(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=qo(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[qt]=r}else $a(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;At(r),i=!1}else o=Pm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(pi(r),r):(pi(r),null);if((r.flags&128)!==0)throw Error(s(558))}return At(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=qo(r),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[qt]=r}else $a(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;At(r),m=!1}else m=Pm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(pi(r),r):(pi(r),null)}return pi(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Wh(r,r.updateQueue),At(r),null);case 4:return Re(),i===null&&Kp(r.stateNode.containerInfo),At(r),null;case 10:return Ws(r.type),At(r),null;case 19:if(F($t),c=r.memoizedState,c===null)return At(r),null;if(m=(r.flags&128)!==0,g=c.rendering,g===null)if(m)kc(c,!1);else{if(zt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=jh(i),g!==null){for(r.flags|=128,kc(c,!1),i=g.updateQueue,r.updateQueue=i,Wh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)sb(o,i),o=o.sibling;return ee($t,$t.current&1|2),nt&&Ys(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&Wt()>tf&&(r.flags|=128,m=!0,kc(c,!1),r.lanes=4194304)}else{if(!m)if(i=jh(g),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,Wh(r,i),kc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!nt)return At(r),null}else 2*Wt()-c.renderingStartTime>tf&&o!==536870912&&(r.flags|=128,m=!0,kc(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Wt(),i.sibling=null,o=$t.current,ee($t,m?o&1|2:o&1),nt&&Ys(r,c.treeForkCount),i):(At(r),null);case 22:case 23:return pi(r),Ym(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(At(r),r.subtreeFlags&6&&(r.flags|=8192)):At(r),o=r.updateQueue,o!==null&&Wh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&F(Qa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ws(tn),At(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function pI(i,r){switch(Mm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ws(tn),Re(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return $e(r),null;case 31:if(r.memoizedState!==null){if(pi(r),r.alternate===null)throw Error(s(340));$a()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(pi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));$a()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return F($t),null;case 4:return Re(),null;case 10:return Ws(r.type),null;case 22:case 23:return pi(r),Ym(),i!==null&&F(Qa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ws(tn),null;case 25:return null;default:return null}}function k_(i,r){switch(Mm(r),r.tag){case 3:Ws(tn),Re();break;case 26:case 27:case 5:$e(r);break;case 4:Re();break;case 31:r.memoizedState!==null&&pi(r);break;case 13:pi(r);break;case 19:F($t);break;case 10:Ws(r.type);break;case 22:case 23:pi(r),Ym(),i!==null&&F(Qa);break;case 24:Ws(tn)}}function Dc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,w=o.inst;c=g(),w.destroy=c}o=o.next}while(o!==m)}}catch(A){pt(r,r.return,A)}}function Hr(i,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var w=c.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,m=r;var L=o,J=A;try{J()}catch(oe){pt(m,L,oe)}}}c=c.next}while(c!==g)}}catch(oe){pt(r,r.return,oe)}}function D_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{xb(r,o)}catch(c){pt(i,i.return,c)}}}function M_(i,r,o){o.props=eo(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){pt(i,r,c)}}function Mc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){pt(i,r,m)}}function Ts(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){pt(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){pt(i,r,m)}else o.current=null}function V_(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){pt(i,i.return,m)}}function Ap(i,r,o){try{var c=i.stateNode;jI(c,i.type,o,r),c[Ht]=r}catch(m){pt(i,i.return,m)}}function P_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Xr(i.type)||i.tag===4}function Cp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||P_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Xr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Rp(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=$i));else if(c!==4&&(c===27&&Xr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Rp(i,r,o),i=i.sibling;i!==null;)Rp(i,r,o),i=i.sibling}function Xh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Xr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Xh(i,r,o),i=i.sibling;i!==null;)Xh(i,r,o),i=i.sibling}function O_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);An(r,c,o),r[qt]=i,r[Ht]=o}catch(g){pt(i,i.return,g)}}var tr=!1,rn=!1,Ip=!1,j_=typeof WeakSet=="function"?WeakSet:Set,yn=null;function gI(i,r){if(i=i.containerInfo,Wp=bf,i=Qv(i),xm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,A=-1,L=-1,J=0,oe=0,ce=i,te=null;t:for(;;){for(var re;ce!==o||m!==0&&ce.nodeType!==3||(A=w+m),ce!==g||c!==0&&ce.nodeType!==3||(L=w+c),ce.nodeType===3&&(w+=ce.nodeValue.length),(re=ce.firstChild)!==null;)te=ce,ce=re;for(;;){if(ce===i)break t;if(te===o&&++J===m&&(A=w),te===g&&++oe===c&&(L=w),(re=ce.nextSibling)!==null)break;ce=te,te=ce.parentNode}ce=re}o=A===-1||L===-1?null:{start:A,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(Xp={focusedElem:i,selectionRange:o},bf=!1,yn=r;yn!==null;)if(r=yn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,yn=i;else for(;yn!==null;){switch(r=yn,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Te=eo(o.type,m);i=c.getSnapshotBeforeUpdate(Te,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(De){pt(o,o.return,De)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)eg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":eg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,yn=i;break}yn=r.return}}function L_(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ir(i,o),c&4&&Dc(5,o);break;case 1:if(ir(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(w){pt(o,o.return,w)}else{var m=eo(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(w){pt(o,o.return,w)}}c&64&&D_(o),c&512&&Mc(o,o.return);break;case 3:if(ir(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{xb(i,r)}catch(w){pt(o,o.return,w)}}break;case 27:r===null&&c&4&&O_(o);case 26:case 5:ir(i,o),r===null&&c&4&&V_(o),c&512&&Mc(o,o.return);break;case 12:ir(i,o);break;case 31:ir(i,o),c&4&&B_(i,o);break;case 13:ir(i,o),c&4&&F_(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=SI.bind(null,o),GI(i,o))));break;case 22:if(c=o.memoizedState!==null||tr,!c){r=r!==null&&r.memoizedState!==null||rn,m=tr;var g=rn;tr=c,(rn=r)&&!g?sr(i,o,(o.subtreeFlags&8772)!==0):ir(i,o),tr=m,rn=g}break;case 30:break;default:ir(i,o)}}function U_(i){var r=i.alternate;r!==null&&(i.alternate=null,U_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Rt(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var kt=null,Xn=!1;function nr(i,r,o){for(o=o.child;o!==null;)z_(i,r,o),o=o.sibling}function z_(i,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(un,o)}catch{}switch(o.tag){case 26:rn||Ts(o,r),nr(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:rn||Ts(o,r);var c=kt,m=Xn;Xr(o.type)&&(kt=o.stateNode,Xn=!1),nr(i,r,o),Fc(o.stateNode),kt=c,Xn=m;break;case 5:rn||Ts(o,r);case 6:if(c=kt,m=Xn,kt=null,nr(i,r,o),kt=c,Xn=m,kt!==null)if(Xn)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(o.stateNode)}catch(g){pt(o,r,g)}else try{kt.removeChild(o.stateNode)}catch(g){pt(o,r,g)}break;case 18:kt!==null&&(Xn?(i=kt,Dw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),ul(i)):Dw(kt,o.stateNode));break;case 4:c=kt,m=Xn,kt=o.stateNode.containerInfo,Xn=!0,nr(i,r,o),kt=c,Xn=m;break;case 0:case 11:case 14:case 15:Hr(2,o,r),rn||Hr(4,o,r),nr(i,r,o);break;case 1:rn||(Ts(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&M_(o,r,c)),nr(i,r,o);break;case 21:nr(i,r,o);break;case 22:rn=(c=rn)||o.memoizedState!==null,nr(i,r,o),rn=c;break;default:nr(i,r,o)}}function B_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ul(i)}catch(o){pt(r,r.return,o)}}}function F_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ul(i)}catch(o){pt(r,r.return,o)}}function yI(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new j_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new j_),r;default:throw Error(s(435,i.tag))}}function Zh(i,r){var o=yI(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var m=AI.bind(null,i,c);c.then(m,m)}})}function Zn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,w=r,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(Xr(A.type)){kt=A.stateNode,Xn=!1;break e}break;case 5:kt=A.stateNode,Xn=!1;break e;case 3:case 4:kt=A.stateNode.containerInfo,Xn=!0;break e}A=A.return}if(kt===null)throw Error(s(160));z_(g,w,m),kt=null,Xn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)q_(r,i),r=r.sibling}var Zi=null;function q_(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Zn(r,i),Jn(i),c&4&&(Hr(3,i,i.return),Dc(3,i),Hr(5,i,i.return));break;case 1:Zn(r,i),Jn(i),c&512&&(rn||o===null||Ts(o,o.return)),c&64&&tr&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Zi;if(Zn(r,i),Jn(i),c&512&&(rn||o===null||Ts(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[ht]||g[qt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),An(g,c,o),g[qt]=i,Jt(g),c=g;break e;case"link":var w=qw("link","href",m).get(c+(o.href||""));if(w){for(var A=0;A<w.length;A++)if(g=w[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(A,1);break t}}g=m.createElement(c),An(g,c,o),m.head.appendChild(g);break;case"meta":if(w=qw("meta","content",m).get(c+(o.content||""))){for(A=0;A<w.length;A++)if(g=w[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(A,1);break t}}g=m.createElement(c),An(g,c,o),m.head.appendChild(g);break;default:throw Error(s(468,c))}g[qt]=i,Jt(g),c=g}i.stateNode=c}else Hw(m,i.type,i.stateNode);else i.stateNode=Fw(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Hw(m,i.type,i.stateNode):Fw(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Ap(i,i.memoizedProps,o.memoizedProps)}break;case 27:Zn(r,i),Jn(i),c&512&&(rn||o===null||Ts(o,o.return)),o!==null&&c&4&&Ap(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Zn(r,i),Jn(i),c&512&&(rn||o===null||Ts(o,o.return)),i.flags&32){m=i.stateNode;try{Wn(m,"")}catch(Te){pt(i,i.return,Te)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Ap(i,m,o!==null?o.memoizedProps:m)),c&1024&&(Ip=!0);break;case 6:if(Zn(r,i),Jn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(Te){pt(i,i.return,Te)}}break;case 3:if(pf=null,m=Zi,Zi=df(r.containerInfo),Zn(r,i),Zi=m,Jn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ul(r.containerInfo)}catch(Te){pt(i,i.return,Te)}Ip&&(Ip=!1,H_(i));break;case 4:c=Zi,Zi=df(i.stateNode.containerInfo),Zn(r,i),Jn(i),Zi=c;break;case 12:Zn(r,i),Jn(i);break;case 31:Zn(r,i),Jn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Zh(i,c)));break;case 13:Zn(r,i),Jn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ef=Wt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Zh(i,c)));break;case 22:m=i.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,J=tr,oe=rn;if(tr=J||m,rn=oe||L,Zn(r,i),rn=oe,tr=J,Jn(i),c&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||L||tr||rn||to(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){L=o=r;try{if(g=L.stateNode,m)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=L.stateNode;var ce=L.memoizedProps.style,te=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;A.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Te){pt(L,L.return,Te)}}}else if(r.tag===6){if(o===null){L=r;try{L.stateNode.nodeValue=m?"":L.memoizedProps}catch(Te){pt(L,L.return,Te)}}}else if(r.tag===18){if(o===null){L=r;try{var re=L.stateNode;m?Mw(re,!0):Mw(L.stateNode,!1)}catch(Te){pt(L,L.return,Te)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Zh(i,o))));break;case 19:Zn(r,i),Jn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Zh(i,c)));break;case 30:break;case 21:break;default:Zn(r,i),Jn(i)}}function Jn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(P_(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,g=Cp(i);Xh(i,g,m);break;case 5:var w=o.stateNode;o.flags&32&&(Wn(w,""),o.flags&=-33);var A=Cp(i);Xh(i,A,w);break;case 3:case 4:var L=o.stateNode.containerInfo,J=Cp(i);Rp(i,J,L);break;default:throw Error(s(161))}}catch(oe){pt(i,i.return,oe)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function H_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;H_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ir(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)L_(i,r.alternate,r),r=r.sibling}function to(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Hr(4,r,r.return),to(r);break;case 1:Ts(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&M_(r,r.return,o),to(r);break;case 27:Fc(r.stateNode);case 26:case 5:Ts(r,r.return),to(r);break;case 22:r.memoizedState===null&&to(r);break;case 30:to(r);break;default:to(r)}i=i.sibling}}function sr(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=i,g=r,w=g.flags;switch(g.tag){case 0:case 11:case 15:sr(m,g,o),Dc(4,g);break;case 1:if(sr(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(J){pt(c,c.return,J)}if(c=g,m=c.updateQueue,m!==null){var A=c.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)wb(L[m],A)}catch(J){pt(c,c.return,J)}}o&&w&64&&D_(g),Mc(g,g.return);break;case 27:O_(g);case 26:case 5:sr(m,g,o),o&&c===null&&w&4&&V_(g),Mc(g,g.return);break;case 12:sr(m,g,o);break;case 31:sr(m,g,o),o&&w&4&&B_(m,g);break;case 13:sr(m,g,o),o&&w&4&&F_(m,g);break;case 22:g.memoizedState===null&&sr(m,g,o),Mc(g,g.return);break;case 30:break;default:sr(m,g,o)}r=r.sibling}}function Np(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&bc(o))}function kp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&bc(i))}function Ji(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)G_(i,r,o,c),r=r.sibling}function G_(i,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Ji(i,r,o,c),m&2048&&Dc(9,r);break;case 1:Ji(i,r,o,c);break;case 3:Ji(i,r,o,c),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&bc(i)));break;case 12:if(m&2048){Ji(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,w=g.id,A=g.onPostCommit;typeof A=="function"&&A(w,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){pt(r,r.return,L)}}else Ji(i,r,o,c);break;case 31:Ji(i,r,o,c);break;case 13:Ji(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,w=r.alternate,r.memoizedState!==null?g._visibility&2?Ji(i,r,o,c):Vc(i,r):g._visibility&2?Ji(i,r,o,c):(g._visibility|=2,Jo(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Np(w,r);break;case 24:Ji(i,r,o,c),m&2048&&kp(r.alternate,r);break;default:Ji(i,r,o,c)}}function Jo(i,r,o,c,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,w=r,A=o,L=c,J=w.flags;switch(w.tag){case 0:case 11:case 15:Jo(g,w,A,L,m),Dc(8,w);break;case 23:break;case 22:var oe=w.stateNode;w.memoizedState!==null?oe._visibility&2?Jo(g,w,A,L,m):Vc(g,w):(oe._visibility|=2,Jo(g,w,A,L,m)),m&&J&2048&&Np(w.alternate,w);break;case 24:Jo(g,w,A,L,m),m&&J&2048&&kp(w.alternate,w);break;default:Jo(g,w,A,L,m)}r=r.sibling}}function Vc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,m=c.flags;switch(c.tag){case 22:Vc(o,c),m&2048&&Np(c.alternate,c);break;case 24:Vc(o,c),m&2048&&kp(c.alternate,c);break;default:Vc(o,c)}r=r.sibling}}var Pc=8192;function el(i,r,o){if(i.subtreeFlags&Pc)for(i=i.child;i!==null;)$_(i,r,o),i=i.sibling}function $_(i,r,o){switch(i.tag){case 26:el(i,r,o),i.flags&Pc&&i.memoizedState!==null&&iN(o,Zi,i.memoizedState,i.memoizedProps);break;case 5:el(i,r,o);break;case 3:case 4:var c=Zi;Zi=df(i.stateNode.containerInfo),el(i,r,o),Zi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Pc,Pc=16777216,el(i,r,o),Pc=c):el(i,r,o));break;default:el(i,r,o)}}function K_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Oc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];yn=c,Q_(c,i)}K_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Y_(i),i=i.sibling}function Y_(i){switch(i.tag){case 0:case 11:case 15:Oc(i),i.flags&2048&&Hr(9,i,i.return);break;case 3:Oc(i);break;case 12:Oc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Jh(i)):Oc(i);break;default:Oc(i)}}function Jh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];yn=c,Q_(c,i)}K_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Hr(8,r,r.return),Jh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Jh(r));break;default:Jh(r)}i=i.sibling}}function Q_(i,r){for(;yn!==null;){var o=yn;switch(o.tag){case 0:case 11:case 15:Hr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:bc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,yn=c;else e:for(o=i;yn!==null;){c=yn;var m=c.sibling,g=c.return;if(U_(c),c===o){yn=null;break e}if(m!==null){m.return=g,yn=m;break e}yn=g}}}var vI={getCacheForType:function(i){var r=En(tn),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return En(tn).controller.signal}},bI=typeof WeakMap=="function"?WeakMap:Map,ct=0,wt=null,Ye=null,We=0,mt=0,gi=null,Gr=!1,tl=!1,Dp=!1,rr=0,zt=0,$r=0,no=0,Mp=0,yi=0,nl=0,jc=null,ei=null,Vp=!1,ef=0,W_=0,tf=1/0,nf=null,Kr=null,hn=0,Yr=null,il=null,ar=0,Pp=0,Op=null,X_=null,Lc=0,jp=null;function vi(){return(ct&2)!==0&&We!==0?We&-We:B.T!==null?qp():Da()}function Z_(){if(yi===0)if((We&536870912)===0||nt){var i=Ei;Ei<<=1,(Ei&3932160)===0&&(Ei=262144),yi=i}else yi=536870912;return i=mi.current,i!==null&&(i.flags|=32),yi}function ti(i,r,o){(i===wt&&(mt===2||mt===9)||i.cancelPendingCommit!==null)&&(sl(i,0),Qr(i,We,yi,!1)),Bs(i,o),((ct&2)===0||i!==wt)&&(i===wt&&((ct&2)===0&&(no|=o),zt===4&&Qr(i,We,yi,!1)),Es(i))}function J_(i,r,o){if((ct&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Kn(i,r),m=c?xI(i,r):Up(i,r,!0),g=c;do{if(m===0){tl&&!c&&Qr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!_I(o)){m=Up(i,r,!1),g=!1;continue}if(m===2){if(g=r,i.errorRecoveryDisabledLanes&g)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var A=i;m=jc;var L=A.current.memoizedState.isDehydrated;if(L&&(sl(A,w).flags|=256),w=Up(A,w,!1),w!==2){if(Dp&&!L){A.errorRecoveryDisabledLanes|=g,no|=g,m=4;break e}g=ei,ei=m,g!==null&&(ei===null?ei=g:ei.push.apply(ei,g))}m=w}if(g=!1,m!==2)continue}}if(m===1){sl(i,0),Qr(i,r,0,!0);break}e:{switch(c=i,g=m,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Qr(c,r,yi,!Gr);break e;case 2:ei=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=ef+300-Wt(),10<m)){if(Qr(c,r,yi,!Gr),ai(c,0,!0)!==0)break e;ar=r,c.timeoutHandle=Nw(ew.bind(null,c,o,ei,nf,Vp,r,yi,no,nl,Gr,g,"Throttled",-0,0),m);break e}ew(c,o,ei,nf,Vp,r,yi,no,nl,Gr,g,null,-0,0)}}break}while(!0);Es(i)}function ew(i,r,o,c,m,g,w,A,L,J,oe,ce,te,re){if(i.timeoutHandle=-1,ce=r.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$i},$_(r,g,ce);var Te=(g&62914560)===g?ef-Wt():(g&4194048)===g?W_-Wt():0;if(Te=sN(ce,Te),Te!==null){ar=g,i.cancelPendingCommit=Te(lw.bind(null,i,r,g,o,c,m,w,A,L,oe,ce,null,te,re)),Qr(i,g,w,!J);return}}lw(i,r,g,o,c,m,w,A,L)}function _I(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!fi(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Qr(i,r,o,c){r&=~Mp,r&=~no,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var m=r;0<m;){var g=31-Pt(m),w=1<<g;c[g]=-1,m&=~w}o!==0&&Hi(i,o,r)}function sf(){return(ct&6)===0?(Uc(0),!1):!0}function Lp(){if(Ye!==null){if(mt===0)var i=Ye.return;else i=Ye,Qs=Ka=null,ep(i),Yo=null,wc=0,i=Ye;for(;i!==null;)k_(i.alternate,i),i=i.return;Ye=null}}function sl(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,zI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ar=0,Lp(),wt=i,Ye=o=Ks(i.current,null),We=r,mt=0,gi=null,Gr=!1,tl=Kn(i,r),Dp=!1,nl=yi=Mp=no=$r=zt=0,ei=jc=null,Vp=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var m=31-Pt(c),g=1<<m;r|=i[m],c&=~g}return rr=r,Eh(),o}function tw(i,r){Be=null,B.H=Ic,r===Ko||r===Dh?(r=yb(),mt=3):r===Fm?(r=yb(),mt=4):mt=r===gp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,gi=r,Ye===null&&(zt=1,$h(i,Ii(r,i.current)))}function nw(){var i=mi.current;return i===null?!0:(We&4194048)===We?Mi===null:(We&62914560)===We||(We&536870912)!==0?i===Mi:!1}function iw(){var i=B.H;return B.H=Ic,i===null?Ic:i}function sw(){var i=B.A;return B.A=vI,i}function rf(){zt=4,Gr||(We&4194048)!==We&&mi.current!==null||(tl=!0),($r&134217727)===0&&(no&134217727)===0||wt===null||Qr(wt,We,yi,!1)}function Up(i,r,o){var c=ct;ct|=2;var m=iw(),g=sw();(wt!==i||We!==r)&&(nf=null,sl(i,r)),r=!1;var w=zt;e:do try{if(mt!==0&&Ye!==null){var A=Ye,L=gi;switch(mt){case 8:Lp(),w=6;break e;case 3:case 2:case 9:case 6:mi.current===null&&(r=!0);var J=mt;if(mt=0,gi=null,rl(i,A,L,J),o&&tl){w=0;break e}break;default:J=mt,mt=0,gi=null,rl(i,A,L,J)}}wI(),w=zt;break}catch(oe){tw(i,oe)}while(!0);return r&&i.shellSuspendCounter++,Qs=Ka=null,ct=c,B.H=m,B.A=g,Ye===null&&(wt=null,We=0,Eh()),w}function wI(){for(;Ye!==null;)rw(Ye)}function xI(i,r){var o=ct;ct|=2;var c=iw(),m=sw();wt!==i||We!==r?(nf=null,tf=Wt()+500,sl(i,r)):tl=Kn(i,r);e:do try{if(mt!==0&&Ye!==null){r=Ye;var g=gi;t:switch(mt){case 1:mt=0,gi=null,rl(i,r,g,1);break;case 2:case 9:if(pb(g)){mt=0,gi=null,aw(r);break}r=function(){mt!==2&&mt!==9||wt!==i||(mt=7),Es(i)},g.then(r,r);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:pb(g)?(mt=0,gi=null,aw(r)):(mt=0,gi=null,rl(i,r,g,7));break;case 5:var w=null;switch(Ye.tag){case 26:w=Ye.memoizedState;case 5:case 27:var A=Ye;if(w?Gw(w):A.stateNode.complete){mt=0,gi=null;var L=A.sibling;if(L!==null)Ye=L;else{var J=A.return;J!==null?(Ye=J,af(J)):Ye=null}break t}}mt=0,gi=null,rl(i,r,g,5);break;case 6:mt=0,gi=null,rl(i,r,g,6);break;case 8:Lp(),zt=6;break e;default:throw Error(s(462))}}TI();break}catch(oe){tw(i,oe)}while(!0);return Qs=Ka=null,B.H=c,B.A=m,ct=o,Ye!==null?0:(wt=null,We=0,Eh(),zt)}function TI(){for(;Ye!==null&&!Ls();)rw(Ye)}function rw(i){var r=I_(i.alternate,i,rr);i.memoizedProps=i.pendingProps,r===null?af(i):Ye=r}function aw(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=T_(o,r,r.pendingProps,r.type,void 0,We);break;case 11:r=T_(o,r,r.pendingProps,r.type.render,r.ref,We);break;case 5:ep(r);default:k_(o,r),r=Ye=sb(r,rr),r=I_(o,r,rr)}i.memoizedProps=i.pendingProps,r===null?af(i):Ye=r}function rl(i,r,o,c){Qs=Ka=null,ep(r),Yo=null,wc=0;var m=r.return;try{if(hI(i,m,r,o,We)){zt=1,$h(i,Ii(o,i.current)),Ye=null;return}}catch(g){if(m!==null)throw Ye=m,g;zt=1,$h(i,Ii(o,i.current)),Ye=null;return}r.flags&32768?(nt||c===1?i=!0:tl||(We&536870912)!==0?i=!1:(Gr=i=!0,(c===2||c===9||c===3||c===6)&&(c=mi.current,c!==null&&c.tag===13&&(c.flags|=16384))),ow(r,i)):af(r)}function af(i){var r=i;do{if((r.flags&32768)!==0){ow(r,Gr);return}i=r.return;var o=mI(r.alternate,r,rr);if(o!==null){Ye=o;return}if(r=r.sibling,r!==null){Ye=r;return}Ye=r=i}while(r!==null);zt===0&&(zt=5)}function ow(i,r){do{var o=pI(i.alternate,i);if(o!==null){o.flags&=32767,Ye=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ye=i;return}Ye=i=o}while(i!==null);zt=6,Ye=null}function lw(i,r,o,c,m,g,w,A,L){i.cancelPendingCommit=null;do of();while(hn!==0);if((ct&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Cm,Ao(i,o,g,w,A,L),i===wt&&(Ye=wt=null,We=0),il=r,Yr=i,ar=o,Pp=g,Op=m,X_=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,CI(Ti,function(){return dw(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,m=H.p,H.p=2,w=ct,ct|=4;try{gI(i,r,o)}finally{ct=w,H.p=m,B.T=c}}hn=1,cw(),uw(),hw()}}function cw(){if(hn===1){hn=0;var i=Yr,r=il,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var c=H.p;H.p=2;var m=ct;ct|=4;try{q_(r,i);var g=Xp,w=Qv(i.containerInfo),A=g.focusedElem,L=g.selectionRange;if(w!==A&&A&&A.ownerDocument&&Yv(A.ownerDocument.documentElement,A)){if(L!==null&&xm(A)){var J=L.start,oe=L.end;if(oe===void 0&&(oe=J),"selectionStart"in A)A.selectionStart=J,A.selectionEnd=Math.min(oe,A.value.length);else{var ce=A.ownerDocument||document,te=ce&&ce.defaultView||window;if(te.getSelection){var re=te.getSelection(),Te=A.textContent.length,De=Math.min(L.start,Te),bt=L.end===void 0?De:Math.min(L.end,Te);!re.extend&&De>bt&&(w=bt,bt=De,De=w);var $=Kv(A,De),q=Kv(A,bt);if($&&q&&(re.rangeCount!==1||re.anchorNode!==$.node||re.anchorOffset!==$.offset||re.focusNode!==q.node||re.focusOffset!==q.offset)){var Z=ce.createRange();Z.setStart($.node,$.offset),re.removeAllRanges(),De>bt?(re.addRange(Z),re.extend(q.node,q.offset)):(Z.setEnd(q.node,q.offset),re.addRange(Z))}}}}for(ce=[],re=A;re=re.parentNode;)re.nodeType===1&&ce.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ce.length;A++){var le=ce[A];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}bf=!!Wp,Xp=Wp=null}finally{ct=m,H.p=c,B.T=o}}i.current=r,hn=2}}function uw(){if(hn===2){hn=0;var i=Yr,r=il,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var c=H.p;H.p=2;var m=ct;ct|=4;try{L_(i,r.alternate,r)}finally{ct=m,H.p=c,B.T=o}}hn=3}}function hw(){if(hn===4||hn===3){hn=0,Tr();var i=Yr,r=il,o=ar,c=X_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?hn=5:(hn=0,il=Yr=null,fw(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Kr=null),Gi(o),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(un,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=B.T,m=H.p,H.p=2,B.T=null;try{for(var g=i.onRecoverableError,w=0;w<c.length;w++){var A=c[w];g(A.value,{componentStack:A.stack})}}finally{B.T=r,H.p=m}}(ar&3)!==0&&of(),Es(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===jp?Lc++:(Lc=0,jp=i):Lc=0,Uc(0)}}function fw(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,bc(r)))}function of(){return cw(),uw(),hw(),dw()}function dw(){if(hn!==5)return!1;var i=Yr,r=Pp;Pp=0;var o=Gi(ar),c=B.T,m=H.p;try{H.p=32>o?32:o,B.T=null,o=Op,Op=null;var g=Yr,w=ar;if(hn=0,il=Yr=null,ar=0,(ct&6)!==0)throw Error(s(331));var A=ct;if(ct|=4,Y_(g.current),G_(g,g.current,w,o),ct=A,Uc(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(un,g)}catch{}return!0}finally{H.p=m,B.T=c,fw(i,r)}}function mw(i,r,o){r=Ii(o,r),r=pp(i.stateNode,r,2),i=Br(i,r,2),i!==null&&(Bs(i,2),Es(i))}function pt(i,r,o){if(i.tag===3)mw(i,i,o);else for(;r!==null;){if(r.tag===3){mw(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Kr===null||!Kr.has(c))){i=Ii(o,i),o=p_(2),c=Br(r,o,2),c!==null&&(g_(o,c,r,i),Bs(c,2),Es(c));break}}r=r.return}}function zp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new bI;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(Dp=!0,m.add(o),i=EI.bind(null,i,r,o),r.then(i,i))}function EI(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,wt===i&&(We&o)===o&&(zt===4||zt===3&&(We&62914560)===We&&300>Wt()-ef?(ct&2)===0&&sl(i,0):Mp|=o,nl===We&&(nl=0)),Es(i)}function pw(i,r){r===0&&(r=So()),i=Ha(i,r),i!==null&&(Bs(i,r),Es(i))}function SI(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),pw(i,o)}function AI(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),pw(i,o)}function CI(i,r){return He(i,r)}var lf=null,al=null,Bp=!1,cf=!1,Fp=!1,Wr=0;function Es(i){i!==al&&i.next===null&&(al===null?lf=al=i:al=al.next=i),cf=!0,Bp||(Bp=!0,II())}function Uc(i,r){if(!Fp&&cf){Fp=!0;do for(var o=!1,c=lf;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var w=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-Pt(42|i)+1)-1,g&=m&~(w&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,bw(c,g))}else g=We,g=ai(c,c===wt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Kn(c,g)||(o=!0,bw(c,g));c=c.next}while(o);Fp=!1}}function RI(){gw()}function gw(){cf=Bp=!1;var i=0;Wr!==0&&UI()&&(i=Wr);for(var r=Wt(),o=null,c=lf;c!==null;){var m=c.next,g=yw(c,r);g===0?(c.next=null,o===null?lf=m:o.next=m,m===null&&(al=o)):(o=c,(i!==0||(g&3)!==0)&&(cf=!0)),c=m}hn!==0&&hn!==5||Uc(i),Wr!==0&&(Wr=0)}function yw(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var w=31-Pt(g),A=1<<w,L=m[w];L===-1?((A&o)===0||(A&c)!==0)&&(m[w]=Sr(A,r)):L<=r&&(i.expiredLanes|=A),g&=~A}if(r=wt,o=We,o=ai(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(mt===2||mt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&xi(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Kn(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&xi(c),Gi(o)){case 2:case 8:o=Us;break;case 32:o=Ti;break;case 268435456:o=$n;break;default:o=Ti}return c=vw.bind(null,i),o=He(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&xi(c),i.callbackPriority=2,i.callbackNode=null,2}function vw(i,r){if(hn!==0&&hn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(of()&&i.callbackNode!==o)return null;var c=We;return c=ai(i,i===wt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(J_(i,c,r),yw(i,Wt()),i.callbackNode!=null&&i.callbackNode===o?vw.bind(null,i):null)}function bw(i,r){if(of())return null;J_(i,r,!0)}function II(){BI(function(){(ct&6)!==0?He(cs,RI):gw()})}function qp(){if(Wr===0){var i=Go;i===0&&(i=Ln,Ln<<=1,(Ln&261888)===0&&(Ln=256)),Wr=i}return Wr}function _w(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:No(""+i)}function ww(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function NI(i,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var g=_w((m[Ht]||null).action),w=c.submitter;w&&(r=(r=w[Ht]||null)?_w(r.formAction):w.getAttribute("formAction"),r!==null&&(g=r,w=null));var A=new ys("action","action",null,c,m);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Wr!==0){var L=w?ww(m,w):new FormData(m);cp(o,{pending:!0,data:L,method:m.method,action:g},null,L)}}else typeof g=="function"&&(A.preventDefault(),L=w?ww(m,w):new FormData(m),cp(o,{pending:!0,data:L,method:m.method,action:g},g,L))},currentTarget:m}]})}}for(var Hp=0;Hp<Am.length;Hp++){var Gp=Am[Hp],kI=Gp.toLowerCase(),DI=Gp[0].toUpperCase()+Gp.slice(1);Xi(kI,"on"+DI)}Xi(Zv,"onAnimationEnd"),Xi(Jv,"onAnimationIteration"),Xi(eb,"onAnimationStart"),Xi("dblclick","onDoubleClick"),Xi("focusin","onFocus"),Xi("focusout","onBlur"),Xi(YR,"onTransitionRun"),Xi(QR,"onTransitionStart"),Xi(WR,"onTransitionCancel"),Xi(tb,"onTransitionEnd"),ds("onMouseEnter",["mouseout","mouseover"]),ds("onMouseLeave",["mouseout","mouseover"]),ds("onPointerEnter",["pointerout","pointerover"]),ds("onPointerLeave",["pointerout","pointerover"]),fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fs("onBeforeInput",["compositionend","keypress","textInput","paste"]),fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zc));function xw(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var w=c.length-1;0<=w;w--){var A=c[w],L=A.instance,J=A.currentTarget;if(A=A.listener,L!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=J;try{g(m)}catch(oe){Th(oe)}m.currentTarget=null,g=L}else for(w=0;w<c.length;w++){if(A=c[w],L=A.instance,J=A.currentTarget,A=A.listener,L!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=J;try{g(m)}catch(oe){Th(oe)}m.currentTarget=null,g=L}}}}function Qe(i,r){var o=r[hs];o===void 0&&(o=r[hs]=new Set);var c=i+"__bubble";o.has(c)||(Tw(r,i,2,!1),o.add(c))}function $p(i,r,o){var c=0;r&&(c|=4),Tw(o,i,c,r)}var uf="_reactListening"+Math.random().toString(36).slice(2);function Kp(i){if(!i[uf]){i[uf]=!0,Zl.forEach(function(o){o!=="selectionchange"&&(MI.has(o)||$p(o,!1,i),$p(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[uf]||(r[uf]=!0,$p("selectionchange",!1,r))}}function Tw(i,r,o,c){switch(Zw(r)){case 2:var m=oN;break;case 8:m=lN;break;default:m=lg}o=m.bind(null,r,o,i),m=void 0,!Oa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function Yp(i,r,o,c,m){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var A=c.stateNode.containerInfo;if(A===m)break;if(w===4)for(w=c.return;w!==null;){var L=w.tag;if((L===3||L===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;A!==null;){if(w=_t(A),w===null)return;if(L=w.tag,L===5||L===6||L===26||L===27){c=g=w;continue e}A=A.parentNode}}c=c.return}kr(function(){var J=g,oe=Si(o),ce=[];e:{var te=nb.get(i);if(te!==void 0){var re=ys,Te=i;switch(i){case"keypress":if(La(o)===0)break e;case"keydown":case"keyup":re=_h;break;case"focusin":Te="focus",re=za;break;case"focusout":Te="blur",re=za;break;case"beforeblur":case"afterblur":re=za;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=_;break;case Zv:case Jv:case eb:re=dh;break;case tb:re=R;break;case"scroll":case"scrollend":re=uc;break;case"wheel":re=se;break;case"copy":case"cut":case"paste":re=mh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=$s;break;case"toggle":case"beforetoggle":re=ze}var De=(r&4)!==0,bt=!De&&(i==="scroll"||i==="scrollend"),$=De?te!==null?te+"Capture":null:te;De=[];for(var q=J,Z;q!==null;){var le=q;if(Z=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Z===null||$===null||(le=Ki(q,$),le!=null&&De.push(Bc(q,le,Z))),bt)break;q=q.return}0<De.length&&(te=new re(te,Te,null,o,oe),ce.push({event:te,listeners:De}))}}if((r&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",te&&o!==oc&&(Te=o.relatedTarget||o.fromElement)&&(_t(Te)||Te[Yn]))break e;if((re||te)&&(te=oe.window===oe?oe:(te=oe.ownerDocument)?te.defaultView||te.parentWindow:window,re?(Te=o.relatedTarget||o.toElement,re=J,Te=Te?_t(Te):null,Te!==null&&(bt=l(Te),De=Te.tag,Te!==bt||De!==5&&De!==27&&De!==6)&&(Te=null)):(re=null,Te=J),re!==Te)){if(De=hc,le="onMouseLeave",$="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(De=$s,le="onPointerLeave",$="onPointerEnter",q="pointer"),bt=re==null?te:Zt(re),Z=Te==null?te:Zt(Te),te=new De(le,q+"leave",re,o,oe),te.target=bt,te.relatedTarget=Z,le=null,_t(oe)===J&&(De=new De($,q+"enter",Te,o,oe),De.target=Z,De.relatedTarget=bt,le=De),bt=le,re&&Te)t:{for(De=VI,$=re,q=Te,Z=0,le=$;le;le=De(le))Z++;le=0;for(var ke=q;ke;ke=De(ke))le++;for(;0<Z-le;)$=De($),Z--;for(;0<le-Z;)q=De(q),le--;for(;Z--;){if($===q||q!==null&&$===q.alternate){De=$;break t}$=De($),q=De(q)}De=null}else De=null;re!==null&&Ew(ce,te,re,De,!1),Te!==null&&bt!==null&&Ew(ce,bt,Te,De,!0)}}e:{if(te=J?Zt(J):window,re=te.nodeName&&te.nodeName.toLowerCase(),re==="select"||re==="input"&&te.type==="file")var rt=Bv;else if(Uv(te))if(Fv)rt=GR;else{rt=qR;var Ce=FR}else re=te.nodeName,!re||re.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&Io(J.elementType)&&(rt=Bv):rt=HR;if(rt&&(rt=rt(i,J))){zv(ce,rt,o,oe);break e}Ce&&Ce(i,te,J),i==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&sc(te,"number",te.value)}switch(Ce=J?Zt(J):window,i){case"focusin":(Uv(Ce)||Ce.contentEditable==="true")&&(jo=Ce,Tm=J,gc=null);break;case"focusout":gc=Tm=jo=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,Wv(ce,o,oe);break;case"selectionchange":if(KR)break;case"keydown":case"keyup":Wv(ce,o,oe)}var qe;if(lt)e:{switch(i){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Oo?Ba(i,o)&&(Xe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Xe="onCompositionStart");Xe&&(_s&&o.locale!=="ko"&&(Oo||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Oo&&(qe=cc()):(gs=oe,lc="value"in gs?gs.value:gs.textContent,Oo=!0)),Ce=hf(J,Xe),0<Ce.length&&(Xe=new bs(Xe,i,null,o,oe),ce.push({event:Xe,listeners:Ce}),qe?Xe.data=qe:(qe=Po(o),qe!==null&&(Xe.data=qe)))),(qe=Ci?LR(i,o):UR(i,o))&&(Xe=hf(J,"onBeforeInput"),0<Xe.length&&(Ce=new bs("onBeforeInput","beforeinput",null,o,oe),ce.push({event:Ce,listeners:Xe}),Ce.data=qe)),NI(ce,i,J,o,oe)}xw(ce,r)})}function Bc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function hf(i,r){for(var o=r+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ki(i,o),m!=null&&c.unshift(Bc(i,m,g)),m=Ki(i,r),m!=null&&c.push(Bc(i,m,g))),i.tag===3)return c;i=i.return}return[]}function VI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ew(i,r,o,c,m){for(var g=r._reactName,w=[];o!==null&&o!==c;){var A=o,L=A.alternate,J=A.stateNode;if(A=A.tag,L!==null&&L===c)break;A!==5&&A!==26&&A!==27||J===null||(L=J,m?(J=Ki(o,g),J!=null&&w.unshift(Bc(o,J,L))):m||(J=Ki(o,g),J!=null&&w.push(Bc(o,J,L)))),o=o.return}w.length!==0&&i.push({event:r,listeners:w})}var PI=/\r\n?/g,OI=/\u0000|\uFFFD/g;function Sw(i){return(typeof i=="string"?i:""+i).replace(PI,`
`).replace(OI,"")}function Aw(i,r){return r=Sw(r),Sw(i)===r}function vt(i,r,o,c,m,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Wn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Wn(i,""+c);break;case"className":hi(i,"class",c);break;case"tabIndex":hi(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(i,o,c);break;case"style":ac(i,c,g);break;case"data":if(r!=="object"){hi(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=No(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&vt(i,r,"name",m.name,m,null),vt(i,r,"formEncType",m.formEncType,m,null),vt(i,r,"formMethod",m.formMethod,m,null),vt(i,r,"formTarget",m.formTarget,m,null)):(vt(i,r,"encType",m.encType,m,null),vt(i,r,"method",m.method,m,null),vt(i,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=No(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=$i);break;case"onScroll":c!=null&&Qe("scroll",i);break;case"onScrollEnd":c!=null&&Qe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=No(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Qe("beforetoggle",i),Qe("toggle",i),Co(i,"popover",c);break;case"xlinkActuate":en(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":en(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":en(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":en(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":en(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":en(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":en(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":en(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":en(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Co(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=uh.get(o)||o,Co(i,o,c))}}function Qp(i,r,o,c,m,g){switch(o){case"style":ac(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Wn(i,c):(typeof c=="number"||typeof c=="bigint")&&Wn(i,""+c);break;case"onScroll":c!=null&&Qe("scroll",i);break;case"onScrollEnd":c!=null&&Qe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=$i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=i[Ht]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Co(i,o,c)}}}function An(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",i),Qe("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:vt(i,r,g,w,o,null)}}m&&vt(i,r,"srcSet",o.srcSet,o,null),c&&vt(i,r,"src",o.src,o,null);return;case"input":Qe("invalid",i);var A=g=w=m=null,L=null,J=null;for(c in o)if(o.hasOwnProperty(c)){var oe=o[c];if(oe!=null)switch(c){case"name":m=oe;break;case"type":w=oe;break;case"checked":L=oe;break;case"defaultChecked":J=oe;break;case"value":g=oe;break;case"defaultValue":A=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,r));break;default:vt(i,r,c,oe,o,null)}}oh(i,g,A,L,J,w,m,!1);return;case"select":Qe("invalid",i),c=w=g=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":g=A;break;case"defaultValue":w=A;break;case"multiple":c=A;default:vt(i,r,m,A,o,null)}r=g,o=w,i.multiple=!!c,r!=null?Cr(i,!!c,r,!1):o!=null&&Cr(i,!!c,o,!0);return;case"textarea":Qe("invalid",i),g=m=c=null;for(w in o)if(o.hasOwnProperty(w)&&(A=o[w],A!=null))switch(w){case"value":c=A;break;case"defaultValue":m=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:vt(i,r,w,A,o,null)}Rr(i,c,m,g);return;case"option":for(L in o)o.hasOwnProperty(L)&&(c=o[L],c!=null)&&(L==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":vt(i,r,L,c,o,null));return;case"dialog":Qe("beforetoggle",i),Qe("toggle",i),Qe("cancel",i),Qe("close",i);break;case"iframe":case"object":Qe("load",i);break;case"video":case"audio":for(c=0;c<zc.length;c++)Qe(zc[c],i);break;case"image":Qe("error",i),Qe("load",i);break;case"details":Qe("toggle",i);break;case"embed":case"source":case"link":Qe("error",i),Qe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(c=o[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:vt(i,r,J,c,o,null)}return;default:if(Io(r)){for(oe in o)o.hasOwnProperty(oe)&&(c=o[oe],c!==void 0&&Qp(i,r,oe,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&vt(i,r,A,c,o,null))}function jI(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,w=null,A=null,L=null,J=null,oe=null;for(re in o){var ce=o[re];if(o.hasOwnProperty(re)&&ce!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":L=ce;default:c.hasOwnProperty(re)||vt(i,r,re,null,c,ce)}}for(var te in c){var re=c[te];if(ce=o[te],c.hasOwnProperty(te)&&(re!=null||ce!=null))switch(te){case"type":g=re;break;case"name":m=re;break;case"checked":J=re;break;case"defaultChecked":oe=re;break;case"value":w=re;break;case"defaultValue":A=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,r));break;default:re!==ce&&vt(i,r,te,re,c,ce)}}Ro(i,w,A,L,J,oe,g,m);return;case"select":re=w=A=te=null;for(g in o)if(L=o[g],o.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":re=L;default:c.hasOwnProperty(g)||vt(i,r,g,null,c,L)}for(m in c)if(g=c[m],L=o[m],c.hasOwnProperty(m)&&(g!=null||L!=null))switch(m){case"value":te=g;break;case"defaultValue":A=g;break;case"multiple":w=g;default:g!==L&&vt(i,r,m,g,c,L)}r=A,o=w,c=re,te!=null?Cr(i,!!o,te,!1):!!c!=!!o&&(r!=null?Cr(i,!!o,r,!0):Cr(i,!!o,o?[]:"",!1));return;case"textarea":re=te=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:vt(i,r,A,null,c,m)}for(w in c)if(m=c[w],g=o[w],c.hasOwnProperty(w)&&(m!=null||g!=null))switch(w){case"value":te=m;break;case"defaultValue":re=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==g&&vt(i,r,w,m,c,g)}lh(i,te,re);return;case"option":for(var Te in o)te=o[Te],o.hasOwnProperty(Te)&&te!=null&&!c.hasOwnProperty(Te)&&(Te==="selected"?i.selected=!1:vt(i,r,Te,null,c,te));for(L in c)te=c[L],re=o[L],c.hasOwnProperty(L)&&te!==re&&(te!=null||re!=null)&&(L==="selected"?i.selected=te&&typeof te!="function"&&typeof te!="symbol":vt(i,r,L,te,c,re));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in o)te=o[De],o.hasOwnProperty(De)&&te!=null&&!c.hasOwnProperty(De)&&vt(i,r,De,null,c,te);for(J in c)if(te=c[J],re=o[J],c.hasOwnProperty(J)&&te!==re&&(te!=null||re!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:vt(i,r,J,te,c,re)}return;default:if(Io(r)){for(var bt in o)te=o[bt],o.hasOwnProperty(bt)&&te!==void 0&&!c.hasOwnProperty(bt)&&Qp(i,r,bt,void 0,c,te);for(oe in c)te=c[oe],re=o[oe],!c.hasOwnProperty(oe)||te===re||te===void 0&&re===void 0||Qp(i,r,oe,te,c,re);return}}for(var $ in o)te=o[$],o.hasOwnProperty($)&&te!=null&&!c.hasOwnProperty($)&&vt(i,r,$,null,c,te);for(ce in c)te=c[ce],re=o[ce],!c.hasOwnProperty(ce)||te===re||te==null&&re==null||vt(i,r,ce,te,c,re)}function Cw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,w=m.initiatorType,A=m.duration;if(g&&A&&Cw(w)){for(w=0,A=m.responseEnd,c+=1;c<o.length;c++){var L=o[c],J=L.startTime;if(J>A)break;var oe=L.transferSize,ce=L.initiatorType;oe&&Cw(ce)&&(L=L.responseEnd,w+=oe*(L<A?1:(A-J)/(L-J)))}if(--c,r+=8*(g+w)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Wp=null,Xp=null;function ff(i){return i.nodeType===9?i:i.ownerDocument}function Rw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Iw(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Zp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Jp=null;function UI(){var i=window.event;return i&&i.type==="popstate"?i===Jp?!1:(Jp=i,!0):(Jp=null,!1)}var Nw=typeof setTimeout=="function"?setTimeout:void 0,zI=typeof clearTimeout=="function"?clearTimeout:void 0,kw=typeof Promise=="function"?Promise:void 0,BI=typeof queueMicrotask=="function"?queueMicrotask:typeof kw<"u"?function(i){return kw.resolve(null).then(i).catch(FI)}:Nw;function FI(i){setTimeout(function(){throw i})}function Xr(i){return i==="head"}function Dw(i,r){var o=r,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),ul(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Fc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Fc(o);for(var g=o.firstChild;g;){var w=g.nextSibling,A=g.nodeName;g[ht]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=w}}else o==="body"&&Fc(i.ownerDocument.body);o=m}while(o);ul(r)}function Mw(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function eg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":eg(o),Rt(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function qI(i,r,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[ht])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Vi(i.nextSibling),i===null)break}return null}function HI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Vi(i.nextSibling),i===null))return null;return i}function Vw(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Vi(i.nextSibling),i===null))return null;return i}function tg(i){return i.data==="$?"||i.data==="$~"}function ng(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function GI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Vi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var ig=null;function Pw(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Vi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Ow(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function jw(i,r,o){switch(r=ff(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Fc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Rt(i)}var Pi=new Map,Lw=new Set;function df(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var or=H.d;H.d={f:$I,r:KI,D:YI,C:QI,L:WI,m:XI,X:JI,S:ZI,M:eN};function $I(){var i=or.f(),r=sf();return i||r}function KI(i){var r=It(i);r!==null&&r.tag===5&&r.type==="form"?t_(r):or.r(i)}var ol=typeof document>"u"?null:document;function Uw(i,r,o){var c=ol;if(c&&typeof r=="string"&&r){var m=Qn(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Lw.has(m)||(Lw.add(m),i={rel:i,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),An(r,"link",i),Jt(r),c.head.appendChild(r)))}}function YI(i){or.D(i),Uw("dns-prefetch",i,null)}function QI(i,r){or.C(i,r),Uw("preconnect",i,r)}function WI(i,r,o){or.L(i,r,o);var c=ol;if(c&&i&&r){var m='link[rel="preload"][as="'+Qn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Qn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Qn(o.imageSizes)+'"]')):m+='[href="'+Qn(i)+'"]';var g=m;switch(r){case"style":g=ll(i);break;case"script":g=cl(i)}Pi.has(g)||(i=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Pi.set(g,i),c.querySelector(m)!==null||r==="style"&&c.querySelector(qc(g))||r==="script"&&c.querySelector(Hc(g))||(r=c.createElement("link"),An(r,"link",i),Jt(r),c.head.appendChild(r)))}}function XI(i,r){or.m(i,r);var o=ol;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Qn(c)+'"][href="'+Qn(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=cl(i)}if(!Pi.has(g)&&(i=b({rel:"modulepreload",href:i},r),Pi.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Hc(g)))return}c=o.createElement("link"),An(c,"link",i),Jt(c),o.head.appendChild(c)}}}function ZI(i,r,o){or.S(i,r,o);var c=ol;if(c&&i){var m=ui(c).hoistableStyles,g=ll(i);r=r||"default";var w=m.get(g);if(!w){var A={loading:0,preload:null};if(w=c.querySelector(qc(g)))A.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Pi.get(g))&&sg(i,o);var L=w=c.createElement("link");Jt(L),An(L,"link",i),L._p=new Promise(function(J,oe){L.onload=J,L.onerror=oe}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,mf(w,r,c)}w={type:"stylesheet",instance:w,count:1,state:A},m.set(g,w)}}}function JI(i,r){or.X(i,r);var o=ol;if(o&&i){var c=ui(o).hoistableScripts,m=cl(i),g=c.get(m);g||(g=o.querySelector(Hc(m)),g||(i=b({src:i,async:!0},r),(r=Pi.get(m))&&rg(i,r),g=o.createElement("script"),Jt(g),An(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function eN(i,r){or.M(i,r);var o=ol;if(o&&i){var c=ui(o).hoistableScripts,m=cl(i),g=c.get(m);g||(g=o.querySelector(Hc(m)),g||(i=b({src:i,async:!0,type:"module"},r),(r=Pi.get(m))&&rg(i,r),g=o.createElement("script"),Jt(g),An(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function zw(i,r,o,c){var m=(m=ye.current)?df(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=ll(o.href),o=ui(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ll(o.href);var g=ui(m).hoistableStyles,w=g.get(i);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,w),(g=m.querySelector(qc(i)))&&!g._p&&(w.instance=g,w.state.loading=5),Pi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Pi.set(i,o),g||tN(m,i,o,w.state))),r&&c===null)throw Error(s(528,""));return w}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=cl(o),o=ui(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function ll(i){return'href="'+Qn(i)+'"'}function qc(i){return'link[rel="stylesheet"]['+i+"]"}function Bw(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function tN(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),An(r,"link",o),Jt(r),i.head.appendChild(r))}function cl(i){return'[src="'+Qn(i)+'"]'}function Hc(i){return"script[async]"+i}function Fw(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Qn(o.href)+'"]');if(c)return r.instance=c,Jt(c),c;var m=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Jt(c),An(c,"style",m),mf(c,o.precedence,i),r.instance=c;case"stylesheet":m=ll(o.href);var g=i.querySelector(qc(m));if(g)return r.state.loading|=4,r.instance=g,Jt(g),g;c=Bw(o),(m=Pi.get(m))&&sg(c,m),g=(i.ownerDocument||i).createElement("link"),Jt(g);var w=g;return w._p=new Promise(function(A,L){w.onload=A,w.onerror=L}),An(g,"link",c),r.state.loading|=4,mf(g,o.precedence,i),r.instance=g;case"script":return g=cl(o.src),(m=i.querySelector(Hc(g)))?(r.instance=m,Jt(m),m):(c=o,(m=Pi.get(g))&&(c=b({},o),rg(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Jt(m),An(m,"link",c),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,mf(c,o.precedence,i));return r.instance}function mf(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,w=0;w<c.length;w++){var A=c[w];if(A.dataset.precedence===r)g=A;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function sg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function rg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var pf=null;function qw(i,r,o){if(pf===null){var c=new Map,m=pf=new Map;m.set(o,c)}else m=pf,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[ht]||g[qt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(r)||"";w=i+w;var A=c.get(w);A?A.push(g):c.set(w,[g])}}return c}function Hw(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function nN(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Gw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function iN(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=ll(c.href),g=r.querySelector(qc(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=gf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Jt(g);return}g=r.ownerDocument||r,c=Bw(c),(m=Pi.get(m))&&sg(c,m),g=g.createElement("link"),Jt(g);var w=g;w._p=new Promise(function(A,L){w.onload=A,w.onerror=L}),An(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=gf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var ag=0;function sN(i,r){return i.stylesheets&&i.count===0&&vf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&vf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&ag===0&&(ag=62500*LI());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&vf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>ag?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function gf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var yf=null;function vf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,yf=new Map,r.forEach(rN,i),yf=null,gf.call(i))}function rN(i,r){if(!(r.state.loading&4)){var o=yf.get(i);if(o)var c=o.get(null);else{o=new Map,yf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var w=m[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}m=r.instance,w=m.getAttribute("data-precedence"),g=o.get(w)||c,g===c&&o.set(null,m),o.set(w,m),this.count++,c=gf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var Gc={$$typeof:Y,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function aN(i,r,o,c,m,g,w,A,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function $w(i,r,o,c,m,g,w,A,L,J,oe,ce){return i=new aN(i,r,o,w,L,J,oe,ce,A),r=1,g===!0&&(r|=24),g=di(3,null,null,r),i.current=g,g.stateNode=i,r=Um(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},qm(g),i}function Kw(i){return i?(i=zo,i):zo}function Yw(i,r,o,c,m,g){m=Kw(m),c.context===null?c.context=m:c.pendingContext=m,c=zr(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Br(i,c,r),o!==null&&(ti(o,i,r),Tc(o,i,r))}function Qw(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function og(i,r){Qw(i,r),(i=i.alternate)&&Qw(i,r)}function Ww(i){if(i.tag===13||i.tag===31){var r=Ha(i,67108864);r!==null&&ti(r,i,67108864),og(i,67108864)}}function Xw(i){if(i.tag===13||i.tag===31){var r=vi();r=qs(r);var o=Ha(i,r);o!==null&&ti(o,i,r),og(i,r)}}var bf=!0;function oN(i,r,o,c){var m=B.T;B.T=null;var g=H.p;try{H.p=2,lg(i,r,o,c)}finally{H.p=g,B.T=m}}function lN(i,r,o,c){var m=B.T;B.T=null;var g=H.p;try{H.p=8,lg(i,r,o,c)}finally{H.p=g,B.T=m}}function lg(i,r,o,c){if(bf){var m=cg(c);if(m===null)Yp(i,r,c,_f,o),Jw(i,c);else if(uN(m,i,r,o,c))c.stopPropagation();else if(Jw(i,c),r&4&&-1<cN.indexOf(i)){for(;m!==null;){var g=It(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=In(g.pendingLanes);if(w!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var L=1<<31-Pt(w);A.entanglements[1]|=L,w&=~L}Es(g),(ct&6)===0&&(tf=Wt()+500,Uc(0))}}break;case 31:case 13:A=Ha(g,2),A!==null&&ti(A,g,2),sf(),og(g,2)}if(g=cg(c),g===null&&Yp(i,r,c,_f,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Yp(i,r,c,null,o)}}function cg(i){return i=Si(i),ug(i)}var _f=null;function ug(i){if(_f=null,i=_t(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return _f=i,null}function Zw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gn()){case cs:return 2;case Us:return 8;case Ti:case Er:return 32;case $n:return 268435456;default:return 32}default:return 32}}var hg=!1,Zr=null,Jr=null,ea=null,$c=new Map,Kc=new Map,ta=[],cN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jw(i,r){switch(i){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":$c.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kc.delete(r.pointerId)}}function Yc(i,r,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},r!==null&&(r=It(r),r!==null&&Ww(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function uN(i,r,o,c,m){switch(r){case"focusin":return Zr=Yc(Zr,i,r,o,c,m),!0;case"dragenter":return Jr=Yc(Jr,i,r,o,c,m),!0;case"mouseover":return ea=Yc(ea,i,r,o,c,m),!0;case"pointerover":var g=m.pointerId;return $c.set(g,Yc($c.get(g)||null,i,r,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Kc.set(g,Yc(Kc.get(g)||null,i,r,o,c,m)),!0}return!1}function ex(i){var r=_t(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,li(i.priority,function(){Xw(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,li(i.priority,function(){Xw(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function wf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=cg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);oc=c,o.target.dispatchEvent(c),oc=null}else return r=It(o),r!==null&&Ww(r),i.blockedOn=o,!1;r.shift()}return!0}function tx(i,r,o){wf(i)&&o.delete(r)}function hN(){hg=!1,Zr!==null&&wf(Zr)&&(Zr=null),Jr!==null&&wf(Jr)&&(Jr=null),ea!==null&&wf(ea)&&(ea=null),$c.forEach(tx),Kc.forEach(tx)}function xf(i,r){i.blockedOn===r&&(i.blockedOn=null,hg||(hg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,hN)))}var Tf=null;function nx(i){Tf!==i&&(Tf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Tf===i&&(Tf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],m=i[r+2];if(typeof c!="function"){if(ug(c||o)===null)continue;break}var g=It(o);g!==null&&(i.splice(r,3),r-=3,cp(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function ul(i){function r(L){return xf(L,i)}Zr!==null&&xf(Zr,i),Jr!==null&&xf(Jr,i),ea!==null&&xf(ea,i),$c.forEach(r),Kc.forEach(r);for(var o=0;o<ta.length;o++){var c=ta[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<ta.length&&(o=ta[0],o.blockedOn===null);)ex(o),o.blockedOn===null&&ta.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],w=m[Ht]||null;if(typeof g=="function")w||nx(o);else if(w){var A=null;if(g&&g.hasAttribute("formAction")){if(m=g,w=g[Ht]||null)A=w.formAction;else if(ug(m)!==null)continue}else A=w.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),nx(o)}}}function ix(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function fg(i){this._internalRoot=i}Ef.prototype.render=fg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=vi();Yw(o,c,i,r,null,null)},Ef.prototype.unmount=fg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Yw(i.current,2,null,i,null,null),sf(),r[Yn]=null}};function Ef(i){this._internalRoot=i}Ef.prototype.unstable_scheduleHydration=function(i){if(i){var r=Da();i={blockedOn:null,target:i,priority:r};for(var o=0;o<ta.length&&r!==0&&r<ta[o].priority;o++);ta.splice(o,0,i),o===0&&ex(i)}};var sx=e.version;if(sx!=="19.2.3")throw Error(s(527,sx,"19.2.3"));H.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=d(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var fN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sf.isDisabled&&Sf.supportsFiber)try{un=Sf.inject(fN),Xt=Sf}catch{}}return Wc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",m=h_,g=f_,w=d_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=$w(i,1,!1,null,null,o,c,null,m,g,w,ix),i[Yn]=r.current,Kp(i),new fg(r)},Wc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,m="",g=h_,w=f_,A=d_,L=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),r=$w(i,1,!0,r,o??null,c,m,L,g,w,A,ix),r.context=Kw(null),o=r.current,c=vi(),c=qs(c),m=zr(c),m.callback=null,Br(o,m,c),o=c,r.current.lanes=o,Bs(r,o),Es(r),i[Yn]=r.current,Kp(i),new Ef(r)},Wc.version="19.2.3",Wc}var mx;function TN(){if(mx)return pg.exports;mx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pg.exports=xN(),pg.exports}var EN=TN();var px="popstate";function SN(t={}){function e(s,a){let{pathname:l,search:u,hash:f}=s.location;return ny("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:xu(a)}return CN(e,n,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AN(){return Math.random().toString(36).substring(2,10)}function gx(t,e){return{usr:t.state,key:t.key,idx:e}}function ny(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?jl(e):e,state:n,key:e&&e.key||s||AN()}}function xu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function jl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function CN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,f="POP",p=null,d=y();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function y(){return(u.state||{idx:null}).idx}function b(){f="POP";let N=y(),G=N==null?null:N-d;d=N,p&&p({action:f,location:j.location,delta:G})}function x(N,G){f="PUSH";let Q=ny(j.location,N,G);d=y()+1;let Y=gx(Q,d),de=j.createHref(Q);try{u.pushState(Y,"",de)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;a.location.assign(de)}l&&p&&p({action:f,location:j.location,delta:1})}function C(N,G){f="REPLACE";let Q=ny(j.location,N,G);d=y();let Y=gx(Q,d),de=j.createHref(Q);u.replaceState(Y,"",de),l&&p&&p({action:f,location:j.location,delta:0})}function D(N){return RN(N)}let j={get action(){return f},get location(){return t(a,u)},listen(N){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(px,b),p=N,()=>{a.removeEventListener(px,b),p=null}},createHref(N){return e(a,N)},createURL:D,encodeLocation(N){let G=D(N);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:x,replace:C,go(N){return u.go(N)}};return j}function RN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:xu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function VE(t,e,n="/"){return IN(t,e,n,!1)}function IN(t,e,n,s){let a=typeof e=="string"?jl(e):e,l=yr(a.pathname||"/",n);if(l==null)return null;let u=PE(t);NN(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let d=BN(l);f=UN(u[p],d,s)}return f}function PE(t,e=[],n=[],s="",a=!1){let l=(u,f,p=a,d)=>{let y={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&p)return;Dt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let b=dr([s,y.relativePath]),x=n.concat(y);u.children&&u.children.length>0&&(Dt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),PE(u.children,e,x,b,p)),!(u.path==null&&!u.index)&&e.push({path:b,score:jN(b,u.index),routesMeta:x})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let p of OE(u.path))l(u,f,!0,p)}),e}function OE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=OE(s.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...u),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function NN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:LN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var kN=/^:[\w-]+$/,DN=3,MN=2,VN=1,PN=10,ON=-2,yx=t=>t==="*";function jN(t,e){let n=t.split("/"),s=n.length;return n.some(yx)&&(s+=ON),e&&(s+=MN),n.filter(a=>!yx(a)).reduce((a,l)=>a+(kN.test(l)?DN:l===""?VN:PN),s)}function LN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function UN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let f=0;f<s.length;++f){let p=s[f],d=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",b=sd({path:p.relativePath,caseSensitive:p.caseSensitive,end:d},y),x=p.route;if(!b&&d&&n&&!s[s.length-1].route.index&&(b=sd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:dr([l,b.pathname]),pathnameBase:GN(dr([l,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(l=dr([l,b.pathnameBase]))}return u}function sd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=zN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((d,{paramName:y,isOptional:b},x)=>{if(y==="*"){let D=f[x]||"";u=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const C=f[x];return b&&!C?d[y]=void 0:d[y]=(C||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:u,pattern:t}}function zN(t,e=!1,n=!0){qi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function BN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function yr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var jE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FN=t=>jE.test(t);function qN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?jl(t):t,l;if(n)if(FN(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),qi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=vx(n.substring(1),"/"):l=vx(n,e)}else l=e;return{pathname:l,search:$N(s),hash:KN(a)}}function vx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function bg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function n0(t){let e=HN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function i0(t,e,n,s=!1){let a;typeof t=="string"?a=jl(t):(a={...t},Dt(!a.pathname||!a.pathname.includes("?"),bg("?","pathname","search",a)),Dt(!a.pathname||!a.pathname.includes("#"),bg("#","pathname","hash",a)),Dt(!a.search||!a.search.includes("#"),bg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let b=e.length-1;if(!s&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),b-=1;a.pathname=x.join("/")}f=b>=0?e[b]:"/"}let p=qN(a,f),d=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(d||y)&&(p.pathname+="/"),p}var dr=t=>t.join("/").replace(/\/\/+/g,"/"),GN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$N=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,KN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,YN=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function QN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function WN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var LE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function UE(t,e){let n=t;if(typeof n!="string"||!jE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(LE)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=yr(u.pathname,e);u.origin===l.origin&&f!=null?n=f+u.search+u.hash:a=!0}catch{qi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zE=["POST","PUT","PATCH","DELETE"];new Set(zE);var XN=["GET",...zE];new Set(XN);var Ll=I.createContext(null);Ll.displayName="DataRouter";var qd=I.createContext(null);qd.displayName="DataRouterState";var ZN=I.createContext(!1),BE=I.createContext({isTransitioning:!1});BE.displayName="ViewTransition";var JN=I.createContext(new Map);JN.displayName="Fetchers";var ek=I.createContext(null);ek.displayName="Await";var wi=I.createContext(null);wi.displayName="Navigation";var Pu=I.createContext(null);Pu.displayName="Location";var ls=I.createContext({outlet:null,matches:[],isDataRoute:!1});ls.displayName="Route";var s0=I.createContext(null);s0.displayName="RouteError";var FE="REACT_ROUTER_ERROR",tk="REDIRECT",nk="ROUTE_ERROR_RESPONSE";function ik(t){if(t.startsWith(`${FE}:${tk}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function sk(t){if(t.startsWith(`${FE}:${nk}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new YN(e.status,e.statusText,e.data)}catch{}}function rk(t,{relative:e}={}){Dt(Ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=I.useContext(wi),{hash:a,pathname:l,search:u}=ju(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:dr([n,l])),s.createHref({pathname:f,search:u,hash:a})}function Ul(){return I.useContext(Pu)!=null}function Aa(){return Dt(Ul(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Pu).location}var qE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HE(t){I.useContext(wi).static||I.useLayoutEffect(t)}function Ou(){let{isDataRoute:t}=I.useContext(ls);return t?bk():ak()}function ak(){Dt(Ul(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(Ll),{basename:e,navigator:n}=I.useContext(wi),{matches:s}=I.useContext(ls),{pathname:a}=Aa(),l=JSON.stringify(n0(s)),u=I.useRef(!1);return HE(()=>{u.current=!0}),I.useCallback((p,d={})=>{if(qi(u.current,qE),!u.current)return;if(typeof p=="number"){n.go(p);return}let y=i0(p,JSON.parse(l),a,d.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:dr([e,y.pathname])),(d.replace?n.replace:n.push)(y,d.state,d)},[e,n,l,a,t])}I.createContext(null);function ok(){let{matches:t}=I.useContext(ls),e=t[t.length-1];return e?e.params:{}}function ju(t,{relative:e}={}){let{matches:n}=I.useContext(ls),{pathname:s}=Aa(),a=JSON.stringify(n0(n));return I.useMemo(()=>i0(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function lk(t,e){return GE(t,e)}function GE(t,e,n,s,a){Dt(Ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(wi),{matches:u}=I.useContext(ls),f=u[u.length-1],p=f?f.params:{},d=f?f.pathname:"/",y=f?f.pathnameBase:"/",b=f&&f.route;{let Q=b&&b.path||"";KE(d,!b||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let x=Aa(),C;if(e){let Q=typeof e=="string"?jl(e):e;Dt(y==="/"||Q.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),C=Q}else C=x;let D=C.pathname||"/",j=D;if(y!=="/"){let Q=y.replace(/^\//,"").split("/");j="/"+D.replace(/^\//,"").split("/").slice(Q.length).join("/")}let N=VE(t,{pathname:j});qi(b||N!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),qi(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=dk(N&&N.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:dr([y,l.encodeLocation?l.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?y:dr([y,l.encodeLocation?l.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),u,n,s,a);return e&&G?I.createElement(Pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},G):G}function ck(){let t=vk(),e=QN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:a},n):null,u)}var uk=I.createElement(ck,null),$E=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=sk(t.digest);n&&(t=n)}let e=t!==void 0?I.createElement(ls.Provider,{value:this.props.routeContext},I.createElement(s0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?I.createElement(hk,{error:t},e):e}};$E.contextType=ZN;var _g=new WeakMap;function hk({children:t,error:e}){let{basename:n}=I.useContext(wi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=ik(e.digest);if(s){let a=_g.get(e);if(a)throw a;let l=UE(s.location,n);if(LE&&!_g.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw _g.set(e,u),u}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function fk({routeContext:t,match:e,children:n}){let s=I.useContext(Ll);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(ls.Provider,{value:t},n)}function dk(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(b=>b.route.id&&u?.[b.route.id]!==void 0);Dt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,p=-1;if(n)for(let y=0;y<l.length;y++){let b=l[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=y),b.route.id){let{loaderData:x,errors:C}=n,D=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!C||C[b.route.id]===void 0);if(b.route.lazy||D){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let d=n&&s?(y,b)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:WN(n.matches),errorInfo:b})}:void 0;return l.reduceRight((y,b,x)=>{let C,D=!1,j=null,N=null;n&&(C=u&&b.route.id?u[b.route.id]:void 0,j=b.route.errorElement||uk,f&&(p<0&&x===0?(KE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,N=null):p===x&&(D=!0,N=b.route.hydrateFallbackElement||null)));let G=e.concat(l.slice(0,x+1)),Q=()=>{let Y;return C?Y=j:D?Y=N:b.route.Component?Y=I.createElement(b.route.Component,null):b.route.element?Y=b.route.element:Y=y,I.createElement(fk,{match:b,routeContext:{outlet:y,matches:G,isDataRoute:n!=null},children:Y})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?I.createElement($E,{location:n.location,revalidation:n.revalidation,component:j,error:C,children:Q(),routeContext:{outlet:null,matches:G,isDataRoute:!0},onError:d}):Q()},null)}function r0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mk(t){let e=I.useContext(Ll);return Dt(e,r0(t)),e}function pk(t){let e=I.useContext(qd);return Dt(e,r0(t)),e}function gk(t){let e=I.useContext(ls);return Dt(e,r0(t)),e}function a0(t){let e=gk(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function yk(){return a0("useRouteId")}function vk(){let t=I.useContext(s0),e=pk("useRouteError"),n=a0("useRouteError");return t!==void 0?t:e.errors?.[n]}function bk(){let{router:t}=mk("useNavigate"),e=a0("useNavigate"),n=I.useRef(!1);return HE(()=>{n.current=!0}),I.useCallback(async(a,l={})=>{qi(n.current,qE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var bx={};function KE(t,e,n){!e&&!bx[t]&&(bx[t]=!0,qi(!1,n))}I.memo(_k);function _k({routes:t,future:e,state:n,onError:s}){return GE(t,void 0,n,s,e)}function _x({to:t,replace:e,state:n,relative:s}){Dt(Ul(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=I.useContext(wi);qi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=I.useContext(ls),{pathname:u}=Aa(),f=Ou(),p=i0(t,n0(l),u,s==="path"),d=JSON.stringify(p);return I.useEffect(()=>{f(JSON.parse(d),{replace:e,state:n,relative:s})},[f,d,s,e,n]),null}function ro(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wk({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){Dt(!Ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),p=I.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[f,a,l,u]);typeof n=="string"&&(n=jl(n));let{pathname:d="/",search:y="",hash:b="",state:x=null,key:C="default"}=n,D=I.useMemo(()=>{let j=yr(d,f);return j==null?null:{location:{pathname:j,search:y,hash:b,state:x,key:C},navigationType:s}},[f,d,y,b,x,C,s]);return qi(D!=null,`<Router basename="${f}"> is not able to match the URL "${d}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:I.createElement(wi.Provider,{value:p},I.createElement(Pu.Provider,{children:e,value:D}))}function xk({children:t,location:e}){return lk(iy(t),e)}function iy(t,e=[]){let n=[];return I.Children.forEach(t,(s,a)=>{if(!I.isValidElement(s))return;let l=[...e,a];if(s.type===I.Fragment){n.push.apply(n,iy(s.props.children,l));return}Dt(s.type===ro,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=iy(s.props.children,l)),n.push(u)}),n}var zf="get",Bf="application/x-www-form-urlencoded";function Hd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Tk(t){return Hd(t)&&t.tagName.toLowerCase()==="button"}function Ek(t){return Hd(t)&&t.tagName.toLowerCase()==="form"}function Sk(t){return Hd(t)&&t.tagName.toLowerCase()==="input"}function Ak(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ck(t,e){return t.button===0&&(!e||e==="_self")&&!Ak(t)}var Af=null;function Rk(){if(Af===null)try{new FormData(document.createElement("form"),0),Af=!1}catch{Af=!0}return Af}var Ik=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wg(t){return t!=null&&!Ik.has(t)?(qi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bf}"`),null):t}function Nk(t,e){let n,s,a,l,u;if(Ek(t)){let f=t.getAttribute("action");s=f?yr(f,e):null,n=t.getAttribute("method")||zf,a=wg(t.getAttribute("enctype"))||Bf,l=new FormData(t)}else if(Tk(t)||Sk(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(s=p?yr(p,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||zf,a=wg(t.getAttribute("formenctype"))||wg(f.getAttribute("enctype"))||Bf,l=new FormData(f,t),!Rk()){let{name:d,type:y,value:b}=t;if(y==="image"){let x=d?`${d}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else d&&l.append(d,b)}}else{if(Hd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zf,s=null,a=Bf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function o0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kk(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&yr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function Dk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Mk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Vk(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await Dk(l,n);return u.links?u.links():[]}return[]}));return Lk(s.flat(1).filter(Mk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function wx(t,e,n,s,a,l){let u=(p,d)=>n[d]?p.route.id!==n[d].route.id:!0,f=(p,d)=>n[d].pathname!==p.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,d)=>u(p,d)||f(p,d)):l==="data"?e.filter((p,d)=>{let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(u(p,d)||f(p,d))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Pk(t,e,{includeHydrateFallback:n}={}){return Ok(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Ok(t){return[...new Set(t)]}function jk(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function Lk(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(jk(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function YE(){let t=I.useContext(Ll);return o0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Uk(){let t=I.useContext(qd);return o0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var l0=I.createContext(void 0);l0.displayName="FrameworkContext";function QE(){let t=I.useContext(l0);return o0(t,"You must render this element inside a <HydratedRouter> element"),t}function zk(t,e){let n=I.useContext(l0),[s,a]=I.useState(!1),[l,u]=I.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:d,onMouseLeave:y,onTouchStart:b}=e,x=I.useRef(null);I.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let j=G=>{G.forEach(Q=>{u(Q.isIntersecting)})},N=new IntersectionObserver(j,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[t]),I.useEffect(()=>{if(s){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[s]);let C=()=>{a(!0)},D=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:Xc(f,C),onBlur:Xc(p,D),onMouseEnter:Xc(d,C),onMouseLeave:Xc(y,D),onTouchStart:Xc(b,C)}]:[!1,x,{}]}function Xc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Bk({page:t,...e}){let{router:n}=YE(),s=I.useMemo(()=>VE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?I.createElement(qk,{page:t,matches:s,...e}):null}function Fk(t){let{manifest:e,routeModules:n}=QE(),[s,a]=I.useState([]);return I.useEffect(()=>{let l=!1;return Vk(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function qk({page:t,matches:e,...n}){let s=Aa(),{future:a,manifest:l,routeModules:u}=QE(),{basename:f}=YE(),{loaderData:p,matches:d}=Uk(),y=I.useMemo(()=>wx(t,e,d,l,s,"data"),[t,e,d,l,s]),b=I.useMemo(()=>wx(t,e,d,l,s,"assets"),[t,e,d,l,s]),x=I.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let j=new Set,N=!1;if(e.forEach(Q=>{let Y=l.routes[Q.route.id];!Y||!Y.hasLoader||(!y.some(de=>de.route.id===Q.route.id)&&Q.route.id in p&&u[Q.route.id]?.shouldRevalidate||Y.hasClientLoader?N=!0:j.add(Q.route.id))}),j.size===0)return[];let G=kk(t,f,a.unstable_trailingSlashAwareDataRequests,"data");return N&&j.size>0&&G.searchParams.set("_routes",e.filter(Q=>j.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[G.pathname+G.search]},[f,a.unstable_trailingSlashAwareDataRequests,p,s,l,y,e,t,u]),C=I.useMemo(()=>Pk(b,l),[b,l]),D=Fk(b);return I.createElement(I.Fragment,null,x.map(j=>I.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),C.map(j=>I.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),D.map(({key:j,link:N})=>I.createElement("link",{key:j,nonce:n.nonce,...N})))}function Hk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Gk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gk&&(window.__reactRouterVersion="7.12.0")}catch{}function $k({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=I.useRef();a.current==null&&(a.current=SN({window:s,v5Compat:!0}));let l=a.current,[u,f]=I.useState({action:l.action,location:l.location}),p=I.useCallback(d=>{n===!1?f(d):I.startTransition(()=>f(d))},[n]);return I.useLayoutEffect(()=>l.listen(p),[l,p]),I.createElement(wk,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var WE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XE=I.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:f,target:p,to:d,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:x,...C},D){let{basename:j,unstable_useTransitions:N}=I.useContext(wi),G=typeof d=="string"&&WE.test(d),Q=UE(d,j);d=Q.to;let Y=rk(d,{relative:a}),[de,ae,ge]=zk(s,C),k=Wk(d,{replace:u,state:f,target:p,preventScrollReset:y,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:N});function S(z){e&&e(z),z.defaultPrevented||k(z)}let V=I.createElement("a",{...C,...ge,href:Q.absoluteURL||Y,onClick:Q.isExternal||l?e:S,ref:Hk(D,ae),target:p,"data-discover":!G&&n==="render"?"true":void 0});return de&&!G?I.createElement(I.Fragment,null,V,I.createElement(Bk,{page:Y})):V});XE.displayName="Link";var Kk=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:f,children:p,...d},y){let b=ju(u,{relative:d.relative}),x=Aa(),C=I.useContext(qd),{navigator:D,basename:j}=I.useContext(wi),N=C!=null&&tD(b)&&f===!0,G=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,Q=x.pathname,Y=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),Y=Y?Y.toLowerCase():null,G=G.toLowerCase()),Y&&j&&(Y=yr(Y,j)||Y);const de=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ae=Q===G||!a&&Q.startsWith(G)&&Q.charAt(de)==="/",ge=Y!=null&&(Y===G||!a&&Y.startsWith(G)&&Y.charAt(G.length)==="/"),k={isActive:ae,isPending:ge,isTransitioning:N},S=ae?e:void 0,V;typeof s=="function"?V=s(k):V=[s,ae?"active":null,ge?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let z=typeof l=="function"?l(k):l;return I.createElement(XE,{...d,"aria-current":S,className:V,ref:y,style:z,to:u,viewTransition:f},typeof p=="function"?p(k):p)});Kk.displayName="NavLink";var Yk=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=zf,action:f,onSubmit:p,relative:d,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:x,...C},D)=>{let{unstable_useTransitions:j}=I.useContext(wi),N=Jk(),G=eD(f,{relative:d}),Q=u.toLowerCase()==="get"?"get":"post",Y=typeof f=="string"&&WE.test(f),de=ae=>{if(p&&p(ae),ae.defaultPrevented)return;ae.preventDefault();let ge=ae.nativeEvent.submitter,k=ge?.getAttribute("formmethod")||u,S=()=>N(ge||ae.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:a,state:l,relative:d,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:x});j&&n!==!1?I.startTransition(()=>S()):S()};return I.createElement("form",{ref:D,method:Q,action:G,onSubmit:s?p:de,...C,"data-discover":!Y&&t==="render"?"true":void 0})});Yk.displayName="Form";function Qk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZE(t){let e=I.useContext(Ll);return Dt(e,Qk(t)),e}function Wk(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let d=Ou(),y=Aa(),b=ju(t,{relative:l});return I.useCallback(x=>{if(Ck(x,e)){x.preventDefault();let C=n!==void 0?n:xu(y)===xu(b),D=()=>d(t,{replace:C,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f});p?I.startTransition(()=>D()):D()}},[y,d,b,n,s,e,t,a,l,u,f,p])}var Xk=0,Zk=()=>`__${String(++Xk)}__`;function Jk(){let{router:t}=ZE("useSubmit"),{basename:e}=I.useContext(wi),n=yk(),s=t.fetch,a=t.navigate;return I.useCallback(async(l,u={})=>{let{action:f,method:p,encType:d,formData:y,body:b}=Nk(l,e);if(u.navigate===!1){let x=u.fetcherKey||Zk();await s(x,n,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:b,formMethod:u.method||p,formEncType:u.encType||d,flushSync:u.flushSync})}else await a(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:b,formMethod:u.method||p,formEncType:u.encType||d,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function eD(t,{relative:e}={}){let{basename:n}=I.useContext(wi),s=I.useContext(ls);Dt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...ju(t||".",{relative:e})},u=Aa();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(y=>y==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:dr([n,l.pathname])),xu(l)}function tD(t,{relative:e}={}){let n=I.useContext(BE);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ZE("useViewTransitionState"),a=ju(t,{relative:e});if(!n.isTransitioning)return!1;let l=yr(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=yr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return sd(a.pathname,u)!=null||sd(a.pathname,l)!=null}const nD="modulepreload",iD=function(t){return"/"+t},xx={},sy=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let p=function(d){return Promise.all(d.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");a=p(n.map(d=>{if(d=iD(d),d in xx)return;xx[d]=!0;const y=d.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${b}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":nD,y||(x.as="script"),x.crossOrigin="",x.href=d,f&&x.setAttribute("nonce",f),document.head.appendChild(x),y)return new Promise((C,D)=>{x.addEventListener("load",C),x.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})},sD=()=>{};var Tx={};const JE=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},rD=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},eS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,p=a+2<t.length,d=p?t[a+2]:0,y=l>>2,b=(l&3)<<4|f>>4;let x=(f&15)<<2|d>>6,C=d&63;p||(C=64,u||(x=64)),s.push(n[y],n[b],n[x],n[C])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const d=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||d==null||b==null)throw new aD;const x=l<<2|f>>4;if(s.push(x),d!==64){const C=f<<4&240|d>>2;if(s.push(C),b!==64){const D=d<<6&192|b;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oD=function(t){const e=JE(t);return eS.encodeByteArray(e,!0)},rd=function(t){return oD(t).replace(/\./g,"")},tS=function(t){try{return eS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const cD=()=>lD().__FIREBASE_DEFAULTS__,uD=()=>{if(typeof process>"u"||typeof Tx>"u")return;const t=Tx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tS(t[1]);return e&&JSON.parse(e)},Gd=()=>{try{return sD()||cD()||uD()||hD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nS=t=>Gd()?.emulatorHosts?.[t],iS=t=>{const e=nS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},sS=()=>Gd()?.config,rS=t=>Gd()?.[`_${t}`];class fD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function wo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function c0(t){return(await fetch(t,{credentials:"include"})).ok}function aS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[rd(JSON.stringify(n)),rd(JSON.stringify(u)),""].join(".")}const cu={};function dD(){const t={prod:[],emulator:[]};for(const e of Object.keys(cu))cu[e]?t.emulator.push(e):t.prod.push(e);return t}function mD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ex=!1;function u0(t,e){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||cu[t]===e||cu[t]||Ex)return;cu[t]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",l=dD().prod.length>0;function u(){const x=document.getElementById(s);x&&x.remove()}function f(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,C){x.setAttribute("width","24"),x.setAttribute("id",C),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function d(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Ex=!0,u()},x}function y(x,C){x.setAttribute("id",C),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=mD(s),C=n("text"),D=document.getElementById(C)||document.createElement("span"),j=n("learnmore"),N=document.getElementById(j)||document.createElement("a"),G=n("preprendIcon"),Q=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const Y=x.element;f(Y),y(N,j);const de=d();p(Q,G),Y.append(Q,D,N,de),document.body.appendChild(Y)}l?(D.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function gD(){const t=Gd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _D(){const t=Pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wD(){return!gD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xD(){try{return typeof indexedDB=="object"}catch{return!1}}function TD(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const ED="FirebaseError";class Os extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ED,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lu.prototype.create)}}class Lu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?SD(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Os(a,f,s)}}function SD(t,e){return t.replace(AD,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const AD=/\{\$([^}]+)}/g;function CD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function po(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(Sx(l)&&Sx(u)){if(!po(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Sx(t){return t!==null&&typeof t=="object"}function Uu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function RD(t,e){const n=new ID(t,e);return n.subscribe.bind(n)}class ID{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");ND(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=xg),a.error===void 0&&(a.error=xg),a.complete===void 0&&(a.complete=xg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ND(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xg(){}function pn(t){return t&&t._delegate?t._delegate:t}class ya{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ao="[DEFAULT]";class kD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new fD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MD(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DD(t){return t===ao?void 0:t}function MD(t){return t.instantiationMode==="EAGER"}class VD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const PD={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},OD=Je.INFO,jD={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},LD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=jD[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class h0{constructor(e){this.name=e,this._logLevel=OD,this._logHandler=LD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const UD=(t,e)=>e.some(n=>t instanceof n);let Ax,Cx;function zD(){return Ax||(Ax=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BD(){return Cx||(Cx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oS=new WeakMap,ry=new WeakMap,lS=new WeakMap,Tg=new WeakMap,f0=new WeakMap;function FD(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(fa(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&oS.set(n,t)}).catch(()=>{}),f0.set(e,t),e}function qD(t){if(ry.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});ry.set(t,e)}let ay={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ry.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HD(t){ay=t(ay)}function GD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Eg(this),e,...n);return lS.set(s,e.sort?e.sort():[e]),fa(s)}:BD().includes(t)?function(...e){return t.apply(Eg(this),e),fa(oS.get(this))}:function(...e){return fa(t.apply(Eg(this),e))}}function $D(t){return typeof t=="function"?GD(t):(t instanceof IDBTransaction&&qD(t),UD(t,zD())?new Proxy(t,ay):t)}function fa(t){if(t instanceof IDBRequest)return FD(t);if(Tg.has(t))return Tg.get(t);const e=$D(t);return e!==t&&(Tg.set(t,e),f0.set(e,t)),e}const Eg=t=>f0.get(t);function KD(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=fa(u);return s&&u.addEventListener("upgradeneeded",p=>{s(fa(u.result),p.oldVersion,p.newVersion,fa(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}const YD=["get","getKey","getAll","getAllKeys","count"],QD=["put","add","delete","clear"],Sg=new Map;function Rx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sg.get(e))return Sg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=QD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||YD.includes(n)))return;const l=async function(u,...f){const p=this.transaction(u,a?"readwrite":"readonly");let d=p.store;return s&&(d=d.index(f.shift())),(await Promise.all([d[n](...f),a&&p.done]))[0]};return Sg.set(e,l),l}HD(t=>({...t,get:(e,n,s)=>Rx(e,n)||t.get(e,n,s),has:(e,n)=>!!Rx(e,n)||t.has(e,n)}));class WD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function XD(t){return t.getComponent()?.type==="VERSION"}const oy="@firebase/app",Ix="0.14.7";const vr=new h0("@firebase/app"),ZD="@firebase/app-compat",JD="@firebase/analytics-compat",eM="@firebase/analytics",tM="@firebase/app-check-compat",nM="@firebase/app-check",iM="@firebase/auth",sM="@firebase/auth-compat",rM="@firebase/database",aM="@firebase/data-connect",oM="@firebase/database-compat",lM="@firebase/functions",cM="@firebase/functions-compat",uM="@firebase/installations",hM="@firebase/installations-compat",fM="@firebase/messaging",dM="@firebase/messaging-compat",mM="@firebase/performance",pM="@firebase/performance-compat",gM="@firebase/remote-config",yM="@firebase/remote-config-compat",vM="@firebase/storage",bM="@firebase/storage-compat",_M="@firebase/firestore",wM="@firebase/ai",xM="@firebase/firestore-compat",TM="firebase",EM="12.8.0";const ly="[DEFAULT]",SM={[oy]:"fire-core",[ZD]:"fire-core-compat",[eM]:"fire-analytics",[JD]:"fire-analytics-compat",[nM]:"fire-app-check",[tM]:"fire-app-check-compat",[iM]:"fire-auth",[sM]:"fire-auth-compat",[rM]:"fire-rtdb",[aM]:"fire-data-connect",[oM]:"fire-rtdb-compat",[lM]:"fire-fn",[cM]:"fire-fn-compat",[uM]:"fire-iid",[hM]:"fire-iid-compat",[fM]:"fire-fcm",[dM]:"fire-fcm-compat",[mM]:"fire-perf",[pM]:"fire-perf-compat",[gM]:"fire-rc",[yM]:"fire-rc-compat",[vM]:"fire-gcs",[bM]:"fire-gcs-compat",[_M]:"fire-fst",[xM]:"fire-fst-compat",[wM]:"fire-vertex","fire-js":"fire-js",[TM]:"fire-js-all"};const ad=new Map,AM=new Map,cy=new Map;function Nx(t,e){try{t.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function go(t){const e=t.name;if(cy.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;cy.set(e,t);for(const n of ad.values())Nx(n,t);for(const n of AM.values())Nx(n,t);return!0}function $d(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Li(t){return t==null?!1:t.settings!==void 0}const CM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},da=new Lu("app","Firebase",CM);class RM{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw da.create("app-deleted",{appName:this._name})}}const xo=EM;function cS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:ly,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw da.create("bad-app-name",{appName:String(a)});if(n||(n=sS()),!n)throw da.create("no-options");const l=ad.get(a);if(l){if(po(n,l.options)&&po(s,l.config))return l;throw da.create("duplicate-app",{appName:a})}const u=new VD(a);for(const p of cy.values())u.addComponent(p);const f=new RM(n,s,u);return ad.set(a,f),f}function d0(t=ly){const e=ad.get(t);if(!e&&t===ly&&sS())return cS();if(!e)throw da.create("no-app",{appName:t});return e}function As(t,e,n){let s=SM[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(u.join(" "));return}go(new ya(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const IM="firebase-heartbeat-database",NM=1,Tu="firebase-heartbeat-store";let Ag=null;function uS(){return Ag||(Ag=KD(IM,NM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw da.create("idb-open",{originalErrorMessage:t.message})})),Ag}async function kM(t){try{const n=(await uS()).transaction(Tu),s=await n.objectStore(Tu).get(hS(t));return await n.done,s}catch(e){if(e instanceof Os)vr.warn(e.message);else{const n=da.create("idb-get",{originalErrorMessage:e?.message});vr.warn(n.message)}}}async function kx(t,e){try{const s=(await uS()).transaction(Tu,"readwrite");await s.objectStore(Tu).put(e,hS(t)),await s.done}catch(n){if(n instanceof Os)vr.warn(n.message);else{const s=da.create("idb-set",{originalErrorMessage:n?.message});vr.warn(s.message)}}}function hS(t){return`${t.name}!${t.options.appId}`}const DM=1024,MM=30;class VM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Dx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>MM){const a=jM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Dx(),{heartbeatsToSend:n,unsentEntries:s}=PM(this._heartbeatsCache.heartbeats),a=rd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return vr.warn(e),""}}}function Dx(){return new Date().toISOString().substring(0,10)}function PM(t,e=DM){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Mx(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Mx(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class OM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xD()?TD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return kx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return kx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Mx(t){return rd(JSON.stringify({version:2,heartbeats:t})).length}function jM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function LM(t){go(new ya("platform-logger",e=>new WD(e),"PRIVATE")),go(new ya("heartbeat",e=>new VM(e),"PRIVATE")),As(oy,Ix,t),As(oy,Ix,"esm2020"),As("fire-js","")}LM("");var UM="firebase",zM="12.8.0";As(UM,zM,"app");function fS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BM=fS,dS=new Lu("auth","Firebase",fS());const od=new h0("@firebase/auth");function FM(t,...e){od.logLevel<=Je.WARN&&od.warn(`Auth (${xo}): ${t}`,...e)}function Ff(t,...e){od.logLevel<=Je.ERROR&&od.error(`Auth (${xo}): ${t}`,...e)}function ks(t,...e){throw p0(t,...e)}function rs(t,...e){return p0(t,...e)}function m0(t,e,n){const s={...BM(),[e]:n};return new Lu("auth","Firebase",s).create(e,{appName:t.name})}function fo(t){return m0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qM(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ks(t,"argument-error"),m0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function p0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return dS.create(t,...e)}function Pe(t,e,...n){if(!t)throw p0(e,...n)}function ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ff(e),new Error(e)}function br(t,e){t||ur(e)}function uy(){return typeof self<"u"&&self.location?.href||""}function HM(){return Vx()==="http:"||Vx()==="https:"}function Vx(){return typeof self<"u"&&self.location?.protocol||null}function GM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HM()||vD()||"connection"in navigator)?navigator.onLine:!0}function $M(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=pD()||bD()}get(){return GM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function g0(t,e){br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class mS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const KM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const YM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QM=new zu(3e4,6e4);function y0(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function zl(t,e,n,s,a={}){return pS(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=Uu({key:t.config.apiKey,...u}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:p,...l};return yD()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&wo(t.emulatorConfig.host)&&(d.credentials="include"),mS.fetch()(await gS(t,t.config.apiHost,n,f),d)})}async function pS(t,e,n){t._canInitEmulator=!1;const s={...KM,...e};try{const a=new XM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Cf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[p,d]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cf(t,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Cf(t,"email-already-in-use",u);if(p==="USER_DISABLED")throw Cf(t,"user-disabled",u);const y=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw m0(t,y,d);ks(t,y)}}catch(a){if(a instanceof Os)throw a;ks(t,"network-request-failed",{message:String(a)})}}async function WM(t,e,n,s,a={}){const l=await zl(t,e,n,s,a);return"mfaPendingCredential"in l&&ks(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function gS(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?g0(t.config,a):`${t.config.apiScheme}://${a}`;return YM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class XM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(rs(this.auth,"network-request-failed")),QM.get())})}}function Cf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=rs(t,e,s);return a.customData._tokenResponse=n,a}async function ZM(t,e){return zl(t,"POST","/v1/accounts:delete",e)}async function ld(t,e){return zl(t,"POST","/v1/accounts:lookup",e)}function uu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JM(t,e=!1){const n=pn(t),s=await n.getIdToken(e),a=v0(s);Pe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:uu(Cg(a.auth_time)),issuedAtTime:uu(Cg(a.iat)),expirationTime:uu(Cg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Cg(t){return Number(t)*1e3}function v0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Ff("JWT malformed, contained fewer than 3 sections"),null;try{const a=tS(n);return a?JSON.parse(a):(Ff("Failed to decode base64 JWT payload"),null)}catch(a){return Ff("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Px(t){const e=v0(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Eu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Os&&eV(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function eV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class tV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class hy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cd(t){const e=t.auth,n=await t.getIdToken(),s=await Eu(t,ld(e,{idToken:n}));Pe(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?yS(a.providerUserInfo):[],u=iV(t.providerData,l),f=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!u?.length,d=f?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new hy(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,y)}async function nV(t){const e=pn(t);await cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iV(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function yS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function sV(t,e){const n=await pS(t,{},async()=>{const s=Uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await gS(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:s};return t.emulatorConfig&&wo(t.emulatorConfig.host)&&(p.credentials="include"),mS.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rV(t,e){return zl(t,"POST","/v2/accounts:revokeToken",y0(t,e))}class xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Px(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=Px(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await sV(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new xl;return s&&(Pe(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Pe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Pe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xl,this.toJSON())}_performRefresh(){return ur("not implemented")}}function ia(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ns{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new tV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new hy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Eu(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JM(this,e)}reload(){return nV(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ns({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await cd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Li(this.auth.app))return Promise.reject(fo(this.auth));const e=await this.getIdToken();return await Eu(this,ZM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,p=n._redirectEventId??void 0,d=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:C,providerData:D,stsTokenManager:j}=n;Pe(b&&j,e,"internal-error");const N=xl.fromJSON(this.name,j);Pe(typeof b=="string",e,"internal-error"),ia(s,e.name),ia(a,e.name),Pe(typeof x=="boolean",e,"internal-error"),Pe(typeof C=="boolean",e,"internal-error"),ia(l,e.name),ia(u,e.name),ia(f,e.name),ia(p,e.name),ia(d,e.name),ia(y,e.name);const G=new ns({uid:b,auth:e,email:a,emailVerified:x,displayName:s,isAnonymous:C,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:N,createdAt:d,lastLoginAt:y});return D&&Array.isArray(D)&&(G.providerData=D.map(Q=>({...Q}))),p&&(G._redirectEventId=p),G}static async _fromIdTokenResponse(e,n,s=!1){const a=new xl;a.updateFromServerResponse(n);const l=new ns({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await cd(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Pe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?yS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new xl;f.updateFromIdToken(s);const p=new ns({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new hy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,d),p}}const Ox=new Map;function hr(t){br(t instanceof Function,"Expected a class definition");let e=Ox.get(t);return e?(br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ox.set(t,e),e)}class vS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vS.type="NONE";const jx=vS;function qf(t,e,n){return`firebase:${t}:${e}:${n}`}class Tl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=qf(this.userKey,a.apiKey,l),this.fullPersistenceKey=qf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ld(this.auth,{idToken:e}).catch(()=>{});return n?ns._fromGetAccountInfoResponse(this.auth,n,e):null}return ns._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Tl(hr(jx),e,s);const a=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let l=a[0]||hr(jx);const u=qf(s,e.config.apiKey,e.name);let f=null;for(const d of n)try{const y=await d._get(u);if(y){let b;if(typeof y=="string"){const x=await ld(e,{idToken:y}).catch(()=>{});if(!x)break;b=await ns._fromGetAccountInfoResponse(e,x,y)}else b=ns._fromJSON(e,y);d!==l&&(f=b),l=d;break}}catch{}const p=a.filter(d=>d._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Tl(l,e,s):(l=p[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async d=>{if(d!==l)try{await d._remove(u)}catch{}})),new Tl(l,e,s))}}function Lx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ES(e))return"Blackberry";if(SS(e))return"Webos";if(_S(e))return"Safari";if((e.includes("chrome/")||wS(e))&&!e.includes("edge/"))return"Chrome";if(TS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function bS(t=Pn()){return/firefox\//i.test(t)}function _S(t=Pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wS(t=Pn()){return/crios\//i.test(t)}function xS(t=Pn()){return/iemobile/i.test(t)}function TS(t=Pn()){return/android/i.test(t)}function ES(t=Pn()){return/blackberry/i.test(t)}function SS(t=Pn()){return/webos/i.test(t)}function b0(t=Pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aV(t=Pn()){return b0(t)&&!!window.navigator?.standalone}function oV(){return _D()&&document.documentMode===10}function AS(t=Pn()){return b0(t)||TS(t)||SS(t)||ES(t)||/windows phone/i.test(t)||xS(t)}function CS(t,e=[]){let n;switch(t){case"Browser":n=Lx(Pn());break;case"Worker":n=`${Lx(Pn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${s}`}class lV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const p=e(l);u(p)}catch(p){f(p)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function cV(t,e={}){return zl(t,"GET","/v2/passwordPolicy",y0(t,e))}const uV=6;class hV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class fV{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ux(this),this.idTokenSubscription=new Ux(this),this.beforeStateQueue=new lV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Tl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ld(this,{idToken:e}),s=await ns._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Li(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$M()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Li(this.app))return Promise.reject(fo(this));const n=e?pn(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Li(this.app)?Promise.reject(fo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Li(this.app)?Promise.reject(fo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cV(this),n=new hV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await rV(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hr(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await Tl.create(this,[hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,a);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&FM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Kd(t){return pn(t)}class Ux{constructor(e){this.auth=e,this.observer=null,this.addObserver=RD(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dV(t){_0=t}function mV(t){return _0.loadJS(t)}function pV(){return _0.gapiScript}function gV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function yV(t,e){const n=$d(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(po(l,e??{}))return a;ks(a,"already-initialized")}return n.initialize({options:e})}function vV(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(hr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function bV(t,e,n){const s=Kd(t);Pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=RS(e),{host:u,port:f}=_V(e),p=f===null?"":`:${f}`,d={url:`${l}//${u}${p}/`},y=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Pe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Pe(po(d,s.config.emulator)&&po(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,wo(u)?(c0(`${l}//${u}${p}`),u0("Auth",!0)):wV()}function RS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _V(t){const e=RS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:zx(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:zx(u)}}}function zx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class IS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function El(t,e){return WM(t,"POST","/v1/accounts:signInWithIdp",y0(t,e))}const xV="http://localhost";class yo extends IS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ks("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new yo(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return El(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,El(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,El(e,n)}buildRequest(){const e={requestUri:xV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uu(n)}return e}}class w0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bu extends w0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class aa extends Bu{constructor(){super("facebook.com")}static credential(e){return yo._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";aa.PROVIDER_ID="facebook.com";class cr extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yo._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return cr.credential(n,s)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";class oa extends Bu{constructor(){super("github.com")}static credential(e){return yo._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oa.credential(e.oauthAccessToken)}catch{return null}}}oa.GITHUB_SIGN_IN_METHOD="github.com";oa.PROVIDER_ID="github.com";class la extends Bu{constructor(){super("twitter.com")}static credential(e,n){return yo._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return la.credential(n,s)}catch{return null}}}la.TWITTER_SIGN_IN_METHOD="twitter.com";la.PROVIDER_ID="twitter.com";class Rl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await ns._fromIdTokenResponse(e,s,a),u=Bx(s);return new Rl({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=Bx(s);return new Rl({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function Bx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class ud extends Os{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,ud.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new ud(e,n,s,a)}}function NS(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ud._fromErrorAndOperation(t,l,e,s):l})}async function TV(t,e,n=!1){const s=await Eu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Rl._forOperation(t,"link",s)}async function EV(t,e,n=!1){const{auth:s}=t;if(Li(s.app))return Promise.reject(fo(s));const a="reauthenticate";try{const l=await Eu(t,NS(s,a,e,t),n);Pe(l.idToken,s,"internal-error");const u=v0(l.idToken);Pe(u,s,"internal-error");const{sub:f}=u;return Pe(t.uid===f,s,"user-mismatch"),Rl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ks(s,"user-mismatch"),l}}async function SV(t,e,n=!1){if(Li(t.app))return Promise.reject(fo(t));const s="signIn",a=await NS(t,s,e),l=await Rl._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}function AV(t,e,n,s){return pn(t).onIdTokenChanged(e,n,s)}function CV(t,e,n){return pn(t).beforeAuthStateChanged(e,n)}function RV(t,e,n,s){return pn(t).onAuthStateChanged(e,n,s)}function IV(t){return pn(t).signOut()}const hd="__sak";class kS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hd,"1"),this.storage.removeItem(hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const NV=1e3,kV=10;class DS extends kS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);oV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,kV):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},NV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}DS.type="LOCAL";const DV=DS;class MS extends kS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MS.type="SESSION";const VS=MS;function MV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Yd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async d=>d(n.origin,l)),p=await MV(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yd.receivers=[];function x0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class VV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,p)=>{const d=x0("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(b){const x=b;if(x.data.eventId===d)switch(x.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(x.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Cs(){return window}function PV(t){Cs().location.href=t}function PS(){return typeof Cs().WorkerGlobalScope<"u"&&typeof Cs().importScripts=="function"}async function OV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jV(){return navigator?.serviceWorker?.controller||null}function LV(){return PS()?self:null}const OS="firebaseLocalStorageDb",UV=1,fd="firebaseLocalStorage",jS="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qd(t,e){return t.transaction([fd],e?"readwrite":"readonly").objectStore(fd)}function zV(){const t=indexedDB.deleteDatabase(OS);return new Fu(t).toPromise()}function fy(){const t=indexedDB.open(OS,UV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(fd,{keyPath:jS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(fd)?e(s):(s.close(),await zV(),e(await fy()))})})}async function Fx(t,e,n){const s=Qd(t,!0).put({[jS]:e,value:n});return new Fu(s).toPromise()}async function BV(t,e){const n=Qd(t,!1).get(e),s=await new Fu(n).toPromise();return s===void 0?null:s.value}function qx(t,e){const n=Qd(t,!0).delete(e);return new Fu(n).toPromise()}const FV=800,qV=3;class LS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>qV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yd._getInstance(LV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OV(),!this.activeServiceWorker)return;this.sender=new VV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fy();return await Fx(e,hd,"1"),await qx(e,hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Fx(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>BV(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Qd(a,!1).getAll();return new Fu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LS.type="LOCAL";const HV=LS;new zu(3e4,6e4);function US(t,e){return e?hr(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class T0 extends IS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return El(e,this._buildIdpRequest())}_linkToIdToken(e,n){return El(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return El(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GV(t){return SV(t.auth,new T0(t),t.bypassAuthState)}function $V(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),EV(n,new T0(t),t.bypassAuthState)}async function KV(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),TV(n,new T0(t),t.bypassAuthState)}class zS{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GV;case"linkViaPopup":case"linkViaRedirect":return KV;case"reauthViaPopup":case"reauthViaRedirect":return $V;default:ks(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const YV=new zu(2e3,1e4);async function QV(t,e,n){if(Li(t.app))return Promise.reject(rs(t,"operation-not-supported-in-this-environment"));const s=Kd(t);qM(t,e,w0);const a=US(s,n);return new lo(s,"signInViaPopup",e,a).executeNotNull()}class lo extends zS{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=x0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(rs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YV.get())};e()}}lo.currentPopupAction=null;const WV="pendingRedirect",Hf=new Map;class XV extends zS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Hf.get(this.auth._key());if(!e){try{const s=await ZV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Hf.set(this.auth._key(),e)}return this.bypassAuthState||Hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZV(t,e){const n=tP(e),s=eP(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function JV(t,e){Hf.set(t._key(),e)}function eP(t){return hr(t._redirectPersistence)}function tP(t){return qf(WV,t.config.apiKey,t.name)}async function nP(t,e,n=!1){if(Li(t.app))return Promise.reject(fo(t));const s=Kd(t),a=US(s,e),u=await new XV(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const iP=600*1e3;class sP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!BS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(rs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hx(e))}saveEventToCache(e){this.cachedEventUids.add(Hx(e)),this.lastProcessedEventTime=Date.now()}}function Hx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function rP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BS(t);default:return!1}}async function aP(t,e={}){return zl(t,"GET","/v1/projects",e)}const oP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lP=/^https?/;async function cP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aP(t);for(const n of e)try{if(uP(n))return}catch{}ks(t,"unauthorized-domain")}function uP(t){const e=uy(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!lP.test(n))return!1;if(oP.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const hP=new zu(3e4,6e4);function Gx(){const t=Cs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fP(t){return new Promise((e,n)=>{function s(){Gx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gx(),n(rs(t,"network-request-failed"))},timeout:hP.get()})}if(Cs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Cs().gapi?.load)s();else{const a=gV("iframefcb");return Cs()[a]=()=>{gapi.load?s():n(rs(t,"network-request-failed"))},mV(`${pV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Gf=null,e})}let Gf=null;function dP(t){return Gf=Gf||fP(t),Gf}const mP=new zu(5e3,15e3),pP="__/auth/iframe",gP="emulator/auth/iframe",yP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bP(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?g0(e,gP):`https://${t.config.authDomain}/${pP}`,s={apiKey:e.apiKey,appName:t.name,v:xo},a=vP.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Uu(s).slice(1)}`}async function _P(t){const e=await dP(t),n=Cs().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:bP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yP,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=rs(t,"network-request-failed"),f=Cs().setTimeout(()=>{l(u)},mP.get());function p(){Cs().clearTimeout(f),a(s)}s.ping(p).then(p,()=>{l(u)})}))}const wP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xP=500,TP=600,EP="_blank",SP="http://localhost";class $x{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AP(t,e,n,s=xP,a=TP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p={...wP,width:s.toString(),height:a.toString(),top:l,left:u},d=Pn().toLowerCase();n&&(f=wS(d)?EP:n),bS(d)&&(e=e||SP,p.scrollbars="yes");const y=Object.entries(p).reduce((x,[C,D])=>`${x}${C}=${D},`,"");if(aV(d)&&f!=="_self")return CP(e||"",f),new $x(null);const b=window.open(e||"",f,y);Pe(b,t,"popup-blocked");try{b.focus()}catch{}return new $x(b)}function CP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const RP="__/auth/handler",IP="emulator/auth/handler",NP=encodeURIComponent("fac");async function Kx(t,e,n,s,a,l){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:xo,eventId:a};if(e instanceof w0){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",CD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))u[y]=b}if(e instanceof Bu){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const p=await t._getAppCheckToken(),d=p?`#${NP}=${encodeURIComponent(p)}`:"";return`${kP(t)}?${Uu(f).slice(1)}${d}`}function kP({config:t}){return t.emulator?g0(t,IP):`https://${t.authDomain}/${RP}`}const Rg="webStorageSupport";class DP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VS,this._completeRedirectFn=nP,this._overrideRedirectResult=JV}async _openPopup(e,n,s,a){br(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Kx(e,n,s,uy(),a);return AP(e,l,x0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await Kx(e,n,s,uy(),a);return PV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(br(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await _P(e),s=new sP(e);return n.register("authEvent",a=>(Pe(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rg,{type:Rg},a=>{const l=a?.[0]?.[Rg];l!==void 0&&n(!!l),ks(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AS()||_S()||b0()}}const MP=DP;var Yx="@firebase/auth",Qx="1.12.0";class VP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function PP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OP(t){go(new ya("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;Pe(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CS(t)},d=new fV(s,a,l,p);return vV(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),go(new ya("auth-internal",e=>{const n=Kd(e.getProvider("auth").getImmediate());return(s=>new VP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),As(Yx,Qx,PP(t)),As(Yx,Qx,"esm2020")}const jP=300,LP=rS("authIdTokenMaxAge")||jP;let Wx=null;const UP=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>LP)return;const a=n?.token;Wx!==a&&(Wx=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function zP(t=d0()){const e=$d(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yV(t,{popupRedirectResolver:MP,persistence:[HV,DV,VS]}),s=rS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=UP(l.toString());CV(n,u,()=>u(n.currentUser)),AV(n,f=>u(f))}}const a=nS("auth");return a&&bV(n,`http://${a}`),n}function BP(){return document.getElementsByTagName("head")?.[0]??document}dV({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=rs("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",BP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OP("Browser");var Xx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ma,FS;(function(){var t;function e(k,S){function V(){}V.prototype=S.prototype,k.F=S.prototype,k.prototype=new V,k.prototype.constructor=k,k.D=function(z,U,P){for(var M=Array(arguments.length-2),be=2;be<arguments.length;be++)M[be-2]=arguments[be];return S.prototype[U].apply(z,M)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,S,V){V||(V=0);const z=Array(16);if(typeof S=="string")for(var U=0;U<16;++U)z[U]=S.charCodeAt(V++)|S.charCodeAt(V++)<<8|S.charCodeAt(V++)<<16|S.charCodeAt(V++)<<24;else for(U=0;U<16;++U)z[U]=S[V++]|S[V++]<<8|S[V++]<<16|S[V++]<<24;S=k.g[0],V=k.g[1],U=k.g[2];let P=k.g[3],M;M=S+(P^V&(U^P))+z[0]+3614090360&4294967295,S=V+(M<<7&4294967295|M>>>25),M=P+(U^S&(V^U))+z[1]+3905402710&4294967295,P=S+(M<<12&4294967295|M>>>20),M=U+(V^P&(S^V))+z[2]+606105819&4294967295,U=P+(M<<17&4294967295|M>>>15),M=V+(S^U&(P^S))+z[3]+3250441966&4294967295,V=U+(M<<22&4294967295|M>>>10),M=S+(P^V&(U^P))+z[4]+4118548399&4294967295,S=V+(M<<7&4294967295|M>>>25),M=P+(U^S&(V^U))+z[5]+1200080426&4294967295,P=S+(M<<12&4294967295|M>>>20),M=U+(V^P&(S^V))+z[6]+2821735955&4294967295,U=P+(M<<17&4294967295|M>>>15),M=V+(S^U&(P^S))+z[7]+4249261313&4294967295,V=U+(M<<22&4294967295|M>>>10),M=S+(P^V&(U^P))+z[8]+1770035416&4294967295,S=V+(M<<7&4294967295|M>>>25),M=P+(U^S&(V^U))+z[9]+2336552879&4294967295,P=S+(M<<12&4294967295|M>>>20),M=U+(V^P&(S^V))+z[10]+4294925233&4294967295,U=P+(M<<17&4294967295|M>>>15),M=V+(S^U&(P^S))+z[11]+2304563134&4294967295,V=U+(M<<22&4294967295|M>>>10),M=S+(P^V&(U^P))+z[12]+1804603682&4294967295,S=V+(M<<7&4294967295|M>>>25),M=P+(U^S&(V^U))+z[13]+4254626195&4294967295,P=S+(M<<12&4294967295|M>>>20),M=U+(V^P&(S^V))+z[14]+2792965006&4294967295,U=P+(M<<17&4294967295|M>>>15),M=V+(S^U&(P^S))+z[15]+1236535329&4294967295,V=U+(M<<22&4294967295|M>>>10),M=S+(U^P&(V^U))+z[1]+4129170786&4294967295,S=V+(M<<5&4294967295|M>>>27),M=P+(V^U&(S^V))+z[6]+3225465664&4294967295,P=S+(M<<9&4294967295|M>>>23),M=U+(S^V&(P^S))+z[11]+643717713&4294967295,U=P+(M<<14&4294967295|M>>>18),M=V+(P^S&(U^P))+z[0]+3921069994&4294967295,V=U+(M<<20&4294967295|M>>>12),M=S+(U^P&(V^U))+z[5]+3593408605&4294967295,S=V+(M<<5&4294967295|M>>>27),M=P+(V^U&(S^V))+z[10]+38016083&4294967295,P=S+(M<<9&4294967295|M>>>23),M=U+(S^V&(P^S))+z[15]+3634488961&4294967295,U=P+(M<<14&4294967295|M>>>18),M=V+(P^S&(U^P))+z[4]+3889429448&4294967295,V=U+(M<<20&4294967295|M>>>12),M=S+(U^P&(V^U))+z[9]+568446438&4294967295,S=V+(M<<5&4294967295|M>>>27),M=P+(V^U&(S^V))+z[14]+3275163606&4294967295,P=S+(M<<9&4294967295|M>>>23),M=U+(S^V&(P^S))+z[3]+4107603335&4294967295,U=P+(M<<14&4294967295|M>>>18),M=V+(P^S&(U^P))+z[8]+1163531501&4294967295,V=U+(M<<20&4294967295|M>>>12),M=S+(U^P&(V^U))+z[13]+2850285829&4294967295,S=V+(M<<5&4294967295|M>>>27),M=P+(V^U&(S^V))+z[2]+4243563512&4294967295,P=S+(M<<9&4294967295|M>>>23),M=U+(S^V&(P^S))+z[7]+1735328473&4294967295,U=P+(M<<14&4294967295|M>>>18),M=V+(P^S&(U^P))+z[12]+2368359562&4294967295,V=U+(M<<20&4294967295|M>>>12),M=S+(V^U^P)+z[5]+4294588738&4294967295,S=V+(M<<4&4294967295|M>>>28),M=P+(S^V^U)+z[8]+2272392833&4294967295,P=S+(M<<11&4294967295|M>>>21),M=U+(P^S^V)+z[11]+1839030562&4294967295,U=P+(M<<16&4294967295|M>>>16),M=V+(U^P^S)+z[14]+4259657740&4294967295,V=U+(M<<23&4294967295|M>>>9),M=S+(V^U^P)+z[1]+2763975236&4294967295,S=V+(M<<4&4294967295|M>>>28),M=P+(S^V^U)+z[4]+1272893353&4294967295,P=S+(M<<11&4294967295|M>>>21),M=U+(P^S^V)+z[7]+4139469664&4294967295,U=P+(M<<16&4294967295|M>>>16),M=V+(U^P^S)+z[10]+3200236656&4294967295,V=U+(M<<23&4294967295|M>>>9),M=S+(V^U^P)+z[13]+681279174&4294967295,S=V+(M<<4&4294967295|M>>>28),M=P+(S^V^U)+z[0]+3936430074&4294967295,P=S+(M<<11&4294967295|M>>>21),M=U+(P^S^V)+z[3]+3572445317&4294967295,U=P+(M<<16&4294967295|M>>>16),M=V+(U^P^S)+z[6]+76029189&4294967295,V=U+(M<<23&4294967295|M>>>9),M=S+(V^U^P)+z[9]+3654602809&4294967295,S=V+(M<<4&4294967295|M>>>28),M=P+(S^V^U)+z[12]+3873151461&4294967295,P=S+(M<<11&4294967295|M>>>21),M=U+(P^S^V)+z[15]+530742520&4294967295,U=P+(M<<16&4294967295|M>>>16),M=V+(U^P^S)+z[2]+3299628645&4294967295,V=U+(M<<23&4294967295|M>>>9),M=S+(U^(V|~P))+z[0]+4096336452&4294967295,S=V+(M<<6&4294967295|M>>>26),M=P+(V^(S|~U))+z[7]+1126891415&4294967295,P=S+(M<<10&4294967295|M>>>22),M=U+(S^(P|~V))+z[14]+2878612391&4294967295,U=P+(M<<15&4294967295|M>>>17),M=V+(P^(U|~S))+z[5]+4237533241&4294967295,V=U+(M<<21&4294967295|M>>>11),M=S+(U^(V|~P))+z[12]+1700485571&4294967295,S=V+(M<<6&4294967295|M>>>26),M=P+(V^(S|~U))+z[3]+2399980690&4294967295,P=S+(M<<10&4294967295|M>>>22),M=U+(S^(P|~V))+z[10]+4293915773&4294967295,U=P+(M<<15&4294967295|M>>>17),M=V+(P^(U|~S))+z[1]+2240044497&4294967295,V=U+(M<<21&4294967295|M>>>11),M=S+(U^(V|~P))+z[8]+1873313359&4294967295,S=V+(M<<6&4294967295|M>>>26),M=P+(V^(S|~U))+z[15]+4264355552&4294967295,P=S+(M<<10&4294967295|M>>>22),M=U+(S^(P|~V))+z[6]+2734768916&4294967295,U=P+(M<<15&4294967295|M>>>17),M=V+(P^(U|~S))+z[13]+1309151649&4294967295,V=U+(M<<21&4294967295|M>>>11),M=S+(U^(V|~P))+z[4]+4149444226&4294967295,S=V+(M<<6&4294967295|M>>>26),M=P+(V^(S|~U))+z[11]+3174756917&4294967295,P=S+(M<<10&4294967295|M>>>22),M=U+(S^(P|~V))+z[2]+718787259&4294967295,U=P+(M<<15&4294967295|M>>>17),M=V+(P^(U|~S))+z[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(U+(M<<21&4294967295|M>>>11))&4294967295,k.g[2]=k.g[2]+U&4294967295,k.g[3]=k.g[3]+P&4294967295}s.prototype.v=function(k,S){S===void 0&&(S=k.length);const V=S-this.blockSize,z=this.C;let U=this.h,P=0;for(;P<S;){if(U==0)for(;P<=V;)a(this,k,P),P+=this.blockSize;if(typeof k=="string"){for(;P<S;)if(z[U++]=k.charCodeAt(P++),U==this.blockSize){a(this,z),U=0;break}}else for(;P<S;)if(z[U++]=k[P++],U==this.blockSize){a(this,z),U=0;break}}this.h=U,this.o+=S},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;S=this.o*8;for(var V=k.length-8;V<k.length;++V)k[V]=S&255,S/=256;for(this.v(k),k=Array(16),S=0,V=0;V<4;++V)for(let z=0;z<32;z+=8)k[S++]=this.g[V]>>>z&255;return k};function l(k,S){var V=f;return Object.prototype.hasOwnProperty.call(V,k)?V[k]:V[k]=S(k)}function u(k,S){this.h=S;const V=[];let z=!0;for(let U=k.length-1;U>=0;U--){const P=k[U]|0;z&&P==S||(V[U]=P,z=!1)}this.g=V}var f={};function p(k){return-128<=k&&k<128?l(k,function(S){return new u([S|0],S<0?-1:0)}):new u([k|0],k<0?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return b;if(k<0)return N(d(-k));const S=[];let V=1;for(let z=0;k>=V;z++)S[z]=k/V|0,V*=4294967296;return new u(S,0)}function y(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return N(y(k.substring(1),S));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=d(Math.pow(S,8));let z=b;for(let P=0;P<k.length;P+=8){var U=Math.min(8,k.length-P);const M=parseInt(k.substring(P,P+U),S);U<8?(U=d(Math.pow(S,U)),z=z.j(U).add(d(M))):(z=z.j(V),z=z.add(d(M)))}return z}var b=p(0),x=p(1),C=p(16777216);t=u.prototype,t.m=function(){if(j(this))return-N(this).m();let k=0,S=1;for(let V=0;V<this.g.length;V++){const z=this.i(V);k+=(z>=0?z:4294967296+z)*S,S*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(D(this))return"0";if(j(this))return"-"+N(this).toString(k);const S=d(Math.pow(k,6));var V=this;let z="";for(;;){const U=de(V,S).g;V=G(V,U.j(S));let P=((V.g.length>0?V.g[0]:V.h)>>>0).toString(k);if(V=U,D(V))return P+z;for(;P.length<6;)P="0"+P;z=P+z}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function D(k){if(k.h!=0)return!1;for(let S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function j(k){return k.h==-1}t.l=function(k){return k=G(this,k),j(k)?-1:D(k)?0:1};function N(k){const S=k.g.length,V=[];for(let z=0;z<S;z++)V[z]=~k.g[z];return new u(V,~k.h).add(x)}t.abs=function(){return j(this)?N(this):this},t.add=function(k){const S=Math.max(this.g.length,k.g.length),V=[];let z=0;for(let U=0;U<=S;U++){let P=z+(this.i(U)&65535)+(k.i(U)&65535),M=(P>>>16)+(this.i(U)>>>16)+(k.i(U)>>>16);z=M>>>16,P&=65535,M&=65535,V[U]=M<<16|P}return new u(V,V[V.length-1]&-2147483648?-1:0)};function G(k,S){return k.add(N(S))}t.j=function(k){if(D(this)||D(k))return b;if(j(this))return j(k)?N(this).j(N(k)):N(N(this).j(k));if(j(k))return N(this.j(N(k)));if(this.l(C)<0&&k.l(C)<0)return d(this.m()*k.m());const S=this.g.length+k.g.length,V=[];for(var z=0;z<2*S;z++)V[z]=0;for(z=0;z<this.g.length;z++)for(let U=0;U<k.g.length;U++){const P=this.i(z)>>>16,M=this.i(z)&65535,be=k.i(U)>>>16,he=k.i(U)&65535;V[2*z+2*U]+=M*he,Q(V,2*z+2*U),V[2*z+2*U+1]+=P*he,Q(V,2*z+2*U+1),V[2*z+2*U+1]+=M*be,Q(V,2*z+2*U+1),V[2*z+2*U+2]+=P*be,Q(V,2*z+2*U+2)}for(k=0;k<S;k++)V[k]=V[2*k+1]<<16|V[2*k];for(k=S;k<2*S;k++)V[k]=0;return new u(V,0)};function Q(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function Y(k,S){this.g=k,this.h=S}function de(k,S){if(D(S))throw Error("division by zero");if(D(k))return new Y(b,b);if(j(k))return S=de(N(k),S),new Y(N(S.g),N(S.h));if(j(S))return S=de(k,N(S)),new Y(N(S.g),S.h);if(k.g.length>30){if(j(k)||j(S))throw Error("slowDivide_ only works with positive integers.");for(var V=x,z=S;z.l(k)<=0;)V=ae(V),z=ae(z);var U=ge(V,1),P=ge(z,1);for(z=ge(z,2),V=ge(V,2);!D(z);){var M=P.add(z);M.l(k)<=0&&(U=U.add(V),P=M),z=ge(z,1),V=ge(V,1)}return S=G(k,U.j(S)),new Y(U,S)}for(U=b;k.l(S)>=0;){for(V=Math.max(1,Math.floor(k.m()/S.m())),z=Math.ceil(Math.log(V)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),P=d(V),M=P.j(S);j(M)||M.l(k)>0;)V-=z,P=d(V),M=P.j(S);D(P)&&(P=x),U=U.add(P),k=G(k,M)}return new Y(U,k)}t.B=function(k){return de(this,k).h},t.and=function(k){const S=Math.max(this.g.length,k.g.length),V=[];for(let z=0;z<S;z++)V[z]=this.i(z)&k.i(z);return new u(V,this.h&k.h)},t.or=function(k){const S=Math.max(this.g.length,k.g.length),V=[];for(let z=0;z<S;z++)V[z]=this.i(z)|k.i(z);return new u(V,this.h|k.h)},t.xor=function(k){const S=Math.max(this.g.length,k.g.length),V=[];for(let z=0;z<S;z++)V[z]=this.i(z)^k.i(z);return new u(V,this.h^k.h)};function ae(k){const S=k.g.length+1,V=[];for(let z=0;z<S;z++)V[z]=k.i(z)<<1|k.i(z-1)>>>31;return new u(V,k.h)}function ge(k,S){const V=S>>5;S%=32;const z=k.g.length-V,U=[];for(let P=0;P<z;P++)U[P]=S>0?k.i(P+V)>>>S|k.i(P+V+1)<<32-S:k.i(P+V);return new u(U,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,FS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=y,ma=u}).apply(typeof Xx<"u"?Xx:typeof self<"u"?self:typeof window<"u"?window:{});var Rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qS,su,HS,$f,dy,GS,$S,KS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rf=="object"&&Rf];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var T=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var X=h[R];if(!(X in T))break e;T=T[X]}h=h[h.length-1],R=T[h],_=_(R),_!=R&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var T=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&T.push([R,_[R]]);return T}});var l=l||{},u=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,T){return h.call.apply(h.bind,arguments)}function d(h,_,T){return d=p,d.apply(null,arguments)}function y(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function b(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(R,X,se){for(var ve=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ve[ze-2]=arguments[ze];return _.prototype[X].apply(R,ve)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const _=h.length;if(_>0){const T=Array(_);for(let R=0;R<_;R++)T[R]=h[R];return T}return[]}function D(h,_){for(let R=1;R<arguments.length;R++){const X=arguments[R];var T=typeof X;if(T=T!="object"?T:X?Array.isArray(X)?"array":T:"null",T=="array"||T=="object"&&typeof X.length=="number"){T=h.length||0;const se=X.length||0;h.length=T+se;for(let ve=0;ve<se;ve++)h[T+ve]=X[ve]}else h.push(X)}}class j{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(h){u.setTimeout(()=>{throw h},0)}function G(){var h=k;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class Q{constructor(){this.h=this.g=null}add(_,T){const R=Y.get();R.set(_,T),this.h?this.h.next=R:this.g=R,this.h=R}}var Y=new j(()=>new de,h=>h.reset());class de{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ge=!1,k=new Q,S=()=>{const h=Promise.resolve(void 0);ae=()=>{h.then(V)}};function V(){for(var h;h=G();){try{h.h.call(h.g)}catch(T){N(T)}var _=Y;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ge=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function be(h,_){U.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(be,U),be.prototype.init=function(h,_){const T=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),B=0;function H(h,_,T,R,X){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!R,this.ha=X,this.key=++B,this.da=this.fa=!1}function K(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ne(h,_,T){for(const R in h)_.call(T,h[R],R,h)}function O(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function E(h){const _={};for(const T in h)_[T]=h[T];return _}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(h,_){let T,R;for(let X=1;X<arguments.length;X++){R=arguments[X];for(T in R)h[T]=R[T];for(let se=0;se<F.length;se++)T=F[se],Object.prototype.hasOwnProperty.call(R,T)&&(h[T]=R[T])}}function ie(h){this.src=h,this.g={},this.h=0}ie.prototype.add=function(h,_,T,R,X){const se=h.toString();h=this.g[se],h||(h=this.g[se]=[],this.h++);const ve=ye(h,_,R,X);return ve>-1?(_=h[ve],T||(_.fa=!1)):(_=new H(_,this.src,se,!!R,X),_.fa=T,h.push(_)),_};function pe(h,_){const T=_.type;if(T in h.g){var R=h.g[T],X=Array.prototype.indexOf.call(R,_,void 0),se;(se=X>=0)&&Array.prototype.splice.call(R,X,1),se&&(K(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function ye(h,_,T,R){for(let X=0;X<h.length;++X){const se=h[X];if(!se.da&&se.listener==_&&se.capture==!!T&&se.ha==R)return X}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Ae={};function Re(h,_,T,R,X){if(Array.isArray(_)){for(let se=0;se<_.length;se++)Re(h,_[se],T,R,X);return null}return T=wn(T),h&&h[he]?h.J(_,T,f(R)?!!R.capture:!1,X):Ge(h,_,T,!1,R,X)}function Ge(h,_,T,R,X,se){if(!_)throw Error("Invalid event type");const ve=f(X)?!!X.capture:!!X;let ze=Vt(h);if(ze||(h[me]=ze=new ie(h)),T=ze.add(_,T,R,ve,se),T.proxy)return T;if(R=$e(),T.proxy=R,R.src=h,R.listener=T,h.addEventListener)P||(X=ve),X===void 0&&(X=!1),h.addEventListener(_.toString(),R,X);else if(h.attachEvent)h.attachEvent(Ve(_.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function $e(){function h(T){return _.call(h.src,h.listener,T)}const _=Mt;return h}function Oe(h,_,T,R,X){if(Array.isArray(_))for(var se=0;se<_.length;se++)Oe(h,_[se],T,R,X);else R=f(R)?!!R.capture:!!R,T=wn(T),h&&h[he]?(h=h.i,se=String(_).toString(),se in h.g&&(_=h.g[se],T=ye(_,T,R,X),T>-1&&(K(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[se],h.h--)))):h&&(h=Vt(h))&&(_=h.g[_.toString()],h=-1,_&&(h=ye(_,T,R,X)),(T=h>-1?_[h]:null)&&ut(T))}function ut(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[he])pe(_.i,h);else{var T=h.type,R=h.proxy;_.removeEventListener?_.removeEventListener(T,R,h.capture):_.detachEvent?_.detachEvent(Ve(T),R):_.addListener&&_.removeListener&&_.removeListener(R),(T=Vt(_))?(pe(T,h),T.h==0&&(T.src=null,_[me]=null)):K(h)}}}function Ve(h){return h in Ae?Ae[h]:Ae[h]="on"+h}function Mt(h,_){if(h.da)h=!0;else{_=new be(_,this);const T=h.listener,R=h.ha||h.src;h.fa&&ut(h),h=T.call(R,_)}return h}function Vt(h){return h=h[me],h instanceof ie?h:null}var Ft="__closure_events_fn_"+(Math.random()*1e9>>>0);function wn(h){return typeof h=="function"?h:(h[Ft]||(h[Ft]=function(_){return h.handleEvent(_)}),h[Ft])}function ot(){z.call(this),this.i=new ie(this),this.M=this,this.G=null}b(ot,z),ot.prototype[he]=!0,ot.prototype.removeEventListener=function(h,_,T,R){Oe(this,h,_,T,R)};function He(h,_){var T,R=h.G;if(R)for(T=[];R;R=R.G)T.push(R);if(h=h.M,R=_.type||_,typeof _=="string")_=new U(_,h);else if(_ instanceof U)_.target=_.target||h;else{var X=_;_=new U(R,h),ee(_,X)}X=!0;let se,ve;if(T)for(ve=T.length-1;ve>=0;ve--)se=_.g=T[ve],X=xi(se,R,!0,_)&&X;if(se=_.g=h,X=xi(se,R,!0,_)&&X,X=xi(se,R,!1,_)&&X,T)for(ve=0;ve<T.length;ve++)se=_.g=T[ve],X=xi(se,R,!1,_)&&X}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let R=0;R<T.length;R++)K(T[R]);delete h.g[_],h.h--}}this.G=null},ot.prototype.J=function(h,_,T,R){return this.i.add(String(h),_,!1,T,R)},ot.prototype.K=function(h,_,T,R){return this.i.add(String(h),_,!0,T,R)};function xi(h,_,T,R){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let X=!0;for(let se=0;se<_.length;++se){const ve=_[se];if(ve&&!ve.da&&ve.capture==T){const ze=ve.listener,Gt=ve.ha||ve.src;ve.fa&&pe(h.i,ve),X=ze.call(Gt,R)!==!1&&X}}return X&&!R.defaultPrevented}function Ls(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function Tr(h){h.g=Ls(()=>{h.g=null,h.i&&(h.i=!1,Tr(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Wt extends z{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Tr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gn(h){z.call(this),this.h=h,this.g={}}b(Gn,z);var cs=[];function Us(h){ne(h.g,function(_,T){this.g.hasOwnProperty(T)&&ut(_)},h),h.g={}}Gn.prototype.N=function(){Gn.Z.N.call(this),Us(this)},Gn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ti=u.JSON.stringify,Er=u.JSON.parse,$n=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function On(){}function ri(){}var un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){U.call(this,"d")}b(Xt,U);function jn(){U.call(this,"c")}b(jn,U);var Pt={},zs=null;function xt(){return zs=zs||new ot}Pt.Ia="serverreachability";function us(h){U.call(this,Pt.Ia,h)}b(us,U);function Ln(h){const _=xt();He(_,new us(_))}Pt.STAT_EVENT="statevent";function Ei(h,_){U.call(this,Pt.STAT_EVENT,h),this.stat=_}b(Ei,U);function Et(h){const _=xt();He(_,new Ei(_,h))}Pt.Ja="timingevent";function In(h,_){U.call(this,Pt.Ja,h),this.size=_}b(In,U);function ai(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function Sr(h,_,T,R,X,se){h.info(function(){if(h.g)if(se){var ve="",ze=se.split("&");for(let lt=0;lt<ze.length;lt++){var Gt=ze[lt].split("=");if(Gt.length>1){const Nt=Gt[0];Gt=Gt[1];const Ci=Nt.split("_");ve=Ci.length>=2&&Ci[1]=="type"?ve+(Nt+"="+Gt+"&"):ve+(Nt+"=redacted&")}}}else ve=null;else ve=se;return"XMLHTTP REQ ("+R+") [attempt "+X+"]: "+_+`
`+T+`
`+ve})}function So(h,_,T,R,X,se,ve){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+X+"]: "+_+`
`+T+`
`+se+" "+ve})}function oi(h,_,T,R){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ao(h,T)+(R?" "+R:"")})}function Bs(h,_){h.info(function(){return"TIMEOUT: "+_})}Kn.prototype.info=function(){};function Ao(h,_){if(!h.g)return _;if(!_)return null;try{const se=JSON.parse(_);if(se){for(h=0;h<se.length;h++)if(Array.isArray(se[h])){var T=se[h];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var X=R[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ve=1;ve<R.length;ve++)R[ve]=""}}}}return Ti(se)}catch{return _}}var Hi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ka;function qs(){}b(qs,On),qs.prototype.g=function(){return new XMLHttpRequest},ka=new qs;function Gi(h){return encodeURIComponent(String(h))}function Da(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function li(h,_,T,R){this.j=h,this.i=_,this.l=T,this.S=R||1,this.V=new Gn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ci}function ci(){this.i=null,this.g="",this.h=!1}var qt={},Ht={};function Yn(h,_,T){h.M=1,h.A=Ma(en(_)),h.u=T,h.R=!0,hs(h,null)}function hs(h,_){h.F=Date.now(),ht(h),h.B=en(h.A);var T=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Io(T.i,"t",R),h.C=0,T=h.j.L,h.h=new ci,h.g=vh(h.j,T?_:null,!h.u),h.P>0&&(h.O=new Wt(d(h.Y,h,h.g),h.P)),_=h.V,T=h.g,R=h.ba;var X="readystatechange";Array.isArray(X)||(X&&(cs[0]=X.toString()),X=cs);for(let se=0;se<X.length;se++){const ve=Re(T,X[se],R||_.handleEvent,!1,_.h||_);if(!ve)break;_.g[ve.key]=ve}_=h.J?E(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Ln(),Sr(h.i,h.v,h.B,h.l,h.S,h.u)}li.prototype.ba=function(h){h=h.target;const _=this.O;_&&Yi(h)==3?_.j():this.Y(h)},li.prototype.Y=function(h){try{if(h==this.g)e:{const ze=Yi(this.g),Gt=this.g.ya(),lt=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||xn(this.g)))){this.K||ze!=4||Gt==7||(Gt==8||lt<=0?Ln(3):Ln(2)),_t(this);var _=this.g.ca();this.X=_;var T=Xl(this);if(this.o=_==200,So(this.i,this.v,this.B,this.l,this.S,ze,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,X=this.g;if((R=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(R)){var se=R;break t}}se=null}if(h=se)oi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ui(this,h);else{this.o=!1,this.m=3,Et(12),Zt(this),It(this);break e}}if(this.R){h=!0;let Nt;for(;!this.K&&this.C<T.length;)if(Nt=Ne(this,T),Nt==Ht){ze==4&&(this.m=4,Et(14),h=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(Nt==qt){this.m=4,Et(15),oi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else oi(this.i,this.l,Nt,null),ui(this,Nt);if(W(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||T.length!=0||this.h.h||(this.m=1,Et(16),h=!1),this.o=this.o&&h,!h)oi(this.i,this.l,T,"[Invalid Chunked Response]"),Zt(this),It(this);else if(T.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),fc(ve),ve.P=!0,Et(11))}}else oi(this.i,this.l,T,null),ui(this,T);ze==4&&Zt(this),this.o&&!this.K&&(ze==4?mh(this.j,this):(this.o=!1,ht(this)))}else Gs(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),Zt(this),It(this)}}}catch{}};function Xl(h){if(!W(h))return h.g.la();const _=xn(h.g);if(_==="")return"";let T="";const R=_.length,X=Yi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Zt(h),It(h),"";h.h.i=new u.TextDecoder}for(let se=0;se<R;se++)h.h.h=!0,T+=h.h.i.decode(_[se],{stream:!(X&&se==R-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function W(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ne(h,_){var T=h.C,R=_.indexOf(`
`,T);return R==-1?Ht:(T=Number(_.substring(T,R)),isNaN(T)?qt:(R+=1,R+T>_.length?Ht:(_=_.slice(R,R+T),h.C=R+T,_)))}li.prototype.cancel=function(){this.K=!0,Zt(this)};function ht(h){h.T=Date.now()+h.H,Rt(h,h.H)}function Rt(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ai(d(h.aa,h),_)}function _t(h){h.D&&(u.clearTimeout(h.D),h.D=null)}li.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Bs(this.i,this.B),this.M!=2&&(Ln(),Et(17)),Zt(this),this.m=2,It(this)):Rt(this,this.T-h)};function It(h){h.j.I==0||h.K||mh(h.j,h)}function Zt(h){_t(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Us(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function ui(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||ds(T.h,h))){if(!h.L&&ds(T.h,h)&&T.I==3){try{var R=T.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var X=R;if(X[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Vo(T),Mr(T);else break e;za(T),Et(18)}}else T.xa=X[1],0<T.xa-T.K&&X[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=ai(d(T.Va,T),6e3));fs(T.h)<=1&&T.ta&&(T.ta=void 0)}else bs(T,11)}else if((h.L||T.g==h)&&Vo(T),!M(_))for(X=T.Ba.g.parse(_),_=0;_<X.length;_++){let lt=X[_];const Nt=lt[0];if(!(Nt<=T.K))if(T.K=Nt,lt=lt[1],T.I==2)if(lt[0]=="c"){T.M=lt[1],T.ba=lt[2];const Ci=lt[3];Ci!=null&&(T.ka=Ci,T.j.info("VER="+T.ka));const _s=lt[4];_s!=null&&(T.za=_s,T.j.info("SVER="+T.za));const Qi=lt[5];Qi!=null&&typeof Qi=="number"&&Qi>0&&(R=1.5*Qi,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const Wi=h.g;if(Wi){const Ba=Wi.g?Wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ba){var se=R.h;se.g||Ba.indexOf("spdy")==-1&&Ba.indexOf("quic")==-1&&Ba.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(ec(se,se.h),se.h=null))}if(R.G){const Po=Wi.g?Wi.g.getResponseHeader("X-HTTP-Session-Id"):null;Po&&(R.wa=Po,dt(R.J,R.G,Po))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var ve=h;if(R.na=yh(R,R.L?R.ba:null,R.W),ve.L){tc(R.h,ve);var ze=ve,Gt=R.O;Gt&&(ze.H=Gt),ze.D&&(_t(ze),ht(ze)),R.g=ve}else fh(R);T.i.length>0&&vs(T)}else lt[0]!="stop"&&lt[0]!="close"||bs(T,7);else T.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?bs(T,7):uc(T):lt[0]!="noop"&&T.l&&T.l.qa(lt),T.A=0)}}Ln(4)}catch{}}var Jt=class{constructor(h,_){this.g=h,this.map=_}};function Zl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function fs(h){return h.h?1:h.g?h.g.size:0}function ds(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function ec(h,_){h.g?h.g.add(_):h.h=_}function tc(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Zl.prototype.cancel=function(){if(this.i=nc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function nc(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return C(h.i)}var ah=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Co(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const R=h[T].indexOf("=");let X,se=null;R>=0?(X=h[T].substring(0,R),se=h[T].substring(R+1)):X=h[T],_(X,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function hi(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof hi?(this.l=h.l,gn(this,h.j),this.o=h.o,this.g=h.g,Ar(this,h.u),this.h=h.h,ic(this,uh(h.i)),this.m=h.m):h&&(_=String(h).match(ah))?(this.l=!1,gn(this,_[1]||"",!0),this.o=ms(_[2]||""),this.g=ms(_[3]||"",!0),Ar(this,_[4]),this.h=ms(_[5]||"",!0),ic(this,_[6]||"",!0),this.m=ms(_[7]||"")):(this.l=!1,this.i=new Rr(null,this.l))}hi.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Va(_,Ro,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Va(_,Ro,!0),"@"),h.push(Gi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Va(T,T.charAt(0)=="/"?sc:oh,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Va(T,lh)),h.join("")},hi.prototype.resolve=function(h){const _=en(this);let T=!!h.j;T?gn(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var R=h.h;if(T)Ar(_,h.u);else if(T=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var X=_.h.lastIndexOf("/");X!=-1&&(R=_.h.slice(0,X+1)+R)}if(X=R,X==".."||X==".")R="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){R=X.lastIndexOf("/",0)==0,X=X.split("/");const se=[];for(let ve=0;ve<X.length;){const ze=X[ve++];ze=="."?R&&ve==X.length&&se.push(""):ze==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),R&&ve==X.length&&se.push("")):(se.push(ze),R=!0)}R=se.join("/")}else R=X}return T?_.h=R:T=h.i.toString()!=="",T?ic(_,uh(h.i)):T=!!h.m,T&&(_.m=h.m),_};function en(h){return new hi(h)}function gn(h,_,T){h.j=T?ms(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Ar(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function ic(h,_,T){_ instanceof Rr?(h.i=_,No(h.i,h.l)):(T||(_=Va(_,Cr)),h.i=new Rr(_,h.l))}function dt(h,_,T){h.i.set(_,T)}function Ma(h){return dt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ms(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Va(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,Qn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Qn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ro=/[#\/\?@]/g,oh=/[#\?:]/g,sc=/[#\?]/g,Cr=/[#\?@]/g,lh=/#/g;function Rr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Wn(h){h.g||(h.g=new Map,h.h=0,h.i&&Co(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=Rr.prototype,t.add=function(h,_){Wn(this),this.i=null,h=Ir(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function ch(h,_){Wn(h),_=Ir(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function rc(h,_){return Wn(h),_=Ir(h,_),h.g.has(_)}t.forEach=function(h,_){Wn(this),this.g.forEach(function(T,R){T.forEach(function(X){h.call(_,X,R,this)},this)},this)};function ac(h,_){Wn(h);let T=[];if(typeof _=="string")rc(h,_)&&(T=T.concat(h.g.get(Ir(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}t.set=function(h,_){return Wn(this),this.i=null,h=Ir(this,h),rc(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=ac(this,h),h.length>0?String(h[0]):_):_};function Io(h,_,T){ch(h,_),T.length>0&&(h.i=null,h.g.set(Ir(h,_),C(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var T=_[R];const X=Gi(T);T=ac(this,T);for(let se=0;se<T.length;se++){let ve=X;T[se]!==""&&(ve+="="+Gi(T[se])),h.push(ve)}}return this.i=h.join("&")};function uh(h){const _=new Rr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Ir(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function No(h,_){_&&!h.j&&(Wn(h),h.i=null,h.g.forEach(function(T,R){const X=R.toLowerCase();R!=X&&(ch(this,R),Io(this,X,T))},h)),h.j=_}function $i(h,_){const T=new Kn;if(u.Image){const R=new Image;R.onload=y(Si,T,"TestLoadImage: loaded",!0,_,R),R.onerror=y(Si,T,"TestLoadImage: error",!1,_,R),R.onabort=y(Si,T,"TestLoadImage: abort",!1,_,R),R.ontimeout=y(Si,T,"TestLoadImage: timeout",!1,_,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else _(!1)}function oc(h,_){const T=new Kn,R=new AbortController,X=setTimeout(()=>{R.abort(),Si(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:R.signal}).then(se=>{clearTimeout(X),se.ok?Si(T,"TestPingServer: ok",!0,_):Si(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(X),Si(T,"TestPingServer: error",!1,_)})}function Si(h,_,T,R,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),R(T)}catch{}}function Nr(){this.g=new $n}function ps(h){this.i=h.Sb||null,this.h=h.ab||!1}b(ps,On),ps.prototype.g=function(){return new Pa(this.i,this.h)};function Pa(h,_){ot.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Pa,ot),t=Pa.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Ki(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,kr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ki(this)),this.g&&(this.readyState=3,Ki(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ko(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ko(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?kr(this):Ki(this),this.readyState==3&&ko(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,kr(this))},t.Na=function(h){this.g&&(this.response=h,kr(this))},t.ga=function(){this.g&&kr(this)};function kr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ki(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function Ki(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Pa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ai(h){let _="";return ne(h,function(T,R){_+=R,_+=":",_+=T,_+=`\r
`}),_}function Oa(h,_,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=Ai(T),typeof h=="string"?T!=null&&Gi(T):dt(h,_,T))}function gt(h){ot.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(gt,ot);var gs=/^https?$/i,lc=["POST","PUT"];t=gt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ka.g(),this.g.onreadystatechange=x(d(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(se){ja(this,se);return}if(h=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var X in R)T.set(X,R[X]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const se of R.keys())T.set(se,R.get(se));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(se=>se.toLowerCase()=="content-type"),X=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(lc,_,void 0)>=0)||R||X||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ve]of T)this.g.setRequestHeader(se,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(se){ja(this,se)}};function ja(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,cc(h),Hs(h)}function cc(h){h.A||(h.A=!0,He(h,"complete"),He(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,He(this,"complete"),He(this,"abort"),Hs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hs(this,!0)),gt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?La(this):this.Xa())},t.Xa=function(){La(this)};function La(h){if(h.h&&typeof l<"u"){if(h.v&&Yi(h)==4)setTimeout(h.Ca.bind(h),0);else if(He(h,"readystatechange"),Yi(h)==4){h.h=!1;try{const se=h.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var R;if(R=se===0){let ve=String(h.D).match(ah)[1]||null;!ve&&u.self&&u.self.location&&(ve=u.self.location.protocol.slice(0,-1)),R=!gs.test(ve?ve.toLowerCase():"")}T=R}if(T)He(h,"complete"),He(h,"success");else{h.o=6;try{var X=Yi(h)>2?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.ca()+"]",cc(h)}}finally{Hs(h)}}}}function Hs(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||He(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Yi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Yi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Er(_)}};function xn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Gs(h){const _={};h=(h.g&&Yi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(M(h[R]))continue;var T=Da(h[R]);const X=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const se=_[X]||[];_[X]=se,se.push(T)}O(_,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function Dr(h){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ys("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ys("baseRetryDelayMs",5e3,h),this.Za=ys("retryDelaySeedMs",1e4,h),this.Ta=ys("forwardChannelMaxRetries",2,h),this.va=ys("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Zl(h&&h.concurrentRequestLimit),this.Ba=new Nr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Dr.prototype,t.ka=8,t.I=1,t.connect=function(h,_,T,R){Et(0),this.W=h,this.H=_||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=yh(this,null,this.W),vs(this)};function uc(h){if(Do(h),h.I==3){var _=h.V++,T=en(h.J);if(dt(T,"SID",h.M),dt(T,"RID",_),dt(T,"TYPE","terminate"),Ua(h,T),_=new li(h,h.j,_),_.M=2,_.A=Ma(en(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.A,T=!0),T||(_.g=vh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ht(_)}gh(h)}function Mr(h){h.g&&(fc(h),h.g.cancel(),h.g=null)}function Do(h){Mr(h),h.v&&(u.clearTimeout(h.v),h.v=null),Vo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function vs(h){if(!Jl(h.h)&&!h.m){h.m=!0;var _=h.Ea;ae||S(),ge||(ae(),ge=!0),k.add(_,h),h.D=0}}function Mo(h,_){return fs(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ai(d(h.Ea,h,_),ph(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const X=new li(this,this.j,h);let se=this.o;if(this.U&&(se?(se=E(se),ee(se,this.U)):se=this.U),this.u!==null||this.R||(X.J=se,se=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=hh(this,X,_),T=en(this.J),dt(T,"RID",h),dt(T,"CVER",22),this.G&&dt(T,"X-HTTP-Session-Id",this.G),Ua(this,T),se&&(this.R?_="headers="+Gi(Ai(se))+"&"+_:this.u&&Oa(T,this.u,se)),ec(this.h,X),this.Ra&&dt(T,"TYPE","init"),this.S?(dt(T,"$req",_),dt(T,"SID","null"),X.U=!0,Yn(X,T,null)):Yn(X,T,_),this.I=2}}else this.I==3&&(h?hc(this,h):this.i.length==0||Jl(this.h)||hc(this))};function hc(h,_){var T;_?T=_.l:T=h.V++;const R=en(h.J);dt(R,"SID",h.M),dt(R,"RID",T),dt(R,"AID",h.K),Ua(h,R),h.u&&h.o&&Oa(R,h.u,h.o),T=new li(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=hh(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ec(h.h,T),Yn(T,R,_)}function Ua(h,_){h.H&&ne(h.H,function(T,R){dt(_,R,T)}),h.l&&ne({},function(T,R){dt(_,R,T)})}function hh(h,_,T){T=Math.min(h.i.length,T);const R=h.l?d(h.l.Ka,h.l,h):null;e:{var X=h.i;let ze=-1;for(;;){const Gt=["count="+T];ze==-1?T>0?(ze=X[0].g,Gt.push("ofs="+ze)):ze=0:Gt.push("ofs="+ze);let lt=!0;for(let Nt=0;Nt<T;Nt++){var se=X[Nt].g;const Ci=X[Nt].map;if(se-=ze,se<0)ze=Math.max(0,X[Nt].g-100),lt=!1;else try{se="req"+se+"_"||"";try{var ve=Ci instanceof Map?Ci:Object.entries(Ci);for(const[_s,Qi]of ve){let Wi=Qi;f(Qi)&&(Wi=Ti(Qi)),Gt.push(se+_s+"="+encodeURIComponent(Wi))}}catch(_s){throw Gt.push(se+"type="+encodeURIComponent("_badmap")),_s}}catch{R&&R(Ci)}}if(lt){ve=Gt.join("&");break e}}ve=void 0}return h=h.i.splice(0,T),_.G=h,ve}function fh(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ae||S(),ge||(ae(),ge=!0),k.add(_,h),h.A=0}}function za(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ai(d(h.Da,h),ph(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,dh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ai(d(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Mr(this),dh(this))};function fc(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function dh(h){h.g=new li(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=en(h.na);dt(_,"RID","rpc"),dt(_,"SID",h.M),dt(_,"AID",h.K),dt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&dt(_,"TO",h.ia),dt(_,"TYPE","xmlhttp"),Ua(h,_),h.u&&h.o&&Oa(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Ma(en(_)),T.u=null,T.R=!0,hs(T,h)}t.Va=function(){this.C!=null&&(this.C=null,Mr(this),za(this),Et(19))};function Vo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function mh(h,_){var T=null;if(h.g==_){Vo(h),fc(h),h.g=null;var R=2}else if(ds(h.h,_))T=_.G,tc(h.h,_),R=1;else return;if(h.I!=0){if(_.o)if(R==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var X=h.D;R=xt(),He(R,new In(R,T)),vs(h)}else fh(h);else if(X=_.m,X==3||X==0&&_.X>0||!(R==1&&Mo(h,_)||R==2&&za(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),X){case 1:bs(h,5);break;case 4:bs(h,10);break;case 3:bs(h,6);break;default:bs(h,2)}}}function ph(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function bs(h,_){if(h.j.info("Error code "+_),_==2){var T=d(h.bb,h),R=h.Ua;const X=!R;R=new hi(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||gn(R,"https"),Ma(R),X?$i(R.toString(),T):oc(R.toString(),T)}else Et(2);h.I=0,h.l&&h.l.pa(_),gh(h),Do(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function gh(h){if(h.I=0,h.ja=[],h.l){const _=nc(h.h);(_.length!=0||h.i.length!=0)&&(D(h.ja,_),D(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function yh(h,_,T){var R=T instanceof hi?en(T):new hi(T);if(R.g!="")_&&(R.g=_+"."+R.g),Ar(R,R.u);else{var X=u.location;R=X.protocol,_=_?_+"."+X.hostname:X.hostname,X=+X.port;const se=new hi(null);R&&gn(se,R),_&&(se.g=_),X&&Ar(se,X),T&&(se.h=T),R=se}return T=h.G,_=h.wa,T&&_&&dt(R,T,_),dt(R,"VER",h.ka),Ua(h,R),R}function vh(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new gt(new ps({ab:T})):new gt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bh(){}t=bh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Vr(){}Vr.prototype.g=function(h,_){return new Un(h,_)};function Un(h,_){ot.call(this),this.g=new Dr(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!M(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new $s(this)}b(Un,ot),Un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){uc(this.g)},Un.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Ti(h),h=T);_.i.push(new Jt(_.Ya++,h)),_.I==3&&vs(_)},Un.prototype.N=function(){this.g.l=null,delete this.j,uc(this.g),delete this.g,Un.Z.N.call(this)};function _h(h){Xt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(_h,Xt);function wh(){jn.call(this),this.status=1}b(wh,jn);function $s(h){this.g=h}b($s,bh),$s.prototype.ra=function(){He(this.g,"a")},$s.prototype.qa=function(h){He(this.g,new _h(h))},$s.prototype.pa=function(h){He(this.g,new wh)},$s.prototype.oa=function(){He(this.g,"b")},Vr.prototype.createWebChannel=Vr.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,KS=function(){return new Vr},$S=function(){return xt()},GS=Pt,dy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Hi.NO_ERROR=0,Hi.TIMEOUT=8,Hi.HTTP_ERROR=6,$f=Hi,Fs.COMPLETE="complete",HS=Fs,ri.EventType=un,un.OPEN="a",un.CLOSE="b",un.ERROR="c",un.MESSAGE="d",ot.prototype.listen=ot.prototype.J,su=ri,gt.prototype.listenOnce=gt.prototype.K,gt.prototype.getLastError=gt.prototype.Ha,gt.prototype.getLastErrorCode=gt.prototype.ya,gt.prototype.getStatus=gt.prototype.ca,gt.prototype.getResponseJson=gt.prototype.La,gt.prototype.getResponseText=gt.prototype.la,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Fa,qS=gt}).apply(typeof Rf<"u"?Rf:typeof self<"u"?self:typeof window<"u"?window:{});let Dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");let Bl="12.8.0";function FP(t){Bl=t}const vo=new h0("@firebase/firestore");function fl(){return vo.logLevel}function we(t,...e){if(vo.logLevel<=Je.DEBUG){const n=e.map(E0);vo.debug(`Firestore (${Bl}): ${t}`,...n)}}function _r(t,...e){if(vo.logLevel<=Je.ERROR){const n=e.map(E0);vo.error(`Firestore (${Bl}): ${t}`,...n)}}function bo(t,...e){if(vo.logLevel<=Je.WARN){const n=e.map(E0);vo.warn(`Firestore (${Bl}): ${t}`,...n)}}function E0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Me(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,YS(t,s,n)}function YS(t,e,n){let s=`FIRESTORE (${Bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _r(s),new Error(s)}function ft(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||YS(e,a,s)}function Ue(t,e){return t}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Os{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class QS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Dn.UNAUTHENTICATED)))}shutdown(){}}class qP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class HP{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new mr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},f=p=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new mr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ft(typeof s.accessToken=="string",31837,{l:s}),new QS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class GP{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class $P{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new GP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Zx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Li(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0,3512);const s=l=>{l.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,we("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Zx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Zx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function YP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Wd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=YP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function et(t,e){return t<e?-1:t>e?1:0}function my(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Ig(a)===Ig(l)?et(a,l):Ig(a)?1:-1}return et(t.length,e.length)}const QP=55296,WP=57343;function Ig(t){const e=t.charCodeAt(0);return e>=QP&&e<=WP}function Il(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const Jx="__name__";class Ss{constructor(e,n,s){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Me(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ss.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ss?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Ss.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return et(e.length,n.length)}static compareSegments(e,n){const s=Ss.isNumericId(e),a=Ss.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Ss.extractNumericId(e).compare(Ss.extractNumericId(n)):my(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ma.fromString(e.substring(4,e.length-2))}}class Tt extends Ss{construct(e,n,s){return new Tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new Tt(n)}static emptyPath(){return new Tt([])}}const XP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends Ss{construct(e,n,s){return new bn(e,n,s)}static isValidIdentifier(e){return XP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jx}static keyField(){return new bn([Jx])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new _e(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new _e(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new _e(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Tt.fromString(e))}static fromName(e){return new Ie(Tt.fromString(e).popFirst(5))}static empty(){return new Ie(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Tt(e.slice()))}}function XS(t,e,n){if(!n)throw new _e(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZS(t,e,n,s){if(e===!0&&s===!0)throw new _e(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function e1(t){if(!Ie.isDocumentKey(t))throw new _e(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function t1(t){if(Ie.isDocumentKey(t))throw new _e(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function JS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Xd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function Hn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xd(t);throw new _e(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function cn(t,e){const n={typeString:t};return e&&(n.value=e),n}function qu(t,e){if(!JS(t))throw new _e(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new _e(ue.INVALID_ARGUMENT,n);return!0}const n1=-62135596800,i1=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*i1);return new Fe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<n1)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i1}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qu(e,Fe._jsonSchema))return new Fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-n1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:cn("string",Fe._jsonSchemaVersion),seconds:cn("number"),nanoseconds:cn("number")};class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new Fe(0,0))}static max(){return new je(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Su=-1;function ZP(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=je.fromTimestamp(s===1e9?new Fe(n+1,0):new Fe(n,s));return new va(a,Ie.empty(),e)}function JP(t){return new va(t.readTime,t.key,Su)}class va{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new va(je.min(),Ie.empty(),Su)}static max(){return new va(je.max(),Ie.empty(),Su)}}function e4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}const t4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Fl(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==t4)throw t;we("LocalStore","Unexpectedly lost primary lease")}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,s)=>{n(e)}))}static reject(e){return new fe(((n,s)=>{s(e)}))}static waitFor(e){return new fe(((n,s)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(p=>s(p)))})),u=!0,l===a&&n()}))}static or(e){let n=fe.resolve(!1);for(const s of e)n=n.next((a=>a?fe.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new fe(((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const d=p;n(e[d]).next((y=>{u[d]=y,++f,f===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new fe(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function i4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ql(t){return t.name==="IndexedDbTransactionError"}class Zd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zd.ce=-1;const S0=-1;function Jd(t){return t==null}function dd(t){return t===0&&1/t==-1/0}function s4(t){return typeof t=="number"&&Number.isInteger(t)&&!dd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const eA="";function r4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=s1(e)),e=a4(t.get(n),e);return s1(e)}function a4(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case eA:n+="";break;default:n+=l}}return n}function s1(t){return t+eA+""}function r1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ca(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Lt{constructor(e,n){this.comparator=e,this.root=n||Rn.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new If(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new If(this.root,e,this.comparator,!1)}getReverseIterator(){return new If(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new If(this.root,e,this.comparator,!0)}}class If{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??Rn.RED,this.left=a??Rn.EMPTY,this.right=l??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new Rn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Rn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new Rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mn{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a1(this.data.getIterator())}getIteratorFrom(e){return new a1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new mn(this.comparator);return n.data=e,n}}class a1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _i{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new _i([])}unionWith(e){let n=new mn(bn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new _i(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Il(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class nA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new nA("Invalid base64 string: "+l):l}})(e);return new _n(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const o4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ba(t){if(ft(!!t,39018),typeof t=="string"){let e=0;const n=o4.exec(t);if(ft(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _a(t){return typeof t=="string"?_n.fromBase64String(t):_n.fromUint8Array(t)}const iA="server_timestamp",sA="__type__",rA="__previous_value__",aA="__local_write_time__";function A0(t){return(t?.mapValue?.fields||{})[sA]?.stringValue===iA}function em(t){const e=t.mapValue.fields[rA];return A0(e)?em(e):e}function Au(t){const e=ba(t.mapValue.fields[aA].timestampValue);return new Fe(e.seconds,e.nanos)}class l4{constructor(e,n,s,a,l,u,f,p,d,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=d,this.isUsingEmulator=y,this.apiKey=b}}const md="(default)";class Nl{constructor(e,n){this.projectId=e,this.database=n||md}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===md}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}function c4(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _e(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(t.options.projectId,e)}const oA="__type__",u4="__max__",Nf={mapValue:{}},lA="__vector__",pd="value";function wa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?A0(t)?4:f4(t)?9007199254740991:h4(t)?10:11:Me(28295,{value:t})}function Ds(t,e){if(t===e)return!0;const n=wa(t);if(n!==wa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Au(t).isEqual(Au(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ba(a.timestampValue),f=ba(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return _a(a.bytesValue).isEqual(_a(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Qt(a.geoPointValue.latitude)===Qt(l.geoPointValue.latitude)&&Qt(a.geoPointValue.longitude)===Qt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Qt(a.integerValue)===Qt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Qt(a.doubleValue),f=Qt(l.doubleValue);return u===f?dd(u)===dd(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Il(t.arrayValue.values||[],e.arrayValue.values||[],Ds);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(r1(u)!==r1(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!Ds(u[p],f[p])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function Cu(t,e){return(t.values||[]).find((n=>Ds(n,e)))!==void 0}function kl(t,e){if(t===e)return 0;const n=wa(t),s=wa(e);if(n!==s)return et(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=Qt(l.integerValue||l.doubleValue),p=Qt(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(t,e);case 3:return o1(t.timestampValue,e.timestampValue);case 4:return o1(Au(t),Au(e));case 5:return my(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=_a(l),p=_a(u);return f.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),p=u.split("/");for(let d=0;d<f.length&&d<p.length;d++){const y=et(f[d],p[d]);if(y!==0)return y}return et(f.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=et(Qt(l.latitude),Qt(u.latitude));return f!==0?f:et(Qt(l.longitude),Qt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return l1(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},p=u.fields||{},d=f[pd]?.arrayValue,y=p[pd]?.arrayValue,b=et(d?.values?.length||0,y?.values?.length||0);return b!==0?b:l1(d,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Nf.mapValue&&u===Nf.mapValue)return 0;if(l===Nf.mapValue)return 1;if(u===Nf.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),d=u.fields||{},y=Object.keys(d);p.sort(),y.sort();for(let b=0;b<p.length&&b<y.length;++b){const x=my(p[b],y[b]);if(x!==0)return x;const C=kl(f[p[b]],d[y[b]]);if(C!==0)return C}return et(p.length,y.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function o1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=ba(t),s=ba(e),a=et(n.seconds,s.seconds);return a!==0?a:et(n.nanos,s.nanos)}function l1(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=kl(n[a],s[a]);if(l)return l}return et(n.length,s.length)}function Dl(t){return py(t)}function py(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=ba(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return _a(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=py(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${py(n.fields[u])}`;return a+"}"})(t.mapValue):Me(61005,{value:t})}function Kf(t){switch(wa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=em(t);return e?16+Kf(e):16;case 5:return 2*t.stringValue.length;case 6:return _a(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Kf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Ca(s.fields,((l,u)=>{a+=l.length+Kf(u)})),a})(t.mapValue);default:throw Me(13486,{value:t})}}function c1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gy(t){return!!t&&"integerValue"in t}function C0(t){return!!t&&"arrayValue"in t}function u1(t){return!!t&&"nullValue"in t}function h1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yf(t){return!!t&&"mapValue"in t}function h4(t){return(t?.mapValue?.fields||{})[oA]?.stringValue===lA}function hu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ca(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=hu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hu(t.arrayValue.values[n]);return e}return{...t}}function f4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===u4}class si{constructor(e){this.value=e}static empty(){return new si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Yf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(n)}setAll(e){let n=bn.emptyPath(),s={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,s,a),s={},a=[],n=f.popLast()}u?s[f.lastSegment()]=hu(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Yf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ds(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Yf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Ca(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new si(hu(this.value))}}function cA(t){const e=[];return Ca(t.fields,((n,s)=>{const a=new bn([n]);if(Yf(s)){const l=cA(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new _i(e)}class Mn{constructor(e,n,s,a,l,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Mn(e,0,je.min(),je.min(),je.min(),si.empty(),0)}static newFoundDocument(e,n,s,a){return new Mn(e,1,n,je.min(),s,a,0)}static newNoDocument(e,n){return new Mn(e,2,n,je.min(),je.min(),si.empty(),0)}static newUnknownDocument(e,n){return new Mn(e,3,n,je.min(),je.min(),si.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gd{constructor(e,n){this.position=e,this.inclusive=n}}function f1(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=Ie.comparator(Ie.fromName(u.referenceValue),n.key):s=kl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function d1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ds(t.position[n],e.position[n]))return!1;return!0}class yd{constructor(e,n="asc"){this.field=e,this.dir=n}}function d4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class uA{}class ln extends uA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new p4(e,n,s):n==="array-contains"?new v4(e,s):n==="in"?new b4(e,s):n==="not-in"?new _4(e,s):n==="array-contains-any"?new w4(e,s):new ln(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new g4(e,s):new y4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(kl(n,this.value)):n!==null&&wa(this.value)===wa(n)&&this.matchesComparison(kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class os extends uA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new os(e,n)}matches(e){return hA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hA(t){return t.op==="and"}function fA(t){return m4(t)&&hA(t)}function m4(t){for(const e of t.filters)if(e instanceof os)return!1;return!0}function yy(t){if(t instanceof ln)return t.field.canonicalString()+t.op.toString()+Dl(t.value);if(fA(t))return t.filters.map((e=>yy(e))).join(",");{const e=t.filters.map((n=>yy(n))).join(",");return`${t.op}(${e})`}}function dA(t,e){return t instanceof ln?(function(s,a){return a instanceof ln&&s.op===a.op&&s.field.isEqual(a.field)&&Ds(s.value,a.value)})(t,e):t instanceof os?(function(s,a){return a instanceof os&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,f)=>l&&dA(u,a.filters[f])),!0):!1})(t,e):void Me(19439)}function mA(t){return t instanceof ln?(function(n){return`${n.field.canonicalString()} ${n.op} ${Dl(n.value)}`})(t):t instanceof os?(function(n){return n.op.toString()+" {"+n.getFilters().map(mA).join(" ,")+"}"})(t):"Filter"}class p4 extends ln{constructor(e,n,s){super(e,n,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class g4 extends ln{constructor(e,n){super(e,"in",n),this.keys=pA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class y4 extends ln{constructor(e,n){super(e,"not-in",n),this.keys=pA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function pA(t,e){return(e.arrayValue?.values||[]).map((n=>Ie.fromName(n.referenceValue)))}class v4 extends ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return C0(n)&&Cu(n.arrayValue,this.value)}}class b4 extends ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cu(this.value.arrayValue,n)}}class _4 extends ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cu(this.value.arrayValue,n)}}class w4 extends ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!C0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Cu(this.value.arrayValue,s)))}}class x4{constructor(e,n=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function m1(t,e=null,n=[],s=[],a=null,l=null,u=null){return new x4(t,e,n,s,a,l,u)}function R0(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>yy(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Dl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Dl(s))).join(",")),e.Te=n}return e.Te}function I0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!d4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!d1(t.startAt,e.startAt)&&d1(t.endAt,e.endAt)}function vy(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Hu{constructor(e,n=null,s=[],a=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function T4(t,e,n,s,a,l,u,f){return new Hu(t,e,n,s,a,l,u,f)}function tm(t){return new Hu(t)}function p1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function E4(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function gA(t){return t.collectionGroup!==null}function fu(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new mn(bn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((d=>{d.isInequality()&&(f=f.add(d.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new yd(l,s))})),n.has(bn.keyField().canonicalString())||e.Ie.push(new yd(bn.keyField(),s))}return e.Ie}function Rs(t){const e=Ue(t);return e.Ee||(e.Ee=S4(e,fu(t))),e.Ee}function S4(t,e){if(t.limitType==="F")return m1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new yd(a.field,l)}));const n=t.endAt?new gd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new gd(t.startAt.position,t.startAt.inclusive):null;return m1(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function by(t,e){const n=t.filters.concat([e]);return new Hu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _y(t,e,n){return new Hu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nm(t,e){return I0(Rs(t),Rs(e))&&t.limitType===e.limitType}function yA(t){return`${R0(Rs(t))}|lt:${t.limitType}`}function dl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>mA(a))).join(", ")}]`),Jd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Dl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Dl(a))).join(",")),`Target(${s})`})(Rs(t))}; limitType=${t.limitType})`}function im(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ie.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of fu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,f,p){const d=f1(u,f,p);return u.inclusive?d<=0:d<0})(s.startAt,fu(s),a)||s.endAt&&!(function(u,f,p){const d=f1(u,f,p);return u.inclusive?d>=0:d>0})(s.endAt,fu(s),a))})(t,e)}function A4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vA(t){return(e,n)=>{let s=!1;for(const a of fu(t)){const l=C4(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function C4(t,e,n){const s=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(l,u,f){const p=u.data.field(l),d=f.data.field(l);return p!==null&&d!==null?kl(p,d):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Me(19790,{direction:t.dir})}}class To{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return tA(this.inner)}size(){return this.innerSize}}const R4=new Lt(Ie.comparator);function wr(){return R4}const bA=new Lt(Ie.comparator);function ru(...t){let e=bA;for(const n of t)e=e.insert(n.key,n);return e}function _A(t){let e=bA;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function co(){return du()}function wA(){return du()}function du(){return new To((t=>t.toString()),((t,e)=>t.isEqual(e)))}const I4=new Lt(Ie.comparator),N4=new mn(Ie.comparator);function tt(...t){let e=N4;for(const n of t)e=e.add(n);return e}const k4=new mn(et);function D4(){return k4}function N0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dd(e)?"-0":e}}function xA(t){return{integerValue:""+t}}function M4(t,e){return s4(e)?xA(e):N0(t,e)}class sm{constructor(){this._=void 0}}function V4(t,e,n){return t instanceof vd?(function(a,l){const u={fields:{[sA]:{stringValue:iA},[aA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&A0(l)&&(l=em(l)),l&&(u.fields[rA]=l),{mapValue:u}})(n,e):t instanceof Ru?EA(t,e):t instanceof Iu?SA(t,e):(function(a,l){const u=TA(a,l),f=g1(u)+g1(a.Ae);return gy(u)&&gy(a.Ae)?xA(f):N0(a.serializer,f)})(t,e)}function P4(t,e,n){return t instanceof Ru?EA(t,e):t instanceof Iu?SA(t,e):n}function TA(t,e){return t instanceof bd?(function(s){return gy(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class vd extends sm{}class Ru extends sm{constructor(e){super(),this.elements=e}}function EA(t,e){const n=AA(e);for(const s of t.elements)n.some((a=>Ds(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Iu extends sm{constructor(e){super(),this.elements=e}}function SA(t,e){let n=AA(e);for(const s of t.elements)n=n.filter((a=>!Ds(a,s)));return{arrayValue:{values:n}}}class bd extends sm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function g1(t){return Qt(t.integerValue||t.doubleValue)}function AA(t){return C0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function O4(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Ru&&a instanceof Ru||s instanceof Iu&&a instanceof Iu?Il(s.elements,a.elements,Ds):s instanceof bd&&a instanceof bd?Ds(s.Ae,a.Ae):s instanceof vd&&a instanceof vd})(t.transform,e.transform)}class j4{constructor(e,n){this.version=e,this.transformResults=n}}class zi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zi}static exists(e){return new zi(void 0,e)}static updateTime(e){return new zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rm{}function CA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new k0(t.key,zi.none()):new Gu(t.key,t.data,zi.none());{const n=t.data,s=si.empty();let a=new mn(bn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Ra(t.key,s,new _i(a.toArray()),zi.none())}}function L4(t,e,n){t instanceof Gu?(function(a,l,u){const f=a.value.clone(),p=v1(a.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Ra?(function(a,l,u){if(!Qf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=v1(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(RA(a)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function mu(t,e,n,s){return t instanceof Gu?(function(l,u,f,p){if(!Qf(l.precondition,u))return f;const d=l.value.clone(),y=b1(l.fieldTransforms,p,u);return d.setAll(y),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(t,e,n,s):t instanceof Ra?(function(l,u,f,p){if(!Qf(l.precondition,u))return f;const d=b1(l.fieldTransforms,p,u),y=u.data;return y.setAll(RA(l)),y.setAll(d),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,u,f){return Qf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function U4(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=TA(s.transform,a||null);l!=null&&(n===null&&(n=si.empty()),n.set(s.field,l))}return n||null}function y1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Il(s,a,((l,u)=>O4(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gu extends rm{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ra extends rm{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function RA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function v1(t,e,n){const s=new Map;ft(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,P4(u,f,n[a]))}return s}function b1(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,V4(l,u,e))}return s}class k0 extends rm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z4 extends rm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class B4{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&L4(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=mu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=mu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=wA();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const p=CA(u,f);p!==null&&s.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(je.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),tt())}isEqual(e){return this.batchId===e.batchId&&Il(this.mutations,e.mutations,((n,s)=>y1(n,s)))&&Il(this.baseMutations,e.baseMutations,((n,s)=>y1(n,s)))}}class D0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){ft(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return I4})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new D0(e,n,s,a)}}class F4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class q4{constructor(e,n){this.count=e,this.unchangedNames=n}}var an,it;function H4(t){switch(t){case ue.OK:return Me(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function IA(t){if(t===void 0)return _r("GRPC error has no .code"),ue.UNKNOWN;switch(t){case an.OK:return ue.OK;case an.CANCELLED:return ue.CANCELLED;case an.UNKNOWN:return ue.UNKNOWN;case an.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case an.INTERNAL:return ue.INTERNAL;case an.UNAVAILABLE:return ue.UNAVAILABLE;case an.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case an.NOT_FOUND:return ue.NOT_FOUND;case an.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case an.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case an.ABORTED:return ue.ABORTED;case an.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case an.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case an.DATA_LOSS:return ue.DATA_LOSS;default:return Me(39323,{code:t})}}(it=an||(an={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";function G4(){return new TextEncoder}const $4=new ma([4294967295,4294967295],0);function _1(t){const e=G4().encode(t),n=new FS;return n.update(e),new Uint8Array(n.digest())}function w1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ma([n,s],0),new ma([a,l],0)]}class M0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new au(`Invalid padding: ${n}`);if(s<0)throw new au(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new au(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ma.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(ma.fromNumber(s)));return a.compare($4)===1&&(a=new ma([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_1(e),[s,a]=w1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new M0(l,a,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=_1(e),[s,a]=w1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class am{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,$u.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new am(je.min(),a,new Lt(et),wr(),tt())}}class $u{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new $u(s,n,tt(),tt(),tt())}}class Wf{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class NA{constructor(e,n){this.targetId=e,this.Ce=n}}class kA{constructor(e,n,s=_n.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class x1{constructor(){this.ve=0,this.Fe=T1(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),n=tt(),s=tt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Me(38017,{changeType:l})}})),new $u(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=T1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class K4{constructor(e){this.Ge=e,this.ze=new Map,this.je=wr(),this.He=kf(),this.Je=kf(),this.Ze=new Lt(et)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(vy(l))if(s===0){const u=new Ie(l.path);this.et(n,u,Mn.newNoDocument(u,je.min()))}else ft(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),p=f?this.ct(f,e,u):1;if(p!==0){this.it(n);const d=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=_a(s).toUint8Array()}catch(p){if(p instanceof nA)return bo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new M0(u,a,l)}catch(p){return bo(p instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&vy(f.target)){const p=new Ie(f.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,Mn.newNoDocument(p,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let s=tt();this.Je.forEach(((l,u)=>{let f=!0;u.forEachWhile((p=>{const d=this.ot(p);return!d||d.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new am(e,n,this.Ze,this.je,s);return this.je=wr(),this.He=kf(),this.Je=kf(),this.Ze=new Lt(et),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new x1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new mn(et),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new mn(et),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new x1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function kf(){return new Lt(Ie.comparator)}function T1(){return new Lt(Ie.comparator)}const Y4={asc:"ASCENDING",desc:"DESCENDING"},Q4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W4={and:"AND",or:"OR"};class X4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wy(t,e){return t.useProto3Json||Jd(e)?e:{value:e}}function _d(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Z4(t,e){return _d(t,e.toTimestamp())}function Is(t){return ft(!!t,49232),je.fromTimestamp((function(n){const s=ba(n);return new Fe(s.seconds,s.nanos)})(t))}function V0(t,e){return xy(t,e).canonicalString()}function xy(t,e){const n=(function(a){return new Tt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function MA(t){const e=Tt.fromString(t);return ft(LA(e),10190,{key:e.toString()}),e}function Ty(t,e){return V0(t.databaseId,e.path)}function Ng(t,e){const n=MA(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(PA(n))}function VA(t,e){return V0(t.databaseId,e)}function J4(t){const e=MA(t);return e.length===4?Tt.emptyPath():PA(e)}function Ey(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PA(t){return ft(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function E1(t,e,n){return{name:Ty(t,e),fields:n.value.mapValue.fields}}function eO(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Me(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(d,y){return d.useProto3Json?(ft(y===void 0||typeof y=="string",58123),_n.fromBase64String(y||"")):(ft(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),_n.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(d){const y=d.code===void 0?ue.UNKNOWN:IA(d.code);return new _e(y,d.message||"")})(u);n=new kA(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Ng(t,s.document.name),l=Is(s.document.updateTime),u=s.document.createTime?Is(s.document.createTime):je.min(),f=new si({mapValue:{fields:s.document.fields}}),p=Mn.newFoundDocument(a,l,u,f),d=s.targetIds||[],y=s.removedTargetIds||[];n=new Wf(d,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Ng(t,s.document),l=s.readTime?Is(s.readTime):je.min(),u=Mn.newNoDocument(a,l),f=s.removedTargetIds||[];n=new Wf([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Ng(t,s.document),l=s.removedTargetIds||[];n=new Wf([],l,a,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new q4(a,l),f=s.targetId;n=new NA(f,u)}}return n}function tO(t,e){let n;if(e instanceof Gu)n={update:E1(t,e.key,e.value)};else if(e instanceof k0)n={delete:Ty(t,e.key)};else if(e instanceof Ra)n={update:E1(t,e.key,e.data),updateMask:uO(e.fieldMask)};else{if(!(e instanceof z4))return Me(16599,{dt:e.type});n={verify:Ty(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const f=u.transform;if(f instanceof vd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ru)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Iu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof bd)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Me(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Z4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Me(27497)})(t,e.precondition)),n}function nO(t,e){return t&&t.length>0?(ft(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?Is(a.updateTime):Is(l);return u.isEqual(je.min())&&(u=Is(l)),new j4(u,a.transformResults||[])})(n,e)))):[]}function iO(t,e){return{documents:[VA(t,e.path)]}}function sO(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=VA(t,a);const l=(function(d){if(d.length!==0)return jA(os.create(d,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(d){if(d.length!==0)return d.map((y=>(function(x){return{field:ml(x.field),direction:oO(x.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=wy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:a}}function rO(t){let e=J4(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ft(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(b){const x=OA(b);return x instanceof os&&fA(x)?x.getFilters():[x]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((x=>(function(D){return new yd(pl(D.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(x)))})(n.orderBy));let f=null;n.limit&&(f=(function(b){let x;return x=typeof b=="object"?b.value:b,Jd(x)?null:x})(n.limit));let p=null;n.startAt&&(p=(function(b){const x=!!b.before,C=b.values||[];return new gd(C,x)})(n.startAt));let d=null;return n.endAt&&(d=(function(b){const x=!b.before,C=b.values||[];return new gd(C,x)})(n.endAt)),T4(e,a,u,l,f,"F",p,d)}function aO(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=pl(n.unaryFilter.field);return ln.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=pl(n.unaryFilter.field);return ln.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=pl(n.unaryFilter.field);return ln.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=pl(n.unaryFilter.field);return ln.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return ln.create(pl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return os.create(n.compositeFilter.filters.map((s=>OA(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function oO(t){return Y4[t]}function lO(t){return Q4[t]}function cO(t){return W4[t]}function ml(t){return{fieldPath:t.canonicalString()}}function pl(t){return bn.fromServerFormat(t.fieldPath)}function jA(t){return t instanceof ln?(function(n){if(n.op==="=="){if(h1(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NAN"}};if(u1(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(h1(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NOT_NAN"}};if(u1(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(n.field),op:lO(n.op),value:n.value}}})(t):t instanceof os?(function(n){const s=n.getFilters().map((a=>jA(a)));return s.length===1?s[0]:{compositeFilter:{op:cO(n.op),filters:s}}})(t):Me(54877,{filter:t})}function uO(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function LA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function UA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class ua{constructor(e,n,s,a,l=je.min(),u=je.min(),f=_n.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hO{constructor(e){this.yt=e}}function fO(t){const e=rO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_y(e,e.limit,"L"):e}class dO{constructor(){this.Sn=new mO}addToCollectionParentIndex(e,n){return this.Sn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(va.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(va.min())}updateCollectionGroup(e,n,s){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class mO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new mn(Tt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new mn(Tt.comparator)).toArray()}}const S1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zA=41943040;class ii{static withCacheSize(e){return new ii(e,ii.DEFAULT_COLLECTION_PERCENTILE,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}ii.DEFAULT_COLLECTION_PERCENTILE=10,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ii.DEFAULT=new ii(zA,ii.DEFAULT_COLLECTION_PERCENTILE,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ii.DISABLED=new ii(-1,0,0);class Ml{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ml(0)}static ar(){return new Ml(-1)}}const A1="LruGarbageCollector",pO=1048576;function C1([t,e],[n,s]){const a=et(t,n);return a===0?et(e,s):a}class gO{constructor(e){this.Pr=e,this.buffer=new mn(C1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();C1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){we(A1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ql(n)?we(A1,"Ignoring IndexedDB error during garbage collection: ",n):await Fl(n)}await this.Ar(3e5)}))}}class vO{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(Zd.ce);const s=new gO(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(S1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S1):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,u,f,p,d;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,f=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(d=Date.now(),fl()<=Je.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${b} documents in `+(d-p)+`ms
Total Duration: ${d-y}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function bO(t,e){return new vO(t,e)}class _O{constructor(){this.changes=new To((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?fe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class xO{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&mu(s.mutation,a,_i.empty(),Fe.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,tt()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=tt()){const a=co();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=ru();return l.forEach(((f,p)=>{u=u.insert(f,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=co();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,tt())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,a){let l=wr();const u=du(),f=(function(){return du()})();return n.forEach(((p,d)=>{const y=s.get(d.key);a.has(d.key)&&(y===void 0||y.mutation instanceof Ra)?l=l.insert(d.key,d):y!==void 0?(u.set(d.key,y.mutation.getFieldMask()),mu(y.mutation,d,y.mutation.getFieldMask(),Fe.now())):u.set(d.key,_i.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((d,y)=>u.set(d,y))),n.forEach(((d,y)=>f.set(d,new wO(y,u.get(d)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=du();let a=new Lt(((u,f)=>u-f)),l=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((p=>{const d=n.get(p);if(d===null)return;let y=s.get(p)||_i.empty();y=f.applyToLocalView(d,y),s.set(p,y);const b=(a.get(f.batchId)||tt()).add(p);a=a.insert(f.batchId,b)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),d=p.key,y=p.value,b=wA();y.forEach((x=>{if(!l.has(x)){const C=CA(n.get(x),s.get(x));C!==null&&b.set(x,C),l=l.add(x)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,b))}return fe.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return E4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):fe.resolve(co());let f=Su,p=l;return u.next((d=>fe.forEach(d,((y,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(y)?fe.resolve():this.remoteDocumentCache.getEntry(e,y).next((x=>{p=p.insert(y,x)}))))).next((()=>this.populateOverlays(e,d,l))).next((()=>this.computeViews(e,p,d,tt()))).next((y=>({batchId:f,changes:_A(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((s=>{let a=ru();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=ru();return this.indexManager.getCollectionParents(e,l).next((f=>fe.forEach(f,(p=>{const d=(function(b,x){return new Hu(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,d,s,a).next((y=>{y.forEach(((b,x)=>{u=u.insert(b,x)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((p,d)=>{const y=d.getKey();u.get(y)===null&&(u=u.insert(y,Mn.newInvalidDocument(y)))}));let f=ru();return u.forEach(((p,d)=>{const y=l.get(p);y!==void 0&&mu(y.mutation,d,_i.empty(),Fe.now()),im(n,d)&&(f=f.insert(p,d))})),f}))}}class TO{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return fe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Is(a.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:fO(a.bundledQuery),readTime:Is(a.readTime)}})(n)),fe.resolve()}}class EO{constructor(){this.overlays=new Lt(Ie.comparator),this.Lr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=co();return fe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),fe.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),fe.resolve()}getOverlaysForCollection(e,n,s){const a=co(),l=n.length+1,u=new Ie(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,d=p.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Lt(((d,y)=>d-y));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>s){let y=l.get(d.largestBatchId);y===null&&(y=co(),l=l.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const f=co(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((d,y)=>f.set(d,y))),!(f.size()>=a)););return fe.resolve(f)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new F4(n,s));let l=this.Lr.get(n);l===void 0&&(l=tt(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class SO{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}class P0{constructor(){this.kr=new mn(vn.Kr),this.qr=new mn(vn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new vn(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new vn(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Ie(new Tt([])),s=new vn(n,e),a=new vn(n,e+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ie(new Tt([])),s=new vn(n,e),a=new vn(n,e+1);let l=tt();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new vn(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class vn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ie.comparator(e.key,n.key)||et(e.Hr,n.Hr)}static Ur(e,n){return et(e.Hr,n.Hr)||Ie.comparator(e.key,n.key)}}class AO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new mn(vn.Kr)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new B4(l,n,s,a);this.mutationQueue.push(u);for(const f of a)this.Jr=this.Jr.add(new vn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,n){return fe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?S0:this.Yn-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new vn(n,0),a=new vn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const f=this.Zr(u.Hr);l.push(f)})),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new mn(et);return n.forEach((a=>{const l=new vn(a,0),u=new vn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(f=>{s=s.add(f.Hr)}))})),fe.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Ie.isDocumentKey(l)||(l=l.child(""));const u=new vn(new Ie(l),0);let f=new mn(et);return this.Jr.forEachWhile((p=>{const d=p.key.path;return!!s.isPrefixOf(d)&&(d.length===a&&(f=f.add(p.Hr)),!0)}),u),fe.resolve(this.Yr(f))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ft(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return fe.forEach(n.mutations,(a=>{const l=new vn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new vn(n,0),a=this.Jr.firstAfterOrEqual(s);return fe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class CO{constructor(e){this.ti=e,this.docs=(function(){return new Lt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return fe.resolve(s?s.document.mutableCopy():Mn.newInvalidDocument(n))}getEntries(e,n){let s=wr();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Mn.newInvalidDocument(a))})),fe.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=wr();const u=n.path,f=new Ie(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:d,value:{document:y}}=p.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||e4(JP(y),s)<=0||(a.has(y.key)||im(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Me(9500)}ni(e,n){return fe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new RO(this)}getSize(e){return fe.resolve(this.size)}}class RO extends _O{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),fe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class IO{constructor(e){this.persistence=e,this.ri=new To((n=>R0(n)),I0),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.ii=0,this.si=new P0,this.targetCount=0,this.oi=Ml._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),fe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Ml(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.lr(n),fe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),fe.waitFor(l).next((()=>a))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return fe.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),fe.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),fe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return fe.resolve(s)}containsKey(e,n){return fe.resolve(this.si.containsKey(n))}}class BA{constructor(e,n){this._i={},this.overlays={},this.ai=new Zd(0),this.ui=!1,this.ui=!0,this.ci=new SO,this.referenceDelegate=e(this),this.li=new IO(this),this.indexManager=new dO,this.remoteDocumentCache=(function(a){return new CO(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new hO(n),this.Pi=new TO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new AO(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){we("MemoryPersistence","Starting transaction:",e);const a=new NO(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return fe.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class NO extends n4{constructor(e){super(),this.currentSequenceNumber=e}}class O0{constructor(e){this.persistence=e,this.Ri=new P0,this.Ai=null}static Vi(e){return new O0(e)}get di(){if(this.Ai)return this.Ai;throw Me(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),fe.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.di,(s=>{const a=Ie.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,je.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class wd{constructor(e,n){this.persistence=e,this.fi=new To((s=>r4(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=bO(this,n)}static Vi(e,n){return new wd(e,n)}Ti(){}Ii(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return fe.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?fe.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((f=>{f||(s++,l.removeEntry(u,je.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),fe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kf(e.data.value)),n}wr(e,n,s){return fe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return fe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class j0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=tt(),a=tt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new j0(e,n.fromCache,s,a)}}class kO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class DO{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return wD()?8:i4(Pn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new kO;return this.ys(e,n,u).next((f=>{if(l.result=f,this.As)return this.ws(e,n,u,f.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(fl()<=Je.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",dl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),fe.resolve()):(fl()<=Je.DEBUG&&we("QueryEngine","Query:",dl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(fl()<=Je.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",dl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rs(n))):fe.resolve())}gs(e,n){if(p1(n))return fe.resolve(null);let s=Rs(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=_y(n,null,"F"),s=Rs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=tt(...l);return this.fs.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((p=>{const d=this.bs(n,f);return this.Ss(n,d,u,p.readTime)?this.gs(e,_y(n,null,"F")):this.Ds(e,d,n,p)}))))})))))}ps(e,n,s,a){return p1(n)||a.isEqual(je.min())?fe.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,s,a)?fe.resolve(null):(fl()<=Je.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),dl(n)),this.Ds(e,u,n,ZP(a,Su)).next((f=>f)))}))}bs(e,n){let s=new mn(vA(e));return n.forEach(((a,l)=>{im(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return fl()<=Je.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",dl(n)),this.fs.getDocumentsMatchingQuery(e,n,va.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const L0="LocalStore",MO=3e8;class VO{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Lt(et),this.Fs=new To((l=>R0(l)),I0),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xO(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function PO(t,e,n,s){return new VO(t,e,n,s)}async function FA(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],f=[];let p=tt();for(const d of a){u.push(d.batchId);for(const y of d.mutations)p=p.add(y.key)}for(const d of l){f.push(d.batchId);for(const y of d.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(s,p).next((d=>({Ns:d,removedBatchIds:u,addedBatchIds:f})))}))}))}function OO(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,p,d,y){const b=d.batch,x=b.keys();let C=fe.resolve();return x.forEach((D=>{C=C.next((()=>y.getEntry(p,D))).next((j=>{const N=d.docVersions.get(D);ft(N!==null,48541),j.version.compareTo(N)<0&&(b.applyToRemoteDocument(j,d),j.isValidDocument()&&(j.setReadTime(d.commitVersion),y.addEntry(j)))}))})),C.next((()=>f.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let p=tt();for(let d=0;d<f.mutationResults.length;++d)f.mutationResults[d].transformResults.length>0&&(p=p.add(f.batch.mutations[d].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function qA(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function jO(t,e){const n=Ue(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const f=[];e.targetChanges.forEach(((y,b)=>{const x=a.get(b);if(!x)return;f.push(n.li.removeMatchingKeys(l,y.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,b))));let C=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken(_n.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(b,C),(function(j,N,G){return j.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=MO?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(x,C,y)&&f.push(n.li.updateTargetData(l,C))}));let p=wr(),d=tt();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(LO(l,u,e.documentUpdates).next((y=>{p=y.Bs,d=y.Ls}))),!s.isEqual(je.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(y)}return fe.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,d))).next((()=>p))})).then((l=>(n.vs=a,l)))}function LO(t,e,n){let s=tt(),a=tt();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=wr();return n.forEach(((f,p)=>{const d=l.get(f);p.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(je.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!d.isValidDocument()||p.version.compareTo(d.version)>0||p.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):we(L0,"Ignoring outdated watch update for ",f,". Current version:",d.version," Watch version:",p.version)})),{Bs:u,Ls:a}}))}function UO(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=S0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function zO(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,fe.resolve(a)):n.li.allocateTargetId(s).next((u=>(a=new ua(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Sy(t,e,n){const s=Ue(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!ql(u))throw u;we(L0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function R1(t,e,n){const s=Ue(t);let a=je.min(),l=tt();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,d,y){const b=Ue(p),x=b.Fs.get(y);return x!==void 0?fe.resolve(b.vs.get(x)):b.li.getTargetData(d,y)})(s,u,Rs(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,f.targetId).next((p=>{l=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,n?a:je.min(),n?l:tt()))).next((f=>(BO(s,A4(e),f),{documents:f,ks:l})))))}function BO(t,e,n){let s=t.Ms.get(e)||je.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class I1{constructor(){this.activeTargetIds=D4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FO{constructor(){this.vo=new I1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new I1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qO{Mo(e){}shutdown(){}}const N1="ConnectivityMonitor";class k1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){we(N1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){we(N1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Df=null;function Ay(){return Df===null?Df=(function(){return 268435456+Math.round(2147483648*Math.random())})():Df++,"0x"+Df.toString(16)}const kg="RestConnection",HO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class GO{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===md?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const u=Ay(),f=this.Qo(e,n.toUriEncodedString());we(kg,`Sending RPC '${e}' ${u}:`,f,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,a,l);const{host:d}=new URL(f),y=wo(d);return this.zo(e,f,p,s,y).then((b=>(we(kg,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw bo(kg,`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",s),b}))}jo(e,n,s,a,l,u){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=HO[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class $O{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const kn="WebChannelConnection",Zc=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Sl extends GO{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Sl.c_){const e=$S();Zc(e,GS.STAT_EVENT,(n=>{n.stat===dy.PROXY?we(kn,"STAT_EVENT: detected buffering proxy"):n.stat===dy.NOPROXY&&we(kn,"STAT_EVENT: detected no buffering proxy")})),Sl.c_=!0}}zo(e,n,s,a,l){const u=Ay();return new Promise(((f,p)=>{const d=new qS;d.setWithCredentials(!0),d.listenOnce(HS.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case $f.NO_ERROR:const b=d.getResponseJson();we(kn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),f(b);break;case $f.TIMEOUT:we(kn,`RPC '${e}' ${u} timed out`),p(new _e(ue.DEADLINE_EXCEEDED,"Request time out"));break;case $f.HTTP_ERROR:const x=d.getStatus();if(we(kn,`RPC '${e}' ${u} failed with status:`,x,"response text:",d.getResponseText()),x>0){let C=d.getResponseJson();Array.isArray(C)&&(C=C[0]);const D=C?.error;if(D&&D.status&&D.message){const j=(function(G){const Q=G.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(Q)>=0?Q:ue.UNKNOWN})(D.status);p(new _e(j,D.message))}else p(new _e(ue.UNKNOWN,"Server responded with status "+d.getStatus()))}else p(new _e(ue.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{we(kn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);we(kn,`RPC '${e}' ${u} sending request:`,a),d.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=Ay(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const d=l.join("");we(kn,`Creating RPC '${e}' stream ${a}: ${d}`,f);const y=u.createWebChannel(d,f);this.I_(y);let b=!1,x=!1;const C=new $O({Ho:D=>{x?we(kn,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(b||(we(kn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),b=!0),we(kn,`RPC '${e}' stream ${a} sending:`,D),y.send(D))},Jo:()=>y.close()});return Zc(y,su.EventType.OPEN,(()=>{x||(we(kn,`RPC '${e}' stream ${a} transport opened.`),C.i_())})),Zc(y,su.EventType.CLOSE,(()=>{x||(x=!0,we(kn,`RPC '${e}' stream ${a} transport closed`),C.o_(),this.E_(y))})),Zc(y,su.EventType.ERROR,(D=>{x||(x=!0,bo(kn,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),C.o_(new _e(ue.UNAVAILABLE,"The operation could not be completed")))})),Zc(y,su.EventType.MESSAGE,(D=>{if(!x){const j=D.data[0];ft(!!j,16349);const N=j,G=N?.error||N[0]?.error;if(G){we(kn,`RPC '${e}' stream ${a} received error:`,G);const Q=G.status;let Y=(function(ge){const k=an[ge];if(k!==void 0)return IA(k)})(Q),de=G.message;Y===void 0&&(Y=ue.INTERNAL,de="Unknown error status: "+Q+" with message "+G.message),x=!0,C.o_(new _e(Y,de)),y.close()}else we(kn,`RPC '${e}' stream ${a} received:`,j),C.__(j)}})),Sl.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return KS()}}function KO(t){return new Sl(t)}function Dg(){return typeof document<"u"?document:null}function om(t){return new X4(t,!0)}Sl.c_=!1;class HA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&we("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const D1="PersistentStream";class GA{constructor(e,n,s,a,l,u,f,p){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new _e(ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(D1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(we(D1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YO extends GA{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=eO(this.serializer,e),s=(function(l){if(!("targetChange"in l))return je.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?je.min():u.readTime?Is(u.readTime):je.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Ey(this.serializer),n.addTarget=(function(l,u){let f;const p=u.target;if(f=vy(p)?{documents:iO(l,p)}:{query:sO(l,p).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=DA(l,u.resumeToken);const d=wy(l,u.expectedCount);d!==null&&(f.expectedCount=d)}else if(u.snapshotVersion.compareTo(je.min())>0){f.readTime=_d(l,u.snapshotVersion.toTimestamp());const d=wy(l,u.expectedCount);d!==null&&(f.expectedCount=d)}return f})(this.serializer,e);const s=aO(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Ey(this.serializer),n.removeTarget=e,this.K_(n)}}class QO extends GA{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nO(e.writeResults,e.commitTime),s=Is(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Ey(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>tO(this.serializer,s)))};this.K_(n)}}class WO{}class XO extends WO{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,xy(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(ue.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(e,xy(n,s),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(ue.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function ZO(t,e,n,s){return new XO(t,e,n,s)}class JO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _o="RemoteStore";class e5{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{Eo(this)&&(we(_o,"Restarting streams for network reachability change."),await(async function(p){const d=Ue(p);d.Ea.add(4),await Ku(d),d.Va.set("Unknown"),d.Ea.delete(4),await lm(d)})(this))}))})),this.Va=new JO(s,a)}}async function lm(t){if(Eo(t))for(const e of t.Ra)await e(!0)}async function Ku(t){for(const e of t.Ra)await e(!1)}function $A(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),F0(n)?B0(n):Hl(n).O_()&&z0(n,e))}function U0(t,e){const n=Ue(t),s=Hl(n);n.Ia.delete(e),s.O_()&&KA(n,e),n.Ia.size===0&&(s.O_()?s.L_():Eo(n)&&n.Va.set("Unknown"))}function z0(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hl(t).Z_(e)}function KA(t,e){t.da.$e(e),Hl(t).X_(e)}function B0(t){t.da=new K4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Hl(t).start(),t.Va.ua()}function F0(t){return Eo(t)&&!Hl(t).x_()&&t.Ia.size>0}function Eo(t){return Ue(t).Ea.size===0}function YA(t){t.da=void 0}async function t5(t){t.Va.set("Online")}async function n5(t){t.Ia.forEach(((e,n)=>{z0(t,e)}))}async function i5(t,e){YA(t),F0(t)?(t.Va.ha(e),B0(t)):t.Va.set("Unknown")}async function s5(t,e,n){if(t.Va.set("Online"),e instanceof kA&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.da.removeTarget(f))})(t,e)}catch(s){we(_o,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await xd(t,s)}else if(e instanceof Wf?t.da.Xe(e):e instanceof NA?t.da.st(e):t.da.tt(e),!n.isEqual(je.min()))try{const s=await qA(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const f=l.da.Tt(u);return f.targetChanges.forEach(((p,d)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ia.get(d);y&&l.Ia.set(d,y.withResumeToken(p.resumeToken,u))}})),f.targetMismatches.forEach(((p,d)=>{const y=l.Ia.get(p);if(!y)return;l.Ia.set(p,y.withResumeToken(_n.EMPTY_BYTE_STRING,y.snapshotVersion)),KA(l,p);const b=new ua(y.target,p,d,y.sequenceNumber);z0(l,b)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){we(_o,"Failed to raise snapshot:",s),await xd(t,s)}}async function xd(t,e,n){if(!ql(e))throw e;t.Ea.add(1),await Ku(t),t.Va.set("Offline"),n||(n=()=>qA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(_o,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await lm(t)}))}function QA(t,e){return e().catch((n=>xd(t,n,e)))}async function cm(t){const e=Ue(t),n=xa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:S0;for(;r5(e);)try{const a=await UO(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,a5(e,a)}catch(a){await xd(e,a)}WA(e)&&XA(e)}function r5(t){return Eo(t)&&t.Ta.length<10}function a5(t,e){t.Ta.push(e);const n=xa(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function WA(t){return Eo(t)&&!xa(t).x_()&&t.Ta.length>0}function XA(t){xa(t).start()}async function o5(t){xa(t).ra()}async function l5(t){const e=xa(t);for(const n of t.Ta)e.ea(n.mutations)}async function c5(t,e,n){const s=t.Ta.shift(),a=D0.from(s,e,n);await QA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await cm(t)}async function u5(t,e){e&&xa(t).Y_&&await(async function(s,a){if((function(u){return H4(u)&&u!==ue.ABORTED})(a.code)){const l=s.Ta.shift();xa(s).B_(),await QA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await cm(s)}})(t,e),WA(t)&&XA(t)}async function M1(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),we(_o,"RemoteStore received new credentials");const s=Eo(n);n.Ea.add(3),await Ku(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await lm(n)}async function h5(t,e){const n=Ue(t);e?(n.Ea.delete(2),await lm(n)):e||(n.Ea.add(2),await Ku(n),n.Va.set("Unknown"))}function Hl(t){return t.ma||(t.ma=(function(n,s,a){const l=Ue(n);return l.sa(),new YO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:t5.bind(null,t),Yo:n5.bind(null,t),t_:i5.bind(null,t),J_:s5.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),F0(t)?B0(t):t.Va.set("Unknown")):(await t.ma.stop(),YA(t))}))),t.ma}function xa(t){return t.fa||(t.fa=(function(n,s,a){const l=Ue(n);return l.sa(),new QO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:o5.bind(null,t),t_:u5.bind(null,t),ta:l5.bind(null,t),na:c5.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await cm(t)):(await t.fa.stop(),t.Ta.length>0&&(we(_o,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class q0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,f=new q0(e,n,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H0(t,e){if(_r("AsyncQueue",`${e}: ${t}`),ql(t))return new _e(ue.UNAVAILABLE,`${e}: ${t}`);throw t}class Al{static emptySet(e){return new Al(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ie.comparator(n.key,s.key):(n,s)=>Ie.comparator(n.key,s.key),this.keyedMap=ru(),this.sortedSet=new Lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Al)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Al;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class V1{constructor(){this.ga=new Lt(Ie.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Vl{constructor(e,n,s,a,l,u,f,p,d){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=d}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Vl(e,n,Al.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class f5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class d5{constructor(){this.queries=P1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ue(n),l=a.queries;a.queries=P1(),l.forEach(((u,f)=>{for(const p of f.ba)p.onError(s)}))})(this,new _e(ue.ABORTED,"Firestore shutting down"))}}function P1(){return new To((t=>yA(t)),nm)}async function G0(t,e){const n=Ue(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new f5,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=H0(u,`Initialization of query '${dl(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&K0(n)}async function $0(t,e){const n=Ue(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function m5(t,e){const n=Ue(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.ba)f.Fa(a)&&(s=!0);u.wa=a}}s&&K0(n)}function p5(t,e,n){const s=Ue(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function K0(t){t.Ca.forEach((e=>{e.next()}))}var Cy,O1;(O1=Cy||(Cy={})).Ma="default",O1.Cache="cache";class Y0{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Vl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cy.Cache}}class ZA{constructor(e){this.key=e}}class JA{constructor(e){this.key=e}}class g5{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=tt(),this.mutatedKeys=tt(),this.eu=vA(e),this.tu=new Al(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new V1,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,b)=>{const x=a.get(y),C=im(this.query,b)?b:null,D=!!x&&this.mutatedKeys.has(x.key),j=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let N=!1;x&&C?x.data.isEqual(C.data)?D!==j&&(s.track({type:3,doc:C}),N=!0):this.su(x,C)||(s.track({type:2,doc:C}),N=!0,(p&&this.eu(C,p)>0||d&&this.eu(C,d)<0)&&(f=!0)):!x&&C?(s.track({type:0,doc:C}),N=!0):x&&!C&&(s.track({type:1,doc:x}),N=!0,(p||d)&&(f=!0)),N&&(C?(u=u.add(C),l=j?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Ss:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,b)=>(function(C,D){const j=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:N})}};return j(C)-j(D)})(y.type,b.type)||this.eu(y.doc,b.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],p=this.Ya.size===0&&this.current&&!a?1:0,d=p!==this.Xa;return this.Xa=p,u.length!==0||d?{snapshot:new Vl(this.query,e.tu,l,u,e.mutatedKeys,p===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new V1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=tt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new JA(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new ZA(s))})),n}cu(e){this.Za=e.ks,this.Ya=tt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Q0="SyncEngine";class y5{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class v5{constructor(e){this.key=e,this.hu=!1}}class b5{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new To((f=>yA(f)),nm),this.Iu=new Map,this.Eu=new Set,this.Ru=new Lt(Ie.comparator),this.Au=new Map,this.Vu=new P0,this.du={},this.mu=new Map,this.fu=Ml.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _5(t,e,n=!0){const s=rC(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await eC(s,e,n,!0),a}async function w5(t,e){const n=rC(t);await eC(n,e,!0,!1)}async function eC(t,e,n,s){const a=await zO(t.localStore,Rs(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await x5(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&$A(t.remoteStore,a),f}async function x5(t,e,n,s,a){t.pu=(b,x,C)=>(async function(j,N,G,Q){let Y=N.view.ru(G);Y.Ss&&(Y=await R1(j.localStore,N.query,!1).then((({documents:k})=>N.view.ru(k,Y))));const de=Q&&Q.targetChanges.get(N.targetId),ae=Q&&Q.targetMismatches.get(N.targetId)!=null,ge=N.view.applyChanges(Y,j.isPrimaryClient,de,ae);return L1(j,N.targetId,ge.au),ge.snapshot})(t,b,x,C);const l=await R1(t.localStore,e,!0),u=new g5(e,l.ks),f=u.ru(l.documents),p=$u.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),d=u.applyChanges(f,t.isPrimaryClient,p);L1(t,n,d.au);const y=new y5(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function T5(t,e,n){const s=Ue(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!nm(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Sy(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&U0(s.remoteStore,a.targetId),Ry(s,a.targetId)})).catch(Fl)):(Ry(s,a.targetId),await Sy(s.localStore,a.targetId,!0))}async function E5(t,e){const n=Ue(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),U0(n.remoteStore,s.targetId))}async function S5(t,e,n){const s=D5(t);try{const a=await(function(u,f){const p=Ue(u),d=Fe.now(),y=f.reduce(((C,D)=>C.add(D.key)),tt());let b,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let D=wr(),j=tt();return p.xs.getEntries(C,y).next((N=>{D=N,D.forEach(((G,Q)=>{Q.isValidDocument()||(j=j.add(G))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,D))).next((N=>{b=N;const G=[];for(const Q of f){const Y=U4(Q,b.get(Q.key).overlayedDocument);Y!=null&&G.push(new Ra(Q.key,Y,cA(Y.value.mapValue),zi.exists(!0)))}return p.mutationQueue.addMutationBatch(C,d,G,f)})).next((N=>{x=N;const G=N.applyToLocalDocumentSet(b,j);return p.documentOverlayCache.saveOverlays(C,N.batchId,G)}))})).then((()=>({batchId:x.batchId,changes:_A(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,f,p){let d=u.du[u.currentUser.toKey()];d||(d=new Lt(et)),d=d.insert(f,p),u.du[u.currentUser.toKey()]=d})(s,a.batchId,n),await Yu(s,a.changes),await cm(s.remoteStore)}catch(a){const l=H0(a,"Failed to persist write");n.reject(l)}}async function tC(t,e){const n=Ue(t);try{const s=await jO(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?ft(u.hu,14607):a.removedDocuments.size>0&&(ft(u.hu,42227),u.hu=!1))})),await Yu(n,s,e)}catch(s){await Fl(s)}}function j1(t,e,n){const s=Ue(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const p=Ue(u);p.onlineState=f;let d=!1;p.queries.forEach(((y,b)=>{for(const x of b.ba)x.va(f)&&(d=!0)})),d&&K0(p)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function A5(t,e,n){const s=Ue(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new Lt(Ie.comparator);u=u.insert(l,Mn.newNoDocument(l,je.min()));const f=tt().add(l),p=new am(je.min(),new Map,new Lt(et),u,f);await tC(s,p),s.Ru=s.Ru.remove(l),s.Au.delete(e),W0(s)}else await Sy(s.localStore,e,!1).then((()=>Ry(s,e,n))).catch(Fl)}async function C5(t,e){const n=Ue(t),s=e.batch.batchId;try{const a=await OO(n.localStore,e);iC(n,s,null),nC(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Yu(n,a)}catch(a){await Fl(a)}}async function R5(t,e,n){const s=Ue(t);try{const a=await(function(u,f){const p=Ue(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return p.mutationQueue.lookupMutationBatch(d,f).next((b=>(ft(b!==null,37113),y=b.keys(),p.mutationQueue.removeMutationBatch(d,b)))).next((()=>p.mutationQueue.performConsistencyCheck(d))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(d,y,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>p.localDocuments.getDocuments(d,y)))}))})(s.localStore,e);iC(s,e,n),nC(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Yu(s,a)}catch(a){await Fl(a)}}function nC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function iC(t,e,n){const s=Ue(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function Ry(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||sC(t,s)}))}function sC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(U0(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),W0(t))}function L1(t,e,n){for(const s of n)s instanceof ZA?(t.Vu.addReference(s.key,e),I5(t,s)):s instanceof JA?(we(Q0,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||sC(t,s.key)):Me(19791,{wu:s})}function I5(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(we(Q0,"New document in limbo: "+n),t.Eu.add(s),W0(t))}function W0(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(Tt.fromString(e)),s=t.fu.next();t.Au.set(s,new v5(n)),t.Ru=t.Ru.insert(n,s),$A(t.remoteStore,new ua(Rs(tm(n.path)),s,"TargetPurposeLimboResolution",Zd.ce))}}async function Yu(t,e,n){const s=Ue(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,p)=>{u.push(s.pu(p,e,n).then((d=>{if((d||n)&&s.isPrimaryClient){const y=d?!d.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(d){a.push(d);const y=j0.Es(p.targetId,d);l.push(y)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(p,d){const y=Ue(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>fe.forEach(d,(x=>fe.forEach(x.Ts,(C=>y.persistence.referenceDelegate.addReference(b,x.targetId,C))).next((()=>fe.forEach(x.Is,(C=>y.persistence.referenceDelegate.removeReference(b,x.targetId,C)))))))))}catch(b){if(!ql(b))throw b;we(L0,"Failed to update sequence numbers: "+b)}for(const b of d){const x=b.targetId;if(!b.fromCache){const C=y.vs.get(x),D=C.snapshotVersion,j=C.withLastLimboFreeSnapshotVersion(D);y.vs=y.vs.insert(x,j)}}})(s.localStore,l))}async function N5(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){we(Q0,"User change. New user:",e.toKey());const s=await FA(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new _e(ue.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Yu(n,s.Ns)}}function k5(t,e){const n=Ue(t),s=n.Au.get(e);if(s&&s.hu)return tt().add(s.key);{let a=tt();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function rC(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A5.bind(null,e),e.Pu.J_=m5.bind(null,e.eventManager),e.Pu.yu=p5.bind(null,e.eventManager),e}function D5(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R5.bind(null,e),e}class Td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=om(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return PO(this.persistence,new DO,e.initialUser,this.serializer)}Cu(e){return new BA(O0.Vi,this.serializer)}Du(e){return new FO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Td.provider={build:()=>new Td};class M5 extends Td{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ft(this.persistence.referenceDelegate instanceof wd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new yO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ii.withCacheSize(this.cacheSizeBytes):ii.DEFAULT;return new BA((s=>wd.Vi(s,n)),this.serializer)}}class Iy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>j1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=N5.bind(null,this.syncEngine),await h5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new d5})()}createDatastore(e){const n=om(e.databaseInfo.databaseId),s=KO(e.databaseInfo);return ZO(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,f){return new e5(s,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>j1(this.syncEngine,n,0)),(function(){return k1.v()?new k1:new qO})())}createSyncEngine(e,n){return(function(a,l,u,f,p,d,y){const b=new b5(a,l,u,f,p,d);return y&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ue(n);we(_o,"RemoteStore shutting down."),s.Ea.add(5),await Ku(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Iy.provider={build:()=>new Iy};class X0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ta="FirestoreClient";class V5{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=Dn.UNAUTHENTICATED,this.clientId=Wd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{we(Ta,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(we(Ta,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=H0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Mg(t,e){t.asyncQueue.verifyOperationInProgress(),we(Ta,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await FA(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function U1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await P5(t);we(Ta,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>M1(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>M1(e.remoteStore,a))),t._onlineComponents=e}async function P5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(Ta,"Using user provided OfflineComponentProvider");try{await Mg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await Mg(t,new Td)}}else we(Ta,"Using default OfflineComponentProvider"),await Mg(t,new M5(void 0));return t._offlineComponents}async function aC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(Ta,"Using user provided OnlineComponentProvider"),await U1(t,t._uninitializedComponentsProvider._online)):(we(Ta,"Using default OnlineComponentProvider"),await U1(t,new Iy))),t._onlineComponents}function O5(t){return aC(t).then((e=>e.syncEngine))}async function Ed(t){const e=await aC(t),n=e.eventManager;return n.onListen=_5.bind(null,e.syncEngine),n.onUnlisten=T5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=w5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=E5.bind(null,e.syncEngine),n}function j5(t,e,n,s){const a=new X0(s),l=new Y0(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>G0(await Ed(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>$0(await Ed(t),l)))}}function L5(t,e,n={}){const s=new mr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,d){const y=new X0({next:x=>{y.Nu(),u.enqueueAndForget((()=>$0(l,b)));const C=x.docs.has(f);!C&&x.fromCache?d.reject(new _e(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&x.fromCache&&p&&p.source==="server"?d.reject(new _e(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(x)},error:x=>d.reject(x)}),b=new Y0(tm(f.path),y,{includeMetadataChanges:!0,Ka:!0});return G0(l,b)})(await Ed(t),t.asyncQueue,e,n,s))),s.promise}function U5(t,e,n={}){const s=new mr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,d){const y=new X0({next:x=>{y.Nu(),u.enqueueAndForget((()=>$0(l,b))),x.fromCache&&p.source==="server"?d.reject(new _e(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(x)},error:x=>d.reject(x)}),b=new Y0(f,y,{includeMetadataChanges:!0,Ka:!0});return G0(l,b)})(await Ed(t),t.asyncQueue,e,n,s))),s.promise}function z5(t,e){const n=new mr;return t.asyncQueue.enqueueAndForget((async()=>S5(await O5(t),e,n))),n.promise}function oC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const B5="ComponentProvider",z1=new Map;function F5(t,e,n,s,a){return new l4(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,oC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const lC="firestore.googleapis.com",B1=!0;class F1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lC,this.ssl=B1}else this.host=e.host,this.ssl=e.ssl??B1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pO)throw new _e(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oC(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class um{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new WS;switch(s.type){case"firstParty":return new $P(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=z1.get(n);s&&(we(B5,"Removing Datastore"),z1.delete(n),s.terminate())})(this),Promise.resolve()}}function cC(t,e,n,s={}){t=Hn(t,um);const a=wo(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(c0(`https://${f}`),u0("Firestore",!0)),l.host!==lC&&l.host!==f&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:a,emulatorOptions:s};if(!po(p,u)&&(t._setSettings(p),s.mockUserToken)){let d,y;if(typeof s.mockUserToken=="string")d=s.mockUserToken,y=Dn.MOCK_USER;else{d=aS(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new _e(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Dn(b)}t._authCredentials=new qP(new QS(d,y))}}class Ia{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ia(this.firestore,e,this._query)}}class jt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(qu(n,jt._jsonSchema))return new jt(e,s||null,new Ie(Tt.fromString(n.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:cn("string",jt._jsonSchemaVersion),referencePath:cn("string")};class pr extends Ia{constructor(e,n,s){super(e,n,tm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new Ie(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function gl(t,e,...n){if(t=pn(t),XS("collection","path",e),t instanceof um){const s=Tt.fromString(e,...n);return t1(s),new pr(t,null,s)}{if(!(t instanceof jt||t instanceof pr))throw new _e(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Tt.fromString(e,...n));return t1(s),new pr(t.firestore,null,s)}}function is(t,e,...n){if(t=pn(t),arguments.length===1&&(e=Wd.newId()),XS("doc","path",e),t instanceof um){const s=Tt.fromString(e,...n);return e1(s),new jt(t,null,new Ie(s))}{if(!(t instanceof jt||t instanceof pr))throw new _e(ue.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Tt.fromString(e,...n));return e1(s),new jt(t.firestore,t instanceof pr?t.converter:null,new Ie(s))}}const q1="AsyncQueue";class H1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HA(this,"async_queue_retry"),this._c=()=>{const s=Dg();s&&we(q1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Dg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ql(e))throw e;we(q1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",G1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=q0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Me(47125,{Pc:G1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function G1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ms extends um{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new H1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H1(e),this._firestoreClient=void 0,await e}}}function uC(t,e){const n=typeof t=="object"?t:d0(),s=typeof t=="string"?t:md,a=$d(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=iS("firestore");l&&cC(a,...l)}return a}function Qu(t){if(t._terminated)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||q5(t),t._firestoreClient}function q5(t){const e=t._freezeSettings(),n=F5(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new V5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class bi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bi(_n.fromBase64String(e))}catch(n){throw new _e(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bi(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:bi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qu(e,bi._jsonSchema))return bi.fromBase64String(e.bytes)}}bi._jsonSchemaVersion="firestore/bytes/1.0",bi._jsonSchema={type:cn("string",bi._jsonSchemaVersion),bytes:cn("string")};class hm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fm{constructor(e){this._methodName=e}}class as{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:as._jsonSchemaVersion}}static fromJSON(e){if(qu(e,as._jsonSchema))return new as(e.latitude,e.longitude)}}as._jsonSchemaVersion="firestore/geoPoint/1.0",as._jsonSchema={type:cn("string",as._jsonSchemaVersion),latitude:cn("number"),longitude:cn("number")};class Bi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qu(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Bi(e.vectorValues);throw new _e(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:cn("string",Bi._jsonSchemaVersion),vectorValues:cn("object")};const H5=/^__.*__$/;class G5{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gu(e,this.data,n,this.fieldTransforms)}}class hC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ra(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{dataSource:t})}}class Z0{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Z0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Sd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(fC(this.dataSource)&&H5.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class $5{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||om(e)}createContext(e,n,s,a=!1){return new Z0({dataSource:e,methodName:n,targetDoc:s,path:bn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dm(t){const e=t._freezeSettings(),n=om(t._databaseId);return new $5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dC(t,e,n,s,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);J0("Data must be an object, but it was:",u,s);const f=mC(s,u);let p,d;if(l.merge)p=new _i(u.fieldMask),d=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const b of l.mergeFields){const x=Pl(e,b,n);if(!u.contains(x))throw new _e(ue.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);yC(y,x)||y.push(x)}p=new _i(y),d=u.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,d=u.fieldTransforms;return new G5(new si(f),p,d)}class Wu extends fm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wu}}function K5(t,e,n,s){const a=t.createContext(1,e,n);J0("Data must be an object, but it was:",a,s);const l=[],u=si.empty();Ca(s,((p,d)=>{const y=gC(e,p,n);d=pn(d);const b=a.childContextForFieldPath(y);if(d instanceof Wu)l.push(y);else{const x=Xu(d,b);x!=null&&(l.push(y),u.set(y,x))}}));const f=new _i(l);return new hC(u,f,a.fieldTransforms)}function Y5(t,e,n,s,a,l){const u=t.createContext(1,e,n),f=[Pl(e,s,n)],p=[a];if(l.length%2!=0)throw new _e(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)f.push(Pl(e,l[x])),p.push(l[x+1]);const d=[],y=si.empty();for(let x=f.length-1;x>=0;--x)if(!yC(d,f[x])){const C=f[x];let D=p[x];D=pn(D);const j=u.childContextForFieldPath(C);if(D instanceof Wu)d.push(C);else{const N=Xu(D,j);N!=null&&(d.push(C),y.set(C,N))}}const b=new _i(d);return new hC(y,b,u.fieldTransforms)}function Q5(t,e,n,s=!1){return Xu(n,t.createContext(s?4:3,e))}function Xu(t,e){if(pC(t=pn(t)))return J0("Unsupported field value:",e,t),mC(t,e);if(t instanceof fm)return(function(s,a){if(!fC(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const f of s){let p=Xu(f,a.childContextForArray(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=pn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return M4(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Fe.fromDate(s);return{timestampValue:_d(a.serializer,l)}}if(s instanceof Fe){const l=new Fe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_d(a.serializer,l)}}if(s instanceof as)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof bi)return{bytesValue:DA(a.serializer,s._byteString)};if(s instanceof jt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:V0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Bi)return(function(u,f){const p=u instanceof Bi?u.toArray():u;return{mapValue:{fields:{[oA]:{stringValue:lA},[pd]:{arrayValue:{values:p.map((y=>{if(typeof y!="number")throw f.createError("VectorValues must only contain numeric values.");return N0(f.serializer,y)}))}}}}}})(s,a);if(UA(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Xd(s)}`)})(t,e)}function mC(t,e){const n={};return tA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(t,((s,a)=>{const l=Xu(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function pC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof as||t instanceof bi||t instanceof jt||t instanceof fm||t instanceof Bi||UA(t))}function J0(t,e,n){if(!pC(n)||!JS(n)){const s=Xd(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function Pl(t,e,n){if((e=pn(e))instanceof hm)return e._internalPath;if(typeof e=="string")return gC(t,e);throw Sd("Field path arguments must be of type string or ",t,!1,void 0,n)}const W5=new RegExp("[~\\*/\\[\\]]");function gC(t,e,n){if(e.search(W5)>=0)throw Sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hm(...e.split("."))._internalPath}catch{throw Sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sd(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${s}`),u&&(p+=` in document ${a}`),p+=")"),new _e(ue.INVALID_ARGUMENT,f+t+p)}function yC(t,e){return t.some((n=>n.isEqual(e)))}class vC{convertValue(e,n="none"){switch(wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ca(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[pd].arrayValue?.values?.map((s=>Qt(s.doubleValue)));return new Bi(n)}convertGeoPoint(e){return new as(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=em(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Au(e));default:return null}}convertTimestamp(e){const n=ba(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Tt.fromString(e);ft(LA(s),9688,{name:e});const a=new Nl(s.get(1),s.get(3)),l=new Ie(s.popFirst(5));return a.isEqual(n)||_r(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class ev extends vC{constructor(e){super(),this.firestore=e}convertBytes(e){return new bi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function Ad(){return new Wu("deleteField")}const $1="@firebase/firestore",K1="4.10.0";function Y1(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class bC{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new X5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Pl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class X5 extends bC{data(){return super.data()}}function _C(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tv{}class wC extends tv{}function Cd(t,e,...n){let s=[];e instanceof tv&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((p=>p instanceof mm)).length,f=l.filter((p=>p instanceof Zu)).length;if(u>1||u>0&&f>0)throw new _e(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Zu extends wC{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Zu(e,n,s)}_apply(e){const n=this._parse(e);return xC(e._query,n),new Ia(e.firestore,e.converter,by(e._query,n))}_parse(e){const n=dm(e.firestore);return(function(l,u,f,p,d,y,b){let x;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new _e(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){W1(b,y);const D=[];for(const j of b)D.push(Q1(p,l,j));x={arrayValue:{values:D}}}else x=Q1(p,l,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||W1(b,y),x=Q5(f,u,b,y==="in"||y==="not-in");return ln.create(d,y,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Rd(t,e,n){const s=e,a=Pl("where",t);return Zu._create(a,s,n)}class mm extends tv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mm(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:os.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const p of f)xC(u,p),u=by(u,p)})(e._query,n),new Ia(e.firestore,e.converter,by(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Q1(t,e,n){if(typeof(n=pn(n))=="string"){if(n==="")throw new _e(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gA(e)&&n.indexOf("/")!==-1)throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Tt.fromString(n));if(!Ie.isDocumentKey(s))throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return c1(t,new Ie(s))}if(n instanceof jt)return c1(t,n._key);throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xd(n)}.`)}function W1(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xC(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function TC(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pa extends bC{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Pl("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=pa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",pa._jsonSchema={type:cn("string",pa._jsonSchemaVersion),bundleSource:cn("string","DocumentSnapshot"),bundleName:cn("string"),bundle:cn("string")};class pu extends pa{data(e={}){return super.data(e)}}class ga{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new yl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new pu(this._firestore,this._userDataWriter,s.key,s,new yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const p=new pu(a._firestore,a._userDataWriter,f.doc.key,f.doc,new yl(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new pu(a._firestore,a._userDataWriter,f.doc.key,f.doc,new yl(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,y=-1;return f.type!==0&&(d=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:Z5(f.type),doc:p,oldIndex:d,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ga._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Z5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}ga._jsonSchemaVersion="firestore/querySnapshot/1.0",ga._jsonSchema={type:cn("string",ga._jsonSchemaVersion),bundleSource:cn("string","QuerySnapshot"),bundleName:cn("string"),bundle:cn("string")};function Ju(t){t=Hn(t,jt);const e=Hn(t.firestore,Ms),n=Qu(e);return L5(n,t._key).then((s=>CC(e,t,s)))}function gu(t){t=Hn(t,Ia);const e=Hn(t.firestore,Ms),n=Qu(e),s=new ev(e);return _C(t._query),U5(n,t._query).then((a=>new ga(e,s,t,a)))}function Id(t,e,n){t=Hn(t,jt);const s=Hn(t.firestore,Ms),a=TC(t.converter,e,n),l=dm(s);return eh(s,[dC(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,zi.none())])}function ni(t,e,n,...s){t=Hn(t,jt);const a=Hn(t.firestore,Ms),l=dm(a);let u;return u=typeof(e=pn(e))=="string"||e instanceof hm?Y5(l,"updateDoc",t._key,e,n,s):K5(l,"updateDoc",t._key,e),eh(a,[u.toMutation(t._key,zi.exists(!0))])}function EC(t){return eh(Hn(t.firestore,Ms),[new k0(t._key,zi.none())])}function SC(t,e){const n=Hn(t.firestore,Ms),s=is(t),a=TC(t.converter,e),l=dm(t.firestore);return eh(n,[dC(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,zi.exists(!1))]).then((()=>s))}function AC(t,...e){t=pn(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Y1(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Y1(e[s])){const d=e[s];e[s]=d.next?.bind(d),e[s+1]=d.error?.bind(d),e[s+2]=d.complete?.bind(d)}let l,u,f;if(t instanceof jt)u=Hn(t.firestore,Ms),f=tm(t._key.path),l={next:d=>{e[s]&&e[s](CC(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=Hn(t,Ia);u=Hn(d.firestore,Ms),f=d._query;const y=new ev(u);l={next:b=>{e[s]&&e[s](new ga(u,y,d,b))},error:e[s+1],complete:e[s+2]},_C(t._query)}const p=Qu(u);return j5(p,f,a,l)}function eh(t,e){const n=Qu(t);return z5(n,e)}function CC(t,e,n){const s=n.docs.get(e._key),a=new ev(t);return new pa(t,a,e._key,s,new yl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){FP(xo),go(new ya("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new Ms(new HP(s.getProvider("auth-internal")),new KP(u,s.getProvider("app-check-internal")),c4(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),As($1,K1,e),As($1,K1,"esm2020")})();const J5=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:vC,Bytes:bi,CollectionReference:pr,DocumentReference:jt,DocumentSnapshot:pa,FieldPath:hm,FieldValue:fm,Firestore:Ms,FirestoreError:_e,GeoPoint:as,Query:Ia,QueryCompositeFilterConstraint:mm,QueryConstraint:wC,QueryDocumentSnapshot:pu,QueryFieldFilterConstraint:Zu,QuerySnapshot:ga,SnapshotMetadata:yl,Timestamp:Fe,VectorValue:Bi,_AutoId:Wd,_ByteString:_n,_DatabaseId:Nl,_DocumentKey:Ie,_EmptyAuthCredentialsProvider:WS,_FieldPath:bn,_cast:Hn,_logWarn:bo,_validateIsNotUsedTogether:ZS,addDoc:SC,collection:gl,connectFirestoreEmulator:cC,deleteDoc:EC,deleteField:Ad,doc:is,ensureFirestoreConfigured:Qu,executeWrite:eh,getDoc:Ju,getDocs:gu,getFirestore:uC,onSnapshot:AC,query:Cd,setDoc:Id,updateDoc:ni,where:Rd},Symbol.toStringTag,{value:"Module"}));const RC="firebasestorage.googleapis.com",ej="storageBucket",tj=120*1e3,nj=600*1e3;class js extends Os{constructor(e,n,s=0){super(Vg(e),`Firebase Storage: ${n} (${Vg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,js.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vs||(Vs={}));function Vg(t){return"storage/"+t}function ij(){const t="An unknown error occurred, please check the error payload for server response.";return new js(Vs.UNKNOWN,t)}function sj(){return new js(Vs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rj(){return new js(Vs.CANCELED,"User canceled the upload/download.")}function aj(t){return new js(Vs.INVALID_URL,"Invalid URL '"+t+"'.")}function oj(t){return new js(Vs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function X1(t){return new js(Vs.INVALID_ARGUMENT,t)}function IC(){return new js(Vs.APP_DELETED,"The Firebase app was deleted.")}function lj(t){return new js(Vs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ss{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ss.makeFromUrl(e,n)}catch{return new ss(e,"")}if(s.path==="")return s;throw oj(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(de){de.path.charAt(de.path.length-1)==="/"&&(de.path_=de.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),p={bucket:1,path:3};function d(de){de.path_=decodeURIComponent(de.path)}const y="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",C=new RegExp(`^https?://${b}/${y}/b/${a}/o${x}`,"i"),D={bucket:1,path:3},j=n===RC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",G=new RegExp(`^https?://${j}/${a}/${N}`,"i"),Y=[{regex:f,indices:p,postModify:l},{regex:C,indices:D,postModify:d},{regex:G,indices:{bucket:1,path:2},postModify:d}];for(let de=0;de<Y.length;de++){const ae=Y[de],ge=ae.regex.exec(e);if(ge){const k=ge[ae.indices.bucket];let S=ge[ae.indices.path];S||(S=""),s=new ss(k,S),ae.postModify(s);break}}if(s==null)throw aj(e);return s}}class cj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function uj(t,e,n){let s=1,a=null,l=null,u=!1,f=0;function p(){return f===2}let d=!1;function y(...N){d||(d=!0,e.apply(null,N))}function b(N){a=setTimeout(()=>{a=null,t(C,p())},N)}function x(){l&&clearTimeout(l)}function C(N,...G){if(d){x();return}if(N){x(),y.call(null,N,...G);return}if(p()||u){x(),y.call(null,N,...G);return}s<64&&(s*=2);let Y;f===1?(f=2,Y=0):Y=(s+Math.random())*1e3,b(Y)}let D=!1;function j(N){D||(D=!0,x(),!d&&(a!==null?(N||(f=2),clearTimeout(a),b(0)):N||(f=1)))}return b(0),l=setTimeout(()=>{u=!0,j(!0)},n),j}function hj(t){t(!1)}function fj(t){return t!==void 0}function Z1(t,e,n,s){if(s<e)throw X1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw X1(`Invalid value for '${t}'. Expected ${n} or less.`)}function dj(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Nd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Nd||(Nd={}));function mj(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class pj{constructor(e,n,s,a,l,u,f,p,d,y,b,x=!0,C=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=p,this.timeout_=d,this.progressCallback_=y,this.connectionFactory_=b,this.retry=x,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,j)=>{this.resolve_=D,this.reject_=j,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Mf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const p=f.loaded,d=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,d)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===Nd.NO_ERROR,p=l.getStatus();if(!f||mj(p,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Nd.ABORT;s(!1,new Mf(!1,null,y));return}const d=this.successCodes_.indexOf(p)!==-1;s(!0,new Mf(d,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());fj(p)?l(p):l()}catch(p){u(p)}else if(f!==null){const p=ij();p.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,p)):u(p)}else if(a.canceled){const p=this.appDelete_?IC():rj();u(p)}else{const p=sj();u(p)}};this.canceled_?n(!1,new Mf(!1,null,!0)):this.backoffId_=uj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function gj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function yj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _j(t,e,n,s,a,l,u=!0,f=!1){const p=dj(t.urlParams),d=t.url+p,y=Object.assign({},t.headers);return vj(y,e),gj(y,n),yj(y,l),bj(y,s),new pj(d,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}function wj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class kd{constructor(e,n){this._service=e,n instanceof ss?this._location=n:this._location=ss.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new kd(e,n)}get root(){const e=new ss(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xj(this._location.path)}get storage(){return this._service}get parent(){const e=wj(this._location.path);if(e===null)return null;const n=new ss(this._location.bucket,e);return new kd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw lj(e)}}function J1(t,e){const n=e?.[ej];return n==null?null:ss.makeFromBucketSpec(n,t)}function Tj(t,e,n,s={}){t.host=`${e}:${n}`;const a=wo(e);a&&(c0(`https://${t.host}/b`),u0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:aS(l,t.app.options.projectId))}class Ej{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=RC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tj,this._maxUploadRetryTime=nj,this._requests=new Set,a!=null?this._bucket=ss.makeFromBucketSpec(a,this._host):this._bucket=J1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ss.makeFromBucketSpec(this._url,e):this._bucket=J1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Z1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Z1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kd(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new cj(IC());{const u=_j(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const eT="@firebase/storage",tT="0.14.0";const NC="storage";function Sj(t=d0(),e){t=pn(t);const s=$d(t,NC).getImmediate({identifier:e}),a=iS("storage");return a&&Aj(s,...a),s}function Aj(t,e,n,s={}){Tj(t,e,n,s)}function Cj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Ej(n,s,a,e,xo)}function Rj(){go(new ya(NC,Cj,"PUBLIC").setMultipleInstances(!0)),As(eT,tT,""),As(eT,tT,"esm2020")}Rj();const Ij={apiKey:"AIzaSyC7IaK8e0JimVT2DeKQovTDLPyufibEu_4",authDomain:"sunsar-bingo.firebaseapp.com",projectId:"sunsar-bingo",storageBucket:"sunsar-bingo.firebasestorage.app",messagingSenderId:"256131852935",appId:"1:256131852935:web:fe514c1e6758e5af252622"},pm=cS(Ij),Xf=zP(pm),kC=new cr,Bn=uC(pm);Sj(pm);const Nj=Object.freeze(Object.defineProperty({__proto__:null,app:pm,auth:Xf,db:Bn,googleProvider:kC},Symbol.toStringTag,{value:"Module"})),DC=I.createContext(void 0),kj=({children:t})=>{const[e,n]=I.useState(null),[s,a]=I.useState(!0),[l,u]=I.useState(null);I.useEffect(()=>{const d=RV(Xf,async y=>{if(y){const b={uid:y.uid,email:y.email,displayName:y.displayName,photoURL:y.photoURL};n(b),u(null);try{const{doc:x,setDoc:C,Timestamp:D}=await sy(async()=>{const{doc:N,setDoc:G,Timestamp:Q}=await Promise.resolve().then(()=>J5);return{doc:N,setDoc:G,Timestamp:Q}},[]),{db:j}=await sy(async()=>{const{db:N}=await Promise.resolve().then(()=>Nj);return{db:N}},void 0);await C(x(j,"users",y.uid),{...b,lastSeen:D.now()},{merge:!0})}catch(x){console.error("Error syncing user profile:",x)}}else n(null);a(!1)});return()=>d()},[]);const f=async()=>{u(null);try{await QV(Xf,kC)}catch(d){u(d.message||"Failed to sign in")}},p=async()=>{await IV(Xf)};return v.jsx(DC.Provider,{value:{user:e,loading:s,signIn:f,logout:p,error:l},children:t})},Gl=()=>{const t=I.useContext(DC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},nv=I.createContext({});function iv(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const MC=typeof window<"u",VC=MC?I.useLayoutEffect:I.useEffect,gm=I.createContext(null);function sv(t,e){t.indexOf(e)===-1&&t.push(e)}function rv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ps=(t,e,n)=>n>e?e:n<t?t:n;let av=()=>{};const xr={},PC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function OC(t){return typeof t=="object"&&t!==null}const jC=t=>/^0[^.\s]+$/u.test(t);function ov(t){let e;return()=>(e===void 0&&(e=t()),e)}const Fi=t=>t,Dj=(t,e)=>n=>e(t(n)),th=(...t)=>t.reduce(Dj),Nu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class lv{constructor(){this.subscriptions=[]}add(e){return sv(this.subscriptions,e),()=>rv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gr=t=>t*1e3,Ui=t=>t/1e3;function LC(t,e){return e?t*(1e3/e):0}const UC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Mj=1e-7,Vj=12;function Pj(t,e,n,s,a){let l,u,f=0;do u=e+(n-e)/2,l=UC(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>Mj&&++f<Vj);return u}function nh(t,e,n,s){if(t===e&&n===s)return Fi;const a=l=>Pj(l,0,1,t,n);return l=>l===0||l===1?l:UC(a(l),e,s)}const zC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,BC=t=>e=>1-t(1-e),FC=nh(.33,1.53,.69,.99),cv=BC(FC),qC=zC(cv),HC=t=>(t*=2)<1?.5*cv(t):.5*(2-Math.pow(2,-10*(t-1))),uv=t=>1-Math.sin(Math.acos(t)),GC=BC(uv),$C=zC(uv),Oj=nh(.42,0,1,1),jj=nh(0,0,.58,1),KC=nh(.42,0,.58,1),Lj=t=>Array.isArray(t)&&typeof t[0]!="number",YC=t=>Array.isArray(t)&&typeof t[0]=="number",Uj={linear:Fi,easeIn:Oj,easeInOut:KC,easeOut:jj,circIn:uv,circInOut:$C,circOut:GC,backIn:cv,backInOut:qC,backOut:FC,anticipate:HC},zj=t=>typeof t=="string",nT=t=>{if(YC(t)){av(t.length===4);const[e,n,s,a]=t;return nh(e,n,s,a)}else if(zj(t))return Uj[t];return t},Vf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Bj(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(y){u.has(y)&&(d.schedule(y),t()),y(f)}const d={schedule:(y,b=!1,x=!1)=>{const D=x&&a?n:s;return b&&u.add(y),D.has(y)||D.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(p),n.clear(),a=!1,l&&(l=!1,d.process(y))}};return d}const Fj=40;function QC(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Vf.reduce((Y,de)=>(Y[de]=Bj(l),Y),{}),{setup:f,read:p,resolveKeyframes:d,preUpdate:y,update:b,preRender:x,render:C,postRender:D}=u,j=()=>{const Y=xr.useManualTiming?a.timestamp:performance.now();n=!1,xr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(Y-a.timestamp,Fj),1)),a.timestamp=Y,a.isProcessing=!0,f.process(a),p.process(a),d.process(a),y.process(a),b.process(a),x.process(a),C.process(a),D.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(j))},N=()=>{n=!0,s=!0,a.isProcessing||t(j)};return{schedule:Vf.reduce((Y,de)=>{const ae=u[de];return Y[de]=(ge,k=!1,S=!1)=>(n||N(),ae.schedule(ge,k,S)),Y},{}),cancel:Y=>{for(let de=0;de<Vf.length;de++)u[Vf[de]].cancel(Y)},state:a,steps:u}}const{schedule:Ct,cancel:Ea,state:Cn,steps:Pg}=QC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fi,!0);let Zf;function qj(){Zf=void 0}const Fn={now:()=>(Zf===void 0&&Fn.set(Cn.isProcessing||xr.useManualTiming?Cn.timestamp:performance.now()),Zf),set:t=>{Zf=t,queueMicrotask(qj)}},WC=t=>e=>typeof e=="string"&&e.startsWith(t),XC=WC("--"),Hj=WC("var(--"),hv=t=>Hj(t)?Gj.test(t.split("/*")[0].trim()):!1,Gj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function iT(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const $l={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ku={...$l,transform:t=>Ps(0,1,t)},Pf={...$l,default:1},yu=t=>Math.round(t*1e5)/1e5,fv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $j(t){return t==null}const Kj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dv=(t,e)=>n=>!!(typeof n=="string"&&Kj.test(n)&&n.startsWith(t)||e&&!$j(n)&&Object.prototype.hasOwnProperty.call(n,e)),ZC=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,f]=s.match(fv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},Yj=t=>Ps(0,255,t),Og={...$l,transform:t=>Math.round(Yj(t))},uo={test:dv("rgb","red"),parse:ZC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Og.transform(t)+", "+Og.transform(e)+", "+Og.transform(n)+", "+yu(ku.transform(s))+")"};function Qj(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Ny={test:dv("#"),parse:Qj,transform:uo.transform},ih=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ra=ih("deg"),Ns=ih("%"),xe=ih("px"),Wj=ih("vh"),Xj=ih("vw"),sT={...Ns,parse:t=>Ns.parse(t)/100,transform:t=>Ns.transform(t*100)},vl={test:dv("hsl","hue"),parse:ZC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ns.transform(yu(e))+", "+Ns.transform(yu(n))+", "+yu(ku.transform(s))+")"},on={test:t=>uo.test(t)||Ny.test(t)||vl.test(t),parse:t=>uo.test(t)?uo.parse(t):vl.test(t)?vl.parse(t):Ny.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?uo.transform(t):vl.transform(t),getAnimatableNone:t=>{const e=on.parse(t);return e.alpha=0,on.transform(e)}},Zj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Jj(t){return isNaN(t)&&typeof t=="string"&&(t.match(fv)?.length||0)+(t.match(Zj)?.length||0)>0}const JC="number",e2="color",e3="var",t3="var(",rT="${}",n3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Du(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(n3,p=>(on.test(p)?(s.color.push(l),a.push(e2),n.push(on.parse(p))):p.startsWith(t3)?(s.var.push(l),a.push(e3),n.push(p)):(s.number.push(l),a.push(JC),n.push(parseFloat(p))),++l,rT)).split(rT);return{values:n,split:f,indexes:s,types:a}}function t2(t){return Du(t).values}function n2(t){const{split:e,types:n}=Du(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===JC?l+=yu(a[u]):f===e2?l+=on.transform(a[u]):l+=a[u]}return l}}const i3=t=>typeof t=="number"?0:on.test(t)?on.getAnimatableNone(t):t;function s3(t){const e=t2(t);return n2(t)(e.map(i3))}const Sa={test:Jj,parse:t2,createTransformer:n2,getAnimatableNone:s3};function jg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function r3({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,p=2*n-f;a=jg(p,f,t+1/3),l=jg(p,f,t),u=jg(p,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function Dd(t,e){return n=>n>0?e:t}const Ot=(t,e,n)=>t+(e-t)*n,Lg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},a3=[Ny,uo,vl],o3=t=>a3.find(e=>e.test(t));function aT(t){const e=o3(t);if(!e)return!1;let n=e.parse(t);return e===vl&&(n=r3(n)),n}const oT=(t,e)=>{const n=aT(t),s=aT(e);if(!n||!s)return Dd(t,e);const a={...n};return l=>(a.red=Lg(n.red,s.red,l),a.green=Lg(n.green,s.green,l),a.blue=Lg(n.blue,s.blue,l),a.alpha=Ot(n.alpha,s.alpha,l),uo.transform(a))},ky=new Set(["none","hidden"]);function l3(t,e){return ky.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function c3(t,e){return n=>Ot(t,e,n)}function mv(t){return typeof t=="number"?c3:typeof t=="string"?hv(t)?Dd:on.test(t)?oT:f3:Array.isArray(t)?i2:typeof t=="object"?on.test(t)?oT:u3:Dd}function i2(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>mv(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function u3(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=mv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function h3(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],f=t.values[u]??0;n[a]=f,s[l]++}return n}const f3=(t,e)=>{const n=Sa.createTransformer(e),s=Du(t),a=Du(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?ky.has(t)&&!a.values.length||ky.has(e)&&!s.values.length?l3(t,e):th(i2(h3(s,a),a.values),n):Dd(t,e)};function s2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ot(t,e,n):mv(t)(t,e)}const d3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ct.update(e,n),stop:()=>Ea(e),now:()=>Cn.isProcessing?Cn.timestamp:Fn.now()}},r2=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Md=2e4;function pv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Md;)e+=n,s=t.next(e);return e>=Md?1/0:e}function m3(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(pv(s),Md);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Ui(a)}}const p3=5;function a2(t,e,n){const s=Math.max(e-p3,0);return LC(n-t(s),e-s)}const Bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ug=.001;function g3({duration:t=Bt.duration,bounce:e=Bt.bounce,velocity:n=Bt.velocity,mass:s=Bt.mass}){let a,l,u=1-e;u=Ps(Bt.minDamping,Bt.maxDamping,u),t=Ps(Bt.minDuration,Bt.maxDuration,Ui(t)),u<1?(a=d=>{const y=d*u,b=y*t,x=y-n,C=Dy(d,u),D=Math.exp(-b);return Ug-x/C*D},l=d=>{const b=d*u*t,x=b*n+n,C=Math.pow(u,2)*Math.pow(d,2)*t,D=Math.exp(-b),j=Dy(Math.pow(d,2),u);return(-a(d)+Ug>0?-1:1)*((x-C)*D)/j}):(a=d=>{const y=Math.exp(-d*t),b=(d-n)*t+1;return-Ug+y*b},l=d=>{const y=Math.exp(-d*t),b=(n-d)*(t*t);return y*b});const f=5/t,p=v3(a,l,f);if(t=gr(t),isNaN(p))return{stiffness:Bt.stiffness,damping:Bt.damping,duration:t};{const d=Math.pow(p,2)*s;return{stiffness:d,damping:u*2*Math.sqrt(s*d),duration:t}}}const y3=12;function v3(t,e,n){let s=n;for(let a=1;a<y3;a++)s=s-t(s)/e(s);return s}function Dy(t,e){return t*Math.sqrt(1-e*e)}const b3=["duration","bounce"],_3=["stiffness","damping","mass"];function lT(t,e){return e.some(n=>t[n]!==void 0)}function w3(t){let e={velocity:Bt.velocity,stiffness:Bt.stiffness,damping:Bt.damping,mass:Bt.mass,isResolvedFromDuration:!1,...t};if(!lT(t,_3)&&lT(t,b3))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ps(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Bt.mass,stiffness:a,damping:l}}else{const n=g3(t);e={...e,...n,mass:Bt.mass},e.isResolvedFromDuration=!0}return e}function Vd(t=Bt.visualDuration,e=Bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:p,damping:d,mass:y,duration:b,velocity:x,isResolvedFromDuration:C}=w3({...n,velocity:-Ui(n.velocity||0)}),D=x||0,j=d/(2*Math.sqrt(p*y)),N=u-l,G=Ui(Math.sqrt(p/y)),Q=Math.abs(N)<5;s||(s=Q?Bt.restSpeed.granular:Bt.restSpeed.default),a||(a=Q?Bt.restDelta.granular:Bt.restDelta.default);let Y;if(j<1){const ae=Dy(G,j);Y=ge=>{const k=Math.exp(-j*G*ge);return u-k*((D+j*G*N)/ae*Math.sin(ae*ge)+N*Math.cos(ae*ge))}}else if(j===1)Y=ae=>u-Math.exp(-G*ae)*(N+(D+G*N)*ae);else{const ae=G*Math.sqrt(j*j-1);Y=ge=>{const k=Math.exp(-j*G*ge),S=Math.min(ae*ge,300);return u-k*((D+j*G*N)*Math.sinh(S)+ae*N*Math.cosh(S))/ae}}const de={calculatedDuration:C&&b||null,next:ae=>{const ge=Y(ae);if(C)f.done=ae>=b;else{let k=ae===0?D:0;j<1&&(k=ae===0?gr(D):a2(Y,ae,ge));const S=Math.abs(k)<=s,V=Math.abs(u-ge)<=a;f.done=S&&V}return f.value=f.done?u:ge,f},toString:()=>{const ae=Math.min(pv(de),Md),ge=r2(k=>de.next(ae*k).value,ae,30);return ae+"ms "+ge},toTransition:()=>{}};return de}Vd.applyToOptions=t=>{const e=m3(t,100,Vd);return t.ease=e.ease,t.duration=gr(e.duration),t.type="keyframes",t};function My({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:p,restDelta:d=.5,restSpeed:y}){const b=t[0],x={done:!1,value:b},C=S=>f!==void 0&&S<f||p!==void 0&&S>p,D=S=>f===void 0?p:p===void 0||Math.abs(f-S)<Math.abs(p-S)?f:p;let j=n*e;const N=b+j,G=u===void 0?N:u(N);G!==N&&(j=G-b);const Q=S=>-j*Math.exp(-S/s),Y=S=>G+Q(S),de=S=>{const V=Q(S),z=Y(S);x.done=Math.abs(V)<=d,x.value=x.done?G:z};let ae,ge;const k=S=>{C(x.value)&&(ae=S,ge=Vd({keyframes:[x.value,D(x.value)],velocity:a2(Y,S,x.value),damping:a,stiffness:l,restDelta:d,restSpeed:y}))};return k(0),{calculatedDuration:null,next:S=>{let V=!1;return!ge&&ae===void 0&&(V=!0,de(S),k(S)),ae!==void 0&&S>=ae?ge.next(S-ae):(!V&&de(S),x)}}}function x3(t,e,n){const s=[],a=n||xr.mix||s2,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const p=Array.isArray(e)?e[u]||Fi:e;f=th(p,f)}s.push(f)}return s}function T3(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(av(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=x3(e,s,a),p=f.length,d=y=>{if(u&&y<t[0])return e[0];let b=0;if(p>1)for(;b<t.length-2&&!(y<t[b+1]);b++);const x=Nu(t[b],t[b+1],y);return f[b](x)};return n?y=>d(Ps(t[0],t[l-1],y)):d}function E3(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Nu(0,e,s);t.push(Ot(n,1,a))}}function S3(t){const e=[0];return E3(e,t.length-1),e}function A3(t,e){return t.map(n=>n*e)}function C3(t,e){return t.map(()=>e||KC).splice(0,t.length-1)}function vu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=Lj(s)?s.map(nT):nT(s),l={done:!1,value:e[0]},u=A3(n&&n.length===e.length?n:S3(e),t),f=T3(u,e,{ease:Array.isArray(a)?a:C3(e,a)});return{calculatedDuration:t,next:p=>(l.value=f(p),l.done=p>=t,l)}}const R3=t=>t!==null;function gv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(R3),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const I3={decay:My,inertia:My,tween:vu,keyframes:vu,spring:Vd};function o2(t){typeof t.type=="string"&&(t.type=I3[t.type])}class yv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const N3=t=>t/100;class vv extends yv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Fn.now()&&this.tick(Fn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;o2(e);const{type:n=vu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const p=n||vu;p!==vu&&typeof f[0]!="number"&&(this.mixKeyframes=th(N3,s2(f[0],f[1])),f=[0,100]);const d=p({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...f].reverse(),velocity:-u})),d.calculatedDuration===null&&(d.calculatedDuration=pv(d));const{calculatedDuration:y}=d;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:y,repeat:b,repeatType:x,repeatDelay:C,type:D,onUpdate:j,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const G=this.currentTime-d*(this.playbackSpeed>=0?1:-1),Q=this.playbackSpeed>=0?G<0:G>a;this.currentTime=Math.max(G,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Y=this.currentTime,de=s;if(b){const S=Math.min(this.currentTime,a)/f;let V=Math.floor(S),z=S%1;!z&&S>=1&&(z=1),z===1&&V--,V=Math.min(V,b+1),V%2&&(x==="reverse"?(z=1-z,C&&(z-=C/f)):x==="mirror"&&(de=u)),Y=Ps(0,1,z)*f}const ae=Q?{done:!1,value:y[0]}:de.next(Y);l&&(ae.value=l(ae.value));let{done:ge}=ae;!Q&&p!==null&&(ge=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ge);return k&&D!==My&&(ae.value=gv(y,this.options,N,this.speed)),j&&j(ae.value),k&&this.finish(),ae}then(e,n){return this.finished.then(e,n)}get duration(){return Ui(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ui(e)}get time(){return Ui(this.currentTime)}set time(e){e=gr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Fn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ui(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=d3,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function k3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ho=t=>t*180/Math.PI,Vy=t=>{const e=ho(Math.atan2(t[1],t[0]));return Py(e)},D3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Vy,rotateZ:Vy,skewX:t=>ho(Math.atan(t[1])),skewY:t=>ho(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Py=t=>(t=t%360,t<0&&(t+=360),t),cT=Vy,uT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),hT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),M3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uT,scaleY:hT,scale:t=>(uT(t)+hT(t))/2,rotateX:t=>Py(ho(Math.atan2(t[6],t[5]))),rotateY:t=>Py(ho(Math.atan2(-t[2],t[0]))),rotateZ:cT,rotate:cT,skewX:t=>ho(Math.atan(t[4])),skewY:t=>ho(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Oy(t){return t.includes("scale")?1:0}function jy(t,e){if(!t||t==="none")return Oy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=M3,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=D3,a=f}if(!a)return Oy(e);const l=s[e],u=a[1].split(",").map(P3);return typeof l=="function"?l(u):u[l]}const V3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return jy(n,e)};function P3(t){return parseFloat(t.trim())}const Kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yl=new Set(Kl),fT=t=>t===$l||t===xe,O3=new Set(["x","y","z"]),j3=Kl.filter(t=>!O3.has(t));function L3(t){const e=[];return j3.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const ha={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>jy(e,"x"),y:(t,{transform:e})=>jy(e,"y")};ha.translateX=ha.x;ha.translateY=ha.y;const mo=new Set;let Ly=!1,Uy=!1,zy=!1;function l2(){if(Uy){const t=Array.from(mo).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=L3(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Uy=!1,Ly=!1,mo.forEach(t=>t.complete(zy)),mo.clear()}function c2(){mo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Uy=!0)})}function U3(){zy=!0,c2(),l2(),zy=!1}class bv{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(mo.add(this),Ly||(Ly=!0,Ct.read(c2),Ct.resolveKeyframes(l2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}k3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),mo.delete(this)}cancel(){this.state==="scheduled"&&(mo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const z3=t=>t.startsWith("--");function B3(t,e,n){z3(e)?t.style.setProperty(e,n):t.style[e]=n}const F3=ov(()=>window.ScrollTimeline!==void 0),q3={};function H3(t,e){const n=ov(t);return()=>q3[e]??n()}const u2=H3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ou=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,dT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ou([0,.65,.55,1]),circOut:ou([.55,0,1,.45]),backIn:ou([.31,.01,.66,-.59]),backOut:ou([.33,1.53,.69,.99])};function h2(t,e){if(t)return typeof t=="function"?u2()?r2(t,e):"ease-out":YC(t)?ou(t):Array.isArray(t)?t.map(n=>h2(n,e)||dT.easeOut):dT[t]}function G3(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:p}={},d=void 0){const y={[e]:n};p&&(y.offset=p);const b=h2(f,a);Array.isArray(b)&&(y.easing=b);const x={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return d&&(x.pseudoElement=d),t.animate(y,x)}function f2(t){return typeof t=="function"&&"applyToOptions"in t}function $3({type:t,...e}){return f2(t)&&u2()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class K3 extends yv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:p}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,av(typeof e.type!="string");const d=$3(e);this.animation=G3(n,s,a,d,l),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=gv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):B3(n,s,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ui(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ui(e)}get time(){return Ui(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=gr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&F3()?(this.animation.timeline=e,Fi):n(this)}}const d2={anticipate:HC,backInOut:qC,circInOut:$C};function Y3(t){return t in d2}function Q3(t){typeof t.ease=="string"&&Y3(t.ease)&&(t.ease=d2[t.ease])}const zg=10;class W3 extends K3{constructor(e){Q3(e),o2(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new vv({...u,autoplay:!1}),p=Math.max(zg,Fn.now()-this.startTime),d=Ps(0,zg,p-zg);n.setWithVelocity(f.sample(Math.max(0,p-d)).value,f.sample(p).value,d),f.stop()}}const mT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Sa.test(t)||t==="0")&&!t.startsWith("url("));function X3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Z3(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=mT(a,e),f=mT(l,e);return!u||!f?!1:X3(t)||(n==="spring"||f2(n))&&s}function By(t){t.duration=0,t.type="keyframes"}const J3=new Set(["opacity","clipPath","filter","transform"]),eL=ov(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function tL(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:d}=e.owner.getProps();return eL()&&n&&J3.has(n)&&(n!=="transform"||!d)&&!p&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const nL=40;class iL extends yv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:p,motionValue:d,element:y,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Fn.now();const x={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:p,motionValue:d,element:y,...b},C=y?.KeyframeResolver||bv;this.keyframeResolver=new C(f,(D,j,N)=>this.onKeyframesResolved(D,j,x,!N),p,d,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:p,isHandoff:d,onUpdate:y}=s;this.resolvedAt=Fn.now(),Z3(e,l,u,f)||((xr.instantAnimations||!p)&&y?.(gv(e,s,n)),e[0]=e[e.length-1],By(s),s.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>nL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},C=!d&&tL(x)?new W3({...x,element:x.motionValue.owner.current}):new vv(x);C.finished.then(()=>this.notifyFinished()).catch(Fi),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),U3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const sL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rL(t){const e=sL.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function m2(t,e,n=1){const[s,a]=rL(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return PC(u)?parseFloat(u):u}return hv(a)?m2(a,e,n+1):a}function _v(t,e){return t?.[e]??t?.default??t}const aL={type:"spring",stiffness:500,damping:25,restSpeed:10},oL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),lL={type:"keyframes",duration:.8},cL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uL=(t,{keyframes:e})=>e.length>2?lL:Yl.has(t)?t.startsWith("scale")?oL(e[1]):aL:cL;function hL({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:p,elapsed:d,...y}){return!!Object.keys(y).length}const fL=t=>t!==null;function dL(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(fL),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function p2(t,e,n,s=0,a=1){const l=Array.from(t).sort((d,y)=>d.sortNodePosition(y)).indexOf(e),u=t.size,f=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:f-l*s}const wv=(t,e,n,s={},a,l)=>u=>{const f=_v(s,t)||{},p=f.delay||s.delay||0;let{elapsed:d=0}=s;d=d-gr(p);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-d,onUpdate:x=>{e.set(x),f.onUpdate&&f.onUpdate(x)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};hL(f)||Object.assign(y,uL(t,y)),y.duration&&(y.duration=gr(y.duration)),y.repeatDelay&&(y.repeatDelay=gr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let b=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(By(y),y.delay===0&&(b=!0)),(xr.instantAnimations||xr.skipAnimations)&&(b=!0,By(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,b&&!l&&e.get()!==void 0){const x=dL(y.keyframes,f);if(x!==void 0){Ct.update(()=>{y.onUpdate(x),y.onComplete()});return}}return f.isSync?new vv(y):new iL(y)},g2=new Set(["width","height","top","left","right","bottom",...Kl]),pT=30,mL=t=>!isNaN(parseFloat(t));class pL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Fn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Fn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=mL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new lv);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ct.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Fn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pT);return LC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ol(t,e){return new pL(t,e)}function gT(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function xv(t,e,n,s){if(typeof e=="function"){const[a,l]=gT(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=gT(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Cl(t,e,n){const s=t.getProps();return xv(s,e,n!==void 0?n:s.custom,t)}const Fy=t=>Array.isArray(t);function gL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ol(n))}function yL(t){return Fy(t)?t[t.length-1]||0:t}function vL(t,e){const n=Cl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const f=yL(l[u]);gL(t,u,f)}}const Vn=t=>!!(t&&t.getVelocity);function bL(t){return!!(Vn(t)&&t.add)}function qy(t,e){const n=t.getValue("willChange");if(bL(n))return n.add(e);if(!n&&xr.WillChange){const s=new xr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Tv(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const _L="framerAppearId",y2="data-"+Tv(_L);function v2(t){return t.props[y2]}function wL({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function b2(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;s&&(l=s);const p=[],d=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const b=t.getValue(y,t.latestValues[y]??null),x=f[y];if(x===void 0||d&&wL(d,y))continue;const C={delay:n,..._v(l||{},y)},D=b.get();if(D!==void 0&&!b.isAnimating&&!Array.isArray(x)&&x===D&&!C.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const G=v2(t);if(G){const Q=window.MotionHandoffAnimation(G,y,Ct);Q!==null&&(C.startTime=Q,j=!0)}}qy(t,y),b.start(wv(y,b,x,t.shouldReduceMotion&&g2.has(y)?{type:!1}:C,t,j));const N=b.animation;N&&p.push(N)}return u&&Promise.all(p).then(()=>{Ct.update(()=>{u&&vL(t,u)})}),p}function Hy(t,e,n={}){const s=Cl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(b2(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:d=0,staggerChildren:y,staggerDirection:b}=a;return xL(t,e,p,d,y,b,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,d]=f==="beforeChildren"?[l,u]:[u,l];return p().then(()=>d())}else return Promise.all([l(),u(n.delay)])}function xL(t,e,n=0,s=0,a=0,l=1,u){const f=[];for(const p of t.variantChildren)p.notify("AnimationStart",e),f.push(Hy(p,e,{...u,delay:n+(typeof s=="function"?0:s)+p2(t.variantChildren,p,s,a,l)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(f)}function TL(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Hy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Hy(t,e,n);else{const a=typeof e=="function"?Cl(t,e,n.custom):e;s=Promise.all(b2(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const EL={test:t=>t==="auto",parse:t=>t},_2=t=>e=>e.test(t),w2=[$l,xe,Ns,ra,Xj,Wj,EL],yT=t=>w2.find(_2(t));function SL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jC(t):!0}const AL=new Set(["brightness","contrast","saturate","opacity"]);function CL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(fv)||[];if(!s)return t;const a=n.replace(s,"");let l=AL.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const RL=/\b([a-z-]*)\(.*?\)/gu,Gy={...Sa,getAnimatableNone:t=>{const e=t.match(RL);return e?e.map(CL).join(" "):t}},vT={...$l,transform:Math.round},IL={rotate:ra,rotateX:ra,rotateY:ra,rotateZ:ra,scale:Pf,scaleX:Pf,scaleY:Pf,scaleZ:Pf,skew:ra,skewX:ra,skewY:ra,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:ku,originX:sT,originY:sT,originZ:xe},Ev={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,inset:xe,insetBlock:xe,insetBlockStart:xe,insetBlockEnd:xe,insetInline:xe,insetInlineStart:xe,insetInlineEnd:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,paddingBlock:xe,paddingBlockStart:xe,paddingBlockEnd:xe,paddingInline:xe,paddingInlineStart:xe,paddingInlineEnd:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,marginBlock:xe,marginBlockStart:xe,marginBlockEnd:xe,marginInline:xe,marginInlineStart:xe,marginInlineEnd:xe,backgroundPositionX:xe,backgroundPositionY:xe,...IL,zIndex:vT,fillOpacity:ku,strokeOpacity:ku,numOctaves:vT},NL={...Ev,color:on,backgroundColor:on,outlineColor:on,fill:on,stroke:on,borderColor:on,borderTopColor:on,borderRightColor:on,borderBottomColor:on,borderLeftColor:on,filter:Gy,WebkitFilter:Gy},x2=t=>NL[t];function T2(t,e){let n=x2(t);return n!==Gy&&(n=Sa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const kL=new Set(["auto","none","0"]);function DL(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!kL.has(l)&&Du(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=T2(n,a)}class ML extends bv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let b=e[y];if(typeof b=="string"&&(b=b.trim(),hv(b))){const x=m2(b,n.current);x!==void 0&&(e[y]=x),y===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!g2.has(s)||e.length!==2)return;const[a,l]=e,u=yT(a),f=yT(l),p=iT(a),d=iT(l);if(p!==d&&ha[s]){this.needsMeasurement=!0;return}if(u!==f)if(fT(u)&&fT(f))for(let y=0;y<e.length;y++){const b=e[y];typeof b=="string"&&(e[y]=parseFloat(b))}else ha[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||SL(e[a]))&&s.push(a);s.length&&DL(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ha[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=ha[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function VL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const E2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function S2(t){return OC(t)&&"offsetHeight"in t}const{schedule:Sv}=QC(queueMicrotask,!1),ts={x:!1,y:!1};function A2(){return ts.x||ts.y}function PL(t){return t==="x"||t==="y"?ts[t]?null:(ts[t]=!0,()=>{ts[t]=!1}):ts.x||ts.y?null:(ts.x=ts.y=!0,()=>{ts.x=ts.y=!1})}function C2(t,e){const n=VL(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function bT(t){return!(t.pointerType==="touch"||A2())}function OL(t,e,n={}){const[s,a,l]=C2(t,n),u=f=>{if(!bT(f))return;const{target:p}=f,d=e(p,f);if(typeof d!="function"||!p)return;const y=b=>{bT(b)&&(d(b),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,a)};return s.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const R2=(t,e)=>e?t===e?!0:R2(t,e.parentElement):!1,Av=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,jL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function I2(t){return jL.has(t.tagName)||t.isContentEditable===!0}const Jf=new WeakSet;function _T(t){return e=>{e.key==="Enter"&&t(e)}}function Bg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const LL=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=_T(()=>{if(Jf.has(n))return;Bg(n,"down");const a=_T(()=>{Bg(n,"up")}),l=()=>Bg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function wT(t){return Av(t)&&!A2()}function UL(t,e,n={}){const[s,a,l]=C2(t,n),u=f=>{const p=f.currentTarget;if(!wT(f))return;Jf.add(p);const d=e(p,f),y=(C,D)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",x),Jf.has(p)&&Jf.delete(p),wT(C)&&typeof d=="function"&&d(C,{success:D})},b=C=>{y(C,p===window||p===document||n.useGlobalTarget||R2(p,C.target))},x=C=>{y(C,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",x,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),S2(f)&&(f.addEventListener("focus",d=>LL(d,a)),!I2(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function N2(t){return OC(t)&&"ownerSVGElement"in t}function zL(t){return N2(t)&&t.tagName==="svg"}const BL=[...w2,on,Sa],FL=t=>BL.find(_2(t)),xT=()=>({translate:0,scale:1,origin:0,originPoint:0}),bl=()=>({x:xT(),y:xT()}),TT=()=>({min:0,max:0}),dn=()=>({x:TT(),y:TT()}),$y={current:null},k2={current:!1},qL=typeof window<"u";function HL(){if(k2.current=!0,!!qL)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$y.current=t.matches;t.addEventListener("change",e),e()}else $y.current=!1}const GL=new WeakMap;function ym(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Mu(t){return typeof t=="string"||Array.isArray(t)}const Cv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rv=["initial",...Cv];function vm(t){return ym(t.animate)||Rv.some(e=>Mu(t[e]))}function D2(t){return!!(vm(t)||t.variants)}function $L(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Vn(a))t.addValue(s,a);else if(Vn(l))t.addValue(s,Ol(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,Ol(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const ET=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Pd={};function M2(t){Pd=t}function KL(){return Pd}class YL{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Fn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ct.render(this.render,!1,!0))};const{latestValues:p,renderState:d}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=vm(n),this.isVariantNode=D2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in b){const C=b[x];p[x]!==void 0&&Vn(C)&&C.set(p[x])}}mount(e){this.current=e,GL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(k2.current||HL(),this.shouldReduceMotion=$y.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ea(this.notifyUpdate),Ea(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Yl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ct.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Pd){const n=Pd[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ET.length;s++){const a=ET[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=$L(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Ol(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(PC(s)||jC(s))?s=parseFloat(s):!FL(s)&&Sa.test(n)&&(s=T2(e,n)),this.setBaseTarget(e,Vn(s)?s.get():s)),Vn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=xv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Vn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new lv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Sv.render(this.render)}}class Na{constructor(e){this.isMounted=!1,this.node=e}update(){}}class V2 extends YL{constructor(){super(...arguments),this.KeyframeResolver=ML}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function P2({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function QL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function WL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Fg(t){return t===void 0||t===1}function Ky({scale:t,scaleX:e,scaleY:n}){return!Fg(t)||!Fg(e)||!Fg(n)}function oo(t){return Ky(t)||O2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function O2(t){return ST(t.x)||ST(t.y)}function ST(t){return t&&t!=="0%"}function Od(t,e,n){const s=t-n,a=e*s;return n+a}function AT(t,e,n,s,a){return a!==void 0&&(t=Od(t,a,s)),Od(t,n,s)+e}function Yy(t,e=0,n=1,s,a){t.min=AT(t.min,e,n,s,a),t.max=AT(t.max,e,n,s,a)}function j2(t,{x:e,y:n}){Yy(t.x,e.translate,e.scale,e.originPoint),Yy(t.y,n.translate,n.scale,n.originPoint)}const CT=.999999999999,RT=1.0000000000001;function XL(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&wl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,j2(t,u)),s&&oo(l.latestValues)&&wl(t,l.latestValues))}e.x<RT&&e.x>CT&&(e.x=1),e.y<RT&&e.y>CT&&(e.y=1)}function _l(t,e){t.min=t.min+e,t.max=t.max+e}function IT(t,e,n,s,a=.5){const l=Ot(t.min,t.max,a);Yy(t,e,n,l,s)}function wl(t,e){IT(t.x,e.x,e.scaleX,e.scale,e.originX),IT(t.y,e.y,e.scaleY,e.scale,e.originY)}function L2(t,e){return P2(WL(t.getBoundingClientRect(),e))}function ZL(t,e,n){const s=L2(t,n),{scroll:a}=e;return a&&(_l(s.x,a.offset.x),_l(s.y,a.offset.y)),s}const JL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},e6=Kl.length;function t6(t,e,n){let s="",a=!0;for(let l=0;l<e6;l++){const u=Kl[l],f=t[u];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(u.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||n){const d=E2(f,Ev[u]);if(!p){a=!1;const y=JL[u]||u;s+=`${y}(${d}) `}n&&(e[u]=d)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Iv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const p in e){const d=e[p];if(Yl.has(p)){u=!0;continue}else if(XC(p)){a[p]=d;continue}else{const y=E2(d,Ev[p]);p.startsWith("origin")?(f=!0,l[p]=y):s[p]=y}}if(e.transform||(u||n?s.transform=t6(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:p="50%",originY:d="50%",originZ:y=0}=l;s.transformOrigin=`${p} ${d} ${y}`}}function U2(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function NT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Jc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xe.test(t))t=parseFloat(t);else return t;const n=NT(t,e.target.x),s=NT(t,e.target.y);return`${n}% ${s}%`}},n6={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Sa.parse(t);if(a.length>5)return s;const l=Sa.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,p=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=p;const d=Ot(f,p,.5);return typeof a[2+u]=="number"&&(a[2+u]/=d),typeof a[3+u]=="number"&&(a[3+u]/=d),l(a)}},Qy={borderRadius:{...Jc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jc,borderTopRightRadius:Jc,borderBottomLeftRadius:Jc,borderBottomRightRadius:Jc,boxShadow:n6};function z2(t,{layout:e,layoutId:n}){return Yl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Qy[t]||t==="opacity")}function Nv(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const u in s)(Vn(s[u])||a&&Vn(a[u])||z2(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function i6(t){return window.getComputedStyle(t)}class s6 extends V2{constructor(){super(...arguments),this.type="html",this.renderInstance=U2}readValueFromInstance(e,n){if(Yl.has(n))return this.projection?.isProjecting?Oy(n):V3(e,n);{const s=i6(e),a=(XC(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return L2(e,n)}build(e,n,s){Iv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Nv(e,n,s)}}const r6={offset:"stroke-dashoffset",array:"stroke-dasharray"},a6={offset:"strokeDashoffset",array:"strokeDasharray"};function o6(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?r6:a6;t[l.offset]=xe.transform(-s);const u=xe.transform(e),f=xe.transform(n);t[l.array]=`${u} ${f}`}const l6=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function B2(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},p,d,y){if(Iv(t,f,d),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:x}=t;b.transform&&(x.transform=b.transform,delete b.transform),(x.transform||b.transformOrigin)&&(x.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),x.transform&&(x.transformBox=y?.transformBox??"fill-box",delete b.transformBox);for(const C of l6)b[C]!==void 0&&(x[C]=b[C],delete b[C]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&o6(b,a,l,u,!1)}const F2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),q2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function c6(t,e,n,s){U2(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(F2.has(a)?a:Tv(a),e.attrs[a])}function H2(t,e,n){const s=Nv(t,e,n);for(const a in t)if(Vn(t[a])||Vn(e[a])){const l=Kl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class u6 extends V2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Yl.has(n)){const s=x2(n);return s&&s.default||0}return n=F2.has(n)?n:Tv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return H2(e,n,s)}build(e,n,s){B2(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){c6(e,n,s,a)}mount(e){this.isSVGTag=q2(e.tagName),super.mount(e)}}const h6=Rv.length;function G2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?G2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<h6;n++){const s=Rv[n],a=t.props[s];(Mu(a)||a===!1)&&(e[s]=a)}return e}function $2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const f6=[...Cv].reverse(),d6=Cv.length;function m6(t){return e=>Promise.all(e.map(({animation:n,options:s})=>TL(t,n,s)))}function p6(t){let e=m6(t),n=kT(),s=!0;const a=p=>(d,y)=>{const b=Cl(t,y,p==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:x,transitionEnd:C,...D}=b;d={...d,...D,...C}}return d};function l(p){e=p(t)}function u(p){const{props:d}=t,y=G2(t.parent)||{},b=[],x=new Set;let C={},D=1/0;for(let N=0;N<d6;N++){const G=f6[N],Q=n[G],Y=d[G]!==void 0?d[G]:y[G],de=Mu(Y),ae=G===p?Q.isActive:null;ae===!1&&(D=N);let ge=Y===y[G]&&Y!==d[G]&&de;if(ge&&s&&t.manuallyAnimateOnMount&&(ge=!1),Q.protectedKeys={...C},!Q.isActive&&ae===null||!Y&&!Q.prevProp||ym(Y)||typeof Y=="boolean")continue;const k=g6(Q.prevProp,Y);let S=k||G===p&&Q.isActive&&!ge&&de||N>D&&de,V=!1;const z=Array.isArray(Y)?Y:[Y];let U=z.reduce(a(G),{});ae===!1&&(U={});const{prevResolvedValues:P={}}=Q,M={...P,...U},be=H=>{S=!0,x.has(H)&&(V=!0,x.delete(H)),Q.needsAnimating[H]=!0;const K=t.getValue(H);K&&(K.liveStyle=!1)};for(const H in M){const K=U[H],ne=P[H];if(C.hasOwnProperty(H))continue;let O=!1;Fy(K)&&Fy(ne)?O=!$2(K,ne):O=K!==ne,O?K!=null?be(H):x.add(H):K!==void 0&&x.has(H)?be(H):Q.protectedKeys[H]=!0}Q.prevProp=Y,Q.prevResolvedValues=U,Q.isActive&&(C={...C,...U}),s&&t.blockInitialAnimation&&(S=!1);const he=ge&&k;S&&(!he||V)&&b.push(...z.map(H=>{const K={type:G};if(typeof H=="string"&&s&&!he&&t.manuallyAnimateOnMount&&t.parent){const{parent:ne}=t,O=Cl(ne,H);if(ne.enteringChildren&&O){const{delayChildren:E}=O.transition||{};K.delay=p2(ne.enteringChildren,t,E)}}return{animation:H,options:K}}))}if(x.size){const N={};if(typeof d.initial!="boolean"){const G=Cl(t,Array.isArray(d.initial)?d.initial[0]:d.initial);G&&G.transition&&(N.transition=G.transition)}x.forEach(G=>{const Q=t.getBaseTarget(G),Y=t.getValue(G);Y&&(Y.liveStyle=!0),N[G]=Q??null}),b.push({animation:N})}let j=!!b.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(j=!1),s=!1,j?e(b):Promise.resolve()}function f(p,d){if(n[p].isActive===d)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(p,d)),n[p].isActive=d;const y=u(p);for(const b in n)n[b].protectedKeys={};return y}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=kT()}}}function g6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!$2(e,t):!1}function io(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kT(){return{animate:io(!0),whileInView:io(),whileHover:io(),whileTap:io(),whileDrag:io(),whileFocus:io(),exit:io()}}const K2=1e-4,y6=1-K2,v6=1+K2,Y2=.01,b6=0-Y2,_6=0+Y2;function qn(t){return t.max-t.min}function w6(t,e,n){return Math.abs(t-e)<=n}function DT(t,e,n,s=.5){t.origin=s,t.originPoint=Ot(e.min,e.max,t.origin),t.scale=qn(n)/qn(e),t.translate=Ot(n.min,n.max,t.origin)-t.originPoint,(t.scale>=y6&&t.scale<=v6||isNaN(t.scale))&&(t.scale=1),(t.translate>=b6&&t.translate<=_6||isNaN(t.translate))&&(t.translate=0)}function bu(t,e,n,s){DT(t.x,e.x,n.x,s?s.originX:void 0),DT(t.y,e.y,n.y,s?s.originY:void 0)}function MT(t,e,n){t.min=n.min+e.min,t.max=t.min+qn(e)}function x6(t,e,n){MT(t.x,e.x,n.x),MT(t.y,e.y,n.y)}function VT(t,e,n){t.min=e.min-n.min,t.max=t.min+qn(e)}function jd(t,e,n){VT(t.x,e.x,n.x),VT(t.y,e.y,n.y)}function PT(t,e,n,s,a){return t-=e,t=Od(t,1/n,s),a!==void 0&&(t=Od(t,1/a,s)),t}function T6(t,e=0,n=1,s=.5,a,l=t,u=t){if(Ns.test(e)&&(e=parseFloat(e),e=Ot(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=Ot(l.min,l.max,s);t===l&&(f-=e),t.min=PT(t.min,e,n,f,a),t.max=PT(t.max,e,n,f,a)}function OT(t,e,[n,s,a],l,u){T6(t,e[n],e[s],e[a],e.scale,l,u)}const E6=["x","scaleX","originX"],S6=["y","scaleY","originY"];function jT(t,e,n,s){OT(t.x,e,E6,n?n.x:void 0,s?s.x:void 0),OT(t.y,e,S6,n?n.y:void 0,s?s.y:void 0)}function LT(t,e){t.min=e.min,t.max=e.max}function es(t,e){LT(t.x,e.x),LT(t.y,e.y)}function UT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function zT(t){return t.translate===0&&t.scale===1}function Q2(t){return zT(t.x)&&zT(t.y)}function BT(t,e){return t.min===e.min&&t.max===e.max}function A6(t,e){return BT(t.x,e.x)&&BT(t.y,e.y)}function FT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function W2(t,e){return FT(t.x,e.x)&&FT(t.y,e.y)}function qT(t){return qn(t.x)/qn(t.y)}function HT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Oi(t){return[t("x"),t("y")]}function C6(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:y,rotateX:b,rotateY:x,skewX:C,skewY:D}=n;d&&(s=`perspective(${d}px) ${s}`),y&&(s+=`rotate(${y}deg) `),b&&(s+=`rotateX(${b}deg) `),x&&(s+=`rotateY(${x}deg) `),C&&(s+=`skewX(${C}deg) `),D&&(s+=`skewY(${D}deg) `)}const f=t.x.scale*e.x,p=t.y.scale*e.y;return(f!==1||p!==1)&&(s+=`scale(${f}, ${p})`),s||"none"}const X2=["TopLeft","TopRight","BottomLeft","BottomRight"],R6=X2.length,GT=t=>typeof t=="string"?parseFloat(t):t,$T=t=>typeof t=="number"||xe.test(t);function I6(t,e,n,s,a,l){a?(t.opacity=Ot(0,n.opacity??1,N6(s)),t.opacityExit=Ot(e.opacity??1,0,k6(s))):l&&(t.opacity=Ot(e.opacity??1,n.opacity??1,s));for(let u=0;u<R6;u++){const f=`border${X2[u]}Radius`;let p=KT(e,f),d=KT(n,f);if(p===void 0&&d===void 0)continue;p||(p=0),d||(d=0),p===0||d===0||$T(p)===$T(d)?(t[f]=Math.max(Ot(GT(p),GT(d),s),0),(Ns.test(d)||Ns.test(p))&&(t[f]+="%")):t[f]=d}(e.rotate||n.rotate)&&(t.rotate=Ot(e.rotate||0,n.rotate||0,s))}function KT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const N6=Z2(0,.5,GC),k6=Z2(.5,.95,Fi);function Z2(t,e,n){return s=>s<t?0:s>e?1:n(Nu(t,e,s))}function D6(t,e){const n=Fn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Ea(s),t(l-e))};return Ct.setup(s,!0),()=>Ea(s)}function Vu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function ed(t){return Vn(t)?t.get():t}function M6(t,e,n){const s=Vn(t)?t:Ol(t);return s.start(wv("",s,e,n)),s.animation}const V6=(t,e)=>t.depth-e.depth;class P6{constructor(){this.children=[],this.isDirty=!1}add(e){sv(this.children,e),this.isDirty=!0}remove(e){rv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(V6),this.isDirty=!1,this.children.forEach(e)}}class O6{constructor(){this.members=[]}add(e){sv(this.members,e),e.scheduleRender()}remove(e){if(rv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const td={hasAnimatedSinceResize:!0,hasEverUpdated:!1},qg=["","X","Y","Z"],j6=1e3;let L6=0;function Hg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function J2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=v2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ct,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&J2(s)}function eR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=L6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(B6),this.nodes.forEach(G6),this.nodes.forEach($6),this.nodes.forEach(F6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new P6)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new lv),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const p=this.eventHandlers.get(u);p&&p.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=N2(u)&&!zL(u),this.instance=u;const{layoutId:f,layout:p,visualElement:d}=this.options;if(d&&!d.current&&d.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),t){let y,b=0;const x=()=>this.root.updateBlockedByResize=!1;Ct.read(()=>{b=window.innerWidth}),t(u,()=>{const C=window.innerWidth;C!==b&&(b=C,this.root.updateBlockedByResize=!0,y&&y(),y=D6(x,250),td.hasAnimatedSinceResize&&(td.hasAnimatedSinceResize=!1,this.nodes.forEach(WT)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&d&&(f||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:b,hasRelativeLayoutChanged:x,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||d.getDefaultTransition()||X6,{onLayoutAnimationStart:j,onLayoutAnimationComplete:N}=d.getProps(),G=!this.targetLayout||!W2(this.targetLayout,C),Q=!b&&x;if(this.options.layoutRoot||this.resumeFrom||Q||b&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={..._v(D,"layout"),onPlay:j,onComplete:N};(d.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(y,Q)}else b||WT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ea(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(K6),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&J2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const b=this.path[y];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(YT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(QT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(H6),this.nodes.forEach(U6),this.nodes.forEach(z6)):this.nodes.forEach(QT),this.clearAllSnapshots();const f=Fn.now();Cn.delta=Ps(0,1e3/60,f-Cn.timestamp),Cn.timestamp=f,Cn.isProcessing=!0,Pg.update.process(Cn),Pg.preRender.process(Cn),Pg.render.process(Cn),Cn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Sv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(q6),this.sharedNodes.forEach(Y6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qn(this.snapshot.measuredBox.x)&&!qn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Q2(this.projectionDelta),p=this.getTransformTemplate(),d=p?p(this.latestValues,""):void 0,y=d!==this.prevTransformTemplateValue;u&&this.instance&&(f||oo(this.latestValues)||y)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return u&&(p=this.removeTransform(p)),Z6(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return dn();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(J6))){const{scroll:d}=this.root;d&&(_l(f.x,d.offset.x),_l(f.y,d.offset.y))}return f}removeElementScroll(u){const f=dn();if(es(f,u),this.scroll?.wasRoot)return f;for(let p=0;p<this.path.length;p++){const d=this.path[p],{scroll:y,options:b}=d;d!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&es(f,u),_l(f.x,y.offset.x),_l(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const p=dn();es(p,u);for(let d=0;d<this.path.length;d++){const y=this.path[d];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&wl(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),oo(y.latestValues)&&wl(p,y.latestValues)}return oo(this.latestValues)&&wl(p,this.latestValues),p}removeTransform(u){const f=dn();es(f,u);for(let p=0;p<this.path.length;p++){const d=this.path[p];if(!d.instance||!oo(d.latestValues))continue;Ky(d.latestValues)&&d.updateSnapshot();const y=dn(),b=d.measurePageBox();es(y,b),jT(f,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,y)}return oo(this.latestValues)&&jT(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Cn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:b}=this.options;if(!this.layout||!(y||b))return;this.resolvedRelativeTargetAt=Cn.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=dn(),this.targetWithTransforms=dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),x6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):es(this.target,this.layout.layoutBox),j2(this.target,this.targetDelta)):es(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ky(this.parent.latestValues)||O2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,p){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),jd(this.relativeTargetOrigin,f,p),es(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Cn.timestamp&&(p=!1),p)return;const{layout:d,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||y))return;es(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,x=this.treeScale.y;XL(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=dn());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(UT(this.prevProjectionDelta.x,this.projectionDelta.x),UT(this.prevProjectionDelta.y,this.projectionDelta.y)),bu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==x||!HT(this.projectionDelta.x,this.prevProjectionDelta.x)||!HT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bl(),this.projectionDelta=bl(),this.projectionDeltaWithTransform=bl()}setAnimationOrigin(u,f=!1){const p=this.snapshot,d=p?p.latestValues:{},y={...this.latestValues},b=bl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const x=dn(),C=p?p.source:void 0,D=this.layout?this.layout.source:void 0,j=C!==D,N=this.getStack(),G=!N||N.members.length<=1,Q=!!(j&&!G&&this.options.crossfade===!0&&!this.path.some(W6));this.animationProgress=0;let Y;this.mixTargetDelta=de=>{const ae=de/1e3;XT(b.x,u.x,ae),XT(b.y,u.y,ae),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jd(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Q6(this.relativeTarget,this.relativeTargetOrigin,x,ae),Y&&A6(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=dn()),es(Y,this.relativeTarget)),j&&(this.animationValues=y,I6(y,d,this.latestValues,ae,Q,G)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ae},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ea(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ct.update(()=>{td.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ol(0)),this.currentAnimation=M6(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(j6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:p,layout:d,latestValues:y}=u;if(!(!f||!p||!d)){if(this!==u&&this.layout&&d&&tR(this.options.animationType,this.layout.layoutBox,d.layoutBox)){p=this.target||dn();const b=qn(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+b;const x=qn(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+x}es(f,p),wl(f,y),bu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new O6),this.sharedNodes.get(u).add(f);const d=f.options.initialPromotionConfig;f.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:p}={}){const d=this.getStack();d&&d.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const d={};p.z&&Hg("z",u,d,this.animationValues);for(let y=0;y<qg.length;y++)Hg(`rotate${qg[y]}`,u,d,this.animationValues),Hg(`skew${qg[y]}`,u,d,this.animationValues);u.render();for(const y in d)u.setStaticValue(y,d[y]),this.animationValues&&(this.animationValues[y]=d[y]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=ed(f?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=ed(f?.pointerEvents)||""),this.hasProjected&&!oo(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=d.animationValues||d.latestValues;this.applyTransformsToTarget();let b=C6(this.projectionDeltaWithTransform,this.treeScale,y);p&&(b=p(y,b)),u.transform=b;const{x,y:C}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${C.origin*100}% 0`,d.animationValues?u.opacity=d===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=d===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in Qy){if(y[D]===void 0)continue;const{correct:j,applyTo:N,isCSSVariable:G}=Qy[D],Q=b==="none"?y[D]:j(y[D],d);if(N){const Y=N.length;for(let de=0;de<Y;de++)u[N[de]]=Q}else G?this.options.visualElement.renderState.vars[D]=Q:u[D]=Q}this.options.layoutId&&(u.pointerEvents=d===this?ed(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(YT),this.root.sharedNodes.clear()}}}function U6(t){t.updateLayout()}function z6(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Oi(y=>{const b=l?e.measuredBox[y]:e.layoutBox[y],x=qn(b);b.min=n[y].min,b.max=b.min+x}):tR(a,e.layoutBox,n)&&Oi(y=>{const b=l?e.measuredBox[y]:e.layoutBox[y],x=qn(n[y]);b.max=b.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+x)});const u=bl();bu(u,n,e.layoutBox);const f=bl();l?bu(f,t.applyTransform(s,!0),e.measuredBox):bu(f,n,e.layoutBox);const p=!Q2(u);let d=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:x}=y;if(b&&x){const C=dn();jd(C,e.layoutBox,b.layoutBox);const D=dn();jd(D,n,x.layoutBox),W2(C,D)||(d=!0),y.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=C,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function B6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function F6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function q6(t){t.clearSnapshot()}function YT(t){t.clearMeasurements()}function QT(t){t.isLayoutDirty=!1}function H6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function WT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function G6(t){t.resolveTargetDelta()}function $6(t){t.calcProjection()}function K6(t){t.resetSkewAndRotation()}function Y6(t){t.removeLeadSnapshot()}function XT(t,e,n){t.translate=Ot(e.translate,0,n),t.scale=Ot(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ZT(t,e,n,s){t.min=Ot(e.min,n.min,s),t.max=Ot(e.max,n.max,s)}function Q6(t,e,n,s){ZT(t.x,e.x,n.x,s),ZT(t.y,e.y,n.y,s)}function W6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const X6={duration:.45,ease:[.4,0,.1,1]},JT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),eE=JT("applewebkit/")&&!JT("chrome/")?Math.round:Fi;function tE(t){t.min=eE(t.min),t.max=eE(t.max)}function Z6(t){tE(t.x),tE(t.y)}function tR(t,e,n){return t==="position"||t==="preserve-aspect"&&!w6(qT(e),qT(n),.2)}function J6(t){return t!==t.root&&t.scroll?.wasRoot}const eU=eR({attachResizeListener:(t,e)=>Vu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gg={current:void 0},nR=eR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Gg.current){const t=new eU({});t.mount(window),t.setOptions({layoutScroll:!0}),Gg.current=t}return Gg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),kv=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function nE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function tU(...t){return e=>{let n=!1;const s=t.map(a=>{const l=nE(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():nE(t[a],null)}}}}function nU(...t){return I.useCallback(tU(...t),t)}class iU extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=S2(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sU({children:t,isPresent:e,anchorX:n,root:s}){const a=I.useId(),l=I.useRef(null),u=I.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=I.useContext(kv),p=t.props?.ref??t?.ref,d=nU(l,p);return I.useInsertionEffect(()=>{const{width:y,height:b,top:x,left:C,right:D}=u.current;if(e||!l.current||!y||!b)return;const j=n==="left"?`left: ${C}`:`right: ${D}`;l.current.dataset.motionPopId=a;const N=document.createElement("style");f&&(N.nonce=f);const G=s??document.head;return G.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${b}px !important;
            ${j}px !important;
            top: ${x}px !important;
          }
        `),()=>{G.contains(N)&&G.removeChild(N)}},[e]),v.jsx(iU,{isPresent:e,childRef:l,sizeRef:u,children:I.cloneElement(t,{ref:d})})}const rU=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,root:p})=>{const d=iv(aU),y=I.useId();let b=!0,x=I.useMemo(()=>(b=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:C=>{d.set(C,!0);for(const D of d.values())if(!D)return;s&&s()},register:C=>(d.set(C,!1),()=>d.delete(C))}),[n,d,s]);return l&&b&&(x={...x}),I.useMemo(()=>{d.forEach((C,D)=>d.set(D,!1))},[n]),I.useEffect(()=>{!n&&!d.size&&s&&s()},[n]),u==="popLayout"&&(t=v.jsx(sU,{isPresent:n,anchorX:f,root:p,children:t})),v.jsx(gm.Provider,{value:x,children:t})};function aU(){return new Map}function iR(t=!0){const e=I.useContext(gm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=I.useId();I.useEffect(()=>{if(t)return a(l)},[t]);const u=I.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Of=t=>t.key||"";function iE(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const ji=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",root:p})=>{const[d,y]=iR(u),b=I.useMemo(()=>iE(t),[t]),x=u&&!d?[]:b.map(Of),C=I.useRef(!0),D=I.useRef(b),j=iv(()=>new Map),N=I.useRef(new Set),[G,Q]=I.useState(b),[Y,de]=I.useState(b);VC(()=>{C.current=!1,D.current=b;for(let k=0;k<Y.length;k++){const S=Of(Y[k]);x.includes(S)?(j.delete(S),N.current.delete(S)):j.get(S)!==!0&&j.set(S,!1)}},[Y,x.length,x.join("-")]);const ae=[];if(b!==G){let k=[...b];for(let S=0;S<Y.length;S++){const V=Y[S],z=Of(V);x.includes(z)||(k.splice(S,0,V),ae.push(V))}return l==="wait"&&ae.length&&(k=ae),de(iE(k)),Q(b),null}const{forceRender:ge}=I.useContext(nv);return v.jsx(v.Fragment,{children:Y.map(k=>{const S=Of(k),V=u&&!d?!1:b===Y||x.includes(S),z=()=>{if(N.current.has(S))return;if(N.current.add(S),j.has(S))j.set(S,!0);else return;let U=!0;j.forEach(P=>{P||(U=!1)}),U&&(ge?.(),de(D.current),u&&y?.(),s&&s())};return v.jsx(rU,{isPresent:V,initial:!C.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:V?void 0:z,anchorX:f,children:k},S)})})},sR=I.createContext({strict:!1}),sE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let rE=!1;function oU(){if(rE)return;const t={};for(const e in sE)t[e]={isEnabled:n=>sE[e].some(s=>!!n[s])};M2(t),rE=!0}function rR(){return oU(),KL()}function lU(t){const e=rR();for(const n in t)e[n]={...e[n],...t[n]};M2(e)}const cU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ld(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||cU.has(t)}let aR=t=>!Ld(t);function uU(t){typeof t=="function"&&(aR=e=>e.startsWith("on")?!Ld(e):t(e))}try{uU(require("@emotion/is-prop-valid").default)}catch{}function hU(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(aR(a)||n===!0&&Ld(a)||!e&&!Ld(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const bm=I.createContext({});function fU(t,e){if(vm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Mu(n)?n:void 0,animate:Mu(s)?s:void 0}}return t.inherit!==!1?e:{}}function dU(t){const{initial:e,animate:n}=fU(t,I.useContext(bm));return I.useMemo(()=>({initial:e,animate:n}),[aE(e),aE(n)])}function aE(t){return Array.isArray(t)?t.join(" "):t}const Dv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oR(t,e,n){for(const s in e)!Vn(e[s])&&!z2(s,n)&&(t[s]=e[s])}function mU({transformTemplate:t},e){return I.useMemo(()=>{const n=Dv();return Iv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function pU(t,e){const n=t.style||{},s={};return oR(s,n,t),Object.assign(s,mU(t,e)),s}function gU(t,e){const n={},s=pU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const lR=()=>({...Dv(),attrs:{}});function yU(t,e,n,s){const a=I.useMemo(()=>{const l=lR();return B2(l,e,q2(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};oR(l,t.style,t),a.style={...l,...a.style}}return a}const vU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mv(t){return typeof t!="string"||t.includes("-")?!1:!!(vU.indexOf(t)>-1||/[A-Z]/u.test(t))}function bU(t,e,n,{latestValues:s},a,l=!1,u){const p=(u??Mv(t)?yU:gU)(e,s,a,t),d=hU(e,typeof t=="string",l),y=t!==I.Fragment?{...d,...p,ref:n}:{},{children:b}=e,x=I.useMemo(()=>Vn(b)?b.get():b,[b]);return I.createElement(t,{...y,children:x})}function _U({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:wU(n,s,a,t),renderState:e()}}function wU(t,e,n,s){const a={},l=s(t,{});for(const x in l)a[x]=ed(l[x]);let{initial:u,animate:f}=t;const p=vm(t),d=D2(t);e&&d&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const b=y?f:u;if(b&&typeof b!="boolean"&&!ym(b)){const x=Array.isArray(b)?b:[b];for(let C=0;C<x.length;C++){const D=xv(t,x[C]);if(D){const{transitionEnd:j,transition:N,...G}=D;for(const Q in G){let Y=G[Q];if(Array.isArray(Y)){const de=y?Y.length-1:0;Y=Y[de]}Y!==null&&(a[Q]=Y)}for(const Q in j)a[Q]=j[Q]}}}return a}const cR=t=>(e,n)=>{const s=I.useContext(bm),a=I.useContext(gm),l=()=>_U(t,e,s,a);return n?l():iv(l)},xU=cR({scrapeMotionValuesFromProps:Nv,createRenderState:Dv}),TU=cR({scrapeMotionValuesFromProps:H2,createRenderState:lR}),EU=Symbol.for("motionComponentSymbol");function SU(t,e,n){const s=I.useRef(n);I.useInsertionEffect(()=>{s.current=n});const a=I.useRef(null);return I.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const f=u(l);typeof f=="function"&&(a.current=f)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const uR=I.createContext({});function lu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function AU(t,e,n,s,a,l){const{visualElement:u}=I.useContext(bm),f=I.useContext(sR),p=I.useContext(gm),d=I.useContext(kv).reducedMotion,y=I.useRef(null);s=s||f.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:u,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:d,isSVG:l}));const b=y.current,x=I.useContext(uR);b&&!b.projection&&a&&(b.type==="html"||b.type==="svg")&&CU(y.current,n,a,x);const C=I.useRef(!1);I.useInsertionEffect(()=>{b&&C.current&&b.update(n,p)});const D=n[y2],j=I.useRef(!!D&&!window.MotionHandoffIsComplete?.(D)&&window.MotionHasOptimisedAnimation?.(D));return VC(()=>{b&&(C.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),j.current&&b.animationState&&b.animationState.animateChanges())}),I.useEffect(()=>{b&&(!j.current&&b.animationState&&b.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(D)}),j.current=!1),b.enteringChildren=void 0)}),b}function CU(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:p,layoutRoot:d,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:hR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&lu(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:p,layoutRoot:d})}function hR(t){if(t)return t.options.allowProjection!==!1?t.projection:hR(t.parent)}function $g(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&lU(s);const l=n?n==="svg":Mv(t),u=l?TU:xU;function f(d,y){let b;const x={...I.useContext(kv),...d,layoutId:RU(d)},{isStatic:C}=x,D=dU(d),j=u(d,C);if(!C&&MC){IU();const N=NU(x);b=N.MeasureLayout,D.visualElement=AU(t,j,x,a,N.ProjectionNode,l)}return v.jsxs(bm.Provider,{value:D,children:[b&&D.visualElement?v.jsx(b,{visualElement:D.visualElement,...x}):null,bU(t,d,SU(j,D.visualElement,y),j,C,e,l)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const p=I.forwardRef(f);return p[EU]=t,p}function RU({layoutId:t}){const e=I.useContext(nv).id;return e&&t!==void 0?e+"-"+t:t}function IU(t,e){I.useContext(sR).strict}function NU(t){const e=rR(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function kU(t,e){if(typeof Proxy>"u")return $g;const n=new Map,s=(l,u)=>$g(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,$g(u,void 0,t,e)),n.get(u))})}const DU=(t,e)=>e.isSVG??Mv(t)?new u6(e):new s6(e,{allowProjection:t!==I.Fragment});class MU extends Na{constructor(e){super(e),e.animationState||(e.animationState=p6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ym(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let VU=0;class PU extends Na{constructor(){super(...arguments),this.id=VU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const OU={animation:{Feature:MU},exit:{Feature:PU}};function sh(t){return{point:{x:t.pageX,y:t.pageY}}}const jU=t=>e=>Av(e)&&t(e,sh(e));function _u(t,e,n,s){return Vu(t,e,jU(n),s)}const fR=({current:t})=>t?t.ownerDocument.defaultView:null,oE=(t,e)=>Math.abs(t-e);function LU(t,e){const n=oE(t.x,e.x),s=oE(t.y,e.y);return Math.sqrt(n**2+s**2)}const lE=new Set(["auto","scroll"]);class dR{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=C=>{this.handleScroll(C.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Yg(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,j=LU(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!j)return;const{point:N}=C,{timestamp:G}=Cn;this.history.push({...N,timestamp:G});const{onStart:Q,onMove:Y}=this.handlers;D||(Q&&Q(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,C)},this.handlePointerMove=(C,D)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=Kg(D,this.transformPagePoint),Ct.update(this.updatePoint,!0)},this.handlePointerUp=(C,D)=>{this.end();const{onEnd:j,onSessionEnd:N,resumeAnimation:G}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&G&&G(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Q=Yg(C.type==="pointercancel"?this.lastMoveEventInfo:Kg(D,this.transformPagePoint),this.history);this.startEvent&&j&&j(C,Q),N&&N(C,Q)},!Av(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const p=sh(e),d=Kg(p,this.transformPagePoint),{point:y}=d,{timestamp:b}=Cn;this.history=[{...y,timestamp:b}];const{onSessionStart:x}=n;x&&x(e,Yg(d,this.history)),this.removeListeners=th(_u(this.contextWindow,"pointermove",this.handlePointerMove),_u(this.contextWindow,"pointerup",this.handlePointerUp),_u(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(lE.has(s.overflowX)||lE.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),Ct.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ea(this.updatePoint)}}function Kg(t,e){return e?{point:e(t.point)}:t}function cE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Yg({point:t},e){return{point:t,delta:cE(t,mR(e)),offset:cE(t,UU(e)),velocity:zU(e,.1)}}function UU(t){return t[0]}function mR(t){return t[t.length-1]}function zU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=mR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>gr(e)));)n--;if(!s)return{x:0,y:0};const l=Ui(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function BU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ot(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ot(n,t,s.max):Math.min(t,n)),t}function uE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function FU(t,{top:e,left:n,bottom:s,right:a}){return{x:uE(t.x,n,a),y:uE(t.y,e,s)}}function hE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function qU(t,e){return{x:hE(t.x,e.x),y:hE(t.y,e.y)}}function HU(t,e){let n=.5;const s=qn(t),a=qn(e);return a>s?n=Nu(e.min,e.max-s,t.min):s>a&&(n=Nu(t.min,t.max-a,e.min)),Ps(0,1,n)}function GU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Wy=.35;function $U(t=Wy){return t===!1?t=0:t===!0&&(t=Wy),{x:fE(t,"left","right"),y:fE(t,"top","bottom")}}function fE(t,e,n){return{min:dE(t,e),max:dE(t,n)}}function dE(t,e){return typeof t=="number"?t:t[e]||0}const KU=new WeakMap;class YU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n?(this.stopAnimation(),this.snapToCursor(sh(b).point)):this.pauseAnimation()},u=(b,x)=>{this.stopAnimation();const{drag:C,dragPropagation:D,onDragStart:j}=this.getProps();if(C&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=PL(C),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Oi(G=>{let Q=this.getAxisMotionValue(G).get()||0;if(Ns.test(Q)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const de=Y.layout.layoutBox[G];de&&(Q=qn(de)*(parseFloat(Q)/100))}}this.originPoint[G]=Q}),j&&Ct.postRender(()=>j(b,x)),qy(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},f=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x;const{dragPropagation:C,dragDirectionLock:D,onDirectionLock:j,onDrag:N}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:G}=x;if(D&&this.currentDirection===null){this.currentDirection=QU(G),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",x.point,G),this.updateAxis("y",x.point,G),this.visualElement.render(),N&&N(b,x)},p=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x,this.stop(b,x),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Oi(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new dR(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:p,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:fR(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&Ct.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!jf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=BU(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&lu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=FU(s.layoutBox,e):this.constraints=!1,this.elastic=$U(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Oi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=GU(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!lu(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=ZL(s,a.root,this.visualElement.getTransformPagePoint());let u=qU(a.layout.layoutBox,l);if(n){const f=n(QL(u));this.hasMutatedConstraints=!!f,f&&(u=P2(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},d=Oi(y=>{if(!jf(y,n,this.currentDirection))return;let b=p&&p[y]||{};u&&(b={min:0,max:0});const x=a?200:1e6,C=a?40:1e7,D={type:"inertia",velocity:s?e[y]:0,bounceStiffness:x,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(y,D)});return Promise.all(d).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return qy(this.visualElement,e),s.start(wv(e,s,0,n,this.visualElement,!1))}stopAnimation(){Oi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Oi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Oi(n=>{const{drag:s}=this.getProps();if(!jf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n],p=l.get()||0;l.set(e[n]-Ot(u,f,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!lu(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Oi(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const p=f.get();a[u]=HU({min:p,max:p},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Oi(u=>{if(!jf(u,e,null))return;const f=this.getAxisMotionValue(u),{min:p,max:d}=this.constraints[u];f.set(Ot(p,d,a[u]))})}addListeners(){if(!this.visualElement.current)return;KU.set(this.visualElement,this);const e=this.visualElement.current,n=_u(e,"pointerdown",p=>{const{drag:d,dragListener:y=!0}=this.getProps();d&&y&&!I2(p.target)&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();lu(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ct.read(s);const u=Vu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:d})=>{this.isDragging&&d&&(Oi(y=>{const b=this.getAxisMotionValue(y);b&&(this.originPoint[y]+=p[y].translate,b.set(b.get()+p[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Wy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function jf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function QU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class WU extends Na{constructor(e){super(e),this.removeGroupControls=Fi,this.removeListeners=Fi,this.controls=new YU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const mE=t=>(e,n)=>{t&&Ct.postRender(()=>t(e,n))};class XU extends Na{constructor(){super(...arguments),this.removePointerDownListener=Fi}onPointerDown(e){this.session=new dR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:mE(e),onStart:mE(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&Ct.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=_u(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Qg=!1;class ZU extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Qg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),td.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Qg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Ct.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Sv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Qg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pR(t){const[e,n]=iR(),s=I.useContext(nv);return v.jsx(ZU,{...t,layoutGroup:s,switchLayoutGroup:I.useContext(uR),isPresent:e,safeToRemove:n})}const JU={pan:{Feature:XU},drag:{Feature:WU,ProjectionNode:nR,MeasureLayout:pR}};function pE(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Ct.postRender(()=>l(e,sh(e)))}class e9 extends Na{mount(){const{current:e}=this.node;e&&(this.unmount=OL(e,(n,s)=>(pE(this.node,s,"Start"),a=>pE(this.node,a,"End"))))}unmount(){}}class t9 extends Na{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=th(Vu(this.node.current,"focus",()=>this.onFocus()),Vu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Ct.postRender(()=>l(e,sh(e)))}class n9 extends Na{mount(){const{current:e}=this.node;e&&(this.unmount=UL(e,(n,s)=>(gE(this.node,s,"Start"),(a,{success:l})=>gE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xy=new WeakMap,Wg=new WeakMap,i9=t=>{const e=Xy.get(t.target);e&&e(t)},s9=t=>{t.forEach(i9)};function r9({root:t,...e}){const n=t||document;Wg.has(n)||Wg.set(n,{});const s=Wg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(s9,{root:t,...e})),s[a]}function a9(t,e,n){const s=r9(e);return Xy.set(t,n),s.observe(t),()=>{Xy.delete(t),s.unobserve(t)}}const o9={some:0,all:1};class l9 extends Na{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:o9[a]},f=p=>{const{isIntersecting:d}=p;if(this.isInView===d||(this.isInView=d,l&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:y,onViewportLeave:b}=this.node.getProps(),x=d?y:b;x&&x(p)};return a9(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(c9(e,n))&&this.startObserver()}unmount(){}}function c9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const u9={inView:{Feature:l9},tap:{Feature:n9},focus:{Feature:t9},hover:{Feature:e9}},h9={layout:{ProjectionNode:nR,MeasureLayout:pR}},f9={...OU,...u9,...JU,...h9},Ze=kU(f9,DU);const d9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),yE=t=>{const e=m9(t);return e.charAt(0).toUpperCase()+e.slice(1)},gR=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),p9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var g9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const y9=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...f},p)=>I.createElement("svg",{ref:p,...g9,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:gR("lucide",a),...!l&&!p9(f)&&{"aria-hidden":"true"},...f},[...u.map(([d,y])=>I.createElement(d,y)),...Array.isArray(l)?l:[l]]));const st=(t,e)=>{const n=I.forwardRef(({className:s,...a},l)=>I.createElement(y9,{ref:l,iconNode:e,className:gR(`lucide-${d9(yE(t))}`,`lucide-${t}`,s),...a}));return n.displayName=yE(t),n};const v9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],b9=st("arrow-left",v9);const _9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],vE=st("award",_9);const w9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ud=st("book-open",w9);const x9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zd=st("calendar",x9);const T9=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Zy=st("camera",T9);const E9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ca=st("check",E9);const S9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yR=st("chevron-left",S9);const A9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vR=st("chevron-right",A9);const C9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bE=st("circle-alert",C9);const R9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],I9=st("circle-check-big",R9);const N9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vv=st("circle-question-mark",N9);const k9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],D9=st("clock",k9);const M9=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],V9=st("crown",M9);const P9=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Pv=st("layout-grid",P9);const O9=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],j9=st("lock",O9);const L9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bR=st("log-out",L9);const U9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],z9=st("mail",U9);const B9=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],_E=st("palette",B9);const F9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],wE=st("pen",F9);const q9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],H9=st("pencil",q9);const G9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Bd=st("plus",G9);const $9=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],K9=st("printer",$9);const Y9=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],xE=st("rocket",Y9);const Q9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ov=st("settings",Q9);const W9=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],nd=st("share-2",W9);const X9=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],_R=st("sparkles",X9);const Z9=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],TE=st("square-check-big",Z9);const J9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],wR=st("trash-2",J9);const ez=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],tz=st("type",ez);const nz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],iz=st("user",nz);const sz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rz=st("users",sz);const az=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fr=st("x",az);const oz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],EE=st("zap",oz),xR=I.createContext(null),TR=()=>{const t=I.useContext(xR);if(!t)throw new Error("useDialog must be used within a DialogProvider");return t},lz=({children:t})=>{const[e,n]=I.useState({isOpen:!1,type:"alert",options:{message:""},resolve:null}),[s,a]=I.useState(""),[l,u]=I.useState("editor"),f=I.useCallback((D,j)=>new Promise(N=>{a(j.inputDefaultValue||""),u("editor"),n({isOpen:!0,type:D,options:j,resolve:N})}),[]),p=I.useCallback(D=>{e.resolve&&e.resolve(D),n(j=>({...j,isOpen:!1,resolve:null}))},[e.resolve]),d=I.useCallback((D,j)=>f("alert",{message:D,title:"Notice",confirmText:"OK",type:"info",...j}),[f]),y=I.useCallback((D,j)=>f("confirm",{message:D,title:"Confirm",confirmText:"Yes",cancelText:"Cancel",type:"warning",...j}),[f]),b=I.useCallback((D,j)=>f("prompt",{message:D,title:"Input",confirmText:"OK",cancelText:"Cancel",inputPlaceholder:"",...j}),[f]),x=I.useCallback((D,j)=>f("share",{message:D,title:"Share Board",confirmText:"Send Invite",cancelText:"Cancel",showRoleSelector:!0,inputPlaceholder:"Enter email address",...j}),[f]),C=()=>{switch(e.options.type){case"success":return v.jsx(I9,{className:"w-8 h-8 text-green-400"});case"warning":return v.jsx(bE,{className:"w-8 h-8 text-amber-400"});case"error":return v.jsx(bE,{className:"w-8 h-8 text-red-400"});default:return v.jsx(Vv,{className:"w-8 h-8 text-accent-primary"})}};return v.jsxs(xR.Provider,{value:{alert:d,confirm:y,prompt:b,sharePrompt:x},children:[t,v.jsx(ji,{children:e.isOpen&&v.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{e.type==="alert"?p(void 0):e.type==="confirm"?p(!1):p(null)},children:v.jsxs(Ze.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:D=>D.stopPropagation(),children:[v.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="share"?v.jsx(z9,{className:"w-6 h-6 text-accent-primary"}):C(),v.jsx("h3",{className:"text-lg font-bold text-white",children:e.options.title})]}),v.jsx("button",{onClick:()=>{e.type==="alert"?p(void 0):e.type==="confirm"?p(!1):p(null)},className:"p-1 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:v.jsx(fr,{size:20})})]}),v.jsxs("div",{className:"p-6",children:[v.jsx("p",{className:"text-slate-300 mb-4 whitespace-pre-wrap",children:e.options.message}),(e.type==="prompt"||e.type==="share")&&v.jsx("input",{type:e.type==="share"?"email":"text",autoFocus:!0,value:s,onChange:D=>a(D.target.value),placeholder:e.options.inputPlaceholder,className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors mb-4",onKeyDown:D=>{D.key==="Enter"&&s.trim()&&(e.type==="share"?p({email:s.trim(),role:l}):p(s.trim()))}}),e.type==="share"&&e.options.showRoleSelector&&v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"text-sm font-medium text-slate-400 mb-2 block",children:"Access Level"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>u("viewer"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="viewer"?"bg-accent-primary/20 text-accent-primary border border-accent-primary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Viewer"}),v.jsx("button",{onClick:()=>u("editor"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Editor"})]}),v.jsx("p",{className:"text-xs text-slate-500 mt-2",children:l==="viewer"?"Can view the board but not make changes":"Can view and edit the board"})]})]}),v.jsxs("div",{className:"flex gap-3 p-4 pt-0",children:[e.type!=="alert"&&v.jsx("button",{onClick:()=>{e.type==="confirm"?p(!1):p(null)},className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:e.options.cancelText}),v.jsx("button",{onClick:()=>{e.type==="alert"?p(void 0):e.type==="confirm"?p(!0):e.type==="share"?s.trim()&&p({email:s.trim(),role:l}):p(s.trim()||null)},disabled:(e.type==="prompt"||e.type==="share")&&!s.trim(),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.options.confirmText})]})]})})})]})};function ER(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=ER(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function cz(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=ER(t))&&(s&&(s+=" "),s+=e);return s}const uz=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},hz=(t,e)=>({classGroupId:t,validator:e}),SR=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Fd="-",SE=[],fz="arbitrary..",dz=t=>{const e=pz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return mz(u);const f=u.split(Fd),p=f[0]===""&&f.length>1?1:0;return AR(f,p,e)},getConflictingClassGroupIds:(u,f)=>{if(f){const p=s[u],d=n[u];return p?d?uz(d,p):p:d||SE}return n[u]||SE}}},AR=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const d=AR(t,e+1,l);if(d)return d}const u=n.validators;if(u===null)return;const f=e===0?t.join(Fd):t.slice(e).join(Fd),p=u.length;for(let d=0;d<p;d++){const y=u[d];if(y.validator(f))return y.classGroupId}},mz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?fz+s:void 0})(),pz=t=>{const{theme:e,classGroups:n}=t;return gz(n,e)},gz=(t,e)=>{const n=SR();for(const s in t){const a=t[s];jv(a,n,s,e)}return n},jv=(t,e,n,s)=>{const a=t.length;for(let l=0;l<a;l++){const u=t[l];yz(u,e,n,s)}},yz=(t,e,n,s)=>{if(typeof t=="string"){vz(t,e,n);return}if(typeof t=="function"){bz(t,e,n,s);return}_z(t,e,n,s)},vz=(t,e,n)=>{const s=t===""?e:CR(e,t);s.classGroupId=n},bz=(t,e,n,s)=>{if(wz(t)){jv(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(hz(n,t))},_z=(t,e,n,s)=>{const a=Object.entries(t),l=a.length;for(let u=0;u<l;u++){const[f,p]=a[u];jv(p,CR(e,f),n,s)}},CR=(t,e)=>{let n=t;const s=e.split(Fd),a=s.length;for(let l=0;l<a;l++){const u=s[l];let f=n.nextPart.get(u);f||(f=SR(),n.nextPart.set(u,f)),n=f}return n},wz=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,xz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const a=(l,u)=>{n[l]=u,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(l){let u=n[l];if(u!==void 0)return u;if((u=s[l])!==void 0)return a(l,u),u},set(l,u){l in n?n[l]=u:a(l,u)}}},Jy="!",AE=":",Tz=[],CE=(t,e,n,s,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:a}),Ez=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const l=[];let u=0,f=0,p=0,d;const y=a.length;for(let j=0;j<y;j++){const N=a[j];if(u===0&&f===0){if(N===AE){l.push(a.slice(p,j)),p=j+1;continue}if(N==="/"){d=j;continue}}N==="["?u++:N==="]"?u--:N==="("?f++:N===")"&&f--}const b=l.length===0?a:a.slice(p);let x=b,C=!1;b.endsWith(Jy)?(x=b.slice(0,-1),C=!0):b.startsWith(Jy)&&(x=b.slice(1),C=!0);const D=d&&d>p?d-p:void 0;return CE(l,C,x,D)};if(e){const a=e+AE,l=s;s=u=>u.startsWith(a)?l(u.slice(a.length)):CE(Tz,!1,u,void 0,!0)}if(n){const a=s;s=l=>n({className:l,parseClassName:a})}return s},Sz=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let a=[];for(let l=0;l<n.length;l++){const u=n[l],f=u[0]==="[",p=e.has(u);f||p?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(u)):a.push(u)}return a.length>0&&(a.sort(),s.push(...a)),s}},Az=t=>({cache:xz(t.cacheSize),parseClassName:Ez(t),sortModifiers:Sz(t),...dz(t)}),Cz=/\s+/,Rz=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],f=t.trim().split(Cz);let p="";for(let d=f.length-1;d>=0;d-=1){const y=f[d],{isExternal:b,modifiers:x,hasImportantModifier:C,baseClassName:D,maybePostfixModifierPosition:j}=n(y);if(b){p=y+(p.length>0?" "+p:p);continue}let N=!!j,G=s(N?D.substring(0,j):D);if(!G){if(!N){p=y+(p.length>0?" "+p:p);continue}if(G=s(D),!G){p=y+(p.length>0?" "+p:p);continue}N=!1}const Q=x.length===0?"":x.length===1?x[0]:l(x).join(":"),Y=C?Q+Jy:Q,de=Y+G;if(u.indexOf(de)>-1)continue;u.push(de);const ae=a(G,N);for(let ge=0;ge<ae.length;++ge){const k=ae[ge];u.push(Y+k)}p=y+(p.length>0?" "+p:p)}return p},Iz=(...t)=>{let e=0,n,s,a="";for(;e<t.length;)(n=t[e++])&&(s=RR(n))&&(a&&(a+=" "),a+=s);return a},RR=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=RR(t[s]))&&(n&&(n+=" "),n+=e);return n},Nz=(t,...e)=>{let n,s,a,l;const u=p=>{const d=e.reduce((y,b)=>b(y),t());return n=Az(d),s=n.cache.get,a=n.cache.set,l=f,f(p)},f=p=>{const d=s(p);if(d)return d;const y=Rz(p,n);return a(p,y),y};return l=u,(...p)=>l(Iz(...p))},kz=[],fn=t=>{const e=n=>n[t]||kz;return e.isThemeGetter=!0,e},IR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,NR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Dz=/^\d+\/\d+$/,Mz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Vz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Pz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Oz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hl=t=>Dz.test(t),Ke=t=>!!t&&!Number.isNaN(Number(t)),sa=t=>!!t&&Number.isInteger(Number(t)),Xg=t=>t.endsWith("%")&&Ke(t.slice(0,-1)),lr=t=>Mz.test(t),Lz=()=>!0,Uz=t=>Vz.test(t)&&!Pz.test(t),kR=()=>!1,zz=t=>Oz.test(t),Bz=t=>jz.test(t),Fz=t=>!Ee(t)&&!Se(t),qz=t=>Ql(t,VR,kR),Ee=t=>IR.test(t),so=t=>Ql(t,PR,Uz),Zg=t=>Ql(t,Yz,Ke),RE=t=>Ql(t,DR,kR),Hz=t=>Ql(t,MR,Bz),Lf=t=>Ql(t,OR,zz),Se=t=>NR.test(t),eu=t=>Wl(t,PR),Gz=t=>Wl(t,Qz),IE=t=>Wl(t,DR),$z=t=>Wl(t,VR),Kz=t=>Wl(t,MR),Uf=t=>Wl(t,OR,!0),Ql=(t,e,n)=>{const s=IR.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Wl=(t,e,n=!1)=>{const s=NR.exec(t);return s?s[1]?e(s[1]):n:!1},DR=t=>t==="position"||t==="percentage",MR=t=>t==="image"||t==="url",VR=t=>t==="length"||t==="size"||t==="bg-size",PR=t=>t==="length",Yz=t=>t==="number",Qz=t=>t==="family-name",OR=t=>t==="shadow",Wz=()=>{const t=fn("color"),e=fn("font"),n=fn("text"),s=fn("font-weight"),a=fn("tracking"),l=fn("leading"),u=fn("breakpoint"),f=fn("container"),p=fn("spacing"),d=fn("radius"),y=fn("shadow"),b=fn("inset-shadow"),x=fn("text-shadow"),C=fn("drop-shadow"),D=fn("blur"),j=fn("perspective"),N=fn("aspect"),G=fn("ease"),Q=fn("animate"),Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],de=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ae=()=>[...de(),Se,Ee],ge=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],S=()=>[Se,Ee,p],V=()=>[hl,"full","auto",...S()],z=()=>[sa,"none","subgrid",Se,Ee],U=()=>["auto",{span:["full",sa,Se,Ee]},sa,Se,Ee],P=()=>[sa,"auto",Se,Ee],M=()=>["auto","min","max","fr",Se,Ee],be=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],he=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...S()],H=()=>[hl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],K=()=>[t,Se,Ee],ne=()=>[...de(),IE,RE,{position:[Se,Ee]}],O=()=>["no-repeat",{repeat:["","x","y","space","round"]}],E=()=>["auto","cover","contain",$z,qz,{size:[Se,Ee]}],F=()=>[Xg,eu,so],ee=()=>["","none","full",d,Se,Ee],ie=()=>["",Ke,eu,so],pe=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[Ke,Xg,IE,RE],Ae=()=>["","none",D,Se,Ee],Re=()=>["none",Ke,Se,Ee],Ge=()=>["none",Ke,Se,Ee],$e=()=>[Ke,Se,Ee],Oe=()=>[hl,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[lr],breakpoint:[lr],color:[Lz],container:[lr],"drop-shadow":[lr],ease:["in","out","in-out"],font:[Fz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[lr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[lr],shadow:[lr],spacing:["px",Ke],text:[lr],"text-shadow":[lr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",hl,Ee,Se,N]}],container:["container"],columns:[{columns:[Ke,Ee,Se,f]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ae()}],overflow:[{overflow:ge()}],"overflow-x":[{"overflow-x":ge()}],"overflow-y":[{"overflow-y":ge()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[sa,"auto",Se,Ee]}],basis:[{basis:[hl,"full","auto",f,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ke,hl,"auto","initial","none",Ee]}],grow:[{grow:["",Ke,Se,Ee]}],shrink:[{shrink:["",Ke,Se,Ee]}],order:[{order:[sa,"first","last","none",Se,Ee]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...be(),"normal"]}],"justify-items":[{"justify-items":[...he(),"normal"]}],"justify-self":[{"justify-self":["auto",...he()]}],"align-content":[{content:["normal",...be()]}],"align-items":[{items:[...he(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...he(),{baseline:["","last"]}]}],"place-content":[{"place-content":be()}],"place-items":[{"place-items":[...he(),"baseline"]}],"place-self":[{"place-self":["auto",...he()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[f,"screen",...H()]}],"min-w":[{"min-w":[f,"screen","none",...H()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",n,eu,so]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Se,Zg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xg,Ee]}],"font-family":[{font:[Gz,Ee,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Se,Ee]}],"line-clamp":[{"line-clamp":[Ke,"none",Se,Zg]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",Se,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ke,"from-font","auto",Se,so]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[Ke,"auto",Se,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:O()}],"bg-size":[{bg:E()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},sa,Se,Ee],radial:["",Se,Ee],conic:[sa,Se,Ee]},Kz,Hz]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pe(),"hidden","none"]}],"divide-style":[{divide:[...pe(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ke,Se,Ee]}],"outline-w":[{outline:["",Ke,eu,so]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",y,Uf,Lf]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",b,Uf,Lf]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[Ke,so]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",x,Uf,Lf]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[Ke,Se,Ee]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[Se,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":de()}],"mask-image-conic-pos":[{"mask-conic":[Ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:O()}],"mask-size":[{mask:E()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,Ee]}],filter:[{filter:["","none",Se,Ee]}],blur:[{blur:Ae()}],brightness:[{brightness:[Ke,Se,Ee]}],contrast:[{contrast:[Ke,Se,Ee]}],"drop-shadow":[{"drop-shadow":["","none",C,Uf,Lf]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",Ke,Se,Ee]}],"hue-rotate":[{"hue-rotate":[Ke,Se,Ee]}],invert:[{invert:["",Ke,Se,Ee]}],saturate:[{saturate:[Ke,Se,Ee]}],sepia:[{sepia:["",Ke,Se,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,Ee]}],"backdrop-blur":[{"backdrop-blur":Ae()}],"backdrop-brightness":[{"backdrop-brightness":[Ke,Se,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[Ke,Se,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ke,Se,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ke,Se,Ee]}],"backdrop-invert":[{"backdrop-invert":["",Ke,Se,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[Ke,Se,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[Ke,Se,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",Ke,Se,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ke,"initial",Se,Ee]}],ease:[{ease:["linear","initial",G,Se,Ee]}],delay:[{delay:[Ke,Se,Ee]}],animate:[{animate:["none",Q,Se,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Se,Ee]}],"perspective-origin":[{"perspective-origin":ae()}],rotate:[{rotate:Re()}],"rotate-x":[{"rotate-x":Re()}],"rotate-y":[{"rotate-y":Re()}],"rotate-z":[{"rotate-z":Re()}],scale:[{scale:Ge()}],"scale-x":[{"scale-x":Ge()}],"scale-y":[{"scale-y":Ge()}],"scale-z":[{"scale-z":Ge()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[Se,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:ae()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Oe()}],"translate-x":[{"translate-x":Oe()}],"translate-y":[{"translate-y":Oe()}],"translate-z":[{"translate-z":Oe()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,Ee]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[Ke,eu,so,Zg]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Xz=Nz(Wz);function Yt(...t){return Xz(cz(t))}const Zz=()=>{const{isSettingsOpen:t,closeSettings:e,settings:n,updateSettings:s}=rh(),a=id.useRef(n);if(id.useEffect(()=>{t&&(a.current=n)},[t]),!t)return null;const l=()=>{s(a.current,!1),e()},u=()=>{s(n,!0),e()},f=[{id:"dawn",name:"Dawn",color:"bg-[#0f111a] from-violet-500/20 to-pink-500/20"},{id:"midnight",name:"Midnight",color:"bg-[#020617] from-sky-500/20 to-indigo-500/20"},{id:"forest",name:"Forest",color:"bg-[#052e16] from-green-500/20 to-emerald-500/20"},{id:"ocean",name:"Ocean",color:"bg-[#083344] from-cyan-500/20 to-teal-500/20"},{id:"sunset",name:"Sunset",color:"bg-[#2a0a0a] from-orange-500/20 to-rose-500/20"}],p=[{id:"outfit",name:"Modern",family:"font-[Outfit]"},{id:"inter",name:"Clean",family:"font-[Inter]"},{id:"playfair",name:"Elegant",family:'font-["Playfair_Display"]'},{id:"mono",name:"Tech",family:'font-["Fira_Code"]'}];return v.jsx(ji,{children:t&&v.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 font-sans",children:[v.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:l}),v.jsxs(Ze.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-lg bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col",children:[v.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[v.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[v.jsx(_E,{className:"w-5 h-5 text-accent-primary"}),"Customization"]}),v.jsx("button",{onClick:l,className:"text-slate-400 hover:text-white transition-colors",children:v.jsx(fr,{className:"w-6 h-6"})})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[v.jsxs("section",{children:[v.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[v.jsx(_E,{className:"w-4 h-4"})," Theme"]}),v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:f.map(d=>v.jsxs("button",{onClick:()=>s({theme:d.id},!1),className:Yt("relative group overflow-hidden rounded-xl border transition-all duration-300",n.theme===d.id?"border-accent-primary ring-2 ring-accent-primary/50":"border-white/10 hover:border-white/30"),children:[v.jsx("div",{className:Yt("h-16 w-full bg-gradient-to-br",d.color)}),v.jsx("div",{className:"p-3 bg-slate-800/50",children:v.jsx("span",{className:Yt("text-sm font-medium",n.theme===d.id?"text-white":"text-slate-400"),children:d.name})}),n.theme===d.id&&v.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-accent-primary rounded-full flex items-center justify-center shadow-lg",children:v.jsx(ca,{className:"w-3 h-3 text-white"})})]},d.id))})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[v.jsx(tz,{className:"w-4 h-4"})," Typography"]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:p.map(d=>v.jsxs("button",{onClick:()=>s({font:d.id},!1),className:Yt("flex items-center justify-between p-4 rounded-xl border transition-all duration-200 text-left",n.font===d.id?"bg-white/10 border-accent-primary text-white":"bg-white/5 border-white/5 hover:bg-white/10 text-slate-300"),children:[v.jsxs("div",{children:[v.jsx("span",{className:Yt("text-lg block mb-0.5",d.family),children:"Aa"}),v.jsx("span",{className:"text-xs text-slate-400",children:d.name})]}),n.font===d.id&&v.jsx(ca,{className:"w-5 h-5 text-accent-primary"})]},d.id))}),v.jsx("div",{className:"mt-4 p-4 rounded-xl bg-black/20 border border-white/5",children:v.jsx("p",{className:Yt("text-sm text-slate-300 leading-relaxed",n.font==="outfit"&&"font-[Outfit]",n.font==="inter"&&"font-[Inter]",n.font==="playfair"&&'font-["Playfair_Display"]',n.font==="mono"&&'font-["Fira_Code"]'),children:"The quick brown fox jumps over the lazy dog. 1234567890."})})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[v.jsx(EE,{className:"w-4 h-4"})," Experience"]}),v.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 mb-3",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:Yt("p-2 rounded-lg",n.enableAnimation?"bg-accent-primary/20 text-accent-primary":"bg-slate-700 text-slate-400"),children:v.jsx(EE,{size:20})}),v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-white",children:"Live Backgrounds"}),v.jsx("div",{className:"text-xs text-slate-400",children:"Dynamic particles and ambient effects"})]})]}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:n.enableAnimation,onChange:d=>s({enableAnimation:d.target.checked},!1),className:"sr-only peer"}),v.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-accent-primary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary"})]})]}),v.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:Yt("p-2 rounded-lg",n.enableSound?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-slate-400"),children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),v.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),v.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]})}),v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-white",children:"Sound Effects"}),v.jsx("div",{className:"text-xs text-slate-400",children:"Satisfying clicks and celebrations"})]})]}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:d=>s({enableSound:d.target.checked},!1),className:"sr-only peer"}),v.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]})]})]}),v.jsxs("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3 sticky bottom-0 bg-slate-900 z-10 shrink-0",children:[v.jsx("button",{onClick:l,className:"px-4 py-2 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),v.jsx("button",{onClick:u,className:"px-6 py-2 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all active:scale-95",children:"Save Changes"})]})]})]})})},Jg={theme:"dawn",font:"outfit",enableAnimation:!0,enableSound:!0},jR=I.createContext(null),rh=()=>{const t=I.useContext(jR);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},Jz=({children:t})=>{const{user:e}=Gl(),[n,s]=I.useState(Jg),[a,l]=I.useState(!1);I.useEffect(()=>{(async()=>{if(!e){s(Jg);return}try{const y=is(Bn,"users",e.uid),b=await Ju(y);b.exists()&&b.data().settings&&s({...Jg,...b.data().settings})}catch(y){console.error("Error loading settings:",y)}})()},[e]),I.useEffect(()=>{const d=document.body;d.classList.remove("theme-midnight","theme-forest","theme-ocean","theme-sunset"),n.theme!=="dawn"&&d.classList.add(`theme-${n.theme}`),d.classList.remove("font-inter","font-playfair","font-mono","font-comic"),n.font!=="outfit"&&d.classList.add(`font-${n.font}`),n.enableAnimation?d.classList.remove("reduce-motion"):d.classList.add("reduce-motion")},[n]);const u=async(d,y=!0)=>{const b={...n,...d};if(s(b),e&&y)try{await Id(is(Bn,"users",e.uid),{settings:b},{merge:!0})}catch(x){console.error("Error saving settings:",x)}},f=()=>l(!0),p=()=>l(!1);return v.jsxs(jR.Provider,{value:{settings:n,updateSettings:u,isSettingsOpen:a,openSettings:f,closeSettings:p},children:[t,v.jsx(Zz,{})]})},eB=()=>{const{signIn:t,error:e}=Gl();return v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center",children:[v.jsx("div",{className:"background-animation"}),v.jsxs("div",{className:"glass-panel p-8 max-w-md w-full flex flex-col items-center gap-6 animate-fade-in",children:[v.jsxs("div",{className:"flex flex-col items-center gap-2 mb-2",children:[v.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-24 w-auto object-contain drop-shadow-[0_0_15px_rgba(251,191,36,0.3)]"}),v.jsx("div",{className:"rounded-full bg-accent-primary/20 p-2 hidden",children:v.jsx(_R,{className:"w-6 h-6 text-accent-gold animate-pulse"})})]}),v.jsx("h1",{className:"text-4xl font-heading font-bold text-gradient sr-only",children:"SunSar Bingo"}),v.jsxs("p",{className:"text-slate-300 font-light text-lg",children:["Track your goals, share with friends,",v.jsx("br",{}),"and make 2026 your best year yet."]}),e&&v.jsx("div",{className:"bg-red-500/20 text-red-200 px-4 py-2 rounded-lg text-sm border border-red-500/30",children:e}),v.jsx("button",{onClick:t,className:"group relative px-6 py-3 bg-white text-bg-dark font-bold rounded-full transition-all hover:scale-105 hover:shadow-[0_0_20px_rgba(255,255,255,0.3)]",children:v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"G",className:"w-5 h-5"}),"Sign in / Sign up with Google"]})})]}),v.jsx("footer",{className:"absolute bottom-4 text-slate-500 text-xs",children:" 2026 SunSar Bingo  Free & Open Source"})]})};var Lv={};(function t(e,n,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),u=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;try{var O=new OffscreenCanvas(1,1),E=O.getContext("2d");E.fillRect(0,0,1,1);var F=O.transferToImageBitmap();E.createPattern(F,"no-repeat")}catch{return!1}return!0})();function p(){}function d(O){var E=n.exports.Promise,F=E!==void 0?E:e.Promise;return typeof F=="function"?new F(O):(O(p,p),null)}var y=(function(O,E){return{transform:function(F){if(O)return F;if(E.has(F))return E.get(F);var ee=new OffscreenCanvas(F.width,F.height),ie=ee.getContext("2d");return ie.drawImage(F,0,0),E.set(F,ee),ee},clear:function(){E.clear()}}})(f,new Map),b=(function(){var O=Math.floor(16.666666666666668),E,F,ee={},ie=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(E=function(pe){var ye=Math.random();return ee[ye]=requestAnimationFrame(function me(Ae){ie===Ae||ie+O-1<Ae?(ie=Ae,delete ee[ye],pe()):ee[ye]=requestAnimationFrame(me)}),ye},F=function(pe){ee[pe]&&cancelAnimationFrame(ee[pe])}):(E=function(pe){return setTimeout(pe,O)},F=function(pe){return clearTimeout(pe)}),{frame:E,cancel:F}})(),x=(function(){var O,E,F={};function ee(ie){function pe(ye,me){ie.postMessage({options:ye||{},callback:me})}ie.init=function(me){var Ae=me.transferControlToOffscreen();ie.postMessage({canvas:Ae},[Ae])},ie.fire=function(me,Ae,Re){if(E)return pe(me,null),E;var Ge=Math.random().toString(36).slice(2);return E=d(function($e){function Oe(ut){ut.data.callback===Ge&&(delete F[Ge],ie.removeEventListener("message",Oe),E=null,y.clear(),Re(),$e())}ie.addEventListener("message",Oe),pe(me,Ge),F[Ge]=Oe.bind(null,{data:{callback:Ge}})}),E},ie.reset=function(){ie.postMessage({reset:!0});for(var me in F)F[me](),delete F[me]}}return function(){if(O)return O;if(!s&&l){var ie=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{O=new Worker(URL.createObjectURL(new Blob([ie])))}catch(pe){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",pe),null}ee(O)}return O}})(),C={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function D(O,E){return E?E(O):O}function j(O){return O!=null}function N(O,E,F){return D(O&&j(O[E])?O[E]:C[E],F)}function G(O){return O<0?0:Math.floor(O)}function Q(O,E){return Math.floor(Math.random()*(E-O))+O}function Y(O){return parseInt(O,16)}function de(O){return O.map(ae)}function ae(O){var E=String(O).replace(/[^0-9a-f]/gi,"");return E.length<6&&(E=E[0]+E[0]+E[1]+E[1]+E[2]+E[2]),{r:Y(E.substring(0,2)),g:Y(E.substring(2,4)),b:Y(E.substring(4,6))}}function ge(O){var E=N(O,"origin",Object);return E.x=N(E,"x",Number),E.y=N(E,"y",Number),E}function k(O){O.width=document.documentElement.clientWidth,O.height=document.documentElement.clientHeight}function S(O){var E=O.getBoundingClientRect();O.width=E.width,O.height=E.height}function V(O){var E=document.createElement("canvas");return E.style.position="fixed",E.style.top="0px",E.style.left="0px",E.style.pointerEvents="none",E.style.zIndex=O,E}function z(O,E,F,ee,ie,pe,ye,me,Ae){O.save(),O.translate(E,F),O.rotate(pe),O.scale(ee,ie),O.arc(0,0,1,ye,me,Ae),O.restore()}function U(O){var E=O.angle*(Math.PI/180),F=O.spread*(Math.PI/180);return{x:O.x,y:O.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:O.startVelocity*.5+Math.random()*O.startVelocity,angle2D:-E+(.5*F-Math.random()*F),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:O.color,shape:O.shape,tick:0,totalTicks:O.ticks,decay:O.decay,drift:O.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:O.gravity*3,ovalScalar:.6,scalar:O.scalar,flat:O.flat}}function P(O,E){E.x+=Math.cos(E.angle2D)*E.velocity+E.drift,E.y+=Math.sin(E.angle2D)*E.velocity+E.gravity,E.velocity*=E.decay,E.flat?(E.wobble=0,E.wobbleX=E.x+10*E.scalar,E.wobbleY=E.y+10*E.scalar,E.tiltSin=0,E.tiltCos=0,E.random=1):(E.wobble+=E.wobbleSpeed,E.wobbleX=E.x+10*E.scalar*Math.cos(E.wobble),E.wobbleY=E.y+10*E.scalar*Math.sin(E.wobble),E.tiltAngle+=.1,E.tiltSin=Math.sin(E.tiltAngle),E.tiltCos=Math.cos(E.tiltAngle),E.random=Math.random()+2);var F=E.tick++/E.totalTicks,ee=E.x+E.random*E.tiltCos,ie=E.y+E.random*E.tiltSin,pe=E.wobbleX+E.random*E.tiltCos,ye=E.wobbleY+E.random*E.tiltSin;if(O.fillStyle="rgba("+E.color.r+", "+E.color.g+", "+E.color.b+", "+(1-F)+")",O.beginPath(),u&&E.shape.type==="path"&&typeof E.shape.path=="string"&&Array.isArray(E.shape.matrix))O.fill(H(E.shape.path,E.shape.matrix,E.x,E.y,Math.abs(pe-ee)*.1,Math.abs(ye-ie)*.1,Math.PI/10*E.wobble));else if(E.shape.type==="bitmap"){var me=Math.PI/10*E.wobble,Ae=Math.abs(pe-ee)*.1,Re=Math.abs(ye-ie)*.1,Ge=E.shape.bitmap.width*E.scalar,$e=E.shape.bitmap.height*E.scalar,Oe=new DOMMatrix([Math.cos(me)*Ae,Math.sin(me)*Ae,-Math.sin(me)*Re,Math.cos(me)*Re,E.x,E.y]);Oe.multiplySelf(new DOMMatrix(E.shape.matrix));var ut=O.createPattern(y.transform(E.shape.bitmap),"no-repeat");ut.setTransform(Oe),O.globalAlpha=1-F,O.fillStyle=ut,O.fillRect(E.x-Ge/2,E.y-$e/2,Ge,$e),O.globalAlpha=1}else if(E.shape==="circle")O.ellipse?O.ellipse(E.x,E.y,Math.abs(pe-ee)*E.ovalScalar,Math.abs(ye-ie)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI):z(O,E.x,E.y,Math.abs(pe-ee)*E.ovalScalar,Math.abs(ye-ie)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI);else if(E.shape==="star")for(var Ve=Math.PI/2*3,Mt=4*E.scalar,Vt=8*E.scalar,Ft=E.x,wn=E.y,ot=5,He=Math.PI/ot;ot--;)Ft=E.x+Math.cos(Ve)*Vt,wn=E.y+Math.sin(Ve)*Vt,O.lineTo(Ft,wn),Ve+=He,Ft=E.x+Math.cos(Ve)*Mt,wn=E.y+Math.sin(Ve)*Mt,O.lineTo(Ft,wn),Ve+=He;else O.moveTo(Math.floor(E.x),Math.floor(E.y)),O.lineTo(Math.floor(E.wobbleX),Math.floor(ie)),O.lineTo(Math.floor(pe),Math.floor(ye)),O.lineTo(Math.floor(ee),Math.floor(E.wobbleY));return O.closePath(),O.fill(),E.tick<E.totalTicks}function M(O,E,F,ee,ie){var pe=E.slice(),ye=O.getContext("2d"),me,Ae,Re=d(function(Ge){function $e(){me=Ae=null,ye.clearRect(0,0,ee.width,ee.height),y.clear(),ie(),Ge()}function Oe(){s&&!(ee.width===a.width&&ee.height===a.height)&&(ee.width=O.width=a.width,ee.height=O.height=a.height),!ee.width&&!ee.height&&(F(O),ee.width=O.width,ee.height=O.height),ye.clearRect(0,0,ee.width,ee.height),pe=pe.filter(function(ut){return P(ye,ut)}),pe.length?me=b.frame(Oe):$e()}me=b.frame(Oe),Ae=$e});return{addFettis:function(Ge){return pe=pe.concat(Ge),Re},canvas:O,promise:Re,reset:function(){me&&b.cancel(me),Ae&&Ae()}}}function be(O,E){var F=!O,ee=!!N(E||{},"resize"),ie=!1,pe=N(E,"disableForReducedMotion",Boolean),ye=l&&!!N(E||{},"useWorker"),me=ye?x():null,Ae=F?k:S,Re=O&&me?!!O.__confetti_initialized:!1,Ge=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,$e;function Oe(Ve,Mt,Vt){for(var Ft=N(Ve,"particleCount",G),wn=N(Ve,"angle",Number),ot=N(Ve,"spread",Number),He=N(Ve,"startVelocity",Number),xi=N(Ve,"decay",Number),Ls=N(Ve,"gravity",Number),Tr=N(Ve,"drift",Number),Wt=N(Ve,"colors",de),Gn=N(Ve,"ticks",Number),cs=N(Ve,"shapes"),Us=N(Ve,"scalar"),Ti=!!N(Ve,"flat"),Er=ge(Ve),$n=Ft,On=[],ri=O.width*Er.x,un=O.height*Er.y;$n--;)On.push(U({x:ri,y:un,angle:wn,spread:ot,startVelocity:He,color:Wt[$n%Wt.length],shape:cs[Q(0,cs.length)],ticks:Gn,decay:xi,gravity:Ls,drift:Tr,scalar:Us,flat:Ti}));return $e?$e.addFettis(On):($e=M(O,On,Ae,Mt,Vt),$e.promise)}function ut(Ve){var Mt=pe||N(Ve,"disableForReducedMotion",Boolean),Vt=N(Ve,"zIndex",Number);if(Mt&&Ge)return d(function(He){He()});F&&$e?O=$e.canvas:F&&!O&&(O=V(Vt),document.body.appendChild(O)),ee&&!Re&&Ae(O);var Ft={width:O.width,height:O.height};me&&!Re&&me.init(O),Re=!0,me&&(O.__confetti_initialized=!0);function wn(){if(me){var He={getBoundingClientRect:function(){if(!F)return O.getBoundingClientRect()}};Ae(He),me.postMessage({resize:{width:He.width,height:He.height}});return}Ft.width=Ft.height=null}function ot(){$e=null,ee&&(ie=!1,e.removeEventListener("resize",wn)),F&&O&&(document.body.contains(O)&&document.body.removeChild(O),O=null,Re=!1)}return ee&&!ie&&(ie=!0,e.addEventListener("resize",wn,!1)),me?me.fire(Ve,Ft,ot):Oe(Ve,Ft,ot)}return ut.reset=function(){me&&me.reset(),$e&&$e.reset()},ut}var he;function B(){return he||(he=be(null,{useWorker:!0,resize:!0})),he}function H(O,E,F,ee,ie,pe,ye){var me=new Path2D(O),Ae=new Path2D;Ae.addPath(me,new DOMMatrix(E));var Re=new Path2D;return Re.addPath(Ae,new DOMMatrix([Math.cos(ye)*ie,Math.sin(ye)*ie,-Math.sin(ye)*pe,Math.cos(ye)*pe,F,ee])),Re}function K(O){if(!u)throw new Error("path confetti are not supported in this browser");var E,F;typeof O=="string"?E=O:(E=O.path,F=O.matrix);var ee=new Path2D(E),ie=document.createElement("canvas"),pe=ie.getContext("2d");if(!F){for(var ye=1e3,me=ye,Ae=ye,Re=0,Ge=0,$e,Oe,ut=0;ut<ye;ut+=2)for(var Ve=0;Ve<ye;Ve+=2)pe.isPointInPath(ee,ut,Ve,"nonzero")&&(me=Math.min(me,ut),Ae=Math.min(Ae,Ve),Re=Math.max(Re,ut),Ge=Math.max(Ge,Ve));$e=Re-me,Oe=Ge-Ae;var Mt=10,Vt=Math.min(Mt/$e,Mt/Oe);F=[Vt,0,0,Vt,-Math.round($e/2+me)*Vt,-Math.round(Oe/2+Ae)*Vt]}return{type:"path",path:E,matrix:F}}function ne(O){var E,F=1,ee="#000000",ie='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof O=="string"?E=O:(E=O.text,F="scalar"in O?O.scalar:F,ie="fontFamily"in O?O.fontFamily:ie,ee="color"in O?O.color:ee);var pe=10*F,ye=""+pe+"px "+ie,me=new OffscreenCanvas(pe,pe),Ae=me.getContext("2d");Ae.font=ye;var Re=Ae.measureText(E),Ge=Math.ceil(Re.actualBoundingBoxRight+Re.actualBoundingBoxLeft),$e=Math.ceil(Re.actualBoundingBoxAscent+Re.actualBoundingBoxDescent),Oe=2,ut=Re.actualBoundingBoxLeft+Oe,Ve=Re.actualBoundingBoxAscent+Oe;Ge+=Oe+Oe,$e+=Oe+Oe,me=new OffscreenCanvas(Ge,$e),Ae=me.getContext("2d"),Ae.font=ye,Ae.fillStyle=ee,Ae.fillText(E,ut,Ve);var Mt=1/F;return{type:"bitmap",bitmap:me.transferToImageBitmap(),matrix:[Mt,0,0,Mt,-Ge*Mt/2,-$e*Mt/2]}}n.exports=function(){return B().apply(this,arguments)},n.exports.reset=function(){B().reset()},n.exports.create=be,n.exports.shapeFromPath=K,n.exports.shapeFromText=ne})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Lv,!1);const e0=Lv.exports;Lv.exports.create;const tu=(t=1)=>{const e=200*t,n={origin:{y:.7}};function s(a,l){e0(Object.assign({},n,l,{particleCount:Math.floor(e*a)}))}s(.25,{spread:26,startVelocity:55}),s(.2,{spread:60}),s(.35,{spread:100,decay:.91,scalar:.8}),s(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),s(.1,{spread:120,startVelocity:45})},NE={cloudName:"dia6ped7h",uploadPreset:"bingo_proofs"},kE=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",NE.uploadPreset),e.append("folder","bingo-proofs");const n=await fetch(`https://api.cloudinary.com/v1_1/${NE.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok){const a=await n.json();throw console.error("Cloudinary upload error:",a),new Error(a.error?.message||"Failed to upload image")}return(await n.json()).secure_url},tB="2026",ey=5,nB=["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"],iB=t=>{const{user:e}=Gl(),[n,s]=I.useState([]),[a,l]=I.useState({}),[u,f]=I.useState(!0),[p,d]=I.useState(!1),[y,b]=I.useState(!1),[x,C]=I.useState(""),[D,j]=I.useState(ey),N=I.useMemo(()=>t?is(Bn,"boards",t):is(Bn,"years",tB),[t]),G=(he,B)=>{if(!he.length)return;const H=[];for(let ne=0;ne<B;ne++)H.push(he.slice(ne*B,(ne+1)*B));let K=!1;for(let ne=0;ne<B;ne++)if(H[ne]&&H[ne].every(O=>O.isCompleted)){K=!0;break}if(!K){for(let ne=0;ne<B;ne++)if(H.map(O=>O[ne]).every(O=>O&&O.isCompleted)){K=!0;break}}!K&&H.map((ne,O)=>ne[O]).every(ne=>ne&&ne.isCompleted)&&(K=!0),!K&&H.map((ne,O)=>ne[B-1-O]).every(ne=>ne&&ne.isCompleted)&&(K=!0),K&&!p?(d(!0),tu(2)):K||d(!1)},Q=async(he=ey)=>{const B=he*he,H=he%2===1?Math.floor(B/2):-1,K=[...nB].sort(()=>.5-Math.random()),ne=[];let O=0;for(let E=0;E<B;E++)E===H&&he%2===1?ne.push({id:E,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(ne.push({id:E,text:K[O%K.length]||`Goal ${E+1}`,isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),O++);await Id(N,{year:2026,gridSize:he,items:ne,isLocked:!1,createdAt:Fe.now(),lastUpdated:Fe.now(),...e?{ownerId:e.uid,members:{[e.uid]:"owner"}}:{}},{merge:!0})};I.useEffect(()=>{if(!e)return;f(!0);const he=AC(N,B=>{if(B.exists()){const H=B.data(),K=H.gridSize||ey;j(K),s(H.items||[]),l(H.members||{}),b(H.isLocked||!1),C(H.title||""),G(H.items||[],K)}else Q();f(!1)},B=>{console.error("Error fetching bingo board:",B),f(!1)});return()=>he()},[N,e]);const Y=async he=>{if(!n.length)return;const B=n.map(O=>({...O})),H=B[he];if(H.isFreeSpace)return;const K=H.targetCount||1,ne=H.currentCount||0;if(H.isCompleted){const O=Math.max(0,ne-1);H.currentCount=O,H.isCompleted=O>=K,O===0&&(H.completedBy=null,H.completedAt=null,H.proofPhotos=[])}else{const O=Math.min(K,ne+1);H.currentCount=O,H.isCompleted=O>=K,H.completedBy=e?.displayName||e?.email||"Unknown",H.completedAt=Fe.now(),tu(.5)}s(B),G(B,D);try{await ni(N,{items:B,lastUpdated:Fe.now()})}catch(O){console.error("Error updating bingo board:",O)}},de=async he=>{if(!n.length)return;const B=n.map(E=>({...E})),H=B[he];if(H.isFreeSpace)return;const K=H.currentCount||0;if(K<=0)return;const ne=H.targetCount||1,O=K-1;H.currentCount=O,H.isCompleted=O>=ne,O===0&&(H.completedBy=null,H.completedAt=null,H.proofPhotos=[]),s(B),G(B,D);try{await ni(N,{items:B,lastUpdated:Fe.now()})}catch(E){console.error("Error decrementing progress:",E)}},ae=async(he,B)=>{if(!(!n.length||!e))try{const H=await kE(B),K=n.map(ie=>({...ie})),ne=K[he];if(ne.isFreeSpace)return;const O=ne.targetCount||1,E=ne.currentCount||0,F=Math.min(O,E+1);ne.currentCount=F,ne.isCompleted=F>=O,ne.completedBy=e?.displayName||e?.email||"Unknown",ne.completedAt=Fe.now();const ee=ne.proofPhotos||[];ne.proofPhotos=[...ee,H],s(K),G(K,D),tu(1),await ni(N,{items:K,lastUpdated:Fe.now()})}catch(H){throw console.error("Error completing with photo:",H),H}},ge=async(he,B)=>{if(!n.length||!e)return;const H=n[he];!H.isCompleted&&(H.currentCount||0)<(H.targetCount||1);const K=H.proofPhotos||[];if(K.length>=5)throw new Error("Maximum 5 photos allowed per tile");try{const ne=await kE(B),O=n.map(E=>({...E}));return O[he].proofPhotos=[...K,ne],s(O),tu(.3),await ni(N,{items:O,lastUpdated:Fe.now()}),ne}catch(ne){throw console.error("Error adding photo:",ne),ne}},k=async(he,B)=>{if(e)try{const H=n.map(E=>({...E})),K=H[he],ne={emoji:B,by:e.uid,byName:e.displayName||e.email?.split("@")[0]||"Friend",timestamp:Date.now()},O=K.reactions||[];K.reactions=[...O,ne],s(H),await ni(N,{items:H,lastUpdated:Fe.now()}),tu(.2)}catch(H){console.error("Error adding reaction:",H)}},S=async(he,B)=>{const H=n.map(K=>({...K}));B.text!==void 0&&(H[he].text=B.text),B.style!==void 0&&(H[he].style=B.style),s(H);try{await ni(N,{items:H,lastUpdated:Fe.now()})}catch(K){console.error("Error updating item:",K)}},V=async(he=!0)=>{const B=[...n];let H=B;if(he){const ne=D*D,O=D%2===1?Math.floor(ne/2):-1;if(O!==-1){const E=B[O],F=[...B.slice(0,O),...B.slice(O+1)];for(let ee=F.length-1;ee>0;ee--){const ie=Math.floor(Math.random()*(ee+1));[F[ee],F[ie]]=[F[ie],F[ee]]}H=[...F.slice(0,O),E,...F.slice(O)]}else{H=[...B];for(let E=H.length-1;E>0;E--){const F=Math.floor(Math.random()*(E+1));[H[E],H[F]]=[H[F],H[E]]}}s(H)}b(!0);const K={isLocked:!0,lastUpdated:Fe.now()};he&&(K.items=H,K.itemsBackup=B),await Id(N,K,{merge:!0})},z=async()=>{try{const he=await Ju(N);if(he.exists()){const B=he.data();B.itemsBackup?await ni(N,{items:B.itemsBackup,itemsBackup:Ad(),isLocked:!1,lastUpdated:Fe.now()}):await ni(N,{isLocked:!1,lastUpdated:Fe.now()})}}catch(he){console.error("Error unlocking board:",he)}},U=I.useMemo(()=>{const he=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],[0,6,12,18,24],[4,8,12,16,20]],B=new Set(n.map((H,K)=>H.isCompleted?K:-1));return he.reduce((H,K)=>K.every(ne=>B.has(ne))?H+1:H,0)},[n]);return{items:n,members:a,loading:u,toggleItem:Y,updateItem:S,hasWon:p,bingoCount:U,isLocked:y,unlockBoard:z,jumbleAndLock:V,saveBoard:async he=>{s(he);try{await ni(N,{items:he,lastUpdated:Fe.now()})}catch(B){console.error("Error saving board:",B)}},completeWithPhoto:ae,addPhotoToTile:ge,addReaction:k,decrementProgress:de,inviteUser:async(he,B="editor")=>{try{const H=Cd(gl(Bn,"users"),Rd("email","==",he)),K=await gu(H);if(K.empty)return{success:!1,type:"not_found",message:"User not found"};const ne=K.docs[0],O=ne.id;return await ni(N,{[`members.${O}`]:B}),{success:!0,type:"success",message:`Added ${ne.data().displayName||he} as ${B}!`}}catch(H){return console.error("Error inviting user:",H),{success:!1,type:"error",message:"Failed to invite user"}}},removeMember:async he=>{try{return await ni(N,{[`members.${he}`]:Ad()}),{success:!0}}catch(B){return console.error("Error removing member:",B),{success:!1,error:B}}},title:x,gridSize:D}};let wu=null;const nu=()=>(wu||(wu=new(window.AudioContext||window.webkitAudioContext)),wu),sB=()=>{const{settings:t}=rh(),e=t.enableSound??!0,n=I.useRef(0);I.useEffect(()=>{const d=()=>{wu?.state==="suspended"&&wu.resume()};return document.addEventListener("click",d,{once:!0}),document.addEventListener("touchstart",d,{once:!0}),()=>{document.removeEventListener("click",d),document.removeEventListener("touchstart",d)}},[]);const s=I.useCallback(()=>{const d=Date.now();return d-n.current<50?!1:(n.current=d,!0)},[]),a=I.useCallback(()=>{if(!(!e||!s()))try{const d=nu(),y=d.createOscillator(),b=d.createGain();y.connect(b),b.connect(d.destination),y.frequency.setValueAtTime(800,d.currentTime),y.frequency.exponentialRampToValueAtTime(400,d.currentTime+.1),y.type="sine",b.gain.setValueAtTime(.15,d.currentTime),b.gain.exponentialRampToValueAtTime(.001,d.currentTime+.1),y.start(d.currentTime),y.stop(d.currentTime+.1)}catch(d){console.warn("Audio playback failed:",d)}},[e,s]),l=I.useCallback(()=>{if(!(!e||!s()))try{const d=nu();[523.25,659.25,783.99].forEach((b,x)=>{const C=d.createOscillator(),D=d.createGain();C.connect(D),D.connect(d.destination),C.frequency.setValueAtTime(b,d.currentTime),C.type="sine";const j=d.currentTime+x*.08;D.gain.setValueAtTime(0,j),D.gain.linearRampToValueAtTime(.12,j+.02),D.gain.exponentialRampToValueAtTime(.001,j+.3),C.start(j),C.stop(j+.3)})}catch(d){console.warn("Audio playback failed:",d)}},[e,s]),u=I.useCallback(()=>{if(e)try{const d=nu();[{freq:523.25,time:0},{freq:659.25,time:.1},{freq:783.99,time:.2},{freq:1046.5,time:.35},{freq:1318.51,time:.5}].forEach(({freq:C,time:D})=>{const j=d.createOscillator(),N=d.createGain();j.connect(N),N.connect(d.destination),j.frequency.setValueAtTime(C,d.currentTime+D),j.type="sine",N.gain.setValueAtTime(0,d.currentTime+D),N.gain.linearRampToValueAtTime(.2,d.currentTime+D+.02),N.gain.exponentialRampToValueAtTime(.001,d.currentTime+D+.5),j.start(d.currentTime+D),j.stop(d.currentTime+D+.5)});const b=d.createOscillator(),x=d.createGain();b.connect(x),x.connect(d.destination),b.type="sine",b.frequency.setValueAtTime(2e3,d.currentTime+.6),b.frequency.exponentialRampToValueAtTime(4e3,d.currentTime+1.2),x.gain.setValueAtTime(0,d.currentTime+.6),x.gain.linearRampToValueAtTime(.05,d.currentTime+.7),x.gain.exponentialRampToValueAtTime(.001,d.currentTime+1.2),b.start(d.currentTime+.6),b.stop(d.currentTime+1.2)}catch(d){console.warn("Audio playback failed:",d)}},[e]),f=I.useCallback(()=>{if(!(!e||!s()))try{const d=nu(),y=d.sampleRate*.15,b=d.createBuffer(1,y,d.sampleRate),x=b.getChannelData(0);for(let N=0;N<y;N++)x[N]=(Math.random()*2-1)*(1-N/y);const C=d.createBufferSource(),D=d.createBiquadFilter(),j=d.createGain();C.buffer=b,D.type="lowpass",D.frequency.setValueAtTime(2e3,d.currentTime),D.frequency.exponentialRampToValueAtTime(500,d.currentTime+.15),C.connect(D),D.connect(j),j.connect(d.destination),j.gain.setValueAtTime(.08,d.currentTime),j.gain.exponentialRampToValueAtTime(.001,d.currentTime+.15),C.start(d.currentTime)}catch(d){console.warn("Audio playback failed:",d)}},[e,s]),p=I.useCallback(()=>{if(!(!e||!s()))try{const d=nu(),y=d.createOscillator(),b=d.createGain();y.connect(b),b.connect(d.destination),y.frequency.setValueAtTime(200,d.currentTime),y.frequency.linearRampToValueAtTime(150,d.currentTime+.2),y.type="sine",b.gain.setValueAtTime(.15,d.currentTime),b.gain.exponentialRampToValueAtTime(.001,d.currentTime+.2),y.start(d.currentTime),y.stop(d.currentTime+.2)}catch(d){console.warn("Audio playback failed:",d)}},[e,s]);return{playClick:a,playSuccess:l,playBingo:u,playWhoosh:f,playError:p}},rB=({items:t,isOpen:e,onClose:n})=>{const[s,a]=I.useState(null),l=I.useMemo(()=>t.map((p,d)=>({...p,originalIndex:d})).filter(p=>p.isCompleted&&p.proofPhotos&&p.proofPhotos.length>0).sort((p,d)=>{const y=p.completedAt?.toDate?.()||new Date(0);return(d.completedAt?.toDate?.()||new Date(0)).getTime()-y.getTime()}),[t]),u=I.useMemo(()=>{const p={};return l.forEach(d=>{const b=(d.completedAt?.toDate?.()||new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"});p[b]||(p[b]=[]),p[b].push(d)}),p},[l]),f=p=>p?(p.toDate?p.toDate():new Date(p)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e?v.jsx(ji,{children:v.jsxs(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-bg-dark overflow-y-auto",children:[v.jsx("div",{className:"sticky top-0 z-10 bg-bg-dark/95 backdrop-blur-md border-b border-white/10",children:v.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(Ud,{className:"w-6 h-6 text-accent-gold"}),v.jsx("h1",{className:"text-xl font-bold text-white",children:"2026 Memories"}),v.jsxs("span",{className:"text-sm text-slate-400",children:["(",l.length," moments)"]})]}),v.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-white transition-colors rounded-full hover:bg-white/10",children:v.jsx(fr,{size:24})})]})}),v.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:l.length===0?v.jsxs("div",{className:"text-center py-20",children:[v.jsx(Ud,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),v.jsx("h2",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No memories yet"}),v.jsx("p",{className:"text-slate-500",children:"Complete tasks and add photos to build your 2026 album!"})]}):Object.entries(u).map(([p,d])=>v.jsxs("div",{className:"mb-8",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx(zd,{className:"w-4 h-4 text-accent-primary"}),v.jsx("h2",{className:"text-lg font-semibold text-accent-primary",children:p}),v.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent-primary/30 to-transparent"})]}),v.jsx("div",{className:"space-y-6",children:d.map((y,b)=>v.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.1},className:"bg-bg-card/80 rounded-2xl border border-white/10 overflow-hidden shadow-xl",children:[v.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer",onClick:()=>a({memoryIdx:l.indexOf(y),photoIdx:0}),children:[v.jsx("img",{src:y.proofPhotos[0],alt:y.text,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),y.proofPhotos.length>1&&v.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-full text-white text-xs font-medium",children:["+",y.proofPhotos.length-1," more"]})]}),y.proofPhotos.length>1&&v.jsx("div",{className:"flex gap-1 p-2 bg-black/30 overflow-x-auto",children:y.proofPhotos.map((x,C)=>v.jsx("button",{onClick:()=>a({memoryIdx:l.indexOf(y),photoIdx:C}),className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 border-2 border-transparent hover:border-accent-primary transition-all",children:v.jsx("img",{src:x,alt:"",className:"w-full h-full object-cover"})},C))}),v.jsxs("div",{className:"p-4",children:[v.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[v.jsx("span",{className:"text-accent-gold",children:""}),y.text]}),v.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(iz,{size:14}),y.completedBy]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(zd,{size:14}),f(y.completedAt)]})]})]})]},y.id))})]},p))}),v.jsx(ji,{children:s!==null&&l[s.memoryIdx]&&v.jsxs(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>a(null),children:[v.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white",children:v.jsx(fr,{size:32})}),(()=>{const p=l[s.memoryIdx],d=p.proofPhotos||[],y=s.photoIdx;return v.jsxs("div",{className:"relative max-w-4xl w-full",onClick:b=>b.stopPropagation(),children:[v.jsx("img",{src:d[y],alt:"",className:"w-full max-h-[80vh] object-contain rounded-lg"}),d.length>1&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>a({...s,photoIdx:y>0?y-1:d.length-1}),className:"absolute left-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:v.jsx(yR,{size:28})}),v.jsx("button",{onClick:()=>a({...s,photoIdx:y<d.length-1?y+1:0}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:v.jsx(vR,{size:28})})]}),v.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[v.jsx("p",{className:"text-white font-semibold",children:p.text}),v.jsxs("p",{className:"text-slate-300 text-sm",children:[y+1," / ",d.length,"  ",f(p.completedAt)]})]})]})})()]})})]})}):null},aB=({items:t})=>{const[e,n]=I.useState([]),s=I.useRef({}),a=I.useRef(!1);I.useEffect(()=>{if(!a.current){t.forEach(u=>{s.current[u.id]=u.reactions?.length||0}),a.current=!0;return}t.forEach(u=>{const f=u.reactions?.length||0,p=s.current[u.id]||0;f>p&&u.reactions.slice(p).forEach(y=>{l(y)}),s.current[u.id]=f})},[t]);const l=u=>{const f=Math.random().toString(36).substring(7),p=Math.random()*80+10;n(d=>[...d,{...u,id:f,x:p}]),setTimeout(()=>{n(d=>d.filter(y=>y.id!==f))},4e3)};return v.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] overflow-hidden",children:v.jsx(ji,{children:e.map(u=>v.jsxs(Ze.div,{initial:{y:"110vh",opacity:0,x:`${u.x}vw`,scale:.5,rotate:0},animate:{y:"-10vh",opacity:[0,1,1,0],scale:[.5,1.5,1.2],rotate:[0,-10,10,0]},transition:{duration:4,ease:"easeOut"},className:"absolute top-0 flex flex-col items-center",children:[v.jsx("span",{className:"text-6xl drop-shadow-2xl filter",children:u.emoji}),u.byName&&v.jsx("div",{className:"text-sm font-bold text-white/90 text-center mt-2 bg-black/40 px-3 py-1 rounded-full backdrop-blur-md border border-white/10 shadow-lg",children:u.byName})]},u.id))})})},DE=()=>{const{boardId:t,yearId:e}=ok(),n=Ou(),s=e?void 0:t,{items:a,members:l,loading:u,toggleItem:f,hasWon:p,bingoCount:d,isLocked:y,unlockBoard:b,jumbleAndLock:x,saveBoard:C,completeWithPhoto:D,addPhotoToTile:j,addReaction:N,decrementProgress:G,inviteUser:Q,removeMember:Y,title:de,gridSize:ae}=iB(s),{logout:ge,user:k}=Gl(),S=TR(),{openSettings:V}=rh(),{playClick:z,playSuccess:U,playBingo:P,playWhoosh:M}=sB(),[be,he]=I.useState(!1),[B,H]=I.useState([]),[K,ne]=I.useState(!1),[O,E]=I.useState(!1),[F,ee]=I.useState(!1),[ie,pe]=I.useState(!1),[ye,me]=I.useState([]),[Ae,Re]=I.useState(null),[Ge,$e]=I.useState(""),[Oe,ut]=I.useState({}),[Ve,Mt]=I.useState(1),[Vt,Ft]=I.useState(""),[wn,ot]=I.useState(!1),[He,xi]=I.useState(0),[Ls,Tr]=I.useState(null),[Wt,Gn]=I.useState(!1);I.useEffect(()=>{!localStorage.getItem("hasSeenWalkthrough")&&!u&&a.length>0&&ot(!0)},[u,a]),I.useEffect(()=>{(async()=>{if(O&&l){const Ne=[];for(const[ht,Rt]of Object.entries(l))if(Rt!=="owner")try{const _t=await Ju(is(Bn,"users",ht));if(_t.exists()){const It=_t.data();Ne.push({id:ht,name:It.displayName||"Unknown",email:It.email||"No email",role:Rt})}}catch(_t){console.error("Error fetching user:",_t)}me(Ne)}})()},[O,l]);const cs=async(W,Ne)=>{await S.confirm(`Are you sure you want to remove ${Ne} from this board?`,{title:"Remove Member",type:"error",confirmText:"Remove"})&&((await Y(W)).success?(me(_t=>_t.filter(It=>It.id!==W)),await S.alert(`${Ne} has been removed.`,{type:"success"})):await S.alert("Failed to remove member.",{type:"error"}))},Us=async()=>{const W=await S.sharePrompt("Enter their email address to invite them to this board.",{title:"Invite User"});if(W){const Ne=await Q(W.email,W.role);if(Ne.type==="success")await S.alert(Ne.message,{title:"Success!",type:"success"});else if(Ne.type==="not_found"){if(await S.confirm(`"${W.email}" hasn't signed up yet.

Would you like to send them an email invitation to join SunSar Bingo?`,{title:"User Not Found",confirmText:"Send Invite Email",type:"info"}))try{const{sendInviteEmail:Rt,openMailtoFallback:_t}=await sy(async()=>{const{sendInviteEmail:Zt,openMailtoFallback:ui}=await import("./emailService-4QpVlmXh.js");return{sendInviteEmail:Zt,openMailtoFallback:ui}},[]);(await Rt({recipientEmail:W.email,senderName:k?.displayName||k?.email||"A friend"})).success?await S.alert(`Invitation sent to ${W.email}! They'll receive an email with instructions to join.`,{title:"Invitation Sent!",type:"success"}):(_t(W.email,k?.displayName||"A friend"),await S.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"}))}catch{const _t=encodeURIComponent("Join me on SunSar Bingo!"),It=encodeURIComponent(`Hey! Come join me on SunSar Bingo to track our 2026 goals together.

Sign up here: ${window.location.origin}`);window.open(`mailto:${W.email}?subject=${_t}&body=${It}`),await S.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"})}}else await S.alert(Ne.message,{title:"Error",type:"error"})}},Ti=()=>{He<2?xi(W=>W+1):(ot(!1),localStorage.setItem("hasSeenWalkthrough","true"))},[Er,$n]=I.useState(!1),[On,ri]=I.useState(null),[un,Xt]=I.useState(!1),jn=I.useRef(null),[Pt,zs]=I.useState(!1),[xt,us]=I.useState(null),[Ln,Ei]=I.useState(null),[Et,In]=I.useState(0),[ai,Kn]=I.useState(!1),Sr=I.useRef(null),[So,oi]=I.useState(!1),[Bs,Ao]=I.useState(()=>localStorage.getItem("celebrationDismissed")==="true"),[Hi,Fs]=I.useState(0);I.useEffect(()=>{Hi===5&&(b(),Fs(0),e0({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#ec4899","#ffffff"]}));let W;return Hi>0&&(W=setTimeout(()=>Fs(0),1e3)),()=>clearTimeout(W)},[Hi,b]);const ka=()=>{y&&Fs(W=>W+1)},qs=()=>{z(),x(ie),e0({particleCount:150,spread:60,origin:{y:.7},colors:["#22c55e","#ffffff"]}),U(),ee(!1),he(!1)},Gi=()=>{Ao(!0),localStorage.setItem("celebrationDismissed","true")};id.useEffect(()=>{!u&&!p&&(Ao(!1),localStorage.removeItem("celebrationDismissed"))},[p,u]);const Da=I.useRef(p);id.useEffect(()=>{p&&!Da.current&&!u&&P(),Da.current=p},[p,u,P]);const li=W=>{const Ne=be?B:a;if(Re(W),$e(Ne[W].text),ut(Ne[W].style||{color:"#ffffff",fontSize:"base",bold:!1,italic:!1}),Mt(Ne[W].targetCount||1),Ne[W].dueDate){const ht=Ne[W].dueDate,Rt=typeof ht.toDate=="function"?ht.toDate():new Date(ht),_t=Rt.getFullYear(),It=String(Rt.getMonth()+1).padStart(2,"0"),Zt=String(Rt.getDate()).padStart(2,"0");Ft(`${_t}-${It}-${Zt}`)}else Ft("");ne(!0)},ci=()=>{if(Ae===null)return;let W;Vt&&(W=new Date(Vt+"T12:00:00"));const Ne=[...B];Ne[Ae]={...Ne[Ae],text:Ge,style:Oe,targetCount:Ve,dueDate:W},H(Ne),ne(!1),Re(null)};if(u)return v.jsx("div",{className:"flex h-screen items-center justify-center text-accent-primary animate-pulse",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),v.jsx("p",{children:"Loading Board..."})]})});const Ht=a.filter(W=>W.isCompleted).length/25*100,Yn=W=>{if(!W)return"-";const Ne=W.toDate?W.toDate():new Date(W);return Ne.toLocaleDateString()+" "+Ne.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},hs=be?B:a,Xl=W=>{const Ne=hs[W];Tr({index:W,wasCompleted:Ne.isCompleted}),Ne.isCompleted?z():U(),f(W),Gn(!0),setTimeout(()=>Gn(!1),3e3)};return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 pb-24 relative overflow-x-hidden no-print",children:[v.jsx(aB,{items:a}),v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsxs("header",{className:"flex justify-between items-center mb-8 py-2",children:[v.jsx(Ze.img,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},src:"/logo.png",alt:"SunSar Bingo",className:"h-10 sm:h-12 w-auto object-contain cursor-pointer active:scale-95 transition-transform",onClick:ka}),v.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[v.jsx("button",{onClick:()=>oi(!0),className:"p-2.5 text-slate-400 hover:text-accent-gold hover:bg-white/5 rounded-full transition-colors",title:"View Memories",children:v.jsx(Ud,{size:20})}),v.jsx("button",{onClick:()=>n("/dashboard"),className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Dashboard",children:v.jsx(Pv,{size:20})}),v.jsx("button",{onClick:()=>E(!0),className:"p-2.5 text-slate-400 hover:text-accent-primary hover:bg-white/5 rounded-full transition-colors",title:"Share Board",children:v.jsx(nd,{size:20})}),v.jsx("button",{onClick:V,className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Settings",children:v.jsx(Ov,{size:20})}),v.jsx("div",{className:"w-px h-6 bg-white/10 mx-1 hidden sm:block"}),v.jsx(Ze.div,{initial:{scale:0},animate:{scale:1},className:"relative cursor-pointer group",children:v.jsx("img",{src:k?.photoURL||"",alt:"User",className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full border-2 border-white/10 group-hover:border-accent-primary transition-colors object-cover shrink-0"})}),v.jsx("button",{onClick:ge,className:"p-2.5 text-slate-400 hover:text-red-400 hover:bg-white/5 rounded-full transition-colors",title:"Logout",children:v.jsx(bR,{size:20})})]})]}),v.jsxs("div",{className:"mb-10",children:[v.jsx(Ze.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:de?v.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:de}):v.jsxs(v.Fragment,{children:["My ",v.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent italic",children:"Bingo"})]})}),v.jsxs("p",{className:"text-slate-400 mt-2 text-base flex items-center gap-2",children:[v.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-white/5 rounded-full text-sm border border-white/10",children:[ae,"",ae," Grid"]}),v.jsx("span",{children:""}),v.jsxs("span",{children:[a.filter(W=>W.isCompleted).length,"/",a.length," completed"]})]})]}),v.jsx("div",{className:"flex justify-center mb-6",children:v.jsx("div",{className:"w-full max-w-[520px] aspect-square relative",children:v.jsx("div",{className:Yt("grid gap-1.5 sm:gap-2 w-full h-full",ae===3&&"grid-cols-3 grid-rows-3",ae===4&&"grid-cols-4 grid-rows-4",ae===5&&"grid-cols-5 grid-rows-5",ae===6&&"grid-cols-6 grid-rows-6"),children:hs.map((W,Ne)=>v.jsxs(Ze.div,{title:W.isCompleted?`Completed by ${W.completedBy||"Someone"} on ${Yn(W.completedAt)}`:void 0,layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:Ne*.02},whileTap:{scale:.95},onClick:()=>{be||W.isFreeSpace||(W.isCompleted?W.proofPhotos&&W.proofPhotos.length>0?(us(W),Ei(Ne),In(0),zs(!0)):Xl(Ne):(M(),ri(Ne),$n(!0)))},className:Yt("relative rounded-lg flex items-center justify-center p-1 cursor-pointer select-none border backdrop-blur-sm overflow-hidden",ae===3&&"text-sm sm:text-base",ae===4&&"text-xs sm:text-sm",ae===5&&"text-[11px] sm:text-sm",ae===6&&"text-[9px] sm:text-xs","font-medium leading-tight select-none",W.isCompleted?"text-white scale-110 font-semibold":"text-slate-300","bg-bg-card/90 border-white/20 shadow-md hover:border-white/40 hover:bg-bg-card/95 transition-all duration-200",W.isCompleted&&!W.isFreeSpace&&"bg-gradient-to-br from-accent-primary/30 to-accent-secondary/30 border-accent-primary/50 shadow-[0_0_15px_rgba(139,92,246,0.15)]",W.isFreeSpace&&"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50",be&&"border-dashed border-slate-500"),children:[v.jsx("div",{className:"w-full h-full flex items-center justify-center text-center relative z-10",children:v.jsx("div",{className:"w-full h-full flex items-center justify-center p-1",onClick:ht=>{be&&(ht.stopPropagation(),li(Ne))},children:v.jsx("span",{className:Yt("leading-tight break-words w-full",W.isFreeSpace?"text-lg font-bold text-accent-gold":"font-semibold line-clamp-3 sm:line-clamp-4",W.isCompleted&&!W.isFreeSpace&&"text-white"),style:!W.isFreeSpace&&!W.isCompleted?{color:W.style?.color||"#cbd5e1",fontWeight:W.style?.bold?"bold":"600",fontStyle:W.style?.italic?"italic":"normal",fontSize:W.style?.fontSize==="sm"?"12px":W.style?.fontSize==="lg"?"18px":W.style?.fontSize==="xl"?"22px":void 0}:void 0,children:W.text})})}),W.dueDate&&!W.isCompleted&&!y&&v.jsxs("div",{className:Yt("flex items-center gap-1 mt-1 text-[10px] font-medium absolute bottom-1 right-1 px-1 rounded bg-black/40 backdrop-blur-sm",(W.dueDate.toDate?W.dueDate.toDate():new Date(W.dueDate))<new Date?"text-red-400":"text-slate-400"),children:[v.jsx(D9,{size:8}),v.jsx("span",{children:(W.dueDate.toDate?W.dueDate.toDate():new Date(W.dueDate)).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),W.isCompleted&&!W.isFreeSpace&&!be&&v.jsxs(v.Fragment,{children:[v.jsx(Ze.div,{initial:{scale:0},animate:{scale:1},className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-20",children:v.jsx(ca,{className:"w-12 h-12 text-white"})}),v.jsx("div",{className:"absolute top-0.5 right-0.5 w-1.5 h-1.5 bg-accent-primary rounded-full shadow-[0_0_5px_rgba(139,92,246,0.8)]"}),W.proofPhotos&&W.proofPhotos.length>0&&v.jsxs("div",{className:"absolute bottom-0.5 left-0.5 p-0.5 bg-accent-gold/80 rounded-sm flex items-center gap-0.5",children:[v.jsx(Zy,{className:"w-2.5 h-2.5 text-black"}),W.proofPhotos.length>1&&v.jsx("span",{className:"text-[8px] font-bold text-black",children:W.proofPhotos.length})]})]}),!W.isFreeSpace&&!be&&(W.targetCount||1)>1&&v.jsxs("div",{className:Yt("absolute bottom-0.5 right-0.5 px-1 py-0.5 rounded text-[8px] font-bold",W.isCompleted?"bg-green-500/80 text-white":(W.currentCount||0)>0?"bg-amber-500/80 text-white":"bg-slate-600/80 text-slate-300"),children:[W.currentCount||0,"/",W.targetCount]})]},W.id))})})}),v.jsx("div",{className:"flex justify-center",children:v.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[520px] glass-panel p-4 flex flex-col gap-4",children:[v.jsxs("div",{className:"w-full",children:[v.jsxs("div",{className:"flex justify-between text-xs text-slate-300 mb-1.5 px-1",children:[v.jsx("span",{className:"font-semibold",children:"Progress"}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("span",{className:"font-mono text-accent-gold font-bold",children:[d,"/",ae*2+2," Bingos"]}),v.jsxs("span",{className:"font-mono text-accent-primary",children:[Math.round(Ht),"%"]})]})]}),v.jsx("div",{className:"h-3 bg-bg-dark/50 rounded-full overflow-hidden border border-white/5",children:v.jsx(Ze.div,{className:"h-full bg-gradient-to-r from-accent-primary to-accent-secondary relative",initial:{width:0},animate:{width:`${Ht}%`},transition:{duration:1,ease:"easeOut"},children:v.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[1px] bg-white/50 shadow-[0_0_10px_white]"})})})]}),v.jsx("div",{className:"flex justify-center gap-2",children:be?v.jsx(v.Fragment,{children:v.jsxs("div",{className:"flex gap-2 w-full",children:[v.jsx("button",{onClick:()=>he(!1),className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10 transition-all",children:"Cancel"}),v.jsxs("button",{onClick:()=>{C(B),he(!1)},className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 transition-all flex items-center justify-center gap-2",children:[v.jsx(ca,{size:16}),"Save Changes"]})]})}):v.jsxs("div",{className:"flex gap-2 justify-center w-full flex-wrap",children:[!y&&v.jsxs(v.Fragment,{children:[v.jsxs("button",{onClick:()=>{H([...a]),he(!0)},className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[v.jsx(wE,{size:12}),"Edit Board"]}),v.jsxs("button",{onClick:()=>{z(),ee(!0)},className:"flex-1 py-2 px-4 text-xs font-bold text-white bg-gradient-to-r from-accent-primary to-accent-secondary hover:shadow-lg hover:shadow-accent-primary/20 transition-all rounded-lg flex items-center justify-center gap-2 min-w-[120px]",children:[v.jsx(xE,{size:14}),"Go Live "]})]}),v.jsxs("button",{onClick:()=>window.print(),className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[v.jsx(K9,{size:12}),"Print Status"]})]})})]})}),v.jsx(ji,{children:p&&!Bs&&v.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:v.jsxs(Ze.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center max-w-sm w-full relative overflow-hidden border-accent-gold/30",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent-gold/10 to-transparent pointer-events-none"}),v.jsx(Ze.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"inline-block",children:v.jsx(vE,{className:"w-20 h-20 text-accent-gold mx-auto mb-4 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),v.jsx("h2",{className:"text-4xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-accent-gold via-white to-accent-secondary mb-2",children:"BINGO!"}),v.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"2026 is off to an amazing start!"}),v.jsx("button",{onClick:Gi,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-[0_0_20px_rgba(139,92,246,0.4)] transition-all transform hover:scale-105",children:"Keep Playing"})]})})}),v.jsx(ji,{children:K&&v.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:()=>ne(!1),children:v.jsxs(Ze.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-gold/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl relative overflow-hidden",onClick:W=>W.stopPropagation(),children:[v.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Edit Tile"}),v.jsx("div",{className:"mb-4 flex justify-center",children:v.jsx("div",{className:"w-32 h-32 rounded-lg bg-bg-card/80 border border-white/10 flex items-center justify-center p-2 text-center overflow-hidden",children:v.jsx("span",{className:Yt("font-hand font-semibold leading-tight break-words"),style:{color:Oe.color||"#ffffff",fontWeight:Oe.bold?"bold":"600",fontStyle:Oe.italic?"italic":"normal",fontSize:Oe.fontSize==="sm"?"12px":Oe.fontSize==="lg"?"18px":Oe.fontSize==="xl"?"22px":"16px"},children:Ge||"Preview Text"})})}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Content"}),v.jsx("textarea",{className:"w-full bg-black/20 text-white rounded-lg p-3 border border-white/10 focus:border-accent-primary outline-none min-h-[80px]",value:Ge,onChange:W=>$e(W.target.value),placeholder:"Enter bingo task..."})]}),v.jsxs("div",{className:"mb-6 space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Color"}),v.jsx("div",{className:"flex gap-2 flex-wrap",children:["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#ec4899","#a855f7"].map(W=>v.jsx("button",{className:Yt("w-6 h-6 rounded-full border border-white/10 transition-transform active:scale-90",Oe.color===W&&"ring-2 ring-white scale-110"),style:{backgroundColor:W},onClick:()=>ut(Ne=>({...Ne,color:W}))},W))})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),v.jsx("div",{className:"flex bg-black/20 rounded-lg p-1",children:["sm","base","lg","xl"].map(W=>v.jsx("button",{onClick:()=>ut(Ne=>({...Ne,fontSize:W})),className:Yt("flex-1 py-1 text-[10px] font-bold rounded transition-colors uppercase",(Oe.fontSize||"base")===W?"bg-accent-primary text-white":"text-slate-400 hover:text-white"),children:W==="base"?"M":W},W))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Style"}),v.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-lg p-1",children:[v.jsx("button",{onClick:()=>ut(W=>({...W,bold:!W.bold})),className:Yt("w-8 h-full rounded flex items-center justify-center font-bold transition-colors",Oe.bold?"bg-white text-black":"text-slate-400 hover:text-white"),children:"B"}),v.jsx("button",{onClick:()=>ut(W=>({...W,italic:!W.italic})),className:Yt("w-8 h-full rounded flex items-center justify-center italic transition-colors font-serif",Oe.italic?"bg-white text-black":"text-slate-400 hover:text-white"),children:"I"})]})]})]})]}),v.jsxs("div",{className:"space-y-4 mb-6 pt-4 border-t border-white/10",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Repeat Goal"}),v.jsx("input",{type:"number",min:"1",max:"100",value:Ve,onChange:W=>Mt(parseInt(W.target.value)||1),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors"}),v.jsx("p",{className:"text-xs text-slate-500",children:"How many times should this be completed?"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Due Date (Optional)"}),v.jsx("input",{type:"date",value:Vt,onChange:W=>Ft(W.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors [color-scheme:dark]"})]})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>ne(!1),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),v.jsx("button",{onClick:ci,className:"flex-1 py-3 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl font-bold text-white shadow-lg hover:shadow-violet-500/25 active:scale-95 transition-all",children:"Ok"})]})]})})}),v.jsx(ji,{children:Er&&On!==null&&v.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{$n(!1),ri(null)},children:v.jsx(Ze.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-primary/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl",onClick:W=>W.stopPropagation(),children:(()=>{const W=hs[On],Ne=W?.targetCount||1,ht=W?.currentCount||0,Rt=Ne>1,_t=ht>0;return v.jsxs(v.Fragment,{children:[v.jsx("h3",{className:"text-xl font-bold text-white mb-2 text-center",children:_t?"Add Progress":"Complete Task"}),v.jsxs("p",{className:"text-slate-300 text-sm text-center mb-2 line-clamp-2",children:["",W?.text,""]}),Rt&&v.jsx("div",{className:"text-center mb-4",children:v.jsxs("span",{className:Yt("inline-block px-3 py-1 rounded-full text-sm font-bold",_t?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"),children:["Progress: ",ht," / ",Ne]})}),v.jsxs("div",{className:"space-y-3",children:[v.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:jn,className:"hidden",onChange:async It=>{const Zt=It.target.files?.[0];if(Zt&&On!==null){Xt(!0);try{await D(On,Zt),$n(!1),ri(null)}catch{alert("Failed to upload photo. Please try again.")}finally{Xt(!1)}}}}),v.jsxs("button",{onClick:()=>jn.current?.click(),disabled:un,className:"w-full py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-amber-500/25 active:scale-95 transition-all disabled:opacity-50",children:[v.jsx(Zy,{size:20}),un?"Uploading...":Rt?"Add Photo & +1":"Add Photo & Complete"]}),v.jsxs("button",{onClick:()=>{f(On),$n(!1),ri(null)},disabled:un,className:"w-full py-3 px-4 bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-green-500/25 active:scale-95 transition-all disabled:opacity-50",children:[v.jsx(ca,{size:20}),Rt?`Mark +1 (${ht+1}/${Ne})`:"Mark Complete"]}),_t&&v.jsxs("button",{onClick:()=>{G(On),$n(!1),ri(null)},disabled:un,className:"w-full py-2 rounded-xl font-semibold text-red-400 hover:bg-red-500/10 transition-colors disabled:opacity-50",children:["Remove Progress (",ht-1,"/",Ne,")"]}),v.jsx("button",{onClick:()=>{$n(!1),ri(null)},disabled:un,className:"w-full py-3 rounded-xl font-semibold bg-white/5 text-slate-400 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"})]})]})})()})})}),v.jsx(ji,{children:Pt&&xt&&xt.proofPhotos&&xt.proofPhotos.length>0&&v.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{zs(!1),us(null),Ei(null)},children:v.jsxs(Ze.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-lg w-full",onClick:W=>W.stopPropagation(),children:[v.jsx("button",{onClick:()=>{zs(!1),us(null),Ei(null)},className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors z-10",children:v.jsx(fr,{size:28})}),v.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[v.jsxs("div",{className:"relative bg-black",children:[v.jsx("img",{src:xt.proofPhotos[Et],alt:`Proof photo ${Et+1}`,className:"w-full h-auto max-h-[50vh] object-contain"}),xt.proofPhotos.length>1&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>In(W=>W>0?W-1:xt.proofPhotos.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:v.jsx(yR,{size:24})}),v.jsx("button",{onClick:()=>In(W=>W<xt.proofPhotos.length-1?W+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:v.jsx(vR,{size:24})})]}),v.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/60 rounded-full text-white text-xs font-medium",children:[Et+1," / ",xt.proofPhotos.length]})]}),xt.proofPhotos.length>1&&v.jsx("div",{className:"flex gap-1 p-2 bg-bg-dark/80 overflow-x-auto",children:xt.proofPhotos.map((W,Ne)=>v.jsx("button",{onClick:()=>In(Ne),className:Yt("w-12 h-12 rounded-md overflow-hidden border-2 flex-shrink-0 transition-all",Et===Ne?"border-accent-primary":"border-transparent opacity-60 hover:opacity-100"),children:v.jsx("img",{src:W,alt:"",className:"w-full h-full object-cover"})},Ne))}),v.jsxs("div",{className:"p-4 bg-bg-dark/95",children:[v.jsx("p",{className:"text-white font-semibold mb-1",children:xt.text}),v.jsxs("p",{className:"text-slate-400 text-xs mb-4",children:["Completed by ",xt.completedBy,"  ",Yn(xt.completedAt)]}),v.jsx("div",{className:"flex gap-2 justify-center pb-1",children:["","","","","",""].map(W=>v.jsx("button",{onClick:()=>{Ln!==null&&(N(Ln,W),z())},className:"text-2xl hover:scale-125 transition-transform p-2 rounded-full hover:bg-white/10 active:scale-95",title:"React",children:W},W))})]})]}),v.jsx("div",{className:"mt-4 flex gap-2",children:xt.proofPhotos.length<5&&v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:Sr,className:"hidden",onChange:async W=>{const Ne=W.target.files?.[0];if(Ne&&Ln!==null&&xt){Kn(!0);try{const ht=await j(Ln,Ne);if(ht){const Rt=[...xt.proofPhotos||[],ht];us({...xt,proofPhotos:Rt}),In(Rt.length-1)}}catch{alert("Failed to add photo. Max 5 photos allowed.")}finally{Kn(!1),Sr.current&&(Sr.current.value="")}}}}),v.jsxs("button",{onClick:()=>Sr.current?.click(),disabled:ai,className:"flex-1 py-2 px-4 bg-accent-gold/20 text-accent-gold rounded-xl font-medium flex items-center justify-center gap-2 hover:bg-accent-gold/30 transition-colors disabled:opacity-50",children:[v.jsx(Bd,{size:18}),ai?"Adding...":`Add Photo (${xt.proofPhotos.length}/5)`]})]})}),v.jsx("button",{onClick:()=>{const W=a.findIndex(Ne=>Ne.id===xt.id);W!==-1&&f(W),zs(!1),us(null),Ei(null)},className:"mt-2 w-full py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Mark as In Progress"})]})})}),v.jsx(ji,{children:Wt&&Ls&&v.jsxs(Ze.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-slate-900 border border-white/20 text-white px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4",children:[v.jsxs("span",{children:["Marked as ",Ls.wasCompleted?"incomplete":"complete"]}),v.jsx("button",{onClick:()=>{f(Ls.index),Gn(!1)},className:"font-bold text-accent-primary hover:text-white transition-colors",children:"Undo"}),v.jsx("button",{onClick:()=>Gn(!1),className:"text-slate-400 hover:text-white",children:v.jsx(fr,{size:16})})]})}),v.jsx(ji,{children:wn&&v.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:v.jsxs(Ze.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-slate-900 border border-white/20 rounded-3xl p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 pointer-events-none",children:v.jsx(vE,{className:"w-32 h-32 text-accent-gold rotate-12"})}),v.jsxs("div",{className:"relative z-10 text-center",children:[v.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Welcome! "}),v.jsxs("p",{className:"text-slate-400 mb-8 h-12",children:[He===0&&"Tap any tile to mark it as complete.",He===1&&"Start 'Edit Mode' to add your own tasks.",He===2&&"Invite friends to play together!"]}),v.jsx("div",{className:"flex justify-center mb-8",children:v.jsx("div",{className:"w-32 h-32 bg-black/40 rounded-2xl border border-white/10 flex items-center justify-center relative",children:v.jsxs(ji,{mode:"wait",children:[He===0&&v.jsxs(Ze.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center",children:[v.jsx("div",{className:"w-16 h-16 bg-accent-primary/20 rounded-lg border border-accent-primary flex items-center justify-center",children:v.jsx(ca,{className:"w-8 h-8 text-white"})}),v.jsx(Ze.div,{animate:{scale:[1,1.2,1],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5},className:"absolute w-20 h-20 rounded-full border-2 border-white/50"})]},"step0"),He===1&&v.jsx(Ze.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:v.jsx(wE,{className:"w-12 h-12 text-blue-400"})},"step1"),He===2&&v.jsx(Ze.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:v.jsx(nd,{className:"w-12 h-12 text-green-400"})},"step2")]})})}),v.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[0,1,2].map(W=>v.jsx("div",{className:Yt("w-2 h-2 rounded-full transition-colors",W===He?"bg-white":"bg-white/20")},W))}),v.jsx("button",{onClick:Ti,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-slate-200 transition-colors",children:He===2?"Let's Play!":"Next"})]})]})})})]}),v.jsxs("div",{className:"only-print hidden",children:[v.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-black pb-2",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("img",{src:"/logo.png",className:"h-12 w-auto",alt:"Logo"}),v.jsx("h1",{className:"text-2xl font-bold",children:de||"2026 Edition"})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("p",{className:"text-xs uppercase tracking-widest mb-0.5",children:["Status Report (",ae,"",ae,")"]}),v.jsxs("p",{className:"text-xl font-bold",children:[d," / ",ae*2+2," Bingos"]})]})]}),v.jsx("div",{className:`grid gap-0 border-2 border-black ${ae===3?"grid-cols-3":ae===4?"grid-cols-4":ae===5?"grid-cols-5":"grid-cols-6"}`,children:a.map(W=>v.jsxs("div",{className:"aspect-square border border-black p-1.5 flex flex-col justify-between relative overflow-hidden min-h-[80px]",children:[v.jsx("div",{className:`font-bold leading-tight z-10 ${ae>=5?"text-[10px]":"text-[11px]"}`,children:W.text}),W.isCompleted&&!W.isFreeSpace&&v.jsxs("div",{className:"mt-0.5 relative z-10",children:[v.jsx("div",{className:"text-[7px] uppercase font-bold text-slate-700",children:"Completed by:"}),v.jsx("div",{className:"text-[9px] font-mono font-bold leading-none",children:W.completedBy||"User"}),v.jsx("div",{className:"text-[7px] text-slate-600 mt-0.5",children:Yn(W.completedAt)})]}),W.isCompleted&&v.jsx("div",{className:"absolute bottom-1 right-1 text-3xl font-bold text-slate-200 opacity-60 pointer-events-none z-0",children:""}),W.isFreeSpace&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-xl rotate-[-45deg] opacity-20",children:"FREE"})]},W.id))}),v.jsxs("div",{className:"mt-4 text-[9px] text-center border-t border-black pt-2 flex justify-between text-slate-500",children:[v.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),v.jsx("span",{children:"bingo.mysunsar.com"})]})]}),v.jsx(rB,{items:a,isOpen:So,onClose:()=>oi(!1)}),O&&v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>E(!1)}),v.jsxs("div",{className:"relative w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[v.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[v.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[v.jsx(nd,{className:"w-5 h-5 text-accent-primary"}),"Shared With"]}),v.jsx("button",{onClick:()=>E(!1),className:"text-slate-400 hover:text-white",children:v.jsx(fr,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"p-6",children:[ye.length===0?v.jsx("div",{className:"text-center text-slate-400 py-8",children:v.jsx("p",{children:"This board hasn't been shared yet."})}):v.jsx("div",{className:"space-y-4 mb-6",children:ye.map(W=>v.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-3 rounded-xl border border-white/5",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:W.name.charAt(0)}),v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-semibold text-white",children:W.name}),v.jsxs("div",{className:"text-xs text-slate-400",children:[W.email,"  ",W.role]})]})]}),v.jsx("button",{onClick:()=>cs(W.id,W.name),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove User",children:v.jsx(wR,{size:16})})]},W.id))}),v.jsxs("button",{onClick:Us,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all flex items-center justify-center gap-2",children:[v.jsx(Bd,{size:18}),"Invite New User"]})]})]})]}),F&&v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>ee(!1)}),v.jsxs("div",{className:"relative w-full max-w-sm bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[v.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center bg-gradient-to-r from-accent-primary/10 to-accent-secondary/10",children:[v.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[v.jsx(xE,{className:"w-5 h-5 text-accent-primary"}),"Ready to Go Live?"]}),v.jsx("button",{onClick:()=>ee(!1),className:"text-slate-400 hover:text-white",children:v.jsx(fr,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"p-6",children:[v.jsxs("p",{className:"text-slate-300 mb-6 leading-relaxed",children:["Going live will ",v.jsx("strong",{children:"lock the board"})," for play mode. You won't be able to edit items easily anymore."]}),v.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mb-6 cursor-pointer hover:bg-white/10 transition-colors",onClick:()=>pe(!ie),children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:`mt-1 w-5 h-5 rounded border flex items-center justify-center transition-colors ${ie?"bg-accent-primary border-accent-primary":"border-slate-500"}`,children:ie&&v.jsx(ca,{size:14,className:"text-white"})}),v.jsxs("div",{children:[v.jsx("div",{className:"font-semibold text-white",children:"Shuffle Items?"}),v.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Randomize the grid arrangement one last time before locking."})]})]})}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>ee(!1),className:"flex-1 py-3 bg-slate-800 text-slate-300 font-bold rounded-xl hover:bg-slate-700 transition-colors",children:"Cancel"}),v.jsxs("button",{onClick:qs,className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary text-white font-bold rounded-xl hover:shadow-lg hover:shadow-accent-primary/20 transition-all flex items-center justify-center gap-2",children:[v.jsx(j9,{size:16}),"Lock & Play"]})]})]})]})]})]})})},oB=()=>{const{user:t,logout:e}=Gl(),n=TR(),{openSettings:s}=rh(),a=Ou(),[l,u]=I.useState([]),[f,p]=I.useState(!0),[d,y]=I.useState(!1),[b,x]=I.useState(null),[C,D]=I.useState(5),[j,N]=I.useState(null),[G,Q]=I.useState(""),Y=(P,M)=>{P.preventDefault(),P.stopPropagation(),N(M.id),Q(M.title)},de=async P=>{if(P.preventDefault(),P.stopPropagation(),!!j){try{await ni(is(Bn,"boards",j),{title:G}),u(M=>M.map(be=>be.id===j?{...be,title:G}:be))}catch(M){console.error("Error updating title:",M)}N(null)}},ae=P=>{P.preventDefault(),P.stopPropagation(),N(null)},ge=P=>{P.key==="Enter"?de(P):P.key==="Escape"?(P.stopPropagation(),N(null)):P.stopPropagation()},k=[{size:3,label:"33",description:"Quick (9 tiles)",icon:""},{size:4,label:"44",description:"Compact (16 tiles)",icon:""},{size:5,label:"55",description:"Classic (25 tiles)",icon:""},{size:6,label:"66",description:"Extended (36 tiles)",icon:""}],S={blank:{name:"Blank Canvas ",items:[]},default:{name:"2026 Goals ",items:["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"]},fitness:{name:"Fitness Challenge ",items:["Run a 5k","Do 50 pushups in a row","Try a yoga class","Drink 3L water for a week","No sugar for 7 days","Go for a hike","Meal prep for a week","Climb a bouldering wall","Try Pilates","Walk 15k steps in a day","Do a spin class","Bike 20km","FREE SPACE","Touch your toes","Hold a plank for 2 min","Try CrossFit","Go swimming","Meditate for 10 mins x 7","Try a new sport","Sleep 8 hours x 5 days","Do 100 squats","Run a 10k","Go to the gym 4x in a week","Stretch daily for a week","Join a run club"]},couples:{name:"Couple Goals ",items:["Date night (no phones)","Cook a meal together","Weekend getaway","Watch a whole series","Breakfast in bed","Go for a long walk","Plan a future trip","Give each other massages","Recreate first date","Take a dance class","Stargazing date","Write love letters","FREE SPACE","Visit a winery/brewery","Do a puzzle together","Double date","Sunset picnic","Bake something sweet","Volunteer together","Learn a couple's skill","Game night","Make a photo album","Try a new restaurant","Surprise gift","Kiss in the rain"]},personal:{name:"Personal Growth ",items:["Read 1 book/month","Learn a new language","Start a journal","Digital detox (24h)","Meditate daily (1 week)","Drink 2L water daily","Wake up at 6am (1 week)","Declutter a room","Learn to invest","Take a solo trip","Volunteer","Compliment a stranger","FREE SPACE","No social media (weekend)","Learn an instrument","Cook a new cuisine","Write a gratitude list","Take a cold shower","Listen to a podcast","Fix sleep schedule","Walk 10k steps","Call an old friend","Create a vision board","Save 10% income","Take a course"]},knitting:{name:"Knitting Goals ",items:["Finish a WIP","Cast on a sweater","Learn brioche","Knit socks","Stash bust project","Try colorwork","Knit a hat","Use luxury yarn","Fix a mistake","Knit a gift","Block a project","Organize needles","FREE SPACE","Try a new fiber","Knit in public","Attend a knit night","Learn magic loop","Design a pattern","Teach someone to knit","Finish a blanket","Knit a shawl","Try cables","Buy souvenir yarn","Weave in ends immediately","Knit a gauge swatch"]},weaving:{name:"Weaving Goals ",items:["Warp the loom","Weave a rug","Try a new structure","Sample a pattern","Use handspun yarn","Finish a scarf","Hemstitching","Fix a broken warp","Weave a towel","Try tapestry","Mix fibers","Organize yarn stash","FREE SPACE","Weave a placemat","Attend a workshop","Try doublewidth","Weave transparency","Calculate warp correctly","Finish raw edges","Weave with rags","Try tablet weaving","Rigid heddle project","Floor loom project","Visit a mill","Share a project online"]},spinning:{name:"Spinning Goals ",items:["Spin 100g fiber","Ply a yarn","Try a new breed","Spin lace weight","Spin art yarn","Comb fleece","Card a batt","Spin on a drop spindle","Clean the wheel","Spin distinct colors","Skein and wash","Fractal spin","FREE SPACE","Spin silk","Spin cotton","Navajo ply","Spin for a project","Participate in Tour de Fleece","Sample a blend","Teach spinning","Spin consistent grist","Dye fiber","Blend colors on hackle","Spin exotic fiber","Fill a bobbin"]},painting:{name:"Painting Goals ",items:["Paint a landscape","Try watercolors","Paint a portrait","Mix a new color","Paint en plein air","Visit a gallery","Finish a sketchbook","Try oils","Paint a still life","Use a palette knife","Paint an animal","Try abstract","FREE SPACE","Clean brushes properly","Paint on canvas","Paint on wood","Follow a tutorial","Paint a sky","Try gouache","Varnish a painting","Frame a piece","Paint daily for a week","Recreate a master","Paint a self-portrait","Host a paint night"]},corporate:{name:"Corporate Bingo ",items:['"Circle back"',`"Let's take this offline"`,"Meeting that could be an email",'"Synergy"','"Low hanging fruit"','"Touch base"',"Someone forgets to mute","Screen share fails",'"Can you see my screen?"',"Awkward silence",'"Bandwidth"','"Deep dive"',"FREE SPACE","Pet interrupts video call","Echo on the line",'"Per my last email"','"Drill down"','"Out of pocket"','"Hard stop"','"Boil the ocean"',"Reply All disaster",'"Move the needle"','"Blue sky thinking"','"Paradigm shift"','"Quick win"']},travel:{name:"Travel Bucket List ",items:["Visit a new continent","Go on a solo trip","See the Northern Lights","Swim in an ocean","Road trip across 3 states","Fly First Class","Visit a National Park","Eat street food","Stay in a hostel","Learn 'Hello' in 5 languages","Visit a Wonder of the World","Go on a cruise","FREE SPACE","Make a travel vlog","Sleep under the stars","Visit a castle","Ride a train","See a volcano","Go scuba diving","Watch a sunrise on a mountain","Visit a winery","Ride a camel/elephant","Go skiing/snowboarding","Visit a tropical island","Send a postcard"]}};I.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching boards for user:",t.uid,t.email);const M=new Map;try{const ne=Cd(gl(Bn,"boards"),Rd(`members.${t.uid}`,"in",["owner","editor","viewer"])),O=await gu(ne);console.log("Boards with membership found:",O.docs.length),O.docs.forEach(E=>{const F=E.data(),ee=F.members?.[t.uid],ie=F.members||{},pe=Object.values(ie).filter(ye=>ye!=="owner").length;M.set(E.id,{id:E.id,...F,sharedCount:pe,myRole:ee,members:ie})})}catch(ne){console.error("Error querying boards by membership:",ne)}try{const ne=Cd(gl(Bn,"years"),Rd("ownerId","==",t.uid)),O=await gu(ne);console.log("Legacy boards (years collection) found:",O.docs.length),O.docs.forEach(E=>{const F=E.data();M.set(`legacy_${E.id}`,{id:E.id,title:F.title||"2026 Bingo",createdAt:F.createdAt,isLocked:F.isLocked,ownerId:F.ownerId,myRole:"owner",members:{}})})}catch(ne){console.log("Years collection query failed:",ne)}try{const ne=await gu(gl(Bn,"years"));console.log("All years docs:",ne.docs.length),ne.docs.forEach(O=>{const E=O.data();if(E.ownerId===t.uid||E.members?.[t.uid]){const F=`legacy_years_${O.id}`;M.has(F)||M.set(F,{id:O.id,title:E.title||`${O.id} Bingo`,createdAt:E.createdAt,isLocked:E.isLocked,ownerId:E.ownerId,myRole:E.ownerId===t.uid?"owner":E.members?.[t.uid]||"viewer",members:E.members||{}})}})}catch(ne){console.log("Direct years fetch failed:",ne)}const be=Array.from(M.values()),he=new Set;be.forEach(ne=>{ne.myRole!=="owner"&&(ne.ownerId&&ne.ownerId!==t.uid&&he.add(ne.ownerId),ne.members&&Object.entries(ne.members).forEach(([O,E])=>{E==="owner"&&O!==t.uid&&he.add(O)}))});const B=Array.from(he),H={};for(const ne of B)try{const O=await Ju(is(Bn,"users",ne));if(O.exists()){const E=O.data();H[ne]=E.displayName||E.email||"Unknown"}}catch{console.log("Could not fetch owner info for:",ne)}const K=be.map(ne=>{let O=ne.ownerId;if(ne.members){const E=Object.keys(ne.members).find(F=>ne.members[F]==="owner"&&F!==t.uid);E&&(O=E)}return ne.myRole!=="owner"&&O&&H[O]?{...ne,ownerName:H[O]}:ne});console.log("Total boards to display:",K.length,K.map(ne=>ne.title)),u(K)}catch(M){console.error("Error fetching boards:",M)}finally{p(!1)}})()},[t]);const V=async P=>{if(!t)return;const M=S[P],be=C,he=be*be,B=be%2===1?Math.floor(he/2):-1,H=be%2===1?he-1:he,K=await n.prompt("What would you like to call this board?",{title:"Board Title",inputDefaultValue:M.name,confirmText:"Create"});if(K)try{const ne=M.items.filter(ie=>ie.trim().toUpperCase()!=="FREE SPACE"&&ie!=="FREE SPACE"),O=[...ne].sort(()=>.5-Math.random());for(;O.length<H;)O.push(ne[O.length%ne.length]||`Goal ${O.length+1}`);const E=[];let F=0;for(let ie=0;ie<he;ie++)ie===B&&be%2===1?E.push({id:ie,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(E.push({id:ie,text:O[F],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),F++);const ee=await SC(gl(Bn,"boards"),{title:K,gridSize:be,ownerId:t.uid,members:{[t.uid]:"owner"},items:E,createdAt:Fe.now(),isLocked:!1,lastUpdated:Fe.now()});a(`/board/${ee.id}`)}catch(ne){console.error("Error creating board:",ne),await n.alert("Failed to create board. Please try again.",{title:"Error",type:"error"})}finally{y(!1),x(null),D(5)}};if(f)return v.jsx("div",{className:"min-h-screen bg-bg-dark flex items-center justify-center text-white",children:"Loading Dashboard..."});const z=async(P,M,be)=>{if(P.stopPropagation(),await n.confirm(`This will permanently delete "${be}" and all its data.

This action cannot be undone.`,{title:"Delete Board?",confirmText:"Delete",type:"error"}))try{await EC(is(Bn,"boards",M)),u(B=>B.filter(H=>H.id!==M)),await n.alert("Board deleted successfully.",{title:"Deleted",type:"success"})}catch(B){console.error("Error deleting board:",B),await n.alert("Failed to delete board. Please try again.",{title:"Error",type:"error"})}},U=async(P,M,be)=>{if(P.stopPropagation(),!t)return;if(await n.confirm(`You will no longer have access to "${be}".

You can ask the owner to re-share it if needed.`,{title:"Leave Board?",confirmText:"Leave",type:"warning"}))try{await ni(is(Bn,"boards",M),{[`members.${t.uid}`]:Ad()}),u(B=>B.filter(H=>H.id!==M)),await n.alert("You have left the board.",{title:"Left Board",type:"success"})}catch(B){console.error("Error leaving board:",B),await n.alert("Failed to leave board. Please try again.",{title:"Error",type:"error"})}};return v.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 relative",children:[v.jsxs("div",{className:"max-w-6xl mx-auto",children:[v.jsxs("header",{className:"flex justify-between items-center mb-12 py-2",children:[v.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-10 sm:h-12 w-auto object-contain cursor-pointer active:scale-95 transition-transform"}),v.jsxs("div",{className:"flex gap-2 items-center",children:[v.jsx("button",{onClick:()=>a("/help"),className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Help Guide",children:v.jsx(Vv,{size:20})}),v.jsx("button",{onClick:s,className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Settings",children:v.jsx(Ov,{size:20})}),v.jsx("button",{onClick:e,className:"bg-white/5 hover:bg-white/10 px-4 py-2 rounded-xl text-sm font-semibold transition-colors border border-white/10 hover:border-white/20",children:"Logout"})]})]}),v.jsxs("div",{className:"mb-10",children:[v.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:["My ",v.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent italic",children:"Boards"})]}),v.jsxs("p",{className:"text-slate-400 mt-2 text-base sm:text-lg",children:["Welcome back, ",v.jsx("span",{className:"text-accent-primary font-medium",children:t?.displayName?.split(" ")[0]||"Bingo Player"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[v.jsxs("button",{onClick:()=>y(!0),className:"group relative flex flex-col items-center justify-center h-48 rounded-2xl border-2 border-dashed border-slate-700 bg-white/5 hover:bg-white/10 hover:border-accent-primary transition-all cursor-pointer",children:[v.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-primary/20 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:v.jsx(Bd,{className:"w-6 h-6 text-accent-primary"})}),v.jsx("span",{className:"font-semibold text-slate-300 group-hover:text-white",children:"Create New Board"})]}),l.filter(P=>P.myRole==="owner").map(P=>{const be=P.id==="2026"||!P.ownerId?`/board/legacy/${P.id}`:`/board/${P.id}`;return v.jsxs("div",{onClick:he=>{he.preventDefault(),console.log("Navigating to board:",be),a(be)},className:"group relative h-48 rounded-2xl bg-gradient-to-br from-slate-800 to-slate-900 border border-white/10 hover:border-accent-primary/50 p-6 flex flex-col justify-between cursor-pointer transition-all hover:translate-y-[-4px] hover:shadow-xl overflow-hidden active:scale-[0.99]",children:[v.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:v.jsx("button",{onClick:he=>z(he,P.id,P.title),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Delete Board",children:v.jsx(wR,{size:18})})}),v.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"h-7 mb-2",children:!!P.sharedCount&&P.sharedCount>0&&v.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:[v.jsx(rz,{size:10}),"Shared with ",P.sharedCount]})}),j===P.id?v.jsxs("div",{className:"flex items-center gap-2 mb-1.5 z-30 relative",onClick:he=>he.stopPropagation(),children:[v.jsx("input",{type:"text",value:G,onChange:he=>Q(he.target.value),onKeyDown:ge,onClick:he=>he.stopPropagation(),autoFocus:!0,className:"bg-black/50 text-white font-bold text-xl rounded px-2 py-0.5 border border-accent-primary outline-none min-w-0 flex-1 w-full"}),v.jsx("button",{onClick:de,className:"p-1 text-green-400 hover:bg-green-400/20 rounded-full transition-colors",children:v.jsx(ca,{size:18})}),v.jsx("button",{onClick:ae,className:"p-1 text-red-400 hover:bg-red-400/20 rounded-full transition-colors",children:v.jsx(fr,{size:18})})]}):v.jsxs("div",{className:"flex items-start gap-2 pr-8 mb-1.5",children:[v.jsx("h3",{className:"text-xl font-bold text-white line-clamp-2 group-hover:text-accent-primary transition-colors",children:P.title}),v.jsx("button",{onClick:he=>Y(he,P),className:"opacity-0 group-hover:opacity-100 text-slate-400 hover:text-white p-1.5 rounded-full hover:bg-white/10 transition-all z-20",title:"Rename Board",children:v.jsx(H9,{size:14})})]}),v.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[v.jsx(zd,{className:"w-3.5 h-3.5"}),P.createdAt?.toDate?P.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),v.jsx("div",{className:"mt-4",children:v.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-primary/10 text-accent-primary border border-accent-primary/20 group-hover:bg-accent-primary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},P.id)})]}),l.filter(P=>P.myRole!=="owner").length>0&&v.jsxs(v.Fragment,{children:[v.jsxs("h2",{className:"text-xl font-bold text-white mt-10 mb-6 flex items-center gap-2",children:[v.jsx("span",{className:"bg-gradient-to-r from-accent-secondary to-pink-500 bg-clip-text text-transparent",children:"Shared With Me"}),v.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",l.filter(P=>P.myRole!=="owner").length,")"]})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.filter(P=>P.myRole!=="owner").map(P=>{const be=P.id==="2026"||!P.ownerId?`/board/legacy/${P.id}`:`/board/${P.id}`;return v.jsxs("div",{onClick:he=>{he.preventDefault(),console.log("Navigating to shared board:",be),a(be)},className:"group relative h-48 rounded-2xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-white/10 hover:border-accent-secondary/50 p-6 flex flex-col justify-between cursor-pointer transition-all hover:translate-y-[-4px] hover:shadow-xl overflow-hidden active:scale-[0.99]",children:[v.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity pointer-events-none",children:v.jsx(Pv,{className:"w-24 h-24"})}),v.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:v.jsx("button",{onClick:he=>U(he,P.id,P.title),className:"p-2 text-slate-500 hover:text-amber-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Leave Board",children:v.jsx(bR,{size:18})})}),v.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"h-7 mb-2",children:v.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${P.myRole==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:P.myRole==="editor"?" Editor":" Viewer"})}),v.jsx("h3",{className:"text-xl font-bold text-white mb-1 line-clamp-1 pr-8",children:P.title}),P.ownerName&&v.jsxs("div",{className:"text-xs text-slate-500 mb-1.5",children:["Shared by ",v.jsx("span",{className:"text-slate-400",children:P.ownerName})]}),v.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[v.jsx(zd,{className:"w-3.5 h-3.5"}),P.createdAt?.toDate?P.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),v.jsx("div",{className:"mt-4",children:v.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-secondary/10 text-accent-secondary border border-accent-secondary/20 group-hover:bg-accent-secondary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},P.id)})})]})]}),d&&v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{b?x(null):y(!1)}}),v.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[v.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center shrink-0",children:[v.jsx("h2",{className:"text-xl font-bold text-white",children:b?S[b].name:"Choose a Template"}),v.jsx("button",{onClick:()=>{b?x(null):y(!1)},className:"text-slate-400 hover:text-white",children:v.jsx(Bd,{className:"w-6 h-6 rotate-45"})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:b?v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Grid Size"}),v.jsx("div",{className:"grid grid-cols-4 gap-2",children:k.map(({size:P,label:M,icon:be})=>v.jsxs("button",{onClick:()=>D(P),className:`p-3 rounded-xl border text-center transition-all ${C===P?"bg-accent-primary/20 border-accent-primary text-white":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10 hover:text-white"}`,children:[v.jsx("span",{className:"text-lg block",children:be}),v.jsx("span",{className:"font-bold text-sm",children:M}),v.jsxs("span",{className:"text-[10px] block opacity-70",children:[P*P," tiles"]})]},P))})]}),v.jsx("div",{className:"flex justify-center",children:v.jsx("div",{className:`aspect-square w-full max-w-[380px] grid gap-1.5 p-3 bg-slate-950/50 rounded-xl border border-white/10 ${C===3?"grid-cols-3":C===4?"grid-cols-4":C===5?"grid-cols-5":"grid-cols-6"}`,children:(()=>{const P=C*C,M=C%2===1?Math.floor(P/2):-1,be=S[b].items.filter(he=>he.trim().toUpperCase()!=="FREE SPACE");return Array.from({length:P},(he,B)=>{const H=B===M&&C%2===1,K=B<M||M===-1?B:B-1,ne=H?"FREE":be[K%be.length]||`Goal ${B+1}`;return v.jsx("div",{className:`
                                                                relative rounded-lg flex items-center justify-center p-1 text-center select-none overflow-hidden 
                                                                ${C<=4?"text-[9px] sm:text-[11px]":"text-[7px] sm:text-[9px]"}
                                                                leading-tight font-medium border shadow-sm
                                                                ${H?"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold":"bg-white/5 border-white/10 text-slate-300"}
                                                            `,children:v.jsx("span",{className:"line-clamp-2",children:ne})},B)})})()})}),v.jsxs("div",{className:"flex gap-3 pt-4",children:[v.jsx("button",{onClick:()=>x(null),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Back"}),v.jsxs("button",{onClick:()=>V(b),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all",children:["Create ",C,"",C," Board"]})]})]}):v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(S).map(([P,M])=>v.jsxs("button",{onClick:()=>x(P),className:"flex flex-col items-start p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent-primary/50 transition-all text-left group",children:[v.jsx("h3",{className:"font-bold text-white group-hover:text-accent-primary transition-colors",children:M.name}),v.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click to preview"})]},P))})})]})]})]})},lB=()=>{const{settings:t}=rh(),e=I.useRef(null),n=I.useRef(null),s=I.useRef([]),a=I.useMemo(()=>{switch(t.theme){case"midnight":return{type:"stars",particleCount:150,baseColor:"rgba(100, 150, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #0a1628 0%, #020617 50%, #000 100%)",shootingStars:!0};case"forest":return{type:"leaves",particleCount:40,baseColor:"rgba(100, 200, 120, ",bgGradient:"radial-gradient(ellipse at 30% 80%, #0a3d1a 0%, #052e16 50%, #021a09 100%)",shootingStars:!1};case"ocean":return{type:"bubbles",particleCount:60,baseColor:"rgba(100, 220, 255, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #0c4a5e 0%, #083344 50%, #041825 100%)",shootingStars:!1};case"sunset":return{type:"embers",particleCount:50,baseColor:"rgba(255, 150, 80, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #4a1a00 0%, #2a0a0a 50%, #1a0505 100%)",shootingStars:!1};default:return{type:"aurora",particleCount:80,baseColor:"rgba(180, 120, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1a1040 0%, #0f111a 50%, #0a0b10 100%)",shootingStars:!1}}},[t.theme]);return I.useEffect(()=>{const l=e.current;if(!l)return;const u=()=>{const p=[];for(let d=0;d<a.particleCount;d++)p.push(cB(l.width,l.height,a.type));s.current=p},f=()=>{l.width=window.innerWidth,l.height=window.innerHeight,u()};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[a]),I.useEffect(()=>{if(t.enableAnimation===!1)return;const l=e.current;if(!l)return;const u=l.getContext("2d");if(!u)return;let f=0,p=null;const d=()=>{u.clearRect(0,0,l.width,l.height),s.current.forEach(y=>{uB(y,l.width,l.height,a.type),hB(u,y,a)}),a.shootingStars&&(f++,f>300&&Math.random()<.01&&(p={x:Math.random()*l.width,y:Math.random()*l.height*.5,length:80+Math.random()*40,speed:15+Math.random()*10,opacity:1},f=0),p&&(u.beginPath(),u.strokeStyle=`rgba(255, 255, 255, ${p.opacity})`,u.lineWidth=2,u.moveTo(p.x,p.y),u.lineTo(p.x-p.length,p.y-p.length*.3),u.stroke(),p.x+=p.speed,p.y+=p.speed*.3,p.opacity-=.02,p.opacity<=0&&(p=null))),n.current=requestAnimationFrame(d)};return d(),()=>{n.current&&cancelAnimationFrame(n.current)}},[t.enableAnimation,a]),v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 z-[-2] transition-all duration-1000",style:{background:a.bgGradient}}),v.jsx("canvas",{ref:e,className:"fixed inset-0 z-[-1] pointer-events-none",style:{opacity:t.enableAnimation===!1?0:.8}}),v.jsxs("div",{className:"fixed inset-0 z-[-1] pointer-events-none overflow-hidden",children:[v.jsx("div",{className:`absolute w-[600px] h-[600px] rounded-full blur-[120px] animate-float-slow ${t.theme==="midnight"?"bg-blue-500/10":t.theme==="forest"?"bg-green-500/10":t.theme==="ocean"?"bg-cyan-500/10":t.theme==="sunset"?"bg-orange-500/10":"bg-purple-500/10"}`,style:{top:"-15%",left:"-10%"}}),v.jsx("div",{className:`absolute w-[500px] h-[500px] rounded-full blur-[100px] animate-float-slower ${t.theme==="midnight"?"bg-indigo-500/10":t.theme==="forest"?"bg-emerald-500/10":t.theme==="ocean"?"bg-teal-500/10":t.theme==="sunset"?"bg-rose-500/10":"bg-pink-500/10"}`,style:{bottom:"-10%",right:"-5%"}})]})]})};function cB(t,e,n){const s={x:Math.random()*t,y:Math.random()*e,opacity:Math.random()*.5+.2};switch(n){case"stars":return{...s,size:Math.random()*2+.5,speedX:0,speedY:0,opacity:Math.random()*.8+.2};case"leaves":return{...s,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.8+.3,hue:Math.random()*40+80};case"bubbles":return{...s,size:Math.random()*8+2,speedX:Math.random()*.3-.15,speedY:-(Math.random()*.8+.3)};case"embers":return{...s,size:Math.random()*3+1,speedX:Math.random()*.4-.2,speedY:-(Math.random()*1+.5),hue:Math.random()*30+15};default:return{...s,size:Math.random()*4+1,speedX:Math.random()*.3-.15,speedY:Math.random()*.2-.1,hue:Math.random()*60+240}}}function uB(t,e,n,s){t.x+=t.speedX,t.y+=t.speedY,s==="stars"&&(t.opacity+=(Math.random()-.5)*.05,t.opacity=Math.max(.1,Math.min(1,t.opacity))),t.x<0&&(t.x=e),t.x>e&&(t.x=0),t.y<0&&(t.y=n),t.y>n&&(t.y=0)}function hB(t,e,n){switch(t.beginPath(),n.type){case"stars":t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill(),e.opacity>.7&&(t.beginPath(),t.fillStyle=`rgba(200, 220, 255, ${e.opacity*.3})`,t.arc(e.x,e.y,e.size*3,0,Math.PI*2),t.fill());break;case"leaves":t.fillStyle=`hsla(${e.hue}, 60%, 50%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.5,e.x*.01,0,Math.PI*2),t.fill();break;case"bubbles":t.strokeStyle=n.baseColor+`${e.opacity})`,t.lineWidth=1,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.stroke(),t.beginPath(),t.fillStyle=`rgba(255, 255, 255, ${e.opacity*.5})`,t.arc(e.x-e.size*.3,e.y-e.size*.3,e.size*.2,0,Math.PI*2),t.fill();break;case"embers":const s=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size);s.addColorStop(0,`hsla(${e.hue}, 100%, 70%, ${e.opacity})`),s.addColorStop(1,`hsla(${e.hue}, 100%, 50%, 0)`),t.fillStyle=s,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill();break;default:const a=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size*2);a.addColorStop(0,`hsla(${e.hue}, 80%, 60%, ${e.opacity})`),a.addColorStop(1,`hsla(${e.hue}, 80%, 60%, 0)`),t.fillStyle=a,t.arc(e.x,e.y,e.size*2,0,Math.PI*2),t.fill();break}}const iu=({title:t,icon:e,children:n,delay:s=0})=>v.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s},className:"bg-white/5 border border-white/10 rounded-2xl p-6 backdrop-blur-sm hover:bg-white/10 transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx("div",{className:"p-2 bg-accent-primary/20 rounded-lg text-accent-primary",children:v.jsx(e,{size:24})}),v.jsx("h3",{className:"text-xl font-bold text-white",children:t})]}),v.jsx("div",{className:"text-slate-300 space-y-3 leading-relaxed",children:n})]}),ty=({number:t,title:e,text:n})=>v.jsxs("div",{className:"flex gap-4",children:[v.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-slate-800 border border-white/20 flex items-center justify-center font-bold text-sm text-white",children:t}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-white mb-1",children:e}),v.jsx("p",{className:"text-sm text-slate-400",children:n})]})]}),fB=()=>{const t=Ou();return v.jsx("div",{className:"min-h-screen bg-transparent text-white p-6 relative overflow-x-hidden",children:v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsxs(Ze.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t("/dashboard"),className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors mb-8 group",children:[v.jsx(b9,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),v.jsxs("div",{className:"text-center mb-16",children:[v.jsx(Ze.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-accent-primary to-accent-secondary mb-6 shadow-2xl shadow-accent-primary/20",children:v.jsx(Ud,{size:40,className:"text-white"})}),v.jsxs(Ze.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl sm:text-5xl font-extrabold mb-4",children:["How to ",v.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:"Bingo"})]}),v.jsx(Ze.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-xl text-slate-400 max-w-2xl mx-auto",children:"Your complete guide to mastering the art of 2026 Bingo. Turn your goals into a game!"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-24",children:[v.jsxs(iu,{title:"Getting Started",icon:_R,delay:.3,children:[v.jsx("p",{children:"Welcome to your digital accountability partner! The app is designed to make achieving your 2026 goals fun and social."}),v.jsxs("div",{className:"mt-4 space-y-4",children:[v.jsx(ty,{number:1,title:"Sign Up",text:"You're already here! Your account is safe with us."}),v.jsx(ty,{number:2,title:"Create a Board",text:"Choose a template or start from scratch."}),v.jsx(ty,{number:3,title:"Invite Friends",text:"Everything is better together."})]})]}),v.jsxs(iu,{title:"Creating Boards",icon:Pv,delay:.4,children:[v.jsx("p",{children:"Your board is your battlefield. You can customize it to fit your exact needs."}),v.jsxs("div",{className:"mt-4 bg-black/20 rounded-xl p-4 border border-white/5",children:[v.jsxs("h4",{className:"font-semibold text-accent-gold mb-2 flex items-center gap-2",children:[v.jsx(V9,{size:16})," Pro Tips:"]}),v.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-slate-400",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"3x3 Grid:"})," Quick, focused mini-goals."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"5x5 Grid:"})," The classic Bingo experience."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Templates:"})," We have pre-made ideas for inspiration!"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Shuffle:"})," Don't like the layout? Hit shuffle before locking."]})]})]})]}),v.jsxs(iu,{title:"Playing the Game",icon:TE,delay:.5,children:[v.jsx("p",{children:"Once your board is finalized, the fun begins. Tap a tile to interact with it."}),v.jsxs("div",{className:"space-y-3 mt-4",children:[v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(Zy,{className:"text-accent-secondary shrink-0 mt-1",size:18}),v.jsxs("div",{children:[v.jsx("span",{className:"text-white font-medium",children:"Add Proof:"}),v.jsx("p",{className:"text-sm",children:'Upload a photo to mark a tile as "In Progress" or "Completed".'})]})]}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(TE,{className:"text-green-400 shrink-0 mt-1",size:18}),v.jsxs("div",{children:[v.jsx("span",{className:"text-white font-medium",children:"Mark Complete:"}),v.jsx("p",{className:"text-sm",children:`Tap "Mark Complete" when you're done. Watch the tile light up!`})]})]})]})]}),v.jsxs(iu,{title:"Shared Boards",icon:nd,delay:.6,children:[v.jsx("p",{children:"Compete or collaborate with friends on the same board."}),v.jsxs("div",{className:"mt-4 space-y-2 text-sm",children:[v.jsxs("p",{children:[" ",v.jsx("strong",{children:"Invite Users:"})," Click the share icon and add friends by email."]}),v.jsxs("p",{children:[" ",v.jsx("strong",{children:"Competition:"})," See who completes tiles first. The tile will show the name of the winner!"]}),v.jsxs("p",{children:[" ",v.jsx("strong",{children:"Live Updates:"})," Watch changes happen in real-time."]})]})]}),v.jsxs(iu,{title:"Advanced Features",icon:Ov,delay:.7,children:[v.jsx("p",{children:"Customize your experience in the settings menu."}),v.jsxs("ul",{className:"mt-2 space-y-2 text-sm text-slate-400",children:[v.jsxs("li",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary"}),"Toggle sound effects on/off"]}),v.jsxs("li",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary"}),"Switch dynamic backgrounds"]}),v.jsxs("li",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary"}),"Edit incomplete boards anytime"]})]})]}),v.jsx("div",{className:"md:col-span-2 mt-8",children:v.jsxs("div",{className:"bg-gradient-to-r from-accent-primary/10 to-accent-secondary/10 border border-white/10 rounded-2xl p-8 text-center relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-accent-primary to-accent-secondary"}),v.jsx(Vv,{className:"w-12 h-12 text-white mx-auto mb-4 opacity-80"}),v.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Ready to start?"}),v.jsx("p",{className:"text-slate-400 mb-6",children:"Create your first board and start your journey."}),v.jsx("button",{onClick:()=>t("/dashboard"),className:"px-8 py-3 bg-white text-bg-dark font-bold rounded-xl hover:bg-slate-200 transition-colors shadow-lg shadow-white/10",children:"Go to Dashboard"})]})})]})]})})},dB=()=>{const{user:t,loading:e}=Gl();return e?v.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-bg-dark text-slate-500",children:"Initializing..."}):t?v.jsxs(v.Fragment,{children:[v.jsx(lB,{}),v.jsx($k,{children:v.jsxs(xk,{children:[v.jsx(ro,{path:"/",element:v.jsx(_x,{to:"/dashboard",replace:!0})}),v.jsx(ro,{path:"/dashboard",element:v.jsx(oB,{})}),v.jsx(ro,{path:"/board/legacy/:yearId",element:v.jsx(DE,{})}),v.jsx(ro,{path:"/board/:boardId",element:v.jsx(DE,{})}),v.jsx(ro,{path:"/help",element:v.jsx(fB,{})}),v.jsx(ro,{path:"*",element:v.jsx(_x,{to:"/dashboard",replace:!0})})]})})]}):v.jsx(eB,{})};function mB(){return v.jsx(kj,{children:v.jsx(Jz,{children:v.jsx(lz,{children:v.jsx(dB,{})})})})}console.log("Main.tsx full run");const ME=document.getElementById("root");ME?EN.createRoot(ME).render(v.jsx(I.StrictMode,{children:v.jsx(mB,{})})):console.error("Root not found");export{ya as C,Os as F,$d as _,pn as a,iS as b,go as c,Li as d,pm as e,d0 as g,wo as i,c0 as p,As as r,u0 as u};
